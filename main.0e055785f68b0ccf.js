"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[179],{6217:(gn,nt,E)=>{E.d(nt,{nm:()=>Gr});var d=E(4976);E(2223),E(259);var ue=E(5861),Ie=E(6881),be=E(4859),Me=E(2090),$e=E(1877);const Z=new Map,We={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function ze(pt){return Z.get(pt)||Object.assign({},We)}function vn(){return Fe}const On="https://content-firebaseappcheck.googleapis.com/v1",Rt="exchangeDebugToken",Ft={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Yt{constructor(lt,Pt,nn,fn,on){if(this.operation=lt,this.retryPolicy=Pt,this.getWaitDuration=nn,this.lowerBound=fn,this.upperBound=on,this.pending=null,this.nextErrorWaitInterval=fn,fn>on)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(lt){var Pt=this;return(0,ue.Z)(function*(){Pt.stop();try{Pt.pending=new Me.BH,yield function dn(pt){return new Promise(lt=>{setTimeout(lt,pt)})}(Pt.getNextRun(lt)),Pt.pending.resolve(),yield Pt.pending.promise,Pt.pending=new Me.BH,yield Pt.operation(),Pt.pending.resolve(),yield Pt.pending.promise,Pt.process(!0).catch(()=>{})}catch(nn){Pt.retryPolicy(nn)?Pt.process(!1).catch(()=>{}):Pt.stop()}})()}getNextRun(lt){if(lt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Pt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Pt}}}const rn=new Me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ge(pt){if(!ze(pt).activated)throw rn.create("use-before-activation",{appName:pt.name})}function bt(pt,lt){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,ue.Z)(function*({url:pt,body:lt},Pt){const nn={"Content-Type":"application/json"},fn=Pt.getImmediate({optional:!0});if(fn){const Ki=yield fn.getHeartbeatsHeader();Ki&&(nn["X-Firebase-Client"]=Ki)}const on={method:"POST",body:JSON.stringify(lt),headers:nn};let Nn,si;try{Nn=yield fetch(pt,on)}catch(Ki){throw rn.create("fetch-network-error",{originalErrorMessage:Ki?.message})}if(200!==Nn.status)throw rn.create("fetch-status-error",{httpStatus:Nn.status});try{si=yield Nn.json()}catch(Ki){throw rn.create("fetch-parse-error",{originalErrorMessage:Ki?.message})}const bi=si.ttl.match(/^([\d.]+)(s)$/);if(!bi||!bi[2]||isNaN(Number(bi[1])))throw rn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${si.ttl}`});const Ur=1e3*Number(bi[1]),mr=Date.now();return{token:si.token,expireTimeMillis:mr+Ur,issuedAtTimeMillis:mr}})).apply(this,arguments)}function Xt(pt,lt){const{projectId:Pt,appId:nn,apiKey:fn}=pt.options;return{url:`${On}/projects/${Pt}/apps/${nn}:${Rt}?key=${fn}`,body:{debug_token:lt}}}const _n="firebase-app-check-database",Yn=1,gi="firebase-app-check-store";let Vt=null;function Ae(){return(Ae=(0,ue.Z)(function*(pt,lt){const nn=(yield function ce(){return Vt||(Vt=new Promise((pt,lt)=>{try{const Pt=indexedDB.open(_n,Yn);Pt.onsuccess=nn=>{pt(nn.target.result)},Pt.onerror=nn=>{var fn;lt(rn.create("storage-open",{originalErrorMessage:null===(fn=nn.target.error)||void 0===fn?void 0:fn.message}))},Pt.onupgradeneeded=nn=>{0===nn.oldVersion&&nn.target.result.createObjectStore(gi,{keyPath:"compositeKey"})}}catch(Pt){lt(rn.create("storage-open",{originalErrorMessage:Pt?.message}))}}),Vt)}()).transaction(gi,"readwrite"),on=nn.objectStore(gi).put({compositeKey:pt,value:lt});return new Promise((Nn,si)=>{on.onsuccess=bi=>{Nn()},nn.onerror=bi=>{var Ur;si(rn.create("storage-set",{originalErrorMessage:null===(Ur=bi.target.error)||void 0===Ur?void 0:Ur.message}))}})})).apply(this,arguments)}const Gt=new $e.Yd("@firebase/app-check");function _t(pt,lt){return(0,Me.hl)()?function ft(pt,lt){return function qe(pt,lt){return Ae.apply(this,arguments)}(function Wt(pt){return`${pt.options.appId}-${pt.name}`}(pt),lt)}(pt,lt).catch(Pt=>{Gt.warn(`Failed to write token to IndexedDB. Error: ${Pt}`)}):Promise.resolve()}function _i(){return vn().enabled}function ni(){return wi.apply(this,arguments)}function wi(){return(wi=(0,ue.Z)(function*(){const pt=vn();if(pt.enabled&&pt.token)return pt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Je={error:"UNKNOWN_ERROR"};function ot(pt){return Me.US.encodeString(JSON.stringify(pt),!1)}function Be(pt){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,ue.Z)(function*(pt,lt=!1){const Pt=pt.app;Ge(Pt);const nn=ze(Pt);let on,fn=nn.token;if(fn&&!z(fn)&&(nn.token=void 0,fn=void 0),!fn){const bi=yield nn.cachedTokenPromise;bi&&(z(bi)?fn=bi:yield _t(Pt,void 0))}if(!lt&&fn&&z(fn))return{token:fn.token};let si,Nn=!1;if(_i()){nn.exchangeTokenPromise||(nn.exchangeTokenPromise=bt(Xt(Pt,yield ni()),pt.heartbeatServiceProvider).finally(()=>{nn.exchangeTokenPromise=void 0}),Nn=!0);const bi=yield nn.exchangeTokenPromise;return yield _t(Pt,bi),nn.token=bi,{token:bi.token}}try{nn.exchangeTokenPromise||(nn.exchangeTokenPromise=nn.provider.getToken().finally(()=>{nn.exchangeTokenPromise=void 0}),Nn=!0),fn=yield ze(Pt).exchangeTokenPromise}catch(bi){"appCheck/throttled"===bi.code?Gt.warn(bi.message):Gt.error(bi),on=bi}return fn?on?si=z(fn)?{token:fn.token,internalError:on}:le(on):(si={token:fn.token},nn.token=fn,yield _t(Pt,fn)):si=le(on),Nn&&function U(pt,lt){const Pt=ze(pt).tokenObservers;for(const nn of Pt)try{"EXTERNAL"===nn.type&&null!=lt.error?nn.error(lt.error):nn.next(lt)}catch{}}(Pt,si),si})).apply(this,arguments)}function Se(pt){return Et.apply(this,arguments)}function Et(){return(Et=(0,ue.Z)(function*(pt){const lt=pt.app;Ge(lt);const{provider:Pt}=ze(lt);if(_i()){const nn=yield ni(),{token:fn}=yield bt(Xt(lt,nn),pt.heartbeatServiceProvider);return{token:fn}}{const{token:nn}=yield Pt.getToken();return{token:nn}}})).apply(this,arguments)}function Te(pt,lt){const Pt=ze(pt),nn=Pt.tokenObservers.filter(fn=>fn.next!==lt);0===nn.length&&Pt.tokenRefresher&&Pt.tokenRefresher.isRunning()&&Pt.tokenRefresher.stop(),Pt.tokenObservers=nn}function oe(pt){const{app:lt}=pt,Pt=ze(lt);let nn=Pt.tokenRefresher;nn||(nn=function H(pt){const{app:lt}=pt;return new Yt((0,ue.Z)(function*(){let nn;if(nn=ze(lt).token?yield Be(pt,!0):yield Be(pt),nn.error)throw nn.error;if(nn.internalError)throw nn.internalError}),()=>!0,()=>{const Pt=ze(lt);if(Pt.token){let nn=Pt.token.issuedAtTimeMillis+.5*(Pt.token.expireTimeMillis-Pt.token.issuedAtTimeMillis)+3e5;return nn=Math.min(nn,Pt.token.expireTimeMillis-3e5),Math.max(0,nn-Date.now())}return 0},Ft.RETRIAL_MIN_WAIT,Ft.RETRIAL_MAX_WAIT)}(pt),Pt.tokenRefresher=nn),!nn.isRunning()&&Pt.isTokenAutoRefreshEnabled&&nn.start()}function z(pt){return pt.expireTimeMillis-Date.now()>0}function le(pt){return{token:ot(Je),error:pt}}class re{constructor(lt,Pt){this.app=lt,this.heartbeatServiceProvider=Pt}_delete(){const{tokenObservers:lt}=ze(this.app);for(const Pt of lt)Te(this.app,Pt.next);return Promise.resolve()}}const Zo="app-check-internal";!function go(){(0,Ie._registerComponent)(new be.wA("app-check",pt=>function ye(pt,lt){return new re(pt,lt)}(pt.getProvider("app").getImmediate(),pt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((pt,lt,Pt)=>{pt.getProvider(Zo).initialize()})),(0,Ie._registerComponent)(new be.wA(Zo,pt=>function Ct(pt){return{getToken:lt=>Be(pt,lt),getLimitedUseToken:()=>Se(pt),addTokenListener:lt=>function Ht(pt,lt,Pt,nn){const{app:fn}=pt,on=ze(fn);if(on.tokenObservers=[...on.tokenObservers,{next:Pt,error:nn,type:lt}],on.token&&z(on.token)){const si=on.token;Promise.resolve().then(()=>{Pt({token:si.token}),oe(pt)}).catch(()=>{})}on.cachedTokenPromise.then(()=>oe(pt))}(pt,"INTERNAL",lt),removeTokenListener:lt=>Te(pt.app,lt)}}(pt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)("@firebase/app-check","0.8.0")}();class Gr{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},1205:(gn,nt,E)=>{E.d(nt,{zQ:()=>On,rT:()=>Fe,f7:()=>yt,L6:()=>Z,_Q:()=>We,lh:()=>ze,Qv:()=>$e,nw:()=>vn});var d=E(2223),L=E(7579),f=E(9646),ne=E(9751),xe=E(8996),ae=E(6451),Y=E(5363),_e=E(3900),Ee=E(4004),se=E(6063);class de extends L.x{constructor(Rt=1/0,Ft=1/0,qt=se.l){super(),this._bufferSize=Rt,this._windowTime=Ft,this._timestampProvider=qt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ft===1/0,this._bufferSize=Math.max(1,Rt),this._windowTime=Math.max(1,Ft)}next(Rt){const{isStopped:Ft,_buffer:qt,_infiniteTimeWindow:Yt,_timestampProvider:dn,_windowTime:pn}=this;Ft||(qt.push(Rt),!Yt&&qt.push(dn.now()+pn)),this._trimBuffer(),super.next(Rt)}_subscribe(Rt){this._throwIfClosed(),this._trimBuffer();const Ft=this._innerSubscribe(Rt),{_infiniteTimeWindow:qt,_buffer:Yt}=this,dn=Yt.slice();for(let pn=0;pn<dn.length&&!Rt.closed;pn+=qt?1:2)Rt.next(dn[pn]);return this._checkFinalizedStatuses(Rt),Ft}_trimBuffer(){const{_bufferSize:Rt,_timestampProvider:Ft,_buffer:qt,_infiniteTimeWindow:Yt}=this,dn=(Yt?1:2)*Rt;if(Rt<1/0&&dn<qt.length&&qt.splice(0,qt.length-dn),!Yt){const pn=Ft.now();let rn=0;for(let At=1;At<qt.length&&qt[At]<=pn;At+=2)rn=At;rn&&qt.splice(0,rn+1)}}}var me=E(3099);function Xe(ht,Rt,Ft){let qt,Yt=!1;return ht&&"object"==typeof ht?({bufferSize:qt=1/0,windowTime:Rt=1/0,refCount:Yt=!1,scheduler:Ft}=ht):qt=ht??1/0,(0,me.B)({connector:()=>new de(qt,Rt,Ft),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Yt})}var Ne=E(590),dt=E(576);function it(ht,Rt){return(0,dt.m)(Rt)?(0,_e.w)(()=>ht,Rt):(0,_e.w)(()=>ht)}var Le=E(9468),He=E(9300),Re=E(4976),wt=E(2011),ue=E(4755),Ie=E(6217);E(9260);const $e=new d.OlP("angularfire2.auth.use-emulator"),Z=new d.OlP("angularfire2.auth.settings"),We=new d.OlP("angularfire2.auth.tenant-id"),Fe=new d.OlP("angularfire2.auth.langugage-code"),ze=new d.OlP("angularfire2.auth.use-device-language"),yt=new d.OlP("angularfire.auth.persistence"),vn=(ht,Rt,Ft,qt,Yt,dn,pn,rn)=>(0,wt.cc)(`${ht.name}.auth`,"AngularFireAuth",ht.name,()=>{const At=Rt.runOutsideAngular(()=>ht.auth());if(Ft&&At.useEmulator(...Ft),qt&&(At.tenantId=qt),At.languageCode=Yt,dn&&At.useDeviceLanguage(),pn)for(const[Ge,Qe]of Object.entries(pn))At.settings[Ge]=Qe;return rn&&At.setPersistence(rn),At},[Ft,qt,Yt,dn,pn,rn]);let On=(()=>{class ht{constructor(Ft,qt,Yt,dn,pn,rn,At,Ge,Qe,kt,bt,Ut){const St=new L.x,cn=(0,f.of)(void 0).pipe((0,Y.Q)(pn.outsideAngular),(0,_e.w)(()=>dn.runOutsideAngular(()=>Promise.resolve().then(E.bind(E,9568)))),(0,Ee.U)(()=>(0,wt.on)(Ft,dn,qt)),(0,Ee.U)(Xt=>vn(Xt,dn,rn,Ge,Qe,kt,At,bt)),Xe({bufferSize:1,refCount:!1}));if((0,ue.PM)(Yt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,f.of)(null);else{cn.pipe((0,Ne.P)()).subscribe();const _n=cn.pipe((0,_e.w)(Wn=>Wn.getRedirectResult().then(Vt=>Vt,()=>null)),Re.iC,Xe({bufferSize:1,refCount:!1})),Yn=cn.pipe((0,_e.w)(Wn=>new ne.y(Vt=>({unsubscribe:dn.runOutsideAngular(()=>Wn.onAuthStateChanged(ce=>Vt.next(ce),ce=>Vt.error(ce),()=>Vt.complete()))})))),gi=cn.pipe((0,_e.w)(Wn=>new ne.y(Vt=>({unsubscribe:dn.runOutsideAngular(()=>Wn.onIdTokenChanged(ce=>Vt.next(ce),ce=>Vt.error(ce),()=>Vt.complete()))}))));this.authState=_n.pipe(it(Yn),(0,Le.R)(pn.outsideAngular),(0,Y.Q)(pn.insideAngular)),this.user=_n.pipe(it(gi),(0,Le.R)(pn.outsideAngular),(0,Y.Q)(pn.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Wn=>Wn?(0,xe.D)(Wn.getIdToken()):(0,f.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Wn=>Wn?(0,xe.D)(Wn.getIdTokenResult()):(0,f.of)(null))),this.credential=(0,ae.T)(_n,St,this.authState.pipe((0,He.h)(Wn=>!Wn))).pipe((0,Ee.U)(Wn=>Wn?.user?Wn:null),(0,Le.R)(pn.outsideAngular),(0,Y.Q)(pn.insideAngular))}return(0,wt.pX)(this,cn,dn,{spy:{apply:(Xt,_n,Yn)=>{(Xt.startsWith("signIn")||Xt.startsWith("createUser"))&&Yn.then(gi=>St.next(gi))}}})}}return ht.\u0275fac=function(Ft){return new(Ft||ht)(d.LFG(wt.Dh),d.LFG(wt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Re.HU),d.LFG($e,8),d.LFG(Z,8),d.LFG(We,8),d.LFG(Fe,8),d.LFG(ze,8),d.LFG(yt,8),d.LFG(Ie.nm,8))},ht.\u0275prov=d.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"any"}),ht})()},1762:(gn,nt,E)=>{E.d(nt,{ST:()=>qv,yb:()=>Au});var d=E(2223),L=E(4986),f=E(9751),ne=E(8996),xe=E(9646),ae=E(4976),Y=E(8675),_e=E(4482),Ee=E(5403);function se(){return(0,_e.e)((r,e)=>{let t,o=!1;r.subscribe((0,Ee.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var Z,de=E(4004),me=E(5026),Xe=E(1884),Ne=E(9300),dt=E(2011),it=E(4755),He=(E(9568),E(3942)),Re=E(5861),wt=E(6881),ue=E(4859),Ie=E(1877),be=E(2090),Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={},We=We||{},Fe=Me||self;function ze(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function yt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var On="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function ht(r,e,t){return r.call.apply(r.bind,arguments)}function Rt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ft(r,e,t){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:Rt).apply(null,arguments)}function qt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Yt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var p=Array(arguments.length-2),k=2;k<arguments.length;k++)p[k-2]=arguments[k];return e.prototype[a].apply(o,p)}}function dn(){this.s=this.s,this.o=this.o}dn.prototype.s=!1,dn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vn(r){Object.prototype.hasOwnProperty.call(r,On)&&r[On]||(r[On]=++ut)}(this)},dn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function At(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Ge(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ze(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let p=0;p<u;p++)r[a+p]=o[p]}else r.push(o)}}function Qe(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var kt=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Fe.addEventListener("test",()=>{},e),Fe.removeEventListener("test",()=>{},e)}catch{}return r}();function bt(r){return/^[\s\xa0]*$/.test(r)}function Ut(){var r=Fe.navigator;return r&&(r=r.userAgent)?r:""}function St(r){return-1!=Ut().indexOf(r)}function cn(r){return cn[" "](r),r}cn[" "]=function(){};var ft,r,_n=St("Opera"),Yn=St("Trident")||St("MSIE"),gi=St("Edge"),Wn=gi||Yn,Vt=St("Gecko")&&!(-1!=Ut().toLowerCase().indexOf("webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),ce=-1!=Ut().toLowerCase().indexOf("webkit")&&!St("Edge");function Ve(){var r=Fe.document;return r?r.documentMode:void 0}e:{var st="",Ke=(r=Ut(),Vt?/rv:([^\);]+)(\)|;)/.exec(r):gi?/Edge\/([\d\.]+)/.exec(r):Yn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ce?/WebKit\/(\S+)/.exec(r):_n?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ke&&(st=Ke?Ke[1]:""),Yn){var qe=Ve();if(null!=qe&&qe>parseFloat(st)){ft=String(qe);break e}}ft=st}var ln=Fe.document&&Yn&&(Ve()||parseInt(ft,10))||void 0;function Wt(r,e){if(Qe.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Vt){e:{try{cn(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Gt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Wt.$.h.call(this)}}Yt(Wt,Qe);var Gt={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Rn="closure_listenable_"+(1e6*Math.random()|0),ke=0;function _t(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++ke,this.fa=this.ia=!1}function $t(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Sn(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function ni(r){const e={};for(const t in r)e[t]=r[t];return e}const wi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kt(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<wi.length;u++)t=wi[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Je(r){this.src=r,this.g={},this.h=0}function ot(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=rn(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&($t(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Be(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}Je.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var p=Be(r,e,o,a);return-1<p?(e=r[p],t||(e.ia=!1)):((e=new _t(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var Oe="closure_lm_"+(1e6*Math.random()|0),Se={};function Et(r,e,t,o,a){if(o&&o.once)return oe(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Et(r,e[u],t,o,a);return null}return t=Ct(t),r&&r[Rn]?r.O(e,t,yt(o)?!!o.capture:!!o,a):Ht(r,e,t,!1,o,a)}function Ht(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var p=yt(a)?!!a.capture:!!a,k=re(r);if(k||(r[Oe]=k=new Je(r)),(t=k.add(e,t,o,p,u)).proxy)return t;if(o=function Te(){const e=le;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)kt||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent(z(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function oe(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)oe(r,e[u],t,o,a);return null}return t=Ct(t),r&&r[Rn]?r.P(e,t,yt(o)?!!o.capture:!!o,a):Ht(r,e,t,!0,o,a)}function H(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)H(r,e[u],t,o,a);else o=yt(o)?!!o.capture:!!o,t=Ct(t),r&&r[Rn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Be(u=r.g[e],t,o,a))&&($t(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=re(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Be(e,t,o,a)),(t=-1<r?e[r]:null)&&U(t))}function U(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Rn])ot(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(z(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=re(e))?(ot(t,r),0==t.h&&(t.src=null,e[Oe]=null)):$t(r)}}}function z(r){return r in Se?Se[r]:Se[r]="on"+r}function le(r,e){if(r.fa)r=!0;else{e=new Wt(e,this);var t=r.listener,o=r.la||r.src;r.ia&&U(r),r=t.call(o,e)}return r}function re(r){return(r=r[Oe])instanceof Je?r:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(r){return"function"==typeof r?r:(r[ye]||(r[ye]=function(e){return r.handleEvent(e)}),r[ye])}function xt(){dn.call(this),this.i=new Je(this),this.S=this,this.J=null}function Ot(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new Qe(e,r);else if(e instanceof Qe)e.target=e.target||r;else{var a=e;Kt(e=new Qe(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var p=e.g=t[u];a=en(p,o,!0,e)&&a}if(a=en(p=e.g=r,o,!0,e)&&a,a=en(p,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=en(p=e.g=t[u],o,!1,e)&&a}function en(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var p=e[u];if(p&&!p.fa&&p.capture==t){var k=p.listener,$=p.la||p.src;p.ia&&ot(r.i,p),a=!1!==k.call($,o)&&a}}return a&&!o.defaultPrevented}Yt(xt,dn),xt.prototype[Rn]=!0,xt.prototype.removeEventListener=function(r,e,t,o){H(this,r,e,t,o)},xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)$t(t[o]);delete r.g[e],r.h--}}this.J=null},xt.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},xt.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var ti=Fe.JSON.stringify;function Ai(){var r=hi;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Bt=new class An{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Tt,r=>r.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Qn(r){Fe.setTimeout(()=>{throw r},0)}let Pn,jn=!1,hi=new class Si{constructor(){this.h=this.g=null}add(e,t){const o=Bt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},sr=()=>{const r=Fe.Promise.resolve(void 0);Pn=()=>{r.then(Ti)}};var Ti=()=>{for(var r;r=Ai();){try{r.h.call(r.g)}catch(t){Qn(t)}var e=Bt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}jn=!1};function Ir(r,e){xt.call(this),this.h=r||1,this.g=e||Fe,this.j=Ft(this.qb,this),this.l=Date.now()}function mo(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function bo(r,e,t){if("function"==typeof r)t&&(r=Ft(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ft(r.handleEvent,r)}return 2147483647<Number(e)?-1:Fe.setTimeout(r,e||0)}function _s(r){r.g=bo(()=>{r.g=null,r.i&&(r.i=!1,_s(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Yt(Ir,xt),(Z=Ir.prototype).ga=!1,Z.T=null,Z.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ot(this,"tick"),this.ga&&(mo(this),this.start()))}},Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Z.N=function(){Ir.$.N.call(this),mo(this),delete this.g};class er extends dn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(r){dn.call(this),this.h=r,this.g={}}Yt(to,dn);var kr=[];function $r(r,e,t,o){Array.isArray(t)||(t&&(kr[0]=t.toString()),t=kr);for(var a=0;a<t.length;a++){var u=Et(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function uo(r){Sn(r.g,function(e,t){this.g.hasOwnProperty(t)&&U(e)},r),r.g={}}function yi(){this.g=!0}function no(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gr(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var p=1;p<a.length;p++)a[p]=""}}}return ti(t)}catch{return e}}(r,t)+(o?" "+o:"")})}to.prototype.N=function(){to.$.N.call(this),uo(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yi.prototype.Ea=function(){this.g=!1},yi.prototype.info=function(){};var io={},So=null;function js(){return So=So||new xt}function vs(r){Qe.call(this,io.Ta,r)}function Yo(r){const e=js();Ot(e,new vs(e))}function ro(r,e){Qe.call(this,io.STAT_EVENT,r),this.stat=e}function Or(r){const e=js();Ot(e,new ro(e,r))}function ts(r,e){Qe.call(this,io.Ua,r),this.size=e}function ns(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){r()},e)}io.Ta="serverreachability",Yt(vs,Qe),io.STAT_EVENT="statevent",Yt(ro,Qe),io.Ua="timingevent",Yt(ts,Qe);var fi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Sr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fi(){}function Rr(){}Fi.prototype.h=null;var Pt,To={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pt(){Qe.call(this,"d")}function lt(){Qe.call(this,"c")}function nn(){}function fn(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new to(this),this.P=Nn,this.V=new Ir(r=Wn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new on}function on(){this.i=null,this.g="",this.h=!1}Yt(pt,Qe),Yt(lt,Qe),Yt(nn,Fi),nn.prototype.g=function(){return new XMLHttpRequest},nn.prototype.i=function(){return{}},Pt=new nn;var Nn=45e3,si={},bi={};function Ur(r,e,t){r.L=1,r.v=ko(ar(e)),r.s=t,r.S=!0,mr(r,null)}function mr(r,e){r.G=Date.now(),Kr(r),r.A=ar(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),nr(t.i,"t",o),r.C=0,t=r.l.J,r.h=new on,r.g=ua(r.l,t?e:null,!r.s),0<r.O&&(r.M=new er(Ft(r.Pa,r,r.g),r.O)),$r(r.U,r.g,"readystatechange",r.nb),e=r.I?ni(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Yo(),function Zo(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var p="",k=u.split("&"),$=0;$<k.length;$++){var X=k[$].split("=");if(1<X.length){var ge=X[0];X=X[1];var tt=ge.split("_");p=2<=tt.length&&"type"==tt[1]?p+(ge+"=")+X+"&":p+(ge+"=redacted&")}}else p=null;else p=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Ki(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function ki(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=Tr(r,t),a==bi){4==e&&(r.o=4,Or(14),o=!1),no(r.j,r.m,null,"[Incomplete Response]");break}if(a==si){r.o=4,Or(15),no(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}no(r.j,r.m,a,null),Qi(r,a)}Ki(r)&&a!=bi&&a!=si&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Or(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ba(e),e.M=!0,Or(11))):(no(r.j,r.m,t,"[Invalid Chunked Response]"),Pr(r),_o(r))}function Tr(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?bi:(t=Number(e.substring(t,o)),isNaN(t)?si:(o+=1)+t>e.length?bi:(e=e.slice(o,o+t),r.C=o+t,e))}function Kr(r){r.Y=Date.now()+r.P,ci(r,r.P)}function ci(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ns(Ft(r.lb,r),e)}function Mo(r){r.B&&(Fe.clearTimeout(r.B),r.B=null)}function _o(r){0==r.l.H||r.J||ea(r.l,r)}function Pr(r){Mo(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,mo(r.V),uo(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Qi(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||un(t.i,r)))if(!r.K&&un(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;da(t),Ds(t)}Fo(t),Or(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=ns(Ft(t.ib,t),6e3));if(1>=rt(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Is(t,11)}else if((r.K||t.g==r)&&da(t),!bt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let X=a[e];if(t.V=X[0],X=X[1],2==t.H)if("c"==X[0]){t.K=X[1],t.pa=X[2];const ge=X[3];null!=ge&&(t.ra=ge,t.l.info("VER="+t.ra));const tt=X[4];null!=tt&&(t.Ga=tt,t.l.info("SVER="+t.Ga));const Zt=X[5];null!=Zt&&"number"==typeof Zt&&0<Zt&&(t.L=o=1.5*Zt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const mn=r.g;if(mn){const Bn=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bn){var u=o.i;u.g||-1==Bn.indexOf("spdy")&&-1==Bn.indexOf("quic")&&-1==Bn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(xn(u,u.h),u.h=null))}if(o.F){const Xn=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xn&&(o.Da=Xn,tr(o.I,o.F,Xn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=r;if((o=t).wa=ta(o,o.J?o.pa:null,o.Y),p.K){Mi(o.i,p);var k=p,$=o.L;$&&k.setTimeout($),k.B&&(Mo(k),Kr(k)),o.g=p}else _l(o);0<t.j.length&&Us(t)}else"stop"!=X[0]&&"close"!=X[0]||Is(t,7);else 3==t.H&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?Is(t,7):as(t):"noop"!=X[0]&&t.h&&t.h.Aa(X),t.A=0)}Yo()}catch{}}function rs(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ze(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function is(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ze(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Vo(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ze(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(Z=fn.prototype).setTimeout=function(r){this.P=r},Z.nb=function(r){r=r.target;const e=this.M;e&&3==vr(r)?e.l():this.Pa(r)},Z.Pa=function(r){try{if(r==this.g)e:{const ge=vr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ge)&&(3!=ge||Wn||this.g&&(this.h.h||this.g.ja()||Oi(this.g)))){this.J||4!=ge||7==e||Yo(),Mo(this);var t=this.g.da();this.ca=t;t:if(Ki(this)){var o=Oi(this.g);r="";var a=o.length,u=4==vr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),_o(this);var p="";break t}this.h.i=new Fe.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function go(r,e,t,o,a,u,p){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+p})}(this.j,this.u,this.A,this.m,this.W,ge,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var k,$=this.g;if((k=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(k)){var X=k;break t}}X=null}if(!(t=X)){this.i=!1,this.o=3,Or(12),Pr(this),_o(this);break e}no(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qi(this,t)}this.S?(ki(this,ge,p),Wn&&this.i&&3==ge&&($r(this.U,this.V,"tick",this.mb),this.V.start())):(no(this.j,this.m,p,null),Qi(this,p)),4==ge&&Pr(this),this.i&&!this.J&&(4==ge?ea(this.l,this):(this.i=!1,Kr(this)))}else(function Po(r){const e={};r=(r.g&&2<=vr(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(bt(r[o]))continue;var t=wn(r[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[a]||[];e[a]=u,u.push(t)}!function _i(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),Pr(this),_o(this)}}}catch{}},Z.mb=function(){if(this.g){var r=vr(this.g),e=this.g.ja();this.C<e.length&&(Mo(this),ki(this,r,e),this.i&&4!=r&&Kr(this))}},Z.cancel=function(){this.J=!0,Pr(this)},Z.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function hr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yo(),Or(17)),Pr(this),this.o=2,_o(this)):ci(this,this.Y-r)};var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Hi){this.h=r.h,Cs(this,r.j),this.s=r.s,this.g=r.g,Ao(this,r.m),this.l=r.l;var e=r.i,t=new wr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zi(this,t),this.o=r.o}else r&&(e=String(r).match(os))?(this.h=!1,Cs(this,e[1]||"",!0),this.s=qo(e[2]||""),this.g=qo(e[3]||"",!0),Ao(this,e[4]),this.l=qo(e[5]||"",!0),zi(this,e[6]||"",!0),this.o=qo(e[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}function ar(r){return new Hi(r)}function Cs(r,e,t){r.j=t?qo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ao(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function zi(r,e,t){e instanceof wr?(r.i=e,function zo(r,e){e&&!r.j&&(po(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(Mr(this,o),nr(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Zr(e,jo)),r.i=new wr(e,r.h))}function tr(r,e,t){r.i.set(e,t)}function ko(r){return tr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function qo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Zr(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ss),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ss(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Hi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Zr(e,Bs,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Zr(e,Bs,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Zr(t,"/"==t.charAt(0)?br:ks,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Zr(t,qi)),r.join("")};var Bs=/[#\/\?@]/g,ks=/[#\?:]/g,br=/[#\?]/g,jo=/[#\?@]/g,qi=/#/g;function wr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function po(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ls(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Mr(r,e){po(r),e=Oo(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Ho(r,e){return po(r),e=Oo(r,e),r.g.has(e)}function nr(r,e,t){Mr(r,e),0<t.length&&(r.i=null,r.g.set(Oo(r,e),At(t)),r.h+=t.length)}function Oo(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ze(r){this.l=r||je,r=Fe.PerformanceNavigationTiming?0<(r=Fe.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Fe.g&&Fe.g.Ka&&Fe.g.Ka()&&Fe.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Z=wr.prototype).add=function(r,e){po(this),this.i=null,r=Oo(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Z.forEach=function(r,e){po(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},Z.ta=function(){po(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},Z.Z=function(r){po(this);let e=[];if("string"==typeof r)Ho(this,r)&&(e=e.concat(this.g.get(Oo(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Z.set=function(r,e){return po(this),this.i=null,Ho(this,r=Oo(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Z.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),p=this.Z(o);for(o=0;o<p.length;o++){var a=u;""!==p[o]&&(a+="="+encodeURIComponent(String(p[o]))),r.push(a)}}return this.i=r.join("&")};var je=10;function K(r){return!!r.h||!!r.g&&r.g.size>=r.j}function rt(r){return r.h?1:r.g?r.g.size:0}function un(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function xn(r,e){r.g?r.g.add(e):r.h=e}function Mi(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function pr(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return At(r.i)}Ze.prototype.cancel=function(){if(this.i=pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Fr=class{stringify(r){return Fe.JSON.stringify(r,void 0)}parse(r){return Fe.JSON.parse(r,void 0)}};function wo(){this.g=new Fr}function Nr(r,e,t){const o=t||"";try{rs(r,function(a,u){let p=a;yt(a)&&(p=ti(a)),e.push(o+u+"="+encodeURIComponent(p))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function Os(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function W(r){this.l=r.fc||null,this.j=r.ob||!1}function j(r,e){xt.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(W,Fi),W.prototype.g=function(){return new j(this.l,this.j)},W.prototype.i=function(r){return function(){return r}}({}),Yt(j,xt);var v=0;function C(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function J(r){r.readyState=4,r.l=null,r.j=null,r.A=null,De(r)}function De(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Z=j.prototype).open=function(r,e){if(this.readyState!=v)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,De(this)},Z.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,J(this)),this.readyState=v},Z.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,De(this)),this.g&&(this.readyState=3,De(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Z.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?J(this):De(this),3==this.readyState&&C(this)}},Z.Za=function(r){this.g&&(this.response=this.responseText=r,J(this))},Z.Ya=function(r){this.g&&(this.response=r,J(this))},Z.ka=function(){this.g&&J(this)},Z.setRequestHeader=function(r,e){this.v.append(r,e)},Z.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Z.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(j.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ct=Fe.JSON.parse;function Nt(r){xt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dn,this.L=this.M=!1}Yt(Nt,xt);var Dn="",Kn=/^https?$/i,Hn=["POST","PUT"];function Ni(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,gr(r),_r(r)}function gr(r){r.F||(r.F=!0,Ot(r,"complete"),Ot(r,"error"))}function Vr(r){if(r.h&&typeof We<"u"&&(!r.C[1]||4!=vr(r)||2!=r.da()))if(r.v&&4==vr(r))bo(r.La,0,r);else if(Ot(r,"readystatechange"),4==vr(r)){r.h=!1;try{const p=r.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===p){var a=String(r.I).match(os)[1]||null;!a&&Fe.self&&Fe.self.location&&(a=Fe.self.location.protocol.slice(0,-1)),o=!Kn.test(a?a.toLowerCase():"")}t=o}if(t)Ot(r,"complete"),Ot(r,"success");else{r.m=6;try{var u=2<vr(r)?r.g.statusText:""}catch{u=""}r.j=u+" ["+r.da()+"]",gr(r)}}finally{_r(r)}}}function _r(r,e){if(r.g){Wi(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Ot(r,"ready");try{t.onreadystatechange=o}catch{}}}function Wi(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Fe.clearTimeout(r.A),r.A=null)}function vr(r){return r.g?r.g.readyState:0}function Oi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Dn:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function oo(r){let e="";return Sn(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Lr(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=oo(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):tr(r,e,t))}function Br(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function xo(r){this.Ga=0,this.j=[],this.l=new yi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Br("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Br("baseRetryDelayMs",5e3,r),this.hb=Br("retryDelaySeedMs",1e4,r),this.eb=Br("forwardChannelMaxRetries",2,r),this.xa=Br("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ze(r&&r.concurrentRequestLimit),this.Ja=new wo,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function as(r){if(ys(r),3==r.H){var e=r.W++,t=ar(r.I);if(tr(t,"SID",r.K),tr(t,"RID",e),tr(t,"TYPE","terminate"),Ta(r,t),(e=new fn(r,r.l,e)).L=2,e.v=ko(ar(t)),t=!1,Fe.navigator&&Fe.navigator.sendBeacon)try{t=Fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=ua(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Kr(e)}Ma(r)}function Ds(r){r.g&&(ba(r),r.g.cancel(),r.g=null)}function ys(r){Ds(r),r.u&&(Fe.clearTimeout(r.u),r.u=null),da(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Fe.clearTimeout(r.m),r.m=null)}function Us(r){if(!K(r.i)&&!r.m){r.m=!0;var e=r.Na;Pn||sr(),jn||(Pn(),jn=!0),hi.add(e,r),r.C=0}}function ca(r,e){var t;t=e?e.m:r.W++;const o=ar(r.I);tr(o,"SID",r.K),tr(o,"RID",t),tr(o,"AID",r.V),Ta(r,o),r.o&&r.s&&Lr(o,r.o,r.s),t=new fn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=so(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),xn(r.i,t),Ur(t,o,e)}function Ta(r,e){r.na&&Sn(r.na,function(t,o){tr(e,o,t)}),r.h&&rs({},function(t,o){tr(e,o,t)})}function so(r,e,t){t=Math.min(r.j.length,t);var o=r.h?Ft(r.h.Va,r.h,r):null;e:{var a=r.j;let u=-1;for(;;){const p=["count="+t];-1==u?0<t?(u=a[0].g,p.push("ofs="+u)):u=0:p.push("ofs="+u);let k=!0;for(let $=0;$<t;$++){let X=a[$].g;const ge=a[$].map;if(X-=u,0>X)u=Math.max(0,a[$].g-100),k=!1;else try{Nr(ge,p,"req"+X+"_")}catch{o&&o(ge)}}if(k){o=p.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function _l(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Pn||sr(),jn||(Pn(),jn=!0),hi.add(e,r),r.A=0}}function Fo(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=ns(Ft(r.Ma,r),wa(r,r.A)),r.A++,0))}function ba(r){null!=r.B&&(Fe.clearTimeout(r.B),r.B=null)}function Hs(r){r.g=new fn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ar(r.wa);tr(e,"RID","rpc"),tr(e,"SID",r.K),tr(e,"AID",r.V),tr(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&tr(e,"TO",r.qa),tr(e,"TYPE","xmlhttp"),Ta(r,e),r.o&&r.s&&Lr(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=ko(ar(e)),t.s=null,t.S=!0,mr(t,r)}function da(r){null!=r.v&&(Fe.clearTimeout(r.v),r.v=null)}function ea(r,e){var t=null;if(r.g==e){da(r),ba(r),r.g=null;var o=2}else{if(!un(r.i,e))return;t=e.F,Mi(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Ot(o=js(),new ts(o,t)),Us(r)}else _l(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function la(r,e){return!(rt(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=ns(Ft(r.Na,r,e),wa(r,r.C)),r.C++,0)))}(r,e)||2==o&&Fo(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Is(r,5);break;case 4:Is(r,10);break;case 3:Is(r,6);break;default:Is(r,2)}}function wa(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Is(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=Ft(r.pb,r);t||(t=new Hi("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||Cs(t,"https"),ko(t)),function Ro(r,e){const t=new yi;if(Fe.Image){const o=new Image;o.onload=qt(Os,t,o,"TestLoadImage: loaded",!0,e),o.onerror=qt(Os,t,o,"TestLoadImage: error",!1,e),o.onabort=qt(Os,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=qt(Os,t,o,"TestLoadImage: timeout",!1,e),Fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Or(2);r.H=0,r.h&&r.h.za(e),Ma(r),ys(r)}function Ma(r){if(r.H=0,r.ma=[],r.h){const e=pr(r.i);(0!=e.length||0!=r.j.length)&&(Ge(r.ma,e),Ge(r.ma,r.j),r.i.i.length=0,At(r.j),r.j.length=0),r.h.ya()}}function ta(r,e,t){var o=t instanceof Hi?ar(t):new Hi(t);if(""!=o.g)e&&(o.g=e+"."+o.g),Ao(o,o.m);else{var a=Fe.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new Hi(null);o&&Cs(u,o),e&&(u.g=e),a&&Ao(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&tr(o,t,e),tr(o,"VER",r.ra),Ta(r,o),o}function ua(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nt(t&&r.Ha&&!r.va?new W({ob:!0}):r.va)).Oa(r.J),e}function Ra(){}function Zs(){if(Yn&&!(10<=Number(ln)))throw Error("Environmental error: no available transport.")}function ls(r,e){xt.call(this),this.g=new xo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!bt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ds(this)}function cs(r){pt.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Qo(){lt.call(this),this.status=1}function ds(r){this.g=r}function Eo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ys(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],p=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;p=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(p<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((u=(e=t+((p=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=u+((p=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Li(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(Z=Nt.prototype).Oa=function(r){this.M=r},Z.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pt.g(),this.C=function Wr(r){return r.h||(r.h=r.i())}(this.u?this.u:Pt),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void Ni(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=Fe.FormData&&r instanceof Fe.FormData,!(0<=rn(Hn,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,p]of t)this.g.setRequestHeader(u,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wi(this),0<this.B&&((this.L=function xi(r){return Yn&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=bo(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Ni(this,u)}},Z.ua=function(){typeof We<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))},Z.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ot(this,"complete"),Ot(this,"abort"),_r(this))},Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_r(this,!0)),Nt.$.N.call(this)},Z.La=function(){this.s||(this.G||this.v||this.l?Vr(this):this.kb())},Z.kb=function(){Vr(this)},Z.isActive=function(){return!!this.g},Z.da=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Z.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ct(e)}},Z.Ia=function(){return this.m},Z.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Z=xo.prototype).ra=8,Z.H=1,Z.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new fn(this,this.l,r);let u=this.s;if(this.U&&(u?(u=ni(u),Kt(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=so(this,a,e),tr(t=ar(this.I),"RID",r),tr(t,"CVER",22),this.F&&tr(t,"X-HTTP-Session-Id",this.F),Ta(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(oo(u)))+"&"+e:this.o&&Lr(t,this.o,u)),xn(this.i,a),this.bb&&tr(t,"TYPE","init"),this.P?(tr(t,"$req",e),tr(t,"SID","null"),a.aa=!0,Ur(a,t,null)):Ur(a,t,e),this.H=2}}else 3==this.H&&(r?ca(this,r):0==this.j.length||K(this.i)||ca(this))},Z.Ma=function(){if(this.u=null,Hs(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=ns(Ft(this.jb,this),r)}},Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Or(10),Ds(this),Hs(this))},Z.ib=function(){null!=this.v&&(this.v=null,Ds(this),Fo(this),Or(19))},Z.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Or(2)):(this.l.info("Failed to ping google.com"),Or(1))},Z.isActive=function(){return!!this.h&&this.h.isActive(this)},(Z=Ra.prototype).Ba=function(){},Z.Aa=function(){},Z.za=function(){},Z.ya=function(){},Z.isActive=function(){return!0},Z.Va=function(){},Zs.prototype.g=function(r,e){return new ls(r,e)},Yt(ls,xt),ls.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Or(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=ta(r,null,r.Y),Us(r)},ls.prototype.close=function(){as(this.g)},ls.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=ti(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Us(e)},ls.prototype.N=function(){this.g.h=null,delete this.j,as(this.g),delete this.g,ls.$.N.call(this)},Yt(cs,pt),Yt(Qo,lt),Yt(ds,Ra),ds.prototype.Ba=function(){Ot(this.g,"a")},ds.prototype.Aa=function(r){Ot(this.g,new cs(r))},ds.prototype.za=function(r){Ot(this.g,new Qo)},ds.prototype.ya=function(){Ot(this.g,"b")},Yt(Eo,function lr(){this.blockSize=-1}),Eo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Eo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)Ys(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){Ys(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){Ys(this,o),a=0;break}}this.h=a,this.i+=e},Eo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var ha={};function R(r){return-128<=r&&128>r?function Xt(r,e){var t=ha;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Li([0|e],0>e?-1:0)}):new Li([0|r],0>r?-1:0)}function Q(r){if(isNaN(r)||!isFinite(r))return Ye;if(0>r)return Pi(Q(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=fe;return new Li(e,0)}var fe=4294967296,Ye=R(0),Qt=R(1),hn=R(16777216);function qn(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Zi(r){return-1==r.h}function Pi(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Li(t,~r.h).add(Qt)}function Ei(r,e){return r.add(Pi(e))}function Ci(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ir(r,e){this.g=r,this.h=e}function zn(r,e){if(qn(e))throw Error("division by zero");if(qn(r))return new ir(Ye,Ye);if(Zi(r))return e=zn(Pi(r),e),new ir(Pi(e.g),Pi(e.h));if(Zi(e))return e=zn(r,Pi(e)),new ir(Pi(e.g),e.h);if(30<r.g.length){if(Zi(r)||Zi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Qt,o=e;0>=o.X(r);)t=Yr(t),o=Yr(o);var a=bs(t,1),u=bs(o,1);for(o=bs(o,2),t=bs(t,2);!qn(o);){var p=u.add(o);0>=p.X(r)&&(a=a.add(t),u=p),o=bs(o,1),t=bs(t,1)}return e=Ei(r,a.R(e)),new ir(a,e)}for(a=Ye;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),p=(u=Q(t)).R(e);Zi(p)||0<p.X(r);)p=(u=Q(t-=o)).R(e);qn(u)&&(u=Qt),a=a.add(u),r=Ei(r,p)}return new ir(a,r)}function Yr(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Li(t,r.h)}function bs(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Li(a,r.h)}(Z=Li.prototype).ea=function(){if(Zi(this))return-Pi(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:fe+o)*e,e*=fe}return r},Z.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(qn(this))return"0";if(Zi(this))return"-"+Pi(this).toString(r);for(var e=Q(Math.pow(r,6)),t=this,o="";;){var a=zn(t,e).g,u=((0<(t=Ei(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(qn(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},Z.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Z.X=function(r){return Zi(r=Ei(this,r))?-1:qn(r)?0:1},Z.abs=function(){return Zi(this)?Pi(this):this},Z.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),p=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=p>>>16,t[a]=(p&=65535)<<16|(u&=65535)}return new Li(t,-2147483648&t[t.length-1]?-1:0)},Z.R=function(r){if(qn(this)||qn(r))return Ye;if(Zi(this))return Zi(r)?Pi(this).R(Pi(r)):Pi(Pi(this).R(r));if(Zi(r))return Pi(this.R(Pi(r)));if(0>this.X(hn)&&0>r.X(hn))return Q(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,p=65535&this.D(o),k=r.D(a)>>>16,$=65535&r.D(a);t[2*o+2*a]+=p*$,Ci(t,2*o+2*a),t[2*o+2*a+1]+=u*$,Ci(t,2*o+2*a+1),t[2*o+2*a+1]+=p*k,Ci(t,2*o+2*a+1),t[2*o+2*a+2]+=u*k,Ci(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Li(t,0)},Z.gb=function(r){return zn(this,r).h},Z.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Li(t,this.h&r.h)},Z.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Li(t,this.h|r.h)},Z.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Li(t,this.h^r.h)},Zs.prototype.createWebChannel=Zs.prototype.g,ls.prototype.send=ls.prototype.u,ls.prototype.open=ls.prototype.m,ls.prototype.close=ls.prototype.close,fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,Sr.COMPLETE="complete",Rr.EventType=To,To.OPEN="a",To.CLOSE="b",To.ERROR="c",To.MESSAGE="d",xt.prototype.listen=xt.prototype.O,Nt.prototype.listenOnce=Nt.prototype.P,Nt.prototype.getLastError=Nt.prototype.Sa,Nt.prototype.getLastErrorCode=Nt.prototype.Ia,Nt.prototype.getStatus=Nt.prototype.da,Nt.prototype.getResponseJson=Nt.prototype.Wa,Nt.prototype.getResponseText=Nt.prototype.ja,Nt.prototype.send=Nt.prototype.ha,Nt.prototype.setWithCredentials=Nt.prototype.Oa,Eo.prototype.digest=Eo.prototype.l,Eo.prototype.reset=Eo.prototype.reset,Eo.prototype.update=Eo.prototype.j,Li.prototype.add=Li.prototype.add,Li.prototype.multiply=Li.prototype.R,Li.prototype.modulo=Li.prototype.gb,Li.prototype.compare=Li.prototype.X,Li.prototype.toNumber=Li.prototype.ea,Li.prototype.toString=Li.prototype.toString,Li.prototype.getBits=Li.prototype.D,Li.fromNumber=Q,Li.fromString=function B(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Pi(B(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Q(Math.pow(e,8)),o=Ye,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),p=parseInt(r.substring(a,a+u),e);8>u?(u=Q(Math.pow(e,u)),o=o.R(u).add(Q(p))):o=(o=o.R(t)).add(Q(p))}return o};var qr=$e.createWebChannelTransport=function(){return new Zs},xa=$e.getStatEventTarget=function(){return js()},No=$e.ErrorCode=fi,qs=$e.EventType=Sr,us=$e.Event=io,ws=$e.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rl=$e.FetchXmlHttpFactory=W,fa=$e.WebChannel=Rr,vl=$e.XhrIo=Nt,yl=$e.Md5=Eo,En=$e.Integer=Li;const cr="@firebase/firestore";class vo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vo.UNAUTHENTICATED=new vo(null),vo.GOOGLE_CREDENTIALS=new vo("google-credentials-uid"),vo.FIRST_PARTY=new vo("first-party-uid"),vo.MOCK_USER=new vo("mock-user");let hs="9.22.2";const Qr=new Ie.Yd("@firebase/firestore");function Pa(){return Qr.logLevel}function In(r,...e){if(Qr.logLevel<=Ie.in.DEBUG){const t=e.map(Xr);Qr.debug(`Firestore (${hs}): ${r}`,...t)}}function xr(r,...e){if(Qr.logLevel<=Ie.in.ERROR){const t=e.map(Xr);Qr.error(`Firestore (${hs}): ${r}`,...t)}}function Ss(r,...e){if(Qr.logLevel<=Ie.in.WARN){const t=e.map(Xr);Qr.warn(`Firestore (${hs}): ${r}`,...t)}}function Xr(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ii(r="Unexpected state"){const e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+r;throw xr(e),new Error(e)}function di(r,e){r||ii()}function Un(r,e){return r}const Jt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yn extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vo.UNAUTHENTICATED))}shutdown(){}}class Ll{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V{constructor(e){this.t=e,this.currentUser=vo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=X=>this.i!==a?(a=this.i,t(X)):Promise.resolve();let p=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ui,e.enqueueRetryable(()=>u(this.currentUser))};const k=()=>{const X=p;e.enqueueRetryable((0,Re.Z)(function*(){yield X.promise,yield u(o.currentUser)}))},$=X=>{In("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(X=>$(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?$(X):(In("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ui)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(In("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(di("string"==typeof o.accessToken),new Nl(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return di(null===e||"string"==typeof e),new vo(e)}}class b{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=vo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new b(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(vo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&In("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const p=u.token!==this.T;return this.T=u.token,In("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{In("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):In("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(di("string"==typeof t.token),this.T=t.token,new T(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function et(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class at{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const a=et(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[u]%62))}return o}}function vt(r,e){return r<e?-1:r>e?1:0}function sn(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function $n(r){return r+"\0"}class Mn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yn(Jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yn(Jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yn(Jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yn(Jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Mn(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kn(e)}static min(){return new kn(new Mn(0,0))}static max(){return new kn(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bi{constructor(e,t,o){void 0===t?t=0:t>e.length&&ii(),void 0===o?o=e.length-t:o>e.length-t&&ii(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Bi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),p=t.get(a);if(u<p)return-1;if(u>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vn extends Bi{construct(e,t,o){return new Vn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new yn(Jt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const mi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends Bi{construct(e,t,o){return new Di(e,t,o)}static isValidIdentifier(e){return mi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new yn(Jt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let p=!1;for(;a<e.length;){const k=e[a];if("\\"===k){if(a+1===e.length)throw new yn(Jt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[a+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new yn(Jt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,a+=2}else"`"===k?(p=!p,a++):"."!==k||p?(o+=k,a++):(u(),a++)}if(u(),p)throw new yn(Jt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(t)}static emptyPath(){return new Di([])}}class w{constructor(e){this.path=e}static fromPath(e){return new w(Vn.fromString(e))}static fromName(e){return new w(Vn.fromString(e).popFirst(5))}static empty(){return new w(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new w(new Vn(e.slice()))}}class M{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function x(r){return r.fields.find(e=>2===e.kind)}function F(r){return r.fields.filter(e=>2!==e.kind)}M.UNKNOWN_ID=-1;class ve{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dt(0,Jn.min())}}function bn(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=kn.fromTimestamp(1e9===o?new Mn(t+1,0):new Mn(t,o));return new Jn(a,w.empty(),e)}function ai(r){return new Jn(r.readTime,r.key,-1)}class Jn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Jn(kn.min(),w.empty(),-1)}static max(){return new Jn(kn.max(),w.empty(),-1)}}function Xi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=w.comparator(r.documentKey,e.documentKey),0!==t?t:vt(r.largestBatchId,e.largestBatchId))}const Jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ea{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fs(r){return ri.apply(this,arguments)}function ri(){return ri=(0,Re.Z)(function*(r){if(r.code!==Jt.FAILED_PRECONDITION||r.message!==Jr)throw r;In("LocalStore","Unexpectedly lost primary lease")}),ri.apply(this,arguments)}class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mt?t:mt.resolve(t)}catch(t){return mt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.reject(t)}static resolve(e){return new mt((t,o)=>{t(e)})}static reject(e){return new mt((t,o)=>{o(e)})}static waitFor(e){return new mt((t,o)=>{let a=0,u=0,p=!1;e.forEach(k=>{++a,k.next(()=>{++u,p&&u===a&&t()},$=>o($))}),p=!0,u===a&&t()})}static or(e){let t=mt.resolve(!1);for(const o of e)t=t.next(a=>a?mt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new mt((o,a)=>{const u=e.length,p=new Array(u);let k=0;for(let $=0;$<u;$++){const X=$;t(e[X]).next(ge=>{p[X]=ge,++k,k===u&&o(p)},ge=>a(ge))}})}static doWhile(e,t){return new mt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class ui{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ui,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Rs(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=Ha(o.target.error);this.v.reject(new Rs(e,a))}}static open(e,t,o,a){try{return new ui(t,e.transaction(a,o))}catch(u){throw new Rs(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(In("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new na(t)}}class Ri{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Ri.S((0,be.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return In("SimpleDb","Removing database:",e),Er(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,be.hl)())return!1;if(Ri.C())return!0;const e=(0,be.z$)(),t=Ri.S(e),o=0<t&&t<10,a=Ri.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,Re.Z)(function*(){return t.db||(In("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=p=>{o(p.target.result)},u.onblocked=()=>{a(new Rs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=p=>{const k=p.target.error;a("VersionError"===k.name?new yn(Jt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new yn(Jt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new Rs(e,k))},u.onupgradeneeded=p=>{In("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,u.transaction,p.oldVersion,t.version).next(()=>{In("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,Re.Z)(function*(){const p="readonly"===t;let k=0;for(;;){++k;try{u.db=yield u.$(e);const $=ui.open(u.db,e,p?"readonly":"readwrite",o),X=a($).next(ge=>($.P(),ge)).catch(ge=>($.abort(ge),mt.reject(ge))).toPromise();return X.catch(()=>{}),yield $.R,X}catch($){const X=$,ge="FirebaseError"!==X.name&&k<3;if(In("SimpleDb","Transaction failed with error:",X.message,"Retrying:",ge),u.close(),!ge)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $o{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Er(this.L.delete())}}class Rs extends yn{constructor(e,t){super(Jt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ao(r){return"IndexedDbTransactionError"===r.name}class na{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(In("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(In("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Er(o)}add(e){return In("SimpleDb","ADD",this.store.name,e,e),Er(this.store.add(e))}get(e){return Er(this.store.get(e)).next(t=>(void 0===t&&(t=null),In("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return In("SimpleDb","DELETE",this.store.name,e),Er(this.store.delete(e))}count(){return In("SimpleDb","COUNT",this.store.name),Er(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(p,k)=>{u.push(k)}).next(()=>u)}{const a=this.store.getAll(o.range);return new mt((u,p)=>{a.onerror=k=>{p(k.target.error)},a.onsuccess=k=>{u(k.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new mt((a,u)=>{o.onerror=p=>{u(p.target.error)},o.onsuccess=p=>{a(p.target.result)}})}J(e,t){In("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,p,k)=>k.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new mt((o,a)=>{t.onerror=u=>{const p=Ha(u.target.error);a(p)},t.onsuccess=u=>{const p=u.target.result;p?e(p.primaryKey,p.value).next(k=>{k?p.continue():o()}):o()}})}W(e,t){const o=[];return new mt((a,u)=>{e.onerror=p=>{u(p.target.error)},e.onsuccess=p=>{const k=p.target.result;if(!k)return void a();const $=new $o(k),X=t(k.primaryKey,k.value,$);if(X instanceof mt){const ge=X.catch(tt=>($.done(),mt.reject(tt)));o.push(ge)}$.isDone?a():null===$.K?k.continue():k.continue($.K)}}).next(()=>mt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Er(r){return new mt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=Ha(o.target.error);t(a)}})}let Bl=!1;function Ha(r){const e=Ri.S((0,be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new yn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bl||(Bl=!0,setTimeout(()=>{throw o},0)),o}}return r}class Ps{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;In("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Re.Z)(function*(){t.task=null;try{In("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){ao(o)?In("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield fs(o)}yield t.et(6e4)}))}}class Ms{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Re.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return mt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!o.has(p))return In("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(k=>{a-=k,o.add(p)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const p=u.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,u)).next(k=>(In("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>p.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const p=ai(u);Xi(p,o)>0&&(o=p)}),new Jn(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let jr=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function xs(r){return null==r}function ia(r){return 0===r&&1/r==-1/0}function Ul(r){return"number"==typeof r&&Number.isInteger(r)&&!ia(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Co(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=dc(e)),e=Od(r.get(t),e);return dc(e)}function Od(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function dc(r){return r+"\x01\x01"}function ms(r){const e=r.length;if(di(e>=2),2===e)return di("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Vn.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const p=r.indexOf("\x01",u);switch((p<0||p>t)&&ii(),r.charAt(p+1)){case"\x01":const k=r.substring(u,p);let $;0===a.length?$=k:(a+=k,$=a,a=""),o.push($);break;case"\x10":a+=r.substring(u,p),a+="\0";break;case"\x11":a+=r.substring(u,p+1);break;default:ii()}u=p+2}return new Vn(o)}const bl=["userId","batchId"];function ma(r,e){return[r,Co(e)]}function uc(r,e,t){return[r,Co(e),t]}const hc={},fc=["prefixPath","collectionGroup","readTime","documentId"],mc=["prefixPath","collectionGroup","documentId"],$c=["collectionGroup","readTime","prefixPath","documentId"],Fa=["canonicalId","targetId"],Lh=["targetId","path"],Ru=["path","targetId"],wl=["collectionId","parent"],Gc=["indexId","uid"],Wc=["uid","sequenceNumber"],Bh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pc=["indexId","uid","orderedDocumentKey"],za=["userId","collectionPath","documentId"],Pu=["userId","collectionPath","largestBatchId"],Kc=["userId","collectionGroup","largestBatchId"],gc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$a=[...gc,"documentOverlays"],Rd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zc=Rd,Vl=[...Zc,"indexConfiguration","indexState","indexEntries"];class Yc extends Ea{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Es(r,e){const t=Un(r);return Ri.M(t.ht,e)}function jl(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ra(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Na(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Cr{constructor(e,t){this.comparator=e,this.root=t||ps.EMPTY}insert(e,t){return new Cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ps.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ps.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sl(this.root,e,this.comparator,!0)}}class sl{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ps{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??ps.RED,this.left=a??ps.EMPTY,this.right=u??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new ps(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ps.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ii();const e=this.left.check();if(e!==this.right.check())throw ii();return e+(this.isRed()?0:1)}}ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1,ps.EMPTY=new class{constructor(){this.size=0}get key(){throw ii()}get value(){throw ii()}get color(){throw ii()}get left(){throw ii()}get right(){throw ii()}copy(r,e,t,o,a){return this}insert(r,e,t){return new ps(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dr{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qc(this.data.getIterator())}getIteratorFrom(e){return new qc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dr(this.comparator);return t.data=e,t}}class qc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function La(r){return r.hasNext()?r.getNext():void 0}class Vs{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new Vs([])}unionWith(e){let t=new Dr(Di.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sn(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class _c extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _c("Invalid base64 string: "+a):a}}(e);return new Xo(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Xo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xo.EMPTY_BYTE_STRING=new Xo("");const Fu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(r){if(di(!!r),"string"==typeof r){let e=0;const t=Fu.exec(r);if(di(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:yo(r.seconds),nanos:yo(r.nanos)}}function yo(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ga(r){return"string"==typeof r?Xo.fromBase64String(r):Xo.fromUint8Array(r)}function Hl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ho(r){const e=r.mapValue.fields.__previous_value__;return Hl(e)?ho(e):e}function El(r){const e=xl(r.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class Cl{constructor(e,t,o,a,u,p,k,$,X){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=p,this.autoDetectLongPolling=k,this.longPollingOptions=$,this.useFetchStreams=X}}class Wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}const lo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ka={nullValue:"NULL_VALUE"};function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hl(r)?4:Gn(r)?9007199254740991:10:ii()}function oa(r,e){if(r===e)return!0;const t=zs(r);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return El(r).isEqual(El(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=xl(o.timestampValue),p=xl(a.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ga(r.bytesValue).isEqual(Ga(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return yo(o.geoPointValue.latitude)===yo(a.geoPointValue.latitude)&&yo(o.geoPointValue.longitude)===yo(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return yo(o.integerValue)===yo(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=yo(o.doubleValue),p=yo(a.doubleValue);return u===p?ia(u)===ia(p):isNaN(u)&&isNaN(p)}return!1}(r,e);case 9:return sn(r.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(o,a){const u=o.mapValue.fields||{},p=a.mapValue.fields||{};if(jl(u)!==jl(p))return!1;for(const k in u)if(u.hasOwnProperty(k)&&(void 0===p[k]||!oa(u[k],p[k])))return!1;return!0}(r,e);default:return ii()}var a}function Za(r,e){return void 0!==(r.values||[]).find(t=>oa(t,e))}function Ba(r,e){if(r===e)return 0;const t=zs(r),o=zs(e);if(t!==o)return vt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return vt(r.booleanValue,e.booleanValue);case 2:return function(a,u){const p=yo(a.integerValue||a.doubleValue),k=yo(u.integerValue||u.doubleValue);return p<k?-1:p>k?1:p===k?0:isNaN(p)?isNaN(k)?0:-1:1}(r,e);case 3:return Nu(r.timestampValue,e.timestampValue);case 4:return Nu(El(r),El(e));case 5:return vt(r.stringValue,e.stringValue);case 6:return function(a,u){const p=Ga(a),k=Ga(u);return p.compareTo(k)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const p=a.split("/"),k=u.split("/");for(let $=0;$<p.length&&$<k.length;$++){const X=vt(p[$],k[$]);if(0!==X)return X}return vt(p.length,k.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const p=vt(yo(a.latitude),yo(u.latitude));return 0!==p?p:vt(yo(a.longitude),yo(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const p=a.values||[],k=u.values||[];for(let $=0;$<p.length&&$<k.length;++$){const X=Ba(p[$],k[$]);if(X)return X}return vt(p.length,k.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===lo.mapValue&&u===lo.mapValue)return 0;if(a===lo.mapValue)return 1;if(u===lo.mapValue)return-1;const p=a.fields||{},k=Object.keys(p),$=u.fields||{},X=Object.keys($);k.sort(),X.sort();for(let ge=0;ge<k.length&&ge<X.length;++ge){const tt=vt(k[ge],X[ge]);if(0!==tt)return tt;const Zt=Ba(p[k[ge]],$[X[ge]]);if(0!==Zt)return Zt}return vt(k.length,X.length)}(r.mapValue,e.mapValue);default:throw ii()}}function Nu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return vt(r,e);const t=xl(r),o=xl(e),a=vt(t.seconds,o.seconds);return 0!==a?a:vt(t.nanos,o.nanos)}function Dl(r){return Lu(r)}function Lu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=xl(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ga(r.bytesValue).toBase64():"referenceValue"in r?w.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const p of o.values||[])u?u=!1:a+=",",a+=Lu(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",p=!0;for(const k of a)p?p=!1:u+=",",u+=`${k}:${Lu(o.fields[k])}`;return u+"}"}(r.mapValue):ii();var e}function N(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function te(r){return!!r&&"integerValue"in r}function Pe(r){return!!r&&"arrayValue"in r}function gt(r){return!!r&&"nullValue"in r}function Lt(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function an(r){return!!r&&"mapValue"in r}function Zn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ra(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Zn(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Gn(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function pi(r){return"nullValue"in r?Ka:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?N(Wa.empty(),w.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ii()}function $i(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?N(Wa.empty(),w.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?lo:ii()}function Vi(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function As(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!an(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zn(t)}setAll(e){let t=Di.emptyPath(),o={},a=[];e.forEach((p,k)=>{if(!t.isImmediateParentOf(k)){const $=this.getFieldsMap(t);this.applyChanges($,o,a),o={},a=[],t=k.popLast()}p?o[k.lastSegment()]=Zn(p):a.push(k.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());an(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];an(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){ra(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new yr(Zn(this.value))}}function Ya(r){const e=[];return ra(r.fields,(t,o)=>{const a=new Di([t]);if(an(o)){const u=Ya(o.mapValue).fields;if(0===u.length)e.push(a);else for(const p of u)e.push(a.child(p))}else e.push(a)}),new Vs(e)}class eo{constructor(e,t,o,a,u,p,k){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=p,this.documentState=k}static newInvalidDocument(e){return new eo(e,0,kn.min(),kn.min(),kn.min(),yr.empty(),0)}static newFoundDocument(e,t,o,a){return new eo(e,1,t,kn.min(),o,a,0)}static newNoDocument(e,t){return new eo(e,2,t,kn.min(),kn.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new eo(e,3,t,kn.min(),kn.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof eo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new eo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $s{constructor(e,t){this.position=e,this.inclusive=t}}function sa(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],p=r.position[a];if(o=u.field.isKeyField()?w.comparator(w.fromName(p.referenceValue),t.key):Ba(p,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function Aa(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oa(r.position[t],e.position[t]))return!1;return!0}class Ca{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Uh{}class fr extends Uh{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Hh(e,t,o):"array-contains"===t?new m(e,o):"in"===t?new g(e,o):"not-in"===t?new O(e,o):"array-contains-any"===t?new ie(e,o):new fr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new sm(e,o):new Bd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ba(t,this.value)):null!==t&&zs(this.value)===zs(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ii()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class co extends Uh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new co(e,t)}matches(e){return pa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pa(r){return"and"===r.op}function Il(r){return"or"===r.op}function Nd(r){return rm(r)&&pa(r)}function rm(r){for(const e of r.filters)if(e instanceof co)return!1;return!0}function Ld(r){if(r instanceof fr)return r.field.canonicalString()+r.op.toString()+Dl(r.value);if(Nd(r))return r.filters.map(e=>Ld(e)).join(",");{const e=r.filters.map(t=>Ld(t)).join(",");return`${r.op}(${e})`}}function Vh(r,e){return r instanceof fr?(t=r,(o=e)instanceof fr&&t.op===o.op&&t.field.isEqual(o.field)&&oa(t.value,o.value)):r instanceof co?function(t,o){return o instanceof co&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,p)=>a&&Vh(u,o.filters[p]),!0)}(r,e):void ii();var t,o}function om(r,e){const t=r.filters.concat(e);return co.create(t,r.op)}function jh(r){return r instanceof fr?`${(e=r).field.canonicalString()} ${e.op} ${Dl(e.value)}`:r instanceof co?function(e){return e.op.toString()+" {"+e.getFilters().map(jh).join(" ,")+"}"}(r):"Filter";var e}class Hh extends fr{constructor(e,t,o){super(e,t,o),this.key=w.fromName(o.referenceValue)}matches(e){const t=w.comparator(e.key,this.key);return this.matchesComparison(t)}}class sm extends fr{constructor(e,t){super(e,"in",t),this.keys=D(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bd extends fr{constructor(e,t){super(e,"not-in",t),this.keys=D(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>w.fromName(o.referenceValue))}class m extends fr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pe(t)&&Za(t.arrayValue,this.value)}}class g extends fr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Za(this.value.arrayValue,t)}}class O extends fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Za(this.value.arrayValue,t)}}class ie extends fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pe(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Za(this.value.arrayValue,o))}}class we{constructor(e,t=null,o=[],a=[],u=null,p=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=p,this.endAt=k,this.dt=null}}function Mt(r,e=null,t=[],o=[],a=null,u=null,p=null){return new we(r,e,t,o,a,u,p)}function tn(r){const e=Un(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Ld(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),xs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Dl(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Dl(o)).join(",")),e.dt=t}return e.dt}function Ln(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Fd(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Aa(r.startAt,e.startAt)&&Aa(r.endAt,e.endAt)}function oi(r){return w.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function vi(r,e){return r.filters.filter(t=>t instanceof fr&&t.field.isEqual(e))}function dr(r,e,t){let o=Ka,a=!0;for(const u of vi(r,e)){let p=Ka,k=!0;switch(u.op){case"<":case"<=":p=pi(u.value);break;case"==":case"in":case">=":p=u.value;break;case">":p=u.value,k=!1;break;case"!=":case"not-in":p=Ka}Vi({value:o,inclusive:a},{value:p,inclusive:k})<0&&(o=p,a=k)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const p=t.position[u];Vi({value:o,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(o=p,a=t.inclusive);break}return{value:o,inclusive:a}}function ga(r,e,t){let o=lo,a=!0;for(const u of vi(r,e)){let p=lo,k=!0;switch(u.op){case">=":case">":p=$i(u.value),k=!1;break;case"==":case"in":case"<=":p=u.value;break;case"<":p=u.value,k=!1;break;case"!=":case"not-in":p=lo}As({value:o,inclusive:a},{value:p,inclusive:k})>0&&(o=p,a=k)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const p=t.position[u];As({value:o,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(o=p,a=t.inclusive);break}return{value:o,inclusive:a}}class aa{constructor(e,t=null,o=[],a=[],u=null,p="F",k=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=p,this.startAt=k,this.endAt=$,this.wt=null,this._t=null}}function Ud(r,e,t,o,a,u,p,k){return new aa(r,e,t,o,a,u,p,k)}function vc(r){return new aa(r)}function Bu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Vd(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Sl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function zl(r){return null!==r.collectionGroup}function al(r){const e=Un(r);if(null===e.wt){e.wt=[];const t=Sl(e),o=Vd(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Ca(t)),e.wt.push(new Ca(Di.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ca(Di.keyField(),u))}}}return e.wt}function Gs(r){const e=Un(r);if(!e._t)if("F"===e.limitType)e._t=Mt(e.path,e.collectionGroup,al(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of al(e))t.push(new Ca(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new $s(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new $s(e.startAt.position,e.startAt.inclusive):null;e._t=Mt(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function yc(r,e){e.getFirstInequalityField(),Sl(r);const t=r.filters.concat([e]);return new aa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function qa(r,e,t){return new aa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function bc(r,e){return Ln(Gs(r),Gs(e))&&r.limitType===e.limitType}function $l(r){return`${tn(Gs(r))}|lt:${r.limitType}`}function wc(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>jh(o)).join(", ")}]`),xs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Dl(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Dl(o)).join(",")),`Target(${t})`}(Gs(r))}; limitType=${r.limitType})`}function ka(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):w.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of al(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,p){const k=sa(a,u,p);return a.inclusive?k<=0:k<0}(t.startAt,al(t),o)||t.endAt&&!function(a,u,p){const k=sa(a,u,p);return a.inclusive?k>=0:k>0}(t.endAt,al(t),o)));var t,o}function Lg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bg(r){return(e,t)=>{let o=!1;for(const a of al(r)){const u=ay(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function ay(r,e,t){const o=r.field.isKeyField()?w.comparator(e.key,t.key):function(a,u,p){const k=u.data.field(a),$=p.data.field(a);return null!==k&&null!==$?Ba(k,$):ii()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return ii()}}class Tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return Na(this.inner)}size(){return this.innerSize}}const am=new Cr(w.comparator);function Oa(){return am}const Ug=new Cr(w.comparator);function Uu(...r){let e=Ug;for(const t of r)e=e.insert(t.key,t);return e}function lm(r){let e=Ug;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ml(){return Qs()}function Vg(){return Qs()}function Qs(){return new Tl(r=>r.toString(),(r,e)=>r.isEqual(e))}const cm=new Cr(w.comparator),jg=new Dr(w.comparator);function rr(...r){let e=jg;for(const t of r)e=e.add(t);return e}const _a=new Dr(vt);function Qc(){return _a}function dm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ia(e)?"-0":e}}function um(r){return{integerValue:""+r}}function Hg(r,e){return Ul(e)?um(e):dm(r,e)}class Vu{constructor(){this._=void 0}}function ly(r,e,t){return r instanceof Xc?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Hl(a)&&(a=ho(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Jc?Gg(r,e):r instanceof Gl?zh(r,e):function(o,a){const u=$g(o,a),p=Hd(u)+Hd(o.gt);return te(u)&&te(o.gt)?um(p):dm(o.serializer,p)}(r,e)}function zg(r,e,t){return r instanceof Jc?Gg(r,e):r instanceof Gl?zh(r,e):t}function $g(r,e){return r instanceof jd?te(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Xc extends Vu{}class Jc extends Vu{constructor(e){super(),this.elements=e}}function Gg(r,e){const t=Wg(e);for(const o of r.elements)t.some(a=>oa(a,o))||t.push(o);return{arrayValue:{values:t}}}class Gl extends Vu{constructor(e){super(),this.elements=e}}function zh(r,e){let t=Wg(e);for(const o of r.elements)t=t.filter(a=>!oa(a,o));return{arrayValue:{values:t}}}class jd extends Vu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Hd(r){return yo(r.integerValue||r.doubleValue)}function Wg(r){return Pe(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ju{constructor(e,t){this.field=e,this.transform=t}}class fm{constructor(e,t){this.version=e,this.transformResults=t}}class Jo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jo}static exists(e){return new Jo(void 0,e)}static updateTime(e){return new Jo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wl(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class ed{}function mm(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Ec(r.key,Jo.none()):new zd(r.key,r.data,Jo.none());{const t=r.data,o=yr.empty();let a=new Dr(Di.comparator);for(let u of e.fields)if(!a.has(u)){let p=t.field(u);null===p&&u.length>1&&(u=u.popLast(),p=t.field(u)),null===p?o.delete(u):o.set(u,p),a=a.add(u)}return new Kl(r.key,o,new Vs(a.toArray()),Jo.none())}}function pm(r,e,t){r instanceof zd?function(o,a,u){const p=o.value.clone(),k=Yg(o.fieldTransforms,a,u.transformResults);p.setAll(k),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):r instanceof Kl?function(o,a,u){if(!Wl(o.precondition,a))return void a.convertToUnknownDocument(u.version);const p=Yg(o.fieldTransforms,a,u.transformResults),k=a.data;k.setAll(Zg(o)),k.setAll(p),a.convertToFoundDocument(u.version,k).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xc(r,e,t,o){return r instanceof zd?function(a,u,p,k){if(!Wl(a.precondition,u))return p;const $=a.value.clone(),X=gm(a.fieldTransforms,k,u);return $.setAll(X),u.convertToFoundDocument(u.version,$).setHasLocalMutations(),null}(r,e,t,o):r instanceof Kl?function(a,u,p,k){if(!Wl(a.precondition,u))return p;const $=gm(a.fieldTransforms,k,u),X=u.data;return X.setAll(Zg(a)),X.setAll($),u.convertToFoundDocument(u.version,X).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ge=>ge.field))}(r,e,t,o):(p=t,Wl(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p);var u,p}function cy(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=$g(o.transform,a||null);null!=u&&(null===t&&(t=yr.empty()),t.set(o.field,u))}return t||null}function Kg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&sn(t,o,(a,u)=>function hm(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Jc&&o instanceof Jc||t instanceof Gl&&o instanceof Gl?sn(t.elements,o.elements,oa):t instanceof jd&&o instanceof jd?oa(t.gt,o.gt):t instanceof Xc&&o instanceof Xc);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class zd extends ed{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Kl extends ed{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Yg(r,e,t){const o=new Map;di(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],p=u.transform,k=e.data.field(u.field);o.set(u.field,zg(p,k,t[a]))}return o}function gm(r,e,t){const o=new Map;for(const a of r){const u=a.transform,p=t.data.field(a.field);o.set(a.field,ly(u,p,e))}return o}class Ec extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hu{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&pm(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=xc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=xc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Vg();return this.mutations.forEach(a=>{const u=e.get(a.key),p=u.overlayedDocument;let k=this.applyToLocalView(p,u.mutatedFields);k=t.has(a.key)?null:k;const $=mm(p,k);null!==$&&o.set(a.key,$),p.isValidDocument()||p.convertToNoDocument(kn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rr())}isEqual(e){return this.batchId===e.batchId&&sn(this.mutations,e.mutations,(t,o)=>Kg(t,o))&&sn(this.baseMutations,e.baseMutations,(t,o)=>Kg(t,o))}}class _m{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){di(e.mutations.length===o.length);let a=cm;const u=e.mutations;for(let p=0;p<u.length;p++)a=a.insert(u[p].key,o[p].version);return new _m(e,t,o,a)}}class vm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Go,Hr;function bm(r){switch(r){default:return ii();case Jt.CANCELLED:case Jt.UNKNOWN:case Jt.DEADLINE_EXCEEDED:case Jt.RESOURCE_EXHAUSTED:case Jt.INTERNAL:case Jt.UNAVAILABLE:case Jt.UNAUTHENTICATED:return!1;case Jt.INVALID_ARGUMENT:case Jt.NOT_FOUND:case Jt.ALREADY_EXISTS:case Jt.PERMISSION_DENIED:case Jt.FAILED_PRECONDITION:case Jt.ABORTED:case Jt.OUT_OF_RANGE:case Jt.UNIMPLEMENTED:case Jt.DATA_LOSS:return!0}}function Qg(r){if(void 0===r)return xr("GRPC error has no .code"),Jt.UNKNOWN;switch(r){case Go.OK:return Jt.OK;case Go.CANCELLED:return Jt.CANCELLED;case Go.UNKNOWN:return Jt.UNKNOWN;case Go.DEADLINE_EXCEEDED:return Jt.DEADLINE_EXCEEDED;case Go.RESOURCE_EXHAUSTED:return Jt.RESOURCE_EXHAUSTED;case Go.INTERNAL:return Jt.INTERNAL;case Go.UNAVAILABLE:return Jt.UNAVAILABLE;case Go.UNAUTHENTICATED:return Jt.UNAUTHENTICATED;case Go.INVALID_ARGUMENT:return Jt.INVALID_ARGUMENT;case Go.NOT_FOUND:return Jt.NOT_FOUND;case Go.ALREADY_EXISTS:return Jt.ALREADY_EXISTS;case Go.PERMISSION_DENIED:return Jt.PERMISSION_DENIED;case Go.FAILED_PRECONDITION:return Jt.FAILED_PRECONDITION;case Go.ABORTED:return Jt.ABORTED;case Go.OUT_OF_RANGE:return Jt.OUT_OF_RANGE;case Go.UNIMPLEMENTED:return Jt.UNIMPLEMENTED;case Go.DATA_LOSS:return Jt.DATA_LOSS;default:return ii()}}(Hr=Go||(Go={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";class Xg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return td}static getOrCreateInstance(){return null===td&&(td=new Xg),td}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let td=null;function Jg(){return new TextEncoder}const e_=new En([4294967295,4294967295],0);function wm(r){const e=Jg().encode(r),t=new yl;return t.update(e),new Uint8Array(t.digest())}function xm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new En([t,o],0),new En([a,u],0)]}class zu{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new $d(`Invalid padding: ${t}`);if(o<0)throw new $d(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new $d(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new $d(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=En.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(En.fromNumber(o)));return 1===a.compare(e_)&&(a=new En([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wm(e),[o,a]=xm(t);for(let u=0;u<this.hashCount;u++){const p=this.Et(o,a,u);if(!this.At(p))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),p=new zu(u,a,t);return o.forEach(k=>p.insert(k)),p}insert(e){if(0===this.It)return;const t=wm(e),[o,a]=xm(t);for(let u=0;u<this.hashCount;u++){const p=this.Et(o,a,u);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cc{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Cc(kn.min(),a,new Cr(vt),Oa(),rr())}}class Zl{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Zl(o,t,rr(),rr(),rr())}}class $u{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class Gh{constructor(e,t){this.targetId=e,this.Vt=t}}class Gu{constructor(e,t,o=Xo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class Em{constructor(){this.St=0,this.Dt=t_(),this.Ct=Xo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=rr(),t=rr(),o=rr();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:ii()}}),new Zl(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=t_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Oa(),this.zt=Gd(),this.Wt=new Cr(vt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:ii()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const p=u.target;if(oi(p))if(0===a){const k=new w(p.path);this.Yt(o,k,eo.newNoDocument(k,kn.min()))}else di(1===a);else{const k=this.ie(o);if(k!==a){const $=this.re(e,k);0!==$&&(this.ee(o),this.Wt=this.Wt.insert(o,2===$?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(X,ge,tt){var Zt,mn,Bn,Xn,li,or;const zr={localCacheCount:ge,existenceFilterCount:tt.count},Yi=tt.unchangedNames;return Yi&&(zr.bloomFilter={applied:0===X,hashCount:null!==(Zt=Yi?.hashCount)&&void 0!==Zt?Zt:0,bitmapLength:null!==(Xn=null===(Bn=null===(mn=Yi?.bits)||void 0===mn?void 0:mn.bitmap)||void 0===Bn?void 0:Bn.length)&&void 0!==Xn?Xn:0,padding:null!==(or=null===(li=Yi?.bits)||void 0===li?void 0:li.padding)&&void 0!==or?or:0}),zr}($,k,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:p=0},hashCount:k=0}=o;let $,X;try{$=Ga(u).toUint8Array()}catch(ge){if(ge instanceof _c)return Ss("Decoding the base64 bloom filter in existence filter failed ("+ge.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ge}try{X=new zu($,p,k)}catch(ge){return Ss(ge instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",ge),1}return 0===X.It?1:a!==t-this.oe(e.targetId,X)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const p=this.Gt.ue(),k=`projects/${p.projectId}/databases/${p.database}/documents/${u.path.canonicalString()}`;t.vt(k)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,p)=>{const k=this.se(p);if(k){if(u.current&&oi(k.target)){const $=new w(k.target.path);null!==this.jt.get($)||this.ae(p,$)||this.Yt(p,$,eo.newNoDocument($,e))}u.Mt&&(t.set(p,u.Ot()),u.Ft())}});let o=rr();this.zt.forEach((u,p)=>{let k=!0;p.forEachWhile($=>{const X=this.se($);return!X||"TargetPurposeLimboResolution"===X.purpose||(k=!1,!1)}),k&&(o=o.add(u))}),this.jt.forEach((u,p)=>p.setReadTime(e));const a=new Cc(e,t,this.Wt,this.jt,o);return this.jt=Oa(),this.zt=Gd(),this.Wt=new Cr(vt),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Em,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Dr(vt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||In("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Em),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Gd(){return new Cr(w.comparator)}function t_(){return new Cr(w.comparator)}const n_={asc:"ASCENDING",desc:"DESCENDING"},dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uy={and:"AND",or:"OR"};class hy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(r,e){return r.useProto3Json||xs(e)?e:{value:e}}function nd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Dm(r,e){return nd(r,e.toTimestamp())}function Wo(r){return di(!!r),kn.fromTimestamp(function(e){const t=xl(e);return new Mn(t.seconds,t.nanos)}(r))}function Im(r,e){return(t=r,new Vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(r){const e=Vn.fromString(r);return di(u_(e)),e}function Kh(r,e){return Im(r.databaseId,e.path)}function Al(r,e){const t=i_(e);if(t.get(1)!==r.databaseId.projectId)throw new yn(Jt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new yn(Jt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new w(Zu(t))}function Ku(r,e){return Im(r.databaseId,e)}function r_(r){const e=i_(r);return 4===e.length?Vn.emptyPath():Zu(e)}function Yl(r){return new Vn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Zu(r){return di(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Zh(r,e,t){return{name:Kh(r,e),fields:t.value.mapValue.fields}}function Sm(r,e,t){const o=Al(r,e.name),a=Wo(e.updateTime),u=e.createTime?Wo(e.createTime):kn.min(),p=new yr({mapValue:{fields:e.fields}}),k=eo.newFoundDocument(o,a,u,p);return t&&k.setHasCommittedMutations(),t?k.setHasCommittedMutations():k}function ll(r,e){let t;if(e instanceof zd)t={update:Zh(r,e.key,e.value)};else if(e instanceof Ec)t={delete:Kh(r,e.key)};else if(e instanceof Kl)t={update:Zh(r,e.key,e.data),updateMask:d_(e.fieldMask)};else{if(!(e instanceof $h))return ii();t={verify:Kh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const p=u.transform;if(p instanceof Xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jd)return{fieldPath:u.field.canonicalString(),increment:p.gt};throw ii()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Dm(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ii()),t;var a}function Tm(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Jo.updateTime(Wo(a.updateTime)):void 0!==a.exists?Jo.exists(a.exists):Jo.none():Jo.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,p){let k=null;"setToServerValue"in p?(di("REQUEST_TIME"===p.setToServerValue),k=new Xc):"appendMissingElements"in p?k=new Jc(p.appendMissingElements.values||[]):"removeAllFromArray"in p?k=new Gl(p.removeAllFromArray.values||[]):"increment"in p?k=new jd(u,p.increment):ii();const $=Di.fromServerFormat(p.fieldPath);return new ju($,k)}(r,a)):[];var a;if(e.update){const a=Al(r,e.update.name),u=new yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Vs((e.updateMask.fieldPaths||[]).map(X=>Di.fromServerFormat(X)));return new Kl(a,u,p,t,o)}return new zd(a,u,t,o)}if(e.delete){const a=Al(r,e.delete);return new Ec(a,t)}if(e.verify){const a=Al(r,e.verify);return new $h(a,t)}return ii()}function a_(r,e){return{documents:[Ku(r,e.path)]}}function Mm(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Ku(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ku(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function($){if(0!==$.length)return c_(co.create($,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function($){if(0!==$.length)return $.map(X=>{return{field:Dc((ge=X).field),direction:my(ge.dir)};var ge})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Wh(r,e.limit);var k,$;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function l_(r){let e=r_(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){di(1===o);const ge=t.from[0];ge.allDescendants?a=ge.collectionId:e=e.child(ge.collectionId)}let u=[];t.where&&(u=function(ge){const tt=id(ge);return tt instanceof co&&Nd(tt)?tt.getFilters():[tt]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(ge=>{return new Ca(Wd((tt=ge).field),function(Zt){switch(Zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction));var tt}));let k=null;t.limit&&(k=function(ge){let tt;return tt="object"==typeof ge?ge.value:ge,xs(tt)?null:tt}(t.limit));let $=null;var ge;t.startAt&&($=new $s((ge=t.startAt).values||[],!!ge.before));let X=null;return t.endAt&&(X=function(ge){return new $s(ge.values||[],!ge.before)}(t.endAt)),Ud(e,a,p,u,k,"F",$,X)}function id(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wd(e.unaryFilter.field);return fr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Wd(e.unaryFilter.field);return fr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wd(e.unaryFilter.field);return fr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wd(e.unaryFilter.field);return fr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ii()}}(r):void 0!==r.fieldFilter?fr.create(Wd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ii()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return co.create(e.compositeFilter.filters.map(t=>id(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ii()}}(e.compositeFilter.op))}(r):ii();var e}function my(r){return n_[r]}function py(r){return dy[r]}function gy(r){return uy[r]}function Dc(r){return{fieldPath:r.canonicalString()}}function Wd(r){return Di.fromServerFormat(r.fieldPath)}function c_(r){return r instanceof fr?function(e){if("=="===e.op){if(Lt(e.value))return{unaryFilter:{field:Dc(e.field),op:"IS_NAN"}};if(gt(e.value))return{unaryFilter:{field:Dc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lt(e.value))return{unaryFilter:{field:Dc(e.field),op:"IS_NOT_NAN"}};if(gt(e.value))return{unaryFilter:{field:Dc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(e.field),op:py(e.op),value:e.value}}}(r):r instanceof co?function(e){const t=e.getFilters().map(o=>c_(o));return 1===t.length?t[0]:{compositeFilter:{op:gy(e.op),filters:t}}}(r):ii()}function d_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Ql{constructor(e,t,o,a,u=kn.min(),p=kn.min(),k=Xo.EMPTY_BYTE_STRING,$=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=k,this.expectedCount=$}withSequenceNumber(e){return new Ql(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class h_{constructor(e){this.fe=e}}function Yu(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Qa(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Kh(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:nd(a,u.version.toTimestamp()),createTime:nd(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:cl(e.version)};else{if(!e.isUnknownDocument())return ii();o.unknownDocument={path:t.path.toArray(),version:cl(e.version)}}var a,u;return o}function Qa(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function cl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ic(r){const e=new Mn(r.seconds,r.nanoseconds);return kn.fromTimestamp(e)}function Sc(r,e){const t=(e.baseMutations||[]).map(u=>Tm(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>Tm(r.fe,u)),a=Mn.fromMillis(e.localWriteTimeMs);return new Hu(e.batchId,a,t,o)}function Kd(r){const e=Ic(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Ic(r.lastLimboFreeSnapshotVersion):kn.min();let o;var a;return void 0!==r.query.documents?(di(1===(a=r.query).documents.length),o=Gs(vc(r_(a.documents[0])))):o=Gs(l_(r.query)),new Ql(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Xo.fromBase64String(r.resumeToken))}function vy(r,e){const t=cl(e.snapshotVersion),o=cl(e.lastLimboFreeSnapshotVersion);let a;a=oi(e.target)?a_(r.fe,e.target):Mm(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tn(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function f_(r){const e=l_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?qa(e,e.limit,"L"):e}function m_(r,e){return new vm(e.largestBatchId,Tm(r.fe,e.overlayMutation))}function Yh(r,e){const t=e.path.lastSegment();return[r,Co(e.path.popLast()),t]}function qh(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:cl(o.readTime),documentKey:Co(o.documentKey.path),largestBatchId:o.largestBatchId}}class m0{getBundleMetadata(e,t){return yy(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Ic(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return yy(e).put({bundleId:(o=t).id,createTime:cl(Wo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Am(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:f_(a.bundledQuery),readTime:Ic(a.readTime)};var a})}saveNamedQuery(e,t){return Am(e).put({name:(o=t).name,readTime:cl(Wo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function yy(r){return Es(r,"bundles")}function Am(r){return Es(r,"namedQueries")}class Qh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qh(e,t.uid||"")}getOverlay(e,t){return qu(e).get(Yh(this.userId,t)).next(o=>o?m_(this.serializer,o):null)}getOverlays(e,t){const o=Ml();return mt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,p)=>{const k=new vm(t,p);a.push(this.we(e,k))}),mt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(p=>a.add(Co(p.getCollectionPath())));const u=[];return a.forEach(p=>{const k=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,o+1],!1,!0);u.push(qu(e).J("collectionPathOverlayIndex",k))}),mt.waitFor(u)}getOverlaysForCollection(e,t,o){const a=Ml(),u=Co(t),p=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return qu(e).j("collectionPathOverlayIndex",p).next(k=>{for(const $ of k){const X=m_(this.serializer,$);a.set(X.getKey(),X)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=Ml();let p;const k=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qu(e).X({index:"collectionGroupOverlayIndex",range:k},($,X,ge)=>{const tt=m_(this.serializer,X);u.size()<a||tt.largestBatchId===p?(u.set(tt.getKey(),tt),p=tt.largestBatchId):ge.done()}).next(()=>u)}we(e,t){return qu(e).put(function(o,a,u){const[p,k,$]=Yh(a,u.mutation.key);return{userId:a,collectionPath:k,documentId:$,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ll(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function qu(r){return Es(r,"documentOverlays")}class rd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(yo(e.integerValue));else if("doubleValue"in e){const o=yo(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),ia(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ga(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?Gn(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ii()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),w.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function by(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function km(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=by(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}rd.Ve=new rd;class Xh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=km(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=km(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class p_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Om{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Qu{constructor(){this.je=new Xh,this.ze=new p_(this.je),this.We=new Om(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Bo{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Bo(this.indexId,this.documentKey,this.arrayValue,o)}}function Tc(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=g_(r.arrayValue,e.arrayValue),0!==t?t:(t=g_(r.directionalValue,e.directionalValue),0!==t?t:w.comparator(r.documentKey,e.documentKey)))}function g_(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Rm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){di(e.collectionGroup===this.collectionId);const t=x(e);if(void 0!==t&&!this.en(t))return!1;const o=F(e);let a=new Set,u=0,p=0;for(;u<o.length&&this.en(o[u]);++u)a=a.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const k=o[u];if(!this.nn(this.Ze,k)||!this.sn(this.Ye[p++],k))return!1}++u}for(;u<o.length;++u)if(p>=this.Ye.length||!this.sn(this.Ye[p++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pm(r){var e,t;if(di(r instanceof fr||r instanceof co),r instanceof fr){if(r instanceof g){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>fr.create(r.field,"==",u)))||[];return co.create(a,"or")}return r}const o=r.filters.map(a=>Pm(a));return co.create(o,r.op)}function wy(r){if(0===r.getFilters().length)return[];const e=Jh(Pm(r));return di(__(e)),Fm(e)||Nm(e)?[e]:e.getFilters()}function Fm(r){return r instanceof fr}function Nm(r){return r instanceof co&&Nd(r)}function __(r){return Fm(r)||Nm(r)||function(e){if(e instanceof co&&Il(e)){for(const t of e.getFilters())if(!Fm(t)&&!Nm(t))return!1;return!0}return!1}(r)}function Jh(r){if(di(r instanceof fr||r instanceof co),r instanceof fr)return r;if(1===r.filters.length)return Jh(r.filters[0]);const e=r.filters.map(o=>Jh(o));let t=co.create(e,r.op);return t=Mc(t),__(t)?t:(di(t instanceof co),di(pa(t)),di(t.filters.length>1),t.filters.reduce((o,a)=>v_(o,a)))}function v_(r,e){let t;return di(r instanceof fr||r instanceof co),di(e instanceof fr||e instanceof co),t=r instanceof fr?e instanceof fr?co.create([r,e],"and"):xy(r,e):e instanceof fr?xy(e,r):function(o,a){if(di(o.filters.length>0&&a.filters.length>0),pa(o)&&pa(a))return om(o,a.getFilters());const u=Il(o)?o:a,p=Il(o)?a:o,k=u.filters.map($=>v_($,p));return co.create(k,"or")}(r,e),Mc(t)}function xy(r,e){if(pa(e))return om(e,r.getFilters());{const t=e.filters.map(o=>v_(r,o));return co.create(t,"or")}}function Mc(r){if(di(r instanceof fr||r instanceof co),r instanceof fr)return r;const e=r.getFilters();if(1===e.length)return Mc(e[0]);if(rm(r))return r;const t=e.map(a=>Mc(a)),o=[];return t.forEach(a=>{a instanceof fr?o.push(a):a instanceof co&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:co.create(o,r.op)}class fo{constructor(){this.rn=new od}addToCollectionParentIndex(e,t){return this.rn.add(t),mt.resolve()}getCollectionParents(e,t){return mt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return mt.resolve()}deleteFieldIndex(e,t){return mt.resolve()}getDocumentsMatchingTarget(e,t){return mt.resolve(null)}getIndexType(e,t){return mt.resolve(0)}getFieldIndexes(e,t){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,t){return mt.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,t){return mt.resolve(Jn.min())}updateCollectionGroup(e,t,o){return mt.resolve()}updateIndexEntries(e,t){return mt.resolve()}}class od{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new Dr(Vn.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Dr(Vn.comparator)).toArray()}}const Xu=new Uint8Array(0);class y_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new od,this.un=new Tl(o=>tn(o),(o,a)=>Ln(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:Co(a)};return Lm(e).put(u)}return mt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[$n(t),""],!1,!0);return Lm(e).j(a).next(u=>{for(const p of u){if(p.collectionId!==t)break;o.push(ms(p.parent))}return o})}addFieldIndex(e,t){const o=ef(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var p;delete a.indexId;const u=o.add(a);if(t.indexState){const p=Zd(e);return u.next(k=>{p.put(qh(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=ef(e),a=Zd(e),u=sd(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=sd(e);let a=!0;const u=new Map;return mt.forEach(this.cn(t),p=>this.an(e,p).next(k=>{a&&(a=!!k),u.set(p,k)})).next(()=>{if(a){let p=rr();const k=[];return mt.forEach(u,($,X)=>{var ge;In("IndexedDbIndexManager",`Using index ${ge=$,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(Yi=>`${Yi.fieldPath}:${Yi.kind}`).join(",")}`} to execute ${tn(t)}`);const tt=function(Yi,gs){const Uo=x(gs);if(void 0===Uo)return null;for(const Do of vi(Yi,Uo.fieldPath))switch(Do.op){case"array-contains-any":return Do.value.arrayValue.values||[];case"array-contains":return[Do.value]}return null}(X,$),Zt=function(Yi,gs){const Uo=new Map;for(const Do of F(gs))for(const ya of vi(Yi,Do.fieldPath))switch(ya.op){case"==":case"in":Uo.set(Do.fieldPath.canonicalString(),ya.value);break;case"not-in":case"!=":return Uo.set(Do.fieldPath.canonicalString(),ya.value),Array.from(Uo.values())}return null}(X,$),mn=function(Yi,gs){const Uo=[];let Do=!0;for(const ya of F(gs)){const gl=0===ya.kind?dr(Yi,ya.fieldPath,Yi.startAt):ga(Yi,ya.fieldPath,Yi.startAt);Uo.push(gl.value),Do&&(Do=gl.inclusive)}return new $s(Uo,Do)}(X,$),Bn=function(Yi,gs){const Uo=[];let Do=!0;for(const ya of F(gs)){const gl=0===ya.kind?ga(Yi,ya.fieldPath,Yi.endAt):dr(Yi,ya.fieldPath,Yi.endAt);Uo.push(gl.value),Do&&(Do=gl.inclusive)}return new $s(Uo,Do)}(X,$),Xn=this.hn($,X,mn),li=this.hn($,X,Bn),or=this.ln($,X,Zt),zr=this.fn($.indexId,tt,Xn,mn.inclusive,li,Bn.inclusive,or);return mt.forEach(zr,Yi=>o.H(Yi,t.limit).next(gs=>{gs.forEach(Uo=>{const Do=w.fromSegments(Uo.documentKey);p.has(Do)||(p=p.add(Do),k.push(Do))})}))}).next(()=>k)}return mt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wy(co.create(e.filters,"and")).map(o=>Mt(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,p,k){const $=(null!=t?t.length:1)*Math.max(o.length,u.length),X=$/(null!=t?t.length:1),ge=[];for(let tt=0;tt<$;++tt){const Zt=t?this.dn(t[tt/X]):Xu,mn=this.wn(e,Zt,o[tt%X],a),Bn=this._n(e,Zt,u[tt%X],p),Xn=k.map(li=>this.wn(e,Zt,li,!0));ge.push(...this.createRange(mn,Bn,Xn))}return ge}wn(e,t,o,a){const u=new Bo(e,w.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new Bo(e,w.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Rm(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let p=null;for(const k of u)o.tn(k)&&(!p||k.fields.length>p.fields.length)&&(p=k);return p})}getIndexType(e,t){let o=2;const a=this.cn(t);return mt.forEach(a,u=>this.an(e,u).next(p=>{p?0!==o&&p.fields.length<function(k){let $=new Dr(Di.comparator),X=!1;for(const ge of k.filters)for(const tt of ge.getFlattenedFilters())tt.field.isKeyField()||("array-contains"===tt.op||"array-contains-any"===tt.op?X=!0:$=$.add(tt.field));for(const ge of k.orderBy)ge.field.isKeyField()||($=$.add(ge.field));return $.size+(X?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new Qu;for(const a of F(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const p=o.He(a.kind);rd.Ve._e(u,p)}return o.Qe()}dn(e){const t=new Qu;return rd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new Qu;return rd.Ve._e(N(this.databaseId,t),o.He(function(a){const u=F(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new Qu);let u=0;for(const p of F(e)){const k=o[u++];for(const $ of a)if(this.yn(t,p.fieldPath)&&Pe(k))a=this.pn(a,p,k);else{const X=$.He(p.kind);rd.Ve._e(k,X)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const p of o.arrayValue.values||[])for(const k of a){const $=new Qu;$.seed(k.Qe()),rd.Ve._e(p,$.He(t.kind)),u.push($)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof fr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=ef(e),a=Zd(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const p=[];return mt.forEach(u,k=>a.get([k.indexId,this.uid]).next($=>{p.push(function(X,ge){const tt=ge?new Dt(ge.sequenceNumber,new Jn(Ic(ge.readTime),new w(ms(ge.documentKey)),ge.largestBatchId)):Dt.empty(),Zt=X.fields.map(([mn,Bn])=>new ve(Di.fromServerFormat(mn),Bn));return new M(X.indexId,X.collectionGroup,Zt,tt)}(k,$))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:vt(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=ef(e),u=Zd(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>mt.forEach(k,$=>u.put(qh($.indexId,this.user,p,o)))))}updateIndexEntries(e,t){const o=new Map;return mt.forEach(t,(a,u)=>{const p=o.get(a.collectionGroup);return(p?mt.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(k=>(o.set(a.collectionGroup,k),mt.forEach(k,$=>this.En(e,a,$).next(X=>{const ge=this.An(u,$);return X.isEqual(ge)?mt.resolve():this.vn(e,u,$,X,ge)}))))})}Rn(e,t,o,a){return sd(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return sd(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=sd(e);let u=new Dr(Tc);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(p,k)=>{u=u.add(new Bo(o.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>u)}An(e,t){let o=new Dr(Tc);const a=this.mn(t,e);if(null==a)return o;const u=x(t);if(null!=u){const p=e.data.field(u.fieldPath);if(Pe(p))for(const k of p.arrayValue.values||[])o=o.add(new Bo(t.indexId,e.key,this.dn(k),a))}else o=o.add(new Bo(t.indexId,e.key,Xu,a));return o}vn(e,t,o,a,u){In("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(k,$,X,ge,tt){const Zt=k.getIterator(),mn=$.getIterator();let Bn=La(Zt),Xn=La(mn);for(;Bn||Xn;){let li=!1,or=!1;if(Bn&&Xn){const zr=X(Bn,Xn);zr<0?or=!0:zr>0&&(li=!0)}else null!=Bn?or=!0:li=!0;li?(ge(Xn),Xn=La(mn)):or?(tt(Bn),Bn=La(Zt)):(Bn=La(Zt),Xn=La(mn))}}(a,u,Tc,k=>{p.push(this.Rn(e,t,o,k))},k=>{p.push(this.Pn(e,t,o,k))}),mt.waitFor(p)}Tn(e){let t=1;return Zd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((p,k)=>Tc(p,k)).filter((p,k,$)=>!k||0!==Tc(p,$[k-1]));const a=[];a.push(e);for(const p of o){const k=Tc(p,e),$=Tc(p,t);if(0===k)a[0]=e.Je();else if(k>0&&$<0)a.push(p),a.push(p.Je());else if($>0)break}a.push(t);const u=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];u.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Xu,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Xu,[]]))}return u}bn(e,t){return Tc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bm)}getMinOffset(e,t){return mt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||ii())).next(Bm)}}function Lm(r){return Es(r,"collectionParents")}function sd(r){return Es(r,"indexEntries")}function ef(r){return Es(r,"indexConfiguration")}function Zd(r){return Es(r,"indexState")}function Bm(r){di(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;Xi(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Jn(e.readTime,e.documentKey,t)}const tf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Da{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Da(e,Da.DEFAULT_COLLECTION_PERCENTILE,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nf(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],p=IDBKeyRange.only(t.batchId);let k=0;const $=o.X({range:p},(ge,tt,Zt)=>(k++,Zt.delete()));u.push($.next(()=>{di(1===k)}));const X=[];for(const ge of t.mutations){const tt=uc(e,ge.key.path,t.batchId);u.push(a.delete(tt)),X.push(ge.key)}return mt.waitFor(u).next(()=>X)}function rf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ii();e=r.noDocument}return JSON.stringify(e).length}Da.DEFAULT_COLLECTION_PERCENTILE=10,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Da.DEFAULT=new Da(41943040,Da.DEFAULT_COLLECTION_PERCENTILE,Da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Da.DISABLED=new Da(-1,0,0);class Yd{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){di(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Yd(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).X({index:"userMutationsIndex",range:o},(a,u,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=Xa(e),p=Xl(e);return p.add({}).next(k=>{di("number"==typeof k);const $=new Hu(k,t,o,a),X=function(Zt,mn,Bn){const Xn=Bn.baseMutations.map(or=>ll(Zt.fe,or)),li=Bn.mutations.map(or=>ll(Zt.fe,or));return{userId:mn,batchId:Bn.batchId,localWriteTimeMs:Bn.localWriteTime.toMillis(),baseMutations:Xn,mutations:li}}(this.serializer,this.userId,$),ge=[];let tt=new Dr((Zt,mn)=>vt(Zt.canonicalString(),mn.canonicalString()));for(const Zt of a){const mn=uc(this.userId,Zt.key.path,k);tt=tt.add(Zt.key.path.popLast()),ge.push(p.put(X)),ge.push(u.put(mn,hc))}return tt.forEach(Zt=>{ge.push(this.indexManager.addToCollectionParentIndex(e,Zt))}),e.addOnCommittedListener(()=>{this.Vn[k]=$.keys()}),mt.waitFor(ge).next(()=>$)})}lookupMutationBatch(e,t){return Xl(e).get(t).next(o=>o?(di(o.userId===this.userId),Sc(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?mt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return Xl(e).X({index:"userMutationsIndex",range:a},(p,k,$)=>{k.userId===this.userId&&(di(k.batchId>=o),u=Sc(this.serializer,k)),$.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Xl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,p)=>{o=u.batchId,p.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).j("userMutationsIndex",t).next(o=>o.map(a=>Sc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=ma(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return Xa(e).X({range:a},(p,k,$)=>{const[X,ge,tt]=p,Zt=ms(ge);if(X===this.userId&&t.path.isEqual(Zt))return Xl(e).get(tt).next(mn=>{if(!mn)throw ii();di(mn.userId===this.userId),u.push(Sc(this.serializer,mn))});$.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Dr(vt);const a=[];return t.forEach(u=>{const p=ma(this.userId,u.path),k=IDBKeyRange.lowerBound(p),$=Xa(e).X({range:k},(X,ge,tt)=>{const[Zt,mn,Bn]=X,Xn=ms(mn);Zt===this.userId&&u.path.isEqual(Xn)?o=o.add(Bn):tt.done()});a.push($)}),mt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=ma(this.userId,o),p=IDBKeyRange.lowerBound(u);let k=new Dr(vt);return Xa(e).X({range:p},($,X,ge)=>{const[tt,Zt,mn]=$,Bn=ms(Zt);tt===this.userId&&o.isPrefixOf(Bn)?Bn.length===a&&(k=k.add(mn)):ge.done()}).next(()=>this.Dn(e,k))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(Xl(e).get(u).next(p=>{if(null===p)throw ii();di(p.userId===this.userId),o.push(Sc(this.serializer,p))}))}),mt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return nf(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),mt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return mt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Xa(e).X({range:o},(u,p,k)=>{if(u[0]===this.userId){const $=ms(u[1]);a.push($)}else k.done()}).next(()=>{di(0===a.length)})})}containsKey(e,t){return Um(e,this.userId,t)}xn(e){return b_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Um(r,e,t){const o=ma(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let p=!1;return Xa(r).X({range:u,Y:!0},(k,$,X)=>{const[ge,tt,Zt]=k;ge===e&&tt===a&&(p=!0),X.done()}).next(()=>p)}function Xl(r){return Es(r,"mutations")}function Xa(r){return Es(r,"documentMutations")}function b_(r){return Es(r,"mutationQueues")}class Jl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Jl(0)}static Mn(){return new Jl(-1)}}class sf{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new Jl(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>kn.fromTimestamp(new Mn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(di(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return qd(e).X((p,k)=>{const $=Kd(k);$.sequenceNumber<=t&&null===o.get($.targetId)&&(a++,u.push(this.removeTargetData(e,$)))}).next(()=>mt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return qd(e).X((o,a)=>{const u=Kd(a);t(u)})}$n(e){return af(e).get("targetGlobalKey").next(t=>(di(null!==t),t))}On(e,t){return af(e).put("targetGlobalKey",t)}Fn(e,t){return qd(e).put(vy(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=tn(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return qd(e).X({range:a,index:"queryTargetsIndex"},(p,k,$)=>{const X=Kd(k);Ln(t,X.target)&&(u=X,$.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=dl(e);return t.forEach(p=>{const k=Co(p.path);a.push(u.put({targetId:o,path:k})),a.push(this.referenceDelegate.addReference(e,o,p))}),mt.waitFor(a)}removeMatchingKeys(e,t,o){const a=dl(e);return mt.forEach(t,u=>{const p=Co(u.path);return mt.waitFor([a.delete([o,p]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=dl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=dl(e);let u=rr();return a.X({range:o,Y:!0},(p,k,$)=>{const X=ms(p[1]),ge=new w(X);u=u.add(ge)}).next(()=>u)}containsKey(e,t){const o=Co(t.path),a=IDBKeyRange.bound([o],[$n(o)],!1,!0);let u=0;return dl(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,k],$,X)=>{0!==p&&(u++,X.done())}).next(()=>u>0)}le(e,t){return qd(e).get(t).next(o=>o?Kd(o):null)}}function qd(r){return Es(r,"targets")}function af(r){return Es(r,"targetGlobal")}function dl(r){return Es(r,"targetDocuments")}function Ac([r,e],[t,o]){const a=vt(r,t);return 0===a?vt(e,o):a}class Vm{constructor(e){this.Ln=e,this.buffer=new Dr(Ac),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Ac(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lf{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;In("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Re.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ao(o)?In("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield fs(o)}yield t.Qn(3e5)}))}}class Ey{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return mt.resolve(jr.ct);const o=new Vm(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(In("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(tf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(In("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tf):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,p,k,$,X;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(tt=>(tt>this.params.maximumSequenceNumbersToCollect?(In("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${tt}`),a=this.params.maximumSequenceNumbersToCollect):a=tt,p=Date.now(),this.nthSequenceNumber(e,a))).next(tt=>(o=tt,k=Date.now(),this.removeTargets(e,o,t))).next(tt=>(u=tt,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(tt=>(X=Date.now(),Pa()<=Ie.in.DEBUG&&In("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-ge}ms\n\tDetermined least recently used ${a} in `+(k-p)+`ms\n\tRemoved ${u} targets in `+($-k)+`ms\n\tRemoved ${tt} documents in `+(X-$)+`ms\nTotal Duration: ${X-ge}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:tt})))}}class x_{constructor(e,t){this.db=e,this.garbageCollector=function w_(r,e){return new Ey(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return ec(e,o)}removeReference(e,t,o){return ec(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return ec(e,t)}Xn(e,t){return function(o,a){let u=!1;return b_(o).Z(p=>Um(o,p,a).next(k=>(k&&(u=!0),mt.resolve(!k)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(p,k)=>{if(k<=t){const $=this.Xn(e,p).next(X=>{if(!X)return u++,o.getEntry(e,p).next(()=>(o.removeEntry(p,kn.min()),dl(e).delete([0,Co(p.path)])))});a.push($)}}).next(()=>mt.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return ec(e,t)}Yn(e,t){const o=dl(e);let a,u=jr.ct;return o.X({index:"documentTargetsIndex"},([p,k],{path:$,sequenceNumber:X})=>{0===p?(u!==jr.ct&&t(new w(ms(a)),u),u=X,a=$):u=jr.ct}).next(()=>{u!==jr.ct&&t(new w(ms(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ec(r,e){return dl(r).put((o=r.currentSequenceNumber,{targetId:0,path:Co(e.path),sequenceNumber:o}));var o}class E_{constructor(){this.changes=new Tl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?mt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return ad(e).put(o)}removeEntry(e,t,o){return ad(e).delete(function(a,u){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Qa(u),p[p.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=eo.newInvalidDocument(t);return ad(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qd(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:eo.newInvalidDocument(t)};return ad(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qd(t))},(a,u)=>{o={document:this.ts(t,u),size:rf(u)}}).next(()=>o)}getEntries(e,t){let o=Oa();return this.ns(e,t,(a,u)=>{const p=this.ts(a,u);o=o.insert(a,p)}).next(()=>o)}ss(e,t){let o=Oa(),a=new Cr(w.comparator);return this.ns(e,t,(u,p)=>{const k=this.ts(u,p);o=o.insert(u,k),a=a.insert(u,rf(p))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return mt.resolve();let a=new Dr(Dy);t.forEach($=>a=a.add($));const u=IDBKeyRange.bound(Qd(a.first()),Qd(a.last())),p=a.getIterator();let k=p.getNext();return ad(e).X({index:"documentKeyIndex",range:u},($,X,ge)=>{const tt=w.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;k&&Dy(k,tt)<0;)o(k,null),k=p.getNext();k&&k.isEqual(tt)&&(o(k,X),k=p.hasNext()?p.getNext():null),k?ge.G(Qd(k)):ge.done()}).next(()=>{for(;k;)o(k,null),k=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,p=[u.popLast().toArray(),u.lastSegment(),Qa(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],k=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ad(e).j(IDBKeyRange.bound(p,k,!0)).next($=>{let X=Oa();for(const ge of $){const tt=this.ts(w.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);tt.isFoundDocument()&&(ka(t,tt)||a.has(tt.key))&&(X=X.insert(tt.key,tt))}return X})}getAllFromCollectionGroup(e,t,o,a){let u=Oa();const p=cf(t,o),k=cf(t,Jn.max());return ad(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,k,!0)},($,X,ge)=>{const tt=this.ts(w.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);u=u.insert(tt.key,tt),u.size===a&&ge.done()}).next(()=>u)}newChangeBuffer(e){return new jm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hm(e).get("remoteDocumentGlobalKey").next(t=>(di(!!t),t))}Zn(e,t){return Hm(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function _y(r,e){let t;if(e.document)t=Sm(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=w.fromSegments(e.noDocument.path),a=Ic(e.noDocument.readTime);t=eo.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ii();{const o=w.fromSegments(e.unknownDocument.path),a=Ic(e.unknownDocument.version);t=eo.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new Mn(o[0],o[1]);return kn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(kn.min()))return o}return eo.newInvalidDocument(e)}}function C_(r){return new Cy(r)}class jm extends E_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Tl(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new Dr((u,p)=>vt(u.canonicalString(),p.canonicalString()));return this.changes.forEach((u,p)=>{const k=this.us.get(u);if(t.push(this.os.removeEntry(e,u,k.readTime)),p.isValidDocument()){const $=Yu(this.os.serializer,p);a=a.add(u.path.popLast());const X=rf($);o+=X-k.size,t.push(this.os.addEntry(e,u,$))}else if(o-=k.size,this.trackRemovals){const $=Yu(this.os.serializer,p.convertToNoDocument(kn.min()));t.push(this.os.addEntry(e,u,$))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),mt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,p)=>{this.us.set(u,{size:p,readTime:o.get(u).readTime})}),o))}}function Hm(r){return Es(r,"remoteDocumentGlobal")}function ad(r){return Es(r,"remoteDocumentsV14")}function Qd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cf(r,e){const t=e.documentKey.path.toArray();return[r,Qa(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Dy(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=vt(t[u],o[u]),a)return a;return a=vt(t.length,o.length),a||(a=vt(t[t.length-2],o[o.length-2]),a||vt(t[t.length-1],o[o.length-1]))}class Iy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D_{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&xc(o.mutation,a,Vs.empty(),Mn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,rr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=rr()){const a=Ml();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let p=Uu();return u.forEach((k,$)=>{p=p.insert(k,$.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const o=Ml();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,rr()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((p,k)=>{t.set(p,k)})})}computeViews(e,t,o,a){let u=Oa();const p=Qs(),k=Qs();return t.forEach(($,X)=>{const ge=o.get(X.key);a.has(X.key)&&(void 0===ge||ge.mutation instanceof Kl)?u=u.insert(X.key,X):void 0!==ge?(p.set(X.key,ge.mutation.getFieldMask()),xc(ge.mutation,X,ge.mutation.getFieldMask(),Mn.now())):p.set(X.key,Vs.empty())}),this.recalculateAndSaveOverlays(e,u).next($=>($.forEach((X,ge)=>p.set(X,ge)),t.forEach((X,ge)=>{var tt;return k.set(X,new Iy(ge,null!==(tt=p.get(X))&&void 0!==tt?tt:null))}),k))}recalculateAndSaveOverlays(e,t){const o=Qs();let a=new Cr((p,k)=>p-k),u=rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const k of p)k.keys().forEach($=>{const X=t.get($);if(null===X)return;let ge=o.get($)||Vs.empty();ge=k.applyToLocalView(X,ge),o.set($,ge);const tt=(a.get(k.batchId)||rr()).add($);a=a.insert(k.batchId,tt)})}).next(()=>{const p=[],k=a.getReverseIterator();for(;k.hasNext();){const $=k.getNext(),X=$.key,ge=$.value,tt=Vg();ge.forEach(Zt=>{if(!u.has(Zt)){const mn=mm(t.get(Zt),o.get(Zt));null!==mn&&tt.set(Zt,mn),u=u.add(Zt)}}),p.push(this.documentOverlayCache.saveOverlays(e,X,tt))}return mt.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return w.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):zl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const p=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):mt.resolve(Ml());let k=-1,$=u;return p.next(X=>mt.forEach(X,(ge,tt)=>(k<tt.largestBatchId&&(k=tt.largestBatchId),u.get(ge)?mt.resolve():this.remoteDocumentCache.getEntry(e,ge).next(Zt=>{$=$.insert(ge,Zt)}))).next(()=>this.populateOverlays(e,X,u)).next(()=>this.computeViews(e,$,X,rr())).next(ge=>({batchId:k,changes:lm(ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new w(t)).next(o=>{let a=Uu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=Uu();return this.indexManager.getCollectionParents(e,a).next(p=>mt.forEach(p,k=>{const $=(X=t,ge=k.child(a),new aa(ge,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,ge;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(X=>{X.forEach((ge,tt)=>{u=u.insert(ge,tt)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((k,$)=>{const X=$.getKey();null===u.get(X)&&(u=u.insert(X,eo.newInvalidDocument(X)))});let p=Uu();return u.forEach((k,$)=>{const X=a.get(k);void 0!==X&&xc(X.mutation,$,Vs.empty(),Mn.now()),ka(t,$)&&(p=p.insert(k,$))}),p})}}class Sy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return mt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Wo(o.createTime)}),mt.resolve()}getNamedQuery(e,t){return mt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:f_(o.bundledQuery),readTime:Wo(o.readTime)}),mt.resolve();var o}}class p0{constructor(){this.overlays=new Cr(w.comparator),this.ls=new Map}getOverlay(e,t){return mt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ml();return mt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),mt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),mt.resolve()}getOverlaysForCollection(e,t,o){const a=Ml(),u=t.length+1,p=new w(t.child("")),k=this.overlays.getIteratorFrom(p);for(;k.hasNext();){const $=k.getNext().value,X=$.getKey();if(!t.isPrefixOf(X.path))break;X.path.length===u&&$.largestBatchId>o&&a.set($.getKey(),$)}return mt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new Cr((X,ge)=>X-ge);const p=this.overlays.getIterator();for(;p.hasNext();){const X=p.getNext().value;if(X.getKey().getCollectionGroup()===t&&X.largestBatchId>o){let ge=u.get(X.largestBatchId);null===ge&&(ge=Ml(),u=u.insert(X.largestBatchId,ge)),ge.set(X.getKey(),X)}}const k=Ml(),$=u.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((X,ge)=>k.set(X,ge)),!(k.size()>=a)););return mt.resolve(k)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new vm(t,o));let u=this.ls.get(t);void 0===u&&(u=rr(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class I_{constructor(){this.fs=new Dr(Fs.ds),this.ws=new Dr(Fs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Fs(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Fs(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new w(new Vn([])),o=new Fs(t,e),a=new Fs(t,e+1),u=[];return this.ws.forEachInRange([o,a],p=>{this.ys(p),u.push(p.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new w(new Vn([])),o=new Fs(t,e),a=new Fs(t,e+1);let u=rr();return this.ws.forEachInRange([o,a],p=>{u=u.add(p.key)}),u}containsKey(e){const t=new Fs(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Fs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return w.comparator(e.key,t.key)||vt(e.As,t.As)}static _s(e,t){return vt(e.As,t.As)||w.comparator(e.key,t.key)}}class Ty{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Dr(Fs.ds)}checkEmpty(e){return mt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const p=new Hu(u,t,o,a);this.mutationQueue.push(p);for(const k of a)this.Rs=this.Rs.add(new Fs(k.key,u)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return mt.resolve(p)}lookupMutationBatch(e,t){return mt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return mt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Fs(t,0),a=new Fs(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],p=>{const k=this.Ps(p.As);u.push(k)}),mt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Dr(vt);return t.forEach(a=>{const u=new Fs(a,0),p=new Fs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,p],k=>{o=o.add(k.As)})}),mt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;w.isDocumentKey(u)||(u=u.child(""));const p=new Fs(new w(u),0);let k=new Dr(vt);return this.Rs.forEachWhile($=>{const X=$.key.path;return!!o.isPrefixOf(X)&&(X.length===a&&(k=k.add($.As)),!0)},p),mt.resolve(this.Vs(k))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){di(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return mt.forEach(t.mutations,a=>{const u=new Fs(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Fs(t,0),a=this.Rs.firstAfterOrEqual(o);return mt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return mt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zm{constructor(e){this.Ds=e,this.docs=new Cr(w.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p}),this.size+=p-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return mt.resolve(o?o.document.mutableCopy():eo.newInvalidDocument(t))}getEntries(e,t){let o=Oa();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():eo.newInvalidDocument(a))}),mt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=Oa();const p=t.path,k=new w(p.child("")),$=this.docs.getIteratorFrom(k);for(;$.hasNext();){const{key:X,value:{document:ge}}=$.getNext();if(!p.isPrefixOf(X.path))break;X.path.length>p.length+1||Xi(ai(ge),o)<=0||(a.has(ge.key)||ka(t,ge))&&(u=u.insert(ge.key,ge.mutableCopy()))}return mt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){ii()}Cs(e,t){return mt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new $m(this)}getSize(e){return mt.resolve(this.size)}}class $m extends E_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),mt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ju{constructor(e){this.persistence=e,this.xs=new Tl(t=>tn(t),Ln),this.lastRemoteSnapshotVersion=kn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new I_,this.targetCount=0,this.Ms=Jl.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),mt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Jl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,mt.resolve()}updateTargetData(e,t){return this.Fn(t),mt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((p,k)=>{k.sequenceNumber<=t&&null===o.get(k.targetId)&&(this.xs.delete(p),u.push(this.removeMatchingKeysForTargetId(e,k.targetId)),a++)}),mt.waitFor(u).next(()=>a)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return mt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),mt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(p=>{u.push(a.markPotentiallyOrphaned(e,p))}),mt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),mt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return mt.resolve(o)}containsKey(e,t){return mt.resolve(this.ks.containsKey(t))}}class eh{constructor(e,t){this.$s={},this.overlays={},this.Os=new jr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ju(this),this.indexManager=new fo,this.remoteDocumentCache=new zm(o=>this.referenceDelegate.Ls(o)),this.serializer=new h_(t),this.qs=new Sy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Ty(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){In("MemoryPersistence","Starting transaction:",e);const a=new Gm(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return mt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Gm extends Ea{constructor(e){super(),this.currentSequenceNumber=e}}class kc{constructor(e){this.persistence=e,this.Qs=new I_,this.js=null}static zs(e){return new kc(e)}get Ws(){if(this.js)return this.js;throw ii()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),mt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),mt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),mt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.Ws,o=>{const a=w.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,kn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return mt.or([()=>mt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class th{constructor(e){this.serializer=e}O(e,t,o,a){const u=new ui("createOrUpgrade",t);var k;o<1&&a>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bl,{unique:!0}),k.createObjectStore("documentMutations"),Wm(e),function(k){k.createObjectStore("remoteDocuments")}(e));let p=mt.resolve();return o<3&&a>=3&&(0!==o&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),Wm(e)),p=p.next(()=>function(k){const $=k.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",X)}(u))),o<4&&a>=4&&(0!==o&&(p=p.next(()=>function(k,$){return $.store("mutations").j().next(X=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bl,{unique:!0});const ge=$.store("mutations"),tt=X.map(Zt=>ge.put(Zt));return mt.waitFor(tt)})}(e,u))),p=p.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(p=p.next(()=>this.Ys(u))),o<6&&a>=6&&(p=p.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(p=p.next(()=>this.Zs(u))),o<8&&a>=8&&(p=p.next(()=>this.ti(e,u))),o<9&&a>=9&&(p=p.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(p=p.next(()=>this.ei(u))),o<11&&a>=11&&(p=p.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(p=p.next(()=>{!function(k){const $=k.createObjectStore("documentOverlays",{keyPath:za});$.createIndex("collectionPathOverlayIndex",Pu,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Kc,{unique:!1})}(e)})),o<13&&a>=13&&(p=p.next(()=>function(k){const $=k.createObjectStore("remoteDocumentsV14",{keyPath:fc});$.createIndex("documentKeyIndex",mc),$.createIndex("collectionGroupIndex",$c)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(p=p.next(()=>this.si(e,u))),o<15&&a>=15&&(p=p.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Gc}).createIndex("sequenceNumberIndex",Wc,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Bh}).createIndex("documentKeyIndex",pc,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=rf(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>mt.forEach(a,u=>{const p=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",p).next(k=>mt.forEach(k,$=>{di($.userId===u.userId);const X=Sc(this.serializer,$);return nf(e,u.userId,X).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((p,k)=>{const $=new Vn(p),X=[0,Co($)];u.push(t.get(X).next(ge=>ge?mt.resolve():t.put({targetId:0,path:Co($),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>mt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:wl});const o=t.store("collectionParents"),a=new od,u=p=>{if(a.add(p)){const k=p.lastSegment(),$=p.popLast();return o.put({collectionId:k,parent:Co($)})}};return t.store("remoteDocuments").X({Y:!0},(p,k)=>{const $=new Vn(p);return u($.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,k,$],X)=>{const ge=ms(k);return u(ge.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=Kd(a),p=vy(this.serializer,u);return t.put(p)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,p)=>{const k=t.store("remoteDocumentsV14"),$=(X=p,X.document?new w(Vn.fromString(X.document.name).popFirst(5)):X.noDocument?w.fromSegments(X.noDocument.path):X.unknownDocument?w.fromSegments(X.unknownDocument.path):ii()).path.toArray();var X;const ge={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(k.put(ge))}).next(()=>mt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=C_(this.serializer),u=new eh(kc.zs,this.serializer.fe);return o.j().next(p=>{const k=new Map;return p.forEach($=>{var X;let ge=null!==(X=k.get($.userId))&&void 0!==X?X:rr();Sc(this.serializer,$).keys().forEach(tt=>ge=ge.add(tt)),k.set($.userId,ge)}),mt.forEach(k,($,X)=>{const ge=new vo(X),tt=Qh.de(this.serializer,ge),Zt=u.getIndexManager(ge),mn=Yd.de(ge,this.serializer,Zt,u.referenceDelegate);return new D_(a,mn,tt,Zt).recalculateAndSaveOverlaysForDocumentKeys(new Yc(t,jr.ct),$).next()})})}}function Wm(r){r.createObjectStore("targetDocuments",{keyPath:Lh}).createIndex("documentTargetsIndex",Ru,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fa,{unique:!0}),r.createObjectStore("targetGlobal")}const nh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xd{constructor(e,t,o,a,u,p,k,$,X,ge,tt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=p,this.document=k,this.ri=X,this.oi=ge,this.ui=tt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Zt=>Promise.resolve(),!Xd.D())throw new yn(Jt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x_(this,a),this.di=t+"main",this.serializer=new h_($),this.wi=new Ri(this.di,this.ui,new th(this.serializer)),this.Bs=new sf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C_(this.serializer),this.qs=new m0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ge&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yn(Jt.FAILED_PRECONDITION,nh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new jr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,Re.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Re.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Re.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ao(e))return In("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return In("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return df(e).get("owner").next(t=>mt.resolve(this.Ri(t)))}Pi(e){return Jd(e).delete(this.clientId)}bi(){var e=this;return(0,Re.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=Es(o,"clientMetadata");return a.j().next(u=>{const p=e.Si(u,18e5),k=u.filter($=>-1===p.indexOf($));return mt.forEach(k,$=>a.delete($.clientId)).next(()=>k)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?mt.resolve(!0):df(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new yn(Jt.FAILED_PRECONDITION,nh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&In("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Re.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Yc(t,jr.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Jd(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Yd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){In("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(p=this.ui)?Vl:14===p?Zc:13===p?Rd:12===p?$a:11===p?gc:void ii();var p;let k;return this.wi.runTransaction(e,a,u,$=>(k=new Yc($,this.Os?this.Os.next():jr.ct),"readwrite-primary"===t?this.Ti(k).next(X=>!!X||this.Ei(k)).next(X=>{if(!X)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new yn(Jt.FAILED_PRECONDITION,Jr);return o(k)}).next(X=>this.vi(k).next(()=>X)):this.Oi(k).next(()=>o(k)))).then($=>(k.raiseOnCommittedEvent(),$))}Oi(e){return df(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new yn(Jt.FAILED_PRECONDITION,nh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return df(e).put("owner",t)}static D(){return Ri.D()}Ai(e){const t=df(e);return t.get("owner").next(o=>this.Ri(o)?(In("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):mt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(xr(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,be.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return In("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return xr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function df(r){return Es(r,"owner")}function Jd(r){return Es(r,"clientMetadata")}function ih(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class uf{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=rr(),a=rr();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new uf(e,t.fromCache,o,a)}}class S_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Bu(t))return mt.resolve(null);let o=Gs(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=qa(t,null,"F"),o=Gs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const p=rr(...u);return this.Ui.getDocuments(e,p).next(k=>this.indexManager.getMinOffset(e,o).next($=>{const X=this.ji(t,k);return this.zi(t,X,p,$.readTime)?this.Ki(e,qa(t,null,"F")):this.Wi(e,X,t,$)}))})))}Gi(e,t,o,a){return Bu(t)||a.isEqual(kn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const p=this.ji(t,u);return this.zi(t,p,o,a)?this.Qi(e,t):(Pa()<=Ie.in.DEBUG&&In("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wc(t)),this.Wi(e,p,t,bn(a,-1)))})}ji(e,t){let o=new Dr(Bg(e));return t.forEach((a,u)=>{ka(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return Pa()<=Ie.in.DEBUG&&In("QueryEngine","Using full collection scan to execute query:",wc(t)),this.Ui.getDocumentsMatchingQuery(e,t,Jn.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(p=>{u=u.insert(p.key,p)}),u))}}class My{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Cr(vt),this.Yi=new Tl(u=>tn(u),Ln),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Km(r,e,t,o){return new My(r,e,t,o)}function Zm(r,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,Re.Z)(function*(r,e){const t=Un(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const p=[],k=[];let $=rr();for(const X of a){p.push(X.batchId);for(const ge of X.mutations)$=$.add(ge.key)}for(const X of u){k.push(X.batchId);for(const ge of X.mutations)$=$.add(ge.key)}return t.localDocuments.getDocuments(o,$).next(X=>({er:X,removedBatchIds:p,addedBatchIds:k}))})})}),Ym.apply(this,arguments)}function ky(r){const e=Un(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hf(r,e,t){let o=rr(),a=rr();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let p=Oa();return t.forEach((k,$)=>{const X=u.get(k);$.isFoundDocument()!==X.isFoundDocument()&&(a=a.add(k)),$.isNoDocument()&&$.version.isEqual(kn.min())?(e.removeEntry(k,$.readTime),p=p.insert(k,$)):!X.isValidDocument()||$.version.compareTo(X.version)>0||0===$.version.compareTo(X.version)&&X.hasPendingWrites?(e.addEntry($),p=p.insert(k,$)):In("LocalStore","Ignoring outdated watch update for ",k,". Current version:",X.version," Watch version:",$.version)}),{nr:p,sr:a}})}function qm(r,e){const t=Un(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function eu(r,e){const t=Un(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,mt.resolve(a)):t.Bs.allocateTargetId(o).next(p=>(a=new Ql(e,p,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function cd(r,e,t){return rh.apply(this,arguments)}function rh(){return rh=(0,Re.Z)(function*(r,e,t){const o=Un(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,p=>o.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!ao(p))throw p;In("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),rh.apply(this,arguments)}function dd(r,e,t){const o=Un(r);let a=kn.min(),u=rr();return o.persistence.runTransaction("Execute query","readonly",p=>function(k,$,X){const ge=Un(k),tt=ge.Yi.get(X);return void 0!==tt?mt.resolve(ge.Ji.get(tt)):ge.Bs.getTargetData($,X)}(o,p,Gs(e)).next(k=>{if(k)return a=k.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(p,k.targetId).next($=>{u=$})}).next(()=>o.Hi.getDocumentsMatchingQuery(p,e,t?a:kn.min(),t?u:rr())).next(k=>(M_(o,Lg(e),k),{documents:k,ir:u})))}function T_(r,e){const t=Un(r),o=Un(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(p=>p?p.target:null))}function Qm(r,e){const t=Un(r),o=t.Xi.get(e)||kn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,bn(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(M_(t,e,a),a))}function M_(r,e,t){let o=r.Xi.get(e)||kn.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function k_(){return k_=(0,Re.Z)(function*(r,e,t,o){const a=Un(r);let u=rr(),p=Oa();for(const X of t){const ge=e.rr(X.metadata.name);X.document&&(u=u.add(ge));const tt=e.ur(X);tt.setReadTime(e.cr(X.metadata.readTime)),p=p.insert(ge,tt)}const k=a.Zi.newChangeBuffer({trackRemovals:!0}),$=yield eu(a,(X=o,Gs(vc(Vn.fromString(`__bundle__/docs/${X}`)))));var X;return a.persistence.runTransaction("Apply bundle documents","readwrite",X=>hf(X,k,p).next(ge=>(k.apply(X),ge)).next(ge=>a.Bs.removeMatchingKeysForTargetId(X,$.targetId).next(()=>a.Bs.addMatchingKeys(X,u,$.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(X,ge.nr,ge.sr)).next(()=>ge.nr)))}),k_.apply(this,arguments)}function Ry(r,e){return ud.apply(this,arguments)}function ud(){return ud=(0,Re.Z)(function*(r,e,t=rr()){const o=yield eu(r,Gs(f_(e.bundledQuery))),a=Un(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const p=Wo(e.readTime);if(o.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(u,e);const k=o.withResumeToken(Xo.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(k.targetId,k),a.Bs.updateTargetData(u,k).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),ud.apply(this,arguments)}function O_(r,e){return`firestore_clients_${r}_${e}`}function hd(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function fd(r,e){return`firestore_targets_${r}_${e}`}class ff{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(u=new yn(a.error.code,a.error.message))),p?new ff(e,t,a.state,u):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new yn(o.error.code,o.error.message))),u?new tu(e,o.state,a):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=Qc();for(let p=0;a&&p<o.activeTargetIds.length;++p)a=Ul(o.activeTargetIds[p]),u=u.add(o.activeTargetIds[p]);return a?new mf(e,u):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xm{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xm(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jm{constructor(){this.activeTargetIds=Qc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pf{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Cr(vt),this.started=!1,this.yr=[];const p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=O_(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Jm),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Re.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(O_(e.persistenceKey,a));if(u){const p=mf.ar(a,u);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(fd(this.persistenceKey,e));if(o){const a=tu.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fd(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return In("SharedClientState","READ",e,t),t}setItem(e,t){In("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){In("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(In("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Re.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let p=jr.ct;if(null!=u)try{const k=JSON.parse(u);di("number"==typeof k),p=k}catch(k){xr("SharedClientState","Failed to read sequence number from WebStorage",k)}return p}(o.newValue);a!==jr.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new ff(this.currentUser,e,t,o),u=hd(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=hd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=fd(this.persistenceKey,e),u=new tu(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return mf.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return ff.ar(new vo(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return tu.ar(a,t)}br(e){return Xm.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);In("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),p=[],k=[];return u.forEach($=>{a.has($)||p.push($)}),a.forEach($=>{u.has($)||k.push($)}),this.syncEngine.Wr(p,k).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Qc();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class ep{constructor(){this.Hr=new Jm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tp{Yr(e){}shutdown(){}}class nu{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){In("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){In("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let oh=null;function R_(){return null===oh?oh=268435456+Math.round(2147483648*Math.random()):oh++,"0x"+oh.toString(16)}const np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ws="WebChannelConnection";class P_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const p=R_(),k=this.To(e,t);In("RestConnection",`Sending RPC '${e}' ${p}:`,k,o);const $={};return this.Eo($,a,u),this.Ao(e,k,$,o).then(X=>(In("RestConnection",`Received RPC '${e}' ${p}: `,X),X),X=>{throw Ss("RestConnection",`RPC '${e}' ${p} failed with error: `,X,"url: ",k,"request:",o),X})}vo(e,t,o,a,u,p){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+hs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${np[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=R_();return new Promise((p,k)=>{const $=new vl;$.setWithCredentials(!0),$.listenOnce(qs.COMPLETE,()=>{try{switch($.getLastErrorCode()){case No.NO_ERROR:const ge=$.getResponseJson();In(Ws,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ge)),p(ge);break;case No.TIMEOUT:In(Ws,`RPC '${e}' ${u} timed out`),k(new yn(Jt.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const tt=$.getStatus();if(In(Ws,`RPC '${e}' ${u} failed with status:`,tt,"response text:",$.getResponseText()),tt>0){let Zt=$.getResponseJson();Array.isArray(Zt)&&(Zt=Zt[0]);const mn=Zt?.error;if(mn&&mn.status&&mn.message){const Bn=function(Xn){const li=Xn.toLowerCase().replace(/_/g,"-");return Object.values(Jt).indexOf(li)>=0?li:Jt.UNKNOWN}(mn.status);k(new yn(Bn,mn.message))}else k(new yn(Jt.UNKNOWN,"Server responded with status "+$.getStatus()))}else k(new yn(Jt.UNAVAILABLE,"Connection failed."));break;default:ii()}}finally{In(Ws,`RPC '${e}' ${u} completed.`)}});const X=JSON.stringify(a);In(Ws,`RPC '${e}' ${u} sending request:`,a),$.send(t,"POST",X,o,15)})}Ro(e,t,o){const a=R_(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=qr(),k=xa(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&($.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&($.xmlHttpFactory=new rl({})),this.Eo($.initMessageHeaders,t,o),$.encodeInitMessageHeaders=!0;const ge=u.join("");In(Ws,`Creating RPC '${e}' stream ${a}: ${ge}`,$);const tt=p.createWebChannel(ge,$);let Zt=!1,mn=!1;const Bn=new iu({ro:li=>{mn?In(Ws,`Not sending because RPC '${e}' stream ${a} is closed:`,li):(Zt||(In(Ws,`Opening RPC '${e}' stream ${a} transport.`),tt.open(),Zt=!0),In(Ws,`RPC '${e}' stream ${a} sending:`,li),tt.send(li))},oo:()=>tt.close()}),Xn=(li,or,zr)=>{li.listen(or,Yi=>{try{zr(Yi)}catch(gs){setTimeout(()=>{throw gs},0)}})};return Xn(tt,fa.EventType.OPEN,()=>{mn||In(Ws,`RPC '${e}' stream ${a} transport opened.`)}),Xn(tt,fa.EventType.CLOSE,()=>{mn||(mn=!0,In(Ws,`RPC '${e}' stream ${a} transport closed`),Bn.wo())}),Xn(tt,fa.EventType.ERROR,li=>{mn||(mn=!0,Ss(Ws,`RPC '${e}' stream ${a} transport errored:`,li),Bn.wo(new yn(Jt.UNAVAILABLE,"The operation could not be completed")))}),Xn(tt,fa.EventType.MESSAGE,li=>{var or;if(!mn){const zr=li.data[0];di(!!zr);const gs=zr.error||(null===(or=zr[0])||void 0===or?void 0:or.error);if(gs){In(Ws,`RPC '${e}' stream ${a} received error:`,gs);const Uo=gs.status;let Do=function(gl){const ku=Go[gl];if(void 0!==ku)return Qg(ku)}(Uo),ya=gs.message;void 0===Do&&(Do=Jt.INTERNAL,ya="Unknown error status: "+Uo+" with message "+gs.message),mn=!0,Bn.wo(new yn(Do,ya)),tt.close()}else In(Ws,`RPC '${e}' stream ${a} received:`,zr),Bn._o(zr)}}),Xn(k,us.STAT_EVENT,li=>{li.stat===ws.PROXY?In(Ws,`RPC '${e}' stream ${a} detected buffering proxy`):li.stat===ws.NOPROXY&&In(Ws,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Bn.fo()},0),Bn}}function ip(){return typeof window<"u"?window:null}function gf(){return typeof document<"u"?document:null}function sh(r){return new hy(r,!0)}class rp{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&In("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F_{constructor(e,t,o,a,u,p,k,$){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=k,this.listener=$,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new rp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Re.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Re.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,Re.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===Jt.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===Jt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new yn(Jt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Re.Z)(function*(){e.state=0,e.start()}))}tu(e){return In("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(In("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Py extends F_{constructor(e,t,o,a,u,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,p),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function s_(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:ii(),a=e.targetChange.targetIds||[],u=function($,X){return $.useProto3Json?(di(void 0===X||"string"==typeof X),Xo.fromBase64String(X||"")):(di(void 0===X||X instanceof Uint8Array),Xo.fromUint8Array(X||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,k=p&&function($){const X=void 0===$.code?Jt.UNKNOWN:Qg($.code);return new yn(X,$.message||"")}(p);t=new Gu(o,a,u,k||null)}else if("documentChange"in e){const o=e.documentChange,a=Al(r,o.document.name),u=Wo(o.document.updateTime),p=o.document.createTime?Wo(o.document.createTime):kn.min(),k=new yr({mapValue:{fields:o.document.fields}}),$=eo.newFoundDocument(a,u,p,k);t=new $u(o.targetIds||[],o.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const o=e.documentDelete,a=Al(r,o.document),u=o.readTime?Wo(o.readTime):kn.min(),p=eo.newNoDocument(a,u);t=new $u([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,a=Al(r,o.document);t=new $u([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ii();{const o=e.filter,{count:a=0,unchangedNames:u}=o,p=new qg(a,u);t=new Gh(o.targetId,p)}}var $;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return kn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?kn.min():u.readTime?Wo(u.readTime):kn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Yl(this.serializer),t.addTarget=function(a,u){let p;const k=u.target;if(p=oi(k)?{documents:a_(a,k)}:{query:Mm(a,k)},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=Wu(a,u.resumeToken);const $=Wh(a,u.expectedCount);null!==$&&(p.expectedCount=$)}else if(u.snapshotVersion.compareTo(kn.min())>0){p.readTime=nd(a,u.snapshotVersion.toTimestamp());const $=Wh(a,u.expectedCount);null!==$&&(p.expectedCount=$)}return p}(this.serializer,e);const o=function ql(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ii()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Yl(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fy extends F_{constructor(e,t,o,a,u,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,p),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(di(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function fy(r,e){return r&&r.length>0?(di(void 0!==e),r.map(t=>function(o,a){let u=Wo(o.updateTime?o.updateTime:a);return u.isEqual(kn.min())&&(u=Wo(a)),new fm(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Wo(e.commitTime);return this.listener.cu(o,t)}return di(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Yl(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>ll(this.serializer,o))};this.Wo(t)}}class N_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new yn(Jt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new yn(Jt.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.vo(e,t,o,u,p,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yn(Jt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class L_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(xr(t),this.mu=!1):In("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g0{constructor(e,t,o,a,u){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(k=>{o.enqueueAndForget((0,Re.Z)(function*(){var $;tc(p)&&(In("RemoteStore","Restarting streams for network reachability change."),yield($=(0,Re.Z)(function*(X){const ge=Un(X);ge.vu.add(4),yield lh(ge),ge.bu.set("Unknown"),ge.vu.delete(4),yield ah(ge)}),function(X){return $.apply(this,arguments)})(p))}))}),this.bu=new L_(o,a)}}function ah(r){return B_.apply(this,arguments)}function B_(){return B_=(0,Re.Z)(function*(r){if(tc(r))for(const e of r.Ru)yield e(!0)}),B_.apply(this,arguments)}function lh(r){return _f.apply(this,arguments)}function _f(){return _f=(0,Re.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),_f.apply(this,arguments)}function ch(r,e){const t=Un(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),wf(t)?bf(t):gd(t).Ko()&&yf(t,e))}function vf(r,e){const t=Un(r),o=gd(t);t.Au.delete(e),o.Ko()&&dh(t,e),0===t.Au.size&&(o.Ko()?o.jo():tc(t)&&t.bu.set("Unknown"))}function yf(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gd(r).su(e)}function dh(r,e){r.Vu.qt(e),gd(r).iu(e)}function bf(r){r.Vu=new Cm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),gd(r).start(),r.bu.gu()}function wf(r){return tc(r)&&!gd(r).Uo()&&r.Au.size>0}function tc(r){return 0===Un(r).vu.size}function Ji(r){r.Vu=void 0}function U_(r){return xf.apply(this,arguments)}function xf(){return xf=(0,Re.Z)(function*(r){r.Au.forEach((e,t)=>{yf(r,e)})}),xf.apply(this,arguments)}function _0(r,e){return op.apply(this,arguments)}function op(){return op=(0,Re.Z)(function*(r,e){Ji(r),wf(r)?(r.bu.Iu(e),bf(r)):r.bu.set("Unknown")}),op.apply(this,arguments)}function V_(r,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,Re.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Gu&&2===e.state&&e.cause)try{yield(o=(0,Re.Z)(function*(a,u){const p=u.cause;for(const k of u.targetIds)a.Au.has(k)&&(yield a.remoteSyncer.rejectListen(k,p),a.Au.delete(k),a.Vu.removeTarget(k))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){In("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ef(r,o)}else if(e instanceof $u?r.Vu.Ht(e):e instanceof Gh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(kn.min()))try{const o=yield ky(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const p=a.Vu.ce(u);return p.targetChanges.forEach((k,$)=>{if(k.resumeToken.approximateByteSize()>0){const X=a.Au.get($);X&&a.Au.set($,X.withResumeToken(k.resumeToken,u))}}),p.targetMismatches.forEach((k,$)=>{const X=a.Au.get(k);if(!X)return;a.Au.set(k,X.withResumeToken(Xo.EMPTY_BYTE_STRING,X.snapshotVersion)),dh(a,k);const ge=new Ql(X.target,k,$,X.sequenceNumber);yf(a,ge)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(o){In("RemoteStore","Failed to raise snapshot:",o),yield Ef(r,o)}var o}),sp.apply(this,arguments)}function Ef(r,e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Re.Z)(function*(r,e,t){if(!ao(e))throw e;r.vu.add(1),yield lh(r),r.bu.set("Offline"),t||(t=()=>ky(r.localStore)),r.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){In("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield ah(r)}))}),Cf.apply(this,arguments)}function j_(r,e){return e().catch(t=>Ef(r,t,e))}function md(r){return ap.apply(this,arguments)}function ap(){return ap=(0,Re.Z)(function*(r){const e=Un(r),t=kl(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ny(e);)try{const a=yield qm(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,v0(e,a)}catch(a){yield Ef(e,a)}lp(e)&&cp(e)}),ap.apply(this,arguments)}function Ny(r){return tc(r)&&r.Eu.length<10}function v0(r,e){r.Eu.push(e);const t=kl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function lp(r){return tc(r)&&!kl(r).Uo()&&r.Eu.length>0}function cp(r){kl(r).start()}function Oc(r){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,Re.Z)(function*(r){kl(r).hu()}),Rc.apply(this,arguments)}function H_(r){return dp.apply(this,arguments)}function dp(){return dp=(0,Re.Z)(function*(r){const e=kl(r);for(const t of r.Eu)e.uu(t.mutations)}),dp.apply(this,arguments)}function Df(r,e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,Re.Z)(function*(r,e,t){const o=r.Eu.shift(),a=_m.from(o,e,t);yield j_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield md(r)}),Pc.apply(this,arguments)}function up(r,e){return pd.apply(this,arguments)}function pd(){return pd=(0,Re.Z)(function*(r,e){var t;e&&kl(r).ou&&(yield(t=(0,Re.Z)(function*(o,a){if(bm(u=a.code)&&u!==Jt.ABORTED){const p=o.Eu.shift();kl(o).Qo(),yield j_(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield md(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),lp(r)&&cp(r)}),pd.apply(this,arguments)}function hp(r,e){return uh.apply(this,arguments)}function uh(){return uh=(0,Re.Z)(function*(r,e){const t=Un(r);t.asyncQueue.verifyOperationInProgress(),In("RemoteStore","RemoteStore received new credentials");const o=tc(t);t.vu.add(3),yield lh(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ah(t)}),uh.apply(this,arguments)}function hh(r,e){return fh.apply(this,arguments)}function fh(){return fh=(0,Re.Z)(function*(r,e){const t=Un(r);e?(t.vu.delete(2),yield ah(t)):e||(t.vu.add(2),yield lh(t),t.bu.set("Unknown"))}),fh.apply(this,arguments)}function gd(r){return r.Su||(r.Su=function(e,t,o){const a=Un(e);return a.fu(),new Py(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:U_.bind(null,r),ao:_0.bind(null,r),nu:V_.bind(null,r)}),r.Ru.push(function(){var e=(0,Re.Z)(function*(t){t?(r.Su.Qo(),wf(r)?bf(r):r.bu.set("Unknown")):(yield r.Su.stop(),Ji(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function kl(r){return r.Du||(r.Du=function(e,t,o){const a=Un(e);return a.fu(),new Fy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:Oc.bind(null,r),ao:up.bind(null,r),au:H_.bind(null,r),cu:Df.bind(null,r)}),r.Ru.push(function(){var e=(0,Re.Z)(function*(t){t?(r.Du.Qo(),yield md(r)):(yield r.Du.stop(),r.Eu.length>0&&(In("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class fp{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,o,a,u){const p=Date.now()+o,k=new fp(e,t,p,a,u);return k.start(o),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yn(Jt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(r,e){if(xr("AsyncQueue",`${e}: ${r}`),ao(r))return new yn(Jt.UNAVAILABLE,`${e}: ${r}`);throw r}class su{constructor(e){this.comparator=e?(t,o)=>e(t,o)||w.comparator(t.key,o.key):(t,o)=>w.comparator(t.key,o.key),this.keyedMap=Uu(),this.sortedSet=new Cr(this.comparator)}static emptySet(e){return new su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new su;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class mp{constructor(){this.Cu=new Cr(w.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ii():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class au{constructor(e,t,o,a,u,p,k,$,X){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=p,this.syncStateChanged=k,this.excludesMetadataChanges=$,this.hasCachedResults=X}static fromInitialDocuments(e,t,o,a,u){const p=[];return t.forEach(k=>{p.push({type:0,doc:k})}),new au(e,t,su.emptySet(t),p,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class Ly{constructor(){this.Nu=void 0,this.listeners=[]}}class By{constructor(){this.queries=new Tl(e=>$l(e),bc),this.onlineState="Unknown",this.ku=new Set}}function pp(r,e){return If.apply(this,arguments)}function If(){return If=(0,Re.Z)(function*(r,e){const t=Un(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new Ly),a)try{u.Nu=yield t.onListen(o)}catch(p){const k=ou(p,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(k)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&_p(t)}),If.apply(this,arguments)}function Sf(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,Re.Z)(function*(r,e){const t=Un(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const p=u.listeners.indexOf(e);p>=0&&(u.listeners.splice(p,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),gp.apply(this,arguments)}function Uy(r,e){const t=Un(r);let o=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const k of p.listeners)k.$u(a)&&(o=!0);p.Nu=a}}o&&_p(t)}function Ua(r,e,t){const o=Un(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function _p(r){r.ku.forEach(e=>{e.next()})}class vp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new au(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class y0{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Tf{constructor(e){this.serializer=e}rr(e){return Al(this.serializer,e)}ur(e){return e.metadata.exists?Sm(this.serializer,e.document,!1):eo.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wo(e)}}class z_{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Vn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Tf(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const p of a.metadata.queries){const k=(t.get(p)||rr()).add(u);t.set(p,k)}}return t}complete(){var e=this;return(0,Re.Z)(function*(){const t=yield function A_(r,e,t,o){return k_.apply(this,arguments)}(e.localStore,new Tf(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield Ry(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class G_{constructor(e){this.key=e}}class W_{constructor(e){this.key=e}}class yp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=rr(),this.mutatedKeys=rr(),this.tc=Bg(e),this.ec=new su(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new mp,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,p=a,k=!1;const $="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,X="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ge,tt)=>{const Zt=a.get(ge),mn=ka(this.query,tt)?tt:null,Bn=!!Zt&&this.mutatedKeys.has(Zt.key),Xn=!!mn&&(mn.hasLocalMutations||this.mutatedKeys.has(mn.key)&&mn.hasCommittedMutations);let li=!1;Zt&&mn?Zt.data.isEqual(mn.data)?Bn!==Xn&&(o.track({type:3,doc:mn}),li=!0):this.rc(Zt,mn)||(o.track({type:2,doc:mn}),li=!0,($&&this.tc(mn,$)>0||X&&this.tc(mn,X)<0)&&(k=!0)):!Zt&&mn?(o.track({type:0,doc:mn}),li=!0):Zt&&!mn&&(o.track({type:1,doc:Zt}),li=!0,($||X)&&(k=!0)),li&&(mn?(p=p.add(mn),u=Xn?u.add(ge):u.delete(ge)):(p=p.delete(ge),u=u.delete(ge)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const ge="F"===this.query.limitType?p.last():p.first();p=p.delete(ge.key),u=u.delete(ge.key),o.track({type:1,doc:ge})}return{ec:p,ic:o,zi:k,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((X,ge)=>function(tt,Zt){const mn=Bn=>{switch(Bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ii()}};return mn(tt)-mn(Zt)}(X.type,ge.type)||this.tc(X.doc,ge.doc)),this.oc(o);const p=t?this.uc():[],k=0===this.Zu.size&&this.current?1:0,$=k!==this.Xu;return this.Xu=k,0!==u.length||$?{snapshot:new au(this.query,e.ec,a,u,e.mutatedKeys,0===k,$,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new mp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=rr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new W_(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new G_(o))}),t}hc(e){this.Yu=e.ir,this.Zu=rr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return au.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vy{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class jy{constructor(e){this.key=e,this.fc=!1}}class bp{constructor(e,t,o,a,u,p){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new Tl(k=>$l(k),bc),this._c=new Map,this.mc=new Set,this.gc=new Cr(w.comparator),this.yc=new Map,this.Ic=new I_,this.Tc={},this.Ec=new Map,this.Ac=Jl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Hy(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,Re.Z)(function*(r,e){const t=_d(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const p=yield eu(t.localStore,Gs(e)),k=t.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,a=yield xp(t,e,o,"current"===k,p.resumeToken),t.isPrimaryClient&&ch(t.remoteStore,p)}return a}),wp.apply(this,arguments)}function xp(r,e,t,o,a){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Re.Z)(function*(r,e,t,o,a){r.Rc=(tt,Zt,mn)=>{return(Bn=(0,Re.Z)(function*(Xn,li,or,zr){let Yi=li.view.sc(or);Yi.zi&&(Yi=yield dd(Xn.localStore,li.query,!1).then(({documents:Do})=>li.view.sc(Do,Yi)));const gs=zr&&zr.targetChanges.get(li.targetId),Uo=li.view.applyChanges(Yi,Xn.isPrimaryClient,gs);return ph(Xn,li.targetId,Uo.cc),Uo.snapshot}),function(Xn,li,or,zr){return Bn.apply(this,arguments)})(r,tt,Zt,mn);var Bn};const u=yield dd(r.localStore,e,!0),p=new yp(e,u.ir),k=p.sc(u.documents),$=Zl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),X=p.applyChanges(k,r.isPrimaryClient,$);ph(r,t,X.cc);const ge=new Vy(e,t,p);return r.wc.set(e,ge),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),X.snapshot}),Ep.apply(this,arguments)}function zy(r,e){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,Re.Z)(function*(r,e){const t=Un(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!bc(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield cd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),vf(t.remoteStore,o.targetId),cu(t,o.targetId)}).catch(fs))):(cu(t,o.targetId),yield cd(t.localStore,o.targetId,!0))}),Ja.apply(this,arguments)}function Dp(){return Dp=(0,Re.Z)(function*(r,e,t){const o=Lp(r);try{const a=yield function(u,p){const k=Un(u),$=Mn.now(),X=p.reduce((Zt,mn)=>Zt.add(mn.key),rr());let ge,tt;return k.persistence.runTransaction("Locally write mutations","readwrite",Zt=>{let mn=Oa(),Bn=rr();return k.Zi.getEntries(Zt,X).next(Xn=>{mn=Xn,mn.forEach((li,or)=>{or.isValidDocument()||(Bn=Bn.add(li))})}).next(()=>k.localDocuments.getOverlayedDocuments(Zt,mn)).next(Xn=>{ge=Xn;const li=[];for(const or of p){const zr=cy(or,ge.get(or.key).overlayedDocument);null!=zr&&li.push(new Kl(or.key,zr,Ya(zr.value.mapValue),Jo.exists(!0)))}return k.mutationQueue.addMutationBatch(Zt,$,li,p)}).next(Xn=>{tt=Xn;const li=Xn.applyToLocalDocumentSet(ge,Bn);return k.documentOverlayCache.saveOverlays(Zt,Xn.batchId,li)})}).then(()=>({batchId:tt.batchId,changes:lm(ge)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,p,k){let $=u.Tc[u.currentUser.toKey()];$||($=new Cr(vt)),$=$.insert(p,k),u.Tc[u.currentUser.toKey()]=$}(o,a.batchId,t),yield nc(o,a.changes),yield md(o.remoteStore)}catch(a){const u=ou(a,"Failed to persist write");t.reject(u)}}),Dp.apply(this,arguments)}function Ip(r,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Re.Z)(function*(r,e){const t=Un(r);try{const o=yield function Oy(r,e){const t=Un(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const k=[];e.targetChanges.forEach((ge,tt)=>{const Zt=a.get(tt);if(!Zt)return;k.push(t.Bs.removeMatchingKeys(u,ge.removedDocuments,tt).next(()=>t.Bs.addMatchingKeys(u,ge.addedDocuments,tt)));let mn=Zt.withSequenceNumber(u.currentSequenceNumber);var Bn,Xn,li;null!==e.targetMismatches.get(tt)?mn=mn.withResumeToken(Xo.EMPTY_BYTE_STRING,kn.min()).withLastLimboFreeSnapshotVersion(kn.min()):ge.resumeToken.approximateByteSize()>0&&(mn=mn.withResumeToken(ge.resumeToken,o)),a=a.insert(tt,mn),Xn=mn,li=ge,(0===(Bn=Zt).resumeToken.approximateByteSize()||Xn.snapshotVersion.toMicroseconds()-Bn.snapshotVersion.toMicroseconds()>=3e8||li.addedDocuments.size+li.modifiedDocuments.size+li.removedDocuments.size>0)&&k.push(t.Bs.updateTargetData(u,mn))});let $=Oa(),X=rr();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(u,ge))}),k.push(hf(u,p,e.documentUpdates).next(ge=>{$=ge.nr,X=ge.sr})),!o.isEqual(kn.min())){const ge=t.Bs.getLastRemoteSnapshotVersion(u).next(tt=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));k.push(ge)}return mt.waitFor(k).next(()=>p.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,$,X)).next(()=>$)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const p=t.yc.get(u);p&&(di(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?di(p.fc):a.removedDocuments.size>0&&(di(p.fc),p.fc=!1))}),yield nc(t,o,e)}catch(o){yield fs(o)}}),Sp.apply(this,arguments)}function Tp(r,e,t){const o=Un(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,p)=>{const k=p.view.Mu(e);k.snapshot&&a.push(k.snapshot)}),function(u,p){const k=Un(u);k.onlineState=p;let $=!1;k.queries.forEach((X,ge)=>{for(const tt of ge.listeners)tt.Mu(p)&&($=!0)}),$&&_p(k)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function K_(r,e,t){return lu.apply(this,arguments)}function lu(){return lu=(0,Re.Z)(function*(r,e,t){const o=Un(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let p=new Cr(w.comparator);p=p.insert(u,eo.newNoDocument(u,kn.min()));const k=rr().add(u),$=new Cc(kn.min(),new Map,new Cr(vt),p,k);yield Ip(o,$),o.gc=o.gc.remove(u),o.yc.delete(e),Ap(o)}else yield cd(o.localStore,e,!1).then(()=>cu(o,e,t)).catch(fs)}),lu.apply(this,arguments)}function Mp(r,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Re.Z)(function*(r,e){const t=Un(r),o=e.batch.batchId;try{const a=yield function Ay(r,e){const t=Un(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,k,$,X){const ge=$.batch,tt=ge.keys();let Zt=mt.resolve();return tt.forEach(mn=>{Zt=Zt.next(()=>X.getEntry(k,mn)).next(Bn=>{const Xn=$.docVersions.get(mn);di(null!==Xn),Bn.version.compareTo(Xn)<0&&(ge.applyToRemoteDocument(Bn,$),Bn.isValidDocument()&&(Bn.setReadTime($.commitVersion),X.addEntry(Bn)))})}),Zt.next(()=>p.mutationQueue.removeMutationBatch(k,ge))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let k=rr();for(let $=0;$<p.mutationResults.length;++$)p.mutationResults[$].transformResults.length>0&&(k=k.add(p.batch.mutations[$].key));return k}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);hl(t,o,null),mh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield nc(t,a)}catch(a){yield fs(a)}}),Z_.apply(this,arguments)}function Y_(r,e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,Re.Z)(function*(r,e,t){const o=Un(r);try{const a=yield function(u,p){const k=Un(u);return k.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let X;return k.mutationQueue.lookupMutationBatch($,p).next(ge=>(di(null!==ge),X=ge.keys(),k.mutationQueue.removeMutationBatch($,ge))).next(()=>k.mutationQueue.performConsistencyCheck($)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId($,X,p)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,X)).next(()=>k.localDocuments.getDocuments($,X))})}(o.localStore,e);hl(o,e,t),mh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield nc(o,a)}catch(a){yield fs(a)}}),Mf.apply(this,arguments)}function Af(){return Af=(0,Re.Z)(function*(r,e){const t=Un(r);tc(t.remoteStore)||In("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const p=Un(u);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>p.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=ou(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Af.apply(this,arguments)}function mh(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function hl(r,e,t){const o=Un(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function cu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||Q_(r,o)})}function Q_(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(vf(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ap(r))}function ph(r,e,t){for(const o of t)o instanceof G_?(r.Ic.addReference(o.key,e),$y(r,o)):o instanceof W_?(In("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||Q_(r,o.key)):ii()}function $y(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(In("SyncEngine","New document in limbo: "+t),r.mc.add(o),Ap(r))}function Ap(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new w(Vn.fromString(e)),o=r.Ac.next();r.yc.set(o,new jy(t)),r.gc=r.gc.insert(t,o),ch(r.remoteStore,new Ql(Gs(vc(t.path)),o,"TargetPurposeLimboResolution",jr.ct))}}function nc(r,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,Re.Z)(function*(r,e,t){const o=Un(r),a=[],u=[],p=[];var k;o.wc.isEmpty()||(o.wc.forEach((k,$)=>{p.push(o.Rc($,e,t).then(X=>{if((X||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,X?.fromCache?"not-current":"current"),X){a.push(X);const ge=uf.Li($.targetId,X);u.push(ge)}}))}),yield Promise.all(p),o.dc.nu(a),yield(k=(0,Re.Z)(function*($,X){const ge=Un($);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",tt=>mt.forEach(X,Zt=>mt.forEach(Zt.Fi,mn=>ge.persistence.referenceDelegate.addReference(tt,Zt.targetId,mn)).next(()=>mt.forEach(Zt.Bi,mn=>ge.persistence.referenceDelegate.removeReference(tt,Zt.targetId,mn)))))}catch(tt){if(!ao(tt))throw tt;In("LocalStore","Failed to update sequence numbers: "+tt)}for(const tt of X){const Zt=tt.targetId;if(!tt.fromCache){const mn=ge.Ji.get(Zt),Xn=mn.withLastLimboFreeSnapshotVersion(mn.snapshotVersion);ge.Ji=ge.Ji.insert(Zt,Xn)}}}),function($,X){return k.apply(this,arguments)})(o.localStore,u))}),X_.apply(this,arguments)}function J_(r,e){return kp.apply(this,arguments)}function kp(){return kp=(0,Re.Z)(function*(r,e){const t=Un(r);if(!t.currentUser.isEqual(e)){In("SyncEngine","User change. New user:",e.toKey());const o=yield Zm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(k=>{k.reject(new yn(Jt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield nc(t,o.er)}var a}),kp.apply(this,arguments)}function kf(r,e){const t=Un(r),o=t.yc.get(e);if(o&&o.fc)return rr().add(o.key);{let a=rr();const u=t._c.get(e);if(!u)return a;for(const p of u){const k=t.wc.get(p);a=a.unionWith(k.view.nc)}return a}}function gh(r,e){return du.apply(this,arguments)}function du(){return du=(0,Re.Z)(function*(r,e){const t=Un(r),o=yield dd(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&ph(t,e.targetId,a.cc),a}),du.apply(this,arguments)}function b0(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Re.Z)(function*(r,e){const t=Un(r);return Qm(t.localStore,e).then(o=>nc(t,o))}),Op.apply(this,arguments)}function Of(r,e,t,o){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Re.Z)(function*(r,e,t,o){const a=Un(r),u=yield function(p,k){const $=Un(p),X=Un($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",ge=>X.Sn(ge,k).next(tt=>tt?$.localDocuments.getDocuments(ge,tt):mt.resolve(null)))}(a.localStore,e);var k;null!==u?("pending"===t?yield md(a.remoteStore):"acknowledged"===t||"rejected"===t?(hl(a,e,o||null),mh(a,e),k=e,Un(Un(a.localStore).mutationQueue).Cn(k)):ii(),yield nc(a,u)):In("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rp.apply(this,arguments)}function Pp(){return Pp=(0,Re.Z)(function*(r,e){const t=Un(r);if(_d(t),Lp(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Rf(t,o.toArray());t.vc=!0,yield hh(t.remoteStore,!0);for(const u of a)ch(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,p)=>{t.sharedClientState.isLocalQueryTarget(p)?o.push(p):a=a.then(()=>(cu(t,p),cd(t.localStore,p,!0))),vf(t.remoteStore,p)}),yield a,yield Rf(t,o),function(u){const p=Un(u);p.yc.forEach((k,$)=>{vf(p.remoteStore,$)}),p.Ic.Ts(),p.yc=new Map,p.gc=new Cr(w.comparator)}(t),t.vc=!1,yield hh(t.remoteStore,!1)}}),Pp.apply(this,arguments)}function Rf(r,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Re.Z)(function*(r,e,t){const o=Un(r),a=[],u=[];for(const p of e){let k;const $=o._c.get(p);if($&&0!==$.length){k=yield eu(o.localStore,Gs($[0]));for(const X of $){const ge=o.wc.get(X),tt=yield gh(o,ge);tt.snapshot&&u.push(tt.snapshot)}}else{const X=yield T_(o.localStore,p);k=yield eu(o.localStore,X),yield xp(o,uu(X),p,!1,k.resumeToken)}a.push(k)}return o.dc.nu(u),a}),Fp.apply(this,arguments)}function uu(r){return Ud(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Wy(r){const e=Un(r);return Un(Un(e.localStore).persistence).$i()}function ev(r,e,t,o){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,Re.Z)(function*(r,e,t,o){const a=Un(r);if(a.vc)return void In("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const p=yield Qm(a.localStore,Lg(u[0])),k=Cc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Xo.EMPTY_BYTE_STRING);yield nc(a,p,k);break}case"rejected":yield cd(a.localStore,e,!0),cu(a,e,o);break;default:ii()}}),Pf.apply(this,arguments)}function Ky(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,Re.Z)(function*(r,e,t){const o=_d(r);if(o.vc){for(const a of e){if(o._c.has(a)){In("SyncEngine","Adding an already active target "+a);continue}const u=yield T_(o.localStore,a),p=yield eu(o.localStore,u);yield xp(o,uu(u),p.targetId,!1,p.resumeToken),ch(o.remoteStore,p)}for(const a of t)o._c.has(a)&&(yield cd(o.localStore,a,!1).then(()=>{vf(o.remoteStore,a),cu(o,a)}).catch(fs))}}),Np.apply(this,arguments)}function _d(r){const e=Un(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ip.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K_.bind(null,e),e.dc.nu=Uy.bind(null,e.eventManager),e.dc.Pc=Ua.bind(null,e.eventManager),e}function Lp(r){const e=Un(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y_.bind(null,e),e}class _h{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.serializer=sh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Km(this.persistence,new S_,e.initialUser,this.serializer)}createPersistence(e){return new eh(kc.zs,this.serializer)}createSharedClientState(e){return new ep}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends _h{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Re.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Lp(o.Vc.syncEngine),yield md(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Km(this.persistence,new S_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new lf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Ms(t,this.persistence);return new Ps(e.asyncQueue,o)}createPersistence(e){const t=ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Da.withCacheSize(this.cacheSizeBytes):Da.DEFAULT;return new Xd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ip(),gf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ep}}class tv extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Re.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof pf&&(o.sharedClientState.syncEngine={jr:Of.bind(null,a),zr:ev.bind(null,a),Wr:Ky.bind(null,a),$i:Wy.bind(null,a),Qr:b0.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,Re.Z)(function*(p){yield function Gy(r,e){return Pp.apply(this,arguments)}(o.Vc.syncEngine,p),o.gcScheduler&&(p&&!o.gcScheduler.started?o.gcScheduler.start():p||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(p&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():p||o.indexBackfillerScheduler.stop())});return function(p){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ip();if(!pf.D(t))throw new yn(Jt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class hu{initialize(e,t){var o=this;return(0,Re.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Tp(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=J_.bind(null,o.syncEngine),yield hh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new By}createDatastore(e){const t=sh(e.databaseInfo.databaseId),o=new P_(e.databaseInfo);return new N_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=k=>Tp(this.syncEngine,k,0),p=nu.D()?new nu:new tp,new g0(t,o,a,u,p);var t,o,a,u,p}createSyncEngine(e,t){return function(o,a,u,p,k,$,X){const ge=new bp(o,a,u,p,k,$);return X&&(ge.vc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(t){const o=Un(t);In("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield lh(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nv(r,e=10240){let t=0;return{read:()=>(0,Re.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ui,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Re.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Re.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new y0(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Re.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,Re.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Up{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new yn(Jt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,Re.Z)(function*(u,p){const k=Un(u),$=Yl(k.serializer)+"/documents",X={documents:p.map(mn=>Kh(k.serializer,mn))},ge=yield k.vo("BatchGetDocuments",$,X,p.length),tt=new Map;ge.forEach(mn=>{const Bn=function o_(r,e){return"found"in e?function(t,o){di(!!o.found);const a=Al(t,o.found.name),u=Wo(o.found.updateTime),p=o.found.createTime?Wo(o.found.createTime):kn.min(),k=new yr({mapValue:{fields:o.found.fields}});return eo.newFoundDocument(a,u,p,k)}(r,e):"missing"in e?function(t,o){di(!!o.missing),di(!!o.readTime);const a=Al(t,o.missing),u=Wo(o.readTime);return eo.newNoDocument(a,u)}(r,e):ii()}(k.serializer,mn);tt.set(Bn.key.toString(),Bn)});const Zt=[];return p.forEach(mn=>{const Bn=tt.get(mn.toString());di(!!Bn),Zt.push(Bn)}),Zt}),function(u,p){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ec(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=w.fromPath(a);e.mutations.push(new $h(u,e.precondition(u)))}),yield(o=(0,Re.Z)(function*(a,u){const p=Un(a),k=Yl(p.serializer)+"/documents",$={writes:u.map(X=>ll(p.serializer,X))};yield p.Io("Commit",k,$)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ii();t=kn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new yn(Jt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kn.min())?Jo.exists(!1):Jo.updateTime(t):Jo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kn.min()))throw new yn(Jt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jo.updateTime(t)}return Jo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yy{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new rp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Re.Z)(function*(){const t=new Up(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!xs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bm(t)}return!1}}class Vp{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=vo.UNAUTHENTICATED,this.clientId=at.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,Re.Z)(function*(k){In("FirestoreClient","Received user=",k.uid),yield u.authCredentialListener(k),u.user=k});return function(k){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(In("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yn(Jt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=ou(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Nf(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,Re.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),In("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Re.Z)(function*(u){o.isEqual(u)||(yield Zm(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),jp.apply(this,arguments)}function Hp(r,e){return zp.apply(this,arguments)}function zp(){return zp=(0,Re.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield $p(r);In("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>hp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>hp(e.remoteStore,u)),r._onlineComponents=e}),zp.apply(this,arguments)}function rv(r){return"FirebaseError"===r.name?r.code===Jt.FAILED_PRECONDITION||r.code===Jt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function $p(r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Re.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){In("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rv(t))throw t;Ss("Error using user provided cache. Falling back to memory cache: "+t),yield Nf(r,new _h)}}else In("FirestoreClient","Using default OfflineComponentProvider"),yield Nf(r,new _h);return r._offlineComponents}),Gp.apply(this,arguments)}function vh(r){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,Re.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(In("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hp(r,r._uninitializedComponentsProvider._online)):(In("FirestoreClient","Using default OnlineComponentProvider"),yield Hp(r,new hu))),r._onlineComponents}),Lf.apply(this,arguments)}function ov(r){return $p(r).then(e=>e.persistence)}function Wp(r){return $p(r).then(e=>e.localStore)}function Kp(r){return vh(r).then(e=>e.remoteStore)}function sv(r){return vh(r).then(e=>e.syncEngine)}function fu(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Re.Z)(function*(r){const e=yield vh(r),t=e.eventManager;return t.onListen=Hy.bind(null,e.syncEngine),t.onUnlisten=zy.bind(null,e.syncEngine),t}),Zp.apply(this,arguments)}function mu(r,e,t={}){const o=new Ui;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(a,u,p,k,$){const X=new Ff({next:tt=>{u.enqueueAndForget(()=>Sf(a,ge));const Zt=tt.docs.has(p);!Zt&&tt.fromCache?$.reject(new yn(Jt.UNAVAILABLE,"Failed to get document because the client is offline.")):Zt&&tt.fromCache&&k&&"server"===k.source?$.reject(new yn(Jt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(tt)},error:tt=>$.reject(tt)}),ge=new vp(vc(p.path),X,{includeMetadataChanges:!0,Ku:!0});return pp(a,ge)}(yield fu(r),r.asyncQueue,e,t,o)})),o.promise}function Fc(r,e,t={}){const o=new Ui;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(a,u,p,k,$){const X=new Ff({next:tt=>{u.enqueueAndForget(()=>Sf(a,ge)),tt.fromCache&&"server"===k.source?$.reject(new yn(Jt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(tt)},error:tt=>$.reject(tt)}),ge=new vp(p,X,{includeMetadataChanges:!0,Ku:!0});return pp(a,ge)}(yield fu(r),r.asyncQueue,e,t,o)})),o.promise}function vd(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const yd=new Map;function Nc(r,e,t){if(!t)throw new yn(Jt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function bd(r,e,t,o){if(!0===e&&!0===o)throw new yn(Jt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function wd(r){if(!w.isDocumentKey(r))throw new yn(Jt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xd(r){if(w.isDocumentKey(r))throw new yn(Jt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ic(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":ii()}function ur(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new yn(Jt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ic(r);throw new yn(Jt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Qp(r,e){if(e<=0)throw new yn(Jt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Xp{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new yn(Jt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yn(Jt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vd(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new yn(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new yn(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new yn(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gu{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yn(Jt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yn(Jt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lo;switch(t.type){case"firstParty":return new _(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new yn(Jt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yd.get(e);t&&(In("ComponentProvider","Removing Datastore"),yd.delete(e),t.terminate())}(this),Promise.resolve()}}class Ko{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ko(this.firestore,e,this._key)}}class Xs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class fl extends Xs{constructor(e,t,o){super(e,t,vc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ko(this.firestore,null,new w(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function eg(r,e,...t){if(r=(0,be.m9)(r),Nc("collection","path",e),r instanceof gu){const o=Vn.fromString(e,...t);return xd(o),new fl(r,null,o)}{if(!(r instanceof Ko||r instanceof fl))throw new yn(Jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Vn.fromString(e,...t));return xd(o),new fl(r.firestore,null,o)}}function _u(r,e,...t){if(r=(0,be.m9)(r),1===arguments.length&&(e=at.A()),Nc("doc","path",e),r instanceof gu){const o=Vn.fromString(e,...t);return wd(o),new Ko(r,null,new w(o))}{if(!(r instanceof Ko||r instanceof fl))throw new yn(Jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Vn.fromString(e,...t));return wd(o),new Ko(r.firestore,r instanceof fl?r.converter:null,new w(o))}}function lv(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),(r instanceof Ko||r instanceof fl)&&(e instanceof Ko||e instanceof fl)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function cv(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),r instanceof Xs&&e instanceof Xs&&r.firestore===e.firestore&&bc(r._query,e._query)&&r.converter===e.converter}class x0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new rp(this,"async_queue_retry"),this.Xc=()=>{const t=gf();t&&In("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=gf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ui;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ao(t))throw t;In("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(u){let p=u.message||"";return u.stack&&(p=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),p}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=fp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&ii()}verifyOperationInProgress(){}sa(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class Qy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class es extends gu{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new x0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()}}function Ns(r){return r._firestoreClient||dv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function dv(r){var e,t,o;const a=r._freezeSettings(),u=(k=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Cl(r._databaseId,k,r._persistenceKey,(X=a).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,vd(X.experimentalLongPollingOptions),X.useFetchStreams));var k,X;r._firestoreClient=new Vp(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Uf(r,e,t){const o=new Ui;return r.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield Nf(r,t),yield Hp(r,e),o.resolve()}catch(a){const u=a;if(!rv(u))throw u;Ss("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function fv(r){if(r._initialized||r._terminated)throw new yn(Jt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(Xo.fromBase64String(e))}catch(t){throw new yn(Jt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(Xo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new yn(Jt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vu{constructor(e){this._methodName=e}}class jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yn(Jt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yn(Jt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}const eb=/^__.*__$/;class rg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms):new zd(e,this.data,t,this.fieldTransforms)}}class mv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function og(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ii()}}class Hf{constructor(e,t,o,a,u,p){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(og(this.ca)&&eb.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class tb{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||sh(e)}ya(e,t,o,a=!1){return new Hf({ca:e,methodName:t,ga:o,path:Di.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lc(r){const e=r._freezeSettings(),t=sh(r._databaseId);return new tb(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ch(r,e,t,o,a,u={}){const p=r.ya(u.merge||u.mergeFields?2:0,e,t,a);dg("Data must be an object, but it was:",p,o);const k=zf(o,p);let $,X;if(u.merge)$=new Vs(p.fieldMask),X=p.fieldTransforms;else if(u.mergeFields){const ge=[];for(const tt of u.mergeFields){const Zt=Sh(e,tt,t);if(!p.contains(Zt))throw new yn(Jt.INVALID_ARGUMENT,`Field '${Zt}' is specified in your field mask but missing from your input data.`);$f(ge,Zt)||ge.push(Zt)}$=new Vs(ge),X=p.fieldTransforms.filter(tt=>$.covers(tt.field))}else $=null,X=p.fieldTransforms;return new rg(new yr(k),$,X)}class yu extends vu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yu}}function pv(r,e,t){return new Hf({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends vu{_toFieldTransform(e){return new ju(e.path,new Xc)}isEqual(e){return e instanceof sg}}class nb extends vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Rl(u,t)),a=new Jc(o);return new ju(e.path,a)}isEqual(e){return this===e}}class gv extends vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Rl(u,t)),a=new Gl(o);return new ju(e.path,a)}isEqual(e){return this===e}}class ag extends vu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new jd(e.serializer,Hg(e.serializer,this.Ia));return new ju(e.path,t)}isEqual(e){return this===e}}function Dh(r,e,t,o){const a=r.ya(1,e,t);dg("Data must be an object, but it was:",a,o);const u=[],p=yr.empty();ra(o,($,X)=>{const ge=Ed(e,$,t);X=(0,be.m9)(X);const tt=a.da(ge);if(X instanceof yu)u.push(ge);else{const Zt=Rl(X,tt);null!=Zt&&(u.push(ge),p.set(ge,Zt))}});const k=new Vs(u);return new mv(p,k,a.fieldTransforms)}function lg(r,e,t,o,a,u){const p=r.ya(1,e,t),k=[Sh(e,o,t)],$=[a];if(u.length%2!=0)throw new yn(Jt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Zt=0;Zt<u.length;Zt+=2)k.push(Sh(e,u[Zt])),$.push(u[Zt+1]);const X=[],ge=yr.empty();for(let Zt=k.length-1;Zt>=0;--Zt)if(!$f(X,k[Zt])){const mn=k[Zt];let Bn=$[Zt];Bn=(0,be.m9)(Bn);const Xn=p.da(mn);if(Bn instanceof yu)X.push(mn);else{const li=Rl(Bn,Xn);null!=li&&(X.push(mn),ge.set(mn,li))}}const tt=new Vs(X);return new mv(ge,tt,p.fieldTransforms)}function Ih(r,e,t,o=!1){return Rl(t,r.ya(o?4:3,e))}function Rl(r,e){if(cg(r=(0,be.m9)(r)))return dg("Unsupported field value:",e,r),zf(r,e);if(r instanceof vu)return function(t,o){if(!og(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const p of t){let k=Rl(p,o.wa(u));null==k&&(k={nullValue:"NULL_VALUE"}),a.push(k),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hg(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Mn.fromDate(t);return{timestampValue:nd(o.serializer,a)}}if(t instanceof Mn){const a=new Mn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:nd(o.serializer,a)}}if(t instanceof jf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tl)return{bytesValue:Wu(o.serializer,t._byteString)};if(t instanceof Ko){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Im(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${ic(t)}`)}(r,e)}function zf(r,e){const t={};return Na(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(r,(o,a)=>{const u=Rl(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function cg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Mn||r instanceof jf||r instanceof tl||r instanceof Ko||r instanceof vu)}function dg(r,e,t){if(!cg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ic(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Sh(r,e,t){if((e=(0,be.m9)(e))instanceof nl)return e._internalPath;if("string"==typeof e)return Ed(r,e);throw Cd("Field path arguments must be of type string or ",r,!1,void 0,t)}const ib=new RegExp("[~\\*/\\[\\]]");function Ed(r,e,t){if(e.search(ib)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new nl(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Cd(r,e,t,o,a){const u=o&&!o.isEmpty(),p=void 0!==a;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let $="";return(u||p)&&($+=" (found",u&&($+=` in field ${o}`),p&&($+=` in document ${a}`),$+=")"),new yn(Jt.INVALID_ARGUMENT,k+r+$)}function $f(r,e){return r.some(t=>t.isEqual(e))}class bu{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rb extends bu{data(){return super.data()}}function Gf(r,e){return"string"==typeof e?Ed(r,e):e instanceof nl?e._internalPath:e._delegate._internalPath}function ug(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new yn(Jt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Th{}class wu extends Th{}function Pl(r,e,...t){let o=[];e instanceof Th&&o.push(e),o=o.concat(t),function(a){const u=a.filter(k=>k instanceof Id).length,p=a.filter(k=>k instanceof Dd).length;if(u>1||u>0&&p>0)throw new yn(Jt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Dd extends wu{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Dd(e,t,o)}_apply(e){const t=this._parse(e);return kh(e._query,t),new Xs(e.firestore,e.converter,yc(e._query,t))}_parse(e){const t=Lc(e.firestore);return function(a,u,p,k,$,X,ge){let tt;if($.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new yn(Jt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){pg(ge,X);const Zt=[];for(const mn of ge)Zt.push(mg(k,a,mn));tt={arrayValue:{values:Zt}}}else tt=mg(k,a,ge)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||pg(ge,X),tt=Ih(p,"where",ge,"in"===X||"not-in"===X);return fr.create($,X,tt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Id extends Th{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Id(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:co.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const p=a.getFlattenedFilters();for(const k of p)kh(u,k),u=yc(u,k)}(e._query,t),new Xs(e.firestore,e.converter,yc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wf extends wu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wf(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new yn(Jt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new yn(Jt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Ca(a,u);return function(k,$){if(null===Vd(k)){const X=Sl(k);null!==X&&rc(0,X,$.field)}}(o,p),p}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new aa(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Mh extends wu{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Mh(e,t,o)}_apply(e){return new Xs(e.firestore,e.converter,qa(e._query,this._limit,this._limitType))}}class xu extends wu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new xu(e,t,o)}_apply(e){const t=fg(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(a=t,new aa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class Ah extends wu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Ah(e,t,o)}_apply(e){const t=fg(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(a=t,new aa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function fg(r,e,t,o){if(t[0]=(0,be.m9)(t[0]),t[0]instanceof bu)return function(a,u,p,k,$){if(!k)throw new yn(Jt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const X=[];for(const ge of al(a))if(ge.field.isKeyField())X.push(N(u,k.key));else{const tt=k.data.field(ge.field);if(Hl(tt))throw new yn(Jt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===tt){const Zt=ge.field.canonicalString();throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Zt}' (used as the orderBy) does not exist.`)}X.push(tt)}return new $s(X,$)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Lc(r.firestore);return function(u,p,k,$,X,ge){const tt=u.explicitOrderBy;if(X.length>tt.length)throw new yn(Jt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Zt=[];for(let mn=0;mn<X.length;mn++){const Bn=X[mn];if(tt[mn].field.isKeyField()){if("string"!=typeof Bn)throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Bn}`);if(!zl(u)&&-1!==Bn.indexOf("/"))throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Bn}' contains a slash.`);const Xn=u.path.child(Vn.fromString(Bn));if(!w.isDocumentKey(Xn))throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${Xn}' is not because it contains an odd number of segments.`);const li=new w(Xn);Zt.push(N(p,li))}else{const Xn=Ih(k,$,Bn);Zt.push(Xn)}}return new $s(Zt,ge)}(r._query,r.firestore._databaseId,a,e,t,o)}}function mg(r,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new yn(Jt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zl(e)&&-1!==t.indexOf("/"))throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Vn.fromString(t));if(!w.isDocumentKey(o))throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return N(r,new w(o))}if(t instanceof Ko)return N(r,t._key);throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ic(t)}.`)}function pg(r,e){if(!Array.isArray(r)||0===r.length)throw new yn(Jt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kh(r,e){if(e.isInequality()){const o=Sl(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Vd(r);null!==u&&rc(0,a,u)}const t=function(o,a){for(const u of o)for(const p of u.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new yn(Jt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rc(r,e,t){if(!t.isEqual(e))throw new yn(Jt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gg{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ii()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ra(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new jf(yo(e.latitude),yo(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ho(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const t=xl(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Vn.fromString(e);di(u_(o));const a=new Wa(o.get(1),o.get(3)),u=new w(o.popFirst(5));return a.isEqual(t)||xr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Eu(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Sd extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}class Td{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oc extends bu{constructor(e,t,o,a,u,p){super(e,t,o,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Cu extends oc{data(e={}){return super.data(e)}}class Bc{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Td(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Cu(this._firestore,this._userDataWriter,o.key,o,new Td(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yn(Jt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new Cu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Td(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const k=new Cu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Td(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,X=-1;return 0!==p.type&&($=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),1!==p.type&&(u=u.add(p.doc),X=u.indexOf(p.doc.key)),{type:Ks(p.type),doc:k,oldIndex:$,newIndex:X}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ks(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ii()}}function vg(r,e){return r instanceof oc&&e instanceof oc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Bc&&e instanceof Bc&&r._firestore===e._firestore&&cv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Uc extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}function Sv(r,e,t){r=ur(r,Ko);const o=ur(r.firestore,es),a=Eu(r.converter,e,t);return Vc(o,[Ch(Lc(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Jo.none())])}function Tv(r,e,t,...o){r=ur(r,Ko);const a=ur(r.firestore,es),u=Lc(a);let p;return p="string"==typeof(e=(0,be.m9)(e))||e instanceof nl?lg(u,"updateDoc",r._key,e,t,o):Dh(u,"updateDoc",r._key,e),Vc(a,[p.toMutation(r._key,Jo.exists(!0))])}function yg(r,...e){var t,o,a;r=(0,be.m9)(r);let u={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||tg(e[p])||(u=e[p],p++);const k={includeMetadataChanges:u.includeMetadataChanges};if(tg(e[p])){const tt=e[p];e[p]=null===(t=tt.next)||void 0===t?void 0:t.bind(tt),e[p+1]=null===(o=tt.error)||void 0===o?void 0:o.bind(tt),e[p+2]=null===(a=tt.complete)||void 0===a?void 0:a.bind(tt)}let $,X,ge;if(r instanceof Ko)X=ur(r.firestore,es),ge=vc(r._key.path),$={next:tt=>{e[p]&&e[p](Oh(X,r,tt))},error:e[p+1],complete:e[p+2]};else{const tt=ur(r,Xs);X=ur(tt.firestore,es),ge=tt._query;const Zt=new Uc(X);$={next:mn=>{e[p]&&e[p](new Bc(X,Zt,tt,mn))},error:e[p+1],complete:e[p+2]},ug(r._query)}return function(tt,Zt,mn,Bn){const Xn=new Ff(Bn),li=new vp(Zt,Xn,mn);return tt.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return pp(yield fu(tt),li)})),()=>{Xn.Dc(),tt.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return Sf(yield fu(tt),li)}))}}(Ns(X),ge,k,$)}function Vc(r,e){return function(t,o){const a=new Ui;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function Cp(r,e,t){return Dp.apply(this,arguments)}(yield sv(t),o,a)})),a.promise}(Ns(r),e)}function Oh(r,e,t){const o=t.docs.get(e._key),a=new Uc(r);return new oc(r,a,e._key,o,new Td(t.hasPendingWrites,t.fromCache),e.converter)}const vb={maxAttempts:5};class wg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lc(e)}set(e,t,o){this._verifyNotCommitted();const a=jc(e,this._firestore),u=Eu(a.converter,t,o),p=Ch(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(p.toMutation(a._key,Jo.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=jc(e,this._firestore);let p;return p="string"==typeof(t=(0,be.m9)(t))||t instanceof nl?lg(this._dataReader,"WriteBatch.update",u._key,t,o,a):Dh(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(p.toMutation(u._key,Jo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jc(e,this._firestore);return this._mutations=this._mutations.concat(new Ec(t._key,Jo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yn(Jt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jc(r,e){if((r=(0,be.m9)(r)).firestore!==e)throw new yn(Jt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class yb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lc(e)}get(e){const t=jc(e,this._firestore),o=new Sd(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ii();const u=a[0];if(u.isFoundDocument())return new bu(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new bu(this._firestore,o,t._key,null,t.converter);throw ii()})}set(e,t,o){const a=jc(e,this._firestore),u=Eu(a.converter,t,o),p=Ch(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,p),this}update(e,t,o,...a){const u=jc(e,this._firestore);let p;return p="string"==typeof(t=(0,be.m9)(t))||t instanceof nl?lg(this._dataReader,"Transaction.update",u._key,t,o,a):Dh(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,p),this}delete(e){const t=jc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jc(e,this._firestore),o=new Uc(this._firestore);return super.get(e).then(a=>new oc(this._firestore,o,t._key,a._document,new Td(!1,!1),t.converter))}}function qf(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yn("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Eg(){if(typeof Uint8Array>"u")throw new yn("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if(!function Pd(){return typeof atob<"u"}())throw new yn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){hs=wt.SDK_VERSION,(0,wt._registerComponent)(new ue.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),p=new es(new V(t.getProvider("auth-internal")),new G(t.getProvider("app-check-internal")),function(k,$){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new yn(Jt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(k.options.projectId,$)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(cr,"3.12.2",r),(0,wt.registerVersion)(cr,"3.12.2","esm2017")}();class Iu{constructor(e){this._delegate=e}static fromBase64String(e){return Cg(),new Iu(tl.fromBase64String(e))}static fromUint8Array(e){return Eg(),new Iu(tl.fromUint8Array(e))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return Eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qf(r){return function Fv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Nv{enableIndexedDbPersistence(e,t){return function ng(r,e){fv(r=ur(r,es));const t=Ns(r);if(t._uninitializedComponentsProvider)throw new yn(Jt.FAILED_PRECONDITION,"SDK cache is already specified.");Ss("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new hu;return Uf(t,a,new Bp(a,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function bh(r){fv(r=ur(r,es));const e=Ns(r);if(e._uninitializedComponentsProvider)throw new yn(Jt.FAILED_PRECONDITION,"SDK cache is already specified.");Ss("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new hu;return Uf(e,o,new tv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Vf(r){if(r._initialized&&!r._terminated)throw new yn(Jt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ui;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(t=(0,Re.Z)(function*(o){if(!Ri.D())return Promise.resolve();const a=o+"main";yield Ri.delete(a)}),function(o){return t.apply(this,arguments)})(ih(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ss("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Jp(r,e,t,o={}){var a;const u=(r=ur(r,gu))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==p&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:p,ssl:!1})),o.mockUserToken){let k,$;if("string"==typeof o.mockUserToken)k=o.mockUserToken,$=vo.MOCK_USER;else{k=(0,be.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const X=o.mockUserToken.sub||o.mockUserToken.user_id;if(!X)throw new yn(Jt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");$=new vo(X)}r._authCredentials=new Ll(new Nl(k,$))}}(this._delegate,e,t,o)}enableNetwork(){return function wh(r){return function Yp(r){return r.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!0),function(o){const a=Un(o);return a.vu.delete(0),ah(a)}(t)}))}(Ns(r=ur(r,es)))}(this._delegate)}disableNetwork(){return function hv(r){return function qy(r){return r.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!1),(o=(0,Re.Z)(function*(a){const u=Un(a);u.vu.add(0),yield lh(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(Ns(r=ur(r,es)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,bd("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uv(r){return function(e){const t=new Ui;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function q_(r,e){return Af.apply(this,arguments)}(yield sv(e),t)})),t.promise}(Ns(r=ur(r,es)))}(this._delegate)}onSnapshotsInSync(e){return function S0(r,e){return function Bf(r,e){const t=new Ff(e);return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return o=yield fu(r),a=t,Un(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return o=yield fu(r),a=t,void Un(o).ku.delete(a);var o,a}))}}(Ns(r=ur(r,es)),tg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new yn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Su(this,eg(this._delegate,e))}catch(t){throw Ia(t,"collection()","Firestore.collection()")}}doc(e){try{return new il(this,_u(this._delegate,e))}catch(t){throw Ia(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sa(this,function av(r,e){if(r=ur(r,gu),Nc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yn(Jt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(r,null,(t=e,new aa(Vn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ia(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Av(r,e,t){r=ur(r,es);const o=Object.assign(Object.assign({},vb),t);return function(a){if(a.maxAttempts<1)throw new yn(Jt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,p){const k=new Ui;return a.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const $=yield function yh(r){return vh(r).then(e=>e.datastore)}(a);new Yy(a.asyncQueue,$,p,u,k).run()})),k.promise}(Ns(r),a=>e(new yb(r,a)),o)}(this._delegate,t=>e(new Lv(this,t)))}batch(){return Ns(this._delegate),new Bv(new wg(this._delegate,e=>Vc(this._delegate,e)))}loadBundle(e){return function xh(r,e){const t=Ns(r=ur(r,es)),o=new Qy;return function el(r,e,t,o){const a=function(u,p){let k;return k="string"==typeof u?Jg().encode(u):u,$=function($,X){if($ instanceof Uint8Array)return nv($,X);if($ instanceof ArrayBuffer)return nv(new Uint8Array($),X);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new iv($,p);var $}(t,sh(e));r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function w0(r,e,t){const o=Un(r);var a;(a=(0,Re.Z)(function*(u,p,k){try{const $=yield p.getMetadata();if(yield function(Zt,mn){const Bn=Un(Zt),Xn=Wo(mn.createTime);return Bn.persistence.runTransaction("hasNewerBundle","readonly",li=>Bn.qs.getBundleMetadata(li,mn.id)).then(li=>!!li&&li.createTime.compareTo(Xn)>=0)}(u.localStore,$))return yield p.close(),k._completeWith({taskState:"Success",documentsLoaded:(Zt=$).totalDocuments,bytesLoaded:Zt.totalBytes,totalDocuments:Zt.totalDocuments,totalBytes:Zt.totalBytes}),Promise.resolve(new Set);k._updateProgress($_($));const X=new z_($,u.localStore,p.serializer);let ge=yield p.bc();for(;ge;){const Zt=yield X.zu(ge);Zt&&k._updateProgress(Zt),ge=yield p.bc()}const tt=yield X.complete();return yield nc(u,tt.Ju,void 0),yield function(Zt,mn){const Bn=Un(Zt);return Bn.persistence.runTransaction("Save bundle","readwrite",Xn=>Bn.qs.saveBundleMetadata(Xn,mn))}(u.localStore,$),k._completeWith(tt.progress),Promise.resolve(tt.Hu)}catch($){return Ss("SyncEngine",`Loading bundle failed with ${$}`),k._failWith($),Promise.resolve(new Set)}var Zt}),function(u,p,k){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield sv(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xy(r,e){return function qp(r,e){return r.asyncQueue.enqueue((0,Re.Z)(function*(){return function(t,o){const a=Un(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield Wp(r),e)}))}(Ns(r=ur(r,es)),e).then(t=>t?new Xs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Sa(this,t):null)}}class Xf extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(new tl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return il.forKey(t,this.firestore,null)}}class Lv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}get(e){const t=Ad(e);return this._delegate.get(t).then(o=>new Rh(this._firestore,new oc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=Ad(e);return o?(qf("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Ad(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Ad(e);return this._delegate.delete(t),this}}class Bv{constructor(e){this._delegate=e}set(e,t,o){const a=Ad(e);return o?(qf("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Ad(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Ad(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Md{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Cu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ph(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Md.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new Md(e,new Xf(e),t),a.set(t,u)),u}}Md.INSTANCES=new WeakMap;class il{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}static forPath(e,t,o){if(e.length%2!=0)throw new yn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new il(t,new Ko(t._delegate,o,new w(e)))}static forKey(e,t,o){return new il(t,new Ko(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Su(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Su(this.firestore,eg(this._delegate,e))}catch(t){throw Ia(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,be.m9)(e))instanceof Ko&&lv(this._delegate,e)}set(e,t){t=qf("DocumentReference.set",t);try{return t?Sv(this._delegate,e,t):Sv(this._delegate,e)}catch(o){throw Ia(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Tv(this._delegate,e):Tv(this._delegate,e,t,...o)}catch(a){throw Ia(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Mv(r){return Vc(ur(r.firestore,es),[new Ec(r._key,Jo.none())])}(this._delegate)}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Rh(this.firestore,new oc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return yg(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Cv(r){r=ur(r,Ko);const e=ur(r.firestore,es),t=Ns(e),o=new Uc(e);return function Ol(r,e){const t=new Ui;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(o=(0,Re.Z)(function*(a,u,p){try{const k=yield function($,X){const ge=Un($);return ge.persistence.runTransaction("read document","readonly",tt=>ge.localDocuments.getDocument(tt,X))}(a,u);k.isFoundDocument()?p.resolve(k):k.isNoDocument()?p.resolve(null):p.reject(new yn(Jt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const $=ou(k,`Failed to get document '${u} from cache`);p.reject($)}}),function(a,u,p){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new oc(e,o,r._key,a,new Td(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function db(r){r=ur(r,Ko);const e=ur(r.firestore,es);return mu(Ns(e),r._key,{source:"server"}).then(t=>Oh(e,r,t))}(this._delegate):function cb(r){r=ur(r,Ko);const e=ur(r.firestore,es);return mu(Ns(e),r._key).then(t=>Oh(e,r,t))}(this._delegate),t.then(o=>new Rh(this.firestore,new oc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new il(this.firestore,this._delegate.withConverter(e?Md.getInstance(this.firestore,e):null))}}function Ia(r,e,t){return r.message=r.message.replace(e,t),r}function Uv(r){for(const e of r)if("object"==typeof e&&!Qf(e))return e;return{}}function Vv(r,e){var t,o;let a;return a=Qf(r[0])?r[0]:Qf(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Rh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new il(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vg(this._delegate,e._delegate)}}class Ph extends Rh{data(e){const t=this._delegate.data(e);return function Ts(r,e){r||ii()}(void 0!==t),t}}class Sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}where(e,t,o){try{return new Sa(this.firestore,Pl(this._delegate,function ob(r,e,t){const o=e,a=Gf("where",r);return Dd._create(a,o,t)}(e,t,o)))}catch(a){throw Ia(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Sa(this.firestore,Pl(this._delegate,function lb(r,e="asc"){const t=e,o=Gf("orderBy",r);return Wf._create(o,t)}(e,t)))}catch(o){throw Ia(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sa(this.firestore,Pl(this._delegate,function _v(r){return Qp("limit",r),Mh._create("limit",r,"F")}(e)))}catch(t){throw Ia(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Sa(this.firestore,Pl(this._delegate,function hg(r){return Qp("limitToLast",r),Mh._create("limitToLast",r,"L")}(e)))}catch(t){throw Ia(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sa(this.firestore,Pl(this._delegate,function vv(...r){return xu._create("startAt",r,!0)}(...e)))}catch(t){throw Ia(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sa(this.firestore,Pl(this._delegate,function yv(...r){return xu._create("startAfter",r,!1)}(...e)))}catch(t){throw Ia(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sa(this.firestore,Pl(this._delegate,function bv(...r){return Ah._create("endBefore",r,!1)}(...e)))}catch(t){throw Ia(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sa(this.firestore,Pl(this._delegate,function wv(...r){return Ah._create("endAt",r,!0)}(...e)))}catch(t){throw Ia(t,"endAt()","Query.endAt()")}}isEqual(e){return cv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Iv(r){r=ur(r,Xs);const e=ur(r.firestore,es),t=Ns(e),o=new Uc(e);return function va(r,e){const t=new Ui;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(o=(0,Re.Z)(function*(a,u,p){try{const k=yield dd(a,u,!0),$=new yp(u,k.ir),X=$.sc(k.documents),ge=$.applyChanges(X,!1);p.resolve(ge.snapshot)}catch(k){const $=ou(k,`Failed to execute query '${u} against cache`);p.reject($)}}),function(a,u,p){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Bc(e,o,r,a))}(this._delegate):"server"===e?.source?function Du(r){r=ur(r,Xs);const e=ur(r.firestore,es),t=Ns(e),o=new Uc(e);return Fc(t,r._query,{source:"server"}).then(a=>new Bc(e,o,r,a))}(this._delegate):function Dv(r){r=ur(r,Xs);const e=ur(r.firestore,es),t=Ns(e),o=new Uc(e);return ug(r._query),Fc(t,r._query).then(a=>new Bc(e,o,r,a))}(this._delegate),t.then(o=>new Ig(this.firestore,new Bc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Ig(this.firestore,new Bc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return yg(this._delegate,t,o)}withConverter(e){return new Sa(this.firestore,this._delegate.withConverter(e?Md.getInstance(this.firestore,e):null))}}class Eb{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ph(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ig{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Sa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ph(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Eb(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Ph(this._firestore,o))})}isEqual(e){return vg(this._delegate,e._delegate)}}class Su extends Sa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new il(this.firestore,e):null}doc(e){try{return new il(this.firestore,void 0===e?_u(this._delegate):_u(this._delegate,e))}catch(t){throw Ia(t,"doc()","CollectionReference.doc()")}}add(e){return function ub(r,e){const t=ur(r.firestore,es),o=_u(r),a=Eu(r.converter,e);return Vc(t,[Ch(Lc(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,Jo.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new il(this.firestore,t))}isEqual(e){return lv(this._delegate,e._delegate)}withConverter(e){return new Su(this.firestore,this._delegate.withConverter(e?Md.getInstance(this.firestore,e):null))}}function Ad(r){return ur(r,Ko)}class Sg{constructor(...e){this._delegate=new nl(...e)}static documentId(){return new Sg(Di.keyField().canonicalString())}isEqual(e){return(e=(0,be.m9)(e))instanceof nl&&this._delegate._internalPath.isEqual(e._internalPath)}}class kd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Zf(){return new sg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new kd(e)}static delete(){const e=function kv(){return new yu("deleteField")}();return e._methodName="FieldValue.delete",new kd(e)}static arrayUnion(...e){const t=function bb(...r){return new nb("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new kd(t)}static arrayRemove(...e){const t=function Ov(...r){return new gv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new kd(t)}static increment(e){const t=function Rv(r){return new ag("increment",r)}(e);return t._methodName="FieldValue.increment",new kd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jv={Firestore:Dg,GeoPoint:jf,Timestamp:Mn,Blob:Iu,Transaction:Lv,WriteBatch:Bv,DocumentReference:il,DocumentSnapshot:Rh,Query:Sa,QueryDocumentSnapshot:Ph,QuerySnapshot:Ig,CollectionReference:Su,FieldPath:Sg,FieldValue:kd,setLogLevel:function xb(r){!function ol(r){Qr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function zv(r){(function Hv(r,e){r.INTERNAL.registerComponent(new ue.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},jv)))})(r,(e,t)=>new Dg(e,t,new Nv)),r.registerVersion("@firebase/firestore-compat","0.3.11")}(He.Z);var ac=E(1205),$v=E(6217),Gv=E(9260);function Tg(r,e){return function Wv(r,e=L.z){return new f.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(r,e)}function Fh(r,e){return Tg(r,e).pipe((0,de.U)(t=>({payload:t,type:"query"})))}function Tu(r,e){return Fh(r,e).pipe((0,Y.O)(void 0),se(),(0,de.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((p,k)=>{const $=a.find(ge=>ge.doc.ref.isEqual(p.ref)),X=t?.payload.docs.find(ge=>ge.ref.isEqual(p.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(p.metadata)||!$&&X&&JSON.stringify(X.metadata)===JSON.stringify(p.metadata)||u.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:p}})}),u}))}function Hc(r,e,t){return Tu(r,t).pipe((0,me.R)((o,a)=>function Cb(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function Mu(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Mg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,Xe.x)(),(0,de.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Mg(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function Db(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Jf{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Tu(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,de.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Y.O)(void 0),se(),(0,Ne.h)(([o,a])=>a.length>0||!o),(0,de.U)(([o,a])=>a),ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Db(e);return Hc(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Fh(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ae.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(ae.iC)}add(e){return this.ref.add(e)}doc(e){return new Ib(this.ref.doc(e),this.afs)}}class Ib{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=Yv(o,t);return new Jf(a,u,this.afs)}snapshotChanges(){return function Kv(r,e){return Tg(r,e).pipe((0,Y.O)(void 0),se(),(0,de.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,de.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(ae.iC)}}class Zv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tu(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Ne.h)(t=>t.length>0),ae.iC):Tu(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Db(e);return Hc(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Fh(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ae.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(ae.iC)}}const Ag=new d.OlP("angularfire2.enableFirestorePersistence"),Sb=new d.OlP("angularfire2.firestore.persistenceSettings"),ji=new d.OlP("angularfire2.firestore.settings"),Tb=new d.OlP("angularfire2.firestore.use-emulator");function Yv(r,e=(t=>t)){return{query:e(r),ref:r}}let qv=(()=>{class r{constructor(t,o,a,u,p,k,$,X,ge,tt,Zt,mn,Bn,Xn,li,or,zr){this.schedulers=$;const Yi=(0,dt.on)(t,k,o),gs=ge;tt&&(0,ac.nw)(Yi,k,Zt,Bn,Xn,li,mn,or),[this.firestore,this.persistenceEnabled$]=(0,dt.cc)(`${Yi.name}.firestore`,"AngularFirestore",Yi.name,()=>{const Uo=k.runOutsideAngular(()=>Yi.firestore());if(u&&Uo.settings(u),gs&&Uo.useEmulator(...gs),a&&!(0,it.PM)(p)){const Do=()=>{try{return(0,ne.D)(Uo.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(ya){return typeof console<"u"&&console.warn(ya),(0,xe.of)(!1)}};return[Uo,k.runOutsideAngular(Do)]}return[Uo,(0,xe.of)(!1)]},[u,gs,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:p}=Yv(a,o),k=this.schedulers.ngZone.run(()=>u);return new Jf(k,p,this)}collectionGroup(t,o){const a=o||(p=>p),u=this.firestore.collectionGroup(t);return new Zv(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new Ib(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(dt.Dh),d.LFG(dt.xv,8),d.LFG(Ag,8),d.LFG(ji,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ae.HU),d.LFG(Sb,8),d.LFG(Tb,8),d.LFG(ac.zQ,8),d.LFG(ac.Qv,8),d.LFG(ac.L6,8),d.LFG(ac._Q,8),d.LFG(ac.rT,8),d.LFG(ac.lh,8),d.LFG(ac.f7,8),d.LFG($v.nm,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Au=(()=>{class r{constructor(){Gv.Z.registerVersion("angularfire",ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Ag,useValue:!0},{provide:Sb,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[qv]}),r})()},8445:(gn,nt,E)=>{E.d(nt,{Q1:()=>Ro,TE:()=>j});var d=E(9751),L=E(9646),f=E(8996),ne=E(8372),xe=E(4004),ae=E(3900),Y=E(4976),_e=E(2223),Ee=E(2011),se=E(3942),de=E(5861),me=E(6881),Xe=E(2090),Ne=E(4859);const dt="firebasestorage.googleapis.com",it="storageBucket";class wt extends Xe.ZR{constructor(C,J,De=0){super(Ie(C),`Firebase Storage: ${J} (${Ie(C)})`),this.status_=De,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(C){this.status_=C}_codeEquals(C){return Ie(C)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(C){this.customData.serverResponse=C,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ue=(()=>((ue=ue||{}).UNKNOWN="unknown",ue.OBJECT_NOT_FOUND="object-not-found",ue.BUCKET_NOT_FOUND="bucket-not-found",ue.PROJECT_NOT_FOUND="project-not-found",ue.QUOTA_EXCEEDED="quota-exceeded",ue.UNAUTHENTICATED="unauthenticated",ue.UNAUTHORIZED="unauthorized",ue.UNAUTHORIZED_APP="unauthorized-app",ue.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ue.INVALID_CHECKSUM="invalid-checksum",ue.CANCELED="canceled",ue.INVALID_EVENT_NAME="invalid-event-name",ue.INVALID_URL="invalid-url",ue.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ue.NO_DEFAULT_BUCKET="no-default-bucket",ue.CANNOT_SLICE_BLOB="cannot-slice-blob",ue.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ue.NO_DOWNLOAD_URL="no-download-url",ue.INVALID_ARGUMENT="invalid-argument",ue.INVALID_ARGUMENT_COUNT="invalid-argument-count",ue.APP_DELETED="app-deleted",ue.INVALID_ROOT_OPERATION="invalid-root-operation",ue.INVALID_FORMAT="invalid-format",ue.INTERNAL_ERROR="internal-error",ue.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ue))();function Ie(v){return"storage/"+v}function be(){return new wt(ue.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ze(){return new wt(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yt(){return new wt(ue.CANCELED,"User canceled the upload/download.")}function ht(){return new wt(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yt(v){return new wt(ue.INVALID_ARGUMENT,v)}function dn(){return new wt(ue.APP_DELETED,"The Firebase app was deleted.")}function pn(v){return new wt(ue.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rn(v,C){return new wt(ue.INVALID_FORMAT,"String does not match format '"+v+"': "+C)}function At(v){throw new wt(ue.INTERNAL_ERROR,"Internal error: "+v)}class Ge{constructor(C,J){this.bucket=C,this.path_=J}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const C=encodeURIComponent;return"/b/"+C(this.bucket)+"/o/"+C(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(C,J){let De;try{De=Ge.makeFromUrl(C,J)}catch{return new Ge(C,"")}if(""===De.path)return De;throw function On(v){return new wt(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(C)}static makeFromUrl(C,J){let De=null;const ct="([A-Za-z0-9.\\-_]+)",Kn=new RegExp("^gs://"+ct+"(/(.*))?$","i");function xi(Br){Br.path_=decodeURIComponent(Br.path)}const gr=J.replace(/[.]/g,"\\."),Lr=[{regex:Kn,indices:{bucket:1,path:3},postModify:function Nt(Br){"/"===Br.path.charAt(Br.path.length-1)&&(Br.path_=Br.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${gr}/v[A-Za-z0-9_]+/b/${ct}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:xi},{regex:new RegExp(`^https?://${J===dt?"(?:storage.googleapis.com|storage.cloud.google.com)":J}/${ct}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:xi}];for(let Br=0;Br<Lr.length;Br++){const xo=Lr[Br],as=xo.regex.exec(C);if(as){let ys=as[xo.indices.path];ys||(ys=""),De=new Ge(as[xo.indices.bucket],ys),xo.postModify(De);break}}if(null==De)throw function vn(v){return new wt(ue.INVALID_URL,"Invalid URL '"+v+"'.")}(C);return De}}class Qe{constructor(C){this.promise_=Promise.reject(C)}getPromise(){return this.promise_}cancel(C=!1){}}function Xt(v){return"string"==typeof v||v instanceof String}function _n(v){return Yn()&&v instanceof Blob}function Yn(){return typeof Blob<"u"&&!(0,Xe.UG)()}function gi(v,C,J,De){if(De<C)throw Yt(`Invalid value for '${v}'. Expected ${C} or greater.`);if(De>J)throw Yt(`Invalid value for '${v}'. Expected ${J} or less.`)}function Wn(v,C,J){let De=C;return null==J&&(De=`https://${C}`),`${J}://${De}/v0${v}`}function Vt(v){const C=encodeURIComponent;let J="?";for(const De in v)v.hasOwnProperty(De)&&(J=J+(C(De)+"=")+C(v[De])+"&");return J=J.slice(0,-1),J}var ce=(()=>((ce=ce||{})[ce.NO_ERROR=0]="NO_ERROR",ce[ce.NETWORK_ERROR=1]="NETWORK_ERROR",ce[ce.ABORT=2]="ABORT",ce))();function Ve(v,C){const J=v>=500&&v<600,ct=-1!==[408,429].indexOf(v),Nt=-1!==C.indexOf(v);return J||ct||Nt}class ft{constructor(C,J,De,ct,Nt,Dn,Kn,Hn,xi,Ni,gr,Vr=!0){this.url_=C,this.method_=J,this.headers_=De,this.body_=ct,this.successCodes_=Nt,this.additionalRetryCodes_=Dn,this.callback_=Kn,this.errorCallback_=Hn,this.timeout_=xi,this.progressCallback_=Ni,this.connectionFactory_=gr,this.retry=Vr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_r,Wi)=>{this.resolve_=_r,this.reject_=Wi,this.start_()})}start_(){const J=(De,ct)=>{const Nt=this.resolve_,Dn=this.reject_,Kn=ct.connection;if(ct.wasSuccessCode)try{const Hn=this.callback_(Kn,Kn.getResponse());!function Ut(v){return void 0!==v}(Hn)?Nt():Nt(Hn)}catch(Hn){Dn(Hn)}else if(null!==Kn){const Hn=be();Hn.serverResponse=Kn.getErrorText(),Dn(this.errorCallback_?this.errorCallback_(Kn,Hn):Hn)}else Dn(ct.canceled?this.appDelete_?dn():yt():ze())};this.canceled_?J(0,new st(!1,null,!0)):this.backoffId_=function kt(v,C,J){let De=1,ct=null,Nt=null,Dn=!1,Kn=0;function Hn(){return 2===Kn}let xi=!1;function Ni(...Oi){xi||(xi=!0,C.apply(null,Oi))}function gr(Oi){ct=setTimeout(()=>{ct=null,v(_r,Hn())},Oi)}function Vr(){Nt&&clearTimeout(Nt)}function _r(Oi,...Po){if(xi)return void Vr();if(Oi)return Vr(),void Ni.call(null,Oi,...Po);if(Hn()||Dn)return Vr(),void Ni.call(null,Oi,...Po);let Lr;De<64&&(De*=2),1===Kn?(Kn=2,Lr=0):Lr=1e3*(De+Math.random()),gr(Lr)}let Wi=!1;function vr(Oi){Wi||(Wi=!0,Vr(),!xi&&(null!==ct?(Oi||(Kn=2),clearTimeout(ct),gr(0)):Oi||(Kn=1)))}return gr(0),Nt=setTimeout(()=>{Dn=!0,vr(!0)},J),vr}((De,ct)=>{if(ct)return void De(!1,new st(!1,null,!0));const Nt=this.connectionFactory_();this.pendingConnection_=Nt;const Dn=Kn=>{null!==this.progressCallback_&&this.progressCallback_(Kn.loaded,Kn.lengthComputable?Kn.total:-1)};null!==this.progressCallback_&&Nt.addUploadProgressListener(Dn),Nt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Nt.removeUploadProgressListener(Dn),this.pendingConnection_=null;const Kn=Nt.getErrorCode()===ce.NO_ERROR,Hn=Nt.getStatus();if(!Kn||Ve(Hn,this.additionalRetryCodes_)&&this.retry){const Ni=Nt.getErrorCode()===ce.ABORT;return void De(!1,new st(!1,null,Ni))}const xi=-1!==this.successCodes_.indexOf(Hn);De(!0,new st(xi,Nt))})},J,this.timeout_)}getPromise(){return this.promise_}cancel(C){this.canceled_=!0,this.appDelete_=C||!1,null!==this.backoffId_&&function bt(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class st{constructor(C,J,De){this.wasSuccessCode=C,this.connection=J,this.canceled=!!De}}function Gt(...v){const C=function Wt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==C){const J=new C;for(let De=0;De<v.length;De++)J.append(v[De]);return J.getBlob()}if(Yn())return new Blob(v);throw new wt(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const _t={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $t{constructor(C,J){this.data=C,this.contentType=J||null}}function Sn(v,C){switch(v){case _t.RAW:return new $t(_i(C));case _t.BASE64:case _t.BASE64URL:return new $t(wi(v,C));case _t.DATA_URL:return new $t(function Je(v){const C=new Kt(v);return C.base64?wi(_t.BASE64,C.rest):function ni(v){let C;try{C=decodeURIComponent(v)}catch{throw rn(_t.DATA_URL,"Malformed data URL.")}return _i(C)}(C.rest)}(C),function ot(v){return new Kt(v).contentType}(C))}throw be()}function _i(v){const C=[];for(let J=0;J<v.length;J++){let De=v.charCodeAt(J);De<=127?C.push(De):De<=2047?C.push(192|De>>6,128|63&De):55296==(64512&De)?J<v.length-1&&56320==(64512&v.charCodeAt(J+1))?(De=65536|(1023&De)<<10|1023&v.charCodeAt(++J),C.push(240|De>>18,128|De>>12&63,128|De>>6&63,128|63&De)):C.push(239,191,189):56320==(64512&De)?C.push(239,191,189):C.push(224|De>>12,128|De>>6&63,128|63&De)}return new Uint8Array(C)}function wi(v,C){switch(v){case _t.BASE64:{const ct=-1!==C.indexOf("-"),Nt=-1!==C.indexOf("_");if(ct||Nt)throw rn(v,"Invalid character '"+(ct?"-":"_")+"' found: is it base64url encoded?");break}case _t.BASE64URL:{const ct=-1!==C.indexOf("+"),Nt=-1!==C.indexOf("/");if(ct||Nt)throw rn(v,"Invalid character '"+(ct?"+":"/")+"' found: is it base64 encoded?");C=C.replace(/-/g,"+").replace(/_/g,"/");break}}let J;try{J=function ke(v){if(typeof atob>"u")throw function qt(v){return new wt(ue.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(C)}catch(ct){throw ct.message.includes("polyfill")?ct:rn(v,"Invalid character found")}const De=new Uint8Array(J.length);for(let ct=0;ct<J.length;ct++)De[ct]=J.charCodeAt(ct);return De}class Kt{constructor(C){this.base64=!1,this.contentType=null;const J=C.match(/^data:([^,]+)?,/);if(null===J)throw rn(_t.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const De=J[1]||null;null!=De&&(this.base64=function Be(v,C){return v.length>=C.length&&v.substring(v.length-C.length)===C}(De,";base64"),this.contentType=this.base64?De.substring(0,De.length-7):De),this.rest=C.substring(C.indexOf(",")+1)}}class Oe{constructor(C,J){let De=0,ct="";_n(C)?(this.data_=C,De=C.size,ct=C.type):C instanceof ArrayBuffer?(J?this.data_=new Uint8Array(C):(this.data_=new Uint8Array(C.byteLength),this.data_.set(new Uint8Array(C))),De=this.data_.length):C instanceof Uint8Array&&(J?this.data_=C:(this.data_=new Uint8Array(C.length),this.data_.set(C)),De=C.length),this.size_=De,this.type_=ct}size(){return this.size_}type(){return this.type_}slice(C,J){if(_n(this.data_)){const ct=function Rn(v,C,J){return v.webkitSlice?v.webkitSlice(C,J):v.mozSlice?v.mozSlice(C,J):v.slice?v.slice(C,J):null}(this.data_,C,J);return null===ct?null:new Oe(ct)}{const De=new Uint8Array(this.data_.buffer,C,J-C);return new Oe(De,!0)}}static getBlob(...C){if(Yn()){const J=C.map(De=>De instanceof Oe?De.data_:De);return new Oe(Gt.apply(null,J))}{const J=C.map(Dn=>Xt(Dn)?Sn(_t.RAW,Dn).data:Dn.data_);let De=0;J.forEach(Dn=>{De+=Dn.byteLength});const ct=new Uint8Array(De);let Nt=0;return J.forEach(Dn=>{for(let Kn=0;Kn<Dn.length;Kn++)ct[Nt++]=Dn[Kn]}),new Oe(ct,!0)}}uploadData(){return this.data_}}function Se(v){let C;try{C=JSON.parse(v)}catch{return null}return function cn(v){return"object"==typeof v&&!Array.isArray(v)}(C)?C:null}function Te(v){const C=v.lastIndexOf("/",v.length-2);return-1===C?v:v.slice(C+1)}function oe(v,C){return C}class H{constructor(C,J,De,ct){this.server=C,this.local=J||C,this.writable=!!De,this.xform=ct||oe}}let U=null;function le(){if(U)return U;const v=[];v.push(new H("bucket")),v.push(new H("generation")),v.push(new H("metageneration")),v.push(new H("name","fullPath",!0));const J=new H("name");J.xform=function C(Nt,Dn){return function z(v){return!Xt(v)||v.length<2?v:Te(v)}(Dn)},v.push(J);const ct=new H("size");return ct.xform=function De(Nt,Dn){return void 0!==Dn?Number(Dn):Dn},v.push(ct),v.push(new H("timeCreated")),v.push(new H("updated")),v.push(new H("md5Hash",null,!0)),v.push(new H("cacheControl",null,!0)),v.push(new H("contentDisposition",null,!0)),v.push(new H("contentEncoding",null,!0)),v.push(new H("contentLanguage",null,!0)),v.push(new H("contentType",null,!0)),v.push(new H("metadata","customMetadata",!0)),U=v,U}function Ct(v,C,J){const De=Se(C);return null===De?null:function ye(v,C,J){const De={type:"file"},ct=J.length;for(let Nt=0;Nt<ct;Nt++){const Dn=J[Nt];De[Dn.local]=Dn.xform(De,C[Dn.server])}return function re(v,C){Object.defineProperty(v,"ref",{get:function J(){const Nt=new Ge(v.bucket,v.fullPath);return C._makeStorageReference(Nt)}})}(De,v),De}(v,De,J)}function Ot(v,C){const J={},De=C.length;for(let ct=0;ct<De;ct++){const Nt=C[ct];Nt.writable&&(J[Nt.server]=v[Nt.local])}return JSON.stringify(J)}const en="prefixes",ti="items";class Si{constructor(C,J,De,ct){this.url=C,this.method=J,this.handler=De,this.timeout=ct,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bt(v){if(!v)throw be()}function Tt(v,C){return function J(De,ct){const Nt=Ct(v,ct,C);return Bt(null!==Nt),Nt}}function Pn(v){return function C(J,De){let ct;return ct=401===J.getStatus()?J.getErrorText().includes("Firebase App Check token is invalid")?function We(){return new wt(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Z(){return new wt(ue.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===J.getStatus()?function $e(v){return new wt(ue.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===J.getStatus()?function Fe(v){return new wt(ue.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):De,ct.status=J.getStatus(),ct.serverResponse=De.serverResponse,ct}}function jn(v){const C=Pn(v);return function J(De,ct){let Nt=C(De,ct);return 404===De.getStatus()&&(Nt=function Me(v){return new wt(ue.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),Nt.serverResponse=ct.serverResponse,Nt}}function hi(v,C,J){const ct=Wn(C.fullServerUrl(),v.host,v._protocol),Dn=v.maxOperationRetryTime,Kn=new Si(ct,"GET",Tt(v,J),Dn);return Kn.errorHandler=jn(C),Kn}function sr(v,C,J,De,ct){const Nt={};Nt.prefix=C.isRoot?"":C.path+"/",J&&J.length>0&&(Nt.delimiter=J),De&&(Nt.pageToken=De),ct&&(Nt.maxResults=ct);const Kn=Wn(C.bucketOnlyServerUrl(),v.host,v._protocol),xi=v.maxOperationRetryTime,Ni=new Si(Kn,"GET",function wn(v,C){return function J(De,ct){const Nt=function Ai(v,C,J){const De=Se(J);return null===De?null:function An(v,C,J){const De={prefixes:[],items:[],nextPageToken:J.nextPageToken};if(J[en])for(const ct of J[en]){const Nt=ct.replace(/\/$/,""),Dn=v._makeStorageReference(new Ge(C,Nt));De.prefixes.push(Dn)}if(J[ti])for(const ct of J[ti]){const Nt=v._makeStorageReference(new Ge(C,ct.name));De.items.push(Nt)}return De}(v,C,De)}(v,C,ct);return Bt(null!==Nt),Nt}}(v,C.bucket),xi);return Ni.urlParams=Nt,Ni.errorHandler=Pn(C),Ni}function er(v,C,J){const De=Object.assign({},J);return De.fullPath=v.path,De.size=C.size(),De.contentType||(De.contentType=function _s(v,C){return v&&v.contentType||C&&C.type()||"application/octet-stream"}(null,C)),De}class kr{constructor(C,J,De,ct){this.current=C,this.total=J,this.finalized=!!De,this.metadata=ct||null}}function $r(v,C){let J=null;try{J=v.getResponseHeader("X-Goog-Upload-Status")}catch{Bt(!1)}return Bt(!!J&&-1!==(C||["active"]).indexOf(J)),J}const no={STATE_CHANGED:"state_changed"},hr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gr(v){switch(v){case"running":case"pausing":case"canceling":return hr.RUNNING;case"paused":return hr.PAUSED;case"success":return hr.SUCCESS;case"canceled":return hr.CANCELED;default:return hr.ERROR}}class io{constructor(C,J,De){if(function St(v){return"function"==typeof v}(C)||null!=J||null!=De)this.next=C,this.error=J??void 0,this.complete=De??void 0;else{const Nt=C;this.next=Nt.next,this.error=Nt.error,this.complete=Nt.complete}}}function So(v){return(...C)=>{Promise.resolve().then(()=>v(...C))}}let js=null;class vs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ce.NO_ERROR,this.sendPromise_=new Promise(C=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ce.ABORT,C()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ce.NETWORK_ERROR,C()}),this.xhr_.addEventListener("load",()=>{C()})})}send(C,J,De,ct){if(this.sent_)throw At("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(J,C,!0),void 0!==ct)for(const Nt in ct)ct.hasOwnProperty(Nt)&&this.xhr_.setRequestHeader(Nt,ct[Nt].toString());return void 0!==De?this.xhr_.send(De):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw At("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw At("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw At("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw At("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(C){return this.xhr_.getResponseHeader(C)}addUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",C)}removeUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",C)}}class Yo extends vs{initXhr(){this.xhr_.responseType="text"}}function ro(){return js?js():new Yo}class Sr{constructor(C,J,De=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=C,this._blob=J,this._metadata=De,this._mappings=le(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ct=>{if(this._request=void 0,this._chunkMultiplier=1,ct._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Nt=this.isExponentialBackoffExpired();if(Ve(ct.status,[])){if(!Nt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ct=ze()}this._error=ct,this._transition("error")}},this._metadataErrorHandler=ct=>{this._request=void 0,ct._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=ct,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ct,Nt)=>{this._resolve=ct,this._reject=Nt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const C=this._transferred;return J=>this._updateProgress(C+J)}_shouldDoResumable(C){return C.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(C){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([J,De])=>{switch(this._state){case"running":C(J,De);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((C,J)=>{const De=function uo(v,C,J,De,ct){const Nt=C.bucketOnlyServerUrl(),Dn=er(C,De,ct),Kn={name:Dn.fullPath},Hn=Wn(Nt,v.host,v._protocol),Ni={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${De.size()}`,"X-Goog-Upload-Header-Content-Type":Dn.contentType,"Content-Type":"application/json; charset=utf-8"},gr=Ot(Dn,J),Wi=new Si(Hn,"POST",function _r(vr){let Oi;$r(vr);try{Oi=vr.getResponseHeader("X-Goog-Upload-URL")}catch{Bt(!1)}return Bt(Xt(Oi)),Oi},v.maxUploadRetryTime);return Wi.urlParams=Kn,Wi.headers=Ni,Wi.body=gr,Wi.errorHandler=Pn(C),Wi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ct=this._ref.storage._makeRequest(De,ro,C,J);this._request=ct,ct.getPromise().then(Nt=>{this._request=void 0,this._uploadUrl=Nt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const C=this._uploadUrl;this._resolveToken((J,De)=>{const ct=function yi(v,C,J,De){const Hn=new Si(J,"POST",function Nt(xi){const Ni=$r(xi,["active","final"]);let gr=null;try{gr=xi.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bt(!1)}gr||Bt(!1);const Vr=Number(gr);return Bt(!isNaN(Vr)),new kr(Vr,De.size(),"final"===Ni)},v.maxUploadRetryTime);return Hn.headers={"X-Goog-Upload-Command":"query"},Hn.errorHandler=Pn(C),Hn}(this._ref.storage,this._ref._location,C,this._blob),Nt=this._ref.storage._makeRequest(ct,ro,J,De);this._request=Nt,Nt.getPromise().then(Dn=>{this._request=void 0,this._updateProgress(Dn.current),this._needToFetchStatus=!1,Dn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const C=262144*this._chunkMultiplier,J=new kr(this._transferred,this._blob.size()),De=this._uploadUrl;this._resolveToken((ct,Nt)=>{let Dn;try{Dn=function go(v,C,J,De,ct,Nt,Dn,Kn){const Hn=new kr(0,0);if(Dn?(Hn.current=Dn.current,Hn.total=Dn.total):(Hn.current=0,Hn.total=De.size()),De.size()!==Hn.total)throw function Rt(){return new wt(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const xi=Hn.total-Hn.current;let Ni=xi;ct>0&&(Ni=Math.min(Ni,ct));const gr=Hn.current;let _r="";_r=0===Ni?"finalize":xi===Ni?"upload, finalize":"upload";const Wi={"X-Goog-Upload-Command":_r,"X-Goog-Upload-Offset":`${Hn.current}`},vr=De.slice(gr,gr+Ni);if(null===vr)throw ht();const Lr=new Si(J,"POST",function Oi(Br,xo){const as=$r(Br,["active","final"]),Ds=Hn.current+Ni,ys=De.size();let Us;return Us="final"===as?Tt(C,Nt)(Br,xo):null,new kr(Ds,ys,"final"===as,Us)},C.maxUploadRetryTime);return Lr.headers=Wi,Lr.body=vr.uploadData(),Lr.progressCallback=Kn||null,Lr.errorHandler=Pn(v),Lr}(this._ref._location,this._ref.storage,De,this._blob,C,this._mappings,J,this._makeProgressCallback())}catch(Hn){return this._error=Hn,void this._transition("error")}const Kn=this._ref.storage._makeRequest(Dn,ro,ct,Nt,!1);this._request=Kn,Kn.getPromise().then(Hn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Hn.current),Hn.finalized?(this._metadata=Hn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((C,J)=>{const De=hi(this._ref.storage,this._ref._location,this._mappings),ct=this._ref.storage._makeRequest(De,ro,C,J);this._request=ct,ct.getPromise().then(Nt=>{this._request=void 0,this._metadata=Nt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((C,J)=>{const De=function to(v,C,J,De,ct){const Nt=C.bucketOnlyServerUrl(),Dn={"X-Goog-Upload-Protocol":"multipart"},Hn=function Kn(){let Lr="";for(let Br=0;Br<2;Br++)Lr+=Math.random().toString().slice(2);return Lr}();Dn["Content-Type"]="multipart/related; boundary="+Hn;const xi=er(C,De,ct),Ni=Ot(xi,J),_r=Oe.getBlob("--"+Hn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ni+"\r\n--"+Hn+"\r\nContent-Type: "+xi.contentType+"\r\n\r\n",De,"\r\n--"+Hn+"--");if(null===_r)throw ht();const Wi={name:xi.fullPath},vr=Wn(Nt,v.host,v._protocol),Po=v.maxUploadRetryTime,oo=new Si(vr,"POST",Tt(v,J),Po);return oo.urlParams=Wi,oo.headers=Dn,oo.body=_r.uploadData(),oo.errorHandler=Pn(C),oo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ct=this._ref.storage._makeRequest(De,ro,C,J);this._request=ct,ct.getPromise().then(Nt=>{this._request=void 0,this._metadata=Nt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(C){const J=this._transferred;this._transferred=C,this._transferred!==J&&this._notifyObservers()}_transition(C){if(this._state!==C)switch(C){case"canceling":case"pausing":this._state=C,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const J="paused"===this._state;this._state=C,J&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=C,this._notifyObservers();break;case"canceled":this._error=yt(),this._state=C,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const C=Gr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:C,metadata:this._metadata,task:this,ref:this._ref}}on(C,J,De,ct){const Nt=new io(J||void 0,De||void 0,ct||void 0);return this._addObserver(Nt),()=>{this._removeObserver(Nt)}}then(C,J){return this._promise.then(C,J)}catch(C){return this.then(null,C)}_addObserver(C){this._observers.push(C),this._notifyObserver(C)}_removeObserver(C){const J=this._observers.indexOf(C);-1!==J&&this._observers.splice(J,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(J=>{this._notifyObserver(J)})}_finishPromise(){if(void 0!==this._resolve){let C=!0;switch(Gr(this._state)){case hr.SUCCESS:So(this._resolve.bind(null,this.snapshot))();break;case hr.CANCELED:case hr.ERROR:So(this._reject.bind(null,this._error))();break;default:C=!1}C&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(C){switch(Gr(this._state)){case hr.RUNNING:case hr.PAUSED:C.next&&So(C.next.bind(C,this.snapshot))();break;case hr.SUCCESS:C.complete&&So(C.complete.bind(C))();break;default:C.error&&So(C.error.bind(C,this._error))()}}resume(){const C="paused"===this._state||"pausing"===this._state;return C&&this._transition("running"),C}pause(){const C="running"===this._state;return C&&this._transition("pausing"),C}cancel(){const C="running"===this._state||"pausing"===this._state;return C&&this._transition("canceling"),C}}class Fi{constructor(C,J){this._service=C,this._location=J instanceof Ge?J:Ge.makeFromUrl(J,C.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(C,J){return new Fi(C,J)}get root(){const C=new Ge(this._location.bucket,"");return this._newRef(this._service,C)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Te(this._location.path)}get storage(){return this._service}get parent(){const C=function Et(v){if(0===v.length)return null;const C=v.lastIndexOf("/");return-1===C?"":v.slice(0,C)}(this._location.path);if(null===C)return null;const J=new Ge(this._location.bucket,C);return new Fi(this._service,J)}_throwIfRoot(C){if(""===this._location.path)throw pn(C)}}function nn(v,C,J){return fn.apply(this,arguments)}function fn(){return(fn=(0,de.Z)(function*(v,C,J){const ct=yield on(v,{pageToken:J});C.prefixes.push(...ct.prefixes),C.items.push(...ct.items),null!=ct.nextPageToken&&(yield nn(v,C,ct.nextPageToken))})).apply(this,arguments)}function on(v,C){null!=C&&"number"==typeof C.maxResults&&gi("options.maxResults",1,1e3,C.maxResults);const J=C||{},De=sr(v.storage,v._location,"/",J.pageToken,J.maxResults);return v.storage.makeRequestWithTokens(De,ro)}function bi(v){v._throwIfRoot("getDownloadURL");const C=function Ir(v,C,J){const ct=Wn(C.fullServerUrl(),v.host,v._protocol),Dn=v.maxOperationRetryTime,Kn=new Si(ct,"GET",function Qn(v,C){return function J(De,ct){const Nt=Ct(v,ct,C);return Bt(null!==Nt),function xt(v,C,J,De){const ct=Se(C);if(null===ct||!Xt(ct.downloadTokens))return null;const Nt=ct.downloadTokens;if(0===Nt.length)return null;const Dn=encodeURIComponent;return Nt.split(",").map(xi=>{const gr=v.fullPath;return Wn("/b/"+Dn(v.bucket)+"/o/"+Dn(gr),J,De)+Vt({alt:"media",token:xi})})[0]}(Nt,ct,v.host,v._protocol)}}(v,J),Dn);return Kn.errorHandler=jn(C),Kn}(v.storage,v._location,le());return v.storage.makeRequestWithTokens(C,ro).then(J=>{if(null===J)throw function Ft(){return new wt(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return J})}function mr(v,C){const J=function Ht(v,C){const J=C.split("/").filter(De=>De.length>0).join("/");return 0===v.length?J:v+"/"+J}(v._location.path,C),De=new Ge(v._location.bucket,J);return new Fi(v.storage,De)}function Tr(v,C){if(v instanceof _o){const J=v;if(null==J._bucket)throw function ut(){return new wt(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+it+"' property when initializing the app?")}();const De=new Fi(J,J._bucket);return null!=C?Tr(De,C):De}return void 0!==C?mr(v,C):v}function Kr(v,C){if(C&&function Ki(v){return/^[A-Za-z]+:\/\//.test(v)}(C)){if(v instanceof _o)return function ki(v,C){return new Fi(v,C)}(v,C);throw Yt("To use ref(service, url), the first argument must be a Storage instance.")}return Tr(v,C)}function ci(v,C){const J=C?.[it];return null==J?null:Ge.makeFromBucketSpec(J,v)}class _o{constructor(C,J,De,ct,Nt){this.app=C,this._authProvider=J,this._appCheckProvider=De,this._url=ct,this._firebaseVersion=Nt,this._bucket=null,this._host=dt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ct?Ge.makeFromBucketSpec(ct,this._host):ci(this._host,this.app.options)}get host(){return this._host}set host(C){this._host=C,this._bucket=null!=this._url?Ge.makeFromBucketSpec(this._url,C):ci(C,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(C){gi("time",0,Number.POSITIVE_INFINITY,C),this._maxUploadRetryTime=C}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(C){gi("time",0,Number.POSITIVE_INFINITY,C),this._maxOperationRetryTime=C}_getAuthToken(){var C=this;return(0,de.Z)(function*(){if(C._overrideAuthToken)return C._overrideAuthToken;const J=C._authProvider.getImmediate({optional:!0});if(J){const De=yield J.getToken();if(null!==De)return De.accessToken}return null})()}_getAppCheckToken(){var C=this;return(0,de.Z)(function*(){const J=C._appCheckProvider.getImmediate({optional:!0});return J?(yield J.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(C=>C.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(C){return new Fi(this,C)}_makeRequest(C,J,De,ct,Nt=!0){if(this._deleted)return new Qe(dn());{const Dn=function ln(v,C,J,De,ct,Nt,Dn=!0){const Kn=Vt(v.urlParams),Hn=v.url+Kn,xi=Object.assign({},v.headers);return function Ae(v,C){C&&(v["X-Firebase-GMPID"]=C)}(xi,C),function Ke(v,C){null!==C&&C.length>0&&(v.Authorization="Firebase "+C)}(xi,J),function qe(v,C){v["X-Firebase-Storage-Version"]="webjs/"+(C??"AppManager")}(xi,Nt),function jt(v,C){null!==C&&(v["X-Firebase-AppCheck"]=C)}(xi,De),new ft(Hn,v.method,xi,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,ct,Dn)}(C,this._appId,De,ct,J,this._firebaseVersion,Nt);return this._requests.add(Dn),Dn.getPromise().then(()=>this._requests.delete(Dn),()=>this._requests.delete(Dn)),Dn}}makeRequestWithTokens(C,J){var De=this;return(0,de.Z)(function*(){const[ct,Nt]=yield Promise.all([De._getAuthToken(),De._getAppCheckToken()]);return De._makeRequest(C,J,ct,Nt).getPromise()})()}}const Pr="@firebase/storage";function ko(v,C){return Kr(v=(0,Xe.m9)(v),C)}function br(v,{instanceIdentifier:C}){const J=v.getProvider("app").getImmediate(),De=v.getProvider("auth-internal"),ct=v.getProvider("app-check-internal");return new _o(J,De,ct,C,me.SDK_VERSION)}!function jo(){(0,me._registerComponent)(new Ne.wA("storage",br,"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(Pr,"0.11.2",""),(0,me.registerVersion)(Pr,"0.11.2","esm2017")}();class qi{constructor(C,J,De){this._delegate=C,this.task=J,this.ref=De}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class wr{constructor(C,J){this._delegate=C,this._ref=J,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qi(this._delegate.snapshot,this,this._ref)}then(C,J){return this._delegate.then(De=>{if(C)return C(new qi(De,this,this._ref))},J)}on(C,J,De,ct){let Nt;return J&&(Nt="function"==typeof J?Dn=>J(new qi(Dn,this,this._ref)):{next:J.next?Dn=>J.next(new qi(Dn,this,this._ref)):void 0,complete:J.complete||void 0,error:J.error||void 0}),this._delegate.on(C,Nt,De||void 0,ct||void 0)}}class po{constructor(C,J){this._delegate=C,this._service=J}get prefixes(){return this._delegate.prefixes.map(C=>new Mr(C,this._service))}get items(){return this._delegate.items.map(C=>new Mr(C,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Mr{constructor(C,J){this._delegate=C,this.storage=J}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(C){const J=function qo(v,C){return mr(v,C)}(this._delegate,C);return new Mr(J,this.storage)}get root(){return new Mr(this._delegate.root,this.storage)}get parent(){const C=this._delegate.parent;return null==C?null:new Mr(C,this.storage)}put(C,J){return this._throwIfRoot("put"),new wr(function Ls(v,C,J){return function pt(v,C,J){return v._throwIfRoot("uploadBytesResumable"),new Sr(v,new Oe(C),J)}(v=(0,Xe.m9)(v),C,J)}(this._delegate,C,J),this)}putString(C,J=_t.RAW,De){this._throwIfRoot("putString");const ct=Sn(J,C),Nt=Object.assign({},De);return null==Nt.contentType&&null!=ct.contentType&&(Nt.contentType=ct.contentType),new wr(new Sr(this._delegate,new Oe(ct.data,!0),Nt),this)}listAll(){return function Ao(v){return function Pt(v){const C={prefixes:[],items:[]};return nn(v,C).then(()=>C)}(v=(0,Xe.m9)(v))}(this._delegate).then(C=>new po(C,this.storage))}list(C){return function Cs(v,C){return on(v=(0,Xe.m9)(v),C)}(this._delegate,C||void 0).then(J=>new po(J,this.storage))}getMetadata(){return function Hi(v){return function Nn(v){v._throwIfRoot("getMetadata");const C=hi(v.storage,v._location,le());return v.storage.makeRequestWithTokens(C,ro)}(v=(0,Xe.m9)(v))}(this._delegate)}updateMetadata(C){return function ar(v,C){return function si(v,C){v._throwIfRoot("updateMetadata");const J=function mo(v,C,J,De){const Nt=Wn(C.fullServerUrl(),v.host,v._protocol),Kn=Ot(J,De),xi=v.maxOperationRetryTime,Ni=new Si(Nt,"PATCH",Tt(v,De),xi);return Ni.headers={"Content-Type":"application/json; charset=utf-8"},Ni.body=Kn,Ni.errorHandler=jn(C),Ni}(v.storage,v._location,C,le());return v.storage.makeRequestWithTokens(J,ro)}(v=(0,Xe.m9)(v),C)}(this._delegate,C)}getDownloadURL(){return function zi(v){return bi(v=(0,Xe.m9)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function tr(v){return function Ur(v){v._throwIfRoot("deleteObject");const C=function bo(v,C){const De=Wn(C.fullServerUrl(),v.host,v._protocol),Kn=new Si(De,"DELETE",function Dn(Hn,xi){},v.maxOperationRetryTime);return Kn.successCodes=[200,204],Kn.errorHandler=jn(C),Kn}(v.storage,v._location);return v.storage.makeRequestWithTokens(C,ro)}(v=(0,Xe.m9)(v))}(this._delegate)}_throwIfRoot(C){if(""===this._delegate._location.path)throw pn(C)}}class Ho{constructor(C,J){this.app=C,this._delegate=J}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(C){if(nr(C))throw Yt("ref() expected a child path but got a URL, use refFromURL instead.");return new Mr(ko(this._delegate,C),this)}refFromURL(C){if(!nr(C))throw Yt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ge.makeFromUrl(C,this._delegate.host)}catch{throw Yt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mr(ko(this._delegate,C),this)}setMaxUploadRetryTime(C){this._delegate.maxUploadRetryTime=C}setMaxOperationRetryTime(C){this._delegate.maxOperationRetryTime=C}useEmulator(C,J,De={}){!function ss(v,C,J,De={}){!function Mo(v,C,J,De={}){v.host=`${C}:${J}`,v._protocol="http";const{mockUserToken:ct}=De;ct&&(v._overrideAuthToken="string"==typeof ct?ct:(0,Xe.Sg)(ct,v.app.options.projectId))}(v,C,J,De)}(this._delegate,C,J,De)}}function nr(v){return/^[A-Za-z]+:\/\//.test(v)}function Ze(v,{instanceIdentifier:C}){const J=v.getProvider("app-compat").getImmediate(),De=v.getProvider("storage").getImmediate({identifier:C});return new Ho(J,De)}!function je(v){const C={TaskState:hr,TaskEvent:no,StringFormat:_t,Storage:Ho,Reference:Mr};v.INTERNAL.registerComponent(new Ne.wA("storage-compat",Ze,"PUBLIC").setServiceProps(C).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.2")}(se.Z);var K=E(6217),rt=E(9260);function xn(v){const C=function un(v){return new d.y(C=>{const J=Dn=>C.next(Dn);J(v.snapshot);const Nt=v.on("state_changed",J);return v.then(Dn=>{J(Dn),C.complete()},Dn=>{J(v.snapshot),(Dn=>{C.error(Dn)})(Dn)}),function(){Nt()}}).pipe((0,ne.b)(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>C,percentageChanges:()=>C.pipe((0,xe.U)(J=>J.bytesTransferred/J.totalBytes*100))}}function Mi(v){return{getDownloadURL:()=>(0,L.of)(void 0).pipe(Y.fc,(0,ae.w)(()=>v.getDownloadURL()),Y.iC),getMetadata:()=>(0,L.of)(void 0).pipe(Y.fc,(0,ae.w)(()=>v.getMetadata()),Y.iC),delete:()=>(0,f.D)(v.delete()),child:C=>Mi(v.child(C)),updateMetadata:C=>(0,f.D)(v.updateMetadata(C)),put:(C,J)=>xn(v.put(C,J)),putString:(C,J,De)=>xn(v.putString(C,J,De)),list:C=>(0,f.D)(v.list(C)),listAll:()=>(0,f.D)(v.listAll())}}const pr=new _e.OlP("angularfire2.storageBucket"),Fr=new _e.OlP("angularfire2.storage.maxUploadRetryTime"),wo=new _e.OlP("angularfire2.storage.maxOperationRetryTime"),Nr=new _e.OlP("angularfire2.storage.use-emulator");let Ro=(()=>{class v{constructor(J,De,ct,Nt,Dn,Kn,Hn,xi,Ni,gr){const Vr=(0,Ee.on)(J,Dn,De);this.storage=(0,Ee.cc)(`${Vr.name}.storage.${ct}`,"AngularFireStorage",Vr.name,()=>{const _r=Dn.runOutsideAngular(()=>Vr.storage(ct||void 0)),Wi=Ni;return Wi&&_r.useEmulator(...Wi),Hn&&_r.setMaxUploadRetryTime(Hn),xi&&_r.setMaxOperationRetryTime(xi),_r},[Hn,xi])}ref(J){return Mi(this.storage.ref(J))}refFromURL(J){return Mi(this.storage.refFromURL(J))}upload(J,De,ct){return Mi(this.storage.ref(J)).put(De,ct)}}return v.\u0275fac=function(J){return new(J||v)(_e.LFG(Ee.Dh),_e.LFG(Ee.xv,8),_e.LFG(pr,8),_e.LFG(_e.Lbi),_e.LFG(_e.R0b),_e.LFG(Y.HU),_e.LFG(Fr,8),_e.LFG(wo,8),_e.LFG(Nr,8),_e.LFG(K.nm,8))},v.\u0275prov=_e.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),W=(()=>{class v{}return v.\u0275fac=function(J){return new(J||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({}),v})(),j=(()=>{class v{constructor(){rt.Z.registerVersion("angularfire",Y.q4.full,"gcs-compat")}}return v.\u0275fac=function(J){return new(J||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({providers:[Ro],imports:[W]}),v})()},2011:(gn,nt,E)=>{E.d(nt,{Dh:()=>_e,GT:()=>ae,cc:()=>Ne,hO:()=>Xe,on:()=>se,pX:()=>xe,xv:()=>Ee});var d=E(2223),L=E(9260),f=E(4976);gn=E.hmd(gn);const ne=["ngOnDestroy"],xe=(He,Re,wt,ue={})=>new Proxy(He,{get:(Ie,be)=>wt.runOutsideAngular(()=>{var Me;if(He[be])return!(null===(Me=ue?.spy)||void 0===Me)&&Me.get&&ue.spy.get(be,He[be]),He[be];if(ne.indexOf(be)>-1)return()=>{};const $e=Re.toPromise().then(Z=>{const We=Z&&Z[be];return"function"==typeof We?We.bind(Z):We&&We.then?We.then(Fe=>wt.run(()=>Fe)):wt.run(()=>We)});return new Proxy(()=>{},{get:(Z,We)=>$e[We],apply:(Z,We,Fe)=>$e.then(ze=>{var yt;const vn=ze&&ze(...Fe);return!(null===(yt=ue?.spy)||void 0===yt)&&yt.apply&&ue.spy.apply(be,Fe,vn),vn})})})}),ae=(He,Re)=>{Re.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(ue=>{Object.defineProperty(He.prototype,ue,Object.getOwnPropertyDescriptor(wt.prototype||wt,ue))})})};class Y{constructor(Re){return Re}}const _e=new d.OlP("angularfire2.app.options"),Ee=new d.OlP("angularfire2.app.name");function se(He,Re,wt){const Ie="object"==typeof wt&&wt||{};Ie.name=Ie.name||"string"==typeof wt&&wt||"[DEFAULT]";const Me=L.Z.apps.filter($e=>$e&&$e.name===Ie.name)[0]||Re.runOutsideAngular(()=>L.Z.initializeApp(He,Ie));try{JSON.stringify(He)!==JSON.stringify(Me.options)&&de("error",`${Me.name} Firebase App already initialized with different options${gn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Y(Me)}const de=(He,...Re)=>{(0,d.X6Q)()&&typeof console<"u"&&console[He](...Re)},me={provide:Y,useFactory:se,deps:[_e,d.R0b,[new d.FiY,Ee]]};let Xe=(()=>{class He{constructor(wt){L.Z.registerVersion("angularfire",f.q4.full,"core"),L.Z.registerVersion("angularfire",f.q4.full,"app-compat"),L.Z.registerVersion("angular",d.q4F.full,wt.toString())}static initializeApp(wt,ue){return{ngModule:He,providers:[{provide:_e,useValue:wt},{provide:Ee,useValue:ue}]}}}return He.\u0275fac=function(wt){return new(wt||He)(d.LFG(d.Lbi))},He.\u0275mod=d.oAB({type:He}),He.\u0275inj=d.cJS({providers:[me]}),He})();function Ne(He,Re,wt,ue,Ie){const[,be,Me]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===He)||[];if(be)return function dt(He,Re){try{return He.toString()===Re.toString()}catch{return He===Re}}(Ie,Me)||(Le("error",`${Re} was already initialized on the ${wt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:Ie,was:Me})),be;{const $e=ue();return globalThis.\u0275AngularfireInstanceCache.push([He,$e,Ie]),$e}}const it=!!gn.hot,Le=(He,...Re)=>{(0,d.X6Q)()&&typeof console<"u"&&console[He](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(gn,nt,E)=>{E.d(nt,{q4:()=>ps,iC:()=>Ba,fc:()=>oa,HU:()=>Wa,vb:()=>Hl,JM:()=>Ga});var d=E(2223),L=E(259),f=E(5861),ne=E(6881),xe=E(2090),ae=E(4859),Y=E(1877);const _e=(S,N)=>N.some(te=>S instanceof te);let Ee,se;const Xe=new WeakMap,Ne=new WeakMap,dt=new WeakMap,it=new WeakMap,Le=new WeakMap;let wt={get(S,N,te){if(S instanceof IDBTransaction){if("done"===N)return Ne.get(S);if("objectStoreNames"===N)return S.objectStoreNames||dt.get(S);if("store"===N)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Me(S[N])},set:(S,N,te)=>(S[N]=te,!0),has:(S,N)=>S instanceof IDBTransaction&&("done"===N||"store"===N)||N in S};function be(S){return"function"==typeof S?function Ie(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...N){return S.apply($e(this),N),Me(Xe.get(this))}:function(...N){return Me(S.apply($e(this),N))}:function(N,...te){const Pe=S.call($e(this),N,...te);return dt.set(Pe,N.sort?N.sort():[N]),Me(Pe)}}(S):(S instanceof IDBTransaction&&function Re(S){if(Ne.has(S))return;const N=new Promise((te,Pe)=>{const gt=()=>{S.removeEventListener("complete",Lt),S.removeEventListener("error",an),S.removeEventListener("abort",an)},Lt=()=>{te(),gt()},an=()=>{Pe(S.error||new DOMException("AbortError","AbortError")),gt()};S.addEventListener("complete",Lt),S.addEventListener("error",an),S.addEventListener("abort",an)});Ne.set(S,N)}(S),_e(S,function de(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,wt):S)}function Me(S){if(S instanceof IDBRequest)return function He(S){const N=new Promise((te,Pe)=>{const gt=()=>{S.removeEventListener("success",Lt),S.removeEventListener("error",an)},Lt=()=>{te(Me(S.result)),gt()},an=()=>{Pe(S.error),gt()};S.addEventListener("success",Lt),S.addEventListener("error",an)});return N.then(te=>{te instanceof IDBCursor&&Xe.set(te,S)}).catch(()=>{}),Le.set(N,S),N}(S);if(it.has(S))return it.get(S);const N=be(S);return N!==S&&(it.set(S,N),Le.set(N,S)),N}const $e=S=>Le.get(S),Fe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],yt=new Map;function vn(S,N){if(!(S instanceof IDBDatabase)||N in S||"string"!=typeof N)return;if(yt.get(N))return yt.get(N);const te=N.replace(/FromIndex$/,""),Pe=N!==te,gt=ze.includes(te);if(!(te in(Pe?IDBIndex:IDBObjectStore).prototype)||!gt&&!Fe.includes(te))return;const Lt=function(){var an=(0,f.Z)(function*(Zn,...Gn){const pi=this.transaction(Zn,gt?"readwrite":"readonly");let $i=pi.store;return Pe&&($i=$i.index(Gn.shift())),(yield Promise.all([$i[te](...Gn),gt&&pi.done]))[0]});return function(Gn){return an.apply(this,arguments)}}();return yt.set(N,Lt),Lt}!function ue(S){wt=S(wt)}(S=>({...S,get:(N,te,Pe)=>vn(N,te)||S.get(N,te,Pe),has:(N,te)=>!!vn(N,te)||S.has(N,te)}));const On="@firebase/installations",ut="0.6.4",ht=1e4,Rt=`w:${ut}`,Ft="FIS_v2",qt="https://firebaseinstallations.googleapis.com/v1",Yt=36e5,At=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(S){return S instanceof xe.ZR&&S.code.includes("request-failed")}function Qe({projectId:S}){return`${qt}/projects/${S}/installations`}function kt(S){return{token:S.token,requestStatus:2,expiresIn:Yn(S.expiresIn),creationTime:Date.now()}}function bt(S,N){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,f.Z)(function*(S,N){const Pe=(yield N.json()).error;return At.create("request-failed",{requestName:S,serverCode:Pe.code,serverMessage:Pe.message,serverStatus:Pe.status})})).apply(this,arguments)}function St({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Xt(S){return _n.apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(S){const N=yield S();return N.status>=500&&N.status<600?S():N})).apply(this,arguments)}function Yn(S){return Number(S.replace("s","000"))}function Vt(){return(Vt=(0,f.Z)(function*({appConfig:S,heartbeatServiceProvider:N},{fid:te}){const Pe=Qe(S),gt=St(S),Lt=N.getImmediate({optional:!0});if(Lt){const pi=yield Lt.getHeartbeatsHeader();pi&&gt.append("x-firebase-client",pi)}const Zn={method:"POST",headers:gt,body:JSON.stringify({fid:te,authVersion:Ft,appId:S.appId,sdkVersion:Rt})},Gn=yield Xt(()=>fetch(Pe,Zn));if(Gn.ok){const pi=yield Gn.json();return{fid:pi.fid||te,registrationStatus:2,refreshToken:pi.refreshToken,authToken:kt(pi.authToken)}}throw yield bt("Create Installation",Gn)})).apply(this,arguments)}function ce(S){return new Promise(N=>{setTimeout(N,S)})}const ft=/^[cdef][\w-]{21}$/,st="";function Ke(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const te=function qe(S){return function Ve(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return ft.test(te)?te:st}catch{return st}}function Ae(S){return`${S.appName}!${S.appId}`}const jt=new Map;function ln(S,N){const te=Ae(S);Rn(te,N),function ke(S,N){const te=function $t(){return!_t&&"BroadcastChannel"in self&&(_t=new BroadcastChannel("[Firebase] FID Change"),_t.onmessage=S=>{Rn(S.data.key,S.data.fid)}),_t}();te&&te.postMessage({key:S,fid:N}),function Sn(){0===jt.size&&_t&&(_t.close(),_t=null)}()}(te,N)}function Rn(S,N){const te=jt.get(S);if(te)for(const Pe of te)Pe(N)}let _t=null;const _i="firebase-installations-database",ni=1,wi="firebase-installations-store";let Kt=null;function Je(){return Kt||(Kt=function Z(S,N,{blocked:te,upgrade:Pe,blocking:gt,terminated:Lt}={}){const an=indexedDB.open(S,N),Zn=Me(an);return Pe&&an.addEventListener("upgradeneeded",Gn=>{Pe(Me(an.result),Gn.oldVersion,Gn.newVersion,Me(an.transaction))}),te&&an.addEventListener("blocked",()=>te()),Zn.then(Gn=>{Lt&&Gn.addEventListener("close",()=>Lt()),gt&&Gn.addEventListener("versionchange",()=>gt())}).catch(()=>{}),Zn}(_i,ni,{upgrade:(S,N)=>{0===N&&S.createObjectStore(wi)}})),Kt}function ot(S,N){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(S,N){const te=Ae(S),gt=(yield Je()).transaction(wi,"readwrite"),Lt=gt.objectStore(wi),an=yield Lt.get(te);return yield Lt.put(N,te),yield gt.done,(!an||an.fid!==N.fid)&&ln(S,N.fid),N})).apply(this,arguments)}function Oe(S){return Se.apply(this,arguments)}function Se(){return(Se=(0,f.Z)(function*(S){const N=Ae(S),Pe=(yield Je()).transaction(wi,"readwrite");yield Pe.objectStore(wi).delete(N),yield Pe.done})).apply(this,arguments)}function Et(S,N){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,f.Z)(function*(S,N){const te=Ae(S),gt=(yield Je()).transaction(wi,"readwrite"),Lt=gt.objectStore(wi),an=yield Lt.get(te),Zn=N(an);return void 0===Zn?yield Lt.delete(te):yield Lt.put(Zn,te),yield gt.done,Zn&&(!an||an.fid!==Zn.fid)&&ln(S,Zn.fid),Zn})).apply(this,arguments)}function Te(S){return oe.apply(this,arguments)}function oe(){return oe=(0,f.Z)(function*(S){let N;const te=yield Et(S.appConfig,Pe=>{const gt=function H(S){return xt(S||{fid:Ke(),registrationStatus:0})}(Pe),Lt=function U(S,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(At.create("app-offline"))};const te={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},Pe=function z(S,N){return le.apply(this,arguments)}(S,te);return{installationEntry:te,registrationPromise:Pe}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:re(S)}:{installationEntry:N}}(S,gt);return N=Lt.registrationPromise,Lt.installationEntry});return te.fid===st?{installationEntry:yield N}:{installationEntry:te,registrationPromise:N}}),oe.apply(this,arguments)}function le(){return le=(0,f.Z)(function*(S,N){try{const te=yield function Wn(S,N){return Vt.apply(this,arguments)}(S,N);return ot(S.appConfig,te)}catch(te){throw Ge(te)&&409===te.customData.serverCode?yield Oe(S.appConfig):yield ot(S.appConfig,{fid:N.fid,registrationStatus:0}),te}}),le.apply(this,arguments)}function re(S){return ye.apply(this,arguments)}function ye(){return(ye=(0,f.Z)(function*(S){let N=yield Ct(S.appConfig);for(;1===N.registrationStatus;)yield ce(100),N=yield Ct(S.appConfig);if(0===N.registrationStatus){const{installationEntry:te,registrationPromise:Pe}=yield Te(S);return Pe||te}return N})).apply(this,arguments)}function Ct(S){return Et(S,N=>{if(!N)throw At.create("installation-not-found");return xt(N)})}function xt(S){return function Ot(S){return 1===S.registrationStatus&&S.registrationTime+ht<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function ti(){return(ti=(0,f.Z)(function*({appConfig:S,heartbeatServiceProvider:N},te){const Pe=function An(S,{fid:N}){return`${Qe(S)}/${N}/authTokens:generate`}(S,te),gt=function cn(S,{refreshToken:N}){const te=St(S);return te.append("Authorization",function gi(S){return`${Ft} ${S}`}(N)),te}(S,te),Lt=N.getImmediate({optional:!0});if(Lt){const pi=yield Lt.getHeartbeatsHeader();pi&&gt.append("x-firebase-client",pi)}const Zn={method:"POST",headers:gt,body:JSON.stringify({installation:{sdkVersion:Rt,appId:S.appId}})},Gn=yield Xt(()=>fetch(Pe,Zn));if(Gn.ok)return kt(yield Gn.json());throw yield bt("Generate Auth Token",Gn)})).apply(this,arguments)}function Ai(S){return Si.apply(this,arguments)}function Si(){return Si=(0,f.Z)(function*(S,N=!1){let te;const Pe=yield Et(S.appConfig,Lt=>{if(!jn(Lt))throw At.create("not-registered");const an=Lt.authToken;if(!N&&function hi(S){return 2===S.requestStatus&&!function sr(S){const N=Date.now();return N<S.creationTime||S.creationTime+S.expiresIn<N+Yt}(S)}(an))return Lt;if(1===an.requestStatus)return te=function Bt(S,N){return Tt.apply(this,arguments)}(S,N),Lt;{if(!navigator.onLine)throw At.create("app-offline");const Zn=function Ti(S){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:N})}(Lt);return te=function Qn(S,N){return Pn.apply(this,arguments)}(S,Zn),Zn}});return te?yield te:Pe.authToken}),Si.apply(this,arguments)}function Tt(){return(Tt=(0,f.Z)(function*(S,N){let te=yield wn(S.appConfig);for(;1===te.authToken.requestStatus;)yield ce(100),te=yield wn(S.appConfig);const Pe=te.authToken;return 0===Pe.requestStatus?Ai(S,N):Pe})).apply(this,arguments)}function wn(S){return Et(S,N=>{if(!jn(N))throw At.create("not-registered");return function Ir(S){return 1===S.requestStatus&&S.requestTime+ht<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Pn(){return Pn=(0,f.Z)(function*(S,N){try{const te=yield function en(S,N){return ti.apply(this,arguments)}(S,N),Pe=Object.assign(Object.assign({},N),{authToken:te});return yield ot(S.appConfig,Pe),te}catch(te){if(!Ge(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Pe=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield ot(S.appConfig,Pe)}else yield Oe(S.appConfig);throw te}}),Pn.apply(this,arguments)}function jn(S){return void 0!==S&&2===S.registrationStatus}function bo(){return(bo=(0,f.Z)(function*(S){const N=S,{installationEntry:te,registrationPromise:Pe}=yield Te(N);return Pe?Pe.catch(console.error):Ai(N).catch(console.error),te.fid})).apply(this,arguments)}function er(){return er=(0,f.Z)(function*(S,N=!1){const te=S;return yield function to(S){return kr.apply(this,arguments)}(te),(yield Ai(te,N)).token}),er.apply(this,arguments)}function kr(){return(kr=(0,f.Z)(function*(S){const{registrationPromise:N}=yield Te(S);N&&(yield N)})).apply(this,arguments)}function io(S){return At.create("missing-app-config-values",{valueName:S})}const So="installations",vs=S=>{const N=S.getProvider("app").getImmediate(),te=function Gr(S){if(!S||!S.options)throw io("App Configuration");if(!S.name)throw io("App Name");const N=["projectId","apiKey","appId"];for(const te of N)if(!S.options[te])throw io(te);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(N);return{app:N,appConfig:te,heartbeatServiceProvider:(0,ne._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Yo=S=>{const N=S.getProvider("app").getImmediate(),te=(0,ne._getProvider)(N,So).getImmediate();return{getId:()=>function mo(S){return bo.apply(this,arguments)}(te),getToken:gt=>function _s(S){return er.apply(this,arguments)}(te,gt)}};(function ro(){(0,ne._registerComponent)(new ae.wA(So,vs,"PUBLIC")),(0,ne._registerComponent)(new ae.wA("installations-internal",Yo,"PRIVATE"))})(),(0,ne.registerVersion)(On,ut),(0,ne.registerVersion)(On,ut,"esm2017");const Or="@firebase/remote-config",Fi=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mo{constructor(N,te,Pe,gt){this.client=N,this.storage=te,this.storageCache=Pe,this.logger=gt}isCachedDataFresh(N,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Pe=Date.now()-te,gt=Pe<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${gt}.`),gt}fetch(N){var te=this;return(0,f.Z)(function*(){const[Pe,gt]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(gt&&te.isCachedDataFresh(N.cacheMaxAgeMillis,Pe))return gt;N.eTag=gt&&gt.eTag;const Lt=yield te.client.fetch(N),an=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Lt.status&&an.push(te.storage.setLastSuccessfulFetchResponse(Lt)),yield Promise.all(an),Lt})()}}function _o(S=navigator){return S.languages&&S.languages[0]||S.language}class Pr{constructor(N,te,Pe,gt,Lt,an){this.firebaseInstallations=N,this.sdkVersion=te,this.namespace=Pe,this.projectId=gt,this.apiKey=Lt,this.appId=an}fetch(N){var te=this;return(0,f.Z)(function*(){const[Pe,gt]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),an=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Gn={sdk_version:te.sdkVersion,app_instance_id:Pe,app_instance_id_token:gt,app_id:te.appId,language_code:_o()},pi={method:"POST",headers:Zn,body:JSON.stringify(Gn)},$i=fetch(an,pi),Vi=new Promise((sa,Aa)=>{N.signal.addEventListener(()=>{const Ca=new Error("The operation was aborted.");Ca.name="AbortError",Aa(Ca)})});let As;try{yield Promise.race([$i,Vi]),As=yield $i}catch(sa){let Aa="fetch-client-network";throw"AbortError"===sa?.name&&(Aa="fetch-timeout"),Fi.create(Aa,{originalErrorMessage:sa?.message})}let yr=As.status;const Ya=As.headers.get("ETag")||void 0;let eo,$s;if(200===As.status){let sa;try{sa=yield As.json()}catch(Aa){throw Fi.create("fetch-client-parse",{originalErrorMessage:Aa?.message})}eo=sa.entries,$s=sa.state}if("INSTANCE_STATE_UNSPECIFIED"===$s?yr=500:"NO_CHANGE"===$s?yr=304:("NO_TEMPLATE"===$s||"EMPTY_CONFIG"===$s)&&(eo={}),304!==yr&&200!==yr)throw Fi.create("fetch-status",{httpStatus:yr});return{status:yr,eTag:Ya,config:eo}})()}}class is{constructor(N,te){this.client=N,this.storage=te}fetch(N){var te=this;return(0,f.Z)(function*(){const Pe=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(N,Pe)})()}attemptFetch(N,{throttleEndTimeMillis:te,backoffCount:Pe}){var gt=this;return(0,f.Z)(function*(){yield function Qi(S,N){return new Promise((te,Pe)=>{const gt=Math.max(N-Date.now(),0),Lt=setTimeout(te,gt);S.addEventListener(()=>{clearTimeout(Lt),Pe(Fi.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,te);try{const Lt=yield gt.client.fetch(N);return yield gt.storage.deleteThrottleMetadata(),Lt}catch(Lt){if(!function Vo(S){if(!(S instanceof xe.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Lt))throw Lt;const an={throttleEndTimeMillis:Date.now()+(0,xe.$s)(Pe),backoffCount:Pe+1};return yield gt.storage.setThrottleMetadata(an),gt.attemptFetch(N,an)}})()}}class Ls{constructor(N,te,Pe,gt,Lt){this.app=N,this._client=te,this._storageCache=Pe,this._storage=gt,this._logger=Lt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hi(S,N){const te=S.target.error||void 0;return Fi.create(N,{originalErrorMessage:te&&te?.message})}const ar="app_namespace_store";class tr{constructor(N,te,Pe,gt=function zi(){return new Promise((S,N)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=Pe=>{N(Hi(Pe,"storage-open"))},te.onsuccess=Pe=>{S(Pe.target.result)},te.onupgradeneeded=Pe=>{0===Pe.oldVersion&&Pe.target.result.createObjectStore(ar,{keyPath:"compositeKey"})}}catch(te){N(Fi.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=N,this.appName=te,this.namespace=Pe,this.openDbPromise=gt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var te=this;return(0,f.Z)(function*(){const Pe=yield te.openDbPromise;return new Promise((gt,Lt)=>{const Zn=Pe.transaction([ar],"readonly").objectStore(ar),Gn=te.createCompositeKey(N);try{const pi=Zn.get(Gn);pi.onerror=$i=>{Lt(Hi($i,"storage-get"))},pi.onsuccess=$i=>{const Vi=$i.target.result;gt(Vi?Vi.value:void 0)}}catch(pi){Lt(Fi.create("storage-get",{originalErrorMessage:pi?.message}))}})})()}set(N,te){var Pe=this;return(0,f.Z)(function*(){const gt=yield Pe.openDbPromise;return new Promise((Lt,an)=>{const Gn=gt.transaction([ar],"readwrite").objectStore(ar),pi=Pe.createCompositeKey(N);try{const $i=Gn.put({compositeKey:pi,value:te});$i.onerror=Vi=>{an(Hi(Vi,"storage-set"))},$i.onsuccess=()=>{Lt()}}catch($i){an(Fi.create("storage-set",{originalErrorMessage:$i?.message}))}})})()}delete(N){var te=this;return(0,f.Z)(function*(){const Pe=yield te.openDbPromise;return new Promise((gt,Lt)=>{const Zn=Pe.transaction([ar],"readwrite").objectStore(ar),Gn=te.createCompositeKey(N);try{const pi=Zn.delete(Gn);pi.onerror=$i=>{Lt(Hi($i,"storage-delete"))},pi.onsuccess=()=>{gt()}}catch(pi){Lt(Fi.create("storage-delete",{originalErrorMessage:pi?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class ko{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,f.Z)(function*(){const te=N.storage.getLastFetchStatus(),Pe=N.storage.getLastSuccessfulFetchTimestampMillis(),gt=N.storage.getActiveConfig(),Lt=yield te;Lt&&(N.lastFetchStatus=Lt);const an=yield Pe;an&&(N.lastSuccessfulFetchTimestampMillis=an);const Zn=yield gt;Zn&&(N.activeConfig=Zn)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Bs(){return ks.apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function qo(){(0,ne._registerComponent)(new ae.wA("remote-config",function S(N,{instanceIdentifier:te}){const Pe=N.getProvider("app").getImmediate(),gt=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fi.create("registration-window");if(!(0,xe.hl)())throw Fi.create("indexed-db-unavailable");const{projectId:Lt,apiKey:an,appId:Zn}=Pe.options;if(!Lt)throw Fi.create("registration-project-id");if(!an)throw Fi.create("registration-api-key");if(!Zn)throw Fi.create("registration-app-id");const Gn=new tr(Zn,Pe.name,te=te||"firebase"),pi=new ko(Gn),$i=new Y.Yd(Or);$i.logLevel=Y.in.ERROR;const Vi=new Pr(gt,ne.SDK_VERSION,te,Lt,an,Zn),As=new is(Vi,Gn),yr=new Mo(As,Gn,pi,$i),Ya=new Ls(Pe,yr,pi,Gn,$i);return function Nn(S){const N=(0,xe.m9)(S);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(Or,"0.4.4"),(0,ne.registerVersion)(Or,"0.4.4","esm2017")}();const br=(S,N)=>N.some(te=>S instanceof te);let jo,qi;const Mr=new WeakMap,Ho=new WeakMap,nr=new WeakMap,Oo=new WeakMap,zo=new WeakMap;let je={get(S,N,te){if(S instanceof IDBTransaction){if("done"===N)return Ho.get(S);if("objectStoreNames"===N)return S.objectStoreNames||nr.get(S);if("store"===N)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return xn(S[N])},set:(S,N,te)=>(S[N]=te,!0),has:(S,N)=>S instanceof IDBTransaction&&("done"===N||"store"===N)||N in S};function un(S){return"function"==typeof S?function rt(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function po(){return qi||(qi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...N){return S.apply(Mi(this),N),xn(Mr.get(this))}:function(...N){return xn(S.apply(Mi(this),N))}:function(N,...te){const Pe=S.call(Mi(this),N,...te);return nr.set(Pe,N.sort?N.sort():[N]),xn(Pe)}}(S):(S instanceof IDBTransaction&&function Ze(S){if(Ho.has(S))return;const N=new Promise((te,Pe)=>{const gt=()=>{S.removeEventListener("complete",Lt),S.removeEventListener("error",an),S.removeEventListener("abort",an)},Lt=()=>{te(),gt()},an=()=>{Pe(S.error||new DOMException("AbortError","AbortError")),gt()};S.addEventListener("complete",Lt),S.addEventListener("error",an),S.addEventListener("abort",an)});Ho.set(S,N)}(S),br(S,function wr(){return jo||(jo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,je):S)}function xn(S){if(S instanceof IDBRequest)return function Js(S){const N=new Promise((te,Pe)=>{const gt=()=>{S.removeEventListener("success",Lt),S.removeEventListener("error",an)},Lt=()=>{te(xn(S.result)),gt()},an=()=>{Pe(S.error),gt()};S.addEventListener("success",Lt),S.addEventListener("error",an)});return N.then(te=>{te instanceof IDBCursor&&Mr.set(te,S)}).catch(()=>{}),zo.set(N,S),N}(S);if(Oo.has(S))return Oo.get(S);const N=un(S);return N!==S&&(Oo.set(S,N),zo.set(N,S)),N}const Mi=S=>zo.get(S);function pr(S,N,{blocked:te,upgrade:Pe,blocking:gt,terminated:Lt}={}){const an=indexedDB.open(S,N),Zn=xn(an);return Pe&&an.addEventListener("upgradeneeded",Gn=>{Pe(xn(an.result),Gn.oldVersion,Gn.newVersion,xn(an.transaction))}),te&&an.addEventListener("blocked",()=>te()),Zn.then(Gn=>{Lt&&Gn.addEventListener("close",()=>Lt()),gt&&Gn.addEventListener("versionchange",()=>gt())}).catch(()=>{}),Zn}function Fr(S,{blocked:N}={}){const te=indexedDB.deleteDatabase(S);return N&&te.addEventListener("blocked",()=>N()),xn(te).then(()=>{})}const wo=["get","getKey","getAll","getAllKeys","count"],Nr=["put","add","delete","clear"],Ro=new Map;function Os(S,N){if(!(S instanceof IDBDatabase)||N in S||"string"!=typeof N)return;if(Ro.get(N))return Ro.get(N);const te=N.replace(/FromIndex$/,""),Pe=N!==te,gt=Nr.includes(te);if(!(te in(Pe?IDBIndex:IDBObjectStore).prototype)||!gt&&!wo.includes(te))return;const Lt=function(){var an=(0,f.Z)(function*(Zn,...Gn){const pi=this.transaction(Zn,gt?"readwrite":"readonly");let $i=pi.store;return Pe&&($i=$i.index(Gn.shift())),(yield Promise.all([$i[te](...Gn),gt&&pi.done]))[0]});return function(Gn){return an.apply(this,arguments)}}();return Ro.set(N,Lt),Lt}!function K(S){je=S(je)}(S=>({...S,get:(N,te,Pe)=>Os(N,te)||S.get(N,te,Pe),has:(N,te)=>!!Os(N,te)||S.has(N,te)}));const W="/firebase-messaging-sw.js",j="/firebase-cloud-messaging-push-scope",v="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",C="https://fcmregistrations.googleapis.com/v1",J="google.c.a.c_id",De="google.c.a.c_l",ct="google.c.a.ts";var Kn=(()=>((Kn=Kn||{}).PUSH_RECEIVED="push-received",Kn.NOTIFICATION_CLICKED="notification-clicked",Kn))();function Hn(S){const N=new Uint8Array(S);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xi(S){const te=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(te),gt=new Uint8Array(Pe.length);for(let Lt=0;Lt<Pe.length;++Lt)gt[Lt]=Pe.charCodeAt(Lt);return gt}const Ni="fcm_token_details_db",gr=5,Vr="fcm_token_object_Store";function Wi(){return Wi=(0,f.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Lt=>Lt.name).includes(Ni))return null;let N=null;return(yield pr(Ni,gr,{upgrade:(Pe=(0,f.Z)(function*(gt,Lt,an,Zn){var Gn;if(Lt<2||!gt.objectStoreNames.contains(Vr))return;const pi=Zn.objectStore(Vr),$i=yield pi.index("fcmSenderId").get(S);if(yield pi.clear(),$i)if(2===Lt){const Vi=$i;if(!Vi.auth||!Vi.p256dh||!Vi.endpoint)return;N={token:Vi.fcmToken,createTime:null!==(Gn=Vi.createTime)&&void 0!==Gn?Gn:Date.now(),subscriptionOptions:{auth:Vi.auth,p256dh:Vi.p256dh,endpoint:Vi.endpoint,swScope:Vi.swScope,vapidKey:"string"==typeof Vi.vapidKey?Vi.vapidKey:Hn(Vi.vapidKey)}}}else if(3===Lt){const Vi=$i;N={token:Vi.fcmToken,createTime:Vi.createTime,subscriptionOptions:{auth:Hn(Vi.auth),p256dh:Hn(Vi.p256dh),endpoint:Vi.endpoint,swScope:Vi.swScope,vapidKey:Hn(Vi.vapidKey)}}}else if(4===Lt){const Vi=$i;N={token:Vi.fcmToken,createTime:Vi.createTime,subscriptionOptions:{auth:Hn(Vi.auth),p256dh:Hn(Vi.p256dh),endpoint:Vi.endpoint,swScope:Vi.swScope,vapidKey:Hn(Vi.vapidKey)}}}}),function(Lt,an,Zn,Gn){return Pe.apply(this,arguments)})})).close(),yield Fr(Ni),yield Fr("fcm_vapid_details_db"),yield Fr("undefined"),function vr(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:N}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var Pe}),Wi.apply(this,arguments)}const Oi="firebase-messaging-database",Po=1,oo="firebase-messaging-store";let Lr=null;function Br(){return Lr||(Lr=pr(Oi,Po,{upgrade:(S,N)=>{0===N&&S.createObjectStore(oo)}})),Lr}function xo(S){return as.apply(this,arguments)}function as(){return as=(0,f.Z)(function*(S){const N=ca(S),Pe=yield(yield Br()).transaction(oo).objectStore(oo).get(N);if(Pe)return Pe;{const gt=yield function _r(S){return Wi.apply(this,arguments)}(S.appConfig.senderId);if(gt)return yield Ds(S,gt),gt}}),as.apply(this,arguments)}function Ds(S,N){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(S,N){const te=ca(S),gt=(yield Br()).transaction(oo,"readwrite");return yield gt.objectStore(oo).put(N,te),yield gt.done,N})).apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(S){const N=ca(S),Pe=(yield Br()).transaction(oo,"readwrite");yield Pe.objectStore(oo).delete(N),yield Pe.done})).apply(this,arguments)}function ca({appConfig:S}){return S.appId}const so=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _l(S,N){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,f.Z)(function*(S,N){const te=yield Is(S),Pe=ta(N),gt={method:"POST",headers:te,body:JSON.stringify(Pe)};let Lt;try{Lt=yield(yield fetch(wa(S.appConfig),gt)).json()}catch(an){throw so.create("token-subscribe-failed",{errorInfo:an?.toString()})}if(Lt.error)throw so.create("token-subscribe-failed",{errorInfo:Lt.error.message});if(!Lt.token)throw so.create("token-subscribe-no-token");return Lt.token})).apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(S,N){const te=yield Is(S),Pe=ta(N.subscriptionOptions),gt={method:"PATCH",headers:te,body:JSON.stringify(Pe)};let Lt;try{Lt=yield(yield fetch(`${wa(S.appConfig)}/${N.token}`,gt)).json()}catch(an){throw so.create("token-update-failed",{errorInfo:an?.toString()})}if(Lt.error)throw so.create("token-update-failed",{errorInfo:Lt.error.message});if(!Lt.token)throw so.create("token-update-no-token");return Lt.token})).apply(this,arguments)}function da(S,N){return ea.apply(this,arguments)}function ea(){return(ea=(0,f.Z)(function*(S,N){const Pe={method:"DELETE",headers:yield Is(S)};try{const Lt=yield(yield fetch(`${wa(S.appConfig)}/${N}`,Pe)).json();if(Lt.error)throw so.create("token-unsubscribe-failed",{errorInfo:Lt.error.message})}catch(gt){throw so.create("token-unsubscribe-failed",{errorInfo:gt?.toString()})}})).apply(this,arguments)}function wa({projectId:S}){return`${C}/projects/${S}/registrations`}function Is(S){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,f.Z)(function*({appConfig:S,installations:N}){const te=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function ta({p256dh:S,auth:N,endpoint:te,vapidKey:Pe}){const gt={web:{endpoint:te,auth:N,p256dh:S}};return Pe!==v&&(gt.web.applicationPubKey=Pe),gt}const ua=6048e5;function Zs(){return Zs=(0,f.Z)(function*(S){const N=yield function Ys(S,N){return Li.apply(this,arguments)}(S.swRegistration,S.vapidKey),te={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:N.endpoint,auth:Hn(N.getKey("auth")),p256dh:Hn(N.getKey("p256dh"))},Pe=yield xo(S.firebaseDependencies);if(Pe){if(function ha(S,N){return N.vapidKey===S.vapidKey&&N.endpoint===S.endpoint&&N.auth===S.auth&&N.p256dh===S.p256dh}(Pe.subscriptionOptions,te))return Date.now()>=Pe.createTime+ua?function Qo(S,N){return ds.apply(this,arguments)}(S,{token:Pe.token,createTime:Date.now(),subscriptionOptions:te}):Pe.token;try{yield da(S.firebaseDependencies,Pe.token)}catch(gt){console.warn(gt)}return lr(S.firebaseDependencies,te)}return lr(S.firebaseDependencies,te)}),Zs.apply(this,arguments)}function cs(){return cs=(0,f.Z)(function*(S){const N=yield xo(S.firebaseDependencies);N&&(yield da(S.firebaseDependencies,N.token),yield function Us(S){return la.apply(this,arguments)}(S.firebaseDependencies));const te=yield S.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),cs.apply(this,arguments)}function ds(){return ds=(0,f.Z)(function*(S,N){try{const te=yield function ba(S,N){return Hs.apply(this,arguments)}(S.firebaseDependencies,N),Pe=Object.assign(Object.assign({},N),{token:te,createTime:Date.now()});return yield Ds(S.firebaseDependencies,Pe),te}catch(te){throw yield function ls(S){return cs.apply(this,arguments)}(S),te}}),ds.apply(this,arguments)}function lr(S,N){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(S,N){const Pe={token:yield _l(S,N),createTime:Date.now(),subscriptionOptions:N};return yield Ds(S,Pe),Pe.token})).apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(S,N){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xi(N)})})).apply(this,arguments)}function R(S){const N={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Q(S,N){if(!N.notification)return;S.notification={};const te=N.notification.title;te&&(S.notification.title=te);const Pe=N.notification.body;Pe&&(S.notification.body=Pe);const gt=N.notification.image;gt&&(S.notification.image=gt);const Lt=N.notification.icon;Lt&&(S.notification.icon=Lt)}(N,S),function B(S,N){N.data&&(S.data=N.data)}(N,S),function fe(S,N){var te,Pe,gt,Lt,an;if(!(N.fcmOptions||null!==(te=N.notification)&&void 0!==te&&te.click_action))return;S.fcmOptions={};const Zn=null!==(gt=null===(Pe=N.fcmOptions)||void 0===Pe?void 0:Pe.link)&&void 0!==gt?gt:null===(Lt=N.notification)||void 0===Lt?void 0:Lt.click_action;Zn&&(S.fcmOptions.link=Zn);const Gn=null===(an=N.fcmOptions)||void 0===an?void 0:an.analytics_label;Gn&&(S.fcmOptions.analyticsLabel=Gn)}(N,S),N}function Qt(S,N){const te=[];for(let Pe=0;Pe<S.length;Pe++)te.push(S.charAt(Pe)),Pe<N.length&&te.push(N.charAt(Pe));return te.join("")}function qn(S){return so.create("missing-app-config-values",{valueName:S})}Qt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zi{constructor(N,te,Pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const gt=function hn(S){if(!S||!S.options)throw qn("App Configuration Object");if(!S.name)throw qn("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:te}=S;for(const Pe of N)if(!te[Pe])throw qn(Pe);return{appName:S.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:gt,installations:te,analyticsProvider:Pe}}_delete(){return Promise.resolve()}}function Ei(){return(Ei=(0,f.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(W,{scope:j}),S.swRegistration.update().catch(()=>{})}catch(N){throw so.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function ir(){return(ir=(0,f.Z)(function*(S,N){if(!N&&!S.swRegistration&&(yield function Pi(S){return Ei.apply(this,arguments)}(S)),N||!S.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw so.create("invalid-sw-registration");S.swRegistration=N}})).apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(S,N){N?S.vapidKey=N:S.vapidKey||(S.vapidKey=v)})).apply(this,arguments)}function qr(){return qr=(0,f.Z)(function*(S,N){if(!navigator)throw so.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw so.create("permission-blocked");return yield function zn(S,N){return Yr.apply(this,arguments)}(S,N?.vapidKey),yield function Ci(S,N){return ir.apply(this,arguments)}(S,N?.serviceWorkerRegistration),function Ra(S){return Zs.apply(this,arguments)}(S)}),qr.apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(S,N,te){const Pe=function qs(S){switch(S){case Kn.NOTIFICATION_CLICKED:return"notification_open";case Kn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:te[J],message_name:te[De],message_time:te[ct],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ws(){return ws=(0,f.Z)(function*(S,N){const te=N.data;if(!te.isFirebaseMessaging)return;S.onMessageHandler&&te.messageType===Kn.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(R(te)):S.onMessageHandler.next(R(te)));const Pe=te.data;(function Ye(S){return"object"==typeof S&&!!S&&J in S})(Pe)&&"1"===Pe["google.c.a.e"]&&(yield function xa(S,N,te){return No.apply(this,arguments)}(S,te.messageType,Pe))}),ws.apply(this,arguments)}const rl="@firebase/messaging",vl=S=>{const N=new Zi(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function us(S,N){return ws.apply(this,arguments)}(N,te)),N},yl=S=>{const N=S.getProvider("messaging").getImmediate();return{getToken:Pe=>function bs(S,N){return qr.apply(this,arguments)}(N,Pe)}};function cr(){return vo.apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function En(){(0,ne._registerComponent)(new ae.wA("messaging",vl,"PUBLIC")),(0,ne._registerComponent)(new ae.wA("messaging-internal",yl,"PRIVATE")),(0,ne.registerVersion)(rl,"0.12.4"),(0,ne.registerVersion)(rl,"0.12.4","esm2017")}();const ii="analytics",di="firebase_id",Ts="origin",Un=6e4,Jt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yn="https://www.googletagmanager.com/gtag/js",Ui=new Y.Yd("@firebase/analytics"),Lo=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ll(S){if(!S.startsWith(yn)){const N=Lo.create("invalid-gtag-resource",{gtagURL:S});return Ui.warn(N.message),""}return S}function V(S){return Promise.all(S.map(N=>N.catch(te=>te)))}function he(){return(he=(0,f.Z)(function*(S,N,te,Pe,gt,Lt){const an=Pe[gt];try{if(an)yield N[an];else{const Gn=(yield V(te)).find(pi=>pi.measurementId===gt);Gn&&(yield N[Gn.appId])}}catch(Zn){Ui.error(Zn)}S("config",gt,Lt)})).apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(S,N,te,Pe,gt){try{let Lt=[];if(gt&&gt.send_to){let an=gt.send_to;Array.isArray(an)||(an=[an]);const Zn=yield V(te);for(const Gn of an){const pi=Zn.find(Vi=>Vi.measurementId===Gn),$i=pi&&N[pi.appId];if(!$i){Lt=[];break}Lt.push($i)}}0===Lt.length&&(Lt=Object.values(N)),yield Promise.all(Lt),S("event",Pe,gt||{})}catch(Lt){Ui.error(Lt)}})).apply(this,arguments)}const Mn=30,Vn=new class Bi{constructor(N={},te=1e3){this.throttleMetadata=N,this.intervalMillis=te}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,te){this.throttleMetadata[N]=te}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function mi(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function w(){return(w=(0,f.Z)(function*(S){var N;const{appId:te,apiKey:Pe}=S,gt={method:"GET",headers:mi(Pe)},Lt=Jt.replace("{app-id}",te),an=yield fetch(Lt,gt);if(200!==an.status&&304!==an.status){let Zn="";try{const Gn=yield an.json();null!==(N=Gn.error)&&void 0!==N&&N.message&&(Zn=Gn.error.message)}catch{}throw Lo.create("config-fetch-failed",{httpStatus:an.status,responseMessage:Zn})}return an.json()})).apply(this,arguments)}function x(){return(x=(0,f.Z)(function*(S,N=Vn,te){const{appId:Pe,apiKey:gt,measurementId:Lt}=S.options;if(!Pe)throw Lo.create("no-app-id");if(!gt){if(Lt)return{measurementId:Lt,appId:Pe};throw Lo.create("no-api-key")}const an=N.getThrottleMetadata(Pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Zn=new Dt;return setTimeout((0,f.Z)(function*(){Zn.abort()}),void 0!==te?te:Un),F({appId:Pe,apiKey:gt,measurementId:Lt},an,Zn,N)})).apply(this,arguments)}function F(S,N,te){return ee.apply(this,arguments)}function ee(){return ee=(0,f.Z)(function*(S,{throttleEndTimeMillis:N,backoffCount:te},Pe,gt=Vn){var Lt;const{appId:an,measurementId:Zn}=S;try{yield function ve(S,N){return new Promise((te,Pe)=>{const gt=Math.max(N-Date.now(),0),Lt=setTimeout(te,gt);S.addEventListener(()=>{clearTimeout(Lt),Pe(Lo.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(Pe,N)}catch(Gn){if(Zn)return Ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${Gn?.message}]`),{appId:an,measurementId:Zn};throw Gn}try{const Gn=yield function Di(S){return w.apply(this,arguments)}(S);return gt.deleteThrottleMetadata(an),Gn}catch(Gn){const pi=Gn;if(!function Ce(S){if(!(S instanceof xe.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}(pi)){if(gt.deleteThrottleMetadata(an),Zn)return Ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${pi?.message}]`),{appId:an,measurementId:Zn};throw Gn}const $i=503===Number(null===(Lt=pi?.customData)||void 0===Lt?void 0:Lt.httpStatus)?(0,xe.$s)(te,gt.intervalMillis,Mn):(0,xe.$s)(te,gt.intervalMillis),Vi={throttleEndTimeMillis:Date.now()+$i,backoffCount:te+1};return gt.setThrottleMetadata(an,Vi),Ui.debug(`Calling attemptFetch again in ${$i} millis`),F(S,Vi,Pe,gt)}}),ee.apply(this,arguments)}class Dt{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let bn,ao;function Jn(){return(Jn=(0,f.Z)(function*(S,N,te,Pe,gt){if(gt&&gt.global)S("event",te,Pe);else{const Lt=yield N;S("event",te,Object.assign(Object.assign({},Pe),{send_to:Lt}))}})).apply(this,arguments)}function Ha(){return(Ha=(0,f.Z)(function*(){if(!(0,xe.hl)())return Ui.warn(Lo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(S){return Ui.warn(Lo.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ms(){return Ms=(0,f.Z)(function*(S,N,te,Pe,gt,Lt,an){var Zn;const Gn=function M(S){return x.apply(this,arguments)}(S);Gn.then(yr=>{te[yr.measurementId]=yr.appId,S.options.measurementId&&yr.measurementId!==S.options.measurementId&&Ui.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yr=>Ui.error(yr)),N.push(Gn);const pi=function Bl(){return Ha.apply(this,arguments)}().then(yr=>{if(yr)return Pe.getId()}),[$i,Vi]=yield Promise.all([Gn,pi]);(function $n(S){const N=window.document.getElementsByTagName("script");for(const te of Object.values(N))if(te.src&&te.src.includes(yn)&&te.src.includes(S))return te;return null})(Lt)||function _(S,N){const te=function b(S,N){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(S,N)),te}("firebase-js-sdk-policy",{createScriptURL:Ll}),Pe=document.createElement("script"),gt=`${yn}?l=${S}&id=${N}`;Pe.src=te?te?.createScriptURL(gt):gt,Pe.async=!0,document.head.appendChild(Pe)}(Lt,$i.measurementId),ao&&(gt("consent","default",ao),function na(S){ao=S}(void 0)),gt("js",new Date);const As=null!==(Zn=an?.config)&&void 0!==Zn?Zn:{};return As[Ts]="firebase",As.update=!0,null!=Vi&&(As[di]=Vi),gt("config",$i.measurementId,As),bn&&(gt("set",bn),function Er(S){bn=S}(void 0)),$i.measurementId}),Ms.apply(this,arguments)}class jr{constructor(N){this.app=N}_delete(){return delete xs[this.app.options.appId],Promise.resolve()}}let xs={},ia=[];const Ul={};let dc,ms,Co="dataLayer",bl=!1;function hc(S,N,te){!function uc(){const S=[];if((0,xe.ru)()&&S.push("This is a browser extension environment."),(0,xe.zI)()||S.push("Cookies are not available."),S.length>0){const N=S.map((Pe,gt)=>`(${gt+1}) ${Pe}`).join(" "),te=Lo.create("invalid-analytics-context",{errorInfo:N});Ui.warn(te.message)}}();const Pe=S.options.appId;if(!Pe)throw Lo.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Lo.create("no-api-key");Ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xs[Pe])throw Lo.create("already-exists",{id:Pe});if(!bl){!function T(S){let N=[];Array.isArray(window[S])?N=window[S]:window[S]=N}(Co);const{wrappedGtag:Lt,gtagCore:an}=function sn(S,N,te,Pe,gt){let Lt=function(...an){window[Pe].push(arguments)};return window[gt]&&"function"==typeof window[gt]&&(Lt=window[gt]),window[gt]=function vt(S,N,te,Pe){function Lt(){return Lt=(0,f.Z)(function*(an,...Zn){try{if("event"===an){const[Gn,pi]=Zn;yield function et(S,N,te,Pe,gt){return at.apply(this,arguments)}(S,N,te,Gn,pi)}else if("config"===an){const[Gn,pi]=Zn;yield function G(S,N,te,Pe,gt,Lt){return he.apply(this,arguments)}(S,N,te,Pe,Gn,pi)}else if("consent"===an){const[Gn]=Zn;S("consent","update",Gn)}else if("get"===an){const[Gn,pi,$i]=Zn;S("get",Gn,pi,$i)}else if("set"===an){const[Gn]=Zn;S("set",Gn)}else S(an,...Zn)}catch(Gn){Ui.error(Gn)}}),Lt.apply(this,arguments)}return function gt(an){return Lt.apply(this,arguments)}}(Lt,S,N,te),{gtagCore:Lt,wrappedGtag:window[gt]}}(xs,ia,Ul,Co,"gtag");ms=Lt,dc=an,bl=!0}return xs[Pe]=function Ps(S,N,te,Pe,gt,Lt,an){return Ms.apply(this,arguments)}(S,ia,Ul,N,dc,Co,te),new jr(S)}function $c(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,f.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}const Kc="@firebase/analytics";!function $a(){(0,ne._registerComponent)(new ae.wA(ii,(N,{options:te})=>hc(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,ne._registerComponent)(new ae.wA("analytics-internal",function S(N){try{const te=N.getProvider(ii).getImmediate();return{logEvent:(Pe,gt,Lt)=>function za(S,N,te,Pe){S=(0,xe.m9)(S),function ai(S,N,te,Pe,gt){return Jn.apply(this,arguments)}(ms,xs[S.app.options.appId],N,te,Pe).catch(gt=>Ui.error(gt))}(te,Pe,gt,Lt)}}catch(te){throw Lo.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,ne.registerVersion)(Kc,"0.10.0"),(0,ne.registerVersion)(Kc,"0.10.0","esm2017")}();var Rd=E(4408),Vl=E(7565);const Es=new class Yc extends Vl.v{}(class Zc extends Rd.o{constructor(N,te){super(N,te),this.scheduler=N,this.work=te}schedule(N,te=0){return te>0?super.schedule(N,te):(this.delay=te,this.state=N,this.scheduler.flush(this),this)}execute(N,te){return te>0||this.closed?super.execute(N,te):this._execute(N,te)}requestAsyncId(N,te,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(N,te,Pe):(N.flush(this),0)}});var ra=E(4986),Na=E(8505),Cr=E(5363),sl=E(9468);const ps=new d.GfV("7.6.1"),Dr="__angularfire_symbol__analyticsIsSupportedValue",qc="__angularfire_symbol__analyticsIsSupported",La="__angularfire_symbol__remoteConfigIsSupportedValue",Vs="__angularfire_symbol__remoteConfigIsSupported",_c="__angularfire_symbol__messagingIsSupportedValue",Pd="__angularfire_symbol__messagingIsSupported";function Ga(S,N,te){if(N){if(1===N.length)return N[0];const Lt=N.filter(an=>an.app===te);if(1===Lt.length)return Lt[0]}return te.container.getProvider(S).getImmediate({optional:!0})}globalThis[qc]||(globalThis[qc]=$c().then(S=>globalThis[Dr]=S).catch(()=>globalThis[Dr]=!1)),globalThis[Pd]||(globalThis[Pd]=cr().then(S=>globalThis[_c]=S).catch(()=>globalThis[_c]=!1)),globalThis[Vs]||(globalThis[Vs]=Bs().then(S=>globalThis[La]=S).catch(()=>globalThis[La]=!1));const Hl=(S,N)=>{const te=N?[N]:(0,L.C6)(),Pe=[];return te.forEach(gt=>{gt.container.getProvider(S).instances.forEach(an=>{Pe.includes(an)||Pe.push(an)})}),Pe};function ho(){}class El{constructor(N,te=Es){this.zone=N,this.delegate=te}now(){return this.delegate.now()}schedule(N,te,Pe){const gt=this.zone;return this.delegate.schedule(function(an){gt.runGuarded(()=>{N.apply(this,[an])})},te,Pe)}}class Cl{constructor(N){this.zone=N,this.task=null}call(N,te){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ho,{},ho,ho)),te.pipe((0,Na.b)({next:Pe,complete:Pe,error:Pe})).subscribe(N).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wa=(()=>{class S{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=te.run(()=>new El(Zone.current,ra.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(te){return new(te||S)(d.LFG(d.R0b))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function lo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function oa(S){return S.pipe((0,Cr.Q)(lo().outsideAngular))}function Ba(S){return lo(),function Nu(S){return function(te){return(te=te.lift(new Cl(S.ngZone))).pipe((0,sl.R)(S.outsideAngular),(0,Cr.Q)(S.insideAngular))}}(lo())(S)}},1389:(gn,nt,E)=>{E.d(nt,{$:()=>W,A:()=>de,D:()=>Ne,I:()=>hr,J:()=>vs,L:()=>ci,N:()=>Et,P:()=>Ps,Q:()=>tr,R:()=>Ea,U:()=>ss,V:()=>Bs,W:()=>ks,X:()=>Zr,Y:()=>wr,Z:()=>po,_:()=>zo,a:()=>Pa,a0:()=>v,a1:()=>J,a2:()=>Dn,a3:()=>Vr,a4:()=>Wi,a5:()=>Oi,a6:()=>oo,a7:()=>Br,a8:()=>as,a9:()=>ys,aA:()=>Z,aB:()=>La,aC:()=>Oe,aD:()=>Ht,aE:()=>Cr,aF:()=>pc,aG:()=>Bh,aH:()=>yi,aL:()=>xr,aO:()=>jo,aa:()=>Us,ab:()=>ca,ac:()=>Ta,ad:()=>ba,ae:()=>da,af:()=>wa,ai:()=>ua,aj:()=>Zs,ak:()=>ls,an:()=>rt,ao:()=>Q,aq:()=>Yr,ar:()=>rl,as:()=>Fe,at:()=>xt,au:()=>re,av:()=>ue,aw:()=>As,ax:()=>Xo,ay:()=>Ot,az:()=>Ie,b:()=>hs,c:()=>ms,d:()=>hc,e:()=>ma,f:()=>Kc,g:()=>Yc,h:()=>Rd,i:()=>kn,j:()=>ra,k:()=>sa,l:()=>Ri,m:()=>Fd,o:()=>Bd,p:()=>_e,r:()=>Rs,s:()=>mt,u:()=>Bl});var d=E(5861),L=E(2090),f=E(6881),ne=E(7582),xe=E(1877),ae=E(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},dt=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new xe.Yd("@firebase/auth");function wt(D,...m){He.logLevel<=xe.in.ERROR&&He.error(`Auth (${f.SDK_VERSION}): ${D}`,...m)}function ue(D,...m){throw $e(D,...m)}function Ie(D,...m){return $e(D,...m)}function be(D,m,g){const O=Object.assign(Object.assign({},dt()),{[m]:g});return new L.LL("auth","Firebase",O).create(m,{appName:D.name})}function Me(D,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&ue(D,"argument-error"),be(D,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(D,...m){if("string"!=typeof D){const g=m[0],O=[...m.slice(1)];return O[0]&&(O[0].appName=D.name),D._errorFactory.create(g,...O)}return it.create(D,...m)}function Z(D,m,...g){if(!D)throw $e(m,...g)}function We(D){const m="INTERNAL ASSERTION FAILED: "+D;throw wt(m),new Error(m)}function Fe(D,m){D||We(m)}function ze(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function yt(){return"http:"===vn()||"https:"===vn()}function vn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class ht{constructor(m,g){this.shortDelay=m,this.longDelay=g,Fe(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function On(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rt(D,m){Fe(D.emulator,"Emulator should always be set here");const{url:g}=D.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class Ft{static initialize(m,g,O){this.fetchImpl=m,g&&(this.headersImpl=g),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yt=new ht(3e4,6e4);function dn(D,m){return D.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:D.tenantId}):m}function pn(D,m,g,O){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.Z)(function*(D,m,g,O,ie={}){return At(D,ie,(0,d.Z)(function*(){let we={},Mt={};O&&("GET"===m?Mt=O:we={body:JSON.stringify(O)});const tn=(0,L.xO)(Object.assign({key:D.config.apiKey},Mt)).slice(1),Ln=yield D._getAdditionalHeaders();return Ln["Content-Type"]="application/json",D.languageCode&&(Ln["X-Firebase-Locale"]=D.languageCode),Ft.fetch()(bt(D,D.config.apiHost,g,tn),Object.assign({method:m,headers:Ln,referrerPolicy:"no-referrer"},we))}))})).apply(this,arguments)}function At(D,m,g){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(D,m,g){D._canInitEmulator=!1;const O=Object.assign(Object.assign({},qt),m);try{const ie=new Ut(D),we=yield Promise.race([g(),ie.promise]);ie.clearNetworkTimeout();const Mt=yield we.json();if("needConfirmation"in Mt)throw St(D,"account-exists-with-different-credential",Mt);if(we.ok&&!("errorMessage"in Mt))return Mt;{const tn=we.ok?Mt.errorMessage:Mt.error.message,[Ln,oi]=tn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ln)throw St(D,"credential-already-in-use",Mt);if("EMAIL_EXISTS"===Ln)throw St(D,"email-already-in-use",Mt);if("USER_DISABLED"===Ln)throw St(D,"user-disabled",Mt);const vi=O[Ln]||Ln.toLowerCase().replace(/[_\s]+/g,"-");if(oi)throw be(D,vi,oi);ue(D,vi)}}catch(ie){if(ie instanceof L.ZR)throw ie;ue(D,"network-request-failed",{message:String(ie)})}})).apply(this,arguments)}function Qe(D,m,g,O){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(D,m,g,O,ie={}){const we=yield pn(D,m,g,O,ie);return"mfaPendingCredential"in we&&ue(D,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function bt(D,m,g,O){const ie=`${m}${g}?${O}`;return D.config.emulator?Rt(D.config,ie):`${D.config.apiScheme}://${ie}`}class Ut{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,O)=>{this.timer=setTimeout(()=>O(Ie(this.auth,"network-request-failed")),Yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function St(D,m,g){const O={appName:D.name};g.email&&(O.email=g.email),g.phoneNumber&&(O.phoneNumber=g.phoneNumber);const ie=Ie(D,m,O);return ie.customData._tokenResponse=g,ie}function Xt(){return(Xt=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Vt(D){if(D)try{const m=new Date(Number(D));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ft(){return(ft=(0,d.Z)(function*(D,m=!1){const g=(0,L.m9)(D),O=yield g.getIdToken(m),ie=Ke(O);Z(ie&&ie.exp&&ie.auth_time&&ie.iat,g.auth,"internal-error");const we="object"==typeof ie.firebase?ie.firebase:void 0,Mt=we?.sign_in_provider;return{claims:ie,token:O,authTime:Vt(st(ie.auth_time)),issuedAtTime:Vt(st(ie.iat)),expirationTime:Vt(st(ie.exp)),signInProvider:Mt||null,signInSecondFactor:we?.sign_in_second_factor||null}})).apply(this,arguments)}function st(D){return 1e3*Number(D)}function Ke(D){const[m,g,O]=D.split(".");if(void 0===m||void 0===g||void 0===O)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,L.tV)(g);return ie?JSON.parse(ie):(wt("Failed to decode base64 JWT payload"),null)}catch(ie){return wt("Caught error parsing JWT payload as JSON",ie?.toString()),null}}function Ae(D,m){return jt.apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(D,m,g=!1){if(g)return m;try{return yield m}catch(O){throw O instanceof L.ZR&&function ln({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(O)&&D.auth.currentUser===D&&(yield D.auth.signOut()),O}})).apply(this,arguments)}class Wt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const ie=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const O=this.getInterval(m);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),O)}iteration(){var m=this;return(0,d.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&m.schedule(!0))}m.schedule()})()}}class Gt{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vt(this.lastLoginAt),this.creationTime=Vt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(D){return ke.apply(this,arguments)}function ke(){return ke=(0,d.Z)(function*(D){var m;const g=D.auth,O=yield D.getIdToken(),ie=yield Ae(D,function gi(D,m){return Wn.apply(this,arguments)}(g,{idToken:O}));Z(ie?.users.length,g,"internal-error");const we=ie.users[0];D._notifyReloadListener(we);const Mt=null!==(m=we.providerUserInfo)&&void 0!==m&&m.length?function _i(D){return D.map(m=>{var{providerId:g}=m,O=(0,ne._T)(m,["providerId"]);return{providerId:g,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(we.providerUserInfo):[],tn=function Sn(D,m){return[...D.filter(O=>!m.some(ie=>ie.providerId===O.providerId)),...m]}(D.providerData,Mt),vi=!!D.isAnonymous&&!(D.email&&we.passwordHash||tn?.length),dr={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:tn,metadata:new Gt(we.createdAt,we.lastLoginAt),isAnonymous:vi};Object.assign(D,dr)}),ke.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(D){const m=(0,L.m9)(D);yield Rn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(D,m){const g=yield At(D,{},(0,d.Z)(function*(){const O=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:ie,apiKey:we}=D.config,Mt=bt(D,ie,"/v1/token",`key=${we}`),tn=yield D._getAdditionalHeaders();return tn["Content-Type"]="application/x-www-form-urlencoded",Ft.fetch()(Mt,{method:"POST",headers:tn,body:O})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Z(m.idToken,"internal-error"),Z(typeof m.idToken<"u","internal-error"),Z(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function qe(D){const m=Ke(D);return Z(m,"internal-error"),Z(typeof m.exp<"u","internal-error"),Z(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var O=this;return(0,d.Z)(function*(){return Z(!O.accessToken||O.refreshToken,m,"user-token-expired"),g||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(m,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var O=this;return(0,d.Z)(function*(){const{accessToken:ie,refreshToken:we,expiresIn:Mt}=yield function ni(D,m){return wi.apply(this,arguments)}(m,g);O.updateTokensAndExpiration(ie,we,Number(Mt))})()}updateTokensAndExpiration(m,g,O){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(m,g){const{refreshToken:O,accessToken:ie,expirationTime:we}=g,Mt=new Kt;return O&&(Z("string"==typeof O,"internal-error",{appName:m}),Mt.refreshToken=O),ie&&(Z("string"==typeof ie,"internal-error",{appName:m}),Mt.accessToken=ie),we&&(Z("number"==typeof we,"internal-error",{appName:m}),Mt.expirationTime=we),Mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return We("not implemented")}}function Je(D,m){Z("string"==typeof D||typeof D>"u","internal-error",{appName:m})}class ot{constructor(m){var{uid:g,auth:O,stsTokenManager:ie}=m,we=(0,ne._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=O,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new Gt(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,d.Z)(function*(){const O=yield Ae(g,g.stsTokenManager.getToken(g.auth,m));return Z(O,g.auth,"internal-error"),g.accessToken!==O&&(g.accessToken=O,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),O})()}getIdTokenResult(m){return function Ve(D){return ft.apply(this,arguments)}(this,m)}reload(){return function _t(D){return $t.apply(this,arguments)}(this)}_assign(m){this!==m&&(Z(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const g=new ot(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(m){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var O=this;return(0,d.Z)(function*(){let ie=!1;m.idToken&&m.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(m),ie=!0),g&&(yield Rn(O)),yield O.auth._persistUserIfCurrent(O),ie&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var m=this;return(0,d.Z)(function*(){const g=yield m.getIdToken();return yield Ae(m,function cn(D,m){return Xt.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var O,ie,we,Mt,tn,Ln,oi,vi;const dr=null!==(O=g.displayName)&&void 0!==O?O:void 0,ga=null!==(ie=g.email)&&void 0!==ie?ie:void 0,aa=null!==(we=g.phoneNumber)&&void 0!==we?we:void 0,Ud=null!==(Mt=g.photoURL)&&void 0!==Mt?Mt:void 0,vc=null!==(tn=g.tenantId)&&void 0!==tn?tn:void 0,Bu=null!==(Ln=g._redirectEventId)&&void 0!==Ln?Ln:void 0,Vd=null!==(oi=g.createdAt)&&void 0!==oi?oi:void 0,Sl=null!==(vi=g.lastLoginAt)&&void 0!==vi?vi:void 0,{uid:zl,emailVerified:al,isAnonymous:Gs,providerData:yc,stsTokenManager:qa}=g;Z(zl&&qa,m,"internal-error");const bc=Kt.fromJSON(this.name,qa);Z("string"==typeof zl,m,"internal-error"),Je(dr,m.name),Je(ga,m.name),Z("boolean"==typeof al,m,"internal-error"),Z("boolean"==typeof Gs,m,"internal-error"),Je(aa,m.name),Je(Ud,m.name),Je(vc,m.name),Je(Bu,m.name),Je(Vd,m.name),Je(Sl,m.name);const $l=new ot({uid:zl,auth:m,email:ga,emailVerified:al,displayName:dr,isAnonymous:Gs,photoURL:Ud,phoneNumber:aa,tenantId:vc,stsTokenManager:bc,createdAt:Vd,lastLoginAt:Sl});return yc&&Array.isArray(yc)&&($l.providerData=yc.map(wc=>Object.assign({},wc))),Bu&&($l._redirectEventId=Bu),$l}static _fromIdTokenResponse(m,g,O=!1){return(0,d.Z)(function*(){const ie=new Kt;ie.updateFromServerResponse(g);const we=new ot({uid:g.localId,auth:m,stsTokenManager:ie,isAnonymous:O});return yield Rn(we),we})()}}const Be=new Map;function Oe(D){Fe(D instanceof Function,"Expected a class definition");let m=Be.get(D);return m?(Fe(m instanceof D,"Instance stored in cache mismatched with class"),m):(m=new D,Be.set(D,m),m)}const Et=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,O){var ie=this;return(0,d.Z)(function*(){ie.storage[g]=O})()}_get(g){var O=this;return(0,d.Z)(function*(){const ie=O.storage[g];return void 0===ie?null:ie})()}_remove(g){var O=this;return(0,d.Z)(function*(){delete O.storage[g]})()}_addListener(g,O){}_removeListener(g,O){}}return D.type="NONE",D})();function Ht(D,m,g){return`firebase:${D}:${m}:${g}`}class Te{constructor(m,g,O){this.persistence=m,this.auth=g,this.userKey=O;const{config:ie,name:we}=this.auth;this.fullUserKey=Ht(this.userKey,ie.apiKey,we),this.fullPersistenceKey=Ht("persistence",ie.apiKey,we),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,d.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?ot._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,d.Z)(function*(){if(g.persistence===m)return;const O=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,O?g.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,O="authUser"){return(0,d.Z)(function*(){if(!g.length)return new Te(Oe(Et),m,O);const ie=(yield Promise.all(g.map(function(){var oi=(0,d.Z)(function*(vi){if(yield vi._isAvailable())return vi});return function(vi){return oi.apply(this,arguments)}}()))).filter(oi=>oi);let we=ie[0]||Oe(Et);const Mt=Ht(O,m.config.apiKey,m.name);let tn=null;for(const oi of g)try{const vi=yield oi._get(Mt);if(vi){const dr=ot._fromJSON(m,vi);oi!==we&&(tn=dr),we=oi;break}}catch{}const Ln=ie.filter(oi=>oi._shouldAllowMigration);return we._shouldAllowMigration&&Ln.length?(we=Ln[0],tn&&(yield we._set(Mt,tn.toJSON())),yield Promise.all(g.map(function(){var oi=(0,d.Z)(function*(vi){if(vi!==we)try{yield vi._remove(Mt)}catch{}});return function(vi){return oi.apply(this,arguments)}}())),new Te(we,m,O)):new Te(we,m,O)})()}}function oe(D){const m=D.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(le(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(H(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ye(m))return"Blackberry";if(Ct(m))return"Webos";if(U(m))return"Safari";if((m.includes("chrome/")||z(m))&&!m.includes("edge/"))return"Chrome";if(re(m))return"Android";{const O=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function H(D=(0,L.z$)()){return/firefox\//i.test(D)}function U(D=(0,L.z$)()){const m=D.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function z(D=(0,L.z$)()){return/crios\//i.test(D)}function le(D=(0,L.z$)()){return/iemobile/i.test(D)}function re(D=(0,L.z$)()){return/android/i.test(D)}function ye(D=(0,L.z$)()){return/blackberry/i.test(D)}function Ct(D=(0,L.z$)()){return/webos/i.test(D)}function xt(D=(0,L.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Ot(D=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function An(D=(0,L.z$)()){return xt(D)||re(D)||Ct(D)||ye(D)||/windows phone/i.test(D)||le(D)}function Si(D,m=[]){let g;switch(D){case"Browser":g=oe((0,L.z$)());break;case"Worker":g=`${oe((0,L.z$)())}-${D}`;break;default:g=D}const O=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${f.SDK_VERSION}/${O}`}function Tt(){return(Tt=(0,d.Z)(function*(D){return(yield pn(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wn(D,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(D,m){return pn(D,"GET","/v2/recaptchaConfig",dn(D,m))})).apply(this,arguments)}function Pn(D){return void 0!==D&&void 0!==D.getResponse}function jn(D){return void 0!==D&&void 0!==D.enterprise}class hi{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Ti(D){return new Promise((m,g)=>{const O=document.createElement("script");O.setAttribute("src",D),O.onload=m,O.onerror=ie=>{const we=Ie("internal-error");we.customData=ie,g(we)},O.type="text/javascript",O.charset="UTF-8",function sr(){var D,m;return null!==(m=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==m?m:document}().appendChild(O)})}function Ir(D){return`__${D}${Math.floor(1e6*Math.random())}`}class er{constructor(m){this.type="recaptcha-enterprise",this.auth=yi(m)}verify(m="verify",g=!1){var O=this;return(0,d.Z)(function*(){function we(){return we=(0,d.Z)(function*(tn){if(!g){if(null==tn.tenantId&&null!=tn._agentRecaptchaConfig)return tn._agentRecaptchaConfig.siteKey;if(null!=tn.tenantId&&void 0!==tn._tenantRecaptchaConfigs[tn.tenantId])return tn._tenantRecaptchaConfigs[tn.tenantId].siteKey}return new Promise(function(){var Ln=(0,d.Z)(function*(oi,vi){wn(tn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dr=>{if(void 0!==dr.recaptchaKey){const ga=new hi(dr);return null==tn.tenantId?tn._agentRecaptchaConfig=ga:tn._tenantRecaptchaConfigs[tn.tenantId]=ga,oi(ga.siteKey)}vi(new Error("recaptcha Enterprise site key undefined"))}).catch(dr=>{vi(dr)})});return function(oi,vi){return Ln.apply(this,arguments)}}())}),we.apply(this,arguments)}function Mt(tn,Ln,oi){const vi=window.grecaptcha;jn(vi)?vi.enterprise.ready(()=>{vi.enterprise.execute(tn,{action:m}).then(dr=>{Ln(dr)}).catch(()=>{Ln("NO_RECAPTCHA")})}):oi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((tn,Ln)=>{(function ie(tn){return we.apply(this,arguments)})(O.auth).then(oi=>{if(!g&&jn(window.grecaptcha))Mt(oi,tn,Ln);else{if(typeof window>"u")return void Ln(new Error("RecaptchaVerifier is only supported in browser"));Ti("https://www.google.com/recaptcha/enterprise.js?render="+oi).then(()=>{Mt(oi,tn,Ln)}).catch(vi=>{Ln(vi)})}}).catch(oi=>{Ln(oi)})})})()}}function to(D,m,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.Z)(function*(D,m,g,O=!1){const ie=new er(D);let we;try{we=yield ie.verify(g)}catch{we=yield ie.verify(g,!0)}const Mt=Object.assign({},m);return Object.assign(Mt,O?{captchaResp:we}:{captchaResponse:we}),Object.assign(Mt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Mt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Mt})).apply(this,arguments)}class $r{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const O=we=>new Promise((Mt,tn)=>{try{Mt(m(we))}catch(Ln){tn(Ln)}});O.onAbort=g,this.queue.push(O);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===m)return;const O=[];try{for(const ie of g.queue)yield ie(m),ie.onAbort&&O.push(ie.onAbort)}catch(ie){O.reverse();for(const we of O)try{we()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:ie?.message})}})()}}class uo{constructor(m,g,O,ie){this.app=m,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=O,this.config=ie,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zo(this),this.idTokenSubscription=new Zo(this),this.beforeStateQueue=new $r(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=ie.sdkClientVersion}_initializeWithPersistence(m,g){var O=this;return g&&(this._popupRedirectResolver=Oe(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var ie,we;if(!O._deleted&&(O.persistenceManager=yield Te.create(O,m),!O._deleted)){if(null!==(ie=O._popupRedirectResolver)&&void 0!==ie&&ie._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(g),O.lastNotifiedUid=(null===(we=O.currentUser)||void 0===we?void 0:we.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,d.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,d.Z)(function*(){var O;const ie=yield g.assertedPersistence.getCurrentUser();let we=ie,Mt=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const tn=null===(O=g.redirectUser)||void 0===O?void 0:O._redirectEventId,Ln=we?._redirectEventId,oi=yield g.tryRedirectSignIn(m);(!tn||tn===Ln)&&oi?.user&&(we=oi.user,Mt=!0)}if(!we)return g.directlySetCurrentUser(null);if(!we._redirectEventId){if(Mt)try{yield g.beforeStateQueue.runMiddleware(we)}catch(tn){we=ie,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(tn))}return we?g.reloadAndSetCurrentUserOrClear(we):g.directlySetCurrentUser(null)}return Z(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===we._redirectEventId?g.directlySetCurrentUser(we):g.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(m){var g=this;return(0,d.Z)(function*(){let O=null;try{O=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,d.Z)(function*(){try{yield Rn(m)}catch(O){if("auth/network-request-failed"!==O?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var m=this;return(0,d.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,d.Z)(function*(){const O=m?(0,L.m9)(m):null;return O&&Z(O.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(O&&O._clone(g))})()}_updateCurrentUser(m,g=!1){var O=this;return(0,d.Z)(function*(){if(!O._deleted)return m&&Z(O.tenantId===m.tenantId,O,"tenant-id-mismatch"),g||(yield O.beforeStateQueue.runMiddleware(m)),O.queue((0,d.Z)(function*(){yield O.directlySetCurrentUser(m),O.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,d.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(Oe(m))}))}initializeRecaptchaConfig(){var m=this;return(0,d.Z)(function*(){const g=yield wn(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),O=new hi(g);null==m.tenantId?m._agentRecaptchaConfig=O:m._tenantRecaptchaConfigs[m.tenantId]=O,O.emailPasswordEnabled&&new er(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,g,O){return this.registerStateListener(this.authStateSubscription,m,g,O)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,O){return this.registerStateListener(this.idTokenSubscription,m,g,O)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var O=this;return(0,d.Z)(function*(){const ie=yield O.getOrInitRedirectPersistenceManager(g);return null===m?ie.removeCurrentUser():ie.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const O=m&&Oe(m)||g._popupRedirectResolver;Z(O,g,"argument-error"),g.redirectPersistenceManager=yield Te.create(g,[Oe(O._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,d.Z)(function*(){var O,ie;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(O=g._currentUser)||void 0===O?void 0:O._redirectEventId)===m?g._currentUser:(null===(ie=g.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,d.Z)(function*(){if(m===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,O,ie){if(this._deleted)return()=>{};const we="function"==typeof g?g:g.next.bind(g),Mt=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(Mt,this,"internal-error"),Mt.then(()=>we(this.currentUser)),"function"==typeof g?m.addObserver(g,O,ie):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==m&&g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh(),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,d.Z)(function*(){var g;const O={"X-Client-Version":m.clientVersion};m.app.options.appId&&(O["X-Firebase-gmpid"]=m.app.options.appId);const ie=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();ie&&(O["X-Firebase-Client"]=ie);const we=yield m._getAppCheckToken();return we&&(O["X-Firebase-AppCheck"]=we),O})()}_getAppCheckToken(){var m=this;return(0,d.Z)(function*(){var g;const O=yield null===(g=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return O?.error&&function Re(D,...m){He.logLevel<=xe.in.WARN&&He.warn(`Auth (${f.SDK_VERSION}): ${D}`,...m)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function yi(D){return(0,L.m9)(D)}class Zo{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hr(D,m,g){const O=yi(D);Z(O._canInitEmulator,O,"emulator-config-failed"),Z(/^https?:\/\//.test(m),O,"invalid-emulator-scheme");const ie=!!g?.disableWarnings,we=Gr(m),{host:Mt,port:tn}=function io(D){const m=Gr(D),g=/(\/\/)?([^?#/]+)/.exec(D.substr(m.length));if(!g)return{host:"",port:null};const O=g[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(O);if(ie){const we=ie[1];return{host:we,port:So(O.substr(we.length+1))}}{const[we,Mt]=O.split(":");return{host:we,port:So(Mt)}}}(m);O.config.emulator={url:`${we}//${Mt}${null===tn?"":`:${tn}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:Mt,port:tn,protocol:we.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function js(){function D(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function Gr(D){const m=D.indexOf(":");return m<0?"":D.substr(0,m+1)}function So(D){if(!D)return null;const m=Number(D);return isNaN(m)?null:m}class vs{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return We("not implemented")}_getIdTokenResponse(m){return We("not implemented")}_linkToIdToken(m,g){return We("not implemented")}_getReauthenticationResolver(m){return We("not implemented")}}function Yo(D,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:resetPassword",dn(D,m))})).apply(this,arguments)}function Or(D,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:update",dn(D,m))})).apply(this,arguments)}function Sr(D,m){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(D,m){return Qe(D,"POST","/v1/accounts:signInWithPassword",dn(D,m))})).apply(this,arguments)}function Wr(D,m){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:sendOobCode",dn(D,m))})).apply(this,arguments)}function pt(){return(pt=(0,d.Z)(function*(D,m){return Wr(D,m)})).apply(this,arguments)}function lt(D,m){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(D,m){return Wr(D,m)})).apply(this,arguments)}function nn(D,m){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(D,m){return Wr(D,m)})).apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(D,m){return Wr(D,m)})).apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(D,m){return Qe(D,"POST","/v1/accounts:signInWithEmailLink",dn(D,m))})).apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(D,m){return Qe(D,"POST","/v1/accounts:signInWithEmailLink",dn(D,m))})).apply(this,arguments)}class Ki extends vs{constructor(m,g,O,ie=null){super("password",O),this._email=m,this._password=g,this._tenantId=ie}static _fromEmailAndPassword(m,g){return new Ki(m,g,"password")}static _fromEmailAndCode(m,g,O=null){return new Ki(m,g,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,d.Z)(function*(){var O;switch(g.signInMethod){case"password":const ie={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=m._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const we=yield to(m,ie,"signInWithPassword");return Sr(m,we)}return Sr(m,ie).catch(function(){var we=(0,d.Z)(function*(Mt){if("auth/missing-recaptcha-token"===Mt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const tn=yield to(m,ie,"signInWithPassword");return Sr(m,tn)}return Promise.reject(Mt)});return function(Mt){return we.apply(this,arguments)}}());case"emailLink":return function si(D,m){return bi.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:ue(m,"internal-error")}})()}_linkToIdToken(m,g){var O=this;return(0,d.Z)(function*(){switch(O.signInMethod){case"password":return Or(m,{idToken:g,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function Ur(D,m){return mr.apply(this,arguments)}(m,{idToken:g,email:O._email,oobCode:O._password});default:ue(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ki(D,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(D,m){return Qe(D,"POST","/v1/accounts:signInWithIdp",dn(D,m))})).apply(this,arguments)}class ci extends vs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new ci(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):ue("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:O,signInMethod:ie}=g,we=(0,ne._T)(g,["providerId","signInMethod"]);if(!O||!ie)return null;const Mt=new ci(O,ie);return Mt.idToken=we.idToken||void 0,Mt.accessToken=we.accessToken||void 0,Mt.secret=we.secret,Mt.nonce=we.nonce,Mt.pendingToken=we.pendingToken||null,Mt}_getIdTokenResponse(m){return ki(m,this.buildRequest())}_linkToIdToken(m,g){const O=this.buildRequest();return O.idToken=g,ki(m,O)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,ki(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,L.xO)(g)}return m}}function _o(){return(_o=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:sendVerificationCode",dn(D,m))})).apply(this,arguments)}function Qi(){return(Qi=(0,d.Z)(function*(D,m){return Qe(D,"POST","/v1/accounts:signInWithPhoneNumber",dn(D,m))})).apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(D,m){const g=yield Qe(D,"POST","/v1/accounts:signInWithPhoneNumber",dn(D,m));if(g.temporaryProof)throw St(D,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const rs={USER_NOT_FOUND:"user-not-found"};function Ls(){return(Ls=(0,d.Z)(function*(D,m){return Qe(D,"POST","/v1/accounts:signInWithPhoneNumber",dn(D,Object.assign(Object.assign({},m),{operation:"REAUTH"})),rs)})).apply(this,arguments)}class Hi extends vs{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new Hi({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new Hi({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function Pr(D,m){return Qi.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function Vo(D,m){return is.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function os(D,m){return Ls.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:O,verificationCode:ie}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:O,code:ie}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:O,phoneNumber:ie,temporaryProof:we}=m;return O||g||ie||we?new Hi({verificationId:g,verificationCode:O,phoneNumber:ie,temporaryProof:we}):null}}class Ao{constructor(m){var g,O,ie,we,Mt,tn;const Ln=(0,L.zd)((0,L.pd)(m)),oi=null!==(g=Ln.apiKey)&&void 0!==g?g:null,vi=null!==(O=Ln.oobCode)&&void 0!==O?O:null,dr=function ar(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=Ln.mode)&&void 0!==ie?ie:null);Z(oi&&vi&&dr,"argument-error"),this.apiKey=oi,this.operation=dr,this.code=vi,this.continueUrl=null!==(we=Ln.continueUrl)&&void 0!==we?we:null,this.languageCode=null!==(Mt=Ln.languageCode)&&void 0!==Mt?Mt:null,this.tenantId=null!==(tn=Ln.tenantId)&&void 0!==tn?tn:null}static parseLink(m){const g=function Cs(D){const m=(0,L.zd)((0,L.pd)(D)).link,g=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,O=(0,L.zd)((0,L.pd)(D)).deep_link_id;return(O?(0,L.zd)((0,L.pd)(O)).link:null)||O||g||m||D}(m);try{return new Ao(g)}catch{return null}}}let tr=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(g,O){return Ki._fromEmailAndPassword(g,O)}static credentialWithLink(g,O){const ie=Ao.parseLink(O);return Z(ie,"argument-error"),Ki._fromEmailAndCode(g,ie.code,ie.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class ko{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class qo extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Zr extends qo{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return Z("providerId"in g&&"signInMethod"in g,"argument-error"),ci._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Z(m.idToken||m.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Zr.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Zr.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:O,oauthTokenSecret:ie,pendingToken:we,nonce:Mt,providerId:tn}=m;if(!O&&!ie&&!g&&!we||!tn)return null;try{return new Zr(tn)._credential({idToken:g,accessToken:O,nonce:Mt,pendingToken:we})}catch{return null}}}let ss=(()=>{class D extends qo{constructor(){super("facebook.com")}static credential(g){return ci._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return D.credential(g.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Bs=(()=>{class D extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,O){return ci._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:O})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:O,oauthAccessToken:ie}=g;if(!O&&!ie)return null;try{return D.credential(O,ie)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ks=(()=>{class D extends qo{constructor(){super("github.com")}static credential(g){return ci._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return D.credential(g.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class jo extends vs{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return ki(m,this.buildRequest())}_linkToIdToken(m,g){const O=this.buildRequest();return O.idToken=g,ki(m,O)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,ki(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:O,signInMethod:ie,pendingToken:we}=g;return O&&ie&&we&&O===ie?new jo(O,we):null}static _create(m,g){return new jo(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wr extends ko{constructor(m){Z(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return wr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return wr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=jo.fromJSON(m);return Z(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:O}=m;if(!g||!O)return null;try{return jo._create(O,g)}catch{return null}}}let po=(()=>{class D extends qo{constructor(){super("twitter.com")}static credential(g,O){return ci._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:O})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:O,oauthTokenSecret:ie}=g;if(!O||!ie)return null;try{return D.credential(O,ie)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Mr(D,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(D,m){return Qe(D,"POST","/v1/accounts:signUp",dn(D,m))})).apply(this,arguments)}class nr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,O,ie=!1){return(0,d.Z)(function*(){const we=yield ot._fromIdTokenResponse(m,O,ie),Mt=Oo(O);return new nr({user:we,providerId:Mt,_tokenResponse:O,operationType:g})})()}static _forOperation(m,g,O){return(0,d.Z)(function*(){yield m._updateTokensIfNecessary(O,!0);const ie=Oo(O);return new nr({user:m,providerId:ie,_tokenResponse:O,operationType:g})})()}}function Oo(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function zo(D){return Js.apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(D){var m;const g=yi(D);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new nr({user:g.currentUser,providerId:null,operationType:"signIn"});const O=yield Mr(g,{returnSecureToken:!0}),ie=yield nr._fromIdTokenResponse(g,"signIn",O,!0);return yield g._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class Ze extends L.ZR{constructor(m,g,O,ie){var we;super(g.code,g.message),this.operationType=O,this.user=ie,Object.setPrototypeOf(this,Ze.prototype),this.customData={appName:m.name,tenantId:null!==(we=m.tenantId)&&void 0!==we?we:void 0,_serverResponse:g.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(m,g,O,ie){return new Ze(m,g,O,ie)}}function je(D,m,g,O){return("reauthenticate"===m?g._getReauthenticationResolver(D):g._getIdTokenResponse(D)).catch(we=>{throw"auth/multi-factor-auth-required"===we.code?Ze._fromErrorAndOperation(D,we,m,O):we})}function K(D){return new Set(D.map(({providerId:m})=>m).filter(m=>!!m))}function rt(D,m){return un.apply(this,arguments)}function un(){return un=(0,d.Z)(function*(D,m){const g=(0,L.m9)(D);yield pr(!0,g,m);const{providerUserInfo:O}=yield function _n(D,m){return Yn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),ie=K(O||[]);return g.providerData=g.providerData.filter(we=>ie.has(we.providerId)),ie.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),un.apply(this,arguments)}function xn(D,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,d.Z)(function*(D,m,g=!1){const O=yield Ae(D,m._linkToIdToken(D.auth,yield D.getIdToken()),g);return nr._forOperation(D,"link",O)})).apply(this,arguments)}function pr(D,m,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(D,m,g){yield Rn(m);const ie=!1===D?"provider-already-linked":"no-such-provider";Z(K(m.providerData).has(g)===D,m.auth,ie)})).apply(this,arguments)}function wo(D,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(D,m,g=!1){const{auth:O}=D,ie="reauthenticate";try{const we=yield Ae(D,je(O,ie,m,D),g);Z(we.idToken,O,"internal-error");const Mt=Ke(we.idToken);Z(Mt,O,"internal-error");const{sub:tn}=Mt;return Z(D.uid===tn,O,"user-mismatch"),nr._forOperation(D,ie,we)}catch(we){throw"auth/user-not-found"===we?.code&&ue(O,"user-mismatch"),we}})).apply(this,arguments)}function Ro(D,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(D,m,g=!1){const O="signIn",ie=yield je(D,O,m),we=yield nr._fromIdTokenResponse(D,O,ie);return g||(yield D._updateCurrentUser(we.user)),we})).apply(this,arguments)}function W(D,m){return j.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(D,m){return Ro(yi(D),m)})).apply(this,arguments)}function v(D,m){return C.apply(this,arguments)}function C(){return(C=(0,d.Z)(function*(D,m){const g=(0,L.m9)(D);return yield pr(!1,g,m.providerId),xn(g,m)})).apply(this,arguments)}function J(D,m){return De.apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(D,m){return wo((0,L.m9)(D),m)})).apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(D,m){return Qe(D,"POST","/v1/accounts:signInWithCustomToken",dn(D,m))})).apply(this,arguments)}function Dn(D,m){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,d.Z)(function*(D,m){const g=yi(D),O=yield function ct(D,m){return Nt.apply(this,arguments)}(g,{token:m,returnSecureToken:!0}),ie=yield nr._fromIdTokenResponse(g,"signIn",O);return yield g._updateCurrentUser(ie.user),ie}),Kn.apply(this,arguments)}class Hn{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?xi._fromServerResponse(m,g):"totpInfo"in g?Ni._fromServerResponse(m,g):ue(m,"internal-error")}}class xi extends Hn{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new xi(g)}}class Ni extends Hn{constructor(m){super("totp",m)}static _fromServerResponse(m,g){return new Ni(g)}}function gr(D,m,g){var O;Z((null===(O=g.url)||void 0===O?void 0:O.length)>0,D,"invalid-continue-uri"),Z(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Z(g.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(Z(g.android.packageName.length>0,D,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function Vr(D,m,g){return _r.apply(this,arguments)}function _r(){return _r=(0,d.Z)(function*(D,m,g){var O;const ie=yi(D),we={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=ie._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Mt=yield to(ie,we,"getOobCode",!0);g&&gr(ie,Mt,g),yield lt(ie,Mt)}else g&&gr(ie,we,g),yield lt(ie,we).catch(function(){var Mt=(0,d.Z)(function*(tn){if("auth/missing-recaptcha-token"!==tn.code)return Promise.reject(tn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ln=yield to(ie,we,"getOobCode",!0);g&&gr(ie,Ln,g),yield lt(ie,Ln)}});return function(tn){return Mt.apply(this,arguments)}}())}),_r.apply(this,arguments)}function Wi(D,m,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(D,m,g){yield Yo((0,L.m9)(D),{oobCode:m,newPassword:g})})).apply(this,arguments)}function Oi(D,m){return Po.apply(this,arguments)}function Po(){return Po=(0,d.Z)(function*(D,m){yield function ns(D,m){return fi.apply(this,arguments)}((0,L.m9)(D),{oobCode:m})}),Po.apply(this,arguments)}function oo(D,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(D,m){const g=(0,L.m9)(D),O=yield Yo(g,{oobCode:m}),ie=O.requestType;switch(Z(ie,g,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(O.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(O.mfaInfo,g,"internal-error");default:Z(O.email,g,"internal-error")}let we=null;return O.mfaInfo&&(we=Hn._fromServerResponse(yi(g),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:we},operation:ie}})).apply(this,arguments)}function Br(D,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(D,m){const{data:g}=yield oo((0,L.m9)(D),m);return g.email})).apply(this,arguments)}function as(D,m,g){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,d.Z)(function*(D,m,g){var O;const ie=yi(D),we={returnSecureToken:!0,email:m,password:g,clientType:"CLIENT_TYPE_WEB"};let Mt;if(null!==(O=ie._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const oi=yield to(ie,we,"signUpPassword");Mt=Mr(ie,oi)}else Mt=Mr(ie,we).catch(function(){var oi=(0,d.Z)(function*(vi){if("auth/missing-recaptcha-token"===vi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const dr=yield to(ie,we,"signUpPassword");return Mr(ie,dr)}return Promise.reject(vi)});return function(vi){return oi.apply(this,arguments)}}());const tn=yield Mt.catch(oi=>Promise.reject(oi)),Ln=yield nr._fromIdTokenResponse(ie,"signIn",tn);return yield ie._updateCurrentUser(Ln.user),Ln}),Ds.apply(this,arguments)}function ys(D,m,g){return W((0,L.m9)(D),tr.credential(m,g))}function Us(D,m,g){return la.apply(this,arguments)}function la(){return la=(0,d.Z)(function*(D,m,g){var O;const ie=yi(D),we={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function Mt(tn,Ln){Z(Ln.handleCodeInApp,ie,"argument-error"),Ln&&gr(ie,tn,Ln)}if(null!==(O=ie._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const tn=yield to(ie,we,"getOobCode",!0);Mt(tn,g),yield nn(ie,tn)}else Mt(we,g),yield nn(ie,we).catch(function(){var tn=(0,d.Z)(function*(Ln){if("auth/missing-recaptcha-token"!==Ln.code)return Promise.reject(Ln);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const oi=yield to(ie,we,"getOobCode",!0);Mt(oi,g),yield nn(ie,oi)}});return function(Ln){return tn.apply(this,arguments)}}())}),la.apply(this,arguments)}function ca(D,m){const g=Ao.parseLink(m);return"EMAIL_SIGNIN"===g?.operation}function Ta(D,m,g){return so.apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(D,m,g){const O=(0,L.m9)(D),ie=tr.credentialWithLink(m,g||ze());return Z(ie._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),W(O,ie)})).apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:createAuthUri",dn(D,m))})).apply(this,arguments)}function ba(D,m){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,d.Z)(function*(D,m){const O={identifier:m,continueUri:yt()?ze():"http://localhost"},{signinMethods:ie}=yield function _l(D,m){return Fo.apply(this,arguments)}((0,L.m9)(D),O);return ie||[]}),Hs.apply(this,arguments)}function da(D,m){return ea.apply(this,arguments)}function ea(){return ea=(0,d.Z)(function*(D,m){const g=(0,L.m9)(D),ie={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};m&&gr(g.auth,ie,m);const{email:we}=yield function To(D,m){return pt.apply(this,arguments)}(g.auth,ie);we!==D.email&&(yield D.reload())}),ea.apply(this,arguments)}function wa(D,m,g){return Is.apply(this,arguments)}function Is(){return Is=(0,d.Z)(function*(D,m,g){const O=(0,L.m9)(D),we={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:m};g&&gr(O.auth,we,g);const{email:Mt}=yield function on(D,m){return Nn.apply(this,arguments)}(O.auth,we);Mt!==D.email&&(yield D.reload())}),Is.apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(D,m){return pn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ua(D,m){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,d.Z)(function*(D,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const O=(0,L.m9)(D),we={idToken:yield O.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},Mt=yield Ae(O,function Ma(D,m){return ta.apply(this,arguments)}(O.auth,we));O.displayName=Mt.displayName||null,O.photoURL=Mt.photoUrl||null;const tn=O.providerData.find(({providerId:Ln})=>"password"===Ln);tn&&(tn.displayName=O.displayName,tn.photoURL=O.photoURL),yield O._updateTokensIfNecessary(Mt)}),Ra.apply(this,arguments)}function Zs(D,m){return cs((0,L.m9)(D),m,null)}function ls(D,m){return cs((0,L.m9)(D),null,m)}function cs(D,m,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(D,m,g){const{auth:O}=D,we={idToken:yield D.getIdToken(),returnSecureToken:!0};m&&(we.email=m),g&&(we.password=g);const Mt=yield Ae(D,Or(O,we));yield D._updateTokensIfNecessary(Mt,!0)})).apply(this,arguments)}class lr{constructor(m,g,O={}){this.isNewUser=m,this.providerId=g,this.profile=O}}class Eo extends lr{constructor(m,g,O,ie){super(m,g,O),this.username=ie}}class Ys extends lr{constructor(m,g){super(m,"facebook.com",g)}}class Li extends Eo{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ha extends lr{constructor(m,g){super(m,"google.com",g)}}class R extends Eo{constructor(m,g,O){super(m,"twitter.com",g,O)}}function Q(D){const{user:m,_tokenResponse:g}=D;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ds(D){var m,g;if(!D)return null;const{providerId:O}=D,ie=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},we=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!O&&D?.idToken){const Mt=null===(g=null===(m=Ke(D.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(Mt)return new lr(we,"anonymous"!==Mt&&"custom"!==Mt?Mt:null)}if(!O)return null;switch(O){case"facebook.com":return new Ys(we,ie);case"github.com":return new Li(we,ie);case"google.com":return new ha(we,ie);case"twitter.com":return new R(we,ie,D.screenName||null);case"custom":case"anonymous":return new lr(we,null);default:return new lr(we,O,ie)}}(g)}class ir{constructor(m,g,O){this.type=m,this.credential=g,this.auth=O}static _fromIdtoken(m,g){return new ir("enroll",m,g)}static _fromMfaPendingCredential(m){return new ir("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,O;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ir._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(O=m.multiFactorSession)&&void 0!==O&&O.idToken)return ir._fromIdtoken(m.multiFactorSession.idToken)}return null}}class zn{constructor(m,g,O){this.session=m,this.hints=g,this.signInResolver=O}static _fromError(m,g){const O=yi(m),ie=g.customData._serverResponse,we=(ie.mfaInfo||[]).map(tn=>Hn._fromServerResponse(O,tn));Z(ie.mfaPendingCredential,O,"internal-error");const Mt=ir._fromMfaPendingCredential(ie.mfaPendingCredential);return new zn(Mt,we,function(){var tn=(0,d.Z)(function*(Ln){const oi=yield Ln._process(O,Mt);delete ie.mfaInfo,delete ie.mfaPendingCredential;const vi=Object.assign(Object.assign({},ie),{idToken:oi.idToken,refreshToken:oi.refreshToken});switch(g.operationType){case"signIn":const dr=yield nr._fromIdTokenResponse(O,g.operationType,vi);return yield O._updateCurrentUser(dr.user),dr;case"reauthenticate":return Z(g.user,O,"internal-error"),nr._forOperation(g.user,g.operationType,vi);default:ue(O,"internal-error")}});return function(Ln){return tn.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,d.Z)(function*(){return g.signInResolver(m)})()}}function Yr(D,m){var g;const O=(0,L.m9)(D),ie=m;return Z(m.customData.operationType,O,"argument-error"),Z(null===(g=ie.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,O,"argument-error"),zn._fromError(O,ie)}class us{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(O=>Hn._fromServerResponse(m.auth,O)))})}static _fromUser(m){return new us(m)}getSession(){var m=this;return(0,d.Z)(function*(){return ir._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,g){var O=this;return(0,d.Z)(function*(){const ie=m,we=yield O.getSession(),Mt=yield Ae(O.user,ie._process(O.user.auth,we,g));return yield O.user._updateTokensIfNecessary(Mt),O.user.reload()})()}unenroll(m){var g=this;return(0,d.Z)(function*(){const O="string"==typeof m?m:m.uid,ie=yield g.user.getIdToken();try{const we=yield Ae(g.user,function qs(D,m){return pn(D,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(D,m))}(g.user.auth,{idToken:ie,mfaEnrollmentId:O}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Mt})=>Mt!==O),yield g.user._updateTokensIfNecessary(we),yield g.user.reload()}catch(we){throw we}})()}}const ws=new WeakMap;function rl(D){const m=(0,L.m9)(D);return ws.has(m)||ws.set(m,us._fromUser(m)),ws.get(m)}const fa="__sak";class vl{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(fa,"1"),this.storage.removeItem(fa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const hs=(()=>{class D extends vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,O)=>this.onStorageEvent(g,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yl(){const D=(0,L.z$)();return U(D)||xt(D)}()&&function Ai(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=An(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const O of Object.keys(this.listeners)){const ie=this.storage.getItem(O),we=this.localCache[O];ie!==we&&g(O,we,ie)}}onStorageEvent(g,O=!1){if(!g.key)return void this.forAllChangedKeys((tn,Ln,oi)=>{this.notifyListeners(tn,oi)});const ie=g.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tn=this.storage.getItem(ie);if(g.newValue!==tn)null!==g.newValue?this.storage.setItem(ie,g.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===g.newValue&&!O)return}const we=()=>{const tn=this.storage.getItem(ie);!O&&this.localCache[ie]===tn||this.notifyListeners(ie,tn)},Mt=this.storage.getItem(ie);!function ti(){return(0,L.w1)()&&10===document.documentMode}()||Mt===g.newValue||g.newValue===g.oldValue?we():setTimeout(we,10)}notifyListeners(g,O){this.localCache[g]=O;const ie=this.listeners[g];if(ie)for(const we of Array.from(ie))we(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,O,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:O,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(O)}_removeListener(g,O){this.listeners[g]&&(this.listeners[g].delete(O),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,O){var ie=()=>super._set,we=this;return(0,d.Z)(function*(){yield ie().call(we,g,O),we.localCache[g]=JSON.stringify(O)})()}_get(g){var O=()=>super._get,ie=this;return(0,d.Z)(function*(){const we=yield O().call(ie,g);return ie.localCache[g]=JSON.stringify(we),we})()}_remove(g){var O=()=>super._remove,ie=this;return(0,d.Z)(function*(){yield O().call(ie,g),delete ie.localCache[g]})()}}return D.type="LOCAL",D})(),Pa=(()=>{class D extends vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,O){}_removeListener(g,O){}}return D.type="SESSION",D})();let In=(()=>{class D{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const O=this.receivers.find(we=>we.isListeningto(g));if(O)return O;const ie=new D(g);return this.receivers.push(ie),ie}isListeningto(g){return this.eventTarget===g}handleEvent(g){var O=this;return(0,d.Z)(function*(){const ie=g,{eventId:we,eventType:Mt,data:tn}=ie.data,Ln=O.handlersMap[Mt];if(!Ln?.size)return;ie.ports[0].postMessage({status:"ack",eventId:we,eventType:Mt});const oi=Array.from(Ln).map(function(){var dr=(0,d.Z)(function*(ga){return ga(ie.origin,tn)});return function(ga){return dr.apply(this,arguments)}}()),vi=yield function ol(D){return Promise.all(D.map(function(){var m=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(O){return{fulfilled:!1,reason:O}}});return function(g){return m.apply(this,arguments)}}()))}(oi);ie.ports[0].postMessage({status:"done",eventId:we,eventType:Mt,response:vi})})()}_subscribe(g,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(O)}_unsubscribe(g,O){this.handlersMap[g]&&O&&this.handlersMap[g].delete(O),(!O||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function xr(D="",m=10){let g="";for(let O=0;O<m;O++)g+=Math.floor(10*Math.random());return D+g}class Ss{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,O=50){var ie=this;return(0,d.Z)(function*(){const we=typeof MessageChannel<"u"?new MessageChannel:null;if(!we)throw new Error("connection_unavailable");let Mt,tn;return new Promise((Ln,oi)=>{const vi=xr("",20);we.port1.start();const dr=setTimeout(()=>{oi(new Error("unsupported_event"))},O);tn={messageChannel:we,onMessage(ga){const aa=ga;if(aa.data.eventId===vi)switch(aa.data.status){case"ack":clearTimeout(dr),Mt=setTimeout(()=>{oi(new Error("timeout"))},3e3);break;case"done":clearTimeout(Mt),Ln(aa.data.response);break;default:clearTimeout(dr),clearTimeout(Mt),oi(new Error("invalid_response"))}}},ie.handlers.add(tn),we.port1.addEventListener("message",tn.onMessage),ie.target.postMessage({eventType:m,eventId:vi,data:g},[we.port2])}).finally(()=>{tn&&ie.removeMessageHandler(tn)})})()}}function Xr(){return window}function di(){return typeof Xr().WorkerGlobalScope<"u"&&"function"==typeof Xr().importScripts}function Un(){return(Un=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ui="firebaseLocalStorageDb",Lo="firebaseLocalStorage",Ll="fbase_key";class V{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function b(D,m){return D.transaction([Lo],m?"readwrite":"readonly").objectStore(Lo)}function T(){const D=indexedDB.open(Ui,1);return new Promise((m,g)=>{D.addEventListener("error",()=>{g(D.error)}),D.addEventListener("upgradeneeded",()=>{const O=D.result;try{O.createObjectStore(Lo,{keyPath:Ll})}catch(ie){g(ie)}}),D.addEventListener("success",(0,d.Z)(function*(){const O=D.result;O.objectStoreNames.contains(Lo)?m(O):(O.close(),yield function _(){const D=indexedDB.deleteDatabase(Ui);return new V(D).toPromise()}(),m(yield T()))}))})}function G(D,m,g){return he.apply(this,arguments)}function he(){return(he=(0,d.Z)(function*(D,m,g){const O=b(D,!0).put({[Ll]:m,value:g});return new V(O).toPromise()})).apply(this,arguments)}function at(){return(at=(0,d.Z)(function*(D,m){const g=b(D,!1).get(m),O=yield new V(g).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function vt(D,m){const g=b(D,!0).delete(m);return new V(g).toPromise()}const kn=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield T()),g.db})()}_withRetries(g){var O=this;return(0,d.Z)(function*(){let ie=0;for(;;)try{const we=yield O._openDb();return yield g(we)}catch(we){if(ie++>3)throw we;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return di()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=In._getInstance(function yn(){return di()?self:null}()),g.receiver._subscribe("keyChanged",function(){var O=(0,d.Z)(function*(ie,we){return{keyProcessed:(yield g._poll()).includes(we.key)}});return function(ie,we){return O.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var O=(0,d.Z)(function*(ie,we){return["keyChanged"]});return function(ie,we){return O.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var O,ie;if(g.activeServiceWorker=yield function Ts(){return Un.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ss(g.activeServiceWorker);const we=yield g.sender._send("ping",{},800);we&&null!==(O=we[0])&&void 0!==O&&O.fulfilled&&null!==(ie=we[0])&&void 0!==ie&&ie.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var O=this;return(0,d.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Jt(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:g},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield T();return yield G(g,fa,"1"),yield vt(g,fa),!0}catch{}return!1})()}_withPendingWrite(g){var O=this;return(0,d.Z)(function*(){O.pendingWrites++;try{yield g()}finally{O.pendingWrites--}})()}_set(g,O){var ie=this;return(0,d.Z)(function*(){return ie._withPendingWrite((0,d.Z)(function*(){return yield ie._withRetries(we=>G(we,g,O)),ie.localCache[g]=O,ie.notifyServiceWorker(g)}))})()}_get(g){var O=this;return(0,d.Z)(function*(){const ie=yield O._withRetries(we=>function et(D,m){return at.apply(this,arguments)}(we,g));return O.localCache[g]=ie,ie})()}_remove(g){var O=this;return(0,d.Z)(function*(){return O._withPendingWrite((0,d.Z)(function*(){return yield O._withRetries(ie=>vt(ie,g)),delete O.localCache[g],O.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const O=yield g._withRetries(Mt=>{const tn=b(Mt,!1).getAll();return new V(tn).toPromise()});if(!O)return[];if(0!==g.pendingWrites)return[];const ie=[],we=new Set;for(const{fbase_key:Mt,value:tn}of O)we.add(Mt),JSON.stringify(g.localCache[Mt])!==JSON.stringify(tn)&&(g.notifyListeners(Mt,tn),ie.push(Mt));for(const Mt of Object.keys(g.localCache))g.localCache[Mt]&&!we.has(Mt)&&(g.notifyListeners(Mt,null),ie.push(Mt));return ie})()}notifyListeners(g,O){this.localCache[g]=O;const ie=this.listeners[g];if(ie)for(const we of Array.from(ie))we(O)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(O)}_removeListener(g,O){this.listeners[g]&&(this.listeners[g].delete(O),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),M=1e12;class x{constructor(m){this.auth=m,this.counter=M,this._widgets=new Map}render(m,g){const O=this.counter;return this._widgets.set(O,new F(m,this.auth.name,g||{})),this.counter++,O}reset(m){var g;const O=m||M;null===(g=this._widgets.get(O))||void 0===g||g.delete(),this._widgets.delete(O)}getResponse(m){var g;return(null===(g=this._widgets.get(m||M))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,d.Z)(function*(){var O;return null===(O=g._widgets.get(m||M))||void 0===O||O.execute(),""})()}}class F{constructor(m,g,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof m?document.getElementById(m):m;Z(ie,"argument-error",{appName:g}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ee(D){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<D;O++)m.push(g.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ve=Ir("rcb"),Ce=new ht(3e4,6e4);class bn{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Xr().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return Z(function ai(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(g),m,"argument-error"),this.shouldResolveImmediately(g)&&Pn(Xr().grecaptcha)?Promise.resolve(Xr().grecaptcha):new Promise((O,ie)=>{const we=Xr().setTimeout(()=>{ie(Ie(m,"network-request-failed"))},Ce.get());Xr()[ve]=()=>{Xr().clearTimeout(we),delete Xr()[ve];const tn=Xr().grecaptcha;if(!tn||!Pn(tn))return void ie(Ie(m,"internal-error"));const Ln=tn.render;tn.render=(oi,vi)=>{const dr=Ln(oi,vi);return this.counter++,dr},this.hostLanguage=g,O(tn)},Ti(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ve,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(we),ie(Ie(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=Xr().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jn{load(m){return(0,d.Z)(function*(){return new x(m)})()}clearedOneInstance(){}}const Xi="recaptcha",Jr={theme:"light",type:"image"};class Ea{constructor(m,g=Object.assign({},Jr),O){this.parameters=g,this.type=Xi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yi(O),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof m?document.getElementById(m):m;Z(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jn:new bn,this.validateStartingState()}verify(){var m=this;return(0,d.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),O=m.getAssertedRecaptcha();return O.getResponse(g)||new Promise(we=>{const Mt=tn=>{tn&&(m.tokenChangeListeners.delete(Mt),we(tn))};m.tokenChangeListeners.add(Mt),m.isInvisible&&O.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(O=>O(g)),"function"==typeof m)m(g);else if("string"==typeof m){const O=Xr()[m];"function"==typeof O&&O(g)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,d.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const O=document.createElement("div");g.appendChild(O),g=O}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,d.Z)(function*(){Z(yt()&&!di(),m.auth,"internal-error"),yield function fs(){let D=null;return new Promise(m=>{"complete"!==document.readyState?(D=()=>m(),window.addEventListener("load",D)):m()}).catch(m=>{throw D&&window.removeEventListener("load",D),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function Bt(D){return Tt.apply(this,arguments)}(m.auth);Z(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ri{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=Hi._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function mt(D,m,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(D,m,g){const O=yi(D),ie=yield na(O,m,(0,L.m9)(g));return new ri(ie,we=>W(O,we))})).apply(this,arguments)}function Ri(D,m,g){return $o.apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(D,m,g){const O=(0,L.m9)(D);yield pr(!1,O,"phone");const ie=yield na(O.auth,m,(0,L.m9)(g));return new ri(ie,we=>v(O,we))})).apply(this,arguments)}function Rs(D,m,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(D,m,g){const O=(0,L.m9)(D),ie=yield na(O.auth,m,(0,L.m9)(g));return new ri(ie,we=>J(O,we))})).apply(this,arguments)}function na(D,m,g){return Er.apply(this,arguments)}function Er(){return Er=(0,d.Z)(function*(D,m,g){var O;const ie=yield g.verify();try{let we;if(Z("string"==typeof ie,D,"argument-error"),Z(g.type===Xi,D,"argument-error"),we="string"==typeof m?{phoneNumber:m}:m,"session"in we){const Mt=we.session;if("phoneNumber"in we)return Z("enroll"===Mt.type,D,"internal-error"),(yield function bs(D,m){return pn(D,"POST","/v2/accounts/mfaEnrollment:start",dn(D,m))}(D,{idToken:Mt.credential,phoneEnrollmentInfo:{phoneNumber:we.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{Z("signin"===Mt.type,D,"internal-error");const tn=(null===(O=we.multiFactorHint)||void 0===O?void 0:O.uid)||we.multiFactorUid;return Z(tn,D,"missing-multi-factor-info"),(yield function Bi(D,m){return pn(D,"POST","/v2/accounts/mfaSignIn:start",dn(D,m))}(D,{mfaPendingCredential:Mt.credential,mfaEnrollmentId:tn,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Mt}=yield function Mo(D,m){return _o.apply(this,arguments)}(D,{phoneNumber:we.phoneNumber,recaptchaToken:ie});return Mt}}finally{g._reset()}}),Er.apply(this,arguments)}function Bl(D,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,d.Z)(function*(D,m){yield xn((0,L.m9)(D),m)})).apply(this,arguments)}let Ps=(()=>{class D{constructor(g){this.providerId=D.PROVIDER_ID,this.auth=yi(g)}verifyPhoneNumber(g,O){return na(this.auth,g,(0,L.m9)(O))}static credential(g,O){return Hi._fromVerification(g,O)}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:O,temporaryProof:ie}=g;return O&&ie?Hi._fromTokenResponse(O,ie):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Ms(D,m){return m?Oe(m):(Z(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class jr extends vs{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ki(m,this._buildIdpRequest())}_linkToIdToken(m,g){return ki(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return ki(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function xs(D){return Ro(D.auth,new jr(D),D.bypassAuthState)}function ia(D){const{auth:m,user:g}=D;return Z(g,m,"internal-error"),wo(g,new jr(D),D.bypassAuthState)}function Ul(D){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(D){const{auth:m,user:g}=D;return Z(g,m,"internal-error"),xn(g,new jr(D),D.bypassAuthState)})).apply(this,arguments)}class Od{constructor(m,g,O,ie,we=!1){this.auth=m,this.resolver=O,this.user=ie,this.bypassAuthState=we,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,d.Z)(function*(O,ie){m.pendingPromise={resolve:O,reject:ie};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(we){m.reject(we)}});return function(O,ie){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,d.Z)(function*(){const{urlResponse:O,sessionId:ie,postBody:we,tenantId:Mt,error:tn,type:Ln}=m;if(tn)return void g.reject(tn);const oi={auth:g.auth,requestUri:O,sessionId:ie,tenantId:Mt||void 0,postBody:we||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ln)(oi))}catch(vi){g.reject(vi)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return Ul;case"reauthViaPopup":case"reauthViaRedirect":return ia;default:ue(this.auth,"internal-error")}}resolve(m){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dc=new ht(2e3,1e4);function ms(D,m,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(D,m,g){const O=yi(D);Me(D,m,ko);const ie=Ms(O,g);return new mc(O,"signInViaPopup",m,ie).executeNotNull()})).apply(this,arguments)}function ma(D,m,g){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(D,m,g){const O=(0,L.m9)(D);Me(O.auth,m,ko);const ie=Ms(O.auth,g);return new mc(O.auth,"reauthViaPopup",m,ie,O).executeNotNull()})).apply(this,arguments)}function hc(D,m,g){return fc.apply(this,arguments)}function fc(){return(fc=(0,d.Z)(function*(D,m,g){const O=(0,L.m9)(D);Me(O.auth,m,ko);const ie=Ms(O.auth,g);return new mc(O.auth,"linkViaPopup",m,ie,O).executeNotNull()})).apply(this,arguments)}let mc=(()=>{class D extends Od{constructor(g,O,ie,we,Mt){super(g,O,we,Mt),this.provider=ie,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const O=yield g.execute();return Z(O,g.auth,"internal-error"),O})()}onExecution(){var g=this;return(0,d.Z)(function*(){Fe(1===g.filter.length,"Popup operations only handle one event");const O=xr();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],O),g.authWindow.associatedEvent=O,g.resolver._originValidation(g.auth).catch(ie=>{g.reject(ie)}),g.resolver._isIframeWebStorageSupported(g.auth,ie=>{ie||g.reject(Ie(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const g=()=>{var O,ie;this.pollId=null!==(ie=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==ie&&ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,dc.get())};g()}}return D.currentPopupAction=null,D})();const $c="pendingRedirect",Fa=new Map;class Lh extends Od{constructor(m,g,O=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,O),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,d.Z)(function*(){let O=Fa.get(g.auth._key());if(!O){try{const we=(yield function Ru(D,m){return wl.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;O=()=>Promise.resolve(we)}catch(ie){O=()=>Promise.reject(ie)}Fa.set(g.auth._key(),O)}return g.bypassAuthState||Fa.set(g.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,O=this;return(0,d.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(O,m);if("unknown"!==m.type){if(m.eventId){const ie=yield O.auth._redirectUserForId(m.eventId);if(ie)return O.user=ie,g().call(O,m);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function wl(){return(wl=(0,d.Z)(function*(D,m){const g=Pu(m),O=za(D);if(!(yield O._isAvailable()))return!1;const ie="true"===(yield O._get(g));return yield O._remove(g),ie})).apply(this,arguments)}function Gc(D,m){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(D,m){return za(D)._set(Pu(m),"true")})).apply(this,arguments)}function Bh(){Fa.clear()}function pc(D,m){Fa.set(D._key(),m)}function za(D){return Oe(D._redirectPersistence)}function Pu(D){return Ht($c,D.config.apiKey,D.name)}function Kc(D,m,g){return function gc(D,m,g){return $a.apply(this,arguments)}(D,m,g)}function $a(){return($a=(0,d.Z)(function*(D,m,g){const O=yi(D);Me(D,m,ko),yield O._initializationPromise;const ie=Ms(O,g);return yield Gc(ie,O),ie._openRedirect(O,m,"signInViaRedirect")})).apply(this,arguments)}function Rd(D,m,g){return function Zc(D,m,g){return Vl.apply(this,arguments)}(D,m,g)}function Vl(){return(Vl=(0,d.Z)(function*(D,m,g){const O=(0,L.m9)(D);Me(O.auth,m,ko),yield O.auth._initializationPromise;const ie=Ms(O.auth,g);yield Gc(ie,O.auth);const we=yield ps(O);return ie._openRedirect(O.auth,m,"reauthViaRedirect",we)})).apply(this,arguments)}function Yc(D,m,g){return function Es(D,m,g){return jl.apply(this,arguments)}(D,m,g)}function jl(){return(jl=(0,d.Z)(function*(D,m,g){const O=(0,L.m9)(D);Me(O.auth,m,ko),yield O.auth._initializationPromise;const ie=Ms(O.auth,g);yield pr(!1,O,m.providerId),yield Gc(ie,O.auth);const we=yield ps(O);return ie._openRedirect(O.auth,m,"linkViaRedirect",we)})).apply(this,arguments)}function ra(D,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(D,m){return yield yi(D)._initializationPromise,Cr(D,m,!1)})).apply(this,arguments)}function Cr(D,m){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(D,m,g=!1){const O=yi(D),ie=Ms(O,m),Mt=yield new Lh(O,ie,g).execute();return Mt&&!g&&(delete Mt.user._redirectEventId,yield O._persistUserIfCurrent(Mt.user),yield O._setRedirectUser(null,m)),Mt})).apply(this,arguments)}function ps(D){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(D){const m=xr(`${D.uid}:::`);return D._redirectEventId=m,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),m})).apply(this,arguments)}class La{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(m,O)&&(g=!0,this.sendToConsumer(m,O),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Pd(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _c(D);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var O;if(m.error&&!_c(m)){const ie=(null===(O=m.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";g.onError(Ie(this.auth,ie))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const O=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&O}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vs(m))}saveEventToCache(m){this.cachedEventUids.add(Vs(m)),this.lastProcessedEventTime=Date.now()}}function Vs(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(m=>m).join("-")}function _c({type:D,error:m}){return"unknown"===D&&"auth/no-auth-event"===m?.code}function Xo(D){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,d.Z)(function*(D,m={}){return pn(D,"GET","/v1/projects",m)})).apply(this,arguments)}const xl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yo=/^https?/;function Hl(){return(Hl=(0,d.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:m}=yield Xo(D);for(const g of m)try{if(ho(g))return}catch{}ue(D,"unauthorized-domain")})).apply(this,arguments)}function ho(D){const m=ze(),{protocol:g,hostname:O}=new URL(m);if(D.startsWith("chrome-extension://")){const Mt=new URL(D);return""===Mt.hostname&&""===O?"chrome-extension:"===g&&D.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&Mt.hostname===O}if(!yo.test(g))return!1;if(xl.test(D))return O===D;const ie=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(O)}const El=new ht(3e4,6e4);function Cl(){const D=Xr().___jsl;if(D?.H)for(const m of Object.keys(D.H))if(D.H[m].r=D.H[m].r||[],D.H[m].L=D.H[m].L||[],D.H[m].r=[...D.H[m].L],D.CP)for(let g=0;g<D.CP.length;g++)D.CP[g]=null}let lo=null;const zs=new ht(5e3,15e3),oa="__/auth/iframe",Za="emulator/auth/iframe",Ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dl(D){const m=D.config;Z(m.authDomain,D,"auth-domain-config-required");const g=m.emulator?Rt(m,Za):`https://${D.config.authDomain}/${oa}`,O={apiKey:m.apiKey,appName:D.name,v:f.SDK_VERSION},ie=Nu.get(D.config.apiHost);ie&&(O.eid=ie);const we=D._getFrameworks();return we.length&&(O.fw=we.join(",")),`${g}?${(0,L.xO)(O).slice(1)}`}function S(){return S=(0,d.Z)(function*(D){const m=yield function Ka(D){return lo=lo||function Wa(D){return new Promise((m,g)=>{var O,ie,we;function Mt(){Cl(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Cl(),g(Ie(D,"network-request-failed"))},timeout:El.get()})}if(null!==(ie=null===(O=Xr().gapi)||void 0===O?void 0:O.iframes)&&void 0!==ie&&ie.Iframe)m(gapi.iframes.getContext());else{if(null===(we=Xr().gapi)||void 0===we||!we.load){const tn=Ir("iframefcb");return Xr()[tn]=()=>{gapi.load?Mt():g(Ie(D,"network-request-failed"))},Ti(`https://apis.google.com/js/api.js?onload=${tn}`).catch(Ln=>g(Ln))}Mt()}}).catch(m=>{throw lo=null,m})}(D),lo}(D),g=Xr().gapi;return Z(g,D,"internal-error"),m.open({where:document.body,url:Dl(D),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ba,dontclear:!0},O=>new Promise(function(){var ie=(0,d.Z)(function*(we,Mt){yield O.restyle({setHideOnLeave:!1});const tn=Ie(D,"network-request-failed"),Ln=Xr().setTimeout(()=>{Mt(tn)},zs.get());function oi(){Xr().clearTimeout(Ln),we(O)}O.ping(oi).then(oi,()=>{Mt(tn)})});return function(we,Mt){return ie.apply(this,arguments)}}()))}),S.apply(this,arguments)}const N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class an{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pi="__/auth/handler",$i="emulator/auth/handler",Vi=encodeURIComponent("fac");function As(D,m,g,O,ie,we){return yr.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(D,m,g,O,ie,we){Z(D.config.authDomain,D,"auth-domain-config-required"),Z(D.config.apiKey,D,"invalid-api-key");const Mt={apiKey:D.config.apiKey,appName:D.name,authType:g,redirectUrl:O,v:f.SDK_VERSION,eventId:ie};if(m instanceof ko){m.setDefaultLanguage(D.languageCode),Mt.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(Mt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[vi,dr]of Object.entries(we||{}))Mt[vi]=dr}if(m instanceof qo){const vi=m.getScopes().filter(dr=>""!==dr);vi.length>0&&(Mt.scopes=vi.join(","))}D.tenantId&&(Mt.tid=D.tenantId);const tn=Mt;for(const vi of Object.keys(tn))void 0===tn[vi]&&delete tn[vi];const Ln=yield D._getAppCheckToken(),oi=Ln?`#${Vi}=${encodeURIComponent(Ln)}`:"";return`${function Ya({config:D}){return D.emulator?Rt(D,$i):`https://${D.authDomain}/${pi}`}(D)}?${(0,L.xO)(tn).slice(1)}${oi}`})).apply(this,arguments)}const eo="webStorageSupport",sa=class $s{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pa,this._completeRedirectFn=Cr,this._overrideRedirectResult=pc}_openPopup(m,g,O,ie){var we=this;return(0,d.Z)(function*(){var Mt;Fe(null===(Mt=we.eventManagers[m._key()])||void 0===Mt?void 0:Mt.manager,"_initialize() not called before _openPopup()");const tn=yield As(m,g,O,ze(),ie);return function Zn(D,m,g,O=500,ie=600){const we=Math.max((window.screen.availHeight-ie)/2,0).toString(),Mt=Math.max((window.screen.availWidth-O)/2,0).toString();let tn="";const Ln=Object.assign(Object.assign({},N),{width:O.toString(),height:ie.toString(),top:we,left:Mt}),oi=(0,L.z$)().toLowerCase();g&&(tn=z(oi)?"_blank":g),H(oi)&&(m=m||"http://localhost",Ln.scrollbars="yes");const vi=Object.entries(Ln).reduce((ga,[aa,Ud])=>`${ga}${aa}=${Ud},`,"");if(function en(D=(0,L.z$)()){var m;return xt(D)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(oi)&&"_self"!==tn)return function Gn(D,m){const g=document.createElement("a");g.href=D,g.target=m;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(O)}(m||"",tn),new an(null);const dr=window.open(m||"",tn,vi);Z(dr,D,"popup-blocked");try{dr.focus()}catch{}return new an(dr)}(m,tn,xr())})()}_openRedirect(m,g,O,ie){var we=this;return(0,d.Z)(function*(){return yield we._originValidation(m),function ii(D){Xr().location.href=D}(yield As(m,g,O,ze(),ie)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:ie,promise:we}=this.eventManagers[g];return ie?Promise.resolve(ie):(Fe(we,"If manager is not set, promise should be"),we)}const O=this.initAndGetManager(m);return this.eventManagers[g]={promise:O},O.catch(()=>{delete this.eventManagers[g]}),O}initAndGetManager(m){var g=this;return(0,d.Z)(function*(){const O=yield function Lu(D){return S.apply(this,arguments)}(m),ie=new La(m);return O.register("authEvent",we=>(Z(we?.authEvent,m,"invalid-auth-event"),{status:ie.onEvent(we.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:ie},g.iframes[m._key()]=O,ie})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(eo,{type:eo},ie=>{var we;const Mt=null===(we=ie?.[0])||void 0===we?void 0:we[eo];void 0!==Mt&&g(!!Mt),ue(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ga(D){return Hl.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return An()||U()||xt()}};class Aa{constructor(m){this.factorId=m}_process(m,g,O){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,O);case"signin":return this._finalizeSignIn(m,g.credential);default:return We("unexpected MultiFactorSessionType")}}}class Ca extends Aa{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ca(m)}_finalizeEnroll(m,g,O){return function qr(D,m){return pn(D,"POST","/v2/accounts/mfaEnrollment:finalize",dn(D,m))}(m,{idToken:g,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function Vn(D,m){return pn(D,"POST","/v2/accounts/mfaSignIn:finalize",dn(D,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fd=(()=>{class D{constructor(){}static assertion(g){return Ca._fromCredential(g)}}return D.FACTOR_ID="phone",D})();var Il="@firebase/auth";class rm{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(O=>{m(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);g&&(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jh=(0,L.Pz)("authIdTokenMaxAge")||300;let Hh=null;const sm=D=>function(){var m=(0,d.Z)(function*(g){const O=g&&(yield g.getIdTokenResult()),ie=O&&((new Date).getTime()-Date.parse(O.issuedAtTime))/1e3;if(ie&&ie>jh)return;const we=O?.token;Hh!==we&&(Hh=we,yield fetch(D,{method:we?"POST":"DELETE",headers:we?{Authorization:`Bearer ${we}`}:{}}))});return function(g){return m.apply(this,arguments)}}();function Bd(D=(0,f.getApp)()){const m=(0,f._getProvider)(D,"auth");if(m.isInitialized())return m.getImmediate();const g=function go(D,m){const g=(0,f._getProvider)(D,"auth");if(g.isInitialized()){const ie=g.getImmediate(),we=g.getOptions();if((0,L.vZ)(we,m??{}))return ie;ue(ie,"already-initialized")}return g.initialize({options:m})}(D,{popupRedirectResolver:sa,persistence:[kn,hs,Pa]}),O=(0,L.Pz)("authTokenSyncURL");if(O){const we=sm(O);(function Qt(D,m,g){(0,L.m9)(D).beforeAuthStateChanged(m,g)})(g,we,()=>we(g.currentUser)),function Ye(D,m,g,O){(0,L.m9)(D).onIdTokenChanged(m,g,O)}(g,Mt=>we(Mt))}const ie=(0,L.q4)("auth");return ie&&hr(g,`http://${ie}`),g}!function Vh(D){(0,f._registerComponent)(new ae.wA("auth",(m,{options:g})=>{const O=m.getProvider("app").getImmediate(),ie=m.getProvider("heartbeat"),we=m.getProvider("app-check-internal"),{apiKey:Mt,authDomain:tn}=O.options;Z(Mt&&!Mt.includes(":"),"invalid-api-key",{appName:O.name});const Ln={apiKey:Mt,authDomain:tn,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Si(D)},oi=new uo(O,ie,we,Ln);return function no(D,m){const g=m?.persistence||[],O=(Array.isArray(g)?g:[g]).map(Oe);m?.errorMap&&D._updateErrorMap(m.errorMap),D._initializeWithPersistence(O,m?.popupRedirectResolver)}(oi,g),oi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,O)=>{m.getProvider("auth-internal").initialize()})),(0,f._registerComponent)(new ae.wA("auth-internal",m=>{const g=yi(m.getProvider("auth").getImmediate());return new rm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,f.registerVersion)(Il,"0.23.2",function Ld(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,f.registerVersion)(Il,"0.23.2","esm2017")}("Browser")},2090:(gn,nt,E)=>{E.d(nt,{$s:()=>Oe,BH:()=>be,G6:()=>Rt,L:()=>Ee,LL:()=>rn,Pz:()=>Ie,Sg:()=>Me,UG:()=>We,US:()=>ae,ZB:()=>me,ZR:()=>pn,aH:()=>ue,b$:()=>yt,eu:()=>qt,hl:()=>Ft,jU:()=>Fe,m9:()=>Ht,ne:()=>Ae,pd:()=>Ke,q4:()=>Re,r3:()=>_n,ru:()=>ze,tV:()=>se,uI:()=>Z,vZ:()=>Vt,w1:()=>On,xO:()=>ft,xb:()=>gi,z$:()=>$e,zI:()=>Yt,zd:()=>st});const ne=function(Te){const oe=[];let H=0;for(let U=0;U<Te.length;U++){let z=Te.charCodeAt(U);z<128?oe[H++]=z:z<2048?(oe[H++]=z>>6|192,oe[H++]=63&z|128):55296==(64512&z)&&U+1<Te.length&&56320==(64512&Te.charCodeAt(U+1))?(z=65536+((1023&z)<<10)+(1023&Te.charCodeAt(++U)),oe[H++]=z>>18|240,oe[H++]=z>>12&63|128,oe[H++]=z>>6&63|128,oe[H++]=63&z|128):(oe[H++]=z>>12|224,oe[H++]=z>>6&63|128,oe[H++]=63&z|128)}return oe},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Te,oe){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let z=0;z<Te.length;z+=3){const le=Te[z],re=z+1<Te.length,ye=re?Te[z+1]:0,Ct=z+2<Te.length,xt=Ct?Te[z+2]:0;let ti=(15&ye)<<2|xt>>6,An=63&xt;Ct||(An=64,re||(ti=64)),U.push(H[le>>2],H[(3&le)<<4|ye>>4],H[ti],H[An])}return U.join("")},encodeString(Te,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(Te):this.encodeByteArray(ne(Te),oe)},decodeString(Te,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(Te):function(Te){const oe=[];let H=0,U=0;for(;H<Te.length;){const z=Te[H++];if(z<128)oe[U++]=String.fromCharCode(z);else if(z>191&&z<224){const le=Te[H++];oe[U++]=String.fromCharCode((31&z)<<6|63&le)}else if(z>239&&z<365){const Ct=((7&z)<<18|(63&Te[H++])<<12|(63&Te[H++])<<6|63&Te[H++])-65536;oe[U++]=String.fromCharCode(55296+(Ct>>10)),oe[U++]=String.fromCharCode(56320+(1023&Ct))}else{const le=Te[H++],re=Te[H++];oe[U++]=String.fromCharCode((15&z)<<12|(63&le)<<6|63&re)}}return oe.join("")}(this.decodeStringToByteArray(Te,oe))},decodeStringToByteArray(Te,oe){this.init_();const H=oe?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let z=0;z<Te.length;){const le=H[Te.charAt(z++)],ye=z<Te.length?H[Te.charAt(z)]:0;++z;const xt=z<Te.length?H[Te.charAt(z)]:64;++z;const en=z<Te.length?H[Te.charAt(z)]:64;if(++z,null==le||null==ye||null==xt||null==en)throw new Y;U.push(le<<2|ye>>4),64!==xt&&(U.push(ye<<4&240|xt>>2),64!==en&&U.push(xt<<6&192|en))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}};class Y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(Te){return function(Te){const oe=ne(Te);return ae.encodeByteArray(oe,!0)}(Te).replace(/\./g,"")},se=function(Te){try{return ae.decodeString(Te,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function me(Te,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return oe}for(const H in oe)!oe.hasOwnProperty(H)||!Xe(H)||(Te[H]=me(Te[H],oe[H]));return Te}function Xe(Te){return"__proto__"!==Te}const He=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Te=process.env.__FIREBASE_DEFAULTS__;return Te?JSON.parse(Te):void 0})()||(()=>{if(typeof document>"u")return;let Te;try{Te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=Te&&se(Te[1]);return oe&&JSON.parse(oe)})()}catch(Te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Te}`)}},Re=Te=>{var oe,H;return null===(H=null===(oe=He())||void 0===oe?void 0:oe.emulatorHosts)||void 0===H?void 0:H[Te]},ue=()=>{var Te;return null===(Te=He())||void 0===Te?void 0:Te.config},Ie=Te=>{var oe;return null===(oe=He())||void 0===oe?void 0:oe[`_${Te}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,H)=>{this.resolve=oe,this.reject=H})}wrapCallback(oe){return(H,U)=>{H?this.reject(H):this.resolve(U),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(H):oe(H,U))}}}function Me(Te,oe){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=oe||"demo-project",z=Te.iat||0,le=Te.sub||Te.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:z,exp:z+3600,auth_time:z,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(re)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function We(){var Te;const oe=null===(Te=He())||void 0===Te?void 0:Te.forceEnvironment;if("node"===oe)return!0;if("browser"===oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function ze(){const Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function On(){const Te=$e();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function Rt(){return!We()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ft(){try{return"object"==typeof indexedDB}catch{return!1}}function qt(){return new Promise((Te,oe)=>{try{let H=!0;const U="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(U);z.onsuccess=()=>{z.result.close(),H||self.indexedDB.deleteDatabase(U),Te(!0)},z.onupgradeneeded=()=>{H=!1},z.onerror=()=>{var le;oe((null===(le=z.error)||void 0===le?void 0:le.message)||"")}}catch(H){oe(H)}})}function Yt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pn extends Error{constructor(oe,H,U){super(H),this.code=oe,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(oe,H,U){this.service=oe,this.serviceName=H,this.errors=U}create(oe,...H){const U=H[0]||{},z=`${this.service}/${oe}`,le=this.errors[oe],re=le?function At(Te,oe){return Te.replace(Ge,(H,U)=>{const z=oe[U];return null!=z?String(z):`<${U}?>`})}(le,U):"Error";return new pn(z,`${this.serviceName}: ${re} (${z}).`,U)}}const Ge=/\{\$([^}]+)}/g;function _n(Te,oe){return Object.prototype.hasOwnProperty.call(Te,oe)}function gi(Te){for(const oe in Te)if(Object.prototype.hasOwnProperty.call(Te,oe))return!1;return!0}function Vt(Te,oe){if(Te===oe)return!0;const H=Object.keys(Te),U=Object.keys(oe);for(const z of H){if(!U.includes(z))return!1;const le=Te[z],re=oe[z];if(ce(le)&&ce(re)){if(!Vt(le,re))return!1}else if(le!==re)return!1}for(const z of U)if(!H.includes(z))return!1;return!0}function ce(Te){return null!==Te&&"object"==typeof Te}function ft(Te){const oe=[];for(const[H,U]of Object.entries(Te))Array.isArray(U)?U.forEach(z=>{oe.push(encodeURIComponent(H)+"="+encodeURIComponent(z))}):oe.push(encodeURIComponent(H)+"="+encodeURIComponent(U));return oe.length?"&"+oe.join("&"):""}function st(Te){const oe={};return Te.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[z,le]=U.split("=");oe[decodeURIComponent(z)]=decodeURIComponent(le)}}),oe}function Ke(Te){const oe=Te.indexOf("?");if(!oe)return"";const H=Te.indexOf("#",oe);return Te.substring(oe,H>0?H:void 0)}function Ae(Te,oe){const H=new jt(Te,oe);return H.subscribe.bind(H)}class jt{constructor(oe,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{oe(this)}).catch(U=>{this.error(U)})}next(oe){this.forEachObserver(H=>{H.next(oe)})}error(oe){this.forEachObserver(H=>{H.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,H,U){let z;if(void 0===oe&&void 0===H&&void 0===U)throw new Error("Missing Observer.");z=function Wt(Te,oe){if("object"!=typeof Te||null===Te)return!1;for(const H of oe)if(H in Te&&"function"==typeof Te[H])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:H,complete:U},void 0===z.next&&(z.next=Gt),void 0===z.error&&(z.error=Gt),void 0===z.complete&&(z.complete=Gt);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),le}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,oe)}sendOne(oe,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{H(this.observers[oe])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gt(){}const Kt=1e3,Je=2,ot=144e5,Be=.5;function Oe(Te,oe=Kt,H=Je){const U=oe*Math.pow(H,Te),z=Math.round(Be*U*(Math.random()-.5)*2);return Math.min(ot,U+z)}function Ht(Te){return Te&&Te._delegate?Te._delegate:Te}},8854:(gn,nt,E)=>{E.d(nt,{q:()=>Js});var d=E(1728),L=E(8410),f=E(6012),ne=E(6286),xe=E(430),ae=E(8467),Y=E(2223),se=(E(1692),E(2966),E(1217)),Ne=(E(727),E(6451),E(7579),E(829)),dt=E(4755);let Le=(()=>{class Ze{}return Ze.\u0275fac=function(K){return new(K||Ze)},Ze.\u0275mod=Y.oAB({type:Ze}),Ze.\u0275inj=Y.cJS({imports:[se.BQ,se.BQ]}),Ze})();E(706),E(2840),E(9401),E(2722);let ot=(()=>{class Ze{}return Ze.\u0275fac=function(K){return new(K||Ze)},Ze.\u0275mod=Y.oAB({type:Ze}),Ze.\u0275inj=Y.cJS({imports:[Ne.Q8,dt.ez,se.BQ,se.si,se.us,Le]}),Ze})();var Be=E(9383),Oe=E(2236);E(1591);let Pn=(()=>{class Ze{}return Ze.\u0275fac=function(K){return new(K||Ze)},Ze.\u0275mod=Y.oAB({type:Ze}),Ze.\u0275inj=Y.cJS({imports:[dt.ez,se.BQ,Oe.ZD,Oe.ZD,se.BQ]}),Ze})();var jn=E(2659),hi=E(9002);let is=(()=>{class Ze{}return Ze.\u0275fac=function(K){return new(K||Ze)},Ze.\u0275mod=Y.oAB({type:Ze}),Ze.\u0275inj=Y.cJS({imports:[se.BQ,dt.ez,Ne.Q8,se.BQ]}),Ze})();const qi={provide:new Y.OlP("mat-select-scroll-strategy"),deps:[hi.aV],useFactory:function br(Ze){return()=>Ze.scrollStrategies.reposition()}};let zo=(()=>{class Ze{}return Ze.\u0275fac=function(K){return new(K||Ze)},Ze.\u0275mod=Y.oAB({type:Ze}),Ze.\u0275inj=Y.cJS({providers:[qi],imports:[dt.ez,hi.U8,se.Ng,se.BQ,Oe.ZD,is,se.Ng,se.BQ]}),Ze})(),Js=(()=>{class Ze{}return Ze.\u0275fac=function(K){return new(K||Ze)},Ze.\u0275mod=Y.oAB({type:Ze}),Ze.\u0275inj=Y.cJS({imports:[d.ot,L._r,f.QW,ne.Is,xe.Ps,ae.Cq,ot,Be.g0,Pn,jn.Tx,zo]}),Ze})()},8577:(gn,nt,E)=>{E.d(nt,{n:()=>xe});var d=E(2223),L=E(1762),f=E(3919),ne=E(5213);let xe=(()=>{class ae{constructor(_e,Ee,se){this.firestore=_e,this.userDataService=Ee,this.mainUserPageService=se,this.posts=[],this.pageSize=5,this.currentSize=0,this.collection=this.firestore.collection("Posts")}uploadPost(_e){const Ee=this.firestore.createId(),se=this.userDataService.getCurrentUserId();return this.collection.doc(Ee).set({comment:_e,creatorId:se,timestamp:new Date,postId:Ee}).then(()=>{this.mainUserPageService.addUserPost(se,Ee)})}uploadImagePost(_e,Ee,se){const de=this.userDataService.getCurrentUserId();return this.collection.doc(_e).set({comment:Ee,creatorId:this.userDataService.getCurrentUserId(),imageUrl:se,timestamp:new Date,postId:_e}).then(()=>{this.mainUserPageService.addUserPost(de,_e)})}deleteUserPosts(){this.collection.get().subscribe(_e=>{_e.forEach(Ee=>{const se=Ee.data(),de=Ee.id;se&&se.creatorId===this.userDataService.userInfo.userId&&(this.deleteCollection(de,"Likes"),this.deleteCollection(de,"PostComments"),this.collection.doc(de).delete().then(()=>{}).catch(me=>{console.error(`Error deleting document with ID ${de}`,me)}))})})}deleteCollection(_e,Ee){const se=this.firestore.firestore.batch();this.collection.doc(_e).collection(Ee).ref.get().then(de=>(de.forEach(me=>{se.delete(me.ref)}),se.commit()))}getCountOfDocuments(){this.collection.ref.get().then(_e=>{this.postsSize=_e.size})}getFirstPosts(){0===this.currentSize&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.pageSize).get().then(_e=>{_e.forEach(Ee=>{this.currentSize++,this.posts.push(Ee.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}getScrollPosts(){window.onscroll=()=>{window.pageYOffset+window.innerHeight>=document.documentElement.scrollHeight&&this.postsSize>this.currentSize&&this.postsSize>this.posts.length&&this.currentSize>0&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").startAfter(this.lastVisibleDoc).limit(this.pageSize).get().then(_e=>{_e.forEach(Ee=>{this.currentSize++,this.posts.push(Ee.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}}newGetPosts(_e){"add"===_e&&this.currentSize++,"delete"===_e&&this.currentSize--,this.posts=[],this.currentSize>0?(this.getCountOfDocuments(),this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.currentSize).get().then(Ee=>{this.currentSize=0,Ee.forEach(se=>{this.currentSize++,this.posts.push(se.data())}),this.lastVisibleDoc=Ee.docs[Ee.docs.length-1]})):this.getFirstPosts()}}return ae.\u0275fac=function(_e){return new(_e||ae)(d.LFG(L.ST),d.LFG(f.M),d.LFG(ne.v))},ae.\u0275prov=d.Yz7({token:ae,factory:ae.\u0275fac}),ae})()},1188:(gn,nt,E)=>{E.d(nt,{V:()=>f});var d=E(2223),L=E(8445);let f=(()=>{class ne{constructor(ae){this.storage=ae}getDataFromStorage(ae){return this.storage.ref(ae).getDownloadURL()}}return ne.\u0275fac=function(ae){return new(ae||ne)(d.LFG(L.Q1))},ne.\u0275prov=d.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},3919:(gn,nt,E)=>{E.d(nt,{M:()=>de});var d=E(1389),ae=(E(2090),E(6881),E(1877),E(4859),E(4004)),Y=E(2223),_e=E(1205),Ee=E(3676),se=E(1762);let de=(()=>{class me{constructor(Ne,dt,it){this.afAuth=Ne,this.router=dt,this.firestore=it,this.userHasProfile=!0,this.isLoggedIn=!1,this.collection=this.firestore.collection("Users")}getUpdatedUserProfile(){this.afAuth.currentUser.then(Ne=>{const dt=Ne?.uid;return this.firestore.collection("Users").doc(dt).get().pipe((0,ae.U)(it=>{const Le=it.data();this.userHasProfile=it.exists,it.exists&&(this.userInfo={userId:Le.userId,publicName:Le.publicName,description:Le.description,timestamp:Le.timestamp,imageUrl:Le.imageUrl})})).toPromise()}).catch(Ne=>{console.error("Error getting document:",Ne)})}checkLoginStatus(){this.afAuth.authState.subscribe(Ne=>{this.isLoggedIn=!!Ne,Ne&&(Ne.emailVerified?(this.getUpdatedUserProfile(),this.router.navigate(["userPage"])):(Ne.sendEmailVerification(),this.router.navigate(["emailVerification"])))})}getCurrentUserId(){const dt=(0,d.o)().currentUser;return dt?dt.uid:""}createUser(Ne,dt){this.collection.doc(this.getCurrentUserId()).set({publicName:Ne,description:dt,userId:this.getCurrentUserId(),timestamp:new Date}).then(()=>{this.getUpdatedUserProfile(),this.router.navigate(["userPage"])}).catch(it=>{console.error("Error writing document: ",it)})}resetUserName(){this.userInfo.publicName=""}deleteUser(){this.collection.doc(this.userInfo.userId).delete().then(()=>{this.getUpdatedUserProfile()}).catch(Ne=>{console.error("Error writing document: ",Ne)})}updateDocumentField(Ne,dt,it,Le){return this.firestore.collection(Ne).doc(dt).update({[it]:Le})}}return me.\u0275fac=function(Ne){return new(Ne||me)(Y.LFG(_e.zQ),Y.LFG(Ee.F0),Y.LFG(se.ST))},me.\u0275prov=Y.Yz7({token:me,factory:me.\u0275fac}),me})()},5213:(gn,nt,E)=>{E.d(nt,{v:()=>Ne});var d=E(8505),L=E(8746),f=E(3900),ne=E(9300),xe=E(9841),ae=E(5698),Y=E(1627),_e=E(2223),Ee=E(3919),se=E(1762),de=E(8445),me=E(6286),Xe=E(3676);let Ne=(()=>{class dt{constructor(Le,He,Re,wt,ue){this.userDataService=Le,this.firestore=He,this.storage=Re,this.dialogOpen=wt,this.router=ue,this.userPosts=0,this.userFriends=0,this.collectionUsers=this.firestore.collection("Users")}addUserPost(Le,He){this.collectionUsers.doc(Le).collection("UserPosts").doc(He).set({postId:He,creatorId:Le,timestamp:new Date}).then()}deleteUserPost(Le,He){this.collectionUsers.doc(Le).collection("UserPosts").doc(He).delete().then()}uploadUserImage(Le,He){const Re=`Users/${Le}/image`,wt=this.storage.ref(Re),ue=this.storage.upload(Re,He),Ie=this.dialogOpen.open(Y.R,{disableClose:!0,data:{info:"Upload progress",message:""}});ue.percentageChanges().pipe((0,d.b)(be=>{Ie.componentInstance.message={info:"Upload progress",message:`Upload progress: ${be?.toFixed(2)}%`}}),(0,L.x)(()=>Ie.close()),(0,f.w)(()=>ue.snapshotChanges()),(0,ne.h)(be=>"success"===be.state),(0,f.w)(()=>wt.getDownloadURL()),(0,f.w)(be=>this.collectionUsers.doc(Le).update({imageUrl:be}))).subscribe(()=>{this.userDataService.getUpdatedUserProfile()})}getCountOfValuePosts(Le){this.collectionUsers.doc(Le).collection("UserPosts").valueChanges().subscribe(He=>{this.userPosts=He.length})}getCountOfValueFriends(Le){this.collectionUsers.doc(Le).collection("UserFriends",He=>He.where("isFriend","==",!0)).valueChanges().subscribe(He=>{this.userFriends=He.length})}addToFriends(Le){const He=this.userDataService.getCurrentUserId();this.collectionUsers.doc(He).collection("UserFriends").doc(Le).set({friendId:Le,creatorId:He,timestamp:new Date,isFriend:!1}).then(()=>{this.checkIsFriend(Le)})}deleteFriend(Le){const He=this.userDataService.getCurrentUserId();this.deleteUserFriend(He,Le),this.deleteUserFriend(Le,He)}deleteUserFriend(Le,He){this.collectionUsers.doc(Le).collection("UserFriends").doc(He).delete().then(()=>this.checkIsFriend(He))}getFriendExistence(Le,He){return this.collectionUsers.doc(Le).collection("UserFriends").doc(He).get()}checkIsFriend(Le){const He=this.userDataService.getCurrentUserId(),Re=this.getFriendExistence(He,Le),wt=this.getFriendExistence(Le,He);(0,xe.a)([Re,wt]).pipe((0,ae.q)(1)).subscribe(([ue,Ie])=>{ue.exists&&Ie.exists&&(this.updateFriendsStatus(Le,He),this.updateFriendsStatus(He,Le))})}updateFriendsStatus(Le,He){this.collectionUsers.doc(Le).collection("UserFriends").doc(He).update({isFriend:!0}).then()}goToFriendPage(Le){const Re=Le===this.userDataService.getCurrentUserId();this.router.navigate([Re?"userPage":"friendPage"],{queryParams:Re?void 0:{friendId:Le}})}deleteSomeCollection(Le){const He=this.userDataService.getCurrentUserId();this.collectionUsers.doc(He).collection(Le).get().toPromise().then(Re=>{Re&&Re.forEach(wt=>{wt.ref.delete()})})}deleteUserPostsCollection(){this.deleteSomeCollection("UserPosts")}deleteUserFriendsCollection(){this.deleteSomeCollection("UserFriends")}}return dt.\u0275fac=function(Le){return new(Le||dt)(_e.LFG(Ee.M),_e.LFG(se.ST),_e.LFG(de.Q1),_e.LFG(me.uw),_e.LFG(Xe.F0))},dt.\u0275prov=_e.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})()},8099:(gn,nt,E)=>{E.d(nt,{f:()=>Le});var d=E(9401),L=E(9802),f=E(6286),ne=E(2223),xe=E(3919),ae=E(8577),Y=E(5213),_e=E(1205),Ee=E(3676),se=E(4755),de=E(1728),me=E(6012);function Xe(He,Re){1&He&&(ne.TgZ(0,"div")(1,"small",9),ne._uU(2,"Field cannot be empty"),ne.qZA()())}function Ne(He,Re){if(1&He&&(ne.ynx(0),ne._UZ(1,"input",8),ne.YNc(2,Xe,3,0,"div",3),ne.BQk()),2&He){const wt=ne.oxw();let ue;ne.xp6(2),ne.Q6J("ngIf",(null==(ue=wt.sidebarForm.get("textData"))?null:ue.invalid)&&(null==(ue=wt.sidebarForm.get("textData"))?null:ue.touched))}}function dt(He,Re){if(1&He){const wt=ne.EpF();ne.TgZ(0,"button",10),ne.NdJ("click",function(){ne.CHM(wt);const Ie=ne.oxw();return ne.KtG(Ie.deleteUser())}),ne._uU(1," Yes "),ne.qZA()}}function it(He,Re){if(1&He){const wt=ne.EpF();ne.TgZ(0,"button",10),ne.NdJ("click",function(){ne.CHM(wt);const Ie=ne.oxw();return ne.KtG(Ie.saveData())}),ne._uU(1," Save "),ne.qZA()}}let Le=(()=>{class He{constructor(wt,ue,Ie,be,Me,$e,Z,We){this.message=wt,this.dialogRef=ue,this.userDataService=Ie,this.postsDataService=be,this.userPageService=Me,this.afAuth=$e,this.router=Z,this.dialog=We,this.sidebarForm=new d.cw({textData:new d.NI("",[d.kI.required])})}saveData(){const wt=this.sidebarForm.get("textData");wt&&!wt.errors&&this.userDataService.updateDocumentField("Users",this.userDataService.userInfo.userId,this.message.field,wt.value).then(()=>{this.dialogRef.close(),this.postsDataService.newGetPosts(),this.userDataService.getUpdatedUserProfile()})}deleteUser(){const wt=this.afAuth.currentUser;wt&&wt.then(ue=>ue).then(ue=>ue?.delete()).then(()=>{this.dialogRef.close(),this.userDataService.deleteUser(),this.postsDataService.deleteUserPosts(),this.userPageService.deleteUserPostsCollection(),this.userPageService.deleteUserFriendsCollection(),this.router.navigate([""])}).catch(ue=>{this.dialog.open(L.S,{data:{info:"Error deleting account",message:ue.message}})})}closeClick(){this.dialogRef.close()}}return He.\u0275fac=function(wt){return new(wt||He)(ne.Y36(f.WI),ne.Y36(f.so),ne.Y36(xe.M),ne.Y36(ae.n),ne.Y36(Y.v),ne.Y36(_e.zQ),ne.Y36(Ee.F0),ne.Y36(f.uw))},He.\u0275cmp=ne.Xpm({type:He,selectors:[["app-change-data-modal"]],decls:15,vars:6,consts:[[1,"message"],[3,"formGroup"],[1,"message-text"],[4,"ngIf"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["formControlName","textData",1,"message-input"],[1,"error"],["mat-flat-button","","color","warn",3,"click"]],template:function(wt,ue){1&wt&&(ne.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),ne._uU(3),ne.qZA()(),ne.TgZ(4,"mat-card-content",0)(5,"form",1)(6,"div",2),ne._uU(7),ne.qZA(),ne.YNc(8,Ne,3,1,"ng-container",3),ne.TgZ(9,"div",4)(10,"button",5),ne.NdJ("click",function(){return ue.closeClick()}),ne._uU(11," Close "),ne.qZA(),ne._UZ(12,"span",6),ne.YNc(13,dt,2,0,"button",7),ne.YNc(14,it,2,0,"button",7),ne.qZA()()()()),2&wt&&(ne.xp6(3),ne.hij(" ",ue.message.info," "),ne.xp6(2),ne.Q6J("formGroup",ue.sidebarForm),ne.xp6(2),ne.Oqu(ue.message.message),ne.xp6(1),ne.Q6J("ngIf",!ue.message.yesButton),ne.xp6(5),ne.Q6J("ngIf",ue.message.yesButton),ne.xp6(1),ne.Q6J("ngIf",!ue.message.yesButton))},dependencies:[se.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,de.lW,me.a8,me.dn,me.dk,me.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.error[_ngcontent-%COMP%]{color:#f44336}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),He})()},9802:(gn,nt,E)=>{E.d(nt,{S:()=>Y});var d=E(6286),L=E(2223),f=E(4755),ne=E(1728),xe=E(6012);function ae(_e,Ee){if(1&_e){const se=L.EpF();L.TgZ(0,"button",6),L.NdJ("click",function(){L.CHM(se);const me=L.oxw();return L.KtG(me.buttonClick())}),L._uU(1),L.qZA()}if(2&_e){const se=L.oxw();L.xp6(1),L.hij(" ",se.message.nameButton," ")}}let Y=(()=>{class _e{constructor(se,de){this.message=se,this.dialog=de}buttonClick(){this.dialog.close(!0)}closeClick(){this.dialog.close()}}return _e.\u0275fac=function(se){return new(se||_e)(L.Y36(d.WI),L.Y36(d.so))},_e.\u0275cmp=L.Xpm({type:_e,selectors:[["app-info-modal"]],decls:12,vars:3,consts:[[1,"message"],[1,"message-text"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"]],template:function(se,de){1&se&&(L.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),L._uU(3),L.qZA()(),L.TgZ(4,"mat-card-content",0)(5,"div",1),L._uU(6),L.qZA(),L.TgZ(7,"div",2)(8,"button",3),L.NdJ("click",function(){return de.closeClick()}),L._uU(9," Close "),L.qZA(),L._UZ(10,"span",4),L.YNc(11,ae,2,1,"button",5),L.qZA()()()),2&se&&(L.xp6(3),L.hij(" ",de.message.info," "),L.xp6(3),L.Oqu(de.message.message),L.xp6(5),L.Q6J("ngIf",de.message.addButton))},dependencies:[f.O5,ne.lW,xe.a8,xe.dn,xe.dk,xe.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),_e})()},1627:(gn,nt,E)=>{E.d(nt,{R:()=>ae});var d=E(6286),L=E(2223),f=E(1728),ne=E(6012),xe=E(8467);let ae=(()=>{class Y{constructor(Ee,se){this.message=Ee,this.dialogRef=se}closeModal(){this.dialogRef.close()}}return Y.\u0275fac=function(Ee){return new(Ee||Y)(L.Y36(d.WI),L.Y36(d.so))},Y.\u0275cmp=L.Xpm({type:Y,selectors:[["app-loader"]],decls:11,vars:2,consts:[[1,"message"],[1,"message-loader"],[1,"message-text"],["mode","indeterminate","color","primary","diameter","32","strokeWidth","4"],["mat-flat-button","","color","warn",3,"click"]],template:function(Ee,se){1&Ee&&(L.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),L._uU(3),L.qZA()(),L.TgZ(4,"mat-card-content",0)(5,"div",1)(6,"div",2),L._uU(7),L.qZA(),L._UZ(8,"mat-progress-spinner",3),L.qZA(),L.TgZ(9,"button",4),L.NdJ("click",function(){return se.closeModal()}),L._uU(10,"Close"),L.qZA()()()),2&Ee&&(L.xp6(3),L.hij(" ",se.message.info," "),L.xp6(4),L.Oqu(se.message.message))},dependencies:[f.lW,ne.a8,ne.dn,ne.dk,ne.n5,xe.Ou],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.message-loader[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-text[_ngcontent-%COMP%]{padding:10px}"]}),Y})()},7655:(gn,nt,E)=>{var d=E(6550),L=E(3676),f=E(2223),ne=E(3919);let xe=(()=>{class V{constructor(_,T){this.router=_,this.userDataService=T}canActivate(_,T){return"/postFeed"!==T.url||!(!this.userDataService.userHasProfile||!this.userDataService.isLoggedIn)||(this.router.navigate([""]),!1)}}return V.\u0275fac=function(_){return new(_||V)(f.LFG(L.F0),f.LFG(ne.M))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();var ae=E(9401);function Y(V,b){return _=>{const T=_.get(V)?.value,G=_.get(b)?.value;return T!==G?{fieldsMatch:!0}:null}}var _e=E(9802),Ee=E(8410),se=E(1205),de=E(6286),me=E(4755),Xe=E(1728),Ne=E(6012);function dt(V,b){1&V&&(f.TgZ(0,"div")(1,"small",13),f._uU(2,"Please, enter a valid email."),f.qZA()())}function it(V,b){if(1&V&&(f.TgZ(0,"div")(1,"small",13),f._uU(2),f.qZA()()),2&V){const _=f.oxw(2);f.xp6(2),f.hij(" The field must have at least ",_.minLength," characters. ")}}function Le(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"div",8),f._UZ(1,"input",9),f.YNc(2,dt,3,0,"div",10),f._UZ(3,"input",11),f.YNc(4,it,3,1,"div",10),f.TgZ(5,"button",12),f.NdJ("click",function(){f.CHM(_);const G=f.oxw();return f.KtG(G.onLoginSubmitClick())}),f._uU(6," Login "),f.qZA()()}if(2&V){const _=f.oxw();let T,G;f.xp6(2),f.Q6J("ngIf",(null==(T=_.authenticatorForm.get("login.loginEmail"))?null:T.invalid)&&(null==(T=_.authenticatorForm.get("login.loginEmail"))?null:T.touched)),f.xp6(2),f.Q6J("ngIf",(null==(G=_.authenticatorForm.get("login.loginPassword"))?null:G.invalid)&&(null==(G=_.authenticatorForm.get("login.loginPassword"))?null:G.touched))}}function He(V,b){1&V&&(f.TgZ(0,"div")(1,"small",13),f._uU(2,"Please, enter a valid email."),f.qZA()())}function Re(V,b){if(1&V&&(f.TgZ(0,"div")(1,"small",13),f._uU(2),f.qZA()()),2&V){const _=f.oxw(2);f.xp6(2),f.hij(" The field must have at least ",_.minLength," characters. ")}}function wt(V,b){if(1&V&&(f.TgZ(0,"small",13),f._uU(1),f.qZA()),2&V){const _=f.oxw(3);f.xp6(1),f.hij(" The field must have at least ",_.minLength," characters. ")}}function ue(V,b){1&V&&(f.TgZ(0,"small",13),f._uU(1,"Password must match "),f.qZA())}function Ie(V,b){if(1&V&&(f.TgZ(0,"div"),f.YNc(1,wt,2,1,"small",19),f.YNc(2,ue,2,0,"small",19),f.qZA()),2&V){const _=f.oxw(2);let T,G;f.xp6(1),f.Q6J("ngIf",null==(T=_.authenticatorForm.get("register.registerConfirmPassword"))?null:T.invalid),f.xp6(1),f.Q6J("ngIf",null==(G=_.authenticatorForm.get("register"))||null==G.errors?null:G.errors.fieldsMatch)}}function be(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"div",14),f._UZ(1,"input",15),f.YNc(2,He,3,0,"div",10),f._UZ(3,"input",16),f.YNc(4,Re,3,1,"div",10),f._UZ(5,"input",17),f.YNc(6,Ie,3,2,"div",10),f.TgZ(7,"button",18),f.NdJ("click",function(){f.CHM(_);const G=f.oxw();return f.KtG(G.onRegisterSubmitClick())}),f._uU(8," Create "),f.qZA()()}if(2&V){const _=f.oxw();let T,G,he;f.xp6(2),f.Q6J("ngIf",(null==(T=_.authenticatorForm.get("register.registerEmail"))?null:T.invalid)&&(null==(T=_.authenticatorForm.get("register.registerEmail"))?null:T.touched)),f.xp6(2),f.Q6J("ngIf",(null==(G=_.authenticatorForm.get("register.registerPassword"))?null:G.invalid)&&(null==(G=_.authenticatorForm.get("register.registerPassword"))?null:G.touched)),f.xp6(2),f.Q6J("ngIf",null==(he=_.authenticatorForm.get("register.registerConfirmPassword"))?null:he.touched)}}function Me(V,b){1&V&&(f.TgZ(0,"div")(1,"small",13),f._uU(2,"Please, enter a valid email."),f.qZA()())}function $e(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"div",20),f._UZ(1,"input",21),f.YNc(2,Me,3,0,"div",10),f.TgZ(3,"button",18),f.NdJ("click",function(){f.CHM(_);const G=f.oxw();return f.KtG(G.onResetClick())}),f._uU(4," Reset "),f.qZA()()}if(2&V){const _=f.oxw();let T;f.xp6(2),f.Q6J("ngIf",(null==(T=_.authenticatorForm.get("forgot.resetEmail"))?null:T.invalid)&&(null==(T=_.authenticatorForm.get("forgot.resetEmail"))?null:T.touched))}}var Z=(()=>((Z=Z||{})[Z.LOGIN=0]="LOGIN",Z[Z.REGISTER=1]="REGISTER",Z[Z.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Z))(),We=(()=>((We=We||{})[We.LOGIN=0]="LOGIN",We[We.REGISTER=1]="REGISTER",We[We.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",We))();let Fe=(()=>{class V{constructor(_,T,G,he){this.bottomSheetRef=_,this.afAuth=T,this.router=G,this.dialog=he,this.state=Z.LOGIN,this.minLength=3,this.authenticatorForm=new ae.cw({login:new ae.cw({loginEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),loginPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])}),register:new ae.cw({registerEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),registerPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)]),registerConfirmPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])},{validators:Y("registerPassword","registerConfirmPassword")}),forgot:new ae.cw({resetEmail:new ae.NI("",[ae.kI.required,ae.kI.email])})})}submitForm(_){switch(_.preventDefault(),this.submitState){case We.LOGIN:this.setLogin();break;case We.REGISTER:this.setRegister();break;case We.FORGOT_PASSWORD:this.setReset()}}setRegister(){const _=this.authenticatorForm.get("register");if(_&&_.valid){const{registerEmail:T,registerPassword:G}=_.value;this.afAuth.createUserWithEmailAndPassword(T,G).then(()=>{this.router.navigate(["emailVerification"]),this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(he=>{this.dialog.open(_e.S,{data:{info:"Account with this email already exists",message:he.message}})})}}onRegisterSubmitClick(){this.authenticatorForm.get("register.registerEmail")?.markAsTouched(),this.authenticatorForm.get("register.registerPassword")?.markAsTouched(),this.authenticatorForm.get("register.registerConfirmPassword")?.markAsTouched(),this.submitState=We.REGISTER}setLogin(){const _=this.authenticatorForm.get("login.loginEmail"),T=this.authenticatorForm.get("login.loginPassword");_&&T&&!_.errors&&!T.errors&&this.afAuth.signInWithEmailAndPassword(_.value,T.value).then(()=>{this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(G=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail or password",message:G.message}})})}onLoginSubmitClick(){this.authenticatorForm.get("login.loginEmail")?.markAsTouched(),this.authenticatorForm.get("login.loginPassword")?.markAsTouched(),this.submitState=We.LOGIN}setReset(){const _=this.authenticatorForm.get("forgot.resetEmail");_&&!_.errors&&this.afAuth.sendPasswordResetEmail(_.value).then(()=>{this.bottomSheetRef.dismiss(),this.dialog.open(_e.S,{data:{info:"Check your E-mail",message:"A link to change your password has been sent to your email."}}),this.authenticatorForm.reset()}).catch(()=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail",message:"The email address is badly formatted."}})})}onResetClick(){this.authenticatorForm.get("forgot.resetEmail")?.markAsTouched(),this.submitState=We.FORGOT_PASSWORD}onForgotPasswordButton(){this.state=Z.FORGOT_PASSWORD}onCreateAccountButton(){this.state=Z.REGISTER}onLoginButton(){this.state=Z.LOGIN}isLoginState(){return this.state==Z.LOGIN}isRegisterState(){return this.state==Z.REGISTER}isForgotPasswordState(){return this.state==Z.FORGOT_PASSWORD}getStateText(){switch(this.state){case Z.LOGIN:return"Login";case Z.REGISTER:return"Register";case Z.FORGOT_PASSWORD:return"Forgot password"}}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(Ee.oL),f.Y36(se.zQ),f.Y36(L.F0),f.Y36(de.uw))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-authenticator"]],decls:17,vars:5,consts:[[1,"authenticator"],[1,"authenticator-content"],[3,"formGroup","submit"],["formGroupName","login",4,"ngIf"],["formGroupName","register",4,"ngIf"],["formGroupName","forgot",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["formGroupName","login"],["placeholder","Email","formControlName","loginEmail","autocomplete","email"],[4,"ngIf"],["placeholder","Password","type","password","formControlName","loginPassword","autocomplete","current-password"],["mat-flat-button","","color","warn","type","submit",3,"click"],[1,"error"],["formGroupName","register"],["placeholder","Email","formControlName","registerEmail","autocomplete","email"],["placeholder","Password","type","password","formControlName","registerPassword","autocomplete","new-password"],["placeholder","Confirm password","type","password","formControlName","registerConfirmPassword","autocomplete","new-password"],["mat-flat-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["formGroupName","forgot"],["placeholder","Email","formControlName","resetEmail","autocomplete","email"]],template:function(_,T){1&_&&(f.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),f._uU(4),f.qZA()(),f.TgZ(5,"mat-card-content")(6,"form",2),f.NdJ("submit",function(he){return T.submitForm(he)}),f.YNc(7,Le,7,2,"div",3),f.YNc(8,be,9,3,"div",4),f.YNc(9,$e,5,1,"div",5),f.qZA()(),f.TgZ(10,"mat-card-actions",6)(11,"button",7),f.NdJ("click",function(){return T.onForgotPasswordButton()}),f._uU(12," Forgot Password "),f.qZA(),f.TgZ(13,"button",7),f.NdJ("click",function(){return T.onCreateAccountButton()}),f._uU(14," Create an Account "),f.qZA(),f.TgZ(15,"button",7),f.NdJ("click",function(){return T.onLoginButton()}),f._uU(16,"Login"),f.qZA()()()()),2&_&&(f.xp6(4),f.Oqu(T.getStateText()),f.xp6(2),f.Q6J("formGroup",T.authenticatorForm),f.xp6(1),f.Q6J("ngIf",T.isLoginState()),f.xp6(1),f.Q6J("ngIf",T.isRegisterState()),f.xp6(1),f.Q6J("ngIf",T.isForgotPasswordState()))},dependencies:[me.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,ae.x0,Xe.lW,Ne.a8,Ne.hq,Ne.dn,Ne.dk,Ne.n5],styles:[".authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box}.authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid black;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}"]}),V})();var ze=E(1188);let yt=(()=>{class V{constructor(_,T,G){this.userDataService=_,this.loginSheet=T,this.storageService=G,this.backgroundStorage=""}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/home_background.jpg").subscribe(T=>this.backgroundStorage=`url(${T})`)}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getIsLoggedIn(){return this.userDataService.isLoggedIn}onGetStartedClick(){this.loginSheet.open(Fe)}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(ne.M),f.Y36(Ee.ch),f.Y36(ze.V))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-home"]],decls:10,vars:3,consts:[[1,"home-page"],[1,"home-page-landing"],[1,"landing-left"],[1,"landing-left-content"],["mat-flat-button","",3,"disabled","click"]],template:function(_,T){1&_&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),f._uU(5,"Social Media App Platform"),f.qZA(),f.TgZ(6,"p"),f._uU(7,"Oh, hello, my precious friend!"),f.qZA(),f.TgZ(8,"button",4),f.NdJ("click",function(){return T.onGetStartedClick()}),f._uU(9," Get Started "),f.qZA()()()()()),2&_&&(f.xp6(1),f.Udp("background-image",T.backgroundStorage),f.xp6(7),f.Q6J("disabled",T.getIsLoggedIn()))},dependencies:[Xe.lW],styles:[".home-page[_ngcontent-%COMP%]{width:100%;height:100%}.home-page-landing[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:100vh}.landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}.landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}.landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}.landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}.landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:2em;padding:.5em;background-color:#f44336}.landing-left-content[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#dcdcdc}"]}),V})(),vn=(()=>{class V{constructor(_,T){this.afAuth=_,this.router=T,this.authStateSubscription=this.afAuth.authState.subscribe(G=>{G?.emailVerified&&this.router.navigate([""])})}ngOnDestroy(){this.authStateSubscription&&this.authStateSubscription.unsubscribe()}onResendClick(){this.afAuth.currentUser.then(_=>{_?.sendEmailVerification()})}onRefreshClick(){window.location.reload()}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(se.zQ),f.Y36(L.F0))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-email-verification"]],decls:8,vars:0,consts:[[1,"email-verification"],[1,"buttons"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(_,T){1&_&&(f.TgZ(0,"mat-card",0)(1,"h1"),f._uU(2,"Your Email is not verified"),f.qZA(),f.TgZ(3,"mat-card-content",1)(4,"button",2),f.NdJ("click",function(){return T.onResendClick()}),f._uU(5," Resend Verification Email "),f.qZA(),f.TgZ(6,"button",3),f.NdJ("click",function(){return T.onRefreshClick()}),f._uU(7," Refresh "),f.qZA()()())},dependencies:[Xe.lW,Ne.a8,Ne.dn],styles:[".email-verification[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;text-align:center;justify-content:center}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px}"]}),V})();var On=E(8505),ut=E(8746),ht=E(9300),Rt=E(3900),Ft=E(262),qt=E(515),Yt=E(4128),dn=E(1627),pn=E(8445),rn=E(1762),At=E(8577),Ge=E(430);function Qe(V,b){1&V&&(f.TgZ(0,"div",9),f._UZ(1,"img",10),f.qZA())}const kt=function(V){return{error:V}};let bt=(()=>{class V{constructor(_,T,G,he,et,at,vt){this.storage=_,this.afAuth=T,this.firestore=G,this.userDataService=he,this.dialogCreatePost=et,this.dialogOpen=at,this.postsDataService=vt,this.collection=this.firestore.collection("Posts"),this.createPostForm=new ae.cw({message:new ae.NI("",[ae.kI.required])})}checkMessage(){return!(!this.createPostForm.get("message")?.invalid||!this.createPostForm.get("message")?.touched)}onPostClick(){const _=this.createPostForm.get("message");_?.markAsTouched(),!_?.errors&&(this.selectedImageFile?this.uploadImagePost(_?.value):this.uploadPost(_?.value))}uploadImagePost(_){const T=this.firestore.createId(),G=`Posts/${T}/image`,he=this.storage.ref(G),et=this.storage.upload(G,this.selectedImageFile),at=this.dialogOpen.open(dn.R,{disableClose:!0,data:{info:"Upload progress",message:""}}),vt=et.percentageChanges().pipe((0,On.b)(Mn=>{at.componentInstance.message={info:"Upload progress",message:`Upload progress: ${Mn?.toFixed(2)}%`}}),(0,ut.x)(()=>at.close())),sn=et.snapshotChanges().pipe((0,ht.h)(Mn=>"success"===Mn.state),(0,Rt.w)(()=>he.getDownloadURL()),(0,Ft.K)(Mn=>(console.error("Error getting image URL:",Mn),qt.E)));(0,Yt.D)([vt,sn]).pipe((0,Rt.w)(([Mn,kn])=>this.postsDataService.uploadImagePost(T,_,kn)),(0,Ft.K)(Mn=>(console.error("Error writing document: ",Mn),qt.E))).subscribe(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")}).unsubscribe()}uploadPost(_){this.postsDataService.uploadPost(_).then(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")}).catch(T=>{console.error("Error writing document: ",T)})}photoSelected(_){if(this.selectedImageFile=_.files[0],!this.selectedImageFile)return;const T=new FileReader;T.readAsDataURL(this.selectedImageFile),T.addEventListener("loadend",G=>{const he=T.result.toString();document.getElementById("post-preview-image").src=he})}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(pn.Q1),f.Y36(se.zQ),f.Y36(rn.ST),f.Y36(ne.M),f.Y36(de.so),f.Y36(de.uw),f.Y36(At.n))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-create-post"]],decls:16,vars:5,consts:[[3,"formGroup","submit"],["formControlName","message","placeholder","Type Message...",3,"ngClass"],["class","post-preview",4,"ngIf"],["align","end"],["type","button","mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["type","submit","mat-flat-button","","color","warn"],[1,"post-preview"],["id","post-preview-image"]],template:function(_,T){if(1&_){const G=f.EpF();f.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),f._uU(3,"Create post"),f.qZA()(),f.TgZ(4,"form",0),f.NdJ("submit",function(){return T.onPostClick()}),f._UZ(5,"textarea",1),f.YNc(6,Qe,2,0,"div",2),f.TgZ(7,"mat-card-actions",3)(8,"button",4)(9,"label",5)(10,"input",6,7),f.NdJ("change",function(){f.CHM(G);const et=f.MAs(11);return f.KtG(T.photoSelected(et))}),f.qZA(),f.TgZ(12,"mat-icon"),f._uU(13,"insert_photo"),f.qZA()()(),f.TgZ(14,"button",8),f._uU(15,"Post"),f.qZA()()()()}2&_&&(f.xp6(4),f.Q6J("formGroup",T.createPostForm),f.xp6(1),f.Q6J("ngClass",f.VKq(3,kt,T.checkMessage())),f.xp6(1),f.Q6J("ngIf",T.selectedImageFile))},dependencies:[me.mk,me.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Xe.lW,Ne.a8,Ne.hq,Ne.dk,Ne.n5,Ge.Hw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}.error[_ngcontent-%COMP%]::placeholder{color:red}.post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}.post-preview[_ngcontent-%COMP%]   #post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),V})();var Ut=E(5861),St=E(5213);let cn=(()=>{class V{constructor(_,T,G,he,et){this.userDataService=_,this.firestore=T,this.storage=G,this.postDataService=he,this.mainUserPageService=et,this.likes=0,this.isLiked=!1,this.yourLikeId=null,this.creatorName="",this.creatorDescription="",this.creatorImage="",this.collectionUsers=this.firestore.collection("Users"),this.collectionPosts=this.firestore.collection("Posts")}deletePost(_){const T=this.userDataService.getCurrentUserId();this.collectionPosts.doc(_).delete().then(),this.mainUserPageService.deleteUserPost(T,_),this.postDataService.deleteCollection(_,"Likes"),this.postDataService.deleteCollection(_,"PostComments"),this.postDataService.newGetPosts("delete")}getCreatorInfo(_){this.collectionUsers.doc(_.creatorId).get().toPromise().then(T=>{const G=T.data();this.creatorName=G?.publicName||"",this.creatorDescription=G?.description||"",this.creatorImage=G?.imageUrl||""}).catch(T=>{console.error("Error when fetching creator information:",T)})}likeButton(_){this.yourLikeId?this.deleteLike(_):this.checkCollectionExistence(_).then(T=>{T?this.addLike(_):this.createLike(_)}).catch(T=>{console.error("Error checking if collection exists:",T)})}addLike(_){var T=this;return(0,Ut.Z)(function*(){const G=T.userDataService.getCurrentUserId(),he=T.firestore.createId();try{(yield T.searchDocumentsByCreatorId(G,_)).length<1&&(yield T.collectionPosts.doc(_).collection("Likes").doc(he).set({likeId:he,creatorId:G,timestamp:new Date}),T.isLiked=!0)}catch(et){console.error("Error when searching for documents:",et)}})()}createLike(_){var T=this;return(0,Ut.Z)(function*(){const G=T.firestore.createId();try{yield T.collectionPosts.doc(_).collection("Likes").doc(G).set({likeId:G,creatorId:T.userDataService.getCurrentUserId(),timestamp:new Date}),T.isLiked=!0}catch(he){console.error("Error when creating like:",he)}})()}listenToDocumentValueChanges(_,T){return this.collectionPosts.doc(_).collection(T).valueChanges()}getLikes(_){const T=_,he=this.userDataService.getCurrentUserId();this.listenToDocumentValueChanges(T,"Likes").subscribe(et=>{this.likes=et.length,et.find(at=>{at.creatorId==he&&(this.yourLikeId=at.likeId,this.isLiked=!0)})})}deleteLike(_){this.yourLikeId&&this.collectionPosts.doc(_).collection("Likes").doc(this.yourLikeId).delete().then(()=>{this.isLiked=!1,this.yourLikeId=null})}searchDocumentsByCreatorId(_,T){return this.collectionPosts.doc(T).collection("Likes").ref.where("creatorId","==",_).get().then(he=>he.docs.map(et=>et.data())).catch(he=>{throw he})}checkCollectionExistence(_){return this.collectionPosts.doc(_).collection("Likes").get().toPromise().then(G=>!G.empty).catch(G=>{throw G})}downloadFile(_){this.storage.ref(_).getDownloadURL().toPromise().then(G=>{const he=document.createElement("a");he.href=G,he.setAttribute("download",""),he.setAttribute("target","_blank"),document.body.appendChild(he),he.click(),document.body.removeChild(he)}).catch(G=>{console.error("Error when downloading file:",G)})}}return V.\u0275fac=function(_){return new(_||V)(f.LFG(ne.M),f.LFG(rn.ST),f.LFG(pn.Q1),f.LFG(At.n),f.LFG(St.v))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})(),Xt=(()=>{class V{constructor(_,T){this.firestore=_,this.userDataService=T,this.comments=[],this.collection=this.firestore.collection("Posts")}getComments(_){this.listenToDocumentValueChanges("Posts",_,"PostComments").subscribe(et=>{this.comments.length===et.length&&this.comments.every((vt,sn)=>vt.comment===et[sn].comment)||(this.comments=et)})}listenToDocumentValueChanges(_,T,G){return this.firestore.collection(_).doc(T).collection(G,et=>et.orderBy("timestamp","desc")).valueChanges()}sendComment(_,T){const G=this.firestore.createId();this.collection.doc(T).collection("PostComments").doc(G).set({commentId:G,comment:_,creatorId:this.userDataService.userInfo.userId,creatorName:this.userDataService.userInfo.publicName,timestamp:new Date})}updateComment(_,T,G){this.collection.doc(T).collection("PostComments").doc(_.commentId).update({comment:G})}deleteComment(_,T){this.collection.doc(T).collection("PostComments").doc(_.commentId).delete()}isCommentCreator(_){return _.creatorId===this.userDataService.userInfo.userId}getUserInfoById(_){return this.firestore.collection("Users").doc(_).valueChanges()}}return V.\u0275fac=function(_){return new(_||V)(f.LFG(rn.ST),f.LFG(ne.M))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})();var _n=E(2659);function Yn(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"div",5),f.NdJ("click",function(){f.CHM(_);const G=f.oxw();return f.KtG(G.goToFriendPageClick())}),f._UZ(1,"img",6),f.TgZ(2,"div",7),f._uU(3),f.qZA()()}if(2&V){const _=f.oxw();f.xp6(1),f.s9C("src",_.userImageUrl,f.LSH),f.xp6(2),f.Oqu(_.userName)}}function gi(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"div",8),f.NdJ("click",function(){f.CHM(_);const G=f.oxw();return f.KtG(G.goToFriendPageClick())}),f.TgZ(1,"div",7),f._uU(2),f.qZA(),f._UZ(3,"img",6),f.qZA()}if(2&V){const _=f.oxw();f.xp6(2),f.Oqu(_.userName),f.xp6(1),f.s9C("src",_.userImageUrl,f.LSH)}}function Wn(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(_);const G=f.oxw(2);return f.KtG(G.chaneCommentClick())}),f._uU(1," Change "),f.qZA()}}function Vt(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(_);const G=f.oxw(2);return f.KtG(G.responseCommentClick())}),f._uU(1," Response "),f.qZA()}}function ce(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"button",12),f.NdJ("click",function(){f.CHM(_);const G=f.oxw(2);return f.KtG(G.deleteCommentClick())}),f._uU(1," Delete "),f.qZA()}}function Ve(V,b){if(1&V&&(f.YNc(0,Wn,2,0,"button",9),f.YNc(1,Vt,2,0,"button",9),f.YNc(2,ce,2,0,"button",10)),2&V){const _=f.oxw();f.Q6J("ngIf",_.isCommentCreator()),f.xp6(1),f.Q6J("ngIf",!_.isCommentCreator()),f.xp6(1),f.Q6J("ngIf",_.isCommentCreator())}}const ft=function(V){return{comment:!0,"creator-comment":V}};let st=(()=>{class V{constructor(_,T,G){this.replyService=_,this.userPageService=T,this.dialog=G,this.chaneComment=new f.vpe,this.responseComment=new f.vpe,this.userName="",this.userImageUrl=""}ngOnInit(){this.userInfoSubscription=this.replyService.getUserInfoById(this.commentData.creatorId).subscribe(_=>{this.userName=_?.publicName||"",this.userImageUrl=_?.imageUrl||""})}ngOnDestroy(){this.userInfoSubscription&&this.userInfoSubscription.unsubscribe()}goToFriendPageClick(){this.userPageService.goToFriendPage(this.commentData.creatorId),this.dialog.closeAll()}isCommentCreator(){return this.replyService.isCommentCreator(this.commentData)}chaneCommentClick(){this.chaneComment.emit(this.commentData)}deleteCommentClick(){this.replyService.deleteComment(this.commentData,this.postId)}responseCommentClick(){this.responseComment.emit(this.userName)}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(Xt),f.Y36(St.v),f.Y36(de.uw))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-comment"]],inputs:{commentData:"commentData",postId:"postId"},outputs:{chaneComment:"chaneComment",responseComment:"responseComment"},decls:8,vars:7,consts:[["class","comment-header",3,"click",4,"ngIf"],["class","comment-header comment-header-creator",3,"click",4,"ngIf"],[3,"ngClass","matMenuTriggerFor"],["menu","matMenu"],["matMenuContent",""],[1,"comment-header",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment-name"],[1,"comment-header","comment-header-creator",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","delete","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(_,T){if(1&_&&(f.TgZ(0,"div"),f.YNc(1,Yn,4,2,"div",0),f.YNc(2,gi,4,2,"div",1),f.TgZ(3,"div",2),f._uU(4),f.qZA(),f.TgZ(5,"mat-menu",null,3),f.YNc(7,Ve,3,3,"ng-template",4),f.qZA()()),2&_){const G=f.MAs(6);f.xp6(1),f.Q6J("ngIf",!T.isCommentCreator()),f.xp6(1),f.Q6J("ngIf",T.isCommentCreator()),f.xp6(1),f.Q6J("ngClass",f.VKq(5,ft,T.isCommentCreator()))("matMenuTriggerFor",G),f.xp6(1),f.hij(" ",T.commentData.comment," ")}},dependencies:[me.mk,me.O5,_n.VK,_n.OP,_n.KA,_n.p6],styles:[".comment[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;word-wrap:break-word;border-radius:1em;background-color:#dcdcdc;padding:1em}.comment-header[_ngcontent-%COMP%]{margin-bottom:5px;width:100%;display:flex;align-items:center;cursor:pointer}.comment-header-creator[_ngcontent-%COMP%]{justify-content:flex-end}.comment-header[_ngcontent-%COMP%]:hover{color:#f44336}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:5px 10px 0;width:30px;height:30px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}.mat-mdc-select-placeholder[_ngcontent-%COMP%]{color:#fff}.mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none!important}"]}),V})();const Ke=["commentInput"],qe=function(V){return{"comment-container":!0,"creator-comment-container":V}};function Ae(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"div",7)(1,"app-comment",8),f.NdJ("chaneComment",function(G){f.CHM(_);const he=f.oxw();return f.KtG(he.chaneComment(G))})("responseComment",function(G){f.CHM(_);const he=f.oxw();return f.KtG(he.responseComment(G))}),f.qZA()()}if(2&V){const _=b.$implicit,T=f.oxw();f.Q6J("ngClass",f.VKq(3,qe,T.isCommentCreator(_))),f.xp6(1),f.Q6J("postId",T.postId)("commentData",_)}}const jt=function(V){return{error:V}};let ln=(()=>{class V{constructor(_,T,G){this.postId=_,this.userDataService=T,this.replyService=G,this.isChangeComment=!1,this.replyForm=new ae.cw({comment:new ae.NI("",[ae.kI.required])})}ngOnInit(){this.replyService.getComments(this.postId)}getPostComments(){return this.replyService.comments}onSendClick(){const _=this.replyForm.get("comment");_?.markAsTouched(),_&&!_.errors&&(this.isChangeComment?(this.replyService.updateComment(this.selectedComment,this.postId,_.value),this.isChangeComment=!1,_.reset()):(this.replyService.sendComment(_.value,this.postId),_.reset()))}checkComment(){return!(!this.replyForm.get("comment")?.invalid||!this.replyForm.get("comment")?.touched)}isCommentCreator(_){return this.replyService.isCommentCreator(_)}chaneComment(_){this.isChangeComment=!0,this.replyForm.get("comment")?.setValue(_.comment),this.commentInput.nativeElement.focus(),this.selectedComment=_}responseComment(_){this.replyForm.get("comment")?.setValue(`@${_}_`),this.commentInput.nativeElement.focus()}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(de.WI),f.Y36(ne.M),f.Y36(Xt))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-reply"]],viewQuery:function(_,T){if(1&_&&f.Gf(Ke,5),2&_){let G;f.iGM(G=f.CRH())&&(T.commentInput=G.first)}},features:[f._Bn([Xt])],decls:11,vars:5,consts:[[1,"comments"],[1,"reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"reply-action-bar",3,"formGroup","submit"],["type","submit","mat-flat-button","","color","primary"],["formControlName","comment","placeholder","Comment...",3,"ngClass"],["commentInput",""],[3,"ngClass"],[3,"postId","commentData","chaneComment","responseComment"]],template:function(_,T){1&_&&(f.TgZ(0,"mat-card",0)(1,"mat-card-header"),f._uU(2," Comments "),f.qZA(),f.TgZ(3,"mat-card-content",1),f.YNc(4,Ae,2,5,"div",2),f.qZA(),f.TgZ(5,"form",3),f.NdJ("submit",function(){return T.onSendClick()}),f.TgZ(6,"button",4)(7,"mat-icon"),f._uU(8,"send"),f.qZA()(),f._UZ(9,"input",5,6),f.qZA()()),2&_&&(f.xp6(4),f.Q6J("ngForOf",T.getPostComments()),f.xp6(1),f.Q6J("formGroup",T.replyForm),f.xp6(4),f.Q6J("ngClass",f.VKq(3,jt,T.checkComment())))},dependencies:[me.mk,me.sg,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Xe.lW,Ne.a8,Ne.dn,Ne.dk,Ge.Hw,st],styles:[".comments[_ngcontent-%COMP%]{padding:1em;height:100%;width:100%}.comments[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.reply-box[_ngcontent-%COMP%]{width:100%;height:350px;overflow:auto;min-width:500px;max-width:600px;padding:1em 1em 0;box-sizing:border-box;background-color:#eaeaea}.reply-action-bar[_ngcontent-%COMP%]{margin:1em 0 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;direction:rtl}.reply-action-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.reply-action-bar[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border-color:#f44336}.reply-action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:3em}.comment-container[_ngcontent-%COMP%]{display:flex}.creator-comment-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),V})();function Wt(V,b){if(1&V&&f._UZ(0,"img",9),2&V){const _=f.oxw();f.s9C("src",_.postData.imageUrl,f.LSH)}}function Gt(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"mat-icon",5),f.NdJ("click",function(){f.CHM(_);const G=f.oxw();return f.KtG(G.downloadImageClick())}),f._uU(1," open_in_new "),f.qZA()}}function Rn(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"mat-icon",5),f.NdJ("click",function(){f.CHM(_);const G=f.oxw();return f.KtG(G.deletePostClick())}),f._uU(1,"delete"),f.qZA()}}let ke=(()=>{class V{constructor(_,T,G,he){this.dialog=_,this.userDataService=T,this.postService=G,this.mainUserPageService=he}ngOnInit(){this.postService.getCreatorInfo(this.postData),this.postService.getLikes(this.postData.postId)}ngOnDestroy(){this.dialogRefSubscription&&this.dialogRefSubscription.unsubscribe()}getDate(){return this.postData.timestamp.toDate()}getCreatorName(){return this.postService.creatorName}getIsLiked(){return this.postService.isLiked}onReplyClick(){this.dialog.open(ln,{data:this.postData.postId})}getLikes(){return this.postService.likes}onLikeClick(){this.postService.likeButton(this.postData.postId)}downloadImageClick(){this.postService.downloadFile(`Posts/${this.postData.postId}/image`)}checkDeleteButton(){return this.postData.creatorId===this.userDataService.userInfo.userId}deletePostClick(){const _=this.dialog.open(_e.S,{data:{info:"Post deletion",message:"Do you really want to remove this post?",addButton:!0,nameButton:"Yes"}});this.dialogRefSubscription=_.afterClosed().subscribe(T=>{T&&this.postService.deletePost(this.postData.postId)})}getUserImage(){return this.postService.creatorImage}goToFriendPageClick(){this.mainUserPageService.goToFriendPage(this.postData.creatorId)}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(de.uw),f.Y36(ne.M),f.Y36(cn),f.Y36(St.v))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-post"]],inputs:{postData:"postData"},features:[f._Bn([cn])],decls:21,vars:12,consts:[[1,"post"],[1,"creator-name",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment"],["class","image","mat-card-image","","alt","img",3,"src",4,"ngIf"],["color","warn",1,"action-item",3,"click"],[1,"likes"],[1,"likes-number"],["class","action-item","color","warn",3,"click",4,"ngIf"],["mat-card-image","","alt","img",1,"image",3,"src"]],template:function(_,T){1&_&&(f.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),f.NdJ("click",function(){return T.goToFriendPageClick()}),f._UZ(3,"img",2),f._uU(4),f.qZA(),f.TgZ(5,"mat-card-subtitle"),f._uU(6),f.ALo(7,"date"),f.qZA()(),f.TgZ(8,"mat-card-content",3),f._uU(9),f.qZA(),f.YNc(10,Wt,1,1,"img",4),f.TgZ(11,"mat-card-actions")(12,"mat-icon",5),f.NdJ("click",function(){return T.onReplyClick()}),f._uU(13," chat_bubble_outline "),f.qZA(),f.TgZ(14,"div",6)(15,"mat-icon",5),f.NdJ("click",function(){return T.onLikeClick()}),f._uU(16),f.qZA(),f.TgZ(17,"div",7),f._uU(18),f.qZA()(),f.YNc(19,Gt,2,0,"mat-icon",8),f.YNc(20,Rn,2,0,"mat-icon",8),f.qZA()()),2&_&&(f.xp6(3),f.s9C("src",T.getUserImage(),f.LSH),f.xp6(1),f.hij(" ",T.getCreatorName()," "),f.xp6(2),f.Oqu(f.xi3(7,9,T.getDate(),"MMM d, y, H:mm ")),f.xp6(3),f.hij(" ",T.postData.comment," "),f.xp6(1),f.Q6J("ngIf",T.postData.imageUrl),f.xp6(6),f.hij(" ",T.getIsLiked()?"favorite":"favorite_border","favorite_border "),f.xp6(2),f.Oqu(T.getLikes()),f.xp6(1),f.Q6J("ngIf",T.postData.imageUrl),f.xp6(1),f.Q6J("ngIf",T.checkDeleteButton()))},dependencies:[me.O5,Ne.a8,Ne.hq,Ne.dn,Ne.dk,Ne.G2,Ne.$j,Ne.n5,Ge.Hw,me.uU],styles:[".post[_ngcontent-%COMP%]{width:500px;margin-top:2em;background-color:#f1f1f1}.creator-name[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;display:flex;align-items:center}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin-right:10px;width:40px;height:40px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-name[_ngcontent-%COMP%]:hover{color:#f44336}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}.comment[_ngcontent-%COMP%]{padding:10px;margin:10px 10px 0;border-radius:1em;background-color:#c4c4c4}.image[_ngcontent-%COMP%]{margin:10px;height:auto}.likes[_ngcontent-%COMP%]{width:auto;display:flex;justify-content:center}.likes-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),V})();function _t(V,b){1&V&&f._UZ(0,"app-post",4),2&V&&f.Q6J("postData",b.$implicit)}const Sn=[{path:"",component:yt},{path:"emailVerification",component:vn},{path:"userPage",loadChildren:()=>Promise.all([E.e(592),E.e(56)]).then(E.bind(E,56)).then(V=>V.MainUserPageModule)},{path:"friendPage",loadChildren:()=>Promise.all([E.e(592),E.e(991)]).then(E.bind(E,2991)).then(V=>V.FriendPageModule)},{path:"postFeed",component:(()=>{class V{constructor(_,T,G){this.dialog=_,this.postsDataService=T,this.storageService=G,this.limit=3,this.backgroundStorage=""}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/post-feed2.jpg").subscribe(T=>this.backgroundStorage=`url(${T})`),this.postsDataService.getCountOfDocuments(),this.postsDataService.getFirstPosts(),this.postsDataService.getScrollPosts()}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getPosts(){return this.postsDataService.posts}onCreatePostClick(){this.dialog.open(bt)}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(de.uw),f.Y36(At.n),f.Y36(ze.V))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-post-feed"]],decls:8,vars:3,consts:[[1,"news-line"],[1,"post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn",1,"post-button",3,"click"],[3,"postData"]],template:function(_,T){1&_&&(f.TgZ(0,"div",0)(1,"div",1),f.YNc(2,_t,1,1,"app-post",2),f.qZA(),f.TgZ(3,"button",3),f.NdJ("click",function(){return T.onCreatePostClick()}),f.TgZ(4,"div"),f._uU(5,"Create post"),f.qZA(),f.TgZ(6,"mat-icon"),f._uU(7,"add"),f.qZA()()()),2&_&&(f.Udp("background-image",T.backgroundStorage),f.xp6(2),f.Q6J("ngForOf",T.getPosts()))},dependencies:[me.sg,Xe.cs,Ge.Hw,ke],styles:[".news-line[_ngcontent-%COMP%]{display:flex;padding-top:5em;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}.post-button[_ngcontent-%COMP%]{width:10em;position:fixed;bottom:2em;right:2em}.post-feed[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}"]}),V})(),canActivate:[xe]},{path:"**",component:yt}];let _i=(()=>{class V{}return V.\u0275fac=function(_){return new(_||V)},V.\u0275mod=f.oAB({type:V}),V.\u0275inj=f.cJS({providers:[xe],imports:[L.Bz.forRoot(Sn),L.Bz]}),V})();var ni=E(1591);function Kt(V){return new f.vHH(3e3,!1)}function er(V){switch(V.length){case 0:return new ni.ZN;case 1:return V[0];default:return new ni.ZE(V)}}function to(V,b,_=new Map,T=new Map){const G=[],he=[];let et=-1,at=null;if(b.forEach(vt=>{const sn=vt.get("offset"),$n=sn==et,Mn=$n&&at||new Map;vt.forEach((kn,Bi)=>{let Vn=Bi,mi=kn;if("offset"!==Bi)switch(Vn=V.normalizePropertyName(Vn,G),mi){case ni.k1:mi=_.get(Bi);break;case ni.l3:mi=T.get(Bi);break;default:mi=V.normalizeStyleValue(Bi,Vn,mi,G)}Mn.set(Vn,mi)}),$n||he.push(Mn),at=Mn,et=sn}),G.length)throw function Bt(V){return new f.vHH(3502,!1)}();return he}function kr(V,b,_,T){switch(b){case"start":V.onStart(()=>T(_&&$r(_,"start",V)));break;case"done":V.onDone(()=>T(_&&$r(_,"done",V)));break;case"destroy":V.onDestroy(()=>T(_&&$r(_,"destroy",V)))}}function $r(V,b,_){const he=uo(V.element,V.triggerName,V.fromState,V.toState,b||V.phaseName,_.totalTime??V.totalTime,!!_.disabled),et=V._data;return null!=et&&(he._data=et),he}function uo(V,b,_,T,G="",he=0,et){return{element:V,triggerName:b,fromState:_,toState:T,phaseName:G,totalTime:he,disabled:!!et}}function yi(V,b,_){let T=V.get(b);return T||V.set(b,T=_),T}function Zo(V){const b=V.indexOf(":");return[V.substring(1,b),V.slice(b+1)]}const go=(()=>typeof document>"u"?null:document.documentElement)();function no(V){const b=V.parentNode||V.host||null;return b===go?null:b}let Gr=null,io=!1;function Yo(V,b){for(;b;){if(b===V)return!0;b=no(b)}return!1}function ro(V,b,_){if(_)return Array.from(V.querySelectorAll(b));const T=V.querySelector(b);return T?[T]:[]}let ts=(()=>{class V{validateStyleProperty(_){return function So(V){Gr||(Gr=function vs(){return typeof document<"u"?document.body:null}()||{},io=!!Gr.style&&"WebkitAppearance"in Gr.style);let b=!0;return Gr.style&&!function hr(V){return"ebkit"==V.substring(1,6)}(V)&&(b=V in Gr.style,!b&&io&&(b="Webkit"+V.charAt(0).toUpperCase()+V.slice(1)in Gr.style)),b}(_)}matchesElement(_,T){return!1}containsElement(_,T){return Yo(_,T)}getParentElement(_){return no(_)}query(_,T,G){return ro(_,T,G)}computeStyle(_,T,G){return G||""}animate(_,T,G,he,et,at=[],vt){return new ni.ZN(G,he)}}return V.\u0275fac=function(_){return new(_||V)},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})(),ns=(()=>{class V{}return V.NOOP=new ts,V})();const fi=1e3,Wr="ng-enter",Rr="ng-leave",To="ng-trigger",pt=".ng-trigger",lt="ng-animating",Pt=".ng-animating";function nn(V){if("number"==typeof V)return V;const b=V.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:fn(parseFloat(b[1]),b[2])}function fn(V,b){return"s"===b?V*fi:V}function on(V,b,_){return V.hasOwnProperty("duration")?V:function Nn(V,b,_){let G,he=0,et="";if("string"==typeof V){const at=V.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===at)return b.push(Kt()),{duration:0,delay:0,easing:""};G=fn(parseFloat(at[1]),at[2]);const vt=at[3];null!=vt&&(he=fn(parseFloat(vt),at[4]));const sn=at[5];sn&&(et=sn)}else G=V;if(!_){let at=!1,vt=b.length;G<0&&(b.push(function Je(){return new f.vHH(3100,!1)}()),at=!0),he<0&&(b.push(function ot(){return new f.vHH(3101,!1)}()),at=!0),at&&b.splice(vt,0,Kt())}return{duration:G,delay:he,easing:et}}(V,b,_)}function si(V,b={}){return Object.keys(V).forEach(_=>{b[_]=V[_]}),b}function bi(V){const b=new Map;return Object.keys(V).forEach(_=>{b.set(_,V[_])}),b}function Ki(V,b=new Map,_){if(_)for(let[T,G]of _)b.set(T,G);for(let[T,G]of V)b.set(T,G);return b}function ki(V,b,_){b.forEach((T,G)=>{const he=is(G);_&&!_.has(G)&&_.set(G,V.style[he]),V.style[he]=T})}function Tr(V,b){b.forEach((_,T)=>{const G=is(T);V.style[G]=""})}function Kr(V){return Array.isArray(V)?1==V.length?V[0]:(0,ni.vP)(V):V}const Mo=new RegExp("{{\\s*(.+?)\\s*}}","g");function _o(V){let b=[];if("string"==typeof V){let _;for(;_=Mo.exec(V);)b.push(_[1]);Mo.lastIndex=0}return b}function Pr(V,b,_){const T=V.toString(),G=T.replace(Mo,(he,et)=>{let at=b[et];return null==at&&(_.push(function Oe(V){return new f.vHH(3003,!1)}()),at=""),at.toString()});return G==T?V:G}function Qi(V){const b=[];let _=V.next();for(;!_.done;)b.push(_.value),_=V.next();return b}const Vo=/-+([a-z0-9])/g;function is(V){return V.replace(Vo,(...b)=>b[1].toUpperCase())}function Hi(V,b,_){switch(b.type){case 7:return V.visitTrigger(b,_);case 0:return V.visitState(b,_);case 1:return V.visitTransition(b,_);case 2:return V.visitSequence(b,_);case 3:return V.visitGroup(b,_);case 4:return V.visitAnimate(b,_);case 5:return V.visitKeyframes(b,_);case 6:return V.visitStyle(b,_);case 8:return V.visitReference(b,_);case 9:return V.visitAnimateChild(b,_);case 10:return V.visitAnimateRef(b,_);case 11:return V.visitQuery(b,_);case 12:return V.visitStagger(b,_);default:throw function Se(V){return new f.vHH(3004,!1)}()}}function ar(V,b){return window.getComputedStyle(V)[b]}const Zr="*";function ss(V,b){const _=[];return"string"==typeof V?V.split(/\s*,\s*/).forEach(T=>function Bs(V,b,_){if(":"==V[0]){const vt=function ks(V,b){switch(V){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,T)=>parseFloat(T)>parseFloat(_);case":decrement":return(_,T)=>parseFloat(T)<parseFloat(_);default:return b.push(function ti(V){return new f.vHH(3016,!1)}()),"* => *"}}(V,_);if("function"==typeof vt)return void b.push(vt);V=vt}const T=V.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return _.push(function en(V){return new f.vHH(3015,!1)}()),b;const G=T[1],he=T[2],et=T[3];b.push(qi(G,et));"<"==he[0]&&!(G==Zr&&et==Zr)&&b.push(qi(et,G))}(T,_,b)):_.push(V),_}const br=new Set(["true","1"]),jo=new Set(["false","0"]);function qi(V,b){const _=br.has(V)||jo.has(V),T=br.has(b)||jo.has(b);return(G,he)=>{let et=V==Zr||V==G,at=b==Zr||b==he;return!et&&_&&"boolean"==typeof G&&(et=G?br.has(V):jo.has(V)),!at&&T&&"boolean"==typeof he&&(at=he?br.has(b):jo.has(b)),et&&at}}const po=new RegExp("s*:selfs*,?","g");function Mr(V,b,_,T){return new nr(V).build(b,_,T)}class nr{constructor(b){this._driver=b}build(b,_,T){const G=new Js(_);return this._resetContextStyleTimingState(G),Hi(this,Kr(b),G)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,_){let T=_.queryCount=0,G=_.depCount=0;const he=[],et=[];return"@"==b.name.charAt(0)&&_.errors.push(function Ht(){return new f.vHH(3006,!1)}()),b.definitions.forEach(at=>{if(this._resetContextStyleTimingState(_),0==at.type){const vt=at,sn=vt.name;sn.toString().split(/\s*,\s*/).forEach($n=>{vt.name=$n,he.push(this.visitState(vt,_))}),vt.name=sn}else if(1==at.type){const vt=this.visitTransition(at,_);T+=vt.queryCount,G+=vt.depCount,et.push(vt)}else _.errors.push(function Te(){return new f.vHH(3007,!1)}())}),{type:7,name:b.name,states:he,transitions:et,queryCount:T,depCount:G,options:null}}visitState(b,_){const T=this.visitStyle(b.styles,_),G=b.options&&b.options.params||null;if(T.containsDynamicStyles){const he=new Set,et=G||{};T.styles.forEach(at=>{at instanceof Map&&at.forEach(vt=>{_o(vt).forEach(sn=>{et.hasOwnProperty(sn)||he.add(sn)})})}),he.size&&(Qi(he.values()),_.errors.push(function oe(V,b){return new f.vHH(3008,!1)}()))}return{type:0,name:b.name,style:T,options:G?{params:G}:null}}visitTransition(b,_){_.queryCount=0,_.depCount=0;const T=Hi(this,Kr(b.animation),_);return{type:1,matchers:ss(b.expr,_.errors),animation:T,queryCount:_.queryCount,depCount:_.depCount,options:K(b.options)}}visitSequence(b,_){return{type:2,steps:b.steps.map(T=>Hi(this,T,_)),options:K(b.options)}}visitGroup(b,_){const T=_.currentTime;let G=0;const he=b.steps.map(et=>{_.currentTime=T;const at=Hi(this,et,_);return G=Math.max(G,_.currentTime),at});return _.currentTime=G,{type:3,steps:he,options:K(b.options)}}visitAnimate(b,_){const T=function je(V,b){if(V.hasOwnProperty("duration"))return V;if("number"==typeof V)return rt(on(V,b).duration,0,"");const _=V;if(_.split(/\s+/).some(he=>"{"==he.charAt(0)&&"{"==he.charAt(1))){const he=rt(0,0,"");return he.dynamic=!0,he.strValue=_,he}const G=on(_,b);return rt(G.duration,G.delay,G.easing)}(b.timings,_.errors);_.currentAnimateTimings=T;let G,he=b.styles?b.styles:(0,ni.oB)({});if(5==he.type)G=this.visitKeyframes(he,_);else{let et=b.styles,at=!1;if(!et){at=!0;const sn={};T.easing&&(sn.easing=T.easing),et=(0,ni.oB)(sn)}_.currentTime+=T.duration+T.delay;const vt=this.visitStyle(et,_);vt.isEmptyStep=at,G=vt}return _.currentAnimateTimings=null,{type:4,timings:T,style:G,options:null}}visitStyle(b,_){const T=this._makeStyleAst(b,_);return this._validateStyleAst(T,_),T}_makeStyleAst(b,_){const T=[],G=Array.isArray(b.styles)?b.styles:[b.styles];for(let at of G)"string"==typeof at?at===ni.l3?T.push(at):_.errors.push(new f.vHH(3002,!1)):T.push(bi(at));let he=!1,et=null;return T.forEach(at=>{if(at instanceof Map&&(at.has("easing")&&(et=at.get("easing"),at.delete("easing")),!he))for(let vt of at.values())if(vt.toString().indexOf("{{")>=0){he=!0;break}}),{type:6,styles:T,easing:et,offset:b.offset,containsDynamicStyles:he,options:null}}_validateStyleAst(b,_){const T=_.currentAnimateTimings;let G=_.currentTime,he=_.currentTime;T&&he>0&&(he-=T.duration+T.delay),b.styles.forEach(et=>{"string"!=typeof et&&et.forEach((at,vt)=>{const sn=_.collectedStyles.get(_.currentQuerySelector),$n=sn.get(vt);let Mn=!0;$n&&(he!=G&&he>=$n.startTime&&G<=$n.endTime&&(_.errors.push(function z(V,b,_,T,G){return new f.vHH(3010,!1)}()),Mn=!1),he=$n.startTime),Mn&&sn.set(vt,{startTime:he,endTime:G}),_.options&&function ci(V,b,_){const T=b.params||{},G=_o(V);G.length&&G.forEach(he=>{T.hasOwnProperty(he)||_.push(function Be(V){return new f.vHH(3001,!1)}())})}(at,_.options,_.errors)})})}visitKeyframes(b,_){const T={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function le(){return new f.vHH(3011,!1)}()),T;let he=0;const et=[];let at=!1,vt=!1,sn=0;const $n=b.steps.map(w=>{const M=this._makeStyleAst(w,_);let x=null!=M.offset?M.offset:function Ze(V){if("string"==typeof V)return null;let b=null;if(Array.isArray(V))V.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const T=_;b=parseFloat(T.get("offset")),T.delete("offset")}});else if(V instanceof Map&&V.has("offset")){const _=V;b=parseFloat(_.get("offset")),_.delete("offset")}return b}(M.styles),F=0;return null!=x&&(he++,F=M.offset=x),vt=vt||F<0||F>1,at=at||F<sn,sn=F,et.push(F),M});vt&&_.errors.push(function re(){return new f.vHH(3012,!1)}()),at&&_.errors.push(function ye(){return new f.vHH(3200,!1)}());const Mn=b.steps.length;let kn=0;he>0&&he<Mn?_.errors.push(function Ct(){return new f.vHH(3202,!1)}()):0==he&&(kn=1/(Mn-1));const Bi=Mn-1,Vn=_.currentTime,mi=_.currentAnimateTimings,Di=mi.duration;return $n.forEach((w,M)=>{const x=kn>0?M==Bi?1:kn*M:et[M],F=x*Di;_.currentTime=Vn+mi.delay+F,mi.duration=F,this._validateStyleAst(w,_),w.offset=x,T.styles.push(w)}),T}visitReference(b,_){return{type:8,animation:Hi(this,Kr(b.animation),_),options:K(b.options)}}visitAnimateChild(b,_){return _.depCount++,{type:9,options:K(b.options)}}visitAnimateRef(b,_){return{type:10,animation:this.visitReference(b.animation,_),options:K(b.options)}}visitQuery(b,_){const T=_.currentQuerySelector,G=b.options||{};_.queryCount++,_.currentQuery=b;const[he,et]=function Oo(V){const b=!!V.split(/\s*,\s*/).find(_=>":self"==_);return b&&(V=V.replace(po,"")),V=V.replace(/@\*/g,pt).replace(/@\w+/g,_=>pt+"-"+_.slice(1)).replace(/:animating/g,Pt),[V,b]}(b.selector);_.currentQuerySelector=T.length?T+" "+he:he,yi(_.collectedStyles,_.currentQuerySelector,new Map);const at=Hi(this,Kr(b.animation),_);return _.currentQuery=null,_.currentQuerySelector=T,{type:11,selector:he,limit:G.limit||0,optional:!!G.optional,includeSelf:et,animation:at,originalSelector:b.selector,options:K(b.options)}}visitStagger(b,_){_.currentQuery||_.errors.push(function xt(){return new f.vHH(3013,!1)}());const T="full"===b.timings?{duration:0,delay:0,easing:"full"}:on(b.timings,_.errors,!0);return{type:12,animation:Hi(this,Kr(b.animation),_),timings:T,options:null}}}class Js{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function K(V){return V?(V=si(V)).params&&(V.params=function zo(V){return V?si(V):null}(V.params)):V={},V}function rt(V,b,_){return{duration:V,delay:b,easing:_}}function un(V,b,_,T,G,he,et=null,at=!1){return{type:1,element:V,keyframes:b,preStyleProps:_,postStyleProps:T,duration:G,delay:he,totalTime:G+he,easing:et,subTimeline:at}}class xn{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,_){let T=this._map.get(b);T||this._map.set(b,T=[]),T.push(..._)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const Fr=new RegExp(":enter","g"),Nr=new RegExp(":leave","g");function Ro(V,b,_,T,G,he=new Map,et=new Map,at,vt,sn=[]){return(new Os).buildKeyframes(V,b,_,T,G,he,et,at,vt,sn)}class Os{buildKeyframes(b,_,T,G,he,et,at,vt,sn,$n=[]){sn=sn||new xn;const Mn=new j(b,_,sn,G,he,$n,[]);Mn.options=vt;const kn=vt.delay?nn(vt.delay):0;Mn.currentTimeline.delayNextStep(kn),Mn.currentTimeline.setStyles([et],null,Mn.errors,vt),Hi(this,T,Mn);const Bi=Mn.timelines.filter(Vn=>Vn.containsAnimation());if(Bi.length&&at.size){let Vn;for(let mi=Bi.length-1;mi>=0;mi--){const Di=Bi[mi];if(Di.element===_){Vn=Di;break}}Vn&&!Vn.allowOnlyTimelineStyles()&&Vn.setStyles([at],null,Mn.errors,vt)}return Bi.length?Bi.map(Vn=>Vn.buildKeyframes()):[un(_,[],[],[],0,kn,"",!1)]}visitTrigger(b,_){}visitState(b,_){}visitTransition(b,_){}visitAnimateChild(b,_){const T=_.subInstructions.get(_.element);if(T){const G=_.createSubContext(b.options),he=_.currentTimeline.currentTime,et=this._visitSubInstructions(T,G,G.options);he!=et&&_.transformIntoNewTimeline(et)}_.previousNode=b}visitAnimateRef(b,_){const T=_.createSubContext(b.options);T.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],_,T),this.visitReference(b.animation,T),_.transformIntoNewTimeline(T.currentTimeline.currentTime),_.previousNode=b}_applyAnimationRefDelays(b,_,T){for(const G of b){const he=G?.delay;if(he){const et="number"==typeof he?he:nn(Pr(he,G?.params??{},_.errors));T.delayNextStep(et)}}}_visitSubInstructions(b,_,T){let he=_.currentTimeline.currentTime;const et=null!=T.duration?nn(T.duration):null,at=null!=T.delay?nn(T.delay):null;return 0!==et&&b.forEach(vt=>{const sn=_.appendInstructionToTimeline(vt,et,at);he=Math.max(he,sn.duration+sn.delay)}),he}visitReference(b,_){_.updateOptions(b.options,!0),Hi(this,b.animation,_),_.previousNode=b}visitSequence(b,_){const T=_.subContextCount;let G=_;const he=b.options;if(he&&(he.params||he.delay)&&(G=_.createSubContext(he),G.transformIntoNewTimeline(),null!=he.delay)){6==G.previousNode.type&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=W);const et=nn(he.delay);G.delayNextStep(et)}b.steps.length&&(b.steps.forEach(et=>Hi(this,et,G)),G.currentTimeline.applyStylesToKeyframe(),G.subContextCount>T&&G.transformIntoNewTimeline()),_.previousNode=b}visitGroup(b,_){const T=[];let G=_.currentTimeline.currentTime;const he=b.options&&b.options.delay?nn(b.options.delay):0;b.steps.forEach(et=>{const at=_.createSubContext(b.options);he&&at.delayNextStep(he),Hi(this,et,at),G=Math.max(G,at.currentTimeline.currentTime),T.push(at.currentTimeline)}),T.forEach(et=>_.currentTimeline.mergeTimelineCollectedStyles(et)),_.transformIntoNewTimeline(G),_.previousNode=b}_visitTiming(b,_){if(b.dynamic){const T=b.strValue;return on(_.params?Pr(T,_.params,_.errors):T,_.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,_){const T=_.currentAnimateTimings=this._visitTiming(b.timings,_),G=_.currentTimeline;T.delay&&(_.incrementTime(T.delay),G.snapshotCurrentStyles());const he=b.style;5==he.type?this.visitKeyframes(he,_):(_.incrementTime(T.duration),this.visitStyle(he,_),G.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=b}visitStyle(b,_){const T=_.currentTimeline,G=_.currentAnimateTimings;!G&&T.hasCurrentStyleProperties()&&T.forwardFrame();const he=G&&G.easing||b.easing;b.isEmptyStep?T.applyEmptyStep(he):T.setStyles(b.styles,he,_.errors,_.options),_.previousNode=b}visitKeyframes(b,_){const T=_.currentAnimateTimings,G=_.currentTimeline.duration,he=T.duration,at=_.createSubContext().currentTimeline;at.easing=T.easing,b.styles.forEach(vt=>{at.forwardTime((vt.offset||0)*he),at.setStyles(vt.styles,vt.easing,_.errors,_.options),at.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(at),_.transformIntoNewTimeline(G+he),_.previousNode=b}visitQuery(b,_){const T=_.currentTimeline.currentTime,G=b.options||{},he=G.delay?nn(G.delay):0;he&&(6===_.previousNode.type||0==T&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=W);let et=T;const at=_.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!G.optional,_.errors);_.currentQueryTotal=at.length;let vt=null;at.forEach((sn,$n)=>{_.currentQueryIndex=$n;const Mn=_.createSubContext(b.options,sn);he&&Mn.delayNextStep(he),sn===_.element&&(vt=Mn.currentTimeline),Hi(this,b.animation,Mn),Mn.currentTimeline.applyStylesToKeyframe(),et=Math.max(et,Mn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(et),vt&&(_.currentTimeline.mergeTimelineCollectedStyles(vt),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=b}visitStagger(b,_){const T=_.parentContext,G=_.currentTimeline,he=b.timings,et=Math.abs(he.duration),at=et*(_.currentQueryTotal-1);let vt=et*_.currentQueryIndex;switch(he.duration<0?"reverse":he.easing){case"reverse":vt=at-vt;break;case"full":vt=T.currentStaggerTime}const $n=_.currentTimeline;vt&&$n.delayNextStep(vt);const Mn=$n.currentTime;Hi(this,b.animation,_),_.previousNode=b,T.currentStaggerTime=G.currentTime-Mn+(G.startTime-T.currentTimeline.startTime)}}const W={};class j{constructor(b,_,T,G,he,et,at,vt){this._driver=b,this.element=_,this.subInstructions=T,this._enterClassName=G,this._leaveClassName=he,this.errors=et,this.timelines=at,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=W,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=vt||new v(this._driver,_,0),at.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,_){if(!b)return;const T=b;let G=this.options;null!=T.duration&&(G.duration=nn(T.duration)),null!=T.delay&&(G.delay=nn(T.delay));const he=T.params;if(he){let et=G.params;et||(et=this.options.params={}),Object.keys(he).forEach(at=>{(!_||!et.hasOwnProperty(at))&&(et[at]=Pr(he[at],et,this.errors))})}}_copyOptions(){const b={};if(this.options){const _=this.options.params;if(_){const T=b.params={};Object.keys(_).forEach(G=>{T[G]=_[G]})}}return b}createSubContext(b=null,_,T){const G=_||this.element,he=new j(this._driver,G,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(G,T||0));return he.previousNode=this.previousNode,he.currentAnimateTimings=this.currentAnimateTimings,he.options=this._copyOptions(),he.updateOptions(b),he.currentQueryIndex=this.currentQueryIndex,he.currentQueryTotal=this.currentQueryTotal,he.parentContext=this,this.subContextCount++,he}transformIntoNewTimeline(b){return this.previousNode=W,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,_,T){const G={duration:_??b.duration,delay:this.currentTimeline.currentTime+(T??0)+b.delay,easing:""},he=new C(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,G,b.stretchStartingKeyframe);return this.timelines.push(he),G}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,_,T,G,he,et){let at=[];if(G&&at.push(this.element),b.length>0){b=(b=b.replace(Fr,"."+this._enterClassName)).replace(Nr,"."+this._leaveClassName);let sn=this._driver.query(this.element,b,1!=T);0!==T&&(sn=T<0?sn.slice(sn.length+T,sn.length):sn.slice(0,T)),at.push(...sn)}return!he&&0==at.length&&et.push(function Ot(V){return new f.vHH(3014,!1)}()),at}}class v{constructor(b,_,T,G){this._driver=b,this.element=_,this.startTime=T,this._elementTimelineStylesLookup=G,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+b),_&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,_){return this.applyStylesToKeyframe(),new v(this._driver,b,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,_){this._localTimelineStyles.set(b,_),this._globalTimelineStyles.set(b,_),this._styleSummary.set(b,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[_,T]of this._globalTimelineStyles)this._backFill.set(_,T||ni.l3),this._currentKeyframe.set(_,ni.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,_,T,G){_&&this._previousKeyframe.set("easing",_);const he=G&&G.params||{},et=function De(V,b){const _=new Map;let T;return V.forEach(G=>{if("*"===G){T=T||b.keys();for(let he of T)_.set(he,ni.l3)}else Ki(G,_)}),_}(b,this._globalTimelineStyles);for(let[at,vt]of et){const sn=Pr(vt,he,T);this._pendingStyles.set(at,sn),this._localTimelineStyles.has(at)||this._backFill.set(at,this._globalTimelineStyles.get(at)??ni.l3),this._updateStyle(at,sn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,_)=>{this._currentKeyframe.set(_,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,b)}))}snapshotCurrentStyles(){for(let[b,_]of this._localTimelineStyles)this._pendingStyles.set(b,_),this._updateStyle(b,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let _ in this._currentKeyframe)b.push(_);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((_,T)=>{const G=this._styleSummary.get(T);(!G||_.time>G.time)&&this._updateStyle(T,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,_=new Set,T=1===this._keyframes.size&&0===this.duration;let G=[];this._keyframes.forEach((at,vt)=>{const sn=Ki(at,new Map,this._backFill);sn.forEach(($n,Mn)=>{$n===ni.k1?b.add(Mn):$n===ni.l3&&_.add(Mn)}),T||sn.set("offset",vt/this.duration),G.push(sn)});const he=b.size?Qi(b.values()):[],et=_.size?Qi(_.values()):[];if(T){const at=G[0],vt=new Map(at);at.set("offset",0),vt.set("offset",1),G=[at,vt]}return un(this.element,G,he,et,this.duration,this.startTime,this.easing,!1)}}class C extends v{constructor(b,_,T,G,he,et,at=!1){super(b,_,et.delay),this.keyframes=T,this.preStyleProps=G,this.postStyleProps=he,this._stretchStartingKeyframe=at,this.timings={duration:et.duration,delay:et.delay,easing:et.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:_,duration:T,easing:G}=this.timings;if(this._stretchStartingKeyframe&&_){const he=[],et=T+_,at=_/et,vt=Ki(b[0]);vt.set("offset",0),he.push(vt);const sn=Ki(b[0]);sn.set("offset",J(at)),he.push(sn);const $n=b.length-1;for(let Mn=1;Mn<=$n;Mn++){let kn=Ki(b[Mn]);const Bi=kn.get("offset");kn.set("offset",J((_+Bi*T)/et)),he.push(kn)}T=et,_=0,G="",b=he}return un(this.element,b,this.preStyleProps,this.postStyleProps,T,_,G,!0)}}function J(V,b=3){const _=Math.pow(10,b-1);return Math.round(V*_)/_}class Nt{}const Kn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hn extends Nt{normalizePropertyName(b,_){return is(b)}normalizeStyleValue(b,_,T,G){let he="";const et=T.toString().trim();if(Kn.has(_)&&0!==T&&"0"!==T)if("number"==typeof T)he="px";else{const at=T.match(/^[+-]?[\d\.]+([a-z]*)$/);at&&0==at[1].length&&G.push(function Et(V,b){return new f.vHH(3005,!1)}())}return et+he}}function xi(V,b,_,T,G,he,et,at,vt,sn,$n,Mn,kn){return{type:0,element:V,triggerName:b,isRemovalTransition:G,fromState:_,fromStyles:he,toState:T,toStyles:et,timelines:at,queriedElements:vt,preStyleProps:sn,postStyleProps:$n,totalTime:Mn,errors:kn}}const Ni={};class gr{constructor(b,_,T){this._triggerName=b,this.ast=_,this._stateStyles=T}match(b,_,T,G){return function _r(V,b,_,T,G){return V.some(he=>he(b,_,T,G))}(this.ast.matchers,b,_,T,G)}buildStyles(b,_,T){let G=this._stateStyles.get("*");return void 0!==b&&(G=this._stateStyles.get(b?.toString())||G),G?G.buildStyles(_,T):new Map}build(b,_,T,G,he,et,at,vt,sn,$n){const Mn=[],kn=this.ast.options&&this.ast.options.params||Ni,Vn=this.buildStyles(T,at&&at.params||Ni,Mn),mi=vt&&vt.params||Ni,Di=this.buildStyles(G,mi,Mn),w=new Set,M=new Map,x=new Map,F="void"===G,ee={params:Wi(mi,kn),delay:this.ast.options?.delay},ve=$n?[]:Ro(b,_,this.ast.animation,he,et,Vn,Di,ee,sn,Mn);let Ce=0;if(ve.forEach(bn=>{Ce=Math.max(bn.duration+bn.delay,Ce)}),Mn.length)return xi(_,this._triggerName,T,G,F,Vn,Di,[],[],M,x,Ce,Mn);ve.forEach(bn=>{const ai=bn.element,Jn=yi(M,ai,new Set);bn.preStyleProps.forEach(Jr=>Jn.add(Jr));const Xi=yi(x,ai,new Set);bn.postStyleProps.forEach(Jr=>Xi.add(Jr)),ai!==_&&w.add(ai)});const Dt=Qi(w.values());return xi(_,this._triggerName,T,G,F,Vn,Di,ve,Dt,M,x,Ce)}}function Wi(V,b){const _=si(b);for(const T in V)V.hasOwnProperty(T)&&null!=V[T]&&(_[T]=V[T]);return _}class vr{constructor(b,_,T){this.styles=b,this.defaultParams=_,this.normalizer=T}buildStyles(b,_){const T=new Map,G=si(this.defaultParams);return Object.keys(b).forEach(he=>{const et=b[he];null!==et&&(G[he]=et)}),this.styles.styles.forEach(he=>{"string"!=typeof he&&he.forEach((et,at)=>{et&&(et=Pr(et,G,_));const vt=this.normalizer.normalizePropertyName(at,_);et=this.normalizer.normalizeStyleValue(at,vt,et,_),T.set(at,et)})}),T}}class Po{constructor(b,_,T){this.name=b,this.ast=_,this._normalizer=T,this.transitionFactories=[],this.states=new Map,_.states.forEach(G=>{this.states.set(G.name,new vr(G.style,G.options&&G.options.params||{},T))}),Lr(this.states,"true","1"),Lr(this.states,"false","0"),_.transitions.forEach(G=>{this.transitionFactories.push(new gr(b,G,this.states))}),this.fallbackTransition=function oo(V,b,_){return new gr(V,{type:1,animation:{type:2,steps:[],options:null},matchers:[(et,at)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,_,T,G){return this.transitionFactories.find(et=>et.match(b,_,T,G))||null}matchStyles(b,_,T){return this.fallbackTransition.buildStyles(b,_,T)}}function Lr(V,b,_){V.has(b)?V.has(_)||V.set(_,V.get(b)):V.has(_)&&V.set(b,V.get(_))}const Br=new xn;class xo{constructor(b,_,T){this.bodyNode=b,this._driver=_,this._normalizer=T,this._animations=new Map,this._playersById=new Map,this.players=[]}register(b,_){const T=[],he=Mr(this._driver,_,T,[]);if(T.length)throw function Tt(V){return new f.vHH(3503,!1)}();this._animations.set(b,he)}_buildPlayer(b,_,T){const G=b.element,he=to(this._normalizer,b.keyframes,_,T);return this._driver.animate(G,he,b.duration,b.delay,b.easing,[],!0)}create(b,_,T={}){const G=[],he=this._animations.get(b);let et;const at=new Map;if(he?(et=Ro(this._driver,_,he,Wr,Rr,new Map,new Map,T,Br,G),et.forEach($n=>{const Mn=yi(at,$n.element,new Map);$n.postStyleProps.forEach(kn=>Mn.set(kn,null))})):(G.push(function wn(){return new f.vHH(3300,!1)}()),et=[]),G.length)throw function Qn(V){return new f.vHH(3504,!1)}();at.forEach(($n,Mn)=>{$n.forEach((kn,Bi)=>{$n.set(Bi,this._driver.computeStyle(Mn,Bi,ni.l3))})});const sn=er(et.map($n=>{const Mn=at.get($n.element);return this._buildPlayer($n,new Map,Mn)}));return this._playersById.set(b,sn),sn.onDestroy(()=>this.destroy(b)),this.players.push(sn),sn}destroy(b){const _=this._getPlayer(b);_.destroy(),this._playersById.delete(b);const T=this.players.indexOf(_);T>=0&&this.players.splice(T,1)}_getPlayer(b){const _=this._playersById.get(b);if(!_)throw function Pn(V){return new f.vHH(3301,!1)}();return _}listen(b,_,T,G){const he=uo(_,"","","");return kr(this._getPlayer(b),T,he,G),()=>{}}command(b,_,T,G){if("register"==T)return void this.register(b,G[0]);if("create"==T)return void this.create(b,_,G[0]||{});const he=this._getPlayer(b);switch(T){case"play":he.play();break;case"pause":he.pause();break;case"reset":he.reset();break;case"restart":he.restart();break;case"finish":he.finish();break;case"init":he.init();break;case"setPosition":he.setPosition(parseFloat(G[0]));break;case"destroy":this.destroy(b)}}}const as="ng-animate-queued",ys="ng-animate-disabled",Ta=[],so={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_l={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fo="__ng_removed";class ba{get params(){return this.options.params}constructor(b,_=""){this.namespaceId=_;const T=b&&b.hasOwnProperty("value");if(this.value=function ta(V){return V??null}(T?b.value:b),T){const he=si(b);delete he.value,this.options=he}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const _=b.params;if(_){const T=this.options.params;Object.keys(_).forEach(G=>{null==T[G]&&(T[G]=_[G])})}}}const Hs="void",da=new ba(Hs);class ea{constructor(b,_,T){this.id=b,this.hostElement=_,this._engine=T,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,Qo(_,this._hostClassName)}listen(b,_,T,G){if(!this._triggers.has(_))throw function jn(V,b){return new f.vHH(3302,!1)}();if(null==T||0==T.length)throw function hi(V){return new f.vHH(3303,!1)}();if(!function Ra(V){return"start"==V||"done"==V}(T))throw function sr(V,b){return new f.vHH(3400,!1)}();const he=yi(this._elementListeners,b,[]),et={name:_,phase:T,callback:G};he.push(et);const at=yi(this._engine.statesByElement,b,new Map);return at.has(_)||(Qo(b,To),Qo(b,To+"-"+_),at.set(_,da)),()=>{this._engine.afterFlush(()=>{const vt=he.indexOf(et);vt>=0&&he.splice(vt,1),this._triggers.has(_)||at.delete(_)})}}register(b,_){return!this._triggers.has(b)&&(this._triggers.set(b,_),!0)}_getTrigger(b){const _=this._triggers.get(b);if(!_)throw function Ti(V){return new f.vHH(3401,!1)}();return _}trigger(b,_,T,G=!0){const he=this._getTrigger(_),et=new Is(this.id,_,b);let at=this._engine.statesByElement.get(b);at||(Qo(b,To),Qo(b,To+"-"+_),this._engine.statesByElement.set(b,at=new Map));let vt=at.get(_);const sn=new ba(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&vt&&sn.absorbOptions(vt.options),at.set(_,sn),vt||(vt=da),sn.value!==Hs&&vt.value===sn.value){if(!function Li(V,b){const _=Object.keys(V),T=Object.keys(b);if(_.length!=T.length)return!1;for(let G=0;G<_.length;G++){const he=_[G];if(!b.hasOwnProperty(he)||V[he]!==b[he])return!1}return!0}(vt.params,sn.params)){const mi=[],Di=he.matchStyles(vt.value,vt.params,mi),w=he.matchStyles(sn.value,sn.params,mi);mi.length?this._engine.reportError(mi):this._engine.afterFlush(()=>{Tr(b,Di),ki(b,w)})}return}const kn=yi(this._engine.playersByElement,b,[]);kn.forEach(mi=>{mi.namespaceId==this.id&&mi.triggerName==_&&mi.queued&&mi.destroy()});let Bi=he.matchTransition(vt.value,sn.value,b,sn.params),Vn=!1;if(!Bi){if(!G)return;Bi=he.fallbackTransition,Vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:_,transition:Bi,fromState:vt,toState:sn,player:et,isFallbackTransition:Vn}),Vn||(Qo(b,as),et.onStart(()=>{ds(b,as)})),et.onDone(()=>{let mi=this.players.indexOf(et);mi>=0&&this.players.splice(mi,1);const Di=this._engine.playersByElement.get(b);if(Di){let w=Di.indexOf(et);w>=0&&Di.splice(w,1)}}),this.players.push(et),kn.push(et),et}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(_=>_.delete(b)),this._elementListeners.forEach((_,T)=>{this._elementListeners.set(T,_.filter(G=>G.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const _=this._engine.playersByElement.get(b);_&&(_.forEach(T=>T.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,_){const T=this._engine.driver.query(b,pt,!0);T.forEach(G=>{if(G[Fo])return;const he=this._engine.fetchNamespacesByElement(G);he.size?he.forEach(et=>et.triggerLeaveAnimation(G,_,!1,!0)):this.clearElementCache(G)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(G=>this.clearElementCache(G)))}triggerLeaveAnimation(b,_,T,G){const he=this._engine.statesByElement.get(b),et=new Map;if(he){const at=[];if(he.forEach((vt,sn)=>{if(et.set(sn,vt.value),this._triggers.has(sn)){const $n=this.trigger(b,sn,Hs,G);$n&&at.push($n)}}),at.length)return this._engine.markElementAsRemoved(this.id,b,!0,_,et),T&&er(at).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const _=this._elementListeners.get(b),T=this._engine.statesByElement.get(b);if(_&&T){const G=new Set;_.forEach(he=>{const et=he.name;if(G.has(et))return;G.add(et);const vt=this._triggers.get(et).fallbackTransition,sn=T.get(et)||da,$n=new ba(Hs),Mn=new Is(this.id,et,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:et,transition:vt,fromState:sn,toState:$n,player:Mn,isFallbackTransition:!0})})}}removeNode(b,_){const T=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,_),this.triggerLeaveAnimation(b,_,!0))return;let G=!1;if(T.totalAnimations){const he=T.players.length?T.playersByQueriedElement.get(b):[];if(he&&he.length)G=!0;else{let et=b;for(;et=et.parentNode;)if(T.statesByElement.get(et)){G=!0;break}}}if(this.prepareLeaveAnimationListeners(b),G)T.markElementAsRemoved(this.id,b,!1,_);else{const he=b[Fo];(!he||he===so)&&(T.afterFlush(()=>this.clearElementCache(b)),T.destroyInnerAnimations(b),T._onRemovalComplete(b,_))}}insertNode(b,_){Qo(b,this._hostClassName)}drainQueuedTransitions(b){const _=[];return this._queue.forEach(T=>{const G=T.player;if(G.destroyed)return;const he=T.element,et=this._elementListeners.get(he);et&&et.forEach(at=>{if(at.name==T.triggerName){const vt=uo(he,T.triggerName,T.fromState.value,T.toState.value);vt._data=b,kr(T.player,at.phase,vt,at.callback)}}),G.markedForDestroy?this._engine.afterFlush(()=>{G.destroy()}):_.push(T)}),this._queue=[],_.sort((T,G)=>{const he=T.transition.ast.depCount,et=G.transition.ast.depCount;return 0==he||0==et?he-et:this._engine.driver.containsElement(T.element,G.element)?1:-1})}destroy(b){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}elementContainsData(b){let _=!1;return this._elementListeners.has(b)&&(_=!0),_=!!this._queue.find(T=>T.element===b)||_,_}}class wa{_onRemovalComplete(b,_){this.onRemovalComplete(b,_)}constructor(b,_,T){this.bodyNode=b,this.driver=_,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(G,he)=>{}}get queuedPlayers(){const b=[];return this._namespaceList.forEach(_=>{_.players.forEach(T=>{T.queued&&b.push(T)})}),b}createNamespace(b,_){const T=new ea(b,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(T,_):(this.newHostElements.set(_,T),this.collectEnterElement(_)),this._namespaceLookup[b]=T}_balanceNamespaceList(b,_){const T=this._namespaceList,G=this.namespacesByHostElement;if(T.length-1>=0){let et=!1,at=this.driver.getParentElement(_);for(;at;){const vt=G.get(at);if(vt){const sn=T.indexOf(vt);T.splice(sn+1,0,b),et=!0;break}at=this.driver.getParentElement(at)}et||T.unshift(b)}else T.push(b);return G.set(_,b),b}register(b,_){let T=this._namespaceLookup[b];return T||(T=this.createNamespace(b,_)),T}registerTrigger(b,_,T){let G=this._namespaceLookup[b];G&&G.register(_,T)&&this.totalAnimations++}destroy(b,_){if(!b)return;const T=this._fetchNamespace(b);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[b];const G=this._namespaceList.indexOf(T);G>=0&&this._namespaceList.splice(G,1)}),this.afterFlushAnimationsDone(()=>T.destroy(_))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const _=new Set,T=this.statesByElement.get(b);if(T)for(let G of T.values())if(G.namespaceId){const he=this._fetchNamespace(G.namespaceId);he&&_.add(he)}return _}trigger(b,_,T,G){if(ua(_)){const he=this._fetchNamespace(b);if(he)return he.trigger(_,T,G),!0}return!1}insertNode(b,_,T,G){if(!ua(_))return;const he=_[Fo];if(he&&he.setForRemoval){he.setForRemoval=!1,he.setForMove=!0;const et=this.collectedLeaveElements.indexOf(_);et>=0&&this.collectedLeaveElements.splice(et,1)}if(b){const et=this._fetchNamespace(b);et&&et.insertNode(_,T)}G&&this.collectEnterElement(_)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,_){_?this.disabledNodes.has(b)||(this.disabledNodes.add(b),Qo(b,ys)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),ds(b,ys))}removeNode(b,_,T){if(ua(_)){const G=b?this._fetchNamespace(b):null;G?G.removeNode(_,T):this.markElementAsRemoved(b,_,!1,T);const he=this.namespacesByHostElement.get(_);he&&he.id!==b&&he.removeNode(_,T)}else this._onRemovalComplete(_,T)}markElementAsRemoved(b,_,T,G,he){this.collectedLeaveElements.push(_),_[Fo]={namespaceId:b,setForRemoval:G,hasAnimation:T,removedBeforeQueried:!1,previousTriggersValues:he}}listen(b,_,T,G,he){return ua(_)?this._fetchNamespace(b).listen(_,T,G,he):()=>{}}_buildInstruction(b,_,T,G,he){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,T,G,b.fromState.options,b.toState.options,_,he)}destroyInnerAnimations(b){let _=this.driver.query(b,pt,!0);_.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(b,Pt,!0),_.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(b){const _=this.playersByElement.get(b);_&&_.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(b){const _=this.playersByQueriedElement.get(b);_&&_.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return er(this.players).onDone(()=>b());b()})}processLeaveNode(b){const _=b[Fo];if(_&&_.setForRemoval){if(b[Fo]=so,_.namespaceId){this.destroyInnerAnimations(b);const T=this._fetchNamespace(_.namespaceId);T&&T.clearElementCache(b)}this._onRemovalComplete(b,_.setForRemoval)}b.classList?.contains(ys)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(b=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,G)=>this._balanceNamespaceList(T,G)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)Qo(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{_=this._flushAnimations(T,b)}finally{for(let G=0;G<T.length;G++)T[G]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],_.length?er(_).onDone(()=>{T.forEach(G=>G())}):T.forEach(G=>G())}}reportError(b){throw function Ir(V){return new f.vHH(3402,!1)}()}_flushAnimations(b,_){const T=new xn,G=[],he=new Map,et=[],at=new Map,vt=new Map,sn=new Map,$n=new Set;this.disabledNodes.forEach(ri=>{$n.add(ri);const mt=this.driver.query(ri,".ng-animate-queued",!0);for(let ui=0;ui<mt.length;ui++)$n.add(mt[ui])});const Mn=this.bodyNode,kn=Array.from(this.statesByElement.keys()),Bi=cs(kn,this.collectedEnterElements),Vn=new Map;let mi=0;Bi.forEach((ri,mt)=>{const ui=Wr+mi++;Vn.set(mt,ui),ri.forEach(Ri=>Qo(Ri,ui))});const Di=[],w=new Set,M=new Set;for(let ri=0;ri<this.collectedLeaveElements.length;ri++){const mt=this.collectedLeaveElements[ri],ui=mt[Fo];ui&&ui.setForRemoval&&(Di.push(mt),w.add(mt),ui.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(Ri=>w.add(Ri)):M.add(mt))}const x=new Map,F=cs(kn,Array.from(w));F.forEach((ri,mt)=>{const ui=Rr+mi++;x.set(mt,ui),ri.forEach(Ri=>Qo(Ri,ui))}),b.push(()=>{Bi.forEach((ri,mt)=>{const ui=Vn.get(mt);ri.forEach(Ri=>ds(Ri,ui))}),F.forEach((ri,mt)=>{const ui=x.get(mt);ri.forEach(Ri=>ds(Ri,ui))}),Di.forEach(ri=>{this.processLeaveNode(ri)})});const ee=[],ve=[];for(let ri=this._namespaceList.length-1;ri>=0;ri--)this._namespaceList[ri].drainQueuedTransitions(_).forEach(ui=>{const Ri=ui.player,$o=ui.element;if(ee.push(Ri),this.collectedEnterElements.length){const Ps=$o[Fo];if(Ps&&Ps.setForMove){if(Ps.previousTriggersValues&&Ps.previousTriggersValues.has(ui.triggerName)){const Ms=Ps.previousTriggersValues.get(ui.triggerName),jr=this.statesByElement.get(ui.element);if(jr&&jr.has(ui.triggerName)){const xs=jr.get(ui.triggerName);xs.value=Ms,jr.set(ui.triggerName,xs)}}return void Ri.destroy()}}const Rs=!Mn||!this.driver.containsElement(Mn,$o),ao=x.get($o),na=Vn.get($o),Er=this._buildInstruction(ui,T,na,ao,Rs);if(Er.errors&&Er.errors.length)return void ve.push(Er);if(Rs)return Ri.onStart(()=>Tr($o,Er.fromStyles)),Ri.onDestroy(()=>ki($o,Er.toStyles)),void G.push(Ri);if(ui.isFallbackTransition)return Ri.onStart(()=>Tr($o,Er.fromStyles)),Ri.onDestroy(()=>ki($o,Er.toStyles)),void G.push(Ri);const Bl=[];Er.timelines.forEach(Ps=>{Ps.stretchStartingKeyframe=!0,this.disabledNodes.has(Ps.element)||Bl.push(Ps)}),Er.timelines=Bl,T.append($o,Er.timelines),et.push({instruction:Er,player:Ri,element:$o}),Er.queriedElements.forEach(Ps=>yi(at,Ps,[]).push(Ri)),Er.preStyleProps.forEach((Ps,Ms)=>{if(Ps.size){let jr=vt.get(Ms);jr||vt.set(Ms,jr=new Set),Ps.forEach((xs,ia)=>jr.add(ia))}}),Er.postStyleProps.forEach((Ps,Ms)=>{let jr=sn.get(Ms);jr||sn.set(Ms,jr=new Set),Ps.forEach((xs,ia)=>jr.add(ia))})});if(ve.length){const ri=[];ve.forEach(mt=>{ri.push(function bo(V,b){return new f.vHH(3505,!1)}())}),ee.forEach(mt=>mt.destroy()),this.reportError(ri)}const Ce=new Map,Dt=new Map;et.forEach(ri=>{const mt=ri.element;T.has(mt)&&(Dt.set(mt,mt),this._beforeAnimationBuild(ri.player.namespaceId,ri.instruction,Ce))}),G.forEach(ri=>{const mt=ri.element;this._getPreviousPlayers(mt,!1,ri.namespaceId,ri.triggerName,null).forEach(Ri=>{yi(Ce,mt,[]).push(Ri),Ri.destroy()})});const bn=Di.filter(ri=>ha(ri,vt,sn)),ai=new Map;ls(ai,this.driver,M,sn,ni.l3).forEach(ri=>{ha(ri,vt,sn)&&bn.push(ri)});const Xi=new Map;Bi.forEach((ri,mt)=>{ls(Xi,this.driver,new Set(ri),vt,ni.k1)}),bn.forEach(ri=>{const mt=ai.get(ri),ui=Xi.get(ri);ai.set(ri,new Map([...mt?.entries()??[],...ui?.entries()??[]]))});const Jr=[],Ea=[],fs={};et.forEach(ri=>{const{element:mt,player:ui,instruction:Ri}=ri;if(T.has(mt)){if($n.has(mt))return ui.onDestroy(()=>ki(mt,Ri.toStyles)),ui.disabled=!0,ui.overrideTotalTime(Ri.totalTime),void G.push(ui);let $o=fs;if(Dt.size>1){let ao=mt;const na=[];for(;ao=ao.parentNode;){const Er=Dt.get(ao);if(Er){$o=Er;break}na.push(ao)}na.forEach(Er=>Dt.set(Er,$o))}const Rs=this._buildAnimation(ui.namespaceId,Ri,Ce,he,Xi,ai);if(ui.setRealPlayer(Rs),$o===fs)Jr.push(ui);else{const ao=this.playersByElement.get($o);ao&&ao.length&&(ui.parentPlayer=er(ao)),G.push(ui)}}else Tr(mt,Ri.fromStyles),ui.onDestroy(()=>ki(mt,Ri.toStyles)),Ea.push(ui),$n.has(mt)&&G.push(ui)}),Ea.forEach(ri=>{const mt=he.get(ri.element);if(mt&&mt.length){const ui=er(mt);ri.setRealPlayer(ui)}}),G.forEach(ri=>{ri.parentPlayer?ri.syncPlayerEvents(ri.parentPlayer):ri.destroy()});for(let ri=0;ri<Di.length;ri++){const mt=Di[ri],ui=mt[Fo];if(ds(mt,Rr),ui&&ui.hasAnimation)continue;let Ri=[];if(at.size){let Rs=at.get(mt);Rs&&Rs.length&&Ri.push(...Rs);let ao=this.driver.query(mt,Pt,!0);for(let na=0;na<ao.length;na++){let Er=at.get(ao[na]);Er&&Er.length&&Ri.push(...Er)}}const $o=Ri.filter(Rs=>!Rs.destroyed);$o.length?lr(this,mt,$o):this.processLeaveNode(mt)}return Di.length=0,Jr.forEach(ri=>{this.players.push(ri),ri.onDone(()=>{ri.destroy();const mt=this.players.indexOf(ri);this.players.splice(mt,1)}),ri.play()}),Jr}elementContainsData(b,_){let T=!1;const G=_[Fo];return G&&G.setForRemoval&&(T=!0),this.playersByElement.has(_)&&(T=!0),this.playersByQueriedElement.has(_)&&(T=!0),this.statesByElement.has(_)&&(T=!0),this._fetchNamespace(b).elementContainsData(_)||T}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,_,T,G,he){let et=[];if(_){const at=this.playersByQueriedElement.get(b);at&&(et=at)}else{const at=this.playersByElement.get(b);if(at){const vt=!he||he==Hs;at.forEach(sn=>{sn.queued||!vt&&sn.triggerName!=G||et.push(sn)})}}return(T||G)&&(et=et.filter(at=>!(T&&T!=at.namespaceId||G&&G!=at.triggerName))),et}_beforeAnimationBuild(b,_,T){const he=_.element,et=_.isRemovalTransition?void 0:b,at=_.isRemovalTransition?void 0:_.triggerName;for(const vt of _.timelines){const sn=vt.element,$n=sn!==he,Mn=yi(T,sn,[]);this._getPreviousPlayers(sn,$n,et,at,_.toState).forEach(Bi=>{const Vn=Bi.getRealPlayer();Vn.beforeDestroy&&Vn.beforeDestroy(),Bi.destroy(),Mn.push(Bi)})}Tr(he,_.fromStyles)}_buildAnimation(b,_,T,G,he,et){const at=_.triggerName,vt=_.element,sn=[],$n=new Set,Mn=new Set,kn=_.timelines.map(Vn=>{const mi=Vn.element;$n.add(mi);const Di=mi[Fo];if(Di&&Di.removedBeforeQueried)return new ni.ZN(Vn.duration,Vn.delay);const w=mi!==vt,M=function Eo(V){const b=[];return Ys(V,b),b}((T.get(mi)||Ta).map(Ce=>Ce.getRealPlayer())).filter(Ce=>!!Ce.element&&Ce.element===mi),x=he.get(mi),F=et.get(mi),ee=to(this._normalizer,Vn.keyframes,x,F),ve=this._buildPlayer(Vn,ee,M);if(Vn.subTimeline&&G&&Mn.add(mi),w){const Ce=new Is(b,at,mi);Ce.setRealPlayer(ve),sn.push(Ce)}return ve});sn.forEach(Vn=>{yi(this.playersByQueriedElement,Vn.element,[]).push(Vn),Vn.onDone(()=>function Ma(V,b,_){let T=V.get(b);if(T){if(T.length){const G=T.indexOf(_);T.splice(G,1)}0==T.length&&V.delete(b)}return T}(this.playersByQueriedElement,Vn.element,Vn))}),$n.forEach(Vn=>Qo(Vn,lt));const Bi=er(kn);return Bi.onDestroy(()=>{$n.forEach(Vn=>ds(Vn,lt)),ki(vt,_.toStyles)}),Mn.forEach(Vn=>{yi(G,Vn,[]).push(Bi)}),Bi}_buildPlayer(b,_,T){return _.length>0?this.driver.animate(b.element,_,b.duration,b.delay,b.easing,T):new ni.ZN(b.duration,b.delay)}}class Is{constructor(b,_,T){this.namespaceId=b,this.triggerName=_,this.element=T,this._player=new ni.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((_,T)=>{_.forEach(G=>kr(b,T,void 0,G))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const _=this._player;_.triggerCallback&&b.onStart(()=>_.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,_){yi(this._queuedCallbacks,b,[]).push(_)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const _=this._player;_.triggerCallback&&_.triggerCallback(b)}}function ua(V){return V&&1===V.nodeType}function Zs(V,b){const _=V.style.display;return V.style.display=b??"none",_}function ls(V,b,_,T,G){const he=[];_.forEach(vt=>he.push(Zs(vt)));const et=[];T.forEach((vt,sn)=>{const $n=new Map;vt.forEach(Mn=>{const kn=b.computeStyle(sn,Mn,G);$n.set(Mn,kn),(!kn||0==kn.length)&&(sn[Fo]=_l,et.push(sn))}),V.set(sn,$n)});let at=0;return _.forEach(vt=>Zs(vt,he[at++])),et}function cs(V,b){const _=new Map;if(V.forEach(at=>_.set(at,[])),0==b.length)return _;const T=1,G=new Set(b),he=new Map;function et(at){if(!at)return T;let vt=he.get(at);if(vt)return vt;const sn=at.parentNode;return vt=_.has(sn)?sn:G.has(sn)?T:et(sn),he.set(at,vt),vt}return b.forEach(at=>{const vt=et(at);vt!==T&&_.get(vt).push(at)}),_}function Qo(V,b){V.classList?.add(b)}function ds(V,b){V.classList?.remove(b)}function lr(V,b,_){er(_).onDone(()=>V.processLeaveNode(b))}function Ys(V,b){for(let _=0;_<V.length;_++){const T=V[_];T instanceof ni.ZE?Ys(T.players,b):b.push(T)}}function ha(V,b,_){const T=_.get(V);if(!T)return!1;let G=b.get(V);return G?T.forEach(he=>G.add(he)):b.set(V,T),_.delete(V),!0}class R{constructor(b,_,T){this.bodyNode=b,this._driver=_,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(G,he)=>{},this._transitionEngine=new wa(b,_,T),this._timelineEngine=new xo(b,_,T),this._transitionEngine.onRemovalComplete=(G,he)=>this.onRemovalComplete(G,he)}registerTrigger(b,_,T,G,he){const et=b+"-"+G;let at=this._triggerCache[et];if(!at){const vt=[],$n=Mr(this._driver,he,vt,[]);if(vt.length)throw function Si(V,b){return new f.vHH(3404,!1)}();at=function Oi(V,b,_){return new Po(V,b,_)}(G,$n,this._normalizer),this._triggerCache[et]=at}this._transitionEngine.registerTrigger(_,G,at)}register(b,_){this._transitionEngine.register(b,_)}destroy(b,_){this._transitionEngine.destroy(b,_)}onInsert(b,_,T,G){this._transitionEngine.insertNode(b,_,T,G)}onRemove(b,_,T){this._transitionEngine.removeNode(b,_,T)}disableAnimations(b,_){this._transitionEngine.markElementAsDisabled(b,_)}process(b,_,T,G){if("@"==T.charAt(0)){const[he,et]=Zo(T);this._timelineEngine.command(he,_,et,G)}else this._transitionEngine.trigger(b,_,T,G)}listen(b,_,T,G,he){if("@"==T.charAt(0)){const[et,at]=Zo(T);return this._timelineEngine.listen(et,_,at,he)}return this._transitionEngine.listen(b,_,T,G,he)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let B=(()=>{class V{constructor(_,T,G){this._element=_,this._startStyles=T,this._endStyles=G,this._state=0;let he=V.initialStylesByElement.get(_);he||V.initialStylesByElement.set(_,he=new Map),this._initialStyles=he}start(){this._state<1&&(this._startStyles&&ki(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ki(this._element,this._initialStyles),this._endStyles&&(ki(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(V.initialStylesByElement.delete(this._element),this._startStyles&&(Tr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tr(this._element,this._endStyles),this._endStyles=null),ki(this._element,this._initialStyles),this._state=3)}}return V.initialStylesByElement=new WeakMap,V})();function fe(V){let b=null;return V.forEach((_,T)=>{(function Ye(V){return"display"===V||"position"===V})(T)&&(b=b||new Map,b.set(T,_))}),b}class Qt{constructor(b,_,T,G){this.element=b,this.keyframes=_,this.options=T,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const _=[];return b.forEach(T=>{_.push(Object.fromEntries(T))}),_}_triggerWebAnimation(b,_,T){return b.animate(this._convertKeyframesToObject(_),T)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((T,G)=>{"offset"!==G&&b.set(G,this._finished?T:ar(this.element,G))}),this.currentSnapshot=b}triggerCallback(b){const _="start"===b?this._onStartFns:this._onDoneFns;_.forEach(T=>T()),_.length=0}}class hn{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}matchesElement(b,_){return!1}containsElement(b,_){return Yo(b,_)}getParentElement(b){return no(b)}query(b,_,T){return ro(b,_,T)}computeStyle(b,_,T){return window.getComputedStyle(b)[_]}animate(b,_,T,G,he,et=[]){const vt={duration:T,delay:G,fill:0==G?"both":"forwards"};he&&(vt.easing=he);const sn=new Map,$n=et.filter(Bi=>Bi instanceof Qt);(function os(V,b){return 0===V||0===b})(T,G)&&$n.forEach(Bi=>{Bi.currentSnapshot.forEach((Vn,mi)=>sn.set(mi,Vn))});let Mn=function Ur(V){return V.length?V[0]instanceof Map?V:V.map(b=>bi(b)):[]}(_).map(Bi=>Ki(Bi));Mn=function Ls(V,b,_){if(_.size&&b.length){let T=b[0],G=[];if(_.forEach((he,et)=>{T.has(et)||G.push(et),T.set(et,he)}),G.length)for(let he=1;he<b.length;he++){let et=b[he];G.forEach(at=>et.set(at,ar(V,at)))}}return b}(b,Mn,sn);const kn=function Q(V,b){let _=null,T=null;return Array.isArray(b)&&b.length?(_=fe(b[0]),b.length>1&&(T=fe(b[b.length-1]))):b instanceof Map&&(_=fe(b)),_||T?new B(V,_,T):null}(b,Mn);return new Qt(b,Mn,vt,kn)}}let qn=(()=>{class V extends ni._j{constructor(_,T){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(T.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(_){const T=this._nextAnimationId.toString();this._nextAnimationId++;const G=Array.isArray(_)?(0,ni.vP)(_):_;return Ei(this._renderer,null,T,"register",[G]),new Zi(T,this._renderer)}}return V.\u0275fac=function(_){return new(_||V)(f.LFG(f.FYo),f.LFG(me.K0))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})();class Zi extends ni.LC{constructor(b,_){super(),this._id=b,this._renderer=_}create(b,_){return new Pi(this._id,b,_||{},this._renderer)}}class Pi{constructor(b,_,T,G){this.id=b,this.element=_,this._renderer=G,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(b,_){return this._renderer.listen(this.element,`@@${this.id}:${b}`,_)}_command(b,..._){return Ei(this._renderer,this.element,this.id,b,_)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ei(V,b,_,T,G){return V.setProperty(b,`@@${_}:${T}`,G)}const ir="@.disabled";let zn=(()=>{class V{constructor(_,T,G){this.delegate=_,this.engine=T,this._zone=G,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(he,et)=>{const at=et?.parentNode(he);at&&et.removeChild(at,he)}}createRenderer(_,T){const he=this.delegate.createRenderer(_,T);if(!(_&&T&&T.data&&T.data.animation)){let $n=this._rendererCache.get(he);return $n||($n=new Yr("",he,this.engine,()=>this._rendererCache.delete(he)),this._rendererCache.set(he,$n)),$n}const et=T.id,at=T.id+"-"+this._currentId;this._currentId++,this.engine.register(at,_);const vt=$n=>{Array.isArray($n)?$n.forEach(vt):this.engine.registerTrigger(et,at,_,$n.name,$n)};return T.data.animation.forEach(vt),new bs(this,at,he,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,T,G){_>=0&&_<this._microtaskId?this._zone.run(()=>T(G)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(he=>{const[et,at]=he;et(at)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,G]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return V.\u0275fac=function(_){return new(_||V)(f.LFG(f.FYo),f.LFG(R),f.LFG(f.R0b))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})();class Yr{constructor(b,_,T,G){this.namespaceId=b,this.delegate=_,this.engine=T,this._onDestroy=G,this.destroyNode=this.delegate.destroyNode?he=>_.destroyNode(he):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(b,_){return this.delegate.createElement(b,_)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,_){this.delegate.appendChild(b,_),this.engine.onInsert(this.namespaceId,_,b,!1)}insertBefore(b,_,T,G=!0){this.delegate.insertBefore(b,_,T),this.engine.onInsert(this.namespaceId,_,b,G)}removeChild(b,_,T){this.engine.onRemove(this.namespaceId,_,this.delegate)}selectRootElement(b,_){return this.delegate.selectRootElement(b,_)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,_,T,G){this.delegate.setAttribute(b,_,T,G)}removeAttribute(b,_,T){this.delegate.removeAttribute(b,_,T)}addClass(b,_){this.delegate.addClass(b,_)}removeClass(b,_){this.delegate.removeClass(b,_)}setStyle(b,_,T,G){this.delegate.setStyle(b,_,T,G)}removeStyle(b,_,T){this.delegate.removeStyle(b,_,T)}setProperty(b,_,T){"@"==_.charAt(0)&&_==ir?this.disableAnimations(b,!!T):this.delegate.setProperty(b,_,T)}setValue(b,_){this.delegate.setValue(b,_)}listen(b,_,T){return this.delegate.listen(b,_,T)}disableAnimations(b,_){this.engine.disableAnimations(b,_)}}class bs extends Yr{constructor(b,_,T,G,he){super(_,T,G,he),this.factory=b,this.namespaceId=_}setProperty(b,_,T){"@"==_.charAt(0)?"."==_.charAt(1)&&_==ir?this.disableAnimations(b,T=void 0===T||!!T):this.engine.process(this.namespaceId,b,_.slice(1),T):this.delegate.setProperty(b,_,T)}listen(b,_,T){if("@"==_.charAt(0)){const G=function qr(V){switch(V){case"body":return document.body;case"document":return document;case"window":return window;default:return V}}(b);let he=_.slice(1),et="";return"@"!=he.charAt(0)&&([he,et]=function xa(V){const b=V.indexOf(".");return[V.substring(0,b),V.slice(b+1)]}(he)),this.engine.listen(this.namespaceId,G,he,et,at=>{this.factory.scheduleListenerCallback(at._data||-1,T,at)})}return this.delegate.listen(b,_,T)}}const ws=[{provide:ni._j,useClass:qn},{provide:Nt,useFactory:function qs(){return new Hn}},{provide:R,useClass:(()=>{class V extends R{constructor(_,T,G,he){super(_.body,T,G)}ngOnDestroy(){this.flush()}}return V.\u0275fac=function(_){return new(_||V)(f.LFG(me.K0),f.LFG(ns),f.LFG(Nt),f.LFG(f.z2F))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})()},{provide:f.FYo,useFactory:function us(V,b,_){return new zn(V,b,_)},deps:[d.se,R,f.R0b]}],rl=[{provide:ns,useFactory:()=>new hn},{provide:f.QbO,useValue:"BrowserAnimations"},...ws],fa=[{provide:ns,useClass:ts},{provide:f.QbO,useValue:"NoopAnimations"},...ws];let vl=(()=>{class V{static withConfig(_){return{ngModule:V,providers:_.disableAnimations?fa:rl}}}return V.\u0275fac=function(_){return new(_||V)},V.\u0275mod=f.oAB({type:V}),V.\u0275inj=f.cJS({providers:rl,imports:[d.b2]}),V})();var vo=E(3144);const hs_firebaseConfig={apiKey:"AIzaSyCBFiqylI83kkUooQ5SKoyaA4AD4cJtW2I",authDomain:"socialmediafeed-72afc.firebaseapp.com",projectId:"socialmediafeed-72afc",storageBucket:"socialmediafeed-72afc.appspot.com",messagingSenderId:"708393762131",appId:"1:708393762131:web:6d451bd3a6d6149c4d35a6",measurementId:"G-VF9CFXKB75"};var Qr=E(2011),Pa=E(8854);function ol(V,b){1&V&&(f.TgZ(0,"div")(1,"small",6),f._uU(2,"Nickname field cannot be empty"),f.qZA()())}function In(V,b){1&V&&(f.TgZ(0,"div")(1,"small",6),f._uU(2,"Description field cannot be empty"),f.qZA()())}const xr=function(V,b){return{active:V,idle:b}};let Ss=(()=>{class V{constructor(_){this.userDataService=_,this.profileForm=new ae.cw({nickname:new ae.NI("",[ae.kI.required]),description:new ae.NI("",[ae.kI.required])})}onContinueClick(){const _=this.profileForm.get("nickname"),T=this.profileForm.get("description");_?.markAsTouched(),T?.markAsTouched(),_&&T&&!_.errors&&!T.errors&&(this.userDataService.createUser(_.value,T.value),this.profileForm.reset())}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(ne.M))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:7,consts:[[1,"profile",3,"ngClass"],[1,"profile-content",3,"formGroup","submit"],["formControlName","nickname","placeholder","Nickname"],[4,"ngIf"],["formControlName","description","placeholder","Description"],["mat-flat-button","","color","warn","type","submit"],[1,"error"]],template:function(_,T){if(1&_&&(f.TgZ(0,"div",0)(1,"form",1),f.NdJ("submit",function(){return T.onContinueClick()}),f._UZ(2,"input",2),f.YNc(3,ol,3,0,"div",3),f._UZ(4,"textarea",4),f.YNc(5,In,3,0,"div",3),f.TgZ(6,"button",5),f._uU(7,"Continue"),f.qZA()()()),2&_){let G,he;f.Q6J("ngClass",f.WLB(4,xr,T.show,!T.show)),f.xp6(1),f.Q6J("formGroup",T.profileForm),f.xp6(2),f.Q6J("ngIf",(null==(G=T.profileForm.get("nickname"))?null:G.invalid)&&(null==(G=T.profileForm.get("nickname"))?null:G.touched)),f.xp6(2),f.Q6J("ngIf",(null==(he=T.profileForm.get("description"))?null:he.invalid)&&(null==(he=T.profileForm.get("description"))?null:he.touched))}},dependencies:[me.mk,me.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Xe.lW],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;right:0;height:100vh;background-color:#313131;z-index:9;transition-duration:.5s;overflow:hidden}.profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box}.profile-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-top:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}"]}),V})();var Xr=E(8099),ii=E(9383);let di=(()=>{class V{constructor(_,T,G){this.dialog=_,this.userDataService=T,this.router=G}ChangeNicknameClick(){this.dialog.open(Xr.f,{data:{info:"Change Nickname",message:`Your current nickname - ${this.userDataService.userInfo.publicName}`,field:"publicName"}})}ChangeDescriptionClick(){this.dialog.open(Xr.f,{data:{info:"Change Description",message:`Your current description - ${this.userDataService.userInfo.description}`,field:"description"}})}DeleteAccountClick(){this.dialog.open(Xr.f,{data:{info:"Delete account",message:"Are you sure you want to delete your account? All your posts will be deleted",yesButton:!0}})}HomaPageClick(){this.router.navigate(["userPage"])}NewsClick(){this.router.navigate(["postFeed"])}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(de.uw),f.Y36(ne.M),f.Y36(L.F0))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-sidebar"]],decls:33,vars:2,consts:[[1,"sidebar"],["color","primary",3,"click"],["color","primary",3,"matMenuTriggerFor"],["menuNotifications","matMenu"],["mat-menu-item",""],["menuSettings","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(_,T){if(1&_&&(f.TgZ(0,"div",0)(1,"mat-toolbar",1),f.NdJ("click",function(){return T.HomaPageClick()}),f.TgZ(2,"mat-icon"),f._uU(3,"home"),f.qZA(),f._uU(4," Home "),f.qZA(),f.TgZ(5,"mat-toolbar",1),f.NdJ("click",function(){return T.NewsClick()}),f.TgZ(6,"mat-icon"),f._uU(7,"newspaper"),f.qZA(),f._uU(8," News "),f.qZA(),f.TgZ(9,"mat-toolbar",2)(10,"mat-icon"),f._uU(11,"notifications"),f.qZA(),f._uU(12," Notifications "),f._UZ(13,"br"),f._uU(14," (under development) "),f.qZA(),f.TgZ(15,"mat-toolbar",2)(16,"mat-icon"),f._uU(17,"settings"),f.qZA(),f._uU(18," Settings "),f.qZA(),f.TgZ(19,"mat-menu",null,3)(21,"button",4),f._uU(22,"New friends"),f.qZA(),f.TgZ(23,"button",4),f._uU(24,"New likes"),f.qZA()(),f.TgZ(25,"mat-menu",null,5)(27,"button",6),f.NdJ("click",function(){return T.ChangeNicknameClick()}),f._uU(28," Change nickname "),f.qZA(),f.TgZ(29,"button",6),f.NdJ("click",function(){return T.ChangeDescriptionClick()}),f._uU(30," Change description "),f.qZA(),f.TgZ(31,"button",7),f.NdJ("click",function(){return T.DeleteAccountClick()}),f._uU(32," Delete account "),f.qZA()()()),2&_){const G=f.MAs(20),he=f.MAs(26);f.xp6(9),f.Q6J("matMenuTriggerFor",G),f.xp6(6),f.Q6J("matMenuTriggerFor",he)}},dependencies:[Ge.Hw,ii.Ye,_n.VK,_n.OP,_n.p6],styles:[".sidebar[_ngcontent-%COMP%]{position:absolute;top:5em;left:0;height:5em;z-index:10}.mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;cursor:pointer;background-color:#0111a1cc}.mdc-list-item[_ngcontent-%COMP%]{width:200px;background-color:#fff}  .mat-mdc-menu-content{padding:0!important}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}"]}),V})();function Ts(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"div",8),f.NdJ("click",function(){f.CHM(_);const G=f.oxw(2);return f.KtG(G.onLoginClick())}),f._uU(1," Login "),f.qZA()}}function Un(V,b){if(1&V&&(f.TgZ(0,"div",9),f._uU(1),f.qZA()),2&V){const _=f.oxw(2);f.xp6(1),f.hij(" Hello, ",_.getUserName()," ")}}function Jt(V,b){if(1&V){const _=f.EpF();f.TgZ(0,"div",8),f.NdJ("click",function(){f.CHM(_);const G=f.oxw(2);return f.KtG(G.onLogoutClick())}),f._uU(1," Logout "),f.qZA()}}function yn(V,b){if(1&V&&(f.TgZ(0,"div",5),f.YNc(1,Ts,2,0,"div",6),f.YNc(2,Un,2,1,"div",7),f.YNc(3,Jt,2,0,"div",6),f.qZA()),2&V){const _=f.oxw();f.xp6(1),f.Q6J("ngIf",!_.getIsLoggedIn()),f.xp6(1),f.Q6J("ngIf",_.getIsLoggedIn()&&_.getUserHasProfile()),f.xp6(1),f.Q6J("ngIf",_.getIsLoggedIn())}}let Ui=(()=>{class V{constructor(_,T,G,he){this.userDataService=_,this.loginSheet=T,this.afAuth=G,this.router=he}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}getUserName(){return this.userDataService.userInfo?.publicName||""}onLoginClick(){this.loginSheet.open(Fe)}onLogoutClick(){this.router.navigate([""]),this.userDataService.resetUserName(),this.afAuth.signOut()}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(ne.M),f.Y36(Ee.ch),f.Y36(se.zQ),f.Y36(L.F0))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"nav-bar"],[1,"nav-bar-content"],[1,"nav-bar-left"],["target","_blank","href","https://www.instagram.com/vlladyaa/",1,"nav-bar-items","link"],["class","nav-bar-right",4,"ngIf"],[1,"nav-bar-right"],["class","nav-bar-items link",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[1,"nav-bar-items","link",3,"click"],[1,"nav-bar-items"]],template:function(_,T){1&_&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),f._uU(4,"Instagram"),f.qZA()(),f.YNc(5,yn,4,3,"div",4),f.qZA()()),2&_&&(f.xp6(5),f.Q6J("ngIf",void 0!==T.getIsLoggedIn()))},dependencies:[me.O5],styles:[".nav-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#00000080;height:5em;z-index:10}.nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}.nav-bar-left[_ngcontent-%COMP%], .nav-bar-right[_ngcontent-%COMP%]{opacity:1;display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;color:#fff;font-weight:900}.link[_ngcontent-%COMP%]{outline:none;text-decoration:none}.link[_ngcontent-%COMP%]:link, .link[_ngcontent-%COMP%]:visited{color:#fff}.link[_ngcontent-%COMP%]:hover{border-bottom:1px solid;background:#b4b4b4;padding:5px;border-radius:1em}.link[_ngcontent-%COMP%]:active{background:#ec6802;color:#fff}.nav-bar-left[_ngcontent-%COMP%]{font-size:1.5em}.nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),V})();function Nl(V,b){1&V&&f._UZ(0,"app-sidebar")}let Lo=(()=>{class V{constructor(_,T){this.userDataService=_,this.location=T,this.title="SocialMediaProject",this.userDataService.checkLoginStatus()}checkUrl(){const _=this.location.path();return _.includes("postFeed")||_.includes("userPage")||_.includes("friendPage")}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}}return V.\u0275fac=function(_){return new(_||V)(f.Y36(ne.M),f.Y36(me.Ye))},V.\u0275cmp=f.Xpm({type:V,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"show"]],template:function(_,T){1&_&&(f._UZ(0,"app-navbar"),f.YNc(1,Nl,1,0,"app-sidebar",0),f._UZ(2,"router-outlet")(3,"app-profile",1)),2&_&&(f.xp6(1),f.Q6J("ngIf",T.checkUrl()),f.xp6(2),f.Q6J("show",T.getIsLoggedIn()&&!T.getUserHasProfile()))},dependencies:[me.O5,L.lC,Ss,di,Ui]}),V})(),Ll=(()=>{class V{}return V.\u0275fac=function(_){return new(_||V)},V.\u0275mod=f.oAB({type:V,bootstrap:[Lo]}),V.\u0275inj=f.cJS({providers:[ne.M,At.n],imports:[d.b2,_i,vl,Qr.hO.initializeApp(hs_firebaseConfig),rn.yb,pn.TE,ae.UX,vo.JF,Pa.q]}),V})();d.q6().bootstrapModule(Ll).catch(V=>console.error(V))},1135:(gn,nt,E)=>{E.d(nt,{X:()=>L});var d=E(7579);class L extends d.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const xe=super._subscribe(ne);return!xe.closed&&ne.next(this._value),xe}getValue(){const{hasError:ne,thrownError:xe,_value:ae}=this;if(ne)throw xe;return this._throwIfClosed(),ae}next(ne){super.next(this._value=ne)}}},9751:(gn,nt,E)=>{E.d(nt,{y:()=>_e});var d=E(930),L=E(727),f=E(8822),ne=E(9635),xe=E(2416),ae=E(576),Y=E(2806);let _e=(()=>{class me{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const dt=new me;return dt.source=this,dt.operator=Ne,dt}subscribe(Ne,dt,it){const Le=function de(me){return me&&me instanceof d.Lv||function se(me){return me&&(0,ae.m)(me.next)&&(0,ae.m)(me.error)&&(0,ae.m)(me.complete)}(me)&&(0,L.Nn)(me)}(Ne)?Ne:new d.Hp(Ne,dt,it);return(0,Y.x)(()=>{const{operator:He,source:Re}=this;Le.add(He?He.call(Le,Re):Re?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(dt){Ne.error(dt)}}forEach(Ne,dt){return new(dt=Ee(dt))((it,Le)=>{const He=new d.Hp({next:Re=>{try{Ne(Re)}catch(wt){Le(wt),He.unsubscribe()}},error:Le,complete:it});this.subscribe(He)})}_subscribe(Ne){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe(Ne)}[f.L](){return this}pipe(...Ne){return(0,ne.U)(Ne)(this)}toPromise(Ne){return new(Ne=Ee(Ne))((dt,it)=>{let Le;this.subscribe(He=>Le=He,He=>it(He),()=>dt(Le))})}}return me.create=Xe=>new me(Xe),me})();function Ee(me){var Xe;return null!==(Xe=me??xe.config.Promise)&&void 0!==Xe?Xe:Promise}},7579:(gn,nt,E)=>{E.d(nt,{x:()=>Y});var d=E(9751),L=E(727);const ne=(0,E(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=E(8737),ae=E(2806);let Y=(()=>{class Ee extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const me=new _e(this,this);return me.operator=de,me}_throwIfClosed(){if(this.closed)throw new ne}next(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(de)}})}error(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:me}=this;for(;me.length;)me.shift().error(de)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:me,isStopped:Xe,observers:Ne}=this;return me||Xe?L.Lc:(this.currentObservers=null,Ne.push(de),new L.w0(()=>{this.currentObservers=null,(0,xe.P)(Ne,de)}))}_checkFinalizedStatuses(de){const{hasError:me,thrownError:Xe,isStopped:Ne}=this;me?de.error(Xe):Ne&&de.complete()}asObservable(){const de=new d.y;return de.source=this,de}}return Ee.create=(se,de)=>new _e(se,de),Ee})();class _e extends Y{constructor(se,de){super(),this.destination=se,this.source=de}next(se){var de,me;null===(me=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===me||me.call(de,se)}error(se){var de,me;null===(me=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===me||me.call(de,se)}complete(){var se,de;null===(de=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===de||de.call(se)}_subscribe(se){var de,me;return null!==(me=null===(de=this.source)||void 0===de?void 0:de.subscribe(se))&&void 0!==me?me:L.Lc}}},930:(gn,nt,E)=>{E.d(nt,{Hp:()=>it,Lv:()=>me});var d=E(576),L=E(727),f=E(2416),ne=E(7849),xe=E(5032);const ae=Ee("C",void 0,void 0);function Ee(ue,Ie,be){return{kind:ue,value:Ie,error:be}}var se=E(3410),de=E(2806);class me extends L.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,L.Nn)(Ie)&&Ie.add(this)):this.destination=wt}static create(Ie,be,Me){return new it(Ie,be,Me)}next(Ie){this.isStopped?Re(function _e(ue){return Ee("N",ue,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Re(function Y(ue){return Ee("E",void 0,ue)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Re(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Ne(ue,Ie){return Xe.call(ue,Ie)}class dt{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:be}=this;if(be.next)try{be.next(Ie)}catch(Me){Le(Me)}}error(Ie){const{partialObserver:be}=this;if(be.error)try{be.error(Ie)}catch(Me){Le(Me)}else Le(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(be){Le(be)}}}class it extends me{constructor(Ie,be,Me){let $e;if(super(),(0,d.m)(Ie)||!Ie)$e={next:Ie??void 0,error:be??void 0,complete:Me??void 0};else{let Z;this&&f.config.useDeprecatedNextContext?(Z=Object.create(Ie),Z.unsubscribe=()=>this.unsubscribe(),$e={next:Ie.next&&Ne(Ie.next,Z),error:Ie.error&&Ne(Ie.error,Z),complete:Ie.complete&&Ne(Ie.complete,Z)}):$e=Ie}this.destination=new dt($e)}}function Le(ue){f.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(ue):(0,ne.h)(ue)}function Re(ue,Ie){const{onStoppedNotification:be}=f.config;be&&se.z.setTimeout(()=>be(ue,Ie))}const wt={closed:!0,next:xe.Z,error:function He(ue){throw ue},complete:xe.Z}},727:(gn,nt,E)=>{E.d(nt,{Lc:()=>ae,w0:()=>xe,Nn:()=>Y});var d=E(576);const f=(0,E(3888).d)(Ee=>function(de){Ee(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((me,Xe)=>`${Xe+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var ne=E(8737);class xe{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Ne of de)Ne.remove(this);else de.remove(this);const{initialTeardown:me}=this;if((0,d.m)(me))try{me()}catch(Ne){se=Ne instanceof f?Ne.errors:[Ne]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Ne of Xe)try{_e(Ne)}catch(dt){se=se??[],dt instanceof f?se=[...se,...dt.errors]:se.push(dt)}}if(se)throw new f(se)}}add(se){var de;if(se&&se!==this)if(this.closed)_e(se);else{if(se instanceof xe){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(se)}}_hasParent(se){const{_parentage:de}=this;return de===se||Array.isArray(de)&&de.includes(se)}_addParent(se){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(se),de):de?[de,se]:se}_removeParent(se){const{_parentage:de}=this;de===se?this._parentage=null:Array.isArray(de)&&(0,ne.P)(de,se)}remove(se){const{_finalizers:de}=this;de&&(0,ne.P)(de,se),se instanceof xe&&se._removeParent(this)}}xe.EMPTY=(()=>{const Ee=new xe;return Ee.closed=!0,Ee})();const ae=xe.EMPTY;function Y(Ee){return Ee instanceof xe||Ee&&"closed"in Ee&&(0,d.m)(Ee.remove)&&(0,d.m)(Ee.add)&&(0,d.m)(Ee.unsubscribe)}function _e(Ee){(0,d.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(gn,nt,E)=>{E.d(nt,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(gn,nt,E)=>{E.d(nt,{a:()=>se});var d=E(9751),L=E(4742),f=E(8996),ne=E(4671),xe=E(3268),ae=E(3269),Y=E(1810),_e=E(5403),Ee=E(9672);function se(...Xe){const Ne=(0,ae.yG)(Xe),dt=(0,ae.jO)(Xe),{args:it,keys:Le}=(0,L.D)(Xe);if(0===it.length)return(0,f.D)([],Ne);const He=new d.y(function de(Xe,Ne,dt=ne.y){return it=>{me(Ne,()=>{const{length:Le}=Xe,He=new Array(Le);let Re=Le,wt=Le;for(let ue=0;ue<Le;ue++)me(Ne,()=>{const Ie=(0,f.D)(Xe[ue],Ne);let be=!1;Ie.subscribe((0,_e.x)(it,Me=>{He[ue]=Me,be||(be=!0,wt--),wt||it.next(dt(He.slice()))},()=>{--Re||it.complete()}))},it)},it)}}(it,Ne,Le?Re=>(0,Y.n)(Le,Re):ne.y));return dt?He.pipe((0,xe.Z)(dt)):He}function me(Xe,Ne,dt){Xe?(0,Ee.f)(dt,Xe,Ne):Ne()}},7272:(gn,nt,E)=>{E.d(nt,{z:()=>xe});var d=E(8189),f=E(3269),ne=E(8996);function xe(...ae){return function L(){return(0,d.J)(1)}()((0,ne.D)(ae,(0,f.yG)(ae)))}},9770:(gn,nt,E)=>{E.d(nt,{P:()=>f});var d=E(9751),L=E(8421);function f(ne){return new d.y(xe=>{(0,L.Xf)(ne()).subscribe(xe)})}},515:(gn,nt,E)=>{E.d(nt,{E:()=>L});const L=new(E(9751).y)(xe=>xe.complete())},4128:(gn,nt,E)=>{E.d(nt,{D:()=>_e});var d=E(9751),L=E(4742),f=E(8421),ne=E(3269),xe=E(5403),ae=E(3268),Y=E(1810);function _e(...Ee){const se=(0,ne.jO)(Ee),{args:de,keys:me}=(0,L.D)(Ee),Xe=new d.y(Ne=>{const{length:dt}=de;if(!dt)return void Ne.complete();const it=new Array(dt);let Le=dt,He=dt;for(let Re=0;Re<dt;Re++){let wt=!1;(0,f.Xf)(de[Re]).subscribe((0,xe.x)(Ne,ue=>{wt||(wt=!0,He--),it[Re]=ue},()=>Le--,void 0,()=>{(!Le||!wt)&&(He||Ne.next(me?(0,Y.n)(me,it):it),Ne.complete())}))}});return se?Xe.pipe((0,ae.Z)(se)):Xe}},8996:(gn,nt,E)=>{E.d(nt,{D:()=>Ie});var d=E(8421),L=E(5363),f=E(9468),ae=E(9751),_e=E(2202),Ee=E(576),se=E(9672);function me(be,Me){if(!be)throw new Error("Iterable cannot be null");return new ae.y($e=>{(0,se.f)($e,Me,()=>{const Z=be[Symbol.asyncIterator]();(0,se.f)($e,Me,()=>{Z.next().then(We=>{We.done?$e.complete():$e.next(We.value)})},0,!0)})})}var Xe=E(3670),Ne=E(8239),dt=E(1144),it=E(6495),Le=E(2206),He=E(4532),Re=E(3260);function Ie(be,Me){return Me?function ue(be,Me){if(null!=be){if((0,Xe.c)(be))return function ne(be,Me){return(0,d.Xf)(be).pipe((0,f.R)(Me),(0,L.Q)(Me))}(be,Me);if((0,dt.z)(be))return function Y(be,Me){return new ae.y($e=>{let Z=0;return Me.schedule(function(){Z===be.length?$e.complete():($e.next(be[Z++]),$e.closed||this.schedule())})})}(be,Me);if((0,Ne.t)(be))return function xe(be,Me){return(0,d.Xf)(be).pipe((0,f.R)(Me),(0,L.Q)(Me))}(be,Me);if((0,Le.D)(be))return me(be,Me);if((0,it.T)(be))return function de(be,Me){return new ae.y($e=>{let Z;return(0,se.f)($e,Me,()=>{Z=be[_e.h](),(0,se.f)($e,Me,()=>{let We,Fe;try{({value:We,done:Fe}=Z.next())}catch(ze){return void $e.error(ze)}Fe?$e.complete():$e.next(We)},0,!0)}),()=>(0,Ee.m)(Z?.return)&&Z.return()})}(be,Me);if((0,Re.L)(be))return function wt(be,Me){return me((0,Re.Q)(be),Me)}(be,Me)}throw(0,He.z)(be)}(be,Me):(0,d.Xf)(be)}},8421:(gn,nt,E)=>{E.d(nt,{Xf:()=>Xe});var d=E(7582),L=E(1144),f=E(8239),ne=E(9751),xe=E(3670),ae=E(2206),Y=E(4532),_e=E(6495),Ee=E(3260),se=E(576),de=E(7849),me=E(8822);function Xe(ue){if(ue instanceof ne.y)return ue;if(null!=ue){if((0,xe.c)(ue))return function Ne(ue){return new ne.y(Ie=>{const be=ue[me.L]();if((0,se.m)(be.subscribe))return be.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,L.z)(ue))return function dt(ue){return new ne.y(Ie=>{for(let be=0;be<ue.length&&!Ie.closed;be++)Ie.next(ue[be]);Ie.complete()})}(ue);if((0,f.t)(ue))return function it(ue){return new ne.y(Ie=>{ue.then(be=>{Ie.closed||(Ie.next(be),Ie.complete())},be=>Ie.error(be)).then(null,de.h)})}(ue);if((0,ae.D)(ue))return He(ue);if((0,_e.T)(ue))return function Le(ue){return new ne.y(Ie=>{for(const be of ue)if(Ie.next(be),Ie.closed)return;Ie.complete()})}(ue);if((0,Ee.L)(ue))return function Re(ue){return He((0,Ee.Q)(ue))}(ue)}throw(0,Y.z)(ue)}function He(ue){return new ne.y(Ie=>{(function wt(ue,Ie){var be,Me,$e,Z;return(0,d.mG)(this,void 0,void 0,function*(){try{for(be=(0,d.KL)(ue);!(Me=yield be.next()).done;)if(Ie.next(Me.value),Ie.closed)return}catch(We){$e={error:We}}finally{try{Me&&!Me.done&&(Z=be.return)&&(yield Z.call(be))}finally{if($e)throw $e.error}}Ie.complete()})})(ue,Ie).catch(be=>Ie.error(be))})}},6451:(gn,nt,E)=>{E.d(nt,{T:()=>ae});var d=E(8189),L=E(8421),f=E(515),ne=E(3269),xe=E(8996);function ae(...Y){const _e=(0,ne.yG)(Y),Ee=(0,ne._6)(Y,1/0),se=Y;return se.length?1===se.length?(0,L.Xf)(se[0]):(0,d.J)(Ee)((0,xe.D)(se,_e)):f.E}},9646:(gn,nt,E)=>{E.d(nt,{of:()=>f});var d=E(3269),L=E(8996);function f(...ne){const xe=(0,d.yG)(ne);return(0,L.D)(ne,xe)}},2843:(gn,nt,E)=>{E.d(nt,{_:()=>f});var d=E(9751),L=E(576);function f(ne,xe){const ae=(0,L.m)(ne)?ne:()=>ne,Y=_e=>_e.error(ae());return new d.y(xe?_e=>xe.schedule(Y,0,_e):Y)}},5963:(gn,nt,E)=>{E.d(nt,{H:()=>xe});var d=E(9751),L=E(4986),f=E(3532);function xe(ae=0,Y,_e=L.P){let Ee=-1;return null!=Y&&((0,f.K)(Y)?_e=Y:Ee=Y),new d.y(se=>{let de=function ne(ae){return ae instanceof Date&&!isNaN(ae)}(ae)?+ae-_e.now():ae;de<0&&(de=0);let me=0;return _e.schedule(function(){se.closed||(se.next(me++),0<=Ee?this.schedule(void 0,Ee):se.complete())},de)})}},5403:(gn,nt,E)=>{E.d(nt,{x:()=>L});var d=E(930);function L(ne,xe,ae,Y,_e){return new f(ne,xe,ae,Y,_e)}class f extends d.Lv{constructor(xe,ae,Y,_e,Ee,se){super(xe),this.onFinalize=Ee,this.shouldUnsubscribe=se,this._next=ae?function(de){try{ae(de)}catch(me){xe.error(me)}}:super._next,this._error=_e?function(de){try{_e(de)}catch(me){xe.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Y?function(){try{Y()}catch(de){xe.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},262:(gn,nt,E)=>{E.d(nt,{K:()=>ne});var d=E(8421),L=E(5403),f=E(4482);function ne(xe){return(0,f.e)((ae,Y)=>{let se,_e=null,Ee=!1;_e=ae.subscribe((0,L.x)(Y,void 0,void 0,de=>{se=(0,d.Xf)(xe(de,ne(xe)(ae))),_e?(_e.unsubscribe(),_e=null,se.subscribe(Y)):Ee=!0})),Ee&&(_e.unsubscribe(),_e=null,se.subscribe(Y))})}},4351:(gn,nt,E)=>{E.d(nt,{b:()=>f});var d=E(5577),L=E(576);function f(ne,xe){return(0,L.m)(xe)?(0,d.z)(ne,xe,1):(0,d.z)(ne,1)}},8372:(gn,nt,E)=>{E.d(nt,{b:()=>ne});var d=E(4986),L=E(4482),f=E(5403);function ne(xe,ae=d.z){return(0,L.e)((Y,_e)=>{let Ee=null,se=null,de=null;const me=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const Ne=se;se=null,_e.next(Ne)}};function Xe(){const Ne=de+xe,dt=ae.now();if(dt<Ne)return Ee=this.schedule(void 0,Ne-dt),void _e.add(Ee);me()}Y.subscribe((0,f.x)(_e,Ne=>{se=Ne,de=ae.now(),Ee||(Ee=ae.schedule(Xe,xe),_e.add(Ee))},()=>{me(),_e.complete()},void 0,()=>{se=Ee=null}))})}},6590:(gn,nt,E)=>{E.d(nt,{d:()=>f});var d=E(4482),L=E(5403);function f(ne){return(0,d.e)((xe,ae)=>{let Y=!1;xe.subscribe((0,L.x)(ae,_e=>{Y=!0,ae.next(_e)},()=>{Y||ae.next(ne),ae.complete()}))})}},1884:(gn,nt,E)=>{E.d(nt,{x:()=>ne});var d=E(4671),L=E(4482),f=E(5403);function ne(ae,Y=d.y){return ae=ae??xe,(0,L.e)((_e,Ee)=>{let se,de=!0;_e.subscribe((0,f.x)(Ee,me=>{const Xe=Y(me);(de||!ae(se,Xe))&&(de=!1,se=Xe,Ee.next(me))}))})}function xe(ae,Y){return ae===Y}},9300:(gn,nt,E)=>{E.d(nt,{h:()=>f});var d=E(4482),L=E(5403);function f(ne,xe){return(0,d.e)((ae,Y)=>{let _e=0;ae.subscribe((0,L.x)(Y,Ee=>ne.call(xe,Ee,_e++)&&Y.next(Ee)))})}},8746:(gn,nt,E)=>{E.d(nt,{x:()=>L});var d=E(4482);function L(f){return(0,d.e)((ne,xe)=>{try{ne.subscribe(xe)}finally{xe.add(f)}})}},590:(gn,nt,E)=>{E.d(nt,{P:()=>Y});var d=E(6805),L=E(9300),f=E(5698),ne=E(6590),xe=E(8068),ae=E(4671);function Y(_e,Ee){const se=arguments.length>=2;return de=>de.pipe(_e?(0,L.h)((me,Xe)=>_e(me,Xe,de)):ae.y,(0,f.q)(1),se?(0,ne.d)(Ee):(0,xe.T)(()=>new d.K))}},4004:(gn,nt,E)=>{E.d(nt,{U:()=>f});var d=E(4482),L=E(5403);function f(ne,xe){return(0,d.e)((ae,Y)=>{let _e=0;ae.subscribe((0,L.x)(Y,Ee=>{Y.next(ne.call(xe,Ee,_e++))}))})}},9718:(gn,nt,E)=>{E.d(nt,{h:()=>L});var d=E(4004);function L(f){return(0,d.U)(()=>f)}},8189:(gn,nt,E)=>{E.d(nt,{J:()=>f});var d=E(5577),L=E(4671);function f(ne=1/0){return(0,d.z)(L.y,ne)}},5577:(gn,nt,E)=>{E.d(nt,{z:()=>_e});var d=E(4004),L=E(8421),f=E(4482),ne=E(9672),xe=E(5403),Y=E(576);function _e(Ee,se,de=1/0){return(0,Y.m)(se)?_e((me,Xe)=>(0,d.U)((Ne,dt)=>se(me,Ne,Xe,dt))((0,L.Xf)(Ee(me,Xe))),de):("number"==typeof se&&(de=se),(0,f.e)((me,Xe)=>function ae(Ee,se,de,me,Xe,Ne,dt,it){const Le=[];let He=0,Re=0,wt=!1;const ue=()=>{wt&&!Le.length&&!He&&se.complete()},Ie=Me=>He<me?be(Me):Le.push(Me),be=Me=>{Ne&&se.next(Me),He++;let $e=!1;(0,L.Xf)(de(Me,Re++)).subscribe((0,xe.x)(se,Z=>{Xe?.(Z),Ne?Ie(Z):se.next(Z)},()=>{$e=!0},void 0,()=>{if($e)try{for(He--;Le.length&&He<me;){const Z=Le.shift();dt?(0,ne.f)(se,dt,()=>be(Z)):be(Z)}ue()}catch(Z){se.error(Z)}}))};return Ee.subscribe((0,xe.x)(se,Ie,()=>{wt=!0,ue()})),()=>{it?.()}}(me,Xe,Ee,de)))}},5363:(gn,nt,E)=>{E.d(nt,{Q:()=>ne});var d=E(9672),L=E(4482),f=E(5403);function ne(xe,ae=0){return(0,L.e)((Y,_e)=>{Y.subscribe((0,f.x)(_e,Ee=>(0,d.f)(_e,xe,()=>_e.next(Ee),ae),()=>(0,d.f)(_e,xe,()=>_e.complete(),ae),Ee=>(0,d.f)(_e,xe,()=>_e.error(Ee),ae)))})}},5026:(gn,nt,E)=>{E.d(nt,{R:()=>ne});var d=E(4482),L=E(5403);function ne(xe,ae){return(0,d.e)(function f(xe,ae,Y,_e,Ee){return(se,de)=>{let me=Y,Xe=ae,Ne=0;se.subscribe((0,L.x)(de,dt=>{const it=Ne++;Xe=me?xe(Xe,dt,it):(me=!0,dt),_e&&de.next(Xe)},Ee&&(()=>{me&&de.next(Xe),de.complete()})))}}(xe,ae,arguments.length>=2,!0))}},3099:(gn,nt,E)=>{E.d(nt,{B:()=>xe});var d=E(8421),L=E(7579),f=E(930),ne=E(4482);function xe(Y={}){const{connector:_e=(()=>new L.x),resetOnError:Ee=!0,resetOnComplete:se=!0,resetOnRefCountZero:de=!0}=Y;return me=>{let Xe,Ne,dt,it=0,Le=!1,He=!1;const Re=()=>{Ne?.unsubscribe(),Ne=void 0},wt=()=>{Re(),Xe=dt=void 0,Le=He=!1},ue=()=>{const Ie=Xe;wt(),Ie?.unsubscribe()};return(0,ne.e)((Ie,be)=>{it++,!He&&!Le&&Re();const Me=dt=dt??_e();be.add(()=>{it--,0===it&&!He&&!Le&&(Ne=ae(ue,de))}),Me.subscribe(be),!Xe&&it>0&&(Xe=new f.Hp({next:$e=>Me.next($e),error:$e=>{He=!0,Re(),Ne=ae(wt,Ee,$e),Me.error($e)},complete:()=>{Le=!0,Re(),Ne=ae(wt,se),Me.complete()}}),(0,d.Xf)(Ie).subscribe(Xe))})(me)}}function ae(Y,_e,...Ee){if(!0===_e)return void Y();if(!1===_e)return;const se=new f.Hp({next:()=>{se.unsubscribe(),Y()}});return(0,d.Xf)(_e(...Ee)).subscribe(se)}},5684:(gn,nt,E)=>{E.d(nt,{T:()=>L});var d=E(9300);function L(f){return(0,d.h)((ne,xe)=>f<=xe)}},8675:(gn,nt,E)=>{E.d(nt,{O:()=>ne});var d=E(7272),L=E(3269),f=E(4482);function ne(...xe){const ae=(0,L.yG)(xe);return(0,f.e)((Y,_e)=>{(ae?(0,d.z)(xe,Y,ae):(0,d.z)(xe,Y)).subscribe(_e)})}},9468:(gn,nt,E)=>{E.d(nt,{R:()=>L});var d=E(4482);function L(f,ne=0){return(0,d.e)((xe,ae)=>{ae.add(f.schedule(()=>xe.subscribe(ae),ne))})}},3900:(gn,nt,E)=>{E.d(nt,{w:()=>ne});var d=E(8421),L=E(4482),f=E(5403);function ne(xe,ae){return(0,L.e)((Y,_e)=>{let Ee=null,se=0,de=!1;const me=()=>de&&!Ee&&_e.complete();Y.subscribe((0,f.x)(_e,Xe=>{Ee?.unsubscribe();let Ne=0;const dt=se++;(0,d.Xf)(xe(Xe,dt)).subscribe(Ee=(0,f.x)(_e,it=>_e.next(ae?ae(Xe,it,dt,Ne++):it),()=>{Ee=null,me()}))},()=>{de=!0,me()}))})}},5698:(gn,nt,E)=>{E.d(nt,{q:()=>ne});var d=E(515),L=E(4482),f=E(5403);function ne(xe){return xe<=0?()=>d.E:(0,L.e)((ae,Y)=>{let _e=0;ae.subscribe((0,f.x)(Y,Ee=>{++_e<=xe&&(Y.next(Ee),xe<=_e&&Y.complete())}))})}},2722:(gn,nt,E)=>{E.d(nt,{R:()=>xe});var d=E(4482),L=E(5403),f=E(8421),ne=E(5032);function xe(ae){return(0,d.e)((Y,_e)=>{(0,f.Xf)(ae).subscribe((0,L.x)(_e,()=>_e.complete(),ne.Z)),!_e.closed&&Y.subscribe(_e)})}},8505:(gn,nt,E)=>{E.d(nt,{b:()=>xe});var d=E(576),L=E(4482),f=E(5403),ne=E(4671);function xe(ae,Y,_e){const Ee=(0,d.m)(ae)||Y||_e?{next:ae,error:Y,complete:_e}:ae;return Ee?(0,L.e)((se,de)=>{var me;null===(me=Ee.subscribe)||void 0===me||me.call(Ee);let Xe=!0;se.subscribe((0,f.x)(de,Ne=>{var dt;null===(dt=Ee.next)||void 0===dt||dt.call(Ee,Ne),de.next(Ne)},()=>{var Ne;Xe=!1,null===(Ne=Ee.complete)||void 0===Ne||Ne.call(Ee),de.complete()},Ne=>{var dt;Xe=!1,null===(dt=Ee.error)||void 0===dt||dt.call(Ee,Ne),de.error(Ne)},()=>{var Ne,dt;Xe&&(null===(Ne=Ee.unsubscribe)||void 0===Ne||Ne.call(Ee)),null===(dt=Ee.finalize)||void 0===dt||dt.call(Ee)}))}):ne.y}},8068:(gn,nt,E)=>{E.d(nt,{T:()=>ne});var d=E(6805),L=E(4482),f=E(5403);function ne(ae=xe){return(0,L.e)((Y,_e)=>{let Ee=!1;Y.subscribe((0,f.x)(_e,se=>{Ee=!0,_e.next(se)},()=>Ee?_e.complete():_e.error(ae())))})}function xe(){return new d.K}},4408:(gn,nt,E)=>{E.d(nt,{o:()=>xe});var d=E(727);class L extends d.w0{constructor(Y,_e){super()}schedule(Y,_e=0){return this}}const f={setInterval(ae,Y,..._e){const{delegate:Ee}=f;return Ee?.setInterval?Ee.setInterval(ae,Y,..._e):setInterval(ae,Y,..._e)},clearInterval(ae){const{delegate:Y}=f;return(Y?.clearInterval||clearInterval)(ae)},delegate:void 0};var ne=E(8737);class xe extends L{constructor(Y,_e){super(Y,_e),this.scheduler=Y,this.work=_e,this.pending=!1}schedule(Y,_e=0){var Ee;if(this.closed)return this;this.state=Y;const se=this.id,de=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(de,se,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(de,this.id,_e),this}requestAsyncId(Y,_e,Ee=0){return f.setInterval(Y.flush.bind(Y,this),Ee)}recycleAsyncId(Y,_e,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return _e;null!=_e&&f.clearInterval(_e)}execute(Y,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Y,_e);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Y,_e){let se,Ee=!1;try{this.work(Y)}catch(de){Ee=!0,se=de||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Y,scheduler:_e}=this,{actions:Ee}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(Ee,this),null!=Y&&(this.id=this.recycleAsyncId(_e,Y,null)),this.delay=null,super.unsubscribe()}}}},7565:(gn,nt,E)=>{E.d(nt,{v:()=>f});var d=E(6063);class L{constructor(xe,ae=L.now){this.schedulerActionCtor=xe,this.now=ae}schedule(xe,ae=0,Y){return new this.schedulerActionCtor(this,xe).schedule(Y,ae)}}L.now=d.l.now;class f extends L{constructor(xe,ae=L.now){super(xe,ae),this.actions=[],this._active=!1}flush(xe){const{actions:ae}=this;if(this._active)return void ae.push(xe);let Y;this._active=!0;do{if(Y=xe.execute(xe.state,xe.delay))break}while(xe=ae.shift());if(this._active=!1,Y){for(;xe=ae.shift();)xe.unsubscribe();throw Y}}}},3101:(gn,nt,E)=>{E.d(nt,{E:()=>Ne});var d=E(4408);let f,L=1;const ne={};function xe(it){return it in ne&&(delete ne[it],!0)}const ae={setImmediate(it){const Le=L++;return ne[Le]=!0,f||(f=Promise.resolve()),f.then(()=>xe(Le)&&it()),Le},clearImmediate(it){xe(it)}},{setImmediate:_e,clearImmediate:Ee}=ae,se={setImmediate(...it){const{delegate:Le}=se;return(Le?.setImmediate||_e)(...it)},clearImmediate(it){const{delegate:Le}=se;return(Le?.clearImmediate||Ee)(it)},delegate:void 0};var me=E(7565);const Ne=new class Xe extends me.v{flush(Le){this._active=!0;const He=this._scheduled;this._scheduled=void 0;const{actions:Re}=this;let wt;Le=Le||Re.shift();do{if(wt=Le.execute(Le.state,Le.delay))break}while((Le=Re[0])&&Le.id===He&&Re.shift());if(this._active=!1,wt){for(;(Le=Re[0])&&Le.id===He&&Re.shift();)Le.unsubscribe();throw wt}}}(class de extends d.o{constructor(Le,He){super(Le,He),this.scheduler=Le,this.work=He}requestAsyncId(Le,He,Re=0){return null!==Re&&Re>0?super.requestAsyncId(Le,He,Re):(Le.actions.push(this),Le._scheduled||(Le._scheduled=se.setImmediate(Le.flush.bind(Le,void 0))))}recycleAsyncId(Le,He,Re=0){var wt;if(null!=Re?Re>0:this.delay>0)return super.recycleAsyncId(Le,He,Re);const{actions:ue}=Le;null!=He&&(null===(wt=ue[ue.length-1])||void 0===wt?void 0:wt.id)!==He&&(se.clearImmediate(He),Le._scheduled===He&&(Le._scheduled=void 0))}})},4986:(gn,nt,E)=>{E.d(nt,{P:()=>ne,z:()=>f});var d=E(4408);const f=new(E(7565).v)(d.o),ne=f},6063:(gn,nt,E)=>{E.d(nt,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(gn,nt,E)=>{E.d(nt,{z:()=>d});const d={setTimeout(L,f,...ne){const{delegate:xe}=d;return xe?.setTimeout?xe.setTimeout(L,f,...ne):setTimeout(L,f,...ne)},clearTimeout(L){const{delegate:f}=d;return(f?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(gn,nt,E)=>{E.d(nt,{h:()=>L});const L=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gn,nt,E)=>{E.d(nt,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(gn,nt,E)=>{E.d(nt,{K:()=>L});const L=(0,E(3888).d)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(gn,nt,E)=>{E.d(nt,{_6:()=>ae,jO:()=>ne,yG:()=>xe});var d=E(576),L=E(3532);function f(Y){return Y[Y.length-1]}function ne(Y){return(0,d.m)(f(Y))?Y.pop():void 0}function xe(Y){return(0,L.K)(f(Y))?Y.pop():void 0}function ae(Y,_e){return"number"==typeof f(Y)?Y.pop():_e}},4742:(gn,nt,E)=>{E.d(nt,{D:()=>xe});const{isArray:d}=Array,{getPrototypeOf:L,prototype:f,keys:ne}=Object;function xe(Y){if(1===Y.length){const _e=Y[0];if(d(_e))return{args:_e,keys:null};if(function ae(Y){return Y&&"object"==typeof Y&&L(Y)===f}(_e)){const Ee=ne(_e);return{args:Ee.map(se=>_e[se]),keys:Ee}}}return{args:Y,keys:null}}},8737:(gn,nt,E)=>{function d(L,f){if(L){const ne=L.indexOf(f);0<=ne&&L.splice(ne,1)}}E.d(nt,{P:()=>d})},3888:(gn,nt,E)=>{function d(L){const ne=L(xe=>{Error.call(xe),xe.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}E.d(nt,{d:()=>d})},1810:(gn,nt,E)=>{function d(L,f){return L.reduce((ne,xe,ae)=>(ne[xe]=f[ae],ne),{})}E.d(nt,{n:()=>d})},2806:(gn,nt,E)=>{E.d(nt,{O:()=>ne,x:()=>f});var d=E(2416);let L=null;function f(xe){if(d.config.useDeprecatedSynchronousErrorHandling){const ae=!L;if(ae&&(L={errorThrown:!1,error:null}),xe(),ae){const{errorThrown:Y,error:_e}=L;if(L=null,Y)throw _e}}else xe()}function ne(xe){d.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=xe)}},9672:(gn,nt,E)=>{function d(L,f,ne,xe=0,ae=!1){const Y=f.schedule(function(){ne(),ae?L.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(L.add(Y),!ae)return Y}E.d(nt,{f:()=>d})},4671:(gn,nt,E)=>{function d(L){return L}E.d(nt,{y:()=>d})},1144:(gn,nt,E)=>{E.d(nt,{z:()=>d});const d=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(gn,nt,E)=>{E.d(nt,{D:()=>L});var d=E(576);function L(f){return Symbol.asyncIterator&&(0,d.m)(f?.[Symbol.asyncIterator])}},576:(gn,nt,E)=>{function d(L){return"function"==typeof L}E.d(nt,{m:()=>d})},3670:(gn,nt,E)=>{E.d(nt,{c:()=>f});var d=E(8822),L=E(576);function f(ne){return(0,L.m)(ne[d.L])}},6495:(gn,nt,E)=>{E.d(nt,{T:()=>f});var d=E(2202),L=E(576);function f(ne){return(0,L.m)(ne?.[d.h])}},8239:(gn,nt,E)=>{E.d(nt,{t:()=>L});var d=E(576);function L(f){return(0,d.m)(f?.then)}},3260:(gn,nt,E)=>{E.d(nt,{L:()=>ne,Q:()=>f});var d=E(7582),L=E(576);function f(xe){return(0,d.FC)(this,arguments,function*(){const Y=xe.getReader();try{for(;;){const{value:_e,done:Ee}=yield(0,d.qq)(Y.read());if(Ee)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(_e)}}finally{Y.releaseLock()}})}function ne(xe){return(0,L.m)(xe?.getReader)}},3532:(gn,nt,E)=>{E.d(nt,{K:()=>L});var d=E(576);function L(f){return f&&(0,d.m)(f.schedule)}},4482:(gn,nt,E)=>{E.d(nt,{A:()=>L,e:()=>f});var d=E(576);function L(ne){return(0,d.m)(ne?.lift)}function f(ne){return xe=>{if(L(xe))return xe.lift(function(ae){try{return ne(ae,this)}catch(Y){this.error(Y)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(gn,nt,E)=>{E.d(nt,{Z:()=>ne});var d=E(4004);const{isArray:L}=Array;function ne(xe){return(0,d.U)(ae=>function f(xe,ae){return L(ae)?xe(...ae):xe(ae)}(xe,ae))}},5032:(gn,nt,E)=>{function d(){}E.d(nt,{Z:()=>d})},9635:(gn,nt,E)=>{E.d(nt,{U:()=>f,z:()=>L});var d=E(4671);function L(...ne){return f(ne)}function f(ne){return 0===ne.length?d.y:1===ne.length?ne[0]:function(ae){return ne.reduce((Y,_e)=>_e(Y),ae)}}},7849:(gn,nt,E)=>{E.d(nt,{h:()=>f});var d=E(2416),L=E(3410);function f(ne){L.z.setTimeout(()=>{const{onUnhandledError:xe}=d.config;if(!xe)throw ne;xe(ne)})}},4532:(gn,nt,E)=>{function d(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(nt,{z:()=>d})},1591:(gn,nt,E)=>{E.d(nt,{IO:()=>dt,LC:()=>L,SB:()=>Ee,X$:()=>ne,ZE:()=>Re,ZN:()=>He,_j:()=>d,eR:()=>de,jt:()=>xe,k1:()=>wt,l3:()=>f,oB:()=>_e,pV:()=>Xe,ru:()=>ae,vP:()=>Y});class d{}class L{}const f="*";function ne(ue,Ie){return{type:7,name:ue,definitions:Ie,options:{}}}function xe(ue,Ie=null){return{type:4,styles:Ie,timings:ue}}function ae(ue,Ie=null){return{type:3,steps:ue,options:Ie}}function Y(ue,Ie=null){return{type:2,steps:ue,options:Ie}}function _e(ue){return{type:6,styles:ue,offset:null}}function Ee(ue,Ie,be){return{type:0,name:ue,styles:Ie,options:be}}function de(ue,Ie,be=null){return{type:1,expr:ue,animation:Ie,options:be}}function Xe(ue=null){return{type:9,options:ue}}function dt(ue,Ie,be=null){return{type:11,selector:ue,animation:Ie,options:be}}function Le(ue){Promise.resolve().then(ue)}class He{constructor(Ie=0,be=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ie+be}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}onStart(Ie){this._originalOnStartFns.push(Ie),this._onStartFns.push(Ie)}onDone(Ie){this._originalOnDoneFns.push(Ie),this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ie){this._position=this.totalTime?Ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ie){const be="start"==Ie?this._onStartFns:this._onDoneFns;be.forEach(Me=>Me()),be.length=0}}class Re{constructor(Ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ie;let be=0,Me=0,$e=0;const Z=this.players.length;0==Z?Le(()=>this._onFinish()):this.players.forEach(We=>{We.onDone(()=>{++be==Z&&this._onFinish()}),We.onDestroy(()=>{++Me==Z&&this._onDestroy()}),We.onStart(()=>{++$e==Z&&this._onStart()})}),this.totalTime=this.players.reduce((We,Fe)=>Math.max(We,Fe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}init(){this.players.forEach(Ie=>Ie.init())}onStart(Ie){this._onStartFns.push(Ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[])}onDone(Ie){this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ie=>Ie.play())}pause(){this.players.forEach(Ie=>Ie.pause())}restart(){this.players.forEach(Ie=>Ie.restart())}finish(){this._onFinish(),this.players.forEach(Ie=>Ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ie=>Ie.destroy()),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this.players.forEach(Ie=>Ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ie){const be=Ie*this.totalTime;this.players.forEach(Me=>{const $e=Me.totalTime?Math.min(1,be/Me.totalTime):1;Me.setPosition($e)})}getPosition(){const Ie=this.players.reduce((be,Me)=>null===be||Me.totalTime>be.totalTime?Me:be,null);return null!=Ie?Ie.getPosition():0}beforeDestroy(){this.players.forEach(Ie=>{Ie.beforeDestroy&&Ie.beforeDestroy()})}triggerCallback(Ie){const be="start"==Ie?this._onStartFns:this._onDoneFns;be.forEach(Me=>Me()),be.length=0}}const wt="!"},706:(gn,nt,E)=>{E.d(nt,{Em:()=>ut,X6:()=>ce,ic:()=>Rt,qV:()=>cn,qm:()=>Je,rt:()=>ot,tE:()=>Sn,yG:()=>Ve});var d=E(4755),L=E(2223),f=E(2966),ne=E(7579),xe=E(727),ae=E(1135),Y=E(9646),_e=E(2840),Ee=E(8505),se=E(8372),de=E(9300),me=E(4004),Xe=E(5698),Ne=E(5684),dt=E(1884),it=E(2722),Le=E(1692),He=E(829),Re=E(5537);class vn{constructor(Oe){this._items=Oe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne.x,this._typeaheadSubscription=xe.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Se=>Se.disabled,this._pressedLetters=[],this.tabOut=new ne.x,this.change=new ne.x,Oe instanceof L.n_E&&(this._itemChangesSubscription=Oe.changes.subscribe(Se=>{if(this._activeItem){const Ht=Se.toArray().indexOf(this._activeItem);Ht>-1&&Ht!==this._activeItemIndex&&(this._activeItemIndex=Ht)}}))}skipPredicate(Oe){return this._skipPredicateFn=Oe,this}withWrap(Oe=!0){return this._wrap=Oe,this}withVerticalOrientation(Oe=!0){return this._vertical=Oe,this}withHorizontalOrientation(Oe){return this._horizontal=Oe,this}withAllowedModifierKeys(Oe){return this._allowedModifierKeys=Oe,this}withTypeAhead(Oe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ee.b)(Se=>this._pressedLetters.push(Se)),(0,se.b)(Oe),(0,de.h)(()=>this._pressedLetters.length>0),(0,me.U)(()=>this._pressedLetters.join(""))).subscribe(Se=>{const Et=this._getItemsArray();for(let Ht=1;Ht<Et.length+1;Ht++){const Te=(this._activeItemIndex+Ht)%Et.length,oe=Et[Te];if(!this._skipPredicateFn(oe)&&0===oe.getLabel().toUpperCase().trim().indexOf(Se)){this.setActiveItem(Te);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Oe=!0){return this._homeAndEnd=Oe,this}withPageUpDown(Oe=!0,Se=10){return this._pageUpAndDown={enabled:Oe,delta:Se},this}setActiveItem(Oe){const Se=this._activeItem;this.updateActiveItem(Oe),this._activeItem!==Se&&this.change.next(this._activeItemIndex)}onKeydown(Oe){const Se=Oe.keyCode,Ht=["altKey","ctrlKey","metaKey","shiftKey"].every(Te=>!Oe[Te]||this._allowedModifierKeys.indexOf(Te)>-1);switch(Se){case _e.Mf:return void this.tabOut.next();case _e.JH:if(this._vertical&&Ht){this.setNextItemActive();break}return;case _e.LH:if(this._vertical&&Ht){this.setPreviousItemActive();break}return;case _e.SV:if(this._horizontal&&Ht){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case _e.oh:if(this._horizontal&&Ht){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case _e.Sd:if(this._homeAndEnd&&Ht){this.setFirstItemActive();break}return;case _e.uR:if(this._homeAndEnd&&Ht){this.setLastItemActive();break}return;case _e.Ku:if(this._pageUpAndDown.enabled&&Ht){const Te=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Te>0?Te:0,1);break}return;case _e.VM:if(this._pageUpAndDown.enabled&&Ht){const Te=this._activeItemIndex+this._pageUpAndDown.delta,oe=this._getItemsArray().length;this._setActiveItemByIndex(Te<oe?Te:oe-1,-1);break}return;default:return void((Ht||(0,_e.Vb)(Oe,"shiftKey"))&&(Oe.key&&1===Oe.key.length?this._letterKeyStream.next(Oe.key.toLocaleUpperCase()):(Se>=_e.A&&Se<=_e.Z||Se>=_e.xE&&Se<=_e.aO)&&this._letterKeyStream.next(String.fromCharCode(Se))))}this._pressedLetters=[],Oe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Oe){const Se=this._getItemsArray(),Et="number"==typeof Oe?Oe:Se.indexOf(Oe);this._activeItem=Se[Et]??null,this._activeItemIndex=Et}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Oe){this._wrap?this._setActiveInWrapMode(Oe):this._setActiveInDefaultMode(Oe)}_setActiveInWrapMode(Oe){const Se=this._getItemsArray();for(let Et=1;Et<=Se.length;Et++){const Ht=(this._activeItemIndex+Oe*Et+Se.length)%Se.length;if(!this._skipPredicateFn(Se[Ht]))return void this.setActiveItem(Ht)}}_setActiveInDefaultMode(Oe){this._setActiveItemByIndex(this._activeItemIndex+Oe,Oe)}_setActiveItemByIndex(Oe,Se){const Et=this._getItemsArray();if(Et[Oe]){for(;this._skipPredicateFn(Et[Oe]);)if(!Et[Oe+=Se])return;this.setActiveItem(Oe)}}_getItemsArray(){return this._items instanceof L.n_E?this._items.toArray():this._items}}class ut extends vn{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Oe){return this._origin=Oe,this}setActiveItem(Oe){super.setActiveItem(Oe),this.activeItem&&this.activeItem.focus(this._origin)}}let Rt=(()=>{class Be{constructor(Se){this._platform=Se}isDisabled(Se){return Se.hasAttribute("disabled")}isVisible(Se){return function qt(Be){return!!(Be.offsetWidth||Be.offsetHeight||"function"==typeof Be.getClientRects&&Be.getClientRects().length)}(Se)&&"visible"===getComputedStyle(Se).visibility}isTabbable(Se){if(!this._platform.isBrowser)return!1;const Et=function Ft(Be){try{return Be.frameElement}catch{return null}}(function Ut(Be){return Be.ownerDocument&&Be.ownerDocument.defaultView||window}(Se));if(Et&&(-1===Qe(Et)||!this.isVisible(Et)))return!1;let Ht=Se.nodeName.toLowerCase(),Te=Qe(Se);return Se.hasAttribute("contenteditable")?-1!==Te:!("iframe"===Ht||"object"===Ht||this._platform.WEBKIT&&this._platform.IOS&&!function kt(Be){let Oe=Be.nodeName.toLowerCase(),Se="input"===Oe&&Be.type;return"text"===Se||"password"===Se||"select"===Oe||"textarea"===Oe}(Se))&&("audio"===Ht?!!Se.hasAttribute("controls")&&-1!==Te:"video"===Ht?-1!==Te&&(null!==Te||this._platform.FIREFOX||Se.hasAttribute("controls")):Se.tabIndex>=0)}isFocusable(Se,Et){return function bt(Be){return!function dn(Be){return function rn(Be){return"input"==Be.nodeName.toLowerCase()}(Be)&&"hidden"==Be.type}(Be)&&(function Yt(Be){let Oe=Be.nodeName.toLowerCase();return"input"===Oe||"select"===Oe||"button"===Oe||"textarea"===Oe}(Be)||function pn(Be){return function At(Be){return"a"==Be.nodeName.toLowerCase()}(Be)&&Be.hasAttribute("href")}(Be)||Be.hasAttribute("contenteditable")||Ge(Be))}(Se)&&!this.isDisabled(Se)&&(Et?.ignoreVisibility||this.isVisible(Se))}}return Be.\u0275fac=function(Se){return new(Se||Be)(L.LFG(f.t4))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();function Ge(Be){if(!Be.hasAttribute("tabindex")||void 0===Be.tabIndex)return!1;let Oe=Be.getAttribute("tabindex");return!(!Oe||isNaN(parseInt(Oe,10)))}function Qe(Be){if(!Ge(Be))return null;const Oe=parseInt(Be.getAttribute("tabindex")||"",10);return isNaN(Oe)?-1:Oe}class St{get enabled(){return this._enabled}set enabled(Oe){this._enabled=Oe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Oe,this._startAnchor),this._toggleAnchorTabIndex(Oe,this._endAnchor))}constructor(Oe,Se,Et,Ht,Te=!1){this._element=Oe,this._checker=Se,this._ngZone=Et,this._document=Ht,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Te||this.attachAnchors()}destroy(){const Oe=this._startAnchor,Se=this._endAnchor;Oe&&(Oe.removeEventListener("focus",this.startAnchorListener),Oe.remove()),Se&&(Se.removeEventListener("focus",this.endAnchorListener),Se.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Oe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusInitialElement(Oe)))})}focusFirstTabbableElementWhenReady(Oe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusFirstTabbableElement(Oe)))})}focusLastTabbableElementWhenReady(Oe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusLastTabbableElement(Oe)))})}_getRegionBoundary(Oe){const Se=this._element.querySelectorAll(`[cdk-focus-region-${Oe}], [cdkFocusRegion${Oe}], [cdk-focus-${Oe}]`);return"start"==Oe?Se.length?Se[0]:this._getFirstTabbableElement(this._element):Se.length?Se[Se.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Oe){const Se=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Se){if(!this._checker.isFocusable(Se)){const Et=this._getFirstTabbableElement(Se);return Et?.focus(Oe),!!Et}return Se.focus(Oe),!0}return this.focusFirstTabbableElement(Oe)}focusFirstTabbableElement(Oe){const Se=this._getRegionBoundary("start");return Se&&Se.focus(Oe),!!Se}focusLastTabbableElement(Oe){const Se=this._getRegionBoundary("end");return Se&&Se.focus(Oe),!!Se}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Oe){if(this._checker.isFocusable(Oe)&&this._checker.isTabbable(Oe))return Oe;const Se=Oe.children;for(let Et=0;Et<Se.length;Et++){const Ht=Se[Et].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Se[Et]):null;if(Ht)return Ht}return null}_getLastTabbableElement(Oe){if(this._checker.isFocusable(Oe)&&this._checker.isTabbable(Oe))return Oe;const Se=Oe.children;for(let Et=Se.length-1;Et>=0;Et--){const Ht=Se[Et].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Se[Et]):null;if(Ht)return Ht}return null}_createAnchor(){const Oe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Oe),Oe.classList.add("cdk-visually-hidden"),Oe.classList.add("cdk-focus-trap-anchor"),Oe.setAttribute("aria-hidden","true"),Oe}_toggleAnchorTabIndex(Oe,Se){Oe?Se.setAttribute("tabindex","0"):Se.removeAttribute("tabindex")}toggleAnchors(Oe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Oe,this._startAnchor),this._toggleAnchorTabIndex(Oe,this._endAnchor))}_executeOnStable(Oe){this._ngZone.isStable?Oe():this._ngZone.onStable.pipe((0,Xe.q)(1)).subscribe(Oe)}}let cn=(()=>{class Be{constructor(Se,Et,Ht){this._checker=Se,this._ngZone=Et,this._document=Ht}create(Se,Et=!1){return new St(Se,this._checker,this._ngZone,this._document,Et)}}return Be.\u0275fac=function(Se){return new(Se||Be)(L.LFG(Rt),L.LFG(L.R0b),L.LFG(d.K0))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();function ce(Be){return 0===Be.buttons||0===Be.offsetX&&0===Be.offsetY}function Ve(Be){const Oe=Be.touches&&Be.touches[0]||Be.changedTouches&&Be.changedTouches[0];return!(!Oe||-1!==Oe.identifier||null!=Oe.radiusX&&1!==Oe.radiusX||null!=Oe.radiusY&&1!==Oe.radiusY)}const ft=new L.OlP("cdk-input-modality-detector-options"),st={ignoreKeys:[_e.zL,_e.jx,_e.b2,_e.MW,_e.JU]},qe=(0,f.i$)({passive:!0,capture:!0});let Ae=(()=>{class Be{get mostRecentModality(){return this._modality.value}constructor(Se,Et,Ht,Te){this._platform=Se,this._mostRecentTarget=null,this._modality=new ae.X(null),this._lastTouchMs=0,this._onKeydown=oe=>{this._options?.ignoreKeys?.some(H=>H===oe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,f.sA)(oe))},this._onMousedown=oe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ce(oe)?"keyboard":"mouse"),this._mostRecentTarget=(0,f.sA)(oe))},this._onTouchstart=oe=>{Ve(oe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,f.sA)(oe))},this._options={...st,...Te},this.modalityDetected=this._modality.pipe((0,Ne.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,dt.x)()),Se.isBrowser&&Et.runOutsideAngular(()=>{Ht.addEventListener("keydown",this._onKeydown,qe),Ht.addEventListener("mousedown",this._onMousedown,qe),Ht.addEventListener("touchstart",this._onTouchstart,qe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qe),document.removeEventListener("mousedown",this._onMousedown,qe),document.removeEventListener("touchstart",this._onTouchstart,qe))}}return Be.\u0275fac=function(Se){return new(Se||Be)(L.LFG(f.t4),L.LFG(L.R0b),L.LFG(d.K0),L.LFG(ft,8))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();const _t=new L.OlP("cdk-focus-monitor-default-options"),$t=(0,f.i$)({passive:!0,capture:!0});let Sn=(()=>{class Be{constructor(Se,Et,Ht,Te,oe){this._ngZone=Se,this._platform=Et,this._inputModalityDetector=Ht,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.x,this._rootNodeFocusAndBlurListener=H=>{for(let z=(0,f.sA)(H);z;z=z.parentElement)"focus"===H.type?this._onFocus(H,z):this._onBlur(H,z)},this._document=Te,this._detectionMode=oe?.detectionMode||0}monitor(Se,Et=!1){const Ht=(0,Le.fI)(Se);if(!this._platform.isBrowser||1!==Ht.nodeType)return(0,Y.of)(null);const Te=(0,f.kV)(Ht)||this._getDocument(),oe=this._elementInfo.get(Ht);if(oe)return Et&&(oe.checkChildren=!0),oe.subject;const H={checkChildren:Et,subject:new ne.x,rootNode:Te};return this._elementInfo.set(Ht,H),this._registerGlobalListeners(H),H.subject}stopMonitoring(Se){const Et=(0,Le.fI)(Se),Ht=this._elementInfo.get(Et);Ht&&(Ht.subject.complete(),this._setClasses(Et),this._elementInfo.delete(Et),this._removeGlobalListeners(Ht))}focusVia(Se,Et,Ht){const Te=(0,Le.fI)(Se);Te===this._getDocument().activeElement?this._getClosestElementsInfo(Te).forEach(([H,U])=>this._originChanged(H,Et,U)):(this._setOrigin(Et),"function"==typeof Te.focus&&Te.focus(Ht))}ngOnDestroy(){this._elementInfo.forEach((Se,Et)=>this.stopMonitoring(Et))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Se){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Se)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Se&&this._isLastInteractionFromInputLabel(Se)?"mouse":"program"}_shouldBeAttributedToTouch(Se){return 1===this._detectionMode||!!Se?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Se,Et){Se.classList.toggle("cdk-focused",!!Et),Se.classList.toggle("cdk-touch-focused","touch"===Et),Se.classList.toggle("cdk-keyboard-focused","keyboard"===Et),Se.classList.toggle("cdk-mouse-focused","mouse"===Et),Se.classList.toggle("cdk-program-focused","program"===Et)}_setOrigin(Se,Et=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Se,this._originFromTouchInteraction="touch"===Se&&Et,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Se,Et){const Ht=this._elementInfo.get(Et),Te=(0,f.sA)(Se);!Ht||!Ht.checkChildren&&Et!==Te||this._originChanged(Et,this._getFocusOrigin(Te),Ht)}_onBlur(Se,Et){const Ht=this._elementInfo.get(Et);!Ht||Ht.checkChildren&&Se.relatedTarget instanceof Node&&Et.contains(Se.relatedTarget)||(this._setClasses(Et),this._emitOrigin(Ht,null))}_emitOrigin(Se,Et){Se.subject.observers.length&&this._ngZone.run(()=>Se.subject.next(Et))}_registerGlobalListeners(Se){if(!this._platform.isBrowser)return;const Et=Se.rootNode,Ht=this._rootNodeFocusListenerCount.get(Et)||0;Ht||this._ngZone.runOutsideAngular(()=>{Et.addEventListener("focus",this._rootNodeFocusAndBlurListener,$t),Et.addEventListener("blur",this._rootNodeFocusAndBlurListener,$t)}),this._rootNodeFocusListenerCount.set(Et,Ht+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,it.R)(this._stopInputModalityDetector)).subscribe(Te=>{this._setOrigin(Te,!0)}))}_removeGlobalListeners(Se){const Et=Se.rootNode;if(this._rootNodeFocusListenerCount.has(Et)){const Ht=this._rootNodeFocusListenerCount.get(Et);Ht>1?this._rootNodeFocusListenerCount.set(Et,Ht-1):(Et.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$t),Et.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$t),this._rootNodeFocusListenerCount.delete(Et))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Se,Et,Ht){this._setClasses(Se,Et),this._emitOrigin(Ht,Et),this._lastFocusOrigin=Et}_getClosestElementsInfo(Se){const Et=[];return this._elementInfo.forEach((Ht,Te)=>{(Te===Se||Ht.checkChildren&&Te.contains(Se))&&Et.push([Te,Ht])}),Et}_isLastInteractionFromInputLabel(Se){const{_mostRecentTarget:Et,mostRecentModality:Ht}=this._inputModalityDetector;if("mouse"!==Ht||!Et||Et===Se||"INPUT"!==Se.nodeName&&"TEXTAREA"!==Se.nodeName||Se.disabled)return!1;const Te=Se.labels;if(Te)for(let oe=0;oe<Te.length;oe++)if(Te[oe].contains(Et))return!0;return!1}}return Be.\u0275fac=function(Se){return new(Se||Be)(L.LFG(L.R0b),L.LFG(f.t4),L.LFG(Ae),L.LFG(d.K0,8),L.LFG(_t,8))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();const ni="cdk-high-contrast-black-on-white",wi="cdk-high-contrast-white-on-black",Kt="cdk-high-contrast-active";let Je=(()=>{class Be{constructor(Se,Et){this._platform=Se,this._document=Et,this._breakpointSubscription=(0,L.f3M)(Re.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Se=this._document.createElement("div");Se.style.backgroundColor="rgb(1,2,3)",Se.style.position="absolute",this._document.body.appendChild(Se);const Et=this._document.defaultView||window,Ht=Et&&Et.getComputedStyle?Et.getComputedStyle(Se):null,Te=(Ht&&Ht.backgroundColor||"").replace(/ /g,"");switch(Se.remove(),Te){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Se=this._document.body.classList;Se.remove(Kt,ni,wi),this._hasCheckedHighContrastMode=!0;const Et=this.getHighContrastMode();1===Et?Se.add(Kt,ni):2===Et&&Se.add(Kt,wi)}}}return Be.\u0275fac=function(Se){return new(Se||Be)(L.LFG(f.t4),L.LFG(d.K0))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ot=(()=>{class Be{constructor(Se){Se._applyBodyHighContrastModeCssClasses()}}return Be.\u0275fac=function(Se){return new(Se||Be)(L.LFG(Je))},Be.\u0275mod=L.oAB({type:Be}),Be.\u0275inj=L.cJS({imports:[He.Q8]}),Be})()},8930:(gn,nt,E)=>{E.d(nt,{Is:()=>Y,vT:()=>Ee});var d=E(2223),L=E(4755);const f=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function ne(){return(0,d.f3M)(L.K0)}}),xe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Y=(()=>{class se{constructor(me){this.value="ltr",this.change=new d.vpe,me&&(this.value=function ae(se){const de=se?.toLowerCase()||"";return"auto"===de&&typeof navigator<"u"&&navigator?.language?xe.test(navigator.language)?"rtl":"ltr":"rtl"===de?"rtl":"ltr"}((me.body?me.body.dir:null)||(me.documentElement?me.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return se.\u0275fac=function(me){return new(me||se)(d.LFG(f,8))},se.\u0275prov=d.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Ee=(()=>{class se{}return se.\u0275fac=function(me){return new(me||se)},se.\u0275mod=d.oAB({type:se}),se.\u0275inj=d.cJS({}),se})()},1692:(gn,nt,E)=>{E.d(nt,{Eq:()=>xe,HM:()=>ae,Ig:()=>L,fI:()=>Y,su:()=>f});var d=E(2223);function L(Ee){return null!=Ee&&"false"!=`${Ee}`}function f(Ee,se=0){return function ne(Ee){return!isNaN(parseFloat(Ee))&&!isNaN(Number(Ee))}(Ee)?Number(Ee):se}function xe(Ee){return Array.isArray(Ee)?Ee:[Ee]}function ae(Ee){return null==Ee?"":"string"==typeof Ee?Ee:`${Ee}px`}function Y(Ee){return Ee instanceof d.SBq?Ee.nativeElement:Ee}},3223:(gn,nt,E)=>{E.d(nt,{LL:()=>it,Su:()=>Z,Vq:()=>Me,ib:()=>Ne});var d=E(706),L=E(9002),f=E(2966),ne=E(8023),xe=E(4755),ae=E(2223),Y=E(2840),_e=E(7579),Ee=E(9770),se=E(9646),de=E(8930),me=E(8675);function Xe(We,Fe){}class Ne{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let it=(()=>{class We extends ne.en{constructor(ze,yt,vn,On,ut,ht,Rt,Ft){super(),this._elementRef=ze,this._focusTrapFactory=yt,this._config=On,this._interactivityChecker=ut,this._ngZone=ht,this._overlayRef=Rt,this._focusMonitor=Ft,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=qt=>{this._portalOutlet.hasAttached();const Yt=this._portalOutlet.attachDomPortal(qt);return this._contentAttached(),Yt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=vn}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ze){this._portalOutlet.hasAttached();const yt=this._portalOutlet.attachComponentPortal(ze);return this._contentAttached(),yt}attachTemplatePortal(ze){this._portalOutlet.hasAttached();const yt=this._portalOutlet.attachTemplatePortal(ze);return this._contentAttached(),yt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ze,yt){this._interactivityChecker.isFocusable(ze)||(ze.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const vn=()=>{ze.removeEventListener("blur",vn),ze.removeEventListener("mousedown",vn),ze.removeAttribute("tabindex")};ze.addEventListener("blur",vn),ze.addEventListener("mousedown",vn)})),ze.focus(yt)}_focusByCssSelector(ze,yt){let vn=this._elementRef.nativeElement.querySelector(ze);vn&&this._forceFocus(vn,yt)}_trapFocus(){const ze=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ze.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(yt=>{yt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ze=this._config.restoreFocus;let yt=null;if("string"==typeof ze?yt=this._document.querySelector(ze):"boolean"==typeof ze?yt=ze?this._elementFocusedBeforeDialogWasOpened:null:ze&&(yt=ze),this._config.restoreFocus&&yt&&"function"==typeof yt.focus){const vn=(0,f.ht)(),On=this._elementRef.nativeElement;(!vn||vn===this._document.body||vn===On||On.contains(vn))&&(this._focusMonitor?(this._focusMonitor.focusVia(yt,this._closeInteractionType),this._closeInteractionType=null):yt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ze=this._elementRef.nativeElement,yt=(0,f.ht)();return ze===yt||ze.contains(yt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,f.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return We.\u0275fac=function(ze){return new(ze||We)(ae.Y36(ae.SBq),ae.Y36(d.qV),ae.Y36(xe.K0,8),ae.Y36(Ne),ae.Y36(d.ic),ae.Y36(ae.R0b),ae.Y36(L.Iu),ae.Y36(d.tE))},We.\u0275cmp=ae.Xpm({type:We,selectors:[["cdk-dialog-container"]],viewQuery:function(ze,yt){if(1&ze&&ae.Gf(ne.Pl,7),2&ze){let vn;ae.iGM(vn=ae.CRH())&&(yt._portalOutlet=vn.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ze,yt){2&ze&&ae.uIk("id",yt._config.id||null)("role",yt._config.role)("aria-modal",yt._config.ariaModal)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null)},features:[ae.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ze,yt){1&ze&&ae.YNc(0,Xe,0,0,"ng-template",0)},dependencies:[ne.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),We})();class Le{constructor(Fe,ze){this.overlayRef=Fe,this.config=ze,this.closed=new _e.x,this.disableClose=ze.disableClose,this.backdropClick=Fe.backdropClick(),this.keydownEvents=Fe.keydownEvents(),this.outsidePointerEvents=Fe.outsidePointerEvents(),this.id=ze.id,this.keydownEvents.subscribe(yt=>{yt.keyCode===Y.hY&&!this.disableClose&&!(0,Y.Vb)(yt)&&(yt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Fe.detachments().subscribe(()=>{!1!==ze.closeOnOverlayDetachments&&this.close()})}close(Fe,ze){if(this.containerInstance){const yt=this.closed;this.containerInstance._closeInteractionType=ze?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),yt.next(Fe),yt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Fe="",ze=""){return this.overlayRef.updateSize({width:Fe,height:ze}),this}addPanelClass(Fe){return this.overlayRef.addPanelClass(Fe),this}removePanelClass(Fe){return this.overlayRef.removePanelClass(Fe),this}}const He=new ae.OlP("DialogScrollStrategy"),Re=new ae.OlP("DialogData"),wt=new ae.OlP("DefaultDialogConfig"),Ie={provide:He,deps:[L.aV],useFactory:function ue(We){return()=>We.scrollStrategies.block()}};let be=0,Me=(()=>{class We{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ze,yt,vn,On,ut,ht){this._overlay=ze,this._injector=yt,this._defaultOptions=vn,this._parentDialog=On,this._overlayContainer=ut,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ee.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,me.O)(void 0))),this._scrollStrategy=ht}open(ze,yt){(yt={...this._defaultOptions||new Ne,...yt}).id=yt.id||"cdk-dialog-"+be++,yt.id&&this.getDialogById(yt.id);const On=this._getOverlayConfig(yt),ut=this._overlay.create(On),ht=new Le(ut,yt),Rt=this._attachContainer(ut,ht,yt);return ht.containerInstance=Rt,this._attachDialogContent(ze,ht,Rt,yt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ht),ht.closed.subscribe(()=>this._removeOpenDialog(ht,!0)),this.afterOpened.next(ht),ht}closeAll(){$e(this.openDialogs,ze=>ze.close())}getDialogById(ze){return this.openDialogs.find(yt=>yt.id===ze)}ngOnDestroy(){$e(this._openDialogsAtThisLevel,ze=>{!1===ze.config.closeOnDestroy&&this._removeOpenDialog(ze,!1)}),$e(this._openDialogsAtThisLevel,ze=>ze.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ze){const yt=new L.X_({positionStrategy:ze.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ze.scrollStrategy||this._scrollStrategy(),panelClass:ze.panelClass,hasBackdrop:ze.hasBackdrop,direction:ze.direction,minWidth:ze.minWidth,minHeight:ze.minHeight,maxWidth:ze.maxWidth,maxHeight:ze.maxHeight,width:ze.width,height:ze.height,disposeOnNavigation:ze.closeOnNavigation});return ze.backdropClass&&(yt.backdropClass=ze.backdropClass),yt}_attachContainer(ze,yt,vn){const On=vn.injector||vn.viewContainerRef?.injector,ut=[{provide:Ne,useValue:vn},{provide:Le,useValue:yt},{provide:L.Iu,useValue:ze}];let ht;vn.container?"function"==typeof vn.container?ht=vn.container:(ht=vn.container.type,ut.push(...vn.container.providers(vn))):ht=it;const Rt=new ne.C5(ht,vn.viewContainerRef,ae.zs3.create({parent:On||this._injector,providers:ut}),vn.componentFactoryResolver);return ze.attach(Rt).instance}_attachDialogContent(ze,yt,vn,On){if(ze instanceof ae.Rgc){const ut=this._createInjector(On,yt,vn,void 0);let ht={$implicit:On.data,dialogRef:yt};On.templateContext&&(ht={...ht,..."function"==typeof On.templateContext?On.templateContext():On.templateContext}),vn.attachTemplatePortal(new ne.UE(ze,null,ht,ut))}else{const ut=this._createInjector(On,yt,vn,this._injector),ht=vn.attachComponentPortal(new ne.C5(ze,On.viewContainerRef,ut,On.componentFactoryResolver));yt.componentInstance=ht.instance}}_createInjector(ze,yt,vn,On){const ut=ze.injector||ze.viewContainerRef?.injector,ht=[{provide:Re,useValue:ze.data},{provide:Le,useValue:yt}];return ze.providers&&("function"==typeof ze.providers?ht.push(...ze.providers(yt,ze,vn)):ht.push(...ze.providers)),ze.direction&&(!ut||!ut.get(de.Is,null,{optional:!0}))&&ht.push({provide:de.Is,useValue:{value:ze.direction,change:(0,se.of)()}}),ae.zs3.create({parent:ut||On,providers:ht})}_removeOpenDialog(ze,yt){const vn=this.openDialogs.indexOf(ze);vn>-1&&(this.openDialogs.splice(vn,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((On,ut)=>{On?ut.setAttribute("aria-hidden",On):ut.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),yt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ze=this._overlayContainer.getContainerElement();if(ze.parentElement){const yt=ze.parentElement.children;for(let vn=yt.length-1;vn>-1;vn--){const On=yt[vn];On!==ze&&"SCRIPT"!==On.nodeName&&"STYLE"!==On.nodeName&&!On.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(On,On.getAttribute("aria-hidden")),On.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ze=this._parentDialog;return ze?ze._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return We.\u0275fac=function(ze){return new(ze||We)(ae.LFG(L.aV),ae.LFG(ae.zs3),ae.LFG(wt,8),ae.LFG(We,12),ae.LFG(L.Xj),ae.LFG(He))},We.\u0275prov=ae.Yz7({token:We,factory:We.\u0275fac}),We})();function $e(We,Fe){let ze=We.length;for(;ze--;)Fe(We[ze])}let Z=(()=>{class We{}return We.\u0275fac=function(ze){return new(ze||We)},We.\u0275mod=ae.oAB({type:We}),We.\u0275inj=ae.cJS({providers:[Me,Ie],imports:[L.U8,ne.eL,d.rt,ne.eL]}),We})()},2840:(gn,nt,E)=>{E.d(nt,{A:()=>dn,JH:()=>wt,JU:()=>ae,K5:()=>xe,Ku:()=>Xe,LH:()=>He,L_:()=>me,MW:()=>Wt,Mf:()=>f,SV:()=>Re,Sd:()=>it,VM:()=>Ne,Vb:()=>no,Z:()=>ln,aO:()=>ht,b2:()=>go,hY:()=>de,jx:()=>Y,oh:()=>Le,uR:()=>dt,xE:()=>$e,zL:()=>_e});const f=9,xe=13,ae=16,Y=17,_e=18,de=27,me=32,Xe=33,Ne=34,dt=35,it=36,Le=37,He=38,Re=39,wt=40,$e=48,ht=57,dn=65,ln=90,Wt=91,go=224;function no(hr,...Gr){return Gr.length?Gr.some(io=>hr[io]):hr.altKey||hr.shiftKey||hr.ctrlKey||hr.metaKey}},5537:(gn,nt,E)=>{E.d(nt,{Yg:()=>wt,u3:()=>Ie});var d=E(2223),L=E(1692),f=E(7579),ne=E(9841),xe=E(7272),ae=E(9751),Y=E(5698),_e=E(5684),Ee=E(8372),se=E(4004),de=E(8675),me=E(2722),Xe=E(2966);const dt=new Set;let it,Le=(()=>{class be{constructor($e,Z){this._platform=$e,this._nonce=Z,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Re}matchMedia($e){return(this._platform.WEBKIT||this._platform.BLINK)&&function He(be,Me){if(!dt.has(be))try{it||(it=document.createElement("style"),Me&&(it.nonce=Me),it.setAttribute("type","text/css"),document.head.appendChild(it)),it.sheet&&(it.sheet.insertRule(`@media ${be} {body{ }}`,0),dt.add(be))}catch($e){console.error($e)}}($e,this._nonce),this._matchMedia($e)}}return be.\u0275fac=function($e){return new($e||be)(d.LFG(Xe.t4),d.LFG(d.Ojb,8))},be.\u0275prov=d.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Re(be){return{matches:"all"===be||""===be,media:be,addListener:()=>{},removeListener:()=>{}}}let wt=(()=>{class be{constructor($e,Z){this._mediaMatcher=$e,this._zone=Z,this._queries=new Map,this._destroySubject=new f.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched($e){return ue((0,L.Eq)($e)).some(We=>this._registerQuery(We).mql.matches)}observe($e){const We=ue((0,L.Eq)($e)).map(ze=>this._registerQuery(ze).observable);let Fe=(0,ne.a)(We);return Fe=(0,xe.z)(Fe.pipe((0,Y.q)(1)),Fe.pipe((0,_e.T)(1),(0,Ee.b)(0))),Fe.pipe((0,se.U)(ze=>{const yt={matches:!1,breakpoints:{}};return ze.forEach(({matches:vn,query:On})=>{yt.matches=yt.matches||vn,yt.breakpoints[On]=vn}),yt}))}_registerQuery($e){if(this._queries.has($e))return this._queries.get($e);const Z=this._mediaMatcher.matchMedia($e),Fe={observable:new ae.y(ze=>{const yt=vn=>this._zone.run(()=>ze.next(vn));return Z.addListener(yt),()=>{Z.removeListener(yt)}}).pipe((0,de.O)(Z),(0,se.U)(({matches:ze})=>({query:$e,matches:ze})),(0,me.R)(this._destroySubject)),mql:Z};return this._queries.set($e,Fe),Fe}}return be.\u0275fac=function($e){return new($e||be)(d.LFG(Le),d.LFG(d.R0b))},be.\u0275prov=d.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function ue(be){return be.map(Me=>Me.split(",")).reduce((Me,$e)=>Me.concat($e)).map(Me=>Me.trim())}const Ie={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},829:(gn,nt,E)=>{E.d(nt,{Q8:()=>Ee,wD:()=>_e});var d=E(1692),L=E(2223),f=E(9751),ne=E(7579),xe=E(8372);let ae=(()=>{class se{create(me){return typeof MutationObserver>"u"?null:new MutationObserver(me)}}return se.\u0275fac=function(me){return new(me||se)},se.\u0275prov=L.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Y=(()=>{class se{constructor(me){this._mutationObserverFactory=me,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((me,Xe)=>this._cleanupObserver(Xe))}observe(me){const Xe=(0,d.fI)(me);return new f.y(Ne=>{const it=this._observeElement(Xe).subscribe(Ne);return()=>{it.unsubscribe(),this._unobserveElement(Xe)}})}_observeElement(me){if(this._observedElements.has(me))this._observedElements.get(me).count++;else{const Xe=new ne.x,Ne=this._mutationObserverFactory.create(dt=>Xe.next(dt));Ne&&Ne.observe(me,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(me,{observer:Ne,stream:Xe,count:1})}return this._observedElements.get(me).stream}_unobserveElement(me){this._observedElements.has(me)&&(this._observedElements.get(me).count--,this._observedElements.get(me).count||this._cleanupObserver(me))}_cleanupObserver(me){if(this._observedElements.has(me)){const{observer:Xe,stream:Ne}=this._observedElements.get(me);Xe&&Xe.disconnect(),Ne.complete(),this._observedElements.delete(me)}}}return se.\u0275fac=function(me){return new(me||se)(L.LFG(ae))},se.\u0275prov=L.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),_e=(()=>{class se{get disabled(){return this._disabled}set disabled(me){this._disabled=(0,d.Ig)(me),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(me){this._debounce=(0,d.su)(me),this._subscribe()}constructor(me,Xe,Ne){this._contentObserver=me,this._elementRef=Xe,this._ngZone=Ne,this.event=new L.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const me=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?me.pipe((0,xe.b)(this.debounce)):me).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return se.\u0275fac=function(me){return new(me||se)(L.Y36(Y),L.Y36(L.SBq),L.Y36(L.R0b))},se.\u0275dir=L.lG2({type:se,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),se})(),Ee=(()=>{class se{}return se.\u0275fac=function(me){return new(me||se)},se.\u0275mod=L.oAB({type:se}),se.\u0275inj=L.cJS({providers:[ae]}),se})()},9002:(gn,nt,E)=>{E.d(nt,{Iu:()=>ut,U8:()=>gi,X_:()=>be,Xj:()=>On,aV:()=>bt});var d=E(2236),L=E(4755),f=E(2223),ne=E(1692),xe=E(2966),ae=E(9300),Y=E(5698),_e=E(2722),Ee=E(8930),se=E(8023),de=E(7579),me=E(727),Xe=E(6451);const Ne=(0,xe.Mq)();class dt{constructor(ce,Ve){this._viewportRuler=ce,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ve}attach(){}enable(){if(this._canBeEnabled()){const ce=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ce.style.left||"",this._previousHTMLStyles.top=ce.style.top||"",ce.style.left=(0,ne.HM)(-this._previousScrollPosition.left),ce.style.top=(0,ne.HM)(-this._previousScrollPosition.top),ce.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ce=this._document.documentElement,ft=ce.style,st=this._document.body.style,Ke=ft.scrollBehavior||"",qe=st.scrollBehavior||"";this._isEnabled=!1,ft.left=this._previousHTMLStyles.left,ft.top=this._previousHTMLStyles.top,ce.classList.remove("cdk-global-scrollblock"),Ne&&(ft.scrollBehavior=st.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ne&&(ft.scrollBehavior=Ke,st.scrollBehavior=qe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ve=this._document.body,ft=this._viewportRuler.getViewportSize();return Ve.scrollHeight>ft.height||Ve.scrollWidth>ft.width}}class Le{constructor(ce,Ve,ft,st){this._scrollDispatcher=ce,this._ngZone=Ve,this._viewportRuler=ft,this._config=st,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ce){this._overlayRef=ce}enable(){if(this._scrollSubscription)return;const ce=this._scrollDispatcher.scrolled(0).pipe((0,ae.h)(Ve=>!Ve||!this._overlayRef.overlayElement.contains(Ve.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ce.subscribe(()=>{const Ve=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ve-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ce.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class He{enable(){}disable(){}attach(){}}function Re(Vt,ce){return ce.some(Ve=>Vt.bottom<Ve.top||Vt.top>Ve.bottom||Vt.right<Ve.left||Vt.left>Ve.right)}function wt(Vt,ce){return ce.some(Ve=>Vt.top<Ve.top||Vt.bottom>Ve.bottom||Vt.left<Ve.left||Vt.right>Ve.right)}class ue{constructor(ce,Ve,ft,st){this._scrollDispatcher=ce,this._viewportRuler=Ve,this._ngZone=ft,this._config=st,this._scrollSubscription=null}attach(ce){this._overlayRef=ce}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ve=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ft,height:st}=this._viewportRuler.getViewportSize();Re(Ve,[{width:ft,height:st,bottom:st,right:ft,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ie=(()=>{class Vt{constructor(Ve,ft,st,Ke){this._scrollDispatcher=Ve,this._viewportRuler=ft,this._ngZone=st,this.noop=()=>new He,this.close=qe=>new Le(this._scrollDispatcher,this._ngZone,this._viewportRuler,qe),this.block=()=>new dt(this._viewportRuler,this._document),this.reposition=qe=>new ue(this._scrollDispatcher,this._viewportRuler,this._ngZone,qe),this._document=Ke}}return Vt.\u0275fac=function(Ve){return new(Ve||Vt)(f.LFG(d.mF),f.LFG(d.rL),f.LFG(f.R0b),f.LFG(L.K0))},Vt.\u0275prov=f.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})();class be{constructor(ce){if(this.scrollStrategy=new He,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ce){const Ve=Object.keys(ce);for(const ft of Ve)void 0!==ce[ft]&&(this[ft]=ce[ft])}}}class Z{constructor(ce,Ve){this.connectionPair=ce,this.scrollableViewProperties=Ve}}let ze=(()=>{class Vt{constructor(Ve){this._attachedOverlays=[],this._document=Ve}ngOnDestroy(){this.detach()}add(Ve){this.remove(Ve),this._attachedOverlays.push(Ve)}remove(Ve){const ft=this._attachedOverlays.indexOf(Ve);ft>-1&&this._attachedOverlays.splice(ft,1),0===this._attachedOverlays.length&&this.detach()}}return Vt.\u0275fac=function(Ve){return new(Ve||Vt)(f.LFG(L.K0))},Vt.\u0275prov=f.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})(),yt=(()=>{class Vt extends ze{constructor(Ve,ft){super(Ve),this._ngZone=ft,this._keydownListener=st=>{const Ke=this._attachedOverlays;for(let qe=Ke.length-1;qe>-1;qe--)if(Ke[qe]._keydownEvents.observers.length>0){const Ae=Ke[qe]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ae.next(st)):Ae.next(st);break}}}add(Ve){super.add(Ve),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Vt.\u0275fac=function(Ve){return new(Ve||Vt)(f.LFG(L.K0),f.LFG(f.R0b,8))},Vt.\u0275prov=f.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})(),vn=(()=>{class Vt extends ze{constructor(Ve,ft,st){super(Ve),this._platform=ft,this._ngZone=st,this._cursorStyleIsSet=!1,this._pointerDownListener=Ke=>{this._pointerDownEventTarget=(0,xe.sA)(Ke)},this._clickListener=Ke=>{const qe=(0,xe.sA)(Ke),Ae="click"===Ke.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:qe;this._pointerDownEventTarget=null;const jt=this._attachedOverlays.slice();for(let ln=jt.length-1;ln>-1;ln--){const Wt=jt[ln];if(Wt._outsidePointerEvents.observers.length<1||!Wt.hasAttached())continue;if(Wt.overlayElement.contains(qe)||Wt.overlayElement.contains(Ae))break;const Gt=Wt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Gt.next(Ke)):Gt.next(Ke)}}}add(Ve){if(super.add(Ve),!this._isAttached){const ft=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ft)):this._addEventListeners(ft),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ft.style.cursor,ft.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ve=this._document.body;Ve.removeEventListener("pointerdown",this._pointerDownListener,!0),Ve.removeEventListener("click",this._clickListener,!0),Ve.removeEventListener("auxclick",this._clickListener,!0),Ve.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ve.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ve){Ve.addEventListener("pointerdown",this._pointerDownListener,!0),Ve.addEventListener("click",this._clickListener,!0),Ve.addEventListener("auxclick",this._clickListener,!0),Ve.addEventListener("contextmenu",this._clickListener,!0)}}return Vt.\u0275fac=function(Ve){return new(Ve||Vt)(f.LFG(L.K0),f.LFG(xe.t4),f.LFG(f.R0b,8))},Vt.\u0275prov=f.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})(),On=(()=>{class Vt{constructor(Ve,ft){this._platform=ft,this._document=Ve}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ve="cdk-overlay-container";if(this._platform.isBrowser||(0,xe.Oy)()){const st=this._document.querySelectorAll(`.${Ve}[platform="server"], .${Ve}[platform="test"]`);for(let Ke=0;Ke<st.length;Ke++)st[Ke].remove()}const ft=this._document.createElement("div");ft.classList.add(Ve),(0,xe.Oy)()?ft.setAttribute("platform","test"):this._platform.isBrowser||ft.setAttribute("platform","server"),this._document.body.appendChild(ft),this._containerElement=ft}}return Vt.\u0275fac=function(Ve){return new(Ve||Vt)(f.LFG(L.K0),f.LFG(xe.t4))},Vt.\u0275prov=f.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})();class ut{constructor(ce,Ve,ft,st,Ke,qe,Ae,jt,ln,Wt=!1){this._portalOutlet=ce,this._host=Ve,this._pane=ft,this._config=st,this._ngZone=Ke,this._keyboardDispatcher=qe,this._document=Ae,this._location=jt,this._outsideClickDispatcher=ln,this._animationsDisabled=Wt,this._backdropElement=null,this._backdropClick=new de.x,this._attachments=new de.x,this._detachments=new de.x,this._locationChanges=me.w0.EMPTY,this._backdropClickHandler=Gt=>this._backdropClick.next(Gt),this._backdropTransitionendHandler=Gt=>{this._disposeBackdrop(Gt.target)},this._keydownEvents=new de.x,this._outsidePointerEvents=new de.x,st.scrollStrategy&&(this._scrollStrategy=st.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=st.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ce){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ve=this._portalOutlet.attach(ce);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Y.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ve?.onDestroy&&Ve.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ve}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ce=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ce}dispose(){const ce=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ce&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ce){ce!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ce,this.hasAttached()&&(ce.attach(this),this.updatePosition()))}updateSize(ce){this._config={...this._config,...ce},this._updateElementSize()}setDirection(ce){this._config={...this._config,direction:ce},this._updateElementDirection()}addPanelClass(ce){this._pane&&this._toggleClasses(this._pane,ce,!0)}removePanelClass(ce){this._pane&&this._toggleClasses(this._pane,ce,!1)}getDirection(){const ce=this._config.direction;return ce?"string"==typeof ce?ce:ce.value:"ltr"}updateScrollStrategy(ce){ce!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ce,this.hasAttached()&&(ce.attach(this),ce.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ce=this._pane.style;ce.width=(0,ne.HM)(this._config.width),ce.height=(0,ne.HM)(this._config.height),ce.minWidth=(0,ne.HM)(this._config.minWidth),ce.minHeight=(0,ne.HM)(this._config.minHeight),ce.maxWidth=(0,ne.HM)(this._config.maxWidth),ce.maxHeight=(0,ne.HM)(this._config.maxHeight)}_togglePointerEvents(ce){this._pane.style.pointerEvents=ce?"":"none"}_attachBackdrop(){const ce="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ce)})}):this._backdropElement.classList.add(ce)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ce=this._backdropElement;if(ce){if(this._animationsDisabled)return void this._disposeBackdrop(ce);ce.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ce.addEventListener("transitionend",this._backdropTransitionendHandler)}),ce.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ce)},500))}}_toggleClasses(ce,Ve,ft){const st=(0,ne.Eq)(Ve||[]).filter(Ke=>!!Ke);st.length&&(ft?ce.classList.add(...st):ce.classList.remove(...st))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ce=this._ngZone.onStable.pipe((0,_e.R)((0,Xe.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ce.unsubscribe())})})}_disposeScrollStrategy(){const ce=this._scrollStrategy;ce&&(ce.disable(),ce.detach&&ce.detach())}_disposeBackdrop(ce){ce&&(ce.removeEventListener("click",this._backdropClickHandler),ce.removeEventListener("transitionend",this._backdropTransitionendHandler),ce.remove(),this._backdropElement===ce&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ht="cdk-overlay-connected-position-bounding-box",Rt=/([A-Za-z%]+)$/;class Ft{get positions(){return this._preferredPositions}constructor(ce,Ve,ft,st,Ke){this._viewportRuler=Ve,this._document=ft,this._platform=st,this._overlayContainer=Ke,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de.x,this._resizeSubscription=me.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ce)}attach(ce){this._validatePositions(),ce.hostElement.classList.add(ht),this._overlayRef=ce,this._boundingBox=ce.hostElement,this._pane=ce.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ce=this._originRect,Ve=this._overlayRect,ft=this._viewportRect,st=this._containerRect,Ke=[];let qe;for(let Ae of this._preferredPositions){let jt=this._getOriginPoint(ce,st,Ae),ln=this._getOverlayPoint(jt,Ve,Ae),Wt=this._getOverlayFit(ln,Ve,ft,Ae);if(Wt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ae,jt);this._canFitWithFlexibleDimensions(Wt,ln,ft)?Ke.push({position:Ae,origin:jt,overlayRect:Ve,boundingBoxRect:this._calculateBoundingBoxRect(jt,Ae)}):(!qe||qe.overlayFit.visibleArea<Wt.visibleArea)&&(qe={overlayFit:Wt,overlayPoint:ln,originPoint:jt,position:Ae,overlayRect:Ve})}if(Ke.length){let Ae=null,jt=-1;for(const ln of Ke){const Wt=ln.boundingBoxRect.width*ln.boundingBoxRect.height*(ln.position.weight||1);Wt>jt&&(jt=Wt,Ae=ln)}return this._isPushed=!1,void this._applyPosition(Ae.position,Ae.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(qe.position,qe.originPoint);this._applyPosition(qe.position,qe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ht),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ce=this._lastPosition;if(ce){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ve=this._getOriginPoint(this._originRect,this._containerRect,ce);this._applyPosition(ce,Ve)}else this.apply()}withScrollableContainers(ce){return this._scrollables=ce,this}withPositions(ce){return this._preferredPositions=ce,-1===ce.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ce){return this._viewportMargin=ce,this}withFlexibleDimensions(ce=!0){return this._hasFlexibleDimensions=ce,this}withGrowAfterOpen(ce=!0){return this._growAfterOpen=ce,this}withPush(ce=!0){return this._canPush=ce,this}withLockedPosition(ce=!0){return this._positionLocked=ce,this}setOrigin(ce){return this._origin=ce,this}withDefaultOffsetX(ce){return this._offsetX=ce,this}withDefaultOffsetY(ce){return this._offsetY=ce,this}withTransformOriginOn(ce){return this._transformOriginSelector=ce,this}_getOriginPoint(ce,Ve,ft){let st,Ke;if("center"==ft.originX)st=ce.left+ce.width/2;else{const qe=this._isRtl()?ce.right:ce.left,Ae=this._isRtl()?ce.left:ce.right;st="start"==ft.originX?qe:Ae}return Ve.left<0&&(st-=Ve.left),Ke="center"==ft.originY?ce.top+ce.height/2:"top"==ft.originY?ce.top:ce.bottom,Ve.top<0&&(Ke-=Ve.top),{x:st,y:Ke}}_getOverlayPoint(ce,Ve,ft){let st,Ke;return st="center"==ft.overlayX?-Ve.width/2:"start"===ft.overlayX?this._isRtl()?-Ve.width:0:this._isRtl()?0:-Ve.width,Ke="center"==ft.overlayY?-Ve.height/2:"top"==ft.overlayY?0:-Ve.height,{x:ce.x+st,y:ce.y+Ke}}_getOverlayFit(ce,Ve,ft,st){const Ke=dn(Ve);let{x:qe,y:Ae}=ce,jt=this._getOffset(st,"x"),ln=this._getOffset(st,"y");jt&&(qe+=jt),ln&&(Ae+=ln);let Rn=0-Ae,ke=Ae+Ke.height-ft.height,_t=this._subtractOverflows(Ke.width,0-qe,qe+Ke.width-ft.width),$t=this._subtractOverflows(Ke.height,Rn,ke),Sn=_t*$t;return{visibleArea:Sn,isCompletelyWithinViewport:Ke.width*Ke.height===Sn,fitsInViewportVertically:$t===Ke.height,fitsInViewportHorizontally:_t==Ke.width}}_canFitWithFlexibleDimensions(ce,Ve,ft){if(this._hasFlexibleDimensions){const st=ft.bottom-Ve.y,Ke=ft.right-Ve.x,qe=Yt(this._overlayRef.getConfig().minHeight),Ae=Yt(this._overlayRef.getConfig().minWidth);return(ce.fitsInViewportVertically||null!=qe&&qe<=st)&&(ce.fitsInViewportHorizontally||null!=Ae&&Ae<=Ke)}return!1}_pushOverlayOnScreen(ce,Ve,ft){if(this._previousPushAmount&&this._positionLocked)return{x:ce.x+this._previousPushAmount.x,y:ce.y+this._previousPushAmount.y};const st=dn(Ve),Ke=this._viewportRect,qe=Math.max(ce.x+st.width-Ke.width,0),Ae=Math.max(ce.y+st.height-Ke.height,0),jt=Math.max(Ke.top-ft.top-ce.y,0),ln=Math.max(Ke.left-ft.left-ce.x,0);let Wt=0,Gt=0;return Wt=st.width<=Ke.width?ln||-qe:ce.x<this._viewportMargin?Ke.left-ft.left-ce.x:0,Gt=st.height<=Ke.height?jt||-Ae:ce.y<this._viewportMargin?Ke.top-ft.top-ce.y:0,this._previousPushAmount={x:Wt,y:Gt},{x:ce.x+Wt,y:ce.y+Gt}}_applyPosition(ce,Ve){if(this._setTransformOrigin(ce),this._setOverlayElementStyles(Ve,ce),this._setBoundingBoxStyles(Ve,ce),ce.panelClass&&this._addPanelClasses(ce.panelClass),this._lastPosition=ce,this._positionChanges.observers.length){const ft=this._getScrollVisibility(),st=new Z(ce,ft);this._positionChanges.next(st)}this._isInitialRender=!1}_setTransformOrigin(ce){if(!this._transformOriginSelector)return;const Ve=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ft,st=ce.overlayY;ft="center"===ce.overlayX?"center":this._isRtl()?"start"===ce.overlayX?"right":"left":"start"===ce.overlayX?"left":"right";for(let Ke=0;Ke<Ve.length;Ke++)Ve[Ke].style.transformOrigin=`${ft} ${st}`}_calculateBoundingBoxRect(ce,Ve){const ft=this._viewportRect,st=this._isRtl();let Ke,qe,Ae,Wt,Gt,Rn;if("top"===Ve.overlayY)qe=ce.y,Ke=ft.height-qe+this._viewportMargin;else if("bottom"===Ve.overlayY)Ae=ft.height-ce.y+2*this._viewportMargin,Ke=ft.height-Ae+this._viewportMargin;else{const ke=Math.min(ft.bottom-ce.y+ft.top,ce.y),_t=this._lastBoundingBoxSize.height;Ke=2*ke,qe=ce.y-ke,Ke>_t&&!this._isInitialRender&&!this._growAfterOpen&&(qe=ce.y-_t/2)}if("end"===Ve.overlayX&&!st||"start"===Ve.overlayX&&st)Rn=ft.width-ce.x+this._viewportMargin,Wt=ce.x-this._viewportMargin;else if("start"===Ve.overlayX&&!st||"end"===Ve.overlayX&&st)Gt=ce.x,Wt=ft.right-ce.x;else{const ke=Math.min(ft.right-ce.x+ft.left,ce.x),_t=this._lastBoundingBoxSize.width;Wt=2*ke,Gt=ce.x-ke,Wt>_t&&!this._isInitialRender&&!this._growAfterOpen&&(Gt=ce.x-_t/2)}return{top:qe,left:Gt,bottom:Ae,right:Rn,width:Wt,height:Ke}}_setBoundingBoxStyles(ce,Ve){const ft=this._calculateBoundingBoxRect(ce,Ve);!this._isInitialRender&&!this._growAfterOpen&&(ft.height=Math.min(ft.height,this._lastBoundingBoxSize.height),ft.width=Math.min(ft.width,this._lastBoundingBoxSize.width));const st={};if(this._hasExactPosition())st.top=st.left="0",st.bottom=st.right=st.maxHeight=st.maxWidth="",st.width=st.height="100%";else{const Ke=this._overlayRef.getConfig().maxHeight,qe=this._overlayRef.getConfig().maxWidth;st.height=(0,ne.HM)(ft.height),st.top=(0,ne.HM)(ft.top),st.bottom=(0,ne.HM)(ft.bottom),st.width=(0,ne.HM)(ft.width),st.left=(0,ne.HM)(ft.left),st.right=(0,ne.HM)(ft.right),st.alignItems="center"===Ve.overlayX?"center":"end"===Ve.overlayX?"flex-end":"flex-start",st.justifyContent="center"===Ve.overlayY?"center":"bottom"===Ve.overlayY?"flex-end":"flex-start",Ke&&(st.maxHeight=(0,ne.HM)(Ke)),qe&&(st.maxWidth=(0,ne.HM)(qe))}this._lastBoundingBoxSize=ft,qt(this._boundingBox.style,st)}_resetBoundingBoxStyles(){qt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ce,Ve){const ft={},st=this._hasExactPosition(),Ke=this._hasFlexibleDimensions,qe=this._overlayRef.getConfig();if(st){const Wt=this._viewportRuler.getViewportScrollPosition();qt(ft,this._getExactOverlayY(Ve,ce,Wt)),qt(ft,this._getExactOverlayX(Ve,ce,Wt))}else ft.position="static";let Ae="",jt=this._getOffset(Ve,"x"),ln=this._getOffset(Ve,"y");jt&&(Ae+=`translateX(${jt}px) `),ln&&(Ae+=`translateY(${ln}px)`),ft.transform=Ae.trim(),qe.maxHeight&&(st?ft.maxHeight=(0,ne.HM)(qe.maxHeight):Ke&&(ft.maxHeight="")),qe.maxWidth&&(st?ft.maxWidth=(0,ne.HM)(qe.maxWidth):Ke&&(ft.maxWidth="")),qt(this._pane.style,ft)}_getExactOverlayY(ce,Ve,ft){let st={top:"",bottom:""},Ke=this._getOverlayPoint(Ve,this._overlayRect,ce);return this._isPushed&&(Ke=this._pushOverlayOnScreen(Ke,this._overlayRect,ft)),"bottom"===ce.overlayY?st.bottom=this._document.documentElement.clientHeight-(Ke.y+this._overlayRect.height)+"px":st.top=(0,ne.HM)(Ke.y),st}_getExactOverlayX(ce,Ve,ft){let qe,st={left:"",right:""},Ke=this._getOverlayPoint(Ve,this._overlayRect,ce);return this._isPushed&&(Ke=this._pushOverlayOnScreen(Ke,this._overlayRect,ft)),qe=this._isRtl()?"end"===ce.overlayX?"left":"right":"end"===ce.overlayX?"right":"left","right"===qe?st.right=this._document.documentElement.clientWidth-(Ke.x+this._overlayRect.width)+"px":st.left=(0,ne.HM)(Ke.x),st}_getScrollVisibility(){const ce=this._getOriginRect(),Ve=this._pane.getBoundingClientRect(),ft=this._scrollables.map(st=>st.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wt(ce,ft),isOriginOutsideView:Re(ce,ft),isOverlayClipped:wt(Ve,ft),isOverlayOutsideView:Re(Ve,ft)}}_subtractOverflows(ce,...Ve){return Ve.reduce((ft,st)=>ft-Math.max(st,0),ce)}_getNarrowedViewportRect(){const ce=this._document.documentElement.clientWidth,Ve=this._document.documentElement.clientHeight,ft=this._viewportRuler.getViewportScrollPosition();return{top:ft.top+this._viewportMargin,left:ft.left+this._viewportMargin,right:ft.left+ce-this._viewportMargin,bottom:ft.top+Ve-this._viewportMargin,width:ce-2*this._viewportMargin,height:Ve-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ce,Ve){return"x"===Ve?null==ce.offsetX?this._offsetX:ce.offsetX:null==ce.offsetY?this._offsetY:ce.offsetY}_validatePositions(){}_addPanelClasses(ce){this._pane&&(0,ne.Eq)(ce).forEach(Ve=>{""!==Ve&&-1===this._appliedPanelClasses.indexOf(Ve)&&(this._appliedPanelClasses.push(Ve),this._pane.classList.add(Ve))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ce=>{this._pane.classList.remove(ce)}),this._appliedPanelClasses=[])}_getOriginRect(){const ce=this._origin;if(ce instanceof f.SBq)return ce.nativeElement.getBoundingClientRect();if(ce instanceof Element)return ce.getBoundingClientRect();const Ve=ce.width||0,ft=ce.height||0;return{top:ce.y,bottom:ce.y+ft,left:ce.x,right:ce.x+Ve,height:ft,width:Ve}}}function qt(Vt,ce){for(let Ve in ce)ce.hasOwnProperty(Ve)&&(Vt[Ve]=ce[Ve]);return Vt}function Yt(Vt){if("number"!=typeof Vt&&null!=Vt){const[ce,Ve]=Vt.split(Rt);return Ve&&"px"!==Ve?null:parseFloat(ce)}return Vt||null}function dn(Vt){return{top:Math.floor(Vt.top),right:Math.floor(Vt.right),bottom:Math.floor(Vt.bottom),left:Math.floor(Vt.left),width:Math.floor(Vt.width),height:Math.floor(Vt.height)}}const At="cdk-global-overlay-wrapper";class Ge{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ce){const Ve=ce.getConfig();this._overlayRef=ce,this._width&&!Ve.width&&ce.updateSize({width:this._width}),this._height&&!Ve.height&&ce.updateSize({height:this._height}),ce.hostElement.classList.add(At),this._isDisposed=!1}top(ce=""){return this._bottomOffset="",this._topOffset=ce,this._alignItems="flex-start",this}left(ce=""){return this._xOffset=ce,this._xPosition="left",this}bottom(ce=""){return this._topOffset="",this._bottomOffset=ce,this._alignItems="flex-end",this}right(ce=""){return this._xOffset=ce,this._xPosition="right",this}start(ce=""){return this._xOffset=ce,this._xPosition="start",this}end(ce=""){return this._xOffset=ce,this._xPosition="end",this}width(ce=""){return this._overlayRef?this._overlayRef.updateSize({width:ce}):this._width=ce,this}height(ce=""){return this._overlayRef?this._overlayRef.updateSize({height:ce}):this._height=ce,this}centerHorizontally(ce=""){return this.left(ce),this._xPosition="center",this}centerVertically(ce=""){return this.top(ce),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ce=this._overlayRef.overlayElement.style,Ve=this._overlayRef.hostElement.style,ft=this._overlayRef.getConfig(),{width:st,height:Ke,maxWidth:qe,maxHeight:Ae}=ft,jt=!("100%"!==st&&"100vw"!==st||qe&&"100%"!==qe&&"100vw"!==qe),ln=!("100%"!==Ke&&"100vh"!==Ke||Ae&&"100%"!==Ae&&"100vh"!==Ae),Wt=this._xPosition,Gt=this._xOffset,Rn="rtl"===this._overlayRef.getConfig().direction;let ke="",_t="",$t="";jt?$t="flex-start":"center"===Wt?($t="center",Rn?_t=Gt:ke=Gt):Rn?"left"===Wt||"end"===Wt?($t="flex-end",ke=Gt):("right"===Wt||"start"===Wt)&&($t="flex-start",_t=Gt):"left"===Wt||"start"===Wt?($t="flex-start",ke=Gt):("right"===Wt||"end"===Wt)&&($t="flex-end",_t=Gt),ce.position=this._cssPosition,ce.marginLeft=jt?"0":ke,ce.marginTop=ln?"0":this._topOffset,ce.marginBottom=this._bottomOffset,ce.marginRight=jt?"0":_t,Ve.justifyContent=$t,Ve.alignItems=ln?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ce=this._overlayRef.overlayElement.style,Ve=this._overlayRef.hostElement,ft=Ve.style;Ve.classList.remove(At),ft.justifyContent=ft.alignItems=ce.marginTop=ce.marginBottom=ce.marginLeft=ce.marginRight=ce.position="",this._overlayRef=null,this._isDisposed=!0}}let Qe=(()=>{class Vt{constructor(Ve,ft,st,Ke){this._viewportRuler=Ve,this._document=ft,this._platform=st,this._overlayContainer=Ke}global(){return new Ge}flexibleConnectedTo(Ve){return new Ft(Ve,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Vt.\u0275fac=function(Ve){return new(Ve||Vt)(f.LFG(d.rL),f.LFG(L.K0),f.LFG(xe.t4),f.LFG(On))},Vt.\u0275prov=f.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})(),kt=0,bt=(()=>{class Vt{constructor(Ve,ft,st,Ke,qe,Ae,jt,ln,Wt,Gt,Rn,ke){this.scrollStrategies=Ve,this._overlayContainer=ft,this._componentFactoryResolver=st,this._positionBuilder=Ke,this._keyboardDispatcher=qe,this._injector=Ae,this._ngZone=jt,this._document=ln,this._directionality=Wt,this._location=Gt,this._outsideClickDispatcher=Rn,this._animationsModuleType=ke}create(Ve){const ft=this._createHostElement(),st=this._createPaneElement(ft),Ke=this._createPortalOutlet(st),qe=new be(Ve);return qe.direction=qe.direction||this._directionality.value,new ut(Ke,ft,st,qe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ve){const ft=this._document.createElement("div");return ft.id="cdk-overlay-"+kt++,ft.classList.add("cdk-overlay-pane"),Ve.appendChild(ft),ft}_createHostElement(){const Ve=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ve),Ve}_createPortalOutlet(Ve){return this._appRef||(this._appRef=this._injector.get(f.z2F)),new se.u0(Ve,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Vt.\u0275fac=function(Ve){return new(Ve||Vt)(f.LFG(Ie),f.LFG(On),f.LFG(f._Vd),f.LFG(Qe),f.LFG(yt),f.LFG(f.zs3),f.LFG(f.R0b),f.LFG(L.K0),f.LFG(Ee.Is),f.LFG(L.Ye),f.LFG(vn),f.LFG(f.QbO,8))},Vt.\u0275prov=f.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})();const Yn={provide:new f.OlP("cdk-connected-overlay-scroll-strategy"),deps:[bt],useFactory:function _n(Vt){return()=>Vt.scrollStrategies.reposition()}};let gi=(()=>{class Vt{}return Vt.\u0275fac=function(Ve){return new(Ve||Vt)},Vt.\u0275mod=f.oAB({type:Vt}),Vt.\u0275inj=f.cJS({providers:[bt,Yn],imports:[Ee.vT,se.eL,d.Cl,d.Cl]}),Vt})()},2966:(gn,nt,E)=>{E.d(nt,{Mq:()=>Ne,Oy:()=>ue,ht:()=>Re,i$:()=>de,kV:()=>He,sA:()=>wt,t4:()=>ne});var d=E(2223),L=E(4755);let f;try{f=typeof Intl<"u"&&Intl.v8BreakIterator}catch{f=!1}let Ee,Xe,it,ne=(()=>{class Ie{constructor(Me){this._platformId=Me,this.isBrowser=this._platformId?(0,L.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ie.\u0275fac=function(Me){return new(Me||Ie)(d.LFG(d.Lbi))},Ie.\u0275prov=d.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();function de(Ie){return function se(){if(null==Ee&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ee=!0}))}finally{Ee=Ee||!1}return Ee}()?Ie:!!Ie.capture}function Ne(){if(null==Xe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xe=!1,Xe;if("scrollBehavior"in document.documentElement.style)Xe=!0;else{const Ie=Element.prototype.scrollTo;Xe=!!Ie&&!/\{\s*\[native code\]\s*\}/.test(Ie.toString())}}return Xe}function He(Ie){if(function Le(){if(null==it){const Ie=typeof document<"u"?document.head:null;it=!(!Ie||!Ie.createShadowRoot&&!Ie.attachShadow)}return it}()){const be=Ie.getRootNode?Ie.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&be instanceof ShadowRoot)return be}return null}function Re(){let Ie=typeof document<"u"&&document?document.activeElement:null;for(;Ie&&Ie.shadowRoot;){const be=Ie.shadowRoot.activeElement;if(be===Ie)break;Ie=be}return Ie}function wt(Ie){return Ie.composedPath?Ie.composedPath()[0]:Ie.target}function ue(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8023:(gn,nt,E)=>{E.d(nt,{C5:()=>se,Pl:()=>Re,UE:()=>de,eL:()=>ue,en:()=>Xe,u0:()=>dt});var d=E(2223),L=E(4755);class Ee{attach(Me){return this._attachedHost=Me,Me.attach(this)}detach(){let Me=this._attachedHost;null!=Me&&(this._attachedHost=null,Me.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Me){this._attachedHost=Me}}class se extends Ee{constructor(Me,$e,Z,We,Fe){super(),this.component=Me,this.viewContainerRef=$e,this.injector=Z,this.componentFactoryResolver=We,this.projectableNodes=Fe}}class de extends Ee{constructor(Me,$e,Z,We){super(),this.templateRef=Me,this.viewContainerRef=$e,this.context=Z,this.injector=We}get origin(){return this.templateRef.elementRef}attach(Me,$e=this.context){return this.context=$e,super.attach(Me)}detach(){return this.context=void 0,super.detach()}}class me extends Ee{constructor(Me){super(),this.element=Me instanceof d.SBq?Me.nativeElement:Me}}class Xe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Me){return Me instanceof se?(this._attachedPortal=Me,this.attachComponentPortal(Me)):Me instanceof de?(this._attachedPortal=Me,this.attachTemplatePortal(Me)):this.attachDomPortal&&Me instanceof me?(this._attachedPortal=Me,this.attachDomPortal(Me)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Me){this._disposeFn=Me}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dt extends Xe{constructor(Me,$e,Z,We,Fe){super(),this.outletElement=Me,this._componentFactoryResolver=$e,this._appRef=Z,this._defaultInjector=We,this.attachDomPortal=ze=>{const yt=ze.element,vn=this._document.createComment("dom-portal");yt.parentNode.insertBefore(vn,yt),this.outletElement.appendChild(yt),this._attachedPortal=ze,super.setDisposeFn(()=>{vn.parentNode&&vn.parentNode.replaceChild(yt,vn)})},this._document=Fe}attachComponentPortal(Me){const Z=(Me.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Me.component);let We;return Me.viewContainerRef?(We=Me.viewContainerRef.createComponent(Z,Me.viewContainerRef.length,Me.injector||Me.viewContainerRef.injector,Me.projectableNodes||void 0),this.setDisposeFn(()=>We.destroy())):(We=Z.create(Me.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(We.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(We.hostView),We.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(We)),this._attachedPortal=Me,We}attachTemplatePortal(Me){let $e=Me.viewContainerRef,Z=$e.createEmbeddedView(Me.templateRef,Me.context,{injector:Me.injector});return Z.rootNodes.forEach(We=>this.outletElement.appendChild(We)),Z.detectChanges(),this.setDisposeFn(()=>{let We=$e.indexOf(Z);-1!==We&&$e.remove(We)}),this._attachedPortal=Me,Z}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Me){return Me.hostView.rootNodes[0]}}let Re=(()=>{class be extends Xe{constructor($e,Z,We){super(),this._componentFactoryResolver=$e,this._viewContainerRef=Z,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=Fe=>{const ze=Fe.element,yt=this._document.createComment("dom-portal");Fe.setAttachedHost(this),ze.parentNode.insertBefore(yt,ze),this._getRootNode().appendChild(ze),this._attachedPortal=Fe,super.setDisposeFn(()=>{yt.parentNode&&yt.parentNode.replaceChild(ze,yt)})},this._document=We}get portal(){return this._attachedPortal}set portal($e){this.hasAttached()&&!$e&&!this._isInitialized||(this.hasAttached()&&super.detach(),$e&&super.attach($e),this._attachedPortal=$e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal($e){$e.setAttachedHost(this);const Z=null!=$e.viewContainerRef?$e.viewContainerRef:this._viewContainerRef,Fe=($e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($e.component),ze=Z.createComponent(Fe,Z.length,$e.injector||Z.injector,$e.projectableNodes||void 0);return Z!==this._viewContainerRef&&this._getRootNode().appendChild(ze.hostView.rootNodes[0]),super.setDisposeFn(()=>ze.destroy()),this._attachedPortal=$e,this._attachedRef=ze,this.attached.emit(ze),ze}attachTemplatePortal($e){$e.setAttachedHost(this);const Z=this._viewContainerRef.createEmbeddedView($e.templateRef,$e.context,{injector:$e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=$e,this._attachedRef=Z,this.attached.emit(Z),Z}_getRootNode(){const $e=this._viewContainerRef.element.nativeElement;return $e.nodeType===$e.ELEMENT_NODE?$e:$e.parentNode}}return be.\u0275fac=function($e){return new($e||be)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(L.K0))},be.\u0275dir=d.lG2({type:be,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),be})(),ue=(()=>{class be{}return be.\u0275fac=function($e){return new($e||be)},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({}),be})()},2236:(gn,nt,E)=>{E.d(nt,{ZD:()=>ft,mF:()=>kt,Cl:()=>st,rL:()=>St});var d=E(1692),L=E(2223),f=E(7579),ne=E(9646),xe=E(9751),ae=E(8421),Y=E(5577),_e=E(1144),Ee=E(576),se=E(3268);const de=["addListener","removeListener"],me=["addEventListener","removeEventListener"],Xe=["on","off"];function Ne(Ke,qe,Ae,jt){if((0,Ee.m)(Ae)&&(jt=Ae,Ae=void 0),jt)return Ne(Ke,qe,Ae).pipe((0,se.Z)(jt));const[ln,Wt]=function He(Ke){return(0,Ee.m)(Ke.addEventListener)&&(0,Ee.m)(Ke.removeEventListener)}(Ke)?me.map(Gt=>Rn=>Ke[Gt](qe,Rn,Ae)):function it(Ke){return(0,Ee.m)(Ke.addListener)&&(0,Ee.m)(Ke.removeListener)}(Ke)?de.map(dt(Ke,qe)):function Le(Ke){return(0,Ee.m)(Ke.on)&&(0,Ee.m)(Ke.off)}(Ke)?Xe.map(dt(Ke,qe)):[];if(!ln&&(0,_e.z)(Ke))return(0,Y.z)(Gt=>Ne(Gt,qe,Ae))((0,ae.Xf)(Ke));if(!ln)throw new TypeError("Invalid event target");return new xe.y(Gt=>{const Rn=(...ke)=>Gt.next(1<ke.length?ke:ke[0]);return ln(Rn),()=>Wt(Rn)})}function dt(Ke,qe){return Ae=>jt=>Ke[Ae](qe,jt)}var Re=E(4408),wt=E(727);const ue={schedule(Ke){let qe=requestAnimationFrame,Ae=cancelAnimationFrame;const{delegate:jt}=ue;jt&&(qe=jt.requestAnimationFrame,Ae=jt.cancelAnimationFrame);const ln=qe(Wt=>{Ae=void 0,Ke(Wt)});return new wt.w0(()=>Ae?.(ln))},requestAnimationFrame(...Ke){const{delegate:qe}=ue;return(qe?.requestAnimationFrame||requestAnimationFrame)(...Ke)},cancelAnimationFrame(...Ke){const{delegate:qe}=ue;return(qe?.cancelAnimationFrame||cancelAnimationFrame)(...Ke)},delegate:void 0};var be=E(7565);new class Me extends be.v{flush(qe){this._active=!0;const Ae=this._scheduled;this._scheduled=void 0;const{actions:jt}=this;let ln;qe=qe||jt.shift();do{if(ln=qe.execute(qe.state,qe.delay))break}while((qe=jt[0])&&qe.id===Ae&&jt.shift());if(this._active=!1,ln){for(;(qe=jt[0])&&qe.id===Ae&&jt.shift();)qe.unsubscribe();throw ln}}}(class Ie extends Re.o{constructor(qe,Ae){super(qe,Ae),this.scheduler=qe,this.work=Ae}requestAsyncId(qe,Ae,jt=0){return null!==jt&&jt>0?super.requestAsyncId(qe,Ae,jt):(qe.actions.push(this),qe._scheduled||(qe._scheduled=ue.requestAnimationFrame(()=>qe.flush(void 0))))}recycleAsyncId(qe,Ae,jt=0){var ln;if(null!=jt?jt>0:this.delay>0)return super.recycleAsyncId(qe,Ae,jt);const{actions:Wt}=qe;null!=Ae&&(null===(ln=Wt[Wt.length-1])||void 0===ln?void 0:ln.id)!==Ae&&(ue.cancelAnimationFrame(Ae),qe._scheduled=void 0)}});E(3101);var Fe=E(4986),ze=E(4482),yt=E(5403),On=E(5963);function ut(Ke,qe=Fe.z){return function vn(Ke){return(0,ze.e)((qe,Ae)=>{let jt=!1,ln=null,Wt=null,Gt=!1;const Rn=()=>{if(Wt?.unsubscribe(),Wt=null,jt){jt=!1;const _t=ln;ln=null,Ae.next(_t)}Gt&&Ae.complete()},ke=()=>{Wt=null,Gt&&Ae.complete()};qe.subscribe((0,yt.x)(Ae,_t=>{jt=!0,ln=_t,Wt||(0,ae.Xf)(Ke(_t)).subscribe(Wt=(0,yt.x)(Ae,Rn,ke))},()=>{Gt=!0,(!jt||!Wt||Wt.closed)&&Ae.complete()}))})}(()=>(0,On.H)(Ke,qe))}var ht=E(9300),Rt=E(2966),Ft=E(4755),qt=E(8930);let kt=(()=>{class Ke{constructor(Ae,jt,ln){this._ngZone=Ae,this._platform=jt,this._scrolled=new f.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ln}register(Ae){this.scrollContainers.has(Ae)||this.scrollContainers.set(Ae,Ae.elementScrolled().subscribe(()=>this._scrolled.next(Ae)))}deregister(Ae){const jt=this.scrollContainers.get(Ae);jt&&(jt.unsubscribe(),this.scrollContainers.delete(Ae))}scrolled(Ae=20){return this._platform.isBrowser?new xe.y(jt=>{this._globalSubscription||this._addGlobalListener();const ln=Ae>0?this._scrolled.pipe(ut(Ae)).subscribe(jt):this._scrolled.subscribe(jt);return this._scrolledCount++,()=>{ln.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ae,jt)=>this.deregister(jt)),this._scrolled.complete()}ancestorScrolled(Ae,jt){const ln=this.getAncestorScrollContainers(Ae);return this.scrolled(jt).pipe((0,ht.h)(Wt=>!Wt||ln.indexOf(Wt)>-1))}getAncestorScrollContainers(Ae){const jt=[];return this.scrollContainers.forEach((ln,Wt)=>{this._scrollableContainsElement(Wt,Ae)&&jt.push(Wt)}),jt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ae,jt){let ln=(0,d.fI)(jt),Wt=Ae.getElementRef().nativeElement;do{if(ln==Wt)return!0}while(ln=ln.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ne(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ke.\u0275fac=function(Ae){return new(Ae||Ke)(L.LFG(L.R0b),L.LFG(Rt.t4),L.LFG(Ft.K0,8))},Ke.\u0275prov=L.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})(),St=(()=>{class Ke{constructor(Ae,jt,ln){this._platform=Ae,this._change=new f.x,this._changeListener=Wt=>{this._change.next(Wt)},this._document=ln,jt.runOutsideAngular(()=>{if(Ae.isBrowser){const Wt=this._getWindow();Wt.addEventListener("resize",this._changeListener),Wt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ae=this._getWindow();Ae.removeEventListener("resize",this._changeListener),Ae.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ae={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ae}getViewportRect(){const Ae=this.getViewportScrollPosition(),{width:jt,height:ln}=this.getViewportSize();return{top:Ae.top,left:Ae.left,bottom:Ae.top+ln,right:Ae.left+jt,height:ln,width:jt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ae=this._document,jt=this._getWindow(),ln=Ae.documentElement,Wt=ln.getBoundingClientRect();return{top:-Wt.top||Ae.body.scrollTop||jt.scrollY||ln.scrollTop||0,left:-Wt.left||Ae.body.scrollLeft||jt.scrollX||ln.scrollLeft||0}}change(Ae=20){return Ae>0?this._change.pipe(ut(Ae)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ae=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ae.innerWidth,height:Ae.innerHeight}:{width:0,height:0}}}return Ke.\u0275fac=function(Ae){return new(Ae||Ke)(L.LFG(Rt.t4),L.LFG(L.R0b),L.LFG(Ft.K0,8))},Ke.\u0275prov=L.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})(),ft=(()=>{class Ke{}return Ke.\u0275fac=function(Ae){return new(Ae||Ke)},Ke.\u0275mod=L.oAB({type:Ke}),Ke.\u0275inj=L.cJS({}),Ke})(),st=(()=>{class Ke{}return Ke.\u0275fac=function(Ae){return new(Ae||Ke)},Ke.\u0275mod=L.oAB({type:Ke}),Ke.\u0275inj=L.cJS({imports:[qt.vT,ft,qt.vT,ft]}),Ke})()},4755:(gn,nt,E)=>{E.d(nt,{Do:()=>it,EM:()=>qo,HT:()=>ne,JF:()=>br,K0:()=>ae,Mx:()=>mo,NF:()=>Cs,O5:()=>go,PM:()=>Ao,S$:()=>Xe,V_:()=>_e,Ye:()=>Le,b0:()=>dt,bD:()=>os,ez:()=>rs,mk:()=>er,q:()=>f,sg:()=>uo,tP:()=>ts,uU:()=>si,w_:()=>xe});var d=E(2223);let L=null;function f(){return L}function ne(R){L||(L=R)}class xe{}const ae=new d.OlP("DocumentToken");let Y=(()=>{class R{historyGo(B){throw new Error("Not implemented")}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275prov=d.Yz7({token:R,factory:function(){return(0,d.f3M)(Ee)},providedIn:"platform"}),R})();const _e=new d.OlP("Location Initialized");let Ee=(()=>{class R extends Y{constructor(){super(),this._doc=(0,d.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return f().getBaseHref(this._doc)}onPopState(B){const fe=f().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",B,!1),()=>fe.removeEventListener("popstate",B)}onHashChange(B){const fe=f().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",B,!1),()=>fe.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,fe,Ye){this._history.pushState(B,fe,Ye)}replaceState(B,fe,Ye){this._history.replaceState(B,fe,Ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275prov=d.Yz7({token:R,factory:function(){return new R},providedIn:"platform"}),R})();function se(R,Q){if(0==R.length)return Q;if(0==Q.length)return R;let B=0;return R.endsWith("/")&&B++,Q.startsWith("/")&&B++,2==B?R+Q.substring(1):1==B?R+Q:R+"/"+Q}function de(R){const Q=R.match(/#|\?|$/),B=Q&&Q.index||R.length;return R.slice(0,B-("/"===R[B-1]?1:0))+R.slice(B)}function me(R){return R&&"?"!==R[0]?"?"+R:R}let Xe=(()=>{class R{historyGo(B){throw new Error("Not implemented")}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275prov=d.Yz7({token:R,factory:function(){return(0,d.f3M)(dt)},providedIn:"root"}),R})();const Ne=new d.OlP("appBaseHref");let dt=(()=>{class R extends Xe{constructor(B,fe){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=fe??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return se(this._baseHref,B)}path(B=!1){const fe=this._platformLocation.pathname+me(this._platformLocation.search),Ye=this._platformLocation.hash;return Ye&&B?`${fe}${Ye}`:fe}pushState(B,fe,Ye,Qt){const hn=this.prepareExternalUrl(Ye+me(Qt));this._platformLocation.pushState(B,fe,hn)}replaceState(B,fe,Ye,Qt){const hn=this.prepareExternalUrl(Ye+me(Qt));this._platformLocation.replaceState(B,fe,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return R.\u0275fac=function(B){return new(B||R)(d.LFG(Y),d.LFG(Ne,8))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),it=(()=>{class R extends Xe{constructor(B,fe){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl(B){const fe=se(this._baseHref,B);return fe.length>0?"#"+fe:fe}pushState(B,fe,Ye,Qt){let hn=this.prepareExternalUrl(Ye+me(Qt));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.pushState(B,fe,hn)}replaceState(B,fe,Ye,Qt){let hn=this.prepareExternalUrl(Ye+me(Qt));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.replaceState(B,fe,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return R.\u0275fac=function(B){return new(B||R)(d.LFG(Y),d.LFG(Ne,8))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac}),R})(),Le=(()=>{class R{constructor(B){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const fe=this._locationStrategy.getBaseHref();this._basePath=function ue(R){if(new RegExp("^(https?:)?//").test(R)){const[,B]=R.split(/\/\/[^\/]+/);return B}return R}(de(wt(fe))),this._locationStrategy.onPopState(Ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ye.state,type:Ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,fe=""){return this.path()==this.normalize(B+me(fe))}normalize(B){return R.stripTrailingSlash(function Re(R,Q){if(!R||!Q.startsWith(R))return Q;const B=Q.substring(R.length);return""===B||["/",";","?","#"].includes(B[0])?B:Q}(this._basePath,wt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,fe="",Ye=null){this._locationStrategy.pushState(Ye,"",B,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+me(fe)),Ye)}replaceState(B,fe="",Ye=null){this._locationStrategy.replaceState(Ye,"",B,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+me(fe)),Ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)})),()=>{const fe=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(fe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",fe){this._urlChangeListeners.forEach(Ye=>Ye(B,fe))}subscribe(B,fe,Ye){return this._subject.subscribe({next:B,error:fe,complete:Ye})}}return R.normalizeQueryParams=me,R.joinWithSlash=se,R.stripTrailingSlash=de,R.\u0275fac=function(B){return new(B||R)(d.LFG(Xe))},R.\u0275prov=d.Yz7({token:R,factory:function(){return function He(){return new Le((0,d.LFG)(Xe))}()},providedIn:"root"}),R})();function wt(R){return R.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e))(),Z=(()=>((Z=Z||{})[Z.Narrow=0]="Narrow",Z[Z.Abbreviated=1]="Abbreviated",Z[Z.Wide=2]="Wide",Z[Z.Short=3]="Short",Z))(),We=(()=>((We=We||{})[We.Short=0]="Short",We[We.Medium=1]="Medium",We[We.Long=2]="Long",We[We.Full=3]="Full",We))(),Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Group=1]="Group",Fe[Fe.List=2]="List",Fe[Fe.PercentSign=3]="PercentSign",Fe[Fe.PlusSign=4]="PlusSign",Fe[Fe.MinusSign=5]="MinusSign",Fe[Fe.Exponential=6]="Exponential",Fe[Fe.SuperscriptingExponent=7]="SuperscriptingExponent",Fe[Fe.PerMille=8]="PerMille",Fe[Fe.Infinity=9]="Infinity",Fe[Fe.NaN=10]="NaN",Fe[Fe.TimeSeparator=11]="TimeSeparator",Fe[Fe.CurrencyDecimal=12]="CurrencyDecimal",Fe[Fe.CurrencyGroup=13]="CurrencyGroup",Fe))();function qt(R,Q){return _n((0,d.cg1)(R)[d.wAp.DateFormat],Q)}function Yt(R,Q){return _n((0,d.cg1)(R)[d.wAp.TimeFormat],Q)}function dn(R,Q){return _n((0,d.cg1)(R)[d.wAp.DateTimeFormat],Q)}function pn(R,Q){const B=(0,d.cg1)(R),fe=B[d.wAp.NumberSymbols][Q];if(typeof fe>"u"){if(Q===Fe.CurrencyDecimal)return B[d.wAp.NumberSymbols][Fe.Decimal];if(Q===Fe.CurrencyGroup)return B[d.wAp.NumberSymbols][Fe.Group]}return fe}function Ut(R){if(!R[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _n(R,Q){for(let B=Q;B>-1;B--)if(typeof R[B]<"u")return R[B];throw new Error("Locale data API: locale data undefined")}function Yn(R){const[Q,B]=R.split(":");return{hours:+Q,minutes:+B}}const ce=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ve={},ft=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var st=(()=>((st=st||{})[st.Short=0]="Short",st[st.ShortGMT=1]="ShortGMT",st[st.Long=2]="Long",st[st.Extended=3]="Extended",st))(),Ke=(()=>((Ke=Ke||{})[Ke.FullYear=0]="FullYear",Ke[Ke.Month=1]="Month",Ke[Ke.Date=2]="Date",Ke[Ke.Hours=3]="Hours",Ke[Ke.Minutes=4]="Minutes",Ke[Ke.Seconds=5]="Seconds",Ke[Ke.FractionalSeconds=6]="FractionalSeconds",Ke[Ke.Day=7]="Day",Ke))(),qe=(()=>((qe=qe||{})[qe.DayPeriods=0]="DayPeriods",qe[qe.Days=1]="Days",qe[qe.Months=2]="Months",qe[qe.Eras=3]="Eras",qe))();function Ae(R,Q,B,fe){let Ye=function oe(R){if(U(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[Ye,Qt=1,hn=1]=R.split("-").map(qn=>+qn);return jt(Ye,Qt-1,hn)}const B=parseFloat(R);if(!isNaN(R-B))return new Date(B);let fe;if(fe=R.match(ce))return function H(R){const Q=new Date(0);let B=0,fe=0;const Ye=R[8]?Q.setUTCFullYear:Q.setFullYear,Qt=R[8]?Q.setUTCHours:Q.setHours;R[9]&&(B=Number(R[9]+R[10]),fe=Number(R[9]+R[11])),Ye.call(Q,Number(R[1]),Number(R[2])-1,Number(R[3]));const hn=Number(R[4]||0)-B,qn=Number(R[5]||0)-fe,Zi=Number(R[6]||0),Pi=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Qt.call(Q,hn,qn,Zi,Pi),Q}(fe)}const Q=new Date(R);if(!U(Q))throw new Error(`Unable to convert "${R}" into a date`);return Q}(R);Q=ln(B,Q)||Q;let qn,hn=[];for(;Q;){if(qn=ft.exec(Q),!qn){hn.push(Q);break}{hn=hn.concat(qn.slice(1));const Ei=hn.pop();if(!Ei)break;Q=Ei}}let Zi=Ye.getTimezoneOffset();fe&&(Zi=Et(fe,Zi),Ye=function Te(R,Q,B){const fe=B?-1:1,Ye=R.getTimezoneOffset();return function Ht(R,Q){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+Q),R}(R,fe*(Et(Q,Ye)-Ye))}(Ye,fe,!0));let Pi="";return hn.forEach(Ei=>{const Ci=function Se(R){if(Oe[R])return Oe[R];let Q;switch(R){case"G":case"GG":case"GGG":Q=$t(qe.Eras,Z.Abbreviated);break;case"GGGG":Q=$t(qe.Eras,Z.Wide);break;case"GGGGG":Q=$t(qe.Eras,Z.Narrow);break;case"y":Q=ke(Ke.FullYear,1,0,!1,!0);break;case"yy":Q=ke(Ke.FullYear,2,0,!0,!0);break;case"yyy":Q=ke(Ke.FullYear,3,0,!1,!0);break;case"yyyy":Q=ke(Ke.FullYear,4,0,!1,!0);break;case"Y":Q=Be(1);break;case"YY":Q=Be(2,!0);break;case"YYY":Q=Be(3);break;case"YYYY":Q=Be(4);break;case"M":case"L":Q=ke(Ke.Month,1,1);break;case"MM":case"LL":Q=ke(Ke.Month,2,1);break;case"MMM":Q=$t(qe.Months,Z.Abbreviated);break;case"MMMM":Q=$t(qe.Months,Z.Wide);break;case"MMMMM":Q=$t(qe.Months,Z.Narrow);break;case"LLL":Q=$t(qe.Months,Z.Abbreviated,$e.Standalone);break;case"LLLL":Q=$t(qe.Months,Z.Wide,$e.Standalone);break;case"LLLLL":Q=$t(qe.Months,Z.Narrow,$e.Standalone);break;case"w":Q=ot(1);break;case"ww":Q=ot(2);break;case"W":Q=ot(1,!0);break;case"d":Q=ke(Ke.Date,1);break;case"dd":Q=ke(Ke.Date,2);break;case"c":case"cc":Q=ke(Ke.Day,1);break;case"ccc":Q=$t(qe.Days,Z.Abbreviated,$e.Standalone);break;case"cccc":Q=$t(qe.Days,Z.Wide,$e.Standalone);break;case"ccccc":Q=$t(qe.Days,Z.Narrow,$e.Standalone);break;case"cccccc":Q=$t(qe.Days,Z.Short,$e.Standalone);break;case"E":case"EE":case"EEE":Q=$t(qe.Days,Z.Abbreviated);break;case"EEEE":Q=$t(qe.Days,Z.Wide);break;case"EEEEE":Q=$t(qe.Days,Z.Narrow);break;case"EEEEEE":Q=$t(qe.Days,Z.Short);break;case"a":case"aa":case"aaa":Q=$t(qe.DayPeriods,Z.Abbreviated);break;case"aaaa":Q=$t(qe.DayPeriods,Z.Wide);break;case"aaaaa":Q=$t(qe.DayPeriods,Z.Narrow);break;case"b":case"bb":case"bbb":Q=$t(qe.DayPeriods,Z.Abbreviated,$e.Standalone,!0);break;case"bbbb":Q=$t(qe.DayPeriods,Z.Wide,$e.Standalone,!0);break;case"bbbbb":Q=$t(qe.DayPeriods,Z.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":Q=$t(qe.DayPeriods,Z.Abbreviated,$e.Format,!0);break;case"BBBB":Q=$t(qe.DayPeriods,Z.Wide,$e.Format,!0);break;case"BBBBB":Q=$t(qe.DayPeriods,Z.Narrow,$e.Format,!0);break;case"h":Q=ke(Ke.Hours,1,-12);break;case"hh":Q=ke(Ke.Hours,2,-12);break;case"H":Q=ke(Ke.Hours,1);break;case"HH":Q=ke(Ke.Hours,2);break;case"m":Q=ke(Ke.Minutes,1);break;case"mm":Q=ke(Ke.Minutes,2);break;case"s":Q=ke(Ke.Seconds,1);break;case"ss":Q=ke(Ke.Seconds,2);break;case"S":Q=ke(Ke.FractionalSeconds,1);break;case"SS":Q=ke(Ke.FractionalSeconds,2);break;case"SSS":Q=ke(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=_i(st.Short);break;case"ZZZZZ":Q=_i(st.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=_i(st.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=_i(st.Long);break;default:return null}return Oe[R]=Q,Q}(Ei);Pi+=Ci?Ci(Ye,B,Zi):"''"===Ei?"'":Ei.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Pi}function jt(R,Q,B){const fe=new Date(0);return fe.setFullYear(R,Q,B),fe.setHours(0,0,0),fe}function ln(R,Q){const B=function yt(R){return(0,d.cg1)(R)[d.wAp.LocaleId]}(R);if(Ve[B]=Ve[B]||{},Ve[B][Q])return Ve[B][Q];let fe="";switch(Q){case"shortDate":fe=qt(R,We.Short);break;case"mediumDate":fe=qt(R,We.Medium);break;case"longDate":fe=qt(R,We.Long);break;case"fullDate":fe=qt(R,We.Full);break;case"shortTime":fe=Yt(R,We.Short);break;case"mediumTime":fe=Yt(R,We.Medium);break;case"longTime":fe=Yt(R,We.Long);break;case"fullTime":fe=Yt(R,We.Full);break;case"short":const Ye=ln(R,"shortTime"),Qt=ln(R,"shortDate");fe=Wt(dn(R,We.Short),[Ye,Qt]);break;case"medium":const hn=ln(R,"mediumTime"),qn=ln(R,"mediumDate");fe=Wt(dn(R,We.Medium),[hn,qn]);break;case"long":const Zi=ln(R,"longTime"),Pi=ln(R,"longDate");fe=Wt(dn(R,We.Long),[Zi,Pi]);break;case"full":const Ei=ln(R,"fullTime"),Ci=ln(R,"fullDate");fe=Wt(dn(R,We.Full),[Ei,Ci])}return fe&&(Ve[B][Q]=fe),fe}function Wt(R,Q){return Q&&(R=R.replace(/\{([^}]+)}/g,function(B,fe){return null!=Q&&fe in Q?Q[fe]:B})),R}function Gt(R,Q,B="-",fe,Ye){let Qt="";(R<0||Ye&&R<=0)&&(Ye?R=1-R:(R=-R,Qt=B));let hn=String(R);for(;hn.length<Q;)hn="0"+hn;return fe&&(hn=hn.slice(hn.length-Q)),Qt+hn}function ke(R,Q,B=0,fe=!1,Ye=!1){return function(Qt,hn){let qn=function _t(R,Q){switch(R){case Ke.FullYear:return Q.getFullYear();case Ke.Month:return Q.getMonth();case Ke.Date:return Q.getDate();case Ke.Hours:return Q.getHours();case Ke.Minutes:return Q.getMinutes();case Ke.Seconds:return Q.getSeconds();case Ke.FractionalSeconds:return Q.getMilliseconds();case Ke.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Qt);if((B>0||qn>-B)&&(qn+=B),R===Ke.Hours)0===qn&&-12===B&&(qn=12);else if(R===Ke.FractionalSeconds)return function Rn(R,Q){return Gt(R,3).substring(0,Q)}(qn,Q);const Zi=pn(hn,Fe.MinusSign);return Gt(qn,Q,Zi,fe,Ye)}}function $t(R,Q,B=$e.Format,fe=!1){return function(Ye,Qt){return function Sn(R,Q,B,fe,Ye,Qt){switch(B){case qe.Months:return function ut(R,Q,B){const fe=(0,d.cg1)(R),Qt=_n([fe[d.wAp.MonthsFormat],fe[d.wAp.MonthsStandalone]],Q);return _n(Qt,B)}(Q,Ye,fe)[R.getMonth()];case qe.Days:return function On(R,Q,B){const fe=(0,d.cg1)(R),Qt=_n([fe[d.wAp.DaysFormat],fe[d.wAp.DaysStandalone]],Q);return _n(Qt,B)}(Q,Ye,fe)[R.getDay()];case qe.DayPeriods:const hn=R.getHours(),qn=R.getMinutes();if(Qt){const Pi=function St(R){const Q=(0,d.cg1)(R);return Ut(Q),(Q[d.wAp.ExtraData][2]||[]).map(fe=>"string"==typeof fe?Yn(fe):[Yn(fe[0]),Yn(fe[1])])}(Q),Ei=function cn(R,Q,B){const fe=(0,d.cg1)(R);Ut(fe);const Qt=_n([fe[d.wAp.ExtraData][0],fe[d.wAp.ExtraData][1]],Q)||[];return _n(Qt,B)||[]}(Q,Ye,fe),Ci=Pi.findIndex(ir=>{if(Array.isArray(ir)){const[zn,Yr]=ir,bs=hn>=zn.hours&&qn>=zn.minutes,qr=hn<Yr.hours||hn===Yr.hours&&qn<Yr.minutes;if(zn.hours<Yr.hours){if(bs&&qr)return!0}else if(bs||qr)return!0}else if(ir.hours===hn&&ir.minutes===qn)return!0;return!1});if(-1!==Ci)return Ei[Ci]}return function vn(R,Q,B){const fe=(0,d.cg1)(R),Qt=_n([fe[d.wAp.DayPeriodsFormat],fe[d.wAp.DayPeriodsStandalone]],Q);return _n(Qt,B)}(Q,Ye,fe)[hn<12?0:1];case qe.Eras:return function ht(R,Q){return _n((0,d.cg1)(R)[d.wAp.Eras],Q)}(Q,fe)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(Ye,Qt,R,Q,B,fe)}}function _i(R){return function(Q,B,fe){const Ye=-1*fe,Qt=pn(B,Fe.MinusSign),hn=Ye>0?Math.floor(Ye/60):Math.ceil(Ye/60);switch(R){case st.Short:return(Ye>=0?"+":"")+Gt(hn,2,Qt)+Gt(Math.abs(Ye%60),2,Qt);case st.ShortGMT:return"GMT"+(Ye>=0?"+":"")+Gt(hn,1,Qt);case st.Long:return"GMT"+(Ye>=0?"+":"")+Gt(hn,2,Qt)+":"+Gt(Math.abs(Ye%60),2,Qt);case st.Extended:return 0===fe?"Z":(Ye>=0?"+":"")+Gt(hn,2,Qt)+":"+Gt(Math.abs(Ye%60),2,Qt);default:throw new Error(`Unknown zone width "${R}"`)}}}const ni=0,wi=4;function Je(R){return jt(R.getFullYear(),R.getMonth(),R.getDate()+(wi-R.getDay()))}function ot(R,Q=!1){return function(B,fe){let Ye;if(Q){const Qt=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,hn=B.getDate();Ye=1+Math.floor((hn+Qt)/7)}else{const Qt=Je(B),hn=function Kt(R){const Q=jt(R,ni,1).getDay();return jt(R,0,1+(Q<=wi?wi:wi+7)-Q)}(Qt.getFullYear()),qn=Qt.getTime()-hn.getTime();Ye=1+Math.round(qn/6048e5)}return Gt(Ye,R,pn(fe,Fe.MinusSign))}}function Be(R,Q=!1){return function(B,fe){return Gt(Je(B).getFullYear(),R,pn(fe,Fe.MinusSign),Q)}}const Oe={};function Et(R,Q){R=R.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(B)?Q:B}function U(R){return R instanceof Date&&!isNaN(R.valueOf())}function mo(R,Q){Q=encodeURIComponent(Q);for(const B of R.split(";")){const fe=B.indexOf("="),[Ye,Qt]=-1==fe?[B,""]:[B.slice(0,fe),B.slice(fe+1)];if(Ye.trim()===Q)return decodeURIComponent(Qt)}return null}const bo=/\s+/,_s=[];let er=(()=>{class R{constructor(B,fe,Ye,Qt){this._iterableDiffers=B,this._keyValueDiffers=fe,this._ngEl=Ye,this._renderer=Qt,this.initialClasses=_s,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(bo):_s}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(bo):B}ngDoCheck(){for(const fe of this.initialClasses)this._updateState(fe,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const fe of B)this._updateState(fe,!0);else if(null!=B)for(const fe of Object.keys(B))this._updateState(fe,!!B[fe]);this._applyStateDiff()}_updateState(B,fe){const Ye=this.stateMap.get(B);void 0!==Ye?(Ye.enabled!==fe&&(Ye.changed=!0,Ye.enabled=fe),Ye.touched=!0):this.stateMap.set(B,{enabled:fe,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const fe=B[0],Ye=B[1];Ye.changed?(this._toggleClass(fe,Ye.enabled),Ye.changed=!1):Ye.touched||(Ye.enabled&&this._toggleClass(fe,!1),this.stateMap.delete(fe)),Ye.touched=!1}}_toggleClass(B,fe){(B=B.trim()).length>0&&B.split(bo).forEach(Ye=>{fe?this._renderer.addClass(this._ngEl.nativeElement,Ye):this._renderer.removeClass(this._ngEl.nativeElement,Ye)})}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class $r{constructor(Q,B,fe,Ye){this.$implicit=Q,this.ngForOf=B,this.index=fe,this.count=Ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uo=(()=>{class R{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,fe,Ye){this._viewContainer=B,this._template=fe,this._differs=Ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const fe=this._viewContainer;B.forEachOperation((Ye,Qt,hn)=>{if(null==Ye.previousIndex)fe.createEmbeddedView(this._template,new $r(Ye.item,this._ngForOf,-1,-1),null===hn?void 0:hn);else if(null==hn)fe.remove(null===Qt?void 0:Qt);else if(null!==Qt){const qn=fe.get(Qt);fe.move(qn,hn),yi(qn,Ye)}});for(let Ye=0,Qt=fe.length;Ye<Qt;Ye++){const qn=fe.get(Ye).context;qn.index=Ye,qn.count=Qt,qn.ngForOf=this._ngForOf}B.forEachIdentityChange(Ye=>{yi(fe.get(Ye.currentIndex),Ye)})}static ngTemplateContextGuard(B,fe){return!0}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function yi(R,Q){R.context.$implicit=Q.item}let go=(()=>{class R{constructor(B,fe){this._viewContainer=B,this._context=new no,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){hr("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){hr("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,fe){return!0}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.s_b),d.Y36(d.Rgc))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class no{constructor(){this.$implicit=null,this.ngIf=null}}function hr(R,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,d.AaK)(Q)}'.`)}let ts=(()=>{class R{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const fe=this._viewContainerRef;if(this._viewRef&&fe.remove(fe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ye,ngTemplateOutletContext:Qt,ngTemplateOutletInjector:hn}=this;this._viewRef=fe.createEmbeddedView(Ye,Qt,hn?{injector:hn}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.s_b))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),R})();const on=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Nn=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let si=(()=>{class R{constructor(B,fe,Ye){this.locale=B,this.defaultTimezone=fe,this.defaultOptions=Ye}transform(B,fe,Ye,Qt){if(null==B||""===B||B!=B)return null;try{return Ae(B,fe??this.defaultOptions?.dateFormat??"mediumDate",Qt||this.locale,Ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(hn){throw function fi(R,Q){return new d.vHH(2100,!1)}()}}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.soG,16),d.Y36(on,24),d.Y36(Nn,24))},R.\u0275pipe=d.Yjl({name:"date",type:R,pure:!0,standalone:!0}),R})(),rs=(()=>{class R{}return R.\u0275fac=function(B){return new(B||R)},R.\u0275mod=d.oAB({type:R}),R.\u0275inj=d.cJS({}),R})();const os="browser",Ls="server";function Cs(R){return R===os}function Ao(R){return R===Ls}let qo=(()=>{class R{}return R.\u0275prov=(0,d.Yz7)({token:R,providedIn:"root",factory:()=>new Zr((0,d.LFG)(ae),window)}),R})();class Zr{constructor(Q,B){this.document=Q,this.window=B,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const B=function Bs(R,Q){const B=R.getElementById(Q)||R.getElementsByName(Q)[0];if(B)return B;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const fe=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ye=fe.currentNode;for(;Ye;){const Qt=Ye.shadowRoot;if(Qt){const hn=Qt.getElementById(Q)||Qt.querySelector(`[name="${Q}"]`);if(hn)return hn}Ye=fe.nextNode()}}return null}(this.document,Q);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=Q)}}scrollToElement(Q){const B=Q.getBoundingClientRect(),fe=B.left+this.window.pageXOffset,Ye=B.top+this.window.pageYOffset,Qt=this.offset();this.window.scrollTo(fe-Qt[0],Ye-Qt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=ss(this.window.history)||ss(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ss(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class br{}},3144:(gn,nt,E)=>{E.d(nt,{JF:()=>Oe,eN:()=>Ft});var d=E(2223),L=E(9646),f=E(8996),ne=E(9751),xe=E(4351),ae=E(9300),Y=E(4004),_e=E(8746),Ee=E(3900),se=E(4755);class de{}class me{}class Xe{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(ye=>{const Ct=ye.indexOf(":");if(Ct>0){const xt=ye.slice(0,Ct),Ot=xt.toLowerCase(),en=ye.slice(Ct+1).trim();this.maybeSetNormalizedName(xt,Ot),this.headers.has(Ot)?this.headers.get(Ot).push(en):this.headers.set(Ot,[en])}})}:()=>{this.headers=new Map,Object.entries(re).forEach(([ye,Ct])=>{let xt;if(xt="string"==typeof Ct?[Ct]:"number"==typeof Ct?[Ct.toString()]:Ct.map(Ot=>Ot.toString()),xt.length>0){const Ot=ye.toLowerCase();this.headers.set(Ot,xt),this.maybeSetNormalizedName(ye,Ot)}})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const ye=this.headers.get(re.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,ye){return this.clone({name:re,value:ye,op:"a"})}set(re,ye){return this.clone({name:re,value:ye,op:"s"})}delete(re,ye){return this.clone({name:re,value:ye,op:"d"})}maybeSetNormalizedName(re,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,re)}init(){this.lazyInit&&(this.lazyInit instanceof Xe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(ye=>{this.headers.set(ye,re.headers.get(ye)),this.normalizedNames.set(ye,re.normalizedNames.get(ye))})}clone(re){const ye=new Xe;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof Xe?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([re]),ye}applyUpdate(re){const ye=re.name.toLowerCase();switch(re.op){case"a":case"s":let Ct=re.value;if("string"==typeof Ct&&(Ct=[Ct]),0===Ct.length)return;this.maybeSetNormalizedName(re.name,ye);const xt=("a"===re.op?this.headers.get(ye):void 0)||[];xt.push(...Ct),this.headers.set(ye,xt);break;case"d":const Ot=re.value;if(Ot){let en=this.headers.get(ye);if(!en)return;en=en.filter(ti=>-1===Ot.indexOf(ti)),0===en.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,en)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>re(this.normalizedNames.get(ye),this.headers.get(ye)))}}class dt{encodeKey(re){return Re(re)}encodeValue(re){return Re(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const Le=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Re(le){return encodeURIComponent(le).replace(Le,(re,ye)=>He[ye]??re)}function wt(le){return`${le}`}class ue{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new dt,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function it(le,re){const ye=new Map;return le.length>0&&le.replace(/^\?/,"").split("&").forEach(xt=>{const Ot=xt.indexOf("="),[en,ti]=-1==Ot?[re.decodeKey(xt),""]:[re.decodeKey(xt.slice(0,Ot)),re.decodeValue(xt.slice(Ot+1))],An=ye.get(en)||[];An.push(ti),ye.set(en,An)}),ye}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(ye=>{const Ct=re.fromObject[ye],xt=Array.isArray(Ct)?Ct.map(wt):[wt(Ct)];this.map.set(ye,xt)})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const ye=this.map.get(re);return ye?ye[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,ye){return this.clone({param:re,value:ye,op:"a"})}appendAll(re){const ye=[];return Object.keys(re).forEach(Ct=>{const xt=re[Ct];Array.isArray(xt)?xt.forEach(Ot=>{ye.push({param:Ct,value:Ot,op:"a"})}):ye.push({param:Ct,value:xt,op:"a"})}),this.clone(ye)}set(re,ye){return this.clone({param:re,value:ye,op:"s"})}delete(re,ye){return this.clone({param:re,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const ye=this.encoder.encodeKey(re);return this.map.get(re).map(Ct=>ye+"="+this.encoder.encodeValue(Ct)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const ye=new ue({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(re),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const ye=("a"===re.op?this.map.get(re.param):void 0)||[];ye.push(wt(re.value)),this.map.set(re.param,ye);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let Ct=this.map.get(re.param)||[];const xt=Ct.indexOf(wt(re.value));-1!==xt&&Ct.splice(xt,1),Ct.length>0?this.map.set(re.param,Ct):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class be{constructor(){this.map=new Map}set(re,ye){return this.map.set(re,ye),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}has(re){return this.map.has(re)}keys(){return this.map.keys()}}function $e(le){return typeof ArrayBuffer<"u"&&le instanceof ArrayBuffer}function Z(le){return typeof Blob<"u"&&le instanceof Blob}function We(le){return typeof FormData<"u"&&le instanceof FormData}class ze{constructor(re,ye,Ct,xt){let Ot;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function Me(le){switch(le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||xt?(this.body=void 0!==Ct?Ct:null,Ot=xt):Ot=Ct,Ot&&(this.reportProgress=!!Ot.reportProgress,this.withCredentials=!!Ot.withCredentials,Ot.responseType&&(this.responseType=Ot.responseType),Ot.headers&&(this.headers=Ot.headers),Ot.context&&(this.context=Ot.context),Ot.params&&(this.params=Ot.params)),this.headers||(this.headers=new Xe),this.context||(this.context=new be),this.params){const en=this.params.toString();if(0===en.length)this.urlWithParams=ye;else{const ti=ye.indexOf("?");this.urlWithParams=ye+(-1===ti?"?":ti<ye.length-1?"&":"")+en}}else this.params=new ue,this.urlWithParams=ye}serializeBody(){return null===this.body?null:$e(this.body)||Z(this.body)||We(this.body)||function Fe(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||We(this.body)?null:Z(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){const ye=re.method||this.method,Ct=re.url||this.url,xt=re.responseType||this.responseType,Ot=void 0!==re.body?re.body:this.body,en=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,ti=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let An=re.headers||this.headers,Ai=re.params||this.params;const Si=re.context??this.context;return void 0!==re.setHeaders&&(An=Object.keys(re.setHeaders).reduce((Bt,Tt)=>Bt.set(Tt,re.setHeaders[Tt]),An)),re.setParams&&(Ai=Object.keys(re.setParams).reduce((Bt,Tt)=>Bt.set(Tt,re.setParams[Tt]),Ai)),new ze(ye,Ct,Ot,{params:Ai,headers:An,context:Si,reportProgress:ti,responseType:xt,withCredentials:en})}}var yt=(()=>((yt=yt||{})[yt.Sent=0]="Sent",yt[yt.UploadProgress=1]="UploadProgress",yt[yt.ResponseHeader=2]="ResponseHeader",yt[yt.DownloadProgress=3]="DownloadProgress",yt[yt.Response=4]="Response",yt[yt.User=5]="User",yt))();class vn{constructor(re,ye=200,Ct="OK"){this.headers=re.headers||new Xe,this.status=void 0!==re.status?re.status:ye,this.statusText=re.statusText||Ct,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class On extends vn{constructor(re={}){super(re),this.type=yt.ResponseHeader}clone(re={}){return new On({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class ut extends vn{constructor(re={}){super(re),this.type=yt.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new ut({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class ht extends vn{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function Rt(le,re){return{body:re,headers:le.headers,context:le.context,observe:le.observe,params:le.params,reportProgress:le.reportProgress,responseType:le.responseType,withCredentials:le.withCredentials}}let Ft=(()=>{class le{constructor(ye){this.handler=ye}request(ye,Ct,xt={}){let Ot;if(ye instanceof ze)Ot=ye;else{let An,Ai;An=xt.headers instanceof Xe?xt.headers:new Xe(xt.headers),xt.params&&(Ai=xt.params instanceof ue?xt.params:new ue({fromObject:xt.params})),Ot=new ze(ye,Ct,void 0!==xt.body?xt.body:null,{headers:An,context:xt.context,params:Ai,reportProgress:xt.reportProgress,responseType:xt.responseType||"json",withCredentials:xt.withCredentials})}const en=(0,L.of)(Ot).pipe((0,xe.b)(An=>this.handler.handle(An)));if(ye instanceof ze||"events"===xt.observe)return en;const ti=en.pipe((0,ae.h)(An=>An instanceof ut));switch(xt.observe||"body"){case"body":switch(Ot.responseType){case"arraybuffer":return ti.pipe((0,Y.U)(An=>{if(null!==An.body&&!(An.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return An.body}));case"blob":return ti.pipe((0,Y.U)(An=>{if(null!==An.body&&!(An.body instanceof Blob))throw new Error("Response is not a Blob.");return An.body}));case"text":return ti.pipe((0,Y.U)(An=>{if(null!==An.body&&"string"!=typeof An.body)throw new Error("Response is not a string.");return An.body}));default:return ti.pipe((0,Y.U)(An=>An.body))}case"response":return ti;default:throw new Error(`Unreachable: unhandled observe type ${xt.observe}}`)}}delete(ye,Ct={}){return this.request("DELETE",ye,Ct)}get(ye,Ct={}){return this.request("GET",ye,Ct)}head(ye,Ct={}){return this.request("HEAD",ye,Ct)}jsonp(ye,Ct){return this.request("JSONP",ye,{params:(new ue).append(Ct,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,Ct={}){return this.request("OPTIONS",ye,Ct)}patch(ye,Ct,xt={}){return this.request("PATCH",ye,Rt(xt,Ct))}post(ye,Ct,xt={}){return this.request("POST",ye,Rt(xt,Ct))}put(ye,Ct,xt={}){return this.request("PUT",ye,Rt(xt,Ct))}}return le.\u0275fac=function(ye){return new(ye||le)(d.LFG(de))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();function qt(le,re){return re(le)}function Yt(le,re){return(ye,Ct)=>re.intercept(ye,{handle:xt=>le(xt,Ct)})}const pn=new d.OlP(""),rn=new d.OlP(""),At=new d.OlP("");function Ge(){let le=null;return(re,ye)=>{null===le&&(le=((0,d.f3M)(pn,{optional:!0})??[]).reduceRight(Yt,qt));const Ct=(0,d.f3M)(d.HDt),xt=Ct.add();return le(re,ye).pipe((0,_e.x)(()=>Ct.remove(xt)))}}let Qe=(()=>{class le extends de{constructor(ye,Ct){super(),this.backend=ye,this.injector=Ct,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(ye){if(null===this.chain){const xt=Array.from(new Set([...this.injector.get(rn),...this.injector.get(At,[])]));this.chain=xt.reduceRight((Ot,en)=>function dn(le,re,ye){return(Ct,xt)=>ye.runInContext(()=>re(Ct,Ot=>le(Ot,xt)))}(Ot,en,this.injector),qt)}const Ct=this.pendingTasks.add();return this.chain(ye,xt=>this.backend.handle(xt)).pipe((0,_e.x)(()=>this.pendingTasks.remove(Ct)))}}return le.\u0275fac=function(ye){return new(ye||le)(d.LFG(me),d.LFG(d.lqb))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();const ce=/^\)\]\}',?\n/;let ft=(()=>{class le{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new d.vHH(-2800,!1);const Ct=this.xhrFactory;return(Ct.\u0275loadImpl?(0,f.D)(Ct.\u0275loadImpl()):(0,L.of)(null)).pipe((0,Ee.w)(()=>new ne.y(Ot=>{const en=Ct.build();if(en.open(ye.method,ye.urlWithParams),ye.withCredentials&&(en.withCredentials=!0),ye.headers.forEach((Pn,jn)=>en.setRequestHeader(Pn,jn.join(","))),ye.headers.has("Accept")||en.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const Pn=ye.detectContentTypeHeader();null!==Pn&&en.setRequestHeader("Content-Type",Pn)}if(ye.responseType){const Pn=ye.responseType.toLowerCase();en.responseType="json"!==Pn?Pn:"text"}const ti=ye.serializeBody();let An=null;const Ai=()=>{if(null!==An)return An;const Pn=en.statusText||"OK",jn=new Xe(en.getAllResponseHeaders()),hi=function Ve(le){return"responseURL"in le&&le.responseURL?le.responseURL:/^X-Request-URL:/m.test(le.getAllResponseHeaders())?le.getResponseHeader("X-Request-URL"):null}(en)||ye.url;return An=new On({headers:jn,status:en.status,statusText:Pn,url:hi}),An},Si=()=>{let{headers:Pn,status:jn,statusText:hi,url:sr}=Ai(),Ti=null;204!==jn&&(Ti=typeof en.response>"u"?en.responseText:en.response),0===jn&&(jn=Ti?200:0);let Ir=jn>=200&&jn<300;if("json"===ye.responseType&&"string"==typeof Ti){const mo=Ti;Ti=Ti.replace(ce,"");try{Ti=""!==Ti?JSON.parse(Ti):null}catch(bo){Ti=mo,Ir&&(Ir=!1,Ti={error:bo,text:Ti})}}Ir?(Ot.next(new ut({body:Ti,headers:Pn,status:jn,statusText:hi,url:sr||void 0})),Ot.complete()):Ot.error(new ht({error:Ti,headers:Pn,status:jn,statusText:hi,url:sr||void 0}))},Bt=Pn=>{const{url:jn}=Ai(),hi=new ht({error:Pn,status:en.status||0,statusText:en.statusText||"Unknown Error",url:jn||void 0});Ot.error(hi)};let Tt=!1;const wn=Pn=>{Tt||(Ot.next(Ai()),Tt=!0);let jn={type:yt.DownloadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(jn.total=Pn.total),"text"===ye.responseType&&en.responseText&&(jn.partialText=en.responseText),Ot.next(jn)},Qn=Pn=>{let jn={type:yt.UploadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(jn.total=Pn.total),Ot.next(jn)};return en.addEventListener("load",Si),en.addEventListener("error",Bt),en.addEventListener("timeout",Bt),en.addEventListener("abort",Bt),ye.reportProgress&&(en.addEventListener("progress",wn),null!==ti&&en.upload&&en.upload.addEventListener("progress",Qn)),en.send(ti),Ot.next({type:yt.Sent}),()=>{en.removeEventListener("error",Bt),en.removeEventListener("abort",Bt),en.removeEventListener("load",Si),en.removeEventListener("timeout",Bt),ye.reportProgress&&(en.removeEventListener("progress",wn),null!==ti&&en.upload&&en.upload.removeEventListener("progress",Qn)),en.readyState!==en.DONE&&en.abort()}})))}}return le.\u0275fac=function(ye){return new(ye||le)(d.LFG(se.JF))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();const st=new d.OlP("XSRF_ENABLED"),qe=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),jt=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ln{}let Wt=(()=>{class le{constructor(ye,Ct,xt){this.doc=ye,this.platform=Ct,this.cookieName=xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,se.Mx)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}}return le.\u0275fac=function(ye){return new(ye||le)(d.LFG(se.K0),d.LFG(d.Lbi),d.LFG(qe))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();function Gt(le,re){const ye=le.url.toLowerCase();if(!(0,d.f3M)(st)||"GET"===le.method||"HEAD"===le.method||ye.startsWith("http://")||ye.startsWith("https://"))return re(le);const Ct=(0,d.f3M)(ln).getToken(),xt=(0,d.f3M)(jt);return null!=Ct&&!le.headers.has(xt)&&(le=le.clone({headers:le.headers.set(xt,Ct)})),re(le)}var ke=(()=>((ke=ke||{})[ke.Interceptors=0]="Interceptors",ke[ke.LegacyInterceptors=1]="LegacyInterceptors",ke[ke.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ke[ke.NoXsrfProtection=3]="NoXsrfProtection",ke[ke.JsonpSupport=4]="JsonpSupport",ke[ke.RequestsMadeViaParent=5]="RequestsMadeViaParent",ke))();function _t(le,re){return{\u0275kind:le,\u0275providers:re}}function $t(...le){const re=[Ft,ft,Qe,{provide:de,useExisting:Qe},{provide:me,useExisting:ft},{provide:rn,useValue:Gt,multi:!0},{provide:st,useValue:!0},{provide:ln,useClass:Wt}];for(const ye of le)re.push(...ye.\u0275providers);return(0,d.MR2)(re)}const _i=new d.OlP("LEGACY_INTERCEPTOR_FN");let Oe=(()=>{class le{}return le.\u0275fac=function(ye){return new(ye||le)},le.\u0275mod=d.oAB({type:le}),le.\u0275inj=d.cJS({providers:[$t(_t(ke.LegacyInterceptors,[{provide:_i,useFactory:Ge},{provide:rn,useExisting:_i,multi:!0}]))]}),le})()},2223:(gn,nt,E)=>{E.d(nt,{$8M:()=>jl,$WT:()=>Wr,$Z:()=>H_,AFp:()=>Hm,ALo:()=>hw,AaK:()=>me,BQk:()=>Cd,CHM:()=>vo,CRH:()=>Sw,D6c:()=>OD,EJc:()=>LC,EiD:()=>p_,EpF:()=>ug,F$t:()=>Mh,F4k:()=>wu,FYo:()=>tu,FiY:()=>Ya,Gf:()=>Dw,GfV:()=>pf,GkF:()=>$f,Gpc:()=>dt,HDt:()=>qw,Hsn:()=>_v,Ikx:()=>Fh,JOm:()=>ka,JVY:()=>py,JZr:()=>wt,KtG:()=>hs,L6k:()=>gy,LAX:()=>Wd,LFG:()=>Se,LSH:()=>Rm,Lbi:()=>cf,Lck:()=>CE,MAs:()=>gv,MMx:()=>Q0,MR2:()=>sd,NdJ:()=>Pl,O4$:()=>M,Ojb:()=>D_,OlP:()=>fo,Oqu:()=>xg,P3R:()=>Jh,PXZ:()=>XC,Q6J:()=>ag,QGY:()=>Th,QbO:()=>Iy,Qsj:()=>mf,R0b:()=>ja,RDi:()=>r_,Rgc:()=>Fg,SBq:()=>fd,Sil:()=>UC,Suo:()=>Iw,TTD:()=>ea,TgZ:()=>Ih,Udp:()=>Vc,VKq:()=>ow,W1O:()=>kw,WFA:()=>Dd,WLB:()=>sw,X6Q:()=>sD,XFs:()=>st,Xpm:()=>io,Xts:()=>od,Y36:()=>Rc,YKP:()=>Y0,YNc:()=>Lc,Yjl:()=>ns,Yz7:()=>Ut,Z0I:()=>_n,ZZ4:()=>d0,_Bn:()=>Z0,_UZ:()=>zf,_Vd:()=>ud,_c5:()=>xD,_uU:()=>Rv,aQg:()=>u0,c2e:()=>Yw,cJS:()=>cn,cg1:()=>Jf,d8E:()=>Tu,dDg:()=>ZC,dqk:()=>Wt,eBb:()=>Dc,eFA:()=>dx,eJc:()=>Wb,ekj:()=>Oh,eoX:()=>sx,f3M:()=>Ht,g9A:()=>Qd,h0i:()=>em,hGG:()=>ED,hij:()=>Yf,iGM:()=>Cw,ifc:()=>Ct,ip1:()=>Zw,jDz:()=>X0,kL8:()=>Zv,kcU:()=>F,lG2:()=>ts,lqb:()=>Ac,lri:()=>rx,mCW:()=>Yu,n5z:()=>Zc,n_E:()=>Xv,oAB:()=>Yo,oxw:()=>Wf,pB0:()=>c_,q3G:()=>Bo,q4F:()=>ep,qFp:()=>PD,qLn:()=>iu,qOj:()=>Up,qZA:()=>Rl,qzn:()=>id,rWj:()=>ox,rg0:()=>Fo,s9C:()=>hg,sBO:()=>aD,s_b:()=>ey,soG:()=>ny,tb:()=>r0,tp0:()=>$s,uIk:()=>qp,vHH:()=>ue,vpe:()=>zc,wAp:()=>ji,xi3:()=>fw,xp6:()=>U_,ynx:()=>Ed,z2F:()=>im,z3N:()=>ql,zSh:()=>Jl,zs3:()=>Oc});var d=E(7579),L=E(727),f=E(1135),ne=E(9751),xe=E(6451),ae=E(9646),Y=E(3099),_e=E(3900),Ee=E(1884);function se(n){for(let i in n)if(n[i]===se)return i;throw Error("Could not find renamed property on target object.")}function de(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Xe(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Ne=se({__forward_ref__:se});function dt(n){return n.__forward_ref__=dt,n.toString=function(){return me(this())},n}function it(n){return Le(n)?n():n}function Le(n){return"function"==typeof n&&n.hasOwnProperty(Ne)&&n.__forward_ref__===dt}function He(n){return n&&!!n.\u0275providers}const wt="https://g.co/ng/security#xss";class ue extends Error{constructor(i,s){super(function Ie(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function be(n){return"string"==typeof n?n:null==n?"":String(n)}function Fe(n,i){throw new ue(-201,!1)}function At(n,i){null==n&&function Ge(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Ut(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xt(n){return Yn(n,Vt)||Yn(n,Ve)}function _n(n){return null!==Xt(n)}function Yn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Wn(n){return n&&(n.hasOwnProperty(ce)||n.hasOwnProperty(ft))?n[ce]:null}const Vt=se({\u0275prov:se}),ce=se({\u0275inj:se}),Ve=se({ngInjectableDef:se}),ft=se({ngInjectorDef:se});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Ke;function Ae(n){const i=Ke;return Ke=n,i}function jt(n,i,s){const l=Xt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&st.Optional?null:void 0!==i?i:void Fe(me(n))}const Wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_t={},$t="__NG_DI_FLAG__",Sn="ngTempTokenPath",ni=/\n/gm,Kt="__source";let Je;function Be(n){const i=Je;return Je=n,i}function Oe(n,i=st.Default){if(void 0===Je)throw new ue(-203,!1);return null===Je?jt(n,void 0,i):Je.get(n,i&st.Optional?null:void 0,i)}function Se(n,i=st.Default){return(function qe(){return Ke}()||Oe)(it(n),i)}function Ht(n,i=st.Default){return Se(n,Te(i))}function Te(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function oe(n){const i=[];for(let s=0;s<n.length;s++){const l=it(n[s]);if(Array.isArray(l)){if(0===l.length)throw new ue(900,!1);let c,h=st.Default;for(let y=0;y<l.length;y++){const I=l[y],P=U(I);"number"==typeof P?-1===P?c=I.token:h|=P:c=I}i.push(Se(c,h))}else i.push(Se(l))}return i}function H(n,i){return n[$t]=i,n.prototype[$t]=i,n}function U(n){return n[$t]}function re(n){return{toString:n}.toString()}var ye=(()=>((ye=ye||{})[ye.OnPush=0]="OnPush",ye[ye.Default=1]="Default",ye))(),Ct=(()=>{return(n=Ct||(Ct={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ct;var n})();const xt={},Ot=[],en=se({\u0275cmp:se}),ti=se({\u0275dir:se}),An=se({\u0275pipe:se}),Ai=se({\u0275mod:se}),Si=se({\u0275fac:se}),Bt=se({__NG_ELEMENT_ID__:se}),Tt=se({__NG_ENV_ID__:se});function wn(n,i,s){let l=n.length;for(;;){const c=n.indexOf(i,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||n.charCodeAt(c+h)<=32)return c}s=c+1}}function Qn(n,i,s){let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const h=s[l++],y=s[l++],I=s[l++];n.setAttribute(i,y,I,h)}else{const h=c,y=s[++l];jn(h)?n.setProperty(i,h,y):n.setAttribute(i,h,y),l++}}return l}function Pn(n){return 3===n||4===n||6===n}function jn(n){return 64===n.charCodeAt(0)}function hi(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||sr(n,s,c,null,-1===s||2===s?i[++l]:null)}}return n}function sr(n,i,s,l,c){let h=0,y=n.length;if(-1===i)y=-1;else for(;h<n.length;){const I=n[h++];if("number"==typeof I){if(I===i){y=-1;break}if(I>i){y=h-1;break}}}for(;h<n.length;){const I=n[h];if("number"==typeof I)break;if(I===s){if(null===l)return void(null!==c&&(n[h+1]=c));if(l===n[h+1])return void(n[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==y&&(n.splice(y,0,i),h=y+1),n.splice(h++,0,s),null!==l&&n.splice(h++,0,l),null!==c&&n.splice(h++,0,c)}const Ti="ng-template";function Ir(n,i,s){let l=0,c=!0;for(;l<n.length;){let h=n[l++];if("string"==typeof h&&c){const y=n[l++];if(s&&"class"===h&&-1!==wn(y.toLowerCase(),i,0))return!0}else{if(1===h){for(;l<n.length&&"string"==typeof(h=n[l++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function mo(n){return 4===n.type&&n.value!==Ti}function bo(n,i,s){return i===(4!==n.type||s?n.value:Ti)}function _s(n,i,s){let l=4;const c=n.attrs||[],h=function uo(n){for(let i=0;i<n.length;i++)if(Pn(n[i]))return i;return n.length}(c);let y=!1;for(let I=0;I<i.length;I++){const P=i[I];if("number"!=typeof P){if(!y)if(4&l){if(l=2|1&l,""!==P&&!bo(n,P,s)||""===P&&1===i.length){if(er(l))return!1;y=!0}}else{const q=8&l?P:i[++I];if(8&l&&null!==n.attrs){if(!Ir(n.attrs,q,s)){if(er(l))return!1;y=!0}continue}const Ue=to(8&l?"class":P,c,mo(n),s);if(-1===Ue){if(er(l))return!1;y=!0;continue}if(""!==q){let It;It=Ue>h?"":c[Ue+1].toLowerCase();const zt=8&l?It:null;if(zt&&-1!==wn(zt,q,0)||2&l&&q!==It){if(er(l))return!1;y=!0}}}}else{if(!y&&!er(l)&&!er(P))return!1;if(y&&er(P))continue;y=!1,l=P|1&l}}return er(l)||y}function er(n){return 0==(1&n)}function to(n,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let h=!1;for(;c<i.length;){const y=i[c];if(y===n)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let I=i[++c];for(;"string"==typeof I;)I=i[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function yi(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function kr(n,i,s=!1){for(let l=0;l<i.length;l++)if(_s(n,i[l],s))return!0;return!1}function Zo(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function go(n,i){return n?":not("+i.trim()+")":i}function no(n){let i=n[0],s=1,l=2,c="",h=!1;for(;s<n.length;){let y=n[s];if("string"==typeof y)if(2&l){const I=n[++s];c+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!er(y)&&(i+=go(h,c),c=""),l=y,h=h||!er(l);s++}return""!==c&&(i+=go(h,c)),i}function io(n){return re(()=>{const i=To(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ct.Emulated,styles:n.styles||Ot,_:null,schemas:n.schemas||null,tView:null,id:""};pt(s);const l=n.dependencies;return s.directiveDefs=lt(l,!1),s.pipeDefs=lt(l,!0),s.id=function nn(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of s)i=Math.imul(31,i)+c.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function js(n){return fi(n)||Sr(n)}function vs(n){return null!==n}function Yo(n){return re(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Or(n,i){if(null==n)return xt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=l,i&&(i[c]=h)}return s}function ts(n){return re(()=>{const i=To(n);return pt(i),i})}function ns(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function fi(n){return n[en]||null}function Sr(n){return n[ti]||null}function Fi(n){return n[An]||null}function Wr(n){const i=fi(n)||Sr(n)||Fi(n);return null!==i&&i.standalone}function Rr(n,i){const s=n[Ai]||null;if(!s&&!0===i)throw new Error(`Type ${me(n)} does not have '\u0275mod' property.`);return s}function To(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Or(n.inputs,i),outputs:Or(n.outputs)}}function pt(n){n.features?.forEach(i=>i(n))}function lt(n,i){if(!n)return null;const s=i?Fi:js;return()=>("function"==typeof n?n():n).map(l=>s(l)).filter(vs)}const fn=0,on=1,Nn=2,si=3,bi=4,Ur=5,mr=6,Ki=7,ki=8,Tr=9,Kr=10,ci=11,Mo=12,_o=13,Pr=14,Qi=15,Vo=16,is=17,rs=18,os=19,Ls=20,Hi=21,ar=22,Cs=23,Ao=24,zi=25,ko=1,qo=2,Zr=7,ss=8,Bs=9,br=11;function qi(n){return Array.isArray(n)&&"object"==typeof n[ko]}function wr(n){return Array.isArray(n)&&!0===n[ko]}function po(n){return 0!=(4&n.flags)}function Mr(n){return n.componentOffset>-1}function Ho(n){return 1==(1&n.flags)}function nr(n){return!!n.template}function Oo(n){return 0!=(512&n[Nn])}function ct(n,i){return n.hasOwnProperty(Si)?n[Si]:null}let Ni=Wt.WeakRef??class xi{constructor(i){this.ref=i}deref(){return this.ref}},_r=0,Wi=null,vr=!1;function Oi(n){const i=Wi;return Wi=n,i}class Po{constructor(){this.id=_r++,this.ref=function gr(n){return new Ni(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const l=s.producerNode.deref();if(void 0!==l&&s.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=vr;vr=!0;try{for(const[s,l]of this.consumers){const c=l.consumerNode.deref();void 0!==c&&c.trackingVersion===l.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),c?.producers.delete(this.id))}}finally{vr=i}}producerAccessed(){if(vr)throw new Error("");if(null===Wi)return;let i=Wi.producers.get(this.id);void 0===i?(i={consumerNode:Wi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Wi.trackingVersion},Wi.producers.set(this.id,i),this.consumers.set(Wi.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Wi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Wi?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let ys=null;function Fo(n){const i=Oi(null);try{return n()}finally{Oi(i)}}const ba=()=>{};class Hs extends Po{constructor(i,s,l){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=ba,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=Oi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ba,this.watch(this.registerOnCleanup)}finally{Oi(i)}}cleanup(){this.cleanupFn()}}class da{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function ea(){return wa}function wa(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ma),Is}function Is(){const n=ua(this),i=n?.current;if(i){const s=n.previous;if(s===xt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function Ma(n,i,s,l){const c=this.declaredInputs[s],h=ua(n)||function Ra(n,i){return n[ta]=i}(n,{previous:xt,current:null}),y=h.current||(h.current={}),I=h.previous,P=I[c];y[c]=new da(P&&P.currentValue,i,I===xt),n[l]=i}ea.ngInherit=!0;const ta="__ngSimpleChanges__";function ua(n){return n[ta]||null}const cs=function(n,i,s){},Qo="svg";function lr(n){for(;Array.isArray(n);)n=n[fn];return n}function Ys(n,i){return lr(i[n])}function Li(n,i){return lr(i[n.index])}function R(n,i){return n.data[i]}function Q(n,i){return n[i]}function B(n,i){const s=i[n];return qi(s)?s:s[fn]}function Ye(n){return 128==(128&n[Nn])}function hn(n,i){return null==i?null:n[i]}function qn(n){n[is]=0}function Zi(n){1024&n[Nn]||(n[Nn]|=1024,Ei(n,1))}function Pi(n){1024&n[Nn]&&(n[Nn]&=-1025,Ei(n,-1))}function Ei(n,i){let s=n[si];if(null===s)return;s[Ur]+=i;let l=s;for(s=s[si];null!==s&&(1===i&&1===l[Ur]||-1===i&&0===l[Ur]);)s[Ur]+=i,l=s,s=s[si]}const zn={lFrame:sn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qs(){return zn.bindingsEnabled}function us(){return null!==zn.skipHydrationRootTNode}function En(){return zn.lFrame.lView}function cr(){return zn.lFrame.tView}function vo(n){return zn.lFrame.contextLView=n,n[ki]}function hs(n){return zn.lFrame.contextLView=null,n}function Qr(){let n=Pa();for(;null!==n&&64===n.type;)n=n.parent;return n}function Pa(){return zn.lFrame.currentTNode}function In(n,i){const s=zn.lFrame;s.currentTNode=n,s.isParent=i}function xr(){return zn.lFrame.isParent}function Ss(){zn.lFrame.isParent=!1}function Ts(){const n=zn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function yn(){return zn.lFrame.bindingIndex++}function Ll(n,i){const s=zn.lFrame;s.bindingIndex=s.bindingRootIndex=n,b(i)}function b(n){zn.lFrame.currentDirectiveIndex=n}function _(n){const i=zn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function T(){return zn.lFrame.currentQueryIndex}function G(n){zn.lFrame.currentQueryIndex=n}function he(n){const i=n[on];return 2===i.type?i.declTNode:1===i.type?n[mr]:null}function et(n,i,s){if(s&st.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||s&st.Host||(c=he(h),null===c||(h=h[Pr],10&c.type))););if(null===c)return!1;i=c,n=h}const l=zn.lFrame=vt();return l.currentTNode=i,l.lView=n,!0}function at(n){const i=vt(),s=n[on];zn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function vt(){const n=zn.lFrame,i=null===n?null:n.child;return null===i?sn(n):i}function sn(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function $n(){const n=zn.lFrame;return zn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Mn=$n;function kn(){const n=$n();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mi(){return zn.lFrame.selectedIndex}function Di(n){zn.lFrame.selectedIndex=n}function w(){const n=zn.lFrame;return R(n.tView,n.selectedIndex)}function M(){zn.lFrame.currentNamespace=Qo}function F(){!function ee(){zn.lFrame.currentNamespace=null}()}let Ce=!0;function Dt(){return Ce}function bn(n){Ce=n}function Jn(n,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:q,ngOnDestroy:pe}=h;y&&(n.contentHooks??=[]).push(-s,y),I&&((n.contentHooks??=[]).push(s,I),(n.contentCheckHooks??=[]).push(s,I)),P&&(n.viewHooks??=[]).push(-s,P),q&&((n.viewHooks??=[]).push(s,q),(n.viewCheckHooks??=[]).push(s,q)),null!=pe&&(n.destroyHooks??=[]).push(s,pe)}}function Xi(n,i,s){fs(n,i,3,s)}function Jr(n,i,s,l){(3&n[Nn])===s&&fs(n,i,s,l)}function Ea(n,i){let s=n[Nn];(3&s)===i&&(s&=4095,s+=1,n[Nn]=s)}function fs(n,i,s,l){const h=l??-1,y=i.length-1;let I=0;for(let P=void 0!==l?65535&n[is]:0;P<y;P++)if("number"==typeof i[P+1]){if(I=i[P],null!=l&&I>=l)break}else i[P]<0&&(n[is]+=65536),(I<h||-1==h)&&(mt(n,s,i,P),n[is]=(4294901760&n[is])+P+2),P++}function ri(n,i){cs(4,n,i);const s=Oi(null);try{i.call(n)}finally{Oi(s),cs(5,n,i)}}function mt(n,i,s,l){const c=s[l]<0,h=s[l+1],I=n[c?-s[l]:s[l]];c?n[Nn]>>12<n[is]>>16&&(3&n[Nn])===i&&(n[Nn]+=4096,ri(I,h)):ri(I,h)}const ui=-1;class Ri{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Ms(n){return n!==ui}function jr(n){return 32767&n}function ia(n,i){let s=function xs(n){return n>>16}(n),l=i;for(;s>0;)l=l[Pr],s--;return l}let Ul=!0;function Co(n){const i=Ul;return Ul=n,i}const dc=255,ms=5;let bl=0;const ma={};function hc(n,i){const s=mc(n,i);if(-1!==s)return s;const l=i[on];l.firstCreatePass&&(n.injectorIndex=i.length,fc(l.data,n),fc(i,null),fc(l.blueprint,null));const c=$c(n,i),h=n.injectorIndex;if(Ms(c)){const y=jr(c),I=ia(c,i),P=I[on].data;for(let q=0;q<8;q++)i[h+q]=I[y+q]|P[y+q]}return i[h+8]=c,h}function fc(n,i){n.push(0,0,0,0,0,0,0,0,i)}function mc(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function $c(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){if(l=Es(c),null===l)return ui;if(s++,c=c[Pr],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return ui}function Fa(n,i,s){!function uc(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Bt)&&(l=s[Bt]),null==l&&(l=s[Bt]=bl++);const c=l&dc;i.data[n+(c>>ms)]|=1<<c}(n,i,s)}function Ru(n,i,s){if(s&st.Optional||void 0!==n)return n;Fe()}function wl(n,i,s,l){if(s&st.Optional&&void 0===l&&(l=null),!(s&(st.Self|st.Host))){const c=n[Tr],h=Ae(void 0);try{return c?c.get(i,l,s&st.Optional):jt(i,l,s&st.Optional)}finally{Ae(h)}}return Ru(l,0,s)}function Gc(n,i,s,l=st.Default,c){if(null!==n){if(2048&i[Nn]&&!(l&st.Self)){const y=function Yc(n,i,s,l,c){let h=n,y=i;for(;null!==h&&null!==y&&2048&y[Nn]&&!(512&y[Nn]);){const I=Wc(h,y,s,l|st.Self,ma);if(I!==ma)return I;let P=h.parent;if(!P){const q=y[Ls];if(q){const pe=q.get(s,ma,l);if(pe!==ma)return pe}P=Es(y),y=y[Pr]}h=P}return c}(n,i,s,l,ma);if(y!==ma)return y}const h=Wc(n,i,s,l,ma);if(h!==ma)return h}return wl(i,s,l,c)}function Wc(n,i,s,l,c){const h=function Pu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Bt)?n[Bt]:void 0;return"number"==typeof i?i>=0?i&dc:Rd:i}(s);if("function"==typeof h){if(!et(i,n,l))return l&st.Host?Ru(c,0,l):wl(i,s,l,c);try{const y=h(l);if(null!=y||l&st.Optional)return y;Fe()}finally{Mn()}}else if("number"==typeof h){let y=null,I=mc(n,i),P=ui,q=l&st.Host?i[Qi][mr]:null;for((-1===I||l&st.SkipSelf)&&(P=-1===I?$c(n,i):i[I+8],P!==ui&&gc(l,!1)?(y=i[on],I=jr(P),i=ia(P,i)):I=-1);-1!==I;){const pe=i[on];if(Kc(h,I,pe.data)){const Ue=Bh(I,i,s,y,l,q);if(Ue!==ma)return Ue}P=i[I+8],P!==ui&&gc(l,i[on].data[I+8]===q)&&Kc(h,I,i)?(y=pe,I=jr(P),i=ia(P,i)):I=-1}}return c}function Bh(n,i,s,l,c,h){const y=i[on],I=y.data[n+8],pe=pc(I,y,s,null==l?Mr(I)&&Ul:l!=y&&0!=(3&I.type),c&st.Host&&h===I);return null!==pe?za(i,y,pe,I):ma}function pc(n,i,s,l,c){const h=n.providerIndexes,y=i.data,I=1048575&h,P=n.directiveStart,pe=h>>20,It=c?I+pe:n.directiveEnd;for(let zt=l?I:I+pe;zt<It;zt++){const Cn=y[zt];if(zt<P&&s===Cn||zt>=P&&Cn.type===s)return zt}if(c){const zt=y[P];if(zt&&nr(zt)&&zt.type===s)return P}return null}function za(n,i,s,l){let c=n[s];const h=i.data;if(function $o(n){return n instanceof Ri}(c)){const y=c;y.resolving&&function $e(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ue(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():be(n)}(h[s]));const I=Co(y.canSeeViewProviders);y.resolving=!0;const P=y.injectImpl?Ae(y.injectImpl):null;et(n,l,st.Default);try{c=n[s]=y.factory(void 0,h,n,l),i.firstCreatePass&&s>=l.directiveStart&&function ai(n,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const y=wa(i);(s.preOrderHooks??=[]).push(n,y),(s.preOrderCheckHooks??=[]).push(n,y)}c&&(s.preOrderHooks??=[]).push(0-n,c),h&&((s.preOrderHooks??=[]).push(n,h),(s.preOrderCheckHooks??=[]).push(n,h))}(s,h[s],i)}finally{null!==P&&Ae(P),Co(I),y.resolving=!1,Mn()}}return c}function Kc(n,i,s){return!!(s[i+(n>>ms)]&1<<n)}function gc(n,i){return!(n&st.Self||n&st.Host&&i)}class $a{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return Gc(this._tNode,this._lView,i,Te(l),s)}}function Rd(){return new $a(Qr(),En())}function Zc(n){return re(()=>{const i=n.prototype.constructor,s=i[Si]||Vl(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const h=c[Si]||Vl(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Vl(n){return Le(n)?()=>{const i=Vl(it(n));return i&&i()}:ct(n)}function Es(n){const i=n[on],s=i.type;return 2===s?i.declTNode:1===s?n[mr]:null}function jl(n){return function Lh(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const h=s[c];if(Pn(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(Qr(),n)}const Na="__parameters__";function Dr(n,i,s){return re(()=>{const l=function ps(n){return function(...s){if(n){const l=n(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const y=new c(...h);return I.annotation=y,I;function I(P,q,pe){const Ue=P.hasOwnProperty(Na)?P[Na]:Object.defineProperty(P,Na,{value:[]})[Na];for(;Ue.length<=pe;)Ue.push(null);return(Ue[pe]=Ue[pe]||[]).push(y),P}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function Ka(n,i){n.forEach(s=>Array.isArray(s)?Ka(s,i):i(s))}function zs(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function oa(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Za(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function S(n,i,s){let l=te(n,i);return l>=0?n[1|l]=s:(l=~l,function Dl(n,i,s,l){let c=n.length;if(c==i)n.push(s,l);else if(1===c)n.push(l,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function N(n,i){const s=te(n,i);if(s>=0)return n[1|s]}function te(n,i){return function gt(n,i,s){let l=0,c=n.length>>s;for(;c!==l;){const h=l+(c-l>>1),y=n[h<<s];if(i===y)return h<<s;y>i?c=h:l=h+1}return~(c<<s)}(n,i,1)}const Ya=H(Dr("Optional"),8),$s=H(Dr("SkipSelf"),4);function $l(n){return 128==(128&n.flags)}var ka=(()=>((ka=ka||{})[ka.Important=1]="Important",ka[ka.DashCase=2]="DashCase",ka))();const Lg=/^>|^->|<!--|-->|--!>|<!-$/g,Bg=/(<|>)/,ay="\u200b$1\u200b";const am=new Map;let Oa=0;const rr="__ngContext__";function _a(n,i){qi(i)?(n[rr]=i[os],function Uu(n){am.set(n[os],n)}(i)):n[rr]=i}let Gl;function zh(n,i){return Gl(n,i)}function Hd(n){const i=n[si];return wr(i)?i[si]:i}function hm(n){return Jo(n[Mo])}function fm(n){return Jo(n[bi])}function Jo(n){for(;null!==n&&!wr(n);)n=n[bi];return n}function Wl(n,i,s,l,c){if(null!=l){let h,y=!1;wr(l)?h=l:qi(l)&&(y=!0,l=l[fn]);const I=lr(l);0===n&&null!==s?null==c?Hr(i,s,I):Go(i,s,I,c||null,!0):1===n&&null!==s?Go(i,s,I,c||null,!0):2===n?function Gu(n,i,s){const l=td(n,i);l&&function Qg(n,i,s,l){n.removeChild(i,s,l)}(n,l,i,s)}(i,I,y):3===n&&i.destroyNode(I),null!=h&&function dy(n,i,s,l,c){const h=s[Zr];h!==lr(s)&&Wl(i,n,l,h,c);for(let I=br;I<s.length;I++){const P=s[I];Gd(P[on],P,n,i,l,h)}}(i,n,h,s,c)}}function pm(n,i){return n.createComment(function Tl(n){return n.replace(Lg,i=>i.replace(Bg,ay))}(i))}function xc(n,i,s){return n.createElement(i,s)}function gm(n,i){const s=n[Bs],l=s.indexOf(i);Pi(i),s.splice(l,1)}function Ec(n,i){if(n.length<=br)return;const s=br+i,l=n[s];if(l){const c=l[Vo];null!==c&&c!==n&&gm(c,l),i>0&&(n[s-1][bi]=l[bi]);const h=oa(n,br+i);!function cy(n,i){Gd(n,i,i[ci],2,null,null),i[fn]=null,i[mr]=null}(l[on],l);const y=h[rs];null!==y&&y.detachView(h[on]),l[si]=null,l[bi]=null,l[Nn]&=-129}return l}function $h(n,i){if(!(256&i[Nn])){const s=i[ci];i[Cs]?.destroy(),i[Ao]?.destroy(),s.destroyNode&&Gd(n,i,s,3,null,null),function Kl(n){let i=n[Mo];if(!i)return Hu(n[on],n);for(;i;){let s=null;if(qi(i))s=i[Mo];else{const l=i[br];l&&(s=l)}if(!s){for(;i&&!i[bi]&&i!==n;)qi(i)&&Hu(i[on],i),i=i[si];null===i&&(i=n),qi(i)&&Hu(i[on],i),s=i&&i[bi]}i=s}}(i)}}function Hu(n,i){if(!(256&i[Nn])){i[Nn]&=-129,i[Nn]|=256,function vm(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof Ri)){const h=s[l+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const I=c[h[y]],P=h[y+1];cs(4,I,P);try{P.call(I)}finally{cs(5,I,P)}}else{cs(4,c,h);try{h.call(c)}finally{cs(5,c,h)}}}}}(n,i),function _m(n,i){const s=n.cleanup,l=i[Ki];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+3];y>=0?l[y]():l[-y].unsubscribe(),h+=2}else s[h].call(l[s[h+1]]);null!==l&&(i[Ki]=null);const c=i[Hi];if(null!==c){i[Hi]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(n,i),1===i[on].type&&i[ci].destroy();const s=i[Vo];if(null!==s&&wr(i[si])){s!==i[si]&&gm(s,i);const l=i[rs];null!==l&&l.detachView(n)}!function Ml(n){am.delete(n[os])}(i)}}function ym(n,i,s){return function qg(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[fn];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:h}=n.data[l.directiveStart+c];if(h===Ct.None||h===Ct.Emulated)return null}return Li(l,s)}}(n,i.parent,s)}function Go(n,i,s,l,c){n.insertBefore(i,s,l,c)}function Hr(n,i,s){n.appendChild(i,s)}function bm(n,i,s,l,c){null!==l?Go(n,i,s,l,c):Hr(n,i,s)}function td(n,i){return n.parentNode(i)}function e_(n,i,s){return xm(n,i,s)}let zu,Wu,Ku,Zu,xm=function wm(n,i,s){return 40&n.type?Li(n,s):null};function Cc(n,i,s,l){const c=ym(n,l,i),h=i[ci],I=e_(l.parent||i[mr],l,i);if(null!=c)if(Array.isArray(s))for(let P=0;P<s.length;P++)bm(h,c,s[P],I,!1);else bm(h,c,s,I,!1);void 0!==zu&&zu(h,l,i,s,c)}function Zl(n,i){if(null!==i){const s=i.type;if(3&s)return Li(i,n);if(4&s)return Gh(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return Zl(n,l);{const c=n[i.index];return wr(c)?Gh(-1,c):lr(c)}}if(32&s)return zh(i,n)()||lr(n[i.index]);{const l=$u(n,i);return null!==l?Array.isArray(l)?l[0]:Zl(Hd(n[Qi]),l):Zl(n,i.next)}}return null}function $u(n,i){return null!==i?n[Qi][mr].projection[i.projection]:null}function Gh(n,i){const s=br+n+1;if(s<i.length){const l=i[s],c=l[on].firstChild;if(null!==c)return Zl(l,c)}return i[Zr]}function Cm(n,i,s,l,c,h,y){for(;null!=s;){const I=l[s.index],P=s.type;if(y&&0===i&&(I&&_a(lr(I),l),s.flags|=2),32!=(32&s.flags))if(8&P)Cm(n,i,s.child,l,c,h,!1),Wl(i,n,c,I,h);else if(32&P){const q=zh(s,l);let pe;for(;pe=q();)Wl(i,n,c,pe,h);Wl(i,n,c,I,h)}else 16&P?n_(n,i,l,s,c,h):Wl(i,n,c,I,h);s=y?s.projectionNext:s.next}}function Gd(n,i,s,l,c,h){Cm(s,l,n.firstChild,i,c,h,!1)}function n_(n,i,s,l,c,h){const y=s[Qi],P=y[mr].projection[l.projection];if(Array.isArray(P))for(let q=0;q<P.length;q++)Wl(i,n,c,P[q],h);else{let q=P;const pe=y[si];$l(l)&&(q.flags|=128),Cm(n,i,q,pe,c,h,!0)}}function Wh(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function nd(n,i,s){const{mergedAttrs:l,classes:c,styles:h}=s;null!==l&&Qn(n,i,l),null!==c&&Wh(n,i,c),null!==h&&function hy(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function Wo(n){return function Dm(){if(void 0===Wu&&(Wu=null,Wt.trustedTypes))try{Wu=Wt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wu}()?.createHTML(n)||n}function r_(n){Ku=n}function s_(n){return function Zh(){if(void 0===Zu&&(Zu=null,Wt.trustedTypes))try{Zu=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zu}()?.createScriptURL(n)||n}class ll{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wt})`}}class Tm extends ll{getTypeName(){return"HTML"}}class fy extends ll{getTypeName(){return"Style"}}class a_ extends ll{getTypeName(){return"Script"}}class Mm extends ll{getTypeName(){return"URL"}}class l_ extends ll{getTypeName(){return"ResourceURL"}}function ql(n){return n instanceof ll?n.changingThisBreaksApplicationSecurity:n}function id(n,i){const s=function my(n){return n instanceof ll&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${wt})`)}return s===i}function py(n){return new Tm(n)}function gy(n){return new fy(n)}function Dc(n){return new a_(n)}function Wd(n){return new Mm(n)}function c_(n){return new l_(n)}class u_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Wo(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Ql{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Wo(i),s}}const _y=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yu(n){return(n=String(n)).match(_y)?n:"unsafe:"+n}function Qa(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function cl(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const Ic=Qa("area,br,col,hr,img,wbr"),Sc=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kd=Qa("rp,rt"),Yh=cl(Ic,cl(Sc,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl(Kd,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cl(Kd,Sc)),qh=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Am=cl(qh,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=Qa("script,style,template");class qu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Yh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let c=0;c<l.length;c++){const h=l.item(c),y=h.name,I=y.toLowerCase();if(!Am.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=h.value;qh[I]&&(P=Yu(P)),this.buf.push(" ",y,'="',km(P),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Yh.hasOwnProperty(s)&&!Ic.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(km(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const rd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,by=/([^\#-~ |!])/g;function km(n){return n.replace(/&/g,"&amp;").replace(rd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(by,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xh;function p_(n,i){let s=null;try{Xh=Xh||function d_(n){const i=new Ql(n);return function h_(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch{return!1}}()?new u_(i):i}(n);let l=i?String(i):"";s=Xh.getInertBodyElement(l);let c=5,h=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=h,h=s.innerHTML,s=Xh.getInertBodyElement(l)}while(l!==h);return Wo((new qu).sanitizeChildren(Om(s)||s))}finally{if(s){const l=Om(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Om(n){return"content"in n&&function Qu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Bo=(()=>((Bo=Bo||{})[Bo.NONE=0]="NONE",Bo[Bo.HTML=1]="HTML",Bo[Bo.STYLE=2]="STYLE",Bo[Bo.SCRIPT=3]="SCRIPT",Bo[Bo.URL=4]="URL",Bo[Bo.RESOURCE_URL=5]="RESOURCE_URL",Bo))();function Rm(n){const i=Mc();return i?i.sanitize(Bo.URL,n)||"":id(n,"URL")?ql(n):Yu(be(n))}function Pm(n){const i=Mc();if(i)return s_(i.sanitize(Bo.RESOURCE_URL,n)||"");if(id(n,"ResourceURL"))return s_(ql(n));throw new ue(904,!1)}function Jh(n,i,s){return function __(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pm:Rm}(i,s)(n)}function Mc(){const n=En();return n&&n[Kr].sanitizer}class fo{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ut({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const od=new fo("ENVIRONMENT_INITIALIZER"),Xu=new fo("INJECTOR",-1),y_=new fo("INJECTOR_DEF_TYPES");class Lm{get(i,s=_t){if(s===_t){const l=new Error(`NullInjectorError: No provider for ${me(i)}!`);throw l.name="NullInjectorError",l}return s}}function sd(n){return{\u0275providers:n}}function ef(...n){return{\u0275providers:Zd(0,n),\u0275fromNgModule:!0}}function Zd(n,...i){const s=[],l=new Set;let c;return Ka(i,h=>{const y=h;tf(y,s,[],l)&&(c||=[],c.push(y))}),void 0!==c&&Bm(c,s),s}function Bm(n,i){for(let s=0;s<n.length;s++){const{providers:c}=n[s];nf(c,h=>{i.push(h)})}}function tf(n,i,s,l){if(!(n=it(n)))return!1;let c=null,h=Wn(n);const y=!h&&fi(n);if(h||y){if(y&&!y.standalone)return!1;c=n}else{const P=n.ngModule;if(h=Wn(P),!h)return!1;c=P}const I=l.has(c);if(y){if(I)return!1;if(l.add(c),y.dependencies){const P="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const q of P)tf(q,i,s,l)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let q;l.add(c);try{Ka(h.imports,pe=>{tf(pe,i,s,l)&&(q||=[],q.push(pe))})}finally{}void 0!==q&&Bm(q,i)}if(!I){const q=ct(c)||(()=>new c);i.push({provide:c,useFactory:q,deps:Ot},{provide:y_,useValue:c,multi:!0},{provide:od,useValue:()=>Se(c),multi:!0})}const P=h.providers;null==P||I||nf(P,pe=>{i.push(pe)})}}return c!==n&&void 0!==n.providers}function nf(n,i){for(let s of n)He(s)&&(s=s.\u0275providers),Array.isArray(s)?nf(s,i):i(s)}const rf=se({provide:String,useValue:se});function Yd(n){return null!==n&&"object"==typeof n&&rf in n}function Xa(n){return"function"==typeof n}const Jl=new fo("Set Injector scope."),sf={},qd={};let af;function dl(){return void 0===af&&(af=new Lm),af}class Ac{}class Vm extends Ac{get destroyed(){return this._destroyed}constructor(i,s,l,c){super(),this.parent=s,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jm(i,y=>this.processProvider(y)),this.records.set(Xu,ec(void 0,this)),c.has("environment")&&this.records.set(Ac,ec(void 0,this));const h=this.records.get(Jl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(y_.multi,Ot,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Be(this),l=Ae(void 0);try{return i()}finally{Be(s),Ae(l)}}get(i,s=_t,l=st.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Tt))return i[Tt](this);l=Te(l);const c=Be(this),h=Ae(void 0);try{if(!(l&st.SkipSelf)){let I=this.records.get(i);if(void 0===I){const P=function C_(n){return"function"==typeof n||"object"==typeof n&&n instanceof fo}(i)&&Xt(i);I=P&&this.injectableDefInScope(P)?ec(lf(i),sf):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(l&st.Self?dl():this.parent).get(i,s=l&st.Optional&&s===_t?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Sn]=y[Sn]||[]).unshift(me(i)),c)throw y;return function z(n,i,s,l){const c=n[Sn];throw i[Kt]&&c.unshift(i[Kt]),n.message=function le(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=me(i);if(Array.isArray(i))c=i.map(me).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let I=i[y];h.push(y+":"+("string"==typeof I?JSON.stringify(I):me(I)))}c=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${n.replace(ni,"\n  ")}`}("\n"+n.message,c,s,l),n.ngTokenPath=c,n[Sn]=null,n}(y,i,"R3InjectorError",this.source)}throw y}finally{Ae(h),Be(c)}}resolveInjectorInitializers(){const i=Be(this),s=Ae(void 0);try{const l=this.get(od.multi,Ot,st.Self);for(const c of l)c()}finally{Be(i),Ae(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(me(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(i){let s=Xa(i=it(i))?i:it(i&&i.provide);const l=function w_(n){return Yd(n)?ec(void 0,n.useValue):ec(x_(n),sf)}(i);if(Xa(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ec(void 0,sf,!0),c.factory=()=>oe(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===sf&&(s.value=qd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=it(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function lf(n){const i=Xt(n),s=null!==i?i.factory:ct(n);if(null!==s)return s;if(n instanceof fo)throw new ue(204,!1);if(n instanceof Function)return function Ey(n){const i=n.length;if(i>0)throw Za(i,"?"),new ue(204,!1);const s=function gi(n){return n&&(n[Vt]||n[Ve])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ue(204,!1)}function x_(n,i,s){let l;if(Xa(n)){const c=it(n);return ct(c)||lf(c)}if(Yd(n))l=()=>it(n.useValue);else if(function Xl(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...oe(n.deps||[]));else if(function Um(n){return!(!n||!n.useExisting)}(n))l=()=>Se(it(n.useExisting));else{const c=it(n&&(n.useClass||n.provide));if(!function E_(n){return!!n.deps}(n))return ct(c)||lf(c);l=()=>new c(...oe(n.deps))}return l}function ec(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function jm(n,i){for(const s of n)Array.isArray(s)?jm(s,i):s&&He(s)?jm(s.\u0275providers,i):i(s)}const Hm=new fo("AppId",{providedIn:"root",factory:()=>ad}),ad="ng",Qd=new fo("Platform Initializer"),cf=new fo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Iy=new fo("AnimationModuleType"),D_=new fo("CSP nonce",{providedIn:"root",factory:()=>function Yl(){if(void 0!==Ku)return Ku;if(typeof document<"u")return document;throw new ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uf=(n,i)=>null;function Km(n,i){return uf(n,i)}class T_{}class Qm{}class Ry{resolveComponentFactory(i){throw function M_(n){const i=Error(`No component factory found for ${me(n)}.`);return i.ngComponent=n,i}(i)}}let ud=(()=>{class n{}return n.NULL=new Ry,n})();function O_(){return hd(Qr(),En())}function hd(n,i){return new fd(Li(n,i))}let fd=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=O_,n})();function ff(n){return n instanceof fd?n.nativeElement:n}class tu{}let mf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Xm(){const n=En(),s=B(Qr().index,n);return(qi(s)?s:n)[ci]}(),n})(),Jm=(()=>{class n{}return n.\u0275prov=Ut({token:n,providedIn:"root",factory:()=>null}),n})();class pf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ep=new pf("16.0.5"),tp={};function nu(n){for(;n;){n[Nn]|=64;const i=Hd(n);if(Oo(n)&&!i)return n;n=i}return null}function np(n){return n.ngOriginalError}class iu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&np(i);for(;s&&np(s);)s=np(s);return s||null}}const ip=new fo("",{providedIn:"root",factory:()=>!1});function ul(n){return n instanceof Function?n():n}class yf extends Po{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){nu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,l){const c=Oi(this);this.trackingVersion++;try{i(s,l)}finally{Oi(c)}}destroy(){this.trackingVersion++}}let dh=null;function bf(){return dh??=new yf,dh}function wf(n,i){return n[i]??bf()}function tc(n,i){const s=bf();s.hasReadASignal&&(n[i]=dh,s.lView=n,dh=new yf)}const Ji={};function U_(n){xf(cr(),En(),mi()+n,!1)}function xf(n,i,s,l){if(!l)if(3==(3&i[Nn])){const h=n.preOrderCheckHooks;null!==h&&Xi(i,h,s)}else{const h=n.preOrderHooks;null!==h&&Jr(i,h,0,s)}Di(s)}function lp(n,i=null,s=null,l){const c=cp(n,i,s,l);return c.resolveInjectorInitializers(),c}function cp(n,i=null,s=null,l,c=new Set){const h=[s||Ot,ef(n)];return l=l||("object"==typeof n?void 0:me(n)),new Vm(h,i||dl(),l||null,c)}let Oc=(()=>{class n{static create(s,l){if(Array.isArray(s))return lp({name:""},l,s,"");{const c=s.name??"";return lp({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=_t,n.NULL=new Lm,n.\u0275prov=Ut({token:n,providedIn:"any",factory:()=>Se(Xu)}),n.__NG_ELEMENT_ID__=-1,n})();function Rc(n,i=st.Default){const s=En();return null===s?Se(n,i):Gc(Qr(),s,it(n),i)}function H_(){throw new Error("invalid")}function Df(n,i,s,l,c,h,y,I,P,q,pe){const Ue=i.blueprint.slice();return Ue[fn]=c,Ue[Nn]=140|l,(null!==q||n&&2048&n[Nn])&&(Ue[Nn]|=2048),qn(Ue),Ue[si]=Ue[Pr]=n,Ue[ki]=s,Ue[Kr]=y||n&&n[Kr],Ue[ci]=I||n&&n[ci],Ue[Tr]=P||n&&n[Tr]||null,Ue[mr]=h,Ue[os]=function Ug(){return Oa++}(),Ue[ar]=pe,Ue[Ls]=q,Ue[Qi]=2==i.type?n[Qi]:Ue,Ue}function Pc(n,i,s,l,c){let h=n.data[i];if(null===h)h=function up(n,i,s,l,c){const h=Pa(),y=xr(),P=n.data[i]=function pp(n,i,s,l,c,h){let y=i?i.injectorIndex:-1,I=0;return us()&&(I|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,i,l,c);return null===n.firstChild&&(n.firstChild=P),null!==h&&(y?null==h.child&&null!==P.parent&&(h.child=P):null===h.next&&(h.next=P,P.prev=h)),P}(n,i,s,l,c),function Nl(){return zn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=l,h.attrs=c;const y=function ol(){const n=zn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return In(h,!0),h}function pd(n,i,s,l){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function hp(n,i,s,l,c){const h=wf(i,Cs),y=mi(),I=2&l;try{if(Di(-1),I&&i.length>zi&&xf(n,i,zi,!1),cs(I?2:0,c),I)h.runInContext(s,l,c);else{const q=Oi(null);try{s(l,c)}finally{Oi(q)}}}finally{I&&null===i[Cs]&&tc(i,Cs),Di(y),cs(I?3:1,c)}}function uh(n,i,s){if(po(i)){const l=Oi(null);try{const h=i.directiveEnd;for(let y=i.directiveStart;y<h;y++){const I=n.data[y];I.contentQueries&&I.contentQueries(1,s[y],y)}}finally{Oi(l)}}}function hh(n,i,s){qs()&&(function W_(n,i,s,l){const c=s.directiveStart,h=s.directiveEnd;Mr(s)&&function zy(n,i,s){const l=Li(i,n),y=lu(n,Df(n,gd(s),null,s.onPush?64:16,l,i,null,n[Kr].rendererFactory.createRenderer(l,s),null,null,null));n[i.index]=y}(i,s,n.data[c+s.componentOffset]),n.firstCreatePass||hc(s,i),_a(l,i);const y=s.initialInputs;for(let I=c;I<h;I++){const P=n.data[I],q=za(i,n,I,s);_a(q,i),null!==y&&Dp(0,I-c,q,P,0,y),nr(P)&&(B(s.index,i)[ki]=za(i,n,I,s))}}(n,i,s,Li(s,i)),64==(64&s.flags)&&yp(n,i,s))}function fh(n,i,s=Li){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const y=l[h+1],I=-1===y?s(i,n):n[y];n[c++]=I}}}function gd(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=kl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function kl(n,i,s,l,c,h,y,I,P,q,pe){const Ue=zi+l,It=Ue+c,zt=function fp(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:Ji);return s}(Ue,It),Cn="function"==typeof q?q():q;return zt[on]={type:n,blueprint:zt,template:s,queries:null,viewQuery:I,declTNode:i,data:zt.slice().fill(null,Ue),bindingStartIndex:Ue,expandoStartIndex:It,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:P,consts:Cn,incompleteFirstPass:!1,ssrId:pe}}let mp=n=>null;function If(n,i,s,l){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const h=n[c];null===l?Sf(s,i,c,h):l.hasOwnProperty(c)&&Sf(s,i,l[c],h)}return s}function Sf(n,i,s,l){n.hasOwnProperty(s)?n[s].push(i,l):n[s]=[i,l]}function Ua(n,i,s,l,c,h,y,I){const P=Li(i,s);let pe,q=i.inputs;!I&&null!=q&&(pe=q[l])?(mh(n,s,pe,l,c),Mr(i)&&function _p(n,i){const s=B(i,n);16&s[Nn]||(s[Nn]|=64)}(s,i.index)):3&i.type&&(l=function Uy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=y?y(c,i.value||"",l):c,h.setProperty(P,l,c))}function Tf(n,i,s,l){if(qs()){const c=null===l?null:{"":-1},h=function jy(n,i){const s=n.directiveRegistry;let l=null,c=null;if(s)for(let h=0;h<s.length;h++){const y=s[h];if(kr(i,y.selectors,!1))if(l||(l=[]),nr(y))if(null!==y.findHostDirectiveDefs){const I=[];c=c||new Map,y.findHostDirectiveDefs(y,I,c),l.unshift(...I,y),bp(n,i,I.length)}else l.unshift(y),bp(n,i,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,l,c),l.push(y)}return null===l?null:[l,c]}(n,s);let y,I;null===h?y=I=null:[y,I]=h,null!==y&&z_(n,i,s,y,c,I),c&&function Hy(n,i,s){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new ue(-301,!1);l.push(i[c],h)}}}(s,l,c)}s.mergedAttrs=hi(s.mergedAttrs,s.attrs)}function z_(n,i,s,l,c,h){for(let q=0;q<l.length;q++)Fa(hc(s,i),n,l[q].type);!function xp(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,l.length);for(let q=0;q<l.length;q++){const pe=l[q];pe.providersResolver&&pe.providersResolver(pe)}let y=!1,I=!1,P=pd(n,i,l.length,null);for(let q=0;q<l.length;q++){const pe=l[q];s.mergedAttrs=hi(s.mergedAttrs,pe.hostAttrs),Ep(n,s,i,P,pe),wp(P,pe,c),null!==pe.contentQueries&&(s.flags|=4),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(s.flags|=64);const Ue=pe.type.prototype;!y&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),y=!0),!I&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),I=!0),P++}!function gp(n,i,s){const c=i.directiveEnd,h=n.data,y=i.attrs,I=[];let P=null,q=null;for(let pe=i.directiveStart;pe<c;pe++){const Ue=h[pe],It=s?s.get(Ue):null,Cn=It?It.outputs:null;P=If(Ue.inputs,pe,P,It?It.inputs:null),q=If(Ue.outputs,pe,q,Cn);const Fn=null===P||null===y||mo(i)?null:Sp(P,pe,y);I.push(Fn)}null!==P&&(P.hasOwnProperty("class")&&(i.flags|=8),P.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=I,i.inputs=P,i.outputs=q}(n,s,h)}function yp(n,i,s){const l=s.directiveStart,c=s.directiveEnd,h=s.index,y=function V(){return zn.lFrame.currentDirectiveIndex}();try{Di(h);for(let I=l;I<c;I++){const P=n.data[I],q=i[I];b(I),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Vy(P,q)}}finally{Di(-1),b(y)}}function Vy(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function bp(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function wp(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;nr(i)&&(s[""]=n)}}function Ep(n,i,s,l,c){n.data[l]=c;const h=c.factory||(c.factory=ct(c.type)),y=new Ri(h,nr(c),Rc);n.blueprint[l]=y,s[l]=y,function $_(n,i,s,l,c){const h=c.hostBindings;if(h){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const I=~i.index;(function G_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(y)!=I&&y.push(I),y.push(s,l,h)}}(n,i,l,pd(n,s,c.hostVars,Ji),c)}function Ja(n,i,s,l,c,h){const y=Li(n,i);!function Cp(n,i,s,l,c,h,y){if(null==h)n.removeAttribute(i,c,s);else{const I=null==y?be(h):y(h,l||"",c);n.setAttribute(i,c,I,s)}}(i[ci],y,h,n.value,s,l,c)}function Dp(n,i,s,l,c,h){const y=h[i];if(null!==y)for(let I=0;I<y.length;)Ip(l,s,y[I++],y[I++],y[I++])}function Ip(n,i,s,l,c){const h=Oi(null);try{null!==n.setInput?n.setInput(i,c,s,l):i[l]=c}finally{Oi(h)}}function Sp(n,i,s){let l=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===l&&(l=[]);const y=n[h];for(let I=0;I<y.length;I+=2)if(y[I]===i){l.push(h,y[I+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function Tp(n,i,s,l){return[n,!0,!1,i,null,0,l,s,null,null,null]}function K_(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l+1];if(-1!==h){const y=n.data[h];G(s[l]),y.contentQueries(2,i[h],h)}}}function lu(n,i){return n[Mo]?n[_o][bi]=i:n[Mo]=i,n[_o]=i,i}function Mp(n,i,s){G(0);const l=Oi(null);try{i(n,s)}finally{Oi(l)}}function Y_(n){return n[Ki]||(n[Ki]=[])}function Mf(n){return n.cleanup||(n.cleanup=[])}function q_(n,i,s){return(null===n||nr(n))&&(s=function Eo(n){for(;Array.isArray(n);){if("object"==typeof n[ko])return n;n=n[fn]}return null}(s[i.index])),s[ci]}function Af(n,i){const s=n[Tr],l=s?s.get(iu,null):null;l&&l.handleError(i)}function mh(n,i,s,l,c){for(let h=0;h<s.length;){const y=s[h++],I=s[h++];Ip(n.data[y],i[y],l,I,c)}}function cu(n,i){const s=B(i,n),l=s[on];!function Q_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(l,s);const c=s[fn];null!==c&&null===s[ar]&&(s[ar]=Km(c,s[Tr])),ph(l,s,s[ki])}function ph(n,i,s){at(i);try{const l=n.viewQuery;null!==l&&Mp(1,l,s);const c=n.template;null!==c&&hp(n,i,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&K_(n,i),n.staticViewQueries&&Mp(2,n.viewQuery,s);const h=n.components;null!==h&&function $y(n,i){for(let s=0;s<i.length;s++)cu(n,i[s])}(i,h)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[Nn]&=-5,kn()}}let J_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,l,c){const h=typeof Zone>"u"?null:Zone.current,y=new Hs(s,q=>{this.all.has(q)&&this.queue.set(q,h)},c);let I;this.all.add(y),y.notify();const P=()=>{y.cleanup(),I?.(),this.all.delete(y),this.queue.delete(y)};return I=l?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[s,l]of this.queue)this.queue.delete(s),l?l.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Ut({token:n,providedIn:"root",factory:()=>new n}),n})();function kf(n,i,s){let l=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const I=i[y];"number"==typeof I?h=I:1==h?c=Xe(c,I):2==h&&(l=Xe(l,I+": "+i[++y]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=c:n.classesWithoutHost=c}function gh(n,i,s,l,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&l.push(lr(h)),wr(h)){for(let I=br;I<h.length;I++){const P=h[I],q=P[on].firstChild;null!==q&&gh(P[on],P,q,l)}h[Zr]!==h[fn]&&l.push(h[Zr])}const y=s.type;if(8&y)gh(n,i,s.child,l);else if(32&y){const I=zh(s,i);let P;for(;P=I();)l.push(P)}else if(16&y){const I=$u(i,s);if(Array.isArray(I))l.push(...I);else{const P=Hd(i[Qi]);gh(P[on],P,I,l,!0)}}s=c?s.projectionNext:s.next}return l}function du(n,i,s,l=!0){const c=i[Kr].rendererFactory;c.begin&&c.begin();try{Of(n,i,n.template,s)}catch(y){throw l&&Af(i,y),y}finally{c.end&&c.end(),i[Kr].effectManager?.flush()}}function Of(n,i,s,l){const c=i[Nn];if(256!=(256&c)){i[Kr].effectManager?.flush(),at(i);try{qn(i),function Jt(n){return zn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&hp(n,i,s,2,l);const y=3==(3&c);if(y){const q=n.preOrderCheckHooks;null!==q&&Xi(i,q,null)}else{const q=n.preOrderHooks;null!==q&&Jr(i,q,0,null),Ea(i,0)}if(function Gy(n){for(let i=hm(n);null!==i;i=fm(i)){if(!i[qo])continue;const s=i[Bs];for(let l=0;l<s.length;l++){Zi(s[l])}}}(i),function Rp(n){for(let i=hm(n);null!==i;i=fm(i))for(let s=br;s<i.length;s++){const l=i[s],c=l[on];Ye(l)&&Of(c,l,c.template,l[ki])}}(i),null!==n.contentQueries&&K_(n,i),y){const q=n.contentCheckHooks;null!==q&&Xi(i,q)}else{const q=n.contentHooks;null!==q&&Jr(i,q,1),Ea(i,1)}!function dp(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const l=wf(i,Ao);try{for(let c=0;c<s.length;c++){const h=s[c];if(h<0)Di(~h);else{const y=h,I=s[++c],P=s[++c];Ll(I,y),l.runInContext(P,2,i[y])}}}finally{null===i[Ao]&&tc(i,Ao),Di(-1)}}(n,i);const I=n.components;null!==I&&function Fp(n,i){for(let s=0;s<i.length;s++)Pp(n,i[s])}(i,I);const P=n.viewQuery;if(null!==P&&Mp(2,P,l),y){const q=n.viewCheckHooks;null!==q&&Xi(i,q)}else{const q=n.viewHooks;null!==q&&Jr(i,q,2),Ea(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Nn]&=-73,Pi(i)}finally{kn()}}}function Pp(n,i){const s=B(i,n);if(Ye(s)){const l=s[on];80&s[Nn]?Of(l,s,l.template,s[ki]):s[Ur]>0&&Rf(s)}}function Rf(n){for(let l=hm(n);null!==l;l=fm(l))for(let c=br;c<l.length;c++){const h=l[c];if(Ye(h))if(1024&h[Nn]){const y=h[on];Of(y,h,y.template,h[ki])}else h[Ur]>0&&Rf(h)}const s=n[on].components;if(null!==s)for(let l=0;l<s.length;l++){const c=B(s[l],n);Ye(c)&&c[Ur]>0&&Rf(c)}}class uu{get rootNodes(){const i=this._lView,s=i[on];return gh(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(i){this._lView[ki]=i}get destroyed(){return 256==(256&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[si];if(wr(i)){const s=i[ss],l=s?s.indexOf(this):-1;l>-1&&(Ec(i,l),oa(s,l))}this._attachedToViewContainer=!1}$h(this._lView[on],this._lView)}onDestroy(i){!function Ci(n,i){if(256==(256&n[Nn]))throw new ue(911,!1);null===n[Hi]&&(n[Hi]=[]),n[Hi].push(i)}(this._lView,i)}markForCheck(){nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-129}reattach(){this._lView[Nn]|=128}detectChanges(){du(this._lView[on],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zd(n,i){Gd(n,i,i[ci],2,null,null)}(this._lView[on],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i}}class Wy extends uu{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;du(i[on],i,i[ki],!1)}checkNoChanges(){}get context(){return null}}class ev extends ud{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=fi(i);return new _d(s,this.ngModule)}}function Pf(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Np{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=Te(l);const c=this.injector.get(i,tp,l);return c!==tp||s===tp?c:this.parentInjector.get(i,s,l)}}class _d extends Qm{get inputs(){return Pf(this.componentDef.inputs)}get outputs(){return Pf(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function hr(n){return n.map(no).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,c){let h=(c=c||this.ngModule)instanceof Ac?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new Np(i,h):i,I=y.get(tu,null);if(null===I)throw new ue(407,!1);const pe={rendererFactory:I,sanitizer:y.get(Jm,null),effectManager:y.get(J_,null)},Ue=I.createRenderer(null,this.componentDef),It=this.componentDef.selectors[0][0]||"div",zt=l?function ou(n,i,s,l){const h=l.get(ip,!1)||s===Ct.ShadowDom,y=n.selectRootElement(i,h);return function su(n){mp(n)}(y),y}(Ue,l,this.componentDef.encapsulation,y):xc(Ue,It,function Ky(n){const i=n.toLowerCase();return"svg"===i?Qo:"math"===i?"math":null}(It)),Cn=this.componentDef.onPush?576:528,Fn=kl(0,null,null,1,0,null,null,null,null,null,null),ei=Df(null,Fn,null,Cn,null,null,pe,Ue,y,null,null);let Ii,Tn;at(ei);try{const Gi=this.componentDef;let Ar,Io=null;Gi.findHostDirectiveDefs?(Ar=[],Io=new Map,Gi.findHostDirectiveDefs(Gi,Ar,Io),Ar.push(Gi)):Ar=[Gi];const cc=function _h(n,i){const s=n[on],l=zi;return n[l]=i,Pc(s,l,2,"#host",null)}(ei,zt),Px=function Zy(n,i,s,l,c,h,y){const I=c[on];!function Bp(n,i,s,l){for(const c of n)i.mergedAttrs=hi(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(kf(i,i.mergedAttrs,!0),null!==s&&nd(l,s,i))}(l,n,i,y);let P=null;null!==i&&(P=Km(i,c[Tr]));const q=h.rendererFactory.createRenderer(i,s),pe=Df(c,gd(s),null,s.onPush?64:16,c[n.index],n,h,q,null,null,P);return I.firstCreatePass&&bp(I,n,l.length-1),lu(c,pe),c[n.index]=pe}(cc,zt,Gi,Ar,ei,pe,Ue);Tn=R(Fn,zi),zt&&function hu(n,i,s,l){if(l)Qn(n,s,["ng-version",ep.full]);else{const{attrs:c,classes:h}=function Gr(n){const i=[],s=[];let l=1,c=2;for(;l<n.length;){let h=n[l];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++l]):8===c&&s.push(h);else{if(!er(c))break;c=h}l++}return{attrs:i,classes:s}}(i.selectors[0]);c&&Qn(n,s,c),h&&h.length>0&&Wh(n,s,h.join(" "))}}(Ue,Gi,zt,l),void 0!==s&&function nv(n,i,s){const l=n.projection=[];for(let c=0;c<i.length;c++){const h=s[c];l.push(null!=h?Array.from(h):null)}}(Tn,this.ngContentSelectors,s),Ii=function tv(n,i,s,l,c,h){const y=Qr(),I=c[on],P=Li(y,c);z_(I,c,y,s,null,l);for(let pe=0;pe<s.length;pe++)_a(za(c,I,y.directiveStart+pe,y),c);yp(I,c,y),P&&_a(P,c);const q=za(c,I,y.directiveStart+y.componentOffset,y);if(n[ki]=c[ki]=q,null!==h)for(const pe of h)pe(q,i);return uh(I,y,n),q}(Px,Gi,Ar,Io,ei,[Ff]),ph(Fn,ei,null)}finally{kn()}return new Lp(this.componentType,Ii,hd(Tn,ei),ei,Tn)}}class Lp extends T_{constructor(i,s,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Wy(c),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const h=this._rootLView;mh(h[on],h,c,i,s),this.previousInputValues.set(i,s),nu(B(this._tNode.index,h))}}get injector(){return new $a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ff(){const n=Qr();Jn(En()[on],n)}function Up(n){let i=function iv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let c;if(nr(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ue(903,!1);c=i.\u0275dir}if(c){if(s){l.push(c);const y=n;y.inputs=Vp(n.inputs),y.declaredInputs=Vp(n.declaredInputs),y.outputs=Vp(n.outputs);const I=c.hostBindings;I&&Hp(n,I);const P=c.viewQuery,q=c.contentQueries;if(P&&Nf(n,P),q&&jp(n,q),de(n.inputs,c.inputs),de(n.declaredInputs,c.declaredInputs),de(n.outputs,c.outputs),nr(c)&&c.data.animation){const pe=n.data;pe.animation=(pe.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const I=h[y];I&&I.ngInherit&&I(n),I===Up&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Yy(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=hi(c.hostAttrs,s=hi(s,c.hostAttrs))}}(l)}function Vp(n){return n===xt?{}:n===Ot?[]:n}function Nf(n,i){const s=n.viewQuery;n.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function jp(n,i){const s=n.contentQueries;n.contentQueries=s?(l,c,h)=>{i(l,c,h),s(l,c,h)}:i}function Hp(n,i){const s=n.hostBindings;n.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}function yh(n){return!!Yp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ol(n,i,s){return n[i]=s}function va(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function qp(n,i,s,l){const c=En();return va(c,yn(),i)&&(cr(),Ja(w(),c,n,i,s,l)),qp}function vd(n,i,s,l){return va(n,yn(),s)?i+be(s)+l:Ji}function Lc(n,i,s,l,c,h,y,I){const P=En(),q=cr(),pe=n+zi,Ue=q.firstCreatePass?function tb(n,i,s,l,c,h,y,I,P){const q=i.consts,pe=Pc(i,n,4,y||null,hn(q,I));Tf(i,s,pe,hn(q,P)),Jn(i,pe);const Ue=pe.tView=kl(2,pe,l,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,q,null);return null!==i.queries&&(i.queries.template(i,pe),Ue.queries=i.queries.embeddedTView(pe)),pe}(pe,q,P,i,s,l,c,h,y):q.data[pe];In(Ue,!1);const It=Ch(q,P,Ue,n);Dt()&&Cc(q,P,It,Ue),_a(It,P),lu(P,P[pe]=Tp(It,P,It,Ue)),Ho(Ue)&&hh(q,P,Ue),null!=y&&fh(P,Ue,I)}let Ch=function yu(n,i,s,l){return bn(!0),i[ci].createComment("")};function gv(n){return Q(function Xr(){return zn.lFrame.contextLView}(),zi+n)}function ag(n,i,s){const l=En();return va(l,yn(),i)&&Ua(cr(),w(),l,n,i,l[ci],s,!1),ag}function Dh(n,i,s,l,c){const y=c?"class":"style";mh(n,s,i.inputs[y],y,l)}function Ih(n,i,s,l){const c=En(),h=cr(),y=zi+n,I=c[ci],P=h.firstCreatePass?function lg(n,i,s,l,c,h){const y=i.consts,P=Pc(i,n,2,l,hn(y,c));return Tf(i,s,P,hn(y,h)),null!==P.attrs&&kf(P,P.attrs,!1),null!==P.mergedAttrs&&kf(P,P.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,P),P}(y,h,c,i,s,l):h.data[y],q=cg(h,c,P,I,i,n);c[y]=q;const pe=Ho(P);return In(P,!0),nd(I,q,P),32!=(32&P.flags)&&Dt()&&Cc(h,c,q,P),0===function qr(){return zn.lFrame.elementDepthCount}()&&_a(q,c),function xa(){zn.lFrame.elementDepthCount++}(),pe&&(hh(h,c,P),uh(h,P,c)),null!==l&&fh(c,P),Ih}function Rl(){let n=Qr();xr()?Ss():(n=n.parent,In(n,!1));const i=n;(function ws(n){return zn.skipHydrationRootTNode===n})(i)&&function yl(){zn.skipHydrationRootTNode=null}(),function No(){zn.lFrame.elementDepthCount--}();const s=cr();return s.firstCreatePass&&(Jn(s,n),po(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Er(n){return 0!=(8&n.flags)}(i)&&Dh(s,i,En(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Bl(n){return 0!=(16&n.flags)}(i)&&Dh(s,i,En(),i.stylesWithoutHost,!1),Rl}function zf(n,i,s,l){return Ih(n,i,s,l),Rl(),zf}let cg=(n,i,s,l,c,h)=>(bn(!0),xc(l,c,function ve(){return zn.lFrame.currentNamespace}()));function Ed(n,i,s){const l=En(),c=cr(),h=n+zi,y=c.firstCreatePass?function ib(n,i,s,l,c){const h=i.consts,y=hn(h,l),I=Pc(i,n,8,"ng-container",y);return null!==y&&kf(I,y,!0),Tf(i,s,I,hn(h,c)),null!==i.queries&&i.queries.elementStart(i,I),I}(h,c,l,i,s):c.data[h];In(y,!0);const I=bu(c,l,y,n);return l[h]=I,Dt()&&Cc(c,l,I,y),_a(I,l),Ho(y)&&(hh(c,l,y),uh(c,y,l)),null!=s&&fh(l,y),Ed}function Cd(){let n=Qr();const i=cr();return xr()?Ss():(n=n.parent,In(n,!1)),i.firstCreatePass&&(Jn(i,n),po(n)&&i.queries.elementEnd(n)),Cd}function $f(n,i,s){return Ed(n,i,s),Cd(),$f}let bu=(n,i,s,l)=>(bn(!0),pm(i[ci],""));function ug(){return En()}function Th(n){return!!n&&"function"==typeof n.then}function wu(n){return!!n&&"function"==typeof n.subscribe}function Pl(n,i,s,l){const c=En(),h=cr(),y=Qr();return Id(h,c,c[ci],y,n,i,l),Pl}function Dd(n,i){const s=Qr(),l=En(),c=cr();return Id(c,l,q_(_(c.data),s,l),s,n,i),Dd}function Id(n,i,s,l,c,h,y){const I=Ho(l),q=n.firstCreatePass&&Mf(n),pe=i[ki],Ue=Y_(i);let It=!0;if(3&l.type||y){const Fn=Li(l,i),ei=y?y(Fn):Fn,Ii=Ue.length,Tn=y?Ar=>y(lr(Ar[l.index])):l.index;let Gi=null;if(!y&&I&&(Gi=function ob(n,i,s,l){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===s&&c[h+1]===l){const I=i[Ki],P=c[h+2];return I.length>P?I[P]:null}"string"==typeof y&&(h+=2)}return null}(n,i,c,l.index)),null!==Gi)(Gi.__ngLastListenerFn__||Gi).__ngNextListenerFn__=h,Gi.__ngLastListenerFn__=h,It=!1;else{h=ab(l,i,pe,h,!1);const Ar=s.listen(ei,c,h);Ue.push(h,Ar),q&&q.push(c,Tn,Ii,Ii+1)}}else h=ab(l,i,pe,h,!1);const zt=l.outputs;let Cn;if(It&&null!==zt&&(Cn=zt[c])){const Fn=Cn.length;if(Fn)for(let ei=0;ei<Fn;ei+=2){const Io=i[Cn[ei]][Cn[ei+1]].subscribe(h),cc=Ue.length;Ue.push(h,Io),q&&q.push(c,l.index,cc,-(cc+1))}}}function sb(n,i,s,l){try{return cs(6,i,s),!1!==s(l)}catch(c){return Af(n,c),!1}finally{cs(7,i,s)}}function ab(n,i,s,l,c){return function h(y){if(y===Function)return l;nu(n.componentOffset>-1?B(n.index,i):i);let P=sb(i,s,l,y),q=h.__ngNextListenerFn__;for(;q;)P=sb(i,s,q,y)&&P,q=q.__ngNextListenerFn__;return c&&!1===P&&y.preventDefault(),P}}function Wf(n=1){return function Bi(n){return(zn.lFrame.contextLView=function Vn(n,i){for(;n>0;)i=i[Pr],n--;return i}(n,zn.lFrame.contextLView))[ki]}(n)}function lb(n,i){let s=null;const l=function $r(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===l?kr(n,h,!0):Zo(l,h))return c}else s=c}return s}function Mh(n){const i=En()[Qi][mr];if(!i.projection){const l=i.projection=Za(n?n.length:1,null),c=l.slice();let h=i.child;for(;null!==h;){const y=n?lb(h,n):0;null!==y&&(c[y]?c[y].projectionNext=h:l[y]=h,c[y]=h),h=h.next}}}function _v(n,i=0,s){const l=En(),c=cr(),h=Pc(c,zi+n,16,null,s||null);null===h.projection&&(h.projection=i),Ss(),(!l[ar]||us())&&32!=(32&h.flags)&&function t_(n,i,s){n_(i[ci],0,i,s,ym(n,s,i),e_(s.parent||i[mr],s,i))}(c,l,h)}function hg(n,i,s){return xu(n,"",i,"",s),hg}function xu(n,i,s,l,c){const h=En(),y=vd(h,i,s,l);return y!==Ji&&Ua(cr(),w(),h,n,y,h[ci],c,!1),xu}function kh(n,i){return n<<17|i<<2}function rc(n){return n>>17&32767}function Eu(n){return 2|n}function Sd(n){return(131068&n)>>2}function Ev(n,i){return-131069&n|i<<2}function _g(n){return 1|n}function Cu(n,i,s,l,c){const h=n[s+1],y=null===i;let I=l?rc(h):Sd(h),P=!1;for(;0!==I&&(!1===P||y);){const pe=n[I+1];Bc(n[I],i)&&(P=!0,n[I+1]=l?_g(pe):Eu(pe)),I=l?rc(pe):Sd(pe)}P&&(n[s+1]=l?Eu(h):_g(h))}function Bc(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&te(n,i)>=0}function Vc(n,i,s){return ml(n,i,s,!1),Vc}function Oh(n,i){return ml(n,i,null,!0),Oh}function ml(n,i,s,l){const c=En(),h=cr(),y=function Ui(n){const i=zn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);h.firstUpdatePass&&function pb(n,i,s,l){const c=n.data;if(null===c[s+1]){const h=c[mi()],y=function mb(n,i){return i>=n.expandoStartIndex}(n,s);(function Ov(n,i){return 0!=(n.flags&(i?8:16))})(h,l)&&null===i&&!y&&(i=!1),i=function T0(n,i,s,l){const c=_(n);let h=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=Kf(s=bg(null,n,i,s,l),i.attrs,l),h=null);else{const y=i.directiveStylingLast;if(-1===y||n[y]!==c)if(s=bg(c,n,i,s,l),null===h){let P=function M0(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Sd(l))return n[rc(l)]}(n,i,l);void 0!==P&&Array.isArray(P)&&(P=bg(null,n,i,P[1],l),P=Kf(P,i.attrs,l),function gb(n,i,s,l){n[rc(s?i.classBindings:i.styleBindings)]=l}(n,i,l,P))}else h=function _b(n,i,s){let l;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)l=Kf(l,n[h].hostAttrs,s);return Kf(l,i.attrs,s)}(n,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,l),function Td(n,i,s,l,c,h){let y=h?i.classBindings:i.styleBindings,I=rc(y),P=Sd(y);n[l]=s;let pe,q=!1;if(Array.isArray(s)?(pe=s[1],(null===pe||te(s,pe)>0)&&(q=!0)):pe=s,c)if(0!==P){const It=rc(n[I+1]);n[l+1]=kh(It,I),0!==It&&(n[It+1]=Ev(n[It+1],l)),n[I+1]=function gg(n,i){return 131071&n|i<<17}(n[I+1],l)}else n[l+1]=kh(I,0),0!==I&&(n[I+1]=Ev(n[I+1],l)),I=l;else n[l+1]=kh(P,0),0===I?I=l:n[P+1]=Ev(n[P+1],l),P=l;q&&(n[l+1]=Eu(n[l+1])),Cu(n,pe,l,!0),Cu(n,pe,l,!1),function oc(n,i,s,l,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&te(h,i)>=0&&(s[l+1]=_g(s[l+1]))}(i,pe,n,l,h),y=kh(I,P),h?i.classBindings=y:i.styleBindings=y}(c,h,i,s,y,l)}}(h,n,y,l),i!==Ji&&va(c,y,i)&&function Av(n,i,s,l,c,h,y,I){if(!(3&i.type))return;const P=n.data,q=P[I+1],pe=function I0(n){return 1==(1&n)}(q)?kv(P,i,s,c,Sd(q),y):void 0;Zf(pe)||(Zf(h)||function xv(n){return 2==(2&n)}(q)&&(h=kv(P,null,s,c,I,y)),function uy(n,i,s,l,c){if(i)c?n.addClass(s,l):n.removeClass(s,l);else{let h=-1===l.indexOf("-")?void 0:ka.DashCase;null==c?n.removeStyle(s,l,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ka.Important),n.setStyle(s,l,c,h))}}(l,y,Ys(mi(),s),c,h))}(h,h.data[mi()],c,c[ci],n,c[y+1]=function bb(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=me(ql(n)))),n}(i,s),l,y)}function bg(n,i,s,l,c){let h=null;const y=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<y&&(h=i[I],l=Kf(l,h.hostAttrs,c),h!==n);)I++;return null!==n&&(s.directiveStylingLast=I),l}function Kf(n,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?c=y:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),S(n,y,!!s||i[++h]))}return void 0===n?null:n}function kv(n,i,s,l,c,h){const y=null===i;let I;for(;c>0;){const P=n[c],q=Array.isArray(P),pe=q?P[1]:P,Ue=null===pe;let It=s[c+1];It===Ji&&(It=Ue?Ot:void 0);let zt=Ue?N(It,l):pe===l?It:void 0;if(q&&!Zf(zt)&&(zt=N(P,l)),Zf(zt)&&(I=zt,y))return I;const Cn=n[c+1];c=y?rc(Cn):Sd(Cn)}if(null!==i){let P=h?i.residualClasses:i.residualStyles;null!=P&&(I=N(P,l))}return I}function Zf(n){return void 0!==n}function Rv(n,i=""){const s=En(),l=cr(),c=n+zi,h=l.firstCreatePass?Pc(l,c,1,i,null):l.data[c],y=wb(l,s,h,i,n);s[c]=y,Dt()&&Cc(l,s,y,h),In(h,!1)}let wb=(n,i,s,l,c)=>(bn(!0),function ed(n,i){return n.createText(i)}(i[ci],l));function xg(n){return Yf("",n,""),xg}function Yf(n,i,s){const l=En(),c=vd(l,n,i,s);return c!==Ji&&function hl(n,i,s){const l=Ys(i,n);!function mm(n,i,s){n.setValue(i,s)}(n[ci],l,s)}(l,mi(),c),Yf}function Fh(n,i,s){const l=En();return va(l,yn(),i)&&Ua(cr(),w(),l,n,i,l[ci],s,!0),Fh}function Tu(n,i,s){const l=En();if(va(l,yn(),i)){const h=cr(),y=w();Ua(h,y,l,n,i,q_(_(h.data),y,l),s,!0)}return Tu}const Hc=void 0;var Mg=["en",[["a","p"],["AM","PM"],Hc],[["AM","PM"],Hc,Hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hc,"{1} 'at' {0}",Hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cb(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Mu={};function Jf(n){const i=function Tb(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Ag(i);if(s)return s;const l=i.split("-")[0];if(s=Ag(l),s)return s;if("en"===l)return Mg;throw new ue(701,!1)}function Zv(n){return Jf(n)[ji.PluralCase]}function Ag(n){return n in Mu||(Mu[n]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[n]),Mu[n]}var ji=(()=>((ji=ji||{})[ji.LocaleId=0]="LocaleId",ji[ji.DayPeriodsFormat=1]="DayPeriodsFormat",ji[ji.DayPeriodsStandalone=2]="DayPeriodsStandalone",ji[ji.DaysFormat=3]="DaysFormat",ji[ji.DaysStandalone=4]="DaysStandalone",ji[ji.MonthsFormat=5]="MonthsFormat",ji[ji.MonthsStandalone=6]="MonthsStandalone",ji[ji.Eras=7]="Eras",ji[ji.FirstDayOfWeek=8]="FirstDayOfWeek",ji[ji.WeekendRange=9]="WeekendRange",ji[ji.DateFormat=10]="DateFormat",ji[ji.TimeFormat=11]="TimeFormat",ji[ji.DateTimeFormat=12]="DateTimeFormat",ji[ji.NumberSymbols=13]="NumberSymbols",ji[ji.NumberFormats=14]="NumberFormats",ji[ji.CurrencyCode=15]="CurrencyCode",ji[ji.CurrencySymbol=16]="CurrencySymbol",ji[ji.CurrencyName=17]="CurrencyName",ji[ji.Currencies=18]="Currencies",ji[ji.Directionality=19]="Directionality",ji[ji.PluralCase=20]="PluralCase",ji[ji.ExtraData=21]="ExtraData",ji))();const Au="en-US";let u=Au;function kb(n,i,s,l,c){if(n=it(n),Array.isArray(n))for(let h=0;h<n.length;h++)kb(n[h],i,s,l,c);else{const h=cr(),y=En();let I=Xa(n)?n:it(n.provide),P=x_(n);const q=Qr(),pe=1048575&q.providerIndexes,Ue=q.directiveStart,It=q.providerIndexes>>20;if(Xa(n)||!n.multi){const zt=new Ri(P,c,Rc),Cn=Rb(I,i,c?pe:pe+It,Ue);-1===Cn?(Fa(hc(q,y),h,I),Ob(h,n,i.length),i.push(I),q.directiveStart++,q.directiveEnd++,c&&(q.providerIndexes+=1048576),s.push(zt),y.push(zt)):(s[Cn]=zt,y[Cn]=zt)}else{const zt=Rb(I,i,pe+It,Ue),Cn=Rb(I,i,pe,pe+It),ei=Cn>=0&&s[Cn];if(c&&!ei||!c&&!(zt>=0&&s[zt])){Fa(hc(q,y),h,I);const Ii=function EE(n,i,s,l,c){const h=new Ri(n,s,Rc);return h.multi=[],h.index=i,h.componentProviders=0,K0(h,c,l&&!s),h}(c?xE:wE,s.length,c,l,P);!c&&ei&&(s[Cn].providerFactory=Ii),Ob(h,n,i.length,0),i.push(I),q.directiveStart++,q.directiveEnd++,c&&(q.providerIndexes+=1048576),s.push(Ii),y.push(Ii)}else Ob(h,n,zt>-1?zt:Cn,K0(s[c?Cn:zt],P,!c&&l));!c&&l&&ei&&s[Cn].componentProviders++}}}function Ob(n,i,s,l){const c=Xa(i),h=function b_(n){return!!n.useClass}(i);if(c||h){const P=(h?it(i.useClass):i).prototype.ngOnDestroy;if(P){const q=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const pe=q.indexOf(s);-1===pe?q.push(s,[l,P]):q[pe+1].push(l,P)}else q.push(s,P)}}}function K0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Rb(n,i,s,l){for(let c=s;c<l;c++)if(i[c]===n)return c;return-1}function wE(n,i,s,l){return Pb(this.multi,[])}function xE(n,i,s,l){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=za(s,s[on],this.providerFactory.index,l);h=I.slice(0,y),Pb(c,h);for(let P=y;P<I.length;P++)h.push(I[P])}else h=[],Pb(c,h);return h}function Pb(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function Z0(n,i=[]){return s=>{s.providersResolver=(l,c)=>function bE(n,i,s){const l=cr();if(l.firstCreatePass){const c=nr(n);kb(s,l.data,l.blueprint,c,!0),kb(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class em{}class Y0{}function CE(n,i){return new Fb(n,i??null,[])}class Fb extends em{constructor(i,s,l){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const c=Rr(i);this._bootstrapComponents=ul(c.bootstrap),this._r3Injector=cp(i,s,[{provide:em,useValue:this},{provide:ud,useValue:this.componentFactoryResolver},...l],me(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Nb extends Y0{constructor(i){super(),this.moduleType=i}create(i){return new Fb(this.moduleType,i,[])}}class q0 extends em{constructor(i){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const s=new Vm([...i.providers,{provide:em,useValue:this},{provide:ud,useValue:this.componentFactoryResolver}],i.parent||dl(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Q0(n,i,s=null){return new q0({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let IE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=Zd(0,s.type),c=l.length>0?Q0([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ut({token:n,providedIn:"environment",factory:()=>new n(Se(Ac))}),n})();function X0(n){n.getStandaloneInjector=i=>i.get(IE).getOrCreateStandaloneInjector(n)}function ow(n,i,s,l){return function aw(n,i,s,l,c,h){const y=i+s;return va(n,y,c)?Ol(n,y+1,h?l.call(h,c):l(c)):Rg(n,y+1)}(En(),Ts(),n,i,s,l)}function sw(n,i,s,l,c){return lw(En(),Ts(),n,i,s,l,c)}function Rg(n,i){const s=n[i];return s===Ji?void 0:s}function lw(n,i,s,l,c,h,y){const I=i+s;return function Fc(n,i,s,l){const c=va(n,i,s);return va(n,i+1,l)||c}(n,I,c,h)?Ol(n,I+2,y?l.call(y,c,h):l(c,h)):Rg(n,I+2)}function hw(n,i){const s=cr();let l;const c=n+zi;s.firstCreatePass?(l=function zE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(s.destroyHooks??=[]).push(c,l.onDestroy)):l=s.data[c];const h=l.factory||(l.factory=ct(l.type)),y=Ae(Rc);try{const I=Co(!1),P=h();return Co(I),function nb(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,En(),c,P),P}finally{Ae(y)}}function fw(n,i,s,l){const c=n+zi,h=En(),y=Q(h,c);return function Pg(n,i){return n[on].data[i].pure}(h,c)?lw(h,Ts(),i,y.transform,s,l,y):y.transform(s,l)}function Bb(n){return i=>{setTimeout(n,void 0,i)}}const zc=class ZE extends d.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let c=i,h=s||(()=>null),y=l;if(i&&"object"==typeof i){const P=i;c=P.next?.bind(P),h=P.error?.bind(P),y=P.complete?.bind(P)}this.__isAsync&&(h=Bb(h),c&&(c=Bb(c)),y&&(y=Bb(y)));const I=super.subscribe({next:c,error:h,complete:y});return i instanceof L.w0&&i.add(I),I}};function YE(){return this._results[Symbol.iterator]()}class Xv{get changes(){return this._changes||(this._changes=new zc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=YE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const c=function lo(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Wa(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],h=i[l];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=XE,n})();const qE=Fg,QE=class extends qE{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,l){const c=this._declarationTContainer.tView,h=Df(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,s||null,l||null);h[Vo]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[rs];return null!==I&&(h[rs]=I.createEmbeddedView(c)),ph(c,h,i),new uu(h)}};function XE(){return Jv(Qr(),En())}function Jv(n,i){return 4&n.type?new QE(i,n,hd(n,i)):null}let ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=oC,n})();function oC(){return yw(Qr(),En())}const sC=ey,_w=class extends sC{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new $a(this._hostTNode,this._hostLView)}get parentInjector(){const i=$c(this._hostTNode,this._hostLView);if(Ms(i)){const s=ia(i,this._hostLView),l=jr(i);return new $a(s[on].data[l+8],s)}return new $a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=vw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-br}createEmbeddedView(i,s,l){let c,h;"number"==typeof l?c=l:null!=l&&(c=l.index,h=l.injector);const I=i.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(I,c,false),I}createComponent(i,s,l,c,h){const y=i&&!function Cl(n){return"function"==typeof n}(i);let I;if(y)I=s;else{const Fn=s||{};I=Fn.index,l=Fn.injector,c=Fn.projectableNodes,h=Fn.environmentInjector||Fn.ngModuleRef}const P=y?i:new _d(fi(i)),q=l||this.parentInjector;if(!h&&null==P.ngModule){const ei=(y?q:this.parentInjector).get(Ac,null);ei&&(h=ei)}fi(P.componentType??{});const zt=P.create(q,c,null,h);return this.insertImpl(zt.hostView,I,false),zt}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,l){const c=i._lView,h=c[on];if(function Qt(n){return wr(n[si])}(c)){const P=this.indexOf(i);if(-1!==P)this.detach(P);else{const q=c[si],pe=new _w(q,q[mr],q[si]);pe.detach(pe.indexOf(i))}}const y=this._adjustIndex(s),I=this._lContainer;if(function Zg(n,i,s,l){const c=br+l,h=s.length;l>0&&(s[c-1][bi]=i),l<h-br?(i[bi]=s[c],zs(s,br+l,i)):(s.push(i),i[bi]=null),i[si]=s;const y=i[Vo];null!==y&&s!==y&&function Yg(n,i){const s=n[Bs];i[Qi]!==i[si][si][Qi]&&(n[qo]=!0),null===s?n[Bs]=[i]:s.push(i)}(y,i);const I=i[rs];null!==I&&I.insertView(n),i[Nn]|=128}(h,c,I,y),!l){const P=Gh(y,I),q=c[ci],pe=td(q,I[Zr]);null!==pe&&function Kg(n,i,s,l,c,h){l[fn]=c,l[mr]=i,Gd(n,l,s,1,c,h)}(h,I[mr],q,c,pe,P)}return i.attachToViewContainerRef(),zs(Vb(I),y,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=vw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Ec(this._lContainer,s);l&&(oa(Vb(this._lContainer),s),$h(l[on],l))}detach(i){const s=this._adjustIndex(i,-1),l=Ec(this._lContainer,s);return l&&null!=oa(Vb(this._lContainer),s)?new uu(l):null}_adjustIndex(i,s=0){return i??this.length+s}};function vw(n){return n[ss]}function Vb(n){return n[ss]||(n[ss]=[])}function yw(n,i){let s;const l=i[n.index];return wr(l)?s=l:(s=Tp(l,i,null,n),i[n.index]=s,lu(i,s)),bw(s,i,n,l),new _w(s,n,i)}let bw=function ww(n,i,s,l){if(n[Zr])return;let c;c=8&s.type?lr(l):function aC(n,i){const s=n[ci],l=s.createComment(""),c=Li(i,n);return Go(s,td(s,c),l,function Jg(n,i){return n.nextSibling(i)}(s,c),!1),l}(i,s),n[Zr]=c};class jb{constructor(i){this.queryList=i,this.matches=null}clone(){return new jb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hb{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<l;h++){const y=s.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new Hb(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Aw(i,s).matches&&this.queries[s].setDirty()}}class xw{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class zb{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new zb(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class $b{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new $b(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,s,dC(s,h)),this.matchTNodeWithReadOption(i,s,pc(s,i,h,!1,!1))}else l===Fg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,pc(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===fd||c===ey||c===Fg&&4&s.type)this.addMatch(s.index,-2);else{const h=pc(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function dC(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function hC(n,i,s,l){return-1===s?function uC(n,i){return 11&n.type?hd(n,i):4&n.type?Jv(n,i):null}(i,n):-2===s?function fC(n,i,s){return s===fd?hd(i,n):s===Fg?Jv(i,n):s===ey?yw(i,n):void 0}(n,i,l):za(n,n[on],s,i)}function Ew(n,i,s,l){const c=i[rs].queries[l];if(null===c.matches){const h=n.data,y=s.matches,I=[];for(let P=0;P<y.length;P+=2){const q=y[P];I.push(q<0?null:hC(i,h[q],y[P+1],s.metadata.read))}c.matches=I}return c.matches}function Gb(n,i,s,l){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const y=Ew(n,i,c,s);for(let I=0;I<h.length;I+=2){const P=h[I];if(P>0)l.push(y[I/2]);else{const q=h[I+1],pe=i[-P];for(let Ue=br;Ue<pe.length;Ue++){const It=pe[Ue];It[Vo]===It[si]&&Gb(It[on],It,q,l)}if(null!==pe[Bs]){const Ue=pe[Bs];for(let It=0;It<Ue.length;It++){const zt=Ue[It];Gb(zt[on],zt,q,l)}}}}}return l}function Cw(n){const i=En(),s=cr(),l=T();G(l+1);const c=Aw(s,l);if(n.dirty&&function fe(n){return 4==(4&n[Nn])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?Gb(s,i,l,[]):Ew(s,i,c,l);n.reset(h,ff),n.notifyOnChanges()}return!0}return!1}function Dw(n,i,s){const l=cr();l.firstCreatePass&&(Mw(l,new xw(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),Tw(l,En(),i)}function Iw(n,i,s,l){const c=cr();if(c.firstCreatePass){const h=Qr();Mw(c,new xw(i,s,l),h.index),function pC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}Tw(c,En(),s)}function Sw(){return function mC(n,i){return n[rs].queries[i].queryList}(En(),T())}function Tw(n,i,s){const l=new Xv(4==(4&s));(function By(n,i,s,l){const c=Y_(i);c.push(s),n.firstCreatePass&&Mf(n).push(l,c.length-1)})(n,i,l,l.destroy),null===i[rs]&&(i[rs]=new Hb),i[rs].queries.push(new jb(l))}function Mw(n,i,s){null===n.queries&&(n.queries=new zb),n.queries.track(new $b(i,s))}function Aw(n,i){return n.queries.getByIndex(i)}function kw(n,i){return Jv(n,i)}function Wb(n){return!!Rr(n)}const Zw=new fo("Application Initializer");let Qb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l}),this.appInits=Ht(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const h=c();if(Th(h))s.push(h);else if(wu(h)){const y=new Promise((I,P)=>{h.subscribe({complete:I,error:P})});s.push(y)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ny=new fo("LocaleId",{providedIn:"root",factory:()=>Ht(ny,st.Optional|st.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||Au}()}),LC=new fo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new f.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let UC=(()=>{class n{compileModuleSync(s){return new Nb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),h=ul(Rr(s).declarations).reduce((y,I)=>{const P=fi(I);return P&&y.push(new _d(P)),y},[]);return new BC(l,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HC=(()=>Promise.resolve(0))();function Xb(n){typeof Zone>"u"?HC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function Jw(...n){}class ja{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zc(!1),this.onMicrotaskEmpty=new zc(!1),this.onStable=new zc(!1),this.onError=new zc(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function zC(){let n=Wt.requestAnimationFrame,i=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function WC(n){const i=()=>{!function GC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Jb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,h,y,I)=>{try{return ex(n),s.invokeTask(c,h,y,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),tx(n)}},onInvoke:(s,l,c,h,y,I,P)=>{try{return ex(n),s.invoke(c,h,y,I,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),tx(n)}},onHasTask:(s,l,c,h)=>{s.hasTask(c,h),l===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,e0(n),Jb(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ja.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(ja.isInAngularZone())throw new ue(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,i,$C,Jw,Jw);try{return h.runTask(y,s,l)}finally{h.cancelTask(y)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const $C={};function Jb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ex(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tx(n){n._nesting--,Jb(n)}class KC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zc,this.onMicrotaskEmpty=new zc,this.onStable=new zc,this.onError=new zc}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}const nx=new fo("",{providedIn:"root",factory:ix});function ix(){const n=Ht(ja);let i=!0;const s=new ne.y(c=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(i),c.complete()})}),l=new ne.y(c=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{ja.assertNotInAngularZone(),Xb(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,c.next(!0))})})});const y=n.onUnstable.subscribe(()=>{ja.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),y.unsubscribe()}});return(0,xe.T)(s,l.pipe((0,Y.B)()))}const rx=new fo(""),ox=new fo("");let t0,ZC=(()=>{class n{constructor(s,l,c){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function YC(n){t0=n}(c),c.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ja.assertNotInAngularZone(),Xb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xb(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Se(ja),Se(sx),Se(ox))},n.\u0275prov=Ut({token:n,factory:n.\u0275fac}),n})(),sx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return t0?.findTestabilityInTree(this,s,l)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ou=null;const ax=new fo("AllowMultipleToken"),n0=new fo("PlatformDestroyListeners"),r0=new fo("appBootstrapListener");class XC{constructor(i,s){this.name=i,this.token=s}}function dx(n,i,s=[]){const l=`Platform: ${i}`,c=new fo(l);return(h=[])=>{let y=o0();if(!y||y.injector.get(ax,!1)){const I=[...s,...h,{provide:c,useValue:!0}];n?n(I):function JC(n){if(Ou&&!Ou.get(ax,!1))throw new ue(400,!1);(function lx(){!function la(n){ys=n}(()=>{throw new ue(600,!1)})})(),Ou=n;const i=n.get(hx);(function cx(n){n.get(Qd,null)?.forEach(s=>s())})(n)}(function ux(n=[],i){return Oc.create({name:i,providers:[{provide:Jl,useValue:"platform"},{provide:n0,useValue:new Set([()=>Ou=null])},...n]})}(I,l))}return function tD(n){const i=o0();if(!i)throw new ue(401,!1);return i}()}}function o0(){return Ou?.get(hx)??null}let hx=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const c=function nD(n="zone.js",i){return"noop"===n?new KC:"zone.js"===n?new ja(i):n}(l?.ngZone,function fx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return c.run(()=>{const h=function DE(n,i,s){return new Fb(n,i,s)}(s.moduleType,this.injector,function vx(n){return[{provide:ja,useFactory:n},{provide:od,multi:!0,useFactory:()=>{const i=Ht(rD,{optional:!0});return()=>i.initialize()}},{provide:_x,useFactory:iD},{provide:nx,useFactory:ix}]}(()=>c)),y=h.injector.get(iu,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:P=>{y.handleError(P)}});h.onDestroy(()=>{iy(this._modules,h),I.unsubscribe()})}),function mx(n,i,s){try{const l=s();return Th(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(y,c,()=>{const I=h.injector.get(Qb);return I.runInitializers(),I.donePromise.then(()=>(function p(n){At(n,"Expected localeId to be defined"),"string"==typeof n&&(u=n.toLowerCase().replace(/_/g,"-"))}(h.injector.get(ny,Au)||Au),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,l=[]){const c=px({},l);return function qC(n,i,s){const l=new Nb(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const l=s.injector.get(im);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ue(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(n0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Se(Oc))},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function px(n,i){return Array.isArray(i)?i.reduce(px,n):{...n,...i}}let im=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ht(_x),this.zoneIsStable=Ht(nx),this.componentTypes=[],this.components=[],this.isStable=Ht(qw).hasPendingTasks.pipe((0,_e.w)(s=>s?(0,ae.of)(!1):this.zoneIsStable),(0,Ee.x)(),(0,Y.B)()),this._injector=Ht(Ac)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const c=s instanceof Qm;if(!this._injector.get(Qb).done)throw!c&&Wr(s),new ue(405,!1);let y;y=c?s:this._injector.get(ud).resolveComponentFactory(s),this.componentTypes.push(y.componentType);const I=function QC(n){return n.isBoundToModule}(y)?void 0:this._injector.get(em),q=y.create(Oc.NULL,[],l||y.selector,I),pe=q.location.nativeElement,Ue=q.injector.get(rx,null);return Ue?.registerApplication(pe),q.onDestroy(()=>{this.detachView(q.hostView),iy(this.components,q),Ue?.unregisterApplication(pe)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;iy(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(r0,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>iy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ue(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iy(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const _x=new fo("",{providedIn:"root",factory:()=>Ht(iu).handleError.bind(void 0)});function iD(){const n=Ht(ja),i=Ht(iu);return s=>n.runOutsideAngular(()=>i.handleError(s))}let rD=(()=>{class n{constructor(){this.zone=Ht(ja),this.applicationRef=Ht(im)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sD(){return!1}let aD=(()=>{class n{}return n.__NG_ELEMENT_ID__=lD,n})();function lD(n){return function cD(n,i,s){if(Mr(n)&&!s){const l=B(n.index,i);return new uu(l,l)}return 47&n.type?new uu(i[Qi],i):null}(Qr(),En(),16==(16&n))}class xx{constructor(){}supports(i){return yh(i)}create(i){return new pD(i)}}const mD=(n,i)=>i;class pD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||mD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,h=null;for(;s||l;){const y=!l||s&&s.currentIndex<Cx(l,c,h)?s:l,I=Cx(y,c,h),P=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{h||(h=[]);const q=I-c,pe=P-c;if(q!=pe){for(let It=0;It<q;It++){const zt=It<h.length?h[It]:h[It]=0,Cn=zt+It;pe<=Cn&&Cn<q&&(h[It]=zt+1)}h[y.previousIndex]=pe-q}}I!==P&&i(y,I,P)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!yh(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,y,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)h=i[I],y=this._trackByFn(I,h),null!==s&&Object.is(s.trackById,y)?(l&&(s=this._verifyReinsertion(s,h,y,I)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,I),l=!0),s=s._next}else c=0,function Zp(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,I=>{y=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,y)?(l&&(s=this._verifyReinsertion(s,I,y,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,y,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new gD(s,l),h,c),i}_verifyReinsertion(i,s,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class gD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _D{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class Ex{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new _D,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cx(n,i,s){const l=n.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class Dx{constructor(){}supports(i){return i instanceof Map||Yp(i)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Yp(i)))throw new ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const l=new yD(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class yD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ix(){return new d0([new xx])}let d0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Ix()),deps:[[n,new $s,new Ya]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new ue(901,!1)}}return n.\u0275prov=Ut({token:n,providedIn:"root",factory:Ix}),n})();function Sx(){return new u0([new Dx])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Sx()),deps:[[n,new $s,new Ya]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new ue(901,!1)}}return n.\u0275prov=Ut({token:n,providedIn:"root",factory:Sx}),n})();const xD=dx(null,"core",[]);let ED=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Se(im))},n.\u0275mod=Yo({type:n}),n.\u0275inj=cn({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PD(n){const i=fi(n);if(!i)return null;const s=new _d(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone}}}},9401:(gn,nt,E)=>{E.d(nt,{Fj:()=>Ne,JJ:()=>gi,JL:()=>Wn,JU:()=>_e,NI:()=>no,UX:()=>Os,_Y:()=>Sr,cw:()=>oe,kI:()=>wt,sg:()=>Ur,u:()=>Mo,x0:()=>Ki});var d=E(2223),L=E(4755),f=E(8996),ne=E(4128),xe=E(4004);let ae=(()=>{class W{constructor(v,C){this._renderer=v,this._elementRef=C,this.onChange=J=>{},this.onTouched=()=>{}}setProperty(v,C){this._renderer.setProperty(this._elementRef.nativeElement,v,C)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(d.Qsj),d.Y36(d.SBq))},W.\u0275dir=d.lG2({type:W}),W})(),Y=(()=>{class W extends ae{}return W.\u0275fac=function(){let j;return function(C){return(j||(j=d.n5z(W)))(C||W)}}(),W.\u0275dir=d.lG2({type:W,features:[d.qOj]}),W})();const _e=new d.OlP("NgValueAccessor"),de={provide:_e,useExisting:(0,d.Gpc)(()=>Ne),multi:!0},Xe=new d.OlP("CompositionEventMode");let Ne=(()=>{class W extends ae{constructor(v,C,J){super(v,C),this._compositionMode=J,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function me(){const W=(0,L.q)()?(0,L.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(v){this.setProperty("value",v??"")}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Xe,8))},W.\u0275dir=d.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,C){1&v&&d.NdJ("input",function(De){return C._handleInput(De.target.value)})("blur",function(){return C.onTouched()})("compositionstart",function(){return C._compositionStart()})("compositionend",function(De){return C._compositionEnd(De.target.value)})},features:[d._Bn([de]),d.qOj]}),W})();function dt(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function it(W){return null!=W&&"number"==typeof W.length}const Le=new d.OlP("NgValidators"),He=new d.OlP("NgAsyncValidators"),Re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wt{static min(j){return function ue(W){return j=>{if(dt(j.value)||dt(W))return null;const v=parseFloat(j.value);return!isNaN(v)&&v<W?{min:{min:W,actual:j.value}}:null}}(j)}static max(j){return function Ie(W){return j=>{if(dt(j.value)||dt(W))return null;const v=parseFloat(j.value);return!isNaN(v)&&v>W?{max:{max:W,actual:j.value}}:null}}(j)}static required(j){return function be(W){return dt(W.value)?{required:!0}:null}(j)}static requiredTrue(j){return function Me(W){return!0===W.value?null:{required:!0}}(j)}static email(j){return function $e(W){return dt(W.value)||Re.test(W.value)?null:{email:!0}}(j)}static minLength(j){return function Z(W){return j=>dt(j.value)||!it(j.value)?null:j.value.length<W?{minlength:{requiredLength:W,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function We(W){return j=>it(j.value)&&j.value.length>W?{maxlength:{requiredLength:W,actualLength:j.value.length}}:null}(j)}static pattern(j){return function Fe(W){if(!W)return ze;let j,v;return"string"==typeof W?(v="","^"!==W.charAt(0)&&(v+="^"),v+=W,"$"!==W.charAt(W.length-1)&&(v+="$"),j=new RegExp(v)):(v=W.toString(),j=W),C=>{if(dt(C.value))return null;const J=C.value;return j.test(J)?null:{pattern:{requiredPattern:v,actualValue:J}}}}(j)}static nullValidator(j){return null}static compose(j){return Ft(j)}static composeAsync(j){return Yt(j)}}function ze(W){return null}function yt(W){return null!=W}function vn(W){return(0,d.QGY)(W)?(0,f.D)(W):W}function On(W){let j={};return W.forEach(v=>{j=null!=v?{...j,...v}:j}),0===Object.keys(j).length?null:j}function ut(W,j){return j.map(v=>v(W))}function Rt(W){return W.map(j=>function ht(W){return!W.validate}(j)?j:v=>j.validate(v))}function Ft(W){if(!W)return null;const j=W.filter(yt);return 0==j.length?null:function(v){return On(ut(v,j))}}function qt(W){return null!=W?Ft(Rt(W)):null}function Yt(W){if(!W)return null;const j=W.filter(yt);return 0==j.length?null:function(v){const C=ut(v,j).map(vn);return(0,ne.D)(C).pipe((0,xe.U)(On))}}function dn(W){return null!=W?Yt(Rt(W)):null}function pn(W,j){return null===W?[j]:Array.isArray(W)?[...W,j]:[W,j]}function rn(W){return W._rawValidators}function At(W){return W._rawAsyncValidators}function Ge(W){return W?Array.isArray(W)?W:[W]:[]}function Qe(W,j){return Array.isArray(W)?W.includes(j):W===j}function kt(W,j){const v=Ge(j);return Ge(W).forEach(J=>{Qe(v,J)||v.push(J)}),v}function bt(W,j){return Ge(j).filter(v=>!Qe(W,v))}class Ut{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=qt(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,v){return!!this.control&&this.control.hasError(j,v)}getError(j,v){return this.control?this.control.getError(j,v):null}}class St extends Ut{get formDirective(){return null}get path(){return null}}class cn extends Ut{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xt{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gi=(()=>{class W extends Xt{constructor(v){super(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(cn,2))},W.\u0275dir=d.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,C){2&v&&d.ekj("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)},features:[d.qOj]}),W})(),Wn=(()=>{class W extends Xt{constructor(v){super(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(St,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(v,C){2&v&&d.ekj("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)("ng-submitted",C.isSubmitted)},features:[d.qOj]}),W})();const _i="VALID",ni="INVALID",wi="PENDING",Kt="DISABLED";function Je(W){return(Se(W)?W.validators:W)||null}function Be(W,j){return(Se(j)?j.asyncValidators:W)||null}function Se(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class Te{constructor(j,v){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(v)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===_i}get invalid(){return this.status===ni}get pending(){return this.status==wi}get disabled(){return this.status===Kt}get enabled(){return this.status!==Kt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(kt(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(kt(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(bt(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(bt(j,this._rawAsyncValidators))}hasValidator(j){return Qe(this._rawValidators,j)}hasAsyncValidator(j){return Qe(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=wi,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const v=this._parentMarkedDirty(j.onlySelf);this.status=Kt,this.errors=null,this._forEachChild(C=>{C.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:v}),this._onDisabledChange.forEach(C=>C(!0))}enable(j={}){const v=this._parentMarkedDirty(j.onlySelf);this.status=_i,this._forEachChild(C=>{C.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:v}),this._onDisabledChange.forEach(C=>C(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_i||this.status===wi)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kt:_i}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=wi,this._hasOwnPendingAsyncValidator=!0;const v=vn(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(C=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(C,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,v={}){this.errors=j,this._updateControlsErrors(!1!==v.emitEvent)}get(j){let v=j;return null==v||(Array.isArray(v)||(v=v.split(".")),0===v.length)?null:v.reduce((C,J)=>C&&C._find(J),this)}getError(j,v){const C=v?this.get(v):this;return C&&C.errors?C.errors[j]:null}hasError(j,v){return!!this.getError(j,v)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Kt:this.errors?ni:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wi)?wi:this._anyControlsHaveStatus(ni)?ni:_i}_anyControlsHaveStatus(j){return this._anyControls(v=>v.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Se(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function ot(W){return Array.isArray(W)?qt(W):W||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function Oe(W){return Array.isArray(W)?dn(W):W||null}(this._rawAsyncValidators)}}class oe extends Te{constructor(j,v,C){super(Je(v),Be(C,v)),this.controls=j,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,v){return this.controls[j]?this.controls[j]:(this.controls[j]=v,v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange),v)}addControl(j,v,C={}){this.registerControl(j,v),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}removeControl(j,v={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}setControl(j,v,C={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],v&&this.registerControl(j,v),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,v={}){(function Ht(W,j,v){W._forEachChild((C,J)=>{if(void 0===v[J])throw new d.vHH(1002,"")})})(this,0,j),Object.keys(j).forEach(C=>{(function Et(W,j,v){const C=W.controls;if(!(j?Object.keys(C):C).length)throw new d.vHH(1e3,"");if(!C[v])throw new d.vHH(1001,"")})(this,!0,C),this.controls[C].setValue(j[C],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(j,v={}){null!=j&&(Object.keys(j).forEach(C=>{const J=this.controls[C];J&&J.patchValue(j[C],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(j={},v={}){this._forEachChild((C,J)=>{C.reset(j[J],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this._reduceChildren({},(j,v,C)=>(j[C]=v.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(v,C)=>!!C._syncPendingControls()||v);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(v=>{const C=this.controls[v];C&&j(C,v)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[v,C]of Object.entries(this.controls))if(this.contains(v)&&j(C))return!0;return!1}_reduceValue(){return this._reduceChildren({},(v,C,J)=>((C.enabled||this.disabled)&&(v[J]=C.value),v))}_reduceChildren(j,v){let C=j;return this._forEachChild((J,De)=>{C=v(C,J,De)}),C}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}const re=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ye}),ye="always";function Ct(W,j){return[...j.path,W]}function xt(W,j,v=ye){An(W,j),j.valueAccessor.writeValue(W.value),(W.disabled||"always"===v)&&j.valueAccessor.setDisabledState?.(W.disabled),function Si(W,j){j.valueAccessor.registerOnChange(v=>{W._pendingValue=v,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Tt(W,j)})}(W,j),function wn(W,j){const v=(C,J)=>{j.valueAccessor.writeValue(C),J&&j.viewToModelUpdate(C)};W.registerOnChange(v),j._registerOnDestroy(()=>{W._unregisterOnChange(v)})}(W,j),function Bt(W,j){j.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Tt(W,j),"submit"!==W.updateOn&&W.markAsTouched()})}(W,j),function ti(W,j){if(j.valueAccessor.setDisabledState){const v=C=>{j.valueAccessor.setDisabledState(C)};W.registerOnDisabledChange(v),j._registerOnDestroy(()=>{W._unregisterOnDisabledChange(v)})}}(W,j)}function Ot(W,j,v=!0){const C=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(C),j.valueAccessor.registerOnTouched(C)),Ai(W,j),W&&(j._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function en(W,j){W.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(j)})}function An(W,j){const v=rn(W);null!==j.validator?W.setValidators(pn(v,j.validator)):"function"==typeof v&&W.setValidators([v]);const C=At(W);null!==j.asyncValidator?W.setAsyncValidators(pn(C,j.asyncValidator)):"function"==typeof C&&W.setAsyncValidators([C]);const J=()=>W.updateValueAndValidity();en(j._rawValidators,J),en(j._rawAsyncValidators,J)}function Ai(W,j){let v=!1;if(null!==W){if(null!==j.validator){const J=rn(W);if(Array.isArray(J)&&J.length>0){const De=J.filter(ct=>ct!==j.validator);De.length!==J.length&&(v=!0,W.setValidators(De))}}if(null!==j.asyncValidator){const J=At(W);if(Array.isArray(J)&&J.length>0){const De=J.filter(ct=>ct!==j.asyncValidator);De.length!==J.length&&(v=!0,W.setAsyncValidators(De))}}}const C=()=>{};return en(j._rawValidators,C),en(j._rawAsyncValidators,C),v}function Tt(W,j){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function Zo(W,j){const v=W.indexOf(j);v>-1&&W.splice(v,1)}function go(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const no=class extends Te{constructor(j=null,v,C){super(Je(v),Be(C,v)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Se(v)&&(v.nonNullable||v.initialValueIsDefault)&&(this.defaultValue=go(j)?j.value:j)}setValue(j,v={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(C=>C(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(j,v={}){this.setValue(j,v)}reset(j=this.defaultValue,v={}){this._applyFormState(j),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){Zo(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){Zo(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){go(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}};let io=(()=>{class W extends St{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ct(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return W.\u0275fac=function(){let j;return function(C){return(j||(j=d.n5z(W)))(C||W)}}(),W.\u0275dir=d.lG2({type:W,features:[d.qOj]}),W})(),Sr=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275dir=d.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),pt=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})();const on=new d.OlP("NgModelWithFormControlWarning"),bi={provide:St,useExisting:(0,d.Gpc)(()=>Ur)};let Ur=(()=>{class W extends St{constructor(v,C,J){super(),this.callSetDisabledState=J,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(v),this._setAsyncValidators(C)}ngOnChanges(v){this._checkFormPresent(),v.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ai(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(v){const C=this.form.get(v.path);return xt(C,v,this.callSetDisabledState),C.updateValueAndValidity({emitEvent:!1}),this.directives.push(v),C}getControl(v){return this.form.get(v.path)}removeControl(v){Ot(v.control||null,v,!1),function to(W,j){const v=W.indexOf(j);v>-1&&W.splice(v,1)}(this.directives,v)}addFormGroup(v){this._setUpFormContainer(v)}removeFormGroup(v){this._cleanUpFormContainer(v)}getFormGroup(v){return this.form.get(v.path)}addFormArray(v){this._setUpFormContainer(v)}removeFormArray(v){this._cleanUpFormContainer(v)}getFormArray(v){return this.form.get(v.path)}updateModel(v,C){this.form.get(v.path).setValue(C)}onSubmit(v){return this.submitted=!0,function _s(W,j){W._syncPendingControls(),j.forEach(v=>{const C=v.control;"submit"===C.updateOn&&C._pendingChange&&(v.viewToModelUpdate(C._pendingValue),C._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(v),"dialog"===v?.target?.method}onReset(){this.resetForm()}resetForm(v=void 0){this.form.reset(v),this.submitted=!1}_updateDomValue(){this.directives.forEach(v=>{const C=v.control,J=this.form.get(v.path);C!==J&&(Ot(C||null,v),(W=>W instanceof no)(J)&&(xt(J,v,this.callSetDisabledState),v.control=J))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(v){const C=this.form.get(v.path);(function Qn(W,j){An(W,j)})(C,v),C.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(v){if(this.form){const C=this.form.get(v.path);C&&function Pn(W,j){return Ai(W,j)}(C,v)&&C.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){An(this.form,this),this._oldForm&&Ai(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Le,10),d.Y36(He,10),d.Y36(re,8))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(v,C){1&v&&d.NdJ("submit",function(De){return C.onSubmit(De)})("reset",function(){return C.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([bi]),d.qOj,d.TTD]}),W})();const mr={provide:St,useExisting:(0,d.Gpc)(()=>Ki)};let Ki=(()=>{class W extends io{constructor(v,C,J){super(),this.name=null,this._parent=v,this._setValidators(C),this._setAsyncValidators(J)}_checkParentType(){Kr(this._parent)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(St,13),d.Y36(Le,10),d.Y36(He,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d._Bn([mr]),d.qOj]}),W})();const ki={provide:St,useExisting:(0,d.Gpc)(()=>Tr)};let Tr=(()=>{class W extends St{constructor(v,C,J){super(),this.name=null,this._parent=v,this._setValidators(C),this._setAsyncValidators(J)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ct(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Kr(this._parent)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(St,13),d.Y36(Le,10),d.Y36(He,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d._Bn([ki]),d.qOj]}),W})();function Kr(W){return!(W instanceof Ki||W instanceof Ur||W instanceof Tr)}const ci={provide:cn,useExisting:(0,d.Gpc)(()=>Mo)};let Mo=(()=>{class W extends cn{set isDisabled(v){}constructor(v,C,J,De,ct){super(),this._ngModelWarningConfig=ct,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=v,this._setValidators(C),this._setAsyncValidators(J),this.valueAccessor=function er(W,j){if(!j)return null;let v,C,J;return Array.isArray(j),j.forEach(De=>{De.constructor===Ne?v=De:function bo(W){return Object.getPrototypeOf(W.constructor)===Y}(De)?C=De:J=De}),J||C||v||null}(0,De)}ngOnChanges(v){this._added||this._setUpControl(),function mo(W,j){if(!W.hasOwnProperty("model"))return!1;const v=W.model;return!!v.isFirstChange()||!Object.is(j,v.currentValue)}(v,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}get path(){return Ct(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(v){return new(v||W)(d.Y36(St,13),d.Y36(Le,10),d.Y36(He,10),d.Y36(_e,10),d.Y36(on,8))},W.\u0275dir=d.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([ci]),d.qOj,d.TTD]}),W})(),K=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({imports:[pt]}),W})(),Os=(()=>{class W{static withConfig(v){return{ngModule:W,providers:[{provide:on,useValue:v.warnOnNgModelWithFormControl??"always"},{provide:re,useValue:v.callSetDisabledState??ye}]}}}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({imports:[K]}),W})()},8410:(gn,nt,E)=>{E.d(nt,{_r:()=>He,ch:()=>be,oL:()=>ue});var d=E(3223),L=E(8023),f=E(2223),ne=E(1217),xe=E(706),ae=E(5537),Y=E(9002),_e=E(4755),Ee=E(1591),se=E(2840),de=E(7579),me=E(6451),Xe=E(9300),Ne=E(5698);function dt(Me,$e){}const it={bottomSheetState:(0,Ee.X$)("state",[(0,Ee.SB)("void, hidden",(0,Ee.oB)({transform:"translateY(100%)"})),(0,Ee.SB)("visible",(0,Ee.oB)({transform:"translateY(0%)"})),(0,Ee.eR)("visible => void, visible => hidden",(0,Ee.ru)([(0,Ee.jt)(`${ne.mZ.COMPLEX} ${ne.yN.ACCELERATION_CURVE}`),(0,Ee.IO)("@*",(0,Ee.pV)(),{optional:!0})])),(0,Ee.eR)("void => visible",(0,Ee.ru)([(0,Ee.jt)(`${ne.mZ.EXITING} ${ne.yN.DECELERATION_CURVE}`),(0,Ee.IO)("@*",(0,Ee.pV)(),{optional:!0})]))])};let Le=(()=>{class Me extends d.LL{constructor(Z,We,Fe,ze,yt,vn,On,ut,ht,Rt){super(Z,We,Fe,ze,yt,vn,On,Rt),this._changeDetectorRef=ht,this._animationState="void",this._animationStateChanged=new f.vpe,this._breakpointSubscription=ut.observe([ae.u3.Medium,ae.u3.Large,ae.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",ut.isMatched(ae.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",ut.isMatched(ae.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",ut.isMatched(ae.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Z){"visible"===Z.toState&&this._trapFocus(),this._animationStateChanged.emit(Z)}_onAnimationStart(Z){this._animationStateChanged.emit(Z)}_captureInitialFocus(){}_toggleClass(Z,We){this._elementRef.nativeElement.classList.toggle(Z,We)}}return Me.\u0275fac=function(Z){return new(Z||Me)(f.Y36(f.SBq),f.Y36(xe.qV),f.Y36(_e.K0,8),f.Y36(d.ib),f.Y36(xe.ic),f.Y36(f.R0b),f.Y36(Y.Iu),f.Y36(ae.Yg),f.Y36(f.sBO),f.Y36(xe.tE))},Me.\u0275cmp=f.Xpm({type:Me,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(Z,We){1&Z&&f.WFA("@state.start",function(ze){return We._onAnimationStart(ze)})("@state.done",function(ze){return We._onAnimationDone(ze)}),2&Z&&(f.uIk("role",We._config.role)("aria-modal",We._config.ariaModal)("aria-label",We._config.ariaLabel),f.d8E("@state",We._animationState))},features:[f.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Z,We){1&Z&&f.YNc(0,dt,0,0,"ng-template",0)},dependencies:[L.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[it.bottomSheetState]}}),Me})(),He=(()=>{class Me{}return Me.\u0275fac=function(Z){return new(Z||Me)},Me.\u0275mod=f.oAB({type:Me}),Me.\u0275inj=f.cJS({imports:[d.Su,ne.BQ,L.eL,ne.BQ]}),Me})();const Re=new f.OlP("MatBottomSheetData");class wt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class ue{get instance(){return this._ref.componentInstance}constructor($e,Z,We){this._ref=$e,this._afterOpened=new de.x,this.containerInstance=We,this.disableClose=Z.disableClose,We._animationStateChanged.pipe((0,Xe.h)(Fe=>"done"===Fe.phaseName&&"visible"===Fe.toState),(0,Ne.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),We._animationStateChanged.pipe((0,Xe.h)(Fe=>"done"===Fe.phaseName&&"hidden"===Fe.toState),(0,Ne.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),$e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,me.T)(this.backdropClick(),this.keydownEvents().pipe((0,Xe.h)(Fe=>Fe.keyCode===se.hY))).subscribe(Fe=>{!this.disableClose&&("keydown"!==Fe.type||!(0,se.Vb)(Fe))&&(Fe.preventDefault(),this.dismiss())})}dismiss($e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,Xe.h)(Z=>"start"===Z.phaseName),(0,Ne.q)(1)).subscribe(Z=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},Z.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=$e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Ie=new f.OlP("mat-bottom-sheet-default-options");let be=(()=>{class Me{get _openedBottomSheetRef(){const Z=this._parentBottomSheet;return Z?Z._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Z){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Z:this._bottomSheetRefAtThisLevel=Z}constructor(Z,We,Fe,ze){this._overlay=Z,this._parentBottomSheet=Fe,this._defaultOptions=ze,this._bottomSheetRefAtThisLevel=null,this._dialog=We.get(d.Vq)}open(Z,We){const Fe={...this._defaultOptions||new wt,...We};let ze;return this._dialog.open(Z,{...Fe,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Le,scrollStrategy:Fe.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:ze}),providers:(yt,vn,On)=>(ze=new ue(yt,Fe,On),[{provide:ue,useValue:ze},{provide:Re,useValue:Fe.data}])}),ze.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===ze&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>ze.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):ze.containerInstance.enter(),this._openedBottomSheetRef=ze,ze}dismiss(Z){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Z)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return Me.\u0275fac=function(Z){return new(Z||Me)(f.LFG(Y.aV),f.LFG(f.zs3),f.LFG(Me,12),f.LFG(Ie,8))},Me.\u0275prov=f.Yz7({token:Me,factory:Me.\u0275fac,providedIn:He}),Me})()},1728:(gn,nt,E)=>{E.d(nt,{cs:()=>qt,lW:()=>vn,ot:()=>Ge});var d=E(2966),L=E(2223),f=E(706),ne=E(1217),xe=E(4755),ae=E(1692);const Y=["mat-button",""],_e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ee=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],me=["mat-fab",""],He={capture:!0},Re=["focus","click","mouseenter","touchstart"],wt="mat-button-ripple-uninitialized";let ue=(()=>{class Qe{constructor(){this._document=(0,L.f3M)(xe.K0,{optional:!0}),this._animationMode=(0,L.f3M)(L.QbO,{optional:!0}),this._globalRippleOptions=(0,L.f3M)(ne.Y2,{optional:!0}),this._platform=(0,L.f3M)(d.t4),this._ngZone=(0,L.f3M)(L.R0b),this._onInteraction=bt=>{if(bt.target===this._document)return;const St=bt.target.closest(`[${wt}]`);St&&(St.removeAttribute(wt),this._appendRipple(St))},this._ngZone.runOutsideAngular(()=>{for(const bt of Re)this._document?.addEventListener(bt,this._onInteraction,He)})}ngOnDestroy(){for(const bt of Re)this._document?.removeEventListener(bt,this._onInteraction,He)}_appendRipple(bt){if(!this._document)return;const Ut=this._document.createElement("span");Ut.classList.add("mat-mdc-button-ripple");const St=new Ie(bt,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);St.rippleConfig.centered=bt.hasAttribute("mat-icon-button"),new ne.IR(St,this._ngZone,Ut,this._platform).setupTriggerEvents(bt),bt.append(Ut)}_createMatRipple(bt){if(!this._document)return;bt.querySelector(".mat-mdc-button-ripple")?.remove(),bt.removeAttribute(wt);const Ut=this._document.createElement("span");Ut.classList.add("mat-mdc-button-ripple");const St=new ne.wG(new L.SBq(Ut),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return St._isInitialized=!0,St.trigger=bt,bt.append(Ut),St}}return Qe.\u0275fac=function(bt){return new(bt||Qe)},Qe.\u0275prov=L.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();class Ie{constructor(kt,bt,Ut){this._button=kt,this._globalRippleOptions=bt,this._setRippleConfig(bt,Ut)}_setRippleConfig(kt,bt){this.rippleConfig=kt||{},"NoopAnimations"===bt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const $e=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Z=(0,ne.pj)((0,ne.Id)((0,ne.Kr)(class{constructor(Qe){this._elementRef=Qe}})));let We=(()=>{class Qe extends Z{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(bt){this._ripple=bt}constructor(bt,Ut,St,cn){super(bt),this._platform=Ut,this._ngZone=St,this._animationMode=cn,this._focusMonitor=(0,L.f3M)(f.tE),this._rippleLoader=(0,L.f3M)(ue),this._isFab=!1;const Xt=bt.nativeElement.classList;for(const _n of $e)this._hasHostAttributes(_n.selector)&&_n.mdcClasses.forEach(Yn=>{Xt.add(Yn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(bt="program",Ut){bt?this._focusMonitor.focusVia(this._elementRef.nativeElement,bt,Ut):this._elementRef.nativeElement.focus(Ut)}_hasHostAttributes(...bt){return bt.some(Ut=>this._elementRef.nativeElement.hasAttribute(Ut))}}return Qe.\u0275fac=function(bt){L.$Z()},Qe.\u0275dir=L.lG2({type:Qe,features:[L.qOj,L.TTD]}),Qe})(),vn=(()=>{class Qe extends We{constructor(bt,Ut,St,cn){super(bt,Ut,St,cn)}}return Qe.\u0275fac=function(bt){return new(bt||Qe)(L.Y36(L.SBq),L.Y36(d.t4),L.Y36(L.R0b),L.Y36(L.QbO,8))},Qe.\u0275cmp=L.Xpm({type:Qe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(bt,Ut){2&bt&&(L.uIk("disabled",Ut.disabled||null),L.ekj("_mat-animation-noopable","NoopAnimations"===Ut._animationMode)("mat-unthemed",!Ut.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[L.qOj],attrs:Y,ngContentSelectors:Ee,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(bt,Ut){1&bt&&(L.F$t(_e),L._UZ(0,"span",0),L.Hsn(1),L.TgZ(2,"span",1),L.Hsn(3,1),L.qZA(),L.Hsn(4,2),L._UZ(5,"span",2)(6,"span",3)),2&bt&&L.ekj("mdc-button__ripple",!Ut._isFab)("mdc-fab__ripple",Ut._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Qe})();const ut=new L.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:ht});function ht(){return{color:"accent"}}const Rt=ht();let qt=(()=>{class Qe extends We{get extended(){return this._extended}set extended(bt){this._extended=(0,ae.Ig)(bt)}constructor(bt,Ut,St,cn,Xt){super(bt,Ut,St,cn),this._options=Xt,this._isFab=!0,this._options=this._options||Rt,this.color=this.defaultColor=this._options.color||Rt.color}}return Qe.\u0275fac=function(bt){return new(bt||Qe)(L.Y36(L.SBq),L.Y36(d.t4),L.Y36(L.R0b),L.Y36(L.QbO,8),L.Y36(ut,8))},Qe.\u0275cmp=L.Xpm({type:Qe,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(bt,Ut){2&bt&&(L.uIk("disabled",Ut.disabled||null),L.ekj("_mat-animation-noopable","NoopAnimations"===Ut._animationMode)("mat-unthemed",!Ut.color)("mat-mdc-button-base",!0)("mdc-fab--extended",Ut.extended)("mat-mdc-extended-fab",Ut.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[L.qOj],attrs:me,ngContentSelectors:Ee,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(bt,Ut){1&bt&&(L.F$t(_e),L._UZ(0,"span",0),L.Hsn(1),L.TgZ(2,"span",1),L.Hsn(3,1),L.qZA(),L.Hsn(4,2),L._UZ(5,"span",2)(6,"span",3)),2&bt&&L.ekj("mdc-button__ripple",!Ut._isFab)("mdc-fab__ripple",Ut._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),Qe})(),Ge=(()=>{class Qe{}return Qe.\u0275fac=function(bt){return new(bt||Qe)},Qe.\u0275mod=L.oAB({type:Qe}),Qe.\u0275inj=L.cJS({imports:[ne.BQ,ne.si,ne.BQ]}),Qe})()},6012:(gn,nt,E)=>{E.d(nt,{$j:()=>Ne,G2:()=>He,QW:()=>$e,a8:()=>se,dk:()=>it,dn:()=>Xe,hq:()=>dt,n5:()=>de});var d=E(2223),L=E(4755),f=E(1217);const ne=["*"],Y=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],_e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Ee=new d.OlP("MAT_CARD_CONFIG");let se=(()=>{class Z{constructor(Fe){this.appearance=Fe?.appearance||"raised"}}return Z.\u0275fac=function(Fe){return new(Fe||Z)(d.Y36(Ee,8))},Z.\u0275cmp=d.Xpm({type:Z,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(Fe,ze){2&Fe&&d.ekj("mat-mdc-card-outlined","outlined"===ze.appearance)("mdc-card--outlined","outlined"===ze.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ne,decls:1,vars:0,template:function(Fe,ze){1&Fe&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),Z})(),de=(()=>{class Z{}return Z.\u0275fac=function(Fe){return new(Fe||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),Z})(),Xe=(()=>{class Z{}return Z.\u0275fac=function(Fe){return new(Fe||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),Z})(),Ne=(()=>{class Z{}return Z.\u0275fac=function(Fe){return new(Fe||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),Z})(),dt=(()=>{class Z{constructor(){this.align="start"}}return Z.\u0275fac=function(Fe){return new(Fe||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(Fe,ze){2&Fe&&d.ekj("mat-mdc-card-actions-align-end","end"===ze.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),Z})(),it=(()=>{class Z{}return Z.\u0275fac=function(Fe){return new(Fe||Z)},Z.\u0275cmp=d.Xpm({type:Z,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:_e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(Fe,ze){1&Fe&&(d.F$t(Y),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),Z})(),He=(()=>{class Z{}return Z.\u0275fac=function(Fe){return new(Fe||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),Z})(),$e=(()=>{class Z{}return Z.\u0275fac=function(Fe){return new(Fe||Z)},Z.\u0275mod=d.oAB({type:Z}),Z.\u0275inj=d.cJS({imports:[f.BQ,L.ez,f.BQ]}),Z})()},1217:(gn,nt,E)=>{E.d(nt,{yN:()=>Le,mZ:()=>He,Y2:()=>Ve,BQ:()=>ue,Ng:()=>wi,us:()=>qe,wG:()=>ft,si:()=>st,IR:()=>Vt,pj:()=>Z,Kr:()=>We,Id:()=>$e});var d=E(2223),L=E(706),f=E(8930),xe=E(4755),ae=E(2966),Y=E(1692);let Le=(()=>{class Kt{}return Kt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Kt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Kt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Kt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Kt})(),He=(()=>{class Kt{}return Kt.COMPLEX="375ms",Kt.ENTERING="225ms",Kt.EXITING="195ms",Kt})();const wt=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function Re(){return!0}});let ue=(()=>{class Kt{constructor(ot,Be,Oe){this._sanityChecks=Be,this._document=Oe,this._hasDoneGlobalChecks=!1,ot._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ot){return!(0,ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ot])}}return Kt.\u0275fac=function(ot){return new(ot||Kt)(d.LFG(L.qm),d.LFG(wt,8),d.LFG(xe.K0))},Kt.\u0275mod=d.oAB({type:Kt}),Kt.\u0275inj=d.cJS({imports:[f.vT,f.vT]}),Kt})();function $e(Kt){return class extends Kt{get disabled(){return this._disabled}set disabled(Je){this._disabled=(0,Y.Ig)(Je)}constructor(...Je){super(...Je),this._disabled=!1}}}function Z(Kt,Je){return class extends Kt{get color(){return this._color}set color(ot){const Be=ot||this.defaultColor;Be!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Be&&this._elementRef.nativeElement.classList.add(`mat-${Be}`),this._color=Be)}constructor(...ot){super(...ot),this.defaultColor=Je,this.color=Je}}}function We(Kt){return class extends Kt{get disableRipple(){return this._disableRipple}set disableRipple(Je){this._disableRipple=(0,Y.Ig)(Je)}constructor(...Je){super(...Je),this._disableRipple=!1}}}class Ut{constructor(Je,ot,Be,Oe=!1){this._renderer=Je,this.element=ot,this.config=Be,this._animationForciblyDisabledThroughCss=Oe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const St=(0,ae.i$)({passive:!0,capture:!0});class cn{constructor(){this._events=new Map,this._delegateEventHandler=Je=>{const ot=(0,ae.sA)(Je);ot&&this._events.get(Je.type)?.forEach((Be,Oe)=>{(Oe===ot||Oe.contains(ot))&&Be.forEach(Se=>Se.handleEvent(Je))})}}addHandler(Je,ot,Be,Oe){const Se=this._events.get(ot);if(Se){const Et=Se.get(Be);Et?Et.add(Oe):Se.set(Be,new Set([Oe]))}else this._events.set(ot,new Map([[Be,new Set([Oe])]])),Je.runOutsideAngular(()=>{document.addEventListener(ot,this._delegateEventHandler,St)})}removeHandler(Je,ot,Be){const Oe=this._events.get(Je);if(!Oe)return;const Se=Oe.get(ot);Se&&(Se.delete(Be),0===Se.size&&Oe.delete(ot),0===Oe.size&&(this._events.delete(Je),document.removeEventListener(Je,this._delegateEventHandler,St)))}}const Xt={enterDuration:225,exitDuration:150},Yn=(0,ae.i$)({passive:!0,capture:!0}),gi=["mousedown","touchstart"],Wn=["mouseup","mouseleave","touchend","touchcancel"];class Vt{constructor(Je,ot,Be,Oe){this._target=Je,this._ngZone=ot,this._platform=Oe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Oe.isBrowser&&(this._containerElement=(0,Y.fI)(Be))}fadeInRipple(Je,ot,Be={}){const Oe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Se={...Xt,...Be.animation};Be.centered&&(Je=Oe.left+Oe.width/2,ot=Oe.top+Oe.height/2);const Et=Be.radius||function ce(Kt,Je,ot){const Be=Math.max(Math.abs(Kt-ot.left),Math.abs(Kt-ot.right)),Oe=Math.max(Math.abs(Je-ot.top),Math.abs(Je-ot.bottom));return Math.sqrt(Be*Be+Oe*Oe)}(Je,ot,Oe),Ht=Je-Oe.left,Te=ot-Oe.top,oe=Se.enterDuration,H=document.createElement("div");H.classList.add("mat-ripple-element"),H.style.left=Ht-Et+"px",H.style.top=Te-Et+"px",H.style.height=2*Et+"px",H.style.width=2*Et+"px",null!=Be.color&&(H.style.backgroundColor=Be.color),H.style.transitionDuration=`${oe}ms`,this._containerElement.appendChild(H);const U=window.getComputedStyle(H),le=U.transitionDuration,re="none"===U.transitionProperty||"0s"===le||"0s, 0s"===le||0===Oe.width&&0===Oe.height,ye=new Ut(this,H,Be,re);H.style.transform="scale3d(1, 1, 1)",ye.state=0,Be.persistent||(this._mostRecentTransientRipple=ye);let Ct=null;return!re&&(oe||Se.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const xt=()=>this._finishRippleTransition(ye),Ot=()=>this._destroyRipple(ye);H.addEventListener("transitionend",xt),H.addEventListener("transitioncancel",Ot),Ct={onTransitionEnd:xt,onTransitionCancel:Ot}}),this._activeRipples.set(ye,Ct),(re||!oe)&&this._finishRippleTransition(ye),ye}fadeOutRipple(Je){if(2===Je.state||3===Je.state)return;const ot=Je.element,Be={...Xt,...Je.config.animation};ot.style.transitionDuration=`${Be.exitDuration}ms`,ot.style.opacity="0",Je.state=2,(Je._animationForciblyDisabledThroughCss||!Be.exitDuration)&&this._finishRippleTransition(Je)}fadeOutAll(){this._getActiveRipples().forEach(Je=>Je.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Je=>{Je.config.persistent||Je.fadeOut()})}setupTriggerEvents(Je){const ot=(0,Y.fI)(Je);!this._platform.isBrowser||!ot||ot===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ot,gi.forEach(Be=>{Vt._eventManager.addHandler(this._ngZone,Be,ot,this)}))}handleEvent(Je){"mousedown"===Je.type?this._onMousedown(Je):"touchstart"===Je.type?this._onTouchStart(Je):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Wn.forEach(ot=>{this._triggerElement.addEventListener(ot,this,Yn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Je){0===Je.state?this._startFadeOutTransition(Je):2===Je.state&&this._destroyRipple(Je)}_startFadeOutTransition(Je){const ot=Je===this._mostRecentTransientRipple,{persistent:Be}=Je.config;Je.state=1,!Be&&(!ot||!this._isPointerDown)&&Je.fadeOut()}_destroyRipple(Je){const ot=this._activeRipples.get(Je)??null;this._activeRipples.delete(Je),this._activeRipples.size||(this._containerRect=null),Je===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Je.state=3,null!==ot&&(Je.element.removeEventListener("transitionend",ot.onTransitionEnd),Je.element.removeEventListener("transitioncancel",ot.onTransitionCancel)),Je.element.remove()}_onMousedown(Je){const ot=(0,L.X6)(Je),Be=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ot&&!Be&&(this._isPointerDown=!0,this.fadeInRipple(Je.clientX,Je.clientY,this._target.rippleConfig))}_onTouchStart(Je){if(!this._target.rippleDisabled&&!(0,L.yG)(Je)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ot=Je.changedTouches;for(let Be=0;Be<ot.length;Be++)this.fadeInRipple(ot[Be].clientX,ot[Be].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Je=>{!Je.config.persistent&&(1===Je.state||Je.config.terminateOnPointerUp&&0===Je.state)&&Je.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Je=this._triggerElement;Je&&(gi.forEach(ot=>Vt._eventManager.removeHandler(ot,Je,this)),this._pointerUpEventsRegistered&&Wn.forEach(ot=>Je.removeEventListener(ot,this,Yn)))}}Vt._eventManager=new cn;const Ve=new d.OlP("mat-ripple-global-options");let ft=(()=>{class Kt{get disabled(){return this._disabled}set disabled(ot){ot&&this.fadeOutAllNonPersistent(),this._disabled=ot,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ot){this._trigger=ot,this._setupTriggerEventsIfEnabled()}constructor(ot,Be,Oe,Se,Et){this._elementRef=ot,this._animationMode=Et,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Se||{},this._rippleRenderer=new Vt(this,Be,ot,Oe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ot,Be=0,Oe){return"number"==typeof ot?this._rippleRenderer.fadeInRipple(ot,Be,{...this.rippleConfig,...Oe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ot})}}return Kt.\u0275fac=function(ot){return new(ot||Kt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ae.t4),d.Y36(Ve,8),d.Y36(d.QbO,8))},Kt.\u0275dir=d.lG2({type:Kt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ot,Be){2&ot&&d.ekj("mat-ripple-unbounded",Be.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Kt})(),st=(()=>{class Kt{}return Kt.\u0275fac=function(ot){return new(ot||Kt)},Kt.\u0275mod=d.oAB({type:Kt}),Kt.\u0275inj=d.cJS({imports:[ue,ue]}),Kt})(),qe=(()=>{class Kt{}return Kt.\u0275fac=function(ot){return new(ot||Kt)},Kt.\u0275mod=d.oAB({type:Kt}),Kt.\u0275inj=d.cJS({imports:[ue]}),Kt})(),wi=(()=>{class Kt{}return Kt.\u0275fac=function(ot){return new(ot||Kt)},Kt.\u0275mod=d.oAB({type:Kt}),Kt.\u0275inj=d.cJS({imports:[st,xe.ez,ue,qe]}),Kt})()},6286:(gn,nt,E)=>{E.d(nt,{Is:()=>kt,WI:()=>yt,so:()=>Fe,uw:()=>Yt});var d=E(9002),L=E(4755),f=E(2223),ne=E(706),xe=E(3223),ae=E(1692),Y=E(8023),_e=E(7579),Ee=E(6451),se=E(9770),de=E(9300),me=E(5698),Xe=E(8675),Ne=E(2840),dt=E(1217);function Le(St,cn){}E(1591);class He{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Re="mdc-dialog--open",wt="mdc-dialog--opening",ue="mdc-dialog--closing";let Me=(()=>{class St extends xe.LL{constructor(Xt,_n,Yn,gi,Wn,Vt,ce,Ve){super(Xt,_n,Yn,gi,Wn,Vt,ce,Ve),this._animationStateChanged=new f.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Xt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Xt})}}return St.\u0275fac=function(Xt){return new(Xt||St)(f.Y36(f.SBq),f.Y36(ne.qV),f.Y36(L.K0,8),f.Y36(He),f.Y36(ne.ic),f.Y36(f.R0b),f.Y36(d.Iu),f.Y36(ne.tE))},St.\u0275cmp=f.Xpm({type:St,selectors:[["ng-component"]],features:[f.qOj],decls:0,vars:0,template:function(Xt,_n){},encapsulation:2}),St})();const $e="--mat-dialog-transition-duration";function Z(St){return null==St?null:"number"==typeof St?St:St.endsWith("ms")?(0,ae.su)(St.substring(0,St.length-2)):St.endsWith("s")?1e3*(0,ae.su)(St.substring(0,St.length-1)):"0"===St?0:null}let We=(()=>{class St extends Me{constructor(Xt,_n,Yn,gi,Wn,Vt,ce,Ve,ft){super(Xt,_n,Yn,gi,Wn,Vt,ce,ft),this._animationMode=Ve,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Z(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Z(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($e,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wt,Re)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Re),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Re),this._animationsEnabled?(this._hostElement.style.setProperty($e,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ue)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(wt,ue)}_waitForAnimationToComplete(Xt,_n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(_n,Xt)}_requestAnimationFrame(Xt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Xt):Xt()})}}return St.\u0275fac=function(Xt){return new(Xt||St)(f.Y36(f.SBq),f.Y36(ne.qV),f.Y36(L.K0,8),f.Y36(He),f.Y36(ne.ic),f.Y36(f.R0b),f.Y36(d.Iu),f.Y36(f.QbO,8),f.Y36(ne.tE))},St.\u0275cmp=f.Xpm({type:St,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(Xt,_n){2&Xt&&(f.Ikx("id",_n._config.id),f.uIk("aria-modal",_n._config.ariaModal)("role",_n._config.role)("aria-labelledby",_n._config.ariaLabel?null:_n._ariaLabelledBy)("aria-label",_n._config.ariaLabel)("aria-describedby",_n._config.ariaDescribedBy||null),f.ekj("_mat-animation-noopable",!_n._animationsEnabled))},features:[f.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Xt,_n){1&Xt&&(f.TgZ(0,"div",0)(1,"div",1),f.YNc(2,Le,0,0,"ng-template",2),f.qZA()())},dependencies:[Y.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),St})();class Fe{constructor(cn,Xt,_n){this._ref=cn,this._containerInstance=_n,this._afterOpened=new _e.x,this._beforeClosed=new _e.x,this._state=0,this.disableClose=Xt.disableClose,this.id=cn.id,_n._animationStateChanged.pipe((0,de.h)(Yn=>"opened"===Yn.state),(0,me.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),_n._animationStateChanged.pipe((0,de.h)(Yn=>"closed"===Yn.state),(0,me.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),cn.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ee.T)(this.backdropClick(),this.keydownEvents().pipe((0,de.h)(Yn=>Yn.keyCode===Ne.hY&&!this.disableClose&&!(0,Ne.Vb)(Yn)))).subscribe(Yn=>{this.disableClose||(Yn.preventDefault(),function ze(St,cn,Xt){St._closeInteractionType=cn,St.close(Xt)}(this,"keydown"===Yn.type?"keyboard":"mouse"))})}close(cn){this._result=cn,this._containerInstance._animationStateChanged.pipe((0,de.h)(Xt=>"closing"===Xt.state),(0,me.q)(1)).subscribe(Xt=>{this._beforeClosed.next(cn),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Xt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(cn){let Xt=this._ref.config.positionStrategy;return cn&&(cn.left||cn.right)?cn.left?Xt.left(cn.left):Xt.right(cn.right):Xt.centerHorizontally(),cn&&(cn.top||cn.bottom)?cn.top?Xt.top(cn.top):Xt.bottom(cn.bottom):Xt.centerVertically(),this._ref.updatePosition(),this}updateSize(cn="",Xt=""){return this._ref.updateSize(cn,Xt),this}addPanelClass(cn){return this._ref.addPanelClass(cn),this}removePanelClass(cn){return this._ref.removePanelClass(cn),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const yt=new f.OlP("MatMdcDialogData"),vn=new f.OlP("mat-mdc-dialog-default-options"),On=new f.OlP("mat-mdc-dialog-scroll-strategy"),ht={provide:On,deps:[d.aV],useFactory:function ut(St){return()=>St.scrollStrategies.block()}};let Ft=0,qt=(()=>{class St{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Xt=this._parentDialog;return Xt?Xt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Xt,_n,Yn,gi,Wn,Vt,ce,Ve,ft,st){this._overlay=Xt,this._defaultOptions=Yn,this._parentDialog=gi,this._dialogRefConstructor=ce,this._dialogContainerType=Ve,this._dialogDataToken=ft,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=He,this.afterAllClosed=(0,se.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Xe.O)(void 0))),this._scrollStrategy=Vt,this._dialog=_n.get(xe.Vq)}open(Xt,_n){let Yn;(_n={...this._defaultOptions||new He,..._n}).id=_n.id||`${this._idPrefix}${Ft++}`,_n.scrollStrategy=_n.scrollStrategy||this._scrollStrategy();const gi=this._dialog.open(Xt,{..._n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:_n},{provide:xe.ib,useValue:_n}]},templateContext:()=>({dialogRef:Yn}),providers:(Wn,Vt,ce)=>(Yn=new this._dialogRefConstructor(Wn,_n,ce),Yn.updatePosition(_n?.position),[{provide:this._dialogContainerType,useValue:ce},{provide:this._dialogDataToken,useValue:Vt.data},{provide:this._dialogRefConstructor,useValue:Yn}])});return Yn.componentInstance=gi.componentInstance,this.openDialogs.push(Yn),this.afterOpened.next(Yn),Yn.afterClosed().subscribe(()=>{const Wn=this.openDialogs.indexOf(Yn);Wn>-1&&(this.openDialogs.splice(Wn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Yn}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Xt){return this.openDialogs.find(_n=>_n.id===Xt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Xt){let _n=Xt.length;for(;_n--;)Xt[_n].close()}}return St.\u0275fac=function(Xt){f.$Z()},St.\u0275prov=f.Yz7({token:St,factory:St.\u0275fac}),St})(),Yt=(()=>{class St extends qt{constructor(Xt,_n,Yn,gi,Wn,Vt,ce,Ve){super(Xt,_n,gi,Vt,ce,Wn,Fe,We,yt,Ve),this._idPrefix="mat-mdc-dialog-"}}return St.\u0275fac=function(Xt){return new(Xt||St)(f.LFG(d.aV),f.LFG(f.zs3),f.LFG(L.Ye,8),f.LFG(vn,8),f.LFG(On),f.LFG(St,12),f.LFG(d.Xj),f.LFG(f.QbO,8))},St.\u0275prov=f.Yz7({token:St,factory:St.\u0275fac}),St})(),kt=(()=>{class St{}return St.\u0275fac=function(Xt){return new(Xt||St)},St.\u0275mod=f.oAB({type:St}),St.\u0275inj=f.cJS({providers:[Yt,ht],imports:[xe.Su,d.U8,Y.eL,dt.BQ,dt.BQ]}),St})()},430:(gn,nt,E)=>{E.d(nt,{Hw:()=>dn,Ps:()=>pn});var d=E(2223),L=E(1217),f=E(1692),ne=E(4755),xe=E(9646),ae=E(2843),Y=E(4128),_e=E(727),Ee=E(8505),se=E(4004),de=E(262),me=E(8746),Xe=E(3099),Ne=E(5698),dt=E(3144),it=E(6550);const Le=["*"];let He;function wt(rn){return function Re(){if(void 0===He&&(He=null,typeof window<"u")){const rn=window;void 0!==rn.trustedTypes&&(He=rn.trustedTypes.createPolicy("angular#components",{createHTML:At=>At}))}return He}()?.createHTML(rn)||rn}function ue(rn){return Error(`Unable to find icon with the name "${rn}"`)}function be(rn){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${rn}".`)}function Me(rn){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${rn}".`)}class $e{constructor(At,Ge,Qe){this.url=At,this.svgText=Ge,this.options=Qe}}let Z=(()=>{class rn{constructor(Ge,Qe,kt,bt){this._httpClient=Ge,this._sanitizer=Qe,this._errorHandler=bt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=kt}addSvgIcon(Ge,Qe,kt){return this.addSvgIconInNamespace("",Ge,Qe,kt)}addSvgIconLiteral(Ge,Qe,kt){return this.addSvgIconLiteralInNamespace("",Ge,Qe,kt)}addSvgIconInNamespace(Ge,Qe,kt,bt){return this._addSvgIconConfig(Ge,Qe,new $e(kt,null,bt))}addSvgIconResolver(Ge){return this._resolvers.push(Ge),this}addSvgIconLiteralInNamespace(Ge,Qe,kt,bt){const Ut=this._sanitizer.sanitize(d.q3G.HTML,kt);if(!Ut)throw Me(kt);const St=wt(Ut);return this._addSvgIconConfig(Ge,Qe,new $e("",St,bt))}addSvgIconSet(Ge,Qe){return this.addSvgIconSetInNamespace("",Ge,Qe)}addSvgIconSetLiteral(Ge,Qe){return this.addSvgIconSetLiteralInNamespace("",Ge,Qe)}addSvgIconSetInNamespace(Ge,Qe,kt){return this._addSvgIconSetConfig(Ge,new $e(Qe,null,kt))}addSvgIconSetLiteralInNamespace(Ge,Qe,kt){const bt=this._sanitizer.sanitize(d.q3G.HTML,Qe);if(!bt)throw Me(Qe);const Ut=wt(bt);return this._addSvgIconSetConfig(Ge,new $e("",Ut,kt))}registerFontClassAlias(Ge,Qe=Ge){return this._fontCssClassesByAlias.set(Ge,Qe),this}classNameForFontAlias(Ge){return this._fontCssClassesByAlias.get(Ge)||Ge}setDefaultFontSetClass(...Ge){return this._defaultFontSetClass=Ge,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ge){const Qe=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Ge);if(!Qe)throw be(Ge);const kt=this._cachedIconsByUrl.get(Qe);return kt?(0,xe.of)(ze(kt)):this._loadSvgIconFromConfig(new $e(Ge,null)).pipe((0,Ee.b)(bt=>this._cachedIconsByUrl.set(Qe,bt)),(0,se.U)(bt=>ze(bt)))}getNamedSvgIcon(Ge,Qe=""){const kt=yt(Qe,Ge);let bt=this._svgIconConfigs.get(kt);if(bt)return this._getSvgFromConfig(bt);if(bt=this._getIconConfigFromResolvers(Qe,Ge),bt)return this._svgIconConfigs.set(kt,bt),this._getSvgFromConfig(bt);const Ut=this._iconSetConfigs.get(Qe);return Ut?this._getSvgFromIconSetConfigs(Ge,Ut):(0,ae._)(ue(kt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ge){return Ge.svgText?(0,xe.of)(ze(this._svgElementFromConfig(Ge))):this._loadSvgIconFromConfig(Ge).pipe((0,se.U)(Qe=>ze(Qe)))}_getSvgFromIconSetConfigs(Ge,Qe){const kt=this._extractIconWithNameFromAnySet(Ge,Qe);if(kt)return(0,xe.of)(kt);const bt=Qe.filter(Ut=>!Ut.svgText).map(Ut=>this._loadSvgIconSetFromConfig(Ut).pipe((0,de.K)(St=>{const Xt=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Ut.url)} failed: ${St.message}`;return this._errorHandler.handleError(new Error(Xt)),(0,xe.of)(null)})));return(0,Y.D)(bt).pipe((0,se.U)(()=>{const Ut=this._extractIconWithNameFromAnySet(Ge,Qe);if(!Ut)throw ue(Ge);return Ut}))}_extractIconWithNameFromAnySet(Ge,Qe){for(let kt=Qe.length-1;kt>=0;kt--){const bt=Qe[kt];if(bt.svgText&&bt.svgText.toString().indexOf(Ge)>-1){const Ut=this._svgElementFromConfig(bt),St=this._extractSvgIconFromSet(Ut,Ge,bt.options);if(St)return St}}return null}_loadSvgIconFromConfig(Ge){return this._fetchIcon(Ge).pipe((0,Ee.b)(Qe=>Ge.svgText=Qe),(0,se.U)(()=>this._svgElementFromConfig(Ge)))}_loadSvgIconSetFromConfig(Ge){return Ge.svgText?(0,xe.of)(null):this._fetchIcon(Ge).pipe((0,Ee.b)(Qe=>Ge.svgText=Qe))}_extractSvgIconFromSet(Ge,Qe,kt){const bt=Ge.querySelector(`[id="${Qe}"]`);if(!bt)return null;const Ut=bt.cloneNode(!0);if(Ut.removeAttribute("id"),"svg"===Ut.nodeName.toLowerCase())return this._setSvgAttributes(Ut,kt);if("symbol"===Ut.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ut),kt);const St=this._svgElementFromString(wt("<svg></svg>"));return St.appendChild(Ut),this._setSvgAttributes(St,kt)}_svgElementFromString(Ge){const Qe=this._document.createElement("DIV");Qe.innerHTML=Ge;const kt=Qe.querySelector("svg");if(!kt)throw Error("<svg> tag not found");return kt}_toSvgElement(Ge){const Qe=this._svgElementFromString(wt("<svg></svg>")),kt=Ge.attributes;for(let bt=0;bt<kt.length;bt++){const{name:Ut,value:St}=kt[bt];"id"!==Ut&&Qe.setAttribute(Ut,St)}for(let bt=0;bt<Ge.childNodes.length;bt++)Ge.childNodes[bt].nodeType===this._document.ELEMENT_NODE&&Qe.appendChild(Ge.childNodes[bt].cloneNode(!0));return Qe}_setSvgAttributes(Ge,Qe){return Ge.setAttribute("fit",""),Ge.setAttribute("height","100%"),Ge.setAttribute("width","100%"),Ge.setAttribute("preserveAspectRatio","xMidYMid meet"),Ge.setAttribute("focusable","false"),Qe&&Qe.viewBox&&Ge.setAttribute("viewBox",Qe.viewBox),Ge}_fetchIcon(Ge){const{url:Qe,options:kt}=Ge,bt=kt?.withCredentials??!1;if(!this._httpClient)throw function Ie(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Qe)throw Error(`Cannot fetch icon from URL "${Qe}".`);const Ut=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Qe);if(!Ut)throw be(Qe);const St=this._inProgressUrlFetches.get(Ut);if(St)return St;const cn=this._httpClient.get(Ut,{responseType:"text",withCredentials:bt}).pipe((0,se.U)(Xt=>wt(Xt)),(0,me.x)(()=>this._inProgressUrlFetches.delete(Ut)),(0,Xe.B)());return this._inProgressUrlFetches.set(Ut,cn),cn}_addSvgIconConfig(Ge,Qe,kt){return this._svgIconConfigs.set(yt(Ge,Qe),kt),this}_addSvgIconSetConfig(Ge,Qe){const kt=this._iconSetConfigs.get(Ge);return kt?kt.push(Qe):this._iconSetConfigs.set(Ge,[Qe]),this}_svgElementFromConfig(Ge){if(!Ge.svgElement){const Qe=this._svgElementFromString(Ge.svgText);this._setSvgAttributes(Qe,Ge.options),Ge.svgElement=Qe}return Ge.svgElement}_getIconConfigFromResolvers(Ge,Qe){for(let kt=0;kt<this._resolvers.length;kt++){const bt=this._resolvers[kt](Qe,Ge);if(bt)return vn(bt)?new $e(bt.url,null,bt.options):new $e(bt,null)}}}return rn.\u0275fac=function(Ge){return new(Ge||rn)(d.LFG(dt.eN,8),d.LFG(it.H7),d.LFG(ne.K0,8),d.LFG(d.qLn))},rn.\u0275prov=d.Yz7({token:rn,factory:rn.\u0275fac,providedIn:"root"}),rn})();function ze(rn){return rn.cloneNode(!0)}function yt(rn,At){return rn+":"+At}function vn(rn){return!(!rn.url||!rn.options)}const On=(0,L.pj)(class{constructor(rn){this._elementRef=rn}}),ut=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),ht=new d.OlP("mat-icon-location",{providedIn:"root",factory:function Rt(){const rn=(0,d.f3M)(ne.K0),At=rn?rn.location:null;return{getPathname:()=>At?At.pathname+At.search:""}}}),Ft=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qt=Ft.map(rn=>`[${rn}]`).join(", "),Yt=/^url\(['"]?#(.*?)['"]?\)$/;let dn=(()=>{class rn extends On{get inline(){return this._inline}set inline(Ge){this._inline=(0,f.Ig)(Ge)}get svgIcon(){return this._svgIcon}set svgIcon(Ge){Ge!==this._svgIcon&&(Ge?this._updateSvgIcon(Ge):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ge)}get fontSet(){return this._fontSet}set fontSet(Ge){const Qe=this._cleanupFontValue(Ge);Qe!==this._fontSet&&(this._fontSet=Qe,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ge){const Qe=this._cleanupFontValue(Ge);Qe!==this._fontIcon&&(this._fontIcon=Qe,this._updateFontIconClasses())}constructor(Ge,Qe,kt,bt,Ut,St){super(Ge),this._iconRegistry=Qe,this._location=bt,this._errorHandler=Ut,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=_e.w0.EMPTY,St&&(St.color&&(this.color=this.defaultColor=St.color),St.fontSet&&(this.fontSet=St.fontSet)),kt||Ge.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Ge){if(!Ge)return["",""];const Qe=Ge.split(":");switch(Qe.length){case 1:return["",Qe[0]];case 2:return Qe;default:throw Error(`Invalid icon name: "${Ge}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ge=this._elementsWithExternalReferences;if(Ge&&Ge.size){const Qe=this._location.getPathname();Qe!==this._previousPath&&(this._previousPath=Qe,this._prependPathToReferences(Qe))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ge){this._clearSvgElement();const Qe=this._location.getPathname();this._previousPath=Qe,this._cacheChildrenWithExternalReferences(Ge),this._prependPathToReferences(Qe),this._elementRef.nativeElement.appendChild(Ge)}_clearSvgElement(){const Ge=this._elementRef.nativeElement;let Qe=Ge.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Qe--;){const kt=Ge.childNodes[Qe];(1!==kt.nodeType||"svg"===kt.nodeName.toLowerCase())&&kt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ge=this._elementRef.nativeElement,Qe=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(kt=>kt.length>0);this._previousFontSetClass.forEach(kt=>Ge.classList.remove(kt)),Qe.forEach(kt=>Ge.classList.add(kt)),this._previousFontSetClass=Qe,this.fontIcon!==this._previousFontIconClass&&!Qe.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ge.classList.remove(this._previousFontIconClass),this.fontIcon&&Ge.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ge){return"string"==typeof Ge?Ge.trim().split(" ")[0]:Ge}_prependPathToReferences(Ge){const Qe=this._elementsWithExternalReferences;Qe&&Qe.forEach((kt,bt)=>{kt.forEach(Ut=>{bt.setAttribute(Ut.name,`url('${Ge}#${Ut.value}')`)})})}_cacheChildrenWithExternalReferences(Ge){const Qe=Ge.querySelectorAll(qt),kt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let bt=0;bt<Qe.length;bt++)Ft.forEach(Ut=>{const St=Qe[bt],cn=St.getAttribute(Ut),Xt=cn?cn.match(Yt):null;if(Xt){let _n=kt.get(St);_n||(_n=[],kt.set(St,_n)),_n.push({name:Ut,value:Xt[1]})}})}_updateSvgIcon(Ge){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ge){const[Qe,kt]=this._splitIconName(Ge);Qe&&(this._svgNamespace=Qe),kt&&(this._svgName=kt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(kt,Qe).pipe((0,Ne.q)(1)).subscribe(bt=>this._setSvgElement(bt),bt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Qe}:${kt}! ${bt.message}`))})}}}return rn.\u0275fac=function(Ge){return new(Ge||rn)(d.Y36(d.SBq),d.Y36(Z),d.$8M("aria-hidden"),d.Y36(ht),d.Y36(d.qLn),d.Y36(ut,8))},rn.\u0275cmp=d.Xpm({type:rn,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ge,Qe){2&Ge&&(d.uIk("data-mat-icon-type",Qe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Qe._svgName||Qe.fontIcon)("data-mat-icon-namespace",Qe._svgNamespace||Qe.fontSet)("fontIcon",Qe._usingFontIcon()?Qe.fontIcon:null),d.ekj("mat-icon-inline",Qe.inline)("mat-icon-no-color","primary"!==Qe.color&&"accent"!==Qe.color&&"warn"!==Qe.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:Le,decls:1,vars:0,template:function(Ge,Qe){1&Ge&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),rn})(),pn=(()=>{class rn{}return rn.\u0275fac=function(Ge){return new(Ge||rn)},rn.\u0275mod=d.oAB({type:rn}),rn.\u0275inj=d.cJS({imports:[L.BQ,L.BQ]}),rn})()},2659:(gn,nt,E)=>{E.d(nt,{VK:()=>Ve,KA:()=>cn,OP:()=>Ge,Tx:()=>Wt,p6:()=>ln});var d=E(2223),L=E(706),f=E(1692),ne=E(2840),xe=E(7579),ae=E(6451),Y=E(727),_e=E(9646),Ee=E(3101),se=E(8675),de=E(3900),me=E(5698),Xe=E(2722),Ne=E(9300),dt=E(4986),it=E(7272),Le=E(4482),He=E(5403),Re=E(5032),ue=E(9718),Ie=E(5577),be=E(8421);function Me(Gt,Rn){return Rn?ke=>(0,it.z)(Rn.pipe((0,me.q)(1),function wt(){return(0,Le.e)((Gt,Rn)=>{Gt.subscribe((0,He.x)(Rn,Re.Z))})}()),ke.pipe(Me(Gt))):(0,Ie.z)((ke,_t)=>(0,be.Xf)(Gt(ke,_t)).pipe((0,me.q)(1),(0,ue.h)(ke)))}var $e=E(5963);function Z(Gt,Rn=dt.z){const ke=(0,$e.H)(Gt,Rn);return Me(()=>ke)}var We=E(1217),Fe=E(4755),ze=E(8023),yt=E(1591),vn=E(8930),On=E(9002),ut=E(2966),ht=E(2236);const Rt=["mat-menu-item",""];function Ft(Gt,Rn){1&Gt&&(d.O4$(),d.TgZ(0,"svg",3),d._UZ(1,"polygon",4),d.qZA())}const qt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Yt=["mat-icon, [matMenuItemIcon]","*"];function dn(Gt,Rn){if(1&Gt){const ke=d.EpF();d.TgZ(0,"div",0),d.NdJ("keydown",function($t){d.CHM(ke);const Sn=d.oxw();return d.KtG(Sn._handleKeydown($t))})("click",function(){d.CHM(ke);const $t=d.oxw();return d.KtG($t.closed.emit("click"))})("@transformMenu.start",function($t){d.CHM(ke);const Sn=d.oxw();return d.KtG(Sn._onAnimationStart($t))})("@transformMenu.done",function($t){d.CHM(ke);const Sn=d.oxw();return d.KtG(Sn._onAnimationDone($t))}),d.TgZ(1,"div",1),d.Hsn(2),d.qZA()()}if(2&Gt){const ke=d.oxw();d.Q6J("id",ke.panelId)("ngClass",ke._classList)("@transformMenu",ke._panelAnimationState),d.uIk("aria-label",ke.ariaLabel||null)("aria-labelledby",ke.ariaLabelledby||null)("aria-describedby",ke.ariaDescribedby||null)}}const pn=["*"],rn=new d.OlP("MAT_MENU_PANEL"),At=(0,We.Kr)((0,We.Id)(class{}));let Ge=(()=>{class Gt extends At{constructor(ke,_t,$t,Sn,_i){super(),this._elementRef=ke,this._document=_t,this._focusMonitor=$t,this._parentMenu=Sn,this._changeDetectorRef=_i,this.role="menuitem",this._hovered=new xe.x,this._focused=new xe.x,this._highlighted=!1,this._triggersSubmenu=!1,Sn?.addItem?.(this)}focus(ke,_t){this._focusMonitor&&ke?this._focusMonitor.focusVia(this._getHostElement(),ke,_t):this._getHostElement().focus(_t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ke){this.disabled&&(ke.preventDefault(),ke.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ke=this._elementRef.nativeElement.cloneNode(!0),_t=ke.querySelectorAll("mat-icon, .material-icons");for(let $t=0;$t<_t.length;$t++)_t[$t].remove();return ke.textContent?.trim()||""}_setHighlighted(ke){this._highlighted=ke,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ke){this._triggersSubmenu=ke,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return Gt.\u0275fac=function(ke){return new(ke||Gt)(d.Y36(d.SBq),d.Y36(Fe.K0),d.Y36(L.tE),d.Y36(rn,8),d.Y36(d.sBO))},Gt.\u0275cmp=d.Xpm({type:Gt,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(ke,_t){1&ke&&d.NdJ("click",function(Sn){return _t._checkDisabled(Sn)})("mouseenter",function(){return _t._handleMouseEnter()}),2&ke&&(d.uIk("role",_t.role)("tabindex",_t._getTabIndex())("aria-disabled",_t.disabled)("disabled",_t.disabled||null),d.ekj("mat-mdc-menu-item-highlighted",_t._highlighted)("mat-mdc-menu-item-submenu-trigger",_t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[d.qOj],attrs:Rt,ngContentSelectors:Yt,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ke,_t){1&ke&&(d.F$t(qt),d.Hsn(0),d.TgZ(1,"span",0),d.Hsn(2,1),d.qZA(),d._UZ(3,"div",1),d.YNc(4,Ft,2,0,"svg",2)),2&ke&&(d.xp6(3),d.Q6J("matRippleDisabled",_t.disableRipple||_t.disabled)("matRippleTrigger",_t._getHostElement()),d.xp6(1),d.Q6J("ngIf",_t._triggersSubmenu))},dependencies:[Fe.O5,We.wG],encapsulation:2,changeDetection:0}),Gt})();const Ut=new d.OlP("MatMenuContent");let St=(()=>{class Gt{constructor(ke,_t,$t,Sn,_i,ni,wi){this._template=ke,this._componentFactoryResolver=_t,this._appRef=$t,this._injector=Sn,this._viewContainerRef=_i,this._document=ni,this._changeDetectorRef=wi,this._attached=new xe.x}attach(ke={}){this._portal||(this._portal=new ze.UE(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new ze.u0(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const _t=this._template.elementRef.nativeElement;_t.parentNode.insertBefore(this._outlet.outletElement,_t),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,ke),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return Gt.\u0275fac=function(ke){return new(ke||Gt)(d.Y36(d.Rgc),d.Y36(d._Vd),d.Y36(d.z2F),d.Y36(d.zs3),d.Y36(d.s_b),d.Y36(Fe.K0),d.Y36(d.sBO))},Gt.\u0275dir=d.lG2({type:Gt}),Gt})(),cn=(()=>{class Gt extends St{}return Gt.\u0275fac=function(){let Rn;return function(_t){return(Rn||(Rn=d.n5z(Gt)))(_t||Gt)}}(),Gt.\u0275dir=d.lG2({type:Gt,selectors:[["ng-template","matMenuContent",""]],features:[d._Bn([{provide:Ut,useExisting:Gt}]),d.qOj]}),Gt})();const Xt={transformMenu:(0,yt.X$)("transformMenu",[(0,yt.SB)("void",(0,yt.oB)({opacity:0,transform:"scale(0.8)"})),(0,yt.eR)("void => enter",(0,yt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,yt.oB)({opacity:1,transform:"scale(1)"}))),(0,yt.eR)("* => void",(0,yt.jt)("100ms 25ms linear",(0,yt.oB)({opacity:0})))]),fadeInItems:(0,yt.X$)("fadeInItems",[(0,yt.SB)("showing",(0,yt.oB)({opacity:1})),(0,yt.eR)("void => *",[(0,yt.oB)({opacity:0}),(0,yt.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let gi=0;const Wn=new d.OlP("mat-menu-default-options",{providedIn:"root",factory:function Vt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ce=(()=>{class Gt{get xPosition(){return this._xPosition}set xPosition(ke){this._xPosition=ke,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ke){this._yPosition=ke,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(ke){this._overlapTrigger=(0,f.Ig)(ke)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ke){this._hasBackdrop=(0,f.Ig)(ke)}set panelClass(ke){const _t=this._previousPanelClass;_t&&_t.length&&_t.split(" ").forEach($t=>{this._classList[$t]=!1}),this._previousPanelClass=ke,ke&&ke.length&&(ke.split(" ").forEach($t=>{this._classList[$t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(ke){this.panelClass=ke}constructor(ke,_t,$t,Sn){this._elementRef=ke,this._ngZone=_t,this._changeDetectorRef=Sn,this._directDescendantItems=new d.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new xe.x,this.closed=new d.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+gi++,this.overlayPanelClass=$t.overlayPanelClass||"",this._xPosition=$t.xPosition,this._yPosition=$t.yPosition,this.backdropClass=$t.backdropClass,this._overlapTrigger=$t.overlapTrigger,this._hasBackdrop=$t.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new L.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,se.O)(this._directDescendantItems),(0,de.w)(ke=>(0,ae.T)(...ke.map(_t=>_t._focused)))).subscribe(ke=>this._keyManager.updateActiveItem(ke)),this._directDescendantItems.changes.subscribe(ke=>{const _t=this._keyManager;if("enter"===this._panelAnimationState&&_t.activeItem?._hasFocus()){const $t=ke.toArray(),Sn=Math.max(0,Math.min($t.length-1,_t.activeItemIndex||0));$t[Sn]&&!$t[Sn].disabled?_t.setActiveItem(Sn):_t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,se.O)(this._directDescendantItems),(0,de.w)(_t=>(0,ae.T)(..._t.map($t=>$t._hovered))))}addItem(ke){}removeItem(ke){}_handleKeydown(ke){const _t=ke.keyCode,$t=this._keyManager;switch(_t){case ne.hY:(0,ne.Vb)(ke)||(ke.preventDefault(),this.closed.emit("keydown"));break;case ne.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case ne.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(_t===ne.LH||_t===ne.JH)&&$t.setFocusOrigin("keyboard"),void $t.onKeydown(ke)}ke.stopPropagation()}focusFirstItem(ke="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,me.q)(1)).subscribe(()=>{let _t=null;if(this._directDescendantItems.length&&(_t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!_t||!_t.contains(document.activeElement)){const $t=this._keyManager;$t.setFocusOrigin(ke).setFirstItemActive(),!$t.activeItem&&_t&&_t.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ke){const _t=Math.min(this._baseElevation+ke,24),$t=`${this._elevationPrefix}${_t}`,Sn=Object.keys(this._classList).find(_i=>_i.startsWith(this._elevationPrefix));(!Sn||Sn===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[$t]=!0,this._previousElevation=$t)}setPositionClasses(ke=this.xPosition,_t=this.yPosition){const $t=this._classList;$t["mat-menu-before"]="before"===ke,$t["mat-menu-after"]="after"===ke,$t["mat-menu-above"]="above"===_t,$t["mat-menu-below"]="below"===_t,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ke){this._animationDone.next(ke),this._isAnimating=!1}_onAnimationStart(ke){this._isAnimating=!0,"enter"===ke.toState&&0===this._keyManager.activeItemIndex&&(ke.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,se.O)(this._allItems)).subscribe(ke=>{this._directDescendantItems.reset(ke.filter(_t=>_t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return Gt.\u0275fac=function(ke){return new(ke||Gt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Wn),d.Y36(d.sBO))},Gt.\u0275dir=d.lG2({type:Gt,contentQueries:function(ke,_t,$t){if(1&ke&&(d.Suo($t,Ut,5),d.Suo($t,Ge,5),d.Suo($t,Ge,4)),2&ke){let Sn;d.iGM(Sn=d.CRH())&&(_t.lazyContent=Sn.first),d.iGM(Sn=d.CRH())&&(_t._allItems=Sn),d.iGM(Sn=d.CRH())&&(_t.items=Sn)}},viewQuery:function(ke,_t){if(1&ke&&d.Gf(d.Rgc,5),2&ke){let $t;d.iGM($t=d.CRH())&&(_t.templateRef=$t.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),Gt})(),Ve=(()=>{class Gt extends ce{constructor(ke,_t,$t,Sn){super(ke,_t,$t,Sn),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return Gt.\u0275fac=function(ke){return new(ke||Gt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Wn),d.Y36(d.sBO))},Gt.\u0275cmp=d.Xpm({type:Gt,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(ke,_t){2&ke&&d.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[d._Bn([{provide:rn,useExisting:Gt}]),d.qOj],ngContentSelectors:pn,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(ke,_t){1&ke&&(d.F$t(),d.YNc(0,dn,3,6,"ng-template"))},dependencies:[Fe.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:var(--mdc-shape-medium, 4px)}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Xt.transformMenu,Xt.fadeInItems]},changeDetection:0}),Gt})();const ft=new d.OlP("mat-menu-scroll-strategy"),Ke={provide:ft,deps:[On.aV],useFactory:function st(Gt){return()=>Gt.scrollStrategies.reposition()}},qe=(0,ut.i$)({passive:!0});let jt=(()=>{class Gt{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ke){this.menu=ke}get menu(){return this._menu}set menu(ke){ke!==this._menu&&(this._menu=ke,this._menuCloseSubscription.unsubscribe(),ke&&(this._menuCloseSubscription=ke.close.subscribe(_t=>{this._destroyMenu(_t),("click"===_t||"tab"===_t)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(_t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ke,_t,$t,Sn,_i,ni,wi,Kt,Je){this._overlay=ke,this._element=_t,this._viewContainerRef=$t,this._menuItemInstance=ni,this._dir=wi,this._focusMonitor=Kt,this._ngZone=Je,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Y.w0.EMPTY,this._hoverSubscription=Y.w0.EMPTY,this._menuCloseSubscription=Y.w0.EMPTY,this._changeDetectorRef=(0,d.f3M)(d.sBO),this._handleTouchStart=ot=>{(0,L.yG)(ot)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new d.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new d.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Sn,this._parentMaterialMenu=_i instanceof ce?_i:void 0,_t.nativeElement.addEventListener("touchstart",this._handleTouchStart,qe)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,qe),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ke=this.menu;if(this._menuOpen||!ke)return;const _t=this._createOverlay(ke),$t=_t.getConfig(),Sn=$t.positionStrategy;this._setPosition(ke,Sn),$t.hasBackdrop=null==ke.hasBackdrop?!this.triggersSubmenu():ke.hasBackdrop,_t.attach(this._getPortal(ke)),ke.lazyContent&&ke.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ke),ke instanceof ce&&(ke._startAnimation(),ke._directDescendantItems.changes.pipe((0,Xe.R)(ke.close)).subscribe(()=>{Sn.withLockedPosition(!1).reapplyLastPosition(),Sn.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ke,_t){this._focusMonitor&&ke?this._focusMonitor.focusVia(this._element,ke,_t):this._element.nativeElement.focus(_t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ke){if(!this._overlayRef||!this.menuOpen)return;const _t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ke||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,_t instanceof ce?(_t._resetAnimation(),_t.lazyContent?_t._animationDone.pipe((0,Ne.h)($t=>"void"===$t.toState),(0,me.q)(1),(0,Xe.R)(_t.lazyContent._attached)).subscribe({next:()=>_t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),_t?.lazyContent?.detach())}_initMenu(ke){ke.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ke.direction=this.dir,this._setMenuElevation(ke),ke.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ke){if(ke.setElevation){let _t=0,$t=ke.parentMenu;for(;$t;)_t++,$t=$t.parentMenu;ke.setElevation(_t)}}_setIsMenuOpen(ke){ke!==this._menuOpen&&(this._menuOpen=ke,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ke),this._changeDetectorRef.markForCheck())}_createOverlay(ke){if(!this._overlayRef){const _t=this._getOverlayConfig(ke);this._subscribeToPositions(ke,_t.positionStrategy),this._overlayRef=this._overlay.create(_t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ke){return new On.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ke.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ke.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ke,_t){ke.setPositionClasses&&_t.positionChanges.subscribe($t=>{const Sn="start"===$t.connectionPair.overlayX?"after":"before",_i="top"===$t.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ke.setPositionClasses(Sn,_i)):ke.setPositionClasses(Sn,_i)})}_setPosition(ke,_t){let[$t,Sn]="before"===ke.xPosition?["end","start"]:["start","end"],[_i,ni]="above"===ke.yPosition?["bottom","top"]:["top","bottom"],[wi,Kt]=[_i,ni],[Je,ot]=[$t,Sn],Be=0;if(this.triggersSubmenu()){if(ot=$t="before"===ke.xPosition?"start":"end",Sn=Je="end"===$t?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Oe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Oe?Oe._getHostElement().offsetTop:0}Be="bottom"===_i?this._parentInnerPadding:-this._parentInnerPadding}}else ke.overlapTrigger||(wi="top"===_i?"bottom":"top",Kt="top"===ni?"bottom":"top");_t.withPositions([{originX:$t,originY:wi,overlayX:Je,overlayY:_i,offsetY:Be},{originX:Sn,originY:wi,overlayX:ot,overlayY:_i,offsetY:Be},{originX:$t,originY:Kt,overlayX:Je,overlayY:ni,offsetY:-Be},{originX:Sn,originY:Kt,overlayX:ot,overlayY:ni,offsetY:-Be}])}_menuClosingActions(){const ke=this._overlayRef.backdropClick(),_t=this._overlayRef.detachments(),$t=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_e.of)(),Sn=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ne.h)(_i=>_i!==this._menuItemInstance),(0,Ne.h)(()=>this._menuOpen)):(0,_e.of)();return(0,ae.T)(ke,$t,Sn,_t)}_handleMousedown(ke){(0,L.X6)(ke)||(this._openedBy=0===ke.button?"mouse":void 0,this.triggersSubmenu()&&ke.preventDefault())}_handleKeydown(ke){const _t=ke.keyCode;(_t===ne.K5||_t===ne.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(_t===ne.SV&&"ltr"===this.dir||_t===ne.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ke){this.triggersSubmenu()?(ke.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ne.h)(ke=>ke===this._menuItemInstance&&!ke.disabled),Z(0,Ee.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ce&&this.menu._isAnimating?this.menu._animationDone.pipe((0,me.q)(1),Z(0,Ee.E),(0,Xe.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ke){return(!this._portal||this._portal.templateRef!==ke.templateRef)&&(this._portal=new ze.UE(ke.templateRef,this._viewContainerRef)),this._portal}}return Gt.\u0275fac=function(ke){return new(ke||Gt)(d.Y36(On.aV),d.Y36(d.SBq),d.Y36(d.s_b),d.Y36(ft),d.Y36(rn,8),d.Y36(Ge,10),d.Y36(vn.Is,8),d.Y36(L.tE),d.Y36(d.R0b))},Gt.\u0275dir=d.lG2({type:Gt,hostVars:3,hostBindings:function(ke,_t){1&ke&&d.NdJ("click",function(Sn){return _t._handleClick(Sn)})("mousedown",function(Sn){return _t._handleMousedown(Sn)})("keydown",function(Sn){return _t._handleKeydown(Sn)}),2&ke&&d.uIk("aria-haspopup",_t.menu?"menu":null)("aria-expanded",_t.menuOpen)("aria-controls",_t.menuOpen?_t.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),Gt})(),ln=(()=>{class Gt extends jt{}return Gt.\u0275fac=function(){let Rn;return function(_t){return(Rn||(Rn=d.n5z(Gt)))(_t||Gt)}}(),Gt.\u0275dir=d.lG2({type:Gt,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[d.qOj]}),Gt})(),Wt=(()=>{class Gt{}return Gt.\u0275fac=function(ke){return new(ke||Gt)},Gt.\u0275mod=d.oAB({type:Gt}),Gt.\u0275inj=d.cJS({providers:[Ke],imports:[Fe.ez,We.si,We.BQ,On.U8,ht.ZD,We.BQ]}),Gt})()},8467:(gn,nt,E)=>{E.d(nt,{Cq:()=>Ne,Ou:()=>me});var d=E(2223),L=E(1217),f=E(1692),ne=E(4755);const xe=["determinateSpinner"];function ae(dt,it){if(1&dt&&(d.O4$(),d.TgZ(0,"svg",11),d._UZ(1,"circle",12),d.qZA()),2&dt){const Le=d.oxw();d.uIk("viewBox",Le._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",Le._strokeCircumference(),"px")("stroke-dashoffset",Le._strokeCircumference()/2,"px")("stroke-width",Le._circleStrokeWidth(),"%"),d.uIk("r",Le._circleRadius())}}const Y=(0,L.pj)(class{constructor(dt){this._elementRef=dt}},"primary"),_e=new d.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ee(){return{diameter:se}}}),se=100;let me=(()=>{class dt extends Y{constructor(Le,He,Re){super(Le),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=se,this._noopAnimations="NoopAnimations"===He&&!!Re&&!Re._forceAnimations,Re&&(Re.color&&(this.color=this.defaultColor=Re.color),Re.diameter&&(this.diameter=Re.diameter),Re.strokeWidth&&(this.strokeWidth=Re.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Le){this._value=Math.max(0,Math.min(100,(0,f.su)(Le)))}get diameter(){return this._diameter}set diameter(Le){this._diameter=(0,f.su)(Le)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Le){this._strokeWidth=(0,f.su)(Le)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Le=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Le} ${Le}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return dt.\u0275fac=function(Le){return new(Le||dt)(d.Y36(d.SBq),d.Y36(d.QbO,8),d.Y36(_e))},dt.\u0275cmp=d.Xpm({type:dt,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Le,He){if(1&Le&&d.Gf(xe,5),2&Le){let Re;d.iGM(Re=d.CRH())&&(He._determinateCircle=Re.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(Le,He){2&Le&&(d.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===He.mode?He.value:null)("mode",He.mode),d.Udp("width",He.diameter,"px")("height",He.diameter,"px")("--mdc-circular-progress-size",He.diameter+"px")("--mdc-circular-progress-active-indicator-width",He.diameter+"px"),d.ekj("_mat-animation-noopable",He._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===He.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[d.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Le,He){if(1&Le&&(d.YNc(0,ae,2,8,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.O4$(),d.TgZ(4,"svg",3),d._UZ(5,"circle",4),d.qZA()(),d.kcU(),d.TgZ(6,"div",5)(7,"div",6)(8,"div",7),d.GkF(9,8),d.qZA(),d.TgZ(10,"div",9),d.GkF(11,8),d.qZA(),d.TgZ(12,"div",10),d.GkF(13,8),d.qZA()()()),2&Le){const Re=d.MAs(1);d.xp6(4),d.uIk("viewBox",He._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",He._strokeCircumference(),"px")("stroke-dashoffset",He._strokeDashOffset(),"px")("stroke-width",He._circleStrokeWidth(),"%"),d.uIk("r",He._circleRadius()),d.xp6(4),d.Q6J("ngTemplateOutlet",Re),d.xp6(2),d.Q6J("ngTemplateOutlet",Re),d.xp6(2),d.Q6J("ngTemplateOutlet",Re)}},dependencies:[ne.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),dt})(),Ne=(()=>{class dt{}return dt.\u0275fac=function(Le){return new(Le||dt)},dt.\u0275mod=d.oAB({type:dt}),dt.\u0275inj=d.cJS({imports:[ne.ez,L.BQ]}),dt})()},9383:(gn,nt,E)=>{E.d(nt,{Ye:()=>Ee,g0:()=>de});var d=E(2223),L=E(1217),f=E(2966),ne=E(4755);const xe=["*",[["mat-toolbar-row"]]],ae=["*","mat-toolbar-row"],Y=(0,L.pj)(class{constructor(me){this._elementRef=me}});let _e=(()=>{class me{}return me.\u0275fac=function(Ne){return new(Ne||me)},me.\u0275dir=d.lG2({type:me,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),me})(),Ee=(()=>{class me extends Y{constructor(Ne,dt,it){super(Ne),this._platform=dt,this._document=it}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return me.\u0275fac=function(Ne){return new(Ne||me)(d.Y36(d.SBq),d.Y36(f.t4),d.Y36(ne.K0))},me.\u0275cmp=d.Xpm({type:me,selectors:[["mat-toolbar"]],contentQueries:function(Ne,dt,it){if(1&Ne&&d.Suo(it,_e,5),2&Ne){let Le;d.iGM(Le=d.CRH())&&(dt._toolbarRows=Le)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ne,dt){2&Ne&&d.ekj("mat-toolbar-multiple-rows",dt._toolbarRows.length>0)("mat-toolbar-single-row",0===dt._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:ae,decls:2,vars:0,template:function(Ne,dt){1&Ne&&(d.F$t(xe),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),me})(),de=(()=>{class me{}return me.\u0275fac=function(Ne){return new(Ne||me)},me.\u0275mod=d.oAB({type:me}),me.\u0275inj=d.cJS({imports:[L.BQ,L.BQ]}),me})()},6550:(gn,nt,E)=>{E.d(nt,{Dx:()=>ce,H7:()=>ni,b2:()=>_n,q6:()=>Ut,se:()=>Z});var d=E(2223),L=E(4755);class f extends L.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends f{static makeCurrent(){(0,L.HT)(new ne)}onAndCancel(H,U,z){return H.addEventListener(U,z),()=>{H.removeEventListener(U,z)}}dispatchEvent(H,U){H.dispatchEvent(U)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,U){return(U=U||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,U){return"window"===U?window:"document"===U?H:"body"===U?H.body:null}getBaseHref(H){const U=function ae(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==U?null:function _e(oe){Y=Y||document.createElement("a"),Y.setAttribute("href",oe);const H=Y.pathname;return"/"===H.charAt(0)?H:`/${H}`}(U)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,L.Mx)(document.cookie,H)}}let Y,xe=null,se=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(U){return new(U||oe)},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const de=new d.OlP("EventManagerPlugins");let me=(()=>{class oe{constructor(U,z){this._zone=z,this._eventNameToPlugin=new Map,U.forEach(le=>{le.manager=this}),this._plugins=U.slice().reverse()}addEventListener(U,z,le){return this._findPluginFor(z).addEventListener(U,z,le)}getZone(){return this._zone}_findPluginFor(U){let z=this._eventNameToPlugin.get(U);if(z)return z;if(z=this._plugins.find(re=>re.supports(U)),!z)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(U,z),z}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(de),d.LFG(d.R0b))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class Xe{constructor(H){this._doc=H}}const Ne="ng-app-id";let dt=(()=>{class oe{constructor(U,z,le,re={}){this.doc=U,this.appId=z,this.nonce=le,this.platformId=re,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,L.PM)(re),this.resetHostNodes()}addStyles(U){for(const z of U)1===this.changeUsageCount(z,1)&&this.onStyleAdded(z)}removeStyles(U){for(const z of U)this.changeUsageCount(z,-1)<=0&&this.onStyleRemoved(z)}ngOnDestroy(){const U=this.styleNodesInDOM;U&&(U.forEach(z=>z.remove()),U.clear());for(const z of this.getAllStyles())this.onStyleRemoved(z);this.resetHostNodes()}addHost(U){this.hostNodes.add(U);for(const z of this.getAllStyles())this.addStyleToHost(U,z)}removeHost(U){this.hostNodes.delete(U)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(U){for(const z of this.hostNodes)this.addStyleToHost(z,U)}onStyleRemoved(U){const z=this.styleRef;z.get(U)?.elements?.forEach(le=>le.remove()),z.delete(U)}collectServerRenderedStyles(){const U=this.doc.head?.querySelectorAll(`style[${Ne}="${this.appId}"]`);if(U?.length){const z=new Map;return U.forEach(le=>{null!=le.textContent&&z.set(le.textContent,le)}),z}return null}changeUsageCount(U,z){const le=this.styleRef;if(le.has(U)){const re=le.get(U);return re.usage+=z,re.usage}return le.set(U,{usage:z,elements:[]}),z}getStyleElement(U,z){const le=this.styleNodesInDOM,re=le?.get(z);if(re?.parentNode===U)return le.delete(z),re.removeAttribute(Ne),re;{const ye=this.doc.createElement("style");return this.nonce&&ye.setAttribute("nonce",this.nonce),ye.textContent=z,this.platformIsServer&&ye.setAttribute(Ne,this.appId),ye}}addStyleToHost(U,z){const le=this.getStyleElement(U,z);U.appendChild(le);const re=this.styleRef,ye=re.get(z)?.elements;ye?ye.push(le):re.set(z,{elements:[le],usage:1})}resetHostNodes(){const U=this.hostNodes;U.clear(),U.add(this.doc.head)}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Le=/%COMP%/g,Ie=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $e(oe,H){return H.map(U=>U.replace(Le,oe))}let Z=(()=>{class oe{constructor(U,z,le,re,ye,Ct,xt,Ot=null){this.eventManager=U,this.sharedStylesHost=z,this.appId=le,this.removeStylesOnCompDestory=re,this.doc=ye,this.platformId=Ct,this.ngZone=xt,this.nonce=Ot,this.rendererByCompId=new Map,this.platformIsServer=(0,L.PM)(Ct),this.defaultRenderer=new We(U,ye,xt,this.platformIsServer)}createRenderer(U,z){if(!U||!z)return this.defaultRenderer;this.platformIsServer&&z.encapsulation===d.ifc.ShadowDom&&(z={...z,encapsulation:d.ifc.Emulated});const le=this.getOrCreateRenderer(U,z);return le instanceof ut?le.applyToHost(U):le instanceof On&&le.applyStyles(),le}getOrCreateRenderer(U,z){const le=this.rendererByCompId;let re=le.get(z.id);if(!re){const ye=this.doc,Ct=this.ngZone,xt=this.eventManager,Ot=this.sharedStylesHost,en=this.removeStylesOnCompDestory,ti=this.platformIsServer;switch(z.encapsulation){case d.ifc.Emulated:re=new ut(xt,Ot,z,this.appId,en,ye,Ct,ti);break;case d.ifc.ShadowDom:return new vn(xt,Ot,U,z,ye,Ct,this.nonce,ti);default:re=new On(xt,Ot,z,en,ye,Ct,ti)}re.onDestroy=()=>le.delete(z.id),le.set(z.id,re)}return re}ngOnDestroy(){this.rendererByCompId.clear()}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(me),d.LFG(dt),d.LFG(d.AFp),d.LFG(Ie),d.LFG(L.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class We{constructor(H,U,z,le){this.eventManager=H,this.doc=U,this.ngZone=z,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,U){return U?this.doc.createElementNS(it[U]||U,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,U){(yt(H)?H.content:H).appendChild(U)}insertBefore(H,U,z){H&&(yt(H)?H.content:H).insertBefore(U,z)}removeChild(H,U){H&&H.removeChild(U)}selectRootElement(H,U){let z="string"==typeof H?this.doc.querySelector(H):H;if(!z)throw new d.vHH(5104,!1);return U||(z.textContent=""),z}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,U,z,le){if(le){U=le+":"+U;const re=it[le];re?H.setAttributeNS(re,U,z):H.setAttribute(U,z)}else H.setAttribute(U,z)}removeAttribute(H,U,z){if(z){const le=it[z];le?H.removeAttributeNS(le,U):H.removeAttribute(`${z}:${U}`)}else H.removeAttribute(U)}addClass(H,U){H.classList.add(U)}removeClass(H,U){H.classList.remove(U)}setStyle(H,U,z,le){le&(d.JOm.DashCase|d.JOm.Important)?H.style.setProperty(U,z,le&d.JOm.Important?"important":""):H.style[U]=z}removeStyle(H,U,z){z&d.JOm.DashCase?H.style.removeProperty(U):H.style[U]=""}setProperty(H,U,z){H[U]=z}setValue(H,U){H.nodeValue=U}listen(H,U,z){if("string"==typeof H&&!(H=(0,L.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${U}`);return this.eventManager.addEventListener(H,U,this.decoratePreventDefault(z))}decoratePreventDefault(H){return U=>{if("__ngUnwrap__"===U)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(U)):H(U))&&U.preventDefault()}}}function yt(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class vn extends We{constructor(H,U,z,le,re,ye,Ct,xt){super(H,re,ye,xt),this.sharedStylesHost=U,this.hostEl=z,this.shadowRoot=z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ot=$e(le.id,le.styles);for(const en of Ot){const ti=document.createElement("style");Ct&&ti.setAttribute("nonce",Ct),ti.textContent=en,this.shadowRoot.appendChild(ti)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,U){return super.appendChild(this.nodeOrShadowRoot(H),U)}insertBefore(H,U,z){return super.insertBefore(this.nodeOrShadowRoot(H),U,z)}removeChild(H,U){return super.removeChild(this.nodeOrShadowRoot(H),U)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class On extends We{constructor(H,U,z,le,re,ye,Ct,xt){super(H,re,ye,Ct),this.sharedStylesHost=U,this.removeStylesOnCompDestory=le,this.rendererUsageCount=0,this.styles=xt?$e(xt,z.styles):z.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ut extends On{constructor(H,U,z,le,re,ye,Ct,xt){const Ot=le+"-"+z.id;super(H,U,z,re,ye,Ct,xt,Ot),this.contentAttr=function be(oe){return"_ngcontent-%COMP%".replace(Le,oe)}(Ot),this.hostAttr=function Me(oe){return"_nghost-%COMP%".replace(Le,oe)}(Ot)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,U){const z=super.createElement(H,U);return super.setAttribute(z,this.contentAttr,""),z}}let ht=(()=>{class oe extends Xe{constructor(U){super(U)}supports(U){return!0}addEventListener(U,z,le){return U.addEventListener(z,le,!1),()=>this.removeEventListener(U,z,le)}removeEventListener(U,z,le){return U.removeEventListener(z,le)}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Rt=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qt={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let Yt=(()=>{class oe extends Xe{constructor(U){super(U)}supports(U){return null!=oe.parseEventName(U)}addEventListener(U,z,le){const re=oe.parseEventName(z),ye=oe.eventCallback(re.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,L.q)().onAndCancel(U,re.domEventName,ye))}static parseEventName(U){const z=U.toLowerCase().split("."),le=z.shift();if(0===z.length||"keydown"!==le&&"keyup"!==le)return null;const re=oe._normalizeKey(z.pop());let ye="",Ct=z.indexOf("code");if(Ct>-1&&(z.splice(Ct,1),ye="code."),Rt.forEach(Ot=>{const en=z.indexOf(Ot);en>-1&&(z.splice(en,1),ye+=Ot+".")}),ye+=re,0!=z.length||0===re.length)return null;const xt={};return xt.domEventName=le,xt.fullKey=ye,xt}static matchEventFullKeyCode(U,z){let le=Ft[U.key]||U.key,re="";return z.indexOf("code.")>-1&&(le=U.code,re="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),Rt.forEach(ye=>{ye!==le&&(0,qt[ye])(U)&&(re+=ye+".")}),re+=le,re===z)}static eventCallback(U,z,le){return re=>{oe.matchEventFullKeyCode(re,U)&&le.runGuarded(()=>z(re))}}static _normalizeKey(U){return"esc"===U?"escape":U}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Ut=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:L.bD},{provide:d.g9A,useValue:function Ge(){ne.makeCurrent()},multi:!0},{provide:L.K0,useFactory:function kt(){return(0,d.RDi)(document),document},deps:[]}]),St=new d.OlP(""),cn=[{provide:d.rWj,useClass:class Ee{addToWindow(H){d.dqk.getAngularTestability=(z,le=!0)=>{const re=H.findTestabilityInTree(z,le);if(null==re)throw new d.vHH(5103,!1);return re},d.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(z=>{const le=d.dqk.getAllAngularTestabilities();let re=le.length,ye=!1;const Ct=function(xt){ye=ye||xt,re--,0==re&&z(ye)};le.forEach(function(xt){xt.whenStable(Ct)})})}findTestabilityInTree(H,U,z){return null==U?null:H.getTestability(U)??(z?(0,L.q)().isShadowRoot(U)?this.findTestabilityInTree(H,U.host,!0):this.findTestabilityInTree(H,U.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Xt=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Qe(){return new d.qLn},deps:[]},{provide:de,useClass:ht,multi:!0,deps:[L.K0,d.R0b,d.Lbi]},{provide:de,useClass:Yt,multi:!0,deps:[L.K0]},Z,dt,me,{provide:d.FYo,useExisting:Z},{provide:L.JF,useClass:se,deps:[]},[]];let _n=(()=>{class oe{constructor(U){}static withServerTransition(U){return{ngModule:oe,providers:[{provide:d.AFp,useValue:U.appId}]}}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(St,12))},oe.\u0275mod=d.oAB({type:oe}),oe.\u0275inj=d.cJS({providers:[...Xt,...cn],imports:[L.ez,d.hGG]}),oe})(),ce=(()=>{class oe{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:function(U){let z=null;return z=U?new U:function Vt(){return new ce((0,d.LFG)(L.K0))}(),z},providedIn:"root"}),oe})();typeof window<"u"&&window;let ni=(()=>{class oe{}return oe.\u0275fac=function(U){return new(U||oe)},oe.\u0275prov=d.Yz7({token:oe,factory:function(U){let z=null;return z=U?new(U||oe):d.LFG(Kt),z},providedIn:"root"}),oe})(),Kt=(()=>{class oe extends ni{constructor(U){super(),this._doc=U}sanitize(U,z){if(null==z)return null;switch(U){case d.q3G.NONE:return z;case d.q3G.HTML:return(0,d.qzn)(z,"HTML")?(0,d.z3N)(z):(0,d.EiD)(this._doc,String(z)).toString();case d.q3G.STYLE:return(0,d.qzn)(z,"Style")?(0,d.z3N)(z):z;case d.q3G.SCRIPT:if((0,d.qzn)(z,"Script"))return(0,d.z3N)(z);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(z,"URL")?(0,d.z3N)(z):(0,d.mCW)(String(z));case d.q3G.RESOURCE_URL:if((0,d.qzn)(z,"ResourceURL"))return(0,d.z3N)(z);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(U){return(0,d.JVY)(U)}bypassSecurityTrustStyle(U){return(0,d.L6k)(U)}bypassSecurityTrustScript(U){return(0,d.eBb)(U)}bypassSecurityTrustUrl(U){return(0,d.LAX)(U)}bypassSecurityTrustResourceUrl(U){return(0,d.pB0)(U)}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:function(U){let z=null;return z=U?new U:function wi(oe){return new Kt(oe.get(L.K0))}(d.LFG(d.zs3)),z},providedIn:"root"}),oe})()},3676:(gn,nt,E)=>{E.d(nt,{gz:()=>Nn,F0:()=>qr,Bz:()=>T,lC:()=>ci});var d=E(2223),L=E(9751),f=E(576),xe=E(8996),ae=E(9646),Y=E(1135),_e=E(9841),Ee=E(6805),se=E(7272),de=E(9770),me=E(9635),Xe=E(2843),Ne=E(515),dt=E(727),it=E(4482),Le=E(5403);function He(){return(0,it.e)((w,M)=>{let x=null;w._refCount++;const F=(0,Le.x)(M,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(x=null);const ee=w._connection,ve=x;x=null,ee&&(!ve||ee===ve)&&ee.unsubscribe(),M.unsubscribe()});w.subscribe(F),F.closed||(x=w.connect())})}class Re extends L.y{constructor(M,x){super(),this.source=M,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,it.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new dt.w0;const x=this.getSubject();M.add(this.source.subscribe((0,Le.x)(x,void 0,()=>{this._teardown(),x.complete()},F=>{this._teardown(),x.error(F)},()=>this._teardown()))),M.closed&&(this._connection=null,M=dt.w0.EMPTY)}return M}refCount(){return He()(this)}}var wt=E(7579),ue=E(4755),Ie=E(4004),be=E(3900),Me=E(5698),$e=E(8675),Z=E(9300),We=E(5577),Fe=E(590),ze=E(4351),yt=E(8505),vn=E(262),On=E(5026),ut=E(6590);function ht(w){return w<=0?()=>Ne.E:(0,it.e)((M,x)=>{let F=[];M.subscribe((0,Le.x)(x,ee=>{F.push(ee),w<F.length&&F.shift()},()=>{for(const ee of F)x.next(ee);x.complete()},void 0,()=>{F=null}))})}var Rt=E(8068),Ft=E(4671),Yt=E(9718),dn=E(8746),pn=E(8189),rn=E(6550);const At="primary",Ge=Symbol("RouteTitle");class Qe{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const x=this.params[M];return Array.isArray(x)?x[0]:x}return null}getAll(M){if(this.has(M)){const x=this.params[M];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function kt(w){return new Qe(w)}function bt(w,M,x){const F=x.path.split("/");if(F.length>w.length||"full"===x.pathMatch&&(M.hasChildren()||F.length<w.length))return null;const ee={};for(let ve=0;ve<F.length;ve++){const Ce=F[ve],Dt=w[ve];if(Ce.startsWith(":"))ee[Ce.substring(1)]=Dt;else if(Ce!==Dt.path)return null}return{consumed:w.slice(0,F.length),posParams:ee}}function St(w,M){const x=w?Object.keys(w):void 0,F=M?Object.keys(M):void 0;if(!x||!F||x.length!=F.length)return!1;let ee;for(let ve=0;ve<x.length;ve++)if(ee=x[ve],!cn(w[ee],M[ee]))return!1;return!0}function cn(w,M){if(Array.isArray(w)&&Array.isArray(M)){if(w.length!==M.length)return!1;const x=[...w].sort(),F=[...M].sort();return x.every((ee,ve)=>F[ve]===ee)}return w===M}function Xt(w){return w.length>0?w[w.length-1]:null}function _n(w){return function ne(w){return!!w&&(w instanceof L.y||(0,f.m)(w.lift)&&(0,f.m)(w.subscribe))}(w)?w:(0,d.QGY)(w)?(0,xe.D)(Promise.resolve(w)):(0,ae.of)(w)}const Yn={exact:function ce(w,M,x){if(!Wt(w.segments,M.segments)||!Ke(w.segments,M.segments,x)||w.numberOfChildren!==M.numberOfChildren)return!1;for(const F in M.children)if(!w.children[F]||!ce(w.children[F],M.children[F],x))return!1;return!0},subset:ft},gi={exact:function Vt(w,M){return St(w,M)},subset:function Ve(w,M){return Object.keys(M).length<=Object.keys(w).length&&Object.keys(M).every(x=>cn(w[x],M[x]))},ignored:()=>!0};function Wn(w,M,x){return Yn[x.paths](w.root,M.root,x.matrixParams)&&gi[x.queryParams](w.queryParams,M.queryParams)&&!("exact"===x.fragment&&w.fragment!==M.fragment)}function ft(w,M,x){return st(w,M,M.segments,x)}function st(w,M,x,F){if(w.segments.length>x.length){const ee=w.segments.slice(0,x.length);return!(!Wt(ee,x)||M.hasChildren()||!Ke(ee,x,F))}if(w.segments.length===x.length){if(!Wt(w.segments,x)||!Ke(w.segments,x,F))return!1;for(const ee in M.children)if(!w.children[ee]||!ft(w.children[ee],M.children[ee],F))return!1;return!0}{const ee=x.slice(0,w.segments.length),ve=x.slice(w.segments.length);return!!(Wt(w.segments,ee)&&Ke(w.segments,ee,F)&&w.children[At])&&st(w.children[At],M,ve,F)}}function Ke(w,M,x){return M.every((F,ee)=>gi[x](w[ee].parameters,F.parameters))}class qe{constructor(M=new Ae([],{}),x={},F=null){this.root=M,this.queryParams=x,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kt(this.queryParams)),this._queryParamMap}toString(){return _t.serialize(this)}}class Ae{constructor(M,x){this.segments=M,this.children=x,this.parent=null,Object.values(x).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class jt{constructor(M,x){this.path=M,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=kt(this.parameters)),this._parameterMap}toString(){return Be(this)}}function Wt(w,M){return w.length===M.length&&w.every((x,F)=>x.path===M[F].path)}let Rn=(()=>{class w{}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return new ke},providedIn:"root"}),w})();class ke{parse(M){const x=new re(M);return new qe(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(M){const x=`/${Sn(M.root,!0)}`,F=function Se(w){const M=Object.keys(w).map(x=>{const F=w[x];return Array.isArray(F)?F.map(ee=>`${ni(x)}=${ni(ee)}`).join("&"):`${ni(x)}=${ni(F)}`}).filter(x=>!!x);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${x}${F}${"string"==typeof M.fragment?`#${function wi(w){return encodeURI(w)}(M.fragment)}`:""}`}}const _t=new ke;function $t(w){return w.segments.map(M=>Be(M)).join("/")}function Sn(w,M){if(!w.hasChildren())return $t(w);if(M){const x=w.children[At]?Sn(w.children[At],!1):"",F=[];return Object.entries(w.children).forEach(([ee,ve])=>{ee!==At&&F.push(`${ee}:${Sn(ve,!1)}`)}),F.length>0?`${x}(${F.join("//")})`:x}{const x=function Gt(w,M){let x=[];return Object.entries(w.children).forEach(([F,ee])=>{F===At&&(x=x.concat(M(ee,F)))}),Object.entries(w.children).forEach(([F,ee])=>{F!==At&&(x=x.concat(M(ee,F)))}),x}(w,(F,ee)=>ee===At?[Sn(w.children[At],!1)]:[`${ee}:${Sn(F,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[At]?`${$t(w)}/${x[0]}`:`${$t(w)}/(${x.join("//")})`}}function _i(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ni(w){return _i(w).replace(/%3B/gi,";")}function Kt(w){return _i(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(w){return decodeURIComponent(w)}function ot(w){return Je(w.replace(/\+/g,"%20"))}function Be(w){return`${Kt(w.path)}${function Oe(w){return Object.keys(w).map(M=>`;${Kt(M)}=${Kt(w[M])}`).join("")}(w.parameters)}`}const Et=/^[^\/()?;#]+/;function Ht(w){const M=w.match(Et);return M?M[0]:""}const Te=/^[^\/()?;=#]+/,H=/^[^=?&#]+/,z=/^[^&#]+/;class re{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(M.length>0||Object.keys(x).length>0)&&(F[At]=new Ae(M,x)),F}parseSegment(){const M=Ht(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(M),new jt(Je(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const x=function oe(w){const M=w.match(Te);return M?M[0]:""}(this.remaining);if(!x)return;this.capture(x);let F="";if(this.consumeOptional("=")){const ee=Ht(this.remaining);ee&&(F=ee,this.capture(F))}M[Je(x)]=Je(F)}parseQueryParam(M){const x=function U(w){const M=w.match(H);return M?M[0]:""}(this.remaining);if(!x)return;this.capture(x);let F="";if(this.consumeOptional("=")){const Ce=function le(w){const M=w.match(z);return M?M[0]:""}(this.remaining);Ce&&(F=Ce,this.capture(F))}const ee=ot(x),ve=ot(F);if(M.hasOwnProperty(ee)){let Ce=M[ee];Array.isArray(Ce)||(Ce=[Ce],M[ee]=Ce),Ce.push(ve)}else M[ee]=ve}parseParens(M){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Ht(this.remaining),ee=this.remaining[F.length];if("/"!==ee&&")"!==ee&&";"!==ee)throw new d.vHH(4010,!1);let ve;F.indexOf(":")>-1?(ve=F.slice(0,F.indexOf(":")),this.capture(ve),this.capture(":")):M&&(ve=At);const Ce=this.parseChildren();x[ve]=1===Object.keys(Ce).length?Ce[At]:new Ae([],Ce),this.consumeOptional("//")}return x}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new d.vHH(4011,!1)}}function ye(w){return w.segments.length>0?new Ae([],{[At]:w}):w}function Ct(w){const M={};for(const F of Object.keys(w.children)){const ve=Ct(w.children[F]);if(F===At&&0===ve.segments.length&&ve.hasChildren())for(const[Ce,Dt]of Object.entries(ve.children))M[Ce]=Dt;else(ve.segments.length>0||ve.hasChildren())&&(M[F]=ve)}return function xt(w){if(1===w.numberOfChildren&&w.children[At]){const M=w.children[At];return new Ae(w.segments.concat(M.segments),M.children)}return w}(new Ae(w.segments,M))}function Ot(w){return w instanceof qe}function ti(w){let M;const ee=ye(function x(ve){const Ce={};for(const bn of ve.children){const ai=x(bn);Ce[bn.outlet]=ai}const Dt=new Ae(ve.url,Ce);return ve===w&&(M=Dt),Dt}(w.root));return M??ee}function An(w,M,x,F){let ee=w;for(;ee.parent;)ee=ee.parent;if(0===M.length)return Bt(ee,ee,ee,x,F);const ve=function Qn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new wn(!0,0,w);let M=0,x=!1;const F=w.reduce((ee,ve,Ce)=>{if("object"==typeof ve&&null!=ve){if(ve.outlets){const Dt={};return Object.entries(ve.outlets).forEach(([bn,ai])=>{Dt[bn]="string"==typeof ai?ai.split("/"):ai}),[...ee,{outlets:Dt}]}if(ve.segmentPath)return[...ee,ve.segmentPath]}return"string"!=typeof ve?[...ee,ve]:0===Ce?(ve.split("/").forEach((Dt,bn)=>{0==bn&&"."===Dt||(0==bn&&""===Dt?x=!0:".."===Dt?M++:""!=Dt&&ee.push(Dt))}),ee):[...ee,ve]},[]);return new wn(x,M,F)}(M);if(ve.toRoot())return Bt(ee,ee,new Ae([],{}),x,F);const Ce=function jn(w,M,x){if(w.isAbsolute)return new Pn(M,!0,0);if(!x)return new Pn(M,!1,NaN);if(null===x.parent)return new Pn(x,!0,0);const F=Ai(w.commands[0])?0:1;return function hi(w,M,x){let F=w,ee=M,ve=x;for(;ve>ee;){if(ve-=ee,F=F.parent,!F)throw new d.vHH(4005,!1);ee=F.segments.length}return new Pn(F,!1,ee-ve)}(x,x.segments.length-1+F,w.numberOfDoubleDots)}(ve,ee,w),Dt=Ce.processChildren?Ir(Ce.segmentGroup,Ce.index,ve.commands):Ti(Ce.segmentGroup,Ce.index,ve.commands);return Bt(ee,Ce.segmentGroup,Dt,x,F)}function Ai(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Si(w){return"object"==typeof w&&null!=w&&w.outlets}function Bt(w,M,x,F,ee){let Ce,ve={};F&&Object.entries(F).forEach(([bn,ai])=>{ve[bn]=Array.isArray(ai)?ai.map(Jn=>`${Jn}`):`${ai}`}),Ce=w===M?x:Tt(w,M,x);const Dt=ye(Ct(Ce));return new qe(Dt,ve,ee)}function Tt(w,M,x){const F={};return Object.entries(w.children).forEach(([ee,ve])=>{F[ee]=ve===M?x:Tt(ve,M,x)}),new Ae(w.segments,F)}class wn{constructor(M,x,F){if(this.isAbsolute=M,this.numberOfDoubleDots=x,this.commands=F,M&&F.length>0&&Ai(F[0]))throw new d.vHH(4003,!1);const ee=F.find(Si);if(ee&&ee!==Xt(F))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pn{constructor(M,x,F){this.segmentGroup=M,this.processChildren=x,this.index=F}}function Ti(w,M,x){if(w||(w=new Ae([],{})),0===w.segments.length&&w.hasChildren())return Ir(w,M,x);const F=function mo(w,M,x){let F=0,ee=M;const ve={match:!1,pathIndex:0,commandIndex:0};for(;ee<w.segments.length;){if(F>=x.length)return ve;const Ce=w.segments[ee],Dt=x[F];if(Si(Dt))break;const bn=`${Dt}`,ai=F<x.length-1?x[F+1]:null;if(ee>0&&void 0===bn)break;if(bn&&ai&&"object"==typeof ai&&void 0===ai.outlets){if(!to(bn,ai,Ce))return ve;F+=2}else{if(!to(bn,{},Ce))return ve;F++}ee++}return{match:!0,pathIndex:ee,commandIndex:F}}(w,M,x),ee=x.slice(F.commandIndex);if(F.match&&F.pathIndex<w.segments.length){const ve=new Ae(w.segments.slice(0,F.pathIndex),{});return ve.children[At]=new Ae(w.segments.slice(F.pathIndex),w.children),Ir(ve,0,ee)}return F.match&&0===ee.length?new Ae(w.segments,{}):F.match&&!w.hasChildren()?bo(w,M,x):F.match?Ir(w,0,ee):bo(w,M,x)}function Ir(w,M,x){if(0===x.length)return new Ae(w.segments,{});{const F=function sr(w){return Si(w[0])?w[0].outlets:{[At]:w}}(x),ee={};if(!F[At]&&w.children[At]&&1===w.numberOfChildren&&0===w.children[At].segments.length){const ve=Ir(w.children[At],M,x);return new Ae(w.segments,ve.children)}return Object.entries(F).forEach(([ve,Ce])=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(ee[ve]=Ti(w.children[ve],M,Ce))}),Object.entries(w.children).forEach(([ve,Ce])=>{void 0===F[ve]&&(ee[ve]=Ce)}),new Ae(w.segments,ee)}}function bo(w,M,x){const F=w.segments.slice(0,M);let ee=0;for(;ee<x.length;){const ve=x[ee];if(Si(ve)){const bn=_s(ve.outlets);return new Ae(F,bn)}if(0===ee&&Ai(x[0])){F.push(new jt(w.segments[M].path,er(x[0]))),ee++;continue}const Ce=Si(ve)?ve.outlets[At]:`${ve}`,Dt=ee<x.length-1?x[ee+1]:null;Ce&&Dt&&Ai(Dt)?(F.push(new jt(Ce,er(Dt))),ee+=2):(F.push(new jt(Ce,{})),ee++)}return new Ae(F,{})}function _s(w){const M={};return Object.entries(w).forEach(([x,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(M[x]=bo(new Ae([],{}),0,F))}),M}function er(w){const M={};return Object.entries(w).forEach(([x,F])=>M[x]=`${F}`),M}function to(w,M,x){return w==x.path&&St(M,x.parameters)}const kr="imperative";class $r{constructor(M,x){this.id=M,this.url=x}}class uo extends $r{constructor(M,x,F="imperative",ee=null){super(M,x),this.type=0,this.navigationTrigger=F,this.restoredState=ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yi extends $r{constructor(M,x,F){super(M,x),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zo extends $r{constructor(M,x,F,ee){super(M,x),this.reason=F,this.code=ee,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class go extends $r{constructor(M,x,F,ee){super(M,x),this.reason=F,this.code=ee,this.type=16}}class no extends $r{constructor(M,x,F,ee){super(M,x),this.error=F,this.target=ee,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hr extends $r{constructor(M,x,F,ee){super(M,x),this.urlAfterRedirects=F,this.state=ee,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends $r{constructor(M,x,F,ee){super(M,x),this.urlAfterRedirects=F,this.state=ee,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io extends $r{constructor(M,x,F,ee,ve){super(M,x),this.urlAfterRedirects=F,this.state=ee,this.shouldActivate=ve,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class So extends $r{constructor(M,x,F,ee){super(M,x),this.urlAfterRedirects=F,this.state=ee,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class js extends $r{constructor(M,x,F,ee){super(M,x),this.urlAfterRedirects=F,this.state=ee,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yo{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ro{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ns{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(M,x,F){this.routerEvent=M,this.position=x,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wr,this.attachRef=null}}let Wr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(x,F){const ee=this.getOrCreateContext(x);ee.outlet=F,this.contexts.set(x,ee)}onChildOutletDestroyed(x){const F=this.getContext(x);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let F=this.getContext(x);return F||(F=new Fi,this.contexts.set(x,F)),F}getContext(x){return this.contexts.get(x)||null}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Rr{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const x=this.pathFromRoot(M);return x.length>1?x[x.length-2]:null}children(M){const x=To(M,this._root);return x?x.children.map(F=>F.value):[]}firstChild(M){const x=To(M,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(M){const x=pt(M,this._root);return x.length<2?[]:x[x.length-2].children.map(ee=>ee.value).filter(ee=>ee!==M)}pathFromRoot(M){return pt(M,this._root).map(x=>x.value)}}function To(w,M){if(w===M.value)return M;for(const x of M.children){const F=To(w,x);if(F)return F}return null}function pt(w,M){if(w===M.value)return[M];for(const x of M.children){const F=pt(w,x);if(F.length)return F.unshift(M),F}return[]}class lt{constructor(M,x){this.value=M,this.children=x}toString(){return`TreeNode(${this.value})`}}function Pt(w){const M={};return w&&w.children.forEach(x=>M[x.value.outlet]=x),M}class nn extends Rr{constructor(M,x){super(M),this.snapshot=x,Ki(this,M)}toString(){return this.snapshot.toString()}}function fn(w,M){const x=function on(w,M){const Ce=new Ur([],{},{},"",{},At,M,null,{});return new mr("",new lt(Ce,[]))}(0,M),F=new Y.X([new jt("",{})]),ee=new Y.X({}),ve=new Y.X({}),Ce=new Y.X({}),Dt=new Y.X(""),bn=new Nn(F,ee,Ce,Dt,ve,At,M,x.root);return bn.snapshot=x.root,new nn(new lt(bn,[]),x)}class Nn{constructor(M,x,F,ee,ve,Ce,Dt,bn){this.urlSubject=M,this.paramsSubject=x,this.queryParamsSubject=F,this.fragmentSubject=ee,this.dataSubject=ve,this.outlet=Ce,this.component=Dt,this._futureSnapshot=bn,this.title=this.dataSubject?.pipe((0,Ie.U)(ai=>ai[Ge]))??(0,ae.of)(void 0),this.url=M,this.params=x,this.queryParams=F,this.fragment=ee,this.data=ve}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ie.U)(M=>kt(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ie.U)(M=>kt(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function si(w,M="emptyOnly"){const x=w.pathFromRoot;let F=0;if("always"!==M)for(F=x.length-1;F>=1;){const ee=x[F],ve=x[F-1];if(ee.routeConfig&&""===ee.routeConfig.path)F--;else{if(ve.component)break;F--}}return function bi(w){return w.reduce((M,x)=>({params:{...M.params,...x.params},data:{...M.data,...x.data},resolve:{...x.data,...M.resolve,...x.routeConfig?.data,...x._resolvedData}}),{params:{},data:{},resolve:{}})}(x.slice(F))}class Ur{get title(){return this.data?.[Ge]}constructor(M,x,F,ee,ve,Ce,Dt,bn,ai){this.url=M,this.params=x,this.queryParams=F,this.fragment=ee,this.data=ve,this.outlet=Ce,this.component=Dt,this.routeConfig=bn,this._resolve=ai}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mr extends Rr{constructor(M,x){super(x),this.url=M,Ki(this,x)}toString(){return ki(this._root)}}function Ki(w,M){M.value._routerState=w,M.children.forEach(x=>Ki(w,x))}function ki(w){const M=w.children.length>0?` { ${w.children.map(ki).join(", ")} } `:"";return`${w.value}${M}`}function Tr(w){if(w.snapshot){const M=w.snapshot,x=w._futureSnapshot;w.snapshot=x,St(M.queryParams,x.queryParams)||w.queryParamsSubject.next(x.queryParams),M.fragment!==x.fragment&&w.fragmentSubject.next(x.fragment),St(M.params,x.params)||w.paramsSubject.next(x.params),function Ut(w,M){if(w.length!==M.length)return!1;for(let x=0;x<w.length;++x)if(!St(w[x],M[x]))return!1;return!0}(M.url,x.url)||w.urlSubject.next(x.url),St(M.data,x.data)||w.dataSubject.next(x.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Kr(w,M){const x=St(w.params,M.params)&&function ln(w,M){return Wt(w,M)&&w.every((x,F)=>St(x.parameters,M[F].parameters))}(w.url,M.url);return x&&!(!w.parent!=!M.parent)&&(!w.parent||Kr(w.parent,M.parent))}let ci=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Wr),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(_o,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(x){if(x.name){const{firstChange:F,previousValue:ee}=x.name;if(F)return;this.isTrackedInParentContexts(ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ee)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(x){return this.parentContexts.getContext(x)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const x=this.parentContexts.getContext(this.name);x?.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,F){this.activated=x,this._activatedRoute=F,this.location.insert(x.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,F){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=x;const ee=this.location,Ce=x.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,bn=new Mo(x,Dt,ee.injector);this.activated=ee.createComponent(Ce,{index:ee.length,injector:bn,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275dir=d.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),w})();class Mo{constructor(M,x,F){this.route=M,this.childContexts=x,this.parent=F}get(M,x){return M===Nn?this.route:M===Wr?this.childContexts:this.parent.get(M,x)}}const _o=new d.OlP("");let Pr=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(x){this.unsubscribeFromRouteData(x),this.subscribeToRouteData(x)}unsubscribeFromRouteData(x){this.outletDataSubscriptions.get(x)?.unsubscribe(),this.outletDataSubscriptions.delete(x)}subscribeToRouteData(x){const{activatedRoute:F}=x,ee=(0,_e.a)([F.queryParams,F.params,F.data]).pipe((0,be.w)(([ve,Ce,Dt],bn)=>(Dt={...ve,...Ce,...Dt},0===bn?(0,ae.of)(Dt):Promise.resolve(Dt)))).subscribe(ve=>{if(!x.isActivated||!x.activatedComponentRef||x.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(x);const Ce=(0,d.qFp)(F.component);if(Ce)for(const{templateName:Dt}of Ce.inputs)x.activatedComponentRef.setInput(Dt,ve[Dt]);else this.unsubscribeFromRouteData(x)});this.outletDataSubscriptions.set(x,ee)}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})();function Vo(w,M,x){if(x&&w.shouldReuseRoute(M.value,x.value.snapshot)){const F=x.value;F._futureSnapshot=M.value;const ee=function is(w,M,x){return M.children.map(F=>{for(const ee of x.children)if(w.shouldReuseRoute(F.value,ee.value.snapshot))return Vo(w,F,ee);return Vo(w,F)})}(w,M,x);return new lt(F,ee)}{if(w.shouldAttach(M.value)){const ve=w.retrieve(M.value);if(null!==ve){const Ce=ve.route;return Ce.value._futureSnapshot=M.value,Ce.children=M.children.map(Dt=>Vo(w,Dt)),Ce}}const F=function rs(w){return new Nn(new Y.X(w.url),new Y.X(w.params),new Y.X(w.queryParams),new Y.X(w.fragment),new Y.X(w.data),w.outlet,w.component,w)}(M.value),ee=M.children.map(ve=>Vo(w,ve));return new lt(F,ee)}}const os="ngNavigationCancelingError";function Ls(w,M){const{redirectTo:x,navigationBehaviorOptions:F}=Ot(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,ee=Hi(!1,0,M);return ee.url=x,ee.navigationBehaviorOptions=F,ee}function Hi(w,M,x){const F=new Error("NavigationCancelingError: "+(w||""));return F[os]=!0,F.cancellationCode=M,x&&(F.url=x),F}function ar(w){return Cs(w)&&Ot(w.url)}function Cs(w){return w&&w[os]}let Ao=(()=>{class w{}return w.\u0275fac=function(x){return new(x||w)},w.\u0275cmp=d.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(x,F){1&x&&d._UZ(0,"router-outlet")},dependencies:[ci],encapsulation:2}),w})();function jo(w){const M=w.children&&w.children.map(jo),x=M?{...w,children:M}:{...w};return!x.component&&!x.loadComponent&&(M||x.loadChildren)&&x.outlet&&x.outlet!==At&&(x.component=Ao),x}function qi(w){return w.outlet||At}function po(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let M=w.parent;M;M=M.parent){const x=M.routeConfig;if(x?._loadedInjector)return x._loadedInjector;if(x?._injector)return x._injector}return null}class nr{constructor(M,x,F,ee,ve){this.routeReuseStrategy=M,this.futureState=x,this.currState=F,this.forwardEvent=ee,this.inputBindingEnabled=ve}activate(M){const x=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,F,M),Tr(this.futureState.root),this.activateChildRoutes(x,F,M)}deactivateChildRoutes(M,x,F){const ee=Pt(x);M.children.forEach(ve=>{const Ce=ve.value.outlet;this.deactivateRoutes(ve,ee[Ce],F),delete ee[Ce]}),Object.values(ee).forEach(ve=>{this.deactivateRouteAndItsChildren(ve,F)})}deactivateRoutes(M,x,F){const ee=M.value,ve=x?x.value:null;if(ee===ve)if(ee.component){const Ce=F.getContext(ee.outlet);Ce&&this.deactivateChildRoutes(M,x,Ce.children)}else this.deactivateChildRoutes(M,x,F);else ve&&this.deactivateRouteAndItsChildren(x,F)}deactivateRouteAndItsChildren(M,x){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,x):this.deactivateRouteAndOutlet(M,x)}detachAndStoreRouteSubtree(M,x){const F=x.getContext(M.value.outlet),ee=F&&M.value.component?F.children:x,ve=Pt(M);for(const Ce of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Ce],ee);if(F&&F.outlet){const Ce=F.outlet.detach(),Dt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Ce,route:M,contexts:Dt})}}deactivateRouteAndOutlet(M,x){const F=x.getContext(M.value.outlet),ee=F&&M.value.component?F.children:x,ve=Pt(M);for(const Ce of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Ce],ee);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(M,x,F){const ee=Pt(x);M.children.forEach(ve=>{this.activateRoutes(ve,ee[ve.value.outlet],F),this.forwardEvent(new ns(ve.value.snapshot))}),M.children.length&&this.forwardEvent(new Or(M.value.snapshot))}activateRoutes(M,x,F){const ee=M.value,ve=x?x.value:null;if(Tr(ee),ee===ve)if(ee.component){const Ce=F.getOrCreateContext(ee.outlet);this.activateChildRoutes(M,x,Ce.children)}else this.activateChildRoutes(M,x,F);else if(ee.component){const Ce=F.getOrCreateContext(ee.outlet);if(this.routeReuseStrategy.shouldAttach(ee.snapshot)){const Dt=this.routeReuseStrategy.retrieve(ee.snapshot);this.routeReuseStrategy.store(ee.snapshot,null),Ce.children.onOutletReAttached(Dt.contexts),Ce.attachRef=Dt.componentRef,Ce.route=Dt.route.value,Ce.outlet&&Ce.outlet.attach(Dt.componentRef,Dt.route.value),Tr(Dt.route.value),this.activateChildRoutes(M,null,Ce.children)}else{const Dt=po(ee.snapshot);Ce.attachRef=null,Ce.route=ee,Ce.injector=Dt,Ce.outlet&&Ce.outlet.activateWith(ee,Ce.injector),this.activateChildRoutes(M,null,Ce.children)}}else this.activateChildRoutes(M,null,F)}}class Oo{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class zo{constructor(M,x){this.component=M,this.route=x}}function Js(w,M,x){const F=w._root;return K(F,M?M._root:null,x,[F.value])}function je(w,M){const x=Symbol(),F=M.get(w,x);return F===x?"function"!=typeof w||(0,d.Z0I)(w)?M.get(w):w:F}function K(w,M,x,F,ee={canDeactivateChecks:[],canActivateChecks:[]}){const ve=Pt(M);return w.children.forEach(Ce=>{(function rt(w,M,x,F,ee={canDeactivateChecks:[],canActivateChecks:[]}){const ve=w.value,Ce=M?M.value:null,Dt=x?x.getContext(w.value.outlet):null;if(Ce&&ve.routeConfig===Ce.routeConfig){const bn=function un(w,M,x){if("function"==typeof x)return x(w,M);switch(x){case"pathParamsChange":return!Wt(w.url,M.url);case"pathParamsOrQueryParamsChange":return!Wt(w.url,M.url)||!St(w.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kr(w,M)||!St(w.queryParams,M.queryParams);default:return!Kr(w,M)}}(Ce,ve,ve.routeConfig.runGuardsAndResolvers);bn?ee.canActivateChecks.push(new Oo(F)):(ve.data=Ce.data,ve._resolvedData=Ce._resolvedData),K(w,M,ve.component?Dt?Dt.children:null:x,F,ee),bn&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&ee.canDeactivateChecks.push(new zo(Dt.outlet.component,Ce))}else Ce&&xn(M,Dt,ee),ee.canActivateChecks.push(new Oo(F)),K(w,null,ve.component?Dt?Dt.children:null:x,F,ee)})(Ce,ve[Ce.value.outlet],x,F.concat([Ce.value]),ee),delete ve[Ce.value.outlet]}),Object.entries(ve).forEach(([Ce,Dt])=>xn(Dt,x.getContext(Ce),ee)),ee}function xn(w,M,x){const F=Pt(w),ee=w.value;Object.entries(F).forEach(([ve,Ce])=>{xn(Ce,ee.component?M?M.children.getContext(ve):null:M,x)}),x.canDeactivateChecks.push(new zo(ee.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,ee))}function Mi(w){return"function"==typeof w}function v(w){return w instanceof Ee.K||"EmptyError"===w?.name}const C=Symbol("INITIAL_VALUE");function J(){return(0,be.w)(w=>(0,_e.a)(w.map(M=>M.pipe((0,Me.q)(1),(0,$e.O)(C)))).pipe((0,Ie.U)(M=>{for(const x of M)if(!0!==x){if(x===C)return C;if(!1===x||x instanceof qe)return x}return!0}),(0,Z.h)(M=>M!==C),(0,Me.q)(1)))}function Vr(w){return(0,me.z)((0,yt.b)(M=>{if(Ot(M))throw Ls(0,M)}),(0,Ie.U)(M=>!0===M))}class Wi{constructor(M){this.segmentGroup=M||null}}class vr{constructor(M){this.urlTree=M}}function Oi(w){return(0,Xe._)(new Wi(w))}function Po(w){return(0,Xe._)(new vr(w))}class Br{constructor(M,x){this.urlSerializer=M,this.urlTree=x}noMatchError(M){return new d.vHH(4002,!1)}lineralizeSegments(M,x){let F=[],ee=x.root;for(;;){if(F=F.concat(ee.segments),0===ee.numberOfChildren)return(0,ae.of)(F);if(ee.numberOfChildren>1||!ee.children[At])return(0,Xe._)(new d.vHH(4e3,!1));ee=ee.children[At]}}applyRedirectCommands(M,x,F){return this.applyRedirectCreateUrlTree(x,this.urlSerializer.parse(x),M,F)}applyRedirectCreateUrlTree(M,x,F,ee){const ve=this.createSegmentGroup(M,x.root,F,ee);return new qe(ve,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(M,x){const F={};return Object.entries(M).forEach(([ee,ve])=>{if("string"==typeof ve&&ve.startsWith(":")){const Dt=ve.substring(1);F[ee]=x[Dt]}else F[ee]=ve}),F}createSegmentGroup(M,x,F,ee){const ve=this.createSegments(M,x.segments,F,ee);let Ce={};return Object.entries(x.children).forEach(([Dt,bn])=>{Ce[Dt]=this.createSegmentGroup(M,bn,F,ee)}),new Ae(ve,Ce)}createSegments(M,x,F,ee){return x.map(ve=>ve.path.startsWith(":")?this.findPosParam(M,ve,ee):this.findOrReturn(ve,F))}findPosParam(M,x,F){const ee=F[x.path.substring(1)];if(!ee)throw new d.vHH(4001,!1);return ee}findOrReturn(M,x){let F=0;for(const ee of x){if(ee.path===M.path)return x.splice(F),ee;F++}return M}}const xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function as(w,M,x,F,ee){const ve=Ds(w,M,x);return ve.matched?(F=function zi(w,M){return w.providers&&!w._injector&&(w._injector=(0,d.MMx)(w.providers,M,`Route: ${w.path}`)),w._injector??M}(M,F),function _r(w,M,x,F){const ee=M.canMatch;if(!ee||0===ee.length)return(0,ae.of)(!0);const ve=ee.map(Ce=>{const Dt=je(Ce,w);return _n(function Os(w){return w&&Mi(w.canMatch)}(Dt)?Dt.canMatch(M,x):w.runInContext(()=>Dt(M,x)))});return(0,ae.of)(ve).pipe(J(),Vr())}(F,M,x).pipe((0,Ie.U)(Ce=>!0===Ce?ve:{...xo}))):(0,ae.of)(ve)}function Ds(w,M,x){if(""===M.path)return"full"===M.pathMatch&&(w.hasChildren()||x.length>0)?{...xo}:{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const ee=(M.matcher||bt)(x,w,M);if(!ee)return{...xo};const ve={};Object.entries(ee.posParams??{}).forEach(([Dt,bn])=>{ve[Dt]=bn.path});const Ce=ee.consumed.length>0?{...ve,...ee.consumed[ee.consumed.length-1].parameters}:ve;return{matched:!0,consumedSegments:ee.consumed,remainingSegments:x.slice(ee.consumed.length),parameters:Ce,positionalParamSegments:ee.posParams??{}}}function ys(w,M,x,F){return x.length>0&&function ca(w,M,x){return x.some(F=>so(w,M,F)&&qi(F)!==At)}(w,x,F)?{segmentGroup:new Ae(M,la(F,new Ae(x,w.children))),slicedSegments:[]}:0===x.length&&function Ta(w,M,x){return x.some(F=>so(w,M,F))}(w,x,F)?{segmentGroup:new Ae(w.segments,Us(w,0,x,F,w.children)),slicedSegments:x}:{segmentGroup:new Ae(w.segments,w.children),slicedSegments:x}}function Us(w,M,x,F,ee){const ve={};for(const Ce of F)if(so(w,x,Ce)&&!ee[qi(Ce)]){const Dt=new Ae([],{});ve[qi(Ce)]=Dt}return{...ee,...ve}}function la(w,M){const x={};x[At]=M;for(const F of w)if(""===F.path&&qi(F)!==At){const ee=new Ae([],{});x[qi(F)]=ee}return x}function so(w,M,x){return(!(w.hasChildren()||M.length>0)||"full"!==x.pathMatch)&&""===x.path}class Hs{constructor(M,x,F,ee,ve,Ce,Dt){this.injector=M,this.configLoader=x,this.rootComponentType=F,this.config=ee,this.urlTree=ve,this.paramsInheritanceStrategy=Ce,this.urlSerializer=Dt,this.allowRedirects=!0,this.applyRedirects=new Br(this.urlSerializer,this.urlTree)}noMatchError(M){return new d.vHH(4002,!1)}recognize(){const M=ys(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,At).pipe((0,vn.K)(x=>{if(x instanceof vr)return this.allowRedirects=!1,this.urlTree=x.urlTree,this.match(x.urlTree);throw x instanceof Wi?this.noMatchError(x):x}),(0,Ie.U)(x=>{const F=new Ur([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),ee=new lt(F,x),ve=new mr("",ee),Ce=function en(w,M,x=null,F=null){return An(ti(w),M,x,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Ce.queryParams=this.urlTree.queryParams,ve.url=this.urlSerializer.serialize(Ce),this.inheritParamsAndData(ve._root),{state:ve,tree:Ce}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,At).pipe((0,vn.K)(F=>{throw F instanceof Wi?this.noMatchError(F):F}))}inheritParamsAndData(M){const x=M.value,F=si(x,this.paramsInheritanceStrategy);x.params=Object.freeze(F.params),x.data=Object.freeze(F.data),M.children.forEach(ee=>this.inheritParamsAndData(ee))}processSegmentGroup(M,x,F,ee){return 0===F.segments.length&&F.hasChildren()?this.processChildren(M,x,F):this.processSegment(M,x,F,F.segments,ee,!0)}processChildren(M,x,F){const ee=[];for(const ve of Object.keys(F.children))"primary"===ve?ee.unshift(ve):ee.push(ve);return(0,xe.D)(ee).pipe((0,ze.b)(ve=>{const Ce=F.children[ve],Dt=function wr(w,M){const x=w.filter(F=>qi(F)===M);return x.push(...w.filter(F=>qi(F)!==M)),x}(x,ve);return this.processSegmentGroup(M,Dt,Ce,ve)}),(0,On.R)((ve,Ce)=>(ve.push(...Ce),ve)),(0,ut.d)(null),function qt(w,M){const x=arguments.length>=2;return F=>F.pipe(w?(0,Z.h)((ee,ve)=>w(ee,ve,F)):Ft.y,ht(1),x?(0,ut.d)(M):(0,Rt.T)(()=>new Ee.K))}(),(0,We.z)(ve=>{if(null===ve)return Oi(F);const Ce=wa(ve);return function da(w){w.sort((M,x)=>M.value.outlet===At?-1:x.value.outlet===At?1:M.value.outlet.localeCompare(x.value.outlet))}(Ce),(0,ae.of)(Ce)}))}processSegment(M,x,F,ee,ve,Ce){return(0,xe.D)(x).pipe((0,ze.b)(Dt=>this.processSegmentAgainstRoute(Dt._injector??M,x,Dt,F,ee,ve,Ce).pipe((0,vn.K)(bn=>{if(bn instanceof Wi)return(0,ae.of)(null);throw bn}))),(0,Fe.P)(Dt=>!!Dt),(0,vn.K)(Dt=>{if(v(Dt))return function Fo(w,M,x){return 0===M.length&&!w.children[x]}(F,ee,ve)?(0,ae.of)([]):Oi(F);throw Dt}))}processSegmentAgainstRoute(M,x,F,ee,ve,Ce,Dt){return function _l(w,M,x,F){return!!(qi(w)===F||F!==At&&so(M,x,w))&&("**"===w.path||Ds(M,w,x).matched)}(F,ee,ve,Ce)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(M,ee,F,ve,Ce,Dt):Dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,ee,x,F,ve,Ce):Oi(ee):Oi(ee)}expandSegmentAgainstRouteUsingRedirect(M,x,F,ee,ve,Ce){return"**"===ee.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,F,ee,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(M,x,F,ee,ve,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,x,F,ee){const ve=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Po(ve):this.applyRedirects.lineralizeSegments(F,ve).pipe((0,We.z)(Ce=>{const Dt=new Ae(Ce,{});return this.processSegment(M,x,Dt,Ce,ee,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,x,F,ee,ve,Ce){const{matched:Dt,consumedSegments:bn,remainingSegments:ai,positionalParamSegments:Jn}=Ds(x,ee,ve);if(!Dt)return Oi(x);const Xi=this.applyRedirects.applyRedirectCommands(bn,ee.redirectTo,Jn);return ee.redirectTo.startsWith("/")?Po(Xi):this.applyRedirects.lineralizeSegments(ee,Xi).pipe((0,We.z)(Jr=>this.processSegment(M,F,x,Jr.concat(ai),Ce,!1)))}matchSegmentAgainstRoute(M,x,F,ee,ve,Ce){let Dt;if("**"===F.path){const bn=ee.length>0?Xt(ee).parameters:{},ai=new Ur(ee,bn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ma(F),qi(F),F.component??F._loadedComponent??null,F,ta(F));Dt=(0,ae.of)({snapshot:ai,consumedSegments:[],remainingSegments:[]}),x.children={}}else Dt=as(x,F,ee,M).pipe((0,Ie.U)(({matched:bn,consumedSegments:ai,remainingSegments:Jn,parameters:Xi})=>bn?{snapshot:new Ur(ai,Xi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ma(F),qi(F),F.component??F._loadedComponent??null,F,ta(F)),consumedSegments:ai,remainingSegments:Jn}:null));return Dt.pipe((0,be.w)(bn=>null===bn?Oi(x):this.getChildConfig(M=F._injector??M,F,ee).pipe((0,be.w)(({routes:ai})=>{const Jn=F._loadedInjector??M,{snapshot:Xi,consumedSegments:Jr,remainingSegments:Ea}=bn,{segmentGroup:fs,slicedSegments:ri}=ys(x,Jr,Ea,ai);if(0===ri.length&&fs.hasChildren())return this.processChildren(Jn,ai,fs).pipe((0,Ie.U)(ui=>null===ui?null:[new lt(Xi,ui)]));if(0===ai.length&&0===ri.length)return(0,ae.of)([new lt(Xi,[])]);const mt=qi(F)===ve;return this.processSegment(Jn,ai,fs,ri,mt?At:ve,!0).pipe((0,Ie.U)(ui=>[new lt(Xi,ui)]))}))))}getChildConfig(M,x,F){return x.children?(0,ae.of)({routes:x.children,injector:M}):x.loadChildren?void 0!==x._loadedRoutes?(0,ae.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):function gr(w,M,x,F){const ee=M.canLoad;if(void 0===ee||0===ee.length)return(0,ae.of)(!0);const ve=ee.map(Ce=>{const Dt=je(Ce,w);return _n(function Fr(w){return w&&Mi(w.canLoad)}(Dt)?Dt.canLoad(M,x):w.runInContext(()=>Dt(M,x)))});return(0,ae.of)(ve).pipe(J(),Vr())}(M,x,F).pipe((0,We.z)(ee=>ee?this.configLoader.loadChildren(M,x).pipe((0,yt.b)(ve=>{x._loadedRoutes=ve.routes,x._loadedInjector=ve.injector})):function Lr(w){return(0,Xe._)(Hi(!1,3))}())):(0,ae.of)({routes:[],injector:M})}}function ea(w){const M=w.value.routeConfig;return M&&""===M.path}function wa(w){const M=[],x=new Set;for(const F of w){if(!ea(F)){M.push(F);continue}const ee=M.find(ve=>F.value.routeConfig===ve.value.routeConfig);void 0!==ee?(ee.children.push(...F.children),x.add(ee)):M.push(F)}for(const F of x){const ee=wa(F.children);M.push(new lt(F.value,ee))}return M.filter(F=>!x.has(F))}function Ma(w){return w.data||{}}function ta(w){return w.resolve||{}}function ds(w){return"string"==typeof w.title||null===w.title}function lr(w){return(0,be.w)(M=>{const x=w(M);return x?(0,xe.D)(x).pipe((0,Ie.U)(()=>M)):(0,ae.of)(M)})}const Eo=new d.OlP("ROUTES");let Ys=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(x){if(this.componentLoaders.get(x))return this.componentLoaders.get(x);if(x._loadedComponent)return(0,ae.of)(x._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(x);const F=_n(x.loadComponent()).pipe((0,Ie.U)(ha),(0,yt.b)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(x),x._loadedComponent=ve}),(0,dn.x)(()=>{this.componentLoaders.delete(x)})),ee=new Re(F,()=>new wt.x).pipe(He());return this.componentLoaders.set(x,ee),ee}loadChildren(x,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,ae.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ve=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Ie.U)(Dt=>{this.onLoadEndListener&&this.onLoadEndListener(F);let bn,ai;return Array.isArray(Dt)?ai=Dt:(bn=Dt.create(x).injector,ai=bn.get(Eo,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:ai.map(jo),injector:bn}}),(0,dn.x)(()=>{this.childrenLoaders.delete(F)})),Ce=new Re(ve,()=>new wt.x).pipe(He());return this.childrenLoaders.set(F,Ce),Ce}loadModuleFactoryOrRoutes(x){return _n(x()).pipe((0,Ie.U)(ha),(0,We.z)(F=>F instanceof d.YKP||Array.isArray(F)?(0,ae.of)(F):(0,xe.D)(this.compiler.compileModuleAsync(F))))}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ha(w){return function Li(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let R=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new wt.x,this.configLoader=(0,d.f3M)(Ys),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Rn),this.rootContexts=(0,d.f3M)(Wr),this.inputBindingEnabled=null!==(0,d.f3M)(_o,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ee=>this.events.next(new Yo(ee)),this.configLoader.onLoadStartListener=ee=>this.events.next(new vs(ee))}complete(){this.transitions?.complete()}handleNavigationRequest(x){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...x,id:F})}setupNavigations(x){return this.transitions=new Y.X({id:0,currentUrlTree:x.currentUrlTree,currentRawUrl:x.currentUrlTree,extractedUrl:x.urlHandlingStrategy.extract(x.currentUrlTree),urlAfterRedirects:x.urlHandlingStrategy.extract(x.currentUrlTree),rawUrl:x.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kr,restoredState:null,currentSnapshot:x.routerState.snapshot,targetSnapshot:null,currentRouterState:x.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Z.h)(F=>0!==F.id),(0,Ie.U)(F=>({...F,extractedUrl:x.urlHandlingStrategy.extract(F.rawUrl)})),(0,be.w)(F=>{let ee=!1,ve=!1;return(0,ae.of)(F).pipe((0,yt.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,be.w)(Ce=>{const Dt=x.browserUrlTree.toString(),bn=!x.navigated||Ce.extractedUrl.toString()!==Dt||Dt!==x.currentUrlTree.toString();if(!bn&&"reload"!==(Ce.extras.onSameUrlNavigation??x.onSameUrlNavigation)){const Jn="";return this.events.next(new go(Ce.id,x.serializeUrl(F.rawUrl),Jn,0)),x.rawUrlTree=Ce.rawUrl,Ce.resolve(null),Ne.E}if(x.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return Q(Ce.source)&&(x.browserUrlTree=Ce.extractedUrl),(0,ae.of)(Ce).pipe((0,be.w)(Jn=>{const Xi=this.transitions?.getValue();return this.events.next(new uo(Jn.id,this.urlSerializer.serialize(Jn.extractedUrl),Jn.source,Jn.restoredState)),Xi!==this.transitions?.getValue()?Ne.E:Promise.resolve(Jn)}),function ua(w,M,x,F,ee,ve){return(0,We.z)(Ce=>function ba(w,M,x,F,ee,ve,Ce="emptyOnly"){return new Hs(w,M,x,F,ee,Ce,ve).recognize()}(w,M,x,F,Ce.extractedUrl,ee,ve).pipe((0,Ie.U)(({state:Dt,tree:bn})=>({...Ce,targetSnapshot:Dt,urlAfterRedirects:bn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,x.config,this.urlSerializer,x.paramsInheritanceStrategy),(0,yt.b)(Jn=>{if(F.targetSnapshot=Jn.targetSnapshot,F.urlAfterRedirects=Jn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jn.urlAfterRedirects},"eager"===x.urlUpdateStrategy){if(!Jn.extras.skipLocationChange){const Jr=x.urlHandlingStrategy.merge(Jn.urlAfterRedirects,Jn.rawUrl);x.setBrowserUrl(Jr,Jn)}x.browserUrlTree=Jn.urlAfterRedirects}const Xi=new hr(Jn.id,this.urlSerializer.serialize(Jn.extractedUrl),this.urlSerializer.serialize(Jn.urlAfterRedirects),Jn.targetSnapshot);this.events.next(Xi)}));if(bn&&x.urlHandlingStrategy.shouldProcessUrl(x.rawUrlTree)){const{id:Jn,extractedUrl:Xi,source:Jr,restoredState:Ea,extras:fs}=Ce,ri=new uo(Jn,this.urlSerializer.serialize(Xi),Jr,Ea);this.events.next(ri);const mt=fn(0,this.rootComponentType).snapshot;return F={...Ce,targetSnapshot:mt,urlAfterRedirects:Xi,extras:{...fs,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(F)}{const Jn="";return this.events.next(new go(Ce.id,x.serializeUrl(F.extractedUrl),Jn,1)),x.rawUrlTree=Ce.rawUrl,Ce.resolve(null),Ne.E}}),(0,yt.b)(Ce=>{const Dt=new Gr(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(Dt)}),(0,Ie.U)(Ce=>F={...Ce,guards:Js(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)}),function De(w,M){return(0,We.z)(x=>{const{targetSnapshot:F,currentSnapshot:ee,guards:{canActivateChecks:ve,canDeactivateChecks:Ce}}=x;return 0===Ce.length&&0===ve.length?(0,ae.of)({...x,guardsResult:!0}):function ct(w,M,x,F){return(0,xe.D)(w).pipe((0,We.z)(ee=>function Ni(w,M,x,F,ee){const ve=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ve||0===ve.length)return(0,ae.of)(!0);const Ce=ve.map(Dt=>{const bn=po(M)??ee,ai=je(Dt,bn);return _n(function Ro(w){return w&&Mi(w.canDeactivate)}(ai)?ai.canDeactivate(w,M,x,F):bn.runInContext(()=>ai(w,M,x,F))).pipe((0,Fe.P)())});return(0,ae.of)(Ce).pipe(J())}(ee.component,ee.route,x,M,F)),(0,Fe.P)(ee=>!0!==ee,!0))}(Ce,F,ee,w).pipe((0,We.z)(Dt=>Dt&&function pr(w){return"boolean"==typeof w}(Dt)?function Nt(w,M,x,F){return(0,xe.D)(M).pipe((0,ze.b)(ee=>(0,se.z)(function Kn(w,M){return null!==w&&M&&M(new ro(w)),(0,ae.of)(!0)}(ee.route.parent,F),function Dn(w,M){return null!==w&&M&&M(new ts(w)),(0,ae.of)(!0)}(ee.route,F),function xi(w,M,x){const F=M[M.length-1],ve=M.slice(0,M.length-1).reverse().map(Ce=>function Ze(w){const M=w.routeConfig?w.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:w,guards:M}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>(0,de.P)(()=>{const Dt=Ce.guards.map(bn=>{const ai=po(Ce.node)??x,Jn=je(bn,ai);return _n(function Nr(w){return w&&Mi(w.canActivateChild)}(Jn)?Jn.canActivateChild(F,w):ai.runInContext(()=>Jn(F,w))).pipe((0,Fe.P)())});return(0,ae.of)(Dt).pipe(J())}));return(0,ae.of)(ve).pipe(J())}(w,ee.path,x),function Hn(w,M,x){const F=M.routeConfig?M.routeConfig.canActivate:null;if(!F||0===F.length)return(0,ae.of)(!0);const ee=F.map(ve=>(0,de.P)(()=>{const Ce=po(M)??x,Dt=je(ve,Ce);return _n(function wo(w){return w&&Mi(w.canActivate)}(Dt)?Dt.canActivate(M,w):Ce.runInContext(()=>Dt(M,w))).pipe((0,Fe.P)())}));return(0,ae.of)(ee).pipe(J())}(w,ee.route,x))),(0,Fe.P)(ee=>!0!==ee,!0))}(F,ve,w,M):(0,ae.of)(Dt)),(0,Ie.U)(Dt=>({...x,guardsResult:Dt})))})}(this.environmentInjector,Ce=>this.events.next(Ce)),(0,yt.b)(Ce=>{if(F.guardsResult=Ce.guardsResult,Ot(Ce.guardsResult))throw Ls(0,Ce.guardsResult);const Dt=new io(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.events.next(Dt)}),(0,Z.h)(Ce=>!!Ce.guardsResult||(x.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",3),!1)),lr(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,ae.of)(Ce).pipe((0,yt.b)(Dt=>{const bn=new So(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(bn)}),(0,be.w)(Dt=>{let bn=!1;return(0,ae.of)(Dt).pipe(function Ra(w,M){return(0,We.z)(x=>{const{targetSnapshot:F,guards:{canActivateChecks:ee}}=x;if(!ee.length)return(0,ae.of)(x);let ve=0;return(0,xe.D)(ee).pipe((0,ze.b)(Ce=>function Zs(w,M,x,F){const ee=w.routeConfig,ve=w._resolve;return void 0!==ee?.title&&!ds(ee)&&(ve[Ge]=ee.title),function ls(w,M,x,F){const ee=function cs(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===ee.length)return(0,ae.of)({});const ve={};return(0,xe.D)(ee).pipe((0,We.z)(Ce=>function Qo(w,M,x,F){const ee=po(M)??F,ve=je(w,ee);return _n(ve.resolve?ve.resolve(M,x):ee.runInContext(()=>ve(M,x)))}(w[Ce],M,x,F).pipe((0,Fe.P)(),(0,yt.b)(Dt=>{ve[Ce]=Dt}))),ht(1),(0,Yt.h)(ve),(0,vn.K)(Ce=>v(Ce)?Ne.E:(0,Xe._)(Ce)))}(ve,w,M,F).pipe((0,Ie.U)(Ce=>(w._resolvedData=Ce,w.data=si(w,x).resolve,ee&&ds(ee)&&(w.data[Ge]=ee.title),null)))}(Ce.route,F,w,M)),(0,yt.b)(()=>ve++),ht(1),(0,We.z)(Ce=>ve===ee.length?(0,ae.of)(x):Ne.E))})}(x.paramsInheritanceStrategy,this.environmentInjector),(0,yt.b)({next:()=>bn=!0,complete:()=>{bn||(x.restoreHistory(Dt),this.cancelNavigationTransition(Dt,"",2))}}))}),(0,yt.b)(Dt=>{const bn=new js(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(bn)}))}),lr(Ce=>{const Dt=bn=>{const ai=[];bn.routeConfig?.loadComponent&&!bn.routeConfig._loadedComponent&&ai.push(this.configLoader.loadComponent(bn.routeConfig).pipe((0,yt.b)(Jn=>{bn.component=Jn}),(0,Ie.U)(()=>{})));for(const Jn of bn.children)ai.push(...Dt(Jn));return ai};return(0,_e.a)(Dt(Ce.targetSnapshot.root)).pipe((0,ut.d)(),(0,Me.q)(1))}),lr(()=>this.afterPreactivation()),(0,Ie.U)(Ce=>{const Dt=function Qi(w,M,x){const F=Vo(w,M._root,x?x._root:void 0);return new nn(F,M)}(x.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return F={...Ce,targetRouterState:Dt}}),(0,yt.b)(Ce=>{x.currentUrlTree=Ce.urlAfterRedirects,x.rawUrlTree=x.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl),x.routerState=Ce.targetRouterState,"deferred"===x.urlUpdateStrategy&&(Ce.extras.skipLocationChange||x.setBrowserUrl(x.rawUrlTree,Ce),x.browserUrlTree=Ce.urlAfterRedirects)}),((w,M,x,F)=>(0,Ie.U)(ee=>(new nr(M,ee.targetRouterState,ee.currentRouterState,x,F).activate(w),ee)))(this.rootContexts,x.routeReuseStrategy,Ce=>this.events.next(Ce),this.inputBindingEnabled),(0,Me.q)(1),(0,yt.b)({next:Ce=>{ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,x.navigated=!0,this.events.next(new yi(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(x.currentUrlTree))),x.titleStrategy?.updateTitle(Ce.targetRouterState.snapshot),Ce.resolve(!0)},complete:()=>{ee=!0}}),(0,dn.x)(()=>{ee||ve||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),(0,vn.K)(Ce=>{if(ve=!0,Cs(Ce)){ar(Ce)||(x.navigated=!0,x.restoreHistory(F,!0));const Dt=new Zo(F.id,this.urlSerializer.serialize(F.extractedUrl),Ce.message,Ce.cancellationCode);if(this.events.next(Dt),ar(Ce)){const bn=x.urlHandlingStrategy.merge(Ce.url,x.rawUrlTree),ai={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===x.urlUpdateStrategy||Q(F.source)};x.scheduleNavigation(bn,kr,null,ai,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{x.restoreHistory(F,!0);const Dt=new no(F.id,this.urlSerializer.serialize(F.extractedUrl),Ce,F.targetSnapshot??void 0);this.events.next(Dt);try{F.resolve(x.errorHandler(Ce))}catch(bn){F.reject(bn)}}return Ne.E}))}))}cancelNavigationTransition(x,F,ee){const ve=new Zo(x.id,this.urlSerializer.serialize(x.extractedUrl),F,ee);this.events.next(ve),x.resolve(!1)}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Q(w){return w!==kr}let B=(()=>{class w{buildTitle(x){let F,ee=x.root;for(;void 0!==ee;)F=this.getResolvedTitleForRoute(ee)??F,ee=ee.children.find(ve=>ve.outlet===At);return F}getResolvedTitleForRoute(x){return x.data[Ge]}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(fe)},providedIn:"root"}),w})(),fe=(()=>{class w extends B{constructor(x){super(),this.title=x}updateTitle(x){const F=this.buildTitle(x);void 0!==F&&this.title.setTitle(F)}}return w.\u0275fac=function(x){return new(x||w)(d.LFG(rn.Dx))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Ye=(()=>{class w{}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(hn)},providedIn:"root"}),w})();class Qt{shouldDetach(M){return!1}store(M,x){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,x){return M.routeConfig===x.routeConfig}}let hn=(()=>{class w extends Qt{}return w.\u0275fac=function(){let M;return function(F){return(M||(M=d.n5z(w)))(F||w)}}(),w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const qn=new d.OlP("",{providedIn:"root",factory:()=>({})});let Zi=(()=>{class w{}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Pi)},providedIn:"root"}),w})(),Pi=(()=>{class w{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,F){return x}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();var Ei=(()=>((Ei=Ei||{})[Ei.COMPLETE=0]="COMPLETE",Ei[Ei.FAILED=1]="FAILED",Ei[Ei.REDIRECTING=2]="REDIRECTING",Ei))();function Ci(w,M){w.events.pipe((0,Z.h)(x=>x instanceof yi||x instanceof Zo||x instanceof no||x instanceof go),(0,Ie.U)(x=>x instanceof yi||x instanceof go?Ei.COMPLETE:x instanceof Zo&&(0===x.code||1===x.code)?Ei.REDIRECTING:Ei.FAILED),(0,Z.h)(x=>x!==Ei.REDIRECTING),(0,Me.q)(1)).subscribe(()=>{M()})}function ir(w){throw w}function zn(w,M,x){return M.parse("/")}const Yr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(qn,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||ir,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Zi),this.routeReuseStrategy=(0,d.f3M)(Ye),this.titleStrategy=(0,d.f3M)(B),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Eo,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(R),this.urlSerializer=(0,d.f3M)(Rn),this.location=(0,d.f3M)(ue.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(_o,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(x=>{this.lastSuccessfulId=x.id,this.currentPageId=this.browserPageId??0},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}resetRootComponentType(x){this.routerState.root.component=x,this.navigationTransitions.rootComponentType=x}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const x=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kr,x)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const F="popstate"===x.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(x.url,F,x.state)},0)}))}navigateToSyncWithBrowser(x,F,ee){const ve={replaceUrl:!0},Ce=ee?.navigationId?ee:null;if(ee){const bn={...ee};delete bn.navigationId,delete bn.\u0275routerPageId,0!==Object.keys(bn).length&&(ve.state=bn)}const Dt=this.parseUrl(x);this.scheduleNavigation(Dt,F,Ce,ve)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(x){this.config=x.map(jo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,F={}){const{relativeTo:ee,queryParams:ve,fragment:Ce,queryParamsHandling:Dt,preserveFragment:bn}=F,ai=bn?this.currentUrlTree.fragment:Ce;let Xi,Jn=null;switch(Dt){case"merge":Jn={...this.currentUrlTree.queryParams,...ve};break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=ve||null}null!==Jn&&(Jn=this.removeEmptyProps(Jn));try{Xi=ti(ee?ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof x[0]||!x[0].startsWith("/"))&&(x=[]),Xi=this.currentUrlTree.root}return An(Xi,x,Jn,ai??null)}navigateByUrl(x,F={skipLocationChange:!1}){const ee=Ot(x)?x:this.parseUrl(x),ve=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(ve,kr,null,F)}navigate(x,F={skipLocationChange:!1}){return function xa(w){for(let M=0;M<w.length;M++)if(null==w[M])throw new d.vHH(4008,!1)}(x),this.navigateByUrl(this.createUrlTree(x,F),F)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let F;try{F=this.urlSerializer.parse(x)}catch(ee){F=this.malformedUriErrorHandler(ee,this.urlSerializer,x)}return F}isActive(x,F){let ee;if(ee=!0===F?{...Yr}:!1===F?{...bs}:F,Ot(x))return Wn(this.currentUrlTree,x,ee);const ve=this.parseUrl(x);return Wn(this.currentUrlTree,ve,ee)}removeEmptyProps(x){return Object.keys(x).reduce((F,ee)=>{const ve=x[ee];return null!=ve&&(F[ee]=ve),F},{})}scheduleNavigation(x,F,ee,ve,Ce){if(this.disposed)return Promise.resolve(!1);let Dt,bn,ai;Ce?(Dt=Ce.resolve,bn=Ce.reject,ai=Ce.promise):ai=new Promise((Xi,Jr)=>{Dt=Xi,bn=Jr});const Jn=this.pendingTasks.add();return Ci(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Jn))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:x,extras:ve,resolve:Dt,reject:bn,promise:ai,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ai.catch(Xi=>Promise.reject(Xi))}setBrowserUrl(x,F){const ee=this.urlSerializer.serialize(x);if(this.location.isCurrentPathEqualTo(ee)||F.extras.replaceUrl){const Ce={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(ee,"",Ce)}else{const ve={...F.extras.state,...this.generateNgRouterState(F.id,(this.browserPageId??0)+1)};this.location.go(ee,"",ve)}}restoreHistory(x,F=!1){if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ve?this.location.historyGo(ve):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ve&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(x,F){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:F}:{navigationId:x}}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class ws{}let vl=(()=>{class w{constructor(x,F,ee,ve,Ce){this.router=x,this.injector=ee,this.preloadingStrategy=ve,this.loader=Ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Z.h)(x=>x instanceof yi),(0,ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,F){const ee=[];for(const ve of F){ve.providers&&!ve._injector&&(ve._injector=(0,d.MMx)(ve.providers,x,`Route: ${ve.path}`));const Ce=ve._injector??x,Dt=ve._loadedInjector??Ce;(ve.loadChildren&&!ve._loadedRoutes&&void 0===ve.canLoad||ve.loadComponent&&!ve._loadedComponent)&&ee.push(this.preloadConfig(Ce,ve)),(ve.children||ve._loadedRoutes)&&ee.push(this.processRoutes(Dt,ve.children??ve._loadedRoutes))}return(0,xe.D)(ee).pipe((0,pn.J)())}preloadConfig(x,F){return this.preloadingStrategy.preload(F,()=>{let ee;ee=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(x,F):(0,ae.of)(null);const ve=ee.pipe((0,We.z)(Ce=>null===Ce?(0,ae.of)(void 0):(F._loadedRoutes=Ce.routes,F._loadedInjector=Ce.injector,this.processRoutes(Ce.injector??x,Ce.routes))));if(F.loadComponent&&!F._loadedComponent){const Ce=this.loader.loadComponent(F);return(0,xe.D)([ve,Ce]).pipe((0,pn.J)())}return ve})}}return w.\u0275fac=function(x){return new(x||w)(d.LFG(qr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(ws),d.LFG(Ys))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const yl=new d.OlP("");let En=(()=>{class w{constructor(x,F,ee,ve,Ce={}){this.urlSerializer=x,this.transitions=F,this.viewportScroller=ee,this.zone=ve,this.options=Ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ce.scrollPositionRestoration=Ce.scrollPositionRestoration||"disabled",Ce.anchorScrolling=Ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof yi?(this.lastId=x.id,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.urlAfterRedirects).fragment)):x instanceof go&&0===x.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof fi&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fi(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return w.\u0275fac=function(x){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})();function hs(w,M){return{\u0275kind:w,\u0275providers:M}}function xr(){const w=(0,d.f3M)(d.zs3);return M=>{const x=w.get(d.z2F);if(M!==x.components[0])return;const F=w.get(qr),ee=w.get(Ss);1===w.get(Xr)&&F.initialNavigation(),w.get(Un,null,d.XFs.Optional)?.setUpPreloading(),w.get(yl,null,d.XFs.Optional)?.init(),F.resetRootComponentType(x.componentTypes[0]),ee.closed||(ee.next(),ee.complete(),ee.unsubscribe())}}const Ss=new d.OlP("",{factory:()=>new wt.x}),Xr=new d.OlP("",{providedIn:"root",factory:()=>1}),Un=new d.OlP("");function Jt(w){return hs(0,[{provide:Un,useExisting:vl},{provide:ws,useExisting:w}])}const V=new d.OlP("ROUTER_FORROOT_GUARD"),b=[ue.Ye,{provide:Rn,useClass:ke},qr,Wr,{provide:Nn,useFactory:function vo(w){return w.routerState.root},deps:[qr]},Ys,[]];function _(){return new d.PXZ("Router",qr)}let T=(()=>{class w{constructor(x){}static forRoot(x,F){return{ngModule:w,providers:[b,[],{provide:Eo,multi:!0,useValue:x},{provide:V,useFactory:at,deps:[[qr,new d.FiY,new d.tp0]]},{provide:qn,useValue:F||{}},F?.useHash?{provide:ue.S$,useClass:ue.Do}:{provide:ue.S$,useClass:ue.b0},{provide:yl,useFactory:()=>{const w=(0,d.f3M)(ue.EM),M=(0,d.f3M)(d.R0b),x=(0,d.f3M)(qn),F=(0,d.f3M)(R),ee=(0,d.f3M)(Rn);return x.scrollOffset&&w.setOffset(x.scrollOffset),new En(ee,F,w,M,x)}},F?.preloadingStrategy?Jt(F.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:_},F?.initialNavigation?vt(F):[],F?.bindToComponentInputs?hs(8,[Pr,{provide:_o,useExisting:Pr}]).\u0275providers:[],[{provide:sn,useFactory:xr},{provide:d.tb,multi:!0,useExisting:sn}]]}}static forChild(x){return{ngModule:w,providers:[{provide:Eo,multi:!0,useValue:x}]}}}return w.\u0275fac=function(x){return new(x||w)(d.LFG(V,8))},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({}),w})();function at(w){return"guarded"}function vt(w){return["disabled"===w.initialNavigation?hs(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const M=(0,d.f3M)(qr);return()=>{M.setUpLocationChangeListener()}}},{provide:Xr,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?hs(2,[{provide:Xr,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:M=>{const x=M.get(ue.V_,Promise.resolve());return()=>x.then(()=>new Promise(F=>{const ee=M.get(qr),ve=M.get(Ss);Ci(ee,()=>{F(!0)}),M.get(R).afterPreactivation=()=>(F(!0),ve.closed?(0,ae.of)(void 0):ve),ee.initialNavigation()}))}}]).\u0275providers:[]]}const sn=new d.OlP("")},3942:(gn,nt,E)=>{E.d(nt,{Z:()=>dt});var d=E(2090),L=E(4859),f=E(6881),ne=E(1877);class xe{constructor(Le,He){this._delegate=Le,this.firebase=He,(0,f._addComponent)(Le,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,f.deleteApp)(this._delegate)))}_getService(Le,He=f._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(Le);return!wt.isInitialized()&&"EXPLICIT"===(null===(Re=wt.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:He})}_removeServiceInstance(Le,He=f._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(He)}_addComponent(Le){(0,f._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,f._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Y=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Ee(){const it=function _e(it){const Le={},He={__esModule:!0,initializeApp:function ue($e,Z={}){const We=f.initializeApp($e,Z);if((0,d.r3)(Le,We.name))return Le[We.name];const Fe=new it(We,He);return Le[We.name]=Fe,Fe},app:wt,registerVersion:f.registerVersion,setLogLevel:f.setLogLevel,onLog:f.onLog,apps:null,SDK_VERSION:f.SDK_VERSION,INTERNAL:{registerComponent:function be($e){const Z=$e.name,We=Z.replace("-compat","");if(f._registerComponent($e)&&"PUBLIC"===$e.type){const Fe=(ze=wt())=>{if("function"!=typeof ze[We])throw Y.create("invalid-app-argument",{appName:Z});return ze[We]()};void 0!==$e.serviceProps&&(0,d.ZB)(Fe,$e.serviceProps),He[We]=Fe,it.prototype[We]=function(...ze){return this._getService.bind(this,Z).apply(this,$e.multipleInstances?ze:[])}}return"PUBLIC"===$e.type?He[We]:null},removeApp:function Re($e){delete Le[$e]},useAsService:function Me($e,Z){return"serverAuth"===Z?null:Z},modularAPIs:f}};function wt($e){if(!(0,d.r3)(Le,$e=$e||f._DEFAULT_ENTRY_NAME))throw Y.create("no-app",{appName:$e});return Le[$e]}return He.default=He,Object.defineProperty(He,"apps",{get:function Ie(){return Object.keys(Le).map($e=>Le[$e])}}),wt.App=it,He}(xe);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Le(He){(0,d.ZB)(it,He)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),it}(),de=new ne.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=se;!function Ne(it){(0,f.registerVersion)("@firebase/app-compat","0.2.12",it)}()},6881:(gn,nt,E)=>{E.r(nt),E.d(nt,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>_i,_DEFAULT_ENTRY_NAME:()=>st,_addComponent:()=>jt,_addOrOverwriteComponent:()=>ln,_apps:()=>qe,_clearComponents:()=>ke,_components:()=>Ae,_getProvider:()=>Gt,_registerComponent:()=>Wt,_removeServiceInstance:()=>Rn,deleteApp:()=>Je,getApp:()=>wi,getApps:()=>Kt,initializeApp:()=>ni,onLog:()=>Oe,registerVersion:()=>Be,setLogLevel:()=>Se});var d=E(5861),L=E(4859),f=E(1877),ne=E(2090);const xe=(Bt,Tt)=>Tt.some(wn=>Bt instanceof wn);let ae,Y;const se=new WeakMap,de=new WeakMap,me=new WeakMap,Xe=new WeakMap,Ne=new WeakMap;let Le={get(Bt,Tt,wn){if(Bt instanceof IDBTransaction){if("done"===Tt)return de.get(Bt);if("objectStoreNames"===Tt)return Bt.objectStoreNames||me.get(Bt);if("store"===Tt)return wn.objectStoreNames[1]?void 0:wn.objectStore(wn.objectStoreNames[0])}return ue(Bt[Tt])},set:(Bt,Tt,wn)=>(Bt[Tt]=wn,!0),has:(Bt,Tt)=>Bt instanceof IDBTransaction&&("done"===Tt||"store"===Tt)||Tt in Bt};function wt(Bt){return"function"==typeof Bt?function Re(Bt){return Bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Bt)?function(...Tt){return Bt.apply(Ie(this),Tt),ue(se.get(this))}:function(...Tt){return ue(Bt.apply(Ie(this),Tt))}:function(Tt,...wn){const Qn=Bt.call(Ie(this),Tt,...wn);return me.set(Qn,Tt.sort?Tt.sort():[Tt]),ue(Qn)}}(Bt):(Bt instanceof IDBTransaction&&function it(Bt){if(de.has(Bt))return;const Tt=new Promise((wn,Qn)=>{const Pn=()=>{Bt.removeEventListener("complete",jn),Bt.removeEventListener("error",hi),Bt.removeEventListener("abort",hi)},jn=()=>{wn(),Pn()},hi=()=>{Qn(Bt.error||new DOMException("AbortError","AbortError")),Pn()};Bt.addEventListener("complete",jn),Bt.addEventListener("error",hi),Bt.addEventListener("abort",hi)});de.set(Bt,Tt)}(Bt),xe(Bt,function _e(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Bt,Le):Bt)}function ue(Bt){if(Bt instanceof IDBRequest)return function dt(Bt){const Tt=new Promise((wn,Qn)=>{const Pn=()=>{Bt.removeEventListener("success",jn),Bt.removeEventListener("error",hi)},jn=()=>{wn(ue(Bt.result)),Pn()},hi=()=>{Qn(Bt.error),Pn()};Bt.addEventListener("success",jn),Bt.addEventListener("error",hi)});return Tt.then(wn=>{wn instanceof IDBCursor&&se.set(wn,Bt)}).catch(()=>{}),Ne.set(Tt,Bt),Tt}(Bt);if(Xe.has(Bt))return Xe.get(Bt);const Tt=wt(Bt);return Tt!==Bt&&(Xe.set(Bt,Tt),Ne.set(Tt,Bt)),Tt}const Ie=Bt=>Ne.get(Bt),$e=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],We=new Map;function Fe(Bt,Tt){if(!(Bt instanceof IDBDatabase)||Tt in Bt||"string"!=typeof Tt)return;if(We.get(Tt))return We.get(Tt);const wn=Tt.replace(/FromIndex$/,""),Qn=Tt!==wn,Pn=Z.includes(wn);if(!(wn in(Qn?IDBIndex:IDBObjectStore).prototype)||!Pn&&!$e.includes(wn))return;const jn=function(){var hi=(0,d.Z)(function*(sr,...Ti){const Ir=this.transaction(sr,Pn?"readwrite":"readonly");let mo=Ir.store;return Qn&&(mo=mo.index(Ti.shift())),(yield Promise.all([mo[wn](...Ti),Pn&&Ir.done]))[0]});return function(Ti){return hi.apply(this,arguments)}}();return We.set(Tt,jn),jn}!function He(Bt){Le=Bt(Le)}(Bt=>({...Bt,get:(Tt,wn,Qn)=>Fe(Tt,wn)||Bt.get(Tt,wn,Qn),has:(Tt,wn)=>!!Fe(Tt,wn)||Bt.has(Tt,wn)}));class ze{constructor(Tt){this.container=Tt}getPlatformInfoString(){return this.container.getProviders().map(wn=>{if(function yt(Bt){const Tt=Bt.getComponent();return"VERSION"===Tt?.type}(wn)){const Qn=wn.getImmediate();return`${Qn.library}/${Qn.version}`}return null}).filter(wn=>wn).join(" ")}}const vn="@firebase/app",ut=new f.Yd("@firebase/app"),st="[DEFAULT]",Ke={[vn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qe=new Map,Ae=new Map;function jt(Bt,Tt){try{Bt.container.addComponent(Tt)}catch(wn){ut.debug(`Component ${Tt.name} failed to register with FirebaseApp ${Bt.name}`,wn)}}function ln(Bt,Tt){Bt.container.addOrOverwriteComponent(Tt)}function Wt(Bt){const Tt=Bt.name;if(Ae.has(Tt))return ut.debug(`There were multiple attempts to register component ${Tt}.`),!1;Ae.set(Tt,Bt);for(const wn of qe.values())jt(wn,Bt);return!0}function Gt(Bt,Tt){const wn=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return wn&&wn.triggerHeartbeat(),Bt.container.getProvider(Tt)}function Rn(Bt,Tt,wn=st){Gt(Bt,Tt).clearInstance(wn)}function ke(){Ae.clear()}const $t=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(Tt,wn,Qn){this._isDeleted=!1,this._options=Object.assign({},Tt),this._config=Object.assign({},wn),this._name=wn.name,this._automaticDataCollectionEnabled=wn.automaticDataCollectionEnabled,this._container=Qn,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Tt){this._isDeleted=Tt}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}const _i="9.22.2";function ni(Bt,Tt={}){let wn=Bt;"object"!=typeof Tt&&(Tt={name:Tt});const Qn=Object.assign({name:st,automaticDataCollectionEnabled:!1},Tt),Pn=Qn.name;if("string"!=typeof Pn||!Pn)throw $t.create("bad-app-name",{appName:String(Pn)});if(wn||(wn=(0,ne.aH)()),!wn)throw $t.create("no-options");const jn=qe.get(Pn);if(jn){if((0,ne.vZ)(wn,jn.options)&&(0,ne.vZ)(Qn,jn.config))return jn;throw $t.create("duplicate-app",{appName:Pn})}const hi=new L.H0(Pn);for(const Ti of Ae.values())hi.addComponent(Ti);const sr=new Sn(wn,Qn,hi);return qe.set(Pn,sr),sr}function wi(Bt=st){const Tt=qe.get(Bt);if(!Tt&&Bt===st&&(0,ne.aH)())return ni();if(!Tt)throw $t.create("no-app",{appName:Bt});return Tt}function Kt(){return Array.from(qe.values())}function Je(Bt){return ot.apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(Bt){const Tt=Bt.name;qe.has(Tt)&&(qe.delete(Tt),yield Promise.all(Bt.container.getProviders().map(wn=>wn.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function Be(Bt,Tt,wn){var Qn;let Pn=null!==(Qn=Ke[Bt])&&void 0!==Qn?Qn:Bt;wn&&(Pn+=`-${wn}`);const jn=Pn.match(/\s|\//),hi=Tt.match(/\s|\//);if(jn||hi){const sr=[`Unable to register library "${Pn}" with version "${Tt}":`];return jn&&sr.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),jn&&hi&&sr.push("and"),hi&&sr.push(`version name "${Tt}" contains illegal characters (whitespace or "/")`),void ut.warn(sr.join(" "))}Wt(new L.wA(`${Pn}-version`,()=>({library:Pn,version:Tt}),"VERSION"))}function Oe(Bt,Tt){if(null!==Bt&&"function"!=typeof Bt)throw $t.create("invalid-log-argument");(0,f.Am)(Bt,Tt)}function Se(Bt){(0,f.Ub)(Bt)}const Et="firebase-heartbeat-database",Ht=1,Te="firebase-heartbeat-store";let oe=null;function H(){return oe||(oe=function be(Bt,Tt,{blocked:wn,upgrade:Qn,blocking:Pn,terminated:jn}={}){const hi=indexedDB.open(Bt,Tt),sr=ue(hi);return Qn&&hi.addEventListener("upgradeneeded",Ti=>{Qn(ue(hi.result),Ti.oldVersion,Ti.newVersion,ue(hi.transaction),Ti)}),wn&&hi.addEventListener("blocked",Ti=>wn(Ti.oldVersion,Ti.newVersion,Ti)),sr.then(Ti=>{jn&&Ti.addEventListener("close",()=>jn()),Pn&&Ti.addEventListener("versionchange",Ir=>Pn(Ir.oldVersion,Ir.newVersion,Ir))}).catch(()=>{}),sr}(Et,Ht,{upgrade:(Bt,Tt)=>{0===Tt&&Bt.createObjectStore(Te)}}).catch(Bt=>{throw $t.create("idb-open",{originalErrorMessage:Bt.message})})),oe}function z(){return(z=(0,d.Z)(function*(Bt){try{return yield(yield H()).transaction(Te).objectStore(Te).get(ye(Bt))}catch(Tt){if(Tt instanceof ne.ZR)ut.warn(Tt.message);else{const wn=$t.create("idb-get",{originalErrorMessage:Tt?.message});ut.warn(wn.message)}}})).apply(this,arguments)}function le(Bt,Tt){return re.apply(this,arguments)}function re(){return(re=(0,d.Z)(function*(Bt,Tt){try{const Qn=(yield H()).transaction(Te,"readwrite");yield Qn.objectStore(Te).put(Tt,ye(Bt)),yield Qn.done}catch(wn){if(wn instanceof ne.ZR)ut.warn(wn.message);else{const Qn=$t.create("idb-set",{originalErrorMessage:wn?.message});ut.warn(Qn.message)}}})).apply(this,arguments)}function ye(Bt){return`${Bt.name}!${Bt.options.appId}`}class Ot{constructor(Tt){this.container=Tt,this._heartbeatsCache=null;const wn=this.container.getProvider("app").getImmediate();this._storage=new An(wn),this._heartbeatsCachePromise=this._storage.read().then(Qn=>(this._heartbeatsCache=Qn,Qn))}triggerHeartbeat(){var Tt=this;return(0,d.Z)(function*(){const Qn=Tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pn=en();if(null===Tt._heartbeatsCache&&(Tt._heartbeatsCache=yield Tt._heartbeatsCachePromise),Tt._heartbeatsCache.lastSentHeartbeatDate!==Pn&&!Tt._heartbeatsCache.heartbeats.some(jn=>jn.date===Pn))return Tt._heartbeatsCache.heartbeats.push({date:Pn,agent:Qn}),Tt._heartbeatsCache.heartbeats=Tt._heartbeatsCache.heartbeats.filter(jn=>{const hi=new Date(jn.date).valueOf();return Date.now()-hi<=2592e6}),Tt._storage.overwrite(Tt._heartbeatsCache)})()}getHeartbeatsHeader(){var Tt=this;return(0,d.Z)(function*(){if(null===Tt._heartbeatsCache&&(yield Tt._heartbeatsCachePromise),null===Tt._heartbeatsCache||0===Tt._heartbeatsCache.heartbeats.length)return"";const wn=en(),{heartbeatsToSend:Qn,unsentEntries:Pn}=function ti(Bt,Tt=1024){const wn=[];let Qn=Bt.slice();for(const Pn of Bt){const jn=wn.find(hi=>hi.agent===Pn.agent);if(jn){if(jn.dates.push(Pn.date),Ai(wn)>Tt){jn.dates.pop();break}}else if(wn.push({agent:Pn.agent,dates:[Pn.date]}),Ai(wn)>Tt){wn.pop();break}Qn=Qn.slice(1)}return{heartbeatsToSend:wn,unsentEntries:Qn}}(Tt._heartbeatsCache.heartbeats),jn=(0,ne.L)(JSON.stringify({version:2,heartbeats:Qn}));return Tt._heartbeatsCache.lastSentHeartbeatDate=wn,Pn.length>0?(Tt._heartbeatsCache.heartbeats=Pn,yield Tt._storage.overwrite(Tt._heartbeatsCache)):(Tt._heartbeatsCache.heartbeats=[],Tt._storage.overwrite(Tt._heartbeatsCache)),jn})()}}function en(){return(new Date).toISOString().substring(0,10)}class An{constructor(Tt){this.app=Tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Tt=this;return(0,d.Z)(function*(){return(yield Tt._canUseIndexedDBPromise)&&(yield function U(Bt){return z.apply(this,arguments)}(Tt.app))||{heartbeats:[]}})()}overwrite(Tt){var wn=this;return(0,d.Z)(function*(){var Qn;if(yield wn._canUseIndexedDBPromise){const jn=yield wn.read();return le(wn.app,{lastSentHeartbeatDate:null!==(Qn=Tt.lastSentHeartbeatDate)&&void 0!==Qn?Qn:jn.lastSentHeartbeatDate,heartbeats:Tt.heartbeats})}})()}add(Tt){var wn=this;return(0,d.Z)(function*(){var Qn;if(yield wn._canUseIndexedDBPromise){const jn=yield wn.read();return le(wn.app,{lastSentHeartbeatDate:null!==(Qn=Tt.lastSentHeartbeatDate)&&void 0!==Qn?Qn:jn.lastSentHeartbeatDate,heartbeats:[...jn.heartbeats,...Tt.heartbeats]})}})()}}function Ai(Bt){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function Si(Bt){Wt(new L.wA("platform-logger",Tt=>new ze(Tt),"PRIVATE")),Wt(new L.wA("heartbeat",Tt=>new Ot(Tt),"PRIVATE")),Be(vn,"0.9.12",Bt),Be(vn,"0.9.12","esm2017"),Be("fire-js","")}("")},4859:(gn,nt,E)=>{E.d(nt,{H0:()=>_e,wA:()=>f});var d=E(5861),L=E(2090);class f{constructor(se,de,me){this.name=se,this.instanceFactory=de,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const ne="[DEFAULT]";class xe{constructor(se,de){this.name=se,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const de=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(de)){const me=new L.BH;if(this.instancesDeferred.set(de,me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:de});Xe&&me.resolve(Xe)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(se){var de;const me=this.normalizeInstanceIdentifier(se?.identifier),Xe=null!==(de=se?.optional)&&void 0!==de&&de;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Ne){if(Xe)return null;throw Ne}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Y(Ee){return"EAGER"===Ee.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[de,me]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(de);try{const Ne=this.getOrInitializeService({instanceIdentifier:Xe});me.resolve(Ne)}catch{}}}}clearInstance(se=ne){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,d.Z)(function*(){const de=Array.from(se.instances.values());yield Promise.all([...de.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...de.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=ne){return this.instances.has(se)}getOptions(se=ne){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:de={}}=se,me=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:me,options:de});for(const[Ne,dt]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Ne)&&dt.resolve(Xe);return Xe}onInit(se,de){var me;const Xe=this.normalizeInstanceIdentifier(de),Ne=null!==(me=this.onInitCallbacks.get(Xe))&&void 0!==me?me:new Set;Ne.add(se),this.onInitCallbacks.set(Xe,Ne);const dt=this.instances.get(Xe);return dt&&se(dt,Xe),()=>{Ne.delete(se)}}invokeOnInitCallbacks(se,de){const me=this.onInitCallbacks.get(de);if(me)for(const Xe of me)try{Xe(se,de)}catch{}}getOrInitializeService({instanceIdentifier:se,options:de={}}){let me=this.instances.get(se);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=se,Ee===ne?void 0:Ee),options:de}),this.instances.set(se,me),this.instancesOptions.set(se,de),this.invokeOnInitCallbacks(me,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,me)}catch{}var Ee;return me||null}normalizeInstanceIdentifier(se=ne){return this.component?this.component.multipleInstances?se:ne:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const de=this.getProvider(se.name);if(de.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);de.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const de=new xe(se,this);return this.providers.set(se,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(gn,nt,E)=>{E.d(nt,{Am:()=>Ee,Ub:()=>_e,Yd:()=>Y,in:()=>L});const d=[];var L=(()=>((L=L||{})[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L))();const f={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},ne=L.INFO,xe={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ae=(se,de,...me)=>{if(de<se.logLevel)return;const Xe=(new Date).toISOString(),Ne=xe[de];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Ne](`[${Xe}]  ${se.name}:`,...me)};class Y{constructor(de){this.name=de,this._logLevel=ne,this._logHandler=ae,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in L))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?f[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...de),this._logHandler(this,L.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...de),this._logHandler(this,L.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,L.INFO,...de),this._logHandler(this,L.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,L.WARN,...de),this._logHandler(this,L.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...de),this._logHandler(this,L.ERROR,...de)}}function _e(se){d.forEach(de=>{de.setLogLevel(se)})}function Ee(se,de){for(const me of d){let Xe=null;de&&de.level&&(Xe=f[de.level]),me.userLogHandler=null===se?null:(Ne,dt,...it)=>{const Le=it.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");dt>=(Xe??Ne.logLevel)&&se({level:L[dt].toLowerCase(),message:Le,args:it,type:Ne.name})}}}},259:(gn,nt,E)=>{E.d(nt,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=E(6881);(0,d.registerVersion)("firebase","9.22.2","app")},9260:(gn,nt,E)=>{E.d(nt,{Z:()=>d.Z});var d=E(3942);d.Z.registerVersion("firebase","9.22.2","app-compat")},9568:(gn,nt,E)=>{E.r(nt);var d=E(5861),L=E(3942),f=E(1389),ne=E(2090),Y=(E(6881),E(1877),E(4859));function _e(){return window}function de(){return de=(0,d.Z)(function*(H,U,z){var le;const{BuildInfo:re}=_e();(0,f.as)(U.sessionId,"AuthEvent did not contain a session ID");const ye=yield function He(H){return Re.apply(this,arguments)}(U.sessionId),Ct={};return(0,f.at)()?Ct.ibi=re.packageName:(0,f.au)()?Ct.apn=re.packageName:(0,f.av)(H,"operation-not-supported-in-this-environment"),re.displayName&&(Ct.appDisplayName=re.displayName),Ct.sessionId=ye,(0,f.aw)(H,z,U.type,void 0,null!==(le=U.eventId)&&void 0!==le?le:void 0,Ct)}),de.apply(this,arguments)}function Xe(){return(Xe=(0,d.Z)(function*(H){const{BuildInfo:U}=_e(),z={};(0,f.at)()?z.iosBundleId=U.packageName:(0,f.au)()?z.androidPackageName=U.packageName:(0,f.av)(H,"operation-not-supported-in-this-environment"),yield(0,f.ax)(H,z)})).apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(H,U,z){const{cordova:le}=_e();let re=()=>{};try{yield new Promise((ye,Ct)=>{let xt=null;function Ot(){var An;ye();const Ai=null===(An=le.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof Ai&&Ai(),"function"==typeof z?.close&&z.close()}function en(){xt||(xt=window.setTimeout(()=>{Ct((0,f.az)(H,"redirect-cancelled-by-user"))},2e3))}function ti(){"visible"===document?.visibilityState&&en()}U.addPassiveListener(Ot),document.addEventListener("resume",en,!1),(0,f.au)()&&document.addEventListener("visibilitychange",ti,!1),re=()=>{U.removePassiveListener(Ot),document.removeEventListener("resume",en,!1),document.removeEventListener("visibilitychange",ti,!1),xt&&window.clearTimeout(xt)}})}finally{re()}})).apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(H){const U=function wt(H){if((0,f.as)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const U=new ArrayBuffer(H.length),z=new Uint8Array(U);for(let le=0;le<H.length;le++)z[le]=H.charCodeAt(le);return z}(H),z=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array(z)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ie extends f.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(U)),super.onEvent(U)}initialized(){var U=this;return(0,d.Z)(function*(){yield U.initPromise})()}}function $e(H){return Z.apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(H){const U=yield ze()._get(yt(H));return U&&(yield ze()._remove(yt(H))),U})).apply(this,arguments)}function Fe(){const H=[];for(let z=0;z<20;z++){const le=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return H.join("")}function ze(){return(0,f.aC)(f.b)}function yt(H){return(0,f.aD)("authEvent",H.config.apiKey,H.name)}function ut(H){if(!H?.includes("?"))return{};const[U,...z]=H.split("?");return(0,ne.zd)(z.join("?"))}const Ft=class Rt{constructor(){this._redirectPersistence=f.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=f.aE,this._overrideRedirectResult=f.aF}_initialize(U){var z=this;return(0,d.Z)(function*(){const le=U._key();let re=z.eventManagers.get(le);return re||(re=new Ie(U),z.eventManagers.set(le,re),z.attachCallbackListeners(U,re)),re})()}_openPopup(U){(0,f.av)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,z,le,re){var ye=this;return(0,d.Z)(function*(){!function Le(H){var U,z,le,re,ye,Ct,xt,Ot,en,ti;const An=_e();(0,f.aA)("function"==typeof(null===(U=An?.universalLinks)||void 0===U?void 0:U.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,f.aA)(typeof(null===(z=An?.BuildInfo)||void 0===z?void 0:z.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,f.aA)("function"==typeof(null===(ye=null===(re=null===(le=An?.cordova)||void 0===le?void 0:le.plugins)||void 0===re?void 0:re.browsertab)||void 0===ye?void 0:ye.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,f.aA)("function"==typeof(null===(Ot=null===(xt=null===(Ct=An?.cordova)||void 0===Ct?void 0:Ct.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===Ot?void 0:Ot.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,f.aA)("function"==typeof(null===(ti=null===(en=An?.cordova)||void 0===en?void 0:en.InAppBrowser)||void 0===ti?void 0:ti.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const Ct=yield ye._initialize(U);yield Ct.initialized(),Ct.resetRedirect(),(0,f.aG)(),yield ye._originValidation(U);const xt=function be(H,U,z=null){return{type:U,eventId:z,urlResponse:null,sessionId:Fe(),postBody:null,tenantId:H.tenantId,error:(0,f.az)(H,"no-auth-event")}}(U,le,re);yield function Me(H,U){return ze()._set(yt(H),U)}(U,xt);const Ot=yield function se(H,U,z){return de.apply(this,arguments)}(U,xt,z),en=yield function Ne(H){const{cordova:U}=_e();return new Promise(z=>{U.plugins.browsertab.isAvailable(le=>{let re=null;le?U.plugins.browsertab.openUrl(H):re=U.InAppBrowser.open(H,(0,f.ay)()?"_blank":"_system","location=yes"),z(re)})})}(Ot);return function dt(H,U,z){return it.apply(this,arguments)}(U,Ct,en)})()}_isIframeWebStorageSupported(U,z){throw new Error("Method not implemented.")}_originValidation(U){const z=U._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function me(H){return Xe.apply(this,arguments)}(U)),this.originValidationPromises[z]}attachCallbackListeners(U,z){const{universalLinks:le,handleOpenURL:re,BuildInfo:ye}=_e(),Ct=setTimeout((0,d.Z)(function*(){yield $e(U),z.onEvent(qt())}),500),xt=function(){var ti=(0,d.Z)(function*(An){clearTimeout(Ct);const Ai=yield $e(U);let Si=null;Ai&&An?.url&&(Si=function We(H,U){var z,le;const re=function On(H){const U=ut(H),z=U.link?decodeURIComponent(U.link):void 0,le=ut(z).link,re=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return ut(re).link||re||le||z||H}(U);if(re.includes("/__/auth/callback")){const ye=ut(re),Ct=ye.firebaseError?function vn(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(ye.firebaseError)):null,xt=null===(le=null===(z=Ct?.code)||void 0===z?void 0:z.split("auth/"))||void 0===le?void 0:le[1],Ot=xt?(0,f.az)(xt):null;return Ot?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Ot,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:re,postBody:null}}return null}(Ai,An.url)),z.onEvent(Si||qt())});return function(Ai){return ti.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,xt);const Ot=re,en=`${ye.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var ti=(0,d.Z)(function*(An){if(An.toLowerCase().startsWith(en)&&xt({url:An}),"function"==typeof Ot)try{Ot(An)}catch(Ai){console.error(Ai)}});return function(An){return ti.apply(this,arguments)}}()}};function qt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,f.az)("no-auth-event")}}function At(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function Qe(H=(0,ne.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function cn(){try{const H=self.localStorage,U=f.aL();if(H)return H.setItem(U,"1"),H.removeItem(U),!function St(H=(0,ne.z$)()){return function bt(){return(0,ne.w1)()&&11===document?.documentMode}()||function Ut(H=(0,ne.z$)()){return/Edge\/\d+/.test(H)}(H)}()||(0,ne.hl)()}catch{return Xt()&&(0,ne.hl)()}return!1}function Xt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _n(){return(function Ge(){return"http:"===At()||"https:"===At()}()||(0,ne.ru)()||Qe())&&!function kt(){return(0,ne.b$)()||(0,ne.UG)()}()&&cn()&&!Xt()}function Yn(){return Qe()&&typeof document<"u"}function Wn(){return(Wn=(0,d.Z)(function*(){return!!Yn()&&new Promise(H=>{const U=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),H(!0)})})})).apply(this,arguments)}const ce={LOCAL:"local",NONE:"none",SESSION:"session"},Ve=f.aA,ft="persistence";function Ke(H){return qe.apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(H){yield H._initializationPromise;const U=jt(),z=f.aD(ft,H.config.apiKey,H.name);U&&U.setItem(z,H._getPersistence())})).apply(this,arguments)}function jt(){var H;try{return(null===(H=function Vt(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const ln=f.aA;class Wt{constructor(){this.browserResolver=f.aC(f.k),this.cordovaResolver=f.aC(Ft),this.underlyingResolver=null,this._redirectPersistence=f.a,this._completeRedirectFn=f.aE,this._overrideRedirectResult=f.aF}_initialize(U){var z=this;return(0,d.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,z,le,re){var ye=this;return(0,d.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._openPopup(U,z,le,re)})()}_openRedirect(U,z,le,re){var ye=this;return(0,d.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._openRedirect(U,z,le,re)})()}_isIframeWebStorageSupported(U,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,z)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return Yn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ln(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,d.Z)(function*(){if(U.underlyingResolver)return;const z=yield function gi(){return Wn.apply(this,arguments)}();U.underlyingResolver=z?U.cordovaResolver:U.browserResolver})()}}function Gt(H){return H.unwrap()}function ke(H){return $t(H)}function $t(H){const{_tokenResponse:U}=H instanceof ne.ZR?H.customData:H;if(!U)return null;if(!(H instanceof ne.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return f.P.credentialFromResult(H);const z=U.providerId;if(!z||z===f.p.PASSWORD)return null;let le;switch(z){case f.p.GOOGLE:le=f.V;break;case f.p.FACEBOOK:le=f.U;break;case f.p.GITHUB:le=f.W;break;case f.p.TWITTER:le=f.Z;break;default:const{oauthIdToken:re,oauthAccessToken:ye,oauthTokenSecret:Ct,pendingToken:xt,nonce:Ot}=U;return ye||Ct||re||xt?xt?z.startsWith("saml.")?f.aO._create(z,xt):f.L._fromParams({providerId:z,signInMethod:z,pendingToken:xt,idToken:re,accessToken:ye}):new f.X(z).credential({idToken:re,accessToken:ye,rawNonce:Ot}):null}return H instanceof ne.ZR?le.credentialFromError(H):le.credentialFromResult(H)}function Sn(H,U){return U.catch(z=>{throw z instanceof ne.ZR&&function _t(H,U){var z;const le=null===(z=U.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===U?.code)U.resolver=new wi(H,f.aq(H,U));else if(le){const re=$t(U),ye=U;re&&(ye.credential=re,ye.tenantId=le.tenantId||void 0,ye.email=le.email||void 0,ye.phoneNumber=le.phoneNumber||void 0)}}(H,z),z}).then(z=>{const re=z.user;return{operationType:z.operationType,credential:ke(z),additionalUserInfo:f.ao(z),user:Kt.getOrCreate(re)}})}function _i(H,U){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(H,U){const z=yield U;return{verificationId:z.verificationId,confirm:le=>Sn(H,z.confirm(le))}})).apply(this,arguments)}class wi{constructor(U,z){this.resolver=z,this.auth=function Rn(H){return H.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return Sn(Gt(this.auth),this.resolver.resolveSignIn(U))}}class Kt{constructor(U){this._delegate=U,this.multiFactor=f.ar(U)}static getOrCreate(U){return Kt.USER_MAP.has(U)||Kt.USER_MAP.set(U,new Kt(U)),Kt.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var z=this;return(0,d.Z)(function*(){return Sn(z.auth,f.a0(z._delegate,U))})()}linkWithPhoneNumber(U,z){var le=this;return(0,d.Z)(function*(){return _i(le.auth,f.l(le._delegate,U,z))})()}linkWithPopup(U){var z=this;return(0,d.Z)(function*(){return Sn(z.auth,f.d(z._delegate,U,Wt))})()}linkWithRedirect(U){var z=this;return(0,d.Z)(function*(){return yield Ke(f.aH(z.auth)),f.g(z._delegate,U,Wt)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var z=this;return(0,d.Z)(function*(){return Sn(z.auth,f.a1(z._delegate,U))})()}reauthenticateWithPhoneNumber(U,z){return _i(this.auth,f.r(this._delegate,U,z))}reauthenticateWithPopup(U){return Sn(this.auth,f.e(this._delegate,U,Wt))}reauthenticateWithRedirect(U){var z=this;return(0,d.Z)(function*(){return yield Ke(f.aH(z.auth)),f.h(z._delegate,U,Wt)})()}sendEmailVerification(U){return f.ae(this._delegate,U)}unlink(U){var z=this;return(0,d.Z)(function*(){return yield f.an(z._delegate,U),z})()}updateEmail(U){return f.aj(this._delegate,U)}updatePassword(U){return f.ak(this._delegate,U)}updatePhoneNumber(U){return f.u(this._delegate,U)}updateProfile(U){return f.ai(this._delegate,U)}verifyBeforeUpdateEmail(U,z){return f.af(this._delegate,U,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kt.USER_MAP=new WeakMap;const Je=f.aA;let ot=(()=>{class H{constructor(z,le){if(this.app=z,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=z.options;Je(re,"invalid-api-key",{appName:z.name}),Je(re,"invalid-api-key",{appName:z.name});const ye=typeof window<"u"?Wt:void 0;this._delegate=le.initialize({options:{persistence:Oe(re,z.name),popupRedirectResolver:ye}}),this._delegate._updateErrorMap(f.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,le){f.I(this._delegate,z,le)}applyActionCode(z){return f.a5(this._delegate,z)}checkActionCode(z){return f.a6(this._delegate,z)}confirmPasswordReset(z,le){return f.a4(this._delegate,z,le)}createUserWithEmailAndPassword(z,le){var re=this;return(0,d.Z)(function*(){return Sn(re._delegate,f.a8(re._delegate,z,le))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return f.ad(this._delegate,z)}isSignInWithEmailLink(z){return f.ab(this._delegate,z)}getRedirectResult(){var z=this;return(0,d.Z)(function*(){Je(_n(),z._delegate,"operation-not-supported-in-this-environment");const le=yield f.j(z._delegate,Wt);return le?Sn(z._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function Yt(H,U){(0,f.aH)(H)._logFramework(U)}(this._delegate,z)}onAuthStateChanged(z,le,re){const{next:ye,error:Ct,complete:xt}=Be(z,le,re);return this._delegate.onAuthStateChanged(ye,Ct,xt)}onIdTokenChanged(z,le,re){const{next:ye,error:Ct,complete:xt}=Be(z,le,re);return this._delegate.onIdTokenChanged(ye,Ct,xt)}sendSignInLinkToEmail(z,le){return f.aa(this._delegate,z,le)}sendPasswordResetEmail(z,le){return f.a3(this._delegate,z,le||void 0)}setPersistence(z){var le=this;return(0,d.Z)(function*(){let re;switch(function st(H,U){Ve(Object.values(ce).includes(U),H,"invalid-persistence-type"),(0,ne.b$)()?Ve(U!==ce.SESSION,H,"unsupported-persistence-type"):(0,ne.UG)()?Ve(U===ce.NONE,H,"unsupported-persistence-type"):Xt()?Ve(U===ce.NONE||U===ce.LOCAL&&(0,ne.hl)(),H,"unsupported-persistence-type"):Ve(U===ce.NONE||cn(),H,"unsupported-persistence-type")}(le._delegate,z),z){case ce.SESSION:re=f.a;break;case ce.LOCAL:re=(yield f.aC(f.i)._isAvailable())?f.i:f.b;break;case ce.NONE:re=f.N;break;default:return f.av("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return Sn(this._delegate,f._(this._delegate))}signInWithCredential(z){return Sn(this._delegate,f.$(this._delegate,z))}signInWithCustomToken(z){return Sn(this._delegate,f.a2(this._delegate,z))}signInWithEmailAndPassword(z,le){return Sn(this._delegate,f.a9(this._delegate,z,le))}signInWithEmailLink(z,le){return Sn(this._delegate,f.ac(this._delegate,z,le))}signInWithPhoneNumber(z,le){return _i(this._delegate,f.s(this._delegate,z,le))}signInWithPopup(z){var le=this;return(0,d.Z)(function*(){return Je(_n(),le._delegate,"operation-not-supported-in-this-environment"),Sn(le._delegate,f.c(le._delegate,z,Wt))})()}signInWithRedirect(z){var le=this;return(0,d.Z)(function*(){return Je(_n(),le._delegate,"operation-not-supported-in-this-environment"),yield Ke(le._delegate),f.f(le._delegate,z,Wt)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return f.a7(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=ce,H})();function Be(H,U,z){let le=H;"function"!=typeof H&&({next:le,error:U,complete:z}=H);const re=le;return{next:Ct=>re(Ct&&Kt.getOrCreate(Ct)),error:U,complete:z}}function Oe(H,U){const z=function Ae(H,U){const z=jt();if(!z)return[];const le=f.aD(ft,H,U);switch(z.getItem(le)){case ce.NONE:return[f.N];case ce.LOCAL:return[f.i,f.a];case ce.SESSION:return[f.a];default:return[]}}(H,U);if(typeof self<"u"&&!z.includes(f.i)&&z.push(f.i),typeof window<"u")for(const le of[f.b,f.a])z.includes(le)||z.push(le);return z.includes(f.N)||z.push(f.N),z}class Se{constructor(){this.providerId="phone",this._delegate=new f.P(Gt(L.Z.auth()))}static credential(U,z){return f.P.credential(U,z)}verifyPhoneNumber(U,z){return this._delegate.verifyPhoneNumber(U,z)}unwrap(){return this._delegate}}Se.PHONE_SIGN_IN_METHOD=f.P.PHONE_SIGN_IN_METHOD,Se.PROVIDER_ID=f.P.PROVIDER_ID;const Et=f.aA;class Ht{constructor(U,z,le=L.Z.app()){var re;Et(null===(re=le.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new f.R(U,z,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(H){H.INTERNAL.registerComponent(new Y.wA("auth-compat",U=>{const z=U.getProvider("app-compat").getImmediate(),le=U.getProvider("auth");return new ot(z,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:f.A.EMAIL_SIGNIN,PASSWORD_RESET:f.A.PASSWORD_RESET,RECOVER_EMAIL:f.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:f.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:f.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:f.A.VERIFY_EMAIL}},EmailAuthProvider:f.Q,FacebookAuthProvider:f.U,GithubAuthProvider:f.W,GoogleAuthProvider:f.V,OAuthProvider:f.X,SAMLAuthProvider:f.Y,PhoneAuthProvider:Se,PhoneMultiFactorGenerator:f.m,RecaptchaVerifier:Ht,TwitterAuthProvider:f.Z,Auth:ot,AuthCredential:f.J,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.4.2")}(L.Z)},5861:(gn,nt,E)=>{function d(f,ne,xe,ae,Y,_e,Ee){try{var se=f[_e](Ee),de=se.value}catch(me){return void xe(me)}se.done?ne(de):Promise.resolve(de).then(ae,Y)}function L(f){return function(){var ne=this,xe=arguments;return new Promise(function(ae,Y){var _e=f.apply(ne,xe);function Ee(de){d(_e,ae,Y,Ee,se,"next",de)}function se(de){d(_e,ae,Y,Ee,se,"throw",de)}Ee(void 0)})}}E.d(nt,{Z:()=>L})},7582:(gn,nt,E)=>{function ne(ut,ht){var Rt={};for(var Ft in ut)Object.prototype.hasOwnProperty.call(ut,Ft)&&ht.indexOf(Ft)<0&&(Rt[Ft]=ut[Ft]);if(null!=ut&&"function"==typeof Object.getOwnPropertySymbols){var qt=0;for(Ft=Object.getOwnPropertySymbols(ut);qt<Ft.length;qt++)ht.indexOf(Ft[qt])<0&&Object.prototype.propertyIsEnumerable.call(ut,Ft[qt])&&(Rt[Ft[qt]]=ut[Ft[qt]])}return Rt}function me(ut,ht,Rt,Ft){return new(Rt||(Rt=Promise))(function(Yt,dn){function pn(Ge){try{At(Ft.next(Ge))}catch(Qe){dn(Qe)}}function rn(Ge){try{At(Ft.throw(Ge))}catch(Qe){dn(Qe)}}function At(Ge){Ge.done?Yt(Ge.value):function qt(Yt){return Yt instanceof Rt?Yt:new Rt(function(dn){dn(Yt)})}(Ge.value).then(pn,rn)}At((Ft=Ft.apply(ut,ht||[])).next())})}function ue(ut){return this instanceof ue?(this.v=ut,this):new ue(ut)}function Ie(ut,ht,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qt,Ft=Rt.apply(ut,ht||[]),Yt=[];return qt={},dn("next"),dn("throw"),dn("return"),qt[Symbol.asyncIterator]=function(){return this},qt;function dn(kt){Ft[kt]&&(qt[kt]=function(bt){return new Promise(function(Ut,St){Yt.push([kt,bt,Ut,St])>1||pn(kt,bt)})})}function pn(kt,bt){try{!function rn(kt){kt.value instanceof ue?Promise.resolve(kt.value.v).then(At,Ge):Qe(Yt[0][2],kt)}(Ft[kt](bt))}catch(Ut){Qe(Yt[0][3],Ut)}}function At(kt){pn("next",kt)}function Ge(kt){pn("throw",kt)}function Qe(kt,bt){kt(bt),Yt.shift(),Yt.length&&pn(Yt[0][0],Yt[0][1])}}function Me(ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,ht=ut[Symbol.asyncIterator];return ht?ht.call(ut):(ut=function it(ut){var ht="function"==typeof Symbol&&Symbol.iterator,Rt=ht&&ut[ht],Ft=0;if(Rt)return Rt.call(ut);if(ut&&"number"==typeof ut.length)return{next:function(){return ut&&Ft>=ut.length&&(ut=void 0),{value:ut&&ut[Ft++],done:!ut}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")}(ut),Rt={},Ft("next"),Ft("throw"),Ft("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function Ft(Yt){Rt[Yt]=ut[Yt]&&function(dn){return new Promise(function(pn,rn){!function qt(Yt,dn,pn,rn){Promise.resolve(rn).then(function(At){Yt({value:At,done:pn})},dn)}(pn,rn,(dn=ut[Yt](dn)).done,dn.value)})}}}E.d(nt,{FC:()=>Ie,KL:()=>Me,_T:()=>ne,mG:()=>me,qq:()=>ue})}},gn=>{gn(gn.s=7655)}]);