"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[179],{6217:(pn,rt,w)=>{w.d(rt,{nm:()=>go});var l=w(4976);w(2223),w(259);var fe=w(5861),Ee=w(6881),ue=w(4859),pe=w(2090),Le=w(1877);const Y=new Map,Ze={activated:!1,tokenObservers:[]},Ue={initialized:!1,enabled:!1};function Qe(Ct){return Y.get(Ct)||Object.assign({},Ze)}function bn(){return Ue}const kn="https://content-firebaseappcheck.googleapis.com/v1",Vt="exchangeDebugToken",dt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Be{constructor(gt,zt,un,vn,hn){if(this.operation=gt,this.retryPolicy=zt,this.getWaitDuration=un,this.lowerBound=vn,this.upperBound=hn,this.pending=null,this.nextErrorWaitInterval=vn,vn>hn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(gt){var zt=this;return(0,fe.Z)(function*(){zt.stop();try{zt.pending=new pe.BH,yield function mt(Ct){return new Promise(gt=>{setTimeout(gt,Ct)})}(zt.getNextRun(gt)),zt.pending.resolve(),yield zt.pending.promise,zt.pending=new pe.BH,yield zt.operation(),zt.pending.resolve(),yield zt.pending.promise,zt.process(!0).catch(()=>{})}catch(un){zt.retryPolicy(un)?zt.process(!1).catch(()=>{}):zt.stop()}})()}getNextRun(gt){if(gt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const zt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),zt}}}const qt=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xe(Ct){if(!Qe(Ct).activated)throw qt.create("use-before-activation",{appName:Ct.name})}function It(Ct,gt){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,fe.Z)(function*({url:Ct,body:gt},zt){const un={"Content-Type":"application/json"},vn=zt.getImmediate({optional:!0});if(vn){const ar=yield vn.getHeartbeatsHeader();ar&&(un["X-Firebase-Client"]=ar)}const hn={method:"POST",body:JSON.stringify(gt),headers:un};let Rn,Zn;try{Rn=yield fetch(Ct,hn)}catch(ar){throw qt.create("fetch-network-error",{originalErrorMessage:ar?.message})}if(200!==Rn.status)throw qt.create("fetch-status-error",{httpStatus:Rn.status});try{Zn=yield Rn.json()}catch(ar){throw qt.create("fetch-parse-error",{originalErrorMessage:ar?.message})}const fi=Zn.ttl.match(/^([\d.]+)(s)$/);if(!fi||!fi[2]||isNaN(Number(fi[1])))throw qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Zn.ttl}`});const Fr=1e3*Number(fi[1]),wr=Date.now();return{token:Zn.token,expireTimeMillis:wr+Fr,issuedAtTimeMillis:wr}})).apply(this,arguments)}function ft(Ct,gt){const{projectId:zt,appId:un,apiKey:vn}=Ct.options;return{url:`${kn}/projects/${zt}/apps/${un}:${Vt}?key=${vn}`,body:{debug_token:gt}}}const qe="firebase-app-check-database",Jt=1,yn="firebase-app-check-store";let yt=null;function cn(){return(cn=(0,fe.Z)(function*(Ct,gt){const un=(yield function he(){return yt||(yt=new Promise((Ct,gt)=>{try{const zt=indexedDB.open(qe,Jt);zt.onsuccess=un=>{Ct(un.target.result)},zt.onerror=un=>{var vn;gt(qt.create("storage-open",{originalErrorMessage:null===(vn=un.target.error)||void 0===vn?void 0:vn.message}))},zt.onupgradeneeded=un=>{0===un.oldVersion&&un.target.result.createObjectStore(yn,{keyPath:"compositeKey"})}}catch(zt){gt(qt.create("storage-open",{originalErrorMessage:zt?.message}))}}),yt)}()).transaction(yn,"readwrite"),hn=un.objectStore(yn).put({compositeKey:Ct,value:gt});return new Promise((Rn,Zn)=>{hn.onsuccess=fi=>{Rn()},un.onerror=fi=>{var Fr;Zn(qt.create("storage-set",{originalErrorMessage:null===(Fr=fi.target.error)||void 0===Fr?void 0:Fr.message}))}})})).apply(this,arguments)}const ln=new Le.Yd("@firebase/app-check");function Ot(Ct,gt){return(0,pe.hl)()?function pt(Ct,gt){return function Xt(Ct,gt){return cn.apply(this,arguments)}(function xn(Ct){return`${Ct.options.appId}-${Ct.name}`}(Ct),gt)}(Ct,gt).catch(zt=>{ln.warn(`Failed to write token to IndexedDB. Error: ${zt}`)}):Promise.resolve()}function li(){return bn().enabled}function yi(){return hi.apply(this,arguments)}function hi(){return(hi=(0,fe.Z)(function*(){const Ct=bn();if(Ct.enabled&&Ct.token)return Ct.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ct={error:"UNKNOWN_ERROR"};function ut(Ct){return pe.US.encodeString(JSON.stringify(Ct),!1)}function We(Ct){return je.apply(this,arguments)}function je(){return(je=(0,fe.Z)(function*(Ct,gt=!1){const zt=Ct.app;Xe(zt);const un=Qe(zt);let hn,vn=un.token;if(vn&&!H(vn)&&(un.token=void 0,vn=void 0),!vn){const fi=yield un.cachedTokenPromise;fi&&(H(fi)?vn=fi:yield Ot(zt,void 0))}if(!gt&&vn&&H(vn))return{token:vn.token};let Zn,Rn=!1;if(li()){un.exchangeTokenPromise||(un.exchangeTokenPromise=It(ft(zt,yield yi()),Ct.heartbeatServiceProvider).finally(()=>{un.exchangeTokenPromise=void 0}),Rn=!0);const fi=yield un.exchangeTokenPromise;return yield Ot(zt,fi),un.token=fi,{token:fi.token}}try{un.exchangeTokenPromise||(un.exchangeTokenPromise=un.provider.getToken().finally(()=>{un.exchangeTokenPromise=void 0}),Rn=!0),vn=yield Qe(zt).exchangeTokenPromise}catch(fi){"appCheck/throttled"===fi.code?ln.warn(fi.message):ln.error(fi),hn=fi}return vn?hn?Zn=H(vn)?{token:vn.token,internalError:hn}:de(hn):(Zn={token:vn.token},un.token=vn,yield Ot(zt,vn)):Zn=de(hn),Rn&&function U(Ct,gt){const zt=Qe(Ct).tokenObservers;for(const un of zt)try{"EXTERNAL"===un.type&&null!=gt.error?un.error(gt.error):un.next(gt)}catch{}}(zt,Zn),Zn})).apply(this,arguments)}function Ae(Ct){return St.apply(this,arguments)}function St(){return(St=(0,fe.Z)(function*(Ct){const gt=Ct.app;Xe(gt);const{provider:zt}=Qe(gt);if(li()){const un=yield yi(),{token:vn}=yield It(ft(gt,un),Ct.heartbeatServiceProvider);return{token:vn}}{const{token:un}=yield zt.getToken();return{token:un}}})).apply(this,arguments)}function Pe(Ct,gt){const zt=Qe(Ct),un=zt.tokenObservers.filter(vn=>vn.next!==gt);0===un.length&&zt.tokenRefresher&&zt.tokenRefresher.isRunning()&&zt.tokenRefresher.stop(),zt.tokenObservers=un}function le(Ct){const{app:gt}=Ct,zt=Qe(gt);let un=zt.tokenRefresher;un||(un=function j(Ct){const{app:gt}=Ct;return new Be((0,fe.Z)(function*(){let un;if(un=Qe(gt).token?yield We(Ct,!0):yield We(Ct),un.error)throw un.error;if(un.internalError)throw un.internalError}),()=>!0,()=>{const zt=Qe(gt);if(zt.token){let un=zt.token.issuedAtTimeMillis+.5*(zt.token.expireTimeMillis-zt.token.issuedAtTimeMillis)+3e5;return un=Math.min(un,zt.token.expireTimeMillis-3e5),Math.max(0,un-Date.now())}return 0},dt.RETRIAL_MIN_WAIT,dt.RETRIAL_MAX_WAIT)}(Ct),zt.tokenRefresher=un),!un.isRunning()&&zt.isTokenAutoRefreshEnabled&&un.start()}function H(Ct){return Ct.expireTimeMillis-Date.now()>0}function de(Ct){return{token:ut(ct),error:Ct}}class ce{constructor(gt,zt){this.app=gt,this.heartbeatServiceProvider=zt}_delete(){const{tokenObservers:gt}=Qe(this.app);for(const zt of gt)Pe(this.app,zt.next);return Promise.resolve()}}const Po="app-check-internal";!function Zr(){(0,Ee._registerComponent)(new ue.wA("app-check",Ct=>function Te(Ct,gt){return new ce(Ct,gt)}(Ct.getProvider("app").getImmediate(),Ct.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ct,gt,zt)=>{Ct.getProvider(Po).initialize()})),(0,Ee._registerComponent)(new ue.wA(Po,Ct=>function Re(Ct){return{getToken:gt=>We(Ct,gt),getLimitedUseToken:()=>Ae(Ct),addTokenListener:gt=>function Kt(Ct,gt,zt,un){const{app:vn}=Ct,hn=Qe(vn);if(hn.tokenObservers=[...hn.tokenObservers,{next:zt,error:un,type:gt}],hn.token&&H(hn.token)){const Zn=hn.token;Promise.resolve().then(()=>{zt({token:Zn.token}),le(Ct)}).catch(()=>{})}hn.cachedTokenPromise.then(()=>le(Ct))}(Ct,"INTERNAL",gt),removeTokenListener:gt=>Pe(Ct.app,gt)}}(Ct.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)("@firebase/app-check","0.8.0")}();class go{constructor(){return(0,l.vb)("app-check")}}typeof window<"u"&&window},1205:(pn,rt,w)=>{w.d(rt,{zQ:()=>kn,rT:()=>Ue,f7:()=>Tt,L6:()=>Y,_Q:()=>Ze,lh:()=>Qe,Qv:()=>Le,nw:()=>bn});var l=w(2223),p=w(7579),g=w(9646),te=w(9751),xe=w(8996),ae=w(6451),W=w(5363),_e=w(3900),Ce=w(4004),oe=w(6063);class me extends p.x{constructor(Vt=1/0,dt=1/0,Ht=oe.l){super(),this._bufferSize=Vt,this._windowTime=dt,this._timestampProvider=Ht,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=dt===1/0,this._bufferSize=Math.max(1,Vt),this._windowTime=Math.max(1,dt)}next(Vt){const{isStopped:dt,_buffer:Ht,_infiniteTimeWindow:Be,_timestampProvider:mt,_windowTime:Rt}=this;dt||(Ht.push(Vt),!Be&&Ht.push(mt.now()+Rt)),this._trimBuffer(),super.next(Vt)}_subscribe(Vt){this._throwIfClosed(),this._trimBuffer();const dt=this._innerSubscribe(Vt),{_infiniteTimeWindow:Ht,_buffer:Be}=this,mt=Be.slice();for(let Rt=0;Rt<mt.length&&!Vt.closed;Rt+=Ht?1:2)Vt.next(mt[Rt]);return this._checkFinalizedStatuses(Vt),dt}_trimBuffer(){const{_bufferSize:Vt,_timestampProvider:dt,_buffer:Ht,_infiniteTimeWindow:Be}=this,mt=(Be?1:2)*Vt;if(Vt<1/0&&mt<Ht.length&&Ht.splice(0,Ht.length-mt),!Be){const Rt=dt.now();let qt=0;for(let Mt=1;Mt<Ht.length&&Ht[Mt]<=Rt;Mt+=2)qt=Mt;qt&&Ht.splice(0,qt+1)}}}var ve=w(3099);function ze(bt,Vt,dt){let Ht,Be=!1;return bt&&"object"==typeof bt?({bufferSize:Ht=1/0,windowTime:Vt=1/0,refCount:Be=!1,scheduler:dt}=bt):Ht=bt??1/0,(0,ve.B)({connector:()=>new me(Ht,Vt,dt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}var Fe=w(590),at=w(576);function Ge(bt,Vt){return(0,at.m)(Vt)?(0,_e.w)(()=>bt,Vt):(0,_e.w)(()=>bt)}var Je=w(9468),Ve=w(9300),Oe=w(4976),Et=w(2011),fe=w(4755),Ee=w(6217);w(9260);const Le=new l.OlP("angularfire2.auth.use-emulator"),Y=new l.OlP("angularfire2.auth.settings"),Ze=new l.OlP("angularfire2.auth.tenant-id"),Ue=new l.OlP("angularfire2.auth.langugage-code"),Qe=new l.OlP("angularfire2.auth.use-device-language"),Tt=new l.OlP("angularfire.auth.persistence"),bn=(bt,Vt,dt,Ht,Be,mt,Rt,qt)=>(0,Et.cc)(`${bt.name}.auth`,"AngularFireAuth",bt.name,()=>{const Mt=Vt.runOutsideAngular(()=>bt.auth());if(dt&&Mt.useEmulator(...dt),Ht&&(Mt.tenantId=Ht),Mt.languageCode=Be,mt&&Mt.useDeviceLanguage(),Rt)for(const[Xe,ot]of Object.entries(Rt))Mt.settings[Xe]=ot;return qt&&Mt.setPersistence(qt),Mt},[dt,Ht,Be,mt,Rt,qt]);let kn=(()=>{class bt{constructor(dt,Ht,Be,mt,Rt,qt,Mt,Xe,ot,Nt,It,Wt){const Lt=new p.x,Bt=(0,g.of)(void 0).pipe((0,W.Q)(Rt.outsideAngular),(0,_e.w)(()=>mt.runOutsideAngular(()=>Promise.resolve().then(w.bind(w,9568)))),(0,Ce.U)(()=>(0,Et.on)(dt,mt,Ht)),(0,Ce.U)(ft=>bn(ft,mt,qt,Xe,ot,Nt,Mt,It)),ze({bufferSize:1,refCount:!1}));if((0,fe.PM)(Be))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,g.of)(null);else{Bt.pipe((0,Fe.P)()).subscribe();const qe=Bt.pipe((0,_e.w)(mn=>mn.getRedirectResult().then(yt=>yt,()=>null)),Oe.iC,ze({bufferSize:1,refCount:!1})),Jt=Bt.pipe((0,_e.w)(mn=>new te.y(yt=>({unsubscribe:mt.runOutsideAngular(()=>mn.onAuthStateChanged(he=>yt.next(he),he=>yt.error(he),()=>yt.complete()))})))),yn=Bt.pipe((0,_e.w)(mn=>new te.y(yt=>({unsubscribe:mt.runOutsideAngular(()=>mn.onIdTokenChanged(he=>yt.next(he),he=>yt.error(he),()=>yt.complete()))}))));this.authState=qe.pipe(Ge(Jt),(0,Je.R)(Rt.outsideAngular),(0,W.Q)(Rt.insideAngular)),this.user=qe.pipe(Ge(yn),(0,Je.R)(Rt.outsideAngular),(0,W.Q)(Rt.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(mn=>mn?(0,xe.D)(mn.getIdToken()):(0,g.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(mn=>mn?(0,xe.D)(mn.getIdTokenResult()):(0,g.of)(null))),this.credential=(0,ae.T)(qe,Lt,this.authState.pipe((0,Ve.h)(mn=>!mn))).pipe((0,Ce.U)(mn=>mn?.user?mn:null),(0,Je.R)(Rt.outsideAngular),(0,W.Q)(Rt.insideAngular))}return(0,Et.pX)(this,Bt,mt,{spy:{apply:(ft,qe,Jt)=>{(ft.startsWith("signIn")||ft.startsWith("createUser"))&&Jt.then(yn=>Lt.next(yn))}}})}}return bt.\u0275fac=function(dt){return new(dt||bt)(l.LFG(Et.Dh),l.LFG(Et.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Oe.HU),l.LFG(Le,8),l.LFG(Y,8),l.LFG(Ze,8),l.LFG(Ue,8),l.LFG(Qe,8),l.LFG(Tt,8),l.LFG(Ee.nm,8))},bt.\u0275prov=l.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"any"}),bt})()},1762:(pn,rt,w)=>{w.d(rt,{ST:()=>qv,yb:()=>Su});var l=w(2223),p=w(4986),g=w(9751),te=w(8996),xe=w(9646),ae=w(4976),W=w(8675),_e=w(4482),Ce=w(5403);function oe(){return(0,_e.e)((r,e)=>{let t,o=!1;r.subscribe((0,Ce.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var Y,me=w(4004),ve=w(5026),ze=w(1884),Fe=w(9300),at=w(2011),Ge=w(4755),Ve=(w(9568),w(3942)),Oe=w(5861),Et=w(6881),fe=w(4859),Ee=w(1877),ue=w(2090),pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Le={},Ze=Ze||{},Ue=pe||self;function Qe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Tt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var kn="closure_uid_"+(1e9*Math.random()>>>0),vt=0;function bt(r,e,t){return r.call.apply(r.bind,arguments)}function Vt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function dt(r,e,t){return(dt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:Vt).apply(null,arguments)}function Ht(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Be(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var f=Array(arguments.length-2),S=2;S<arguments.length;S++)f[S-2]=arguments[S];return e.prototype[a].apply(o,f)}}function mt(){this.s=this.s,this.o=this.o}mt.prototype.s=!1,mt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bn(r){Object.prototype.hasOwnProperty.call(r,kn)&&r[kn]||(r[kn]=++vt)}(this)},mt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Mt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Xe(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Qe(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let f=0;f<u;f++)r[a+f]=o[f]}else r.push(o)}}function ot(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ue.addEventListener("test",()=>{},e),Ue.removeEventListener("test",()=>{},e)}catch{}return r}();function It(r){return/^[\s\xa0]*$/.test(r)}function Wt(){var r=Ue.navigator;return r&&(r=r.userAgent)?r:""}function Lt(r){return-1!=Wt().indexOf(r)}function Bt(r){return Bt[" "](r),r}Bt[" "]=function(){};var pt,r,qe=Lt("Opera"),Jt=Lt("Trident")||Lt("MSIE"),yn=Lt("Edge"),mn=yn||Jt,yt=Lt("Gecko")&&!(-1!=Wt().toLowerCase().indexOf("webkit")&&!Lt("Edge"))&&!(Lt("Trident")||Lt("MSIE"))&&!Lt("Edge"),he=-1!=Wt().toLowerCase().indexOf("webkit")&&!Lt("Edge");function He(){var r=Ue.document;return r?r.documentMode:void 0}e:{var ht="",Pt=(r=Wt(),yt?/rv:([^\);]+)(\)|;)/.exec(r):yn?/Edge\/([\d\.]+)/.exec(r):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):he?/WebKit\/(\S+)/.exec(r):qe?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Pt&&(ht=Pt?Pt[1]:""),Jt){var Xt=He();if(null!=Xt&&Xt>parseFloat(ht)){pt=String(Xt);break e}}pt=ht}var ni=Ue.document&&Jt&&(He()||parseInt(pt,10))||void 0;function xn(r,e){if(ot.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(yt){e:{try{Bt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:ln[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&xn.$.h.call(this)}}Be(xn,ot);var ln={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ot(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++Ke,this.fa=this.ia=!1}function Zt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Tn(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function yi(r){const e={};for(const t in r)e[t]=r[t];return e}const hi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function en(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<hi.length;u++)t=hi[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function ct(r){this.src=r,this.g={},this.h=0}function ut(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=qt(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(Zt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function We(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}ct.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var f=We(r,e,o,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Ot(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var je="closure_lm_"+(1e6*Math.random()|0),Ae={};function St(r,e,t,o,a){if(o&&o.once)return le(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)St(r,e[u],t,o,a);return null}return t=Re(t),r&&r[Un]?r.O(e,t,Tt(o)?!!o.capture:!!o,a):Kt(r,e,t,!1,o,a)}function Kt(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var f=Tt(a)?!!a.capture:!!a,S=ce(r);if(S||(r[je]=S=new ct(r)),(t=S.add(e,t,o,f,u)).proxy)return t;if(o=function Pe(){const e=de;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Nt||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent(H(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function le(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)le(r,e[u],t,o,a);return null}return t=Re(t),r&&r[Un]?r.P(e,t,Tt(o)?!!o.capture:!!o,a):Kt(r,e,t,!0,o,a)}function j(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)j(r,e[u],t,o,a);else o=Tt(o)?!!o.capture:!!o,t=Re(t),r&&r[Un]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=We(u=r.g[e],t,o,a))&&(Zt(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=ce(r))&&(e=r.g[e.toString()],r=-1,e&&(r=We(e,t,o,a)),(t=-1<r?e[r]:null)&&U(t))}function U(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Un])ut(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(H(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ce(e))?(ut(t,r),0==t.h&&(t.src=null,e[je]=null)):Zt(r)}}}function H(r){return r in Ae?Ae[r]:Ae[r]="on"+r}function de(r,e){if(r.fa)r=!0;else{e=new xn(e,this);var t=r.listener,o=r.la||r.src;r.ia&&U(r),r=t.call(o,e)}return r}function ce(r){return(r=r[je])instanceof ct?r:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(r){return"function"==typeof r?r:(r[Te]||(r[Te]=function(e){return r.handleEvent(e)}),r[Te])}function Ne(){mt.call(this),this.i=new ct(this),this.S=this,this.J=null}function Q(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new ot(e,r);else if(e instanceof ot)e.target=e.target||r;else{var a=e;en(e=new ot(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var f=e.g=t[u];a=De(f,o,!0,e)&&a}if(a=De(f=e.g=r,o,!0,e)&&a,a=De(f,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=De(f=e.g=t[u],o,!1,e)&&a}function De(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var f=e[u];if(f&&!f.fa&&f.capture==t){var S=f.listener,$=f.la||f.src;f.ia&&ut(r.i,f),a=!1!==S.call($,o)&&a}}return a&&!o.defaultPrevented}Be(Ne,mt),Ne.prototype[Un]=!0,Ne.prototype.removeEventListener=function(r,e,t,o){j(this,r,e,t,o)},Ne.prototype.N=function(){if(Ne.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Zt(t[o]);delete r.g[e],r.h--}}this.J=null},Ne.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Ne.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var wt=Ue.JSON.stringify;function zn(){var r=ci;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var kt=new class jt{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new At,r=>r.reset());class At{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Kn(r){Ue.setTimeout(()=>{throw r},0)}let An,Nn=!1,ci=new class ei{constructor(){this.h=this.g=null}add(e,t){const o=kt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},Qi=()=>{const r=Ue.Promise.resolve(void 0);An=()=>{r.then(wi)}};var wi=()=>{for(var r;r=zn();){try{r.h.call(r.g)}catch(t){Kn(t)}var e=kt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Nn=!1};function br(r,e){Ne.call(this),this.h=r||1,this.g=e||Ue,this.j=dt(this.qb,this),this.l=Date.now()}function Wr(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function fo(r,e,t){if("function"==typeof r)t&&(r=dt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=dt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Ue.setTimeout(r,e||0)}function _s(r){r.g=fo(()=>{r.g=null,r.i&&(r.i=!1,_s(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Be(br,Ne),(Y=br.prototype).ga=!1,Y.T=null,Y.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Q(this,"tick"),this.ga&&(Wr(this),this.start()))}},Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.N=function(){br.$.N.call(this),Wr(this),delete this.g};class pr extends mt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(Ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(r){mt.call(this),this.h=r,this.g={}}Be(Br,mt);var Pr=[];function Kr(r,e,t,o){Array.isArray(t)||(t&&(Pr[0]=t.toString()),t=Pr);for(var a=0;a<t.length;a++){var u=St(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function po(r){Tn(r.g,function(e,t){this.g.hasOwnProperty(t)&&U(e)},r),r.g={}}function Ii(){this.g=!0}function Ur(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function go(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<a.length;f++)a[f]=""}}}return wt(t)}catch{return e}}(r,t)+(o?" "+o:"")})}Br.prototype.N=function(){Br.$.N.call(this),po(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ii.prototype.Ea=function(){this.g=!1},Ii.prototype.info=function(){};var hr={},_o=null;function cs(){return _o=_o||new Ne}function ls(r){ot.call(this,hr.Ta,r)}function Eo(r){const e=cs();Q(e,new ls(e))}function Yr(r,e){ot.call(this,hr.STAT_EVENT,r),this.stat=e}function yr(r){const e=cs();Q(e,new Yr(e,r))}function Jo(r,e){ot.call(this,hr.Ua,r),this.size=e}function vo(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ue.setTimeout(function(){r()},e)}hr.Ta="serverreachability",Be(ls,ot),hr.STAT_EVENT="statevent",Be(Yr,ot),hr.Ua="timingevent",Be(Jo,ot);var ri={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gi(){}function Mr(){}gi.prototype.h=null;var zt,Zo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ct(){ot.call(this,"d")}function gt(){ot.call(this,"c")}function un(){}function vn(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new Br(this),this.P=Rn,this.V=new br(r=mn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hn}function hn(){this.i=null,this.g="",this.h=!1}Be(Ct,ot),Be(gt,ot),Be(un,gi),un.prototype.g=function(){return new XMLHttpRequest},un.prototype.i=function(){return{}},zt=new un;var Rn=45e3,Zn={},fi={};function Fr(r,e,t){r.L=1,r.v=To(nr(e)),r.s=t,r.S=!0,wr(r,null)}function wr(r,e){r.G=Date.now(),Co(r),r.A=nr(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Hi(t.i,"t",o),r.C=0,t=r.l.J,r.h=new hn,r.g=Sa(r.l,t?e:null,!r.s),0<r.O&&(r.M=new pr(dt(r.Pa,r,r.g),r.O)),Kr(r.U,r.g,"readystatechange",r.nb),e=r.I?yi(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Eo(),function Po(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var f="",S=u.split("&"),$=0;$<S.length;$++){var ne=S[$].split("=");if(1<ne.length){var Ie=ne[0];ne=ne[1];var lt=Ie.split("_");f=2<=lt.length&&"type"==lt[1]?f+(Ie+"=")+ne+"&":f+(Ie+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function ar(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function $i(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=lo(r,t),a==fi){4==e&&(r.o=4,yr(14),o=!1),Ur(r.j,r.m,null,"[Incomplete Response]");break}if(a==Zn){r.o=4,yr(15),Ur(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}Ur(r.j,r.m,a,null),Gi(r,a)}ar(r)&&a!=fi&&a!=Zn&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,yr(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ma(e),e.M=!0,yr(11))):(Ur(r.j,r.m,t,"[Invalid Chunked Response]"),qr(r),Do(r))}function lo(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?fi:(t=Number(e.substring(t,o)),isNaN(t)?Zn:(o+=1)+t>e.length?fi:(e=e.slice(o,o+t),r.C=o+t,e))}function Co(r){r.Y=Date.now()+r.P,oi(r,r.P)}function oi(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=vo(dt(r.lb,r),e)}function Yo(r){r.B&&(Ue.clearTimeout(r.B),r.B=null)}function Do(r){0==r.l.H||r.J||Qs(r.l,r)}function qr(r){Yo(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Wr(r.V),po(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Gi(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||X(t.i,r)))if(!r.K&&X(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;qs(t),ys(t)}Ys(t),yr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=vo(dt(t.ib,t),6e3));if(1>=nt(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else xs(t,11)}else if((r.K||t.g==r)&&qs(t),!It(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let ne=a[e];if(t.V=ne[0],ne=ne[1],2==t.H)if("c"==ne[0]){t.K=ne[1],t.pa=ne[2];const Ie=ne[3];null!=Ie&&(t.ra=Ie,t.l.info("VER="+t.ra));const lt=ne[4];null!=lt&&(t.Ga=lt,t.l.info("SVER="+t.Ga));const tn=ne[5];null!=tn&&"number"==typeof tn&&0<tn&&(t.L=o=1.5*tn,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const _n=r.g;if(_n){const Fn=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var u=o.i;u.g||-1==Fn.indexOf("spdy")&&-1==Fn.indexOf("quic")&&-1==Fn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(st(u,u.h),u.h=null))}if(o.F){const Xn=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Xn&&(o.Da=Xn,Wi(o.I,o.F,Xn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((o=t).wa=zs(o,o.J?o.pa:null,o.Y),f.K){an(o.i,f);var S=f,$=o.L;$&&S.setTimeout($),S.B&&(Yo(S),Co(S)),o.g=f}else gc(o);0<t.j.length&&Ms(t)}else"stop"!=ne[0]&&"close"!=ne[0]||xs(t,7);else 3==t.H&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?xs(t,7):zo(t):"noop"!=ne[0]&&t.h&&t.h.Aa(ne),t.A=0)}Eo()}catch{}}function Vo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Qe(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ds(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Qe(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function bo(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Qe(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(Y=vn.prototype).setTimeout=function(r){this.P=r},Y.nb=function(r){r=r.target;const e=this.M;e&&3==Xi(r)?e.l():this.Pa(r)},Y.Pa=function(r){try{if(r==this.g)e:{const Ie=Xi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ie)&&(3!=Ie||mn||this.g&&(this.h.h||this.g.ja()||vi(this.g)))){this.J||4!=Ie||7==e||Eo(),Yo(this);var t=this.g.da();this.ca=t;t:if(ar(this)){var o=vi(this.g);r="";var a=o.length,u=4==Xi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Do(this);var f="";break t}this.h.i=new Ue.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function Zr(r,e,t,o,a,u,f){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.W,Ie,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,$=this.g;if((S=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!It(S)){var ne=S;break t}}ne=null}if(!(t=ne)){this.i=!1,this.o=3,yr(12),qr(this),Do(this);break e}Ur(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gi(this,t)}this.S?($i(this,Ie,f),mn&&this.i&&3==Ie&&(Kr(this.U,this.V,"tick",this.mb),this.V.start())):(Ur(this.j,this.m,f,null),Gi(this,f)),4==Ie&&qr(this),this.i&&!this.J&&(4==Ie?Qs(this.l,this):(this.i=!1,Co(this)))}else(function Fo(r){const e={};r=(r.g&&2<=Xi(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(It(r[o]))continue;var t=wn(r[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[a]||[];e[a]=u,u.push(t)}!function li(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),qr(this),Do(this)}}}catch{}},Y.mb=function(){if(this.g){var r=Xi(this.g),e=this.g.ja();this.C<e.length&&(Yo(this),$i(this,r,e),this.i&&4!=r&&Co(this))}},Y.cancel=function(){this.J=!0,qr(this)},Y.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function or(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Eo(),yr(17)),qr(this),this.o=2,Do(this)):oi(this,this.Y-r)};var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof cr){this.h=r.h,us(this,r.j),this.s=r.s,this.g=r.g,Io(this,r.m),this.l=r.l;var e=r.i,t=new xr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ki(this,t),this.o=r.o}else r&&(e=String(r).match(es))?(this.h=!1,us(this,e[1]||"",!0),this.s=Qr(e[2]||""),this.g=Qr(e[3]||"",!0),Io(this,e[4]),this.l=Qr(e[5]||"",!0),ki(this,e[6]||"",!0),this.o=Qr(e[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}function nr(r){return new cr(r)}function us(r,e,t){r.j=t?Qr(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Io(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ki(r,e,t){e instanceof xr?(r.i=e,function Ho(r,e){e&&!r.j&&(Jr(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(kr(this,o),Hi(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Xr(e,ts)),r.i=new xr(e,r.h))}function Wi(r,e,t){r.i.set(e,t)}function To(r){return Wi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Qr(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Xr(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,jo),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function jo(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}cr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Xr(e,hs,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Xr(e,hs,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Xr(t,"/"==t.charAt(0)?Sr:Ts,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Xr(t,Ki)),r.join("")};var hs=/[#\/\?@]/g,Ts=/[#\?:]/g,Sr=/[#\?]/g,ts=/[#\?@]/g,Ki=/#/g;function xr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Jr(r){r.g||(r.g=new Map,r.h=0,r.i&&function vs(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kr(r,e){Jr(r),e=uo(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Mo(r,e){return Jr(r),e=uo(r,e),r.g.has(e)}function Hi(r,e,t){kr(r,e),0<t.length&&(r.i=null,r.g.set(uo(r,e),Mt(t)),r.h+=t.length)}function uo(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function As(r){this.l=r||bs,r=Ue.PerformanceNavigationTiming?0<(r=Ue.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ue.g&&Ue.g.Ka&&Ue.g.Ka()&&Ue.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=xr.prototype).add=function(r,e){Jr(this),this.i=null,r=uo(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(r,e){Jr(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},Y.ta=function(){Jr(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},Y.Z=function(r){Jr(this);let e=[];if("string"==typeof r)Mo(this,r)&&(e=e.concat(this.g.get(uo(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Y.set=function(r,e){return Jr(this),this.i=null,Mo(this,r=uo(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Y.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var a=u;""!==f[o]&&(a+="="+encodeURIComponent(String(f[o]))),r.push(a)}}return this.i=r.join("&")};var bs=10;function et(r){return!!r.h||!!r.g&&r.g.size>=r.j}function nt(r){return r.h?1:r.g?r.g.size:0}function X(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function st(r,e){r.g?r.g.add(e):r.h=e}function an(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Sn(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Mt(r.i)}As.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Ai=class{stringify(r){return Ue.JSON.stringify(r,void 0)}parse(r){return Ue.JSON.parse(r,void 0)}};function Nr(){this.g=new Ai}function Lr(r,e,t){const o=t||"";try{Vo(r,function(a,u){let f=a;Tt(a)&&(f=wt(a)),e.push(o+u+"="+encodeURIComponent(f))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function lr(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function K(r){this.l=r.fc||null,this.j=r.ob||!1}function V(r,e){Ne.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Be(K,gi),K.prototype.g=function(){return new V(this.l,this.j)},K.prototype.i=function(r){return function(){return r}}({}),Be(V,Ne);var v=0;function D(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ie(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ke(r)}function ke(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Y=V.prototype).open=function(r,e){if(this.readyState!=v)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,ke(this)},Y.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ie(this)),this.readyState=v},Y.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ke(this)),this.g&&(this.readyState=3,ke(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ue.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Y.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ie(this):ke(this),3==this.readyState&&D(this)}},Y.Za=function(r){this.g&&(this.response=this.responseText=r,ie(this))},Y.Ya=function(r){this.g&&(this.response=r,ie(this))},Y.ka=function(){this.g&&ie(this)},Y.setRequestHeader=function(r,e){this.v.append(r,e)},Y.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(V.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var _t=Ue.JSON.parse;function Gt(r){Ne.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dn,this.L=this.M=!1}Be(Gt,Ne);var Dn="",Gn=/^https?$/i,Vn=["POST","PUT"];function Oi(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,mr(r),Pi(r)}function mr(r){r.F||(r.F=!0,Q(r,"complete"),Q(r,"error"))}function Dr(r){if(r.h&&typeof Ze<"u"&&(!r.C[1]||4!=Xi(r)||2!=r.da()))if(r.v&&4==Xi(r))fo(r.La,0,r);else if(Q(r,"readystatechange"),4==Xi(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===f){var a=String(r.I).match(es)[1]||null;!a&&Ue.self&&Ue.self.location&&(a=Ue.self.location.protocol.slice(0,-1)),o=!Gn.test(a?a.toLowerCase():"")}t=o}if(t)Q(r,"complete"),Q(r,"success");else{r.m=6;try{var u=2<Xi(r)?r.g.statusText:""}catch{u=""}r.j=u+" ["+r.da()+"]",mr(r)}}finally{Pi(r)}}}function Pi(r,e){if(r.g){Ri(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Q(r,"ready");try{t.onreadystatechange=o}catch{}}}function Ri(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Ue.clearTimeout(r.A),r.A=null)}function Xi(r){return r.g?r.g.readyState:0}function vi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Dn:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function eo(r){let e="";return Tn(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Er(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=eo(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Wi(r,e,t))}function Ir(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function So(r){this.Ga=0,this.j=[],this.l=new Ii,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ir("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ir("baseRetryDelayMs",5e3,r),this.hb=Ir("retryDelaySeedMs",1e4,r),this.eb=Ir("forwardChannelMaxRetries",2,r),this.xa=Ir("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new As(r&&r.concurrentRequestLimit),this.Ja=new Nr,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zo(r){if(ws(r),3==r.H){var e=r.W++,t=nr(r.I);if(Wi(t,"SID",r.K),Wi(t,"RID",e),Wi(t,"TYPE","terminate"),Ns(r,t),(e=new vn(r,r.l,e)).L=2,e.v=To(nr(t)),t=!1,Ue.navigator&&Ue.navigator.sendBeacon)try{t=Ue.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ue.Image&&((new Image).src=e.v,t=!0),t||(e.g=Sa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Co(e)}xa(r)}function ys(r){r.g&&(Ma(r),r.g.cancel(),r.g=null)}function ws(r){ys(r),r.u&&(Ue.clearTimeout(r.u),r.u=null),qs(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Ue.clearTimeout(r.m),r.m=null)}function Ms(r){if(!et(r.i)&&!r.m){r.m=!0;var e=r.Na;An||Qi(),Nn||(An(),Nn=!0),ci.add(e,r),r.C=0}}function No(r,e){var t;t=e?e.m:r.W++;const o=nr(r.I);Wi(o,"SID",r.K),Wi(o,"RID",t),Wi(o,"AID",r.V),Ns(r,o),r.o&&r.s&&Er(o,r.o,r.s),t=new vn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=so(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),st(r.i,t),Fr(t,o,e)}function Ns(r,e){r.na&&Tn(r.na,function(t,o){Wi(e,o,t)}),r.h&&Vo({},function(t,o){Wi(e,o,t)})}function so(r,e,t){t=Math.min(r.j.length,t);var o=r.h?dt(r.h.Va,r.h,r):null;e:{var a=r.j;let u=-1;for(;;){const f=["count="+t];-1==u?0<t?(u=a[0].g,f.push("ofs="+u)):u=0:f.push("ofs="+u);let S=!0;for(let $=0;$<t;$++){let ne=a[$].g;const Ie=a[$].map;if(ne-=u,0>ne)u=Math.max(0,a[$].g-100),S=!1;else try{Lr(Ie,f,"req"+ne+"_")}catch{o&&o(Ie)}}if(S){o=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function gc(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;An||Qi(),Nn||(An(),Nn=!0),ci.add(e,r),r.A=0}}function Ys(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=vo(dt(r.Ma,r),ma(r,r.A)),r.A++,0))}function Ma(r){null!=r.B&&(Ue.clearTimeout(r.B),r.B=null)}function oa(r){r.g=new vn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=nr(r.wa);Wi(e,"RID","rpc"),Wi(e,"SID",r.K),Wi(e,"AID",r.V),Wi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Wi(e,"TO",r.qa),Wi(e,"TYPE","xmlhttp"),Ns(r,e),r.o&&r.s&&Er(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=To(nr(e)),t.s=null,t.S=!0,wr(t,r)}function qs(r){null!=r.v&&(Ue.clearTimeout(r.v),r.v=null)}function Qs(r,e){var t=null;if(r.g==e){qs(r),Ma(r),r.g=null;var o=2}else{if(!X(r.i,e))return;t=e.F,an(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Q(o=cs(),new Jo(o,t)),Ms(r)}else gc(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function Zs(r,e){return!(nt(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=vo(dt(r.Na,r,e),ma(r,r.C)),r.C++,0)))}(r,e)||2==o&&Ys(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:xs(r,5);break;case 4:xs(r,10);break;case 3:xs(r,6);break;default:xs(r,2)}}function ma(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function xs(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=dt(r.pb,r);t||(t=new cr("//www.google.com/images/cleardot.gif"),Ue.location&&"http"==Ue.location.protocol||us(t,"https"),To(t)),function ho(r,e){const t=new Ii;if(Ue.Image){const o=new Image;o.onload=Ht(lr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ht(lr,t,o,"TestLoadImage: error",!1,e),o.onabort=Ht(lr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ht(lr,t,o,"TestLoadImage: timeout",!1,e),Ue.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else yr(2);r.H=0,r.h&&r.h.za(e),xa(r),ws(r)}function xa(r){if(r.H=0,r.ma=[],r.h){const e=Sn(r.i);(0!=e.length||0!=r.j.length)&&(Xe(r.ma,e),Xe(r.ma,r.j),r.i.i.length=0,Mt(r.j),r.j.length=0),r.h.ya()}}function zs(r,e,t){var o=t instanceof cr?nr(t):new cr(t);if(""!=o.g)e&&(o.g=e+"."+o.g),Io(o,o.m);else{var a=Ue.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new cr(null);o&&us(u,o),e&&(u.g=e),a&&Io(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&Wi(o,t,e),Wi(o,"VER",r.ra),Ns(r,o),o}function Sa(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gt(t&&r.Ha&&!r.va?new K({ob:!0}):r.va)).Oa(r.J),e}function ka(){}function Xs(){if(Jt&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function ms(r,e){Ne.call(this),this.g=new So(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!It(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!It(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Os(this)}function ns(r){Ct.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Js(){gt.call(this),this.status=1}function Os(r){this.g=r}function yo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ea(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],f=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;f=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(f<<7&4294967295|f>>>25))+((f=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((u=(e=t+((f=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=u+((f=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Ci(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(Y=Gt.prototype).Oa=function(r){this.M=r},Y.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zt.g(),this.C=function oo(r){return r.h||(r.h=r.i())}(this.u?this.u:zt),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void Oi(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=Ue.FormData&&r instanceof Ue.FormData,!(0<=qt(Vn,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,f]of t)this.g.setRequestHeader(u,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ri(this),0<this.B&&((this.L=function _i(r){return Jt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=fo(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Oi(this,u)}},Y.ua=function(){typeof Ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Q(this,"timeout"),this.abort(8))},Y.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Q(this,"complete"),Q(this,"abort"),Pi(this))},Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pi(this,!0)),Gt.$.N.call(this)},Y.La=function(){this.s||(this.G||this.v||this.l?Dr(this):this.kb())},Y.kb=function(){Dr(this)},Y.isActive=function(){return!!this.g},Y.da=function(){try{return 2<Xi(this)?this.g.status:-1}catch{return-1}},Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),_t(e)}},Y.Ia=function(){return this.m},Y.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=So.prototype).ra=8,Y.H=1,Y.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new vn(this,this.l,r);let u=this.s;if(this.U&&(u?(u=yi(u),en(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=so(this,a,e),Wi(t=nr(this.I),"RID",r),Wi(t,"CVER",22),this.F&&Wi(t,"X-HTTP-Session-Id",this.F),Ns(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(eo(u)))+"&"+e:this.o&&Er(t,this.o,u)),st(this.i,a),this.bb&&Wi(t,"TYPE","init"),this.P?(Wi(t,"$req",e),Wi(t,"SID","null"),a.aa=!0,Fr(a,t,null)):Fr(a,t,e),this.H=2}}else 3==this.H&&(r?No(this,r):0==this.j.length||et(this.i)||No(this))},Y.Ma=function(){if(this.u=null,oa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=vo(dt(this.jb,this),r)}},Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yr(10),ys(this),oa(this))},Y.ib=function(){null!=this.v&&(this.v=null,ys(this),Ys(this),yr(19))},Y.pb=function(r){r?(this.l.info("Successfully pinged google.com"),yr(2)):(this.l.info("Failed to ping google.com"),yr(1))},Y.isActive=function(){return!!this.h&&this.h.isActive(this)},(Y=ka.prototype).Ba=function(){},Y.Aa=function(){},Y.za=function(){},Y.ya=function(){},Y.isActive=function(){return!0},Y.Va=function(){},Xs.prototype.g=function(r,e){return new ms(r,e)},Be(ms,Ne),ms.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;yr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=zs(r,null,r.Y),Ms(r)},ms.prototype.close=function(){zo(this.g)},ms.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=wt(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Ms(e)},ms.prototype.N=function(){this.g.h=null,delete this.j,zo(this.g),delete this.g,ms.$.N.call(this)},Be(ns,Ct),Be(Js,gt),Be(Os,ka),Os.prototype.Ba=function(){Q(this.g,"a")},Os.prototype.Aa=function(r){Q(this.g,new ns(r))},Os.prototype.za=function(r){Q(this.g,new Js)},Os.prototype.ya=function(){Q(this.g,"b")},Be(yo,function ir(){this.blockSize=-1}),yo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)ea(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){ea(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){ea(this,o),a=0;break}}this.h=a,this.i+=e},yo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var fa={};function P(r){return-128<=r&&128>r?function ft(r,e){var t=fa;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Ci([0|e],0>e?-1:0)}):new Ci([0|r],0>r?-1:0)}function ee(r){if(isNaN(r)||!isFinite(r))return it;if(0>r)return Di(ee(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=be;return new Ci(e,0)}var be=4294967296,it=P(0),rn=P(1),fn=P(16777216);function qn(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function zi(r){return-1==r.h}function Di(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Ci(t,~r.h).add(rn)}function bi(r,e){return r.add(Di(e))}function Ei(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Ji(r,e){this.g=r,this.h=e}function jn(r,e){if(qn(e))throw Error("division by zero");if(qn(r))return new Ji(it,it);if(zi(r))return e=jn(Di(r),e),new Ji(Di(e.g),Di(e.h));if(zi(e))return e=jn(r,Di(e)),new Ji(Di(e.g),e.h);if(30<r.g.length){if(zi(r)||zi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=rn,o=e;0>=o.X(r);)t=to(t),o=to(o);var a=fs(t,1),u=fs(o,1);for(o=fs(o,2),t=fs(t,2);!qn(o);){var f=u.add(o);0>=f.X(r)&&(a=a.add(t),u=f),o=fs(o,1),t=fs(t,1)}return e=bi(r,a.R(e)),new Ji(a,e)}for(a=it;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),f=(u=ee(t)).R(e);zi(f)||0<f.X(r);)f=(u=ee(t-=o)).R(e);qn(u)&&(u=rn),a=a.add(u),r=bi(r,f)}return new Ji(a,r)}function to(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Ci(t,r.h)}function fs(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Ci(a,r.h)}(Y=Ci.prototype).ea=function(){if(zi(this))return-Di(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:be+o)*e,e*=be}return r},Y.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(qn(this))return"0";if(zi(this))return"-"+Di(this).toString(r);for(var e=ee(Math.pow(r,6)),t=this,o="";;){var a=jn(t,e).g,u=((0<(t=bi(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(qn(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},Y.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Y.X=function(r){return zi(r=bi(this,r))?-1:qn(r)?0:1},Y.abs=function(){return zi(this)?Di(this):this},Y.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),f=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=f>>>16,t[a]=(f&=65535)<<16|(u&=65535)}return new Ci(t,-2147483648&t[t.length-1]?-1:0)},Y.R=function(r){if(qn(this)||qn(r))return it;if(zi(this))return zi(r)?Di(this).R(Di(r)):Di(Di(this).R(r));if(zi(r))return Di(this.R(Di(r)));if(0>this.X(fn)&&0>r.X(fn))return ee(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,f=65535&this.D(o),S=r.D(a)>>>16,$=65535&r.D(a);t[2*o+2*a]+=f*$,Ei(t,2*o+2*a),t[2*o+2*a+1]+=u*$,Ei(t,2*o+2*a+1),t[2*o+2*a+1]+=f*S,Ei(t,2*o+2*a+1),t[2*o+2*a+2]+=u*S,Ei(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Ci(t,0)},Y.gb=function(r){return jn(this,r).h},Y.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Ci(t,this.h&r.h)},Y.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Ci(t,this.h|r.h)},Y.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Ci(t,this.h^r.h)},Xs.prototype.createWebChannel=Xs.prototype.g,ms.prototype.send=ms.prototype.u,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,ri.NO_ERROR=0,ri.TIMEOUT=8,ri.HTTP_ERROR=6,tr.COMPLETE="complete",Mr.EventType=Zo,Zo.OPEN="a",Zo.CLOSE="b",Zo.ERROR="c",Zo.MESSAGE="d",Ne.prototype.listen=Ne.prototype.O,Gt.prototype.listenOnce=Gt.prototype.P,Gt.prototype.getLastError=Gt.prototype.Sa,Gt.prototype.getLastErrorCode=Gt.prototype.Ia,Gt.prototype.getStatus=Gt.prototype.da,Gt.prototype.getResponseJson=Gt.prototype.Wa,Gt.prototype.getResponseText=Gt.prototype.ja,Gt.prototype.send=Gt.prototype.ha,Gt.prototype.setWithCredentials=Gt.prototype.Oa,yo.prototype.digest=yo.prototype.l,yo.prototype.reset=yo.prototype.reset,yo.prototype.update=yo.prototype.j,Ci.prototype.add=Ci.prototype.add,Ci.prototype.multiply=Ci.prototype.R,Ci.prototype.modulo=Ci.prototype.gb,Ci.prototype.compare=Ci.prototype.X,Ci.prototype.toNumber=Ci.prototype.ea,Ci.prototype.toString=Ci.prototype.toString,Ci.prototype.getBits=Ci.prototype.D,Ci.fromNumber=ee,Ci.fromString=function B(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Di(B(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ee(Math.pow(e,8)),o=it,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+u),e);8>u?(u=ee(Math.pow(e,u)),o=o.R(u).add(ee(f))):o=(o=o.R(t)).add(ee(f))}return o};var Vr=Le.createWebChannelTransport=function(){return new Xs},pa=Le.getStatEventTarget=function(){return cs()},Lo=Le.ErrorCode=ri,Rs=Le.EventType=tr,is=Le.Event=hr,Es=Le.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tc=Le.FetchXmlHttpFactory=K,ga=Le.WebChannel=Mr,_c=Le.XhrIo=Gt,nc=Le.Md5=yo,En=Le.Integer=Ci;const er="@firebase/firestore";class wo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wo.UNAUTHENTICATED=new wo(null),wo.GOOGLE_CREDENTIALS=new wo("google-credentials-uid"),wo.FIRST_PARTY=new wo("first-party-uid"),wo.MOCK_USER=new wo("mock-user");let rs="9.22.2";const jr=new Ee.Yd("@firebase/firestore");function Aa(){return jr.logLevel}function In(r,...e){if(jr.logLevel<=Ee.in.DEBUG){const t=e.map(G);jr.debug(`Firestore (${rs}): ${r}`,...t)}}function gr(r,...e){if(jr.logLevel<=Ee.in.ERROR){const t=e.map(G);jr.error(`Firestore (${rs}): ${r}`,...t)}}function Cs(r,...e){if(jr.logLevel<=Ee.in.WARN){const t=e.map(G);jr.warn(`Firestore (${rs}): ${r}`,...t)}}function G(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function y(r="Unexpected state"){const e=`FIRESTORE (${rs}) INTERNAL ASSERTION FAILED: `+r;throw gr(e),new Error(e)}function b(r,e){r||y()}function z(r,e){return r}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends ue.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nn{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class on{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wo.UNAUTHENTICATED))}shutdown(){}}class Ln{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Yn{constructor(e){this.t=e,this.currentUser=wo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=ne=>this.i!==a?(a=this.i,t(ne)):Promise.resolve();let f=new tt;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new tt,e.enqueueRetryable(()=>u(this.currentUser))};const S=()=>{const ne=f;e.enqueueRetryable((0,Oe.Z)(function*(){yield ne.promise,yield u(o.currentUser)}))},$=ne=>{In("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(ne=>$(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?$(ne):(In("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new tt)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(In("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(b("string"==typeof o.accessToken),new nn(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e),new wo(e)}}class Bi{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=wo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ti{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Bi(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ui{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xi{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&In("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.T;return this.T=u.token,In("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{In("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):In("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(b("string"==typeof t.token),this.T=t.token,new ui(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ko(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Hr{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const a=ko(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[u]%62))}return o}}function ai(r,e){return r<e?-1:r>e?1:0}function no(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function sa(r){return r+"\0"}class dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new dr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ai(this.nanoseconds,e.nanoseconds):ai(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qn(e)}static min(){return new Qn(new dr(0,0))}static max(){return new Qn(new dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ps{constructor(e,t,o){void 0===t?t=0:t>e.length&&y(),void 0===o?o=e.length-t:o>e.length-t&&y(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ps.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),f=t.get(a);if(u<f)return-1;if(u>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fi extends Ps{construct(e,t,o){return new Fi(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Me(q.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new Fi(t)}static emptyPath(){return new Fi([])}}const mo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends Ps{construct(e,t,o){return new Tr(e,t,o)}static isValidIdentifier(e){return mo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new Me(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let f=!1;for(;a<e.length;){const S=e[a];if("\\"===S){if(a+1===e.length)throw new Me(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[a+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Me(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,a+=2}else"`"===S?(f=!f,a++):"."!==S||f?(o+=S,a++):(u(),a++)}if(u(),f)throw new Me(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(t)}static emptyPath(){return new Tr([])}}class E{constructor(e){this.path=e}static fromPath(e){return new E(Fi.fromString(e))}static fromName(e){return new E(Fi.fromString(e).popFirst(5))}static empty(){return new E(Fi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new E(new Fi(e.slice()))}}class O{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function C(r){return r.fields.find(e=>2===e.kind)}function N(r){return r.fields.filter(e=>2!==e.kind)}O.UNKNOWN_ID=-1;class ge{constructor(e,t){this.fieldPath=e,this.kind=t}}class xt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xt(0,Bn.min())}}function gn(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=Qn.fromTimestamp(1e9===o?new dr(t+1,0):new dr(t,o));return new Bn(a,E.empty(),e)}function ii(r){return new Bn(r.readTime,r.key,-1)}class Bn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Bn(Qn.min(),E.empty(),-1)}static max(){return new Bn(Qn.max(),E.empty(),-1)}}function Vi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=E.comparator(r.documentKey,e.documentKey),0!==t?t:ai(r.largestBatchId,e.largestBatchId))}const Ui="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _a{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ps(r){return zr.apply(this,arguments)}function zr(){return zr=(0,Oe.Z)(function*(r){if(r.code!==q.FAILED_PRECONDITION||r.message!==Ui)throw r;In("LocalStore","Unexpectedly lost primary lease")}),zr.apply(this,arguments)}class Yt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Yt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Yt?t:Yt.resolve(t)}catch(t){return Yt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Yt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Yt.reject(t)}static resolve(e){return new Yt((t,o)=>{t(e)})}static reject(e){return new Yt((t,o)=>{o(e)})}static waitFor(e){return new Yt((t,o)=>{let a=0,u=0,f=!1;e.forEach(S=>{++a,S.next(()=>{++u,f&&u===a&&t()},$=>o($))}),f=!0,u===a&&t()})}static or(e){let t=Yt.resolve(!1);for(const o of e)t=t.next(a=>a?Yt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new Yt((o,a)=>{const u=e.length,f=new Array(u);let S=0;for(let $=0;$<u;$++){const ne=$;t(e[ne]).next(Ie=>{f[ne]=Ie,++S,S===u&&o(f)},Ie=>a(Ie))}})}static doWhile(e,t){return new Yt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class $r{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new tt,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new vc(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=bc(o.target.error);this.v.reject(new vc(e,a))}}static open(e,t,o,a){try{return new $r(t,e.transaction(a,o))}catch(u){throw new vc(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(In("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new al(t)}}class $o{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===$o.S((0,ue.z$)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return In("SimpleDb","Removing database:",e),Ea(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ue.hl)())return!1;if($o.C())return!0;const e=(0,ue.z$)(),t=$o.S(e),o=0<t&&t<10,a=$o.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,Oe.Z)(function*(){return t.db||(In("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=f=>{o(f.target.result)},u.onblocked=()=>{a(new vc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const S=f.target.error;a("VersionError"===S.name?new Me(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Me(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new vc(e,S))},u.onupgradeneeded=f=>{In("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,u.transaction,f.oldVersion,t.version).next(()=>{In("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,Oe.Z)(function*(){const f="readonly"===t;let S=0;for(;;){++S;try{u.db=yield u.$(e);const $=$r.open(u.db,e,f?"readonly":"readwrite",o),ne=a($).next(Ie=>($.P(),Ie)).catch(Ie=>($.abort(Ie),Yt.reject(Ie))).toPromise();return ne.catch(()=>{}),yield $.R,ne}catch($){const ne=$,Ie="FirebaseError"!==ne.name&&S<3;if(In("SimpleDb","Transaction failed with error:",ne.message,"Retrying:",Ie),u.close(),!Ie)return Promise.reject(ne)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ea(this.L.delete())}}class vc extends Me{constructor(e,t){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $s(r){return"IndexedDbTransactionError"===r.name}class al{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(In("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(In("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ea(o)}add(e){return In("SimpleDb","ADD",this.store.name,e,e),Ea(this.store.add(e))}get(e){return Ea(this.store.get(e)).next(t=>(void 0===t&&(t=null),In("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return In("SimpleDb","DELETE",this.store.name,e),Ea(this.store.delete(e))}count(){return In("SimpleDb","COUNT",this.store.name),Ea(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(f,S)=>{u.push(S)}).next(()=>u)}{const a=this.store.getAll(o.range);return new Yt((u,f)=>{a.onerror=S=>{f(S.target.error)},a.onsuccess=S=>{u(S.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Yt((a,u)=>{o.onerror=f=>{u(f.target.error)},o.onsuccess=f=>{a(f.target.result)}})}J(e,t){In("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,f,S)=>S.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new Yt((o,a)=>{t.onerror=u=>{const f=bc(u.target.error);a(f)},t.onsuccess=u=>{const f=u.target.result;f?e(f.primaryKey,f.value).next(S=>{S?f.continue():o()}):o()}})}W(e,t){const o=[];return new Yt((a,u)=>{e.onerror=f=>{u(f.target.error)},e.onsuccess=f=>{const S=f.target.result;if(!S)return void a();const $=new rc(S),ne=t(S.primaryKey,S.value,$);if(ne instanceof Yt){const Ie=ne.catch(lt=>($.done(),Yt.reject(lt)));o.push(Ie)}$.isDone?a():null===$.K?S.continue():S.continue($.K)}}).next(()=>Yt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ea(r){return new Yt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=bc(o.target.error);t(a)}})}let kd=!1;function bc(r){const e=$o.S((0,ue.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kd||(kd=!0,setTimeout(()=>{throw o},0)),o}}return r}class Nh{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;In("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Oe.Z)(function*(){t.task=null;try{In("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){$s(o)?In("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ps(o)}yield t.et(6e4)}))}}class Ca{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return Yt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!o.has(f))return In("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(S=>{a-=S,o.add(f)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const f=u.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,u)).next(S=>(In("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>f.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const f=ii(u);Vi(f,o)>0&&(o=f)}),new Bn(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ds=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Gs(r){return null==r}function Oa(r){return 0===r&&1/r==-1/0}function Nc(r){return"number"==typeof r&&Number.isInteger(r)&&!Oa(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Ao(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=cl(e)),e=Ad(r.get(t),e);return cl(e)}function Ad(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function cl(r){return r+"\x01\x01"}function os(r){const e=r.length;if(b(e>=2),2===e)return b("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Fi.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const f=r.indexOf("\x01",u);switch((f<0||f>t)&&y(),r.charAt(f+1)){case"\x01":const S=r.substring(u,f);let $;0===a.length?$=S:(a+=S,$=a,a=""),o.push($);break;case"\x10":a+=r.substring(u,f),a+="\0";break;case"\x11":a+=r.substring(u,f+1);break;default:y()}u=f+2}return new Fi(o)}const yc=["userId","batchId"];function aa(r,e){return[r,Ao(e)]}function ll(r,e,t){return[r,Ao(e),t]}const dl={},ul=["prefixPath","collectionGroup","readTime","documentId"],hl=["prefixPath","collectionGroup","documentId"],Hl=["collectionGroup","readTime","prefixPath","documentId"],Ra=["canonicalId","targetId"],Lh=["targetId","path"],Ou=["path","targetId"],wc=["collectionId","parent"],zl=["indexId","uid"],$l=["uid","sequenceNumber"],Bh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ml=["indexId","uid","orderedDocumentKey"],Va=["userId","collectionPath","documentId"],Ru=["userId","collectionPath","largestBatchId"],Gl=["userId","collectionGroup","largestBatchId"],fl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ja=[...fl,"documentOverlays"],Od=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wl=Od,Lc=[...Wl,"indexConfiguration","indexState","indexEntries"];class Kl extends _a{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function gs(r,e){const t=z(r);return $o.M(t.ht,e)}function Bc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ta(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Pa(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _r{constructor(e,t){this.comparator=e,this.root=t||ss.EMPTY}insert(e,t){return new _r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(e){return new _r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ss{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??ss.RED,this.left=a??ss.EMPTY,this.right=u??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new ss(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ss.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1,ss.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(r,e,t,o,a){return this}insert(r,e,t){return new ss(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new _r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zl(this.data.getIterator())}getIteratorFrom(e){return new Zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class Zl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fa(r){return r.hasNext()?r.getNext():void 0}class Fs{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Fs([])}unionWith(e){let t=new vr(Tr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class pl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pl("Invalid base64 string: "+a):a}}(e);return new qo(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new qo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ai(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qo.EMPTY_BYTE_STRING=new qo("");const Pu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xc(r){if(b(!!r),"string"==typeof r){let e=0;const t=Pu.exec(r);if(b(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:xo(r.seconds),nanos:xo(r.nanos)}}function xo(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ha(r){return"string"==typeof r?qo.fromBase64String(r):qo.fromUint8Array(r)}function Uc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ao(r){const e=r.mapValue.fields.__previous_value__;return Uc(e)?ao(e):e}function Ec(r){const e=xc(r.mapValue.fields.__local_write_time__.timestampValue);return new dr(e.seconds,e.nanos)}class Cc{constructor(e,t,o,a,u,f,S,$,ne){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=S,this.longPollingOptions=$,this.useFetchStreams=ne}}class za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}const io={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$a={nullValue:"NULL_VALUE"};function Ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Uc(r)?4:Hn(r)?9007199254740991:10:y()}function na(r,e){if(r===e)return!0;const t=Ls(r);if(t!==Ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ec(r).isEqual(Ec(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=xc(o.timestampValue),f=xc(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ha(r.bytesValue).isEqual(Ha(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return xo(o.geoPointValue.latitude)===xo(a.geoPointValue.latitude)&&xo(o.geoPointValue.longitude)===xo(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return xo(o.integerValue)===xo(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=xo(o.doubleValue),f=xo(a.doubleValue);return u===f?Oa(u)===Oa(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return no(r.arrayValue.values||[],e.arrayValue.values||[],na);case 10:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(Bc(u)!==Bc(f))return!1;for(const S in u)if(u.hasOwnProperty(S)&&(void 0===f[S]||!na(u[S],f[S])))return!1;return!0}(r,e);default:return y()}var a}function Ga(r,e){return void 0!==(r.values||[]).find(t=>na(t,e))}function Na(r,e){if(r===e)return 0;const t=Ls(r),o=Ls(e);if(t!==o)return ai(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return ai(r.booleanValue,e.booleanValue);case 2:return function(a,u){const f=xo(a.integerValue||a.doubleValue),S=xo(u.integerValue||u.doubleValue);return f<S?-1:f>S?1:f===S?0:isNaN(f)?isNaN(S)?0:-1:1}(r,e);case 3:return Fu(r.timestampValue,e.timestampValue);case 4:return Fu(Ec(r),Ec(e));case 5:return ai(r.stringValue,e.stringValue);case 6:return function(a,u){const f=Ha(a),S=Ha(u);return f.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),S=u.split("/");for(let $=0;$<f.length&&$<S.length;$++){const ne=ai(f[$],S[$]);if(0!==ne)return ne}return ai(f.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const f=ai(xo(a.latitude),xo(u.latitude));return 0!==f?f:ai(xo(a.longitude),xo(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const f=a.values||[],S=u.values||[];for(let $=0;$<f.length&&$<S.length;++$){const ne=Na(f[$],S[$]);if(ne)return ne}return ai(f.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===io.mapValue&&u===io.mapValue)return 0;if(a===io.mapValue)return 1;if(u===io.mapValue)return-1;const f=a.fields||{},S=Object.keys(f),$=u.fields||{},ne=Object.keys($);S.sort(),ne.sort();for(let Ie=0;Ie<S.length&&Ie<ne.length;++Ie){const lt=ai(S[Ie],ne[Ie]);if(0!==lt)return lt;const tn=Na(f[S[Ie]],$[ne[Ie]]);if(0!==tn)return tn}return ai(S.length,ne.length)}(r.mapValue,e.mapValue);default:throw y()}}function Fu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ai(r,e);const t=xc(r),o=xc(e),a=ai(t.seconds,o.seconds);return 0!==a?a:ai(t.nanos,o.nanos)}function Dc(r){return Nu(r)}function Nu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=xc(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ha(r.bytesValue).toBase64():"referenceValue"in r?E.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const f of o.values||[])u?u=!1:a+=",",a+=Nu(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",f=!0;for(const S of a)f?f=!1:u+=",",u+=`${S}:${Nu(o.fields[S])}`;return u+"}"}(r.mapValue):y();var e}function L(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function re(r){return!!r&&"integerValue"in r}function $e(r){return!!r&&"arrayValue"in r}function Dt(r){return!!r&&"nullValue"in r}function $t(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dn(r){return!!r&&"mapValue"in r}function Wn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ta(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Wn(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Hn(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function di(r){return"nullValue"in r?$a:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?L(za.empty(),E.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:y()}function Ni(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?L(za.empty(),E.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?io:y()}function Mi(r,e){const t=Na(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Is(r,e){const t=Na(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!dn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wn(t)}setAll(e){let t=Tr.emptyPath(),o={},a=[];e.forEach((f,S)=>{if(!t.isImmediateParentOf(S)){const $=this.getFieldsMap(t);this.applyChanges($,o,a),o={},a=[],t=S.popLast()}f?o[S.lastSegment()]=Wn(f):a.push(S.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());dn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];dn(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){ta(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new fr(Wn(this.value))}}function Wa(r){const e=[];return ta(r.fields,(t,o)=>{const a=new Tr([t]);if(dn(o)){const u=Wa(o.mapValue).fields;if(0===u.length)e.push(a);else for(const f of u)e.push(a.child(f))}else e.push(a)}),new Fs(e)}class Gr{constructor(e,t,o,a,u,f,S){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=f,this.documentState=S}static newInvalidDocument(e){return new Gr(e,0,Qn.min(),Qn.min(),Qn.min(),fr.empty(),0)}static newFoundDocument(e,t,o,a){return new Gr(e,1,t,Qn.min(),o,a,0)}static newNoDocument(e,t){return new Gr(e,2,t,Qn.min(),Qn.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new Gr(e,3,t,Qn.min(),Qn.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bs{constructor(e,t){this.position=e,this.inclusive=t}}function ia(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],f=r.position[a];if(o=u.field.isKeyField()?E.comparator(E.fromName(f.referenceValue),t.key):Na(f,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function Da(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!na(r.position[t],e.position[t]))return!1;return!0}class va{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Uh{}class ur extends Uh{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Hh(e,t,o):"array-contains"===t?new m(e,o):"in"===t?new _(e,o):"not-in"===t?new k(e,o):"array-contains-any"===t?new se(e,o):new ur(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new sf(e,o):new Ld(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Na(t,this.value)):null!==t&&Ls(this.value)===Ls(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ro extends Uh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ro(e,t)}matches(e){return ca(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ca(r){return"and"===r.op}function Ic(r){return"or"===r.op}function Fd(r){return nf(r)&&ca(r)}function nf(r){for(const e of r.filters)if(e instanceof ro)return!1;return!0}function Nd(r){if(r instanceof ur)return r.field.canonicalString()+r.op.toString()+Dc(r.value);if(Fd(r))return r.filters.map(e=>Nd(e)).join(",");{const e=r.filters.map(t=>Nd(t)).join(",");return`${r.op}(${e})`}}function Vh(r,e){return r instanceof ur?(t=r,(o=e)instanceof ur&&t.op===o.op&&t.field.isEqual(o.field)&&na(t.value,o.value)):r instanceof ro?function(t,o){return o instanceof ro&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,f)=>a&&Vh(u,o.filters[f]),!0)}(r,e):void y();var t,o}function rf(r,e){const t=r.filters.concat(e);return ro.create(t,r.op)}function jh(r){return r instanceof ur?`${(e=r).field.canonicalString()} ${e.op} ${Dc(e.value)}`:r instanceof ro?function(e){return e.op.toString()+" {"+e.getFilters().map(jh).join(" ,")+"}"}(r):"Filter";var e}class Hh extends ur{constructor(e,t,o){super(e,t,o),this.key=E.fromName(o.referenceValue)}matches(e){const t=E.comparator(e.key,this.key);return this.matchesComparison(t)}}class sf extends ur{constructor(e,t){super(e,"in",t),this.keys=I(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ld extends ur{constructor(e,t){super(e,"not-in",t),this.keys=I(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>E.fromName(o.referenceValue))}class m extends ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $e(t)&&Ga(t.arrayValue,this.value)}}class _ extends ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ga(this.value.arrayValue,t)}}class k extends ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ga(this.value.arrayValue,t)}}class se extends ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$e(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Ga(this.value.arrayValue,o))}}class Se{constructor(e,t=null,o=[],a=[],u=null,f=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=f,this.endAt=S,this.dt=null}}function Ut(r,e=null,t=[],o=[],a=null,u=null,f=null){return new Se(r,e,t,o,a,u,f)}function sn(r){const e=z(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Nd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),Gs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Dc(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Dc(o)).join(",")),e.dt=t}return e.dt}function Pn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Pd(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Da(r.startAt,e.startAt)&&Da(r.endAt,e.endAt)}function ti(r){return E.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function mi(r,e){return r.filters.filter(t=>t instanceof ur&&t.field.isEqual(e))}function rr(r,e,t){let o=$a,a=!0;for(const u of mi(r,e)){let f=$a,S=!0;switch(u.op){case"<":case"<=":f=di(u.value);break;case"==":case"in":case">=":f=u.value;break;case">":f=u.value,S=!1;break;case"!=":case"not-in":f=$a}Mi({value:o,inclusive:a},{value:f,inclusive:S})<0&&(o=f,a=S)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const f=t.position[u];Mi({value:o,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(o=f,a=t.inclusive);break}return{value:o,inclusive:a}}function la(r,e,t){let o=io,a=!0;for(const u of mi(r,e)){let f=io,S=!0;switch(u.op){case">=":case">":f=Ni(u.value),S=!1;break;case"==":case"in":case"<=":f=u.value;break;case"<":f=u.value,S=!1;break;case"!=":case"not-in":f=io}Is({value:o,inclusive:a},{value:f,inclusive:S})>0&&(o=f,a=S)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const f=t.position[u];Is({value:o,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(o=f,a=t.inclusive);break}return{value:o,inclusive:a}}class ra{constructor(e,t=null,o=[],a=[],u=null,f="F",S=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=f,this.startAt=S,this.endAt=$,this.wt=null,this._t=null}}function Bd(r,e,t,o,a,u,f,S){return new ra(r,e,t,o,a,u,f,S)}function gl(r){return new ra(r)}function Lu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Ud(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Tc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Vc(r){return null!==r.collectionGroup}function sc(r){const e=z(r);if(null===e.wt){e.wt=[];const t=Tc(e),o=Ud(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new va(t)),e.wt.push(new va(Tr.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new va(Tr.keyField(),u))}}}return e.wt}function Us(r){const e=z(r);if(!e._t)if("F"===e.limitType)e._t=Ut(e.path,e.collectionGroup,sc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of sc(e))t.push(new va(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Bs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Bs(e.startAt.position,e.startAt.inclusive):null;e._t=Ut(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function _l(r,e){e.getFirstInequalityField(),Tc(r);const t=r.filters.concat([e]);return new ra(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ka(r,e,t){return new ra(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function vl(r,e){return Pn(Us(r),Us(e))&&r.limitType===e.limitType}function jc(r){return`${sn(Us(r))}|lt:${r.limitType}`}function bl(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>jh(o)).join(", ")}]`),Gs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Dc(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Dc(o)).join(",")),`Target(${t})`}(Us(r))}; limitType=${r.limitType})`}function Ia(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):E.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of sc(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,f){const S=ia(a,u,f);return a.inclusive?S<=0:S<0}(t.startAt,sc(t),o)||t.endAt&&!function(a,u,f){const S=ia(a,u,f);return a.inclusive?S>=0:S>0}(t.endAt,sc(t),o)));var t,o}function Lg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bg(r){return(e,t)=>{let o=!1;for(const a of sc(r)){const u=ab(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function ab(r,e,t){const o=r.field.isKeyField()?E.comparator(e.key,t.key):function(a,u,f){const S=u.data.field(a),$=f.data.field(a);return null!==S&&null!==$?Na(S,$):y()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return y()}}class Mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return Pa(this.inner)}size(){return this.innerSize}}const af=new _r(E.comparator);function Ta(){return af}const Ug=new _r(E.comparator);function Bu(...r){let e=Ug;for(const t of r)e=e.insert(t.key,t);return e}function cf(r){let e=Ug;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Sc(){return Ws()}function Vg(){return Ws()}function Ws(){return new Mc(r=>r.toString(),(r,e)=>r.isEqual(e))}const lf=new _r(E.comparator),jg=new vr(E.comparator);function Yi(...r){let e=jg;for(const t of r)e=e.add(t);return e}const da=new vr(ai);function Yl(){return da}function df(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oa(e)?"-0":e}}function uf(r){return{integerValue:""+r}}function Hg(r,e){return Nc(e)?uf(e):df(r,e)}class Uu{constructor(){this._=void 0}}function cb(r,e,t){return r instanceof ql?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Uc(a)&&(a=ao(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Ql?Gg(r,e):r instanceof Hc?zh(r,e):function(o,a){const u=$g(o,a),f=jd(u)+jd(o.gt);return re(u)&&re(o.gt)?uf(f):df(o.serializer,f)}(r,e)}function zg(r,e,t){return r instanceof Ql?Gg(r,e):r instanceof Hc?zh(r,e):t}function $g(r,e){return r instanceof Vd?re(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ql extends Uu{}class Ql extends Uu{constructor(e){super(),this.elements=e}}function Gg(r,e){const t=Wg(e);for(const o of r.elements)t.some(a=>na(a,o))||t.push(o);return{arrayValue:{values:t}}}class Hc extends Uu{constructor(e){super(),this.elements=e}}function zh(r,e){let t=Wg(e);for(const o of r.elements)t=t.filter(a=>!na(a,o));return{arrayValue:{values:t}}}class Vd extends Uu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function jd(r){return xo(r.integerValue||r.doubleValue)}function Wg(r){return $e(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Vu{constructor(e,t){this.field=e,this.transform=t}}class mf{constructor(e,t){this.version=e,this.transformResults=t}}class Qo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qo}static exists(e){return new Qo(void 0,e)}static updateTime(e){return new Qo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Xl{}function ff(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new wl(r.key,Qo.none()):new Hd(r.key,r.data,Qo.none());{const t=r.data,o=fr.empty();let a=new vr(Tr.comparator);for(let u of e.fields)if(!a.has(u)){let f=t.field(u);null===f&&u.length>1&&(u=u.popLast(),f=t.field(u)),null===f?o.delete(u):o.set(u,f),a=a.add(u)}return new $c(r.key,o,new Fs(a.toArray()),Qo.none())}}function pf(r,e,t){r instanceof Hd?function(o,a,u){const f=o.value.clone(),S=Yg(o.fieldTransforms,a,u.transformResults);f.setAll(S),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof $c?function(o,a,u){if(!zc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Yg(o.fieldTransforms,a,u.transformResults),S=a.data;S.setAll(Zg(o)),S.setAll(f),a.convertToFoundDocument(u.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yl(r,e,t,o){return r instanceof Hd?function(a,u,f,S){if(!zc(a.precondition,u))return f;const $=a.value.clone(),ne=gf(a.fieldTransforms,S,u);return $.setAll(ne),u.convertToFoundDocument(u.version,$).setHasLocalMutations(),null}(r,e,t,o):r instanceof $c?function(a,u,f,S){if(!zc(a.precondition,u))return f;const $=gf(a.fieldTransforms,S,u),ne=u.data;return ne.setAll(Zg(a)),ne.setAll($),u.convertToFoundDocument(u.version,ne).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Ie=>Ie.field))}(r,e,t,o):(f=t,zc(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f);var u,f}function lb(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=$g(o.transform,a||null);null!=u&&(null===t&&(t=fr.empty()),t.set(o.field,u))}return t||null}function Kg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&no(t,o,(a,u)=>function hf(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Ql&&o instanceof Ql||t instanceof Hc&&o instanceof Hc?no(t.elements,o.elements,na):t instanceof Vd&&o instanceof Vd?na(t.gt,o.gt):t instanceof ql&&o instanceof ql);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class Hd extends Xl{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $c extends Xl{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Yg(r,e,t){const o=new Map;b(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],f=u.transform,S=e.data.field(u.field);o.set(u.field,zg(f,S,t[a]))}return o}function gf(r,e,t){const o=new Map;for(const a of r){const u=a.transform,f=t.data.field(a.field);o.set(a.field,cb(u,f,e))}return o}class wl extends Xl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends Xl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ju{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&pf(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=yl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=yl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Vg();return this.mutations.forEach(a=>{const u=e.get(a.key),f=u.overlayedDocument;let S=this.applyToLocalView(f,u.mutatedFields);S=t.has(a.key)?null:S;const $=ff(f,S);null!==$&&o.set(a.key,$),f.isValidDocument()||f.convertToNoDocument(Qn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yi())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(t,o)=>Kg(t,o))&&no(this.baseMutations,e.baseMutations,(t,o)=>Kg(t,o))}}class _f{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){b(e.mutations.length===o.length);let a=lf;const u=e.mutations;for(let f=0;f<u.length;f++)a=a.insert(u[f].key,o[f].version);return new _f(e,t,o,a)}}class vf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Go,Or;function yf(r){switch(r){default:return y();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function Qg(r){if(void 0===r)return gr("GRPC error has no .code"),q.UNKNOWN;switch(r){case Go.OK:return q.OK;case Go.CANCELLED:return q.CANCELLED;case Go.UNKNOWN:return q.UNKNOWN;case Go.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Go.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Go.INTERNAL:return q.INTERNAL;case Go.UNAVAILABLE:return q.UNAVAILABLE;case Go.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Go.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Go.NOT_FOUND:return q.NOT_FOUND;case Go.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Go.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Go.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Go.ABORTED:return q.ABORTED;case Go.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Go.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Go.DATA_LOSS:return q.DATA_LOSS;default:return y()}}(Or=Go||(Go={}))[Or.OK=0]="OK",Or[Or.CANCELLED=1]="CANCELLED",Or[Or.UNKNOWN=2]="UNKNOWN",Or[Or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Or[Or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Or[Or.NOT_FOUND=5]="NOT_FOUND",Or[Or.ALREADY_EXISTS=6]="ALREADY_EXISTS",Or[Or.PERMISSION_DENIED=7]="PERMISSION_DENIED",Or[Or.UNAUTHENTICATED=16]="UNAUTHENTICATED",Or[Or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Or[Or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Or[Or.ABORTED=10]="ABORTED",Or[Or.OUT_OF_RANGE=11]="OUT_OF_RANGE",Or[Or.UNIMPLEMENTED=12]="UNIMPLEMENTED",Or[Or.INTERNAL=13]="INTERNAL",Or[Or.UNAVAILABLE=14]="UNAVAILABLE",Or[Or.DATA_LOSS=15]="DATA_LOSS";class Xg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jl}static getOrCreateInstance(){return null===Jl&&(Jl=new Xg),Jl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Jl=null;function Jg(){return new TextEncoder}const e_=new En([4294967295,4294967295],0);function wf(r){const e=Jg().encode(r),t=new nc;return t.update(e),new Uint8Array(t.digest())}function xf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new En([t,o],0),new En([a,u],0)]}class Hu{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new zd(`Invalid padding: ${t}`);if(o<0)throw new zd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new zd(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new zd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=En.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(En.fromNumber(o)));return 1===a.compare(e_)&&(a=new En([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wf(e),[o,a]=xf(t);for(let u=0;u<this.hashCount;u++){const f=this.Et(o,a,u);if(!this.At(f))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hu(u,a,t);return o.forEach(S=>f.insert(S)),f}insert(e){if(0===this.It)return;const t=wf(e),[o,a]=xf(t);for(let u=0;u<this.hashCount;u++){const f=this.Et(o,a,u);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xl{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new xl(Qn.min(),a,new _r(ai),Ta(),Yi())}}class Gc{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Gc(o,t,Yi(),Yi(),Yi())}}class zu{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class Gh{constructor(e,t){this.targetId=e,this.Vt=t}}class $u{constructor(e,t,o=qo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class Ef{constructor(){this.St=0,this.Dt=t_(),this.Ct=qo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Yi(),t=Yi(),o=Yi();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:y()}}),new Gc(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=t_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ta(),this.zt=$d(),this.Wt=new _r(ai)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const f=u.target;if(ti(f))if(0===a){const S=new E(f.path);this.Yt(o,S,Gr.newNoDocument(S,Qn.min()))}else b(1===a);else{const S=this.ie(o);if(S!==a){const $=this.re(e,S);0!==$&&(this.ee(o),this.Wt=this.Wt.insert(o,2===$?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ne,Ie,lt){var tn,_n,Fn,Xn,si,qi;const Rr={localCacheCount:Ie,existenceFilterCount:lt.count},ji=lt.unchangedNames;return ji&&(Rr.bloomFilter={applied:0===ne,hashCount:null!==(tn=ji?.hashCount)&&void 0!==tn?tn:0,bitmapLength:null!==(Xn=null===(Fn=null===(_n=ji?.bits)||void 0===_n?void 0:_n.bitmap)||void 0===Fn?void 0:Fn.length)&&void 0!==Xn?Xn:0,padding:null!==(qi=null===(si=ji?.bits)||void 0===si?void 0:si.padding)&&void 0!==qi?qi:0}),Rr}($,S,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:f=0},hashCount:S=0}=o;let $,ne;try{$=Ha(u).toUint8Array()}catch(Ie){if(Ie instanceof pl)return Cs("Decoding the base64 bloom filter in existence filter failed ("+Ie.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ie}try{ne=new Hu($,f,S)}catch(Ie){return Cs(Ie instanceof zd?"BloomFilter error: ":"Applying bloom filter failed: ",Ie),1}return 0===ne.It?1:a!==t-this.oe(e.targetId,ne)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const f=this.Gt.ue(),S=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.vt(S)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,f)=>{const S=this.se(f);if(S){if(u.current&&ti(S.target)){const $=new E(S.target.path);null!==this.jt.get($)||this.ae(f,$)||this.Yt(f,$,Gr.newNoDocument($,e))}u.Mt&&(t.set(f,u.Ot()),u.Ft())}});let o=Yi();this.zt.forEach((u,f)=>{let S=!0;f.forEachWhile($=>{const ne=this.se($);return!ne||"TargetPurposeLimboResolution"===ne.purpose||(S=!1,!1)}),S&&(o=o.add(u))}),this.jt.forEach((u,f)=>f.setReadTime(e));const a=new xl(e,t,this.Wt,this.jt,o);return this.jt=Ta(),this.zt=$d(),this.Wt=new _r(ai),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ef,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new vr(ai),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||In("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ef),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function $d(){return new _r(E.comparator)}function t_(){return new _r(E.comparator)}const n_={asc:"ASCENDING",desc:"DESCENDING"},db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ub={and:"AND",or:"OR"};class hb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(r,e){return r.useProto3Json||Gs(e)?e:{value:e}}function ed(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Df(r,e){return ed(r,e.toTimestamp())}function Wo(r){return b(!!r),Qn.fromTimestamp(function(e){const t=xc(e);return new dr(t.seconds,t.nanos)}(r))}function If(r,e){return(t=r,new Fi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(r){const e=Fi.fromString(r);return b(u_(e)),e}function Kh(r,e){return If(r.databaseId,e.path)}function kc(r,e){const t=i_(e);if(t.get(1)!==r.databaseId.projectId)throw new Me(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Me(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new E(Ku(t))}function Wu(r,e){return If(r.databaseId,e)}function r_(r){const e=i_(r);return 4===e.length?Fi.emptyPath():Ku(e)}function Wc(r){return new Fi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ku(r){return b(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Zh(r,e,t){return{name:Kh(r,e),fields:t.value.mapValue.fields}}function Tf(r,e,t){const o=kc(r,e.name),a=Wo(e.updateTime),u=e.createTime?Wo(e.createTime):Qn.min(),f=new fr({mapValue:{fields:e.fields}}),S=Gr.newFoundDocument(o,a,u,f);return t&&S.setHasCommittedMutations(),t?S.setHasCommittedMutations():S}function ac(r,e){let t;if(e instanceof Hd)t={update:Zh(r,e.key,e.value)};else if(e instanceof wl)t={delete:Kh(r,e.key)};else if(e instanceof $c)t={update:Zh(r,e.key,e.data),updateMask:d_(e.fieldMask)};else{if(!(e instanceof $h))return y();t={verify:Kh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const f=u.transform;if(f instanceof ql)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ql)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Hc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Vd)return{fieldPath:u.field.canonicalString(),increment:f.gt};throw y()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Df(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:y()),t;var a}function Mf(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Qo.updateTime(Wo(a.updateTime)):void 0!==a.exists?Qo.exists(a.exists):Qo.none():Qo.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,f){let S=null;"setToServerValue"in f?(b("REQUEST_TIME"===f.setToServerValue),S=new ql):"appendMissingElements"in f?S=new Ql(f.appendMissingElements.values||[]):"removeAllFromArray"in f?S=new Hc(f.removeAllFromArray.values||[]):"increment"in f?S=new Vd(u,f.increment):y();const $=Tr.fromServerFormat(f.fieldPath);return new Vu($,S)}(r,a)):[];var a;if(e.update){const a=kc(r,e.update.name),u=new fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Fs((e.updateMask.fieldPaths||[]).map(ne=>Tr.fromServerFormat(ne)));return new $c(a,u,f,t,o)}return new Hd(a,u,t,o)}if(e.delete){const a=kc(r,e.delete);return new wl(a,t)}if(e.verify){const a=kc(r,e.verify);return new $h(a,t)}return y()}function a_(r,e){return{documents:[Wu(r,e.path)]}}function Sf(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Wu(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Wu(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function($){if(0!==$.length)return l_(ro.create($,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function($){if(0!==$.length)return $.map(ne=>{return{field:El((Ie=ne).field),direction:fb(Ie.dir)};var Ie})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Wh(r,e.limit);var S,$;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function c_(r){let e=r_(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){b(1===o);const Ie=t.from[0];Ie.allDescendants?a=Ie.collectionId:e=e.child(Ie.collectionId)}let u=[];t.where&&(u=function(Ie){const lt=td(Ie);return lt instanceof ro&&Fd(lt)?lt.getFilters():[lt]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Ie=>{return new va(Gd((lt=Ie).field),function(tn){switch(tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(lt.direction));var lt}));let S=null;t.limit&&(S=function(Ie){let lt;return lt="object"==typeof Ie?Ie.value:Ie,Gs(lt)?null:lt}(t.limit));let $=null;var Ie;t.startAt&&($=new Bs((Ie=t.startAt).values||[],!!Ie.before));let ne=null;return t.endAt&&(ne=function(Ie){return new Bs(Ie.values||[],!Ie.before)}(t.endAt)),Bd(e,a,f,u,S,"F",$,ne)}function td(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gd(e.unaryFilter.field);return ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Gd(e.unaryFilter.field);return ur.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gd(e.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gd(e.unaryFilter.field);return ur.create(u,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(r):void 0!==r.fieldFilter?ur.create(Gd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return ro.create(e.compositeFilter.filters.map(t=>td(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(r):y();var e}function fb(r){return n_[r]}function pb(r){return db[r]}function gb(r){return ub[r]}function El(r){return{fieldPath:r.canonicalString()}}function Gd(r){return Tr.fromServerFormat(r.fieldPath)}function l_(r){return r instanceof ur?function(e){if("=="===e.op){if($t(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NAN"}};if(Dt(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($t(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NOT_NAN"}};if(Dt(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(e.field),op:pb(e.op),value:e.value}}}(r):r instanceof ro?function(e){const t=e.getFilters().map(o=>l_(o));return 1===t.length?t[0]:{compositeFilter:{op:gb(e.op),filters:t}}}(r):y()}function d_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Zc{constructor(e,t,o,a,u=Qn.min(),f=Qn.min(),S=qo.EMPTY_BYTE_STRING,$=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=S,this.expectedCount=$}withSequenceNumber(e){return new Zc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class h_{constructor(e){this.fe=e}}function Zu(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Za(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Kh(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ed(a,u.version.toTimestamp()),createTime:ed(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:cc(e.version)};else{if(!e.isUnknownDocument())return y();o.unknownDocument={path:t.path.toArray(),version:cc(e.version)}}var a,u;return o}function Za(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function cc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cl(r){const e=new dr(r.seconds,r.nanoseconds);return Qn.fromTimestamp(e)}function Dl(r,e){const t=(e.baseMutations||[]).map(u=>Mf(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>Mf(r.fe,u)),a=dr.fromMillis(e.localWriteTimeMs);return new ju(e.batchId,a,t,o)}function Wd(r){const e=Cl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Cl(r.lastLimboFreeSnapshotVersion):Qn.min();let o;var a;return void 0!==r.query.documents?(b(1===(a=r.query).documents.length),o=Us(gl(r_(a.documents[0])))):o=Us(c_(r.query)),new Zc(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,qo.fromBase64String(r.resumeToken))}function vb(r,e){const t=cc(e.snapshotVersion),o=cc(e.lastLimboFreeSnapshotVersion);let a;a=ti(e.target)?a_(r.fe,e.target):Sf(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:sn(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function m_(r){const e=c_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ka(e,e.limit,"L"):e}function f_(r,e){return new vf(e.largestBatchId,Mf(r.fe,e.overlayMutation))}function Yh(r,e){const t=e.path.lastSegment();return[r,Ao(e.path.popLast()),t]}function qh(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:cc(o.readTime),documentKey:Ao(o.documentKey.path),largestBatchId:o.largestBatchId}}class f0{getBundleMetadata(e,t){return bb(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Cl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return bb(e).put({bundleId:(o=t).id,createTime:cc(Wo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return kf(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:m_(a.bundledQuery),readTime:Cl(a.readTime)};var a})}saveNamedQuery(e,t){return kf(e).put({name:(o=t).name,readTime:cc(Wo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function bb(r){return gs(r,"bundles")}function kf(r){return gs(r,"namedQueries")}class Qh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qh(e,t.uid||"")}getOverlay(e,t){return Yu(e).get(Yh(this.userId,t)).next(o=>o?f_(this.serializer,o):null)}getOverlays(e,t){const o=Sc();return Yt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,f)=>{const S=new vf(t,f);a.push(this.we(e,S))}),Yt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(f=>a.add(Ao(f.getCollectionPath())));const u=[];return a.forEach(f=>{const S=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,o+1],!1,!0);u.push(Yu(e).J("collectionPathOverlayIndex",S))}),Yt.waitFor(u)}getOverlaysForCollection(e,t,o){const a=Sc(),u=Ao(t),f=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Yu(e).j("collectionPathOverlayIndex",f).next(S=>{for(const $ of S){const ne=f_(this.serializer,$);a.set(ne.getKey(),ne)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=Sc();let f;const S=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yu(e).X({index:"collectionGroupOverlayIndex",range:S},($,ne,Ie)=>{const lt=f_(this.serializer,ne);u.size()<a||lt.largestBatchId===f?(u.set(lt.getKey(),lt),f=lt.largestBatchId):Ie.done()}).next(()=>u)}we(e,t){return Yu(e).put(function(o,a,u){const[f,S,$]=Yh(a,u.mutation.key);return{userId:a,collectionPath:S,documentId:$,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ac(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Yu(r){return gs(r,"documentOverlays")}class nd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(xo(e.integerValue));else if("doubleValue"in e){const o=xo(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Oa(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ha(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?Hn(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):y()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),E.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function yb(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Af(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=yb(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}nd.Ve=new nd;class Xh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=Af(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=Af(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class p_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Of{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class qu{constructor(){this.je=new Xh,this.ze=new p_(this.je),this.We=new Of(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Bo{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Bo(this.indexId,this.documentKey,this.arrayValue,o)}}function Il(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=g_(r.arrayValue,e.arrayValue),0!==t?t:(t=g_(r.directionalValue,e.directionalValue),0!==t?t:E.comparator(r.documentKey,e.documentKey)))}function g_(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Rf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){b(e.collectionGroup===this.collectionId);const t=C(e);if(void 0!==t&&!this.en(t))return!1;const o=N(e);let a=new Set,u=0,f=0;for(;u<o.length&&this.en(o[u]);++u)a=a.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const S=o[u];if(!this.nn(this.Ze,S)||!this.sn(this.Ye[f++],S))return!1}++u}for(;u<o.length;++u)if(f>=this.Ye.length||!this.sn(this.Ye[f++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pf(r){var e,t;if(b(r instanceof ur||r instanceof ro),r instanceof ur){if(r instanceof _){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>ur.create(r.field,"==",u)))||[];return ro.create(a,"or")}return r}const o=r.filters.map(a=>Pf(a));return ro.create(o,r.op)}function wb(r){if(0===r.getFilters().length)return[];const e=Jh(Pf(r));return b(__(e)),Ff(e)||Nf(e)?[e]:e.getFilters()}function Ff(r){return r instanceof ur}function Nf(r){return r instanceof ro&&Fd(r)}function __(r){return Ff(r)||Nf(r)||function(e){if(e instanceof ro&&Ic(e)){for(const t of e.getFilters())if(!Ff(t)&&!Nf(t))return!1;return!0}return!1}(r)}function Jh(r){if(b(r instanceof ur||r instanceof ro),r instanceof ur)return r;if(1===r.filters.length)return Jh(r.filters[0]);const e=r.filters.map(o=>Jh(o));let t=ro.create(e,r.op);return t=Tl(t),__(t)?t:(b(t instanceof ro),b(ca(t)),b(t.filters.length>1),t.filters.reduce((o,a)=>v_(o,a)))}function v_(r,e){let t;return b(r instanceof ur||r instanceof ro),b(e instanceof ur||e instanceof ro),t=r instanceof ur?e instanceof ur?ro.create([r,e],"and"):xb(r,e):e instanceof ur?xb(e,r):function(o,a){if(b(o.filters.length>0&&a.filters.length>0),ca(o)&&ca(a))return rf(o,a.getFilters());const u=Ic(o)?o:a,f=Ic(o)?a:o,S=u.filters.map($=>v_($,f));return ro.create(S,"or")}(r,e),Tl(t)}function xb(r,e){if(ca(e))return rf(e,r.getFilters());{const t=e.filters.map(o=>v_(r,o));return ro.create(t,"or")}}function Tl(r){if(b(r instanceof ur||r instanceof ro),r instanceof ur)return r;const e=r.getFilters();if(1===e.length)return Tl(e[0]);if(nf(r))return r;const t=e.map(a=>Tl(a)),o=[];return t.forEach(a=>{a instanceof ur?o.push(a):a instanceof ro&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:ro.create(o,r.op)}class co{constructor(){this.rn=new id}addToCollectionParentIndex(e,t){return this.rn.add(t),Yt.resolve()}getCollectionParents(e,t){return Yt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Yt.resolve()}deleteFieldIndex(e,t){return Yt.resolve()}getDocumentsMatchingTarget(e,t){return Yt.resolve(null)}getIndexType(e,t){return Yt.resolve(0)}getFieldIndexes(e,t){return Yt.resolve([])}getNextCollectionGroupToUpdate(e){return Yt.resolve(null)}getMinOffset(e,t){return Yt.resolve(Bn.min())}getMinOffsetFromCollectionGroup(e,t){return Yt.resolve(Bn.min())}updateCollectionGroup(e,t,o){return Yt.resolve()}updateIndexEntries(e,t){return Yt.resolve()}}class id{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new vr(Fi.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new vr(Fi.comparator)).toArray()}}const Qu=new Uint8Array(0);class b_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new id,this.un=new Mc(o=>sn(o),(o,a)=>Pn(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:Ao(a)};return Lf(e).put(u)}return Yt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[sa(t),""],!1,!0);return Lf(e).j(a).next(u=>{for(const f of u){if(f.collectionId!==t)break;o.push(os(f.parent))}return o})}addFieldIndex(e,t){const o=em(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var f;delete a.indexId;const u=o.add(a);if(t.indexState){const f=Kd(e);return u.next(S=>{f.put(qh(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=em(e),a=Kd(e),u=rd(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=rd(e);let a=!0;const u=new Map;return Yt.forEach(this.cn(t),f=>this.an(e,f).next(S=>{a&&(a=!!S),u.set(f,S)})).next(()=>{if(a){let f=Yi();const S=[];return Yt.forEach(u,($,ne)=>{var Ie;In("IndexedDbIndexManager",`Using index ${Ie=$,`id=${Ie.indexId}|cg=${Ie.collectionGroup}|f=${Ie.fields.map(ji=>`${ji.fieldPath}:${ji.kind}`).join(",")}`} to execute ${sn(t)}`);const lt=function(ji,as){const Uo=C(as);if(void 0===Uo)return null;for(const Oo of mi(ji,Uo.fieldPath))switch(Oo.op){case"array-contains-any":return Oo.value.arrayValue.values||[];case"array-contains":return[Oo.value]}return null}(ne,$),tn=function(ji,as){const Uo=new Map;for(const Oo of N(as))for(const ha of mi(ji,Oo.fieldPath))switch(ha.op){case"==":case"in":Uo.set(Oo.fieldPath.canonicalString(),ha.value);break;case"not-in":case"!=":return Uo.set(Oo.fieldPath.canonicalString(),ha.value),Array.from(Uo.values())}return null}(ne,$),_n=function(ji,as){const Uo=[];let Oo=!0;for(const ha of N(as)){const pc=0===ha.kind?rr(ji,ha.fieldPath,ji.startAt):la(ji,ha.fieldPath,ji.startAt);Uo.push(pc.value),Oo&&(Oo=pc.inclusive)}return new Bs(Uo,Oo)}(ne,$),Fn=function(ji,as){const Uo=[];let Oo=!0;for(const ha of N(as)){const pc=0===ha.kind?la(ji,ha.fieldPath,ji.endAt):rr(ji,ha.fieldPath,ji.endAt);Uo.push(pc.value),Oo&&(Oo=pc.inclusive)}return new Bs(Uo,Oo)}(ne,$),Xn=this.hn($,ne,_n),si=this.hn($,ne,Fn),qi=this.ln($,ne,tn),Rr=this.fn($.indexId,lt,Xn,_n.inclusive,si,Fn.inclusive,qi);return Yt.forEach(Rr,ji=>o.H(ji,t.limit).next(as=>{as.forEach(Uo=>{const Oo=E.fromSegments(Uo.documentKey);f.has(Oo)||(f=f.add(Oo),S.push(Oo))})}))}).next(()=>S)}return Yt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wb(ro.create(e.filters,"and")).map(o=>Ut(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,f,S){const $=(null!=t?t.length:1)*Math.max(o.length,u.length),ne=$/(null!=t?t.length:1),Ie=[];for(let lt=0;lt<$;++lt){const tn=t?this.dn(t[lt/ne]):Qu,_n=this.wn(e,tn,o[lt%ne],a),Fn=this._n(e,tn,u[lt%ne],f),Xn=S.map(si=>this.wn(e,tn,si,!0));Ie.push(...this.createRange(_n,Fn,Xn))}return Ie}wn(e,t,o,a){const u=new Bo(e,E.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new Bo(e,E.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Rf(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let f=null;for(const S of u)o.tn(S)&&(!f||S.fields.length>f.fields.length)&&(f=S);return f})}getIndexType(e,t){let o=2;const a=this.cn(t);return Yt.forEach(a,u=>this.an(e,u).next(f=>{f?0!==o&&f.fields.length<function(S){let $=new vr(Tr.comparator),ne=!1;for(const Ie of S.filters)for(const lt of Ie.getFlattenedFilters())lt.field.isKeyField()||("array-contains"===lt.op||"array-contains-any"===lt.op?ne=!0:$=$.add(lt.field));for(const Ie of S.orderBy)Ie.field.isKeyField()||($=$.add(Ie.field));return $.size+(ne?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new qu;for(const a of N(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const f=o.He(a.kind);nd.Ve._e(u,f)}return o.Qe()}dn(e){const t=new qu;return nd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new qu;return nd.Ve._e(L(this.databaseId,t),o.He(function(a){const u=N(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new qu);let u=0;for(const f of N(e)){const S=o[u++];for(const $ of a)if(this.yn(t,f.fieldPath)&&$e(S))a=this.pn(a,f,S);else{const ne=$.He(f.kind);nd.Ve._e(S,ne)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const f of o.arrayValue.values||[])for(const S of a){const $=new qu;$.seed(S.Qe()),nd.Ve._e(f,$.He(t.kind)),u.push($)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof ur&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=em(e),a=Kd(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const f=[];return Yt.forEach(u,S=>a.get([S.indexId,this.uid]).next($=>{f.push(function(ne,Ie){const lt=Ie?new xt(Ie.sequenceNumber,new Bn(Cl(Ie.readTime),new E(os(Ie.documentKey)),Ie.largestBatchId)):xt.empty(),tn=ne.fields.map(([_n,Fn])=>new ge(Tr.fromServerFormat(_n),Fn));return new O(ne.indexId,ne.collectionGroup,tn,lt)}(S,$))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:ai(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=em(e),u=Kd(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>Yt.forEach(S,$=>u.put(qh($.indexId,this.user,f,o)))))}updateIndexEntries(e,t){const o=new Map;return Yt.forEach(t,(a,u)=>{const f=o.get(a.collectionGroup);return(f?Yt.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(S=>(o.set(a.collectionGroup,S),Yt.forEach(S,$=>this.En(e,a,$).next(ne=>{const Ie=this.An(u,$);return ne.isEqual(Ie)?Yt.resolve():this.vn(e,u,$,ne,Ie)}))))})}Rn(e,t,o,a){return rd(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return rd(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=rd(e);let u=new vr(Il);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(f,S)=>{u=u.add(new Bo(o.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>u)}An(e,t){let o=new vr(Il);const a=this.mn(t,e);if(null==a)return o;const u=C(t);if(null!=u){const f=e.data.field(u.fieldPath);if($e(f))for(const S of f.arrayValue.values||[])o=o.add(new Bo(t.indexId,e.key,this.dn(S),a))}else o=o.add(new Bo(t.indexId,e.key,Qu,a));return o}vn(e,t,o,a,u){In("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(S,$,ne,Ie,lt){const tn=S.getIterator(),_n=$.getIterator();let Fn=Fa(tn),Xn=Fa(_n);for(;Fn||Xn;){let si=!1,qi=!1;if(Fn&&Xn){const Rr=ne(Fn,Xn);Rr<0?qi=!0:Rr>0&&(si=!0)}else null!=Fn?qi=!0:si=!0;si?(Ie(Xn),Xn=Fa(_n)):qi?(lt(Fn),Fn=Fa(tn)):(Fn=Fa(tn),Xn=Fa(_n))}}(a,u,Il,S=>{f.push(this.Rn(e,t,o,S))},S=>{f.push(this.Pn(e,t,o,S))}),Yt.waitFor(f)}Tn(e){let t=1;return Kd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((f,S)=>Il(f,S)).filter((f,S,$)=>!S||0!==Il(f,$[S-1]));const a=[];a.push(e);for(const f of o){const S=Il(f,e),$=Il(f,t);if(0===S)a[0]=e.Je();else if(S>0&&$<0)a.push(f),a.push(f.Je());else if($>0)break}a.push(t);const u=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];u.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Qu,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Qu,[]]))}return u}bn(e,t){return Il(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bf)}getMinOffset(e,t){return Yt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||y())).next(Bf)}}function Lf(r){return gs(r,"collectionParents")}function rd(r){return gs(r,"indexEntries")}function em(r){return gs(r,"indexConfiguration")}function Kd(r){return gs(r,"indexState")}function Bf(r){b(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;Vi(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Bn(e.readTime,e.documentKey,t)}const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ba{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ba(e,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nm(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],f=IDBKeyRange.only(t.batchId);let S=0;const $=o.X({range:f},(Ie,lt,tn)=>(S++,tn.delete()));u.push($.next(()=>{b(1===S)}));const ne=[];for(const Ie of t.mutations){const lt=ll(e,Ie.key.path,t.batchId);u.push(a.delete(lt)),ne.push(Ie.key)}return Yt.waitFor(u).next(()=>ne)}function im(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw y();e=r.noDocument}return JSON.stringify(e).length}ba.DEFAULT_COLLECTION_PERCENTILE=10,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ba.DEFAULT=new ba(41943040,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ba.DISABLED=new ba(-1,0,0);class Zd{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){b(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Zd(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yc(e).X({index:"userMutationsIndex",range:o},(a,u,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=Ya(e),f=Yc(e);return f.add({}).next(S=>{b("number"==typeof S);const $=new ju(S,t,o,a),ne=function(tn,_n,Fn){const Xn=Fn.baseMutations.map(qi=>ac(tn.fe,qi)),si=Fn.mutations.map(qi=>ac(tn.fe,qi));return{userId:_n,batchId:Fn.batchId,localWriteTimeMs:Fn.localWriteTime.toMillis(),baseMutations:Xn,mutations:si}}(this.serializer,this.userId,$),Ie=[];let lt=new vr((tn,_n)=>ai(tn.canonicalString(),_n.canonicalString()));for(const tn of a){const _n=ll(this.userId,tn.key.path,S);lt=lt.add(tn.key.path.popLast()),Ie.push(f.put(ne)),Ie.push(u.put(_n,dl))}return lt.forEach(tn=>{Ie.push(this.indexManager.addToCollectionParentIndex(e,tn))}),e.addOnCommittedListener(()=>{this.Vn[S]=$.keys()}),Yt.waitFor(Ie).next(()=>$)})}lookupMutationBatch(e,t){return Yc(e).get(t).next(o=>o?(b(o.userId===this.userId),Dl(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Yt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return Yc(e).X({index:"userMutationsIndex",range:a},(f,S,$)=>{S.userId===this.userId&&(b(S.batchId>=o),u=Dl(this.serializer,S)),$.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Yc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,f)=>{o=u.batchId,f.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yc(e).j("userMutationsIndex",t).next(o=>o.map(a=>Dl(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=aa(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return Ya(e).X({range:a},(f,S,$)=>{const[ne,Ie,lt]=f,tn=os(Ie);if(ne===this.userId&&t.path.isEqual(tn))return Yc(e).get(lt).next(_n=>{if(!_n)throw y();b(_n.userId===this.userId),u.push(Dl(this.serializer,_n))});$.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new vr(ai);const a=[];return t.forEach(u=>{const f=aa(this.userId,u.path),S=IDBKeyRange.lowerBound(f),$=Ya(e).X({range:S},(ne,Ie,lt)=>{const[tn,_n,Fn]=ne,Xn=os(_n);tn===this.userId&&u.path.isEqual(Xn)?o=o.add(Fn):lt.done()});a.push($)}),Yt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=aa(this.userId,o),f=IDBKeyRange.lowerBound(u);let S=new vr(ai);return Ya(e).X({range:f},($,ne,Ie)=>{const[lt,tn,_n]=$,Fn=os(tn);lt===this.userId&&o.isPrefixOf(Fn)?Fn.length===a&&(S=S.add(_n)):Ie.done()}).next(()=>this.Dn(e,S))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(Yc(e).get(u).next(f=>{if(null===f)throw y();b(f.userId===this.userId),o.push(Dl(this.serializer,f))}))}),Yt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return nm(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Yt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Yt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Ya(e).X({range:o},(u,f,S)=>{if(u[0]===this.userId){const $=os(u[1]);a.push($)}else S.done()}).next(()=>{b(0===a.length)})})}containsKey(e,t){return Uf(e,this.userId,t)}xn(e){return y_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Uf(r,e,t){const o=aa(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let f=!1;return Ya(r).X({range:u,Y:!0},(S,$,ne)=>{const[Ie,lt,tn]=S;Ie===e&&lt===a&&(f=!0),ne.done()}).next(()=>f)}function Yc(r){return gs(r,"mutations")}function Ya(r){return gs(r,"documentMutations")}function y_(r){return gs(r,"mutationQueues")}class qc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new qc(0)}static Mn(){return new qc(-1)}}class rm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new qc(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Qn.fromTimestamp(new dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(b(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return Yd(e).X((f,S)=>{const $=Wd(S);$.sequenceNumber<=t&&null===o.get($.targetId)&&(a++,u.push(this.removeTargetData(e,$)))}).next(()=>Yt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return Yd(e).X((o,a)=>{const u=Wd(a);t(u)})}$n(e){return om(e).get("targetGlobalKey").next(t=>(b(null!==t),t))}On(e,t){return om(e).put("targetGlobalKey",t)}Fn(e,t){return Yd(e).put(vb(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=sn(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Yd(e).X({range:a,index:"queryTargetsIndex"},(f,S,$)=>{const ne=Wd(S);Pn(t,ne.target)&&(u=ne,$.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=lc(e);return t.forEach(f=>{const S=Ao(f.path);a.push(u.put({targetId:o,path:S})),a.push(this.referenceDelegate.addReference(e,o,f))}),Yt.waitFor(a)}removeMatchingKeys(e,t,o){const a=lc(e);return Yt.forEach(t,u=>{const f=Ao(u.path);return Yt.waitFor([a.delete([o,f]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=lc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=lc(e);let u=Yi();return a.X({range:o,Y:!0},(f,S,$)=>{const ne=os(f[1]),Ie=new E(ne);u=u.add(Ie)}).next(()=>u)}containsKey(e,t){const o=Ao(t.path),a=IDBKeyRange.bound([o],[sa(o)],!1,!0);let u=0;return lc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,S],$,ne)=>{0!==f&&(u++,ne.done())}).next(()=>u>0)}le(e,t){return Yd(e).get(t).next(o=>o?Wd(o):null)}}function Yd(r){return gs(r,"targets")}function om(r){return gs(r,"targetGlobal")}function lc(r){return gs(r,"targetDocuments")}function Ml([r,e],[t,o]){const a=ai(r,t);return 0===a?ai(e,o):a}class Vf{constructor(e){this.Ln=e,this.buffer=new vr(Ml),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Ml(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sm{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;In("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Oe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){$s(o)?In("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ps(o)}yield t.Qn(3e5)}))}}class Eb{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Yt.resolve(Ds.ct);const o=new Vf(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(In("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(tm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(In("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,f,S,$,ne;const Ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(lt=>(lt>this.params.maximumSequenceNumbersToCollect?(In("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${lt}`),a=this.params.maximumSequenceNumbersToCollect):a=lt,f=Date.now(),this.nthSequenceNumber(e,a))).next(lt=>(o=lt,S=Date.now(),this.removeTargets(e,o,t))).next(lt=>(u=lt,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(lt=>(ne=Date.now(),Aa()<=Ee.in.DEBUG&&In("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-Ie}ms\n\tDetermined least recently used ${a} in `+(S-f)+`ms\n\tRemoved ${u} targets in `+($-S)+`ms\n\tRemoved ${lt} documents in `+(ne-$)+`ms\nTotal Duration: ${ne-Ie}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:lt})))}}class x_{constructor(e,t){this.db=e,this.garbageCollector=function w_(r,e){return new Eb(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return Qc(e,o)}removeReference(e,t,o){return Qc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Qc(e,t)}Xn(e,t){return function(o,a){let u=!1;return y_(o).Z(f=>Uf(o,f,a).next(S=>(S&&(u=!0),Yt.resolve(!S)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(f,S)=>{if(S<=t){const $=this.Xn(e,f).next(ne=>{if(!ne)return u++,o.getEntry(e,f).next(()=>(o.removeEntry(f,Qn.min()),lc(e).delete([0,Ao(f.path)])))});a.push($)}}).next(()=>Yt.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Qc(e,t)}Yn(e,t){const o=lc(e);let a,u=Ds.ct;return o.X({index:"documentTargetsIndex"},([f,S],{path:$,sequenceNumber:ne})=>{0===f?(u!==Ds.ct&&t(new E(os(a)),u),u=ne,a=$):u=Ds.ct}).next(()=>{u!==Ds.ct&&t(new E(os(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qc(r,e){return lc(r).put((o=r.currentSequenceNumber,{targetId:0,path:Ao(e.path),sequenceNumber:o}));var o}class E_{constructor(){this.changes=new Mc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Yt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cb{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return od(e).put(o)}removeEntry(e,t,o){return od(e).delete(function(a,u){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Za(u),f[f.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=Gr.newInvalidDocument(t);return od(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:Gr.newInvalidDocument(t)};return od(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(a,u)=>{o={document:this.ts(t,u),size:im(u)}}).next(()=>o)}getEntries(e,t){let o=Ta();return this.ns(e,t,(a,u)=>{const f=this.ts(a,u);o=o.insert(a,f)}).next(()=>o)}ss(e,t){let o=Ta(),a=new _r(E.comparator);return this.ns(e,t,(u,f)=>{const S=this.ts(u,f);o=o.insert(u,S),a=a.insert(u,im(f))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return Yt.resolve();let a=new vr(Db);t.forEach($=>a=a.add($));const u=IDBKeyRange.bound(qd(a.first()),qd(a.last())),f=a.getIterator();let S=f.getNext();return od(e).X({index:"documentKeyIndex",range:u},($,ne,Ie)=>{const lt=E.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;S&&Db(S,lt)<0;)o(S,null),S=f.getNext();S&&S.isEqual(lt)&&(o(S,ne),S=f.hasNext()?f.getNext():null),S?Ie.G(qd(S)):Ie.done()}).next(()=>{for(;S;)o(S,null),S=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,f=[u.popLast().toArray(),u.lastSegment(),Za(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],S=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return od(e).j(IDBKeyRange.bound(f,S,!0)).next($=>{let ne=Ta();for(const Ie of $){const lt=this.ts(E.fromSegments(Ie.prefixPath.concat(Ie.collectionGroup,Ie.documentId)),Ie);lt.isFoundDocument()&&(Ia(t,lt)||a.has(lt.key))&&(ne=ne.insert(lt.key,lt))}return ne})}getAllFromCollectionGroup(e,t,o,a){let u=Ta();const f=am(t,o),S=am(t,Bn.max());return od(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,S,!0)},($,ne,Ie)=>{const lt=this.ts(E.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);u=u.insert(lt.key,lt),u.size===a&&Ie.done()}).next(()=>u)}newChangeBuffer(e){return new jf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hf(e).get("remoteDocumentGlobalKey").next(t=>(b(!!t),t))}Zn(e,t){return Hf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function _b(r,e){let t;if(e.document)t=Tf(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=E.fromSegments(e.noDocument.path),a=Cl(e.noDocument.readTime);t=Gr.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return y();{const o=E.fromSegments(e.unknownDocument.path),a=Cl(e.unknownDocument.version);t=Gr.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new dr(o[0],o[1]);return Qn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Qn.min()))return o}return Gr.newInvalidDocument(e)}}function C_(r){return new Cb(r)}class jf extends E_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Mc(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new vr((u,f)=>ai(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const S=this.us.get(u);if(t.push(this.os.removeEntry(e,u,S.readTime)),f.isValidDocument()){const $=Zu(this.os.serializer,f);a=a.add(u.path.popLast());const ne=im($);o+=ne-S.size,t.push(this.os.addEntry(e,u,$))}else if(o-=S.size,this.trackRemovals){const $=Zu(this.os.serializer,f.convertToNoDocument(Qn.min()));t.push(this.os.addEntry(e,u,$))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),Yt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,f)=>{this.us.set(u,{size:f,readTime:o.get(u).readTime})}),o))}}function Hf(r){return gs(r,"remoteDocumentGlobal")}function od(r){return gs(r,"remoteDocumentsV14")}function qd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function am(r,e){const t=e.documentKey.path.toArray();return[r,Za(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Db(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=ai(t[u],o[u]),a)return a;return a=ai(t.length,o.length),a||(a=ai(t[t.length-2],o[o.length-2]),a||ai(t[t.length-1],o[o.length-1]))}class Ib{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D_{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&yl(o.mutation,a,Fs.empty(),dr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Yi()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Yi()){const a=Sc();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let f=Bu();return u.forEach((S,$)=>{f=f.insert(S,$.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const o=Sc();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Yi()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((f,S)=>{t.set(f,S)})})}computeViews(e,t,o,a){let u=Ta();const f=Ws(),S=Ws();return t.forEach(($,ne)=>{const Ie=o.get(ne.key);a.has(ne.key)&&(void 0===Ie||Ie.mutation instanceof $c)?u=u.insert(ne.key,ne):void 0!==Ie?(f.set(ne.key,Ie.mutation.getFieldMask()),yl(Ie.mutation,ne,Ie.mutation.getFieldMask(),dr.now())):f.set(ne.key,Fs.empty())}),this.recalculateAndSaveOverlays(e,u).next($=>($.forEach((ne,Ie)=>f.set(ne,Ie)),t.forEach((ne,Ie)=>{var lt;return S.set(ne,new Ib(Ie,null!==(lt=f.get(ne))&&void 0!==lt?lt:null))}),S))}recalculateAndSaveOverlays(e,t){const o=Ws();let a=new _r((f,S)=>f-S),u=Yi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const S of f)S.keys().forEach($=>{const ne=t.get($);if(null===ne)return;let Ie=o.get($)||Fs.empty();Ie=S.applyToLocalView(ne,Ie),o.set($,Ie);const lt=(a.get(S.batchId)||Yi()).add($);a=a.insert(S.batchId,lt)})}).next(()=>{const f=[],S=a.getReverseIterator();for(;S.hasNext();){const $=S.getNext(),ne=$.key,Ie=$.value,lt=Vg();Ie.forEach(tn=>{if(!u.has(tn)){const _n=ff(t.get(tn),o.get(tn));null!==_n&&lt.set(tn,_n),u=u.add(tn)}}),f.push(this.documentOverlayCache.saveOverlays(e,ne,lt))}return Yt.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return E.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Vc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const f=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):Yt.resolve(Sc());let S=-1,$=u;return f.next(ne=>Yt.forEach(ne,(Ie,lt)=>(S<lt.largestBatchId&&(S=lt.largestBatchId),u.get(Ie)?Yt.resolve():this.remoteDocumentCache.getEntry(e,Ie).next(tn=>{$=$.insert(Ie,tn)}))).next(()=>this.populateOverlays(e,ne,u)).next(()=>this.computeViews(e,$,ne,Yi())).next(Ie=>({batchId:S,changes:cf(Ie)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new E(t)).next(o=>{let a=Bu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=Bu();return this.indexManager.getCollectionParents(e,a).next(f=>Yt.forEach(f,S=>{const $=(ne=t,Ie=S.child(a),new ra(Ie,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,Ie;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(ne=>{ne.forEach((Ie,lt)=>{u=u.insert(Ie,lt)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((S,$)=>{const ne=$.getKey();null===u.get(ne)&&(u=u.insert(ne,Gr.newInvalidDocument(ne)))});let f=Bu();return u.forEach((S,$)=>{const ne=a.get(S);void 0!==ne&&yl(ne.mutation,$,Fs.empty(),dr.now()),Ia(t,$)&&(f=f.insert(S,$))}),f})}}class Tb{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Yt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Wo(o.createTime)}),Yt.resolve()}getNamedQuery(e,t){return Yt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:m_(o.bundledQuery),readTime:Wo(o.readTime)}),Yt.resolve();var o}}class p0{constructor(){this.overlays=new _r(E.comparator),this.ls=new Map}getOverlay(e,t){return Yt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Sc();return Yt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),Yt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),Yt.resolve()}getOverlaysForCollection(e,t,o){const a=Sc(),u=t.length+1,f=new E(t.child("")),S=this.overlays.getIteratorFrom(f);for(;S.hasNext();){const $=S.getNext().value,ne=$.getKey();if(!t.isPrefixOf(ne.path))break;ne.path.length===u&&$.largestBatchId>o&&a.set($.getKey(),$)}return Yt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new _r((ne,Ie)=>ne-Ie);const f=this.overlays.getIterator();for(;f.hasNext();){const ne=f.getNext().value;if(ne.getKey().getCollectionGroup()===t&&ne.largestBatchId>o){let Ie=u.get(ne.largestBatchId);null===Ie&&(Ie=Sc(),u=u.insert(ne.largestBatchId,Ie)),Ie.set(ne.getKey(),ne)}}const S=Sc(),$=u.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((ne,Ie)=>S.set(ne,Ie)),!(S.size()>=a)););return Yt.resolve(S)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new vf(t,o));let u=this.ls.get(t);void 0===u&&(u=Yi(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class I_{constructor(){this.fs=new vr(Ss.ds),this.ws=new vr(Ss._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Ss(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Ss(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new E(new Fi([])),o=new Ss(t,e),a=new Ss(t,e+1),u=[];return this.ws.forEachInRange([o,a],f=>{this.ys(f),u.push(f.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new E(new Fi([])),o=new Ss(t,e),a=new Ss(t,e+1);let u=Yi();return this.ws.forEachInRange([o,a],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Ss(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Ss{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return E.comparator(e.key,t.key)||ai(e.As,t.As)}static _s(e,t){return ai(e.As,t.As)||E.comparator(e.key,t.key)}}class Mb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new vr(Ss.ds)}checkEmpty(e){return Yt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const f=new ju(u,t,o,a);this.mutationQueue.push(f);for(const S of a)this.Rs=this.Rs.add(new Ss(S.key,u)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Yt.resolve(f)}lookupMutationBatch(e,t){return Yt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return Yt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ss(t,0),a=new Ss(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],f=>{const S=this.Ps(f.As);u.push(S)}),Yt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new vr(ai);return t.forEach(a=>{const u=new Ss(a,0),f=new Ss(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,f],S=>{o=o.add(S.As)})}),Yt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;E.isDocumentKey(u)||(u=u.child(""));const f=new Ss(new E(u),0);let S=new vr(ai);return this.Rs.forEachWhile($=>{const ne=$.key.path;return!!o.isPrefixOf(ne)&&(ne.length===a&&(S=S.add($.As)),!0)},f),Yt.resolve(this.Vs(S))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){b(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Yt.forEach(t.mutations,a=>{const u=new Ss(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Ss(t,0),a=this.Rs.firstAfterOrEqual(o);return Yt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Yt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zf{constructor(e){this.Ds=e,this.docs=new _r(E.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Yt.resolve(o?o.document.mutableCopy():Gr.newInvalidDocument(t))}getEntries(e,t){let o=Ta();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():Gr.newInvalidDocument(a))}),Yt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=Ta();const f=t.path,S=new E(f.child("")),$=this.docs.getIteratorFrom(S);for(;$.hasNext();){const{key:ne,value:{document:Ie}}=$.getNext();if(!f.isPrefixOf(ne.path))break;ne.path.length>f.length+1||Vi(ii(Ie),o)<=0||(a.has(Ie.key)||Ia(t,Ie))&&(u=u.insert(Ie.key,Ie.mutableCopy()))}return Yt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){y()}Cs(e,t){return Yt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new $f(this)}getSize(e){return Yt.resolve(this.size)}}class $f extends E_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),Yt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xu{constructor(e){this.persistence=e,this.xs=new Mc(t=>sn(t),Pn),this.lastRemoteSnapshotVersion=Qn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new I_,this.targetCount=0,this.Ms=qc.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),Yt.resolve()}getLastRemoteSnapshotVersion(e){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Yt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Yt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new qc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Yt.resolve()}updateTargetData(e,t){return this.Fn(t),Yt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((f,S)=>{S.sequenceNumber<=t&&null===o.get(S.targetId)&&(this.xs.delete(f),u.push(this.removeMatchingKeysForTargetId(e,S.targetId)),a++)}),Yt.waitFor(u).next(()=>a)}getTargetCount(e){return Yt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Yt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Yt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(f=>{u.push(a.markPotentiallyOrphaned(e,f))}),Yt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Yt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Yt.resolve(o)}containsKey(e,t){return Yt.resolve(this.ks.containsKey(t))}}class Ju{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ds(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xu(this),this.indexManager=new co,this.remoteDocumentCache=new zf(o=>this.referenceDelegate.Ls(o)),this.serializer=new h_(t),this.qs=new Tb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Mb(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){In("MemoryPersistence","Starting transaction:",e);const a=new Gf(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return Yt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Gf extends _a{constructor(e){super(),this.currentSequenceNumber=e}}class Sl{constructor(e){this.persistence=e,this.Qs=new I_,this.js=null}static zs(e){return new Sl(e)}get Ws(){if(this.js)return this.js;throw y()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Yt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Yt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Yt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.Ws,o=>{const a=E.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,Qn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Yt.or([()=>Yt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class eh{constructor(e){this.serializer=e}O(e,t,o,a){const u=new $r("createOrUpgrade",t);var S;o<1&&a>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yc,{unique:!0}),S.createObjectStore("documentMutations"),Wf(e),function(S){S.createObjectStore("remoteDocuments")}(e));let f=Yt.resolve();return o<3&&a>=3&&(0!==o&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),Wf(e)),f=f.next(()=>function(S){const $=S.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",ne)}(u))),o<4&&a>=4&&(0!==o&&(f=f.next(()=>function(S,$){return $.store("mutations").j().next(ne=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yc,{unique:!0});const Ie=$.store("mutations"),lt=ne.map(tn=>Ie.put(tn));return Yt.waitFor(lt)})}(e,u))),f=f.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(f=f.next(()=>this.Ys(u))),o<6&&a>=6&&(f=f.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(f=f.next(()=>this.Zs(u))),o<8&&a>=8&&(f=f.next(()=>this.ti(e,u))),o<9&&a>=9&&(f=f.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(f=f.next(()=>this.ei(u))),o<11&&a>=11&&(f=f.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(f=f.next(()=>{!function(S){const $=S.createObjectStore("documentOverlays",{keyPath:Va});$.createIndex("collectionPathOverlayIndex",Ru,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Gl,{unique:!1})}(e)})),o<13&&a>=13&&(f=f.next(()=>function(S){const $=S.createObjectStore("remoteDocumentsV14",{keyPath:ul});$.createIndex("documentKeyIndex",hl),$.createIndex("collectionGroupIndex",Hl)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(f=f.next(()=>this.si(e,u))),o<15&&a>=15&&(f=f.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:zl}).createIndex("sequenceNumberIndex",$l,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Bh}).createIndex("documentKeyIndex",ml,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=im(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>Yt.forEach(a,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",f).next(S=>Yt.forEach(S,$=>{b($.userId===u.userId);const ne=Dl(this.serializer,$);return nm(e,u.userId,ne).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((f,S)=>{const $=new Fi(f),ne=[0,Ao($)];u.push(t.get(ne).next(Ie=>Ie?Yt.resolve():t.put({targetId:0,path:Ao($),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Yt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:wc});const o=t.store("collectionParents"),a=new id,u=f=>{if(a.add(f)){const S=f.lastSegment(),$=f.popLast();return o.put({collectionId:S,parent:Ao($)})}};return t.store("remoteDocuments").X({Y:!0},(f,S)=>{const $=new Fi(f);return u($.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,S,$],ne)=>{const Ie=os(S);return u(Ie.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=Wd(a),f=vb(this.serializer,u);return t.put(f)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,f)=>{const S=t.store("remoteDocumentsV14"),$=(ne=f,ne.document?new E(Fi.fromString(ne.document.name).popFirst(5)):ne.noDocument?E.fromSegments(ne.noDocument.path):ne.unknownDocument?E.fromSegments(ne.unknownDocument.path):y()).path.toArray();var ne;const Ie={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(S.put(Ie))}).next(()=>Yt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=C_(this.serializer),u=new Ju(Sl.zs,this.serializer.fe);return o.j().next(f=>{const S=new Map;return f.forEach($=>{var ne;let Ie=null!==(ne=S.get($.userId))&&void 0!==ne?ne:Yi();Dl(this.serializer,$).keys().forEach(lt=>Ie=Ie.add(lt)),S.set($.userId,Ie)}),Yt.forEach(S,($,ne)=>{const Ie=new wo(ne),lt=Qh.de(this.serializer,Ie),tn=u.getIndexManager(Ie),_n=Zd.de(Ie,this.serializer,tn,u.referenceDelegate);return new D_(a,_n,lt,tn).recalculateAndSaveOverlaysForDocumentKeys(new Kl(t,Ds.ct),$).next()})})}}function Wf(r){r.createObjectStore("targetDocuments",{keyPath:Lh}).createIndex("documentTargetsIndex",Ou,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ra,{unique:!0}),r.createObjectStore("targetGlobal")}const th="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qd{constructor(e,t,o,a,u,f,S,$,ne,Ie,lt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=f,this.document=S,this.ri=ne,this.oi=Ie,this.ui=lt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=tn=>Promise.resolve(),!Qd.D())throw new Me(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x_(this,a),this.di=t+"main",this.serializer=new h_($),this.wi=new $o(this.di,this.ui,new eh(this.serializer)),this.Bs=new rm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C_(this.serializer),this.qs=new f0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Ie&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(q.FAILED_PRECONDITION,th);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ds(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,Oe.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Oe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Oe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if($s(e))return In("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return In("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return cm(e).get("owner").next(t=>Yt.resolve(this.Ri(t)))}Pi(e){return Xd(e).delete(this.clientId)}bi(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=gs(o,"clientMetadata");return a.j().next(u=>{const f=e.Si(u,18e5),S=u.filter($=>-1===f.indexOf($));return Yt.forEach(S,$=>a.delete($.clientId)).next(()=>S)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Yt.resolve(!0):cm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Me(q.FAILED_PRECONDITION,th);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xd(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&In("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Kl(t,Ds.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Xd(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Zd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new b_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){In("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(f=this.ui)?Lc:14===f?Wl:13===f?Od:12===f?ja:11===f?fl:void y();var f;let S;return this.wi.runTransaction(e,a,u,$=>(S=new Kl($,this.Os?this.Os.next():Ds.ct),"readwrite-primary"===t?this.Ti(S).next(ne=>!!ne||this.Ei(S)).next(ne=>{if(!ne)throw gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Me(q.FAILED_PRECONDITION,Ui);return o(S)}).next(ne=>this.vi(S).next(()=>ne)):this.Oi(S).next(()=>o(S)))).then($=>(S.raiseOnCommittedEvent(),$))}Oi(e){return cm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(q.FAILED_PRECONDITION,th)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cm(e).put("owner",t)}static D(){return $o.D()}Ai(e){const t=cm(e);return t.get("owner").next(o=>this.Ri(o)?(In("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Yt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(gr(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ue.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return In("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return gr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){gr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cm(r){return gs(r,"owner")}function Xd(r){return gs(r,"clientMetadata")}function nh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class lm{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=Yi(),a=Yi();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new lm(e,t.fromCache,o,a)}}class T_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Lu(t))return Yt.resolve(null);let o=Us(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Ka(t,null,"F"),o=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const f=Yi(...u);return this.Ui.getDocuments(e,f).next(S=>this.indexManager.getMinOffset(e,o).next($=>{const ne=this.ji(t,S);return this.zi(t,ne,f,$.readTime)?this.Ki(e,Ka(t,null,"F")):this.Wi(e,ne,t,$)}))})))}Gi(e,t,o,a){return Lu(t)||a.isEqual(Qn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const f=this.ji(t,u);return this.zi(t,f,o,a)?this.Qi(e,t):(Aa()<=Ee.in.DEBUG&&In("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bl(t)),this.Wi(e,f,t,gn(a,-1)))})}ji(e,t){let o=new vr(Bg(e));return t.forEach((a,u)=>{Ia(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return Aa()<=Ee.in.DEBUG&&In("QueryEngine","Using full collection scan to execute query:",bl(t)),this.Ui.getDocumentsMatchingQuery(e,t,Bn.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}class Sb{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new _r(ai),this.Yi=new Mc(u=>sn(u),Pn),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Kf(r,e,t,o){return new Sb(r,e,t,o)}function Zf(r,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,Oe.Z)(function*(r,e){const t=z(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const f=[],S=[];let $=Yi();for(const ne of a){f.push(ne.batchId);for(const Ie of ne.mutations)$=$.add(Ie.key)}for(const ne of u){S.push(ne.batchId);for(const Ie of ne.mutations)$=$.add(Ie.key)}return t.localDocuments.getDocuments(o,$).next(ne=>({er:ne,removedBatchIds:f,addedBatchIds:S}))})})}),Yf.apply(this,arguments)}function Ab(r){const e=z(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dm(r,e,t){let o=Yi(),a=Yi();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let f=Ta();return t.forEach((S,$)=>{const ne=u.get(S);$.isFoundDocument()!==ne.isFoundDocument()&&(a=a.add(S)),$.isNoDocument()&&$.version.isEqual(Qn.min())?(e.removeEntry(S,$.readTime),f=f.insert(S,$)):!ne.isValidDocument()||$.version.compareTo(ne.version)>0||0===$.version.compareTo(ne.version)&&ne.hasPendingWrites?(e.addEntry($),f=f.insert(S,$)):In("LocalStore","Ignoring outdated watch update for ",S,". Current version:",ne.version," Watch version:",$.version)}),{nr:f,sr:a}})}function qf(r,e){const t=z(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Jd(r,e){const t=z(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,Yt.resolve(a)):t.Bs.allocateTargetId(o).next(f=>(a=new Zc(e,f,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function ad(r,e,t){return ih.apply(this,arguments)}function ih(){return ih=(0,Oe.Z)(function*(r,e,t){const o=z(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,f=>o.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!$s(f))throw f;In("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),ih.apply(this,arguments)}function cd(r,e,t){const o=z(r);let a=Qn.min(),u=Yi();return o.persistence.runTransaction("Execute query","readonly",f=>function(S,$,ne){const Ie=z(S),lt=Ie.Yi.get(ne);return void 0!==lt?Yt.resolve(Ie.Ji.get(lt)):Ie.Bs.getTargetData($,ne)}(o,f,Us(e)).next(S=>{if(S)return a=S.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,S.targetId).next($=>{u=$})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,t?a:Qn.min(),t?u:Yi())).next(S=>(S_(o,Lg(e),S),{documents:S,ir:u})))}function M_(r,e){const t=z(r),o=z(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(f=>f?f.target:null))}function Qf(r,e){const t=z(r),o=t.Xi.get(e)||Qn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,gn(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(S_(t,e,a),a))}function S_(r,e,t){let o=r.Xi.get(e)||Qn.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function A_(){return A_=(0,Oe.Z)(function*(r,e,t,o){const a=z(r);let u=Yi(),f=Ta();for(const ne of t){const Ie=e.rr(ne.metadata.name);ne.document&&(u=u.add(Ie));const lt=e.ur(ne);lt.setReadTime(e.cr(ne.metadata.readTime)),f=f.insert(Ie,lt)}const S=a.Zi.newChangeBuffer({trackRemovals:!0}),$=yield Jd(a,(ne=o,Us(gl(Fi.fromString(`__bundle__/docs/${ne}`)))));var ne;return a.persistence.runTransaction("Apply bundle documents","readwrite",ne=>dm(ne,S,f).next(Ie=>(S.apply(ne),Ie)).next(Ie=>a.Bs.removeMatchingKeysForTargetId(ne,$.targetId).next(()=>a.Bs.addMatchingKeys(ne,u,$.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(ne,Ie.nr,Ie.sr)).next(()=>Ie.nr)))}),A_.apply(this,arguments)}function Rb(r,e){return ld.apply(this,arguments)}function ld(){return ld=(0,Oe.Z)(function*(r,e,t=Yi()){const o=yield Jd(r,Us(m_(e.bundledQuery))),a=z(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const f=Wo(e.readTime);if(o.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(u,e);const S=o.withResumeToken(qo.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(S.targetId,S),a.Bs.updateTargetData(u,S).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),ld.apply(this,arguments)}function O_(r,e){return`firestore_clients_${r}_${e}`}function dd(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function ud(r,e){return`firestore_targets_${r}_${e}`}class um{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(u=new Me(a.error.code,a.error.message))),f?new um(e,t,a.state,u):(gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new Me(o.error.code,o.error.message))),u?new eu(e,o.state,a):(gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=Yl();for(let f=0;a&&f<o.activeTargetIds.length;++f)a=Nc(o.activeTargetIds[f]),u=u.add(o.activeTargetIds[f]);return a?new hm(e,u):(gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xf(t.clientId,t.onlineState):(gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jf{constructor(){this.activeTargetIds=Yl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mm{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new _r(ai),this.started=!1,this.yr=[];const f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=O_(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Jf),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(O_(e.persistenceKey,a));if(u){const f=hm.ar(a,u);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(ud(this.persistenceKey,e));if(o){const a=eu.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ud(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return In("SharedClientState","READ",e,t),t}setItem(e,t){In("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){In("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(In("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Oe.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let f=Ds.ct;if(null!=u)try{const S=JSON.parse(u);b("number"==typeof S),f=S}catch(S){gr("SharedClientState","Failed to read sequence number from WebStorage",S)}return f}(o.newValue);a!==Ds.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new um(this.currentUser,e,t,o),u=dd(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=dd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=ud(this.persistenceKey,e),u=new eu(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return hm.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return um.ar(new wo(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return eu.ar(a,t)}br(e){return Xf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);In("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),f=[],S=[];return u.forEach($=>{a.has($)||f.push($)}),a.forEach($=>{u.has($)||S.push($)}),this.syncEngine.Wr(f,S).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Yl();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class ep{constructor(){this.Hr=new Jf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tp{Yr(e){}shutdown(){}}class tu{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){In("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){In("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rh=null;function R_(){return null===rh?rh=268435456+Math.round(2147483648*Math.random()):rh++,"0x"+rh.toString(16)}const np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vs="WebChannelConnection";class P_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const f=R_(),S=this.To(e,t);In("RestConnection",`Sending RPC '${e}' ${f}:`,S,o);const $={};return this.Eo($,a,u),this.Ao(e,S,$,o).then(ne=>(In("RestConnection",`Received RPC '${e}' ${f}: `,ne),ne),ne=>{throw Cs("RestConnection",`RPC '${e}' ${f} failed with error: `,ne,"url: ",S,"request:",o),ne})}vo(e,t,o,a,u,f){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${np[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=R_();return new Promise((f,S)=>{const $=new _c;$.setWithCredentials(!0),$.listenOnce(Rs.COMPLETE,()=>{try{switch($.getLastErrorCode()){case Lo.NO_ERROR:const Ie=$.getResponseJson();In(Vs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(Ie)),f(Ie);break;case Lo.TIMEOUT:In(Vs,`RPC '${e}' ${u} timed out`),S(new Me(q.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:const lt=$.getStatus();if(In(Vs,`RPC '${e}' ${u} failed with status:`,lt,"response text:",$.getResponseText()),lt>0){let tn=$.getResponseJson();Array.isArray(tn)&&(tn=tn[0]);const _n=tn?.error;if(_n&&_n.status&&_n.message){const Fn=function(Xn){const si=Xn.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(si)>=0?si:q.UNKNOWN}(_n.status);S(new Me(Fn,_n.message))}else S(new Me(q.UNKNOWN,"Server responded with status "+$.getStatus()))}else S(new Me(q.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{In(Vs,`RPC '${e}' ${u} completed.`)}});const ne=JSON.stringify(a);In(Vs,`RPC '${e}' ${u} sending request:`,a),$.send(t,"POST",ne,o,15)})}Ro(e,t,o){const a=R_(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Vr(),S=pa(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ne=this.longPollingOptions.timeoutSeconds;void 0!==ne&&($.longPollingTimeout=Math.round(1e3*ne)),this.useFetchStreams&&($.xmlHttpFactory=new tc({})),this.Eo($.initMessageHeaders,t,o),$.encodeInitMessageHeaders=!0;const Ie=u.join("");In(Vs,`Creating RPC '${e}' stream ${a}: ${Ie}`,$);const lt=f.createWebChannel(Ie,$);let tn=!1,_n=!1;const Fn=new nu({ro:si=>{_n?In(Vs,`Not sending because RPC '${e}' stream ${a} is closed:`,si):(tn||(In(Vs,`Opening RPC '${e}' stream ${a} transport.`),lt.open(),tn=!0),In(Vs,`RPC '${e}' stream ${a} sending:`,si),lt.send(si))},oo:()=>lt.close()}),Xn=(si,qi,Rr)=>{si.listen(qi,ji=>{try{Rr(ji)}catch(as){setTimeout(()=>{throw as},0)}})};return Xn(lt,ga.EventType.OPEN,()=>{_n||In(Vs,`RPC '${e}' stream ${a} transport opened.`)}),Xn(lt,ga.EventType.CLOSE,()=>{_n||(_n=!0,In(Vs,`RPC '${e}' stream ${a} transport closed`),Fn.wo())}),Xn(lt,ga.EventType.ERROR,si=>{_n||(_n=!0,Cs(Vs,`RPC '${e}' stream ${a} transport errored:`,si),Fn.wo(new Me(q.UNAVAILABLE,"The operation could not be completed")))}),Xn(lt,ga.EventType.MESSAGE,si=>{var qi;if(!_n){const Rr=si.data[0];b(!!Rr);const as=Rr.error||(null===(qi=Rr[0])||void 0===qi?void 0:qi.error);if(as){In(Vs,`RPC '${e}' stream ${a} received error:`,as);const Uo=as.status;let Oo=function(pc){const ku=Go[pc];if(void 0!==ku)return Qg(ku)}(Uo),ha=as.message;void 0===Oo&&(Oo=q.INTERNAL,ha="Unknown error status: "+Uo+" with message "+as.message),_n=!0,Fn.wo(new Me(Oo,ha)),lt.close()}else In(Vs,`RPC '${e}' stream ${a} received:`,Rr),Fn._o(Rr)}}),Xn(S,is.STAT_EVENT,si=>{si.stat===Es.PROXY?In(Vs,`RPC '${e}' stream ${a} detected buffering proxy`):si.stat===Es.NOPROXY&&In(Vs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Fn.fo()},0),Fn}}function ip(){return typeof window<"u"?window:null}function fm(){return typeof document<"u"?document:null}function oh(r){return new hb(r,!0)}class rp{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&In("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F_{constructor(e,t,o,a,u,f,S,$){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=S,this.listener=$,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new rp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Oe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Oe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,Oe.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===q.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new Me(q.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Oe.Z)(function*(){e.state=0,e.start()}))}tu(e){return In("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(In("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pb extends F_{constructor(e,t,o,a,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,f),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function s_(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:y(),a=e.targetChange.targetIds||[],u=function($,ne){return $.useProto3Json?(b(void 0===ne||"string"==typeof ne),qo.fromBase64String(ne||"")):(b(void 0===ne||ne instanceof Uint8Array),qo.fromUint8Array(ne||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,S=f&&function($){const ne=void 0===$.code?q.UNKNOWN:Qg($.code);return new Me(ne,$.message||"")}(f);t=new $u(o,a,u,S||null)}else if("documentChange"in e){const o=e.documentChange,a=kc(r,o.document.name),u=Wo(o.document.updateTime),f=o.document.createTime?Wo(o.document.createTime):Qn.min(),S=new fr({mapValue:{fields:o.document.fields}}),$=Gr.newFoundDocument(a,u,f,S);t=new zu(o.targetIds||[],o.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const o=e.documentDelete,a=kc(r,o.document),u=o.readTime?Wo(o.readTime):Qn.min(),f=Gr.newNoDocument(a,u);t=new zu([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,a=kc(r,o.document);t=new zu([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return y();{const o=e.filter,{count:a=0,unchangedNames:u}=o,f=new qg(a,u);t=new Gh(o.targetId,f)}}var $;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return Qn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Qn.min():u.readTime?Wo(u.readTime):Qn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Wc(this.serializer),t.addTarget=function(a,u){let f;const S=u.target;if(f=ti(S)?{documents:a_(a,S)}:{query:Sf(a,S)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Gu(a,u.resumeToken);const $=Wh(a,u.expectedCount);null!==$&&(f.expectedCount=$)}else if(u.snapshotVersion.compareTo(Qn.min())>0){f.readTime=ed(a,u.snapshotVersion.toTimestamp());const $=Wh(a,u.expectedCount);null!==$&&(f.expectedCount=$)}return f}(this.serializer,e);const o=function Kc(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return y()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Wc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fb extends F_{constructor(e,t,o,a,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,f),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(b(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function mb(r,e){return r&&r.length>0?(b(void 0!==e),r.map(t=>function(o,a){let u=Wo(o.updateTime?o.updateTime:a);return u.isEqual(Qn.min())&&(u=Wo(a)),new mf(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Wo(e.commitTime);return this.listener.cu(o,t)}return b(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>ac(this.serializer,o))};this.Wo(t)}}class N_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Me(q.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(q.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.vo(e,t,o,u,f,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(q.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class L_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gr(t),this.mu=!1):In("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g0{constructor(e,t,o,a,u){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(S=>{o.enqueueAndForget((0,Oe.Z)(function*(){var $;Xc(f)&&(In("RemoteStore","Restarting streams for network reachability change."),yield($=(0,Oe.Z)(function*(ne){const Ie=z(ne);Ie.vu.add(4),yield ah(Ie),Ie.bu.set("Unknown"),Ie.vu.delete(4),yield sh(Ie)}),function(ne){return $.apply(this,arguments)})(f))}))}),this.bu=new L_(o,a)}}function sh(r){return B_.apply(this,arguments)}function B_(){return B_=(0,Oe.Z)(function*(r){if(Xc(r))for(const e of r.Ru)yield e(!0)}),B_.apply(this,arguments)}function ah(r){return pm.apply(this,arguments)}function pm(){return pm=(0,Oe.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),pm.apply(this,arguments)}function ch(r,e){const t=z(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bm(t)?vm(t):fd(t).Ko()&&_m(t,e))}function gm(r,e){const t=z(r),o=fd(t);t.Au.delete(e),o.Ko()&&lh(t,e),0===t.Au.size&&(o.Ko()?o.jo():Xc(t)&&t.bu.set("Unknown"))}function _m(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fd(r).su(e)}function lh(r,e){r.Vu.qt(e),fd(r).iu(e)}function vm(r){r.Vu=new Cf({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),fd(r).start(),r.bu.gu()}function bm(r){return Xc(r)&&!fd(r).Uo()&&r.Au.size>0}function Xc(r){return 0===z(r).vu.size}function Zi(r){r.Vu=void 0}function U_(r){return ym.apply(this,arguments)}function ym(){return ym=(0,Oe.Z)(function*(r){r.Au.forEach((e,t)=>{_m(r,e)})}),ym.apply(this,arguments)}function _0(r,e){return op.apply(this,arguments)}function op(){return op=(0,Oe.Z)(function*(r,e){Zi(r),bm(r)?(r.bu.Iu(e),vm(r)):r.bu.set("Unknown")}),op.apply(this,arguments)}function V_(r,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,Oe.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof $u&&2===e.state&&e.cause)try{yield(o=(0,Oe.Z)(function*(a,u){const f=u.cause;for(const S of u.targetIds)a.Au.has(S)&&(yield a.remoteSyncer.rejectListen(S,f),a.Au.delete(S),a.Vu.removeTarget(S))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){In("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wm(r,o)}else if(e instanceof zu?r.Vu.Ht(e):e instanceof Gh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Qn.min()))try{const o=yield Ab(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const f=a.Vu.ce(u);return f.targetChanges.forEach((S,$)=>{if(S.resumeToken.approximateByteSize()>0){const ne=a.Au.get($);ne&&a.Au.set($,ne.withResumeToken(S.resumeToken,u))}}),f.targetMismatches.forEach((S,$)=>{const ne=a.Au.get(S);if(!ne)return;a.Au.set(S,ne.withResumeToken(qo.EMPTY_BYTE_STRING,ne.snapshotVersion)),lh(a,S);const Ie=new Zc(ne.target,S,$,ne.sequenceNumber);_m(a,Ie)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(o){In("RemoteStore","Failed to raise snapshot:",o),yield wm(r,o)}var o}),sp.apply(this,arguments)}function wm(r,e,t){return xm.apply(this,arguments)}function xm(){return xm=(0,Oe.Z)(function*(r,e,t){if(!$s(e))throw e;r.vu.add(1),yield ah(r),r.bu.set("Offline"),t||(t=()=>Ab(r.localStore)),r.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){In("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield sh(r)}))}),xm.apply(this,arguments)}function j_(r,e){return e().catch(t=>wm(r,t,e))}function hd(r){return ap.apply(this,arguments)}function ap(){return ap=(0,Oe.Z)(function*(r){const e=z(r),t=Ac(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Nb(e);)try{const a=yield qf(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,v0(e,a)}catch(a){yield wm(e,a)}cp(e)&&lp(e)}),ap.apply(this,arguments)}function Nb(r){return Xc(r)&&r.Eu.length<10}function v0(r,e){r.Eu.push(e);const t=Ac(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function cp(r){return Xc(r)&&!Ac(r).Uo()&&r.Eu.length>0}function lp(r){Ac(r).start()}function kl(r){return Al.apply(this,arguments)}function Al(){return Al=(0,Oe.Z)(function*(r){Ac(r).hu()}),Al.apply(this,arguments)}function H_(r){return dp.apply(this,arguments)}function dp(){return dp=(0,Oe.Z)(function*(r){const e=Ac(r);for(const t of r.Eu)e.uu(t.mutations)}),dp.apply(this,arguments)}function Em(r,e,t){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,Oe.Z)(function*(r,e,t){const o=r.Eu.shift(),a=_f.from(o,e,t);yield j_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield hd(r)}),Ol.apply(this,arguments)}function up(r,e){return md.apply(this,arguments)}function md(){return md=(0,Oe.Z)(function*(r,e){var t;e&&Ac(r).ou&&(yield(t=(0,Oe.Z)(function*(o,a){if(yf(u=a.code)&&u!==q.ABORTED){const f=o.Eu.shift();Ac(o).Qo(),yield j_(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield hd(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),cp(r)&&lp(r)}),md.apply(this,arguments)}function hp(r,e){return dh.apply(this,arguments)}function dh(){return dh=(0,Oe.Z)(function*(r,e){const t=z(r);t.asyncQueue.verifyOperationInProgress(),In("RemoteStore","RemoteStore received new credentials");const o=Xc(t);t.vu.add(3),yield ah(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield sh(t)}),dh.apply(this,arguments)}function uh(r,e){return hh.apply(this,arguments)}function hh(){return hh=(0,Oe.Z)(function*(r,e){const t=z(r);e?(t.vu.delete(2),yield sh(t)):e||(t.vu.add(2),yield ah(t),t.bu.set("Unknown"))}),hh.apply(this,arguments)}function fd(r){return r.Su||(r.Su=function(e,t,o){const a=z(e);return a.fu(),new Pb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:U_.bind(null,r),ao:_0.bind(null,r),nu:V_.bind(null,r)}),r.Ru.push(function(){var e=(0,Oe.Z)(function*(t){t?(r.Su.Qo(),bm(r)?vm(r):r.bu.set("Unknown")):(yield r.Su.stop(),Zi(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Ac(r){return r.Du||(r.Du=function(e,t,o){const a=z(e);return a.fu(),new Fb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:kl.bind(null,r),ao:up.bind(null,r),au:H_.bind(null,r),cu:Em.bind(null,r)}),r.Ru.push(function(){var e=(0,Oe.Z)(function*(t){t?(r.Du.Qo(),yield hd(r)):(yield r.Du.stop(),r.Eu.length>0&&(In("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class mp{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,o,a,u){const f=Date.now()+o,S=new mp(e,t,f,a,u);return S.start(o),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ru(r,e){if(gr("AsyncQueue",`${e}: ${r}`),$s(r))return new Me(q.UNAVAILABLE,`${e}: ${r}`);throw r}class ou{constructor(e){this.comparator=e?(t,o)=>e(t,o)||E.comparator(t.key,o.key):(t,o)=>E.comparator(t.key,o.key),this.keyedMap=Bu(),this.sortedSet=new _r(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ou;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class fp{constructor(){this.Cu=new _r(E.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):y():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class su{constructor(e,t,o,a,u,f,S,$,ne){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=S,this.excludesMetadataChanges=$,this.hasCachedResults=ne}static fromInitialDocuments(e,t,o,a,u){const f=[];return t.forEach(S=>{f.push({type:0,doc:S})}),new su(e,t,ou.emptySet(t),f,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class Lb{constructor(){this.Nu=void 0,this.listeners=[]}}class Bb{constructor(){this.queries=new Mc(e=>jc(e),vl),this.onlineState="Unknown",this.ku=new Set}}function pp(r,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,Oe.Z)(function*(r,e){const t=z(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new Lb),a)try{u.Nu=yield t.onListen(o)}catch(f){const S=ru(f,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(S)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&_p(t)}),Cm.apply(this,arguments)}function Dm(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,Oe.Z)(function*(r,e){const t=z(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const f=u.listeners.indexOf(e);f>=0&&(u.listeners.splice(f,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),gp.apply(this,arguments)}function Ub(r,e){const t=z(r);let o=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const S of f.listeners)S.$u(a)&&(o=!0);f.Nu=a}}o&&_p(t)}function La(r,e,t){const o=z(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function _p(r){r.ku.forEach(e=>{e.next()})}class vp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new su(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class b0{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Im{constructor(e){this.serializer=e}rr(e){return kc(this.serializer,e)}ur(e){return e.metadata.exists?Tf(this.serializer,e.document,!1):Gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wo(e)}}class z_{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Fi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Im(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const f of a.metadata.queries){const S=(t.get(f)||Yi()).add(u);t.set(f,S)}}return t}complete(){var e=this;return(0,Oe.Z)(function*(){const t=yield function k_(r,e,t,o){return A_.apply(this,arguments)}(e.localStore,new Im(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield Rb(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class G_{constructor(e){this.key=e}}class W_{constructor(e){this.key=e}}class bp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Yi(),this.mutatedKeys=Yi(),this.tc=Bg(e),this.ec=new ou(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new fp,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,f=a,S=!1;const $="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,ne="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Ie,lt)=>{const tn=a.get(Ie),_n=Ia(this.query,lt)?lt:null,Fn=!!tn&&this.mutatedKeys.has(tn.key),Xn=!!_n&&(_n.hasLocalMutations||this.mutatedKeys.has(_n.key)&&_n.hasCommittedMutations);let si=!1;tn&&_n?tn.data.isEqual(_n.data)?Fn!==Xn&&(o.track({type:3,doc:_n}),si=!0):this.rc(tn,_n)||(o.track({type:2,doc:_n}),si=!0,($&&this.tc(_n,$)>0||ne&&this.tc(_n,ne)<0)&&(S=!0)):!tn&&_n?(o.track({type:0,doc:_n}),si=!0):tn&&!_n&&(o.track({type:1,doc:tn}),si=!0,($||ne)&&(S=!0)),si&&(_n?(f=f.add(_n),u=Xn?u.add(Ie):u.delete(Ie)):(f=f.delete(Ie),u=u.delete(Ie)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Ie="F"===this.query.limitType?f.last():f.first();f=f.delete(Ie.key),u=u.delete(Ie.key),o.track({type:1,doc:Ie})}return{ec:f,ic:o,zi:S,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((ne,Ie)=>function(lt,tn){const _n=Fn=>{switch(Fn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return _n(lt)-_n(tn)}(ne.type,Ie.type)||this.tc(ne.doc,Ie.doc)),this.oc(o);const f=t?this.uc():[],S=0===this.Zu.size&&this.current?1:0,$=S!==this.Xu;return this.Xu=S,0!==u.length||$?{snapshot:new su(this.query,e.ec,a,u,e.mutatedKeys,0===S,$,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Yi(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new W_(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new G_(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Yi();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return su.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vb{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class jb{constructor(e){this.key=e,this.fc=!1}}class yp{constructor(e,t,o,a,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Mc(S=>jc(S),vl),this._c=new Map,this.mc=new Set,this.gc=new _r(E.comparator),this.yc=new Map,this.Ic=new I_,this.Tc={},this.Ec=new Map,this.Ac=qc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Hb(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,Oe.Z)(function*(r,e){const t=pd(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const f=yield Jd(t.localStore,Us(e)),S=t.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,a=yield xp(t,e,o,"current"===S,f.resumeToken),t.isPrimaryClient&&ch(t.remoteStore,f)}return a}),wp.apply(this,arguments)}function xp(r,e,t,o,a){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Oe.Z)(function*(r,e,t,o,a){r.Rc=(lt,tn,_n)=>{return(Fn=(0,Oe.Z)(function*(Xn,si,qi,Rr){let ji=si.view.sc(qi);ji.zi&&(ji=yield cd(Xn.localStore,si.query,!1).then(({documents:Oo})=>si.view.sc(Oo,ji)));const as=Rr&&Rr.targetChanges.get(si.targetId),Uo=si.view.applyChanges(ji,Xn.isPrimaryClient,as);return fh(Xn,si.targetId,Uo.cc),Uo.snapshot}),function(Xn,si,qi,Rr){return Fn.apply(this,arguments)})(r,lt,tn,_n);var Fn};const u=yield cd(r.localStore,e,!0),f=new bp(e,u.ir),S=f.sc(u.documents),$=Gc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),ne=f.applyChanges(S,r.isPrimaryClient,$);fh(r,t,ne.cc);const Ie=new Vb(e,t,f);return r.wc.set(e,Ie),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),ne.snapshot}),Ep.apply(this,arguments)}function zb(r,e){return qa.apply(this,arguments)}function qa(){return qa=(0,Oe.Z)(function*(r,e){const t=z(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!vl(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ad(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),gm(t.remoteStore,o.targetId),cu(t,o.targetId)}).catch(ps))):(cu(t,o.targetId),yield ad(t.localStore,o.targetId,!0))}),qa.apply(this,arguments)}function Dp(){return Dp=(0,Oe.Z)(function*(r,e,t){const o=Lp(r);try{const a=yield function(u,f){const S=z(u),$=dr.now(),ne=f.reduce((tn,_n)=>tn.add(_n.key),Yi());let Ie,lt;return S.persistence.runTransaction("Locally write mutations","readwrite",tn=>{let _n=Ta(),Fn=Yi();return S.Zi.getEntries(tn,ne).next(Xn=>{_n=Xn,_n.forEach((si,qi)=>{qi.isValidDocument()||(Fn=Fn.add(si))})}).next(()=>S.localDocuments.getOverlayedDocuments(tn,_n)).next(Xn=>{Ie=Xn;const si=[];for(const qi of f){const Rr=lb(qi,Ie.get(qi.key).overlayedDocument);null!=Rr&&si.push(new $c(qi.key,Rr,Wa(Rr.value.mapValue),Qo.exists(!0)))}return S.mutationQueue.addMutationBatch(tn,$,si,f)}).next(Xn=>{lt=Xn;const si=Xn.applyToLocalDocumentSet(Ie,Fn);return S.documentOverlayCache.saveOverlays(tn,Xn.batchId,si)})}).then(()=>({batchId:lt.batchId,changes:cf(Ie)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,f,S){let $=u.Tc[u.currentUser.toKey()];$||($=new _r(ai)),$=$.insert(f,S),u.Tc[u.currentUser.toKey()]=$}(o,a.batchId,t),yield Jc(o,a.changes),yield hd(o.remoteStore)}catch(a){const u=ru(a,"Failed to persist write");t.reject(u)}}),Dp.apply(this,arguments)}function Ip(r,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,Oe.Z)(function*(r,e){const t=z(r);try{const o=yield function Ob(r,e){const t=z(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const S=[];e.targetChanges.forEach((Ie,lt)=>{const tn=a.get(lt);if(!tn)return;S.push(t.Bs.removeMatchingKeys(u,Ie.removedDocuments,lt).next(()=>t.Bs.addMatchingKeys(u,Ie.addedDocuments,lt)));let _n=tn.withSequenceNumber(u.currentSequenceNumber);var Fn,Xn,si;null!==e.targetMismatches.get(lt)?_n=_n.withResumeToken(qo.EMPTY_BYTE_STRING,Qn.min()).withLastLimboFreeSnapshotVersion(Qn.min()):Ie.resumeToken.approximateByteSize()>0&&(_n=_n.withResumeToken(Ie.resumeToken,o)),a=a.insert(lt,_n),Xn=_n,si=Ie,(0===(Fn=tn).resumeToken.approximateByteSize()||Xn.snapshotVersion.toMicroseconds()-Fn.snapshotVersion.toMicroseconds()>=3e8||si.addedDocuments.size+si.modifiedDocuments.size+si.removedDocuments.size>0)&&S.push(t.Bs.updateTargetData(u,_n))});let $=Ta(),ne=Yi();if(e.documentUpdates.forEach(Ie=>{e.resolvedLimboDocuments.has(Ie)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(u,Ie))}),S.push(dm(u,f,e.documentUpdates).next(Ie=>{$=Ie.nr,ne=Ie.sr})),!o.isEqual(Qn.min())){const Ie=t.Bs.getLastRemoteSnapshotVersion(u).next(lt=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));S.push(Ie)}return Yt.waitFor(S).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,$,ne)).next(()=>$)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const f=t.yc.get(u);f&&(b(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?b(f.fc):a.removedDocuments.size>0&&(b(f.fc),f.fc=!1))}),yield Jc(t,o,e)}catch(o){yield ps(o)}}),Tp.apply(this,arguments)}function Mp(r,e,t){const o=z(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,f)=>{const S=f.view.Mu(e);S.snapshot&&a.push(S.snapshot)}),function(u,f){const S=z(u);S.onlineState=f;let $=!1;S.queries.forEach((ne,Ie)=>{for(const lt of Ie.listeners)lt.Mu(f)&&($=!0)}),$&&_p(S)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function K_(r,e,t){return au.apply(this,arguments)}function au(){return au=(0,Oe.Z)(function*(r,e,t){const o=z(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let f=new _r(E.comparator);f=f.insert(u,Gr.newNoDocument(u,Qn.min()));const S=Yi().add(u),$=new xl(Qn.min(),new Map,new _r(ai),f,S);yield Ip(o,$),o.gc=o.gc.remove(u),o.yc.delete(e),kp(o)}else yield ad(o.localStore,e,!1).then(()=>cu(o,e,t)).catch(ps)}),au.apply(this,arguments)}function Sp(r,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Oe.Z)(function*(r,e){const t=z(r),o=e.batch.batchId;try{const a=yield function kb(r,e){const t=z(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,S,$,ne){const Ie=$.batch,lt=Ie.keys();let tn=Yt.resolve();return lt.forEach(_n=>{tn=tn.next(()=>ne.getEntry(S,_n)).next(Fn=>{const Xn=$.docVersions.get(_n);b(null!==Xn),Fn.version.compareTo(Xn)<0&&(Ie.applyToRemoteDocument(Fn,$),Fn.isValidDocument()&&(Fn.setReadTime($.commitVersion),ne.addEntry(Fn)))})}),tn.next(()=>f.mutationQueue.removeMutationBatch(S,Ie))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let S=Yi();for(let $=0;$<f.mutationResults.length;++$)f.mutationResults[$].transformResults.length>0&&(S=S.add(f.batch.mutations[$].key));return S}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);uc(t,o,null),mh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Jc(t,a)}catch(a){yield ps(a)}}),Z_.apply(this,arguments)}function Y_(r,e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Oe.Z)(function*(r,e,t){const o=z(r);try{const a=yield function(u,f){const S=z(u);return S.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let ne;return S.mutationQueue.lookupMutationBatch($,f).next(Ie=>(b(null!==Ie),ne=Ie.keys(),S.mutationQueue.removeMutationBatch($,Ie))).next(()=>S.mutationQueue.performConsistencyCheck($)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId($,ne,f)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,ne)).next(()=>S.localDocuments.getDocuments($,ne))})}(o.localStore,e);uc(o,e,t),mh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Jc(o,a)}catch(a){yield ps(a)}}),Tm.apply(this,arguments)}function Mm(){return Mm=(0,Oe.Z)(function*(r,e){const t=z(r);Xc(t.remoteStore)||In("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const f=z(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>f.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=ru(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Mm.apply(this,arguments)}function mh(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function uc(r,e,t){const o=z(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function cu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||Q_(r,o)})}function Q_(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(gm(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),kp(r))}function fh(r,e,t){for(const o of t)o instanceof G_?(r.Ic.addReference(o.key,e),$b(r,o)):o instanceof W_?(In("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||Q_(r,o.key)):y()}function $b(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(In("SyncEngine","New document in limbo: "+t),r.mc.add(o),kp(r))}function kp(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new E(Fi.fromString(e)),o=r.Ac.next();r.yc.set(o,new jb(t)),r.gc=r.gc.insert(t,o),ch(r.remoteStore,new Zc(Us(gl(t.path)),o,"TargetPurposeLimboResolution",Ds.ct))}}function Jc(r,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,Oe.Z)(function*(r,e,t){const o=z(r),a=[],u=[],f=[];var S;o.wc.isEmpty()||(o.wc.forEach((S,$)=>{f.push(o.Rc($,e,t).then(ne=>{if((ne||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,ne?.fromCache?"not-current":"current"),ne){a.push(ne);const Ie=lm.Li($.targetId,ne);u.push(Ie)}}))}),yield Promise.all(f),o.dc.nu(a),yield(S=(0,Oe.Z)(function*($,ne){const Ie=z($);try{yield Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",lt=>Yt.forEach(ne,tn=>Yt.forEach(tn.Fi,_n=>Ie.persistence.referenceDelegate.addReference(lt,tn.targetId,_n)).next(()=>Yt.forEach(tn.Bi,_n=>Ie.persistence.referenceDelegate.removeReference(lt,tn.targetId,_n)))))}catch(lt){if(!$s(lt))throw lt;In("LocalStore","Failed to update sequence numbers: "+lt)}for(const lt of ne){const tn=lt.targetId;if(!lt.fromCache){const _n=Ie.Ji.get(tn),Xn=_n.withLastLimboFreeSnapshotVersion(_n.snapshotVersion);Ie.Ji=Ie.Ji.insert(tn,Xn)}}}),function($,ne){return S.apply(this,arguments)})(o.localStore,u))}),X_.apply(this,arguments)}function J_(r,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Oe.Z)(function*(r,e){const t=z(r);if(!t.currentUser.isEqual(e)){In("SyncEngine","User change. New user:",e.toKey());const o=yield Zf(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(S=>{S.reject(new Me(q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Jc(t,o.er)}var a}),Ap.apply(this,arguments)}function Sm(r,e){const t=z(r),o=t.yc.get(e);if(o&&o.fc)return Yi().add(o.key);{let a=Yi();const u=t._c.get(e);if(!u)return a;for(const f of u){const S=t.wc.get(f);a=a.unionWith(S.view.nc)}return a}}function ph(r,e){return lu.apply(this,arguments)}function lu(){return lu=(0,Oe.Z)(function*(r,e){const t=z(r),o=yield cd(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&fh(t,e.targetId,a.cc),a}),lu.apply(this,arguments)}function y0(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Oe.Z)(function*(r,e){const t=z(r);return Qf(t.localStore,e).then(o=>Jc(t,o))}),Op.apply(this,arguments)}function km(r,e,t,o){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Oe.Z)(function*(r,e,t,o){const a=z(r),u=yield function(f,S){const $=z(f),ne=z($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",Ie=>ne.Sn(Ie,S).next(lt=>lt?$.localDocuments.getDocuments(Ie,lt):Yt.resolve(null)))}(a.localStore,e);var S;null!==u?("pending"===t?yield hd(a.remoteStore):"acknowledged"===t||"rejected"===t?(uc(a,e,o||null),mh(a,e),S=e,z(z(a.localStore).mutationQueue).Cn(S)):y(),yield Jc(a,u)):In("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rp.apply(this,arguments)}function Pp(){return Pp=(0,Oe.Z)(function*(r,e){const t=z(r);if(pd(t),Lp(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Am(t,o.toArray());t.vc=!0,yield uh(t.remoteStore,!0);for(const u of a)ch(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,f)=>{t.sharedClientState.isLocalQueryTarget(f)?o.push(f):a=a.then(()=>(cu(t,f),ad(t.localStore,f,!0))),gm(t.remoteStore,f)}),yield a,yield Am(t,o),function(u){const f=z(u);f.yc.forEach((S,$)=>{gm(f.remoteStore,$)}),f.Ic.Ts(),f.yc=new Map,f.gc=new _r(E.comparator)}(t),t.vc=!1,yield uh(t.remoteStore,!1)}}),Pp.apply(this,arguments)}function Am(r,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Oe.Z)(function*(r,e,t){const o=z(r),a=[],u=[];for(const f of e){let S;const $=o._c.get(f);if($&&0!==$.length){S=yield Jd(o.localStore,Us($[0]));for(const ne of $){const Ie=o.wc.get(ne),lt=yield ph(o,Ie);lt.snapshot&&u.push(lt.snapshot)}}else{const ne=yield M_(o.localStore,f);S=yield Jd(o.localStore,ne),yield xp(o,du(ne),f,!1,S.resumeToken)}a.push(S)}return o.dc.nu(u),a}),Fp.apply(this,arguments)}function du(r){return Bd(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Wb(r){const e=z(r);return z(z(e.localStore).persistence).$i()}function ev(r,e,t,o){return Om.apply(this,arguments)}function Om(){return Om=(0,Oe.Z)(function*(r,e,t,o){const a=z(r);if(a.vc)return void In("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const f=yield Qf(a.localStore,Lg(u[0])),S=xl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,qo.EMPTY_BYTE_STRING);yield Jc(a,f,S);break}case"rejected":yield ad(a.localStore,e,!0),cu(a,e,o);break;default:y()}}),Om.apply(this,arguments)}function Kb(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,Oe.Z)(function*(r,e,t){const o=pd(r);if(o.vc){for(const a of e){if(o._c.has(a)){In("SyncEngine","Adding an already active target "+a);continue}const u=yield M_(o.localStore,a),f=yield Jd(o.localStore,u);yield xp(o,du(u),f.targetId,!1,f.resumeToken),ch(o.remoteStore,f)}for(const a of t)o._c.has(a)&&(yield ad(o.localStore,a,!1).then(()=>{gm(o.remoteStore,a),cu(o,a)}).catch(ps))}}),Np.apply(this,arguments)}function pd(r){const e=z(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ip.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K_.bind(null,e),e.dc.nu=Ub.bind(null,e.eventManager),e.dc.Pc=La.bind(null,e.eventManager),e}function Lp(r){const e=z(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y_.bind(null,e),e}class gh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Oe.Z)(function*(){t.serializer=oh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Kf(this.persistence,new T_,e.initialUser,this.serializer)}createPersistence(e){return new Ju(Sl.zs,this.serializer)}createSharedClientState(e){return new ep}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends gh{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Oe.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Lp(o.Vc.syncEngine),yield hd(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Kf(this.persistence,new T_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new sm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Ca(t,this.persistence);return new Nh(e.asyncQueue,o)}createPersistence(e){const t=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new Qd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ip(),fm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ep}}class tv extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Oe.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof mm&&(o.sharedClientState.syncEngine={jr:km.bind(null,a),zr:ev.bind(null,a),Wr:Kb.bind(null,a),$i:Wb.bind(null,a),Qr:y0.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,Oe.Z)(function*(f){yield function Gb(r,e){return Pp.apply(this,arguments)}(o.Vc.syncEngine,f),o.gcScheduler&&(f&&!o.gcScheduler.started?o.gcScheduler.start():f||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(f&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():f||o.indexBackfillerScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ip();if(!mm.D(t))throw new Me(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mm(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class uu{initialize(e,t){var o=this;return(0,Oe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Mp(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=J_.bind(null,o.syncEngine),yield uh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bb}createDatastore(e){const t=oh(e.databaseInfo.databaseId),o=new P_(e.databaseInfo);return new N_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=S=>Mp(this.syncEngine,S,0),f=tu.D()?new tu:new tp,new g0(t,o,a,u,f);var t,o,a,u,f}createSyncEngine(e,t){return function(o,a,u,f,S,$,ne){const Ie=new yp(o,a,u,f,S,$);return ne&&(Ie.vc=!0),Ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Oe.Z)(function*(t){const o=z(t);In("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ah(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nv(r,e=10240){let t=0;return{read:()=>(0,Oe.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new tt,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new b0(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Oe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,Oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Up{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,Oe.Z)(function*(u,f){const S=z(u),$=Wc(S.serializer)+"/documents",ne={documents:f.map(_n=>Kh(S.serializer,_n))},Ie=yield S.vo("BatchGetDocuments",$,ne,f.length),lt=new Map;Ie.forEach(_n=>{const Fn=function o_(r,e){return"found"in e?function(t,o){b(!!o.found);const a=kc(t,o.found.name),u=Wo(o.found.updateTime),f=o.found.createTime?Wo(o.found.createTime):Qn.min(),S=new fr({mapValue:{fields:o.found.fields}});return Gr.newFoundDocument(a,u,f,S)}(r,e):"missing"in e?function(t,o){b(!!o.missing),b(!!o.readTime);const a=kc(t,o.missing),u=Wo(o.readTime);return Gr.newNoDocument(a,u)}(r,e):y()}(S.serializer,_n);lt.set(Fn.key.toString(),Fn)});const tn=[];return f.forEach(_n=>{const Fn=lt.get(_n.toString());b(!!Fn),tn.push(Fn)}),tn}),function(u,f){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new wl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=E.fromPath(a);e.mutations.push(new $h(u,e.precondition(u)))}),yield(o=(0,Oe.Z)(function*(a,u){const f=z(a),S=Wc(f.serializer)+"/documents",$={writes:u.map(ne=>ac(f.serializer,ne))};yield f.Io("Commit",S,$)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw y();t=Qn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Me(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qn.min())?Qo.exists(!1):Qo.updateTime(t):Qo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qn.min()))throw new Me(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qo.updateTime(t)}return Qo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yb{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new rp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Oe.Z)(function*(){const t=new Up(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Gs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yf(t)}return!1}}class Vp{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=wo.UNAUTHENTICATED,this.clientId=Hr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Oe.Z)(function*(S){In("FirestoreClient","Received user=",S.uid),yield u.authCredentialListener(S),u.user=S});return function(S){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(In("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=ru(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Pm(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,Oe.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),In("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Oe.Z)(function*(u){o.isEqual(u)||(yield Zf(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),jp.apply(this,arguments)}function Hp(r,e){return zp.apply(this,arguments)}function zp(){return zp=(0,Oe.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield $p(r);In("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>hp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>hp(e.remoteStore,u)),r._onlineComponents=e}),zp.apply(this,arguments)}function rv(r){return"FirebaseError"===r.name?r.code===q.FAILED_PRECONDITION||r.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function $p(r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Oe.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){In("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rv(t))throw t;Cs("Error using user provided cache. Falling back to memory cache: "+t),yield Pm(r,new gh)}}else In("FirestoreClient","Using default OfflineComponentProvider"),yield Pm(r,new gh);return r._offlineComponents}),Gp.apply(this,arguments)}function _h(r){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Oe.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(In("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hp(r,r._uninitializedComponentsProvider._online)):(In("FirestoreClient","Using default OnlineComponentProvider"),yield Hp(r,new uu))),r._onlineComponents}),Fm.apply(this,arguments)}function ov(r){return $p(r).then(e=>e.persistence)}function Wp(r){return $p(r).then(e=>e.localStore)}function Kp(r){return _h(r).then(e=>e.remoteStore)}function sv(r){return _h(r).then(e=>e.syncEngine)}function hu(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Oe.Z)(function*(r){const e=yield _h(r),t=e.eventManager;return t.onListen=Hb.bind(null,e.syncEngine),t.onUnlisten=zb.bind(null,e.syncEngine),t}),Zp.apply(this,arguments)}function mu(r,e,t={}){const o=new tt;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(a,u,f,S,$){const ne=new Rm({next:lt=>{u.enqueueAndForget(()=>Dm(a,Ie));const tn=lt.docs.has(f);!tn&&lt.fromCache?$.reject(new Me(q.UNAVAILABLE,"Failed to get document because the client is offline.")):tn&&lt.fromCache&&S&&"server"===S.source?$.reject(new Me(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(lt)},error:lt=>$.reject(lt)}),Ie=new vp(gl(f.path),ne,{includeMetadataChanges:!0,Ku:!0});return pp(a,Ie)}(yield hu(r),r.asyncQueue,e,t,o)})),o.promise}function Rl(r,e,t={}){const o=new tt;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(a,u,f,S,$){const ne=new Rm({next:lt=>{u.enqueueAndForget(()=>Dm(a,Ie)),lt.fromCache&&"server"===S.source?$.reject(new Me(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(lt)},error:lt=>$.reject(lt)}),Ie=new vp(f,ne,{includeMetadataChanges:!0,Ku:!0});return pp(a,Ie)}(yield hu(r),r.asyncQueue,e,t,o)})),o.promise}function gd(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const _d=new Map;function Pl(r,e,t){if(!t)throw new Me(q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vd(r,e,t,o){if(!0===e&&!0===o)throw new Me(q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function bd(r){if(!E.isDocumentKey(r))throw new Me(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yd(r){if(E.isDocumentKey(r))throw new Me(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function el(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":y()}function sr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Me(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=el(r);throw new Me(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Qp(r,e){if(e<=0)throw new Me(q.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Xp{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gd(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new on;switch(t.type){case"firstParty":return new Ti(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_d.get(e);t&&(In("ComponentProvider","Removing Datastore"),_d.delete(e),t.terminate())}(this),Promise.resolve()}}class Ko{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ko(this.firestore,e,this._key)}}class Ks{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class hc extends Ks{constructor(e,t,o){super(e,t,gl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ko(this.firestore,null,new E(e))}withConverter(e){return new hc(this.firestore,e,this._path)}}function eg(r,e,...t){if(r=(0,ue.m9)(r),Pl("collection","path",e),r instanceof pu){const o=Fi.fromString(e,...t);return yd(o),new hc(r,null,o)}{if(!(r instanceof Ko||r instanceof hc))throw new Me(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Fi.fromString(e,...t));return yd(o),new hc(r.firestore,null,o)}}function gu(r,e,...t){if(r=(0,ue.m9)(r),1===arguments.length&&(e=Hr.A()),Pl("doc","path",e),r instanceof pu){const o=Fi.fromString(e,...t);return bd(o),new Ko(r,null,new E(o))}{if(!(r instanceof Ko||r instanceof hc))throw new Me(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Fi.fromString(e,...t));return bd(o),new Ko(r.firestore,r instanceof hc?r.converter:null,new E(o))}}function cv(r,e){return r=(0,ue.m9)(r),e=(0,ue.m9)(e),(r instanceof Ko||r instanceof hc)&&(e instanceof Ko||e instanceof hc)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function lv(r,e){return r=(0,ue.m9)(r),e=(0,ue.m9)(e),r instanceof Ks&&e instanceof Ks&&r.firestore===e.firestore&&vl(r._query,e._query)&&r.converter===e.converter}class x0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new rp(this,"async_queue_retry"),this.Xc=()=>{const t=fm();t&&In("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=fm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new tt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!$s(t))throw t;In("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,gr("INTERNAL UNHANDLED ERROR: ",function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=mp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&y()}verifyOperationInProgress(){}sa(){var e=this;return(0,Oe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class Qb{constructor(){this._progressObserver={},this._taskCompletionResolver=new tt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xo extends pu{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new x0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()}}function ks(r){return r._firestoreClient||dv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function dv(r){var e,t,o;const a=r._freezeSettings(),u=(S=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Cc(r._databaseId,S,r._persistenceKey,(ne=a).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,gd(ne.experimentalLongPollingOptions),ne.useFetchStreams));var S,ne;r._firestoreClient=new Vp(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Lm(r,e,t){const o=new tt;return r.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield Pm(r,t),yield Hp(r,e),o.resolve()}catch(a){const u=a;if(!rv(u))throw u;Cs("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function mv(r){if(r._initialized||r._terminated)throw new Me(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(qo.fromBase64String(e))}catch(t){throw new Me(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xa(qo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ja{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._methodName=e}}class Um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ai(this._lat,e._lat)||ai(this._long,e._long)}}const ey=/^__.*__$/;class rg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new $c(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hd(e,this.data,t,this.fieldTransforms)}}class fv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new $c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function og(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class Vm{constructor(e,t,o,a,u,f){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(og(this.ca)&&ey.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ty{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||oh(e)}ya(e,t,o,a=!1){return new Vm({ca:e,methodName:t,ga:o,path:Tr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fl(r){const e=r._freezeSettings(),t=oh(r._databaseId);return new ty(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Eh(r,e,t,o,a,u={}){const f=r.ya(u.merge||u.mergeFields?2:0,e,t,a);dg("Data must be an object, but it was:",f,o);const S=jm(o,f);let $,ne;if(u.merge)$=new Fs(f.fieldMask),ne=f.fieldTransforms;else if(u.mergeFields){const Ie=[];for(const lt of u.mergeFields){const tn=Ih(e,lt,t);if(!f.contains(tn))throw new Me(q.INVALID_ARGUMENT,`Field '${tn}' is specified in your field mask but missing from your input data.`);Hm(Ie,tn)||Ie.push(tn)}$=new Fs(Ie),ne=f.fieldTransforms.filter(lt=>$.covers(lt.field))}else $=null,ne=f.fieldTransforms;return new rg(new fr(S),$,ne)}class vu extends _u{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vu}}function pv(r,e,t){return new Vm({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends _u{_toFieldTransform(e){return new Vu(e.path,new ql)}isEqual(e){return e instanceof sg}}class ny extends _u{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Rc(u,t)),a=new Ql(o);return new Vu(e.path,a)}isEqual(e){return this===e}}class gv extends _u{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Rc(u,t)),a=new Hc(o);return new Vu(e.path,a)}isEqual(e){return this===e}}class ag extends _u{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Vd(e.serializer,Hg(e.serializer,this.Ia));return new Vu(e.path,t)}isEqual(e){return this===e}}function Ch(r,e,t,o){const a=r.ya(1,e,t);dg("Data must be an object, but it was:",a,o);const u=[],f=fr.empty();ta(o,($,ne)=>{const Ie=wd(e,$,t);ne=(0,ue.m9)(ne);const lt=a.da(Ie);if(ne instanceof vu)u.push(Ie);else{const tn=Rc(ne,lt);null!=tn&&(u.push(Ie),f.set(Ie,tn))}});const S=new Fs(u);return new fv(f,S,a.fieldTransforms)}function cg(r,e,t,o,a,u){const f=r.ya(1,e,t),S=[Ih(e,o,t)],$=[a];if(u.length%2!=0)throw new Me(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let tn=0;tn<u.length;tn+=2)S.push(Ih(e,u[tn])),$.push(u[tn+1]);const ne=[],Ie=fr.empty();for(let tn=S.length-1;tn>=0;--tn)if(!Hm(ne,S[tn])){const _n=S[tn];let Fn=$[tn];Fn=(0,ue.m9)(Fn);const Xn=f.da(_n);if(Fn instanceof vu)ne.push(_n);else{const si=Rc(Fn,Xn);null!=si&&(ne.push(_n),Ie.set(_n,si))}}const lt=new Fs(ne);return new fv(Ie,lt,f.fieldTransforms)}function Dh(r,e,t,o=!1){return Rc(t,r.ya(o?4:3,e))}function Rc(r,e){if(lg(r=(0,ue.m9)(r)))return dg("Unsupported field value:",e,r),jm(r,e);if(r instanceof _u)return function(t,o){if(!og(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const f of t){let S=Rc(f,o.wa(u));null==S&&(S={nullValue:"NULL_VALUE"}),a.push(S),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,ue.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hg(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=dr.fromDate(t);return{timestampValue:ed(o.serializer,a)}}if(t instanceof dr){const a=new dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ed(o.serializer,a)}}if(t instanceof Um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xa)return{bytesValue:Gu(o.serializer,t._byteString)};if(t instanceof Ko){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:If(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${el(t)}`)}(r,e)}function jm(r,e){const t={};return Pa(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(r,(o,a)=>{const u=Rc(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function lg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof dr||r instanceof Um||r instanceof Xa||r instanceof Ko||r instanceof _u)}function dg(r,e,t){if(!lg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=el(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Ih(r,e,t){if((e=(0,ue.m9)(e))instanceof Ja)return e._internalPath;if("string"==typeof e)return wd(r,e);throw xd("Field path arguments must be of type string or ",r,!1,void 0,t)}const iy=new RegExp("[~\\*/\\[\\]]");function wd(r,e,t){if(e.search(iy)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ja(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function xd(r,e,t,o,a){const u=o&&!o.isEmpty(),f=void 0!==a;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let $="";return(u||f)&&($+=" (found",u&&($+=` in field ${o}`),f&&($+=` in document ${a}`),$+=")"),new Me(q.INVALID_ARGUMENT,S+r+$)}function Hm(r,e){return r.some(t=>t.isEqual(e))}class bu{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ry extends bu{data(){return super.data()}}function zm(r,e){return"string"==typeof e?wd(r,e):e instanceof Ja?e._internalPath:e._delegate._internalPath}function ug(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Me(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Th{}class yu extends Th{}function Pc(r,e,...t){let o=[];e instanceof Th&&o.push(e),o=o.concat(t),function(a){const u=a.filter(S=>S instanceof Cd).length,f=a.filter(S=>S instanceof Ed).length;if(u>1||u>0&&f>0)throw new Me(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Ed extends yu{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Ed(e,t,o)}_apply(e){const t=this._parse(e);return kh(e._query,t),new Ks(e.firestore,e.converter,_l(e._query,t))}_parse(e){const t=Fl(e.firestore);return function(a,u,f,S,$,ne,Ie){let lt;if($.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new Me(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){pg(Ie,ne);const tn=[];for(const _n of Ie)tn.push(fg(S,a,_n));lt={arrayValue:{values:tn}}}else lt=fg(S,a,Ie)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||pg(Ie,ne),lt=Dh(f,"where",Ie,"in"===ne||"not-in"===ne);return ur.create($,ne,lt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Cd extends Th{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cd(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:ro.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const f=a.getFlattenedFilters();for(const S of f)kh(u,S),u=_l(u,S)}(e._query,t),new Ks(e.firestore,e.converter,_l(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $m extends yu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $m(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new Me(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Me(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new va(a,u);return function(S,$){if(null===Ud(S)){const ne=Tc(S);null!==ne&&tl(0,ne,$.field)}}(o,f),f}(e._query,this._field,this._direction);return new Ks(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new ra(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Mh extends yu{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Mh(e,t,o)}_apply(e){return new Ks(e.firestore,e.converter,Ka(e._query,this._limit,this._limitType))}}class wu extends yu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new wu(e,t,o)}_apply(e){const t=mg(e,this.type,this._docOrFields,this._inclusive);return new Ks(e.firestore,e.converter,(a=t,new ra((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class Sh extends yu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Sh(e,t,o)}_apply(e){const t=mg(e,this.type,this._docOrFields,this._inclusive);return new Ks(e.firestore,e.converter,(a=t,new ra((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function mg(r,e,t,o){if(t[0]=(0,ue.m9)(t[0]),t[0]instanceof bu)return function(a,u,f,S,$){if(!S)throw new Me(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const ne=[];for(const Ie of sc(a))if(Ie.field.isKeyField())ne.push(L(u,S.key));else{const lt=S.data.field(Ie.field);if(Uc(lt))throw new Me(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===lt){const tn=Ie.field.canonicalString();throw new Me(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tn}' (used as the orderBy) does not exist.`)}ne.push(lt)}return new Bs(ne,$)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Fl(r.firestore);return function(u,f,S,$,ne,Ie){const lt=u.explicitOrderBy;if(ne.length>lt.length)throw new Me(q.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tn=[];for(let _n=0;_n<ne.length;_n++){const Fn=ne[_n];if(lt[_n].field.isKeyField()){if("string"!=typeof Fn)throw new Me(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Fn}`);if(!Vc(u)&&-1!==Fn.indexOf("/"))throw new Me(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Fn}' contains a slash.`);const Xn=u.path.child(Fi.fromString(Fn));if(!E.isDocumentKey(Xn))throw new Me(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${Xn}' is not because it contains an odd number of segments.`);const si=new E(Xn);tn.push(L(f,si))}else{const Xn=Dh(S,$,Fn);tn.push(Xn)}}return new Bs(tn,Ie)}(r._query,r.firestore._databaseId,a,e,t,o)}}function fg(r,e,t){if("string"==typeof(t=(0,ue.m9)(t))){if(""===t)throw new Me(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vc(e)&&-1!==t.indexOf("/"))throw new Me(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Fi.fromString(t));if(!E.isDocumentKey(o))throw new Me(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return L(r,new E(o))}if(t instanceof Ko)return L(r,t._key);throw new Me(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${el(t)}.`)}function pg(r,e){if(!Array.isArray(r)||0===r.length)throw new Me(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kh(r,e){if(e.isInequality()){const o=Tc(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new Me(q.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Ud(r);null!==u&&tl(0,a,u)}const t=function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(q.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function tl(r,e,t){if(!t.isEqual(e))throw new Me(q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gg{convertValue(e,t="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ta(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new Um(xo(e.latitude),xo(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ao(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const t=xc(e);return new dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Fi.fromString(e);b(u_(o));const a=new za(o.get(1),o.get(3)),u=new E(o.popFirst(5));return a.isEqual(t)||gr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function xu(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Dd extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}class Id{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends bu{constructor(e,t,o,a,u,f){super(e,t,o,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Eu extends nl{data(e={}){return super.data(e)}}class Nl{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Id(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Eu(this._firestore,this._userDataWriter,o.key,o,new Id(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Eu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Id(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const S=new Eu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Id(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,ne=-1;return 0!==f.type&&($=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),ne=u.indexOf(f.doc.key)),{type:js(f.type),doc:S,oldIndex:$,newIndex:ne}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function js(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function vg(r,e){return r instanceof nl&&e instanceof nl?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Nl&&e instanceof Nl&&r._firestore===e._firestore&&lv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Ll extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}function Tv(r,e,t){r=sr(r,Ko);const o=sr(r.firestore,Xo),a=xu(r.converter,e,t);return Bl(o,[Eh(Fl(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Qo.none())])}function Mv(r,e,t,...o){r=sr(r,Ko);const a=sr(r.firestore,Xo),u=Fl(a);let f;return f="string"==typeof(e=(0,ue.m9)(e))||e instanceof Ja?cg(u,"updateDoc",r._key,e,t,o):Ch(u,"updateDoc",r._key,e),Bl(a,[f.toMutation(r._key,Qo.exists(!0))])}function bg(r,...e){var t,o,a;r=(0,ue.m9)(r);let u={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||tg(e[f])||(u=e[f],f++);const S={includeMetadataChanges:u.includeMetadataChanges};if(tg(e[f])){const lt=e[f];e[f]=null===(t=lt.next)||void 0===t?void 0:t.bind(lt),e[f+1]=null===(o=lt.error)||void 0===o?void 0:o.bind(lt),e[f+2]=null===(a=lt.complete)||void 0===a?void 0:a.bind(lt)}let $,ne,Ie;if(r instanceof Ko)ne=sr(r.firestore,Xo),Ie=gl(r._key.path),$={next:lt=>{e[f]&&e[f](Ah(ne,r,lt))},error:e[f+1],complete:e[f+2]};else{const lt=sr(r,Ks);ne=sr(lt.firestore,Xo),Ie=lt._query;const tn=new Ll(ne);$={next:_n=>{e[f]&&e[f](new Nl(ne,tn,lt,_n))},error:e[f+1],complete:e[f+2]},ug(r._query)}return function(lt,tn,_n,Fn){const Xn=new Rm(Fn),si=new vp(tn,Xn,_n);return lt.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return pp(yield hu(lt),si)})),()=>{Xn.Dc(),lt.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return Dm(yield hu(lt),si)}))}}(ks(ne),Ie,S,$)}function Bl(r,e){return function(t,o){const a=new tt;return t.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function Cp(r,e,t){return Dp.apply(this,arguments)}(yield sv(t),o,a)})),a.promise}(ks(r),e)}function Ah(r,e,t){const o=t.docs.get(e._key),a=new Ll(r);return new nl(r,a,e._key,o,new Id(t.hasPendingWrites,t.fromCache),e.converter)}const vy={maxAttempts:5};class wg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fl(e)}set(e,t,o){this._verifyNotCommitted();const a=Ul(e,this._firestore),u=xu(a.converter,t,o),f=Eh(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(f.toMutation(a._key,Qo.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=Ul(e,this._firestore);let f;return f="string"==typeof(t=(0,ue.m9)(t))||t instanceof Ja?cg(this._dataReader,"WriteBatch.update",u._key,t,o,a):Ch(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(f.toMutation(u._key,Qo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ul(e,this._firestore);return this._mutations=this._mutations.concat(new wl(t._key,Qo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ul(r,e){if((r=(0,ue.m9)(r)).firestore!==e)throw new Me(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class by extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fl(e)}get(e){const t=Ul(e,this._firestore),o=new Dd(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return y();const u=a[0];if(u.isFoundDocument())return new bu(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new bu(this._firestore,o,t._key,null,t.converter);throw y()})}set(e,t,o){const a=Ul(e,this._firestore),u=xu(a.converter,t,o),f=Eh(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,f),this}update(e,t,o,...a){const u=Ul(e,this._firestore);let f;return f="string"==typeof(t=(0,ue.m9)(t))||t instanceof Ja?cg(this._dataReader,"Transaction.update",u._key,t,o,a):Ch(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=Ul(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ul(e,this._firestore),o=new Ll(this._firestore);return super.get(e).then(a=>new nl(this._firestore,o,t._key,a._document,new Id(!1,!1),t.converter))}}function Zm(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Eg(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if(!function Rd(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){rs=Et.SDK_VERSION,(0,Et._registerComponent)(new fe.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),f=new Xo(new Yn(t.getProvider("auth-internal")),new xi(t.getProvider("app-check-internal")),function(S,$){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Me(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(S.options.projectId,$)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,Et.registerVersion)(er,"3.12.2",r),(0,Et.registerVersion)(er,"3.12.2","esm2017")}();class Du{constructor(e){this._delegate=e}static fromBase64String(e){return Cg(),new Du(Xa.fromBase64String(e))}static fromUint8Array(e){return Eg(),new Du(Xa.fromUint8Array(e))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return Eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ym(r){return function Fv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Nv{enableIndexedDbPersistence(e,t){return function ng(r,e){mv(r=sr(r,Xo));const t=ks(r);if(t._uninitializedComponentsProvider)throw new Me(q.FAILED_PRECONDITION,"SDK cache is already specified.");Cs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new uu;return Lm(t,a,new Bp(a,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function bh(r){mv(r=sr(r,Xo));const e=ks(r);if(e._uninitializedComponentsProvider)throw new Me(q.FAILED_PRECONDITION,"SDK cache is already specified.");Cs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new uu;return Lm(e,o,new tv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Bm(r){if(r._initialized&&!r._terminated)throw new Me(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new tt;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(t=(0,Oe.Z)(function*(o){if(!$o.D())return Promise.resolve();const a=o+"main";yield $o.delete(a)}),function(o){return t.apply(this,arguments)})(nh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Jp(r,e,t,o={}){var a;const u=(r=sr(r,pu))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==f&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),o.mockUserToken){let S,$;if("string"==typeof o.mockUserToken)S=o.mockUserToken,$=wo.MOCK_USER;else{S=(0,ue.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const ne=o.mockUserToken.sub||o.mockUserToken.user_id;if(!ne)throw new Me(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");$=new wo(ne)}r._authCredentials=new Ln(new nn(S,$))}}(this._delegate,e,t,o)}enableNetwork(){return function yh(r){return function Yp(r){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!0),function(o){const a=z(o);return a.vu.delete(0),sh(a)}(t)}))}(ks(r=sr(r,Xo)))}(this._delegate)}disableNetwork(){return function hv(r){return function qb(r){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!1),(o=(0,Oe.Z)(function*(a){const u=z(a);u.vu.add(0),yield ah(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(ks(r=sr(r,Xo)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,vd("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uv(r){return function(e){const t=new tt;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function q_(r,e){return Mm.apply(this,arguments)}(yield sv(e),t)})),t.promise}(ks(r=sr(r,Xo)))}(this._delegate)}onSnapshotsInSync(e){return function T0(r,e){return function Nm(r,e){const t=new Rm(e);return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return o=yield hu(r),a=t,z(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return o=yield hu(r),a=t,void z(o).ku.delete(a);var o,a}))}}(ks(r=sr(r,Xo)),tg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iu(this,eg(this._delegate,e))}catch(t){throw ya(t,"collection()","Firestore.collection()")}}doc(e){try{return new ec(this,gu(this._delegate,e))}catch(t){throw ya(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wa(this,function av(r,e){if(r=sr(r,pu),Pl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ks(r,null,(t=e,new ra(Fi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ya(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kv(r,e,t){r=sr(r,Xo);const o=Object.assign(Object.assign({},vy),t);return function(a){if(a.maxAttempts<1)throw new Me(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,f){const S=new tt;return a.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const $=yield function vh(r){return _h(r).then(e=>e.datastore)}(a);new Yb(a.asyncQueue,$,f,u,S).run()})),S.promise}(ks(r),a=>e(new by(r,a)),o)}(this._delegate,t=>e(new Lv(this,t)))}batch(){return ks(this._delegate),new Bv(new wg(this._delegate,e=>Bl(this._delegate,e)))}loadBundle(e){return function wh(r,e){const t=ks(r=sr(r,Xo)),o=new Qb;return function Qa(r,e,t,o){const a=function(u,f){let S;return S="string"==typeof u?Jg().encode(u):u,$=function($,ne){if($ instanceof Uint8Array)return nv($,void 0);if($ instanceof ArrayBuffer)return nv(new Uint8Array($),void 0);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new iv($,f);var $}(t,oh(e));r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function w0(r,e,t){const o=z(r);var a;(a=(0,Oe.Z)(function*(u,f,S){try{const $=yield f.getMetadata();if(yield function(tn,_n){const Fn=z(tn),Xn=Wo(_n.createTime);return Fn.persistence.runTransaction("hasNewerBundle","readonly",si=>Fn.qs.getBundleMetadata(si,_n.id)).then(si=>!!si&&si.createTime.compareTo(Xn)>=0)}(u.localStore,$))return yield f.close(),S._completeWith({taskState:"Success",documentsLoaded:(tn=$).totalDocuments,bytesLoaded:tn.totalBytes,totalDocuments:tn.totalDocuments,totalBytes:tn.totalBytes}),Promise.resolve(new Set);S._updateProgress($_($));const ne=new z_($,u.localStore,f.serializer);let Ie=yield f.bc();for(;Ie;){const tn=yield ne.zu(Ie);tn&&S._updateProgress(tn),Ie=yield f.bc()}const lt=yield ne.complete();return yield Jc(u,lt.Ju,void 0),yield function(tn,_n){const Fn=z(tn);return Fn.persistence.runTransaction("Save bundle","readwrite",Xn=>Fn.qs.saveBundleMetadata(Xn,_n))}(u.localStore,$),S._completeWith(lt.progress),Promise.resolve(lt.Hu)}catch($){return Cs("SyncEngine",`Loading bundle failed with ${$}`),S._failWith($),Promise.resolve(new Set)}var tn}),function(u,f,S){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield sv(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xb(r,e){return function qp(r,e){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(t,o){const a=z(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield Wp(r),e)}))}(ks(r=sr(r,Xo)),e).then(t=>t?new Ks(r,null,t.query):null)}(this._delegate,e).then(t=>t?new wa(this,t):null)}}class qm extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(new Xa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ec.forKey(t,this.firestore,null)}}class Lv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}get(e){const t=Md(e);return this._delegate.get(t).then(o=>new Oh(this._firestore,new nl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=Md(e);return o?(Zm("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Md(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}}class Bv{constructor(e){this._delegate=e}set(e,t,o){const a=Md(e);return o?(Zm("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Md(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Td{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Eu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rh(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Td.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new Td(e,new qm(e),t),a.set(t,u)),u}}Td.INSTANCES=new WeakMap;class ec{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ec(t,new Ko(t._delegate,o,new E(e)))}static forKey(e,t,o){return new ec(t,new Ko(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Iu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iu(this.firestore,eg(this._delegate,e))}catch(t){throw ya(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ue.m9)(e))instanceof Ko&&cv(this._delegate,e)}set(e,t){t=Zm("DocumentReference.set",t);try{return t?Tv(this._delegate,e,t):Tv(this._delegate,e)}catch(o){throw ya(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Mv(this._delegate,e):Mv(this._delegate,e,t,...o)}catch(a){throw ya(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Sv(r){return Bl(sr(r.firestore,Xo),[new wl(r._key,Qo.none())])}(this._delegate)}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Oh(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return bg(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Cv(r){r=sr(r,Ko);const e=sr(r.firestore,Xo),t=ks(e),o=new Ll(e);return function Oc(r,e){const t=new tt;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(o=(0,Oe.Z)(function*(a,u,f){try{const S=yield function($,ne){const Ie=z($);return Ie.persistence.runTransaction("read document","readonly",lt=>Ie.localDocuments.getDocument(lt,ne))}(a,u);S.isFoundDocument()?f.resolve(S):S.isNoDocument()?f.resolve(null):f.reject(new Me(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const $=ru(S,`Failed to get document '${u} from cache`);f.reject($)}}),function(a,u,f){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new nl(e,o,r._key,a,new Id(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function dy(r){r=sr(r,Ko);const e=sr(r.firestore,Xo);return mu(ks(e),r._key,{source:"server"}).then(t=>Ah(e,r,t))}(this._delegate):function ly(r){r=sr(r,Ko);const e=sr(r.firestore,Xo);return mu(ks(e),r._key).then(t=>Ah(e,r,t))}(this._delegate),t.then(o=>new Oh(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ec(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function ya(r,e,t){return r.message=r.message.replace(e,t),r}function Uv(r){for(const e of r)if("object"==typeof e&&!Ym(e))return e;return{}}function Vv(r,e){var t,o;let a;return a=Ym(r[0])?r[0]:Ym(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Oh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ec(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vg(this._delegate,e._delegate)}}class Rh extends Oh{data(e){const t=this._delegate.data(e);return function R(r,e){r||y()}(void 0!==t),t}}class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}where(e,t,o){try{return new wa(this.firestore,Pc(this._delegate,function oy(r,e,t){const o=e,a=zm("where",r);return Ed._create(a,o,t)}(e,t,o)))}catch(a){throw ya(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wa(this.firestore,Pc(this._delegate,function cy(r,e="asc"){const t=e,o=zm("orderBy",r);return $m._create(o,t)}(e,t)))}catch(o){throw ya(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wa(this.firestore,Pc(this._delegate,function _v(r){return Qp("limit",r),Mh._create("limit",r,"F")}(e)))}catch(t){throw ya(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wa(this.firestore,Pc(this._delegate,function hg(r){return Qp("limitToLast",r),Mh._create("limitToLast",r,"L")}(e)))}catch(t){throw ya(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wa(this.firestore,Pc(this._delegate,function vv(...r){return wu._create("startAt",r,!0)}(...e)))}catch(t){throw ya(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wa(this.firestore,Pc(this._delegate,function bv(...r){return wu._create("startAfter",r,!1)}(...e)))}catch(t){throw ya(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wa(this.firestore,Pc(this._delegate,function yv(...r){return Sh._create("endBefore",r,!1)}(...e)))}catch(t){throw ya(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wa(this.firestore,Pc(this._delegate,function wv(...r){return Sh._create("endAt",r,!0)}(...e)))}catch(t){throw ya(t,"endAt()","Query.endAt()")}}isEqual(e){return lv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Iv(r){r=sr(r,Ks);const e=sr(r.firestore,Xo),t=ks(e),o=new Ll(e);return function ua(r,e){const t=new tt;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(o=(0,Oe.Z)(function*(a,u,f){try{const S=yield cd(a,u,!0),$=new bp(u,S.ir),ne=$.sc(S.documents),Ie=$.applyChanges(ne,!1);f.resolve(Ie.snapshot)}catch(S){const $=ru(S,`Failed to execute query '${u} against cache`);f.reject($)}}),function(a,u,f){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Nl(e,o,r,a))}(this._delegate):"server"===e?.source?function Cu(r){r=sr(r,Ks);const e=sr(r.firestore,Xo),t=ks(e),o=new Ll(e);return Rl(t,r._query,{source:"server"}).then(a=>new Nl(e,o,r,a))}(this._delegate):function Dv(r){r=sr(r,Ks);const e=sr(r.firestore,Xo),t=ks(e),o=new Ll(e);return ug(r._query),Rl(t,r._query).then(a=>new Nl(e,o,r,a))}(this._delegate),t.then(o=>new Ig(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Ig(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return bg(this._delegate,t,o)}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}class Ey{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ig{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ey(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Rh(this._firestore,o))})}isEqual(e){return vg(this._delegate,e._delegate)}}class Iu extends wa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ec(this.firestore,e):null}doc(e){try{return new ec(this.firestore,void 0===e?gu(this._delegate):gu(this._delegate,e))}catch(t){throw ya(t,"doc()","CollectionReference.doc()")}}add(e){return function uy(r,e){const t=sr(r.firestore,Xo),o=gu(r),a=xu(r.converter,e);return Bl(t,[Eh(Fl(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,Qo.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ec(this.firestore,t))}isEqual(e){return cv(this._delegate,e._delegate)}withConverter(e){return new Iu(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Md(r){return sr(r,Ko)}class Tg{constructor(...e){this._delegate=new Ja(...e)}static documentId(){return new Tg(Tr.keyField().canonicalString())}isEqual(e){return(e=(0,ue.m9)(e))instanceof Ja&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wm(){return new sg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sd(e)}static delete(){const e=function Av(){return new vu("deleteField")}();return e._methodName="FieldValue.delete",new Sd(e)}static arrayUnion(...e){const t=function yy(...r){return new ny("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Sd(t)}static arrayRemove(...e){const t=function Ov(...r){return new gv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Sd(t)}static increment(e){const t=function Rv(r){return new ag("increment",r)}(e);return t._methodName="FieldValue.increment",new Sd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jv={Firestore:Dg,GeoPoint:Um,Timestamp:dr,Blob:Du,Transaction:Lv,WriteBatch:Bv,DocumentReference:ec,DocumentSnapshot:Oh,Query:wa,QueryDocumentSnapshot:Rh,QuerySnapshot:Ig,CollectionReference:Iu,FieldPath:Tg,FieldValue:Sd,setLogLevel:function xy(r){!function ic(r){jr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function zv(r){(function Hv(r,e){r.INTERNAL.registerComponent(new fe.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},jv)))})(r,(e,t)=>new Dg(e,t,new Nv)),r.registerVersion("@firebase/firestore-compat","0.3.11")}(Ve.Z);var rl=w(1205),$v=w(6217),Gv=w(9260);function Mg(r,e){return function Wv(r,e=p.z){return new g.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(r,e)}function Ph(r,e){return Mg(r,e).pipe((0,me.U)(t=>({payload:t,type:"query"})))}function Tu(r,e){return Ph(r,e).pipe((0,W.O)(void 0),oe(),(0,me.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,S)=>{const $=a.find(Ie=>Ie.doc.ref.isEqual(f.ref)),ne=t?.payload.docs.find(Ie=>Ie.ref.isEqual(f.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(f.metadata)||!$&&ne&&JSON.stringify(ne.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:f}})}),u}))}function Vl(r,e,t){return Tu(r,t).pipe((0,ve.R)((o,a)=>function Cy(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function Mu(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Sg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,ze.x)(),(0,me.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Sg(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function Dy(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Qm{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Tu(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,me.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,W.O)(void 0),oe(),(0,Fe.h)(([o,a])=>a.length>0||!o),(0,me.U)(([o,a])=>a),ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ve.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return Vl(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ae.iC)}get(e){return(0,te.D)(this.query.get(e)).pipe(ae.iC)}add(e){return this.ref.add(e)}doc(e){return new Iy(this.ref.doc(e),this.afs)}}class Iy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=Yv(o,t);return new Qm(a,u,this.afs)}snapshotChanges(){return function Kv(r,e){return Mg(r,e).pipe((0,W.O)(void 0),oe(),(0,me.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,me.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,te.D)(this.ref.get(e)).pipe(ae.iC)}}class Zv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tu(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Fe.h)(t=>t.length>0),ae.iC):Tu(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ve.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return Vl(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ae.iC)}get(e){return(0,te.D)(this.query.get(e)).pipe(ae.iC)}}const kg=new l.OlP("angularfire2.enableFirestorePersistence"),Ty=new l.OlP("angularfire2.firestore.persistenceSettings"),Si=new l.OlP("angularfire2.firestore.settings"),My=new l.OlP("angularfire2.firestore.use-emulator");function Yv(r,e=(t=>t)){return{query:e(r),ref:r}}let qv=(()=>{class r{constructor(t,o,a,u,f,S,$,ne,Ie,lt,tn,_n,Fn,Xn,si,qi,Rr){this.schedulers=$;const ji=(0,at.on)(t,S,o),as=Ie;lt&&(0,rl.nw)(ji,S,tn,Fn,Xn,si,_n,qi),[this.firestore,this.persistenceEnabled$]=(0,at.cc)(`${ji.name}.firestore`,"AngularFirestore",ji.name,()=>{const Uo=S.runOutsideAngular(()=>ji.firestore());if(u&&Uo.settings(u),as&&Uo.useEmulator(...as),a&&!(0,Ge.PM)(f)){const Oo=()=>{try{return(0,te.D)(Uo.enablePersistence(ne||void 0).then(()=>!0,()=>!1))}catch(ha){return typeof console<"u"&&console.warn(ha),(0,xe.of)(!1)}};return[Uo,S.runOutsideAngular(Oo)]}return[Uo,(0,xe.of)(!1)]},[u,as,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:f}=Yv(a,o),S=this.schedulers.ngZone.run(()=>u);return new Qm(S,f,this)}collectionGroup(t,o){const a=o||(f=>f),u=this.firestore.collectionGroup(t);return new Zv(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new Iy(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(l.LFG(at.Dh),l.LFG(at.xv,8),l.LFG(kg,8),l.LFG(Si,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ae.HU),l.LFG(Ty,8),l.LFG(My,8),l.LFG(rl.zQ,8),l.LFG(rl.Qv,8),l.LFG(rl.L6,8),l.LFG(rl._Q,8),l.LFG(rl.rT,8),l.LFG(rl.lh,8),l.LFG(rl.f7,8),l.LFG($v.nm,8))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Su=(()=>{class r{constructor(){Gv.Z.registerVersion("angularfire",ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:kg,useValue:!0},{provide:Ty,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[qv]}),r})()},8445:(pn,rt,w)=>{w.d(rt,{Q1:()=>ho,TE:()=>V});var l=w(9751),p=w(9646),g=w(8996),te=w(8372),xe=w(4004),ae=w(3900),W=w(4976),_e=w(2223),Ce=w(2011),oe=w(3942),me=w(5861),ve=w(6881),ze=w(2090),Fe=w(4859);const at="firebasestorage.googleapis.com",Ge="storageBucket";class Et extends ze.ZR{constructor(D,ie,ke=0){super(Ee(D),`Firebase Storage: ${ie} (${Ee(D)})`),this.status_=ke,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(D){this.status_=D}_codeEquals(D){return Ee(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var fe=(()=>((fe=fe||{}).UNKNOWN="unknown",fe.OBJECT_NOT_FOUND="object-not-found",fe.BUCKET_NOT_FOUND="bucket-not-found",fe.PROJECT_NOT_FOUND="project-not-found",fe.QUOTA_EXCEEDED="quota-exceeded",fe.UNAUTHENTICATED="unauthenticated",fe.UNAUTHORIZED="unauthorized",fe.UNAUTHORIZED_APP="unauthorized-app",fe.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",fe.INVALID_CHECKSUM="invalid-checksum",fe.CANCELED="canceled",fe.INVALID_EVENT_NAME="invalid-event-name",fe.INVALID_URL="invalid-url",fe.INVALID_DEFAULT_BUCKET="invalid-default-bucket",fe.NO_DEFAULT_BUCKET="no-default-bucket",fe.CANNOT_SLICE_BLOB="cannot-slice-blob",fe.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",fe.NO_DOWNLOAD_URL="no-download-url",fe.INVALID_ARGUMENT="invalid-argument",fe.INVALID_ARGUMENT_COUNT="invalid-argument-count",fe.APP_DELETED="app-deleted",fe.INVALID_ROOT_OPERATION="invalid-root-operation",fe.INVALID_FORMAT="invalid-format",fe.INTERNAL_ERROR="internal-error",fe.UNSUPPORTED_ENVIRONMENT="unsupported-environment",fe))();function Ee(v){return"storage/"+v}function ue(){return new Et(fe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Qe(){return new Et(fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tt(){return new Et(fe.CANCELED,"User canceled the upload/download.")}function bt(){return new Et(fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Be(v){return new Et(fe.INVALID_ARGUMENT,v)}function mt(){return new Et(fe.APP_DELETED,"The Firebase app was deleted.")}function Rt(v){return new Et(fe.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qt(v,D){return new Et(fe.INVALID_FORMAT,"String does not match format '"+v+"': "+D)}function Mt(v){throw new Et(fe.INTERNAL_ERROR,"Internal error: "+v)}class Xe{constructor(D,ie){this.bucket=D,this.path_=ie}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,ie){let ke;try{ke=Xe.makeFromUrl(D,ie)}catch{return new Xe(D,"")}if(""===ke.path)return ke;throw function kn(v){return new Et(fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(D)}static makeFromUrl(D,ie){let ke=null;const _t="([A-Za-z0-9.\\-_]+)",Gn=new RegExp("^gs://"+_t+"(/(.*))?$","i");function _i(Ir){Ir.path_=decodeURIComponent(Ir.path)}const mr=ie.replace(/[.]/g,"\\."),Er=[{regex:Gn,indices:{bucket:1,path:3},postModify:function Gt(Ir){"/"===Ir.path.charAt(Ir.path.length-1)&&(Ir.path_=Ir.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${mr}/v[A-Za-z0-9_]+/b/${_t}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_i},{regex:new RegExp(`^https?://${ie===at?"(?:storage.googleapis.com|storage.cloud.google.com)":ie}/${_t}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_i}];for(let Ir=0;Ir<Er.length;Ir++){const So=Er[Ir],zo=So.regex.exec(D);if(zo){let ws=zo[So.indices.path];ws||(ws=""),ke=new Xe(zo[So.indices.bucket],ws),So.postModify(ke);break}}if(null==ke)throw function bn(v){return new Et(fe.INVALID_URL,"Invalid URL '"+v+"'.")}(D);return ke}}class ot{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function ft(v){return"string"==typeof v||v instanceof String}function qe(v){return Jt()&&v instanceof Blob}function Jt(){return typeof Blob<"u"&&!(0,ze.UG)()}function yn(v,D,ie,ke){if(ke<D)throw Be(`Invalid value for '${v}'. Expected ${D} or greater.`);if(ke>ie)throw Be(`Invalid value for '${v}'. Expected ${ie} or less.`)}function mn(v,D,ie){let ke=D;return null==ie&&(ke=`https://${D}`),`${ie}://${ke}/v0${v}`}function yt(v){const D=encodeURIComponent;let ie="?";for(const ke in v)v.hasOwnProperty(ke)&&(ie=ie+(D(ke)+"=")+D(v[ke])+"&");return ie=ie.slice(0,-1),ie}var he=(()=>((he=he||{})[he.NO_ERROR=0]="NO_ERROR",he[he.NETWORK_ERROR=1]="NETWORK_ERROR",he[he.ABORT=2]="ABORT",he))();function He(v,D){const ie=v>=500&&v<600,_t=-1!==[408,429].indexOf(v),Gt=-1!==D.indexOf(v);return ie||_t||Gt}class pt{constructor(D,ie,ke,_t,Gt,Dn,Gn,Vn,_i,Oi,mr,Dr=!0){this.url_=D,this.method_=ie,this.headers_=ke,this.body_=_t,this.successCodes_=Gt,this.additionalRetryCodes_=Dn,this.callback_=Gn,this.errorCallback_=Vn,this.timeout_=_i,this.progressCallback_=Oi,this.connectionFactory_=mr,this.retry=Dr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Pi,Ri)=>{this.resolve_=Pi,this.reject_=Ri,this.start_()})}start_(){const ie=(ke,_t)=>{const Gt=this.resolve_,Dn=this.reject_,Gn=_t.connection;if(_t.wasSuccessCode)try{const Vn=this.callback_(Gn,Gn.getResponse());!function Wt(v){return void 0!==v}(Vn)?Gt():Gt(Vn)}catch(Vn){Dn(Vn)}else if(null!==Gn){const Vn=ue();Vn.serverResponse=Gn.getErrorText(),Dn(this.errorCallback_?this.errorCallback_(Gn,Vn):Vn)}else Dn(_t.canceled?this.appDelete_?mt():Tt():Qe())};this.canceled_?ie(0,new ht(!1,null,!0)):this.backoffId_=function Nt(v,D,ie){let ke=1,_t=null,Gt=null,Dn=!1,Gn=0;function Vn(){return 2===Gn}let _i=!1;function Oi(...vi){_i||(_i=!0,D.apply(null,vi))}function mr(vi){_t=setTimeout(()=>{_t=null,v(Pi,Vn())},vi)}function Dr(){Gt&&clearTimeout(Gt)}function Pi(vi,...Fo){if(_i)return void Dr();if(vi)return Dr(),void Oi.call(null,vi,...Fo);if(Vn()||Dn)return Dr(),void Oi.call(null,vi,...Fo);let Er;ke<64&&(ke*=2),1===Gn?(Gn=2,Er=0):Er=1e3*(ke+Math.random()),mr(Er)}let Ri=!1;function Xi(vi){Ri||(Ri=!0,Dr(),!_i&&(null!==_t?(vi||(Gn=2),clearTimeout(_t),mr(0)):vi||(Gn=1)))}return mr(0),Gt=setTimeout(()=>{Dn=!0,Xi(!0)},ie),Xi}((ke,_t)=>{if(_t)return void ke(!1,new ht(!1,null,!0));const Gt=this.connectionFactory_();this.pendingConnection_=Gt;const Dn=Gn=>{null!==this.progressCallback_&&this.progressCallback_(Gn.loaded,Gn.lengthComputable?Gn.total:-1)};null!==this.progressCallback_&&Gt.addUploadProgressListener(Dn),Gt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Gt.removeUploadProgressListener(Dn),this.pendingConnection_=null;const Gn=Gt.getErrorCode()===he.NO_ERROR,Vn=Gt.getStatus();if(!Gn||He(Vn,this.additionalRetryCodes_)&&this.retry){const Oi=Gt.getErrorCode()===he.ABORT;return void ke(!1,new ht(!1,null,Oi))}const _i=-1!==this.successCodes_.indexOf(Vn);ke(!0,new ht(_i,Gt))})},ie,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function It(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ht{constructor(D,ie,ke){this.wasSuccessCode=D,this.connection=ie,this.canceled=!!ke}}function ln(...v){const D=function xn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==D){const ie=new D;for(let ke=0;ke<v.length;ke++)ie.append(v[ke]);return ie.getBlob()}if(Jt())return new Blob(v);throw new Et(fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ot={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zt{constructor(D,ie){this.data=D,this.contentType=ie||null}}function Tn(v,D){switch(v){case Ot.RAW:return new Zt(li(D));case Ot.BASE64:case Ot.BASE64URL:return new Zt(hi(v,D));case Ot.DATA_URL:return new Zt(function ct(v){const D=new en(v);return D.base64?hi(Ot.BASE64,D.rest):function yi(v){let D;try{D=decodeURIComponent(v)}catch{throw qt(Ot.DATA_URL,"Malformed data URL.")}return li(D)}(D.rest)}(D),function ut(v){return new en(v).contentType}(D))}throw ue()}function li(v){const D=[];for(let ie=0;ie<v.length;ie++){let ke=v.charCodeAt(ie);ke<=127?D.push(ke):ke<=2047?D.push(192|ke>>6,128|63&ke):55296==(64512&ke)?ie<v.length-1&&56320==(64512&v.charCodeAt(ie+1))?(ke=65536|(1023&ke)<<10|1023&v.charCodeAt(++ie),D.push(240|ke>>18,128|ke>>12&63,128|ke>>6&63,128|63&ke)):D.push(239,191,189):56320==(64512&ke)?D.push(239,191,189):D.push(224|ke>>12,128|ke>>6&63,128|63&ke)}return new Uint8Array(D)}function hi(v,D){switch(v){case Ot.BASE64:{const _t=-1!==D.indexOf("-"),Gt=-1!==D.indexOf("_");if(_t||Gt)throw qt(v,"Invalid character '"+(_t?"-":"_")+"' found: is it base64url encoded?");break}case Ot.BASE64URL:{const _t=-1!==D.indexOf("+"),Gt=-1!==D.indexOf("/");if(_t||Gt)throw qt(v,"Invalid character '"+(_t?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let ie;try{ie=function Ke(v){if(typeof atob>"u")throw function Ht(v){return new Et(fe.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(D)}catch(_t){throw _t.message.includes("polyfill")?_t:qt(v,"Invalid character found")}const ke=new Uint8Array(ie.length);for(let _t=0;_t<ie.length;_t++)ke[_t]=ie.charCodeAt(_t);return ke}class en{constructor(D){this.base64=!1,this.contentType=null;const ie=D.match(/^data:([^,]+)?,/);if(null===ie)throw qt(Ot.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ke=ie[1]||null;null!=ke&&(this.base64=function We(v,D){return v.length>=D.length&&v.substring(v.length-D.length)===D}(ke,";base64"),this.contentType=this.base64?ke.substring(0,ke.length-7):ke),this.rest=D.substring(D.indexOf(",")+1)}}class je{constructor(D,ie){let ke=0,_t="";qe(D)?(this.data_=D,ke=D.size,_t=D.type):D instanceof ArrayBuffer?(ie?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),ke=this.data_.length):D instanceof Uint8Array&&(ie?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),ke=D.length),this.size_=ke,this.type_=_t}size(){return this.size_}type(){return this.type_}slice(D,ie){if(qe(this.data_)){const _t=function Un(v,D,ie){return v.webkitSlice?v.webkitSlice(D,ie):v.mozSlice?v.mozSlice(D,ie):v.slice?v.slice(D,ie):null}(this.data_,D,ie);return null===_t?null:new je(_t)}{const ke=new Uint8Array(this.data_.buffer,D,ie-D);return new je(ke,!0)}}static getBlob(...D){if(Jt()){const ie=D.map(ke=>ke instanceof je?ke.data_:ke);return new je(ln.apply(null,ie))}{const ie=D.map(Dn=>ft(Dn)?Tn(Ot.RAW,Dn).data:Dn.data_);let ke=0;ie.forEach(Dn=>{ke+=Dn.byteLength});const _t=new Uint8Array(ke);let Gt=0;return ie.forEach(Dn=>{for(let Gn=0;Gn<Dn.length;Gn++)_t[Gt++]=Dn[Gn]}),new je(_t,!0)}}uploadData(){return this.data_}}function Ae(v){let D;try{D=JSON.parse(v)}catch{return null}return function Bt(v){return"object"==typeof v&&!Array.isArray(v)}(D)?D:null}function Pe(v){const D=v.lastIndexOf("/",v.length-2);return-1===D?v:v.slice(D+1)}function le(v,D){return D}class j{constructor(D,ie,ke,_t){this.server=D,this.local=ie||D,this.writable=!!ke,this.xform=_t||le}}let U=null;function de(){if(U)return U;const v=[];v.push(new j("bucket")),v.push(new j("generation")),v.push(new j("metageneration")),v.push(new j("name","fullPath",!0));const ie=new j("name");ie.xform=function D(Gt,Dn){return function H(v){return!ft(v)||v.length<2?v:Pe(v)}(Dn)},v.push(ie);const _t=new j("size");return _t.xform=function ke(Gt,Dn){return void 0!==Dn?Number(Dn):Dn},v.push(_t),v.push(new j("timeCreated")),v.push(new j("updated")),v.push(new j("md5Hash",null,!0)),v.push(new j("cacheControl",null,!0)),v.push(new j("contentDisposition",null,!0)),v.push(new j("contentEncoding",null,!0)),v.push(new j("contentLanguage",null,!0)),v.push(new j("contentType",null,!0)),v.push(new j("metadata","customMetadata",!0)),U=v,U}function Re(v,D,ie){const ke=Ae(D);return null===ke?null:function Te(v,D,ie){const ke={type:"file"},_t=ie.length;for(let Gt=0;Gt<_t;Gt++){const Dn=ie[Gt];ke[Dn.local]=Dn.xform(ke,D[Dn.server])}return function ce(v,D){Object.defineProperty(v,"ref",{get:function ie(){const Gt=new Xe(v.bucket,v.fullPath);return D._makeStorageReference(Gt)}})}(ke,v),ke}(v,ke,ie)}function Q(v,D){const ie={},ke=D.length;for(let _t=0;_t<ke;_t++){const Gt=D[_t];Gt.writable&&(ie[Gt.server]=v[Gt.local])}return JSON.stringify(ie)}const De="prefixes",wt="items";class ei{constructor(D,ie,ke,_t){this.url=D,this.method=ie,this.handler=ke,this.timeout=_t,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kt(v){if(!v)throw ue()}function At(v,D){return function ie(ke,_t){const Gt=Re(v,_t,D);return kt(null!==Gt),Gt}}function An(v){return function D(ie,ke){let _t;return _t=401===ie.getStatus()?ie.getErrorText().includes("Firebase App Check token is invalid")?function Ze(){return new Et(fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Y(){return new Et(fe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ie.getStatus()?function Le(v){return new Et(fe.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===ie.getStatus()?function Ue(v){return new Et(fe.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):ke,_t.status=ie.getStatus(),_t.serverResponse=ke.serverResponse,_t}}function Nn(v){const D=An(v);return function ie(ke,_t){let Gt=D(ke,_t);return 404===ke.getStatus()&&(Gt=function pe(v){return new Et(fe.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),Gt.serverResponse=_t.serverResponse,Gt}}function ci(v,D,ie){const _t=mn(D.fullServerUrl(),v.host,v._protocol),Dn=v.maxOperationRetryTime,Gn=new ei(_t,"GET",At(v,ie),Dn);return Gn.errorHandler=Nn(D),Gn}function Qi(v,D,ie,ke,_t){const Gt={};Gt.prefix=D.isRoot?"":D.path+"/",ie&&ie.length>0&&(Gt.delimiter=ie),ke&&(Gt.pageToken=ke),_t&&(Gt.maxResults=_t);const Gn=mn(D.bucketOnlyServerUrl(),v.host,v._protocol),_i=v.maxOperationRetryTime,Oi=new ei(Gn,"GET",function wn(v,D){return function ie(ke,_t){const Gt=function zn(v,D,ie){const ke=Ae(ie);return null===ke?null:function jt(v,D,ie){const ke={prefixes:[],items:[],nextPageToken:ie.nextPageToken};if(ie[De])for(const _t of ie[De]){const Gt=_t.replace(/\/$/,""),Dn=v._makeStorageReference(new Xe(D,Gt));ke.prefixes.push(Dn)}if(ie[wt])for(const _t of ie[wt]){const Gt=v._makeStorageReference(new Xe(D,_t.name));ke.items.push(Gt)}return ke}(v,D,ke)}(v,D,_t);return kt(null!==Gt),Gt}}(v,D.bucket),_i);return Oi.urlParams=Gt,Oi.errorHandler=An(D),Oi}function pr(v,D,ie){const ke=Object.assign({},ie);return ke.fullPath=v.path,ke.size=D.size(),ke.contentType||(ke.contentType=function _s(v,D){return v&&v.contentType||D&&D.type()||"application/octet-stream"}(null,D)),ke}class Pr{constructor(D,ie,ke,_t){this.current=D,this.total=ie,this.finalized=!!ke,this.metadata=_t||null}}function Kr(v,D){let ie=null;try{ie=v.getResponseHeader("X-Goog-Upload-Status")}catch{kt(!1)}return kt(!!ie&&-1!==(D||["active"]).indexOf(ie)),ie}const Ur={STATE_CHANGED:"state_changed"},or={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function go(v){switch(v){case"running":case"pausing":case"canceling":return or.RUNNING;case"paused":return or.PAUSED;case"success":return or.SUCCESS;case"canceled":return or.CANCELED;default:return or.ERROR}}class hr{constructor(D,ie,ke){if(function Lt(v){return"function"==typeof v}(D)||null!=ie||null!=ke)this.next=D,this.error=ie??void 0,this.complete=ke??void 0;else{const Gt=D;this.next=Gt.next,this.error=Gt.error,this.complete=Gt.complete}}}function _o(v){return(...D)=>{Promise.resolve().then(()=>v(...D))}}let cs=null;class ls{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=he.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=he.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=he.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,ie,ke,_t){if(this.sent_)throw Mt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ie,D,!0),void 0!==_t)for(const Gt in _t)_t.hasOwnProperty(Gt)&&this.xhr_.setRequestHeader(Gt,_t[Gt].toString());return void 0!==ke?this.xhr_.send(ke):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}class Eo extends ls{initXhr(){this.xhr_.responseType="text"}}function Yr(){return cs?cs():new Eo}class tr{constructor(D,ie,ke=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=ie,this._metadata=ke,this._mappings=de(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=_t=>{if(this._request=void 0,this._chunkMultiplier=1,_t._codeEquals(fe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Gt=this.isExponentialBackoffExpired();if(He(_t.status,[])){if(!Gt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();_t=Qe()}this._error=_t,this._transition("error")}},this._metadataErrorHandler=_t=>{this._request=void 0,_t._codeEquals(fe.CANCELED)?this.completeTransitions_():(this._error=_t,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((_t,Gt)=>{this._resolve=_t,this._reject=Gt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const D=this._transferred;return ie=>this._updateProgress(D+ie)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ie,ke])=>{switch(this._state){case"running":D(ie,ke);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,ie)=>{const ke=function po(v,D,ie,ke,_t){const Gt=D.bucketOnlyServerUrl(),Dn=pr(D,ke,_t),Gn={name:Dn.fullPath},Vn=mn(Gt,v.host,v._protocol),Oi={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ke.size()}`,"X-Goog-Upload-Header-Content-Type":Dn.contentType,"Content-Type":"application/json; charset=utf-8"},mr=Q(Dn,ie),Ri=new ei(Vn,"POST",function Pi(Xi){let vi;Kr(Xi);try{vi=Xi.getResponseHeader("X-Goog-Upload-URL")}catch{kt(!1)}return kt(ft(vi)),vi},v.maxUploadRetryTime);return Ri.urlParams=Gn,Ri.headers=Oi,Ri.body=mr,Ri.errorHandler=An(D),Ri}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_t=this._ref.storage._makeRequest(ke,Yr,D,ie);this._request=_t,_t.getPromise().then(Gt=>{this._request=void 0,this._uploadUrl=Gt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((ie,ke)=>{const _t=function Ii(v,D,ie,ke){const Vn=new ei(ie,"POST",function Gt(_i){const Oi=Kr(_i,["active","final"]);let mr=null;try{mr=_i.getResponseHeader("X-Goog-Upload-Size-Received")}catch{kt(!1)}mr||kt(!1);const Dr=Number(mr);return kt(!isNaN(Dr)),new Pr(Dr,ke.size(),"final"===Oi)},v.maxUploadRetryTime);return Vn.headers={"X-Goog-Upload-Command":"query"},Vn.errorHandler=An(D),Vn}(this._ref.storage,this._ref._location,D,this._blob),Gt=this._ref.storage._makeRequest(_t,Yr,ie,ke);this._request=Gt,Gt.getPromise().then(Dn=>{this._request=void 0,this._updateProgress(Dn.current),this._needToFetchStatus=!1,Dn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,ie=new Pr(this._transferred,this._blob.size()),ke=this._uploadUrl;this._resolveToken((_t,Gt)=>{let Dn;try{Dn=function Zr(v,D,ie,ke,_t,Gt,Dn,Gn){const Vn=new Pr(0,0);if(Dn?(Vn.current=Dn.current,Vn.total=Dn.total):(Vn.current=0,Vn.total=ke.size()),ke.size()!==Vn.total)throw function Vt(){return new Et(fe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _i=Vn.total-Vn.current;let Oi=_i;_t>0&&(Oi=Math.min(Oi,_t));const mr=Vn.current;let Pi="";Pi=0===Oi?"finalize":_i===Oi?"upload, finalize":"upload";const Ri={"X-Goog-Upload-Command":Pi,"X-Goog-Upload-Offset":`${Vn.current}`},Xi=ke.slice(mr,mr+Oi);if(null===Xi)throw bt();const Er=new ei(ie,"POST",function vi(Ir,So){const zo=Kr(Ir,["active","final"]),ys=Vn.current+Oi,ws=ke.size();let Ms;return Ms="final"===zo?At(D,Gt)(Ir,So):null,new Pr(ys,ws,"final"===zo,Ms)},D.maxUploadRetryTime);return Er.headers=Ri,Er.body=Xi.uploadData(),Er.progressCallback=Gn||null,Er.errorHandler=An(v),Er}(this._ref._location,this._ref.storage,ke,this._blob,D,this._mappings,ie,this._makeProgressCallback())}catch(Vn){return this._error=Vn,void this._transition("error")}const Gn=this._ref.storage._makeRequest(Dn,Yr,_t,Gt,!1);this._request=Gn,Gn.getPromise().then(Vn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Vn.current),Vn.finalized?(this._metadata=Vn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,ie)=>{const ke=ci(this._ref.storage,this._ref._location,this._mappings),_t=this._ref.storage._makeRequest(ke,Yr,D,ie);this._request=_t,_t.getPromise().then(Gt=>{this._request=void 0,this._metadata=Gt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,ie)=>{const ke=function Br(v,D,ie,ke,_t){const Gt=D.bucketOnlyServerUrl(),Dn={"X-Goog-Upload-Protocol":"multipart"},Vn=function Gn(){let Er="";for(let Ir=0;Ir<2;Ir++)Er+=Math.random().toString().slice(2);return Er}();Dn["Content-Type"]="multipart/related; boundary="+Vn;const _i=pr(D,ke,_t),Oi=Q(_i,ie),Pi=je.getBlob("--"+Vn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Oi+"\r\n--"+Vn+"\r\nContent-Type: "+_i.contentType+"\r\n\r\n",ke,"\r\n--"+Vn+"--");if(null===Pi)throw bt();const Ri={name:_i.fullPath},Xi=mn(Gt,v.host,v._protocol),Fo=v.maxUploadRetryTime,eo=new ei(Xi,"POST",At(v,ie),Fo);return eo.urlParams=Ri,eo.headers=Dn,eo.body=Pi.uploadData(),eo.errorHandler=An(D),eo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_t=this._ref.storage._makeRequest(ke,Yr,D,ie);this._request=_t,_t.getPromise().then(Gt=>{this._request=void 0,this._metadata=Gt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const ie=this._transferred;this._transferred=D,this._transferred!==ie&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ie="paused"===this._state;this._state=D,ie&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=Tt(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=go(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,ie,ke,_t){const Gt=new hr(ie||void 0,ke||void 0,_t||void 0);return this._addObserver(Gt),()=>{this._removeObserver(Gt)}}then(D,ie){return this._promise.then(D,ie)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const ie=this._observers.indexOf(D);-1!==ie&&this._observers.splice(ie,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ie=>{this._notifyObserver(ie)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(go(this._state)){case or.SUCCESS:_o(this._resolve.bind(null,this.snapshot))();break;case or.CANCELED:case or.ERROR:_o(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(go(this._state)){case or.RUNNING:case or.PAUSED:D.next&&_o(D.next.bind(D,this.snapshot))();break;case or.SUCCESS:D.complete&&_o(D.complete.bind(D))();break;default:D.error&&_o(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class gi{constructor(D,ie){this._service=D,this._location=ie instanceof Xe?ie:Xe.makeFromUrl(ie,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,ie){return new gi(D,ie)}get root(){const D=new Xe(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pe(this._location.path)}get storage(){return this._service}get parent(){const D=function St(v){if(0===v.length)return null;const D=v.lastIndexOf("/");return-1===D?"":v.slice(0,D)}(this._location.path);if(null===D)return null;const ie=new Xe(this._location.bucket,D);return new gi(this._service,ie)}_throwIfRoot(D){if(""===this._location.path)throw Rt(D)}}function un(v,D,ie){return vn.apply(this,arguments)}function vn(){return(vn=(0,me.Z)(function*(v,D,ie){const _t=yield hn(v,{pageToken:ie});D.prefixes.push(..._t.prefixes),D.items.push(..._t.items),null!=_t.nextPageToken&&(yield un(v,D,_t.nextPageToken))})).apply(this,arguments)}function hn(v,D){null!=D&&"number"==typeof D.maxResults&&yn("options.maxResults",1,1e3,D.maxResults);const ie=D||{},ke=Qi(v.storage,v._location,"/",ie.pageToken,ie.maxResults);return v.storage.makeRequestWithTokens(ke,Yr)}function fi(v){v._throwIfRoot("getDownloadURL");const D=function br(v,D,ie){const _t=mn(D.fullServerUrl(),v.host,v._protocol),Dn=v.maxOperationRetryTime,Gn=new ei(_t,"GET",function Kn(v,D){return function ie(ke,_t){const Gt=Re(v,_t,D);return kt(null!==Gt),function Ne(v,D,ie,ke){const _t=Ae(D);if(null===_t||!ft(_t.downloadTokens))return null;const Gt=_t.downloadTokens;if(0===Gt.length)return null;const Dn=encodeURIComponent;return Gt.split(",").map(_i=>{const mr=v.fullPath;return mn("/b/"+Dn(v.bucket)+"/o/"+Dn(mr),ie,ke)+yt({alt:"media",token:_i})})[0]}(Gt,_t,v.host,v._protocol)}}(v,ie),Dn);return Gn.errorHandler=Nn(D),Gn}(v.storage,v._location,de());return v.storage.makeRequestWithTokens(D,Yr).then(ie=>{if(null===ie)throw function dt(){return new Et(fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ie})}function wr(v,D){const ie=function Kt(v,D){const ie=D.split("/").filter(ke=>ke.length>0).join("/");return 0===v.length?ie:v+"/"+ie}(v._location.path,D),ke=new Xe(v._location.bucket,ie);return new gi(v.storage,ke)}function lo(v,D){if(v instanceof Do){const ie=v;if(null==ie._bucket)throw function vt(){return new Et(fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ge+"' property when initializing the app?")}();const ke=new gi(ie,ie._bucket);return null!=D?lo(ke,D):ke}return void 0!==D?wr(v,D):v}function Co(v,D){if(D&&function ar(v){return/^[A-Za-z]+:\/\//.test(v)}(D)){if(v instanceof Do)return function $i(v,D){return new gi(v,D)}(v,D);throw Be("To use ref(service, url), the first argument must be a Storage instance.")}return lo(v,D)}function oi(v,D){const ie=D?.[Ge];return null==ie?null:Xe.makeFromBucketSpec(ie,v)}class Do{constructor(D,ie,ke,_t,Gt){this.app=D,this._authProvider=ie,this._appCheckProvider=ke,this._url=_t,this._firebaseVersion=Gt,this._bucket=null,this._host=at,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=_t?Xe.makeFromBucketSpec(_t,this._host):oi(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?Xe.makeFromBucketSpec(this._url,D):oi(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){yn("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){yn("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,me.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const ie=D._authProvider.getImmediate({optional:!0});if(ie){const ke=yield ie.getToken();if(null!==ke)return ke.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,me.Z)(function*(){const ie=D._appCheckProvider.getImmediate({optional:!0});return ie?(yield ie.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new gi(this,D)}_makeRequest(D,ie,ke,_t,Gt=!0){if(this._deleted)return new ot(mt());{const Dn=function ni(v,D,ie,ke,_t,Gt,Dn=!0){const Gn=yt(v.urlParams),Vn=v.url+Gn,_i=Object.assign({},v.headers);return function cn(v,D){D&&(v["X-Firebase-GMPID"]=D)}(_i,D),function Pt(v,D){null!==D&&D.length>0&&(v.Authorization="Firebase "+D)}(_i,ie),function Xt(v,D){v["X-Firebase-Storage-Version"]="webjs/"+(D??"AppManager")}(_i,Gt),function $n(v,D){null!==D&&(v["X-Firebase-AppCheck"]=D)}(_i,ke),new pt(Vn,v.method,_i,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,_t,Dn)}(D,this._appId,ke,_t,ie,this._firebaseVersion,Gt);return this._requests.add(Dn),Dn.getPromise().then(()=>this._requests.delete(Dn),()=>this._requests.delete(Dn)),Dn}}makeRequestWithTokens(D,ie){var ke=this;return(0,me.Z)(function*(){const[_t,Gt]=yield Promise.all([ke._getAuthToken(),ke._getAppCheckToken()]);return ke._makeRequest(D,ie,_t,Gt).getPromise()})()}}const qr="@firebase/storage";function To(v,D){return Co(v=(0,ze.m9)(v),D)}function Sr(v,{instanceIdentifier:D}){const ie=v.getProvider("app").getImmediate(),ke=v.getProvider("auth-internal"),_t=v.getProvider("app-check-internal");return new Do(ie,ke,_t,D,ve.SDK_VERSION)}!function ts(){(0,ve._registerComponent)(new Fe.wA("storage",Sr,"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(qr,"0.11.2",""),(0,ve.registerVersion)(qr,"0.11.2","esm2017")}();class Ki{constructor(D,ie,ke){this._delegate=D,this.task=ie,this.ref=ke}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xr{constructor(D,ie){this._delegate=D,this._ref=ie,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ki(this._delegate.snapshot,this,this._ref)}then(D,ie){return this._delegate.then(ke=>{if(D)return D(new Ki(ke,this,this._ref))},ie)}on(D,ie,ke,_t){let Gt;return ie&&(Gt="function"==typeof ie?Dn=>ie(new Ki(Dn,this,this._ref)):{next:ie.next?Dn=>ie.next(new Ki(Dn,this,this._ref)):void 0,complete:ie.complete||void 0,error:ie.error||void 0}),this._delegate.on(D,Gt,ke||void 0,_t||void 0)}}class Jr{constructor(D,ie){this._delegate=D,this._service=ie}get prefixes(){return this._delegate.prefixes.map(D=>new kr(D,this._service))}get items(){return this._delegate.items.map(D=>new kr(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class kr{constructor(D,ie){this._delegate=D,this.storage=ie}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const ie=function Qr(v,D){return wr(v,D)}(this._delegate,D);return new kr(ie,this.storage)}get root(){return new kr(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new kr(D,this.storage)}put(D,ie){return this._throwIfRoot("put"),new xr(function vs(v,D,ie){return function Ct(v,D,ie){return v._throwIfRoot("uploadBytesResumable"),new tr(v,new je(D),ie)}(v=(0,ze.m9)(v),D,ie)}(this._delegate,D,ie),this)}putString(D,ie=Ot.RAW,ke){this._throwIfRoot("putString");const _t=Tn(ie,D),Gt=Object.assign({},ke);return null==Gt.contentType&&null!=_t.contentType&&(Gt.contentType=_t.contentType),new xr(new tr(this._delegate,new je(_t.data,!0),Gt),this)}listAll(){return function Io(v){return function zt(v){const D={prefixes:[],items:[]};return un(v,D).then(()=>D)}(v=(0,ze.m9)(v))}(this._delegate).then(D=>new Jr(D,this.storage))}list(D){return function us(v,D){return hn(v=(0,ze.m9)(v),D)}(this._delegate,D||void 0).then(ie=>new Jr(ie,this.storage))}getMetadata(){return function cr(v){return function Rn(v){v._throwIfRoot("getMetadata");const D=ci(v.storage,v._location,de());return v.storage.makeRequestWithTokens(D,Yr)}(v=(0,ze.m9)(v))}(this._delegate)}updateMetadata(D){return function nr(v,D){return function Zn(v,D){v._throwIfRoot("updateMetadata");const ie=function Wr(v,D,ie,ke){const Gt=mn(D.fullServerUrl(),v.host,v._protocol),Gn=Q(ie,ke),_i=v.maxOperationRetryTime,Oi=new ei(Gt,"PATCH",At(v,ke),_i);return Oi.headers={"Content-Type":"application/json; charset=utf-8"},Oi.body=Gn,Oi.errorHandler=Nn(D),Oi}(v.storage,v._location,D,de());return v.storage.makeRequestWithTokens(ie,Yr)}(v=(0,ze.m9)(v),D)}(this._delegate,D)}getDownloadURL(){return function ki(v){return fi(v=(0,ze.m9)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Wi(v){return function Fr(v){v._throwIfRoot("deleteObject");const D=function fo(v,D){const ke=mn(D.fullServerUrl(),v.host,v._protocol),Gn=new ei(ke,"DELETE",function Dn(Vn,_i){},v.maxOperationRetryTime);return Gn.successCodes=[200,204],Gn.errorHandler=Nn(D),Gn}(v.storage,v._location);return v.storage.makeRequestWithTokens(D,Yr)}(v=(0,ze.m9)(v))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw Rt(D)}}class Mo{constructor(D,ie){this.app=D,this._delegate=ie}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(Hi(D))throw Be("ref() expected a child path but got a URL, use refFromURL instead.");return new kr(To(this._delegate,D),this)}refFromURL(D){if(!Hi(D))throw Be("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xe.makeFromUrl(D,this._delegate.host)}catch{throw Be("refFromUrl() expected a valid full URL but got an invalid one.")}return new kr(To(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,ie,ke={}){!function jo(v,D,ie,ke={}){!function Yo(v,D,ie,ke={}){v.host=`${D}:${ie}`,v._protocol="http";const{mockUserToken:_t}=ke;_t&&(v._overrideAuthToken="string"==typeof _t?_t:(0,ze.Sg)(_t,v.app.options.projectId))}(v,D,ie,ke)}(this._delegate,D,ie,ke)}}function Hi(v){return/^[A-Za-z]+:\/\//.test(v)}function As(v,{instanceIdentifier:D}){const ie=v.getProvider("app-compat").getImmediate(),ke=v.getProvider("storage").getImmediate({identifier:D});return new Mo(ie,ke)}!function bs(v){const D={TaskState:or,TaskEvent:Ur,StringFormat:Ot,Storage:Mo,Reference:kr};v.INTERNAL.registerComponent(new Fe.wA("storage-compat",As,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.2")}(oe.Z);var et=w(6217),nt=w(9260);function st(v){const D=function X(v){return new l.y(D=>{const ie=Dn=>D.next(Dn);ie(v.snapshot);const Gt=v.on("state_changed",ie);return v.then(Dn=>{ie(Dn),D.complete()},Dn=>{ie(v.snapshot),(Dn=>{D.error(Dn)})(Dn)}),function(){Gt()}}).pipe((0,te.b)(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,xe.U)(ie=>ie.bytesTransferred/ie.totalBytes*100))}}function an(v){return{getDownloadURL:()=>(0,p.of)(void 0).pipe(W.fc,(0,ae.w)(()=>v.getDownloadURL()),W.iC),getMetadata:()=>(0,p.of)(void 0).pipe(W.fc,(0,ae.w)(()=>v.getMetadata()),W.iC),delete:()=>(0,g.D)(v.delete()),child:D=>an(v.child(D)),updateMetadata:D=>(0,g.D)(v.updateMetadata(D)),put:(D,ie)=>st(v.put(D,ie)),putString:(D,ie,ke)=>st(v.putString(D,ie,ke)),list:D=>(0,g.D)(v.list(D)),listAll:()=>(0,g.D)(v.listAll())}}const Sn=new _e.OlP("angularfire2.storageBucket"),Ai=new _e.OlP("angularfire2.storage.maxUploadRetryTime"),Nr=new _e.OlP("angularfire2.storage.maxOperationRetryTime"),Lr=new _e.OlP("angularfire2.storage.use-emulator");let ho=(()=>{class v{constructor(ie,ke,_t,Gt,Dn,Gn,Vn,_i,Oi,mr){const Dr=(0,Ce.on)(ie,Dn,ke);this.storage=(0,Ce.cc)(`${Dr.name}.storage.${_t}`,"AngularFireStorage",Dr.name,()=>{const Pi=Dn.runOutsideAngular(()=>Dr.storage(_t||void 0)),Ri=Oi;return Ri&&Pi.useEmulator(...Ri),Vn&&Pi.setMaxUploadRetryTime(Vn),_i&&Pi.setMaxOperationRetryTime(_i),Pi},[Vn,_i])}ref(ie){return an(this.storage.ref(ie))}refFromURL(ie){return an(this.storage.refFromURL(ie))}upload(ie,ke,_t){return an(this.storage.ref(ie)).put(ke,_t)}}return v.\u0275fac=function(ie){return new(ie||v)(_e.LFG(Ce.Dh),_e.LFG(Ce.xv,8),_e.LFG(Sn,8),_e.LFG(_e.Lbi),_e.LFG(_e.R0b),_e.LFG(W.HU),_e.LFG(Ai,8),_e.LFG(Nr,8),_e.LFG(Lr,8),_e.LFG(et.nm,8))},v.\u0275prov=_e.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),K=(()=>{class v{}return v.\u0275fac=function(ie){return new(ie||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({}),v})(),V=(()=>{class v{constructor(){nt.Z.registerVersion("angularfire",W.q4.full,"gcs-compat")}}return v.\u0275fac=function(ie){return new(ie||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({providers:[ho],imports:[K]}),v})()},2011:(pn,rt,w)=>{w.d(rt,{Dh:()=>_e,GT:()=>ae,cc:()=>Fe,hO:()=>ze,on:()=>oe,pX:()=>xe,xv:()=>Ce});var l=w(2223),p=w(9260),g=w(4976);pn=w.hmd(pn);const te=["ngOnDestroy"],xe=(Ve,Oe,Et,fe={})=>new Proxy(Ve,{get:(Ee,ue)=>Et.runOutsideAngular(()=>{var pe;if(Ve[ue])return!(null===(pe=fe?.spy)||void 0===pe)&&pe.get&&fe.spy.get(ue,Ve[ue]),Ve[ue];if(te.indexOf(ue)>-1)return()=>{};const Le=Oe.toPromise().then(Y=>{const Ze=Y&&Y[ue];return"function"==typeof Ze?Ze.bind(Y):Ze&&Ze.then?Ze.then(Ue=>Et.run(()=>Ue)):Et.run(()=>Ze)});return new Proxy(()=>{},{get:(Y,Ze)=>Le[Ze],apply:(Y,Ze,Ue)=>Le.then(Qe=>{var Tt;const bn=Qe&&Qe(...Ue);return!(null===(Tt=fe?.spy)||void 0===Tt)&&Tt.apply&&fe.spy.apply(ue,Ue,bn),bn})})})}),ae=(Ve,Oe)=>{Oe.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(fe=>{Object.defineProperty(Ve.prototype,fe,Object.getOwnPropertyDescriptor(Et.prototype||Et,fe))})})};class W{constructor(Oe){return Oe}}const _e=new l.OlP("angularfire2.app.options"),Ce=new l.OlP("angularfire2.app.name");function oe(Ve,Oe,Et){const Ee="object"==typeof Et&&Et||{};Ee.name=Ee.name||"string"==typeof Et&&Et||"[DEFAULT]";const pe=p.Z.apps.filter(Le=>Le&&Le.name===Ee.name)[0]||Oe.runOutsideAngular(()=>p.Z.initializeApp(Ve,Ee));try{JSON.stringify(Ve)!==JSON.stringify(pe.options)&&me("error",`${pe.name} Firebase App already initialized with different options${pn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new W(pe)}const me=(Ve,...Oe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ve](...Oe)},ve={provide:W,useFactory:oe,deps:[_e,l.R0b,[new l.FiY,Ce]]};let ze=(()=>{class Ve{constructor(Et){p.Z.registerVersion("angularfire",g.q4.full,"core"),p.Z.registerVersion("angularfire",g.q4.full,"app-compat"),p.Z.registerVersion("angular",l.q4F.full,Et.toString())}static initializeApp(Et,fe){return{ngModule:Ve,providers:[{provide:_e,useValue:Et},{provide:Ce,useValue:fe}]}}}return Ve.\u0275fac=function(Et){return new(Et||Ve)(l.LFG(l.Lbi))},Ve.\u0275mod=l.oAB({type:Ve}),Ve.\u0275inj=l.cJS({providers:[ve]}),Ve})();function Fe(Ve,Oe,Et,fe,Ee){const[,ue,pe]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===Ve)||[];if(ue)return function at(Ve,Oe){try{return Ve.toString()===Oe.toString()}catch{return Ve===Oe}}(Ee,pe)||(Je("error",`${Oe} was already initialized on the ${Et} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:Ee,was:pe})),ue;{const Le=fe();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Le,Ee]),Le}}const Ge=!!pn.hot,Je=(Ve,...Oe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ve](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(pn,rt,w)=>{w.d(rt,{q4:()=>ss,iC:()=>Na,fc:()=>na,HU:()=>za,vb:()=>Uc,JM:()=>Ha});var l=w(2223),p=w(259),g=w(5861),te=w(6881),xe=w(2090),ae=w(4859),W=w(1877);const _e=(M,L)=>L.some(re=>M instanceof re);let Ce,oe;const ze=new WeakMap,Fe=new WeakMap,at=new WeakMap,Ge=new WeakMap,Je=new WeakMap;let Et={get(M,L,re){if(M instanceof IDBTransaction){if("done"===L)return Fe.get(M);if("objectStoreNames"===L)return M.objectStoreNames||at.get(M);if("store"===L)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return pe(M[L])},set:(M,L,re)=>(M[L]=re,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function ue(M){return"function"==typeof M?function Ee(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(Le(this),L),pe(ze.get(this))}:function(...L){return pe(M.apply(Le(this),L))}:function(L,...re){const $e=M.call(Le(this),L,...re);return at.set($e,L.sort?L.sort():[L]),pe($e)}}(M):(M instanceof IDBTransaction&&function Oe(M){if(Fe.has(M))return;const L=new Promise((re,$e)=>{const Dt=()=>{M.removeEventListener("complete",$t),M.removeEventListener("error",dn),M.removeEventListener("abort",dn)},$t=()=>{re(),Dt()},dn=()=>{$e(M.error||new DOMException("AbortError","AbortError")),Dt()};M.addEventListener("complete",$t),M.addEventListener("error",dn),M.addEventListener("abort",dn)});Fe.set(M,L)}(M),_e(M,function me(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Et):M)}function pe(M){if(M instanceof IDBRequest)return function Ve(M){const L=new Promise((re,$e)=>{const Dt=()=>{M.removeEventListener("success",$t),M.removeEventListener("error",dn)},$t=()=>{re(pe(M.result)),Dt()},dn=()=>{$e(M.error),Dt()};M.addEventListener("success",$t),M.addEventListener("error",dn)});return L.then(re=>{re instanceof IDBCursor&&ze.set(re,M)}).catch(()=>{}),Je.set(L,M),L}(M);if(Ge.has(M))return Ge.get(M);const L=ue(M);return L!==M&&(Ge.set(M,L),Je.set(L,M)),L}const Le=M=>Je.get(M),Ue=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],Tt=new Map;function bn(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(Tt.get(L))return Tt.get(L);const re=L.replace(/FromIndex$/,""),$e=L!==re,Dt=Qe.includes(re);if(!(re in($e?IDBIndex:IDBObjectStore).prototype)||!Dt&&!Ue.includes(re))return;const $t=function(){var dn=(0,g.Z)(function*(Wn,...Hn){const di=this.transaction(Wn,Dt?"readwrite":"readonly");let Ni=di.store;return $e&&(Ni=Ni.index(Hn.shift())),(yield Promise.all([Ni[re](...Hn),Dt&&di.done]))[0]});return function(Hn){return dn.apply(this,arguments)}}();return Tt.set(L,$t),$t}!function fe(M){Et=M(Et)}(M=>({...M,get:(L,re,$e)=>bn(L,re)||M.get(L,re,$e),has:(L,re)=>!!bn(L,re)||M.has(L,re)}));const kn="@firebase/installations",vt="0.6.4",bt=1e4,Vt=`w:${vt}`,dt="FIS_v2",Ht="https://firebaseinstallations.googleapis.com/v1",Be=36e5,Mt=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(M){return M instanceof xe.ZR&&M.code.includes("request-failed")}function ot({projectId:M}){return`${Ht}/projects/${M}/installations`}function Nt(M){return{token:M.token,requestStatus:2,expiresIn:Jt(M.expiresIn),creationTime:Date.now()}}function It(M,L){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,g.Z)(function*(M,L){const $e=(yield L.json()).error;return Mt.create("request-failed",{requestName:M,serverCode:$e.code,serverMessage:$e.message,serverStatus:$e.status})})).apply(this,arguments)}function Lt({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function ft(M){return qe.apply(this,arguments)}function qe(){return(qe=(0,g.Z)(function*(M){const L=yield M();return L.status>=500&&L.status<600?M():L})).apply(this,arguments)}function Jt(M){return Number(M.replace("s","000"))}function yt(){return(yt=(0,g.Z)(function*({appConfig:M,heartbeatServiceProvider:L},{fid:re}){const $e=ot(M),Dt=Lt(M),$t=L.getImmediate({optional:!0});if($t){const di=yield $t.getHeartbeatsHeader();di&&Dt.append("x-firebase-client",di)}const Wn={method:"POST",headers:Dt,body:JSON.stringify({fid:re,authVersion:dt,appId:M.appId,sdkVersion:Vt})},Hn=yield ft(()=>fetch($e,Wn));if(Hn.ok){const di=yield Hn.json();return{fid:di.fid||re,registrationStatus:2,refreshToken:di.refreshToken,authToken:Nt(di.authToken)}}throw yield It("Create Installation",Hn)})).apply(this,arguments)}function he(M){return new Promise(L=>{setTimeout(L,M)})}const pt=/^[cdef][\w-]{21}$/,ht="";function Pt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const re=function Xt(M){return function He(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return pt.test(re)?re:ht}catch{return ht}}function cn(M){return`${M.appName}!${M.appId}`}const $n=new Map;function ni(M,L){const re=cn(M);Un(re,L),function Ke(M,L){const re=function Zt(){return!Ot&&"BroadcastChannel"in self&&(Ot=new BroadcastChannel("[Firebase] FID Change"),Ot.onmessage=M=>{Un(M.data.key,M.data.fid)}),Ot}();re&&re.postMessage({key:M,fid:L}),function Tn(){0===$n.size&&Ot&&(Ot.close(),Ot=null)}()}(re,L)}function Un(M,L){const re=$n.get(M);if(re)for(const $e of re)$e(L)}let Ot=null;const li="firebase-installations-database",yi=1,hi="firebase-installations-store";let en=null;function ct(){return en||(en=function Y(M,L,{blocked:re,upgrade:$e,blocking:Dt,terminated:$t}={}){const dn=indexedDB.open(M,L),Wn=pe(dn);return $e&&dn.addEventListener("upgradeneeded",Hn=>{$e(pe(dn.result),Hn.oldVersion,Hn.newVersion,pe(dn.transaction))}),re&&dn.addEventListener("blocked",()=>re()),Wn.then(Hn=>{$t&&Hn.addEventListener("close",()=>$t()),Dt&&Hn.addEventListener("versionchange",()=>Dt())}).catch(()=>{}),Wn}(li,yi,{upgrade:(M,L)=>{0===L&&M.createObjectStore(hi)}})),en}function ut(M,L){return We.apply(this,arguments)}function We(){return(We=(0,g.Z)(function*(M,L){const re=cn(M),Dt=(yield ct()).transaction(hi,"readwrite"),$t=Dt.objectStore(hi),dn=yield $t.get(re);return yield $t.put(L,re),yield Dt.done,(!dn||dn.fid!==L.fid)&&ni(M,L.fid),L})).apply(this,arguments)}function je(M){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,g.Z)(function*(M){const L=cn(M),$e=(yield ct()).transaction(hi,"readwrite");yield $e.objectStore(hi).delete(L),yield $e.done})).apply(this,arguments)}function St(M,L){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,g.Z)(function*(M,L){const re=cn(M),Dt=(yield ct()).transaction(hi,"readwrite"),$t=Dt.objectStore(hi),dn=yield $t.get(re),Wn=L(dn);return void 0===Wn?yield $t.delete(re):yield $t.put(Wn,re),yield Dt.done,Wn&&(!dn||dn.fid!==Wn.fid)&&ni(M,Wn.fid),Wn})).apply(this,arguments)}function Pe(M){return le.apply(this,arguments)}function le(){return le=(0,g.Z)(function*(M){let L;const re=yield St(M.appConfig,$e=>{const Dt=function j(M){return Ne(M||{fid:Pt(),registrationStatus:0})}($e),$t=function U(M,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Mt.create("app-offline"))};const re={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},$e=function H(M,L){return de.apply(this,arguments)}(M,re);return{installationEntry:re,registrationPromise:$e}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:ce(M)}:{installationEntry:L}}(M,Dt);return L=$t.registrationPromise,$t.installationEntry});return re.fid===ht?{installationEntry:yield L}:{installationEntry:re,registrationPromise:L}}),le.apply(this,arguments)}function de(){return de=(0,g.Z)(function*(M,L){try{const re=yield function mn(M,L){return yt.apply(this,arguments)}(M,L);return ut(M.appConfig,re)}catch(re){throw Xe(re)&&409===re.customData.serverCode?yield je(M.appConfig):yield ut(M.appConfig,{fid:L.fid,registrationStatus:0}),re}}),de.apply(this,arguments)}function ce(M){return Te.apply(this,arguments)}function Te(){return(Te=(0,g.Z)(function*(M){let L=yield Re(M.appConfig);for(;1===L.registrationStatus;)yield he(100),L=yield Re(M.appConfig);if(0===L.registrationStatus){const{installationEntry:re,registrationPromise:$e}=yield Pe(M);return $e||re}return L})).apply(this,arguments)}function Re(M){return St(M,L=>{if(!L)throw Mt.create("installation-not-found");return Ne(L)})}function Ne(M){return function Q(M){return 1===M.registrationStatus&&M.registrationTime+bt<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function wt(){return(wt=(0,g.Z)(function*({appConfig:M,heartbeatServiceProvider:L},re){const $e=function jt(M,{fid:L}){return`${ot(M)}/${L}/authTokens:generate`}(M,re),Dt=function Bt(M,{refreshToken:L}){const re=Lt(M);return re.append("Authorization",function yn(M){return`${dt} ${M}`}(L)),re}(M,re),$t=L.getImmediate({optional:!0});if($t){const di=yield $t.getHeartbeatsHeader();di&&Dt.append("x-firebase-client",di)}const Wn={method:"POST",headers:Dt,body:JSON.stringify({installation:{sdkVersion:Vt,appId:M.appId}})},Hn=yield ft(()=>fetch($e,Wn));if(Hn.ok)return Nt(yield Hn.json());throw yield It("Generate Auth Token",Hn)})).apply(this,arguments)}function zn(M){return ei.apply(this,arguments)}function ei(){return ei=(0,g.Z)(function*(M,L=!1){let re;const $e=yield St(M.appConfig,$t=>{if(!Nn($t))throw Mt.create("not-registered");const dn=$t.authToken;if(!L&&function ci(M){return 2===M.requestStatus&&!function Qi(M){const L=Date.now();return L<M.creationTime||M.creationTime+M.expiresIn<L+Be}(M)}(dn))return $t;if(1===dn.requestStatus)return re=function kt(M,L){return At.apply(this,arguments)}(M,L),$t;{if(!navigator.onLine)throw Mt.create("app-offline");const Wn=function wi(M){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:L})}($t);return re=function Kn(M,L){return An.apply(this,arguments)}(M,Wn),Wn}});return re?yield re:$e.authToken}),ei.apply(this,arguments)}function At(){return(At=(0,g.Z)(function*(M,L){let re=yield wn(M.appConfig);for(;1===re.authToken.requestStatus;)yield he(100),re=yield wn(M.appConfig);const $e=re.authToken;return 0===$e.requestStatus?zn(M,L):$e})).apply(this,arguments)}function wn(M){return St(M,L=>{if(!Nn(L))throw Mt.create("not-registered");return function br(M){return 1===M.requestStatus&&M.requestTime+bt<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function An(){return An=(0,g.Z)(function*(M,L){try{const re=yield function De(M,L){return wt.apply(this,arguments)}(M,L),$e=Object.assign(Object.assign({},L),{authToken:re});return yield ut(M.appConfig,$e),re}catch(re){if(!Xe(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const $e=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield ut(M.appConfig,$e)}else yield je(M.appConfig);throw re}}),An.apply(this,arguments)}function Nn(M){return void 0!==M&&2===M.registrationStatus}function fo(){return(fo=(0,g.Z)(function*(M){const L=M,{installationEntry:re,registrationPromise:$e}=yield Pe(L);return $e?$e.catch(console.error):zn(L).catch(console.error),re.fid})).apply(this,arguments)}function pr(){return pr=(0,g.Z)(function*(M,L=!1){const re=M;return yield function Br(M){return Pr.apply(this,arguments)}(re),(yield zn(re,L)).token}),pr.apply(this,arguments)}function Pr(){return(Pr=(0,g.Z)(function*(M){const{registrationPromise:L}=yield Pe(M);L&&(yield L)})).apply(this,arguments)}function hr(M){return Mt.create("missing-app-config-values",{valueName:M})}const _o="installations",ls=M=>{const L=M.getProvider("app").getImmediate(),re=function go(M){if(!M||!M.options)throw hr("App Configuration");if(!M.name)throw hr("App Name");const L=["projectId","apiKey","appId"];for(const re of L)if(!M.options[re])throw hr(re);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(L);return{app:L,appConfig:re,heartbeatServiceProvider:(0,te._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},Eo=M=>{const L=M.getProvider("app").getImmediate(),re=(0,te._getProvider)(L,_o).getImmediate();return{getId:()=>function Wr(M){return fo.apply(this,arguments)}(re),getToken:Dt=>function _s(M){return pr.apply(this,arguments)}(re,Dt)}};(function Yr(){(0,te._registerComponent)(new ae.wA(_o,ls,"PUBLIC")),(0,te._registerComponent)(new ae.wA("installations-internal",Eo,"PRIVATE"))})(),(0,te.registerVersion)(kn,vt),(0,te.registerVersion)(kn,vt,"esm2017");const yr="@firebase/remote-config",gi=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yo{constructor(L,re,$e,Dt){this.client=L,this.storage=re,this.storageCache=$e,this.logger=Dt}isCachedDataFresh(L,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $e=Date.now()-re,Dt=$e<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$e}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Dt}.`),Dt}fetch(L){var re=this;return(0,g.Z)(function*(){const[$e,Dt]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(Dt&&re.isCachedDataFresh(L.cacheMaxAgeMillis,$e))return Dt;L.eTag=Dt&&Dt.eTag;const $t=yield re.client.fetch(L),dn=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===$t.status&&dn.push(re.storage.setLastSuccessfulFetchResponse($t)),yield Promise.all(dn),$t})()}}function Do(M=navigator){return M.languages&&M.languages[0]||M.language}class qr{constructor(L,re,$e,Dt,$t,dn){this.firebaseInstallations=L,this.sdkVersion=re,this.namespace=$e,this.projectId=Dt,this.apiKey=$t,this.appId=dn}fetch(L){var re=this;return(0,g.Z)(function*(){const[$e,Dt]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),dn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,Wn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Hn={sdk_version:re.sdkVersion,app_instance_id:$e,app_instance_id_token:Dt,app_id:re.appId,language_code:Do()},di={method:"POST",headers:Wn,body:JSON.stringify(Hn)},Ni=fetch(dn,di),Mi=new Promise((ia,Da)=>{L.signal.addEventListener(()=>{const va=new Error("The operation was aborted.");va.name="AbortError",Da(va)})});let Is;try{yield Promise.race([Ni,Mi]),Is=yield Ni}catch(ia){let Da="fetch-client-network";throw"AbortError"===ia?.name&&(Da="fetch-timeout"),gi.create(Da,{originalErrorMessage:ia?.message})}let fr=Is.status;const Wa=Is.headers.get("ETag")||void 0;let Gr,Bs;if(200===Is.status){let ia;try{ia=yield Is.json()}catch(Da){throw gi.create("fetch-client-parse",{originalErrorMessage:Da?.message})}Gr=ia.entries,Bs=ia.state}if("INSTANCE_STATE_UNSPECIFIED"===Bs?fr=500:"NO_CHANGE"===Bs?fr=304:("NO_TEMPLATE"===Bs||"EMPTY_CONFIG"===Bs)&&(Gr={}),304!==fr&&200!==fr)throw gi.create("fetch-status",{httpStatus:fr});return{status:fr,eTag:Wa,config:Gr}})()}}class ds{constructor(L,re){this.client=L,this.storage=re}fetch(L){var re=this;return(0,g.Z)(function*(){const $e=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(L,$e)})()}attemptFetch(L,{throttleEndTimeMillis:re,backoffCount:$e}){var Dt=this;return(0,g.Z)(function*(){yield function Gi(M,L){return new Promise((re,$e)=>{const Dt=Math.max(L-Date.now(),0),$t=setTimeout(re,Dt);M.addEventListener(()=>{clearTimeout($t),$e(gi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,re);try{const $t=yield Dt.client.fetch(L);return yield Dt.storage.deleteThrottleMetadata(),$t}catch($t){if(!function bo(M){if(!(M instanceof xe.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}($t))throw $t;const dn={throttleEndTimeMillis:Date.now()+(0,xe.$s)($e),backoffCount:$e+1};return yield Dt.storage.setThrottleMetadata(dn),Dt.attemptFetch(L,dn)}})()}}class vs{constructor(L,re,$e,Dt,$t){this.app=L,this._client=re,this._storageCache=$e,this._storage=Dt,this._logger=$t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cr(M,L){const re=M.target.error||void 0;return gi.create(L,{originalErrorMessage:re&&re?.message})}const nr="app_namespace_store";class Wi{constructor(L,re,$e,Dt=function ki(){return new Promise((M,L)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=$e=>{L(cr($e,"storage-open"))},re.onsuccess=$e=>{M($e.target.result)},re.onupgradeneeded=$e=>{0===$e.oldVersion&&$e.target.result.createObjectStore(nr,{keyPath:"compositeKey"})}}catch(re){L(gi.create("storage-open",{originalErrorMessage:re?.message}))}})}()){this.appId=L,this.appName=re,this.namespace=$e,this.openDbPromise=Dt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var re=this;return(0,g.Z)(function*(){const $e=yield re.openDbPromise;return new Promise((Dt,$t)=>{const Wn=$e.transaction([nr],"readonly").objectStore(nr),Hn=re.createCompositeKey(L);try{const di=Wn.get(Hn);di.onerror=Ni=>{$t(cr(Ni,"storage-get"))},di.onsuccess=Ni=>{const Mi=Ni.target.result;Dt(Mi?Mi.value:void 0)}}catch(di){$t(gi.create("storage-get",{originalErrorMessage:di?.message}))}})})()}set(L,re){var $e=this;return(0,g.Z)(function*(){const Dt=yield $e.openDbPromise;return new Promise(($t,dn)=>{const Hn=Dt.transaction([nr],"readwrite").objectStore(nr),di=$e.createCompositeKey(L);try{const Ni=Hn.put({compositeKey:di,value:re});Ni.onerror=Mi=>{dn(cr(Mi,"storage-set"))},Ni.onsuccess=()=>{$t()}}catch(Ni){dn(gi.create("storage-set",{originalErrorMessage:Ni?.message}))}})})()}delete(L){var re=this;return(0,g.Z)(function*(){const $e=yield re.openDbPromise;return new Promise((Dt,$t)=>{const Wn=$e.transaction([nr],"readwrite").objectStore(nr),Hn=re.createCompositeKey(L);try{const di=Wn.delete(Hn);di.onerror=Ni=>{$t(cr(Ni,"storage-delete"))},di.onsuccess=()=>{Dt()}}catch(di){$t(gi.create("storage-delete",{originalErrorMessage:di?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class To{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,g.Z)(function*(){const re=L.storage.getLastFetchStatus(),$e=L.storage.getLastSuccessfulFetchTimestampMillis(),Dt=L.storage.getActiveConfig(),$t=yield re;$t&&(L.lastFetchStatus=$t);const dn=yield $e;dn&&(L.lastSuccessfulFetchTimestampMillis=dn);const Wn=yield Dt;Wn&&(L.activeConfig=Wn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function hs(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,g.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function Qr(){(0,te._registerComponent)(new ae.wA("remote-config",function M(L,{instanceIdentifier:re}){const $e=L.getProvider("app").getImmediate(),Dt=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gi.create("registration-window");if(!(0,xe.hl)())throw gi.create("indexed-db-unavailable");const{projectId:$t,apiKey:dn,appId:Wn}=$e.options;if(!$t)throw gi.create("registration-project-id");if(!dn)throw gi.create("registration-api-key");if(!Wn)throw gi.create("registration-app-id");const Hn=new Wi(Wn,$e.name,re=re||"firebase"),di=new To(Hn),Ni=new W.Yd(yr);Ni.logLevel=W.in.ERROR;const Mi=new qr(Dt,te.SDK_VERSION,re,$t,dn,Wn),Is=new ds(Mi,Hn),fr=new Yo(Is,Hn,di,Ni),Wa=new vs($e,fr,di,Hn,Ni);return function Rn(M){const L=(0,xe.m9)(M);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Wa),Wa},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(yr,"0.4.4"),(0,te.registerVersion)(yr,"0.4.4","esm2017")}();const Sr=(M,L)=>L.some(re=>M instanceof re);let ts,Ki;const kr=new WeakMap,Mo=new WeakMap,Hi=new WeakMap,uo=new WeakMap,Ho=new WeakMap;let bs={get(M,L,re){if(M instanceof IDBTransaction){if("done"===L)return Mo.get(M);if("objectStoreNames"===L)return M.objectStoreNames||Hi.get(M);if("store"===L)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return st(M[L])},set:(M,L,re)=>(M[L]=re,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function X(M){return"function"==typeof M?function nt(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jr(){return Ki||(Ki=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(an(this),L),st(kr.get(this))}:function(...L){return st(M.apply(an(this),L))}:function(L,...re){const $e=M.call(an(this),L,...re);return Hi.set($e,L.sort?L.sort():[L]),st($e)}}(M):(M instanceof IDBTransaction&&function As(M){if(Mo.has(M))return;const L=new Promise((re,$e)=>{const Dt=()=>{M.removeEventListener("complete",$t),M.removeEventListener("error",dn),M.removeEventListener("abort",dn)},$t=()=>{re(),Dt()},dn=()=>{$e(M.error||new DOMException("AbortError","AbortError")),Dt()};M.addEventListener("complete",$t),M.addEventListener("error",dn),M.addEventListener("abort",dn)});Mo.set(M,L)}(M),Sr(M,function xr(){return ts||(ts=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,bs):M)}function st(M){if(M instanceof IDBRequest)return function Hs(M){const L=new Promise((re,$e)=>{const Dt=()=>{M.removeEventListener("success",$t),M.removeEventListener("error",dn)},$t=()=>{re(st(M.result)),Dt()},dn=()=>{$e(M.error),Dt()};M.addEventListener("success",$t),M.addEventListener("error",dn)});return L.then(re=>{re instanceof IDBCursor&&kr.set(re,M)}).catch(()=>{}),Ho.set(L,M),L}(M);if(uo.has(M))return uo.get(M);const L=X(M);return L!==M&&(uo.set(M,L),Ho.set(L,M)),L}const an=M=>Ho.get(M);function Sn(M,L,{blocked:re,upgrade:$e,blocking:Dt,terminated:$t}={}){const dn=indexedDB.open(M,L),Wn=st(dn);return $e&&dn.addEventListener("upgradeneeded",Hn=>{$e(st(dn.result),Hn.oldVersion,Hn.newVersion,st(dn.transaction))}),re&&dn.addEventListener("blocked",()=>re()),Wn.then(Hn=>{$t&&Hn.addEventListener("close",()=>$t()),Dt&&Hn.addEventListener("versionchange",()=>Dt())}).catch(()=>{}),Wn}function Ai(M,{blocked:L}={}){const re=indexedDB.deleteDatabase(M);return L&&re.addEventListener("blocked",()=>L()),st(re).then(()=>{})}const Nr=["get","getKey","getAll","getAllKeys","count"],Lr=["put","add","delete","clear"],ho=new Map;function lr(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(ho.get(L))return ho.get(L);const re=L.replace(/FromIndex$/,""),$e=L!==re,Dt=Lr.includes(re);if(!(re in($e?IDBIndex:IDBObjectStore).prototype)||!Dt&&!Nr.includes(re))return;const $t=function(){var dn=(0,g.Z)(function*(Wn,...Hn){const di=this.transaction(Wn,Dt?"readwrite":"readonly");let Ni=di.store;return $e&&(Ni=Ni.index(Hn.shift())),(yield Promise.all([Ni[re](...Hn),Dt&&di.done]))[0]});return function(Hn){return dn.apply(this,arguments)}}();return ho.set(L,$t),$t}!function et(M){bs=M(bs)}(M=>({...M,get:(L,re,$e)=>lr(L,re)||M.get(L,re,$e),has:(L,re)=>!!lr(L,re)||M.has(L,re)}));const K="/firebase-messaging-sw.js",V="/firebase-cloud-messaging-push-scope",v="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",D="https://fcmregistrations.googleapis.com/v1",ie="google.c.a.c_id",ke="google.c.a.c_l",_t="google.c.a.ts";var Gn=(()=>((Gn=Gn||{}).PUSH_RECEIVED="push-received",Gn.NOTIFICATION_CLICKED="notification-clicked",Gn))();function Vn(M){const L=new Uint8Array(M);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _i(M){const re=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$e=atob(re),Dt=new Uint8Array($e.length);for(let $t=0;$t<$e.length;++$t)Dt[$t]=$e.charCodeAt($t);return Dt}const Oi="fcm_token_details_db",mr=5,Dr="fcm_token_object_Store";function Ri(){return Ri=(0,g.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map($t=>$t.name).includes(Oi))return null;let L=null;return(yield Sn(Oi,mr,{upgrade:($e=(0,g.Z)(function*(Dt,$t,dn,Wn){var Hn;if($t<2||!Dt.objectStoreNames.contains(Dr))return;const di=Wn.objectStore(Dr),Ni=yield di.index("fcmSenderId").get(M);if(yield di.clear(),Ni)if(2===$t){const Mi=Ni;if(!Mi.auth||!Mi.p256dh||!Mi.endpoint)return;L={token:Mi.fcmToken,createTime:null!==(Hn=Mi.createTime)&&void 0!==Hn?Hn:Date.now(),subscriptionOptions:{auth:Mi.auth,p256dh:Mi.p256dh,endpoint:Mi.endpoint,swScope:Mi.swScope,vapidKey:"string"==typeof Mi.vapidKey?Mi.vapidKey:Vn(Mi.vapidKey)}}}else if(3===$t){const Mi=Ni;L={token:Mi.fcmToken,createTime:Mi.createTime,subscriptionOptions:{auth:Vn(Mi.auth),p256dh:Vn(Mi.p256dh),endpoint:Mi.endpoint,swScope:Mi.swScope,vapidKey:Vn(Mi.vapidKey)}}}else if(4===$t){const Mi=Ni;L={token:Mi.fcmToken,createTime:Mi.createTime,subscriptionOptions:{auth:Vn(Mi.auth),p256dh:Vn(Mi.p256dh),endpoint:Mi.endpoint,swScope:Mi.swScope,vapidKey:Vn(Mi.vapidKey)}}}}),function($t,dn,Wn,Hn){return $e.apply(this,arguments)})})).close(),yield Ai(Oi),yield Ai("fcm_vapid_details_db"),yield Ai("undefined"),function Xi(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:L}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var $e}),Ri.apply(this,arguments)}const vi="firebase-messaging-database",Fo=1,eo="firebase-messaging-store";let Er=null;function Ir(){return Er||(Er=Sn(vi,Fo,{upgrade:(M,L)=>{0===L&&M.createObjectStore(eo)}})),Er}function So(M){return zo.apply(this,arguments)}function zo(){return zo=(0,g.Z)(function*(M){const L=No(M),$e=yield(yield Ir()).transaction(eo).objectStore(eo).get(L);if($e)return $e;{const Dt=yield function Pi(M){return Ri.apply(this,arguments)}(M.appConfig.senderId);if(Dt)return yield ys(M,Dt),Dt}}),zo.apply(this,arguments)}function ys(M,L){return ws.apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(M,L){const re=No(M),Dt=(yield Ir()).transaction(eo,"readwrite");return yield Dt.objectStore(eo).put(L,re),yield Dt.done,L})).apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(M){const L=No(M),$e=(yield Ir()).transaction(eo,"readwrite");yield $e.objectStore(eo).delete(L),yield $e.done})).apply(this,arguments)}function No({appConfig:M}){return M.appId}const so=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gc(M,L){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,g.Z)(function*(M,L){const re=yield xs(M),$e=zs(L),Dt={method:"POST",headers:re,body:JSON.stringify($e)};let $t;try{$t=yield(yield fetch(ma(M.appConfig),Dt)).json()}catch(dn){throw so.create("token-subscribe-failed",{errorInfo:dn?.toString()})}if($t.error)throw so.create("token-subscribe-failed",{errorInfo:$t.error.message});if(!$t.token)throw so.create("token-subscribe-no-token");return $t.token})).apply(this,arguments)}function oa(){return(oa=(0,g.Z)(function*(M,L){const re=yield xs(M),$e=zs(L.subscriptionOptions),Dt={method:"PATCH",headers:re,body:JSON.stringify($e)};let $t;try{$t=yield(yield fetch(`${ma(M.appConfig)}/${L.token}`,Dt)).json()}catch(dn){throw so.create("token-update-failed",{errorInfo:dn?.toString()})}if($t.error)throw so.create("token-update-failed",{errorInfo:$t.error.message});if(!$t.token)throw so.create("token-update-no-token");return $t.token})).apply(this,arguments)}function qs(M,L){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,g.Z)(function*(M,L){const $e={method:"DELETE",headers:yield xs(M)};try{const $t=yield(yield fetch(`${ma(M.appConfig)}/${L}`,$e)).json();if($t.error)throw so.create("token-unsubscribe-failed",{errorInfo:$t.error.message})}catch(Dt){throw so.create("token-unsubscribe-failed",{errorInfo:Dt?.toString()})}})).apply(this,arguments)}function ma({projectId:M}){return`${D}/projects/${M}/registrations`}function xs(M){return xa.apply(this,arguments)}function xa(){return(xa=(0,g.Z)(function*({appConfig:M,installations:L}){const re=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function zs({p256dh:M,auth:L,endpoint:re,vapidKey:$e}){const Dt={web:{endpoint:re,auth:L,p256dh:M}};return $e!==v&&(Dt.web.applicationPubKey=$e),Dt}const Sa=6048e5;function Xs(){return Xs=(0,g.Z)(function*(M){const L=yield function ea(M,L){return Ci.apply(this,arguments)}(M.swRegistration,M.vapidKey),re={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:L.endpoint,auth:Vn(L.getKey("auth")),p256dh:Vn(L.getKey("p256dh"))},$e=yield So(M.firebaseDependencies);if($e){if(function fa(M,L){return L.vapidKey===M.vapidKey&&L.endpoint===M.endpoint&&L.auth===M.auth&&L.p256dh===M.p256dh}($e.subscriptionOptions,re))return Date.now()>=$e.createTime+Sa?function Js(M,L){return Os.apply(this,arguments)}(M,{token:$e.token,createTime:Date.now(),subscriptionOptions:re}):$e.token;try{yield qs(M.firebaseDependencies,$e.token)}catch(Dt){console.warn(Dt)}return ir(M.firebaseDependencies,re)}return ir(M.firebaseDependencies,re)}),Xs.apply(this,arguments)}function ns(){return ns=(0,g.Z)(function*(M){const L=yield So(M.firebaseDependencies);L&&(yield qs(M.firebaseDependencies,L.token),yield function Ms(M){return Zs.apply(this,arguments)}(M.firebaseDependencies));const re=yield M.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()}),ns.apply(this,arguments)}function Os(){return Os=(0,g.Z)(function*(M,L){try{const re=yield function Ma(M,L){return oa.apply(this,arguments)}(M.firebaseDependencies,L),$e=Object.assign(Object.assign({},L),{token:re,createTime:Date.now()});return yield ys(M.firebaseDependencies,$e),re}catch(re){throw yield function ms(M){return ns.apply(this,arguments)}(M),re}}),Os.apply(this,arguments)}function ir(M,L){return yo.apply(this,arguments)}function yo(){return(yo=(0,g.Z)(function*(M,L){const $e={token:yield gc(M,L),createTime:Date.now(),subscriptionOptions:L};return yield ys(M,$e),$e.token})).apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(M,L){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_i(L)})})).apply(this,arguments)}function P(M){const L={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function ee(M,L){if(!L.notification)return;M.notification={};const re=L.notification.title;re&&(M.notification.title=re);const $e=L.notification.body;$e&&(M.notification.body=$e);const Dt=L.notification.image;Dt&&(M.notification.image=Dt);const $t=L.notification.icon;$t&&(M.notification.icon=$t)}(L,M),function B(M,L){L.data&&(M.data=L.data)}(L,M),function be(M,L){var re,$e,Dt,$t,dn;if(!(L.fcmOptions||null!==(re=L.notification)&&void 0!==re&&re.click_action))return;M.fcmOptions={};const Wn=null!==(Dt=null===($e=L.fcmOptions)||void 0===$e?void 0:$e.link)&&void 0!==Dt?Dt:null===($t=L.notification)||void 0===$t?void 0:$t.click_action;Wn&&(M.fcmOptions.link=Wn);const Hn=null===(dn=L.fcmOptions)||void 0===dn?void 0:dn.analytics_label;Hn&&(M.fcmOptions.analyticsLabel=Hn)}(L,M),L}function rn(M,L){const re=[];for(let $e=0;$e<M.length;$e++)re.push(M.charAt($e)),$e<L.length&&re.push(L.charAt($e));return re.join("")}function qn(M){return so.create("missing-app-config-values",{valueName:M})}rn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zi{constructor(L,re,$e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Dt=function fn(M){if(!M||!M.options)throw qn("App Configuration Object");if(!M.name)throw qn("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:re}=M;for(const $e of L)if(!re[$e])throw qn($e);return{appName:M.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Dt,installations:re,analyticsProvider:$e}}_delete(){return Promise.resolve()}}function bi(){return(bi=(0,g.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(K,{scope:V}),M.swRegistration.update().catch(()=>{})}catch(L){throw so.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(M,L){if(!L&&!M.swRegistration&&(yield function Di(M){return bi.apply(this,arguments)}(M)),L||!M.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw so.create("invalid-sw-registration");M.swRegistration=L}})).apply(this,arguments)}function to(){return(to=(0,g.Z)(function*(M,L){L?M.vapidKey=L:M.vapidKey||(M.vapidKey=v)})).apply(this,arguments)}function Vr(){return Vr=(0,g.Z)(function*(M,L){if(!navigator)throw so.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw so.create("permission-blocked");return yield function jn(M,L){return to.apply(this,arguments)}(M,L?.vapidKey),yield function Ei(M,L){return Ji.apply(this,arguments)}(M,L?.serviceWorkerRegistration),function ka(M){return Xs.apply(this,arguments)}(M)}),Vr.apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(M,L,re){const $e=function Rs(M){switch(M){case Gn.NOTIFICATION_CLICKED:return"notification_open";case Gn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent($e,{message_id:re[ie],message_name:re[ke],message_time:re[_t],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Es(){return Es=(0,g.Z)(function*(M,L){const re=L.data;if(!re.isFirebaseMessaging)return;M.onMessageHandler&&re.messageType===Gn.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(P(re)):M.onMessageHandler.next(P(re)));const $e=re.data;(function it(M){return"object"==typeof M&&!!M&&ie in M})($e)&&"1"===$e["google.c.a.e"]&&(yield function pa(M,L,re){return Lo.apply(this,arguments)}(M,re.messageType,$e))}),Es.apply(this,arguments)}const tc="@firebase/messaging",_c=M=>{const L=new zi(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function is(M,L){return Es.apply(this,arguments)}(L,re)),L},nc=M=>{const L=M.getProvider("messaging").getImmediate();return{getToken:$e=>function fs(M,L){return Vr.apply(this,arguments)}(L,$e)}};function er(){return wo.apply(this,arguments)}function wo(){return(wo=(0,g.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function En(){(0,te._registerComponent)(new ae.wA("messaging",_c,"PUBLIC")),(0,te._registerComponent)(new ae.wA("messaging-internal",nc,"PRIVATE")),(0,te.registerVersion)(tc,"0.12.4"),(0,te.registerVersion)(tc,"0.12.4","esm2017")}();const y="analytics",b="firebase_id",R="origin",z=6e4,q="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Me="https://www.googletagmanager.com/gtag/js",tt=new W.Yd("@firebase/analytics"),on=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ln(M){if(!M.startsWith(Me)){const L=on.create("invalid-gtag-resource",{gtagURL:M});return tt.warn(L.message),""}return M}function Yn(M){return Promise.all(M.map(L=>L.catch(re=>re)))}function Ar(){return(Ar=(0,g.Z)(function*(M,L,re,$e,Dt,$t){const dn=$e[Dt];try{if(dn)yield L[dn];else{const Hn=(yield Yn(re)).find(di=>di.measurementId===Dt);Hn&&(yield L[Hn.appId])}}catch(Wn){tt.error(Wn)}M("config",Dt,$t)})).apply(this,arguments)}function Hr(){return(Hr=(0,g.Z)(function*(M,L,re,$e,Dt){try{let $t=[];if(Dt&&Dt.send_to){let dn=Dt.send_to;Array.isArray(dn)||(dn=[dn]);const Wn=yield Yn(re);for(const Hn of dn){const di=Wn.find(Mi=>Mi.measurementId===Hn),Ni=di&&L[di.appId];if(!Ni){$t=[];break}$t.push(Ni)}}0===$t.length&&($t=Object.values(L)),yield Promise.all($t),M("event",$e,Dt||{})}catch($t){tt.error($t)}})).apply(this,arguments)}const dr=30,Fi=new class Ps{constructor(L={},re=1e3){this.throttleMetadata=L,this.intervalMillis=re}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,re){this.throttleMetadata[L]=re}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function mo(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function E(){return(E=(0,g.Z)(function*(M){var L;const{appId:re,apiKey:$e}=M,Dt={method:"GET",headers:mo($e)},$t=q.replace("{app-id}",re),dn=yield fetch($t,Dt);if(200!==dn.status&&304!==dn.status){let Wn="";try{const Hn=yield dn.json();null!==(L=Hn.error)&&void 0!==L&&L.message&&(Wn=Hn.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:dn.status,responseMessage:Wn})}return dn.json()})).apply(this,arguments)}function C(){return(C=(0,g.Z)(function*(M,L=Fi,re){const{appId:$e,apiKey:Dt,measurementId:$t}=M.options;if(!$e)throw on.create("no-app-id");if(!Dt){if($t)return{measurementId:$t,appId:$e};throw on.create("no-api-key")}const dn=L.getThrottleMetadata($e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wn=new xt;return setTimeout((0,g.Z)(function*(){Wn.abort()}),void 0!==re?re:z),N({appId:$e,apiKey:Dt,measurementId:$t},dn,Wn,L)})).apply(this,arguments)}function N(M,L,re){return Z.apply(this,arguments)}function Z(){return Z=(0,g.Z)(function*(M,{throttleEndTimeMillis:L,backoffCount:re},$e,Dt=Fi){var $t;const{appId:dn,measurementId:Wn}=M;try{yield function ge(M,L){return new Promise((re,$e)=>{const Dt=Math.max(L-Date.now(),0),$t=setTimeout(re,Dt);M.addEventListener(()=>{clearTimeout($t),$e(on.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}($e,L)}catch(Hn){if(Wn)return tt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${Hn?.message}]`),{appId:dn,measurementId:Wn};throw Hn}try{const Hn=yield function Tr(M){return E.apply(this,arguments)}(M);return Dt.deleteThrottleMetadata(dn),Hn}catch(Hn){const di=Hn;if(!function ye(M){if(!(M instanceof xe.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(di)){if(Dt.deleteThrottleMetadata(dn),Wn)return tt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${di?.message}]`),{appId:dn,measurementId:Wn};throw Hn}const Ni=503===Number(null===($t=di?.customData)||void 0===$t?void 0:$t.httpStatus)?(0,xe.$s)(re,Dt.intervalMillis,dr):(0,xe.$s)(re,Dt.intervalMillis),Mi={throttleEndTimeMillis:Date.now()+Ni,backoffCount:re+1};return Dt.setThrottleMetadata(dn,Mi),tt.debug(`Calling attemptFetch again in ${Ni} millis`),N(M,Mi,$e,Dt)}}),Z.apply(this,arguments)}class xt{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let gn,$s;function Bn(){return(Bn=(0,g.Z)(function*(M,L,re,$e,Dt){if(Dt&&Dt.global)M("event",re,$e);else{const $t=yield L;M("event",re,Object.assign(Object.assign({},$e),{send_to:$t}))}})).apply(this,arguments)}function bc(){return(bc=(0,g.Z)(function*(){if(!(0,xe.hl)())return tt.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(M){return tt.warn(on.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ca(){return Ca=(0,g.Z)(function*(M,L,re,$e,Dt,$t,dn){var Wn;const Hn=function O(M){return C.apply(this,arguments)}(M);Hn.then(fr=>{re[fr.measurementId]=fr.appId,M.options.measurementId&&fr.measurementId!==M.options.measurementId&&tt.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${fr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fr=>tt.error(fr)),L.push(Hn);const di=function kd(){return bc.apply(this,arguments)}().then(fr=>{if(fr)return $e.getId()}),[Ni,Mi]=yield Promise.all([Hn,di]);(function sa(M){const L=window.document.getElementsByTagName("script");for(const re of Object.values(L))if(re.src&&re.src.includes(Me)&&re.src.includes(M))return re;return null})($t)||function Ti(M,L){const re=function Bi(M,L){let re;return window.trustedTypes&&(re=window.trustedTypes.createPolicy(M,L)),re}("firebase-js-sdk-policy",{createScriptURL:Ln}),$e=document.createElement("script"),Dt=`${Me}?l=${M}&id=${L}`;$e.src=re?re?.createScriptURL(Dt):Dt,$e.async=!0,document.head.appendChild($e)}($t,Ni.measurementId),$s&&(Dt("consent","default",$s),function al(M){$s=M}(void 0)),Dt("js",new Date);const Is=null!==(Wn=dn?.config)&&void 0!==Wn?Wn:{};return Is[R]="firebase",Is.update=!0,null!=Mi&&(Is[b]=Mi),Dt("config",Ni.measurementId,Is),gn&&(Dt("set",gn),function Ea(M){gn=M}(void 0)),Ni.measurementId}),Ca.apply(this,arguments)}class Ds{constructor(L){this.app=L}_delete(){return delete Gs[this.app.options.appId],Promise.resolve()}}let Gs={},Oa=[];const Nc={};let cl,os,Ao="dataLayer",yc=!1;function dl(M,L,re){!function ll(){const M=[];if((0,xe.ru)()&&M.push("This is a browser extension environment."),(0,xe.zI)()||M.push("Cookies are not available."),M.length>0){const L=M.map(($e,Dt)=>`(${Dt+1}) ${$e}`).join(" "),re=on.create("invalid-analytics-context",{errorInfo:L});tt.warn(re.message)}}();const $e=M.options.appId;if(!$e)throw on.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw on.create("no-api-key");tt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gs[$e])throw on.create("already-exists",{id:$e});if(!yc){!function ui(M){let L=[];Array.isArray(window[M])?L=window[M]:window[M]=L}(Ao);const{wrappedGtag:$t,gtagCore:dn}=function no(M,L,re,$e,Dt){let $t=function(...dn){window[$e].push(arguments)};return window[Dt]&&"function"==typeof window[Dt]&&($t=window[Dt]),window[Dt]=function ai(M,L,re,$e){function $t(){return $t=(0,g.Z)(function*(dn,...Wn){try{if("event"===dn){const[Hn,di]=Wn;yield function ko(M,L,re,$e,Dt){return Hr.apply(this,arguments)}(M,L,re,Hn,di)}else if("config"===dn){const[Hn,di]=Wn;yield function xi(M,L,re,$e,Dt,$t){return Ar.apply(this,arguments)}(M,L,re,$e,Hn,di)}else if("consent"===dn){const[Hn]=Wn;M("consent","update",Hn)}else if("get"===dn){const[Hn,di,Ni]=Wn;M("get",Hn,di,Ni)}else if("set"===dn){const[Hn]=Wn;M("set",Hn)}else M(dn,...Wn)}catch(Hn){tt.error(Hn)}}),$t.apply(this,arguments)}return function Dt(dn){return $t.apply(this,arguments)}}($t,M,L,re),{gtagCore:$t,wrappedGtag:window[Dt]}}(Gs,Oa,Nc,Ao,"gtag");os=$t,cl=dn,yc=!0}return Gs[$e]=function Nh(M,L,re,$e,Dt,$t,dn){return Ca.apply(this,arguments)}(M,Oa,Nc,L,cl,Ao,re),new Ds(M)}function Hl(){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,g.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}const Gl="@firebase/analytics";!function ja(){(0,te._registerComponent)(new ae.wA(y,(L,{options:re})=>dl(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,te._registerComponent)(new ae.wA("analytics-internal",function M(L){try{const re=L.getProvider(y).getImmediate();return{logEvent:($e,Dt,$t)=>function Va(M,L,re,$e){M=(0,xe.m9)(M),function ii(M,L,re,$e,Dt){return Bn.apply(this,arguments)}(os,Gs[M.app.options.appId],L,re,$e).catch(Dt=>tt.error(Dt))}(re,$e,Dt,$t)}}catch(re){throw on.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,te.registerVersion)(Gl,"0.10.0"),(0,te.registerVersion)(Gl,"0.10.0","esm2017")}();var Od=w(4408),Lc=w(7565);const gs=new class Kl extends Lc.v{}(class Wl extends Od.o{constructor(L,re){super(L,re),this.scheduler=L,this.work=re}schedule(L,re=0){return re>0?super.schedule(L,re):(this.delay=re,this.state=L,this.scheduler.flush(this),this)}execute(L,re){return re>0||this.closed?super.execute(L,re):this._execute(L,re)}requestAsyncId(L,re,$e=0){return null!=$e&&$e>0||null==$e&&this.delay>0?super.requestAsyncId(L,re,$e):(L.flush(this),0)}});var ta=w(4986),Pa=w(8505),_r=w(5363),oc=w(9468);const ss=new l.GfV("7.6.1"),vr="__angularfire_symbol__analyticsIsSupportedValue",Zl="__angularfire_symbol__analyticsIsSupported",Fa="__angularfire_symbol__remoteConfigIsSupportedValue",Fs="__angularfire_symbol__remoteConfigIsSupported",pl="__angularfire_symbol__messagingIsSupportedValue",Rd="__angularfire_symbol__messagingIsSupported";function Ha(M,L,re){if(L){if(1===L.length)return L[0];const $t=L.filter(dn=>dn.app===re);if(1===$t.length)return $t[0]}return re.container.getProvider(M).getImmediate({optional:!0})}globalThis[Zl]||(globalThis[Zl]=Hl().then(M=>globalThis[vr]=M).catch(()=>globalThis[vr]=!1)),globalThis[Rd]||(globalThis[Rd]=er().then(M=>globalThis[pl]=M).catch(()=>globalThis[pl]=!1)),globalThis[Fs]||(globalThis[Fs]=hs().then(M=>globalThis[Fa]=M).catch(()=>globalThis[Fa]=!1));const Uc=(M,L)=>{const re=L?[L]:(0,p.C6)(),$e=[];return re.forEach(Dt=>{Dt.container.getProvider(M).instances.forEach(dn=>{$e.includes(dn)||$e.push(dn)})}),$e};function ao(){}class Ec{constructor(L,re=gs){this.zone=L,this.delegate=re}now(){return this.delegate.now()}schedule(L,re,$e){const Dt=this.zone;return this.delegate.schedule(function(dn){Dt.runGuarded(()=>{L.apply(this,[dn])})},re,$e)}}class Cc{constructor(L){this.zone=L,this.task=null}call(L,re){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)),re.pipe((0,Pa.b)({next:$e,complete:$e,error:$e})).subscribe(L).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let za=(()=>{class M{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new Ec(Zone.current)),this.insideAngular=re.run(()=>new Ec(Zone.current,ta.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(re){return new(re||M)(l.LFG(l.R0b))},M.\u0275prov=l.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function io(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function na(M){return M.pipe((0,_r.Q)(io().outsideAngular))}function Na(M){return io(),function Fu(M){return function(re){return(re=re.lift(new Cc(M.ngZone))).pipe((0,oc.R)(M.outsideAngular),(0,_r.Q)(M.insideAngular))}}(io())(M)}},1389:(pn,rt,w)=>{w.d(rt,{$:()=>K,A:()=>me,D:()=>Fe,I:()=>or,J:()=>ls,L:()=>oi,N:()=>St,P:()=>Nh,Q:()=>Wi,R:()=>_a,U:()=>jo,V:()=>hs,W:()=>Ts,X:()=>Xr,Y:()=>xr,Z:()=>Jr,_:()=>Ho,a:()=>Aa,a0:()=>v,a1:()=>ie,a2:()=>Dn,a3:()=>Dr,a4:()=>Ri,a5:()=>vi,a6:()=>eo,a7:()=>Ir,a8:()=>zo,a9:()=>ws,aA:()=>Y,aB:()=>Fa,aC:()=>je,aD:()=>Kt,aE:()=>_r,aF:()=>ml,aG:()=>Bh,aH:()=>Ii,aL:()=>gr,aO:()=>ts,aa:()=>Ms,ab:()=>No,ac:()=>Ns,ad:()=>Ma,ae:()=>qs,af:()=>ma,ai:()=>Sa,aj:()=>Xs,ak:()=>ms,an:()=>nt,ao:()=>ee,aq:()=>to,ar:()=>tc,as:()=>Ue,at:()=>Ne,au:()=>ce,av:()=>fe,aw:()=>Is,ax:()=>qo,ay:()=>Q,az:()=>Ee,b:()=>rs,c:()=>os,d:()=>dl,e:()=>aa,f:()=>Gl,g:()=>Kl,h:()=>Od,i:()=>Qn,j:()=>ta,k:()=>ia,l:()=>$o,m:()=>Pd,o:()=>Ld,p:()=>_e,r:()=>vc,s:()=>Yt,u:()=>kd});var l=w(5861),p=w(2090),g=w(6881),te=w(7582),xe=w(1877),ae=w(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},at=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new p.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new xe.Yd("@firebase/auth");function Et(I,...m){Ve.logLevel<=xe.in.ERROR&&Ve.error(`Auth (${g.SDK_VERSION}): ${I}`,...m)}function fe(I,...m){throw Le(I,...m)}function Ee(I,...m){return Le(I,...m)}function ue(I,m,_){const k=Object.assign(Object.assign({},at()),{[m]:_});return new p.LL("auth","Firebase",k).create(m,{appName:I.name})}function pe(I,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&fe(I,"argument-error"),ue(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(I,...m){if("string"!=typeof I){const _=m[0],k=[...m.slice(1)];return k[0]&&(k[0].appName=I.name),I._errorFactory.create(_,...k)}return Ge.create(I,...m)}function Y(I,m,..._){if(!I)throw Le(m,..._)}function Ze(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Et(m),new Error(m)}function Ue(I,m){I||Ze(m)}function Qe(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Tt(){return"http:"===bn()||"https:"===bn()}function bn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class bt{constructor(m,_){this.shortDelay=m,this.longDelay=_,Ue(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,p.uI)()||(0,p.b$)()}get(){return function kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,p.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vt(I,m){Ue(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class dt{static initialize(m,_,k){this.fetchImpl=m,_&&(this.headersImpl=_),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Be=new bt(3e4,6e4);function mt(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Rt(I,m,_,k){return qt.apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*(I,m,_,k,se={}){return Mt(I,se,(0,l.Z)(function*(){let Se={},Ut={};k&&("GET"===m?Ut=k:Se={body:JSON.stringify(k)});const sn=(0,p.xO)(Object.assign({key:I.config.apiKey},Ut)).slice(1),Pn=yield I._getAdditionalHeaders();return Pn["Content-Type"]="application/json",I.languageCode&&(Pn["X-Firebase-Locale"]=I.languageCode),dt.fetch()(It(I,I.config.apiHost,_,sn),Object.assign({method:m,headers:Pn,referrerPolicy:"no-referrer"},Se))}))})).apply(this,arguments)}function Mt(I,m,_){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(I,m,_){I._canInitEmulator=!1;const k=Object.assign(Object.assign({},Ht),m);try{const se=new Wt(I),Se=yield Promise.race([_(),se.promise]);se.clearNetworkTimeout();const Ut=yield Se.json();if("needConfirmation"in Ut)throw Lt(I,"account-exists-with-different-credential",Ut);if(Se.ok&&!("errorMessage"in Ut))return Ut;{const sn=Se.ok?Ut.errorMessage:Ut.error.message,[Pn,ti]=sn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pn)throw Lt(I,"credential-already-in-use",Ut);if("EMAIL_EXISTS"===Pn)throw Lt(I,"email-already-in-use",Ut);if("USER_DISABLED"===Pn)throw Lt(I,"user-disabled",Ut);const mi=k[Pn]||Pn.toLowerCase().replace(/[_\s]+/g,"-");if(ti)throw ue(I,mi,ti);fe(I,mi)}}catch(se){if(se instanceof p.ZR)throw se;fe(I,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function ot(I,m,_,k){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.Z)(function*(I,m,_,k,se={}){const Se=yield Rt(I,m,_,k,se);return"mfaPendingCredential"in Se&&fe(I,"multi-factor-auth-required",{_serverResponse:Se}),Se})).apply(this,arguments)}function It(I,m,_,k){const se=`${m}${_}?${k}`;return I.config.emulator?Vt(I.config,se):`${I.config.apiScheme}://${se}`}class Wt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,k)=>{this.timer=setTimeout(()=>k(Ee(this.auth,"network-request-failed")),Be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lt(I,m,_){const k={appName:I.name};_.email&&(k.email=_.email),_.phoneNumber&&(k.phoneNumber=_.phoneNumber);const se=Ee(I,m,k);return se.customData._tokenResponse=_,se}function ft(){return(ft=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Jt(){return(Jt=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function yt(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function pt(){return(pt=(0,l.Z)(function*(I,m=!1){const _=(0,p.m9)(I),k=yield _.getIdToken(m),se=Pt(k);Y(se&&se.exp&&se.auth_time&&se.iat,_.auth,"internal-error");const Se="object"==typeof se.firebase?se.firebase:void 0,Ut=Se?.sign_in_provider;return{claims:se,token:k,authTime:yt(ht(se.auth_time)),issuedAtTime:yt(ht(se.iat)),expirationTime:yt(ht(se.exp)),signInProvider:Ut||null,signInSecondFactor:Se?.sign_in_second_factor||null}})).apply(this,arguments)}function ht(I){return 1e3*Number(I)}function Pt(I){const[m,_,k]=I.split(".");if(void 0===m||void 0===_||void 0===k)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,p.tV)(_);return se?JSON.parse(se):(Et("Failed to decode base64 JWT payload"),null)}catch(se){return Et("Caught error parsing JWT payload as JSON",se?.toString()),null}}function cn(I,m){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(I,m,_=!1){if(_)return m;try{return yield m}catch(k){throw k instanceof p.ZR&&function ni({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(k)&&I.auth.currentUser===I&&(yield I.auth.signOut()),k}})).apply(this,arguments)}class xn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const se=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const k=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),k)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class ln{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=yt(this.lastLoginAt),this.creationTime=yt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(I){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,l.Z)(function*(I){var m;const _=I.auth,k=yield I.getIdToken(),se=yield cn(I,function yn(I,m){return mn.apply(this,arguments)}(_,{idToken:k}));Y(se?.users.length,_,"internal-error");const Se=se.users[0];I._notifyReloadListener(Se);const Ut=null!==(m=Se.providerUserInfo)&&void 0!==m&&m.length?function li(I){return I.map(m=>{var{providerId:_}=m,k=(0,te._T)(m,["providerId"]);return{providerId:_,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}(Se.providerUserInfo):[],sn=function Tn(I,m){return[...I.filter(k=>!m.some(se=>se.providerId===k.providerId)),...m]}(I.providerData,Ut),mi=!!I.isAnonymous&&!(I.email&&Se.passwordHash||sn?.length),rr={uid:Se.localId,displayName:Se.displayName||null,photoURL:Se.photoUrl||null,email:Se.email||null,emailVerified:Se.emailVerified||!1,phoneNumber:Se.phoneNumber||null,tenantId:Se.tenantId||null,providerData:sn,metadata:new ln(Se.createdAt,Se.lastLoginAt),isAnonymous:mi};Object.assign(I,rr)}),Ke.apply(this,arguments)}function Zt(){return(Zt=(0,l.Z)(function*(I){const m=(0,p.m9)(I);yield Un(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(I,m){const _=yield Mt(I,{},(0,l.Z)(function*(){const k=(0,p.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:se,apiKey:Se}=I.config,Ut=It(I,se,"/v1/token",`key=${Se}`),sn=yield I._getAdditionalHeaders();return sn["Content-Type"]="application/x-www-form-urlencoded",dt.fetch()(Ut,{method:"POST",headers:sn,body:k})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class en{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Y(m.idToken,"internal-error"),Y(typeof m.idToken<"u","internal-error"),Y(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Xt(I){const m=Pt(I);return Y(m,"internal-error"),Y(typeof m.exp<"u","internal-error"),Y(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var k=this;return(0,l.Z)(function*(){return Y(!k.accessToken||k.refreshToken,m,"user-token-expired"),_||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(m,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var k=this;return(0,l.Z)(function*(){const{accessToken:se,refreshToken:Se,expiresIn:Ut}=yield function yi(I,m){return hi.apply(this,arguments)}(m,_);k.updateTokensAndExpiration(se,Se,Number(Ut))})()}updateTokensAndExpiration(m,_,k){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(m,_){const{refreshToken:k,accessToken:se,expirationTime:Se}=_,Ut=new en;return k&&(Y("string"==typeof k,"internal-error",{appName:m}),Ut.refreshToken=k),se&&(Y("string"==typeof se,"internal-error",{appName:m}),Ut.accessToken=se),Se&&(Y("number"==typeof Se,"internal-error",{appName:m}),Ut.expirationTime=Se),Ut}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new en,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function ct(I,m){Y("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class ut{constructor(m){var{uid:_,auth:k,stsTokenManager:se}=m,Se=(0,te._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=k,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=Se.displayName||null,this.email=Se.email||null,this.emailVerified=Se.emailVerified||!1,this.phoneNumber=Se.phoneNumber||null,this.photoURL=Se.photoURL||null,this.isAnonymous=Se.isAnonymous||!1,this.tenantId=Se.tenantId||null,this.providerData=Se.providerData?[...Se.providerData]:[],this.metadata=new ln(Se.createdAt||void 0,Se.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,l.Z)(function*(){const k=yield cn(_,_.stsTokenManager.getToken(_.auth,m));return Y(k,_.auth,"internal-error"),_.accessToken!==k&&(_.accessToken=k,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),k})()}getIdTokenResult(m){return function He(I){return pt.apply(this,arguments)}(this,m)}reload(){return function Ot(I){return Zt.apply(this,arguments)}(this)}_assign(m){this!==m&&(Y(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new ut(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var k=this;return(0,l.Z)(function*(){let se=!1;m.idToken&&m.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(m),se=!0),_&&(yield Un(k)),yield k.auth._persistUserIfCurrent(k),se&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var m=this;return(0,l.Z)(function*(){const _=yield m.getIdToken();return yield cn(m,function Bt(I,m){return ft.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var k,se,Se,Ut,sn,Pn,ti,mi;const rr=null!==(k=_.displayName)&&void 0!==k?k:void 0,la=null!==(se=_.email)&&void 0!==se?se:void 0,ra=null!==(Se=_.phoneNumber)&&void 0!==Se?Se:void 0,Bd=null!==(Ut=_.photoURL)&&void 0!==Ut?Ut:void 0,gl=null!==(sn=_.tenantId)&&void 0!==sn?sn:void 0,Lu=null!==(Pn=_._redirectEventId)&&void 0!==Pn?Pn:void 0,Ud=null!==(ti=_.createdAt)&&void 0!==ti?ti:void 0,Tc=null!==(mi=_.lastLoginAt)&&void 0!==mi?mi:void 0,{uid:Vc,emailVerified:sc,isAnonymous:Us,providerData:_l,stsTokenManager:Ka}=_;Y(Vc&&Ka,m,"internal-error");const vl=en.fromJSON(this.name,Ka);Y("string"==typeof Vc,m,"internal-error"),ct(rr,m.name),ct(la,m.name),Y("boolean"==typeof sc,m,"internal-error"),Y("boolean"==typeof Us,m,"internal-error"),ct(ra,m.name),ct(Bd,m.name),ct(gl,m.name),ct(Lu,m.name),ct(Ud,m.name),ct(Tc,m.name);const jc=new ut({uid:Vc,auth:m,email:la,emailVerified:sc,displayName:rr,isAnonymous:Us,photoURL:Bd,phoneNumber:ra,tenantId:gl,stsTokenManager:vl,createdAt:Ud,lastLoginAt:Tc});return _l&&Array.isArray(_l)&&(jc.providerData=_l.map(bl=>Object.assign({},bl))),Lu&&(jc._redirectEventId=Lu),jc}static _fromIdTokenResponse(m,_,k=!1){return(0,l.Z)(function*(){const se=new en;se.updateFromServerResponse(_);const Se=new ut({uid:_.localId,auth:m,stsTokenManager:se,isAnonymous:k});return yield Un(Se),Se})()}}const We=new Map;function je(I){Ue(I instanceof Function,"Expected a class definition");let m=We.get(I);return m?(Ue(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,We.set(I,m),m)}const St=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,k){var se=this;return(0,l.Z)(function*(){se.storage[_]=k})()}_get(_){var k=this;return(0,l.Z)(function*(){const se=k.storage[_];return void 0===se?null:se})()}_remove(_){var k=this;return(0,l.Z)(function*(){delete k.storage[_]})()}_addListener(_,k){}_removeListener(_,k){}}return I.type="NONE",I})();function Kt(I,m,_){return`firebase:${I}:${m}:${_}`}class Pe{constructor(m,_,k){this.persistence=m,this.auth=_,this.userKey=k;const{config:se,name:Se}=this.auth;this.fullUserKey=Kt(this.userKey,se.apiKey,Se),this.fullPersistenceKey=Kt("persistence",se.apiKey,Se),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?ut._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,l.Z)(function*(){if(_.persistence===m)return;const k=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,k?_.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,k="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Pe(je(St),m,k);const se=(yield Promise.all(_.map(function(){var ti=(0,l.Z)(function*(mi){if(yield mi._isAvailable())return mi});return function(mi){return ti.apply(this,arguments)}}()))).filter(ti=>ti);let Se=se[0]||je(St);const Ut=Kt(k,m.config.apiKey,m.name);let sn=null;for(const ti of _)try{const mi=yield ti._get(Ut);if(mi){const rr=ut._fromJSON(m,mi);ti!==Se&&(sn=rr),Se=ti;break}}catch{}const Pn=se.filter(ti=>ti._shouldAllowMigration);return Se._shouldAllowMigration&&Pn.length?(Se=Pn[0],sn&&(yield Se._set(Ut,sn.toJSON())),yield Promise.all(_.map(function(){var ti=(0,l.Z)(function*(mi){if(mi!==Se)try{yield mi._remove(Ut)}catch{}});return function(mi){return ti.apply(this,arguments)}}())),new Pe(Se,m,k)):new Pe(Se,m,k)})()}}function le(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(de(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(j(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Te(m))return"Blackberry";if(Re(m))return"Webos";if(U(m))return"Safari";if((m.includes("chrome/")||H(m))&&!m.includes("edge/"))return"Chrome";if(ce(m))return"Android";{const k=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function j(I=(0,p.z$)()){return/firefox\//i.test(I)}function U(I=(0,p.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function H(I=(0,p.z$)()){return/crios\//i.test(I)}function de(I=(0,p.z$)()){return/iemobile/i.test(I)}function ce(I=(0,p.z$)()){return/android/i.test(I)}function Te(I=(0,p.z$)()){return/blackberry/i.test(I)}function Re(I=(0,p.z$)()){return/webos/i.test(I)}function Ne(I=(0,p.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Q(I=(0,p.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function jt(I=(0,p.z$)()){return Ne(I)||ce(I)||Re(I)||Te(I)||/windows phone/i.test(I)||de(I)}function ei(I,m=[]){let _;switch(I){case"Browser":_=le((0,p.z$)());break;case"Worker":_=`${le((0,p.z$)())}-${I}`;break;default:_=I}const k=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${g.SDK_VERSION}/${k}`}function At(){return(At=(0,l.Z)(function*(I){return(yield Rt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wn(I,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(I,m){return Rt(I,"GET","/v2/recaptchaConfig",mt(I,m))})).apply(this,arguments)}function An(I){return void 0!==I&&void 0!==I.getResponse}function Nn(I){return void 0!==I&&void 0!==I.enterprise}class ci{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function wi(I){return new Promise((m,_)=>{const k=document.createElement("script");k.setAttribute("src",I),k.onload=m,k.onerror=se=>{const Se=Ee("internal-error");Se.customData=se,_(Se)},k.type="text/javascript",k.charset="UTF-8",function Qi(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(k)})}function br(I){return`__${I}${Math.floor(1e6*Math.random())}`}class pr{constructor(m){this.type="recaptcha-enterprise",this.auth=Ii(m)}verify(m="verify",_=!1){var k=this;return(0,l.Z)(function*(){function Se(){return Se=(0,l.Z)(function*(sn){if(!_){if(null==sn.tenantId&&null!=sn._agentRecaptchaConfig)return sn._agentRecaptchaConfig.siteKey;if(null!=sn.tenantId&&void 0!==sn._tenantRecaptchaConfigs[sn.tenantId])return sn._tenantRecaptchaConfigs[sn.tenantId].siteKey}return new Promise(function(){var Pn=(0,l.Z)(function*(ti,mi){wn(sn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rr=>{if(void 0!==rr.recaptchaKey){const la=new ci(rr);return null==sn.tenantId?sn._agentRecaptchaConfig=la:sn._tenantRecaptchaConfigs[sn.tenantId]=la,ti(la.siteKey)}mi(new Error("recaptcha Enterprise site key undefined"))}).catch(rr=>{mi(rr)})});return function(ti,mi){return Pn.apply(this,arguments)}}())}),Se.apply(this,arguments)}function Ut(sn,Pn,ti){const mi=window.grecaptcha;Nn(mi)?mi.enterprise.ready(()=>{mi.enterprise.execute(sn,{action:m}).then(rr=>{Pn(rr)}).catch(()=>{Pn("NO_RECAPTCHA")})}):ti(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((sn,Pn)=>{(function se(sn){return Se.apply(this,arguments)})(k.auth).then(ti=>{if(!_&&Nn(window.grecaptcha))Ut(ti,sn,Pn);else{if(typeof window>"u")return void Pn(new Error("RecaptchaVerifier is only supported in browser"));wi("https://www.google.com/recaptcha/enterprise.js?render="+ti).then(()=>{Ut(ti,sn,Pn)}).catch(mi=>{Pn(mi)})}}).catch(ti=>{Pn(ti)})})})()}}function Br(I,m,_){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(I,m,_,k=!1){const se=new pr(I);let Se;try{Se=yield se.verify(_)}catch{Se=yield se.verify(_,!0)}const Ut=Object.assign({},m);return Object.assign(Ut,k?{captchaResp:Se}:{captchaResponse:Se}),Object.assign(Ut,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ut,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ut})).apply(this,arguments)}class Kr{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const k=Se=>new Promise((Ut,sn)=>{try{Ut(m(Se))}catch(Pn){sn(Pn)}});k.onAbort=_,this.queue.push(k);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===m)return;const k=[];try{for(const se of _.queue)yield se(m),se.onAbort&&k.push(se.onAbort)}catch(se){k.reverse();for(const Se of k)try{Se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class po{constructor(m,_,k,se){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=k,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Po(this),this.idTokenSubscription=new Po(this),this.beforeStateQueue=new Kr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(m,_){var k=this;return _&&(this._popupRedirectResolver=je(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var se,Se;if(!k._deleted&&(k.persistenceManager=yield Pe.create(k,m),!k._deleted)){if(null!==(se=k._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(_),k.lastNotifiedUid=(null===(Se=k.currentUser)||void 0===Se?void 0:Se.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,l.Z)(function*(){var k;const se=yield _.assertedPersistence.getCurrentUser();let Se=se,Ut=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const sn=null===(k=_.redirectUser)||void 0===k?void 0:k._redirectEventId,Pn=Se?._redirectEventId,ti=yield _.tryRedirectSignIn(m);(!sn||sn===Pn)&&ti?.user&&(Se=ti.user,Ut=!0)}if(!Se)return _.directlySetCurrentUser(null);if(!Se._redirectEventId){if(Ut)try{yield _.beforeStateQueue.runMiddleware(Se)}catch(sn){Se=se,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(sn))}return Se?_.reloadAndSetCurrentUserOrClear(Se):_.directlySetCurrentUser(null)}return Y(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Se._redirectEventId?_.directlySetCurrentUser(Se):_.reloadAndSetCurrentUserOrClear(Se)})()}tryRedirectSignIn(m){var _=this;return(0,l.Z)(function*(){let k=null;try{k=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,l.Z)(function*(){try{yield Un(m)}catch(k){if("auth/network-request-failed"!==k?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function vt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){const k=m?(0,p.m9)(m):null;return k&&Y(k.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(k&&k._clone(_))})()}_updateCurrentUser(m,_=!1){var k=this;return(0,l.Z)(function*(){if(!k._deleted)return m&&Y(k.tenantId===m.tenantId,k,"tenant-id-mismatch"),_||(yield k.beforeStateQueue.runMiddleware(m)),k.queue((0,l.Z)(function*(){yield k.directlySetCurrentUser(m),k.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(je(m))}))}initializeRecaptchaConfig(){var m=this;return(0,l.Z)(function*(){const _=yield wn(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),k=new ci(_);null==m.tenantId?m._agentRecaptchaConfig=k:m._tenantRecaptchaConfigs[m.tenantId]=k,k.emailPasswordEnabled&&new pr(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new p.LL("auth","Firebase",m())}onAuthStateChanged(m,_,k){return this.registerStateListener(this.authStateSubscription,m,_,k)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,k){return this.registerStateListener(this.idTokenSubscription,m,_,k)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var k=this;return(0,l.Z)(function*(){const se=yield k.getOrInitRedirectPersistenceManager(_);return null===m?se.removeCurrentUser():se.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const k=m&&je(m)||_._popupRedirectResolver;Y(k,_,"argument-error"),_.redirectPersistenceManager=yield Pe.create(_,[je(k._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,l.Z)(function*(){var k,se;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(k=_._currentUser)||void 0===k?void 0:k._redirectEventId)===m?_._currentUser:(null===(se=_.redirectUser)||void 0===se?void 0:se._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,l.Z)(function*(){if(m===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,k,se){if(this._deleted)return()=>{};const Se="function"==typeof _?_:_.next.bind(_),Ut=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(Ut,this,"internal-error"),Ut.then(()=>Se(this.currentUser)),"function"==typeof _?m.addObserver(_,k,se):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var _;const k={"X-Client-Version":m.clientVersion};m.app.options.appId&&(k["X-Firebase-gmpid"]=m.app.options.appId);const se=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();se&&(k["X-Firebase-Client"]=se);const Se=yield m._getAppCheckToken();return Se&&(k["X-Firebase-AppCheck"]=Se),k})()}_getAppCheckToken(){var m=this;return(0,l.Z)(function*(){var _;const k=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return k?.error&&function Oe(I,...m){Ve.logLevel<=xe.in.WARN&&Ve.warn(`Auth (${g.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function Ii(I){return(0,p.m9)(I)}class Po{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,p.ne)(_=>this.observer=_)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function or(I,m,_){const k=Ii(I);Y(k._canInitEmulator,k,"emulator-config-failed"),Y(/^https?:\/\//.test(m),k,"invalid-emulator-scheme");const se=!!_?.disableWarnings,Se=go(m),{host:Ut,port:sn}=function hr(I){const m=go(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!_)return{host:"",port:null};const k=_[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(k);if(se){const Se=se[1];return{host:Se,port:_o(k.substr(Se.length+1))}}{const[Se,Ut]=k.split(":");return{host:Se,port:_o(Ut)}}}(m);k.config.emulator={url:`${Se}//${Ut}${null===sn?"":`:${sn}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:Ut,port:sn,protocol:Se.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function cs(){function I(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function go(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function _o(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class ls{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Ze("not implemented")}_getIdTokenResponse(m){return Ze("not implemented")}_linkToIdToken(m,_){return Ze("not implemented")}_getReauthenticationResolver(m){return Ze("not implemented")}}function Eo(I,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:resetPassword",mt(I,m))})).apply(this,arguments)}function yr(I,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:update",mt(I,m))})).apply(this,arguments)}function tr(I,m){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(I,m){return ot(I,"POST","/v1/accounts:signInWithPassword",mt(I,m))})).apply(this,arguments)}function oo(I,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:sendOobCode",mt(I,m))})).apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(I,m){return oo(I,m)})).apply(this,arguments)}function gt(I,m){return zt.apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(I,m){return oo(I,m)})).apply(this,arguments)}function un(I,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(I,m){return oo(I,m)})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(I,m){return oo(I,m)})).apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(I,m){return ot(I,"POST","/v1/accounts:signInWithEmailLink",mt(I,m))})).apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(I,m){return ot(I,"POST","/v1/accounts:signInWithEmailLink",mt(I,m))})).apply(this,arguments)}class ar extends ls{constructor(m,_,k,se=null){super("password",k),this._email=m,this._password=_,this._tenantId=se}static _fromEmailAndPassword(m,_){return new ar(m,_,"password")}static _fromEmailAndCode(m,_,k=null){return new ar(m,_,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,l.Z)(function*(){var k;switch(_.signInMethod){case"password":const se={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=m._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Se=yield Br(m,se,"signInWithPassword");return tr(m,Se)}return tr(m,se).catch(function(){var Se=(0,l.Z)(function*(Ut){if("auth/missing-recaptcha-token"===Ut.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const sn=yield Br(m,se,"signInWithPassword");return tr(m,sn)}return Promise.reject(Ut)});return function(Ut){return Se.apply(this,arguments)}}());case"emailLink":return function Zn(I,m){return fi.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:fe(m,"internal-error")}})()}_linkToIdToken(m,_){var k=this;return(0,l.Z)(function*(){switch(k.signInMethod){case"password":return yr(m,{idToken:_,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function Fr(I,m){return wr.apply(this,arguments)}(m,{idToken:_,email:k._email,oobCode:k._password});default:fe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function $i(I,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(I,m){return ot(I,"POST","/v1/accounts:signInWithIdp",mt(I,m))})).apply(this,arguments)}class oi extends ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new oi(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):fe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:k,signInMethod:se}=_,Se=(0,te._T)(_,["providerId","signInMethod"]);if(!k||!se)return null;const Ut=new oi(k,se);return Ut.idToken=Se.idToken||void 0,Ut.accessToken=Se.accessToken||void 0,Ut.secret=Se.secret,Ut.nonce=Se.nonce,Ut.pendingToken=Se.pendingToken||null,Ut}_getIdTokenResponse(m){return $i(m,this.buildRequest())}_linkToIdToken(m,_){const k=this.buildRequest();return k.idToken=_,$i(m,k)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,$i(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,p.xO)(_)}return m}}function Do(){return(Do=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:sendVerificationCode",mt(I,m))})).apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(I,m){return ot(I,"POST","/v1/accounts:signInWithPhoneNumber",mt(I,m))})).apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(I,m){const _=yield ot(I,"POST","/v1/accounts:signInWithPhoneNumber",mt(I,m));if(_.temporaryProof)throw Lt(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Vo={USER_NOT_FOUND:"user-not-found"};function vs(){return(vs=(0,l.Z)(function*(I,m){return ot(I,"POST","/v1/accounts:signInWithPhoneNumber",mt(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Vo)})).apply(this,arguments)}class cr extends ls{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new cr({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new cr({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function qr(I,m){return Gi.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function bo(I,m){return ds.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function es(I,m){return vs.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:k,verificationCode:se}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:k,code:se}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:k,phoneNumber:se,temporaryProof:Se}=m;return k||_||se||Se?new cr({verificationId:_,verificationCode:k,phoneNumber:se,temporaryProof:Se}):null}}class Io{constructor(m){var _,k,se,Se,Ut,sn;const Pn=(0,p.zd)((0,p.pd)(m)),ti=null!==(_=Pn.apiKey)&&void 0!==_?_:null,mi=null!==(k=Pn.oobCode)&&void 0!==k?k:null,rr=function nr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=Pn.mode)&&void 0!==se?se:null);Y(ti&&mi&&rr,"argument-error"),this.apiKey=ti,this.operation=rr,this.code=mi,this.continueUrl=null!==(Se=Pn.continueUrl)&&void 0!==Se?Se:null,this.languageCode=null!==(Ut=Pn.languageCode)&&void 0!==Ut?Ut:null,this.tenantId=null!==(sn=Pn.tenantId)&&void 0!==sn?sn:null}static parseLink(m){const _=function us(I){const m=(0,p.zd)((0,p.pd)(I)).link,_=m?(0,p.zd)((0,p.pd)(m)).deep_link_id:null,k=(0,p.zd)((0,p.pd)(I)).deep_link_id;return(k?(0,p.zd)((0,p.pd)(k)).link:null)||k||_||m||I}(m);try{return new Io(_)}catch{return null}}}let Wi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,k){return ar._fromEmailAndPassword(_,k)}static credentialWithLink(_,k){const se=Io.parseLink(k);return Y(se,"argument-error"),ar._fromEmailAndCode(_,se.code,se.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class To{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Qr extends To{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Xr extends Qr{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Y("providerId"in _&&"signInMethod"in _,"argument-error"),oi._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Y(m.idToken||m.accessToken,"argument-error"),oi._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Xr.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Xr.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:k,oauthTokenSecret:se,pendingToken:Se,nonce:Ut,providerId:sn}=m;if(!k&&!se&&!_&&!Se||!sn)return null;try{return new Xr(sn)._credential({idToken:_,accessToken:k,nonce:Ut,pendingToken:Se})}catch{return null}}}let jo=(()=>{class I extends Qr{constructor(){super("facebook.com")}static credential(_){return oi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),hs=(()=>{class I extends Qr{constructor(){super("google.com"),this.addScope("profile")}static credential(_,k){return oi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:k})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:k,oauthAccessToken:se}=_;if(!k&&!se)return null;try{return I.credential(k,se)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ts=(()=>{class I extends Qr{constructor(){super("github.com")}static credential(_){return oi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class ts extends ls{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return $i(m,this.buildRequest())}_linkToIdToken(m,_){const k=this.buildRequest();return k.idToken=_,$i(m,k)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,$i(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:k,signInMethod:se,pendingToken:Se}=_;return k&&se&&Se&&k===se?new ts(k,Se):null}static _create(m,_){return new ts(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xr extends To{constructor(m){Y(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return xr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return xr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=ts.fromJSON(m);return Y(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:k}=m;if(!_||!k)return null;try{return ts._create(k,_)}catch{return null}}}let Jr=(()=>{class I extends Qr{constructor(){super("twitter.com")}static credential(_,k){return oi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:k})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:k,oauthTokenSecret:se}=_;if(!k||!se)return null;try{return I.credential(k,se)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function kr(I,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(I,m){return ot(I,"POST","/v1/accounts:signUp",mt(I,m))})).apply(this,arguments)}class Hi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,k,se=!1){return(0,l.Z)(function*(){const Se=yield ut._fromIdTokenResponse(m,k,se),Ut=uo(k);return new Hi({user:Se,providerId:Ut,_tokenResponse:k,operationType:_})})()}static _forOperation(m,_,k){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(k,!0);const se=uo(k);return new Hi({user:m,providerId:se,_tokenResponse:k,operationType:_})})()}}function uo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ho(I){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(I){var m;const _=Ii(I);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Hi({user:_.currentUser,providerId:null,operationType:"signIn"});const k=yield kr(_,{returnSecureToken:!0}),se=yield Hi._fromIdTokenResponse(_,"signIn",k,!0);return yield _._updateCurrentUser(se.user),se})).apply(this,arguments)}class As extends p.ZR{constructor(m,_,k,se){var Se;super(_.code,_.message),this.operationType=k,this.user=se,Object.setPrototypeOf(this,As.prototype),this.customData={appName:m.name,tenantId:null!==(Se=m.tenantId)&&void 0!==Se?Se:void 0,_serverResponse:_.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(m,_,k,se){return new As(m,_,k,se)}}function bs(I,m,_,k){return("reauthenticate"===m?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(Se=>{throw"auth/multi-factor-auth-required"===Se.code?As._fromErrorAndOperation(I,Se,m,k):Se})}function et(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function nt(I,m){return X.apply(this,arguments)}function X(){return X=(0,l.Z)(function*(I,m){const _=(0,p.m9)(I);yield Sn(!0,_,m);const{providerUserInfo:k}=yield function qe(I,m){return Jt.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),se=et(k||[]);return _.providerData=_.providerData.filter(Se=>se.has(Se.providerId)),se.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),X.apply(this,arguments)}function st(I,m){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(I,m,_=!1){const k=yield cn(I,m._linkToIdToken(I.auth,yield I.getIdToken()),_);return Hi._forOperation(I,"link",k)})).apply(this,arguments)}function Sn(I,m,_){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(I,m,_){yield Un(m);const se=!1===I?"provider-already-linked":"no-such-provider";Y(et(m.providerData).has(_)===I,m.auth,se)})).apply(this,arguments)}function Nr(I,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(I,m,_=!1){const{auth:k}=I,se="reauthenticate";try{const Se=yield cn(I,bs(k,se,m,I),_);Y(Se.idToken,k,"internal-error");const Ut=Pt(Se.idToken);Y(Ut,k,"internal-error");const{sub:sn}=Ut;return Y(I.uid===sn,k,"user-mismatch"),Hi._forOperation(I,se,Se)}catch(Se){throw"auth/user-not-found"===Se?.code&&fe(k,"user-mismatch"),Se}})).apply(this,arguments)}function ho(I,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(I,m,_=!1){const k="signIn",se=yield bs(I,k,m),Se=yield Hi._fromIdTokenResponse(I,k,se);return _||(yield I._updateCurrentUser(Se.user)),Se})).apply(this,arguments)}function K(I,m){return V.apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(I,m){return ho(Ii(I),m)})).apply(this,arguments)}function v(I,m){return D.apply(this,arguments)}function D(){return(D=(0,l.Z)(function*(I,m){const _=(0,p.m9)(I);return yield Sn(!1,_,m.providerId),st(_,m)})).apply(this,arguments)}function ie(I,m){return ke.apply(this,arguments)}function ke(){return(ke=(0,l.Z)(function*(I,m){return Nr((0,p.m9)(I),m)})).apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(I,m){return ot(I,"POST","/v1/accounts:signInWithCustomToken",mt(I,m))})).apply(this,arguments)}function Dn(I,m){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,l.Z)(function*(I,m){const _=Ii(I),k=yield function _t(I,m){return Gt.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),se=yield Hi._fromIdTokenResponse(_,"signIn",k);return yield _._updateCurrentUser(se.user),se}),Gn.apply(this,arguments)}class Vn{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?_i._fromServerResponse(m,_):"totpInfo"in _?Oi._fromServerResponse(m,_):fe(m,"internal-error")}}class _i extends Vn{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new _i(_)}}class Oi extends Vn{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new Oi(_)}}function mr(I,m,_){var k;Y((null===(k=_.url)||void 0===k?void 0:k.length)>0,I,"invalid-continue-uri"),Y(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Y(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(Y(_.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Dr(I,m,_){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,l.Z)(function*(I,m,_){var k;const se=Ii(I),Se={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Ut=yield Br(se,Se,"getOobCode",!0);_&&mr(se,Ut,_),yield gt(se,Ut)}else _&&mr(se,Se,_),yield gt(se,Se).catch(function(){var Ut=(0,l.Z)(function*(sn){if("auth/missing-recaptcha-token"!==sn.code)return Promise.reject(sn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pn=yield Br(se,Se,"getOobCode",!0);_&&mr(se,Pn,_),yield gt(se,Pn)}});return function(sn){return Ut.apply(this,arguments)}}())}),Pi.apply(this,arguments)}function Ri(I,m,_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(I,m,_){yield Eo((0,p.m9)(I),{oobCode:m,newPassword:_})})).apply(this,arguments)}function vi(I,m){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,l.Z)(function*(I,m){yield function vo(I,m){return ri.apply(this,arguments)}((0,p.m9)(I),{oobCode:m})}),Fo.apply(this,arguments)}function eo(I,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(I,m){const _=(0,p.m9)(I),k=yield Eo(_,{oobCode:m}),se=k.requestType;switch(Y(se,_,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(k.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(k.mfaInfo,_,"internal-error");default:Y(k.email,_,"internal-error")}let Se=null;return k.mfaInfo&&(Se=Vn._fromServerResponse(Ii(_),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:Se},operation:se}})).apply(this,arguments)}function Ir(I,m){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(I,m){const{data:_}=yield eo((0,p.m9)(I),m);return _.email})).apply(this,arguments)}function zo(I,m,_){return ys.apply(this,arguments)}function ys(){return ys=(0,l.Z)(function*(I,m,_){var k;const se=Ii(I),Se={returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"};let Ut;if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const ti=yield Br(se,Se,"signUpPassword");Ut=kr(se,ti)}else Ut=kr(se,Se).catch(function(){var ti=(0,l.Z)(function*(mi){if("auth/missing-recaptcha-token"===mi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rr=yield Br(se,Se,"signUpPassword");return kr(se,rr)}return Promise.reject(mi)});return function(mi){return ti.apply(this,arguments)}}());const sn=yield Ut.catch(ti=>Promise.reject(ti)),Pn=yield Hi._fromIdTokenResponse(se,"signIn",sn);return yield se._updateCurrentUser(Pn.user),Pn}),ys.apply(this,arguments)}function ws(I,m,_){return K((0,p.m9)(I),Wi.credential(m,_))}function Ms(I,m,_){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,l.Z)(function*(I,m,_){var k;const se=Ii(I),Se={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function Ut(sn,Pn){Y(Pn.handleCodeInApp,se,"argument-error"),Pn&&mr(se,sn,Pn)}if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const sn=yield Br(se,Se,"getOobCode",!0);Ut(sn,_),yield un(se,sn)}else Ut(Se,_),yield un(se,Se).catch(function(){var sn=(0,l.Z)(function*(Pn){if("auth/missing-recaptcha-token"!==Pn.code)return Promise.reject(Pn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ti=yield Br(se,Se,"getOobCode",!0);Ut(ti,_),yield un(se,ti)}});return function(Pn){return sn.apply(this,arguments)}}())}),Zs.apply(this,arguments)}function No(I,m){const _=Io.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}function Ns(I,m,_){return so.apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(I,m,_){const k=(0,p.m9)(I),se=Wi.credentialWithLink(m,_||Qe());return Y(se._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),K(k,se)})).apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:createAuthUri",mt(I,m))})).apply(this,arguments)}function Ma(I,m){return oa.apply(this,arguments)}function oa(){return oa=(0,l.Z)(function*(I,m){const k={identifier:m,continueUri:Tt()?Qe():"http://localhost"},{signinMethods:se}=yield function gc(I,m){return Ys.apply(this,arguments)}((0,p.m9)(I),k);return se||[]}),oa.apply(this,arguments)}function qs(I,m){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,l.Z)(function*(I,m){const _=(0,p.m9)(I),se={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&mr(_.auth,se,m);const{email:Se}=yield function Zo(I,m){return Ct.apply(this,arguments)}(_.auth,se);Se!==I.email&&(yield I.reload())}),Qs.apply(this,arguments)}function ma(I,m,_){return xs.apply(this,arguments)}function xs(){return xs=(0,l.Z)(function*(I,m,_){const k=(0,p.m9)(I),Se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};_&&mr(k.auth,Se,_);const{email:Ut}=yield function hn(I,m){return Rn.apply(this,arguments)}(k.auth,Se);Ut!==I.email&&(yield I.reload())}),xs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(I,m){return Rt(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Sa(I,m){return ka.apply(this,arguments)}function ka(){return ka=(0,l.Z)(function*(I,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const k=(0,p.m9)(I),Se={idToken:yield k.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Ut=yield cn(k,function xa(I,m){return zs.apply(this,arguments)}(k.auth,Se));k.displayName=Ut.displayName||null,k.photoURL=Ut.photoUrl||null;const sn=k.providerData.find(({providerId:Pn})=>"password"===Pn);sn&&(sn.displayName=k.displayName,sn.photoURL=k.photoURL),yield k._updateTokensIfNecessary(Ut)}),ka.apply(this,arguments)}function Xs(I,m){return ns((0,p.m9)(I),m,null)}function ms(I,m){return ns((0,p.m9)(I),null,m)}function ns(I,m,_){return Js.apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(I,m,_){const{auth:k}=I,Se={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(Se.email=m),_&&(Se.password=_);const Ut=yield cn(I,yr(k,Se));yield I._updateTokensIfNecessary(Ut,!0)})).apply(this,arguments)}class ir{constructor(m,_,k={}){this.isNewUser=m,this.providerId=_,this.profile=k}}class yo extends ir{constructor(m,_,k,se){super(m,_,k),this.username=se}}class ea extends ir{constructor(m,_){super(m,"facebook.com",_)}}class Ci extends yo{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class fa extends ir{constructor(m,_){super(m,"google.com",_)}}class P extends yo{constructor(m,_,k){super(m,"twitter.com",_,k)}}function ee(I){const{user:m,_tokenResponse:_}=I;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Os(I){var m,_;if(!I)return null;const{providerId:k}=I,se=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Se=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!k&&I?.idToken){const Ut=null===(_=null===(m=Pt(I.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ut)return new ir(Se,"anonymous"!==Ut&&"custom"!==Ut?Ut:null)}if(!k)return null;switch(k){case"facebook.com":return new ea(Se,se);case"github.com":return new Ci(Se,se);case"google.com":return new fa(Se,se);case"twitter.com":return new P(Se,se,I.screenName||null);case"custom":case"anonymous":return new ir(Se,null);default:return new ir(Se,k,se)}}(_)}class Ji{constructor(m,_,k){this.type=m,this.credential=_,this.auth=k}static _fromIdtoken(m,_){return new Ji("enroll",m,_)}static _fromMfaPendingCredential(m){return new Ji("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,k;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ji._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(k=m.multiFactorSession)&&void 0!==k&&k.idToken)return Ji._fromIdtoken(m.multiFactorSession.idToken)}return null}}class jn{constructor(m,_,k){this.session=m,this.hints=_,this.signInResolver=k}static _fromError(m,_){const k=Ii(m),se=_.customData._serverResponse,Se=(se.mfaInfo||[]).map(sn=>Vn._fromServerResponse(k,sn));Y(se.mfaPendingCredential,k,"internal-error");const Ut=Ji._fromMfaPendingCredential(se.mfaPendingCredential);return new jn(Ut,Se,function(){var sn=(0,l.Z)(function*(Pn){const ti=yield Pn._process(k,Ut);delete se.mfaInfo,delete se.mfaPendingCredential;const mi=Object.assign(Object.assign({},se),{idToken:ti.idToken,refreshToken:ti.refreshToken});switch(_.operationType){case"signIn":const rr=yield Hi._fromIdTokenResponse(k,_.operationType,mi);return yield k._updateCurrentUser(rr.user),rr;case"reauthenticate":return Y(_.user,k,"internal-error"),Hi._forOperation(_.user,_.operationType,mi);default:fe(k,"internal-error")}});return function(Pn){return sn.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,l.Z)(function*(){return _.signInResolver(m)})()}}function to(I,m){var _;const k=(0,p.m9)(I),se=m;return Y(m.customData.operationType,k,"argument-error"),Y(null===(_=se.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,k,"argument-error"),jn._fromError(k,se)}class is{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(k=>Vn._fromServerResponse(m.auth,k)))})}static _fromUser(m){return new is(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Ji._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var k=this;return(0,l.Z)(function*(){const se=m,Se=yield k.getSession(),Ut=yield cn(k.user,se._process(k.user.auth,Se,_));return yield k.user._updateTokensIfNecessary(Ut),k.user.reload()})()}unenroll(m){var _=this;return(0,l.Z)(function*(){const k="string"==typeof m?m:m.uid,se=yield _.user.getIdToken();try{const Se=yield cn(_.user,function Rs(I,m){return Rt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",mt(I,m))}(_.user.auth,{idToken:se,mfaEnrollmentId:k}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ut})=>Ut!==k),yield _.user._updateTokensIfNecessary(Se),yield _.user.reload()}catch(Se){throw Se}})()}}const Es=new WeakMap;function tc(I){const m=(0,p.m9)(I);return Es.has(m)||Es.set(m,is._fromUser(m)),Es.get(m)}const ga="__sak";class _c{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ga,"1"),this.storage.removeItem(ga),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const rs=(()=>{class I extends _c{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,k)=>this.onStorageEvent(_,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nc(){const I=(0,p.z$)();return U(I)||Ne(I)}()&&function zn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const k of Object.keys(this.listeners)){const se=this.storage.getItem(k),Se=this.localCache[k];se!==Se&&_(k,Se,se)}}onStorageEvent(_,k=!1){if(!_.key)return void this.forAllChangedKeys((sn,Pn,ti)=>{this.notifyListeners(sn,ti)});const se=_.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const sn=this.storage.getItem(se);if(_.newValue!==sn)null!==_.newValue?this.storage.setItem(se,_.newValue):this.storage.removeItem(se);else if(this.localCache[se]===_.newValue&&!k)return}const Se=()=>{const sn=this.storage.getItem(se);!k&&this.localCache[se]===sn||this.notifyListeners(se,sn)},Ut=this.storage.getItem(se);!function wt(){return(0,p.w1)()&&10===document.documentMode}()||Ut===_.newValue||_.newValue===_.oldValue?Se():setTimeout(Se,10)}notifyListeners(_,k){this.localCache[_]=k;const se=this.listeners[_];if(se)for(const Se of Array.from(se))Se(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,k,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:k,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(k)}_removeListener(_,k){this.listeners[_]&&(this.listeners[_].delete(k),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,k){var se=()=>super._set,Se=this;return(0,l.Z)(function*(){yield se().call(Se,_,k),Se.localCache[_]=JSON.stringify(k)})()}_get(_){var k=()=>super._get,se=this;return(0,l.Z)(function*(){const Se=yield k().call(se,_);return se.localCache[_]=JSON.stringify(Se),Se})()}_remove(_){var k=()=>super._remove,se=this;return(0,l.Z)(function*(){yield k().call(se,_),delete se.localCache[_]})()}}return I.type="LOCAL",I})(),Aa=(()=>{class I extends _c{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,k){}_removeListener(_,k){}}return I.type="SESSION",I})();let In=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const k=this.receivers.find(Se=>Se.isListeningto(_));if(k)return k;const se=new I(_);return this.receivers.push(se),se}isListeningto(_){return this.eventTarget===_}handleEvent(_){var k=this;return(0,l.Z)(function*(){const se=_,{eventId:Se,eventType:Ut,data:sn}=se.data,Pn=k.handlersMap[Ut];if(!Pn?.size)return;se.ports[0].postMessage({status:"ack",eventId:Se,eventType:Ut});const ti=Array.from(Pn).map(function(){var rr=(0,l.Z)(function*(la){return la(se.origin,sn)});return function(la){return rr.apply(this,arguments)}}()),mi=yield function ic(I){return Promise.all(I.map(function(){var m=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(k){return{fulfilled:!1,reason:k}}});return function(_){return m.apply(this,arguments)}}()))}(ti);se.ports[0].postMessage({status:"done",eventId:Se,eventType:Ut,response:mi})})()}_subscribe(_,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(k)}_unsubscribe(_,k){this.handlersMap[_]&&k&&this.handlersMap[_].delete(k),(!k||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function gr(I="",m=10){let _="";for(let k=0;k<m;k++)_+=Math.floor(10*Math.random());return I+_}class Cs{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,k=50){var se=this;return(0,l.Z)(function*(){const Se=typeof MessageChannel<"u"?new MessageChannel:null;if(!Se)throw new Error("connection_unavailable");let Ut,sn;return new Promise((Pn,ti)=>{const mi=gr("",20);Se.port1.start();const rr=setTimeout(()=>{ti(new Error("unsupported_event"))},k);sn={messageChannel:Se,onMessage(la){const ra=la;if(ra.data.eventId===mi)switch(ra.data.status){case"ack":clearTimeout(rr),Ut=setTimeout(()=>{ti(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ut),Pn(ra.data.response);break;default:clearTimeout(rr),clearTimeout(Ut),ti(new Error("invalid_response"))}}},se.handlers.add(sn),Se.port1.addEventListener("message",sn.onMessage),se.target.postMessage({eventType:m,eventId:mi,data:_},[Se.port2])}).finally(()=>{sn&&se.removeMessageHandler(sn)})})()}}function G(){return window}function b(){return typeof G().WorkerGlobalScope<"u"&&"function"==typeof G().importScripts}function z(){return(z=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const tt="firebaseLocalStorageDb",on="firebaseLocalStorage",Ln="fbase_key";class Yn{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Bi(I,m){return I.transaction([on],m?"readwrite":"readonly").objectStore(on)}function ui(){const I=indexedDB.open(tt,1);return new Promise((m,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const k=I.result;try{k.createObjectStore(on,{keyPath:Ln})}catch(se){_(se)}}),I.addEventListener("success",(0,l.Z)(function*(){const k=I.result;k.objectStoreNames.contains(on)?m(k):(k.close(),yield function Ti(){const I=indexedDB.deleteDatabase(tt);return new Yn(I).toPromise()}(),m(yield ui()))}))})}function xi(I,m,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(I,m,_){const k=Bi(I,!0).put({[Ln]:m,value:_});return new Yn(k).toPromise()})).apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(I,m){const _=Bi(I,!1).get(m),k=yield new Yn(_).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function ai(I,m){const _=Bi(I,!0).delete(m);return new Yn(_).toPromise()}const Qn=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ui()),_.db})()}_withRetries(_){var k=this;return(0,l.Z)(function*(){let se=0;for(;;)try{const Se=yield k._openDb();return yield _(Se)}catch(Se){if(se++>3)throw Se;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return b()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=In._getInstance(function Me(){return b()?self:null}()),_.receiver._subscribe("keyChanged",function(){var k=(0,l.Z)(function*(se,Se){return{keyProcessed:(yield _._poll()).includes(Se.key)}});return function(se,Se){return k.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var k=(0,l.Z)(function*(se,Se){return["keyChanged"]});return function(se,Se){return k.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var k,se;if(_.activeServiceWorker=yield function R(){return z.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Cs(_.activeServiceWorker);const Se=yield _.sender._send("ping",{},800);Se&&null!==(k=Se[0])&&void 0!==k&&k.fulfilled&&null!==(se=Se[0])&&void 0!==se&&se.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var k=this;return(0,l.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function q(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:_},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ui();return yield xi(_,ga,"1"),yield ai(_,ga),!0}catch{}return!1})()}_withPendingWrite(_){var k=this;return(0,l.Z)(function*(){k.pendingWrites++;try{yield _()}finally{k.pendingWrites--}})()}_set(_,k){var se=this;return(0,l.Z)(function*(){return se._withPendingWrite((0,l.Z)(function*(){return yield se._withRetries(Se=>xi(Se,_,k)),se.localCache[_]=k,se.notifyServiceWorker(_)}))})()}_get(_){var k=this;return(0,l.Z)(function*(){const se=yield k._withRetries(Se=>function ko(I,m){return Hr.apply(this,arguments)}(Se,_));return k.localCache[_]=se,se})()}_remove(_){var k=this;return(0,l.Z)(function*(){return k._withPendingWrite((0,l.Z)(function*(){return yield k._withRetries(se=>ai(se,_)),delete k.localCache[_],k.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const k=yield _._withRetries(Ut=>{const sn=Bi(Ut,!1).getAll();return new Yn(sn).toPromise()});if(!k)return[];if(0!==_.pendingWrites)return[];const se=[],Se=new Set;for(const{fbase_key:Ut,value:sn}of k)Se.add(Ut),JSON.stringify(_.localCache[Ut])!==JSON.stringify(sn)&&(_.notifyListeners(Ut,sn),se.push(Ut));for(const Ut of Object.keys(_.localCache))_.localCache[Ut]&&!Se.has(Ut)&&(_.notifyListeners(Ut,null),se.push(Ut));return se})()}notifyListeners(_,k){this.localCache[_]=k;const se=this.listeners[_];if(se)for(const Se of Array.from(se))Se(k)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(k)}_removeListener(_,k){this.listeners[_]&&(this.listeners[_].delete(k),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),O=1e12;class C{constructor(m){this.auth=m,this.counter=O,this._widgets=new Map}render(m,_){const k=this.counter;return this._widgets.set(k,new N(m,this.auth.name,_||{})),this.counter++,k}reset(m){var _;const k=m||O;null===(_=this._widgets.get(k))||void 0===_||_.delete(),this._widgets.delete(k)}getResponse(m){var _;return(null===(_=this._widgets.get(m||O))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,l.Z)(function*(){var k;return null===(k=_._widgets.get(m||O))||void 0===k||k.execute(),""})()}}class N{constructor(m,_,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof m?document.getElementById(m):m;Y(se,"argument-error",{appName:_}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Z(I){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<I;k++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ge=br("rcb"),ye=new bt(3e4,6e4);class gn{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=G().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return Y(function ii(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&An(G().grecaptcha)?Promise.resolve(G().grecaptcha):new Promise((k,se)=>{const Se=G().setTimeout(()=>{se(Ee(m,"network-request-failed"))},ye.get());G()[ge]=()=>{G().clearTimeout(Se),delete G()[ge];const sn=G().grecaptcha;if(!sn||!An(sn))return void se(Ee(m,"internal-error"));const Pn=sn.render;sn.render=(ti,mi)=>{const rr=Pn(ti,mi);return this.counter++,rr},this.hostLanguage=_,k(sn)},wi(`https://www.google.com/recaptcha/api.js??${(0,p.xO)({onload:ge,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(Se),se(Ee(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=G().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bn{load(m){return(0,l.Z)(function*(){return new C(m)})()}clearedOneInstance(){}}const Vi="recaptcha",Ui={theme:"light",type:"image"};class _a{constructor(m,_=Object.assign({},Ui),k){this.parameters=_,this.type=Vi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ii(k),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof m?document.getElementById(m):m;Y(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bn:new gn,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),k=m.getAssertedRecaptcha();return k.getResponse(_)||new Promise(Se=>{const Ut=sn=>{sn&&(m.tokenChangeListeners.delete(Ut),Se(sn))};m.tokenChangeListeners.add(Ut),m.isInvisible&&k.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(k=>k(_)),"function"==typeof m)m(_);else if("string"==typeof m){const k=G()[m];"function"==typeof k&&k(_)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const k=document.createElement("div");_.appendChild(k),_=k}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){Y(Tt()&&!b(),m.auth,"internal-error"),yield function ps(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function kt(I){return At.apply(this,arguments)}(m.auth);Y(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zr{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=cr._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Yt(I,m,_){return $r.apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(I,m,_){const k=Ii(I),se=yield al(k,m,(0,p.m9)(_));return new zr(se,Se=>K(k,Se))})).apply(this,arguments)}function $o(I,m,_){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(I,m,_){const k=(0,p.m9)(I);yield Sn(!1,k,"phone");const se=yield al(k.auth,m,(0,p.m9)(_));return new zr(se,Se=>v(k,Se))})).apply(this,arguments)}function vc(I,m,_){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(I,m,_){const k=(0,p.m9)(I),se=yield al(k.auth,m,(0,p.m9)(_));return new zr(se,Se=>ie(k,Se))})).apply(this,arguments)}function al(I,m,_){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,l.Z)(function*(I,m,_){var k;const se=yield _.verify();try{let Se;if(Y("string"==typeof se,I,"argument-error"),Y(_.type===Vi,I,"argument-error"),Se="string"==typeof m?{phoneNumber:m}:m,"session"in Se){const Ut=Se.session;if("phoneNumber"in Se)return Y("enroll"===Ut.type,I,"internal-error"),(yield function fs(I,m){return Rt(I,"POST","/v2/accounts/mfaEnrollment:start",mt(I,m))}(I,{idToken:Ut.credential,phoneEnrollmentInfo:{phoneNumber:Se.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Y("signin"===Ut.type,I,"internal-error");const sn=(null===(k=Se.multiFactorHint)||void 0===k?void 0:k.uid)||Se.multiFactorUid;return Y(sn,I,"missing-multi-factor-info"),(yield function Ps(I,m){return Rt(I,"POST","/v2/accounts/mfaSignIn:start",mt(I,m))}(I,{mfaPendingCredential:Ut.credential,mfaEnrollmentId:sn,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ut}=yield function Yo(I,m){return Do.apply(this,arguments)}(I,{phoneNumber:Se.phoneNumber,recaptchaToken:se});return Ut}}finally{_._reset()}}),Ea.apply(this,arguments)}function kd(I,m){return bc.apply(this,arguments)}function bc(){return(bc=(0,l.Z)(function*(I,m){yield st((0,p.m9)(I),m)})).apply(this,arguments)}let Nh=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=Ii(_)}verifyPhoneNumber(_,k){return al(this.auth,_,(0,p.m9)(k))}static credential(_,k){return cr._fromVerification(_,k)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:k,temporaryProof:se}=_;return k&&se?cr._fromTokenResponse(k,se):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ca(I,m){return m?je(m):(Y(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ds extends ls{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return $i(m,this._buildIdpRequest())}_linkToIdToken(m,_){return $i(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return $i(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Gs(I){return ho(I.auth,new Ds(I),I.bypassAuthState)}function Oa(I){const{auth:m,user:_}=I;return Y(_,m,"internal-error"),Nr(_,new Ds(I),I.bypassAuthState)}function Nc(I){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(I){const{auth:m,user:_}=I;return Y(_,m,"internal-error"),st(_,new Ds(I),I.bypassAuthState)})).apply(this,arguments)}class Ad{constructor(m,_,k,se,Se=!1){this.auth=m,this.resolver=k,this.user=se,this.bypassAuthState=Se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,l.Z)(function*(k,se){m.pendingPromise={resolve:k,reject:se};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Se){m.reject(Se)}});return function(k,se){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,l.Z)(function*(){const{urlResponse:k,sessionId:se,postBody:Se,tenantId:Ut,error:sn,type:Pn}=m;if(sn)return void _.reject(sn);const ti={auth:_.auth,requestUri:k,sessionId:se,tenantId:Ut||void 0,postBody:Se||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pn)(ti))}catch(mi){_.reject(mi)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Gs;case"linkViaPopup":case"linkViaRedirect":return Nc;case"reauthViaPopup":case"reauthViaRedirect":return Oa;default:fe(this.auth,"internal-error")}}resolve(m){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cl=new bt(2e3,1e4);function os(I,m,_){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(I,m,_){const k=Ii(I);pe(I,m,To);const se=Ca(k,_);return new hl(k,"signInViaPopup",m,se).executeNotNull()})).apply(this,arguments)}function aa(I,m,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(I,m,_){const k=(0,p.m9)(I);pe(k.auth,m,To);const se=Ca(k.auth,_);return new hl(k.auth,"reauthViaPopup",m,se,k).executeNotNull()})).apply(this,arguments)}function dl(I,m,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(I,m,_){const k=(0,p.m9)(I);pe(k.auth,m,To);const se=Ca(k.auth,_);return new hl(k.auth,"linkViaPopup",m,se,k).executeNotNull()})).apply(this,arguments)}let hl=(()=>{class I extends Ad{constructor(_,k,se,Se,Ut){super(_,k,Se,Ut),this.provider=se,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const k=yield _.execute();return Y(k,_.auth,"internal-error"),k})()}onExecution(){var _=this;return(0,l.Z)(function*(){Ue(1===_.filter.length,"Popup operations only handle one event");const k=gr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],k),_.authWindow.associatedEvent=k,_.resolver._originValidation(_.auth).catch(se=>{_.reject(se)}),_.resolver._isIframeWebStorageSupported(_.auth,se=>{se||_.reject(Ee(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var k,se;this.pollId=null!==(se=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,cl.get())};_()}}return I.currentPopupAction=null,I})();const Hl="pendingRedirect",Ra=new Map;class Lh extends Ad{constructor(m,_,k=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,k),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,l.Z)(function*(){let k=Ra.get(_.auth._key());if(!k){try{const Se=(yield function Ou(I,m){return wc.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;k=()=>Promise.resolve(Se)}catch(se){k=()=>Promise.reject(se)}Ra.set(_.auth._key(),k)}return _.bypassAuthState||Ra.set(_.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,k=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(k,m);if("unknown"!==m.type){if(m.eventId){const se=yield k.auth._redirectUserForId(m.eventId);if(se)return k.user=se,_().call(k,m);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function wc(){return(wc=(0,l.Z)(function*(I,m){const _=Ru(m),k=Va(I);if(!(yield k._isAvailable()))return!1;const se="true"===(yield k._get(_));return yield k._remove(_),se})).apply(this,arguments)}function zl(I,m){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(I,m){return Va(I)._set(Ru(m),"true")})).apply(this,arguments)}function Bh(){Ra.clear()}function ml(I,m){Ra.set(I._key(),m)}function Va(I){return je(I._redirectPersistence)}function Ru(I){return Kt(Hl,I.config.apiKey,I.name)}function Gl(I,m,_){return function fl(I,m,_){return ja.apply(this,arguments)}(I,m,_)}function ja(){return(ja=(0,l.Z)(function*(I,m,_){const k=Ii(I);pe(I,m,To),yield k._initializationPromise;const se=Ca(k,_);return yield zl(se,k),se._openRedirect(k,m,"signInViaRedirect")})).apply(this,arguments)}function Od(I,m,_){return function Wl(I,m,_){return Lc.apply(this,arguments)}(I,m,_)}function Lc(){return(Lc=(0,l.Z)(function*(I,m,_){const k=(0,p.m9)(I);pe(k.auth,m,To),yield k.auth._initializationPromise;const se=Ca(k.auth,_);yield zl(se,k.auth);const Se=yield ss(k);return se._openRedirect(k.auth,m,"reauthViaRedirect",Se)})).apply(this,arguments)}function Kl(I,m,_){return function gs(I,m,_){return Bc.apply(this,arguments)}(I,m,_)}function Bc(){return(Bc=(0,l.Z)(function*(I,m,_){const k=(0,p.m9)(I);pe(k.auth,m,To),yield k.auth._initializationPromise;const se=Ca(k.auth,_);yield Sn(!1,k,m.providerId),yield zl(se,k.auth);const Se=yield ss(k);return se._openRedirect(k.auth,m,"linkViaRedirect",Se)})).apply(this,arguments)}function ta(I,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(I,m){return yield Ii(I)._initializationPromise,_r(I,m,!1)})).apply(this,arguments)}function _r(I,m){return oc.apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(I,m,_=!1){const k=Ii(I),se=Ca(k,m),Ut=yield new Lh(k,se,_).execute();return Ut&&!_&&(delete Ut.user._redirectEventId,yield k._persistUserIfCurrent(Ut.user),yield k._setRedirectUser(null,m)),Ut})).apply(this,arguments)}function ss(I){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(I){const m=gr(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Fa{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(m,k)&&(_=!0,this.sendToConsumer(m,k),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Rd(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pl(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var k;if(m.error&&!pl(m)){const se=(null===(k=m.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";_.onError(Ee(this.auth,se))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const k=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&k}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fs(m))}saveEventToCache(m){this.cachedEventUids.add(Fs(m)),this.lastProcessedEventTime=Date.now()}}function Fs(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function pl({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function qo(I){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,l.Z)(function*(I,m={}){return Rt(I,"GET","/v1/projects",m)})).apply(this,arguments)}const xc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xo=/^https?/;function Uc(){return(Uc=(0,l.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield qo(I);for(const _ of m)try{if(ao(_))return}catch{}fe(I,"unauthorized-domain")})).apply(this,arguments)}function ao(I){const m=Qe(),{protocol:_,hostname:k}=new URL(m);if(I.startsWith("chrome-extension://")){const Ut=new URL(I);return""===Ut.hostname&&""===k?"chrome-extension:"===_&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Ut.hostname===k}if(!xo.test(_))return!1;if(xc.test(I))return k===I;const se=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(k)}const Ec=new bt(3e4,6e4);function Cc(){const I=G().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let io=null;const Ls=new bt(5e3,15e3),na="__/auth/iframe",Ga="emulator/auth/iframe",Na={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dc(I){const m=I.config;Y(m.authDomain,I,"auth-domain-config-required");const _=m.emulator?Vt(m,Ga):`https://${I.config.authDomain}/${na}`,k={apiKey:m.apiKey,appName:I.name,v:g.SDK_VERSION},se=Fu.get(I.config.apiHost);se&&(k.eid=se);const Se=I._getFrameworks();return Se.length&&(k.fw=Se.join(",")),`${_}?${(0,p.xO)(k).slice(1)}`}function M(){return M=(0,l.Z)(function*(I){const m=yield function $a(I){return io=io||function za(I){return new Promise((m,_)=>{var k,se,Se;function Ut(){Cc(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Cc(),_(Ee(I,"network-request-failed"))},timeout:Ec.get()})}if(null!==(se=null===(k=G().gapi)||void 0===k?void 0:k.iframes)&&void 0!==se&&se.Iframe)m(gapi.iframes.getContext());else{if(null===(Se=G().gapi)||void 0===Se||!Se.load){const sn=br("iframefcb");return G()[sn]=()=>{gapi.load?Ut():_(Ee(I,"network-request-failed"))},wi(`https://apis.google.com/js/api.js?onload=${sn}`).catch(Pn=>_(Pn))}Ut()}}).catch(m=>{throw io=null,m})}(I),io}(I),_=G().gapi;return Y(_,I,"internal-error"),m.open({where:document.body,url:Dc(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Na,dontclear:!0},k=>new Promise(function(){var se=(0,l.Z)(function*(Se,Ut){yield k.restyle({setHideOnLeave:!1});const sn=Ee(I,"network-request-failed"),Pn=G().setTimeout(()=>{Ut(sn)},Ls.get());function ti(){G().clearTimeout(Pn),Se(k)}k.ping(ti).then(ti,()=>{Ut(sn)})});return function(Se,Ut){return se.apply(this,arguments)}}()))}),M.apply(this,arguments)}const L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dn{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const di="__/auth/handler",Ni="emulator/auth/handler",Mi=encodeURIComponent("fac");function Is(I,m,_,k,se,Se){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(I,m,_,k,se,Se){Y(I.config.authDomain,I,"auth-domain-config-required"),Y(I.config.apiKey,I,"invalid-api-key");const Ut={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:k,v:g.SDK_VERSION,eventId:se};if(m instanceof To){m.setDefaultLanguage(I.languageCode),Ut.providerId=m.providerId||"",(0,p.xb)(m.getCustomParameters())||(Ut.customParameters=JSON.stringify(m.getCustomParameters()));for(const[mi,rr]of Object.entries(Se||{}))Ut[mi]=rr}if(m instanceof Qr){const mi=m.getScopes().filter(rr=>""!==rr);mi.length>0&&(Ut.scopes=mi.join(","))}I.tenantId&&(Ut.tid=I.tenantId);const sn=Ut;for(const mi of Object.keys(sn))void 0===sn[mi]&&delete sn[mi];const Pn=yield I._getAppCheckToken(),ti=Pn?`#${Mi}=${encodeURIComponent(Pn)}`:"";return`${function Wa({config:I}){return I.emulator?Vt(I,Ni):`https://${I.authDomain}/${di}`}(I)}?${(0,p.xO)(sn).slice(1)}${ti}`})).apply(this,arguments)}const Gr="webStorageSupport",ia=class Bs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Aa,this._completeRedirectFn=_r,this._overrideRedirectResult=ml}_openPopup(m,_,k,se){var Se=this;return(0,l.Z)(function*(){var Ut;Ue(null===(Ut=Se.eventManagers[m._key()])||void 0===Ut?void 0:Ut.manager,"_initialize() not called before _openPopup()");const sn=yield Is(m,_,k,Qe(),se);return function Wn(I,m,_,k=500,se=600){const Se=Math.max((window.screen.availHeight-se)/2,0).toString(),Ut=Math.max((window.screen.availWidth-k)/2,0).toString();let sn="";const Pn=Object.assign(Object.assign({},L),{width:k.toString(),height:se.toString(),top:Se,left:Ut}),ti=(0,p.z$)().toLowerCase();_&&(sn=H(ti)?"_blank":_),j(ti)&&(m=m||"http://localhost",Pn.scrollbars="yes");const mi=Object.entries(Pn).reduce((la,[ra,Bd])=>`${la}${ra}=${Bd},`,"");if(function De(I=(0,p.z$)()){var m;return Ne(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(ti)&&"_self"!==sn)return function Hn(I,m){const _=document.createElement("a");_.href=I,_.target=m;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(k)}(m||"",sn),new dn(null);const rr=window.open(m||"",sn,mi);Y(rr,I,"popup-blocked");try{rr.focus()}catch{}return new dn(rr)}(m,sn,gr())})()}_openRedirect(m,_,k,se){var Se=this;return(0,l.Z)(function*(){return yield Se._originValidation(m),function y(I){G().location.href=I}(yield Is(m,_,k,Qe(),se)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:se,promise:Se}=this.eventManagers[_];return se?Promise.resolve(se):(Ue(Se,"If manager is not set, promise should be"),Se)}const k=this.initAndGetManager(m);return this.eventManagers[_]={promise:k},k.catch(()=>{delete this.eventManagers[_]}),k}initAndGetManager(m){var _=this;return(0,l.Z)(function*(){const k=yield function Nu(I){return M.apply(this,arguments)}(m),se=new Fa(m);return k.register("authEvent",Se=>(Y(Se?.authEvent,m,"invalid-auth-event"),{status:se.onEvent(Se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:se},_.iframes[m._key()]=k,se})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Gr,{type:Gr},se=>{var Se;const Ut=null===(Se=se?.[0])||void 0===Se?void 0:Se[Gr];void 0!==Ut&&_(!!Ut),fe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ha(I){return Uc.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return jt()||U()||Ne()}};class Da{constructor(m){this.factorId=m}_process(m,_,k){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,k);case"signin":return this._finalizeSignIn(m,_.credential);default:return Ze("unexpected MultiFactorSessionType")}}}class va extends Da{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new va(m)}_finalizeEnroll(m,_,k){return function Vr(I,m){return Rt(I,"POST","/v2/accounts/mfaEnrollment:finalize",mt(I,m))}(m,{idToken:_,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Fi(I,m){return Rt(I,"POST","/v2/accounts/mfaSignIn:finalize",mt(I,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pd=(()=>{class I{constructor(){}static assertion(_){return va._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Ic="@firebase/auth";class nf{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(k=>{m(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jh=(0,p.Pz)("authIdTokenMaxAge")||300;let Hh=null;const sf=I=>function(){var m=(0,l.Z)(function*(_){const k=_&&(yield _.getIdTokenResult()),se=k&&((new Date).getTime()-Date.parse(k.issuedAtTime))/1e3;if(se&&se>jh)return;const Se=k?.token;Hh!==Se&&(Hh=Se,yield fetch(I,{method:Se?"POST":"DELETE",headers:Se?{Authorization:`Bearer ${Se}`}:{}}))});return function(_){return m.apply(this,arguments)}}();function Ld(I=(0,g.getApp)()){const m=(0,g._getProvider)(I,"auth");if(m.isInitialized())return m.getImmediate();const _=function Zr(I,m){const _=(0,g._getProvider)(I,"auth");if(_.isInitialized()){const se=_.getImmediate(),Se=_.getOptions();if((0,p.vZ)(Se,m??{}))return se;fe(se,"already-initialized")}return _.initialize({options:m})}(I,{popupRedirectResolver:ia,persistence:[Qn,rs,Aa]}),k=(0,p.Pz)("authTokenSyncURL");if(k){const Se=sf(k);(function rn(I,m,_){(0,p.m9)(I).beforeAuthStateChanged(m,_)})(_,Se,()=>Se(_.currentUser)),function it(I,m,_,k){(0,p.m9)(I).onIdTokenChanged(m,_,k)}(_,Ut=>Se(Ut))}const se=(0,p.q4)("auth");return se&&or(_,`http://${se}`),_}!function Vh(I){(0,g._registerComponent)(new ae.wA("auth",(m,{options:_})=>{const k=m.getProvider("app").getImmediate(),se=m.getProvider("heartbeat"),Se=m.getProvider("app-check-internal"),{apiKey:Ut,authDomain:sn}=k.options;Y(Ut&&!Ut.includes(":"),"invalid-api-key",{appName:k.name});const Pn={apiKey:Ut,authDomain:sn,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ei(I)},ti=new po(k,se,Se,Pn);return function Ur(I,m){const _=m?.persistence||[],k=(Array.isArray(_)?_:[_]).map(je);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(k,m?.popupRedirectResolver)}(ti,_),ti},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,k)=>{m.getProvider("auth-internal").initialize()})),(0,g._registerComponent)(new ae.wA("auth-internal",m=>{const _=Ii(m.getProvider("auth").getImmediate());return new nf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,g.registerVersion)(Ic,"0.23.2",function Nd(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,g.registerVersion)(Ic,"0.23.2","esm2017")}("Browser")},2090:(pn,rt,w)=>{w.d(rt,{$s:()=>je,BH:()=>ue,G6:()=>Vt,L:()=>Ce,LL:()=>qt,Pz:()=>Ee,Sg:()=>pe,UG:()=>Ze,US:()=>ae,ZB:()=>ve,ZR:()=>Rt,aH:()=>fe,b$:()=>Tt,eu:()=>Ht,hl:()=>dt,jU:()=>Ue,m9:()=>Kt,ne:()=>cn,pd:()=>Pt,q4:()=>Oe,r3:()=>qe,ru:()=>Qe,tV:()=>oe,uI:()=>Y,vZ:()=>yt,w1:()=>kn,xO:()=>pt,xb:()=>yn,z$:()=>Le,zI:()=>Be,zd:()=>ht});const te=function(Pe){const le=[];let j=0;for(let U=0;U<Pe.length;U++){let H=Pe.charCodeAt(U);H<128?le[j++]=H:H<2048?(le[j++]=H>>6|192,le[j++]=63&H|128):55296==(64512&H)&&U+1<Pe.length&&56320==(64512&Pe.charCodeAt(U+1))?(H=65536+((1023&H)<<10)+(1023&Pe.charCodeAt(++U)),le[j++]=H>>18|240,le[j++]=H>>12&63|128,le[j++]=H>>6&63|128,le[j++]=63&H|128):(le[j++]=H>>12|224,le[j++]=H>>6&63|128,le[j++]=63&H|128)}return le},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,le){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let H=0;H<Pe.length;H+=3){const de=Pe[H],ce=H+1<Pe.length,Te=ce?Pe[H+1]:0,Re=H+2<Pe.length,Ne=Re?Pe[H+2]:0;let wt=(15&Te)<<2|Ne>>6,jt=63&Ne;Re||(jt=64,ce||(wt=64)),U.push(j[de>>2],j[(3&de)<<4|Te>>4],j[wt],j[jt])}return U.join("")},encodeString(Pe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(Pe):this.encodeByteArray(te(Pe),le)},decodeString(Pe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(Pe):function(Pe){const le=[];let j=0,U=0;for(;j<Pe.length;){const H=Pe[j++];if(H<128)le[U++]=String.fromCharCode(H);else if(H>191&&H<224){const de=Pe[j++];le[U++]=String.fromCharCode((31&H)<<6|63&de)}else if(H>239&&H<365){const Re=((7&H)<<18|(63&Pe[j++])<<12|(63&Pe[j++])<<6|63&Pe[j++])-65536;le[U++]=String.fromCharCode(55296+(Re>>10)),le[U++]=String.fromCharCode(56320+(1023&Re))}else{const de=Pe[j++],ce=Pe[j++];le[U++]=String.fromCharCode((15&H)<<12|(63&de)<<6|63&ce)}}return le.join("")}(this.decodeStringToByteArray(Pe,le))},decodeStringToByteArray(Pe,le){this.init_();const j=le?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let H=0;H<Pe.length;){const de=j[Pe.charAt(H++)],Te=H<Pe.length?j[Pe.charAt(H)]:0;++H;const Ne=H<Pe.length?j[Pe.charAt(H)]:64;++H;const De=H<Pe.length?j[Pe.charAt(H)]:64;if(++H,null==de||null==Te||null==Ne||null==De)throw new W;U.push(de<<2|Te>>4),64!==Ne&&(U.push(Te<<4&240|Ne>>2),64!==De&&U.push(Ne<<6&192|De))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(Pe){return function(Pe){const le=te(Pe);return ae.encodeByteArray(le,!0)}(Pe).replace(/\./g,"")},oe=function(Pe){try{return ae.decodeString(Pe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function ve(Pe,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return le}for(const j in le)!le.hasOwnProperty(j)||!ze(j)||(Pe[j]=ve(Pe[j],le[j]));return Pe}function ze(Pe){return"__proto__"!==Pe}const Ve=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Pe=process.env.__FIREBASE_DEFAULTS__;return Pe?JSON.parse(Pe):void 0})()||(()=>{if(typeof document>"u")return;let Pe;try{Pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=Pe&&oe(Pe[1]);return le&&JSON.parse(le)})()}catch(Pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pe}`)}},Oe=Pe=>{var le,j;return null===(j=null===(le=Ve())||void 0===le?void 0:le.emulatorHosts)||void 0===j?void 0:j[Pe]},fe=()=>{var Pe;return null===(Pe=Ve())||void 0===Pe?void 0:Pe.config},Ee=Pe=>{var le;return null===(le=Ve())||void 0===le?void 0:le[`_${Pe}`]};class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,j)=>{this.resolve=le,this.reject=j})}wrapCallback(le){return(j,U)=>{j?this.reject(j):this.resolve(U),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(j):le(j,U))}}}function pe(Pe,le){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=le||"demo-project",H=Pe.iat||0,de=Pe.sub||Pe.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ce=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:H,exp:H+3600,auth_time:H,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(ce)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ze(){var Pe;const le=null===(Pe=Ve())||void 0===Pe?void 0:Pe.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return"object"==typeof self&&self.self===self}function Qe(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function Tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kn(){const Pe=Le();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function Vt(){return!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dt(){try{return"object"==typeof indexedDB}catch{return!1}}function Ht(){return new Promise((Pe,le)=>{try{let j=!0;const U="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(U);H.onsuccess=()=>{H.result.close(),j||self.indexedDB.deleteDatabase(U),Pe(!0)},H.onupgradeneeded=()=>{j=!1},H.onerror=()=>{var de;le((null===(de=H.error)||void 0===de?void 0:de.message)||"")}}catch(j){le(j)}})}function Be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Rt extends Error{constructor(le,j,U){super(j),this.code=le,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,Rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(le,j,U){this.service=le,this.serviceName=j,this.errors=U}create(le,...j){const U=j[0]||{},H=`${this.service}/${le}`,de=this.errors[le],ce=de?function Mt(Pe,le){return Pe.replace(Xe,(j,U)=>{const H=le[U];return null!=H?String(H):`<${U}?>`})}(de,U):"Error";return new Rt(H,`${this.serviceName}: ${ce} (${H}).`,U)}}const Xe=/\{\$([^}]+)}/g;function qe(Pe,le){return Object.prototype.hasOwnProperty.call(Pe,le)}function yn(Pe){for(const le in Pe)if(Object.prototype.hasOwnProperty.call(Pe,le))return!1;return!0}function yt(Pe,le){if(Pe===le)return!0;const j=Object.keys(Pe),U=Object.keys(le);for(const H of j){if(!U.includes(H))return!1;const de=Pe[H],ce=le[H];if(he(de)&&he(ce)){if(!yt(de,ce))return!1}else if(de!==ce)return!1}for(const H of U)if(!j.includes(H))return!1;return!0}function he(Pe){return null!==Pe&&"object"==typeof Pe}function pt(Pe){const le=[];for(const[j,U]of Object.entries(Pe))Array.isArray(U)?U.forEach(H=>{le.push(encodeURIComponent(j)+"="+encodeURIComponent(H))}):le.push(encodeURIComponent(j)+"="+encodeURIComponent(U));return le.length?"&"+le.join("&"):""}function ht(Pe){const le={};return Pe.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[H,de]=U.split("=");le[decodeURIComponent(H)]=decodeURIComponent(de)}}),le}function Pt(Pe){const le=Pe.indexOf("?");if(!le)return"";const j=Pe.indexOf("#",le);return Pe.substring(le,j>0?j:void 0)}function cn(Pe,le){const j=new $n(Pe,le);return j.subscribe.bind(j)}class $n{constructor(le,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{le(this)}).catch(U=>{this.error(U)})}next(le){this.forEachObserver(j=>{j.next(le)})}error(le){this.forEachObserver(j=>{j.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,j,U){let H;if(void 0===le&&void 0===j&&void 0===U)throw new Error("Missing Observer.");H=function xn(Pe,le){if("object"!=typeof Pe||null===Pe)return!1;for(const j of le)if(j in Pe&&"function"==typeof Pe[j])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:j,complete:U},void 0===H.next&&(H.next=ln),void 0===H.error&&(H.error=ln),void 0===H.complete&&(H.complete=ln);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),de}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,le)}sendOne(le,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{j(this.observers[le])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}const en=1e3,ct=2,ut=144e5,We=.5;function je(Pe,le=en,j=ct){const U=le*Math.pow(j,Pe),H=Math.round(We*U*(Math.random()-.5)*2);return Math.min(ut,U+H)}function Kt(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},8854:(pn,rt,w)=>{w.d(rt,{q:()=>bs});var l=w(1728),p=w(8410),g=w(6012),te=w(6286),xe=w(430),ae=w(8467),W=w(2223),oe=(w(1692),w(2966),w(1217)),Fe=(w(727),w(6451),w(7579),w(829)),at=w(4755);let Je=(()=>{class et{}return et.\u0275fac=function(X){return new(X||et)},et.\u0275mod=W.oAB({type:et}),et.\u0275inj=W.cJS({imports:[oe.BQ,oe.BQ]}),et})();w(706),w(2840),w(9401),w(2722);let ut=(()=>{class et{}return et.\u0275fac=function(X){return new(X||et)},et.\u0275mod=W.oAB({type:et}),et.\u0275inj=W.cJS({imports:[Fe.Q8,at.ez,oe.BQ,oe.si,oe.us,Je]}),et})();var We=w(9383),je=w(4709);w(1591);let An=(()=>{class et{}return et.\u0275fac=function(X){return new(X||et)},et.\u0275mod=W.oAB({type:et}),et.\u0275inj=W.cJS({imports:[at.ez,oe.BQ,je.ZD,je.ZD,oe.BQ]}),et})();var Nn=w(2659),ci=w(9002);let ds=(()=>{class et{}return et.\u0275fac=function(X){return new(X||et)},et.\u0275mod=W.oAB({type:et}),et.\u0275inj=W.cJS({imports:[oe.BQ,at.ez,Fe.Q8,oe.BQ]}),et})();const Ki={provide:new W.OlP("mat-select-scroll-strategy"),deps:[ci.aV],useFactory:function Sr(et){return()=>et.scrollStrategies.reposition()}};let Ho=(()=>{class et{}return et.\u0275fac=function(X){return new(X||et)},et.\u0275mod=W.oAB({type:et}),et.\u0275inj=W.cJS({providers:[Ki],imports:[at.ez,ci.U8,oe.Ng,oe.BQ,je.ZD,ds,oe.Ng,oe.BQ]}),et})();var Hs=w(3617),As=w(1292);let bs=(()=>{class et{}return et.\u0275fac=function(X){return new(X||et)},et.\u0275mod=W.oAB({type:et}),et.\u0275inj=W.cJS({imports:[l.ot,p._r,g.QW,te.Is,xe.Ps,ae.Cq,ut,We.g0,An,Nn.Tx,Ho,Hs.Nh,As.p9]}),et})()},8970:(pn,rt,w)=>{w.d(rt,{R:()=>oe});var l=w(8505),p=w(3900),g=w(4128),te=w(4004),xe=w(9300),ae=w(2223),W=w(1762),_e=w(3919),Ce=w(9744);let oe=(()=>{class me{constructor(ze,Fe,at){this.firestore=ze,this.userDataService=Fe,this.notificationsService=at,this.userCollection=this.firestore.collection("Users")}resetFriendsWindowService(){this.listOfFriends=[],this.listOfNotificationFriends=[]}getYourCurrentFriends(){const ze=this.userDataService.getCurrentUserId();return this.userCollection.doc(ze).collection("UserFriends",Fe=>Fe.where("isFriend","==",!0)).valueChanges()}getYourCurrentFriendsInfo(){return this.getYourCurrentFriends().pipe((0,l.b)(ze=>{ze.length<=0&&(this.listOfFriends=[])}),(0,p.w)(ze=>{const at=ze.map(Ge=>Ge.friendId).map(Ge=>this.userCollection.doc(Ge).get());return(0,g.D)(at)}),(0,te.U)(ze=>ze.map(Fe=>Fe.data())),(0,xe.h)(ze=>void 0!==ze),(0,l.b)(ze=>{this.listOfFriends=ze}))}getYourNotificationFriends(){return this.notificationsService.getYourNotificationFriends().pipe((0,l.b)(ze=>{ze.length<=0&&(this.listOfNotificationFriends=[])}),(0,p.w)(ze=>{const at=ze.map(Ge=>Ge.creatorId).map(Ge=>this.userCollection.doc(Ge).get());return(0,g.D)(at)}),(0,te.U)(ze=>ze.map(Fe=>Fe.data())),(0,xe.h)(ze=>void 0!==ze),(0,l.b)(ze=>{this.listOfNotificationFriends=ze}))}}return me.\u0275fac=function(ze){return new(ze||me)(ae.LFG(W.ST),ae.LFG(_e.M),ae.LFG(Ce.T))},me.\u0275prov=ae.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},7312:(pn,rt,w)=>{w.d(rt,{R:()=>_e});var l=w(8505),p=w(3900),g=w(4128),te=w(4004),xe=w(2223),ae=w(1762),W=w(9744);let _e=(()=>{class Ce{constructor(me,ve){this.firestore=me,this.notificationsService=ve,this.userCollection=this.firestore.collection("Users"),this.postCollection=this.firestore.collection("Posts")}resetLikesWindowService(){this.listOfNotificationLikes=[]}getYourNotificationLikes(){return this.notificationsService.getYourNotificationLikes().pipe((0,l.b)(me=>{me.length<=0&&(this.listOfNotificationLikes=[])}),(0,p.w)(me=>{const ve=me.map(Fe=>Fe),ze=ve.map(Fe=>this.userCollection.doc(Fe.creatorId).get());return(0,g.D)(ze).pipe((0,p.w)(Fe=>{const at=ve.map(Ge=>this.postCollection.doc(Ge.postId).get());return(0,g.D)(at).pipe((0,te.U)(Ge=>({notificationLikes:me,users:Fe.map(Je=>Je.data()),posts:Ge.map(Je=>Je.data())})))}))}),(0,l.b)(({notificationLikes:me,users:ve,posts:ze})=>{const Fe=me.map((at,Ge)=>{const Je=ve[Ge],Ve=ze[Ge];return Je?{...at,post:Ve,user:Je}:at});this.listOfNotificationLikes=Fe}))}}return Ce.\u0275fac=function(me){return new(me||Ce)(xe.LFG(ae.ST),xe.LFG(W.T))},Ce.\u0275prov=xe.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},9744:(pn,rt,w)=>{w.d(rt,{T:()=>te});var l=w(2223),p=w(1762),g=w(3919);let te=(()=>{class xe{constructor(W,_e){this.firestore=W,this.userDataService=_e,this.collectionUsers=this.firestore.collection("Users")}getYourNotificationFriends(){const W=this.userDataService.getCurrentUserId();return this.collectionUsers.doc(W).collection("NotificationsFriends",_e=>_e.orderBy("timestamp","desc")).valueChanges()}addNotificationFriend(W,_e){this.collectionUsers.doc(W).collection("NotificationsFriends").doc(_e).set({creatorId:_e,timestamp:new Date}).then()}deleteNotificationFriend(W,_e){this.collectionUsers.doc(W).collection("NotificationsFriends").doc(_e).delete().then()}getYourNotificationLikes(){const W=this.userDataService.getCurrentUserId();return this.collectionUsers.doc(W).collection("NotificationsLikes",_e=>_e.orderBy("timestamp","desc")).valueChanges()}addNotificationLike(W,_e,Ce){if(W!==_e){const oe=this.firestore.createId();this.collectionUsers.doc(W).collection("NotificationsLikes").doc(oe).set({notificationLikeId:oe,postId:Ce,creatorId:_e,timestamp:new Date}).then()}}deleteCheckedNotificationLike(W){const _e=this.userDataService.getCurrentUserId();this.collectionUsers.doc(_e).collection("NotificationsLikes").doc(W).delete().then()}deleteNotificationLike(W,_e,Ce){this.collectionUsers.doc(W).collection("NotificationsLikes").ref.where("creatorId","==",_e).where("postId","==",Ce).get().then(me=>{const ve=me.docs.map(ze=>ze.ref.delete());return Promise.all(ve)}).catch(me=>{console.error("Error deleting documents: ",me)})}}return xe.\u0275fac=function(W){return new(W||xe)(l.LFG(p.ST),l.LFG(g.M))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})()},8577:(pn,rt,w)=>{w.d(rt,{n:()=>xe});var l=w(2223),p=w(1762),g=w(3919),te=w(5213);let xe=(()=>{class ae{constructor(_e,Ce,oe){this.firestore=_e,this.userDataService=Ce,this.mainUserPageService=oe,this.posts=[],this.pageSize=5,this.currentSize=0,this.collection=this.firestore.collection("Posts")}uploadPost(_e){const Ce=this.firestore.createId(),oe=this.userDataService.getCurrentUserId();return this.collection.doc(Ce).set({comment:_e,creatorId:oe,timestamp:new Date,postId:Ce}).then(()=>{this.mainUserPageService.addUserPost(oe,Ce)})}uploadImagePost(_e,Ce,oe){const me=this.userDataService.getCurrentUserId();return this.collection.doc(_e).set({comment:Ce,creatorId:this.userDataService.getCurrentUserId(),imageUrl:oe,timestamp:new Date,postId:_e}).then(()=>{this.mainUserPageService.addUserPost(me,_e)})}deleteUserPosts(){this.collection.get().subscribe(_e=>{_e.forEach(Ce=>{const oe=Ce.data(),me=Ce.id;oe&&oe.creatorId===this.userDataService.userInfo.userId&&(this.deleteCollection(me,"Likes"),this.deleteCollection(me,"PostComments"),this.collection.doc(me).delete().then(()=>{}).catch(ve=>{console.error(`Error deleting document with ID ${me}`,ve)}))})})}deleteCollection(_e,Ce){const oe=this.firestore.firestore.batch();this.collection.doc(_e).collection(Ce).ref.get().then(me=>(me.forEach(ve=>{oe.delete(ve.ref)}),oe.commit()))}getCountOfDocuments(){this.collection.ref.get().then(_e=>{this.postsSize=_e.size})}getFirstPosts(){0===this.currentSize&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.pageSize).get().then(_e=>{_e.forEach(Ce=>{this.currentSize++,this.posts.push(Ce.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}getScrollPosts(){window.onscroll=()=>{window.pageYOffset+window.innerHeight>=document.documentElement.scrollHeight&&this.postsSize>this.currentSize&&this.postsSize>this.posts.length&&this.currentSize>0&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").startAfter(this.lastVisibleDoc).limit(this.pageSize).get().then(_e=>{_e.forEach(Ce=>{this.currentSize++,this.posts.push(Ce.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}}newGetPosts(_e){"add"===_e&&this.currentSize++,"delete"===_e&&this.currentSize--,this.posts=[],this.currentSize>0?(this.getCountOfDocuments(),this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.currentSize).get().then(Ce=>{this.currentSize=0,Ce.forEach(oe=>{this.currentSize++,this.posts.push(oe.data())}),this.lastVisibleDoc=Ce.docs[Ce.docs.length-1]})):this.getFirstPosts()}}return ae.\u0275fac=function(_e){return new(_e||ae)(l.LFG(p.ST),l.LFG(g.M),l.LFG(te.v))},ae.\u0275prov=l.Yz7({token:ae,factory:ae.\u0275fac}),ae})()},1188:(pn,rt,w)=>{w.d(rt,{V:()=>g});var l=w(2223),p=w(8445);let g=(()=>{class te{constructor(ae){this.storage=ae}getDataFromStorage(ae){return this.storage.ref(ae).getDownloadURL()}}return te.\u0275fac=function(ae){return new(ae||te)(l.LFG(p.Q1))},te.\u0275prov=l.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},3919:(pn,rt,w)=>{w.d(rt,{M:()=>me});var l=w(1389),ae=(w(2090),w(6881),w(1877),w(4859),w(4004)),W=w(2223),_e=w(1205),Ce=w(3676),oe=w(1762);let me=(()=>{class ve{constructor(Fe,at,Ge){this.afAuth=Fe,this.router=at,this.firestore=Ge,this.userHasProfile=!0,this.isLoggedIn=!1,this.collection=this.firestore.collection("Users")}resetUserDataService(){this.userInfo={}}getUpdatedUserProfile(){this.afAuth.currentUser.then(Fe=>{const at=Fe?.uid;return this.firestore.collection("Users").doc(at).get().pipe((0,ae.U)(Ge=>{const Je=Ge.data();this.userHasProfile=Ge.exists,Ge.exists&&(this.userInfo={userId:Je.userId,publicName:Je.publicName,description:Je.description,timestamp:Je.timestamp,imageUrl:Je.imageUrl})})).toPromise()}).catch(Fe=>{console.error("Error getting document:",Fe)})}checkLoginStatus(){this.afAuth.authState.subscribe(Fe=>{this.isLoggedIn=!!Fe,Fe&&(Fe.emailVerified?(this.getUpdatedUserProfile(),this.router.navigate(["userPage"])):(Fe.sendEmailVerification(),this.router.navigate(["emailVerification"])))})}getCurrentUserId(){const at=(0,l.o)().currentUser;return at?at.uid:""}createUser(Fe,at){this.collection.doc(this.getCurrentUserId()).set({publicName:Fe,description:at,userId:this.getCurrentUserId(),timestamp:new Date}).then(()=>{this.getUpdatedUserProfile(),this.router.navigate(["userPage"])}).catch(Ge=>{console.error("Error writing document: ",Ge)})}resetUserName(){this.userInfo.publicName=""}deleteUser(){this.collection.doc(this.userInfo.userId).delete().then(()=>{this.getUpdatedUserProfile()}).catch(Fe=>{console.error("Error writing document: ",Fe)})}updateDocumentField(Fe,at,Ge,Je){return this.firestore.collection(Fe).doc(at).update({[Ge]:Je})}}return ve.\u0275fac=function(Fe){return new(Fe||ve)(W.LFG(_e.zQ),W.LFG(Ce.F0),W.LFG(oe.ST))},ve.\u0275prov=W.Yz7({token:ve,factory:ve.\u0275fac}),ve})()},5213:(pn,rt,w)=>{w.d(rt,{v:()=>at});var l=w(8505),p=w(8746),g=w(3900),te=w(9300),xe=w(9841),ae=w(5698),W=w(1627),_e=w(2223),Ce=w(3919),oe=w(9744),me=w(1762),ve=w(8445),ze=w(6286),Fe=w(3676);let at=(()=>{class Ge{constructor(Ve,Oe,Et,fe,Ee,ue){this.userDataService=Ve,this.notificationsService=Oe,this.firestore=Et,this.storage=fe,this.dialogOpen=Ee,this.router=ue,this.userPosts=0,this.userFriends=0,this.collectionUsers=this.firestore.collection("Users")}resetUserPageService(){this.userPosts=0,this.userFriends=0}addUserPost(Ve,Oe){this.collectionUsers.doc(Ve).collection("UserPosts").doc(Oe).set({postId:Oe,creatorId:Ve,timestamp:new Date}).then()}deleteUserPost(Ve,Oe){this.collectionUsers.doc(Ve).collection("UserPosts").doc(Oe).delete().then()}uploadUserImage(Ve,Oe){const Et=`Users/${Ve}/image`,fe=this.storage.ref(Et),Ee=this.storage.upload(Et,Oe),ue=this.dialogOpen.open(W.R,{disableClose:!0,data:{info:"Upload progress",message:""}});Ee.percentageChanges().pipe((0,l.b)(pe=>{ue.componentInstance.message={info:"Upload progress",message:`Upload progress: ${pe?.toFixed(2)}%`}}),(0,p.x)(()=>ue.close()),(0,g.w)(()=>Ee.snapshotChanges()),(0,te.h)(pe=>"success"===pe.state),(0,g.w)(()=>fe.getDownloadURL()),(0,g.w)(pe=>this.collectionUsers.doc(Ve).update({imageUrl:pe}))).subscribe(()=>{this.userDataService.getUpdatedUserProfile()})}getCountOfValuePosts(Ve){this.collectionUsers.doc(Ve).collection("UserPosts").valueChanges().subscribe(Oe=>{this.userPosts=Oe.length})}getCountOfValueFriends(Ve){this.collectionUsers.doc(Ve).collection("UserFriends",Oe=>Oe.where("isFriend","==",!0)).valueChanges().subscribe(Oe=>{this.userFriends=Oe.length})}addToFriends(Ve){const Oe=this.userDataService.getCurrentUserId();this.collectionUsers.doc(Oe).collection("UserFriends").doc(Ve).set({friendId:Ve,creatorId:Oe,timestamp:new Date,isFriend:!1}).then(()=>{this.checkIsFriend(Ve)})}deleteFriend(Ve){const Oe=this.userDataService.getCurrentUserId();this.deleteUserFriend(Oe,Ve),this.deleteUserFriend(Ve,Oe)}deleteUserFriend(Ve,Oe){this.collectionUsers.doc(Ve).collection("UserFriends").doc(Oe).delete().then(()=>this.checkIsFriend(Oe))}getFriendExistence(Ve,Oe){return this.collectionUsers.doc(Ve).collection("UserFriends").doc(Oe).get()}checkIsFriend(Ve){const Oe=this.userDataService.getCurrentUserId(),Et=this.getFriendExistence(Oe,Ve),fe=this.getFriendExistence(Ve,Oe);(0,xe.a)([Et,fe]).pipe((0,ae.q)(1)).subscribe(([Ee,ue])=>{Ee.exists&&!ue.exists&&this.notificationsService.addNotificationFriend(Ve,Oe),Ee.exists&&ue.exists&&(this.updateFriendsStatus(Ve,Oe),this.updateFriendsStatus(Oe,Ve),this.notificationsService.deleteNotificationFriend(Ve,Oe),this.notificationsService.deleteNotificationFriend(Oe,Ve))})}updateFriendsStatus(Ve,Oe){this.collectionUsers.doc(Ve).collection("UserFriends").doc(Oe).update({isFriend:!0}).then()}goToFriendPage(Ve){const Et=Ve===this.userDataService.getCurrentUserId();this.router.navigate([Et?"userPage":"friendPage"],{queryParams:Et?void 0:{friendId:Ve}})}deleteSomeCollection(Ve){const Oe=this.userDataService.getCurrentUserId();this.collectionUsers.doc(Oe).collection(Ve).get().toPromise().then(Et=>{Et&&Et.forEach(fe=>{fe.ref.delete()})})}deleteUserPostsCollection(){this.deleteSomeCollection("UserPosts")}deleteUserFriendsCollection(){this.deleteSomeCollection("UserFriends")}}return Ge.\u0275fac=function(Ve){return new(Ve||Ge)(_e.LFG(Ce.M),_e.LFG(oe.T),_e.LFG(me.ST),_e.LFG(ve.Q1),_e.LFG(ze.uw),_e.LFG(Fe.F0))},Ge.\u0275prov=_e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})()},8099:(pn,rt,w)=>{w.d(rt,{f:()=>Je});var l=w(9401),p=w(9802),g=w(6286),te=w(2223),xe=w(3919),ae=w(8577),W=w(5213),_e=w(1205),Ce=w(3676),oe=w(4755),me=w(1728),ve=w(6012);function ze(Ve,Oe){1&Ve&&(te.TgZ(0,"div")(1,"small",9),te._uU(2,"Field cannot be empty"),te.qZA()())}function Fe(Ve,Oe){if(1&Ve&&(te.ynx(0),te._UZ(1,"input",8),te.YNc(2,ze,3,0,"div",3),te.BQk()),2&Ve){const Et=te.oxw();let fe;te.xp6(2),te.Q6J("ngIf",(null==(fe=Et.sidebarForm.get("textData"))?null:fe.invalid)&&(null==(fe=Et.sidebarForm.get("textData"))?null:fe.touched))}}function at(Ve,Oe){if(1&Ve){const Et=te.EpF();te.TgZ(0,"button",10),te.NdJ("click",function(){te.CHM(Et);const Ee=te.oxw();return te.KtG(Ee.deleteUser())}),te._uU(1," Yes "),te.qZA()}}function Ge(Ve,Oe){if(1&Ve){const Et=te.EpF();te.TgZ(0,"button",10),te.NdJ("click",function(){te.CHM(Et);const Ee=te.oxw();return te.KtG(Ee.saveData())}),te._uU(1," Save "),te.qZA()}}let Je=(()=>{class Ve{constructor(Et,fe,Ee,ue,pe,Le,Y,Ze){this.message=Et,this.dialogRef=fe,this.userDataService=Ee,this.postsDataService=ue,this.userPageService=pe,this.afAuth=Le,this.router=Y,this.dialog=Ze,this.sidebarForm=new l.cw({textData:new l.NI("",[l.kI.required])})}saveData(){const Et=this.sidebarForm.get("textData");Et&&!Et.errors&&this.userDataService.updateDocumentField("Users",this.userDataService.userInfo.userId,this.message.field,Et.value).then(()=>{this.dialogRef.close(),this.postsDataService.newGetPosts(),this.userDataService.getUpdatedUserProfile()})}deleteUser(){const Et=this.afAuth.currentUser;Et&&Et.then(fe=>fe).then(fe=>fe?.delete()).then(()=>{this.dialogRef.close(),this.userDataService.deleteUser(),this.postsDataService.deleteUserPosts(),this.userPageService.deleteUserPostsCollection(),this.userPageService.deleteUserFriendsCollection(),this.userPageService.deleteSomeCollection("NotificationsLikes"),this.userPageService.deleteSomeCollection("NotificationsFriends"),this.router.navigate([""])}).catch(fe=>{this.dialog.open(p.S,{data:{info:"Error deleting account",message:fe.message}})})}closeClick(){this.dialogRef.close()}}return Ve.\u0275fac=function(Et){return new(Et||Ve)(te.Y36(g.WI),te.Y36(g.so),te.Y36(xe.M),te.Y36(ae.n),te.Y36(W.v),te.Y36(_e.zQ),te.Y36(Ce.F0),te.Y36(g.uw))},Ve.\u0275cmp=te.Xpm({type:Ve,selectors:[["app-change-data-modal"]],decls:15,vars:6,consts:[[1,"message"],[3,"formGroup"],[1,"message-text"],[4,"ngIf"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["formControlName","textData",1,"message-input"],[1,"error"],["mat-flat-button","","color","warn",3,"click"]],template:function(Et,fe){1&Et&&(te.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),te._uU(3),te.qZA()(),te.TgZ(4,"mat-card-content",0)(5,"form",1)(6,"div",2),te._uU(7),te.qZA(),te.YNc(8,Fe,3,1,"ng-container",3),te.TgZ(9,"div",4)(10,"button",5),te.NdJ("click",function(){return fe.closeClick()}),te._uU(11," Close "),te.qZA(),te._UZ(12,"span",6),te.YNc(13,at,2,0,"button",7),te.YNc(14,Ge,2,0,"button",7),te.qZA()()()()),2&Et&&(te.xp6(3),te.hij(" ",fe.message.info," "),te.xp6(2),te.Q6J("formGroup",fe.sidebarForm),te.xp6(2),te.Oqu(fe.message.message),te.xp6(1),te.Q6J("ngIf",!fe.message.yesButton),te.xp6(5),te.Q6J("ngIf",fe.message.yesButton),te.xp6(1),te.Q6J("ngIf",!fe.message.yesButton))},dependencies:[oe.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,me.lW,ve.a8,ve.dn,ve.dk,ve.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.error[_ngcontent-%COMP%]{color:#f44336}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),Ve})()},9802:(pn,rt,w)=>{w.d(rt,{S:()=>W});var l=w(6286),p=w(2223),g=w(4755),te=w(1728),xe=w(6012);function ae(_e,Ce){if(1&_e){const oe=p.EpF();p.TgZ(0,"button",6),p.NdJ("click",function(){p.CHM(oe);const ve=p.oxw();return p.KtG(ve.buttonClick())}),p._uU(1),p.qZA()}if(2&_e){const oe=p.oxw();p.xp6(1),p.hij(" ",oe.message.nameButton," ")}}let W=(()=>{class _e{constructor(oe,me){this.message=oe,this.dialog=me}buttonClick(){this.dialog.close(!0)}closeClick(){this.dialog.close()}}return _e.\u0275fac=function(oe){return new(oe||_e)(p.Y36(l.WI),p.Y36(l.so))},_e.\u0275cmp=p.Xpm({type:_e,selectors:[["app-info-modal"]],decls:12,vars:3,consts:[[1,"message"],[1,"message-text"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"]],template:function(oe,me){1&oe&&(p.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),p._uU(3),p.qZA()(),p.TgZ(4,"mat-card-content",0)(5,"div",1),p._uU(6),p.qZA(),p.TgZ(7,"div",2)(8,"button",3),p.NdJ("click",function(){return me.closeClick()}),p._uU(9," Close "),p.qZA(),p._UZ(10,"span",4),p.YNc(11,ae,2,1,"button",5),p.qZA()()()),2&oe&&(p.xp6(3),p.hij(" ",me.message.info," "),p.xp6(3),p.Oqu(me.message.message),p.xp6(5),p.Q6J("ngIf",me.message.addButton))},dependencies:[g.O5,te.lW,xe.a8,xe.dn,xe.dk,xe.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),_e})()},1627:(pn,rt,w)=>{w.d(rt,{R:()=>ae});var l=w(6286),p=w(2223),g=w(1728),te=w(6012),xe=w(8467);let ae=(()=>{class W{constructor(Ce,oe){this.message=Ce,this.dialogRef=oe}closeModal(){this.dialogRef.close()}}return W.\u0275fac=function(Ce){return new(Ce||W)(p.Y36(l.WI),p.Y36(l.so))},W.\u0275cmp=p.Xpm({type:W,selectors:[["app-loader"]],decls:11,vars:2,consts:[[1,"message"],[1,"message-loader"],[1,"message-text"],["mode","indeterminate","color","primary","diameter","32","strokeWidth","4"],["mat-flat-button","","color","warn",3,"click"]],template:function(Ce,oe){1&Ce&&(p.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),p._uU(3),p.qZA()(),p.TgZ(4,"mat-card-content",0)(5,"div",1)(6,"div",2),p._uU(7),p.qZA(),p._UZ(8,"mat-progress-spinner",3),p.qZA(),p.TgZ(9,"button",4),p.NdJ("click",function(){return oe.closeModal()}),p._uU(10,"Close"),p.qZA()()()),2&Ce&&(p.xp6(3),p.hij(" ",oe.message.info," "),p.xp6(4),p.Oqu(oe.message.message))},dependencies:[g.lW,te.a8,te.dn,te.dk,te.n5,xe.Ou],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.message-loader[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-text[_ngcontent-%COMP%]{padding:10px}"]}),W})()},8134:(pn,rt,w)=>{w.d(rt,{A:()=>Vt});var l=w(5861),p=w(2223),g=w(3919),te=w(1762),xe=w(8445),ae=w(8577),W=w(5213),_e=w(9744);let Ce=(()=>{class dt{constructor(Be,mt,Rt,qt,Mt,Xe){this.userDataService=Be,this.firestore=mt,this.storage=Rt,this.postDataService=qt,this.mainUserPageService=Mt,this.notificationsService=Xe,this.likes=0,this.isLiked=!1,this.yourLikeId=null,this.creatorPostId="",this.creatorName="",this.creatorDescription="",this.creatorImage="",this.collectionUsers=this.firestore.collection("Users"),this.collectionPosts=this.firestore.collection("Posts")}deletePost(Be){const mt=this.userDataService.getCurrentUserId();this.collectionPosts.doc(Be).delete().then(),this.mainUserPageService.deleteUserPost(mt,Be),this.postDataService.deleteCollection(Be,"Likes"),this.postDataService.deleteCollection(Be,"PostComments"),this.postDataService.newGetPosts("delete")}getCreatorInfo(Be){this.collectionUsers.doc(Be.creatorId).get().toPromise().then(mt=>{const Rt=mt.data();this.creatorName=Rt?.publicName||"",this.creatorDescription=Rt?.description||"",this.creatorImage=Rt?.imageUrl||"",this.creatorPostId=Rt?.userId||""}).catch(mt=>{console.error("Error when fetching creator information:",mt)})}likeButton(Be){this.yourLikeId?this.deleteLike(Be):this.checkCollectionExistence(Be).then(mt=>{mt?this.addLike(Be):this.createLike(Be)}).catch(mt=>{console.error("Error checking if collection exists:",mt)})}addLike(Be){var mt=this;return(0,l.Z)(function*(){const Rt=mt.userDataService.getCurrentUserId(),qt=mt.firestore.createId();try{(yield mt.searchDocumentsByCreatorId(Rt,Be)).length<1&&(yield mt.collectionPosts.doc(Be).collection("Likes").doc(qt).set({likeId:qt,creatorId:Rt,timestamp:new Date}),mt.notificationsService.addNotificationLike(mt.creatorPostId,Rt,Be),mt.isLiked=!0)}catch(Mt){console.error("Error when searching for documents:",Mt)}})()}createLike(Be){var mt=this;return(0,l.Z)(function*(){const Rt=mt.firestore.createId(),qt=mt.userDataService.getCurrentUserId();try{yield mt.collectionPosts.doc(Be).collection("Likes").doc(Rt).set({likeId:Rt,creatorId:qt,timestamp:new Date}),mt.notificationsService.addNotificationLike(mt.creatorPostId,qt,Be),mt.isLiked=!0}catch(Mt){console.error("Error when creating like:",Mt)}})()}listenToDocumentValueChanges(Be,mt){return this.collectionPosts.doc(Be).collection(mt).valueChanges()}getLikes(Be){const mt=Be,qt=this.userDataService.getCurrentUserId();this.listenToDocumentValueChanges(mt,"Likes").subscribe(Mt=>{this.likes=Mt.length,Mt.find(Xe=>{Xe.creatorId==qt&&(this.yourLikeId=Xe.likeId,this.isLiked=!0)})})}deleteLike(Be){const mt=this.userDataService.getCurrentUserId();this.yourLikeId&&this.collectionPosts.doc(Be).collection("Likes").doc(this.yourLikeId).delete().then(()=>{this.notificationsService.deleteNotificationLike(this.creatorPostId,mt,Be),this.isLiked=!1,this.yourLikeId=null})}searchDocumentsByCreatorId(Be,mt){return this.collectionPosts.doc(mt).collection("Likes").ref.where("creatorId","==",Be).get().then(qt=>qt.docs.map(Mt=>Mt.data())).catch(qt=>{throw qt})}checkCollectionExistence(Be){return this.collectionPosts.doc(Be).collection("Likes").get().toPromise().then(Rt=>!Rt.empty).catch(Rt=>{throw Rt})}downloadFile(Be){this.storage.ref(Be).getDownloadURL().toPromise().then(Rt=>{const qt=document.createElement("a");qt.href=Rt,qt.setAttribute("download",""),qt.setAttribute("target","_blank"),document.body.appendChild(qt),qt.click(),document.body.removeChild(qt)}).catch(Rt=>{console.error("Error when downloading file:",Rt)})}}return dt.\u0275fac=function(Be){return new(Be||dt)(p.LFG(g.M),p.LFG(te.ST),p.LFG(xe.Q1),p.LFG(ae.n),p.LFG(W.v),p.LFG(_e.T))},dt.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac}),dt})();var oe=w(9802),me=w(9401);let ve=(()=>{class dt{constructor(Be,mt){this.firestore=Be,this.userDataService=mt,this.comments=[],this.collection=this.firestore.collection("Posts")}getComments(Be){this.listenToDocumentValueChanges("Posts",Be,"PostComments").subscribe(Mt=>{this.comments.length===Mt.length&&this.comments.every((ot,Nt)=>ot.comment===Mt[Nt].comment)||(this.comments=Mt)})}listenToDocumentValueChanges(Be,mt,Rt){return this.firestore.collection(Be).doc(mt).collection(Rt,Mt=>Mt.orderBy("timestamp","desc")).valueChanges()}sendComment(Be,mt){const Rt=this.firestore.createId();this.collection.doc(mt).collection("PostComments").doc(Rt).set({commentId:Rt,comment:Be,creatorId:this.userDataService.userInfo.userId,creatorName:this.userDataService.userInfo.publicName,timestamp:new Date})}updateComment(Be,mt,Rt){this.collection.doc(mt).collection("PostComments").doc(Be.commentId).update({comment:Rt})}deleteComment(Be,mt){this.collection.doc(mt).collection("PostComments").doc(Be.commentId).delete()}isCommentCreator(Be){return Be.creatorId===this.userDataService.userInfo.userId}getUserInfoById(Be){return this.firestore.collection("Users").doc(Be).valueChanges()}}return dt.\u0275fac=function(Be){return new(Be||dt)(p.LFG(te.ST),p.LFG(g.M))},dt.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac}),dt})();var ze=w(6286),Fe=w(4755),at=w(1728),Ge=w(6012),Je=w(430),Ve=w(2659);function Oe(dt,Ht){if(1&dt){const Be=p.EpF();p.TgZ(0,"div",5),p.NdJ("click",function(){p.CHM(Be);const Rt=p.oxw();return p.KtG(Rt.goToFriendPageClick())}),p._UZ(1,"img",6),p.TgZ(2,"div",7),p._uU(3),p.qZA()()}if(2&dt){const Be=p.oxw();p.xp6(1),p.s9C("src",Be.userImageUrl,p.LSH),p.xp6(2),p.Oqu(Be.userName)}}function Et(dt,Ht){if(1&dt){const Be=p.EpF();p.TgZ(0,"div",8),p.NdJ("click",function(){p.CHM(Be);const Rt=p.oxw();return p.KtG(Rt.goToFriendPageClick())}),p.TgZ(1,"div",7),p._uU(2),p.qZA(),p._UZ(3,"img",6),p.qZA()}if(2&dt){const Be=p.oxw();p.xp6(2),p.Oqu(Be.userName),p.xp6(1),p.s9C("src",Be.userImageUrl,p.LSH)}}function fe(dt,Ht){if(1&dt){const Be=p.EpF();p.TgZ(0,"button",11),p.NdJ("click",function(){p.CHM(Be);const Rt=p.oxw(2);return p.KtG(Rt.chaneCommentClick())}),p._uU(1," Change "),p.qZA()}}function Ee(dt,Ht){if(1&dt){const Be=p.EpF();p.TgZ(0,"button",11),p.NdJ("click",function(){p.CHM(Be);const Rt=p.oxw(2);return p.KtG(Rt.responseCommentClick())}),p._uU(1," Response "),p.qZA()}}function ue(dt,Ht){if(1&dt){const Be=p.EpF();p.TgZ(0,"button",12),p.NdJ("click",function(){p.CHM(Be);const Rt=p.oxw(2);return p.KtG(Rt.deleteCommentClick())}),p._uU(1," Delete "),p.qZA()}}function pe(dt,Ht){if(1&dt&&(p.YNc(0,fe,2,0,"button",9),p.YNc(1,Ee,2,0,"button",9),p.YNc(2,ue,2,0,"button",10)),2&dt){const Be=p.oxw();p.Q6J("ngIf",Be.isCommentCreator()),p.xp6(1),p.Q6J("ngIf",!Be.isCommentCreator()),p.xp6(1),p.Q6J("ngIf",Be.isCommentCreator())}}const Le=function(dt){return{comment:!0,"creator-comment":dt}};let Y=(()=>{class dt{constructor(Be,mt,Rt){this.replyService=Be,this.userPageService=mt,this.dialog=Rt,this.chaneComment=new p.vpe,this.responseComment=new p.vpe,this.userName="",this.userImageUrl=""}ngOnInit(){this.userInfoSubscription=this.replyService.getUserInfoById(this.commentData.creatorId).subscribe(Be=>{this.userName=Be?.publicName||"",this.userImageUrl=Be?.imageUrl||""})}ngOnDestroy(){this.userInfoSubscription&&this.userInfoSubscription.unsubscribe()}goToFriendPageClick(){this.userPageService.goToFriendPage(this.commentData.creatorId),this.dialog.closeAll()}isCommentCreator(){return this.replyService.isCommentCreator(this.commentData)}chaneCommentClick(){this.chaneComment.emit(this.commentData)}deleteCommentClick(){this.replyService.deleteComment(this.commentData,this.postId)}responseCommentClick(){this.responseComment.emit(this.userName)}}return dt.\u0275fac=function(Be){return new(Be||dt)(p.Y36(ve),p.Y36(W.v),p.Y36(ze.uw))},dt.\u0275cmp=p.Xpm({type:dt,selectors:[["app-comment"]],inputs:{commentData:"commentData",postId:"postId"},outputs:{chaneComment:"chaneComment",responseComment:"responseComment"},decls:8,vars:7,consts:[["class","comment-header",3,"click",4,"ngIf"],["class","comment-header comment-header-creator",3,"click",4,"ngIf"],[3,"ngClass","matMenuTriggerFor"],["menu","matMenu"],["matMenuContent",""],[1,"comment-header",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment-name"],[1,"comment-header","comment-header-creator",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","delete","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(Be,mt){if(1&Be&&(p.TgZ(0,"div"),p.YNc(1,Oe,4,2,"div",0),p.YNc(2,Et,4,2,"div",1),p.TgZ(3,"div",2),p._uU(4),p.qZA(),p.TgZ(5,"mat-menu",null,3),p.YNc(7,pe,3,3,"ng-template",4),p.qZA()()),2&Be){const Rt=p.MAs(6);p.xp6(1),p.Q6J("ngIf",!mt.isCommentCreator()),p.xp6(1),p.Q6J("ngIf",mt.isCommentCreator()),p.xp6(1),p.Q6J("ngClass",p.VKq(5,Le,mt.isCommentCreator()))("matMenuTriggerFor",Rt),p.xp6(1),p.hij(" ",mt.commentData.comment," ")}},dependencies:[Fe.mk,Fe.O5,Ve.VK,Ve.OP,Ve.KA,Ve.p6],styles:[".comment[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;word-wrap:break-word;border-radius:1em;background-color:#dcdcdc;padding:1em}.comment-header[_ngcontent-%COMP%]{margin-bottom:5px;width:100%;display:flex;align-items:center;cursor:pointer}.comment-header-creator[_ngcontent-%COMP%]{justify-content:flex-end}.comment-header[_ngcontent-%COMP%]:hover{color:#f44336}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:5px 10px 0;width:30px;height:30px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}.mat-mdc-select-placeholder[_ngcontent-%COMP%]{color:#fff}.mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none!important}"]}),dt})();const Ze=["commentInput"],Ue=function(dt){return{"comment-container":!0,"creator-comment-container":dt}};function Qe(dt,Ht){if(1&dt){const Be=p.EpF();p.TgZ(0,"div",7)(1,"app-comment",8),p.NdJ("chaneComment",function(Rt){p.CHM(Be);const qt=p.oxw();return p.KtG(qt.chaneComment(Rt))})("responseComment",function(Rt){p.CHM(Be);const qt=p.oxw();return p.KtG(qt.responseComment(Rt))}),p.qZA()()}if(2&dt){const Be=Ht.$implicit,mt=p.oxw();p.Q6J("ngClass",p.VKq(3,Ue,mt.isCommentCreator(Be))),p.xp6(1),p.Q6J("postId",mt.postId)("commentData",Be)}}const Tt=function(dt){return{error:dt}};let bn=(()=>{class dt{constructor(Be,mt,Rt){this.postId=Be,this.userDataService=mt,this.replyService=Rt,this.isChangeComment=!1,this.replyForm=new me.cw({comment:new me.NI("",[me.kI.required])})}ngOnInit(){this.replyService.getComments(this.postId)}getPostComments(){return this.replyService.comments}onSendClick(){const Be=this.replyForm.get("comment");Be?.markAsTouched(),Be&&!Be.errors&&(this.isChangeComment?(this.replyService.updateComment(this.selectedComment,this.postId,Be.value),this.isChangeComment=!1,Be.reset()):(this.replyService.sendComment(Be.value,this.postId),Be.reset()))}checkComment(){return!(!this.replyForm.get("comment")?.invalid||!this.replyForm.get("comment")?.touched)}isCommentCreator(Be){return this.replyService.isCommentCreator(Be)}chaneComment(Be){this.isChangeComment=!0,this.replyForm.get("comment")?.setValue(Be.comment),this.commentInput.nativeElement.focus(),this.selectedComment=Be}responseComment(Be){this.replyForm.get("comment")?.setValue(`@${Be}_`),this.commentInput.nativeElement.focus()}}return dt.\u0275fac=function(Be){return new(Be||dt)(p.Y36(ze.WI),p.Y36(g.M),p.Y36(ve))},dt.\u0275cmp=p.Xpm({type:dt,selectors:[["app-reply"]],viewQuery:function(Be,mt){if(1&Be&&p.Gf(Ze,5),2&Be){let Rt;p.iGM(Rt=p.CRH())&&(mt.commentInput=Rt.first)}},features:[p._Bn([ve])],decls:11,vars:5,consts:[[1,"comments"],[1,"reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"reply-action-bar",3,"formGroup","submit"],["type","submit","mat-flat-button","","color","primary"],["formControlName","comment","placeholder","Comment...",3,"ngClass"],["commentInput",""],[3,"ngClass"],[3,"postId","commentData","chaneComment","responseComment"]],template:function(Be,mt){1&Be&&(p.TgZ(0,"mat-card",0)(1,"mat-card-header"),p._uU(2," Comments "),p.qZA(),p.TgZ(3,"mat-card-content",1),p.YNc(4,Qe,2,5,"div",2),p.qZA(),p.TgZ(5,"form",3),p.NdJ("submit",function(){return mt.onSendClick()}),p.TgZ(6,"button",4)(7,"mat-icon"),p._uU(8,"send"),p.qZA()(),p._UZ(9,"input",5,6),p.qZA()()),2&Be&&(p.xp6(4),p.Q6J("ngForOf",mt.getPostComments()),p.xp6(1),p.Q6J("formGroup",mt.replyForm),p.xp6(4),p.Q6J("ngClass",p.VKq(3,Tt,mt.checkComment())))},dependencies:[Fe.mk,Fe.sg,me._Y,me.Fj,me.JJ,me.JL,me.sg,me.u,at.lW,Ge.a8,Ge.dn,Ge.dk,Je.Hw,Y],styles:[".comments[_ngcontent-%COMP%]{padding:1em;height:100%;width:100%}.comments[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.reply-box[_ngcontent-%COMP%]{width:100%;height:350px;overflow:auto;min-width:500px;max-width:600px;padding:1em 1em 0;box-sizing:border-box;background-color:#eaeaea}.reply-action-bar[_ngcontent-%COMP%]{margin:1em 0 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;direction:rtl}.reply-action-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.reply-action-bar[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border-color:#f44336}.reply-action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:3em}.comment-container[_ngcontent-%COMP%]{display:flex}.creator-comment-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),dt})();function kn(dt,Ht){if(1&dt&&p._UZ(0,"img",9),2&dt){const Be=p.oxw();p.s9C("src",Be.postData.imageUrl,p.LSH)}}function vt(dt,Ht){if(1&dt){const Be=p.EpF();p.TgZ(0,"mat-icon",5),p.NdJ("click",function(){p.CHM(Be);const Rt=p.oxw();return p.KtG(Rt.downloadImageClick())}),p._uU(1," open_in_new "),p.qZA()}}function bt(dt,Ht){if(1&dt){const Be=p.EpF();p.TgZ(0,"mat-icon",5),p.NdJ("click",function(){p.CHM(Be);const Rt=p.oxw();return p.KtG(Rt.deletePostClick())}),p._uU(1,"delete"),p.qZA()}}let Vt=(()=>{class dt{constructor(Be,mt,Rt,qt){this.dialog=Be,this.userDataService=mt,this.postService=Rt,this.mainUserPageService=qt}ngOnInit(){this.postService.getCreatorInfo(this.postData),this.postService.getLikes(this.postData.postId)}ngOnDestroy(){this.dialogRefSubscription&&this.dialogRefSubscription.unsubscribe()}getDate(){return this.postData.timestamp.toDate()}getCreatorName(){return this.postService.creatorName}getIsLiked(){return this.postService.isLiked}onReplyClick(){this.dialog.open(bn,{data:this.postData.postId})}getLikes(){return this.postService.likes}onLikeClick(){this.postService.likeButton(this.postData.postId)}downloadImageClick(){this.postService.downloadFile(`Posts/${this.postData.postId}/image`)}checkDeleteButton(){return this.postData.creatorId===this.userDataService.userInfo.userId}deletePostClick(){const Be=this.dialog.open(oe.S,{data:{info:"Post deletion",message:"Do you really want to remove this post?",addButton:!0,nameButton:"Yes"}});this.dialogRefSubscription=Be.afterClosed().subscribe(mt=>{mt&&this.postService.deletePost(this.postData.postId)})}getUserImage(){return this.postService.creatorImage}goToFriendPageClick(){this.mainUserPageService.goToFriendPage(this.postData.creatorId)}}return dt.\u0275fac=function(Be){return new(Be||dt)(p.Y36(ze.uw),p.Y36(g.M),p.Y36(Ce),p.Y36(W.v))},dt.\u0275cmp=p.Xpm({type:dt,selectors:[["app-post"]],inputs:{postData:"postData"},features:[p._Bn([Ce])],decls:21,vars:12,consts:[[1,"post"],[1,"creator-name",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment"],["class","image","mat-card-image","","alt","img",3,"src",4,"ngIf"],["color","warn",1,"action-item",3,"click"],[1,"likes"],[1,"likes-number"],["class","action-item","color","warn",3,"click",4,"ngIf"],["mat-card-image","","alt","img",1,"image",3,"src"]],template:function(Be,mt){1&Be&&(p.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),p.NdJ("click",function(){return mt.goToFriendPageClick()}),p._UZ(3,"img",2),p._uU(4),p.qZA(),p.TgZ(5,"mat-card-subtitle"),p._uU(6),p.ALo(7,"date"),p.qZA()(),p.TgZ(8,"mat-card-content",3),p._uU(9),p.qZA(),p.YNc(10,kn,1,1,"img",4),p.TgZ(11,"mat-card-actions")(12,"mat-icon",5),p.NdJ("click",function(){return mt.onReplyClick()}),p._uU(13," chat_bubble_outline "),p.qZA(),p.TgZ(14,"div",6)(15,"mat-icon",5),p.NdJ("click",function(){return mt.onLikeClick()}),p._uU(16),p.qZA(),p.TgZ(17,"div",7),p._uU(18),p.qZA()(),p.YNc(19,vt,2,0,"mat-icon",8),p.YNc(20,bt,2,0,"mat-icon",8),p.qZA()()),2&Be&&(p.xp6(3),p.s9C("src",mt.getUserImage(),p.LSH),p.xp6(1),p.hij(" ",mt.getCreatorName()," "),p.xp6(2),p.Oqu(p.xi3(7,9,mt.getDate(),"MMM d, y, H:mm ")),p.xp6(3),p.hij(" ",mt.postData.comment," "),p.xp6(1),p.Q6J("ngIf",mt.postData.imageUrl),p.xp6(6),p.hij(" ",mt.getIsLiked()?"favorite":"favorite_border","favorite_border "),p.xp6(2),p.Oqu(mt.getLikes()),p.xp6(1),p.Q6J("ngIf",mt.postData.imageUrl),p.xp6(1),p.Q6J("ngIf",mt.checkDeleteButton()))},dependencies:[Fe.O5,Ge.a8,Ge.hq,Ge.dn,Ge.dk,Ge.G2,Ge.$j,Ge.n5,Je.Hw,Fe.uU],styles:[".post[_ngcontent-%COMP%]{width:500px;margin-top:2em;background-color:#f1f1f1}.creator-name[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;display:flex;align-items:center}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin-right:10px;width:40px;height:40px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-name[_ngcontent-%COMP%]:hover{color:#f44336}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}.comment[_ngcontent-%COMP%]{padding:10px;margin:10px 10px 0;border-radius:1em;background-color:#c4c4c4}.image[_ngcontent-%COMP%]{margin:10px;height:auto}.likes[_ngcontent-%COMP%]{width:auto;display:flex;justify-content:center}.likes-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),dt})()},488:(pn,rt,w)=>{var l=w(6550),p=w(3676),g=w(2223),te=w(3919);let xe=(()=>{class G{constructor(b,R){this.router=b,this.userDataService=R}canActivate(b,R){return"/postFeed"!==R.url||!(!this.userDataService.userHasProfile||!this.userDataService.isLoggedIn)||(this.router.navigate([""]),!1)}}return G.\u0275fac=function(b){return new(b||G)(g.LFG(p.F0),g.LFG(te.M))},G.\u0275prov=g.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();var ae=w(9401);function W(G,y){return b=>{const R=b.get(G)?.value,z=b.get(y)?.value;return R!==z?{fieldsMatch:!0}:null}}var _e=w(9802),Ce=w(8410),oe=w(1205),me=w(6286),ve=w(4755),ze=w(1728),Fe=w(6012);function at(G,y){1&G&&(g.TgZ(0,"div")(1,"small",13),g._uU(2,"Please, enter a valid email."),g.qZA()())}function Ge(G,y){if(1&G&&(g.TgZ(0,"div")(1,"small",13),g._uU(2),g.qZA()()),2&G){const b=g.oxw(2);g.xp6(2),g.hij(" The field must have at least ",b.minLength," characters. ")}}function Je(G,y){if(1&G){const b=g.EpF();g.TgZ(0,"div",8),g._UZ(1,"input",9),g.YNc(2,at,3,0,"div",10),g._UZ(3,"input",11),g.YNc(4,Ge,3,1,"div",10),g.TgZ(5,"button",12),g.NdJ("click",function(){g.CHM(b);const z=g.oxw();return g.KtG(z.onLoginSubmitClick())}),g._uU(6," Login "),g.qZA()()}if(2&G){const b=g.oxw();let R,z;g.xp6(2),g.Q6J("ngIf",(null==(R=b.authenticatorForm.get("login.loginEmail"))?null:R.invalid)&&(null==(R=b.authenticatorForm.get("login.loginEmail"))?null:R.touched)),g.xp6(2),g.Q6J("ngIf",(null==(z=b.authenticatorForm.get("login.loginPassword"))?null:z.invalid)&&(null==(z=b.authenticatorForm.get("login.loginPassword"))?null:z.touched))}}function Ve(G,y){1&G&&(g.TgZ(0,"div")(1,"small",13),g._uU(2,"Please, enter a valid email."),g.qZA()())}function Oe(G,y){if(1&G&&(g.TgZ(0,"div")(1,"small",13),g._uU(2),g.qZA()()),2&G){const b=g.oxw(2);g.xp6(2),g.hij(" The field must have at least ",b.minLength," characters. ")}}function Et(G,y){if(1&G&&(g.TgZ(0,"small",13),g._uU(1),g.qZA()),2&G){const b=g.oxw(3);g.xp6(1),g.hij(" The field must have at least ",b.minLength," characters. ")}}function fe(G,y){1&G&&(g.TgZ(0,"small",13),g._uU(1,"Password must match "),g.qZA())}function Ee(G,y){if(1&G&&(g.TgZ(0,"div"),g.YNc(1,Et,2,1,"small",19),g.YNc(2,fe,2,0,"small",19),g.qZA()),2&G){const b=g.oxw(2);let R,z;g.xp6(1),g.Q6J("ngIf",null==(R=b.authenticatorForm.get("register.registerConfirmPassword"))?null:R.invalid),g.xp6(1),g.Q6J("ngIf",null==(z=b.authenticatorForm.get("register"))||null==z.errors?null:z.errors.fieldsMatch)}}function ue(G,y){if(1&G){const b=g.EpF();g.TgZ(0,"div",14),g._UZ(1,"input",15),g.YNc(2,Ve,3,0,"div",10),g._UZ(3,"input",16),g.YNc(4,Oe,3,1,"div",10),g._UZ(5,"input",17),g.YNc(6,Ee,3,2,"div",10),g.TgZ(7,"button",18),g.NdJ("click",function(){g.CHM(b);const z=g.oxw();return g.KtG(z.onRegisterSubmitClick())}),g._uU(8," Create "),g.qZA()()}if(2&G){const b=g.oxw();let R,z,q;g.xp6(2),g.Q6J("ngIf",(null==(R=b.authenticatorForm.get("register.registerEmail"))?null:R.invalid)&&(null==(R=b.authenticatorForm.get("register.registerEmail"))?null:R.touched)),g.xp6(2),g.Q6J("ngIf",(null==(z=b.authenticatorForm.get("register.registerPassword"))?null:z.invalid)&&(null==(z=b.authenticatorForm.get("register.registerPassword"))?null:z.touched)),g.xp6(2),g.Q6J("ngIf",null==(q=b.authenticatorForm.get("register.registerConfirmPassword"))?null:q.touched)}}function pe(G,y){1&G&&(g.TgZ(0,"div")(1,"small",13),g._uU(2,"Please, enter a valid email."),g.qZA()())}function Le(G,y){if(1&G){const b=g.EpF();g.TgZ(0,"div",20),g._UZ(1,"input",21),g.YNc(2,pe,3,0,"div",10),g.TgZ(3,"button",18),g.NdJ("click",function(){g.CHM(b);const z=g.oxw();return g.KtG(z.onResetClick())}),g._uU(4," Reset "),g.qZA()()}if(2&G){const b=g.oxw();let R;g.xp6(2),g.Q6J("ngIf",(null==(R=b.authenticatorForm.get("forgot.resetEmail"))?null:R.invalid)&&(null==(R=b.authenticatorForm.get("forgot.resetEmail"))?null:R.touched))}}var Y=(()=>((Y=Y||{})[Y.LOGIN=0]="LOGIN",Y[Y.REGISTER=1]="REGISTER",Y[Y.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Y))(),Ze=(()=>((Ze=Ze||{})[Ze.LOGIN=0]="LOGIN",Ze[Ze.REGISTER=1]="REGISTER",Ze[Ze.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Ze))();let Ue=(()=>{class G{constructor(b,R,z,q){this.bottomSheetRef=b,this.afAuth=R,this.router=z,this.dialog=q,this.state=Y.LOGIN,this.minLength=3,this.authenticatorForm=new ae.cw({login:new ae.cw({loginEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),loginPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])}),register:new ae.cw({registerEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),registerPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)]),registerConfirmPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])},{validators:W("registerPassword","registerConfirmPassword")}),forgot:new ae.cw({resetEmail:new ae.NI("",[ae.kI.required,ae.kI.email])})})}submitForm(b){switch(b.preventDefault(),this.submitState){case Ze.LOGIN:this.setLogin();break;case Ze.REGISTER:this.setRegister();break;case Ze.FORGOT_PASSWORD:this.setReset()}}setRegister(){const b=this.authenticatorForm.get("register");if(b&&b.valid){const{registerEmail:R,registerPassword:z}=b.value;this.afAuth.createUserWithEmailAndPassword(R,z).then(()=>{this.router.navigate(["emailVerification"]),this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(q=>{this.dialog.open(_e.S,{data:{info:"Account with this email already exists",message:q.message}})})}}onRegisterSubmitClick(){this.authenticatorForm.get("register.registerEmail")?.markAsTouched(),this.authenticatorForm.get("register.registerPassword")?.markAsTouched(),this.authenticatorForm.get("register.registerConfirmPassword")?.markAsTouched(),this.submitState=Ze.REGISTER}setLogin(){const b=this.authenticatorForm.get("login.loginEmail"),R=this.authenticatorForm.get("login.loginPassword");b&&R&&!b.errors&&!R.errors&&this.afAuth.signInWithEmailAndPassword(b.value,R.value).then(()=>{this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(z=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail or password",message:z.message}})})}onLoginSubmitClick(){this.authenticatorForm.get("login.loginEmail")?.markAsTouched(),this.authenticatorForm.get("login.loginPassword")?.markAsTouched(),this.submitState=Ze.LOGIN}setReset(){const b=this.authenticatorForm.get("forgot.resetEmail");b&&!b.errors&&this.afAuth.sendPasswordResetEmail(b.value).then(()=>{this.bottomSheetRef.dismiss(),this.dialog.open(_e.S,{data:{info:"Check your E-mail",message:"A link to change your password has been sent to your email."}}),this.authenticatorForm.reset()}).catch(()=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail",message:"The email address is badly formatted."}})})}onResetClick(){this.authenticatorForm.get("forgot.resetEmail")?.markAsTouched(),this.submitState=Ze.FORGOT_PASSWORD}onForgotPasswordButton(){this.state=Y.FORGOT_PASSWORD}onCreateAccountButton(){this.state=Y.REGISTER}onLoginButton(){this.state=Y.LOGIN}isLoginState(){return this.state==Y.LOGIN}isRegisterState(){return this.state==Y.REGISTER}isForgotPasswordState(){return this.state==Y.FORGOT_PASSWORD}getStateText(){switch(this.state){case Y.LOGIN:return"Login";case Y.REGISTER:return"Register";case Y.FORGOT_PASSWORD:return"Forgot password"}}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(Ce.oL),g.Y36(oe.zQ),g.Y36(p.F0),g.Y36(me.uw))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-authenticator"]],decls:17,vars:5,consts:[[1,"authenticator"],[1,"authenticator-content"],[3,"formGroup","submit"],["formGroupName","login",4,"ngIf"],["formGroupName","register",4,"ngIf"],["formGroupName","forgot",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["formGroupName","login"],["placeholder","Email","formControlName","loginEmail","autocomplete","email"],[4,"ngIf"],["placeholder","Password","type","password","formControlName","loginPassword","autocomplete","current-password"],["mat-flat-button","","color","warn","type","submit",3,"click"],[1,"error"],["formGroupName","register"],["placeholder","Email","formControlName","registerEmail","autocomplete","email"],["placeholder","Password","type","password","formControlName","registerPassword","autocomplete","new-password"],["placeholder","Confirm password","type","password","formControlName","registerConfirmPassword","autocomplete","new-password"],["mat-flat-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["formGroupName","forgot"],["placeholder","Email","formControlName","resetEmail","autocomplete","email"]],template:function(b,R){1&b&&(g.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),g._uU(4),g.qZA()(),g.TgZ(5,"mat-card-content")(6,"form",2),g.NdJ("submit",function(q){return R.submitForm(q)}),g.YNc(7,Je,7,2,"div",3),g.YNc(8,ue,9,3,"div",4),g.YNc(9,Le,5,1,"div",5),g.qZA()(),g.TgZ(10,"mat-card-actions",6)(11,"button",7),g.NdJ("click",function(){return R.onForgotPasswordButton()}),g._uU(12," Forgot Password "),g.qZA(),g.TgZ(13,"button",7),g.NdJ("click",function(){return R.onCreateAccountButton()}),g._uU(14," Create an Account "),g.qZA(),g.TgZ(15,"button",7),g.NdJ("click",function(){return R.onLoginButton()}),g._uU(16,"Login"),g.qZA()()()()),2&b&&(g.xp6(4),g.Oqu(R.getStateText()),g.xp6(2),g.Q6J("formGroup",R.authenticatorForm),g.xp6(1),g.Q6J("ngIf",R.isLoginState()),g.xp6(1),g.Q6J("ngIf",R.isRegisterState()),g.xp6(1),g.Q6J("ngIf",R.isForgotPasswordState()))},dependencies:[ve.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,ae.x0,ze.lW,Fe.a8,Fe.hq,Fe.dn,Fe.dk,Fe.n5],styles:[".authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box}.authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid black;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}"]}),G})();var Qe=w(1188),Tt=w(7312),bn=w(5213),kn=w(8970);let vt=(()=>{class G{constructor(b,R,z,q,Me,tt){this.userDataService=b,this.loginSheet=R,this.likesWindowService=z,this.userPageService=q,this.friendsWindowService=Me,this.storageService=tt,this.backgroundStorage=""}ngOnInit(){this.likesWindowService.resetLikesWindowService(),this.userDataService.resetUserDataService(),this.userPageService.resetUserPageService(),this.friendsWindowService.resetFriendsWindowService(),this.storageSubscription=this.storageService.getDataFromStorage("Background/home_background.jpg").subscribe(R=>this.backgroundStorage=`url(${R})`)}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getIsLoggedIn(){return this.userDataService.isLoggedIn}onGetStartedClick(){this.loginSheet.open(Ue)}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(te.M),g.Y36(Ce.ch),g.Y36(Tt.R),g.Y36(bn.v),g.Y36(kn.R),g.Y36(Qe.V))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-home"]],decls:10,vars:3,consts:[[1,"home-page"],[1,"home-page-landing"],[1,"landing-left"],[1,"landing-left-content"],["mat-flat-button","",3,"disabled","click"]],template:function(b,R){1&b&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),g._uU(5,"Social Media App Platform"),g.qZA(),g.TgZ(6,"p"),g._uU(7,"Oh, hello, my precious friend!"),g.qZA(),g.TgZ(8,"button",4),g.NdJ("click",function(){return R.onGetStartedClick()}),g._uU(9," Get Started "),g.qZA()()()()()),2&b&&(g.xp6(1),g.Udp("background-image",R.backgroundStorage),g.xp6(7),g.Q6J("disabled",R.getIsLoggedIn()))},dependencies:[ze.lW],styles:[".home-page[_ngcontent-%COMP%]{width:100%;height:100%}.home-page-landing[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:100vh}.landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}.landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}.landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}.landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}.landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:2em;padding:.5em;background-color:#f44336}.landing-left-content[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#dcdcdc}"]}),G})(),bt=(()=>{class G{constructor(b,R){this.afAuth=b,this.router=R,this.authStateSubscription=this.afAuth.authState.subscribe(z=>{z?.emailVerified&&this.router.navigate([""])})}ngOnDestroy(){this.authStateSubscription&&this.authStateSubscription.unsubscribe()}onResendClick(){this.afAuth.currentUser.then(b=>{b?.sendEmailVerification()})}onRefreshClick(){window.location.reload()}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(oe.zQ),g.Y36(p.F0))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-email-verification"]],decls:8,vars:0,consts:[[1,"email-verification"],[1,"buttons"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(b,R){1&b&&(g.TgZ(0,"mat-card",0)(1,"h1"),g._uU(2,"Your Email is not verified"),g.qZA(),g.TgZ(3,"mat-card-content",1)(4,"button",2),g.NdJ("click",function(){return R.onResendClick()}),g._uU(5," Resend Verification Email "),g.qZA(),g.TgZ(6,"button",3),g.NdJ("click",function(){return R.onRefreshClick()}),g._uU(7," Refresh "),g.qZA()()())},dependencies:[ze.lW,Fe.a8,Fe.dn],styles:[".email-verification[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;text-align:center;justify-content:center}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px}"]}),G})();var Vt=w(8505),dt=w(8746),Ht=w(9300),Be=w(3900),mt=w(262),Rt=w(515),qt=w(4128),Mt=w(1627),Xe=w(8445),ot=w(1762),Nt=w(8577),It=w(430);function Wt(G,y){1&G&&(g.TgZ(0,"div",9),g._UZ(1,"img",10),g.qZA())}const Lt=function(G){return{error:G}};let Bt=(()=>{class G{constructor(b,R,z,q,Me,tt,nn){this.storage=b,this.afAuth=R,this.firestore=z,this.userDataService=q,this.dialogCreatePost=Me,this.dialogOpen=tt,this.postsDataService=nn,this.collection=this.firestore.collection("Posts"),this.createPostForm=new ae.cw({message:new ae.NI("",[ae.kI.required])})}ngOnDestroy(){this.uploadImagePostSubscription&&this.uploadImagePostSubscription.unsubscribe()}checkMessage(){return!(!this.createPostForm.get("message")?.invalid||!this.createPostForm.get("message")?.touched)}onPostClick(){const b=this.createPostForm.get("message");b?.markAsTouched(),!b?.errors&&(this.selectedImageFile?this.uploadImagePost(b?.value):this.uploadPost(b?.value))}uploadImagePost(b){const R=this.firestore.createId(),z=`Posts/${R}/image`,q=this.storage.ref(z),Me=this.storage.upload(z,this.selectedImageFile),tt=this.dialogOpen.open(Mt.R,{disableClose:!0,data:{info:"Upload progress",message:""}}),nn=Me.percentageChanges().pipe((0,Vt.b)(Ln=>{tt.componentInstance.message={info:"Upload progress",message:`Upload progress: ${Ln?.toFixed(2)}%`}}),(0,dt.x)(()=>tt.close())),on=Me.snapshotChanges().pipe((0,Ht.h)(Ln=>"success"===Ln.state),(0,Be.w)(()=>q.getDownloadURL()),(0,mt.K)(Ln=>(console.error("Error getting image URL:",Ln),Rt.E)));this.uploadImagePostSubscription=(0,qt.D)([nn,on]).pipe((0,Be.w)(([Ln,Yn])=>this.postsDataService.uploadImagePost(R,b,Yn)),(0,mt.K)(Ln=>(console.error("Error writing document: ",Ln),Rt.E))).subscribe(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")})}uploadPost(b){this.postsDataService.uploadPost(b).then(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")}).catch(R=>{console.error("Error writing document: ",R)})}photoSelected(b){if(this.selectedImageFile=b.files[0],!this.selectedImageFile)return;const R=new FileReader;R.readAsDataURL(this.selectedImageFile),R.addEventListener("loadend",z=>{const q=R.result.toString();document.getElementById("post-preview-image").src=q})}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(Xe.Q1),g.Y36(oe.zQ),g.Y36(ot.ST),g.Y36(te.M),g.Y36(me.so),g.Y36(me.uw),g.Y36(Nt.n))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-create-post"]],decls:16,vars:5,consts:[[3,"formGroup","submit"],["formControlName","message","placeholder","Type Message...",3,"ngClass"],["class","post-preview",4,"ngIf"],["align","end"],["type","button","mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["type","submit","mat-flat-button","","color","warn"],[1,"post-preview"],["id","post-preview-image"]],template:function(b,R){if(1&b){const z=g.EpF();g.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),g._uU(3,"Create post"),g.qZA()(),g.TgZ(4,"form",0),g.NdJ("submit",function(){return R.onPostClick()}),g._UZ(5,"textarea",1),g.YNc(6,Wt,2,0,"div",2),g.TgZ(7,"mat-card-actions",3)(8,"button",4)(9,"label",5)(10,"input",6,7),g.NdJ("change",function(){g.CHM(z);const Me=g.MAs(11);return g.KtG(R.photoSelected(Me))}),g.qZA(),g.TgZ(12,"mat-icon"),g._uU(13,"insert_photo"),g.qZA()()(),g.TgZ(14,"button",8),g._uU(15,"Post"),g.qZA()()()()}2&b&&(g.xp6(4),g.Q6J("formGroup",R.createPostForm),g.xp6(1),g.Q6J("ngClass",g.VKq(3,Lt,R.checkMessage())),g.xp6(1),g.Q6J("ngIf",R.selectedImageFile))},dependencies:[ve.mk,ve.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,ze.lW,Fe.a8,Fe.hq,Fe.dk,Fe.n5,It.Hw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}.error[_ngcontent-%COMP%]::placeholder{color:red}.post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}.post-preview[_ngcontent-%COMP%]   #post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),G})();var ft=w(8134);function qe(G,y){1&G&&g._UZ(0,"app-post",4),2&G&&g.Q6J("postData",y.$implicit)}const yn=[{path:"",component:vt},{path:"emailVerification",component:bt},{path:"yourFriends",loadChildren:()=>w.e(654).then(w.bind(w,654)).then(G=>G.FriendsWindowModule)},{path:"userPage",loadChildren:()=>Promise.all([w.e(592),w.e(56)]).then(w.bind(w,56)).then(G=>G.MainUserPageModule)},{path:"friendPage",loadChildren:()=>Promise.all([w.e(592),w.e(991)]).then(w.bind(w,2991)).then(G=>G.FriendPageModule)},{path:"informationLikes",loadChildren:()=>w.e(197).then(w.bind(w,9197)).then(G=>G.LikesInfoModule)},{path:"postFeed",component:(()=>{class G{constructor(b,R,z){this.dialog=b,this.postsDataService=R,this.storageService=z,this.limit=3,this.backgroundStorage=""}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/post-feed2.jpg").subscribe(R=>this.backgroundStorage=`url(${R})`),this.postsDataService.getCountOfDocuments(),this.postsDataService.getFirstPosts(),this.postsDataService.getScrollPosts()}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getPosts(){return this.postsDataService.posts}onCreatePostClick(){this.dialog.open(Bt)}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(me.uw),g.Y36(Nt.n),g.Y36(Qe.V))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-post-feed"]],decls:8,vars:3,consts:[[1,"news-line"],[1,"post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn",1,"post-button",3,"click"],[3,"postData"]],template:function(b,R){1&b&&(g.TgZ(0,"div",0)(1,"div",1),g.YNc(2,qe,1,1,"app-post",2),g.qZA(),g.TgZ(3,"button",3),g.NdJ("click",function(){return R.onCreatePostClick()}),g.TgZ(4,"div"),g._uU(5,"Create post"),g.qZA(),g.TgZ(6,"mat-icon"),g._uU(7,"add"),g.qZA()()()),2&b&&(g.Udp("background-image",R.backgroundStorage),g.xp6(2),g.Q6J("ngForOf",R.getPosts()))},dependencies:[ve.sg,ze.cs,It.Hw,ft.A],styles:[".news-line[_ngcontent-%COMP%]{display:flex;padding-top:5em;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}.post-button[_ngcontent-%COMP%]{width:10em;position:fixed;bottom:2em;right:2em}.post-feed[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}"]}),G})(),canActivate:[xe]},{path:"**",component:vt}];let mn=(()=>{class G{}return G.\u0275fac=function(b){return new(b||G)},G.\u0275mod=g.oAB({type:G}),G.\u0275inj=g.cJS({providers:[xe],imports:[p.Bz.forRoot(yn),p.Bz]}),G})();var yt=w(1591);function He(G){return new g.vHH(3e3,!1)}function De(G){switch(G.length){case 0:return new yt.ZN;case 1:return G[0];default:return new yt.ZE(G)}}function wt(G,y,b=new Map,R=new Map){const z=[],q=[];let Me=-1,tt=null;if(y.forEach(nn=>{const on=nn.get("offset"),Ln=on==Me,Yn=Ln&&tt||new Map;nn.forEach((Bi,Ti)=>{let ui=Ti,xi=Bi;if("offset"!==Ti)switch(ui=G.normalizePropertyName(ui,z),xi){case yt.k1:xi=b.get(Ti);break;case yt.l3:xi=R.get(Ti);break;default:xi=G.normalizeStyleValue(Ti,ui,xi,z)}Yn.set(ui,xi)}),Ln||q.push(Yn),tt=Yn,Me=on}),z.length)throw function St(G){return new g.vHH(3502,!1)}();return q}function jt(G,y,b,R){switch(y){case"start":G.onStart(()=>R(b&&zn(b,"start",G)));break;case"done":G.onDone(()=>R(b&&zn(b,"done",G)));break;case"destroy":G.onDestroy(()=>R(b&&zn(b,"destroy",G)))}}function zn(G,y,b){const q=ei(G.element,G.triggerName,G.fromState,G.toState,y||G.phaseName,b.totalTime??G.totalTime,!!b.disabled),Me=G._data;return null!=Me&&(q._data=Me),q}function ei(G,y,b,R,z="",q=0,Me){return{element:G,triggerName:y,fromState:b,toState:R,phaseName:z,totalTime:q,disabled:!!Me}}function kt(G,y,b){let R=G.get(y);return R||G.set(y,R=b),R}function At(G){const y=G.indexOf(":");return[G.substring(1,y),G.slice(y+1)]}const wn=(()=>typeof document>"u"?null:document.documentElement)();function Kn(G){const y=G.parentNode||G.host||null;return y===wn?null:y}let Nn=null,ci=!1;function Wr(G,y){for(;y;){if(y===G)return!0;y=Kn(y)}return!1}function fo(G,y,b){if(b)return Array.from(G.querySelectorAll(y));const R=G.querySelector(y);return R?[R]:[]}let pr=(()=>{class G{validateStyleProperty(b){return function Qi(G){Nn||(Nn=function br(){return typeof document<"u"?document.body:null}()||{},ci=!!Nn.style&&"WebkitAppearance"in Nn.style);let y=!0;return Nn.style&&!function An(G){return"ebkit"==G.substring(1,6)}(G)&&(y=G in Nn.style,!y&&ci&&(y="Webkit"+G.charAt(0).toUpperCase()+G.slice(1)in Nn.style)),y}(b)}matchesElement(b,R){return!1}containsElement(b,R){return Wr(b,R)}getParentElement(b){return Kn(b)}query(b,R,z){return fo(b,R,z)}computeStyle(b,R,z){return z||""}animate(b,R,z,q,Me,tt=[],nn){return new yt.ZN(z,q)}}return G.\u0275fac=function(b){return new(b||G)},G.\u0275prov=g.Yz7({token:G,factory:G.\u0275fac}),G})(),Br=(()=>{class G{}return G.NOOP=new pr,G})();const Pr=1e3,Ii="ng-enter",Po="ng-leave",Zr="ng-trigger",Ur=".ng-trigger",or="ng-animating",go=".ng-animating";function hr(G){if("number"==typeof G)return G;const y=G.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:_o(parseFloat(y[1]),y[2])}function _o(G,y){return"s"===y?G*Pr:G}function cs(G,y,b){return G.hasOwnProperty("duration")?G:function ls(G,y,b){let z,q=0,Me="";if("string"==typeof G){const tt=G.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===tt)return y.push(He()),{duration:0,delay:0,easing:""};z=_o(parseFloat(tt[1]),tt[2]);const nn=tt[3];null!=nn&&(q=_o(parseFloat(nn),tt[4]));const on=tt[5];on&&(Me=on)}else z=G;if(!b){let tt=!1,nn=y.length;z<0&&(y.push(function pt(){return new g.vHH(3100,!1)}()),tt=!0),q<0&&(y.push(function ht(){return new g.vHH(3101,!1)}()),tt=!0),tt&&y.splice(nn,0,He())}return{duration:z,delay:q,easing:Me}}(G,y,b)}function Eo(G,y={}){return Object.keys(G).forEach(b=>{y[b]=G[b]}),y}function Yr(G){const y=new Map;return Object.keys(G).forEach(b=>{y.set(b,G[b])}),y}function vo(G,y=new Map,b){if(b)for(let[R,z]of b)y.set(R,z);for(let[R,z]of G)y.set(R,z);return y}function ri(G,y,b){y.forEach((R,z)=>{const q=un(z);b&&!b.has(z)&&b.set(z,G.style[q]),G.style[q]=R})}function tr(G,y){y.forEach((b,R)=>{const z=un(R);G.style[z]=""})}function gi(G){return Array.isArray(G)?1==G.length?G[0]:(0,yt.vP)(G):G}const Mr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zo(G){let y=[];if("string"==typeof G){let b;for(;b=Mr.exec(G);)y.push(b[1]);Mr.lastIndex=0}return y}function Ct(G,y,b){const R=G.toString(),z=R.replace(Mr,(q,Me)=>{let tt=y[Me];return null==tt&&(b.push(function Xt(G){return new g.vHH(3003,!1)}()),tt=""),tt.toString()});return z==R?G:z}function gt(G){const y=[];let b=G.next();for(;!b.done;)y.push(b.value),b=G.next();return y}const zt=/-+([a-z0-9])/g;function un(G){return G.replace(zt,(...y)=>y[1].toUpperCase())}function Zn(G,y,b){switch(y.type){case 7:return G.visitTrigger(y,b);case 0:return G.visitState(y,b);case 1:return G.visitTransition(y,b);case 2:return G.visitSequence(y,b);case 3:return G.visitGroup(y,b);case 4:return G.visitAnimate(y,b);case 5:return G.visitKeyframes(y,b);case 6:return G.visitStyle(y,b);case 8:return G.visitReference(y,b);case 9:return G.visitAnimateChild(y,b);case 10:return G.visitAnimateRef(y,b);case 11:return G.visitQuery(y,b);case 12:return G.visitStagger(y,b);default:throw function cn(G){return new g.vHH(3004,!1)}()}}function fi(G,y){return window.getComputedStyle(G)[y]}const oi="*";function Yo(G,y){const b=[];return"string"==typeof G?G.split(/\s*,\s*/).forEach(R=>function Do(G,y,b){if(":"==G[0]){const nn=function qr(G,y){switch(G){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(b,R)=>parseFloat(R)>parseFloat(b);case":decrement":return(b,R)=>parseFloat(R)<parseFloat(b);default:return y.push(function ut(G){return new g.vHH(3016,!1)}()),"* => *"}}(G,b);if("function"==typeof nn)return void y.push(nn);G=nn}const R=G.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return b.push(function ct(G){return new g.vHH(3015,!1)}()),y;const z=R[1],q=R[2],Me=R[3];y.push(ds(z,Me));"<"==q[0]&&!(z==oi&&Me==oi)&&y.push(ds(Me,z))}(R,b,y)):b.push(G),b}const Gi=new Set(["true","1"]),bo=new Set(["false","0"]);function ds(G,y){const b=Gi.has(G)||bo.has(G),R=Gi.has(y)||bo.has(y);return(z,q)=>{let Me=G==oi||G==z,tt=y==oi||y==q;return!Me&&b&&"boolean"==typeof z&&(Me=z?Gi.has(G):bo.has(G)),!tt&&R&&"boolean"==typeof q&&(tt=q?Gi.has(y):bo.has(y)),Me&&tt}}const es=new RegExp("s*:selfs*,?","g");function vs(G,y,b,R){return new nr(G).build(y,b,R)}class nr{constructor(y){this._driver=y}build(y,b,R){const z=new ki(b);return this._resetContextStyleTimingState(z),Zn(this,gi(y),z)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,b){let R=b.queryCount=0,z=b.depCount=0;const q=[],Me=[];return"@"==y.name.charAt(0)&&b.errors.push(function ni(){return new g.vHH(3006,!1)}()),y.definitions.forEach(tt=>{if(this._resetContextStyleTimingState(b),0==tt.type){const nn=tt,on=nn.name;on.toString().split(/\s*,\s*/).forEach(Ln=>{nn.name=Ln,q.push(this.visitState(nn,b))}),nn.name=on}else if(1==tt.type){const nn=this.visitTransition(tt,b);R+=nn.queryCount,z+=nn.depCount,Me.push(nn)}else b.errors.push(function xn(){return new g.vHH(3007,!1)}())}),{type:7,name:y.name,states:q,transitions:Me,queryCount:R,depCount:z,options:null}}visitState(y,b){const R=this.visitStyle(y.styles,b),z=y.options&&y.options.params||null;if(R.containsDynamicStyles){const q=new Set,Me=z||{};R.styles.forEach(tt=>{tt instanceof Map&&tt.forEach(nn=>{Zo(nn).forEach(on=>{Me.hasOwnProperty(on)||q.add(on)})})}),q.size&&(gt(q.values()),b.errors.push(function ln(G,y){return new g.vHH(3008,!1)}()))}return{type:0,name:y.name,style:R,options:z?{params:z}:null}}visitTransition(y,b){b.queryCount=0,b.depCount=0;const R=Zn(this,gi(y.animation),b);return{type:1,matchers:Yo(y.expr,b.errors),animation:R,queryCount:b.queryCount,depCount:b.depCount,options:Qr(y.options)}}visitSequence(y,b){return{type:2,steps:y.steps.map(R=>Zn(this,R,b)),options:Qr(y.options)}}visitGroup(y,b){const R=b.currentTime;let z=0;const q=y.steps.map(Me=>{b.currentTime=R;const tt=Zn(this,Me,b);return z=Math.max(z,b.currentTime),tt});return b.currentTime=z,{type:3,steps:q,options:Qr(y.options)}}visitAnimate(y,b){const R=function To(G,y){if(G.hasOwnProperty("duration"))return G;if("number"==typeof G)return Xr(cs(G,y).duration,0,"");const b=G;if(b.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=Xr(0,0,"");return q.dynamic=!0,q.strValue=b,q}const z=cs(b,y);return Xr(z.duration,z.delay,z.easing)}(y.timings,b.errors);b.currentAnimateTimings=R;let z,q=y.styles?y.styles:(0,yt.oB)({});if(5==q.type)z=this.visitKeyframes(q,b);else{let Me=y.styles,tt=!1;if(!Me){tt=!0;const on={};R.easing&&(on.easing=R.easing),Me=(0,yt.oB)(on)}b.currentTime+=R.duration+R.delay;const nn=this.visitStyle(Me,b);nn.isEmptyStep=tt,z=nn}return b.currentAnimateTimings=null,{type:4,timings:R,style:z,options:null}}visitStyle(y,b){const R=this._makeStyleAst(y,b);return this._validateStyleAst(R,b),R}_makeStyleAst(y,b){const R=[],z=Array.isArray(y.styles)?y.styles:[y.styles];for(let tt of z)"string"==typeof tt?tt===yt.l3?R.push(tt):b.errors.push(new g.vHH(3002,!1)):R.push(Yr(tt));let q=!1,Me=null;return R.forEach(tt=>{if(tt instanceof Map&&(tt.has("easing")&&(Me=tt.get("easing"),tt.delete("easing")),!q))for(let nn of tt.values())if(nn.toString().indexOf("{{")>=0){q=!0;break}}),{type:6,styles:R,easing:Me,offset:y.offset,containsDynamicStyles:q,options:null}}_validateStyleAst(y,b){const R=b.currentAnimateTimings;let z=b.currentTime,q=b.currentTime;R&&q>0&&(q-=R.duration+R.delay),y.styles.forEach(Me=>{"string"!=typeof Me&&Me.forEach((tt,nn)=>{const on=b.collectedStyles.get(b.currentQuerySelector),Ln=on.get(nn);let Yn=!0;Ln&&(q!=z&&q>=Ln.startTime&&z<=Ln.endTime&&(b.errors.push(function Ot(G,y,b,R,z){return new g.vHH(3010,!1)}()),Yn=!1),q=Ln.startTime),Yn&&on.set(nn,{startTime:q,endTime:z}),b.options&&function oo(G,y,b){const R=y.params||{},z=Zo(G);z.length&&z.forEach(q=>{R.hasOwnProperty(q)||b.push(function Pt(G){return new g.vHH(3001,!1)}())})}(tt,b.options,b.errors)})})}visitKeyframes(y,b){const R={type:5,styles:[],options:null};if(!b.currentAnimateTimings)return b.errors.push(function Zt(){return new g.vHH(3011,!1)}()),R;let q=0;const Me=[];let tt=!1,nn=!1,on=0;const Ln=y.steps.map(ko=>{const Hr=this._makeStyleAst(ko,b);let ai=null!=Hr.offset?Hr.offset:function Wi(G){if("string"==typeof G)return null;let y=null;if(Array.isArray(G))G.forEach(b=>{if(b instanceof Map&&b.has("offset")){const R=b;y=parseFloat(R.get("offset")),R.delete("offset")}});else if(G instanceof Map&&G.has("offset")){const b=G;y=parseFloat(b.get("offset")),b.delete("offset")}return y}(Hr.styles),no=0;return null!=ai&&(q++,no=Hr.offset=ai),nn=nn||no<0||no>1,tt=tt||no<on,on=no,Me.push(no),Hr});nn&&b.errors.push(function Tn(){return new g.vHH(3012,!1)}()),tt&&b.errors.push(function li(){return new g.vHH(3200,!1)}());const Yn=y.steps.length;let Bi=0;q>0&&q<Yn?b.errors.push(function yi(){return new g.vHH(3202,!1)}()):0==q&&(Bi=1/(Yn-1));const Ti=Yn-1,ui=b.currentTime,xi=b.currentAnimateTimings,Ar=xi.duration;return Ln.forEach((ko,Hr)=>{const ai=Bi>0?Hr==Ti?1:Bi*Hr:Me[Hr],no=ai*Ar;b.currentTime=ui+xi.delay+no,xi.duration=no,this._validateStyleAst(ko,b),ko.offset=ai,R.styles.push(ko)}),R}visitReference(y,b){return{type:8,animation:Zn(this,gi(y.animation),b),options:Qr(y.options)}}visitAnimateChild(y,b){return b.depCount++,{type:9,options:Qr(y.options)}}visitAnimateRef(y,b){return{type:10,animation:this.visitReference(y.animation,b),options:Qr(y.options)}}visitQuery(y,b){const R=b.currentQuerySelector,z=y.options||{};b.queryCount++,b.currentQuery=y;const[q,Me]=function us(G){const y=!!G.split(/\s*,\s*/).find(b=>":self"==b);return y&&(G=G.replace(es,"")),G=G.replace(/@\*/g,Ur).replace(/@\w+/g,b=>Ur+"-"+b.slice(1)).replace(/:animating/g,go),[G,y]}(y.selector);b.currentQuerySelector=R.length?R+" "+q:q,kt(b.collectedStyles,b.currentQuerySelector,new Map);const tt=Zn(this,gi(y.animation),b);return b.currentQuery=null,b.currentQuerySelector=R,{type:11,selector:q,limit:z.limit||0,optional:!!z.optional,includeSelf:Me,animation:tt,originalSelector:y.selector,options:Qr(y.options)}}visitStagger(y,b){b.currentQuery||b.errors.push(function hi(){return new g.vHH(3013,!1)}());const R="full"===y.timings?{duration:0,delay:0,easing:"full"}:cs(y.timings,b.errors,!0);return{type:12,animation:Zn(this,gi(y.animation),b),timings:R,options:null}}}class ki{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qr(G){return G?(G=Eo(G)).params&&(G.params=function Io(G){return G?Eo(G):null}(G.params)):G={},G}function Xr(G,y,b){return{duration:G,delay:y,easing:b}}function jo(G,y,b,R,z,q,Me=null,tt=!1){return{type:1,element:G,keyframes:y,preStyleProps:b,postStyleProps:R,duration:z,delay:q,totalTime:z+q,easing:Me,subTimeline:tt}}class hs{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,b){let R=this._map.get(y);R||this._map.set(y,R=[]),R.push(...b)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const ts=new RegExp(":enter","g"),xr=new RegExp(":leave","g");function Jr(G,y,b,R,z,q=new Map,Me=new Map,tt,nn,on=[]){return(new kr).buildKeyframes(G,y,b,R,z,q,Me,tt,nn,on)}class kr{buildKeyframes(y,b,R,z,q,Me,tt,nn,on,Ln=[]){on=on||new hs;const Yn=new Hi(y,b,on,z,q,Ln,[]);Yn.options=nn;const Bi=nn.delay?hr(nn.delay):0;Yn.currentTimeline.delayNextStep(Bi),Yn.currentTimeline.setStyles([Me],null,Yn.errors,nn),Zn(this,R,Yn);const Ti=Yn.timelines.filter(ui=>ui.containsAnimation());if(Ti.length&&tt.size){let ui;for(let xi=Ti.length-1;xi>=0;xi--){const Ar=Ti[xi];if(Ar.element===b){ui=Ar;break}}ui&&!ui.allowOnlyTimelineStyles()&&ui.setStyles([tt],null,Yn.errors,nn)}return Ti.length?Ti.map(ui=>ui.buildKeyframes()):[jo(b,[],[],[],0,Bi,"",!1)]}visitTrigger(y,b){}visitState(y,b){}visitTransition(y,b){}visitAnimateChild(y,b){const R=b.subInstructions.get(b.element);if(R){const z=b.createSubContext(y.options),q=b.currentTimeline.currentTime,Me=this._visitSubInstructions(R,z,z.options);q!=Me&&b.transformIntoNewTimeline(Me)}b.previousNode=y}visitAnimateRef(y,b){const R=b.createSubContext(y.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],b,R),this.visitReference(y.animation,R),b.transformIntoNewTimeline(R.currentTimeline.currentTime),b.previousNode=y}_applyAnimationRefDelays(y,b,R){for(const z of y){const q=z?.delay;if(q){const Me="number"==typeof q?q:hr(Ct(q,z?.params??{},b.errors));R.delayNextStep(Me)}}}_visitSubInstructions(y,b,R){let q=b.currentTimeline.currentTime;const Me=null!=R.duration?hr(R.duration):null,tt=null!=R.delay?hr(R.delay):null;return 0!==Me&&y.forEach(nn=>{const on=b.appendInstructionToTimeline(nn,Me,tt);q=Math.max(q,on.duration+on.delay)}),q}visitReference(y,b){b.updateOptions(y.options,!0),Zn(this,y.animation,b),b.previousNode=y}visitSequence(y,b){const R=b.subContextCount;let z=b;const q=y.options;if(q&&(q.params||q.delay)&&(z=b.createSubContext(q),z.transformIntoNewTimeline(),null!=q.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=Mo);const Me=hr(q.delay);z.delayNextStep(Me)}y.steps.length&&(y.steps.forEach(Me=>Zn(this,Me,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>R&&z.transformIntoNewTimeline()),b.previousNode=y}visitGroup(y,b){const R=[];let z=b.currentTimeline.currentTime;const q=y.options&&y.options.delay?hr(y.options.delay):0;y.steps.forEach(Me=>{const tt=b.createSubContext(y.options);q&&tt.delayNextStep(q),Zn(this,Me,tt),z=Math.max(z,tt.currentTimeline.currentTime),R.push(tt.currentTimeline)}),R.forEach(Me=>b.currentTimeline.mergeTimelineCollectedStyles(Me)),b.transformIntoNewTimeline(z),b.previousNode=y}_visitTiming(y,b){if(y.dynamic){const R=y.strValue;return cs(b.params?Ct(R,b.params,b.errors):R,b.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,b){const R=b.currentAnimateTimings=this._visitTiming(y.timings,b),z=b.currentTimeline;R.delay&&(b.incrementTime(R.delay),z.snapshotCurrentStyles());const q=y.style;5==q.type?this.visitKeyframes(q,b):(b.incrementTime(R.duration),this.visitStyle(q,b),z.applyStylesToKeyframe()),b.currentAnimateTimings=null,b.previousNode=y}visitStyle(y,b){const R=b.currentTimeline,z=b.currentAnimateTimings;!z&&R.hasCurrentStyleProperties()&&R.forwardFrame();const q=z&&z.easing||y.easing;y.isEmptyStep?R.applyEmptyStep(q):R.setStyles(y.styles,q,b.errors,b.options),b.previousNode=y}visitKeyframes(y,b){const R=b.currentAnimateTimings,z=b.currentTimeline.duration,q=R.duration,tt=b.createSubContext().currentTimeline;tt.easing=R.easing,y.styles.forEach(nn=>{tt.forwardTime((nn.offset||0)*q),tt.setStyles(nn.styles,nn.easing,b.errors,b.options),tt.applyStylesToKeyframe()}),b.currentTimeline.mergeTimelineCollectedStyles(tt),b.transformIntoNewTimeline(z+q),b.previousNode=y}visitQuery(y,b){const R=b.currentTimeline.currentTime,z=y.options||{},q=z.delay?hr(z.delay):0;q&&(6===b.previousNode.type||0==R&&b.currentTimeline.hasCurrentStyleProperties())&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=Mo);let Me=R;const tt=b.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!z.optional,b.errors);b.currentQueryTotal=tt.length;let nn=null;tt.forEach((on,Ln)=>{b.currentQueryIndex=Ln;const Yn=b.createSubContext(y.options,on);q&&Yn.delayNextStep(q),on===b.element&&(nn=Yn.currentTimeline),Zn(this,y.animation,Yn),Yn.currentTimeline.applyStylesToKeyframe(),Me=Math.max(Me,Yn.currentTimeline.currentTime)}),b.currentQueryIndex=0,b.currentQueryTotal=0,b.transformIntoNewTimeline(Me),nn&&(b.currentTimeline.mergeTimelineCollectedStyles(nn),b.currentTimeline.snapshotCurrentStyles()),b.previousNode=y}visitStagger(y,b){const R=b.parentContext,z=b.currentTimeline,q=y.timings,Me=Math.abs(q.duration),tt=Me*(b.currentQueryTotal-1);let nn=Me*b.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":nn=tt-nn;break;case"full":nn=R.currentStaggerTime}const Ln=b.currentTimeline;nn&&Ln.delayNextStep(nn);const Yn=Ln.currentTime;Zn(this,y.animation,b),b.previousNode=y,R.currentStaggerTime=z.currentTime-Yn+(z.startTime-R.currentTimeline.startTime)}}const Mo={};class Hi{constructor(y,b,R,z,q,Me,tt,nn){this._driver=y,this.element=b,this.subInstructions=R,this._enterClassName=z,this._leaveClassName=q,this.errors=Me,this.timelines=tt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nn||new uo(this._driver,b,0),tt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,b){if(!y)return;const R=y;let z=this.options;null!=R.duration&&(z.duration=hr(R.duration)),null!=R.delay&&(z.delay=hr(R.delay));const q=R.params;if(q){let Me=z.params;Me||(Me=this.options.params={}),Object.keys(q).forEach(tt=>{(!b||!Me.hasOwnProperty(tt))&&(Me[tt]=Ct(q[tt],Me,this.errors))})}}_copyOptions(){const y={};if(this.options){const b=this.options.params;if(b){const R=y.params={};Object.keys(b).forEach(z=>{R[z]=b[z]})}}return y}createSubContext(y=null,b,R){const z=b||this.element,q=new Hi(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,R||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(y),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(y){return this.previousNode=Mo,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,b,R){const z={duration:b??y.duration,delay:this.currentTimeline.currentTime+(R??0)+y.delay,easing:""},q=new Ho(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,z,y.stretchStartingKeyframe);return this.timelines.push(q),z}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,b,R,z,q,Me){let tt=[];if(z&&tt.push(this.element),y.length>0){y=(y=y.replace(ts,"."+this._enterClassName)).replace(xr,"."+this._leaveClassName);let on=this._driver.query(this.element,y,1!=R);0!==R&&(on=R<0?on.slice(on.length+R,on.length):on.slice(0,R)),tt.push(...on)}return!q&&0==tt.length&&Me.push(function en(G){return new g.vHH(3014,!1)}()),tt}}class uo{constructor(y,b,R,z){this._driver=y,this.element=b,this.startTime=R,this._elementTimelineStylesLookup=z,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(b),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(b,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const b=1===this._keyframes.size&&this._pendingStyles.size;this.duration||b?(this.forwardTime(this.currentTime+y),b&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,b){return this.applyStylesToKeyframe(),new uo(this._driver,y,b||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,b){this._localTimelineStyles.set(y,b),this._globalTimelineStyles.set(y,b),this._styleSummary.set(y,{time:this.currentTime,value:b})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[b,R]of this._globalTimelineStyles)this._backFill.set(b,R||yt.l3),this._currentKeyframe.set(b,yt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,b,R,z){b&&this._previousKeyframe.set("easing",b);const q=z&&z.params||{},Me=function As(G,y){const b=new Map;let R;return G.forEach(z=>{if("*"===z){R=R||y.keys();for(let q of R)b.set(q,yt.l3)}else vo(z,b)}),b}(y,this._globalTimelineStyles);for(let[tt,nn]of Me){const on=Ct(nn,q,R);this._pendingStyles.set(tt,on),this._localTimelineStyles.has(tt)||this._backFill.set(tt,this._globalTimelineStyles.get(tt)??yt.l3),this._updateStyle(tt,on)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,b)=>{this._currentKeyframe.set(b,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,b)=>{this._currentKeyframe.has(b)||this._currentKeyframe.set(b,y)}))}snapshotCurrentStyles(){for(let[y,b]of this._localTimelineStyles)this._pendingStyles.set(y,b),this._updateStyle(y,b)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let b in this._currentKeyframe)y.push(b);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((b,R)=>{const z=this._styleSummary.get(R);(!z||b.time>z.time)&&this._updateStyle(R,b.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,b=new Set,R=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((tt,nn)=>{const on=vo(tt,new Map,this._backFill);on.forEach((Ln,Yn)=>{Ln===yt.k1?y.add(Yn):Ln===yt.l3&&b.add(Yn)}),R||on.set("offset",nn/this.duration),z.push(on)});const q=y.size?gt(y.values()):[],Me=b.size?gt(b.values()):[];if(R){const tt=z[0],nn=new Map(tt);tt.set("offset",0),nn.set("offset",1),z=[tt,nn]}return jo(this.element,z,q,Me,this.duration,this.startTime,this.easing,!1)}}class Ho extends uo{constructor(y,b,R,z,q,Me,tt=!1){super(y,b,Me.delay),this.keyframes=R,this.preStyleProps=z,this.postStyleProps=q,this._stretchStartingKeyframe=tt,this.timings={duration:Me.duration,delay:Me.delay,easing:Me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:b,duration:R,easing:z}=this.timings;if(this._stretchStartingKeyframe&&b){const q=[],Me=R+b,tt=b/Me,nn=vo(y[0]);nn.set("offset",0),q.push(nn);const on=vo(y[0]);on.set("offset",Hs(tt)),q.push(on);const Ln=y.length-1;for(let Yn=1;Yn<=Ln;Yn++){let Bi=vo(y[Yn]);const Ti=Bi.get("offset");Bi.set("offset",Hs((b+Ti*R)/Me)),q.push(Bi)}R=Me,b=0,z="",y=q}return jo(this.element,y,this.preStyleProps,this.postStyleProps,R,b,z,!0)}}function Hs(G,y=3){const b=Math.pow(10,y-1);return Math.round(G*b)/b}class et{}const X=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class st extends et{normalizePropertyName(y,b){return un(y)}normalizeStyleValue(y,b,R,z){let q="";const Me=R.toString().trim();if(X.has(b)&&0!==R&&"0"!==R)if("number"==typeof R)q="px";else{const tt=R.match(/^[+-]?[\d\.]+([a-z]*)$/);tt&&0==tt[1].length&&z.push(function $n(G,y){return new g.vHH(3005,!1)}())}return Me+q}}function an(G,y,b,R,z,q,Me,tt,nn,on,Ln,Yn,Bi){return{type:0,element:G,triggerName:y,isRemovalTransition:z,fromState:b,fromStyles:q,toState:R,toStyles:Me,timelines:tt,queriedElements:nn,preStyleProps:on,postStyleProps:Ln,totalTime:Yn,errors:Bi}}const Sn={};class Ai{constructor(y,b,R){this._triggerName=y,this.ast=b,this._stateStyles=R}match(y,b,R,z){return function Lr(G,y,b,R,z){return G.some(q=>q(y,b,R,z))}(this.ast.matchers,y,b,R,z)}buildStyles(y,b,R){let z=this._stateStyles.get("*");return void 0!==y&&(z=this._stateStyles.get(y?.toString())||z),z?z.buildStyles(b,R):new Map}build(y,b,R,z,q,Me,tt,nn,on,Ln){const Yn=[],Bi=this.ast.options&&this.ast.options.params||Sn,ui=this.buildStyles(R,tt&&tt.params||Sn,Yn),xi=nn&&nn.params||Sn,Ar=this.buildStyles(z,xi,Yn),ko=new Set,Hr=new Map,ai=new Map,no="void"===z,sa={params:ho(xi,Bi),delay:this.ast.options?.delay},dr=Ln?[]:Jr(y,b,this.ast.animation,q,Me,ui,Ar,sa,on,Yn);let Qn=0;if(dr.forEach(Fi=>{Qn=Math.max(Fi.duration+Fi.delay,Qn)}),Yn.length)return an(b,this._triggerName,R,z,no,ui,Ar,[],[],Hr,ai,Qn,Yn);dr.forEach(Fi=>{const mo=Fi.element,Tr=kt(Hr,mo,new Set);Fi.preStyleProps.forEach(O=>Tr.add(O));const E=kt(ai,mo,new Set);Fi.postStyleProps.forEach(O=>E.add(O)),mo!==b&&ko.add(mo)});const Ps=gt(ko.values());return an(b,this._triggerName,R,z,no,ui,Ar,dr,Ps,Hr,ai,Qn)}}function ho(G,y){const b=Eo(y);for(const R in G)G.hasOwnProperty(R)&&null!=G[R]&&(b[R]=G[R]);return b}class lr{constructor(y,b,R){this.styles=y,this.defaultParams=b,this.normalizer=R}buildStyles(y,b){const R=new Map,z=Eo(this.defaultParams);return Object.keys(y).forEach(q=>{const Me=y[q];null!==Me&&(z[q]=Me)}),this.styles.styles.forEach(q=>{"string"!=typeof q&&q.forEach((Me,tt)=>{Me&&(Me=Ct(Me,z,b));const nn=this.normalizer.normalizePropertyName(tt,b);Me=this.normalizer.normalizeStyleValue(tt,nn,Me,b),R.set(tt,Me)})}),R}}class V{constructor(y,b,R){this.name=y,this.ast=b,this._normalizer=R,this.transitionFactories=[],this.states=new Map,b.states.forEach(z=>{this.states.set(z.name,new lr(z.style,z.options&&z.options.params||{},R))}),D(this.states,"true","1"),D(this.states,"false","0"),b.transitions.forEach(z=>{this.transitionFactories.push(new Ai(y,z,this.states))}),this.fallbackTransition=function v(G,y,b){return new Ai(G,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Me,tt)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,b,R,z){return this.transitionFactories.find(Me=>Me.match(y,b,R,z))||null}matchStyles(y,b,R){return this.fallbackTransition.buildStyles(y,b,R)}}function D(G,y,b){G.has(y)?G.has(b)||G.set(b,G.get(y)):G.has(b)&&G.set(y,G.get(b))}const ie=new hs;class ke{constructor(y,b,R){this.bodyNode=y,this._driver=b,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,b){const R=[],q=vs(this._driver,b,R,[]);if(R.length)throw function Kt(G){return new g.vHH(3503,!1)}();this._animations.set(y,q)}_buildPlayer(y,b,R){const z=y.element,q=wt(this._normalizer,y.keyframes,b,R);return this._driver.animate(z,q,y.duration,y.delay,y.easing,[],!0)}create(y,b,R={}){const z=[],q=this._animations.get(y);let Me;const tt=new Map;if(q?(Me=Jr(this._driver,b,q,Ii,Po,new Map,new Map,R,ie,z),Me.forEach(Ln=>{const Yn=kt(tt,Ln.element,new Map);Ln.postStyleProps.forEach(Bi=>Yn.set(Bi,null))})):(z.push(function Pe(){return new g.vHH(3300,!1)}()),Me=[]),z.length)throw function le(G){return new g.vHH(3504,!1)}();tt.forEach((Ln,Yn)=>{Ln.forEach((Bi,Ti)=>{Ln.set(Ti,this._driver.computeStyle(Yn,Ti,yt.l3))})});const on=De(Me.map(Ln=>{const Yn=tt.get(Ln.element);return this._buildPlayer(Ln,new Map,Yn)}));return this._playersById.set(y,on),on.onDestroy(()=>this.destroy(y)),this.players.push(on),on}destroy(y){const b=this._getPlayer(y);b.destroy(),this._playersById.delete(y);const R=this.players.indexOf(b);R>=0&&this.players.splice(R,1)}_getPlayer(y){const b=this._playersById.get(y);if(!b)throw function j(G){return new g.vHH(3301,!1)}();return b}listen(y,b,R,z){const q=ei(b,"","","");return jt(this._getPlayer(y),R,q,z),()=>{}}command(y,b,R,z){if("register"==R)return void this.register(y,z[0]);if("create"==R)return void this.create(y,b,z[0]||{});const q=this._getPlayer(y);switch(R){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(y)}}}const _t="ng-animate-queued",Dn="ng-animate-disabled",Oi=[],mr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pi="__ng_removed";class Ri{get params(){return this.options.params}constructor(y,b=""){this.namespaceId=b;const R=y&&y.hasOwnProperty("value");if(this.value=function So(G){return G??null}(R?y.value:y),R){const q=Eo(y);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const b=y.params;if(b){const R=this.options.params;Object.keys(b).forEach(z=>{null==R[z]&&(R[z]=b[z])})}}}const Xi="void",vi=new Ri(Xi);class Fo{constructor(y,b,R){this.id=y,this.hostElement=b,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,No(b,this._hostClassName)}listen(y,b,R,z){if(!this._triggers.has(b))throw function U(G,y){return new g.vHH(3302,!1)}();if(null==R||0==R.length)throw function H(G){return new g.vHH(3303,!1)}();if(!function ys(G){return"start"==G||"done"==G}(R))throw function de(G,y){return new g.vHH(3400,!1)}();const q=kt(this._elementListeners,y,[]),Me={name:b,phase:R,callback:z};q.push(Me);const tt=kt(this._engine.statesByElement,y,new Map);return tt.has(b)||(No(y,Zr),No(y,Zr+"-"+b),tt.set(b,vi)),()=>{this._engine.afterFlush(()=>{const nn=q.indexOf(Me);nn>=0&&q.splice(nn,1),this._triggers.has(b)||tt.delete(b)})}}register(y,b){return!this._triggers.has(y)&&(this._triggers.set(y,b),!0)}_getTrigger(y){const b=this._triggers.get(y);if(!b)throw function ce(G){return new g.vHH(3401,!1)}();return b}trigger(y,b,R,z=!0){const q=this._getTrigger(b),Me=new Er(this.id,b,y);let tt=this._engine.statesByElement.get(y);tt||(No(y,Zr),No(y,Zr+"-"+b),this._engine.statesByElement.set(y,tt=new Map));let nn=tt.get(b);const on=new Ri(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&nn&&on.absorbOptions(nn.options),tt.set(b,on),nn||(nn=vi),on.value!==Xi&&nn.value===on.value){if(!function Ma(G,y){const b=Object.keys(G),R=Object.keys(y);if(b.length!=R.length)return!1;for(let z=0;z<b.length;z++){const q=b[z];if(!y.hasOwnProperty(q)||G[q]!==y[q])return!1}return!0}(nn.params,on.params)){const xi=[],Ar=q.matchStyles(nn.value,nn.params,xi),ko=q.matchStyles(on.value,on.params,xi);xi.length?this._engine.reportError(xi):this._engine.afterFlush(()=>{tr(y,Ar),ri(y,ko)})}return}const Bi=kt(this._engine.playersByElement,y,[]);Bi.forEach(xi=>{xi.namespaceId==this.id&&xi.triggerName==b&&xi.queued&&xi.destroy()});let Ti=q.matchTransition(nn.value,on.value,y,on.params),ui=!1;if(!Ti){if(!z)return;Ti=q.fallbackTransition,ui=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:b,transition:Ti,fromState:nn,toState:on,player:Me,isFallbackTransition:ui}),ui||(No(y,_t),Me.onStart(()=>{Ns(y,_t)})),Me.onDone(()=>{let xi=this.players.indexOf(Me);xi>=0&&this.players.splice(xi,1);const Ar=this._engine.playersByElement.get(y);if(Ar){let ko=Ar.indexOf(Me);ko>=0&&Ar.splice(ko,1)}}),this.players.push(Me),Bi.push(Me),Me}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(b=>b.delete(y)),this._elementListeners.forEach((b,R)=>{this._elementListeners.set(R,b.filter(z=>z.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const b=this._engine.playersByElement.get(y);b&&(b.forEach(R=>R.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,b){const R=this._engine.driver.query(y,Ur,!0);R.forEach(z=>{if(z[Pi])return;const q=this._engine.fetchNamespacesByElement(z);q.size?q.forEach(Me=>Me.triggerLeaveAnimation(z,b,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(y,b,R,z){const q=this._engine.statesByElement.get(y),Me=new Map;if(q){const tt=[];if(q.forEach((nn,on)=>{if(Me.set(on,nn.value),this._triggers.has(on)){const Ln=this.trigger(y,on,Xi,z);Ln&&tt.push(Ln)}}),tt.length)return this._engine.markElementAsRemoved(this.id,y,!0,b,Me),R&&De(tt).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const b=this._elementListeners.get(y),R=this._engine.statesByElement.get(y);if(b&&R){const z=new Set;b.forEach(q=>{const Me=q.name;if(z.has(Me))return;z.add(Me);const nn=this._triggers.get(Me).fallbackTransition,on=R.get(Me)||vi,Ln=new Ri(Xi),Yn=new Er(this.id,Me,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Me,transition:nn,fromState:on,toState:Ln,player:Yn,isFallbackTransition:!0})})}}removeNode(y,b){const R=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,b),this.triggerLeaveAnimation(y,b,!0))return;let z=!1;if(R.totalAnimations){const q=R.players.length?R.playersByQueriedElement.get(y):[];if(q&&q.length)z=!0;else{let Me=y;for(;Me=Me.parentNode;)if(R.statesByElement.get(Me)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(y),z)R.markElementAsRemoved(this.id,y,!1,b);else{const q=y[Pi];(!q||q===mr)&&(R.afterFlush(()=>this.clearElementCache(y)),R.destroyInnerAnimations(y),R._onRemovalComplete(y,b))}}insertNode(y,b){No(y,this._hostClassName)}drainQueuedTransitions(y){const b=[];return this._queue.forEach(R=>{const z=R.player;if(z.destroyed)return;const q=R.element,Me=this._elementListeners.get(q);Me&&Me.forEach(tt=>{if(tt.name==R.triggerName){const nn=ei(q,R.triggerName,R.fromState.value,R.toState.value);nn._data=y,jt(R.player,tt.phase,nn,tt.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):b.push(R)}),this._queue=[],b.sort((R,z)=>{const q=R.transition.ast.depCount,Me=z.transition.ast.depCount;return 0==q||0==Me?q-Me:this._engine.driver.containsElement(R.element,z.element)?1:-1})}destroy(y){this.players.forEach(b=>b.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let b=!1;return this._elementListeners.has(y)&&(b=!0),b=!!this._queue.find(R=>R.element===y)||b,b}}class eo{_onRemovalComplete(y,b){this.onRemovalComplete(y,b)}constructor(y,b,R){this.bodyNode=y,this.driver=b,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,q)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(b=>{b.players.forEach(R=>{R.queued&&y.push(R)})}),y}createNamespace(y,b){const R=new Fo(y,b,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,b)?this._balanceNamespaceList(R,b):(this.newHostElements.set(b,R),this.collectEnterElement(b)),this._namespaceLookup[y]=R}_balanceNamespaceList(y,b){const R=this._namespaceList,z=this.namespacesByHostElement;if(R.length-1>=0){let Me=!1,tt=this.driver.getParentElement(b);for(;tt;){const nn=z.get(tt);if(nn){const on=R.indexOf(nn);R.splice(on+1,0,y),Me=!0;break}tt=this.driver.getParentElement(tt)}Me||R.unshift(y)}else R.push(y);return z.set(b,y),y}register(y,b){let R=this._namespaceLookup[y];return R||(R=this.createNamespace(y,b)),R}registerTrigger(y,b,R){let z=this._namespaceLookup[y];z&&z.register(b,R)&&this.totalAnimations++}destroy(y,b){if(!y)return;const R=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[y];const z=this._namespaceList.indexOf(R);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>R.destroy(b))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const b=new Set,R=this.statesByElement.get(y);if(R)for(let z of R.values())if(z.namespaceId){const q=this._fetchNamespace(z.namespaceId);q&&b.add(q)}return b}trigger(y,b,R,z){if(zo(b)){const q=this._fetchNamespace(y);if(q)return q.trigger(b,R,z),!0}return!1}insertNode(y,b,R,z){if(!zo(b))return;const q=b[Pi];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const Me=this.collectedLeaveElements.indexOf(b);Me>=0&&this.collectedLeaveElements.splice(Me,1)}if(y){const Me=this._fetchNamespace(y);Me&&Me.insertNode(b,R)}z&&this.collectEnterElement(b)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,b){b?this.disabledNodes.has(y)||(this.disabledNodes.add(y),No(y,Dn)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Ns(y,Dn))}removeNode(y,b,R){if(zo(b)){const z=y?this._fetchNamespace(y):null;z?z.removeNode(b,R):this.markElementAsRemoved(y,b,!1,R);const q=this.namespacesByHostElement.get(b);q&&q.id!==y&&q.removeNode(b,R)}else this._onRemovalComplete(b,R)}markElementAsRemoved(y,b,R,z,q){this.collectedLeaveElements.push(b),b[Pi]={namespaceId:y,setForRemoval:z,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:q}}listen(y,b,R,z,q){return zo(b)?this._fetchNamespace(y).listen(b,R,z,q):()=>{}}_buildInstruction(y,b,R,z,q){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,R,z,y.fromState.options,y.toState.options,b,q)}destroyInnerAnimations(y){let b=this.driver.query(y,Ur,!0);b.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(b=this.driver.query(y,go,!0),b.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(y){const b=this.playersByElement.get(y);b&&b.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(y){const b=this.playersByQueriedElement.get(y);b&&b.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return De(this.players).onDone(()=>y());y()})}processLeaveNode(y){const b=y[Pi];if(b&&b.setForRemoval){if(y[Pi]=mr,b.namespaceId){this.destroyInnerAnimations(y);const R=this._fetchNamespace(b.namespaceId);R&&R.clearElementCache(y)}this._onRemovalComplete(y,b.setForRemoval)}y.classList?.contains(Dn)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(y=-1){let b=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,z)=>this._balanceNamespaceList(R,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)No(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{b=this._flushAnimations(R,y)}finally{for(let z=0;z<R.length;z++)R[z]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],b.length?De(b).onDone(()=>{R.forEach(z=>z())}):R.forEach(z=>z())}}reportError(y){throw function Te(G){return new g.vHH(3402,!1)}()}_flushAnimations(y,b){const R=new hs,z=[],q=new Map,Me=[],tt=new Map,nn=new Map,on=new Map,Ln=new Set;this.disabledNodes.forEach(Z=>{Ln.add(Z);const ge=this.driver.query(Z,".ng-animate-queued",!0);for(let ye=0;ye<ge.length;ye++)Ln.add(ge[ye])});const Yn=this.bodyNode,Bi=Array.from(this.statesByElement.keys()),Ti=Zs(Bi,this.collectedEnterElements),ui=new Map;let xi=0;Ti.forEach((Z,ge)=>{const ye=Ii+xi++;ui.set(ge,ye),Z.forEach(xt=>No(xt,ye))});const Ar=[],ko=new Set,Hr=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){const ge=this.collectedLeaveElements[Z],ye=ge[Pi];ye&&ye.setForRemoval&&(Ar.push(ge),ko.add(ge),ye.hasAnimation?this.driver.query(ge,".ng-star-inserted",!0).forEach(xt=>ko.add(xt)):Hr.add(ge))}const ai=new Map,no=Zs(Bi,Array.from(ko));no.forEach((Z,ge)=>{const ye=Po+xi++;ai.set(ge,ye),Z.forEach(xt=>No(xt,ye))}),y.push(()=>{Ti.forEach((Z,ge)=>{const ye=ui.get(ge);Z.forEach(xt=>Ns(xt,ye))}),no.forEach((Z,ge)=>{const ye=ai.get(ge);Z.forEach(xt=>Ns(xt,ye))}),Ar.forEach(Z=>{this.processLeaveNode(Z)})});const sa=[],dr=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(b).forEach(ye=>{const xt=ye.player,gn=ye.element;if(sa.push(xt),this.collectedEnterElements.length){const zr=gn[Pi];if(zr&&zr.setForMove){if(zr.previousTriggersValues&&zr.previousTriggersValues.has(ye.triggerName)){const Yt=zr.previousTriggersValues.get(ye.triggerName),$r=this.statesByElement.get(ye.element);if($r&&$r.has(ye.triggerName)){const $o=$r.get(ye.triggerName);$o.value=Yt,$r.set(ye.triggerName,$o)}}return void xt.destroy()}}const ii=!Yn||!this.driver.containsElement(Yn,gn),Bn=ai.get(gn),Vi=ui.get(gn),Ui=this._buildInstruction(ye,R,Vi,Bn,ii);if(Ui.errors&&Ui.errors.length)return void dr.push(Ui);if(ii)return xt.onStart(()=>tr(gn,Ui.fromStyles)),xt.onDestroy(()=>ri(gn,Ui.toStyles)),void z.push(xt);if(ye.isFallbackTransition)return xt.onStart(()=>tr(gn,Ui.fromStyles)),xt.onDestroy(()=>ri(gn,Ui.toStyles)),void z.push(xt);const _a=[];Ui.timelines.forEach(zr=>{zr.stretchStartingKeyframe=!0,this.disabledNodes.has(zr.element)||_a.push(zr)}),Ui.timelines=_a,R.append(gn,Ui.timelines),Me.push({instruction:Ui,player:xt,element:gn}),Ui.queriedElements.forEach(zr=>kt(tt,zr,[]).push(xt)),Ui.preStyleProps.forEach((zr,Yt)=>{if(zr.size){let $r=nn.get(Yt);$r||nn.set(Yt,$r=new Set),zr.forEach(($o,rc)=>$r.add(rc))}}),Ui.postStyleProps.forEach((zr,Yt)=>{let $r=on.get(Yt);$r||on.set(Yt,$r=new Set),zr.forEach(($o,rc)=>$r.add(rc))})});if(dr.length){const Z=[];dr.forEach(ge=>{Z.push(function Ne(G,y){return new g.vHH(3505,!1)}())}),sa.forEach(ge=>ge.destroy()),this.reportError(Z)}const Qn=new Map,Ps=new Map;Me.forEach(Z=>{const ge=Z.element;R.has(ge)&&(Ps.set(ge,ge),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,Qn))}),z.forEach(Z=>{const ge=Z.element;this._getPreviousPlayers(ge,!1,Z.namespaceId,Z.triggerName,null).forEach(xt=>{kt(Qn,ge,[]).push(xt),xt.destroy()})});const Fi=Ar.filter(Z=>oa(Z,nn,on)),mo=new Map;Ms(mo,this.driver,Hr,on,yt.l3).forEach(Z=>{oa(Z,nn,on)&&Fi.push(Z)});const E=new Map;Ti.forEach((Z,ge)=>{Ms(E,this.driver,new Set(Z),nn,yt.k1)}),Fi.forEach(Z=>{const ge=mo.get(Z),ye=E.get(Z);mo.set(Z,new Map([...ge?.entries()??[],...ye?.entries()??[]]))});const O=[],C=[],N={};Me.forEach(Z=>{const{element:ge,player:ye,instruction:xt}=Z;if(R.has(ge)){if(Ln.has(ge))return ye.onDestroy(()=>ri(ge,xt.toStyles)),ye.disabled=!0,ye.overrideTotalTime(xt.totalTime),void z.push(ye);let gn=N;if(Ps.size>1){let Bn=ge;const Vi=[];for(;Bn=Bn.parentNode;){const Ui=Ps.get(Bn);if(Ui){gn=Ui;break}Vi.push(Bn)}Vi.forEach(Ui=>Ps.set(Ui,gn))}const ii=this._buildAnimation(ye.namespaceId,xt,Qn,q,E,mo);if(ye.setRealPlayer(ii),gn===N)O.push(ye);else{const Bn=this.playersByElement.get(gn);Bn&&Bn.length&&(ye.parentPlayer=De(Bn)),z.push(ye)}}else tr(ge,xt.fromStyles),ye.onDestroy(()=>ri(ge,xt.toStyles)),C.push(ye),Ln.has(ge)&&z.push(ye)}),C.forEach(Z=>{const ge=q.get(Z.element);if(ge&&ge.length){const ye=De(ge);Z.setRealPlayer(ye)}}),z.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<Ar.length;Z++){const ge=Ar[Z],ye=ge[Pi];if(Ns(ge,Po),ye&&ye.hasAnimation)continue;let xt=[];if(tt.size){let ii=tt.get(ge);ii&&ii.length&&xt.push(...ii);let Bn=this.driver.query(ge,go,!0);for(let Vi=0;Vi<Bn.length;Vi++){let Ui=tt.get(Bn[Vi]);Ui&&Ui.length&&xt.push(...Ui)}}const gn=xt.filter(ii=>!ii.destroyed);gn.length?so(this,ge,gn):this.processLeaveNode(ge)}return Ar.length=0,O.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();const ge=this.players.indexOf(Z);this.players.splice(ge,1)}),Z.play()}),O}elementContainsData(y,b){let R=!1;const z=b[Pi];return z&&z.setForRemoval&&(R=!0),this.playersByElement.has(b)&&(R=!0),this.playersByQueriedElement.has(b)&&(R=!0),this.statesByElement.has(b)&&(R=!0),this._fetchNamespace(y).elementContainsData(b)||R}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,b,R,z,q){let Me=[];if(b){const tt=this.playersByQueriedElement.get(y);tt&&(Me=tt)}else{const tt=this.playersByElement.get(y);if(tt){const nn=!q||q==Xi;tt.forEach(on=>{on.queued||!nn&&on.triggerName!=z||Me.push(on)})}}return(R||z)&&(Me=Me.filter(tt=>!(R&&R!=tt.namespaceId||z&&z!=tt.triggerName))),Me}_beforeAnimationBuild(y,b,R){const q=b.element,Me=b.isRemovalTransition?void 0:y,tt=b.isRemovalTransition?void 0:b.triggerName;for(const nn of b.timelines){const on=nn.element,Ln=on!==q,Yn=kt(R,on,[]);this._getPreviousPlayers(on,Ln,Me,tt,b.toState).forEach(Ti=>{const ui=Ti.getRealPlayer();ui.beforeDestroy&&ui.beforeDestroy(),Ti.destroy(),Yn.push(Ti)})}tr(q,b.fromStyles)}_buildAnimation(y,b,R,z,q,Me){const tt=b.triggerName,nn=b.element,on=[],Ln=new Set,Yn=new Set,Bi=b.timelines.map(ui=>{const xi=ui.element;Ln.add(xi);const Ar=xi[Pi];if(Ar&&Ar.removedBeforeQueried)return new yt.ZN(ui.duration,ui.delay);const ko=xi!==nn,Hr=function gc(G){const y=[];return Ys(G,y),y}((R.get(xi)||Oi).map(Qn=>Qn.getRealPlayer())).filter(Qn=>!!Qn.element&&Qn.element===xi),ai=q.get(xi),no=Me.get(xi),sa=wt(this._normalizer,ui.keyframes,ai,no),dr=this._buildPlayer(ui,sa,Hr);if(ui.subTimeline&&z&&Yn.add(xi),ko){const Qn=new Er(y,tt,xi);Qn.setRealPlayer(dr),on.push(Qn)}return dr});on.forEach(ui=>{kt(this.playersByQueriedElement,ui.element,[]).push(ui),ui.onDone(()=>function Ir(G,y,b){let R=G.get(y);if(R){if(R.length){const z=R.indexOf(b);R.splice(z,1)}0==R.length&&G.delete(y)}return R}(this.playersByQueriedElement,ui.element,ui))}),Ln.forEach(ui=>No(ui,or));const Ti=De(Bi);return Ti.onDestroy(()=>{Ln.forEach(ui=>Ns(ui,or)),ri(nn,b.toStyles)}),Yn.forEach(ui=>{kt(z,ui,[]).push(Ti)}),Ti}_buildPlayer(y,b,R){return b.length>0?this.driver.animate(y.element,b,y.duration,y.delay,y.easing,R):new yt.ZN(y.duration,y.delay)}}class Er{constructor(y,b,R){this.namespaceId=y,this.triggerName=b,this.element=R,this._player=new yt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((b,R)=>{b.forEach(z=>jt(y,R,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const b=this._player;b.triggerCallback&&y.onStart(()=>b.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,b){kt(this._queuedCallbacks,y,[]).push(b)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const b=this._player;b.triggerCallback&&b.triggerCallback(y)}}function zo(G){return G&&1===G.nodeType}function ws(G,y){const b=G.style.display;return G.style.display=y??"none",b}function Ms(G,y,b,R,z){const q=[];b.forEach(nn=>q.push(ws(nn)));const Me=[];R.forEach((nn,on)=>{const Ln=new Map;nn.forEach(Yn=>{const Bi=y.computeStyle(on,Yn,z);Ln.set(Yn,Bi),(!Bi||0==Bi.length)&&(on[Pi]=Dr,Me.push(on))}),G.set(on,Ln)});let tt=0;return b.forEach(nn=>ws(nn,q[tt++])),Me}function Zs(G,y){const b=new Map;if(G.forEach(tt=>b.set(tt,[])),0==y.length)return b;const R=1,z=new Set(y),q=new Map;function Me(tt){if(!tt)return R;let nn=q.get(tt);if(nn)return nn;const on=tt.parentNode;return nn=b.has(on)?on:z.has(on)?R:Me(on),q.set(tt,nn),nn}return y.forEach(tt=>{const nn=Me(tt);nn!==R&&b.get(nn).push(tt)}),b}function No(G,y){G.classList?.add(y)}function Ns(G,y){G.classList?.remove(y)}function so(G,y,b){De(b).onDone(()=>G.processLeaveNode(y))}function Ys(G,y){for(let b=0;b<G.length;b++){const R=G[b];R instanceof yt.ZE?Ys(R.players,y):y.push(R)}}function oa(G,y,b){const R=b.get(G);if(!R)return!1;let z=y.get(G);return z?R.forEach(q=>z.add(q)):y.set(G,R),b.delete(G),!0}class qs{constructor(y,b,R){this.bodyNode=y,this._driver=b,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(z,q)=>{},this._transitionEngine=new eo(y,b,R),this._timelineEngine=new ke(y,b,R),this._transitionEngine.onRemovalComplete=(z,q)=>this.onRemovalComplete(z,q)}registerTrigger(y,b,R,z,q){const Me=y+"-"+z;let tt=this._triggerCache[Me];if(!tt){const nn=[],Ln=vs(this._driver,q,nn,[]);if(nn.length)throw function Ae(G,y){return new g.vHH(3404,!1)}();tt=function K(G,y,b){return new V(G,y,b)}(z,Ln,this._normalizer),this._triggerCache[Me]=tt}this._transitionEngine.registerTrigger(b,z,tt)}register(y,b){this._transitionEngine.register(y,b)}destroy(y,b){this._transitionEngine.destroy(y,b)}onInsert(y,b,R,z){this._transitionEngine.insertNode(y,b,R,z)}onRemove(y,b,R){this._transitionEngine.removeNode(y,b,R)}disableAnimations(y,b){this._transitionEngine.markElementAsDisabled(y,b)}process(y,b,R,z){if("@"==R.charAt(0)){const[q,Me]=At(R);this._timelineEngine.command(q,b,Me,z)}else this._transitionEngine.trigger(y,b,R,z)}listen(y,b,R,z,q){if("@"==R.charAt(0)){const[Me,tt]=At(R);return this._timelineEngine.listen(Me,b,tt,q)}return this._transitionEngine.listen(y,b,R,z,q)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ma=(()=>{class G{constructor(b,R,z){this._element=b,this._startStyles=R,this._endStyles=z,this._state=0;let q=G.initialStylesByElement.get(b);q||G.initialStylesByElement.set(b,q=new Map),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ri(this._element,this._initialStyles),this._endStyles&&(ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(G.initialStylesByElement.delete(this._element),this._startStyles&&(tr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tr(this._element,this._endStyles),this._endStyles=null),ri(this._element,this._initialStyles),this._state=3)}}return G.initialStylesByElement=new WeakMap,G})();function xs(G){let y=null;return G.forEach((b,R)=>{(function xa(G){return"display"===G||"position"===G})(R)&&(y=y||new Map,y.set(R,b))}),y}class zs{constructor(y,b,R,z){this.element=y,this.keyframes=b,this.options=R,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const b=[];return y.forEach(R=>{b.push(Object.fromEntries(R))}),b}_triggerWebAnimation(y,b,R){return y.animate(this._convertKeyframesToObject(b),R)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,z)=>{"offset"!==z&&y.set(z,this._finished?R:fi(this.element,z))}),this.currentSnapshot=y}triggerCallback(y){const b="start"===y?this._onStartFns:this._onDoneFns;b.forEach(R=>R()),b.length=0}}class Sa{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,b){return!1}containsElement(y,b){return Wr(y,b)}getParentElement(y){return Kn(y)}query(y,b,R){return fo(y,b,R)}computeStyle(y,b,R){return window.getComputedStyle(y)[b]}animate(y,b,R,z,q,Me=[]){const nn={duration:R,delay:z,fill:0==z?"both":"forwards"};q&&(nn.easing=q);const on=new Map,Ln=Me.filter(Ti=>Ti instanceof zs);(function hn(G,y){return 0===G||0===y})(R,z)&&Ln.forEach(Ti=>{Ti.currentSnapshot.forEach((ui,xi)=>on.set(xi,ui))});let Yn=function yr(G){return G.length?G[0]instanceof Map?G:G.map(y=>Yr(y)):[]}(b).map(Ti=>vo(Ti));Yn=function Rn(G,y,b){if(b.size&&y.length){let R=y[0],z=[];if(b.forEach((q,Me)=>{R.has(Me)||z.push(Me),R.set(Me,q)}),z.length)for(let q=1;q<y.length;q++){let Me=y[q];z.forEach(tt=>Me.set(tt,fi(G,tt)))}}return y}(y,Yn,on);const Bi=function Qs(G,y){let b=null,R=null;return Array.isArray(y)&&y.length?(b=xs(y[0]),y.length>1&&(R=xs(y[y.length-1]))):y instanceof Map&&(b=xs(y)),b||R?new ma(G,b,R):null}(y,Yn);return new zs(y,Yn,nn,Bi)}}let ka=(()=>{class G extends yt._j{constructor(b,R){super(),this._nextAnimationId=0,this._renderer=b.createRenderer(R.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(b){const R=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(b)?(0,yt.vP)(b):b;return ns(this._renderer,null,R,"register",[z]),new Xs(R,this._renderer)}}return G.\u0275fac=function(b){return new(b||G)(g.LFG(g.FYo),g.LFG(ve.K0))},G.\u0275prov=g.Yz7({token:G,factory:G.\u0275fac}),G})();class Xs extends yt.LC{constructor(y,b){super(),this._id=y,this._renderer=b}create(y,b){return new ms(this._id,y,b||{},this._renderer)}}class ms{constructor(y,b,R,z){this.id=y,this.element=b,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(y,b){return this._renderer.listen(this.element,`@@${this.id}:${y}`,b)}_command(y,...b){return ns(this._renderer,this.element,this.id,y,b)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ns(G,y,b,R,z){return G.setProperty(y,`@@${b}:${R}`,z)}const Os="@.disabled";let ir=(()=>{class G{constructor(b,R,z){this.delegate=b,this.engine=R,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(q,Me)=>{const tt=Me?.parentNode(q);tt&&Me.removeChild(tt,q)}}createRenderer(b,R){const q=this.delegate.createRenderer(b,R);if(!(b&&R&&R.data&&R.data.animation)){let Ln=this._rendererCache.get(q);return Ln||(Ln=new yo("",q,this.engine,()=>this._rendererCache.delete(q)),this._rendererCache.set(q,Ln)),Ln}const Me=R.id,tt=R.id+"-"+this._currentId;this._currentId++,this.engine.register(tt,b);const nn=Ln=>{Array.isArray(Ln)?Ln.forEach(nn):this.engine.registerTrigger(Me,tt,b,Ln.name,Ln)};return R.data.animation.forEach(nn),new ea(this,tt,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(b,R,z){b>=0&&b<this._microtaskId?this._zone.run(()=>R(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[Me,tt]=q;Me(tt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return G.\u0275fac=function(b){return new(b||G)(g.LFG(g.FYo),g.LFG(qs),g.LFG(g.R0b))},G.\u0275prov=g.Yz7({token:G,factory:G.\u0275fac}),G})();class yo{constructor(y,b,R,z){this.namespaceId=y,this.delegate=b,this.engine=R,this._onDestroy=z,this.destroyNode=this.delegate.destroyNode?q=>b.destroyNode(q):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,b){return this.delegate.createElement(y,b)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,b){this.delegate.appendChild(y,b),this.engine.onInsert(this.namespaceId,b,y,!1)}insertBefore(y,b,R,z=!0){this.delegate.insertBefore(y,b,R),this.engine.onInsert(this.namespaceId,b,y,z)}removeChild(y,b,R){this.engine.onRemove(this.namespaceId,b,this.delegate)}selectRootElement(y,b){return this.delegate.selectRootElement(y,b)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,b,R,z){this.delegate.setAttribute(y,b,R,z)}removeAttribute(y,b,R){this.delegate.removeAttribute(y,b,R)}addClass(y,b){this.delegate.addClass(y,b)}removeClass(y,b){this.delegate.removeClass(y,b)}setStyle(y,b,R,z){this.delegate.setStyle(y,b,R,z)}removeStyle(y,b,R){this.delegate.removeStyle(y,b,R)}setProperty(y,b,R){"@"==b.charAt(0)&&b==Os?this.disableAnimations(y,!!R):this.delegate.setProperty(y,b,R)}setValue(y,b){this.delegate.setValue(y,b)}listen(y,b,R){return this.delegate.listen(y,b,R)}disableAnimations(y,b){this.engine.disableAnimations(y,b)}}class ea extends yo{constructor(y,b,R,z,q){super(b,R,z,q),this.factory=y,this.namespaceId=b}setProperty(y,b,R){"@"==b.charAt(0)?"."==b.charAt(1)&&b==Os?this.disableAnimations(y,R=void 0===R||!!R):this.engine.process(this.namespaceId,y,b.slice(1),R):this.delegate.setProperty(y,b,R)}listen(y,b,R){if("@"==b.charAt(0)){const z=function Ci(G){switch(G){case"body":return document.body;case"document":return document;case"window":return window;default:return G}}(y);let q=b.slice(1),Me="";return"@"!=q.charAt(0)&&([q,Me]=function fa(G){const y=G.indexOf(".");return[G.substring(0,y),G.slice(y+1)]}(q)),this.engine.listen(this.namespaceId,z,q,Me,tt=>{this.factory.scheduleListenerCallback(tt._data||-1,R,tt)})}return this.delegate.listen(y,b,R)}}const be=[{provide:yt._j,useClass:ka},{provide:et,useFactory:function ee(){return new st}},{provide:qs,useClass:(()=>{class G extends qs{constructor(b,R,z,q){super(b.body,R,z)}ngOnDestroy(){this.flush()}}return G.\u0275fac=function(b){return new(b||G)(g.LFG(ve.K0),g.LFG(Br),g.LFG(et),g.LFG(g.z2F))},G.\u0275prov=g.Yz7({token:G,factory:G.\u0275fac}),G})()},{provide:g.FYo,useFactory:function B(G,y,b){return new ir(G,y,b)},deps:[l.se,qs,g.R0b]}],it=[{provide:Br,useFactory:()=>new Sa},{provide:g.QbO,useValue:"BrowserAnimations"},...be],rn=[{provide:Br,useClass:pr},{provide:g.QbO,useValue:"NoopAnimations"},...be];let fn=(()=>{class G{static withConfig(b){return{ngModule:G,providers:b.disableAnimations?rn:it}}}return G.\u0275fac=function(b){return new(b||G)},G.\u0275mod=g.oAB({type:G}),G.\u0275inj=g.cJS({providers:it,imports:[l.b2]}),G})();var bi=w(3144);const Ei_firebaseConfig={apiKey:"AIzaSyCBFiqylI83kkUooQ5SKoyaA4AD4cJtW2I",authDomain:"socialmediafeed-72afc.firebaseapp.com",projectId:"socialmediafeed-72afc",storageBucket:"socialmediafeed-72afc.appspot.com",messagingSenderId:"708393762131",appId:"1:708393762131:web:6d451bd3a6d6149c4d35a6",measurementId:"G-VF9CFXKB75"};var Ji=w(2011),jn=w(8854);function to(G,y){1&G&&(g.TgZ(0,"div")(1,"small",6),g._uU(2,"Nickname field cannot be empty"),g.qZA()())}function fs(G,y){1&G&&(g.TgZ(0,"div")(1,"small",6),g._uU(2,"Description field cannot be empty"),g.qZA()())}const Vr=function(G,y){return{active:G,idle:y}};let pa=(()=>{class G{constructor(b){this.userDataService=b,this.profileForm=new ae.cw({nickname:new ae.NI("",[ae.kI.required]),description:new ae.NI("",[ae.kI.required])})}onContinueClick(){const b=this.profileForm.get("nickname"),R=this.profileForm.get("description");b?.markAsTouched(),R?.markAsTouched(),b&&R&&!b.errors&&!R.errors&&(this.userDataService.createUser(b.value,R.value),this.profileForm.reset())}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(te.M))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:7,consts:[[1,"profile",3,"ngClass"],[1,"profile-content",3,"formGroup","submit"],["formControlName","nickname","placeholder","Nickname"],[4,"ngIf"],["formControlName","description","placeholder","Description"],["mat-flat-button","","color","warn","type","submit"],[1,"error"]],template:function(b,R){if(1&b&&(g.TgZ(0,"div",0)(1,"form",1),g.NdJ("submit",function(){return R.onContinueClick()}),g._UZ(2,"input",2),g.YNc(3,to,3,0,"div",3),g._UZ(4,"textarea",4),g.YNc(5,fs,3,0,"div",3),g.TgZ(6,"button",5),g._uU(7,"Continue"),g.qZA()()()),2&b){let z,q;g.Q6J("ngClass",g.WLB(4,Vr,R.show,!R.show)),g.xp6(1),g.Q6J("formGroup",R.profileForm),g.xp6(2),g.Q6J("ngIf",(null==(z=R.profileForm.get("nickname"))?null:z.invalid)&&(null==(z=R.profileForm.get("nickname"))?null:z.touched)),g.xp6(2),g.Q6J("ngIf",(null==(q=R.profileForm.get("description"))?null:q.invalid)&&(null==(q=R.profileForm.get("description"))?null:q.touched))}},dependencies:[ve.mk,ve.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,ze.lW],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;right:0;height:100vh;background-color:#313131;z-index:9;transition-duration:.5s;overflow:hidden}.profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box}.profile-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-top:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}"]}),G})();var Lo=w(5861),Rs=w(8099),is=w(9744),Es=w(9383),tc=w(2659);function ga(G,y){1&G&&(g.TgZ(0,"mat-icon",9),g._uU(1,"notifications_active "),g.qZA())}function _c(G,y){1&G&&(g.TgZ(0,"mat-icon"),g._uU(1," notifications_none "),g.qZA())}function nc(G,y){1&G&&(g.TgZ(0,"mat-icon",9),g._uU(1," fiber_manual_record "),g.qZA())}function En(G,y){1&G&&(g.TgZ(0,"mat-icon",9),g._uU(1," fiber_manual_record "),g.qZA())}let er=(()=>{class G{constructor(b,R,z,q){this.dialog=b,this.userDataService=R,this.notificationsService=z,this.router=q,this.notificationFriendsLength=0,this.notificationLikesLength=0}ngOnInit(){this.delayUntilUserInfo()}ngOnDestroy(){this.notificationFriendsSubscription&&this.notificationFriendsSubscription.unsubscribe()}delayUntilUserInfo(){var b=this;return(0,Lo.Z)(function*(){b.userDataService.userInfo?.userId?(b.notificationFriendsSubscription=b.notificationsService.getYourNotificationFriends().subscribe(R=>b.notificationFriendsLength=R.length),b.notificationsService.getYourNotificationLikes().subscribe(R=>b.notificationLikesLength=R.length)):(yield new Promise(R=>{setTimeout(R,100)}),yield b.delayUntilUserInfo())})()}changeNicknameClick(){this.dialog.open(Rs.f,{data:{info:"Change Nickname",message:`Your current nickname - ${this.userDataService.userInfo.publicName}`,field:"publicName"}})}changeDescriptionClick(){this.dialog.open(Rs.f,{data:{info:"Change Description",message:`Your current description - ${this.userDataService.userInfo.description}`,field:"description"}})}deleteAccountClick(){this.dialog.open(Rs.f,{data:{info:"Delete account",message:"Are you sure you want to delete your account? All your posts will be deleted",yesButton:!0}})}homaPageClick(){this.router.navigate(["userPage"])}newsClick(){this.router.navigate(["postFeed"])}friendsClick(){this.router.navigate(["yourFriends"])}newFriendsClick(){this.router.navigate(["yourFriends",{selectedIndex:1}])}newLikesClick(){this.router.navigate(["informationLikes"])}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(me.uw),g.Y36(te.M),g.Y36(is.T),g.Y36(p.F0))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-sidebar"]],decls:41,vars:8,consts:[[1,"sidebar"],["color","primary",3,"click"],["color","primary",3,"matMenuTriggerFor"],["color","warn",4,"ngIf"],[4,"ngIf"],["menuNotifications","matMenu"],["mat-menu-item","",3,"click"],["menuSettings","matMenu"],["mat-menu-item","",1,"delete",3,"click"],["color","warn"]],template:function(b,R){if(1&b&&(g.TgZ(0,"div",0)(1,"mat-toolbar",1),g.NdJ("click",function(){return R.homaPageClick()}),g.TgZ(2,"mat-icon"),g._uU(3,"home"),g.qZA(),g._uU(4," Home "),g.qZA(),g.TgZ(5,"mat-toolbar",1),g.NdJ("click",function(){return R.newsClick()}),g.TgZ(6,"mat-icon"),g._uU(7,"newspaper"),g.qZA(),g._uU(8," News "),g.qZA(),g.TgZ(9,"mat-toolbar",1),g.NdJ("click",function(){return R.friendsClick()}),g.TgZ(10,"mat-icon"),g._uU(11,"people"),g.qZA(),g._uU(12," Friends "),g.qZA(),g.TgZ(13,"mat-toolbar",2),g.YNc(14,ga,2,0,"mat-icon",3),g.YNc(15,_c,2,0,"mat-icon",4),g._uU(16," Notifications "),g.qZA(),g.TgZ(17,"mat-toolbar",2)(18,"mat-icon"),g._uU(19,"settings"),g.qZA(),g._uU(20," Settings "),g.qZA(),g.TgZ(21,"mat-menu",null,5)(23,"button",6),g.NdJ("click",function(){return R.newFriendsClick()}),g.YNc(24,nc,2,0,"mat-icon",3),g._uU(25," New friends "),g.ynx(26),g._uU(27),g.BQk(),g.qZA(),g.TgZ(28,"button",6),g.NdJ("click",function(){return R.newLikesClick()}),g.YNc(29,En,2,0,"mat-icon",3),g._uU(30," New likes "),g.ynx(31),g._uU(32),g.BQk(),g.qZA()(),g.TgZ(33,"mat-menu",null,7)(35,"button",6),g.NdJ("click",function(){return R.changeNicknameClick()}),g._uU(36," Change nickname "),g.qZA(),g.TgZ(37,"button",6),g.NdJ("click",function(){return R.changeDescriptionClick()}),g._uU(38," Change description "),g.qZA(),g.TgZ(39,"button",8),g.NdJ("click",function(){return R.deleteAccountClick()}),g._uU(40," Delete account "),g.qZA()()()),2&b){const z=g.MAs(22),q=g.MAs(34);g.xp6(13),g.Q6J("matMenuTriggerFor",z),g.xp6(1),g.Q6J("ngIf",R.notificationFriendsLength||R.notificationLikesLength),g.xp6(1),g.Q6J("ngIf",!R.notificationFriendsLength&&!R.notificationLikesLength),g.xp6(2),g.Q6J("matMenuTriggerFor",q),g.xp6(7),g.Q6J("ngIf",R.notificationFriendsLength),g.xp6(3),g.hij("(",R.notificationFriendsLength,")"),g.xp6(2),g.Q6J("ngIf",R.notificationLikesLength),g.xp6(3),g.hij("(",R.notificationLikesLength,")")}},dependencies:[ve.O5,It.Hw,Es.Ye,tc.VK,tc.OP,tc.p6],styles:[".sidebar[_ngcontent-%COMP%]{position:absolute;top:5em;left:0;height:5em;z-index:10}.mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;cursor:pointer;background-color:#0111a1cc}.mat-toolbar[_ngcontent-%COMP%]:hover{background-color:#0017c7cc}.mat-icon[_ngcontent-%COMP%]{margin-right:10px}.mdc-list-item[_ngcontent-%COMP%]{width:200px;background-color:#fff}  .mat-mdc-menu-content{padding:0!important}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}"]}),G})();function wo(G,y){if(1&G){const b=g.EpF();g.TgZ(0,"div",8),g.NdJ("click",function(){g.CHM(b);const z=g.oxw(2);return g.KtG(z.onLoginClick())}),g._uU(1," Login "),g.qZA()}}function rs(G,y){if(1&G&&(g.TgZ(0,"div",9),g._uU(1),g.qZA()),2&G){const b=g.oxw(2);g.xp6(1),g.hij(" Hello, ",b.getUserName()," ")}}function jr(G,y){if(1&G){const b=g.EpF();g.TgZ(0,"div",8),g.NdJ("click",function(){g.CHM(b);const z=g.oxw(2);return g.KtG(z.onLogoutClick())}),g._uU(1," Logout "),g.qZA()}}function Aa(G,y){if(1&G&&(g.TgZ(0,"div",5),g.YNc(1,wo,2,0,"div",6),g.YNc(2,rs,2,1,"div",7),g.YNc(3,jr,2,0,"div",6),g.qZA()),2&G){const b=g.oxw();g.xp6(1),g.Q6J("ngIf",!b.getIsLoggedIn()),g.xp6(1),g.Q6J("ngIf",b.getIsLoggedIn()&&b.getUserHasProfile()),g.xp6(1),g.Q6J("ngIf",b.getIsLoggedIn())}}let ic=(()=>{class G{constructor(b,R,z,q){this.userDataService=b,this.loginSheet=R,this.afAuth=z,this.router=q}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}getUserName(){return this.userDataService.userInfo?.publicName||""}onLoginClick(){this.loginSheet.open(Ue)}onLogoutClick(){this.router.navigate([""]),this.userDataService.resetUserName(),this.afAuth.signOut()}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(te.M),g.Y36(Ce.ch),g.Y36(oe.zQ),g.Y36(p.F0))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"nav-bar"],[1,"nav-bar-content"],[1,"nav-bar-left"],["target","_blank","href","https://www.instagram.com/vlladyaa/",1,"nav-bar-items","link"],["class","nav-bar-right",4,"ngIf"],[1,"nav-bar-right"],["class","nav-bar-items link",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[1,"nav-bar-items","link",3,"click"],[1,"nav-bar-items"]],template:function(b,R){1&b&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),g._uU(4,"Instagram"),g.qZA()(),g.YNc(5,Aa,4,3,"div",4),g.qZA()()),2&b&&(g.xp6(5),g.Q6J("ngIf",void 0!==R.getIsLoggedIn()))},dependencies:[ve.O5],styles:[".nav-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#00000080;height:5em;z-index:10}.nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}.nav-bar-left[_ngcontent-%COMP%], .nav-bar-right[_ngcontent-%COMP%]{opacity:1;display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;color:#fff;font-weight:900}.link[_ngcontent-%COMP%]{outline:none;text-decoration:none}.link[_ngcontent-%COMP%]:link, .link[_ngcontent-%COMP%]:visited{color:#fff}.link[_ngcontent-%COMP%]:hover{border-bottom:1px solid;background:#b4b4b4;padding:5px;border-radius:1em}.link[_ngcontent-%COMP%]:active{background:#ec6802;color:#fff}.nav-bar-left[_ngcontent-%COMP%]{font-size:1.5em}.nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),G})();function In(G,y){1&G&&g._UZ(0,"app-sidebar")}let gr=(()=>{class G{constructor(b,R){this.userDataService=b,this.location=R,this.title="SocialMediaProject",this.userDataService.checkLoginStatus()}checkUrl(){const b=this.location.path();return b.includes("postFeed")||b.includes("userPage")||b.includes("friendPage")||b.includes("yourFriends")||b.includes("informationLikes")}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}}return G.\u0275fac=function(b){return new(b||G)(g.Y36(te.M),g.Y36(ve.Ye))},G.\u0275cmp=g.Xpm({type:G,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"show"]],template:function(b,R){1&b&&(g._UZ(0,"app-navbar"),g.YNc(1,In,1,0,"app-sidebar",0),g._UZ(2,"router-outlet")(3,"app-profile",1)),2&b&&(g.xp6(1),g.Q6J("ngIf",R.checkUrl()),g.xp6(2),g.Q6J("show",R.getIsLoggedIn()&&!R.getUserHasProfile()))},dependencies:[ve.O5,p.lC,pa,er,ic]}),G})(),Cs=(()=>{class G{}return G.\u0275fac=function(b){return new(b||G)},G.\u0275mod=g.oAB({type:G,bootstrap:[gr]}),G.\u0275inj=g.cJS({providers:[te.M,Nt.n],imports:[l.b2,mn,fn,Ji.hO.initializeApp(Ei_firebaseConfig),ot.yb,Xe.TE,ae.UX,bi.JF,jn.q]}),G})();l.q6().bootstrapModule(Cs).catch(G=>console.error(G))},1135:(pn,rt,w)=>{w.d(rt,{X:()=>p});var l=w(7579);class p extends l.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const xe=super._subscribe(te);return!xe.closed&&te.next(this._value),xe}getValue(){const{hasError:te,thrownError:xe,_value:ae}=this;if(te)throw xe;return this._throwIfClosed(),ae}next(te){super.next(this._value=te)}}},9751:(pn,rt,w)=>{w.d(rt,{y:()=>_e});var l=w(930),p=w(727),g=w(8822),te=w(9635),xe=w(2416),ae=w(576),W=w(2806);let _e=(()=>{class ve{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const at=new ve;return at.source=this,at.operator=Fe,at}subscribe(Fe,at,Ge){const Je=function me(ve){return ve&&ve instanceof l.Lv||function oe(ve){return ve&&(0,ae.m)(ve.next)&&(0,ae.m)(ve.error)&&(0,ae.m)(ve.complete)}(ve)&&(0,p.Nn)(ve)}(Fe)?Fe:new l.Hp(Fe,at,Ge);return(0,W.x)(()=>{const{operator:Ve,source:Oe}=this;Je.add(Ve?Ve.call(Je,Oe):Oe?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(at){Fe.error(at)}}forEach(Fe,at){return new(at=Ce(at))((Ge,Je)=>{const Ve=new l.Hp({next:Oe=>{try{Fe(Oe)}catch(Et){Je(Et),Ve.unsubscribe()}},error:Je,complete:Ge});this.subscribe(Ve)})}_subscribe(Fe){var at;return null===(at=this.source)||void 0===at?void 0:at.subscribe(Fe)}[g.L](){return this}pipe(...Fe){return(0,te.U)(Fe)(this)}toPromise(Fe){return new(Fe=Ce(Fe))((at,Ge)=>{let Je;this.subscribe(Ve=>Je=Ve,Ve=>Ge(Ve),()=>at(Je))})}}return ve.create=ze=>new ve(ze),ve})();function Ce(ve){var ze;return null!==(ze=ve??xe.config.Promise)&&void 0!==ze?ze:Promise}},7579:(pn,rt,w)=>{w.d(rt,{x:()=>W});var l=w(9751),p=w(727);const te=(0,w(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=w(8737),ae=w(2806);let W=(()=>{class Ce extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const ve=new _e(this,this);return ve.operator=me,ve}_throwIfClosed(){if(this.closed)throw new te}next(me){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(me)}})}error(me){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:ve}=this;for(;ve.length;)ve.shift().error(me)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:ve,isStopped:ze,observers:Fe}=this;return ve||ze?p.Lc:(this.currentObservers=null,Fe.push(me),new p.w0(()=>{this.currentObservers=null,(0,xe.P)(Fe,me)}))}_checkFinalizedStatuses(me){const{hasError:ve,thrownError:ze,isStopped:Fe}=this;ve?me.error(ze):Fe&&me.complete()}asObservable(){const me=new l.y;return me.source=this,me}}return Ce.create=(oe,me)=>new _e(oe,me),Ce})();class _e extends W{constructor(oe,me){super(),this.destination=oe,this.source=me}next(oe){var me,ve;null===(ve=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===ve||ve.call(me,oe)}error(oe){var me,ve;null===(ve=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===ve||ve.call(me,oe)}complete(){var oe,me;null===(me=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===me||me.call(oe)}_subscribe(oe){var me,ve;return null!==(ve=null===(me=this.source)||void 0===me?void 0:me.subscribe(oe))&&void 0!==ve?ve:p.Lc}}},930:(pn,rt,w)=>{w.d(rt,{Hp:()=>Ge,Lv:()=>ve});var l=w(576),p=w(727),g=w(2416),te=w(7849),xe=w(5032);const ae=Ce("C",void 0,void 0);function Ce(fe,Ee,ue){return{kind:fe,value:Ee,error:ue}}var oe=w(3410),me=w(2806);class ve extends p.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,p.Nn)(Ee)&&Ee.add(this)):this.destination=Et}static create(Ee,ue,pe){return new Ge(Ee,ue,pe)}next(Ee){this.isStopped?Oe(function _e(fe){return Ce("N",fe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Oe(function W(fe){return Ce("E",void 0,fe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Oe(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Fe(fe,Ee){return ze.call(fe,Ee)}class at{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:ue}=this;if(ue.next)try{ue.next(Ee)}catch(pe){Je(pe)}}error(Ee){const{partialObserver:ue}=this;if(ue.error)try{ue.error(Ee)}catch(pe){Je(pe)}else Je(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(ue){Je(ue)}}}class Ge extends ve{constructor(Ee,ue,pe){let Le;if(super(),(0,l.m)(Ee)||!Ee)Le={next:Ee??void 0,error:ue??void 0,complete:pe??void 0};else{let Y;this&&g.config.useDeprecatedNextContext?(Y=Object.create(Ee),Y.unsubscribe=()=>this.unsubscribe(),Le={next:Ee.next&&Fe(Ee.next,Y),error:Ee.error&&Fe(Ee.error,Y),complete:Ee.complete&&Fe(Ee.complete,Y)}):Le=Ee}this.destination=new at(Le)}}function Je(fe){g.config.useDeprecatedSynchronousErrorHandling?(0,me.O)(fe):(0,te.h)(fe)}function Oe(fe,Ee){const{onStoppedNotification:ue}=g.config;ue&&oe.z.setTimeout(()=>ue(fe,Ee))}const Et={closed:!0,next:xe.Z,error:function Ve(fe){throw fe},complete:xe.Z}},727:(pn,rt,w)=>{w.d(rt,{Lc:()=>ae,w0:()=>xe,Nn:()=>W});var l=w(576);const g=(0,w(3888).d)(Ce=>function(me){Ce(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((ve,ze)=>`${ze+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var te=w(8737);class xe{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Fe of me)Fe.remove(this);else me.remove(this);const{initialTeardown:ve}=this;if((0,l.m)(ve))try{ve()}catch(Fe){oe=Fe instanceof g?Fe.errors:[Fe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Fe of ze)try{_e(Fe)}catch(at){oe=oe??[],at instanceof g?oe=[...oe,...at.errors]:oe.push(at)}}if(oe)throw new g(oe)}}add(oe){var me;if(oe&&oe!==this)if(this.closed)_e(oe);else{if(oe instanceof xe){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(oe)}}_hasParent(oe){const{_parentage:me}=this;return me===oe||Array.isArray(me)&&me.includes(oe)}_addParent(oe){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(oe),me):me?[me,oe]:oe}_removeParent(oe){const{_parentage:me}=this;me===oe?this._parentage=null:Array.isArray(me)&&(0,te.P)(me,oe)}remove(oe){const{_finalizers:me}=this;me&&(0,te.P)(me,oe),oe instanceof xe&&oe._removeParent(this)}}xe.EMPTY=(()=>{const Ce=new xe;return Ce.closed=!0,Ce})();const ae=xe.EMPTY;function W(Ce){return Ce instanceof xe||Ce&&"closed"in Ce&&(0,l.m)(Ce.remove)&&(0,l.m)(Ce.add)&&(0,l.m)(Ce.unsubscribe)}function _e(Ce){(0,l.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(pn,rt,w)=>{w.d(rt,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(pn,rt,w)=>{w.d(rt,{a:()=>oe});var l=w(9751),p=w(4742),g=w(8996),te=w(4671),xe=w(3268),ae=w(3269),W=w(1810),_e=w(5403),Ce=w(9672);function oe(...ze){const Fe=(0,ae.yG)(ze),at=(0,ae.jO)(ze),{args:Ge,keys:Je}=(0,p.D)(ze);if(0===Ge.length)return(0,g.D)([],Fe);const Ve=new l.y(function me(ze,Fe,at=te.y){return Ge=>{ve(Fe,()=>{const{length:Je}=ze,Ve=new Array(Je);let Oe=Je,Et=Je;for(let fe=0;fe<Je;fe++)ve(Fe,()=>{const Ee=(0,g.D)(ze[fe],Fe);let ue=!1;Ee.subscribe((0,_e.x)(Ge,pe=>{Ve[fe]=pe,ue||(ue=!0,Et--),Et||Ge.next(at(Ve.slice()))},()=>{--Oe||Ge.complete()}))},Ge)},Ge)}}(Ge,Fe,Je?Oe=>(0,W.n)(Je,Oe):te.y));return at?Ve.pipe((0,xe.Z)(at)):Ve}function ve(ze,Fe,at){ze?(0,Ce.f)(at,ze,Fe):Fe()}},7272:(pn,rt,w)=>{w.d(rt,{z:()=>xe});var l=w(8189),g=w(3269),te=w(8996);function xe(...ae){return function p(){return(0,l.J)(1)}()((0,te.D)(ae,(0,g.yG)(ae)))}},9770:(pn,rt,w)=>{w.d(rt,{P:()=>g});var l=w(9751),p=w(8421);function g(te){return new l.y(xe=>{(0,p.Xf)(te()).subscribe(xe)})}},515:(pn,rt,w)=>{w.d(rt,{E:()=>p});const p=new(w(9751).y)(xe=>xe.complete())},4128:(pn,rt,w)=>{w.d(rt,{D:()=>_e});var l=w(9751),p=w(4742),g=w(8421),te=w(3269),xe=w(5403),ae=w(3268),W=w(1810);function _e(...Ce){const oe=(0,te.jO)(Ce),{args:me,keys:ve}=(0,p.D)(Ce),ze=new l.y(Fe=>{const{length:at}=me;if(!at)return void Fe.complete();const Ge=new Array(at);let Je=at,Ve=at;for(let Oe=0;Oe<at;Oe++){let Et=!1;(0,g.Xf)(me[Oe]).subscribe((0,xe.x)(Fe,fe=>{Et||(Et=!0,Ve--),Ge[Oe]=fe},()=>Je--,void 0,()=>{(!Je||!Et)&&(Ve||Fe.next(ve?(0,W.n)(ve,Ge):Ge),Fe.complete())}))}});return oe?ze.pipe((0,ae.Z)(oe)):ze}},8996:(pn,rt,w)=>{w.d(rt,{D:()=>Ee});var l=w(8421),p=w(5363),g=w(9468),ae=w(9751),_e=w(2202),Ce=w(576),oe=w(9672);function ve(ue,pe){if(!ue)throw new Error("Iterable cannot be null");return new ae.y(Le=>{(0,oe.f)(Le,pe,()=>{const Y=ue[Symbol.asyncIterator]();(0,oe.f)(Le,pe,()=>{Y.next().then(Ze=>{Ze.done?Le.complete():Le.next(Ze.value)})},0,!0)})})}var ze=w(3670),Fe=w(8239),at=w(1144),Ge=w(6495),Je=w(2206),Ve=w(4532),Oe=w(3260);function Ee(ue,pe){return pe?function fe(ue,pe){if(null!=ue){if((0,ze.c)(ue))return function te(ue,pe){return(0,l.Xf)(ue).pipe((0,g.R)(pe),(0,p.Q)(pe))}(ue,pe);if((0,at.z)(ue))return function W(ue,pe){return new ae.y(Le=>{let Y=0;return pe.schedule(function(){Y===ue.length?Le.complete():(Le.next(ue[Y++]),Le.closed||this.schedule())})})}(ue,pe);if((0,Fe.t)(ue))return function xe(ue,pe){return(0,l.Xf)(ue).pipe((0,g.R)(pe),(0,p.Q)(pe))}(ue,pe);if((0,Je.D)(ue))return ve(ue,pe);if((0,Ge.T)(ue))return function me(ue,pe){return new ae.y(Le=>{let Y;return(0,oe.f)(Le,pe,()=>{Y=ue[_e.h](),(0,oe.f)(Le,pe,()=>{let Ze,Ue;try{({value:Ze,done:Ue}=Y.next())}catch(Qe){return void Le.error(Qe)}Ue?Le.complete():Le.next(Ze)},0,!0)}),()=>(0,Ce.m)(Y?.return)&&Y.return()})}(ue,pe);if((0,Oe.L)(ue))return function Et(ue,pe){return ve((0,Oe.Q)(ue),pe)}(ue,pe)}throw(0,Ve.z)(ue)}(ue,pe):(0,l.Xf)(ue)}},4968:(pn,rt,w)=>{w.d(rt,{R:()=>oe});var l=w(8421),p=w(9751),g=w(5577),te=w(1144),xe=w(576),ae=w(3268);const W=["addListener","removeListener"],_e=["addEventListener","removeEventListener"],Ce=["on","off"];function oe(at,Ge,Je,Ve){if((0,xe.m)(Je)&&(Ve=Je,Je=void 0),Ve)return oe(at,Ge,Je).pipe((0,ae.Z)(Ve));const[Oe,Et]=function Fe(at){return(0,xe.m)(at.addEventListener)&&(0,xe.m)(at.removeEventListener)}(at)?_e.map(fe=>Ee=>at[fe](Ge,Ee,Je)):function ve(at){return(0,xe.m)(at.addListener)&&(0,xe.m)(at.removeListener)}(at)?W.map(me(at,Ge)):function ze(at){return(0,xe.m)(at.on)&&(0,xe.m)(at.off)}(at)?Ce.map(me(at,Ge)):[];if(!Oe&&(0,te.z)(at))return(0,g.z)(fe=>oe(fe,Ge,Je))((0,l.Xf)(at));if(!Oe)throw new TypeError("Invalid event target");return new p.y(fe=>{const Ee=(...ue)=>fe.next(1<ue.length?ue:ue[0]);return Oe(Ee),()=>Et(Ee)})}function me(at,Ge){return Je=>Ve=>at[Je](Ge,Ve)}},8421:(pn,rt,w)=>{w.d(rt,{Xf:()=>ze});var l=w(7582),p=w(1144),g=w(8239),te=w(9751),xe=w(3670),ae=w(2206),W=w(4532),_e=w(6495),Ce=w(3260),oe=w(576),me=w(7849),ve=w(8822);function ze(fe){if(fe instanceof te.y)return fe;if(null!=fe){if((0,xe.c)(fe))return function Fe(fe){return new te.y(Ee=>{const ue=fe[ve.L]();if((0,oe.m)(ue.subscribe))return ue.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,p.z)(fe))return function at(fe){return new te.y(Ee=>{for(let ue=0;ue<fe.length&&!Ee.closed;ue++)Ee.next(fe[ue]);Ee.complete()})}(fe);if((0,g.t)(fe))return function Ge(fe){return new te.y(Ee=>{fe.then(ue=>{Ee.closed||(Ee.next(ue),Ee.complete())},ue=>Ee.error(ue)).then(null,me.h)})}(fe);if((0,ae.D)(fe))return Ve(fe);if((0,_e.T)(fe))return function Je(fe){return new te.y(Ee=>{for(const ue of fe)if(Ee.next(ue),Ee.closed)return;Ee.complete()})}(fe);if((0,Ce.L)(fe))return function Oe(fe){return Ve((0,Ce.Q)(fe))}(fe)}throw(0,W.z)(fe)}function Ve(fe){return new te.y(Ee=>{(function Et(fe,Ee){var ue,pe,Le,Y;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ue=(0,l.KL)(fe);!(pe=yield ue.next()).done;)if(Ee.next(pe.value),Ee.closed)return}catch(Ze){Le={error:Ze}}finally{try{pe&&!pe.done&&(Y=ue.return)&&(yield Y.call(ue))}finally{if(Le)throw Le.error}}Ee.complete()})})(fe,Ee).catch(ue=>Ee.error(ue))})}},6451:(pn,rt,w)=>{w.d(rt,{T:()=>ae});var l=w(8189),p=w(8421),g=w(515),te=w(3269),xe=w(8996);function ae(...W){const _e=(0,te.yG)(W),Ce=(0,te._6)(W,1/0),oe=W;return oe.length?1===oe.length?(0,p.Xf)(oe[0]):(0,l.J)(Ce)((0,xe.D)(oe,_e)):g.E}},9646:(pn,rt,w)=>{w.d(rt,{of:()=>g});var l=w(3269),p=w(8996);function g(...te){const xe=(0,l.yG)(te);return(0,p.D)(te,xe)}},2843:(pn,rt,w)=>{w.d(rt,{_:()=>g});var l=w(9751),p=w(576);function g(te,xe){const ae=(0,p.m)(te)?te:()=>te,W=_e=>_e.error(ae());return new l.y(xe?_e=>xe.schedule(W,0,_e):W)}},5963:(pn,rt,w)=>{w.d(rt,{H:()=>xe});var l=w(9751),p=w(4986),g=w(3532);function xe(ae=0,W,_e=p.P){let Ce=-1;return null!=W&&((0,g.K)(W)?_e=W:Ce=W),new l.y(oe=>{let me=function te(ae){return ae instanceof Date&&!isNaN(ae)}(ae)?+ae-_e.now():ae;me<0&&(me=0);let ve=0;return _e.schedule(function(){oe.closed||(oe.next(ve++),0<=Ce?this.schedule(void 0,Ce):oe.complete())},me)})}},5403:(pn,rt,w)=>{w.d(rt,{x:()=>p});var l=w(930);function p(te,xe,ae,W,_e){return new g(te,xe,ae,W,_e)}class g extends l.Lv{constructor(xe,ae,W,_e,Ce,oe){super(xe),this.onFinalize=Ce,this.shouldUnsubscribe=oe,this._next=ae?function(me){try{ae(me)}catch(ve){xe.error(ve)}}:super._next,this._error=_e?function(me){try{_e(me)}catch(ve){xe.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(me){xe.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},262:(pn,rt,w)=>{w.d(rt,{K:()=>te});var l=w(8421),p=w(5403),g=w(4482);function te(xe){return(0,g.e)((ae,W)=>{let oe,_e=null,Ce=!1;_e=ae.subscribe((0,p.x)(W,void 0,void 0,me=>{oe=(0,l.Xf)(xe(me,te(xe)(ae))),_e?(_e.unsubscribe(),_e=null,oe.subscribe(W)):Ce=!0})),Ce&&(_e.unsubscribe(),_e=null,oe.subscribe(W))})}},4351:(pn,rt,w)=>{w.d(rt,{b:()=>g});var l=w(5577),p=w(576);function g(te,xe){return(0,p.m)(xe)?(0,l.z)(te,xe,1):(0,l.z)(te,1)}},8372:(pn,rt,w)=>{w.d(rt,{b:()=>te});var l=w(4986),p=w(4482),g=w(5403);function te(xe,ae=l.z){return(0,p.e)((W,_e)=>{let Ce=null,oe=null,me=null;const ve=()=>{if(Ce){Ce.unsubscribe(),Ce=null;const Fe=oe;oe=null,_e.next(Fe)}};function ze(){const Fe=me+xe,at=ae.now();if(at<Fe)return Ce=this.schedule(void 0,Fe-at),void _e.add(Ce);ve()}W.subscribe((0,g.x)(_e,Fe=>{oe=Fe,me=ae.now(),Ce||(Ce=ae.schedule(ze,xe),_e.add(Ce))},()=>{ve(),_e.complete()},void 0,()=>{oe=Ce=null}))})}},6590:(pn,rt,w)=>{w.d(rt,{d:()=>g});var l=w(4482),p=w(5403);function g(te){return(0,l.e)((xe,ae)=>{let W=!1;xe.subscribe((0,p.x)(ae,_e=>{W=!0,ae.next(_e)},()=>{W||ae.next(te),ae.complete()}))})}},1884:(pn,rt,w)=>{w.d(rt,{x:()=>te});var l=w(4671),p=w(4482),g=w(5403);function te(ae,W=l.y){return ae=ae??xe,(0,p.e)((_e,Ce)=>{let oe,me=!0;_e.subscribe((0,g.x)(Ce,ve=>{const ze=W(ve);(me||!ae(oe,ze))&&(me=!1,oe=ze,Ce.next(ve))}))})}function xe(ae,W){return ae===W}},9300:(pn,rt,w)=>{w.d(rt,{h:()=>g});var l=w(4482),p=w(5403);function g(te,xe){return(0,l.e)((ae,W)=>{let _e=0;ae.subscribe((0,p.x)(W,Ce=>te.call(xe,Ce,_e++)&&W.next(Ce)))})}},8746:(pn,rt,w)=>{w.d(rt,{x:()=>p});var l=w(4482);function p(g){return(0,l.e)((te,xe)=>{try{te.subscribe(xe)}finally{xe.add(g)}})}},590:(pn,rt,w)=>{w.d(rt,{P:()=>W});var l=w(6805),p=w(9300),g=w(5698),te=w(6590),xe=w(8068),ae=w(4671);function W(_e,Ce){const oe=arguments.length>=2;return me=>me.pipe(_e?(0,p.h)((ve,ze)=>_e(ve,ze,me)):ae.y,(0,g.q)(1),oe?(0,te.d)(Ce):(0,xe.T)(()=>new l.K))}},4004:(pn,rt,w)=>{w.d(rt,{U:()=>g});var l=w(4482),p=w(5403);function g(te,xe){return(0,l.e)((ae,W)=>{let _e=0;ae.subscribe((0,p.x)(W,Ce=>{W.next(te.call(xe,Ce,_e++))}))})}},9718:(pn,rt,w)=>{w.d(rt,{h:()=>p});var l=w(4004);function p(g){return(0,l.U)(()=>g)}},8189:(pn,rt,w)=>{w.d(rt,{J:()=>g});var l=w(5577),p=w(4671);function g(te=1/0){return(0,l.z)(p.y,te)}},5577:(pn,rt,w)=>{w.d(rt,{z:()=>_e});var l=w(4004),p=w(8421),g=w(4482),te=w(9672),xe=w(5403),W=w(576);function _e(Ce,oe,me=1/0){return(0,W.m)(oe)?_e((ve,ze)=>(0,l.U)((Fe,at)=>oe(ve,Fe,ze,at))((0,p.Xf)(Ce(ve,ze))),me):("number"==typeof oe&&(me=oe),(0,g.e)((ve,ze)=>function ae(Ce,oe,me,ve,ze,Fe,at,Ge){const Je=[];let Ve=0,Oe=0,Et=!1;const fe=()=>{Et&&!Je.length&&!Ve&&oe.complete()},Ee=pe=>Ve<ve?ue(pe):Je.push(pe),ue=pe=>{Fe&&oe.next(pe),Ve++;let Le=!1;(0,p.Xf)(me(pe,Oe++)).subscribe((0,xe.x)(oe,Y=>{ze?.(Y),Fe?Ee(Y):oe.next(Y)},()=>{Le=!0},void 0,()=>{if(Le)try{for(Ve--;Je.length&&Ve<ve;){const Y=Je.shift();at?(0,te.f)(oe,at,()=>ue(Y)):ue(Y)}fe()}catch(Y){oe.error(Y)}}))};return Ce.subscribe((0,xe.x)(oe,Ee,()=>{Et=!0,fe()})),()=>{Ge?.()}}(ve,ze,Ce,me)))}},5363:(pn,rt,w)=>{w.d(rt,{Q:()=>te});var l=w(9672),p=w(4482),g=w(5403);function te(xe,ae=0){return(0,p.e)((W,_e)=>{W.subscribe((0,g.x)(_e,Ce=>(0,l.f)(_e,xe,()=>_e.next(Ce),ae),()=>(0,l.f)(_e,xe,()=>_e.complete(),ae),Ce=>(0,l.f)(_e,xe,()=>_e.error(Ce),ae)))})}},5026:(pn,rt,w)=>{w.d(rt,{R:()=>te});var l=w(4482),p=w(5403);function te(xe,ae){return(0,l.e)(function g(xe,ae,W,_e,Ce){return(oe,me)=>{let ve=W,ze=ae,Fe=0;oe.subscribe((0,p.x)(me,at=>{const Ge=Fe++;ze=ve?xe(ze,at,Ge):(ve=!0,at),_e&&me.next(ze)},Ce&&(()=>{ve&&me.next(ze),me.complete()})))}}(xe,ae,arguments.length>=2,!0))}},3099:(pn,rt,w)=>{w.d(rt,{B:()=>xe});var l=w(8421),p=w(7579),g=w(930),te=w(4482);function xe(W={}){const{connector:_e=(()=>new p.x),resetOnError:Ce=!0,resetOnComplete:oe=!0,resetOnRefCountZero:me=!0}=W;return ve=>{let ze,Fe,at,Ge=0,Je=!1,Ve=!1;const Oe=()=>{Fe?.unsubscribe(),Fe=void 0},Et=()=>{Oe(),ze=at=void 0,Je=Ve=!1},fe=()=>{const Ee=ze;Et(),Ee?.unsubscribe()};return(0,te.e)((Ee,ue)=>{Ge++,!Ve&&!Je&&Oe();const pe=at=at??_e();ue.add(()=>{Ge--,0===Ge&&!Ve&&!Je&&(Fe=ae(fe,me))}),pe.subscribe(ue),!ze&&Ge>0&&(ze=new g.Hp({next:Le=>pe.next(Le),error:Le=>{Ve=!0,Oe(),Fe=ae(Et,Ce,Le),pe.error(Le)},complete:()=>{Je=!0,Oe(),Fe=ae(Et,oe),pe.complete()}}),(0,l.Xf)(Ee).subscribe(ze))})(ve)}}function ae(W,_e,...Ce){if(!0===_e)return void W();if(!1===_e)return;const oe=new g.Hp({next:()=>{oe.unsubscribe(),W()}});return(0,l.Xf)(_e(...Ce)).subscribe(oe)}},5684:(pn,rt,w)=>{w.d(rt,{T:()=>p});var l=w(9300);function p(g){return(0,l.h)((te,xe)=>g<=xe)}},8675:(pn,rt,w)=>{w.d(rt,{O:()=>te});var l=w(7272),p=w(3269),g=w(4482);function te(...xe){const ae=(0,p.yG)(xe);return(0,g.e)((W,_e)=>{(ae?(0,l.z)(xe,W,ae):(0,l.z)(xe,W)).subscribe(_e)})}},9468:(pn,rt,w)=>{w.d(rt,{R:()=>p});var l=w(4482);function p(g,te=0){return(0,l.e)((xe,ae)=>{ae.add(g.schedule(()=>xe.subscribe(ae),te))})}},3900:(pn,rt,w)=>{w.d(rt,{w:()=>te});var l=w(8421),p=w(4482),g=w(5403);function te(xe,ae){return(0,p.e)((W,_e)=>{let Ce=null,oe=0,me=!1;const ve=()=>me&&!Ce&&_e.complete();W.subscribe((0,g.x)(_e,ze=>{Ce?.unsubscribe();let Fe=0;const at=oe++;(0,l.Xf)(xe(ze,at)).subscribe(Ce=(0,g.x)(_e,Ge=>_e.next(ae?ae(ze,Ge,at,Fe++):Ge),()=>{Ce=null,ve()}))},()=>{me=!0,ve()}))})}},5698:(pn,rt,w)=>{w.d(rt,{q:()=>te});var l=w(515),p=w(4482),g=w(5403);function te(xe){return xe<=0?()=>l.E:(0,p.e)((ae,W)=>{let _e=0;ae.subscribe((0,g.x)(W,Ce=>{++_e<=xe&&(W.next(Ce),xe<=_e&&W.complete())}))})}},2722:(pn,rt,w)=>{w.d(rt,{R:()=>xe});var l=w(4482),p=w(5403),g=w(8421),te=w(5032);function xe(ae){return(0,l.e)((W,_e)=>{(0,g.Xf)(ae).subscribe((0,p.x)(_e,()=>_e.complete(),te.Z)),!_e.closed&&W.subscribe(_e)})}},8505:(pn,rt,w)=>{w.d(rt,{b:()=>xe});var l=w(576),p=w(4482),g=w(5403),te=w(4671);function xe(ae,W,_e){const Ce=(0,l.m)(ae)||W||_e?{next:ae,error:W,complete:_e}:ae;return Ce?(0,p.e)((oe,me)=>{var ve;null===(ve=Ce.subscribe)||void 0===ve||ve.call(Ce);let ze=!0;oe.subscribe((0,g.x)(me,Fe=>{var at;null===(at=Ce.next)||void 0===at||at.call(Ce,Fe),me.next(Fe)},()=>{var Fe;ze=!1,null===(Fe=Ce.complete)||void 0===Fe||Fe.call(Ce),me.complete()},Fe=>{var at;ze=!1,null===(at=Ce.error)||void 0===at||at.call(Ce,Fe),me.error(Fe)},()=>{var Fe,at;ze&&(null===(Fe=Ce.unsubscribe)||void 0===Fe||Fe.call(Ce)),null===(at=Ce.finalize)||void 0===at||at.call(Ce)}))}):te.y}},8068:(pn,rt,w)=>{w.d(rt,{T:()=>te});var l=w(6805),p=w(4482),g=w(5403);function te(ae=xe){return(0,p.e)((W,_e)=>{let Ce=!1;W.subscribe((0,g.x)(_e,oe=>{Ce=!0,_e.next(oe)},()=>Ce?_e.complete():_e.error(ae())))})}function xe(){return new l.K}},4408:(pn,rt,w)=>{w.d(rt,{o:()=>xe});var l=w(727);class p extends l.w0{constructor(W,_e){super()}schedule(W,_e=0){return this}}const g={setInterval(ae,W,..._e){const{delegate:Ce}=g;return Ce?.setInterval?Ce.setInterval(ae,W,..._e):setInterval(ae,W,..._e)},clearInterval(ae){const{delegate:W}=g;return(W?.clearInterval||clearInterval)(ae)},delegate:void 0};var te=w(8737);class xe extends p{constructor(W,_e){super(W,_e),this.scheduler=W,this.work=_e,this.pending=!1}schedule(W,_e=0){var Ce;if(this.closed)return this;this.state=W;const oe=this.id,me=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(me,oe,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(me,this.id,_e),this}requestAsyncId(W,_e,Ce=0){return g.setInterval(W.flush.bind(W,this),Ce)}recycleAsyncId(W,_e,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return _e;null!=_e&&g.clearInterval(_e)}execute(W,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(W,_e);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,_e){let oe,Ce=!1;try{this.work(W)}catch(me){Ce=!0,oe=me||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:W,scheduler:_e}=this,{actions:Ce}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(Ce,this),null!=W&&(this.id=this.recycleAsyncId(_e,W,null)),this.delay=null,super.unsubscribe()}}}},7565:(pn,rt,w)=>{w.d(rt,{v:()=>g});var l=w(6063);class p{constructor(xe,ae=p.now){this.schedulerActionCtor=xe,this.now=ae}schedule(xe,ae=0,W){return new this.schedulerActionCtor(this,xe).schedule(W,ae)}}p.now=l.l.now;class g extends p{constructor(xe,ae=p.now){super(xe,ae),this.actions=[],this._active=!1}flush(xe){const{actions:ae}=this;if(this._active)return void ae.push(xe);let W;this._active=!0;do{if(W=xe.execute(xe.state,xe.delay))break}while(xe=ae.shift());if(this._active=!1,W){for(;xe=ae.shift();)xe.unsubscribe();throw W}}}},3101:(pn,rt,w)=>{w.d(rt,{E:()=>Fe});var l=w(4408);let g,p=1;const te={};function xe(Ge){return Ge in te&&(delete te[Ge],!0)}const ae={setImmediate(Ge){const Je=p++;return te[Je]=!0,g||(g=Promise.resolve()),g.then(()=>xe(Je)&&Ge()),Je},clearImmediate(Ge){xe(Ge)}},{setImmediate:_e,clearImmediate:Ce}=ae,oe={setImmediate(...Ge){const{delegate:Je}=oe;return(Je?.setImmediate||_e)(...Ge)},clearImmediate(Ge){const{delegate:Je}=oe;return(Je?.clearImmediate||Ce)(Ge)},delegate:void 0};var ve=w(7565);const Fe=new class ze extends ve.v{flush(Je){this._active=!0;const Ve=this._scheduled;this._scheduled=void 0;const{actions:Oe}=this;let Et;Je=Je||Oe.shift();do{if(Et=Je.execute(Je.state,Je.delay))break}while((Je=Oe[0])&&Je.id===Ve&&Oe.shift());if(this._active=!1,Et){for(;(Je=Oe[0])&&Je.id===Ve&&Oe.shift();)Je.unsubscribe();throw Et}}}(class me extends l.o{constructor(Je,Ve){super(Je,Ve),this.scheduler=Je,this.work=Ve}requestAsyncId(Je,Ve,Oe=0){return null!==Oe&&Oe>0?super.requestAsyncId(Je,Ve,Oe):(Je.actions.push(this),Je._scheduled||(Je._scheduled=oe.setImmediate(Je.flush.bind(Je,void 0))))}recycleAsyncId(Je,Ve,Oe=0){var Et;if(null!=Oe?Oe>0:this.delay>0)return super.recycleAsyncId(Je,Ve,Oe);const{actions:fe}=Je;null!=Ve&&(null===(Et=fe[fe.length-1])||void 0===Et?void 0:Et.id)!==Ve&&(oe.clearImmediate(Ve),Je._scheduled===Ve&&(Je._scheduled=void 0))}})},4986:(pn,rt,w)=>{w.d(rt,{P:()=>te,z:()=>g});var l=w(4408);const g=new(w(7565).v)(l.o),te=g},6063:(pn,rt,w)=>{w.d(rt,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(pn,rt,w)=>{w.d(rt,{z:()=>l});const l={setTimeout(p,g,...te){const{delegate:xe}=l;return xe?.setTimeout?xe.setTimeout(p,g,...te):setTimeout(p,g,...te)},clearTimeout(p){const{delegate:g}=l;return(g?.clearTimeout||clearTimeout)(p)},delegate:void 0}},2202:(pn,rt,w)=>{w.d(rt,{h:()=>p});const p=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pn,rt,w)=>{w.d(rt,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(pn,rt,w)=>{w.d(rt,{K:()=>p});const p=(0,w(3888).d)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(pn,rt,w)=>{w.d(rt,{_6:()=>ae,jO:()=>te,yG:()=>xe});var l=w(576),p=w(3532);function g(W){return W[W.length-1]}function te(W){return(0,l.m)(g(W))?W.pop():void 0}function xe(W){return(0,p.K)(g(W))?W.pop():void 0}function ae(W,_e){return"number"==typeof g(W)?W.pop():_e}},4742:(pn,rt,w)=>{w.d(rt,{D:()=>xe});const{isArray:l}=Array,{getPrototypeOf:p,prototype:g,keys:te}=Object;function xe(W){if(1===W.length){const _e=W[0];if(l(_e))return{args:_e,keys:null};if(function ae(W){return W&&"object"==typeof W&&p(W)===g}(_e)){const Ce=te(_e);return{args:Ce.map(oe=>_e[oe]),keys:Ce}}}return{args:W,keys:null}}},8737:(pn,rt,w)=>{function l(p,g){if(p){const te=p.indexOf(g);0<=te&&p.splice(te,1)}}w.d(rt,{P:()=>l})},3888:(pn,rt,w)=>{function l(p){const te=p(xe=>{Error.call(xe),xe.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}w.d(rt,{d:()=>l})},1810:(pn,rt,w)=>{function l(p,g){return p.reduce((te,xe,ae)=>(te[xe]=g[ae],te),{})}w.d(rt,{n:()=>l})},2806:(pn,rt,w)=>{w.d(rt,{O:()=>te,x:()=>g});var l=w(2416);let p=null;function g(xe){if(l.config.useDeprecatedSynchronousErrorHandling){const ae=!p;if(ae&&(p={errorThrown:!1,error:null}),xe(),ae){const{errorThrown:W,error:_e}=p;if(p=null,W)throw _e}}else xe()}function te(xe){l.config.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=xe)}},9672:(pn,rt,w)=>{function l(p,g,te,xe=0,ae=!1){const W=g.schedule(function(){te(),ae?p.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(p.add(W),!ae)return W}w.d(rt,{f:()=>l})},4671:(pn,rt,w)=>{function l(p){return p}w.d(rt,{y:()=>l})},1144:(pn,rt,w)=>{w.d(rt,{z:()=>l});const l=p=>p&&"number"==typeof p.length&&"function"!=typeof p},2206:(pn,rt,w)=>{w.d(rt,{D:()=>p});var l=w(576);function p(g){return Symbol.asyncIterator&&(0,l.m)(g?.[Symbol.asyncIterator])}},576:(pn,rt,w)=>{function l(p){return"function"==typeof p}w.d(rt,{m:()=>l})},3670:(pn,rt,w)=>{w.d(rt,{c:()=>g});var l=w(8822),p=w(576);function g(te){return(0,p.m)(te[l.L])}},6495:(pn,rt,w)=>{w.d(rt,{T:()=>g});var l=w(2202),p=w(576);function g(te){return(0,p.m)(te?.[l.h])}},8239:(pn,rt,w)=>{w.d(rt,{t:()=>p});var l=w(576);function p(g){return(0,l.m)(g?.then)}},3260:(pn,rt,w)=>{w.d(rt,{L:()=>te,Q:()=>g});var l=w(7582),p=w(576);function g(xe){return(0,l.FC)(this,arguments,function*(){const W=xe.getReader();try{for(;;){const{value:_e,done:Ce}=yield(0,l.qq)(W.read());if(Ce)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(_e)}}finally{W.releaseLock()}})}function te(xe){return(0,p.m)(xe?.getReader)}},3532:(pn,rt,w)=>{w.d(rt,{K:()=>p});var l=w(576);function p(g){return g&&(0,l.m)(g.schedule)}},4482:(pn,rt,w)=>{w.d(rt,{A:()=>p,e:()=>g});var l=w(576);function p(te){return(0,l.m)(te?.lift)}function g(te){return xe=>{if(p(xe))return xe.lift(function(ae){try{return te(ae,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(pn,rt,w)=>{w.d(rt,{Z:()=>te});var l=w(4004);const{isArray:p}=Array;function te(xe){return(0,l.U)(ae=>function g(xe,ae){return p(ae)?xe(...ae):xe(ae)}(xe,ae))}},5032:(pn,rt,w)=>{function l(){}w.d(rt,{Z:()=>l})},9635:(pn,rt,w)=>{w.d(rt,{U:()=>g,z:()=>p});var l=w(4671);function p(...te){return g(te)}function g(te){return 0===te.length?l.y:1===te.length?te[0]:function(ae){return te.reduce((W,_e)=>_e(W),ae)}}},7849:(pn,rt,w)=>{w.d(rt,{h:()=>g});var l=w(2416),p=w(3410);function g(te){p.z.setTimeout(()=>{const{onUnhandledError:xe}=l.config;if(!xe)throw te;xe(te)})}},4532:(pn,rt,w)=>{function l(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(rt,{z:()=>l})},1591:(pn,rt,w)=>{w.d(rt,{IO:()=>at,LC:()=>p,SB:()=>Ce,X$:()=>te,ZE:()=>Oe,ZN:()=>Ve,_j:()=>l,eR:()=>me,jt:()=>xe,k1:()=>Et,l3:()=>g,oB:()=>_e,pV:()=>ze,ru:()=>ae,vP:()=>W});class l{}class p{}const g="*";function te(fe,Ee){return{type:7,name:fe,definitions:Ee,options:{}}}function xe(fe,Ee=null){return{type:4,styles:Ee,timings:fe}}function ae(fe,Ee=null){return{type:3,steps:fe,options:Ee}}function W(fe,Ee=null){return{type:2,steps:fe,options:Ee}}function _e(fe){return{type:6,styles:fe,offset:null}}function Ce(fe,Ee,ue){return{type:0,name:fe,styles:Ee,options:ue}}function me(fe,Ee,ue=null){return{type:1,expr:fe,animation:Ee,options:ue}}function ze(fe=null){return{type:9,options:fe}}function at(fe,Ee,ue=null){return{type:11,selector:fe,animation:Ee,options:ue}}function Je(fe){Promise.resolve().then(fe)}class Ve{constructor(Ee=0,ue=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ee+ue}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}onStart(Ee){this._originalOnStartFns.push(Ee),this._onStartFns.push(Ee)}onDone(Ee){this._originalOnDoneFns.push(Ee),this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Je(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ee){this._position=this.totalTime?Ee*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ee){const ue="start"==Ee?this._onStartFns:this._onDoneFns;ue.forEach(pe=>pe()),ue.length=0}}class Oe{constructor(Ee){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ee;let ue=0,pe=0,Le=0;const Y=this.players.length;0==Y?Je(()=>this._onFinish()):this.players.forEach(Ze=>{Ze.onDone(()=>{++ue==Y&&this._onFinish()}),Ze.onDestroy(()=>{++pe==Y&&this._onDestroy()}),Ze.onStart(()=>{++Le==Y&&this._onStart()})}),this.totalTime=this.players.reduce((Ze,Ue)=>Math.max(Ze,Ue.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}init(){this.players.forEach(Ee=>Ee.init())}onStart(Ee){this._onStartFns.push(Ee)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[])}onDone(Ee){this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ee=>Ee.play())}pause(){this.players.forEach(Ee=>Ee.pause())}restart(){this.players.forEach(Ee=>Ee.restart())}finish(){this._onFinish(),this.players.forEach(Ee=>Ee.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ee=>Ee.destroy()),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this.players.forEach(Ee=>Ee.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ee){const ue=Ee*this.totalTime;this.players.forEach(pe=>{const Le=pe.totalTime?Math.min(1,ue/pe.totalTime):1;pe.setPosition(Le)})}getPosition(){const Ee=this.players.reduce((ue,pe)=>null===ue||pe.totalTime>ue.totalTime?pe:ue,null);return null!=Ee?Ee.getPosition():0}beforeDestroy(){this.players.forEach(Ee=>{Ee.beforeDestroy&&Ee.beforeDestroy()})}triggerCallback(Ee){const ue="start"==Ee?this._onStartFns:this._onDoneFns;ue.forEach(pe=>pe()),ue.length=0}}const Et="!"},706:(pn,rt,w)=>{w.d(rt,{Em:()=>vt,X6:()=>he,ic:()=>Vt,kH:()=>li,qV:()=>Bt,qm:()=>ct,rt:()=>ut,tE:()=>Tn,yG:()=>He});var l=w(4755),p=w(2223),g=w(2966),te=w(7579),xe=w(727),ae=w(1135),W=w(9646),_e=w(2840),Ce=w(8505),oe=w(8372),me=w(9300),ve=w(4004),ze=w(5698),Fe=w(5684),at=w(1884),Ge=w(2722),Je=w(1692),Ve=w(829),Oe=w(5537);class bn{constructor(je){this._items=je,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new te.x,this._typeaheadSubscription=xe.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ae=>Ae.disabled,this._pressedLetters=[],this.tabOut=new te.x,this.change=new te.x,je instanceof p.n_E&&(this._itemChangesSubscription=je.changes.subscribe(Ae=>{if(this._activeItem){const Kt=Ae.toArray().indexOf(this._activeItem);Kt>-1&&Kt!==this._activeItemIndex&&(this._activeItemIndex=Kt)}}))}skipPredicate(je){return this._skipPredicateFn=je,this}withWrap(je=!0){return this._wrap=je,this}withVerticalOrientation(je=!0){return this._vertical=je,this}withHorizontalOrientation(je){return this._horizontal=je,this}withAllowedModifierKeys(je){return this._allowedModifierKeys=je,this}withTypeAhead(je=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ce.b)(Ae=>this._pressedLetters.push(Ae)),(0,oe.b)(je),(0,me.h)(()=>this._pressedLetters.length>0),(0,ve.U)(()=>this._pressedLetters.join(""))).subscribe(Ae=>{const St=this._getItemsArray();for(let Kt=1;Kt<St.length+1;Kt++){const Pe=(this._activeItemIndex+Kt)%St.length,le=St[Pe];if(!this._skipPredicateFn(le)&&0===le.getLabel().toUpperCase().trim().indexOf(Ae)){this.setActiveItem(Pe);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(je=!0){return this._homeAndEnd=je,this}withPageUpDown(je=!0,Ae=10){return this._pageUpAndDown={enabled:je,delta:Ae},this}setActiveItem(je){const Ae=this._activeItem;this.updateActiveItem(je),this._activeItem!==Ae&&this.change.next(this._activeItemIndex)}onKeydown(je){const Ae=je.keyCode,Kt=["altKey","ctrlKey","metaKey","shiftKey"].every(Pe=>!je[Pe]||this._allowedModifierKeys.indexOf(Pe)>-1);switch(Ae){case _e.Mf:return void this.tabOut.next();case _e.JH:if(this._vertical&&Kt){this.setNextItemActive();break}return;case _e.LH:if(this._vertical&&Kt){this.setPreviousItemActive();break}return;case _e.SV:if(this._horizontal&&Kt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case _e.oh:if(this._horizontal&&Kt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case _e.Sd:if(this._homeAndEnd&&Kt){this.setFirstItemActive();break}return;case _e.uR:if(this._homeAndEnd&&Kt){this.setLastItemActive();break}return;case _e.Ku:if(this._pageUpAndDown.enabled&&Kt){const Pe=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Pe>0?Pe:0,1);break}return;case _e.VM:if(this._pageUpAndDown.enabled&&Kt){const Pe=this._activeItemIndex+this._pageUpAndDown.delta,le=this._getItemsArray().length;this._setActiveItemByIndex(Pe<le?Pe:le-1,-1);break}return;default:return void((Kt||(0,_e.Vb)(je,"shiftKey"))&&(je.key&&1===je.key.length?this._letterKeyStream.next(je.key.toLocaleUpperCase()):(Ae>=_e.A&&Ae<=_e.Z||Ae>=_e.xE&&Ae<=_e.aO)&&this._letterKeyStream.next(String.fromCharCode(Ae))))}this._pressedLetters=[],je.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(je){const Ae=this._getItemsArray(),St="number"==typeof je?je:Ae.indexOf(je);this._activeItem=Ae[St]??null,this._activeItemIndex=St}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(je){this._wrap?this._setActiveInWrapMode(je):this._setActiveInDefaultMode(je)}_setActiveInWrapMode(je){const Ae=this._getItemsArray();for(let St=1;St<=Ae.length;St++){const Kt=(this._activeItemIndex+je*St+Ae.length)%Ae.length;if(!this._skipPredicateFn(Ae[Kt]))return void this.setActiveItem(Kt)}}_setActiveInDefaultMode(je){this._setActiveItemByIndex(this._activeItemIndex+je,je)}_setActiveItemByIndex(je,Ae){const St=this._getItemsArray();if(St[je]){for(;this._skipPredicateFn(St[je]);)if(!St[je+=Ae])return;this.setActiveItem(je)}}_getItemsArray(){return this._items instanceof p.n_E?this._items.toArray():this._items}}class vt extends bn{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(je){return this._origin=je,this}setActiveItem(je){super.setActiveItem(je),this.activeItem&&this.activeItem.focus(this._origin)}}let Vt=(()=>{class We{constructor(Ae){this._platform=Ae}isDisabled(Ae){return Ae.hasAttribute("disabled")}isVisible(Ae){return function Ht(We){return!!(We.offsetWidth||We.offsetHeight||"function"==typeof We.getClientRects&&We.getClientRects().length)}(Ae)&&"visible"===getComputedStyle(Ae).visibility}isTabbable(Ae){if(!this._platform.isBrowser)return!1;const St=function dt(We){try{return We.frameElement}catch{return null}}(function Wt(We){return We.ownerDocument&&We.ownerDocument.defaultView||window}(Ae));if(St&&(-1===ot(St)||!this.isVisible(St)))return!1;let Kt=Ae.nodeName.toLowerCase(),Pe=ot(Ae);return Ae.hasAttribute("contenteditable")?-1!==Pe:!("iframe"===Kt||"object"===Kt||this._platform.WEBKIT&&this._platform.IOS&&!function Nt(We){let je=We.nodeName.toLowerCase(),Ae="input"===je&&We.type;return"text"===Ae||"password"===Ae||"select"===je||"textarea"===je}(Ae))&&("audio"===Kt?!!Ae.hasAttribute("controls")&&-1!==Pe:"video"===Kt?-1!==Pe&&(null!==Pe||this._platform.FIREFOX||Ae.hasAttribute("controls")):Ae.tabIndex>=0)}isFocusable(Ae,St){return function It(We){return!function mt(We){return function qt(We){return"input"==We.nodeName.toLowerCase()}(We)&&"hidden"==We.type}(We)&&(function Be(We){let je=We.nodeName.toLowerCase();return"input"===je||"select"===je||"button"===je||"textarea"===je}(We)||function Rt(We){return function Mt(We){return"a"==We.nodeName.toLowerCase()}(We)&&We.hasAttribute("href")}(We)||We.hasAttribute("contenteditable")||Xe(We))}(Ae)&&!this.isDisabled(Ae)&&(St?.ignoreVisibility||this.isVisible(Ae))}}return We.\u0275fac=function(Ae){return new(Ae||We)(p.LFG(g.t4))},We.\u0275prov=p.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Xe(We){if(!We.hasAttribute("tabindex")||void 0===We.tabIndex)return!1;let je=We.getAttribute("tabindex");return!(!je||isNaN(parseInt(je,10)))}function ot(We){if(!Xe(We))return null;const je=parseInt(We.getAttribute("tabindex")||"",10);return isNaN(je)?-1:je}class Lt{get enabled(){return this._enabled}set enabled(je){this._enabled=je,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(je,this._startAnchor),this._toggleAnchorTabIndex(je,this._endAnchor))}constructor(je,Ae,St,Kt,Pe=!1){this._element=je,this._checker=Ae,this._ngZone=St,this._document=Kt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Pe||this.attachAnchors()}destroy(){const je=this._startAnchor,Ae=this._endAnchor;je&&(je.removeEventListener("focus",this.startAnchorListener),je.remove()),Ae&&(Ae.removeEventListener("focus",this.endAnchorListener),Ae.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(je){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusInitialElement(je)))})}focusFirstTabbableElementWhenReady(je){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusFirstTabbableElement(je)))})}focusLastTabbableElementWhenReady(je){return new Promise(Ae=>{this._executeOnStable(()=>Ae(this.focusLastTabbableElement(je)))})}_getRegionBoundary(je){const Ae=this._element.querySelectorAll(`[cdk-focus-region-${je}], [cdkFocusRegion${je}], [cdk-focus-${je}]`);return"start"==je?Ae.length?Ae[0]:this._getFirstTabbableElement(this._element):Ae.length?Ae[Ae.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(je){const Ae=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ae){if(!this._checker.isFocusable(Ae)){const St=this._getFirstTabbableElement(Ae);return St?.focus(je),!!St}return Ae.focus(je),!0}return this.focusFirstTabbableElement(je)}focusFirstTabbableElement(je){const Ae=this._getRegionBoundary("start");return Ae&&Ae.focus(je),!!Ae}focusLastTabbableElement(je){const Ae=this._getRegionBoundary("end");return Ae&&Ae.focus(je),!!Ae}hasAttached(){return this._hasAttached}_getFirstTabbableElement(je){if(this._checker.isFocusable(je)&&this._checker.isTabbable(je))return je;const Ae=je.children;for(let St=0;St<Ae.length;St++){const Kt=Ae[St].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ae[St]):null;if(Kt)return Kt}return null}_getLastTabbableElement(je){if(this._checker.isFocusable(je)&&this._checker.isTabbable(je))return je;const Ae=je.children;for(let St=Ae.length-1;St>=0;St--){const Kt=Ae[St].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ae[St]):null;if(Kt)return Kt}return null}_createAnchor(){const je=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,je),je.classList.add("cdk-visually-hidden"),je.classList.add("cdk-focus-trap-anchor"),je.setAttribute("aria-hidden","true"),je}_toggleAnchorTabIndex(je,Ae){je?Ae.setAttribute("tabindex","0"):Ae.removeAttribute("tabindex")}toggleAnchors(je){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(je,this._startAnchor),this._toggleAnchorTabIndex(je,this._endAnchor))}_executeOnStable(je){this._ngZone.isStable?je():this._ngZone.onStable.pipe((0,ze.q)(1)).subscribe(je)}}let Bt=(()=>{class We{constructor(Ae,St,Kt){this._checker=Ae,this._ngZone=St,this._document=Kt}create(Ae,St=!1){return new Lt(Ae,this._checker,this._ngZone,this._document,St)}}return We.\u0275fac=function(Ae){return new(Ae||We)(p.LFG(Vt),p.LFG(p.R0b),p.LFG(l.K0))},We.\u0275prov=p.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function he(We){return 0===We.buttons||0===We.offsetX&&0===We.offsetY}function He(We){const je=We.touches&&We.touches[0]||We.changedTouches&&We.changedTouches[0];return!(!je||-1!==je.identifier||null!=je.radiusX&&1!==je.radiusX||null!=je.radiusY&&1!==je.radiusY)}const pt=new p.OlP("cdk-input-modality-detector-options"),ht={ignoreKeys:[_e.zL,_e.jx,_e.b2,_e.MW,_e.JU]},Xt=(0,g.i$)({passive:!0,capture:!0});let cn=(()=>{class We{get mostRecentModality(){return this._modality.value}constructor(Ae,St,Kt,Pe){this._platform=Ae,this._mostRecentTarget=null,this._modality=new ae.X(null),this._lastTouchMs=0,this._onKeydown=le=>{this._options?.ignoreKeys?.some(j=>j===le.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.sA)(le))},this._onMousedown=le=>{Date.now()-this._lastTouchMs<650||(this._modality.next(he(le)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.sA)(le))},this._onTouchstart=le=>{He(le)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.sA)(le))},this._options={...ht,...Pe},this.modalityDetected=this._modality.pipe((0,Fe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,at.x)()),Ae.isBrowser&&St.runOutsideAngular(()=>{Kt.addEventListener("keydown",this._onKeydown,Xt),Kt.addEventListener("mousedown",this._onMousedown,Xt),Kt.addEventListener("touchstart",this._onTouchstart,Xt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xt),document.removeEventListener("mousedown",this._onMousedown,Xt),document.removeEventListener("touchstart",this._onTouchstart,Xt))}}return We.\u0275fac=function(Ae){return new(Ae||We)(p.LFG(g.t4),p.LFG(p.R0b),p.LFG(l.K0),p.LFG(pt,8))},We.\u0275prov=p.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();const Ot=new p.OlP("cdk-focus-monitor-default-options"),Zt=(0,g.i$)({passive:!0,capture:!0});let Tn=(()=>{class We{constructor(Ae,St,Kt,Pe,le){this._ngZone=Ae,this._platform=St,this._inputModalityDetector=Kt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new te.x,this._rootNodeFocusAndBlurListener=j=>{for(let H=(0,g.sA)(j);H;H=H.parentElement)"focus"===j.type?this._onFocus(j,H):this._onBlur(j,H)},this._document=Pe,this._detectionMode=le?.detectionMode||0}monitor(Ae,St=!1){const Kt=(0,Je.fI)(Ae);if(!this._platform.isBrowser||1!==Kt.nodeType)return(0,W.of)(null);const Pe=(0,g.kV)(Kt)||this._getDocument(),le=this._elementInfo.get(Kt);if(le)return St&&(le.checkChildren=!0),le.subject;const j={checkChildren:St,subject:new te.x,rootNode:Pe};return this._elementInfo.set(Kt,j),this._registerGlobalListeners(j),j.subject}stopMonitoring(Ae){const St=(0,Je.fI)(Ae),Kt=this._elementInfo.get(St);Kt&&(Kt.subject.complete(),this._setClasses(St),this._elementInfo.delete(St),this._removeGlobalListeners(Kt))}focusVia(Ae,St,Kt){const Pe=(0,Je.fI)(Ae);Pe===this._getDocument().activeElement?this._getClosestElementsInfo(Pe).forEach(([j,U])=>this._originChanged(j,St,U)):(this._setOrigin(St),"function"==typeof Pe.focus&&Pe.focus(Kt))}ngOnDestroy(){this._elementInfo.forEach((Ae,St)=>this.stopMonitoring(St))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ae){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ae)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ae&&this._isLastInteractionFromInputLabel(Ae)?"mouse":"program"}_shouldBeAttributedToTouch(Ae){return 1===this._detectionMode||!!Ae?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ae,St){Ae.classList.toggle("cdk-focused",!!St),Ae.classList.toggle("cdk-touch-focused","touch"===St),Ae.classList.toggle("cdk-keyboard-focused","keyboard"===St),Ae.classList.toggle("cdk-mouse-focused","mouse"===St),Ae.classList.toggle("cdk-program-focused","program"===St)}_setOrigin(Ae,St=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ae,this._originFromTouchInteraction="touch"===Ae&&St,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ae,St){const Kt=this._elementInfo.get(St),Pe=(0,g.sA)(Ae);!Kt||!Kt.checkChildren&&St!==Pe||this._originChanged(St,this._getFocusOrigin(Pe),Kt)}_onBlur(Ae,St){const Kt=this._elementInfo.get(St);!Kt||Kt.checkChildren&&Ae.relatedTarget instanceof Node&&St.contains(Ae.relatedTarget)||(this._setClasses(St),this._emitOrigin(Kt,null))}_emitOrigin(Ae,St){Ae.subject.observers.length&&this._ngZone.run(()=>Ae.subject.next(St))}_registerGlobalListeners(Ae){if(!this._platform.isBrowser)return;const St=Ae.rootNode,Kt=this._rootNodeFocusListenerCount.get(St)||0;Kt||this._ngZone.runOutsideAngular(()=>{St.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zt),St.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zt)}),this._rootNodeFocusListenerCount.set(St,Kt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ge.R)(this._stopInputModalityDetector)).subscribe(Pe=>{this._setOrigin(Pe,!0)}))}_removeGlobalListeners(Ae){const St=Ae.rootNode;if(this._rootNodeFocusListenerCount.has(St)){const Kt=this._rootNodeFocusListenerCount.get(St);Kt>1?this._rootNodeFocusListenerCount.set(St,Kt-1):(St.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zt),St.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zt),this._rootNodeFocusListenerCount.delete(St))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ae,St,Kt){this._setClasses(Ae,St),this._emitOrigin(Kt,St),this._lastFocusOrigin=St}_getClosestElementsInfo(Ae){const St=[];return this._elementInfo.forEach((Kt,Pe)=>{(Pe===Ae||Kt.checkChildren&&Pe.contains(Ae))&&St.push([Pe,Kt])}),St}_isLastInteractionFromInputLabel(Ae){const{_mostRecentTarget:St,mostRecentModality:Kt}=this._inputModalityDetector;if("mouse"!==Kt||!St||St===Ae||"INPUT"!==Ae.nodeName&&"TEXTAREA"!==Ae.nodeName||Ae.disabled)return!1;const Pe=Ae.labels;if(Pe)for(let le=0;le<Pe.length;le++)if(Pe[le].contains(St))return!0;return!1}}return We.\u0275fac=function(Ae){return new(Ae||We)(p.LFG(p.R0b),p.LFG(g.t4),p.LFG(cn),p.LFG(l.K0,8),p.LFG(Ot,8))},We.\u0275prov=p.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),li=(()=>{class We{constructor(Ae,St){this._elementRef=Ae,this._focusMonitor=St,this._focusOrigin=null,this.cdkFocusChange=new p.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Ae=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Ae,1===Ae.nodeType&&Ae.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(St=>{this._focusOrigin=St,this.cdkFocusChange.emit(St)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return We.\u0275fac=function(Ae){return new(Ae||We)(p.Y36(p.SBq),p.Y36(Tn))},We.\u0275dir=p.lG2({type:We,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),We})();const yi="cdk-high-contrast-black-on-white",hi="cdk-high-contrast-white-on-black",en="cdk-high-contrast-active";let ct=(()=>{class We{constructor(Ae,St){this._platform=Ae,this._document=St,this._breakpointSubscription=(0,p.f3M)(Oe.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ae=this._document.createElement("div");Ae.style.backgroundColor="rgb(1,2,3)",Ae.style.position="absolute",this._document.body.appendChild(Ae);const St=this._document.defaultView||window,Kt=St&&St.getComputedStyle?St.getComputedStyle(Ae):null,Pe=(Kt&&Kt.backgroundColor||"").replace(/ /g,"");switch(Ae.remove(),Pe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ae=this._document.body.classList;Ae.remove(en,yi,hi),this._hasCheckedHighContrastMode=!0;const St=this.getHighContrastMode();1===St?Ae.add(en,yi):2===St&&Ae.add(en,hi)}}}return We.\u0275fac=function(Ae){return new(Ae||We)(p.LFG(g.t4),p.LFG(l.K0))},We.\u0275prov=p.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),ut=(()=>{class We{constructor(Ae){Ae._applyBodyHighContrastModeCssClasses()}}return We.\u0275fac=function(Ae){return new(Ae||We)(p.LFG(ct))},We.\u0275mod=p.oAB({type:We}),We.\u0275inj=p.cJS({imports:[Ve.Q8]}),We})()},8930:(pn,rt,w)=>{w.d(rt,{Is:()=>W,vT:()=>Ce});var l=w(2223),p=w(4755);const g=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function te(){return(0,l.f3M)(p.K0)}}),xe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let W=(()=>{class oe{constructor(ve){this.value="ltr",this.change=new l.vpe,ve&&(this.value=function ae(oe){const me=oe?.toLowerCase()||"";return"auto"===me&&typeof navigator<"u"&&navigator?.language?xe.test(navigator.language)?"rtl":"ltr":"rtl"===me?"rtl":"ltr"}((ve.body?ve.body.dir:null)||(ve.documentElement?ve.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return oe.\u0275fac=function(ve){return new(ve||oe)(l.LFG(g,8))},oe.\u0275prov=l.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Ce=(()=>{class oe{}return oe.\u0275fac=function(ve){return new(ve||oe)},oe.\u0275mod=l.oAB({type:oe}),oe.\u0275inj=l.cJS({}),oe})()},1692:(pn,rt,w)=>{w.d(rt,{Eq:()=>xe,HM:()=>ae,Ig:()=>p,fI:()=>W,su:()=>g});var l=w(2223);function p(Ce){return null!=Ce&&"false"!=`${Ce}`}function g(Ce,oe=0){return function te(Ce){return!isNaN(parseFloat(Ce))&&!isNaN(Number(Ce))}(Ce)?Number(Ce):oe}function xe(Ce){return Array.isArray(Ce)?Ce:[Ce]}function ae(Ce){return null==Ce?"":"string"==typeof Ce?Ce:`${Ce}px`}function W(Ce){return Ce instanceof l.SBq?Ce.nativeElement:Ce}},3223:(pn,rt,w)=>{w.d(rt,{LL:()=>Ge,Su:()=>Y,Vq:()=>pe,ib:()=>Fe});var l=w(706),p=w(9002),g=w(2966),te=w(8023),xe=w(4755),ae=w(2223),W=w(2840),_e=w(7579),Ce=w(9770),oe=w(9646),me=w(8930),ve=w(8675);function ze(Ze,Ue){}class Fe{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Ge=(()=>{class Ze extends te.en{constructor(Qe,Tt,bn,kn,vt,bt,Vt,dt){super(),this._elementRef=Qe,this._focusTrapFactory=Tt,this._config=kn,this._interactivityChecker=vt,this._ngZone=bt,this._overlayRef=Vt,this._focusMonitor=dt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Ht=>{this._portalOutlet.hasAttached();const Be=this._portalOutlet.attachDomPortal(Ht);return this._contentAttached(),Be},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=bn}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Qe){this._portalOutlet.hasAttached();const Tt=this._portalOutlet.attachComponentPortal(Qe);return this._contentAttached(),Tt}attachTemplatePortal(Qe){this._portalOutlet.hasAttached();const Tt=this._portalOutlet.attachTemplatePortal(Qe);return this._contentAttached(),Tt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Qe,Tt){this._interactivityChecker.isFocusable(Qe)||(Qe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const bn=()=>{Qe.removeEventListener("blur",bn),Qe.removeEventListener("mousedown",bn),Qe.removeAttribute("tabindex")};Qe.addEventListener("blur",bn),Qe.addEventListener("mousedown",bn)})),Qe.focus(Tt)}_focusByCssSelector(Qe,Tt){let bn=this._elementRef.nativeElement.querySelector(Qe);bn&&this._forceFocus(bn,Tt)}_trapFocus(){const Qe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Qe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Tt=>{Tt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Qe=this._config.restoreFocus;let Tt=null;if("string"==typeof Qe?Tt=this._document.querySelector(Qe):"boolean"==typeof Qe?Tt=Qe?this._elementFocusedBeforeDialogWasOpened:null:Qe&&(Tt=Qe),this._config.restoreFocus&&Tt&&"function"==typeof Tt.focus){const bn=(0,g.ht)(),kn=this._elementRef.nativeElement;(!bn||bn===this._document.body||bn===kn||kn.contains(bn))&&(this._focusMonitor?(this._focusMonitor.focusVia(Tt,this._closeInteractionType),this._closeInteractionType=null):Tt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Qe=this._elementRef.nativeElement,Tt=(0,g.ht)();return Qe===Tt||Qe.contains(Tt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,g.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return Ze.\u0275fac=function(Qe){return new(Qe||Ze)(ae.Y36(ae.SBq),ae.Y36(l.qV),ae.Y36(xe.K0,8),ae.Y36(Fe),ae.Y36(l.ic),ae.Y36(ae.R0b),ae.Y36(p.Iu),ae.Y36(l.tE))},Ze.\u0275cmp=ae.Xpm({type:Ze,selectors:[["cdk-dialog-container"]],viewQuery:function(Qe,Tt){if(1&Qe&&ae.Gf(te.Pl,7),2&Qe){let bn;ae.iGM(bn=ae.CRH())&&(Tt._portalOutlet=bn.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Qe,Tt){2&Qe&&ae.uIk("id",Tt._config.id||null)("role",Tt._config.role)("aria-modal",Tt._config.ariaModal)("aria-labelledby",Tt._config.ariaLabel?null:Tt._ariaLabelledBy)("aria-label",Tt._config.ariaLabel)("aria-describedby",Tt._config.ariaDescribedBy||null)},features:[ae.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Qe,Tt){1&Qe&&ae.YNc(0,ze,0,0,"ng-template",0)},dependencies:[te.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Ze})();class Je{constructor(Ue,Qe){this.overlayRef=Ue,this.config=Qe,this.closed=new _e.x,this.disableClose=Qe.disableClose,this.backdropClick=Ue.backdropClick(),this.keydownEvents=Ue.keydownEvents(),this.outsidePointerEvents=Ue.outsidePointerEvents(),this.id=Qe.id,this.keydownEvents.subscribe(Tt=>{Tt.keyCode===W.hY&&!this.disableClose&&!(0,W.Vb)(Tt)&&(Tt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Ue.detachments().subscribe(()=>{!1!==Qe.closeOnOverlayDetachments&&this.close()})}close(Ue,Qe){if(this.containerInstance){const Tt=this.closed;this.containerInstance._closeInteractionType=Qe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Tt.next(Ue),Tt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Ue="",Qe=""){return this.overlayRef.updateSize({width:Ue,height:Qe}),this}addPanelClass(Ue){return this.overlayRef.addPanelClass(Ue),this}removePanelClass(Ue){return this.overlayRef.removePanelClass(Ue),this}}const Ve=new ae.OlP("DialogScrollStrategy"),Oe=new ae.OlP("DialogData"),Et=new ae.OlP("DefaultDialogConfig"),Ee={provide:Ve,deps:[p.aV],useFactory:function fe(Ze){return()=>Ze.scrollStrategies.block()}};let ue=0,pe=(()=>{class Ze{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Qe,Tt,bn,kn,vt,bt){this._overlay=Qe,this._injector=Tt,this._defaultOptions=bn,this._parentDialog=kn,this._overlayContainer=vt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ce.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ve.O)(void 0))),this._scrollStrategy=bt}open(Qe,Tt){(Tt={...this._defaultOptions||new Fe,...Tt}).id=Tt.id||"cdk-dialog-"+ue++,Tt.id&&this.getDialogById(Tt.id);const kn=this._getOverlayConfig(Tt),vt=this._overlay.create(kn),bt=new Je(vt,Tt),Vt=this._attachContainer(vt,bt,Tt);return bt.containerInstance=Vt,this._attachDialogContent(Qe,bt,Vt,Tt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(bt),bt.closed.subscribe(()=>this._removeOpenDialog(bt,!0)),this.afterOpened.next(bt),bt}closeAll(){Le(this.openDialogs,Qe=>Qe.close())}getDialogById(Qe){return this.openDialogs.find(Tt=>Tt.id===Qe)}ngOnDestroy(){Le(this._openDialogsAtThisLevel,Qe=>{!1===Qe.config.closeOnDestroy&&this._removeOpenDialog(Qe,!1)}),Le(this._openDialogsAtThisLevel,Qe=>Qe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Qe){const Tt=new p.X_({positionStrategy:Qe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Qe.scrollStrategy||this._scrollStrategy(),panelClass:Qe.panelClass,hasBackdrop:Qe.hasBackdrop,direction:Qe.direction,minWidth:Qe.minWidth,minHeight:Qe.minHeight,maxWidth:Qe.maxWidth,maxHeight:Qe.maxHeight,width:Qe.width,height:Qe.height,disposeOnNavigation:Qe.closeOnNavigation});return Qe.backdropClass&&(Tt.backdropClass=Qe.backdropClass),Tt}_attachContainer(Qe,Tt,bn){const kn=bn.injector||bn.viewContainerRef?.injector,vt=[{provide:Fe,useValue:bn},{provide:Je,useValue:Tt},{provide:p.Iu,useValue:Qe}];let bt;bn.container?"function"==typeof bn.container?bt=bn.container:(bt=bn.container.type,vt.push(...bn.container.providers(bn))):bt=Ge;const Vt=new te.C5(bt,bn.viewContainerRef,ae.zs3.create({parent:kn||this._injector,providers:vt}),bn.componentFactoryResolver);return Qe.attach(Vt).instance}_attachDialogContent(Qe,Tt,bn,kn){if(Qe instanceof ae.Rgc){const vt=this._createInjector(kn,Tt,bn,void 0);let bt={$implicit:kn.data,dialogRef:Tt};kn.templateContext&&(bt={...bt,..."function"==typeof kn.templateContext?kn.templateContext():kn.templateContext}),bn.attachTemplatePortal(new te.UE(Qe,null,bt,vt))}else{const vt=this._createInjector(kn,Tt,bn,this._injector),bt=bn.attachComponentPortal(new te.C5(Qe,kn.viewContainerRef,vt,kn.componentFactoryResolver));Tt.componentInstance=bt.instance}}_createInjector(Qe,Tt,bn,kn){const vt=Qe.injector||Qe.viewContainerRef?.injector,bt=[{provide:Oe,useValue:Qe.data},{provide:Je,useValue:Tt}];return Qe.providers&&("function"==typeof Qe.providers?bt.push(...Qe.providers(Tt,Qe,bn)):bt.push(...Qe.providers)),Qe.direction&&(!vt||!vt.get(me.Is,null,{optional:!0}))&&bt.push({provide:me.Is,useValue:{value:Qe.direction,change:(0,oe.of)()}}),ae.zs3.create({parent:vt||kn,providers:bt})}_removeOpenDialog(Qe,Tt){const bn=this.openDialogs.indexOf(Qe);bn>-1&&(this.openDialogs.splice(bn,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((kn,vt)=>{kn?vt.setAttribute("aria-hidden",kn):vt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Tt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Qe=this._overlayContainer.getContainerElement();if(Qe.parentElement){const Tt=Qe.parentElement.children;for(let bn=Tt.length-1;bn>-1;bn--){const kn=Tt[bn];kn!==Qe&&"SCRIPT"!==kn.nodeName&&"STYLE"!==kn.nodeName&&!kn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(kn,kn.getAttribute("aria-hidden")),kn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return Ze.\u0275fac=function(Qe){return new(Qe||Ze)(ae.LFG(p.aV),ae.LFG(ae.zs3),ae.LFG(Et,8),ae.LFG(Ze,12),ae.LFG(p.Xj),ae.LFG(Ve))},Ze.\u0275prov=ae.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();function Le(Ze,Ue){let Qe=Ze.length;for(;Qe--;)Ue(Ze[Qe])}let Y=(()=>{class Ze{}return Ze.\u0275fac=function(Qe){return new(Qe||Ze)},Ze.\u0275mod=ae.oAB({type:Ze}),Ze.\u0275inj=ae.cJS({providers:[pe,Ee],imports:[p.U8,te.eL,l.rt,te.eL]}),Ze})()},2840:(pn,rt,w)=>{w.d(rt,{A:()=>mt,JH:()=>Et,JU:()=>ae,K5:()=>xe,Ku:()=>ze,LH:()=>Ve,L_:()=>ve,MW:()=>xn,Mf:()=>g,SV:()=>Oe,Sd:()=>Ge,VM:()=>Fe,Vb:()=>Ur,Z:()=>ni,aO:()=>bt,b2:()=>Zr,hY:()=>me,jx:()=>W,oh:()=>Je,uR:()=>at,xE:()=>Le,zL:()=>_e});const g=9,xe=13,ae=16,W=17,_e=18,me=27,ve=32,ze=33,Fe=34,at=35,Ge=36,Je=37,Ve=38,Oe=39,Et=40,Le=48,bt=57,mt=65,ni=90,xn=91,Zr=224;function Ur(or,...go){return go.length?go.some(hr=>or[hr]):or.altKey||or.shiftKey||or.ctrlKey||or.metaKey}},5537:(pn,rt,w)=>{w.d(rt,{Yg:()=>Et,u3:()=>Ee});var l=w(2223),p=w(1692),g=w(7579),te=w(9841),xe=w(7272),ae=w(9751),W=w(5698),_e=w(5684),Ce=w(8372),oe=w(4004),me=w(8675),ve=w(2722),ze=w(2966);const at=new Set;let Ge,Je=(()=>{class ue{constructor(Le,Y){this._platform=Le,this._nonce=Y,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Oe}matchMedia(Le){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ve(ue,pe){if(!at.has(ue))try{Ge||(Ge=document.createElement("style"),pe&&(Ge.nonce=pe),Ge.setAttribute("type","text/css"),document.head.appendChild(Ge)),Ge.sheet&&(Ge.sheet.insertRule(`@media ${ue} {body{ }}`,0),at.add(ue))}catch(Le){console.error(Le)}}(Le,this._nonce),this._matchMedia(Le)}}return ue.\u0275fac=function(Le){return new(Le||ue)(l.LFG(ze.t4),l.LFG(l.Ojb,8))},ue.\u0275prov=l.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();function Oe(ue){return{matches:"all"===ue||""===ue,media:ue,addListener:()=>{},removeListener:()=>{}}}let Et=(()=>{class ue{constructor(Le,Y){this._mediaMatcher=Le,this._zone=Y,this._queries=new Map,this._destroySubject=new g.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Le){return fe((0,p.Eq)(Le)).some(Ze=>this._registerQuery(Ze).mql.matches)}observe(Le){const Ze=fe((0,p.Eq)(Le)).map(Qe=>this._registerQuery(Qe).observable);let Ue=(0,te.a)(Ze);return Ue=(0,xe.z)(Ue.pipe((0,W.q)(1)),Ue.pipe((0,_e.T)(1),(0,Ce.b)(0))),Ue.pipe((0,oe.U)(Qe=>{const Tt={matches:!1,breakpoints:{}};return Qe.forEach(({matches:bn,query:kn})=>{Tt.matches=Tt.matches||bn,Tt.breakpoints[kn]=bn}),Tt}))}_registerQuery(Le){if(this._queries.has(Le))return this._queries.get(Le);const Y=this._mediaMatcher.matchMedia(Le),Ue={observable:new ae.y(Qe=>{const Tt=bn=>this._zone.run(()=>Qe.next(bn));return Y.addListener(Tt),()=>{Y.removeListener(Tt)}}).pipe((0,me.O)(Y),(0,oe.U)(({matches:Qe})=>({query:Le,matches:Qe})),(0,ve.R)(this._destroySubject)),mql:Y};return this._queries.set(Le,Ue),Ue}}return ue.\u0275fac=function(Le){return new(Le||ue)(l.LFG(Je),l.LFG(l.R0b))},ue.\u0275prov=l.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();function fe(ue){return ue.map(pe=>pe.split(",")).reduce((pe,Le)=>pe.concat(Le)).map(pe=>pe.trim())}const Ee={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},829:(pn,rt,w)=>{w.d(rt,{Q8:()=>Ce,wD:()=>_e});var l=w(1692),p=w(2223),g=w(9751),te=w(7579),xe=w(8372);let ae=(()=>{class oe{create(ve){return typeof MutationObserver>"u"?null:new MutationObserver(ve)}}return oe.\u0275fac=function(ve){return new(ve||oe)},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),W=(()=>{class oe{constructor(ve){this._mutationObserverFactory=ve,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ve,ze)=>this._cleanupObserver(ze))}observe(ve){const ze=(0,l.fI)(ve);return new g.y(Fe=>{const Ge=this._observeElement(ze).subscribe(Fe);return()=>{Ge.unsubscribe(),this._unobserveElement(ze)}})}_observeElement(ve){if(this._observedElements.has(ve))this._observedElements.get(ve).count++;else{const ze=new te.x,Fe=this._mutationObserverFactory.create(at=>ze.next(at));Fe&&Fe.observe(ve,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ve,{observer:Fe,stream:ze,count:1})}return this._observedElements.get(ve).stream}_unobserveElement(ve){this._observedElements.has(ve)&&(this._observedElements.get(ve).count--,this._observedElements.get(ve).count||this._cleanupObserver(ve))}_cleanupObserver(ve){if(this._observedElements.has(ve)){const{observer:ze,stream:Fe}=this._observedElements.get(ve);ze&&ze.disconnect(),Fe.complete(),this._observedElements.delete(ve)}}}return oe.\u0275fac=function(ve){return new(ve||oe)(p.LFG(ae))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),_e=(()=>{class oe{get disabled(){return this._disabled}set disabled(ve){this._disabled=(0,l.Ig)(ve),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ve){this._debounce=(0,l.su)(ve),this._subscribe()}constructor(ve,ze,Fe){this._contentObserver=ve,this._elementRef=ze,this._ngZone=Fe,this.event=new p.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ve=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ve.pipe((0,xe.b)(this.debounce)):ve).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return oe.\u0275fac=function(ve){return new(ve||oe)(p.Y36(W),p.Y36(p.SBq),p.Y36(p.R0b))},oe.\u0275dir=p.lG2({type:oe,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),oe})(),Ce=(()=>{class oe{}return oe.\u0275fac=function(ve){return new(ve||oe)},oe.\u0275mod=p.oAB({type:oe}),oe.\u0275inj=p.cJS({providers:[ae]}),oe})()},9002:(pn,rt,w)=>{w.d(rt,{Iu:()=>vt,U8:()=>yn,X_:()=>ue,Xj:()=>kn,aV:()=>It});var l=w(4709),p=w(4755),g=w(2223),te=w(1692),xe=w(2966),ae=w(9300),W=w(5698),_e=w(2722),Ce=w(8930),oe=w(8023),me=w(7579),ve=w(727),ze=w(6451);const Fe=(0,xe.Mq)();class at{constructor(he,He){this._viewportRuler=he,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=He}attach(){}enable(){if(this._canBeEnabled()){const he=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=he.style.left||"",this._previousHTMLStyles.top=he.style.top||"",he.style.left=(0,te.HM)(-this._previousScrollPosition.left),he.style.top=(0,te.HM)(-this._previousScrollPosition.top),he.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const he=this._document.documentElement,pt=he.style,ht=this._document.body.style,Pt=pt.scrollBehavior||"",Xt=ht.scrollBehavior||"";this._isEnabled=!1,pt.left=this._previousHTMLStyles.left,pt.top=this._previousHTMLStyles.top,he.classList.remove("cdk-global-scrollblock"),Fe&&(pt.scrollBehavior=ht.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Fe&&(pt.scrollBehavior=Pt,ht.scrollBehavior=Xt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const He=this._document.body,pt=this._viewportRuler.getViewportSize();return He.scrollHeight>pt.height||He.scrollWidth>pt.width}}class Je{constructor(he,He,pt,ht){this._scrollDispatcher=he,this._ngZone=He,this._viewportRuler=pt,this._config=ht,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(he){this._overlayRef=he}enable(){if(this._scrollSubscription)return;const he=this._scrollDispatcher.scrolled(0).pipe((0,ae.h)(He=>!He||!this._overlayRef.overlayElement.contains(He.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=he.subscribe(()=>{const He=this._viewportRuler.getViewportScrollPosition().top;Math.abs(He-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=he.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ve{enable(){}disable(){}attach(){}}function Oe(yt,he){return he.some(He=>yt.bottom<He.top||yt.top>He.bottom||yt.right<He.left||yt.left>He.right)}function Et(yt,he){return he.some(He=>yt.top<He.top||yt.bottom>He.bottom||yt.left<He.left||yt.right>He.right)}class fe{constructor(he,He,pt,ht){this._scrollDispatcher=he,this._viewportRuler=He,this._ngZone=pt,this._config=ht,this._scrollSubscription=null}attach(he){this._overlayRef=he}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const He=this._overlayRef.overlayElement.getBoundingClientRect(),{width:pt,height:ht}=this._viewportRuler.getViewportSize();Oe(He,[{width:pt,height:ht,bottom:ht,right:pt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ee=(()=>{class yt{constructor(He,pt,ht,Pt){this._scrollDispatcher=He,this._viewportRuler=pt,this._ngZone=ht,this.noop=()=>new Ve,this.close=Xt=>new Je(this._scrollDispatcher,this._ngZone,this._viewportRuler,Xt),this.block=()=>new at(this._viewportRuler,this._document),this.reposition=Xt=>new fe(this._scrollDispatcher,this._viewportRuler,this._ngZone,Xt),this._document=Pt}}return yt.\u0275fac=function(He){return new(He||yt)(g.LFG(l.mF),g.LFG(l.rL),g.LFG(g.R0b),g.LFG(p.K0))},yt.\u0275prov=g.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})();class ue{constructor(he){if(this.scrollStrategy=new Ve,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,he){const He=Object.keys(he);for(const pt of He)void 0!==he[pt]&&(this[pt]=he[pt])}}}class Y{constructor(he,He){this.connectionPair=he,this.scrollableViewProperties=He}}let Qe=(()=>{class yt{constructor(He){this._attachedOverlays=[],this._document=He}ngOnDestroy(){this.detach()}add(He){this.remove(He),this._attachedOverlays.push(He)}remove(He){const pt=this._attachedOverlays.indexOf(He);pt>-1&&this._attachedOverlays.splice(pt,1),0===this._attachedOverlays.length&&this.detach()}}return yt.\u0275fac=function(He){return new(He||yt)(g.LFG(p.K0))},yt.\u0275prov=g.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})(),Tt=(()=>{class yt extends Qe{constructor(He,pt){super(He),this._ngZone=pt,this._keydownListener=ht=>{const Pt=this._attachedOverlays;for(let Xt=Pt.length-1;Xt>-1;Xt--)if(Pt[Xt]._keydownEvents.observers.length>0){const cn=Pt[Xt]._keydownEvents;this._ngZone?this._ngZone.run(()=>cn.next(ht)):cn.next(ht);break}}}add(He){super.add(He),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return yt.\u0275fac=function(He){return new(He||yt)(g.LFG(p.K0),g.LFG(g.R0b,8))},yt.\u0275prov=g.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})(),bn=(()=>{class yt extends Qe{constructor(He,pt,ht){super(He),this._platform=pt,this._ngZone=ht,this._cursorStyleIsSet=!1,this._pointerDownListener=Pt=>{this._pointerDownEventTarget=(0,xe.sA)(Pt)},this._clickListener=Pt=>{const Xt=(0,xe.sA)(Pt),cn="click"===Pt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Xt;this._pointerDownEventTarget=null;const $n=this._attachedOverlays.slice();for(let ni=$n.length-1;ni>-1;ni--){const xn=$n[ni];if(xn._outsidePointerEvents.observers.length<1||!xn.hasAttached())continue;if(xn.overlayElement.contains(Xt)||xn.overlayElement.contains(cn))break;const ln=xn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ln.next(Pt)):ln.next(Pt)}}}add(He){if(super.add(He),!this._isAttached){const pt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(pt)):this._addEventListeners(pt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=pt.style.cursor,pt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const He=this._document.body;He.removeEventListener("pointerdown",this._pointerDownListener,!0),He.removeEventListener("click",this._clickListener,!0),He.removeEventListener("auxclick",this._clickListener,!0),He.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(He.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(He){He.addEventListener("pointerdown",this._pointerDownListener,!0),He.addEventListener("click",this._clickListener,!0),He.addEventListener("auxclick",this._clickListener,!0),He.addEventListener("contextmenu",this._clickListener,!0)}}return yt.\u0275fac=function(He){return new(He||yt)(g.LFG(p.K0),g.LFG(xe.t4),g.LFG(g.R0b,8))},yt.\u0275prov=g.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})(),kn=(()=>{class yt{constructor(He,pt){this._platform=pt,this._document=He}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const He="cdk-overlay-container";if(this._platform.isBrowser||(0,xe.Oy)()){const ht=this._document.querySelectorAll(`.${He}[platform="server"], .${He}[platform="test"]`);for(let Pt=0;Pt<ht.length;Pt++)ht[Pt].remove()}const pt=this._document.createElement("div");pt.classList.add(He),(0,xe.Oy)()?pt.setAttribute("platform","test"):this._platform.isBrowser||pt.setAttribute("platform","server"),this._document.body.appendChild(pt),this._containerElement=pt}}return yt.\u0275fac=function(He){return new(He||yt)(g.LFG(p.K0),g.LFG(xe.t4))},yt.\u0275prov=g.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})();class vt{constructor(he,He,pt,ht,Pt,Xt,cn,$n,ni,xn=!1){this._portalOutlet=he,this._host=He,this._pane=pt,this._config=ht,this._ngZone=Pt,this._keyboardDispatcher=Xt,this._document=cn,this._location=$n,this._outsideClickDispatcher=ni,this._animationsDisabled=xn,this._backdropElement=null,this._backdropClick=new me.x,this._attachments=new me.x,this._detachments=new me.x,this._locationChanges=ve.w0.EMPTY,this._backdropClickHandler=ln=>this._backdropClick.next(ln),this._backdropTransitionendHandler=ln=>{this._disposeBackdrop(ln.target)},this._keydownEvents=new me.x,this._outsidePointerEvents=new me.x,ht.scrollStrategy&&(this._scrollStrategy=ht.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ht.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(he){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const He=this._portalOutlet.attach(he);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,W.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof He?.onDestroy&&He.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),He}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const he=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),he}dispose(){const he=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,he&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(he){he!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=he,this.hasAttached()&&(he.attach(this),this.updatePosition()))}updateSize(he){this._config={...this._config,...he},this._updateElementSize()}setDirection(he){this._config={...this._config,direction:he},this._updateElementDirection()}addPanelClass(he){this._pane&&this._toggleClasses(this._pane,he,!0)}removePanelClass(he){this._pane&&this._toggleClasses(this._pane,he,!1)}getDirection(){const he=this._config.direction;return he?"string"==typeof he?he:he.value:"ltr"}updateScrollStrategy(he){he!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=he,this.hasAttached()&&(he.attach(this),he.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const he=this._pane.style;he.width=(0,te.HM)(this._config.width),he.height=(0,te.HM)(this._config.height),he.minWidth=(0,te.HM)(this._config.minWidth),he.minHeight=(0,te.HM)(this._config.minHeight),he.maxWidth=(0,te.HM)(this._config.maxWidth),he.maxHeight=(0,te.HM)(this._config.maxHeight)}_togglePointerEvents(he){this._pane.style.pointerEvents=he?"":"none"}_attachBackdrop(){const he="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(he)})}):this._backdropElement.classList.add(he)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const he=this._backdropElement;if(he){if(this._animationsDisabled)return void this._disposeBackdrop(he);he.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{he.addEventListener("transitionend",this._backdropTransitionendHandler)}),he.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(he)},500))}}_toggleClasses(he,He,pt){const ht=(0,te.Eq)(He||[]).filter(Pt=>!!Pt);ht.length&&(pt?he.classList.add(...ht):he.classList.remove(...ht))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const he=this._ngZone.onStable.pipe((0,_e.R)((0,ze.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),he.unsubscribe())})})}_disposeScrollStrategy(){const he=this._scrollStrategy;he&&(he.disable(),he.detach&&he.detach())}_disposeBackdrop(he){he&&(he.removeEventListener("click",this._backdropClickHandler),he.removeEventListener("transitionend",this._backdropTransitionendHandler),he.remove(),this._backdropElement===he&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bt="cdk-overlay-connected-position-bounding-box",Vt=/([A-Za-z%]+)$/;class dt{get positions(){return this._preferredPositions}constructor(he,He,pt,ht,Pt){this._viewportRuler=He,this._document=pt,this._platform=ht,this._overlayContainer=Pt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new me.x,this._resizeSubscription=ve.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(he)}attach(he){this._validatePositions(),he.hostElement.classList.add(bt),this._overlayRef=he,this._boundingBox=he.hostElement,this._pane=he.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const he=this._originRect,He=this._overlayRect,pt=this._viewportRect,ht=this._containerRect,Pt=[];let Xt;for(let cn of this._preferredPositions){let $n=this._getOriginPoint(he,ht,cn),ni=this._getOverlayPoint($n,He,cn),xn=this._getOverlayFit(ni,He,pt,cn);if(xn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(cn,$n);this._canFitWithFlexibleDimensions(xn,ni,pt)?Pt.push({position:cn,origin:$n,overlayRect:He,boundingBoxRect:this._calculateBoundingBoxRect($n,cn)}):(!Xt||Xt.overlayFit.visibleArea<xn.visibleArea)&&(Xt={overlayFit:xn,overlayPoint:ni,originPoint:$n,position:cn,overlayRect:He})}if(Pt.length){let cn=null,$n=-1;for(const ni of Pt){const xn=ni.boundingBoxRect.width*ni.boundingBoxRect.height*(ni.position.weight||1);xn>$n&&($n=xn,cn=ni)}return this._isPushed=!1,void this._applyPosition(cn.position,cn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Xt.position,Xt.originPoint);this._applyPosition(Xt.position,Xt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ht(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const he=this._lastPosition;if(he){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const He=this._getOriginPoint(this._originRect,this._containerRect,he);this._applyPosition(he,He)}else this.apply()}withScrollableContainers(he){return this._scrollables=he,this}withPositions(he){return this._preferredPositions=he,-1===he.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(he){return this._viewportMargin=he,this}withFlexibleDimensions(he=!0){return this._hasFlexibleDimensions=he,this}withGrowAfterOpen(he=!0){return this._growAfterOpen=he,this}withPush(he=!0){return this._canPush=he,this}withLockedPosition(he=!0){return this._positionLocked=he,this}setOrigin(he){return this._origin=he,this}withDefaultOffsetX(he){return this._offsetX=he,this}withDefaultOffsetY(he){return this._offsetY=he,this}withTransformOriginOn(he){return this._transformOriginSelector=he,this}_getOriginPoint(he,He,pt){let ht,Pt;if("center"==pt.originX)ht=he.left+he.width/2;else{const Xt=this._isRtl()?he.right:he.left,cn=this._isRtl()?he.left:he.right;ht="start"==pt.originX?Xt:cn}return He.left<0&&(ht-=He.left),Pt="center"==pt.originY?he.top+he.height/2:"top"==pt.originY?he.top:he.bottom,He.top<0&&(Pt-=He.top),{x:ht,y:Pt}}_getOverlayPoint(he,He,pt){let ht,Pt;return ht="center"==pt.overlayX?-He.width/2:"start"===pt.overlayX?this._isRtl()?-He.width:0:this._isRtl()?0:-He.width,Pt="center"==pt.overlayY?-He.height/2:"top"==pt.overlayY?0:-He.height,{x:he.x+ht,y:he.y+Pt}}_getOverlayFit(he,He,pt,ht){const Pt=mt(He);let{x:Xt,y:cn}=he,$n=this._getOffset(ht,"x"),ni=this._getOffset(ht,"y");$n&&(Xt+=$n),ni&&(cn+=ni);let Un=0-cn,Ke=cn+Pt.height-pt.height,Ot=this._subtractOverflows(Pt.width,0-Xt,Xt+Pt.width-pt.width),Zt=this._subtractOverflows(Pt.height,Un,Ke),Tn=Ot*Zt;return{visibleArea:Tn,isCompletelyWithinViewport:Pt.width*Pt.height===Tn,fitsInViewportVertically:Zt===Pt.height,fitsInViewportHorizontally:Ot==Pt.width}}_canFitWithFlexibleDimensions(he,He,pt){if(this._hasFlexibleDimensions){const ht=pt.bottom-He.y,Pt=pt.right-He.x,Xt=Be(this._overlayRef.getConfig().minHeight),cn=Be(this._overlayRef.getConfig().minWidth);return(he.fitsInViewportVertically||null!=Xt&&Xt<=ht)&&(he.fitsInViewportHorizontally||null!=cn&&cn<=Pt)}return!1}_pushOverlayOnScreen(he,He,pt){if(this._previousPushAmount&&this._positionLocked)return{x:he.x+this._previousPushAmount.x,y:he.y+this._previousPushAmount.y};const ht=mt(He),Pt=this._viewportRect,Xt=Math.max(he.x+ht.width-Pt.width,0),cn=Math.max(he.y+ht.height-Pt.height,0),$n=Math.max(Pt.top-pt.top-he.y,0),ni=Math.max(Pt.left-pt.left-he.x,0);let xn=0,ln=0;return xn=ht.width<=Pt.width?ni||-Xt:he.x<this._viewportMargin?Pt.left-pt.left-he.x:0,ln=ht.height<=Pt.height?$n||-cn:he.y<this._viewportMargin?Pt.top-pt.top-he.y:0,this._previousPushAmount={x:xn,y:ln},{x:he.x+xn,y:he.y+ln}}_applyPosition(he,He){if(this._setTransformOrigin(he),this._setOverlayElementStyles(He,he),this._setBoundingBoxStyles(He,he),he.panelClass&&this._addPanelClasses(he.panelClass),this._lastPosition=he,this._positionChanges.observers.length){const pt=this._getScrollVisibility(),ht=new Y(he,pt);this._positionChanges.next(ht)}this._isInitialRender=!1}_setTransformOrigin(he){if(!this._transformOriginSelector)return;const He=this._boundingBox.querySelectorAll(this._transformOriginSelector);let pt,ht=he.overlayY;pt="center"===he.overlayX?"center":this._isRtl()?"start"===he.overlayX?"right":"left":"start"===he.overlayX?"left":"right";for(let Pt=0;Pt<He.length;Pt++)He[Pt].style.transformOrigin=`${pt} ${ht}`}_calculateBoundingBoxRect(he,He){const pt=this._viewportRect,ht=this._isRtl();let Pt,Xt,cn,xn,ln,Un;if("top"===He.overlayY)Xt=he.y,Pt=pt.height-Xt+this._viewportMargin;else if("bottom"===He.overlayY)cn=pt.height-he.y+2*this._viewportMargin,Pt=pt.height-cn+this._viewportMargin;else{const Ke=Math.min(pt.bottom-he.y+pt.top,he.y),Ot=this._lastBoundingBoxSize.height;Pt=2*Ke,Xt=he.y-Ke,Pt>Ot&&!this._isInitialRender&&!this._growAfterOpen&&(Xt=he.y-Ot/2)}if("end"===He.overlayX&&!ht||"start"===He.overlayX&&ht)Un=pt.width-he.x+this._viewportMargin,xn=he.x-this._viewportMargin;else if("start"===He.overlayX&&!ht||"end"===He.overlayX&&ht)ln=he.x,xn=pt.right-he.x;else{const Ke=Math.min(pt.right-he.x+pt.left,he.x),Ot=this._lastBoundingBoxSize.width;xn=2*Ke,ln=he.x-Ke,xn>Ot&&!this._isInitialRender&&!this._growAfterOpen&&(ln=he.x-Ot/2)}return{top:Xt,left:ln,bottom:cn,right:Un,width:xn,height:Pt}}_setBoundingBoxStyles(he,He){const pt=this._calculateBoundingBoxRect(he,He);!this._isInitialRender&&!this._growAfterOpen&&(pt.height=Math.min(pt.height,this._lastBoundingBoxSize.height),pt.width=Math.min(pt.width,this._lastBoundingBoxSize.width));const ht={};if(this._hasExactPosition())ht.top=ht.left="0",ht.bottom=ht.right=ht.maxHeight=ht.maxWidth="",ht.width=ht.height="100%";else{const Pt=this._overlayRef.getConfig().maxHeight,Xt=this._overlayRef.getConfig().maxWidth;ht.height=(0,te.HM)(pt.height),ht.top=(0,te.HM)(pt.top),ht.bottom=(0,te.HM)(pt.bottom),ht.width=(0,te.HM)(pt.width),ht.left=(0,te.HM)(pt.left),ht.right=(0,te.HM)(pt.right),ht.alignItems="center"===He.overlayX?"center":"end"===He.overlayX?"flex-end":"flex-start",ht.justifyContent="center"===He.overlayY?"center":"bottom"===He.overlayY?"flex-end":"flex-start",Pt&&(ht.maxHeight=(0,te.HM)(Pt)),Xt&&(ht.maxWidth=(0,te.HM)(Xt))}this._lastBoundingBoxSize=pt,Ht(this._boundingBox.style,ht)}_resetBoundingBoxStyles(){Ht(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ht(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(he,He){const pt={},ht=this._hasExactPosition(),Pt=this._hasFlexibleDimensions,Xt=this._overlayRef.getConfig();if(ht){const xn=this._viewportRuler.getViewportScrollPosition();Ht(pt,this._getExactOverlayY(He,he,xn)),Ht(pt,this._getExactOverlayX(He,he,xn))}else pt.position="static";let cn="",$n=this._getOffset(He,"x"),ni=this._getOffset(He,"y");$n&&(cn+=`translateX(${$n}px) `),ni&&(cn+=`translateY(${ni}px)`),pt.transform=cn.trim(),Xt.maxHeight&&(ht?pt.maxHeight=(0,te.HM)(Xt.maxHeight):Pt&&(pt.maxHeight="")),Xt.maxWidth&&(ht?pt.maxWidth=(0,te.HM)(Xt.maxWidth):Pt&&(pt.maxWidth="")),Ht(this._pane.style,pt)}_getExactOverlayY(he,He,pt){let ht={top:"",bottom:""},Pt=this._getOverlayPoint(He,this._overlayRect,he);return this._isPushed&&(Pt=this._pushOverlayOnScreen(Pt,this._overlayRect,pt)),"bottom"===he.overlayY?ht.bottom=this._document.documentElement.clientHeight-(Pt.y+this._overlayRect.height)+"px":ht.top=(0,te.HM)(Pt.y),ht}_getExactOverlayX(he,He,pt){let Xt,ht={left:"",right:""},Pt=this._getOverlayPoint(He,this._overlayRect,he);return this._isPushed&&(Pt=this._pushOverlayOnScreen(Pt,this._overlayRect,pt)),Xt=this._isRtl()?"end"===he.overlayX?"left":"right":"end"===he.overlayX?"right":"left","right"===Xt?ht.right=this._document.documentElement.clientWidth-(Pt.x+this._overlayRect.width)+"px":ht.left=(0,te.HM)(Pt.x),ht}_getScrollVisibility(){const he=this._getOriginRect(),He=this._pane.getBoundingClientRect(),pt=this._scrollables.map(ht=>ht.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Et(he,pt),isOriginOutsideView:Oe(he,pt),isOverlayClipped:Et(He,pt),isOverlayOutsideView:Oe(He,pt)}}_subtractOverflows(he,...He){return He.reduce((pt,ht)=>pt-Math.max(ht,0),he)}_getNarrowedViewportRect(){const he=this._document.documentElement.clientWidth,He=this._document.documentElement.clientHeight,pt=this._viewportRuler.getViewportScrollPosition();return{top:pt.top+this._viewportMargin,left:pt.left+this._viewportMargin,right:pt.left+he-this._viewportMargin,bottom:pt.top+He-this._viewportMargin,width:he-2*this._viewportMargin,height:He-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(he,He){return"x"===He?null==he.offsetX?this._offsetX:he.offsetX:null==he.offsetY?this._offsetY:he.offsetY}_validatePositions(){}_addPanelClasses(he){this._pane&&(0,te.Eq)(he).forEach(He=>{""!==He&&-1===this._appliedPanelClasses.indexOf(He)&&(this._appliedPanelClasses.push(He),this._pane.classList.add(He))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(he=>{this._pane.classList.remove(he)}),this._appliedPanelClasses=[])}_getOriginRect(){const he=this._origin;if(he instanceof g.SBq)return he.nativeElement.getBoundingClientRect();if(he instanceof Element)return he.getBoundingClientRect();const He=he.width||0,pt=he.height||0;return{top:he.y,bottom:he.y+pt,left:he.x,right:he.x+He,height:pt,width:He}}}function Ht(yt,he){for(let He in he)he.hasOwnProperty(He)&&(yt[He]=he[He]);return yt}function Be(yt){if("number"!=typeof yt&&null!=yt){const[he,He]=yt.split(Vt);return He&&"px"!==He?null:parseFloat(he)}return yt||null}function mt(yt){return{top:Math.floor(yt.top),right:Math.floor(yt.right),bottom:Math.floor(yt.bottom),left:Math.floor(yt.left),width:Math.floor(yt.width),height:Math.floor(yt.height)}}const Mt="cdk-global-overlay-wrapper";class Xe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(he){const He=he.getConfig();this._overlayRef=he,this._width&&!He.width&&he.updateSize({width:this._width}),this._height&&!He.height&&he.updateSize({height:this._height}),he.hostElement.classList.add(Mt),this._isDisposed=!1}top(he=""){return this._bottomOffset="",this._topOffset=he,this._alignItems="flex-start",this}left(he=""){return this._xOffset=he,this._xPosition="left",this}bottom(he=""){return this._topOffset="",this._bottomOffset=he,this._alignItems="flex-end",this}right(he=""){return this._xOffset=he,this._xPosition="right",this}start(he=""){return this._xOffset=he,this._xPosition="start",this}end(he=""){return this._xOffset=he,this._xPosition="end",this}width(he=""){return this._overlayRef?this._overlayRef.updateSize({width:he}):this._width=he,this}height(he=""){return this._overlayRef?this._overlayRef.updateSize({height:he}):this._height=he,this}centerHorizontally(he=""){return this.left(he),this._xPosition="center",this}centerVertically(he=""){return this.top(he),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const he=this._overlayRef.overlayElement.style,He=this._overlayRef.hostElement.style,pt=this._overlayRef.getConfig(),{width:ht,height:Pt,maxWidth:Xt,maxHeight:cn}=pt,$n=!("100%"!==ht&&"100vw"!==ht||Xt&&"100%"!==Xt&&"100vw"!==Xt),ni=!("100%"!==Pt&&"100vh"!==Pt||cn&&"100%"!==cn&&"100vh"!==cn),xn=this._xPosition,ln=this._xOffset,Un="rtl"===this._overlayRef.getConfig().direction;let Ke="",Ot="",Zt="";$n?Zt="flex-start":"center"===xn?(Zt="center",Un?Ot=ln:Ke=ln):Un?"left"===xn||"end"===xn?(Zt="flex-end",Ke=ln):("right"===xn||"start"===xn)&&(Zt="flex-start",Ot=ln):"left"===xn||"start"===xn?(Zt="flex-start",Ke=ln):("right"===xn||"end"===xn)&&(Zt="flex-end",Ot=ln),he.position=this._cssPosition,he.marginLeft=$n?"0":Ke,he.marginTop=ni?"0":this._topOffset,he.marginBottom=this._bottomOffset,he.marginRight=$n?"0":Ot,He.justifyContent=Zt,He.alignItems=ni?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const he=this._overlayRef.overlayElement.style,He=this._overlayRef.hostElement,pt=He.style;He.classList.remove(Mt),pt.justifyContent=pt.alignItems=he.marginTop=he.marginBottom=he.marginLeft=he.marginRight=he.position="",this._overlayRef=null,this._isDisposed=!0}}let ot=(()=>{class yt{constructor(He,pt,ht,Pt){this._viewportRuler=He,this._document=pt,this._platform=ht,this._overlayContainer=Pt}global(){return new Xe}flexibleConnectedTo(He){return new dt(He,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return yt.\u0275fac=function(He){return new(He||yt)(g.LFG(l.rL),g.LFG(p.K0),g.LFG(xe.t4),g.LFG(kn))},yt.\u0275prov=g.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})(),Nt=0,It=(()=>{class yt{constructor(He,pt,ht,Pt,Xt,cn,$n,ni,xn,ln,Un,Ke){this.scrollStrategies=He,this._overlayContainer=pt,this._componentFactoryResolver=ht,this._positionBuilder=Pt,this._keyboardDispatcher=Xt,this._injector=cn,this._ngZone=$n,this._document=ni,this._directionality=xn,this._location=ln,this._outsideClickDispatcher=Un,this._animationsModuleType=Ke}create(He){const pt=this._createHostElement(),ht=this._createPaneElement(pt),Pt=this._createPortalOutlet(ht),Xt=new ue(He);return Xt.direction=Xt.direction||this._directionality.value,new vt(Pt,pt,ht,Xt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(He){const pt=this._document.createElement("div");return pt.id="cdk-overlay-"+Nt++,pt.classList.add("cdk-overlay-pane"),He.appendChild(pt),pt}_createHostElement(){const He=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(He),He}_createPortalOutlet(He){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new oe.u0(He,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return yt.\u0275fac=function(He){return new(He||yt)(g.LFG(Ee),g.LFG(kn),g.LFG(g._Vd),g.LFG(ot),g.LFG(Tt),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(p.K0),g.LFG(Ce.Is),g.LFG(p.Ye),g.LFG(bn),g.LFG(g.QbO,8))},yt.\u0275prov=g.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})();const Jt={provide:new g.OlP("cdk-connected-overlay-scroll-strategy"),deps:[It],useFactory:function qe(yt){return()=>yt.scrollStrategies.reposition()}};let yn=(()=>{class yt{}return yt.\u0275fac=function(He){return new(He||yt)},yt.\u0275mod=g.oAB({type:yt}),yt.\u0275inj=g.cJS({providers:[It,Jt],imports:[Ce.vT,oe.eL,l.Cl,l.Cl]}),yt})()},2966:(pn,rt,w)=>{w.d(rt,{Mq:()=>Fe,Oy:()=>fe,ht:()=>Oe,i$:()=>me,kV:()=>Ve,sA:()=>Et,t4:()=>te});var l=w(2223),p=w(4755);let g;try{g=typeof Intl<"u"&&Intl.v8BreakIterator}catch{g=!1}let Ce,ze,Ge,te=(()=>{class Ee{constructor(pe){this._platformId=pe,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ee.\u0275fac=function(pe){return new(pe||Ee)(l.LFG(l.Lbi))},Ee.\u0275prov=l.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();function me(Ee){return function oe(){if(null==Ce&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ce=!0}))}finally{Ce=Ce||!1}return Ce}()?Ee:!!Ee.capture}function Fe(){if(null==ze){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ze=!1,ze;if("scrollBehavior"in document.documentElement.style)ze=!0;else{const Ee=Element.prototype.scrollTo;ze=!!Ee&&!/\{\s*\[native code\]\s*\}/.test(Ee.toString())}}return ze}function Ve(Ee){if(function Je(){if(null==Ge){const Ee=typeof document<"u"?document.head:null;Ge=!(!Ee||!Ee.createShadowRoot&&!Ee.attachShadow)}return Ge}()){const ue=Ee.getRootNode?Ee.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ue instanceof ShadowRoot)return ue}return null}function Oe(){let Ee=typeof document<"u"&&document?document.activeElement:null;for(;Ee&&Ee.shadowRoot;){const ue=Ee.shadowRoot.activeElement;if(ue===Ee)break;Ee=ue}return Ee}function Et(Ee){return Ee.composedPath?Ee.composedPath()[0]:Ee.target}function fe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8023:(pn,rt,w)=>{w.d(rt,{C5:()=>oe,Pl:()=>Oe,UE:()=>me,eL:()=>fe,en:()=>ze,ig:()=>Je,u0:()=>at});var l=w(2223),p=w(4755);class Ce{attach(pe){return this._attachedHost=pe,pe.attach(this)}detach(){let pe=this._attachedHost;null!=pe&&(this._attachedHost=null,pe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(pe){this._attachedHost=pe}}class oe extends Ce{constructor(pe,Le,Y,Ze,Ue){super(),this.component=pe,this.viewContainerRef=Le,this.injector=Y,this.componentFactoryResolver=Ze,this.projectableNodes=Ue}}class me extends Ce{constructor(pe,Le,Y,Ze){super(),this.templateRef=pe,this.viewContainerRef=Le,this.context=Y,this.injector=Ze}get origin(){return this.templateRef.elementRef}attach(pe,Le=this.context){return this.context=Le,super.attach(pe)}detach(){return this.context=void 0,super.detach()}}class ve extends Ce{constructor(pe){super(),this.element=pe instanceof l.SBq?pe.nativeElement:pe}}class ze{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(pe){return pe instanceof oe?(this._attachedPortal=pe,this.attachComponentPortal(pe)):pe instanceof me?(this._attachedPortal=pe,this.attachTemplatePortal(pe)):this.attachDomPortal&&pe instanceof ve?(this._attachedPortal=pe,this.attachDomPortal(pe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(pe){this._disposeFn=pe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class at extends ze{constructor(pe,Le,Y,Ze,Ue){super(),this.outletElement=pe,this._componentFactoryResolver=Le,this._appRef=Y,this._defaultInjector=Ze,this.attachDomPortal=Qe=>{const Tt=Qe.element,bn=this._document.createComment("dom-portal");Tt.parentNode.insertBefore(bn,Tt),this.outletElement.appendChild(Tt),this._attachedPortal=Qe,super.setDisposeFn(()=>{bn.parentNode&&bn.parentNode.replaceChild(Tt,bn)})},this._document=Ue}attachComponentPortal(pe){const Y=(pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(pe.component);let Ze;return pe.viewContainerRef?(Ze=pe.viewContainerRef.createComponent(Y,pe.viewContainerRef.length,pe.injector||pe.viewContainerRef.injector,pe.projectableNodes||void 0),this.setDisposeFn(()=>Ze.destroy())):(Ze=Y.create(pe.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(Ze.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ze.hostView),Ze.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ze)),this._attachedPortal=pe,Ze}attachTemplatePortal(pe){let Le=pe.viewContainerRef,Y=Le.createEmbeddedView(pe.templateRef,pe.context,{injector:pe.injector});return Y.rootNodes.forEach(Ze=>this.outletElement.appendChild(Ze)),Y.detectChanges(),this.setDisposeFn(()=>{let Ze=Le.indexOf(Y);-1!==Ze&&Le.remove(Ze)}),this._attachedPortal=pe,Y}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(pe){return pe.hostView.rootNodes[0]}}let Je=(()=>{class ue extends me{constructor(Le,Y){super(Le,Y)}}return ue.\u0275fac=function(Le){return new(Le||ue)(l.Y36(l.Rgc),l.Y36(l.s_b))},ue.\u0275dir=l.lG2({type:ue,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[l.qOj]}),ue})(),Oe=(()=>{class ue extends ze{constructor(Le,Y,Ze){super(),this._componentFactoryResolver=Le,this._viewContainerRef=Y,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=Ue=>{const Qe=Ue.element,Tt=this._document.createComment("dom-portal");Ue.setAttachedHost(this),Qe.parentNode.insertBefore(Tt,Qe),this._getRootNode().appendChild(Qe),this._attachedPortal=Ue,super.setDisposeFn(()=>{Tt.parentNode&&Tt.parentNode.replaceChild(Qe,Tt)})},this._document=Ze}get portal(){return this._attachedPortal}set portal(Le){this.hasAttached()&&!Le&&!this._isInitialized||(this.hasAttached()&&super.detach(),Le&&super.attach(Le),this._attachedPortal=Le||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Le){Le.setAttachedHost(this);const Y=null!=Le.viewContainerRef?Le.viewContainerRef:this._viewContainerRef,Ue=(Le.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Le.component),Qe=Y.createComponent(Ue,Y.length,Le.injector||Y.injector,Le.projectableNodes||void 0);return Y!==this._viewContainerRef&&this._getRootNode().appendChild(Qe.hostView.rootNodes[0]),super.setDisposeFn(()=>Qe.destroy()),this._attachedPortal=Le,this._attachedRef=Qe,this.attached.emit(Qe),Qe}attachTemplatePortal(Le){Le.setAttachedHost(this);const Y=this._viewContainerRef.createEmbeddedView(Le.templateRef,Le.context,{injector:Le.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Le,this._attachedRef=Y,this.attached.emit(Y),Y}_getRootNode(){const Le=this._viewContainerRef.element.nativeElement;return Le.nodeType===Le.ELEMENT_NODE?Le:Le.parentNode}}return ue.\u0275fac=function(Le){return new(Le||ue)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(p.K0))},ue.\u0275dir=l.lG2({type:ue,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),ue})(),fe=(()=>{class ue{}return ue.\u0275fac=function(Le){return new(Le||ue)},ue.\u0275mod=l.oAB({type:ue}),ue.\u0275inj=l.cJS({}),ue})()},4709:(pn,rt,w)=>{w.d(rt,{ZD:()=>Wt,mF:()=>bt,Cl:()=>Lt,rL:()=>Ht});var l=w(1692),p=w(2223),g=w(7579),te=w(9646),xe=w(9751),ae=w(4968),W=w(4408),_e=w(727);const Ce={schedule(Bt){let ft=requestAnimationFrame,qe=cancelAnimationFrame;const{delegate:Jt}=Ce;Jt&&(ft=Jt.requestAnimationFrame,qe=Jt.cancelAnimationFrame);const yn=ft(mn=>{qe=void 0,Bt(mn)});return new _e.w0(()=>qe?.(yn))},requestAnimationFrame(...Bt){const{delegate:ft}=Ce;return(ft?.requestAnimationFrame||requestAnimationFrame)(...Bt)},cancelAnimationFrame(...Bt){const{delegate:ft}=Ce;return(ft?.cancelAnimationFrame||cancelAnimationFrame)(...Bt)},delegate:void 0};var me=w(7565);new class ve extends me.v{flush(ft){this._active=!0;const qe=this._scheduled;this._scheduled=void 0;const{actions:Jt}=this;let yn;ft=ft||Jt.shift();do{if(yn=ft.execute(ft.state,ft.delay))break}while((ft=Jt[0])&&ft.id===qe&&Jt.shift());if(this._active=!1,yn){for(;(ft=Jt[0])&&ft.id===qe&&Jt.shift();)ft.unsubscribe();throw yn}}}(class oe extends W.o{constructor(ft,qe){super(ft,qe),this.scheduler=ft,this.work=qe}requestAsyncId(ft,qe,Jt=0){return null!==Jt&&Jt>0?super.requestAsyncId(ft,qe,Jt):(ft.actions.push(this),ft._scheduled||(ft._scheduled=Ce.requestAnimationFrame(()=>ft.flush(void 0))))}recycleAsyncId(ft,qe,Jt=0){var yn;if(null!=Jt?Jt>0:this.delay>0)return super.recycleAsyncId(ft,qe,Jt);const{actions:mn}=ft;null!=qe&&(null===(yn=mn[mn.length-1])||void 0===yn?void 0:yn.id)!==qe&&(Ce.cancelAnimationFrame(qe),ft._scheduled=void 0)}});w(3101);var Ge=w(4986),Je=w(4482),Ve=w(8421),Oe=w(5403),fe=w(5963);function Ee(Bt,ft=Ge.z){return function Et(Bt){return(0,Je.e)((ft,qe)=>{let Jt=!1,yn=null,mn=null,yt=!1;const he=()=>{if(mn?.unsubscribe(),mn=null,Jt){Jt=!1;const pt=yn;yn=null,qe.next(pt)}yt&&qe.complete()},He=()=>{mn=null,yt&&qe.complete()};ft.subscribe((0,Oe.x)(qe,pt=>{Jt=!0,yn=pt,mn||(0,Ve.Xf)(Bt(pt)).subscribe(mn=(0,Oe.x)(qe,he,He))},()=>{yt=!0,(!Jt||!mn||mn.closed)&&qe.complete()}))})}(()=>(0,fe.H)(Bt,ft))}var ue=w(9300),pe=w(2966),Le=w(4755),Y=w(8930);let bt=(()=>{class Bt{constructor(qe,Jt,yn){this._ngZone=qe,this._platform=Jt,this._scrolled=new g.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=yn}register(qe){this.scrollContainers.has(qe)||this.scrollContainers.set(qe,qe.elementScrolled().subscribe(()=>this._scrolled.next(qe)))}deregister(qe){const Jt=this.scrollContainers.get(qe);Jt&&(Jt.unsubscribe(),this.scrollContainers.delete(qe))}scrolled(qe=20){return this._platform.isBrowser?new xe.y(Jt=>{this._globalSubscription||this._addGlobalListener();const yn=qe>0?this._scrolled.pipe(Ee(qe)).subscribe(Jt):this._scrolled.subscribe(Jt);return this._scrolledCount++,()=>{yn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,te.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((qe,Jt)=>this.deregister(Jt)),this._scrolled.complete()}ancestorScrolled(qe,Jt){const yn=this.getAncestorScrollContainers(qe);return this.scrolled(Jt).pipe((0,ue.h)(mn=>!mn||yn.indexOf(mn)>-1))}getAncestorScrollContainers(qe){const Jt=[];return this.scrollContainers.forEach((yn,mn)=>{this._scrollableContainsElement(mn,qe)&&Jt.push(mn)}),Jt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(qe,Jt){let yn=(0,l.fI)(Jt),mn=qe.getElementRef().nativeElement;do{if(yn==mn)return!0}while(yn=yn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const qe=this._getWindow();return(0,ae.R)(qe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Bt.\u0275fac=function(qe){return new(qe||Bt)(p.LFG(p.R0b),p.LFG(pe.t4),p.LFG(Le.K0,8))},Bt.\u0275prov=p.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),Ht=(()=>{class Bt{constructor(qe,Jt,yn){this._platform=qe,this._change=new g.x,this._changeListener=mn=>{this._change.next(mn)},this._document=yn,Jt.runOutsideAngular(()=>{if(qe.isBrowser){const mn=this._getWindow();mn.addEventListener("resize",this._changeListener),mn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const qe=this._getWindow();qe.removeEventListener("resize",this._changeListener),qe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const qe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),qe}getViewportRect(){const qe=this.getViewportScrollPosition(),{width:Jt,height:yn}=this.getViewportSize();return{top:qe.top,left:qe.left,bottom:qe.top+yn,right:qe.left+Jt,height:yn,width:Jt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const qe=this._document,Jt=this._getWindow(),yn=qe.documentElement,mn=yn.getBoundingClientRect();return{top:-mn.top||qe.body.scrollTop||Jt.scrollY||yn.scrollTop||0,left:-mn.left||qe.body.scrollLeft||Jt.scrollX||yn.scrollLeft||0}}change(qe=20){return qe>0?this._change.pipe(Ee(qe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const qe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:qe.innerWidth,height:qe.innerHeight}:{width:0,height:0}}}return Bt.\u0275fac=function(qe){return new(qe||Bt)(p.LFG(pe.t4),p.LFG(p.R0b),p.LFG(Le.K0,8))},Bt.\u0275prov=p.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),Wt=(()=>{class Bt{}return Bt.\u0275fac=function(qe){return new(qe||Bt)},Bt.\u0275mod=p.oAB({type:Bt}),Bt.\u0275inj=p.cJS({}),Bt})(),Lt=(()=>{class Bt{}return Bt.\u0275fac=function(qe){return new(qe||Bt)},Bt.\u0275mod=p.oAB({type:Bt}),Bt.\u0275inj=p.cJS({imports:[Y.vT,Wt,Y.vT,Wt]}),Bt})()},4755:(pn,rt,w)=>{w.d(rt,{Do:()=>Ge,EM:()=>Qr,HT:()=>te,JF:()=>Sr,K0:()=>ae,Mx:()=>Wr,NF:()=>us,O5:()=>Zr,PM:()=>Io,S$:()=>ze,V_:()=>_e,Ye:()=>Je,b0:()=>at,bD:()=>es,ez:()=>Vo,mk:()=>pr,q:()=>g,sg:()=>po,tP:()=>Jo,uU:()=>Zn,w_:()=>xe});var l=w(2223);let p=null;function g(){return p}function te(P){p||(p=P)}class xe{}const ae=new l.OlP("DocumentToken");let W=(()=>{class P{historyGo(B){throw new Error("Not implemented")}}return P.\u0275fac=function(B){return new(B||P)},P.\u0275prov=l.Yz7({token:P,factory:function(){return(0,l.f3M)(Ce)},providedIn:"platform"}),P})();const _e=new l.OlP("Location Initialized");let Ce=(()=>{class P extends W{constructor(){super(),this._doc=(0,l.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(B){const be=g().getGlobalEventTarget(this._doc,"window");return be.addEventListener("popstate",B,!1),()=>be.removeEventListener("popstate",B)}onHashChange(B){const be=g().getGlobalEventTarget(this._doc,"window");return be.addEventListener("hashchange",B,!1),()=>be.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,be,it){this._history.pushState(B,be,it)}replaceState(B,be,it){this._history.replaceState(B,be,it)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return P.\u0275fac=function(B){return new(B||P)},P.\u0275prov=l.Yz7({token:P,factory:function(){return new P},providedIn:"platform"}),P})();function oe(P,ee){if(0==P.length)return ee;if(0==ee.length)return P;let B=0;return P.endsWith("/")&&B++,ee.startsWith("/")&&B++,2==B?P+ee.substring(1):1==B?P+ee:P+"/"+ee}function me(P){const ee=P.match(/#|\?|$/),B=ee&&ee.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function ve(P){return P&&"?"!==P[0]?"?"+P:P}let ze=(()=>{class P{historyGo(B){throw new Error("Not implemented")}}return P.\u0275fac=function(B){return new(B||P)},P.\u0275prov=l.Yz7({token:P,factory:function(){return(0,l.f3M)(at)},providedIn:"root"}),P})();const Fe=new l.OlP("appBaseHref");let at=(()=>{class P extends ze{constructor(B,be){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=be??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return oe(this._baseHref,B)}path(B=!1){const be=this._platformLocation.pathname+ve(this._platformLocation.search),it=this._platformLocation.hash;return it&&B?`${be}${it}`:be}pushState(B,be,it,rn){const fn=this.prepareExternalUrl(it+ve(rn));this._platformLocation.pushState(B,be,fn)}replaceState(B,be,it,rn){const fn=this.prepareExternalUrl(it+ve(rn));this._platformLocation.replaceState(B,be,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return P.\u0275fac=function(B){return new(B||P)(l.LFG(W),l.LFG(Fe,8))},P.\u0275prov=l.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Ge=(()=>{class P extends ze{constructor(B,be){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=be&&(this._baseHref=be)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let be=this._platformLocation.hash;return null==be&&(be="#"),be.length>0?be.substring(1):be}prepareExternalUrl(B){const be=oe(this._baseHref,B);return be.length>0?"#"+be:be}pushState(B,be,it,rn){let fn=this.prepareExternalUrl(it+ve(rn));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.pushState(B,be,fn)}replaceState(B,be,it,rn){let fn=this.prepareExternalUrl(it+ve(rn));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.replaceState(B,be,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return P.\u0275fac=function(B){return new(B||P)(l.LFG(W),l.LFG(Fe,8))},P.\u0275prov=l.Yz7({token:P,factory:P.\u0275fac}),P})(),Je=(()=>{class P{constructor(B){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const be=this._locationStrategy.getBaseHref();this._basePath=function fe(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(me(Et(be))),this._locationStrategy.onPopState(it=>{this._subject.emit({url:this.path(!0),pop:!0,state:it.state,type:it.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,be=""){return this.path()==this.normalize(B+ve(be))}normalize(B){return P.stripTrailingSlash(function Oe(P,ee){if(!P||!ee.startsWith(P))return ee;const B=ee.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:ee}(this._basePath,Et(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,be="",it=null){this._locationStrategy.pushState(it,"",B,be),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+ve(be)),it)}replaceState(B,be="",it=null){this._locationStrategy.replaceState(it,"",B,be),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+ve(be)),it)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(be=>{this._notifyUrlChangeListeners(be.url,be.state)})),()=>{const be=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(be,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",be){this._urlChangeListeners.forEach(it=>it(B,be))}subscribe(B,be,it){return this._subject.subscribe({next:B,error:be,complete:it})}}return P.normalizeQueryParams=ve,P.joinWithSlash=oe,P.stripTrailingSlash=me,P.\u0275fac=function(B){return new(B||P)(l.LFG(ze))},P.\u0275prov=l.Yz7({token:P,factory:function(){return function Ve(){return new Je((0,l.LFG)(ze))}()},providedIn:"root"}),P})();function Et(P){return P.replace(/\/index.html$/,"")}var Le=(()=>((Le=Le||{})[Le.Format=0]="Format",Le[Le.Standalone=1]="Standalone",Le))(),Y=(()=>((Y=Y||{})[Y.Narrow=0]="Narrow",Y[Y.Abbreviated=1]="Abbreviated",Y[Y.Wide=2]="Wide",Y[Y.Short=3]="Short",Y))(),Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.Medium=1]="Medium",Ze[Ze.Long=2]="Long",Ze[Ze.Full=3]="Full",Ze))(),Ue=(()=>((Ue=Ue||{})[Ue.Decimal=0]="Decimal",Ue[Ue.Group=1]="Group",Ue[Ue.List=2]="List",Ue[Ue.PercentSign=3]="PercentSign",Ue[Ue.PlusSign=4]="PlusSign",Ue[Ue.MinusSign=5]="MinusSign",Ue[Ue.Exponential=6]="Exponential",Ue[Ue.SuperscriptingExponent=7]="SuperscriptingExponent",Ue[Ue.PerMille=8]="PerMille",Ue[Ue.Infinity=9]="Infinity",Ue[Ue.NaN=10]="NaN",Ue[Ue.TimeSeparator=11]="TimeSeparator",Ue[Ue.CurrencyDecimal=12]="CurrencyDecimal",Ue[Ue.CurrencyGroup=13]="CurrencyGroup",Ue))();function Ht(P,ee){return qe((0,l.cg1)(P)[l.wAp.DateFormat],ee)}function Be(P,ee){return qe((0,l.cg1)(P)[l.wAp.TimeFormat],ee)}function mt(P,ee){return qe((0,l.cg1)(P)[l.wAp.DateTimeFormat],ee)}function Rt(P,ee){const B=(0,l.cg1)(P),be=B[l.wAp.NumberSymbols][ee];if(typeof be>"u"){if(ee===Ue.CurrencyDecimal)return B[l.wAp.NumberSymbols][Ue.Decimal];if(ee===Ue.CurrencyGroup)return B[l.wAp.NumberSymbols][Ue.Group]}return be}function Wt(P){if(!P[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qe(P,ee){for(let B=ee;B>-1;B--)if(typeof P[B]<"u")return P[B];throw new Error("Locale data API: locale data undefined")}function Jt(P){const[ee,B]=P.split(":");return{hours:+ee,minutes:+B}}const he=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,He={},pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ht=(()=>((ht=ht||{})[ht.Short=0]="Short",ht[ht.ShortGMT=1]="ShortGMT",ht[ht.Long=2]="Long",ht[ht.Extended=3]="Extended",ht))(),Pt=(()=>((Pt=Pt||{})[Pt.FullYear=0]="FullYear",Pt[Pt.Month=1]="Month",Pt[Pt.Date=2]="Date",Pt[Pt.Hours=3]="Hours",Pt[Pt.Minutes=4]="Minutes",Pt[Pt.Seconds=5]="Seconds",Pt[Pt.FractionalSeconds=6]="FractionalSeconds",Pt[Pt.Day=7]="Day",Pt))(),Xt=(()=>((Xt=Xt||{})[Xt.DayPeriods=0]="DayPeriods",Xt[Xt.Days=1]="Days",Xt[Xt.Months=2]="Months",Xt[Xt.Eras=3]="Eras",Xt))();function cn(P,ee,B,be){let it=function le(P){if(U(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[it,rn=1,fn=1]=P.split("-").map(qn=>+qn);return $n(it,rn-1,fn)}const B=parseFloat(P);if(!isNaN(P-B))return new Date(B);let be;if(be=P.match(he))return function j(P){const ee=new Date(0);let B=0,be=0;const it=P[8]?ee.setUTCFullYear:ee.setFullYear,rn=P[8]?ee.setUTCHours:ee.setHours;P[9]&&(B=Number(P[9]+P[10]),be=Number(P[9]+P[11])),it.call(ee,Number(P[1]),Number(P[2])-1,Number(P[3]));const fn=Number(P[4]||0)-B,qn=Number(P[5]||0)-be,zi=Number(P[6]||0),Di=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return rn.call(ee,fn,qn,zi,Di),ee}(be)}const ee=new Date(P);if(!U(ee))throw new Error(`Unable to convert "${P}" into a date`);return ee}(P);ee=ni(B,ee)||ee;let qn,fn=[];for(;ee;){if(qn=pt.exec(ee),!qn){fn.push(ee);break}{fn=fn.concat(qn.slice(1));const bi=fn.pop();if(!bi)break;ee=bi}}let zi=it.getTimezoneOffset();be&&(zi=St(be,zi),it=function Pe(P,ee,B){const be=B?-1:1,it=P.getTimezoneOffset();return function Kt(P,ee){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+ee),P}(P,be*(St(ee,it)-it))}(it,be,!0));let Di="";return fn.forEach(bi=>{const Ei=function Ae(P){if(je[P])return je[P];let ee;switch(P){case"G":case"GG":case"GGG":ee=Zt(Xt.Eras,Y.Abbreviated);break;case"GGGG":ee=Zt(Xt.Eras,Y.Wide);break;case"GGGGG":ee=Zt(Xt.Eras,Y.Narrow);break;case"y":ee=Ke(Pt.FullYear,1,0,!1,!0);break;case"yy":ee=Ke(Pt.FullYear,2,0,!0,!0);break;case"yyy":ee=Ke(Pt.FullYear,3,0,!1,!0);break;case"yyyy":ee=Ke(Pt.FullYear,4,0,!1,!0);break;case"Y":ee=We(1);break;case"YY":ee=We(2,!0);break;case"YYY":ee=We(3);break;case"YYYY":ee=We(4);break;case"M":case"L":ee=Ke(Pt.Month,1,1);break;case"MM":case"LL":ee=Ke(Pt.Month,2,1);break;case"MMM":ee=Zt(Xt.Months,Y.Abbreviated);break;case"MMMM":ee=Zt(Xt.Months,Y.Wide);break;case"MMMMM":ee=Zt(Xt.Months,Y.Narrow);break;case"LLL":ee=Zt(Xt.Months,Y.Abbreviated,Le.Standalone);break;case"LLLL":ee=Zt(Xt.Months,Y.Wide,Le.Standalone);break;case"LLLLL":ee=Zt(Xt.Months,Y.Narrow,Le.Standalone);break;case"w":ee=ut(1);break;case"ww":ee=ut(2);break;case"W":ee=ut(1,!0);break;case"d":ee=Ke(Pt.Date,1);break;case"dd":ee=Ke(Pt.Date,2);break;case"c":case"cc":ee=Ke(Pt.Day,1);break;case"ccc":ee=Zt(Xt.Days,Y.Abbreviated,Le.Standalone);break;case"cccc":ee=Zt(Xt.Days,Y.Wide,Le.Standalone);break;case"ccccc":ee=Zt(Xt.Days,Y.Narrow,Le.Standalone);break;case"cccccc":ee=Zt(Xt.Days,Y.Short,Le.Standalone);break;case"E":case"EE":case"EEE":ee=Zt(Xt.Days,Y.Abbreviated);break;case"EEEE":ee=Zt(Xt.Days,Y.Wide);break;case"EEEEE":ee=Zt(Xt.Days,Y.Narrow);break;case"EEEEEE":ee=Zt(Xt.Days,Y.Short);break;case"a":case"aa":case"aaa":ee=Zt(Xt.DayPeriods,Y.Abbreviated);break;case"aaaa":ee=Zt(Xt.DayPeriods,Y.Wide);break;case"aaaaa":ee=Zt(Xt.DayPeriods,Y.Narrow);break;case"b":case"bb":case"bbb":ee=Zt(Xt.DayPeriods,Y.Abbreviated,Le.Standalone,!0);break;case"bbbb":ee=Zt(Xt.DayPeriods,Y.Wide,Le.Standalone,!0);break;case"bbbbb":ee=Zt(Xt.DayPeriods,Y.Narrow,Le.Standalone,!0);break;case"B":case"BB":case"BBB":ee=Zt(Xt.DayPeriods,Y.Abbreviated,Le.Format,!0);break;case"BBBB":ee=Zt(Xt.DayPeriods,Y.Wide,Le.Format,!0);break;case"BBBBB":ee=Zt(Xt.DayPeriods,Y.Narrow,Le.Format,!0);break;case"h":ee=Ke(Pt.Hours,1,-12);break;case"hh":ee=Ke(Pt.Hours,2,-12);break;case"H":ee=Ke(Pt.Hours,1);break;case"HH":ee=Ke(Pt.Hours,2);break;case"m":ee=Ke(Pt.Minutes,1);break;case"mm":ee=Ke(Pt.Minutes,2);break;case"s":ee=Ke(Pt.Seconds,1);break;case"ss":ee=Ke(Pt.Seconds,2);break;case"S":ee=Ke(Pt.FractionalSeconds,1);break;case"SS":ee=Ke(Pt.FractionalSeconds,2);break;case"SSS":ee=Ke(Pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=li(ht.Short);break;case"ZZZZZ":ee=li(ht.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=li(ht.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=li(ht.Long);break;default:return null}return je[P]=ee,ee}(bi);Di+=Ei?Ei(it,B,zi):"''"===bi?"'":bi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Di}function $n(P,ee,B){const be=new Date(0);return be.setFullYear(P,ee,B),be.setHours(0,0,0),be}function ni(P,ee){const B=function Tt(P){return(0,l.cg1)(P)[l.wAp.LocaleId]}(P);if(He[B]=He[B]||{},He[B][ee])return He[B][ee];let be="";switch(ee){case"shortDate":be=Ht(P,Ze.Short);break;case"mediumDate":be=Ht(P,Ze.Medium);break;case"longDate":be=Ht(P,Ze.Long);break;case"fullDate":be=Ht(P,Ze.Full);break;case"shortTime":be=Be(P,Ze.Short);break;case"mediumTime":be=Be(P,Ze.Medium);break;case"longTime":be=Be(P,Ze.Long);break;case"fullTime":be=Be(P,Ze.Full);break;case"short":const it=ni(P,"shortTime"),rn=ni(P,"shortDate");be=xn(mt(P,Ze.Short),[it,rn]);break;case"medium":const fn=ni(P,"mediumTime"),qn=ni(P,"mediumDate");be=xn(mt(P,Ze.Medium),[fn,qn]);break;case"long":const zi=ni(P,"longTime"),Di=ni(P,"longDate");be=xn(mt(P,Ze.Long),[zi,Di]);break;case"full":const bi=ni(P,"fullTime"),Ei=ni(P,"fullDate");be=xn(mt(P,Ze.Full),[bi,Ei])}return be&&(He[B][ee]=be),be}function xn(P,ee){return ee&&(P=P.replace(/\{([^}]+)}/g,function(B,be){return null!=ee&&be in ee?ee[be]:B})),P}function ln(P,ee,B="-",be,it){let rn="";(P<0||it&&P<=0)&&(it?P=1-P:(P=-P,rn=B));let fn=String(P);for(;fn.length<ee;)fn="0"+fn;return be&&(fn=fn.slice(fn.length-ee)),rn+fn}function Ke(P,ee,B=0,be=!1,it=!1){return function(rn,fn){let qn=function Ot(P,ee){switch(P){case Pt.FullYear:return ee.getFullYear();case Pt.Month:return ee.getMonth();case Pt.Date:return ee.getDate();case Pt.Hours:return ee.getHours();case Pt.Minutes:return ee.getMinutes();case Pt.Seconds:return ee.getSeconds();case Pt.FractionalSeconds:return ee.getMilliseconds();case Pt.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,rn);if((B>0||qn>-B)&&(qn+=B),P===Pt.Hours)0===qn&&-12===B&&(qn=12);else if(P===Pt.FractionalSeconds)return function Un(P,ee){return ln(P,3).substring(0,ee)}(qn,ee);const zi=Rt(fn,Ue.MinusSign);return ln(qn,ee,zi,be,it)}}function Zt(P,ee,B=Le.Format,be=!1){return function(it,rn){return function Tn(P,ee,B,be,it,rn){switch(B){case Xt.Months:return function vt(P,ee,B){const be=(0,l.cg1)(P),rn=qe([be[l.wAp.MonthsFormat],be[l.wAp.MonthsStandalone]],ee);return qe(rn,B)}(ee,it,be)[P.getMonth()];case Xt.Days:return function kn(P,ee,B){const be=(0,l.cg1)(P),rn=qe([be[l.wAp.DaysFormat],be[l.wAp.DaysStandalone]],ee);return qe(rn,B)}(ee,it,be)[P.getDay()];case Xt.DayPeriods:const fn=P.getHours(),qn=P.getMinutes();if(rn){const Di=function Lt(P){const ee=(0,l.cg1)(P);return Wt(ee),(ee[l.wAp.ExtraData][2]||[]).map(be=>"string"==typeof be?Jt(be):[Jt(be[0]),Jt(be[1])])}(ee),bi=function Bt(P,ee,B){const be=(0,l.cg1)(P);Wt(be);const rn=qe([be[l.wAp.ExtraData][0],be[l.wAp.ExtraData][1]],ee)||[];return qe(rn,B)||[]}(ee,it,be),Ei=Di.findIndex(Ji=>{if(Array.isArray(Ji)){const[jn,to]=Ji,fs=fn>=jn.hours&&qn>=jn.minutes,Vr=fn<to.hours||fn===to.hours&&qn<to.minutes;if(jn.hours<to.hours){if(fs&&Vr)return!0}else if(fs||Vr)return!0}else if(Ji.hours===fn&&Ji.minutes===qn)return!0;return!1});if(-1!==Ei)return bi[Ei]}return function bn(P,ee,B){const be=(0,l.cg1)(P),rn=qe([be[l.wAp.DayPeriodsFormat],be[l.wAp.DayPeriodsStandalone]],ee);return qe(rn,B)}(ee,it,be)[fn<12?0:1];case Xt.Eras:return function bt(P,ee){return qe((0,l.cg1)(P)[l.wAp.Eras],ee)}(ee,be)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(it,rn,P,ee,B,be)}}function li(P){return function(ee,B,be){const it=-1*be,rn=Rt(B,Ue.MinusSign),fn=it>0?Math.floor(it/60):Math.ceil(it/60);switch(P){case ht.Short:return(it>=0?"+":"")+ln(fn,2,rn)+ln(Math.abs(it%60),2,rn);case ht.ShortGMT:return"GMT"+(it>=0?"+":"")+ln(fn,1,rn);case ht.Long:return"GMT"+(it>=0?"+":"")+ln(fn,2,rn)+":"+ln(Math.abs(it%60),2,rn);case ht.Extended:return 0===be?"Z":(it>=0?"+":"")+ln(fn,2,rn)+":"+ln(Math.abs(it%60),2,rn);default:throw new Error(`Unknown zone width "${P}"`)}}}const yi=0,hi=4;function ct(P){return $n(P.getFullYear(),P.getMonth(),P.getDate()+(hi-P.getDay()))}function ut(P,ee=!1){return function(B,be){let it;if(ee){const rn=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,fn=B.getDate();it=1+Math.floor((fn+rn)/7)}else{const rn=ct(B),fn=function en(P){const ee=$n(P,yi,1).getDay();return $n(P,0,1+(ee<=hi?hi:hi+7)-ee)}(rn.getFullYear()),qn=rn.getTime()-fn.getTime();it=1+Math.round(qn/6048e5)}return ln(it,P,Rt(be,Ue.MinusSign))}}function We(P,ee=!1){return function(B,be){return ln(ct(B).getFullYear(),P,Rt(be,Ue.MinusSign),ee)}}const je={};function St(P,ee){P=P.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(B)?ee:B}function U(P){return P instanceof Date&&!isNaN(P.valueOf())}function Wr(P,ee){ee=encodeURIComponent(ee);for(const B of P.split(";")){const be=B.indexOf("="),[it,rn]=-1==be?[B,""]:[B.slice(0,be),B.slice(be+1)];if(it.trim()===ee)return decodeURIComponent(rn)}return null}const fo=/\s+/,_s=[];let pr=(()=>{class P{constructor(B,be,it,rn){this._iterableDiffers=B,this._keyValueDiffers=be,this._ngEl=it,this._renderer=rn,this.initialClasses=_s,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(fo):_s}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(fo):B}ngDoCheck(){for(const be of this.initialClasses)this._updateState(be,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const be of B)this._updateState(be,!0);else if(null!=B)for(const be of Object.keys(B))this._updateState(be,!!B[be]);this._applyStateDiff()}_updateState(B,be){const it=this.stateMap.get(B);void 0!==it?(it.enabled!==be&&(it.changed=!0,it.enabled=be),it.touched=!0):this.stateMap.set(B,{enabled:be,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const be=B[0],it=B[1];it.changed?(this._toggleClass(be,it.enabled),it.changed=!1):it.touched||(it.enabled&&this._toggleClass(be,!1),this.stateMap.delete(be)),it.touched=!1}}_toggleClass(B,be){(B=B.trim()).length>0&&B.split(fo).forEach(it=>{be?this._renderer.addClass(this._ngEl.nativeElement,it):this._renderer.removeClass(this._ngEl.nativeElement,it)})}}return P.\u0275fac=function(B){return new(B||P)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),P})();class Kr{constructor(ee,B,be,it){this.$implicit=ee,this.ngForOf=B,this.index=be,this.count=it}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let po=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,be,it){this._viewContainer=B,this._template=be,this._differs=it,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const be=this._viewContainer;B.forEachOperation((it,rn,fn)=>{if(null==it.previousIndex)be.createEmbeddedView(this._template,new Kr(it.item,this._ngForOf,-1,-1),null===fn?void 0:fn);else if(null==fn)be.remove(null===rn?void 0:rn);else if(null!==rn){const qn=be.get(rn);be.move(qn,fn),Ii(qn,it)}});for(let it=0,rn=be.length;it<rn;it++){const qn=be.get(it).context;qn.index=it,qn.count=rn,qn.ngForOf=this._ngForOf}B.forEachIdentityChange(it=>{Ii(be.get(it.currentIndex),it)})}static ngTemplateContextGuard(B,be){return!0}}return P.\u0275fac=function(B){return new(B||P)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function Ii(P,ee){P.context.$implicit=ee.item}let Zr=(()=>{class P{constructor(B,be){this._viewContainer=B,this._context=new Ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=be}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){or("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){or("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,be){return!0}}return P.\u0275fac=function(B){return new(B||P)(l.Y36(l.s_b),l.Y36(l.Rgc))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class Ur{constructor(){this.$implicit=null,this.ngIf=null}}function or(P,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,l.AaK)(ee)}'.`)}let Jo=(()=>{class P{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const be=this._viewContainerRef;if(this._viewRef&&be.remove(be.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:it,ngTemplateOutletContext:rn,ngTemplateOutletInjector:fn}=this;this._viewRef=be.createEmbeddedView(it,rn,fn?{injector:fn}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(B){return new(B||P)(l.Y36(l.s_b))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),P})();const hn=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Rn=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Zn=(()=>{class P{constructor(B,be,it){this.locale=B,this.defaultTimezone=be,this.defaultOptions=it}transform(B,be,it,rn){if(null==B||""===B||B!=B)return null;try{return cn(B,be??this.defaultOptions?.dateFormat??"mediumDate",rn||this.locale,it??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(fn){throw function ri(P,ee){return new l.vHH(2100,!1)}()}}}return P.\u0275fac=function(B){return new(B||P)(l.Y36(l.soG,16),l.Y36(hn,24),l.Y36(Rn,24))},P.\u0275pipe=l.Yjl({name:"date",type:P,pure:!0,standalone:!0}),P})(),Vo=(()=>{class P{}return P.\u0275fac=function(B){return new(B||P)},P.\u0275mod=l.oAB({type:P}),P.\u0275inj=l.cJS({}),P})();const es="browser",vs="server";function us(P){return P===es}function Io(P){return P===vs}let Qr=(()=>{class P{}return P.\u0275prov=(0,l.Yz7)({token:P,providedIn:"root",factory:()=>new Xr((0,l.LFG)(ae),window)}),P})();class Xr{constructor(ee,B){this.document=ee,this.window=B,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const B=function hs(P,ee){const B=P.getElementById(ee)||P.getElementsByName(ee)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const be=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let it=be.currentNode;for(;it;){const rn=it.shadowRoot;if(rn){const fn=rn.getElementById(ee)||rn.querySelector(`[name="${ee}"]`);if(fn)return fn}it=be.nextNode()}}return null}(this.document,ee);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=ee)}}scrollToElement(ee){const B=ee.getBoundingClientRect(),be=B.left+this.window.pageXOffset,it=B.top+this.window.pageYOffset,rn=this.offset();this.window.scrollTo(be-rn[0],it-rn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=jo(this.window.history)||jo(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jo(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Sr{}},3144:(pn,rt,w)=>{w.d(rt,{JF:()=>je,eN:()=>dt});var l=w(2223),p=w(9646),g=w(8996),te=w(9751),xe=w(4351),ae=w(9300),W=w(4004),_e=w(8746),Ce=w(3900),oe=w(4755);class me{}class ve{}class ze{constructor(ce){this.normalizedNames=new Map,this.lazyUpdate=null,ce?this.lazyInit="string"==typeof ce?()=>{this.headers=new Map,ce.split("\n").forEach(Te=>{const Re=Te.indexOf(":");if(Re>0){const Ne=Te.slice(0,Re),Q=Ne.toLowerCase(),De=Te.slice(Re+1).trim();this.maybeSetNormalizedName(Ne,Q),this.headers.has(Q)?this.headers.get(Q).push(De):this.headers.set(Q,[De])}})}:()=>{this.headers=new Map,Object.entries(ce).forEach(([Te,Re])=>{let Ne;if(Ne="string"==typeof Re?[Re]:"number"==typeof Re?[Re.toString()]:Re.map(Q=>Q.toString()),Ne.length>0){const Q=Te.toLowerCase();this.headers.set(Q,Ne),this.maybeSetNormalizedName(Te,Q)}})}:this.headers=new Map}has(ce){return this.init(),this.headers.has(ce.toLowerCase())}get(ce){this.init();const Te=this.headers.get(ce.toLowerCase());return Te&&Te.length>0?Te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ce){return this.init(),this.headers.get(ce.toLowerCase())||null}append(ce,Te){return this.clone({name:ce,value:Te,op:"a"})}set(ce,Te){return this.clone({name:ce,value:Te,op:"s"})}delete(ce,Te){return this.clone({name:ce,value:Te,op:"d"})}maybeSetNormalizedName(ce,Te){this.normalizedNames.has(Te)||this.normalizedNames.set(Te,ce)}init(){this.lazyInit&&(this.lazyInit instanceof ze?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ce=>this.applyUpdate(ce)),this.lazyUpdate=null))}copyFrom(ce){ce.init(),Array.from(ce.headers.keys()).forEach(Te=>{this.headers.set(Te,ce.headers.get(Te)),this.normalizedNames.set(Te,ce.normalizedNames.get(Te))})}clone(ce){const Te=new ze;return Te.lazyInit=this.lazyInit&&this.lazyInit instanceof ze?this.lazyInit:this,Te.lazyUpdate=(this.lazyUpdate||[]).concat([ce]),Te}applyUpdate(ce){const Te=ce.name.toLowerCase();switch(ce.op){case"a":case"s":let Re=ce.value;if("string"==typeof Re&&(Re=[Re]),0===Re.length)return;this.maybeSetNormalizedName(ce.name,Te);const Ne=("a"===ce.op?this.headers.get(Te):void 0)||[];Ne.push(...Re),this.headers.set(Te,Ne);break;case"d":const Q=ce.value;if(Q){let De=this.headers.get(Te);if(!De)return;De=De.filter(wt=>-1===Q.indexOf(wt)),0===De.length?(this.headers.delete(Te),this.normalizedNames.delete(Te)):this.headers.set(Te,De)}else this.headers.delete(Te),this.normalizedNames.delete(Te)}}forEach(ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(Te=>ce(this.normalizedNames.get(Te),this.headers.get(Te)))}}class at{encodeKey(ce){return Oe(ce)}encodeValue(ce){return Oe(ce)}decodeKey(ce){return decodeURIComponent(ce)}decodeValue(ce){return decodeURIComponent(ce)}}const Je=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Oe(de){return encodeURIComponent(de).replace(Je,(ce,Te)=>Ve[Te]??ce)}function Et(de){return`${de}`}class fe{constructor(ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ce.encoder||new at,ce.fromString){if(ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ge(de,ce){const Te=new Map;return de.length>0&&de.replace(/^\?/,"").split("&").forEach(Ne=>{const Q=Ne.indexOf("="),[De,wt]=-1==Q?[ce.decodeKey(Ne),""]:[ce.decodeKey(Ne.slice(0,Q)),ce.decodeValue(Ne.slice(Q+1))],jt=Te.get(De)||[];jt.push(wt),Te.set(De,jt)}),Te}(ce.fromString,this.encoder)}else ce.fromObject?(this.map=new Map,Object.keys(ce.fromObject).forEach(Te=>{const Re=ce.fromObject[Te],Ne=Array.isArray(Re)?Re.map(Et):[Et(Re)];this.map.set(Te,Ne)})):this.map=null}has(ce){return this.init(),this.map.has(ce)}get(ce){this.init();const Te=this.map.get(ce);return Te?Te[0]:null}getAll(ce){return this.init(),this.map.get(ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ce,Te){return this.clone({param:ce,value:Te,op:"a"})}appendAll(ce){const Te=[];return Object.keys(ce).forEach(Re=>{const Ne=ce[Re];Array.isArray(Ne)?Ne.forEach(Q=>{Te.push({param:Re,value:Q,op:"a"})}):Te.push({param:Re,value:Ne,op:"a"})}),this.clone(Te)}set(ce,Te){return this.clone({param:ce,value:Te,op:"s"})}delete(ce,Te){return this.clone({param:ce,value:Te,op:"d"})}toString(){return this.init(),this.keys().map(ce=>{const Te=this.encoder.encodeKey(ce);return this.map.get(ce).map(Re=>Te+"="+this.encoder.encodeValue(Re)).join("&")}).filter(ce=>""!==ce).join("&")}clone(ce){const Te=new fe({encoder:this.encoder});return Te.cloneFrom=this.cloneFrom||this,Te.updates=(this.updates||[]).concat(ce),Te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ce=>this.map.set(ce,this.cloneFrom.map.get(ce))),this.updates.forEach(ce=>{switch(ce.op){case"a":case"s":const Te=("a"===ce.op?this.map.get(ce.param):void 0)||[];Te.push(Et(ce.value)),this.map.set(ce.param,Te);break;case"d":if(void 0===ce.value){this.map.delete(ce.param);break}{let Re=this.map.get(ce.param)||[];const Ne=Re.indexOf(Et(ce.value));-1!==Ne&&Re.splice(Ne,1),Re.length>0?this.map.set(ce.param,Re):this.map.delete(ce.param)}}}),this.cloneFrom=this.updates=null)}}class ue{constructor(){this.map=new Map}set(ce,Te){return this.map.set(ce,Te),this}get(ce){return this.map.has(ce)||this.map.set(ce,ce.defaultValue()),this.map.get(ce)}delete(ce){return this.map.delete(ce),this}has(ce){return this.map.has(ce)}keys(){return this.map.keys()}}function Le(de){return typeof ArrayBuffer<"u"&&de instanceof ArrayBuffer}function Y(de){return typeof Blob<"u"&&de instanceof Blob}function Ze(de){return typeof FormData<"u"&&de instanceof FormData}class Qe{constructor(ce,Te,Re,Ne){let Q;if(this.url=Te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ce.toUpperCase(),function pe(de){switch(de){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ne?(this.body=void 0!==Re?Re:null,Q=Ne):Q=Re,Q&&(this.reportProgress=!!Q.reportProgress,this.withCredentials=!!Q.withCredentials,Q.responseType&&(this.responseType=Q.responseType),Q.headers&&(this.headers=Q.headers),Q.context&&(this.context=Q.context),Q.params&&(this.params=Q.params)),this.headers||(this.headers=new ze),this.context||(this.context=new ue),this.params){const De=this.params.toString();if(0===De.length)this.urlWithParams=Te;else{const wt=Te.indexOf("?");this.urlWithParams=Te+(-1===wt?"?":wt<Te.length-1?"&":"")+De}}else this.params=new fe,this.urlWithParams=Te}serializeBody(){return null===this.body?null:Le(this.body)||Y(this.body)||Ze(this.body)||function Ue(de){return typeof URLSearchParams<"u"&&de instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ze(this.body)?null:Y(this.body)?this.body.type||null:Le(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ce={}){const Te=ce.method||this.method,Re=ce.url||this.url,Ne=ce.responseType||this.responseType,Q=void 0!==ce.body?ce.body:this.body,De=void 0!==ce.withCredentials?ce.withCredentials:this.withCredentials,wt=void 0!==ce.reportProgress?ce.reportProgress:this.reportProgress;let jt=ce.headers||this.headers,zn=ce.params||this.params;const ei=ce.context??this.context;return void 0!==ce.setHeaders&&(jt=Object.keys(ce.setHeaders).reduce((kt,At)=>kt.set(At,ce.setHeaders[At]),jt)),ce.setParams&&(zn=Object.keys(ce.setParams).reduce((kt,At)=>kt.set(At,ce.setParams[At]),zn)),new Qe(Te,Re,Q,{params:zn,headers:jt,context:ei,reportProgress:wt,responseType:Ne,withCredentials:De})}}var Tt=(()=>((Tt=Tt||{})[Tt.Sent=0]="Sent",Tt[Tt.UploadProgress=1]="UploadProgress",Tt[Tt.ResponseHeader=2]="ResponseHeader",Tt[Tt.DownloadProgress=3]="DownloadProgress",Tt[Tt.Response=4]="Response",Tt[Tt.User=5]="User",Tt))();class bn{constructor(ce,Te=200,Re="OK"){this.headers=ce.headers||new ze,this.status=void 0!==ce.status?ce.status:Te,this.statusText=ce.statusText||Re,this.url=ce.url||null,this.ok=this.status>=200&&this.status<300}}class kn extends bn{constructor(ce={}){super(ce),this.type=Tt.ResponseHeader}clone(ce={}){return new kn({headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class vt extends bn{constructor(ce={}){super(ce),this.type=Tt.Response,this.body=void 0!==ce.body?ce.body:null}clone(ce={}){return new vt({body:void 0!==ce.body?ce.body:this.body,headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class bt extends bn{constructor(ce){super(ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ce.url||"(unknown url)"}`:`Http failure response for ${ce.url||"(unknown url)"}: ${ce.status} ${ce.statusText}`,this.error=ce.error||null}}function Vt(de,ce){return{body:ce,headers:de.headers,context:de.context,observe:de.observe,params:de.params,reportProgress:de.reportProgress,responseType:de.responseType,withCredentials:de.withCredentials}}let dt=(()=>{class de{constructor(Te){this.handler=Te}request(Te,Re,Ne={}){let Q;if(Te instanceof Qe)Q=Te;else{let jt,zn;jt=Ne.headers instanceof ze?Ne.headers:new ze(Ne.headers),Ne.params&&(zn=Ne.params instanceof fe?Ne.params:new fe({fromObject:Ne.params})),Q=new Qe(Te,Re,void 0!==Ne.body?Ne.body:null,{headers:jt,context:Ne.context,params:zn,reportProgress:Ne.reportProgress,responseType:Ne.responseType||"json",withCredentials:Ne.withCredentials})}const De=(0,p.of)(Q).pipe((0,xe.b)(jt=>this.handler.handle(jt)));if(Te instanceof Qe||"events"===Ne.observe)return De;const wt=De.pipe((0,ae.h)(jt=>jt instanceof vt));switch(Ne.observe||"body"){case"body":switch(Q.responseType){case"arraybuffer":return wt.pipe((0,W.U)(jt=>{if(null!==jt.body&&!(jt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return jt.body}));case"blob":return wt.pipe((0,W.U)(jt=>{if(null!==jt.body&&!(jt.body instanceof Blob))throw new Error("Response is not a Blob.");return jt.body}));case"text":return wt.pipe((0,W.U)(jt=>{if(null!==jt.body&&"string"!=typeof jt.body)throw new Error("Response is not a string.");return jt.body}));default:return wt.pipe((0,W.U)(jt=>jt.body))}case"response":return wt;default:throw new Error(`Unreachable: unhandled observe type ${Ne.observe}}`)}}delete(Te,Re={}){return this.request("DELETE",Te,Re)}get(Te,Re={}){return this.request("GET",Te,Re)}head(Te,Re={}){return this.request("HEAD",Te,Re)}jsonp(Te,Re){return this.request("JSONP",Te,{params:(new fe).append(Re,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Te,Re={}){return this.request("OPTIONS",Te,Re)}patch(Te,Re,Ne={}){return this.request("PATCH",Te,Vt(Ne,Re))}post(Te,Re,Ne={}){return this.request("POST",Te,Vt(Ne,Re))}put(Te,Re,Ne={}){return this.request("PUT",Te,Vt(Ne,Re))}}return de.\u0275fac=function(Te){return new(Te||de)(l.LFG(me))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();function Ht(de,ce){return ce(de)}function Be(de,ce){return(Te,Re)=>ce.intercept(Te,{handle:Ne=>de(Ne,Re)})}const Rt=new l.OlP(""),qt=new l.OlP(""),Mt=new l.OlP("");function Xe(){let de=null;return(ce,Te)=>{null===de&&(de=((0,l.f3M)(Rt,{optional:!0})??[]).reduceRight(Be,Ht));const Re=(0,l.f3M)(l.HDt),Ne=Re.add();return de(ce,Te).pipe((0,_e.x)(()=>Re.remove(Ne)))}}let ot=(()=>{class de extends me{constructor(Te,Re){super(),this.backend=Te,this.injector=Re,this.chain=null,this.pendingTasks=(0,l.f3M)(l.HDt)}handle(Te){if(null===this.chain){const Ne=Array.from(new Set([...this.injector.get(qt),...this.injector.get(Mt,[])]));this.chain=Ne.reduceRight((Q,De)=>function mt(de,ce,Te){return(Re,Ne)=>Te.runInContext(()=>ce(Re,Q=>de(Q,Ne)))}(Q,De,this.injector),Ht)}const Re=this.pendingTasks.add();return this.chain(Te,Ne=>this.backend.handle(Ne)).pipe((0,_e.x)(()=>this.pendingTasks.remove(Re)))}}return de.\u0275fac=function(Te){return new(Te||de)(l.LFG(ve),l.LFG(l.lqb))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();const he=/^\)\]\}',?\n/;let pt=(()=>{class de{constructor(Te){this.xhrFactory=Te}handle(Te){if("JSONP"===Te.method)throw new l.vHH(-2800,!1);const Re=this.xhrFactory;return(Re.\u0275loadImpl?(0,g.D)(Re.\u0275loadImpl()):(0,p.of)(null)).pipe((0,Ce.w)(()=>new te.y(Q=>{const De=Re.build();if(De.open(Te.method,Te.urlWithParams),Te.withCredentials&&(De.withCredentials=!0),Te.headers.forEach((An,Nn)=>De.setRequestHeader(An,Nn.join(","))),Te.headers.has("Accept")||De.setRequestHeader("Accept","application/json, text/plain, */*"),!Te.headers.has("Content-Type")){const An=Te.detectContentTypeHeader();null!==An&&De.setRequestHeader("Content-Type",An)}if(Te.responseType){const An=Te.responseType.toLowerCase();De.responseType="json"!==An?An:"text"}const wt=Te.serializeBody();let jt=null;const zn=()=>{if(null!==jt)return jt;const An=De.statusText||"OK",Nn=new ze(De.getAllResponseHeaders()),ci=function He(de){return"responseURL"in de&&de.responseURL?de.responseURL:/^X-Request-URL:/m.test(de.getAllResponseHeaders())?de.getResponseHeader("X-Request-URL"):null}(De)||Te.url;return jt=new kn({headers:Nn,status:De.status,statusText:An,url:ci}),jt},ei=()=>{let{headers:An,status:Nn,statusText:ci,url:Qi}=zn(),wi=null;204!==Nn&&(wi=typeof De.response>"u"?De.responseText:De.response),0===Nn&&(Nn=wi?200:0);let br=Nn>=200&&Nn<300;if("json"===Te.responseType&&"string"==typeof wi){const Wr=wi;wi=wi.replace(he,"");try{wi=""!==wi?JSON.parse(wi):null}catch(fo){wi=Wr,br&&(br=!1,wi={error:fo,text:wi})}}br?(Q.next(new vt({body:wi,headers:An,status:Nn,statusText:ci,url:Qi||void 0})),Q.complete()):Q.error(new bt({error:wi,headers:An,status:Nn,statusText:ci,url:Qi||void 0}))},kt=An=>{const{url:Nn}=zn(),ci=new bt({error:An,status:De.status||0,statusText:De.statusText||"Unknown Error",url:Nn||void 0});Q.error(ci)};let At=!1;const wn=An=>{At||(Q.next(zn()),At=!0);let Nn={type:Tt.DownloadProgress,loaded:An.loaded};An.lengthComputable&&(Nn.total=An.total),"text"===Te.responseType&&De.responseText&&(Nn.partialText=De.responseText),Q.next(Nn)},Kn=An=>{let Nn={type:Tt.UploadProgress,loaded:An.loaded};An.lengthComputable&&(Nn.total=An.total),Q.next(Nn)};return De.addEventListener("load",ei),De.addEventListener("error",kt),De.addEventListener("timeout",kt),De.addEventListener("abort",kt),Te.reportProgress&&(De.addEventListener("progress",wn),null!==wt&&De.upload&&De.upload.addEventListener("progress",Kn)),De.send(wt),Q.next({type:Tt.Sent}),()=>{De.removeEventListener("error",kt),De.removeEventListener("abort",kt),De.removeEventListener("load",ei),De.removeEventListener("timeout",kt),Te.reportProgress&&(De.removeEventListener("progress",wn),null!==wt&&De.upload&&De.upload.removeEventListener("progress",Kn)),De.readyState!==De.DONE&&De.abort()}})))}}return de.\u0275fac=function(Te){return new(Te||de)(l.LFG(oe.JF))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();const ht=new l.OlP("XSRF_ENABLED"),Xt=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$n=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ni{}let xn=(()=>{class de{constructor(Te,Re,Ne){this.doc=Te,this.platform=Re,this.cookieName=Ne,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Te=this.doc.cookie||"";return Te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.Mx)(Te,this.cookieName),this.lastCookieString=Te),this.lastToken}}return de.\u0275fac=function(Te){return new(Te||de)(l.LFG(oe.K0),l.LFG(l.Lbi),l.LFG(Xt))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();function ln(de,ce){const Te=de.url.toLowerCase();if(!(0,l.f3M)(ht)||"GET"===de.method||"HEAD"===de.method||Te.startsWith("http://")||Te.startsWith("https://"))return ce(de);const Re=(0,l.f3M)(ni).getToken(),Ne=(0,l.f3M)($n);return null!=Re&&!de.headers.has(Ne)&&(de=de.clone({headers:de.headers.set(Ne,Re)})),ce(de)}var Ke=(()=>((Ke=Ke||{})[Ke.Interceptors=0]="Interceptors",Ke[Ke.LegacyInterceptors=1]="LegacyInterceptors",Ke[Ke.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ke[Ke.NoXsrfProtection=3]="NoXsrfProtection",Ke[Ke.JsonpSupport=4]="JsonpSupport",Ke[Ke.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ke))();function Ot(de,ce){return{\u0275kind:de,\u0275providers:ce}}function Zt(...de){const ce=[dt,pt,ot,{provide:me,useExisting:ot},{provide:ve,useExisting:pt},{provide:qt,useValue:ln,multi:!0},{provide:ht,useValue:!0},{provide:ni,useClass:xn}];for(const Te of de)ce.push(...Te.\u0275providers);return(0,l.MR2)(ce)}const li=new l.OlP("LEGACY_INTERCEPTOR_FN");let je=(()=>{class de{}return de.\u0275fac=function(Te){return new(Te||de)},de.\u0275mod=l.oAB({type:de}),de.\u0275inj=l.cJS({providers:[Zt(Ot(Ke.LegacyInterceptors,[{provide:li,useFactory:Xe},{provide:qt,useExisting:li,multi:!0}]))]}),de})()},2223:(pn,rt,w)=>{w.d(rt,{$8M:()=>Bc,$WT:()=>oo,$Z:()=>H_,AFp:()=>Hf,ALo:()=>hw,AaK:()=>ve,BQk:()=>xd,CHM:()=>wo,CRH:()=>Tw,D6c:()=>OD,EJc:()=>LC,EiD:()=>p_,EpF:()=>ug,F$t:()=>Mh,F4k:()=>yu,FYo:()=>eu,FiY:()=>Wa,Gf:()=>Dw,GfV:()=>mm,GkF:()=>Hm,Gpc:()=>at,HDt:()=>qw,Hsn:()=>_v,Ikx:()=>Ph,JOm:()=>Ia,JVY:()=>pb,JZr:()=>Et,KtG:()=>rs,L6k:()=>gb,LAX:()=>Gd,LFG:()=>Ae,LSH:()=>Rf,Lbi:()=>am,Lck:()=>CE,MAs:()=>gv,MMx:()=>Q0,MR2:()=>rd,NdJ:()=>Pc,O4$:()=>O,Ojb:()=>D_,OlP:()=>co,Oqu:()=>xg,P3R:()=>Jh,PXZ:()=>XC,Q6J:()=>ag,QGY:()=>Th,QbO:()=>Ib,Qsj:()=>hm,R0b:()=>Ua,RDi:()=>r_,Rgc:()=>Fg,SBq:()=>ud,Sil:()=>UC,Suo:()=>Iw,TTD:()=>Qs,TgZ:()=>Dh,Udp:()=>Bl,VKq:()=>ow,W1O:()=>Aw,WFA:()=>Ed,WLB:()=>sw,X6Q:()=>sD,XFs:()=>ht,Xpm:()=>hr,Xts:()=>id,Y36:()=>Al,YKP:()=>Y0,YNc:()=>Fl,Yjl:()=>vo,Yz7:()=>Wt,Z0I:()=>qe,ZZ4:()=>d0,_Bn:()=>Z0,_UZ:()=>jm,_Vd:()=>ld,_c5:()=>xD,_uU:()=>Rv,aQg:()=>u0,c2e:()=>Yw,cJS:()=>Bt,cg1:()=>Qm,d8E:()=>Tu,dDg:()=>ZC,dqk:()=>xn,eBb:()=>El,eFA:()=>dx,eJc:()=>Wy,ekj:()=>Ah,eoX:()=>sx,f3M:()=>Kt,g9A:()=>qd,h0i:()=>Xm,hGG:()=>ED,hij:()=>Km,iGM:()=>Cw,ifc:()=>Re,ip1:()=>Zw,jDz:()=>X0,kL8:()=>Zv,kcU:()=>N,lG2:()=>Jo,lqb:()=>Ml,lri:()=>rx,mCW:()=>Zu,n5z:()=>Wl,n_E:()=>Xv,oAB:()=>Eo,oxw:()=>$m,pB0:()=>l_,q3G:()=>Bo,q4F:()=>ep,qFp:()=>PD,qLn:()=>nu,qOj:()=>Up,qZA:()=>Rc,qzn:()=>td,rWj:()=>ox,rg0:()=>Ys,s9C:()=>hg,sBO:()=>aD,s_b:()=>eb,soG:()=>nb,tb:()=>r0,tp0:()=>Bs,uIk:()=>qp,vHH:()=>fe,vpe:()=>jl,wAp:()=>Si,xi3:()=>mw,xp6:()=>U_,ynx:()=>wd,z2F:()=>tf,z3N:()=>Kc,zSh:()=>qc,zs3:()=>kl});var l=w(7579),p=w(727),g=w(1135),te=w(9751),xe=w(6451),ae=w(9646),W=w(3099),_e=w(3900),Ce=w(1884);function oe(n){for(let i in n)if(n[i]===oe)return i;throw Error("Could not find renamed property on target object.")}function me(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function ze(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Fe=oe({__forward_ref__:oe});function at(n){return n.__forward_ref__=at,n.toString=function(){return ve(this())},n}function Ge(n){return Je(n)?n():n}function Je(n){return"function"==typeof n&&n.hasOwnProperty(Fe)&&n.__forward_ref__===at}function Ve(n){return n&&!!n.\u0275providers}const Et="https://g.co/ng/security#xss";class fe extends Error{constructor(i,s){super(function Ee(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function ue(n){return"string"==typeof n?n:null==n?"":String(n)}function Ue(n,i){throw new fe(-201,!1)}function Mt(n,i){null==n&&function Xe(n,i,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function Wt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ft(n){return Jt(n,yt)||Jt(n,He)}function qe(n){return null!==ft(n)}function Jt(n,i){return n.hasOwnProperty(i)?n[i]:null}function mn(n){return n&&(n.hasOwnProperty(he)||n.hasOwnProperty(pt))?n[he]:null}const yt=oe({\u0275prov:oe}),he=oe({\u0275inj:oe}),He=oe({ngInjectableDef:oe}),pt=oe({ngInjectorDef:oe});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Pt;function cn(n){const i=Pt;return Pt=n,i}function $n(n,i,s){const c=ft(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&ht.Optional?null:void 0!==i?i:void Ue(ve(n))}const xn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ot={},Zt="__NG_DI_FLAG__",Tn="ngTempTokenPath",yi=/\n/gm,en="__source";let ct;function We(n){const i=ct;return ct=n,i}function je(n,i=ht.Default){if(void 0===ct)throw new fe(-203,!1);return null===ct?$n(n,void 0,i):ct.get(n,i&ht.Optional?null:void 0,i)}function Ae(n,i=ht.Default){return(function Xt(){return Pt}()||je)(Ge(n),i)}function Kt(n,i=ht.Default){return Ae(n,Pe(i))}function Pe(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function le(n){const i=[];for(let s=0;s<n.length;s++){const c=Ge(n[s]);if(Array.isArray(c)){if(0===c.length)throw new fe(900,!1);let d,h=ht.Default;for(let x=0;x<c.length;x++){const T=c[x],F=U(T);"number"==typeof F?-1===F?d=T.token:h|=F:d=T}i.push(Ae(d,h))}else i.push(Ae(c))}return i}function j(n,i){return n[Zt]=i,n.prototype[Zt]=i,n}function U(n){return n[Zt]}function ce(n){return{toString:n}.toString()}var Te=(()=>((Te=Te||{})[Te.OnPush=0]="OnPush",Te[Te.Default=1]="Default",Te))(),Re=(()=>{return(n=Re||(Re={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Re;var n})();const Ne={},Q=[],De=oe({\u0275cmp:oe}),wt=oe({\u0275dir:oe}),jt=oe({\u0275pipe:oe}),zn=oe({\u0275mod:oe}),ei=oe({\u0275fac:oe}),kt=oe({__NG_ELEMENT_ID__:oe}),At=oe({__NG_ENV_ID__:oe});function wn(n,i,s){let c=n.length;for(;;){const d=n.indexOf(i,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const h=i.length;if(d+h===c||n.charCodeAt(d+h)<=32)return d}s=d+1}}function Kn(n,i,s){let c=0;for(;c<s.length;){const d=s[c];if("number"==typeof d){if(0!==d)break;c++;const h=s[c++],x=s[c++],T=s[c++];n.setAttribute(i,x,T,h)}else{const h=d,x=s[++c];Nn(h)?n.setProperty(i,h,x):n.setAttribute(i,h,x),c++}}return c}function An(n){return 3===n||4===n||6===n}function Nn(n){return 64===n.charCodeAt(0)}function ci(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let c=0;c<i.length;c++){const d=i[c];"number"==typeof d?s=d:0===s||Qi(n,s,d,null,-1===s||2===s?i[++c]:null)}}return n}function Qi(n,i,s,c,d){let h=0,x=n.length;if(-1===i)x=-1;else for(;h<n.length;){const T=n[h++];if("number"==typeof T){if(T===i){x=-1;break}if(T>i){x=h-1;break}}}for(;h<n.length;){const T=n[h];if("number"==typeof T)break;if(T===s){if(null===c)return void(null!==d&&(n[h+1]=d));if(c===n[h+1])return void(n[h+2]=d)}h++,null!==c&&h++,null!==d&&h++}-1!==x&&(n.splice(x,0,i),h=x+1),n.splice(h++,0,s),null!==c&&n.splice(h++,0,c),null!==d&&n.splice(h++,0,d)}const wi="ng-template";function br(n,i,s){let c=0,d=!0;for(;c<n.length;){let h=n[c++];if("string"==typeof h&&d){const x=n[c++];if(s&&"class"===h&&-1!==wn(x.toLowerCase(),i,0))return!0}else{if(1===h){for(;c<n.length&&"string"==typeof(h=n[c++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(d=!1)}}return!1}function Wr(n){return 4===n.type&&n.value!==wi}function fo(n,i,s){return i===(4!==n.type||s?n.value:wi)}function _s(n,i,s){let c=4;const d=n.attrs||[],h=function po(n){for(let i=0;i<n.length;i++)if(An(n[i]))return i;return n.length}(d);let x=!1;for(let T=0;T<i.length;T++){const F=i[T];if("number"!=typeof F){if(!x)if(4&c){if(c=2|1&c,""!==F&&!fo(n,F,s)||""===F&&1===i.length){if(pr(c))return!1;x=!0}}else{const J=8&c?F:i[++T];if(8&c&&null!==n.attrs){if(!br(n.attrs,J,s)){if(pr(c))return!1;x=!0}continue}const Ye=Br(8&c?"class":F,d,Wr(n),s);if(-1===Ye){if(pr(c))return!1;x=!0;continue}if(""!==J){let Ft;Ft=Ye>h?"":d[Ye+1].toLowerCase();const Qt=8&c?Ft:null;if(Qt&&-1!==wn(Qt,J,0)||2&c&&J!==Ft){if(pr(c))return!1;x=!0}}}}else{if(!x&&!pr(c)&&!pr(F))return!1;if(x&&pr(F))continue;x=!1,c=F|1&c}}return pr(c)||x}function pr(n){return 0==(1&n)}function Br(n,i,s,c){if(null===i)return-1;let d=0;if(c||!s){let h=!1;for(;d<i.length;){const x=i[d];if(x===n)return d;if(3===x||6===x)h=!0;else{if(1===x||2===x){let T=i[++d];for(;"string"==typeof T;)T=i[++d];continue}if(4===x)break;if(0===x){d+=4;continue}}d+=h?1:2}return-1}return function Ii(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===i)return s;s++}return-1}(i,n)}function Pr(n,i,s=!1){for(let c=0;c<i.length;c++)if(_s(n,i[c],s))return!0;return!1}function Po(n,i){e:for(let s=0;s<i.length;s++){const c=i[s];if(n.length===c.length){for(let d=0;d<n.length;d++)if(n[d]!==c[d])continue e;return!0}}return!1}function Zr(n,i){return n?":not("+i.trim()+")":i}function Ur(n){let i=n[0],s=1,c=2,d="",h=!1;for(;s<n.length;){let x=n[s];if("string"==typeof x)if(2&c){const T=n[++s];d+="["+x+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?d+="."+x:4&c&&(d+=" "+x);else""!==d&&!pr(x)&&(i+=Zr(h,d),d=""),c=x,h=h||!pr(c);s++}return""!==d&&(i+=Zr(h,d)),i}function hr(n){return ce(()=>{const i=Zo(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Te.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Re.Emulated,styles:n.styles||Q,_:null,schemas:n.schemas||null,tView:null,id:""};Ct(s);const c=n.dependencies;return s.directiveDefs=gt(c,!1),s.pipeDefs=gt(c,!0),s.id=function un(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const d of s)i=Math.imul(31,i)+d.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function cs(n){return ri(n)||tr(n)}function ls(n){return null!==n}function Eo(n){return ce(()=>({type:n.type,bootstrap:n.bootstrap||Q,declarations:n.declarations||Q,imports:n.imports||Q,exports:n.exports||Q,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yr(n,i){if(null==n)return Ne;const s={};for(const c in n)if(n.hasOwnProperty(c)){let d=n[c],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),s[d]=c,i&&(i[d]=h)}return s}function Jo(n){return ce(()=>{const i=Zo(n);return Ct(i),i})}function vo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ri(n){return n[De]||null}function tr(n){return n[wt]||null}function gi(n){return n[jt]||null}function oo(n){const i=ri(n)||tr(n)||gi(n);return null!==i&&i.standalone}function Mr(n,i){const s=n[zn]||null;if(!s&&!0===i)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return s}function Zo(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Q,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yr(n.inputs,i),outputs:yr(n.outputs)}}function Ct(n){n.features?.forEach(i=>i(n))}function gt(n,i){if(!n)return null;const s=i?gi:cs;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(ls)}const vn=0,hn=1,Rn=2,Zn=3,fi=4,Fr=5,wr=6,ar=7,$i=8,lo=9,Co=10,oi=11,Yo=12,Do=13,qr=14,Gi=15,bo=16,ds=17,Vo=18,es=19,vs=20,cr=21,nr=22,us=23,Io=24,ki=25,To=1,Qr=2,Xr=7,jo=8,hs=9,Sr=11;function Ki(n){return Array.isArray(n)&&"object"==typeof n[To]}function xr(n){return Array.isArray(n)&&!0===n[To]}function Jr(n){return 0!=(4&n.flags)}function kr(n){return n.componentOffset>-1}function Mo(n){return 1==(1&n.flags)}function Hi(n){return!!n.template}function uo(n){return 0!=(512&n[Rn])}function _t(n,i){return n.hasOwnProperty(ei)?n[ei]:null}let Oi=xn.WeakRef??class _i{constructor(i){this.ref=i}deref(){return this.ref}},Pi=0,Ri=null,Xi=!1;function vi(n){const i=Ri;return Ri=n,i}class Fo{constructor(){this.id=Pi++,this.ref=function mr(n){return new Oi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const c=s.producerNode.deref();if(void 0!==c&&s.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Xi;Xi=!0;try{for(const[s,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),d?.producers.delete(this.id))}}finally{Xi=i}}producerAccessed(){if(Xi)throw new Error("");if(null===Ri)return;let i=Ri.producers.get(this.id);void 0===i?(i={consumerNode:Ri.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ri.trackingVersion},Ri.producers.set(this.id,i),this.consumers.set(Ri.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Ri.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ri?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let ws=null;function Ys(n){const i=vi(null);try{return n()}finally{vi(i)}}const Ma=()=>{};class oa extends Fo{constructor(i,s,c){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=Ma,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=vi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ma,this.watch(this.registerOnCleanup)}finally{vi(i)}}cleanup(){this.cleanupFn()}}class qs{constructor(i,s,c){this.previousValue=i,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Qs(){return ma}function ma(n){return n.type.prototype.ngOnChanges&&(n.setInput=xa),xs}function xs(){const n=Sa(this),i=n?.current;if(i){const s=n.previous;if(s===Ne)n.previous=i;else for(let c in i)s[c]=i[c];n.current=null,this.ngOnChanges(i)}}function xa(n,i,s,c){const d=this.declaredInputs[s],h=Sa(n)||function ka(n,i){return n[zs]=i}(n,{previous:Ne,current:null}),x=h.current||(h.current={}),T=h.previous,F=T[d];x[d]=new qs(F&&F.currentValue,i,T===Ne),n[c]=i}Qs.ngInherit=!0;const zs="__ngSimpleChanges__";function Sa(n){return n[zs]||null}const ns=function(n,i,s){},Js="svg";function ir(n){for(;Array.isArray(n);)n=n[vn];return n}function ea(n,i){return ir(i[n])}function Ci(n,i){return ir(i[n.index])}function P(n,i){return n.data[i]}function ee(n,i){return n[i]}function B(n,i){const s=i[n];return Ki(s)?s:s[vn]}function it(n){return 128==(128&n[Rn])}function fn(n,i){return null==i?null:n[i]}function qn(n){n[ds]=0}function zi(n){1024&n[Rn]||(n[Rn]|=1024,bi(n,1))}function Di(n){1024&n[Rn]&&(n[Rn]&=-1025,bi(n,-1))}function bi(n,i){let s=n[Zn];if(null===s)return;s[Fr]+=i;let c=s;for(s=s[Zn];null!==s&&(1===i&&1===c[Fr]||-1===i&&0===c[Fr]);)s[Fr]+=i,c=s,s=s[Zn]}const jn={lFrame:no(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rs(){return jn.bindingsEnabled}function is(){return null!==jn.skipHydrationRootTNode}function En(){return jn.lFrame.lView}function er(){return jn.lFrame.tView}function wo(n){return jn.lFrame.contextLView=n,n[$i]}function rs(n){return jn.lFrame.contextLView=null,n}function jr(){let n=Aa();for(;null!==n&&64===n.type;)n=n.parent;return n}function Aa(){return jn.lFrame.currentTNode}function In(n,i){const s=jn.lFrame;s.currentTNode=n,s.isParent=i}function gr(){return jn.lFrame.isParent}function Cs(){jn.lFrame.isParent=!1}function R(){const n=jn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Me(){return jn.lFrame.bindingIndex++}function Ln(n,i){const s=jn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Bi(i)}function Bi(n){jn.lFrame.currentDirectiveIndex=n}function Ti(n){const i=jn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function ui(){return jn.lFrame.currentQueryIndex}function xi(n){jn.lFrame.currentQueryIndex=n}function Ar(n){const i=n[hn];return 2===i.type?i.declTNode:1===i.type?n[wr]:null}function ko(n,i,s){if(s&ht.SkipSelf){let d=i,h=n;for(;!(d=d.parent,null!==d||s&ht.Host||(d=Ar(h),null===d||(h=h[qr],10&d.type))););if(null===d)return!1;i=d,n=h}const c=jn.lFrame=ai();return c.currentTNode=i,c.lView=n,!0}function Hr(n){const i=ai(),s=n[hn];jn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function ai(){const n=jn.lFrame,i=null===n?null:n.child;return null===i?no(n):i}function no(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function sa(){const n=jn.lFrame;return jn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const dr=sa;function Qn(){const n=sa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mo(){return jn.lFrame.selectedIndex}function Tr(n){jn.lFrame.selectedIndex=n}function E(){const n=jn.lFrame;return P(n.tView,n.selectedIndex)}function O(){jn.lFrame.currentNamespace=Js}function N(){!function Z(){jn.lFrame.currentNamespace=null}()}let ye=!0;function xt(){return ye}function gn(n){ye=n}function Bn(n,i){for(let s=i.directiveStart,c=i.directiveEnd;s<c;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:T,ngAfterViewInit:F,ngAfterViewChecked:J,ngOnDestroy:we}=h;x&&(n.contentHooks??=[]).push(-s,x),T&&((n.contentHooks??=[]).push(s,T),(n.contentCheckHooks??=[]).push(s,T)),F&&(n.viewHooks??=[]).push(-s,F),J&&((n.viewHooks??=[]).push(s,J),(n.viewCheckHooks??=[]).push(s,J)),null!=we&&(n.destroyHooks??=[]).push(s,we)}}function Vi(n,i,s){ps(n,i,3,s)}function Ui(n,i,s,c){(3&n[Rn])===s&&ps(n,i,s,c)}function _a(n,i){let s=n[Rn];(3&s)===i&&(s&=4095,s+=1,n[Rn]=s)}function ps(n,i,s,c){const h=c??-1,x=i.length-1;let T=0;for(let F=void 0!==c?65535&n[ds]:0;F<x;F++)if("number"==typeof i[F+1]){if(T=i[F],null!=c&&T>=c)break}else i[F]<0&&(n[ds]+=65536),(T<h||-1==h)&&(Yt(n,s,i,F),n[ds]=(4294901760&n[ds])+F+2),F++}function zr(n,i){ns(4,n,i);const s=vi(null);try{i.call(n)}finally{vi(s),ns(5,n,i)}}function Yt(n,i,s,c){const d=s[c]<0,h=s[c+1],T=n[d?-s[c]:s[c]];d?n[Rn]>>12<n[ds]>>16&&(3&n[Rn])===i&&(n[Rn]+=4096,zr(T,h)):zr(T,h)}const $r=-1;class $o{constructor(i,s,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Ca(n){return n!==$r}function Ds(n){return 32767&n}function Oa(n,i){let s=function Gs(n){return n>>16}(n),c=i;for(;s>0;)c=c[qr],s--;return c}let Nc=!0;function Ao(n){const i=Nc;return Nc=n,i}const cl=255,os=5;let yc=0;const aa={};function dl(n,i){const s=hl(n,i);if(-1!==s)return s;const c=i[hn];c.firstCreatePass&&(n.injectorIndex=i.length,ul(c.data,n),ul(i,null),ul(c.blueprint,null));const d=Hl(n,i),h=n.injectorIndex;if(Ca(d)){const x=Ds(d),T=Oa(d,i),F=T[hn].data;for(let J=0;J<8;J++)i[h+J]=T[x+J]|F[x+J]}return i[h+8]=d,h}function ul(n,i){n.push(0,0,0,0,0,0,0,0,i)}function hl(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Hl(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,d=i;for(;null!==d;){if(c=gs(d),null===c)return $r;if(s++,d=d[qr],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return $r}function Ra(n,i,s){!function ll(n,i,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(kt)&&(c=s[kt]),null==c&&(c=s[kt]=yc++);const d=c&cl;i.data[n+(d>>os)]|=1<<d}(n,i,s)}function Ou(n,i,s){if(s&ht.Optional||void 0!==n)return n;Ue()}function wc(n,i,s,c){if(s&ht.Optional&&void 0===c&&(c=null),!(s&(ht.Self|ht.Host))){const d=n[lo],h=cn(void 0);try{return d?d.get(i,c,s&ht.Optional):$n(i,c,s&ht.Optional)}finally{cn(h)}}return Ou(c,0,s)}function zl(n,i,s,c=ht.Default,d){if(null!==n){if(2048&i[Rn]&&!(c&ht.Self)){const x=function Kl(n,i,s,c,d){let h=n,x=i;for(;null!==h&&null!==x&&2048&x[Rn]&&!(512&x[Rn]);){const T=$l(h,x,s,c|ht.Self,aa);if(T!==aa)return T;let F=h.parent;if(!F){const J=x[vs];if(J){const we=J.get(s,aa,c);if(we!==aa)return we}F=gs(x),x=x[qr]}h=F}return d}(n,i,s,c,aa);if(x!==aa)return x}const h=$l(n,i,s,c,aa);if(h!==aa)return h}return wc(i,s,c,d)}function $l(n,i,s,c,d){const h=function Ru(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(kt)?n[kt]:void 0;return"number"==typeof i?i>=0?i&cl:Od:i}(s);if("function"==typeof h){if(!ko(i,n,c))return c&ht.Host?Ou(d,0,c):wc(i,s,c,d);try{const x=h(c);if(null!=x||c&ht.Optional)return x;Ue()}finally{dr()}}else if("number"==typeof h){let x=null,T=hl(n,i),F=$r,J=c&ht.Host?i[Gi][wr]:null;for((-1===T||c&ht.SkipSelf)&&(F=-1===T?Hl(n,i):i[T+8],F!==$r&&fl(c,!1)?(x=i[hn],T=Ds(F),i=Oa(F,i)):T=-1);-1!==T;){const we=i[hn];if(Gl(h,T,we.data)){const Ye=Bh(T,i,s,x,c,J);if(Ye!==aa)return Ye}F=i[T+8],F!==$r&&fl(c,i[hn].data[T+8]===J)&&Gl(h,T,i)?(x=we,T=Ds(F),i=Oa(F,i)):T=-1}}return d}function Bh(n,i,s,c,d,h){const x=i[hn],T=x.data[n+8],we=ml(T,x,s,null==c?kr(T)&&Nc:c!=x&&0!=(3&T.type),d&ht.Host&&h===T);return null!==we?Va(i,x,we,T):aa}function ml(n,i,s,c,d){const h=n.providerIndexes,x=i.data,T=1048575&h,F=n.directiveStart,we=h>>20,Ft=d?T+we:n.directiveEnd;for(let Qt=c?T:T+we;Qt<Ft;Qt++){const Cn=x[Qt];if(Qt<F&&s===Cn||Qt>=F&&Cn.type===s)return Qt}if(d){const Qt=x[F];if(Qt&&Hi(Qt)&&Qt.type===s)return F}return null}function Va(n,i,s,c){let d=n[s];const h=i.data;if(function rc(n){return n instanceof $o}(d)){const x=d;x.resolving&&function Le(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new fe(-200,`Circular dependency in DI detected for ${n}${s}`)}(function pe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ue(n)}(h[s]));const T=Ao(x.canSeeViewProviders);x.resolving=!0;const F=x.injectImpl?cn(x.injectImpl):null;ko(n,c,ht.Default);try{d=n[s]=x.factory(void 0,h,n,c),i.firstCreatePass&&s>=c.directiveStart&&function ii(n,i,s){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:h}=i.type.prototype;if(c){const x=ma(i);(s.preOrderHooks??=[]).push(n,x),(s.preOrderCheckHooks??=[]).push(n,x)}d&&(s.preOrderHooks??=[]).push(0-n,d),h&&((s.preOrderHooks??=[]).push(n,h),(s.preOrderCheckHooks??=[]).push(n,h))}(s,h[s],i)}finally{null!==F&&cn(F),Ao(T),x.resolving=!1,dr()}}return d}function Gl(n,i,s){return!!(s[i+(n>>os)]&1<<n)}function fl(n,i){return!(n&ht.Self||n&ht.Host&&i)}class ja{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,c){return zl(this._tNode,this._lView,i,Pe(c),s)}}function Od(){return new ja(jr(),En())}function Wl(n){return ce(()=>{const i=n.prototype.constructor,s=i[ei]||Lc(i),c=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==c;){const h=d[ei]||Lc(d);if(h&&h!==s)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Lc(n){return Je(n)?()=>{const i=Lc(Ge(n));return i&&i()}:_t(n)}function gs(n){const i=n[hn],s=i.type;return 2===s?i.declTNode:1===s?n[wr]:null}function Bc(n){return function Lh(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const c=s.length;let d=0;for(;d<c;){const h=s[d];if(An(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<c&&"string"==typeof s[d];)d++;else{if(h===i)return s[d+1];d+=2}}}return null}(jr(),n)}const Pa="__parameters__";function vr(n,i,s){return ce(()=>{const c=function ss(n){return function(...s){if(n){const c=n(...s);for(const d in c)this[d]=c[d]}}}(i);function d(...h){if(this instanceof d)return c.apply(this,h),this;const x=new d(...h);return T.annotation=x,T;function T(F,J,we){const Ye=F.hasOwnProperty(Pa)?F[Pa]:Object.defineProperty(F,Pa,{value:[]})[Pa];for(;Ye.length<=we;)Ye.push(null);return(Ye[we]=Ye[we]||[]).push(x),F}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}function $a(n,i){n.forEach(s=>Array.isArray(s)?$a(s,i):i(s))}function Ls(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function na(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Ga(n,i){const s=[];for(let c=0;c<n;c++)s.push(i);return s}function M(n,i,s){let c=re(n,i);return c>=0?n[1|c]=s:(c=~c,function Dc(n,i,s,c){let d=n.length;if(d==i)n.push(s,c);else if(1===d)n.push(c,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=s,n[i+1]=c}}(n,c,i,s)),c}function L(n,i){const s=re(n,i);if(s>=0)return n[1|s]}function re(n,i){return function Dt(n,i,s){let c=0,d=n.length>>s;for(;d!==c;){const h=c+(d-c>>1),x=n[h<<s];if(i===x)return h<<s;x>i?d=h:c=h+1}return~(d<<s)}(n,i,1)}const Wa=j(vr("Optional"),8),Bs=j(vr("SkipSelf"),4);function jc(n){return 128==(128&n.flags)}var Ia=(()=>((Ia=Ia||{})[Ia.Important=1]="Important",Ia[Ia.DashCase=2]="DashCase",Ia))();const Lg=/^>|^->|<!--|-->|--!>|<!-$/g,Bg=/(<|>)/,ab="\u200b$1\u200b";const af=new Map;let Ta=0;const Yi="__ngContext__";function da(n,i){Ki(i)?(n[Yi]=i[es],function Bu(n){af.set(n[es],n)}(i)):n[Yi]=i}let Hc;function zh(n,i){return Hc(n,i)}function jd(n){const i=n[Zn];return xr(i)?i[Zn]:i}function hf(n){return Qo(n[Yo])}function mf(n){return Qo(n[fi])}function Qo(n){for(;null!==n&&!xr(n);)n=n[fi];return n}function zc(n,i,s,c,d){if(null!=c){let h,x=!1;xr(c)?h=c:Ki(c)&&(x=!0,c=c[vn]);const T=ir(c);0===n&&null!==s?null==d?Or(i,s,T):Go(i,s,T,d||null,!0):1===n&&null!==s?Go(i,s,T,d||null,!0):2===n?function $u(n,i,s){const c=Jl(n,i);c&&function Qg(n,i,s,c){n.removeChild(i,s,c)}(n,c,i,s)}(i,T,x):3===n&&i.destroyNode(T),null!=h&&function db(n,i,s,c,d){const h=s[Xr];h!==ir(s)&&zc(i,n,c,h,d);for(let T=Sr;T<s.length;T++){const F=s[T];$d(F[hn],F,n,i,c,h)}}(i,n,h,s,d)}}function pf(n,i){return n.createComment(function Mc(n){return n.replace(Lg,i=>i.replace(Bg,ab))}(i))}function yl(n,i,s){return n.createElement(i,s)}function gf(n,i){const s=n[hs],c=s.indexOf(i);Di(i),s.splice(c,1)}function wl(n,i){if(n.length<=Sr)return;const s=Sr+i,c=n[s];if(c){const d=c[bo];null!==d&&d!==n&&gf(d,c),i>0&&(n[s-1][fi]=c[fi]);const h=na(n,Sr+i);!function lb(n,i){$d(n,i,i[oi],2,null,null),i[vn]=null,i[wr]=null}(c[hn],c);const x=h[Vo];null!==x&&x.detachView(h[hn]),c[Zn]=null,c[fi]=null,c[Rn]&=-129}return c}function $h(n,i){if(!(256&i[Rn])){const s=i[oi];i[us]?.destroy(),i[Io]?.destroy(),s.destroyNode&&$d(n,i,s,3,null,null),function $c(n){let i=n[Yo];if(!i)return ju(n[hn],n);for(;i;){let s=null;if(Ki(i))s=i[Yo];else{const c=i[Sr];c&&(s=c)}if(!s){for(;i&&!i[fi]&&i!==n;)Ki(i)&&ju(i[hn],i),i=i[Zn];null===i&&(i=n),Ki(i)&&ju(i[hn],i),s=i&&i[fi]}i=s}}(i)}}function ju(n,i){if(!(256&i[Rn])){i[Rn]&=-129,i[Rn]|=256,function vf(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const d=i[s[c]];if(!(d instanceof $o)){const h=s[c+1];if(Array.isArray(h))for(let x=0;x<h.length;x+=2){const T=d[h[x]],F=h[x+1];ns(4,T,F);try{F.call(T)}finally{ns(5,T,F)}}else{ns(4,d,h);try{h.call(d)}finally{ns(5,d,h)}}}}}(n,i),function _f(n,i){const s=n.cleanup,c=i[ar];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const x=s[h+3];x>=0?c[x]():c[-x].unsubscribe(),h+=2}else s[h].call(c[s[h+1]]);null!==c&&(i[ar]=null);const d=i[cr];if(null!==d){i[cr]=null;for(let h=0;h<d.length;h++)(0,d[h])()}}(n,i),1===i[hn].type&&i[oi].destroy();const s=i[bo];if(null!==s&&xr(i[Zn])){s!==i[Zn]&&gf(s,i);const c=i[Vo];null!==c&&c.detachView(n)}!function Sc(n){af.delete(n[es])}(i)}}function bf(n,i,s){return function qg(n,i,s){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return s[vn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:h}=n.data[c.directiveStart+d];if(h===Re.None||h===Re.Emulated)return null}return Ci(c,s)}}(n,i.parent,s)}function Go(n,i,s,c,d){n.insertBefore(i,s,c,d)}function Or(n,i,s){n.appendChild(i,s)}function yf(n,i,s,c,d){null!==c?Go(n,i,s,c,d):Or(n,i,s)}function Jl(n,i){return n.parentNode(i)}function e_(n,i,s){return xf(n,i,s)}let Hu,Gu,Wu,Ku,xf=function wf(n,i,s){return 40&n.type?Ci(n,s):null};function xl(n,i,s,c){const d=bf(n,c,i),h=i[oi],T=e_(c.parent||i[wr],c,i);if(null!=d)if(Array.isArray(s))for(let F=0;F<s.length;F++)yf(h,d,s[F],T,!1);else yf(h,d,s,T,!1);void 0!==Hu&&Hu(h,c,i,s,d)}function Gc(n,i){if(null!==i){const s=i.type;if(3&s)return Ci(i,n);if(4&s)return Gh(-1,n[i.index]);if(8&s){const c=i.child;if(null!==c)return Gc(n,c);{const d=n[i.index];return xr(d)?Gh(-1,d):ir(d)}}if(32&s)return zh(i,n)()||ir(n[i.index]);{const c=zu(n,i);return null!==c?Array.isArray(c)?c[0]:Gc(jd(n[Gi]),c):Gc(n,i.next)}}return null}function zu(n,i){return null!==i?n[Gi][wr].projection[i.projection]:null}function Gh(n,i){const s=Sr+n+1;if(s<i.length){const c=i[s],d=c[hn].firstChild;if(null!==d)return Gc(c,d)}return i[Xr]}function Cf(n,i,s,c,d,h,x){for(;null!=s;){const T=c[s.index],F=s.type;if(x&&0===i&&(T&&da(ir(T),c),s.flags|=2),32!=(32&s.flags))if(8&F)Cf(n,i,s.child,c,d,h,!1),zc(i,n,d,T,h);else if(32&F){const J=zh(s,c);let we;for(;we=J();)zc(i,n,d,we,h);zc(i,n,d,T,h)}else 16&F?n_(n,i,c,s,d,h):zc(i,n,d,T,h);s=x?s.projectionNext:s.next}}function $d(n,i,s,c,d,h){Cf(s,c,n.firstChild,i,d,h,!1)}function n_(n,i,s,c,d,h){const x=s[Gi],F=x[wr].projection[c.projection];if(Array.isArray(F))for(let J=0;J<F.length;J++)zc(i,n,d,F[J],h);else{let J=F;const we=x[Zn];jc(c)&&(J.flags|=128),Cf(n,i,J,we,d,h,!0)}}function Wh(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function ed(n,i,s){const{mergedAttrs:c,classes:d,styles:h}=s;null!==c&&Kn(n,i,c),null!==d&&Wh(n,i,d),null!==h&&function hb(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function Wo(n){return function Df(){if(void 0===Gu&&(Gu=null,xn.trustedTypes))try{Gu=xn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gu}()?.createHTML(n)||n}function r_(n){Wu=n}function s_(n){return function Zh(){if(void 0===Ku&&(Ku=null,xn.trustedTypes))try{Ku=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ku}()?.createScriptURL(n)||n}class ac{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Et})`}}class Mf extends ac{getTypeName(){return"HTML"}}class mb extends ac{getTypeName(){return"Style"}}class a_ extends ac{getTypeName(){return"Script"}}class Sf extends ac{getTypeName(){return"URL"}}class c_ extends ac{getTypeName(){return"ResourceURL"}}function Kc(n){return n instanceof ac?n.changingThisBreaksApplicationSecurity:n}function td(n,i){const s=function fb(n){return n instanceof ac&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Et})`)}return s===i}function pb(n){return new Mf(n)}function gb(n){return new mb(n)}function El(n){return new a_(n)}function Gd(n){return new Sf(n)}function l_(n){return new c_(n)}class u_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Wo(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Zc{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Wo(i),s}}const _b=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zu(n){return(n=String(n)).match(_b)?n:"unsafe:"+n}function Za(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function cc(...n){const i={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(i[c]=!0);return i}const Cl=Za("area,br,col,hr,img,wbr"),Dl=Za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wd=Za("rp,rt"),Yh=cc(Cl,cc(Dl,Za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cc(Wd,Za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cc(Wd,Dl)),qh=Za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kf=cc(qh,Za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=Za("script,style,template");class Yu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Yh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=i.attributes;for(let d=0;d<c.length;d++){const h=c.item(d),x=h.name,T=x.toLowerCase();if(!kf.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let F=h.value;qh[T]&&(F=Zu(F)),this.buf.push(" ",x,'="',Af(F),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Yh.hasOwnProperty(s)&&!Cl.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Af(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const nd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yb=/([^\#-~ |!])/g;function Af(n){return n.replace(/&/g,"&amp;").replace(nd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(yb,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xh;function p_(n,i){let s=null;try{Xh=Xh||function d_(n){const i=new Zc(n);return function h_(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch{return!1}}()?new u_(i):i}(n);let c=i?String(i):"";s=Xh.getInertBodyElement(c);let d=5,h=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=h,h=s.innerHTML,s=Xh.getInertBodyElement(c)}while(c!==h);return Wo((new Yu).sanitizeChildren(Of(s)||s))}finally{if(s){const c=Of(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Of(n){return"content"in n&&function qu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Bo=(()=>((Bo=Bo||{})[Bo.NONE=0]="NONE",Bo[Bo.HTML=1]="HTML",Bo[Bo.STYLE=2]="STYLE",Bo[Bo.SCRIPT=3]="SCRIPT",Bo[Bo.URL=4]="URL",Bo[Bo.RESOURCE_URL=5]="RESOURCE_URL",Bo))();function Rf(n){const i=Tl();return i?i.sanitize(Bo.URL,n)||"":td(n,"URL")?Kc(n):Zu(ue(n))}function Pf(n){const i=Tl();if(i)return s_(i.sanitize(Bo.RESOURCE_URL,n)||"");if(td(n,"ResourceURL"))return s_(Kc(n));throw new fe(904,!1)}function Jh(n,i,s){return function __(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pf:Rf}(i,s)(n)}function Tl(){const n=En();return n&&n[Co].sanitizer}class co{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Wt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const id=new co("ENVIRONMENT_INITIALIZER"),Qu=new co("INJECTOR",-1),b_=new co("INJECTOR_DEF_TYPES");class Lf{get(i,s=Ot){if(s===Ot){const c=new Error(`NullInjectorError: No provider for ${ve(i)}!`);throw c.name="NullInjectorError",c}return s}}function rd(n){return{\u0275providers:n}}function em(...n){return{\u0275providers:Kd(0,n),\u0275fromNgModule:!0}}function Kd(n,...i){const s=[],c=new Set;let d;return $a(i,h=>{const x=h;tm(x,s,[],c)&&(d||=[],d.push(x))}),void 0!==d&&Bf(d,s),s}function Bf(n,i){for(let s=0;s<n.length;s++){const{providers:d}=n[s];nm(d,h=>{i.push(h)})}}function tm(n,i,s,c){if(!(n=Ge(n)))return!1;let d=null,h=mn(n);const x=!h&&ri(n);if(h||x){if(x&&!x.standalone)return!1;d=n}else{const F=n.ngModule;if(h=mn(F),!h)return!1;d=F}const T=c.has(d);if(x){if(T)return!1;if(c.add(d),x.dependencies){const F="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const J of F)tm(J,i,s,c)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let J;c.add(d);try{$a(h.imports,we=>{tm(we,i,s,c)&&(J||=[],J.push(we))})}finally{}void 0!==J&&Bf(J,i)}if(!T){const J=_t(d)||(()=>new d);i.push({provide:d,useFactory:J,deps:Q},{provide:b_,useValue:d,multi:!0},{provide:id,useValue:()=>Ae(d),multi:!0})}const F=h.providers;null==F||T||nm(F,we=>{i.push(we)})}}return d!==n&&void 0!==n.providers}function nm(n,i){for(let s of n)Ve(s)&&(s=s.\u0275providers),Array.isArray(s)?nm(s,i):i(s)}const im=oe({provide:String,useValue:oe});function Zd(n){return null!==n&&"object"==typeof n&&im in n}function Ya(n){return"function"==typeof n}const qc=new co("Set Injector scope."),rm={},Yd={};let om;function lc(){return void 0===om&&(om=new Lf),om}class Ml{}class Vf extends Ml{get destroyed(){return this._destroyed}constructor(i,s,c,d){super(),this.parent=s,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jf(i,x=>this.processProvider(x)),this.records.set(Qu,Qc(void 0,this)),d.has("environment")&&this.records.set(Ml,Qc(void 0,this));const h=this.records.get(qc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(b_.multi,Q,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=We(this),c=cn(void 0);try{return i()}finally{We(s),cn(c)}}get(i,s=Ot,c=ht.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(At))return i[At](this);c=Pe(c);const d=We(this),h=cn(void 0);try{if(!(c&ht.SkipSelf)){let T=this.records.get(i);if(void 0===T){const F=function C_(n){return"function"==typeof n||"object"==typeof n&&n instanceof co}(i)&&ft(i);T=F&&this.injectableDefInScope(F)?Qc(sm(i),rm):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(c&ht.Self?lc():this.parent).get(i,s=c&ht.Optional&&s===Ot?null:s)}catch(x){if("NullInjectorError"===x.name){if((x[Tn]=x[Tn]||[]).unshift(ve(i)),d)throw x;return function H(n,i,s,c){const d=n[Tn];throw i[en]&&d.unshift(i[en]),n.message=function de(n,i,s,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=ve(i);if(Array.isArray(i))d=i.map(ve).join(" -> ");else if("object"==typeof i){let h=[];for(let x in i)if(i.hasOwnProperty(x)){let T=i[x];h.push(x+":"+("string"==typeof T?JSON.stringify(T):ve(T)))}d=`{${h.join(", ")}}`}return`${s}${c?"("+c+")":""}[${d}]: ${n.replace(yi,"\n  ")}`}("\n"+n.message,d,s,c),n.ngTokenPath=d,n[Tn]=null,n}(x,i,"R3InjectorError",this.source)}throw x}finally{cn(h),We(d)}}resolveInjectorInitializers(){const i=We(this),s=cn(void 0);try{const c=this.get(id.multi,Q,ht.Self);for(const d of c)d()}finally{We(i),cn(s)}}toString(){const i=[],s=this.records;for(const c of s.keys())i.push(ve(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(i){let s=Ya(i=Ge(i))?i:Ge(i&&i.provide);const c=function w_(n){return Zd(n)?Qc(void 0,n.useValue):Qc(x_(n),rm)}(i);if(Ya(i)||!0!==i.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Qc(void 0,rm,!0),d.factory=()=>le(d.multi),this.records.set(s,d)),s=i,d.multi.push(i)}this.records.set(s,c)}hydrate(i,s){return s.value===rm&&(s.value=Yd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cb(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ge(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function sm(n){const i=ft(n),s=null!==i?i.factory:_t(n);if(null!==s)return s;if(n instanceof co)throw new fe(204,!1);if(n instanceof Function)return function Eb(n){const i=n.length;if(i>0)throw Ga(i,"?"),new fe(204,!1);const s=function yn(n){return n&&(n[yt]||n[He])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new fe(204,!1)}function x_(n,i,s){let c;if(Ya(n)){const d=Ge(n);return _t(d)||sm(d)}if(Zd(n))c=()=>Ge(n.useValue);else if(function Yc(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...le(n.deps||[]));else if(function Uf(n){return!(!n||!n.useExisting)}(n))c=()=>Ae(Ge(n.useExisting));else{const d=Ge(n&&(n.useClass||n.provide));if(!function E_(n){return!!n.deps}(n))return _t(d)||sm(d);c=()=>new d(...le(n.deps))}return c}function Qc(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function jf(n,i){for(const s of n)Array.isArray(s)?jf(s,i):s&&Ve(s)?jf(s.\u0275providers,i):i(s)}const Hf=new co("AppId",{providedIn:"root",factory:()=>od}),od="ng",qd=new co("Platform Initializer"),am=new co("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ib=new co("AnimationModuleType"),D_=new co("CSP nonce",{providedIn:"root",factory:()=>function Wc(){if(void 0!==Wu)return Wu;if(typeof document<"u")return document;throw new fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lm=(n,i)=>null;function Kf(n,i){return lm(n,i)}class M_{}class Qf{}class Rb{resolveComponentFactory(i){throw function S_(n){const i=Error(`No component factory found for ${ve(n)}.`);return i.ngComponent=n,i}(i)}}let ld=(()=>{class n{}return n.NULL=new Rb,n})();function O_(){return dd(jr(),En())}function dd(n,i){return new ud(Ci(n,i))}let ud=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=O_,n})();function um(n){return n instanceof ud?n.nativeElement:n}class eu{}let hm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Xf(){const n=En(),s=B(jr().index,n);return(Ki(s)?s:n)[oi]}(),n})(),Jf=(()=>{class n{}return n.\u0275prov=Wt({token:n,providedIn:"root",factory:()=>null}),n})();class mm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ep=new mm("16.0.5"),tp={};function tu(n){for(;n;){n[Rn]|=64;const i=jd(n);if(uo(n)&&!i)return n;n=i}return null}function np(n){return n.ngOriginalError}class nu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&np(i);for(;s&&np(s);)s=np(s);return s||null}}const ip=new co("",{providedIn:"root",factory:()=>!1});function dc(n){return n instanceof Function?n():n}class _m extends Fo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){tu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,c){const d=vi(this);this.trackingVersion++;try{i(s,c)}finally{vi(d)}}destroy(){this.trackingVersion++}}let lh=null;function vm(){return lh??=new _m,lh}function bm(n,i){return n[i]??vm()}function Xc(n,i){const s=vm();s.hasReadASignal&&(n[i]=lh,s.lView=n,lh=new _m)}const Zi={};function U_(n){ym(er(),En(),mo()+n,!1)}function ym(n,i,s,c){if(!c)if(3==(3&i[Rn])){const h=n.preOrderCheckHooks;null!==h&&Vi(i,h,s)}else{const h=n.preOrderHooks;null!==h&&Ui(i,h,0,s)}Tr(s)}function cp(n,i=null,s=null,c){const d=lp(n,i,s,c);return d.resolveInjectorInitializers(),d}function lp(n,i=null,s=null,c,d=new Set){const h=[s||Q,em(n)];return c=c||("object"==typeof n?void 0:ve(n)),new Vf(h,i||lc(),c||null,d)}let kl=(()=>{class n{static create(s,c){if(Array.isArray(s))return cp({name:""},c,s,"");{const d=s.name??"";return cp({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=Ot,n.NULL=new Lf,n.\u0275prov=Wt({token:n,providedIn:"any",factory:()=>Ae(Qu)}),n.__NG_ELEMENT_ID__=-1,n})();function Al(n,i=ht.Default){const s=En();return null===s?Ae(n,i):zl(jr(),s,Ge(n),i)}function H_(){throw new Error("invalid")}function Em(n,i,s,c,d,h,x,T,F,J,we){const Ye=i.blueprint.slice();return Ye[vn]=d,Ye[Rn]=140|c,(null!==J||n&&2048&n[Rn])&&(Ye[Rn]|=2048),qn(Ye),Ye[Zn]=Ye[qr]=n,Ye[$i]=s,Ye[Co]=x||n&&n[Co],Ye[oi]=T||n&&n[oi],Ye[lo]=F||n&&n[lo]||null,Ye[wr]=h,Ye[es]=function Ug(){return Ta++}(),Ye[nr]=we,Ye[vs]=J,Ye[Gi]=2==i.type?n[Gi]:Ye,Ye}function Ol(n,i,s,c,d){let h=n.data[i];if(null===h)h=function up(n,i,s,c,d){const h=Aa(),x=gr(),F=n.data[i]=function pp(n,i,s,c,d,h){let x=i?i.injectorIndex:-1,T=0;return is()&&(T|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?h:h&&h.parent,s,i,c,d);return null===n.firstChild&&(n.firstChild=F),null!==h&&(x?null==h.child&&null!==F.parent&&(h.child=F):null===h.next&&(h.next=F,F.prev=h)),F}(n,i,s,c,d),function nn(){return jn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=c,h.attrs=d;const x=function ic(){const n=jn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===x?-1:x.injectorIndex}return In(h,!0),h}function md(n,i,s,c){if(0===s)return-1;const d=i.length;for(let h=0;h<s;h++)i.push(c),n.blueprint.push(c),n.data.push(null);return d}function hp(n,i,s,c,d){const h=bm(i,us),x=mo(),T=2&c;try{if(Tr(-1),T&&i.length>ki&&ym(n,i,ki,!1),ns(T?2:0,d),T)h.runInContext(s,c,d);else{const J=vi(null);try{s(c,d)}finally{vi(J)}}}finally{T&&null===i[us]&&Xc(i,us),Tr(x),ns(T?3:1,d)}}function dh(n,i,s){if(Jr(i)){const c=vi(null);try{const h=i.directiveEnd;for(let x=i.directiveStart;x<h;x++){const T=n.data[x];T.contentQueries&&T.contentQueries(1,s[x],x)}}finally{vi(c)}}}function uh(n,i,s){Rs()&&(function W_(n,i,s,c){const d=s.directiveStart,h=s.directiveEnd;kr(s)&&function zb(n,i,s){const c=Ci(i,n),x=au(n,Em(n,fd(s),null,s.onPush?64:16,c,i,null,n[Co].rendererFactory.createRenderer(c,s),null,null,null));n[i.index]=x}(i,s,n.data[d+s.componentOffset]),n.firstCreatePass||dl(s,i),da(c,i);const x=s.initialInputs;for(let T=d;T<h;T++){const F=n.data[T],J=Va(i,n,T,s);da(J,i),null!==x&&Dp(0,T-d,J,F,0,x),Hi(F)&&(B(s.index,i)[$i]=Va(i,n,T,s))}}(n,i,s,Ci(s,i)),64==(64&s.flags)&&bp(n,i,s))}function hh(n,i,s=Ci){const c=i.localNames;if(null!==c){let d=i.index+1;for(let h=0;h<c.length;h+=2){const x=c[h+1],T=-1===x?s(i,n):n[x];n[d++]=T}}}function fd(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Ac(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function Ac(n,i,s,c,d,h,x,T,F,J,we){const Ye=ki+c,Ft=Ye+d,Qt=function mp(n,i){const s=[];for(let c=0;c<i;c++)s.push(c<n?null:Zi);return s}(Ye,Ft),Cn="function"==typeof J?J():J;return Qt[hn]={type:n,blueprint:Qt,template:s,queries:null,viewQuery:T,declTNode:i,data:Qt.slice().fill(null,Ye),bindingStartIndex:Ye,expandoStartIndex:Ft,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:F,consts:Cn,incompleteFirstPass:!1,ssrId:we}}let fp=n=>null;function Cm(n,i,s,c){for(let d in n)if(n.hasOwnProperty(d)){s=null===s?{}:s;const h=n[d];null===c?Dm(s,i,d,h):c.hasOwnProperty(d)&&Dm(s,i,c[d],h)}return s}function Dm(n,i,s,c){n.hasOwnProperty(s)?n[s].push(i,c):n[s]=[i,c]}function La(n,i,s,c,d,h,x,T){const F=Ci(i,s);let we,J=i.inputs;!T&&null!=J&&(we=J[c])?(mh(n,s,we,c,d),kr(i)&&function _p(n,i){const s=B(i,n);16&s[Rn]||(s[Rn]|=64)}(s,i.index)):3&i.type&&(c=function Ub(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),d=null!=x?x(d,i.value||"",c):d,h.setProperty(F,c,d))}function Im(n,i,s,c){if(Rs()){const d=null===c?null:{"":-1},h=function jb(n,i){const s=n.directiveRegistry;let c=null,d=null;if(s)for(let h=0;h<s.length;h++){const x=s[h];if(Pr(i,x.selectors,!1))if(c||(c=[]),Hi(x))if(null!==x.findHostDirectiveDefs){const T=[];d=d||new Map,x.findHostDirectiveDefs(x,T,d),c.unshift(...T,x),yp(n,i,T.length)}else c.unshift(x),yp(n,i,0);else d=d||new Map,x.findHostDirectiveDefs?.(x,c,d),c.push(x)}return null===c?null:[c,d]}(n,s);let x,T;null===h?x=T=null:[x,T]=h,null!==x&&z_(n,i,s,x,d,T),d&&function Hb(n,i,s){if(i){const c=n.localNames=[];for(let d=0;d<i.length;d+=2){const h=s[i[d+1]];if(null==h)throw new fe(-301,!1);c.push(i[d],h)}}}(s,c,d)}s.mergedAttrs=ci(s.mergedAttrs,s.attrs)}function z_(n,i,s,c,d,h){for(let J=0;J<c.length;J++)Ra(dl(s,i),n,c[J].type);!function xp(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,c.length);for(let J=0;J<c.length;J++){const we=c[J];we.providersResolver&&we.providersResolver(we)}let x=!1,T=!1,F=md(n,i,c.length,null);for(let J=0;J<c.length;J++){const we=c[J];s.mergedAttrs=ci(s.mergedAttrs,we.hostAttrs),Ep(n,s,i,F,we),wp(F,we,d),null!==we.contentQueries&&(s.flags|=4),(null!==we.hostBindings||null!==we.hostAttrs||0!==we.hostVars)&&(s.flags|=64);const Ye=we.type.prototype;!x&&(Ye.ngOnChanges||Ye.ngOnInit||Ye.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),x=!0),!T&&(Ye.ngOnChanges||Ye.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),T=!0),F++}!function gp(n,i,s){const d=i.directiveEnd,h=n.data,x=i.attrs,T=[];let F=null,J=null;for(let we=i.directiveStart;we<d;we++){const Ye=h[we],Ft=s?s.get(Ye):null,Cn=Ft?Ft.outputs:null;F=Cm(Ye.inputs,we,F,Ft?Ft.inputs:null),J=Cm(Ye.outputs,we,J,Cn);const On=null===F||null===x||Wr(i)?null:Tp(F,we,x);T.push(On)}null!==F&&(F.hasOwnProperty("class")&&(i.flags|=8),F.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=T,i.inputs=F,i.outputs=J}(n,s,h)}function bp(n,i,s){const c=s.directiveStart,d=s.directiveEnd,h=s.index,x=function Yn(){return jn.lFrame.currentDirectiveIndex}();try{Tr(h);for(let T=c;T<d;T++){const F=n.data[T],J=i[T];Bi(T),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Vb(F,J)}}finally{Tr(-1),Bi(x)}}function Vb(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function yp(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function wp(n,i,s){if(s){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)s[i.exportAs[c]]=n;Hi(i)&&(s[""]=n)}}function Ep(n,i,s,c,d){n.data[c]=d;const h=d.factory||(d.factory=_t(d.type)),x=new $o(h,Hi(d),Al);n.blueprint[c]=x,s[c]=x,function $_(n,i,s,c,d){const h=d.hostBindings;if(h){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const T=~i.index;(function G_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(x)!=T&&x.push(T),x.push(s,c,h)}}(n,i,c,md(n,s,d.hostVars,Zi),d)}function qa(n,i,s,c,d,h){const x=Ci(n,i);!function Cp(n,i,s,c,d,h,x){if(null==h)n.removeAttribute(i,d,s);else{const T=null==x?ue(h):x(h,c||"",d);n.setAttribute(i,d,T,s)}}(i[oi],x,h,n.value,s,c,d)}function Dp(n,i,s,c,d,h){const x=h[i];if(null!==x)for(let T=0;T<x.length;)Ip(c,s,x[T++],x[T++],x[T++])}function Ip(n,i,s,c,d){const h=vi(null);try{null!==n.setInput?n.setInput(i,d,s,c):i[c]=d}finally{vi(h)}}function Tp(n,i,s){let c=null,d=0;for(;d<s.length;){const h=s[d];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===c&&(c=[]);const x=n[h];for(let T=0;T<x.length;T+=2)if(x[T]===i){c.push(h,x[T+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Mp(n,i,s,c){return[n,!0,!1,i,null,0,c,s,null,null,null]}function K_(n,i){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const h=s[c+1];if(-1!==h){const x=n.data[h];xi(s[c]),x.contentQueries(2,i[h],h)}}}function au(n,i){return n[Yo]?n[Do][fi]=i:n[Yo]=i,n[Do]=i,i}function Sp(n,i,s){xi(0);const c=vi(null);try{i(n,s)}finally{vi(c)}}function Y_(n){return n[ar]||(n[ar]=[])}function Tm(n){return n.cleanup||(n.cleanup=[])}function q_(n,i,s){return(null===n||Hi(n))&&(s=function yo(n){for(;Array.isArray(n);){if("object"==typeof n[To])return n;n=n[vn]}return null}(s[i.index])),s[oi]}function Mm(n,i){const s=n[lo],c=s?s.get(nu,null):null;c&&c.handleError(i)}function mh(n,i,s,c,d){for(let h=0;h<s.length;){const x=s[h++],T=s[h++];Ip(n.data[x],i[x],c,T,d)}}function cu(n,i){const s=B(i,n),c=s[hn];!function Q_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(c,s);const d=s[vn];null!==d&&null===s[nr]&&(s[nr]=Kf(d,s[lo])),fh(c,s,s[$i])}function fh(n,i,s){Hr(i);try{const c=n.viewQuery;null!==c&&Sp(1,c,s);const d=n.template;null!==d&&hp(n,i,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&K_(n,i),n.staticViewQueries&&Sp(2,n.viewQuery,s);const h=n.components;null!==h&&function $b(n,i){for(let s=0;s<i.length;s++)cu(n,i[s])}(i,h)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[Rn]&=-5,Qn()}}let J_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,c,d){const h=typeof Zone>"u"?null:Zone.current,x=new oa(s,J=>{this.all.has(J)&&this.queue.set(J,h)},d);let T;this.all.add(x),x.notify();const F=()=>{x.cleanup(),T?.(),this.all.delete(x),this.queue.delete(x)};return T=c?.onDestroy(F),{destroy:F}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Wt({token:n,providedIn:"root",factory:()=>new n}),n})();function Sm(n,i,s){let c=s?n.styles:null,d=s?n.classes:null,h=0;if(null!==i)for(let x=0;x<i.length;x++){const T=i[x];"number"==typeof T?h=T:1==h?d=ze(d,T):2==h&&(c=ze(c,T+": "+i[++x]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=d:n.classesWithoutHost=d}function ph(n,i,s,c,d=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&c.push(ir(h)),xr(h)){for(let T=Sr;T<h.length;T++){const F=h[T],J=F[hn].firstChild;null!==J&&ph(F[hn],F,J,c)}h[Xr]!==h[vn]&&c.push(h[Xr])}const x=s.type;if(8&x)ph(n,i,s.child,c);else if(32&x){const T=zh(s,i);let F;for(;F=T();)c.push(F)}else if(16&x){const T=zu(i,s);if(Array.isArray(T))c.push(...T);else{const F=jd(i[Gi]);ph(F[hn],F,T,c,!0)}}s=d?s.projectionNext:s.next}return c}function lu(n,i,s,c=!0){const d=i[Co].rendererFactory;d.begin&&d.begin();try{km(n,i,n.template,s)}catch(x){throw c&&Mm(i,x),x}finally{d.end&&d.end(),i[Co].effectManager?.flush()}}function km(n,i,s,c){const d=i[Rn];if(256!=(256&d)){i[Co].effectManager?.flush(),Hr(i);try{qn(i),function q(n){return jn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&hp(n,i,s,2,c);const x=3==(3&d);if(x){const J=n.preOrderCheckHooks;null!==J&&Vi(i,J,null)}else{const J=n.preOrderHooks;null!==J&&Ui(i,J,0,null),_a(i,0)}if(function Gb(n){for(let i=hf(n);null!==i;i=mf(i)){if(!i[Qr])continue;const s=i[hs];for(let c=0;c<s.length;c++){zi(s[c])}}}(i),function Rp(n){for(let i=hf(n);null!==i;i=mf(i))for(let s=Sr;s<i.length;s++){const c=i[s],d=c[hn];it(c)&&km(d,c,d.template,c[$i])}}(i),null!==n.contentQueries&&K_(n,i),x){const J=n.contentCheckHooks;null!==J&&Vi(i,J)}else{const J=n.contentHooks;null!==J&&Ui(i,J,1),_a(i,1)}!function dp(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const c=bm(i,Io);try{for(let d=0;d<s.length;d++){const h=s[d];if(h<0)Tr(~h);else{const x=h,T=s[++d],F=s[++d];Ln(T,x),c.runInContext(F,2,i[x])}}}finally{null===i[Io]&&Xc(i,Io),Tr(-1)}}(n,i);const T=n.components;null!==T&&function Fp(n,i){for(let s=0;s<i.length;s++)Pp(n,i[s])}(i,T);const F=n.viewQuery;if(null!==F&&Sp(2,F,c),x){const J=n.viewCheckHooks;null!==J&&Vi(i,J)}else{const J=n.viewHooks;null!==J&&Ui(i,J,2),_a(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Rn]&=-73,Di(i)}finally{Qn()}}}function Pp(n,i){const s=B(i,n);if(it(s)){const c=s[hn];80&s[Rn]?km(c,s,c.template,s[$i]):s[Fr]>0&&Am(s)}}function Am(n){for(let c=hf(n);null!==c;c=mf(c))for(let d=Sr;d<c.length;d++){const h=c[d];if(it(h))if(1024&h[Rn]){const x=h[hn];km(x,h,x.template,h[$i])}else h[Fr]>0&&Am(h)}const s=n[hn].components;if(null!==s)for(let c=0;c<s.length;c++){const d=B(s[c],n);it(d)&&d[Fr]>0&&Am(d)}}class du{get rootNodes(){const i=this._lView,s=i[hn];return ph(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$i]}set context(i){this._lView[$i]=i}get destroyed(){return 256==(256&this._lView[Rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Zn];if(xr(i)){const s=i[jo],c=s?s.indexOf(this):-1;c>-1&&(wl(i,c),na(s,c))}this._attachedToViewContainer=!1}$h(this._lView[hn],this._lView)}onDestroy(i){!function Ei(n,i){if(256==(256&n[Rn]))throw new fe(911,!1);null===n[cr]&&(n[cr]=[]),n[cr].push(i)}(this._lView,i)}markForCheck(){tu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rn]&=-129}reattach(){this._lView[Rn]|=128}detectChanges(){lu(this._lView[hn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hd(n,i){$d(n,i,i[oi],2,null,null)}(this._lView[hn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=i}}class Wb extends du{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;lu(i[hn],i,i[$i],!1)}checkNoChanges(){}get context(){return null}}class ev extends ld{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=ri(i);return new pd(s,this.ngModule)}}function Om(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Np{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,c){c=Pe(c);const d=this.injector.get(i,tp,c);return d!==tp||s===tp?d:this.parentInjector.get(i,s,c)}}class pd extends Qf{get inputs(){return Om(this.componentDef.inputs)}get outputs(){return Om(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function or(n){return n.map(Ur).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,c,d){let h=(d=d||this.ngModule)instanceof Ml?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const x=h?new Np(i,h):i,T=x.get(eu,null);if(null===T)throw new fe(407,!1);const we={rendererFactory:T,sanitizer:x.get(Jf,null),effectManager:x.get(J_,null)},Ye=T.createRenderer(null,this.componentDef),Ft=this.componentDef.selectors[0][0]||"div",Qt=c?function ru(n,i,s,c){const h=c.get(ip,!1)||s===Re.ShadowDom,x=n.selectRootElement(i,h);return function ou(n){fp(n)}(x),x}(Ye,c,this.componentDef.encapsulation,x):yl(Ye,Ft,function Kb(n){const i=n.toLowerCase();return"svg"===i?Js:"math"===i?"math":null}(Ft)),Cn=this.componentDef.onPush?576:528,On=Ac(0,null,null,1,0,null,null,null,null,null,null),Jn=Em(null,On,null,Cn,null,null,we,Ye,x,null,null);let pi,Mn;Hr(Jn);try{const Li=this.componentDef;let Cr,Ro=null;Li.findHostDirectiveDefs?(Cr=[],Ro=new Map,Li.findHostDirectiveDefs(Li,Cr,Ro),Cr.push(Li)):Cr=[Li];const sl=function gh(n,i){const s=n[hn],c=ki;return n[c]=i,Ol(s,c,2,"#host",null)}(Jn,Qt),Px=function Zb(n,i,s,c,d,h,x){const T=d[hn];!function Bp(n,i,s,c){for(const d of n)i.mergedAttrs=ci(i.mergedAttrs,d.hostAttrs);null!==i.mergedAttrs&&(Sm(i,i.mergedAttrs,!0),null!==s&&ed(c,s,i))}(c,n,i,x);let F=null;null!==i&&(F=Kf(i,d[lo]));const J=h.rendererFactory.createRenderer(i,s),we=Em(d,fd(s),null,s.onPush?64:16,d[n.index],n,h,J,null,null,F);return T.firstCreatePass&&yp(T,n,c.length-1),au(d,we),d[n.index]=we}(sl,Qt,Li,Cr,Jn,we,Ye);Mn=P(On,ki),Qt&&function uu(n,i,s,c){if(c)Kn(n,s,["ng-version",ep.full]);else{const{attrs:d,classes:h}=function go(n){const i=[],s=[];let c=1,d=2;for(;c<n.length;){let h=n[c];if("string"==typeof h)2===d?""!==h&&i.push(h,n[++c]):8===d&&s.push(h);else{if(!pr(d))break;d=h}c++}return{attrs:i,classes:s}}(i.selectors[0]);d&&Kn(n,s,d),h&&h.length>0&&Wh(n,s,h.join(" "))}}(Ye,Li,Qt,c),void 0!==s&&function nv(n,i,s){const c=n.projection=[];for(let d=0;d<i.length;d++){const h=s[d];c.push(null!=h?Array.from(h):null)}}(Mn,this.ngContentSelectors,s),pi=function tv(n,i,s,c,d,h){const x=jr(),T=d[hn],F=Ci(x,d);z_(T,d,x,s,null,c);for(let we=0;we<s.length;we++)da(Va(d,T,x.directiveStart+we,x),d);bp(T,d,x),F&&da(F,d);const J=Va(d,T,x.directiveStart+x.componentOffset,x);if(n[$i]=d[$i]=J,null!==h)for(const we of h)we(J,i);return dh(T,x,n),J}(Px,Li,Cr,Ro,Jn,[Rm]),fh(On,Jn,null)}finally{Qn()}return new Lp(this.componentType,pi,dd(Mn,Jn),Jn,Mn)}}class Lp extends M_{constructor(i,s,c,d,h){super(),this.location=c,this._rootLView=d,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Wb(d),this.componentType=i}setInput(i,s){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const h=this._rootLView;mh(h[hn],h,d,i,s),this.previousInputValues.set(i,s),tu(B(this._tNode.index,h))}}get injector(){return new ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Rm(){const n=jr();Bn(En()[hn],n)}function Up(n){let i=function iv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;i;){let d;if(Hi(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new fe(903,!1);d=i.\u0275dir}if(d){if(s){c.push(d);const x=n;x.inputs=Vp(n.inputs),x.declaredInputs=Vp(n.declaredInputs),x.outputs=Vp(n.outputs);const T=d.hostBindings;T&&Hp(n,T);const F=d.viewQuery,J=d.contentQueries;if(F&&Pm(n,F),J&&jp(n,J),me(n.inputs,d.inputs),me(n.declaredInputs,d.declaredInputs),me(n.outputs,d.outputs),Hi(d)&&d.data.animation){const we=n.data;we.animation=(we.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let x=0;x<h.length;x++){const T=h[x];T&&T.ngInherit&&T(n),T===Up&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Yb(n){let i=0,s=null;for(let c=n.length-1;c>=0;c--){const d=n[c];d.hostVars=i+=d.hostVars,d.hostAttrs=ci(d.hostAttrs,s=ci(s,d.hostAttrs))}}(c)}function Vp(n){return n===Ne?{}:n===Q?[]:n}function Pm(n,i){const s=n.viewQuery;n.viewQuery=s?(c,d)=>{i(c,d),s(c,d)}:i}function jp(n,i){const s=n.contentQueries;n.contentQueries=s?(c,d,h)=>{i(c,d,h),s(c,d,h)}:i}function Hp(n,i){const s=n.hostBindings;n.hostBindings=s?(c,d)=>{i(c,d),s(c,d)}:i}function vh(n){return!!Yp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Oc(n,i,s){return n[i]=s}function ua(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function qp(n,i,s,c){const d=En();return ua(d,Me(),i)&&(er(),qa(E(),d,n,i,s,c)),qp}function gd(n,i,s,c){return ua(n,Me(),s)?i+ue(s)+c:Zi}function Fl(n,i,s,c,d,h,x,T){const F=En(),J=er(),we=n+ki,Ye=J.firstCreatePass?function ty(n,i,s,c,d,h,x,T,F){const J=i.consts,we=Ol(i,n,4,x||null,fn(J,T));Im(i,s,we,fn(J,F)),Bn(i,we);const Ye=we.tView=Ac(2,we,c,d,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,J,null);return null!==i.queries&&(i.queries.template(i,we),Ye.queries=i.queries.embeddedTView(we)),we}(we,J,F,i,s,c,d,h,x):J.data[we];In(Ye,!1);const Ft=Eh(J,F,Ye,n);xt()&&xl(J,F,Ft,Ye),da(Ft,F),au(F,F[we]=Mp(Ft,F,Ft,Ye)),Mo(Ye)&&uh(J,F,Ye),null!=x&&hh(F,Ye,T)}let Eh=function vu(n,i,s,c){return gn(!0),i[oi].createComment("")};function gv(n){return ee(function G(){return jn.lFrame.contextLView}(),ki+n)}function ag(n,i,s){const c=En();return ua(c,Me(),i)&&La(er(),E(),c,n,i,c[oi],s,!1),ag}function Ch(n,i,s,c,d){const x=d?"class":"style";mh(n,s,i.inputs[x],x,c)}function Dh(n,i,s,c){const d=En(),h=er(),x=ki+n,T=d[oi],F=h.firstCreatePass?function cg(n,i,s,c,d,h){const x=i.consts,F=Ol(i,n,2,c,fn(x,d));return Im(i,s,F,fn(x,h)),null!==F.attrs&&Sm(F,F.attrs,!1),null!==F.mergedAttrs&&Sm(F,F.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,F),F}(x,h,d,i,s,c):h.data[x],J=lg(h,d,F,T,i,n);d[x]=J;const we=Mo(F);return In(F,!0),ed(T,J,F),32!=(32&F.flags)&&xt()&&xl(h,d,J,F),0===function Vr(){return jn.lFrame.elementDepthCount}()&&da(J,d),function pa(){jn.lFrame.elementDepthCount++}(),we&&(uh(h,d,F),dh(h,F,d)),null!==c&&hh(d,F),Dh}function Rc(){let n=jr();gr()?Cs():(n=n.parent,In(n,!1));const i=n;(function Es(n){return jn.skipHydrationRootTNode===n})(i)&&function nc(){jn.skipHydrationRootTNode=null}(),function Lo(){jn.lFrame.elementDepthCount--}();const s=er();return s.firstCreatePass&&(Bn(s,n),Jr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Ea(n){return 0!=(8&n.flags)}(i)&&Ch(s,i,En(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function kd(n){return 0!=(16&n.flags)}(i)&&Ch(s,i,En(),i.stylesWithoutHost,!1),Rc}function jm(n,i,s,c){return Dh(n,i,s,c),Rc(),jm}let lg=(n,i,s,c,d,h)=>(gn(!0),yl(c,d,function ge(){return jn.lFrame.currentNamespace}()));function wd(n,i,s){const c=En(),d=er(),h=n+ki,x=d.firstCreatePass?function iy(n,i,s,c,d){const h=i.consts,x=fn(h,c),T=Ol(i,n,8,"ng-container",x);return null!==x&&Sm(T,x,!0),Im(i,s,T,fn(h,d)),null!==i.queries&&i.queries.elementStart(i,T),T}(h,d,c,i,s):d.data[h];In(x,!0);const T=bu(d,c,x,n);return c[h]=T,xt()&&xl(d,c,T,x),da(T,c),Mo(x)&&(uh(d,c,x),dh(d,x,c)),null!=s&&hh(c,x),wd}function xd(){let n=jr();const i=er();return gr()?Cs():(n=n.parent,In(n,!1)),i.firstCreatePass&&(Bn(i,n),Jr(n)&&i.queries.elementEnd(n)),xd}function Hm(n,i,s){return wd(n,i,s),xd(),Hm}let bu=(n,i,s,c)=>(gn(!0),pf(i[oi],""));function ug(){return En()}function Th(n){return!!n&&"function"==typeof n.then}function yu(n){return!!n&&"function"==typeof n.subscribe}function Pc(n,i,s,c){const d=En(),h=er(),x=jr();return Cd(h,d,d[oi],x,n,i,c),Pc}function Ed(n,i){const s=jr(),c=En(),d=er();return Cd(d,c,q_(Ti(d.data),s,c),s,n,i),Ed}function Cd(n,i,s,c,d,h,x){const T=Mo(c),J=n.firstCreatePass&&Tm(n),we=i[$i],Ye=Y_(i);let Ft=!0;if(3&c.type||x){const On=Ci(c,i),Jn=x?x(On):On,pi=Ye.length,Mn=x?Cr=>x(ir(Cr[c.index])):c.index;let Li=null;if(!x&&T&&(Li=function oy(n,i,s,c){const d=n.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const x=d[h];if(x===s&&d[h+1]===c){const T=i[ar],F=d[h+2];return T.length>F?T[F]:null}"string"==typeof x&&(h+=2)}return null}(n,i,d,c.index)),null!==Li)(Li.__ngLastListenerFn__||Li).__ngNextListenerFn__=h,Li.__ngLastListenerFn__=h,Ft=!1;else{h=ay(c,i,we,h,!1);const Cr=s.listen(Jn,d,h);Ye.push(h,Cr),J&&J.push(d,Mn,pi,pi+1)}}else h=ay(c,i,we,h,!1);const Qt=c.outputs;let Cn;if(Ft&&null!==Qt&&(Cn=Qt[d])){const On=Cn.length;if(On)for(let Jn=0;Jn<On;Jn+=2){const Ro=i[Cn[Jn]][Cn[Jn+1]].subscribe(h),sl=Ye.length;Ye.push(h,Ro),J&&J.push(d,c.index,sl,-(sl+1))}}}function sy(n,i,s,c){try{return ns(6,i,s),!1!==s(c)}catch(d){return Mm(n,d),!1}finally{ns(7,i,s)}}function ay(n,i,s,c,d){return function h(x){if(x===Function)return c;tu(n.componentOffset>-1?B(n.index,i):i);let F=sy(i,s,c,x),J=h.__ngNextListenerFn__;for(;J;)F=sy(i,s,J,x)&&F,J=J.__ngNextListenerFn__;return d&&!1===F&&x.preventDefault(),F}}function $m(n=1){return function Ps(n){return(jn.lFrame.contextLView=function Fi(n,i){for(;n>0;)i=i[qr],n--;return i}(n,jn.lFrame.contextLView))[$i]}(n)}function cy(n,i){let s=null;const c=function Kr(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let d=0;d<i.length;d++){const h=i[d];if("*"!==h){if(null===c?Pr(n,h,!0):Po(c,h))return d}else s=d}return s}function Mh(n){const i=En()[Gi][wr];if(!i.projection){const c=i.projection=Ga(n?n.length:1,null),d=c.slice();let h=i.child;for(;null!==h;){const x=n?cy(h,n):0;null!==x&&(d[x]?d[x].projectionNext=h:c[x]=h,d[x]=h),h=h.next}}}function _v(n,i=0,s){const c=En(),d=er(),h=Ol(d,ki+n,16,null,s||null);null===h.projection&&(h.projection=i),Cs(),(!c[nr]||is())&&32!=(32&h.flags)&&function t_(n,i,s){n_(i[oi],0,i,s,bf(n,s,i),e_(s.parent||i[wr],s,i))}(d,c,h)}function hg(n,i,s){return wu(n,"",i,"",s),hg}function wu(n,i,s,c,d){const h=En(),x=gd(h,i,s,c);return x!==Zi&&La(er(),E(),h,n,x,h[oi],d,!1),wu}function kh(n,i){return n<<17|i<<2}function tl(n){return n>>17&32767}function xu(n){return 2|n}function Dd(n){return(131068&n)>>2}function Ev(n,i){return-131069&n|i<<2}function _g(n){return 1|n}function Eu(n,i,s,c,d){const h=n[s+1],x=null===i;let T=c?tl(h):Dd(h),F=!1;for(;0!==T&&(!1===F||x);){const we=n[T+1];Nl(n[T],i)&&(F=!0,n[T+1]=c?_g(we):xu(we)),T=c?tl(we):Dd(we)}F&&(n[s+1]=c?xu(h):_g(h))}function Nl(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&re(n,i)>=0}function Bl(n,i,s){return mc(n,i,s,!1),Bl}function Ah(n,i){return mc(n,i,null,!0),Ah}function mc(n,i,s,c){const d=En(),h=er(),x=function tt(n){const i=jn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);h.firstUpdatePass&&function py(n,i,s,c){const d=n.data;if(null===d[s+1]){const h=d[mo()],x=function fy(n,i){return i>=n.expandoStartIndex}(n,s);(function Ov(n,i){return 0!=(n.flags&(i?8:16))})(h,c)&&null===i&&!x&&(i=!1),i=function M0(n,i,s,c){const d=Ti(n);let h=c?i.residualClasses:i.residualStyles;if(null===d)0===(c?i.classBindings:i.styleBindings)&&(s=Gm(s=yg(null,n,i,s,c),i.attrs,c),h=null);else{const x=i.directiveStylingLast;if(-1===x||n[x]!==d)if(s=yg(d,n,i,s,c),null===h){let F=function S0(n,i,s){const c=s?i.classBindings:i.styleBindings;if(0!==Dd(c))return n[tl(c)]}(n,i,c);void 0!==F&&Array.isArray(F)&&(F=yg(null,n,i,F[1],c),F=Gm(F,i.attrs,c),function gy(n,i,s,c){n[tl(s?i.classBindings:i.styleBindings)]=c}(n,i,c,F))}else h=function _y(n,i,s){let c;const d=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<d;h++)c=Gm(c,n[h].hostAttrs,s);return Gm(c,i.attrs,s)}(n,i,c)}return void 0!==h&&(c?i.residualClasses=h:i.residualStyles=h),s}(d,h,i,c),function Id(n,i,s,c,d,h){let x=h?i.classBindings:i.styleBindings,T=tl(x),F=Dd(x);n[c]=s;let we,J=!1;if(Array.isArray(s)?(we=s[1],(null===we||re(s,we)>0)&&(J=!0)):we=s,d)if(0!==F){const Ft=tl(n[T+1]);n[c+1]=kh(Ft,T),0!==Ft&&(n[Ft+1]=Ev(n[Ft+1],c)),n[T+1]=function gg(n,i){return 131071&n|i<<17}(n[T+1],c)}else n[c+1]=kh(T,0),0!==T&&(n[T+1]=Ev(n[T+1],c)),T=c;else n[c+1]=kh(F,0),0===T?T=c:n[F+1]=Ev(n[F+1],c),F=c;J&&(n[c+1]=xu(n[c+1])),Eu(n,we,c,!0),Eu(n,we,c,!1),function nl(n,i,s,c,d){const h=d?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&re(h,i)>=0&&(s[c+1]=_g(s[c+1]))}(i,we,n,c,h),x=kh(T,F),h?i.classBindings=x:i.styleBindings=x}(d,h,i,s,x,c)}}(h,n,x,c),i!==Zi&&ua(d,x,i)&&function kv(n,i,s,c,d,h,x,T){if(!(3&i.type))return;const F=n.data,J=F[T+1],we=function I0(n){return 1==(1&n)}(J)?Av(F,i,s,d,Dd(J),x):void 0;Wm(we)||(Wm(h)||function xv(n){return 2==(2&n)}(J)&&(h=Av(F,null,s,d,T,x)),function ub(n,i,s,c,d){if(i)d?n.addClass(s,c):n.removeClass(s,c);else{let h=-1===c.indexOf("-")?void 0:Ia.DashCase;null==d?n.removeStyle(s,c,h):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),h|=Ia.Important),n.setStyle(s,c,d,h))}}(c,x,ea(mo(),s),d,h))}(h,h.data[mo()],d,d[oi],n,d[x+1]=function yy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ve(Kc(n)))),n}(i,s),c,x)}function yg(n,i,s,c,d){let h=null;const x=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<x&&(h=i[T],c=Gm(c,h.hostAttrs,d),h!==n);)T++;return null!==n&&(s.directiveStylingLast=T),c}function Gm(n,i,s){const c=s?1:2;let d=-1;if(null!==i)for(let h=0;h<i.length;h++){const x=i[h];"number"==typeof x?d=x:d===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),M(n,x,!!s||i[++h]))}return void 0===n?null:n}function Av(n,i,s,c,d,h){const x=null===i;let T;for(;d>0;){const F=n[d],J=Array.isArray(F),we=J?F[1]:F,Ye=null===we;let Ft=s[d+1];Ft===Zi&&(Ft=Ye?Q:void 0);let Qt=Ye?L(Ft,c):we===c?Ft:void 0;if(J&&!Wm(Qt)&&(Qt=L(F,c)),Wm(Qt)&&(T=Qt,x))return T;const Cn=n[d+1];d=x?tl(Cn):Dd(Cn)}if(null!==i){let F=h?i.residualClasses:i.residualStyles;null!=F&&(T=L(F,c))}return T}function Wm(n){return void 0!==n}function Rv(n,i=""){const s=En(),c=er(),d=n+ki,h=c.firstCreatePass?Ol(c,d,1,i,null):c.data[d],x=wy(c,s,h,i,n);s[d]=x,xt()&&xl(c,s,x,h),In(h,!1)}let wy=(n,i,s,c,d)=>(gn(!0),function Xl(n,i){return n.createText(i)}(i[oi],c));function xg(n){return Km("",n,""),xg}function Km(n,i,s){const c=En(),d=gd(c,n,i,s);return d!==Zi&&function uc(n,i,s){const c=ea(i,n);!function ff(n,i,s){n.setValue(i,s)}(n[oi],c,s)}(c,mo(),d),Km}function Ph(n,i,s){const c=En();return ua(c,Me(),i)&&La(er(),E(),c,n,i,c[oi],s,!0),Ph}function Tu(n,i,s){const c=En();if(ua(c,Me(),i)){const h=er(),x=E();La(h,x,c,n,i,q_(Ti(h.data),x,c),s,!0)}return Tu}const Vl=void 0;var Sg=["en",[["a","p"],["AM","PM"],Vl],[["AM","PM"],Vl,Vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vl,"{1} 'at' {0}",Vl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cy(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Mu={};function Qm(n){const i=function My(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=kg(i);if(s)return s;const c=i.split("-")[0];if(s=kg(c),s)return s;if("en"===c)return Sg;throw new fe(701,!1)}function Zv(n){return Qm(n)[Si.PluralCase]}function kg(n){return n in Mu||(Mu[n]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[n]),Mu[n]}var Si=(()=>((Si=Si||{})[Si.LocaleId=0]="LocaleId",Si[Si.DayPeriodsFormat=1]="DayPeriodsFormat",Si[Si.DayPeriodsStandalone=2]="DayPeriodsStandalone",Si[Si.DaysFormat=3]="DaysFormat",Si[Si.DaysStandalone=4]="DaysStandalone",Si[Si.MonthsFormat=5]="MonthsFormat",Si[Si.MonthsStandalone=6]="MonthsStandalone",Si[Si.Eras=7]="Eras",Si[Si.FirstDayOfWeek=8]="FirstDayOfWeek",Si[Si.WeekendRange=9]="WeekendRange",Si[Si.DateFormat=10]="DateFormat",Si[Si.TimeFormat=11]="TimeFormat",Si[Si.DateTimeFormat=12]="DateTimeFormat",Si[Si.NumberSymbols=13]="NumberSymbols",Si[Si.NumberFormats=14]="NumberFormats",Si[Si.CurrencyCode=15]="CurrencyCode",Si[Si.CurrencySymbol=16]="CurrencySymbol",Si[Si.CurrencyName=17]="CurrencyName",Si[Si.Currencies=18]="Currencies",Si[Si.Directionality=19]="Directionality",Si[Si.PluralCase=20]="PluralCase",Si[Si.ExtraData=21]="ExtraData",Si))();const Su="en-US";let u=Su;function Ay(n,i,s,c,d){if(n=Ge(n),Array.isArray(n))for(let h=0;h<n.length;h++)Ay(n[h],i,s,c,d);else{const h=er(),x=En();let T=Ya(n)?n:Ge(n.provide),F=x_(n);const J=jr(),we=1048575&J.providerIndexes,Ye=J.directiveStart,Ft=J.providerIndexes>>20;if(Ya(n)||!n.multi){const Qt=new $o(F,d,Al),Cn=Ry(T,i,d?we:we+Ft,Ye);-1===Cn?(Ra(dl(J,x),h,T),Oy(h,n,i.length),i.push(T),J.directiveStart++,J.directiveEnd++,d&&(J.providerIndexes+=1048576),s.push(Qt),x.push(Qt)):(s[Cn]=Qt,x[Cn]=Qt)}else{const Qt=Ry(T,i,we+Ft,Ye),Cn=Ry(T,i,we,we+Ft),Jn=Cn>=0&&s[Cn];if(d&&!Jn||!d&&!(Qt>=0&&s[Qt])){Ra(dl(J,x),h,T);const pi=function EE(n,i,s,c,d){const h=new $o(n,s,Al);return h.multi=[],h.index=i,h.componentProviders=0,K0(h,d,c&&!s),h}(d?xE:wE,s.length,d,c,F);!d&&Jn&&(s[Cn].providerFactory=pi),Oy(h,n,i.length,0),i.push(T),J.directiveStart++,J.directiveEnd++,d&&(J.providerIndexes+=1048576),s.push(pi),x.push(pi)}else Oy(h,n,Qt>-1?Qt:Cn,K0(s[d?Cn:Qt],F,!d&&c));!d&&c&&Jn&&s[Cn].componentProviders++}}}function Oy(n,i,s,c){const d=Ya(i),h=function y_(n){return!!n.useClass}(i);if(d||h){const F=(h?Ge(i.useClass):i).prototype.ngOnDestroy;if(F){const J=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const we=J.indexOf(s);-1===we?J.push(s,[c,F]):J[we+1].push(c,F)}else J.push(s,F)}}}function K0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Ry(n,i,s,c){for(let d=s;d<c;d++)if(i[d]===n)return d;return-1}function wE(n,i,s,c){return Py(this.multi,[])}function xE(n,i,s,c){const d=this.multi;let h;if(this.providerFactory){const x=this.providerFactory.componentProviders,T=Va(s,s[hn],this.providerFactory.index,c);h=T.slice(0,x),Py(d,h);for(let F=x;F<T.length;F++)h.push(T[F])}else h=[],Py(d,h);return h}function Py(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function Z0(n,i=[]){return s=>{s.providersResolver=(c,d)=>function yE(n,i,s){const c=er();if(c.firstCreatePass){const d=Hi(n);Ay(s,c.data,c.blueprint,d,!0),Ay(i,c.data,c.blueprint,d,!1)}}(c,d?d(n):n,i)}}class Xm{}class Y0{}function CE(n,i){return new Fy(n,i??null,[])}class Fy extends Xm{constructor(i,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const d=Mr(i);this._bootstrapComponents=dc(d.bootstrap),this._r3Injector=lp(i,s,[{provide:Xm,useValue:this},{provide:ld,useValue:this.componentFactoryResolver},...c],ve(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ny extends Y0{constructor(i){super(),this.moduleType=i}create(i){return new Fy(this.moduleType,i,[])}}class q0 extends Xm{constructor(i){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const s=new Vf([...i.providers,{provide:Xm,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],i.parent||lc(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Q0(n,i,s=null){return new q0({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let IE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const c=Kd(0,s.type),d=c.length>0?Q0([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Wt({token:n,providedIn:"environment",factory:()=>new n(Ae(Ml))}),n})();function X0(n){n.getStandaloneInjector=i=>i.get(IE).getOrCreateStandaloneInjector(n)}function ow(n,i,s,c){return function aw(n,i,s,c,d,h){const x=i+s;return ua(n,x,d)?Oc(n,x+1,h?c.call(h,d):c(d)):Rg(n,x+1)}(En(),R(),n,i,s,c)}function sw(n,i,s,c,d){return cw(En(),R(),n,i,s,c,d)}function Rg(n,i){const s=n[i];return s===Zi?void 0:s}function cw(n,i,s,c,d,h,x){const T=i+s;return function Rl(n,i,s,c){const d=ua(n,i,s);return ua(n,i+1,c)||d}(n,T,d,h)?Oc(n,T+2,x?c.call(x,d,h):c(d,h)):Rg(n,T+2)}function hw(n,i){const s=er();let c;const d=n+ki;s.firstCreatePass?(c=function zE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const c=i[s];if(n===c.name)return c}}(i,s.pipeRegistry),s.data[d]=c,c.onDestroy&&(s.destroyHooks??=[]).push(d,c.onDestroy)):c=s.data[d];const h=c.factory||(c.factory=_t(c.type)),x=cn(Al);try{const T=Ao(!1),F=h();return Ao(T),function ny(n,i,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=c}(s,En(),d,F),F}finally{cn(x)}}function mw(n,i,s,c){const d=n+ki,h=En(),x=ee(h,d);return function Pg(n,i){return n[hn].data[i].pure}(h,d)?cw(h,R(),i,x.transform,s,c,x):x.transform(s,c)}function By(n){return i=>{setTimeout(n,void 0,i)}}const jl=class ZE extends l.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,c){let d=i,h=s||(()=>null),x=c;if(i&&"object"==typeof i){const F=i;d=F.next?.bind(F),h=F.error?.bind(F),x=F.complete?.bind(F)}this.__isAsync&&(h=By(h),d&&(d=By(d)),x&&(x=By(x)));const T=super.subscribe({next:d,error:h,complete:x});return i instanceof p.w0&&i.add(T),T}};function YE(){return this._results[Symbol.iterator]()}class Xv{get changes(){return this._changes||(this._changes=new jl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=YE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const c=this;c.dirty=!1;const d=function io(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function za(n,i,s){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],h=i[c];if(s&&(d=s(d),h=s(h)),h!==d)return!1}return!0}(c._results,d,s))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=XE,n})();const qE=Fg,QE=class extends qE{constructor(i,s,c){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,c){const d=this._declarationTContainer.tView,h=Em(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,s||null,c||null);h[bo]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Vo];return null!==T&&(h[Vo]=T.createEmbeddedView(d)),fh(d,h,i),new du(h)}};function XE(){return Jv(jr(),En())}function Jv(n,i){return 4&n.type?new QE(i,n,dd(n,i)):null}let eb=(()=>{class n{}return n.__NG_ELEMENT_ID__=oC,n})();function oC(){return bw(jr(),En())}const sC=eb,_w=class extends sC{constructor(i,s,c){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=c}get element(){return dd(this._hostTNode,this._hostLView)}get injector(){return new ja(this._hostTNode,this._hostLView)}get parentInjector(){const i=Hl(this._hostTNode,this._hostLView);if(Ca(i)){const s=Oa(i,this._hostLView),c=Ds(i);return new ja(s[hn].data[c+8],s)}return new ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=vw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(i,s,c){let d,h;"number"==typeof c?d=c:null!=c&&(d=c.index,h=c.injector);const T=i.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(T,d,false),T}createComponent(i,s,c,d,h){const x=i&&!function Cc(n){return"function"==typeof n}(i);let T;if(x)T=s;else{const On=s||{};T=On.index,c=On.injector,d=On.projectableNodes,h=On.environmentInjector||On.ngModuleRef}const F=x?i:new pd(ri(i)),J=c||this.parentInjector;if(!h&&null==F.ngModule){const Jn=(x?J:this.parentInjector).get(Ml,null);Jn&&(h=Jn)}ri(F.componentType??{});const Qt=F.create(J,d,null,h);return this.insertImpl(Qt.hostView,T,false),Qt}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,c){const d=i._lView,h=d[hn];if(function rn(n){return xr(n[Zn])}(d)){const F=this.indexOf(i);if(-1!==F)this.detach(F);else{const J=d[Zn],we=new _w(J,J[wr],J[Zn]);we.detach(we.indexOf(i))}}const x=this._adjustIndex(s),T=this._lContainer;if(function Zg(n,i,s,c){const d=Sr+c,h=s.length;c>0&&(s[d-1][fi]=i),c<h-Sr?(i[fi]=s[d],Ls(s,Sr+c,i)):(s.push(i),i[fi]=null),i[Zn]=s;const x=i[bo];null!==x&&s!==x&&function Yg(n,i){const s=n[hs];i[Gi]!==i[Zn][Zn][Gi]&&(n[Qr]=!0),null===s?n[hs]=[i]:s.push(i)}(x,i);const T=i[Vo];null!==T&&T.insertView(n),i[Rn]|=128}(h,d,T,x),!c){const F=Gh(x,T),J=d[oi],we=Jl(J,T[Xr]);null!==we&&function Kg(n,i,s,c,d,h){c[vn]=d,c[wr]=i,$d(n,c,s,1,d,h)}(h,T[wr],J,d,we,F)}return i.attachToViewContainerRef(),Ls(Vy(T),x,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=vw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),c=wl(this._lContainer,s);c&&(na(Vy(this._lContainer),s),$h(c[hn],c))}detach(i){const s=this._adjustIndex(i,-1),c=wl(this._lContainer,s);return c&&null!=na(Vy(this._lContainer),s)?new du(c):null}_adjustIndex(i,s=0){return i??this.length+s}};function vw(n){return n[jo]}function Vy(n){return n[jo]||(n[jo]=[])}function bw(n,i){let s;const c=i[n.index];return xr(c)?s=c:(s=Mp(c,i,null,n),i[n.index]=s,au(i,s)),yw(s,i,n,c),new _w(s,n,i)}let yw=function ww(n,i,s,c){if(n[Xr])return;let d;d=8&s.type?ir(c):function aC(n,i){const s=n[oi],c=s.createComment(""),d=Ci(i,n);return Go(s,Jl(s,d),c,function Jg(n,i){return n.nextSibling(i)}(s,d),!1),c}(i,s),n[Xr]=d};class jy{constructor(i){this.queryList=i,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const c=null!==i.contentQueries?i.contentQueries[0]:s.length,d=[];for(let h=0;h<c;h++){const x=s.getByIndex(h);d.push(this.queries[x.indexInDeclarationView].clone())}return new Hy(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==kw(i,s).matches&&this.queries[s].setDirty()}}class xw{constructor(i,s,c=null){this.predicate=i,this.flags=s,this.read=c}}class zy{constructor(i=[]){this.queries=i}elementStart(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let c=0;c<this.length;c++){const d=null!==s?s.length:0,h=this.getByIndex(c).embeddedTView(i,d);h&&(h.indexInDeclarationView=c,null!==s?s.push(h):s=[h])}return null!==s?new zy(s):null}template(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class $y{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new $y(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const h=c[d];this.matchTNodeWithReadOption(i,s,dC(s,h)),this.matchTNodeWithReadOption(i,s,ml(s,i,h,!1,!1))}else c===Fg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,ml(s,i,c,!1,!1))}matchTNodeWithReadOption(i,s,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ud||d===eb||d===Fg&&4&s.type)this.addMatch(s.index,-2);else{const h=ml(s,i,d,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,c)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function dC(n,i){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===i)return s[c+1];return null}function hC(n,i,s,c){return-1===s?function uC(n,i){return 11&n.type?dd(n,i):4&n.type?Jv(n,i):null}(i,n):-2===s?function mC(n,i,s){return s===ud?dd(i,n):s===Fg?Jv(i,n):s===eb?bw(i,n):void 0}(n,i,c):Va(n,n[hn],s,i)}function Ew(n,i,s,c){const d=i[Vo].queries[c];if(null===d.matches){const h=n.data,x=s.matches,T=[];for(let F=0;F<x.length;F+=2){const J=x[F];T.push(J<0?null:hC(i,h[J],x[F+1],s.metadata.read))}d.matches=T}return d.matches}function Gy(n,i,s,c){const d=n.queries.getByIndex(s),h=d.matches;if(null!==h){const x=Ew(n,i,d,s);for(let T=0;T<h.length;T+=2){const F=h[T];if(F>0)c.push(x[T/2]);else{const J=h[T+1],we=i[-F];for(let Ye=Sr;Ye<we.length;Ye++){const Ft=we[Ye];Ft[bo]===Ft[Zn]&&Gy(Ft[hn],Ft,J,c)}if(null!==we[hs]){const Ye=we[hs];for(let Ft=0;Ft<Ye.length;Ft++){const Qt=Ye[Ft];Gy(Qt[hn],Qt,J,c)}}}}}return c}function Cw(n){const i=En(),s=er(),c=ui();xi(c+1);const d=kw(s,c);if(n.dirty&&function be(n){return 4==(4&n[Rn])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const h=d.crossesNgTemplate?Gy(s,i,c,[]):Ew(s,i,d,c);n.reset(h,um),n.notifyOnChanges()}return!0}return!1}function Dw(n,i,s){const c=er();c.firstCreatePass&&(Sw(c,new xw(n,i,s),-1),2==(2&i)&&(c.staticViewQueries=!0)),Mw(c,En(),i)}function Iw(n,i,s,c){const d=er();if(d.firstCreatePass){const h=jr();Sw(d,new xw(i,s,c),h.index),function pC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}Mw(d,En(),s)}function Tw(){return function fC(n,i){return n[Vo].queries[i].queryList}(En(),ui())}function Mw(n,i,s){const c=new Xv(4==(4&s));(function Bb(n,i,s,c){const d=Y_(i);d.push(s),n.firstCreatePass&&Tm(n).push(c,d.length-1)})(n,i,c,c.destroy),null===i[Vo]&&(i[Vo]=new Hy),i[Vo].queries.push(new jy(c))}function Sw(n,i,s){null===n.queries&&(n.queries=new zy),n.queries.track(new $y(i,s))}function kw(n,i){return n.queries.getByIndex(i)}function Aw(n,i){return Jv(n,i)}function Wy(n){return!!Mr(n)}const Zw=new co("Application Initializer");let Qy=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=Kt(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const d of this.appInits){const h=d();if(Th(h))s.push(h);else if(yu(h)){const x=new Promise((T,F)=>{h.subscribe({complete:T,error:F})});s.push(x)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(d=>{this.reject(d)}),0===s.length&&c(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nb=new co("LocaleId",{providedIn:"root",factory:()=>Kt(nb,ht.Optional|ht.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||Su}()}),LC=new co("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new g.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let UC=(()=>{class n{compileModuleSync(s){return new Ny(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),h=dc(Mr(s).declarations).reduce((x,T)=>{const F=ri(T);return F&&x.push(new pd(F)),x},[]);return new BC(c,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HC=(()=>Promise.resolve(0))();function Xy(n){typeof Zone>"u"?HC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function Jw(...n){}class Ua{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&s,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function zC(){let n=xn.requestAnimationFrame,i=xn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function WC(n){const i=()=>{!function GC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Jy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,d,h,x,T)=>{try{return ex(n),s.invokeTask(d,h,x,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),tx(n)}},onInvoke:(s,c,d,h,x,T,F)=>{try{return ex(n),s.invoke(d,h,x,T,F)}finally{n.shouldCoalesceRunChangeDetection&&i(),tx(n)}},onHasTask:(s,c,d,h)=>{s.hasTask(d,h),c===d&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,e0(n),Jy(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,c,d,h)=>(s.handleError(d,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ua.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(Ua.isInAngularZone())throw new fe(909,!1)}run(i,s,c){return this._inner.run(i,s,c)}runTask(i,s,c,d){const h=this._inner,x=h.scheduleEventTask("NgZoneEvent: "+d,i,$C,Jw,Jw);try{return h.runTask(x,s,c)}finally{h.cancelTask(x)}}runGuarded(i,s,c){return this._inner.runGuarded(i,s,c)}runOutsideAngular(i){return this._outer.run(i)}}const $C={};function Jy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ex(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tx(n){n._nesting--,Jy(n)}class KC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(i,s,c){return i.apply(s,c)}runGuarded(i,s,c){return i.apply(s,c)}runOutsideAngular(i){return i()}runTask(i,s,c,d){return i.apply(s,c)}}const nx=new co("",{providedIn:"root",factory:ix});function ix(){const n=Kt(Ua);let i=!0;const s=new te.y(d=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{d.next(i),d.complete()})}),c=new te.y(d=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{Ua.assertNotInAngularZone(),Xy(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,d.next(!0))})})});const x=n.onUnstable.subscribe(()=>{Ua.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{d.next(!1)}))});return()=>{h.unsubscribe(),x.unsubscribe()}});return(0,xe.T)(s,c.pipe((0,W.B)()))}const rx=new co(""),ox=new co("");let t0,ZC=(()=>{class n{constructor(s,c,d){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function YC(n){t0=n}(d),d.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ua.assertNotInAngularZone(),Xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,d){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==h),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:d})}whenStable(s,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(Ae(Ua),Ae(sx),Ae(ox))},n.\u0275prov=Wt({token:n,factory:n.\u0275fac}),n})(),sx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return t0?.findTestabilityInTree(this,s,c)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Au=null;const ax=new co("AllowMultipleToken"),n0=new co("PlatformDestroyListeners"),r0=new co("appBootstrapListener");class XC{constructor(i,s){this.name=i,this.token=s}}function dx(n,i,s=[]){const c=`Platform: ${i}`,d=new co(c);return(h=[])=>{let x=o0();if(!x||x.injector.get(ax,!1)){const T=[...s,...h,{provide:d,useValue:!0}];n?n(T):function JC(n){if(Au&&!Au.get(ax,!1))throw new fe(400,!1);(function cx(){!function Zs(n){ws=n}(()=>{throw new fe(600,!1)})})(),Au=n;const i=n.get(hx);(function lx(n){n.get(qd,null)?.forEach(s=>s())})(n)}(function ux(n=[],i){return kl.create({name:i,providers:[{provide:qc,useValue:"platform"},{provide:n0,useValue:new Set([()=>Au=null])},...n]})}(T,c))}return function tD(n){const i=o0();if(!i)throw new fe(401,!1);return i}()}}function o0(){return Au?.get(hx)??null}let hx=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const d=function nD(n="zone.js",i){return"noop"===n?new KC:"zone.js"===n?new Ua(i):n}(c?.ngZone,function mx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const h=function DE(n,i,s){return new Fy(n,i,s)}(s.moduleType,this.injector,function vx(n){return[{provide:Ua,useFactory:n},{provide:id,multi:!0,useFactory:()=>{const i=Kt(rD,{optional:!0});return()=>i.initialize()}},{provide:_x,useFactory:iD},{provide:nx,useFactory:ix}]}(()=>d)),x=h.injector.get(nu,null);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:F=>{x.handleError(F)}});h.onDestroy(()=>{ib(this._modules,h),T.unsubscribe()})}),function fx(n,i,s){try{const c=s();return Th(c)?c.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(x,d,()=>{const T=h.injector.get(Qy);return T.runInitializers(),T.donePromise.then(()=>(function f(n){Mt(n,"Expected localeId to be defined"),"string"==typeof n&&(u=n.toLowerCase().replace(/_/g,"-"))}(h.injector.get(nb,Su)||Su),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,c=[]){const d=px({},c);return function qC(n,i,s){const c=new Ny(s);return Promise.resolve(c)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(s){const c=s.injector.get(tf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new fe(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(n0,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Ae(kl))},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function px(n,i){return Array.isArray(i)?i.reduce(px,n):{...n,...i}}let tf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(_x),this.zoneIsStable=Kt(nx),this.componentTypes=[],this.components=[],this.isStable=Kt(qw).hasPendingTasks.pipe((0,_e.w)(s=>s?(0,ae.of)(!1):this.zoneIsStable),(0,Ce.x)(),(0,W.B)()),this._injector=Kt(Ml)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const d=s instanceof Qf;if(!this._injector.get(Qy).done)throw!d&&oo(s),new fe(405,!1);let x;x=d?s:this._injector.get(ld).resolveComponentFactory(s),this.componentTypes.push(x.componentType);const T=function QC(n){return n.isBoundToModule}(x)?void 0:this._injector.get(Xm),J=x.create(kl.NULL,[],c||x.selector,T),we=J.location.nativeElement,Ye=J.injector.get(rx,null);return Ye?.registerApplication(we),J.onDestroy(()=>{this.detachView(J.hostView),ib(this.components,J),Ye?.unregisterApplication(we)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;ib(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(r0,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ib(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new fe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ib(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const _x=new co("",{providedIn:"root",factory:()=>Kt(nu).handleError.bind(void 0)});function iD(){const n=Kt(Ua),i=Kt(nu);return s=>n.runOutsideAngular(()=>i.handleError(s))}let rD=(()=>{class n{constructor(){this.zone=Kt(Ua),this.applicationRef=Kt(tf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sD(){return!1}let aD=(()=>{class n{}return n.__NG_ELEMENT_ID__=cD,n})();function cD(n){return function lD(n,i,s){if(kr(n)&&!s){const c=B(n.index,i);return new du(c,c)}return 47&n.type?new du(i[Gi],i):null}(jr(),En(),16==(16&n))}class xx{constructor(){}supports(i){return vh(i)}create(i){return new pD(i)}}const fD=(n,i)=>i;class pD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||fD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,c=this._removalsHead,d=0,h=null;for(;s||c;){const x=!c||s&&s.currentIndex<Cx(c,d,h)?s:c,T=Cx(x,d,h),F=x.currentIndex;if(x===c)d--,c=c._nextRemoved;else if(s=s._next,null==x.previousIndex)d++;else{h||(h=[]);const J=T-d,we=F-d;if(J!=we){for(let Ft=0;Ft<J;Ft++){const Qt=Ft<h.length?h[Ft]:h[Ft]=0,Cn=Qt+Ft;we<=Cn&&Cn<J&&(h[Ft]=Qt+1)}h[x.previousIndex]=we-J}}T!==F&&i(x,T,F)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!vh(i))throw new fe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,h,x,s=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)h=i[T],x=this._trackByFn(T,h),null!==s&&Object.is(s.trackById,x)?(c&&(s=this._verifyReinsertion(s,h,x,T)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,x,T),c=!0),s=s._next}else d=0,function Zp(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)i(c.value)}}(i,T=>{x=this._trackByFn(d,T),null!==s&&Object.is(s.trackById,x)?(c&&(s=this._verifyReinsertion(s,T,x,d)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,x,d),c=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,c,d){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,d)):i=this._addAfter(new gD(s,c),h,d),i}_verifyReinsertion(i,s,c,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?i=this._reinsertAfter(h,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,h=i._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(i,s,c),this._addToMoves(i,c),i}_moveAfter(i,s,c){return this._unlink(i),this._insertAfter(i,s,c),this._addToMoves(i,c),i}_addAfter(i,s,c){return this._insertAfter(i,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,c){const d=null===s?this._itHead:s._next;return i._next=d,i._prev=s,null===d?this._itTail=i:d._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,c=i._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class gD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _D{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const s=i._prevDup,c=i._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class Ex{constructor(){this.map=new Map}put(i){const s=i.trackById;let c=this.map.get(s);c||(c=new _D,this.map.set(s,c)),c.add(i)}get(i,s){const d=this.map.get(i);return d?d.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cx(n,i,s){const c=n.previousIndex;if(null===c)return c;let d=0;return s&&c<s.length&&(d=s[c]),c+i+d}class Dx{constructor(){}supports(i){return i instanceof Map||Yp(i)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Yp(i)))throw new fe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(d,c);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const c=i._prev;return s._next=i,s._prev=c,i._prev=s,c&&(c._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,s);const h=d._prev,x=d._next;return h&&(h._next=x),x&&(x._prev=h),d._next=null,d._prev=null,d}const c=new bD(i);return this._records.set(i,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(c=>s(i[c],c))}}class bD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ix(){return new d0([new xx])}let d0=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(null!=c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Ix()),deps:[[n,new Bs,new Wa]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(null!=c)return c;throw new fe(901,!1)}}return n.\u0275prov=Wt({token:n,providedIn:"root",factory:Ix}),n})();function Tx(){return new u0([new Dx])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Tx()),deps:[[n,new Bs,new Wa]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(c)return c;throw new fe(901,!1)}}return n.\u0275prov=Wt({token:n,providedIn:"root",factory:Tx}),n})();const xD=dx(null,"core",[]);let ED=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Ae(tf))},n.\u0275mod=Eo({type:n}),n.\u0275inj=Bt({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PD(n){const i=ri(n);if(!i)return null;const s=new pd(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone}}}},9401:(pn,rt,w)=>{w.d(rt,{Cf:()=>Je,Fj:()=>Fe,JJ:()=>yn,JL:()=>mn,JU:()=>_e,NI:()=>Ur,UX:()=>lr,Zs:()=>ts,_Y:()=>tr,cw:()=>le,kI:()=>Et,sg:()=>Fr,u:()=>Yo,x0:()=>ar});var l=w(2223),p=w(4755),g=w(8996),te=w(4128),xe=w(4004);let ae=(()=>{class K{constructor(v,D){this._renderer=v,this._elementRef=D,this.onChange=ie=>{},this.onTouched=()=>{}}setProperty(v,D){this._renderer.setProperty(this._elementRef.nativeElement,v,D)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(l.Qsj),l.Y36(l.SBq))},K.\u0275dir=l.lG2({type:K}),K})(),W=(()=>{class K extends ae{}return K.\u0275fac=function(){let V;return function(D){return(V||(V=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,features:[l.qOj]}),K})();const _e=new l.OlP("NgValueAccessor"),me={provide:_e,useExisting:(0,l.Gpc)(()=>Fe),multi:!0},ze=new l.OlP("CompositionEventMode");let Fe=(()=>{class K extends ae{constructor(v,D,ie){super(v,D),this._compositionMode=ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ve(){const K=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(v){this.setProperty("value",v??"")}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ze,8))},K.\u0275dir=l.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,D){1&v&&l.NdJ("input",function(ke){return D._handleInput(ke.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(ke){return D._compositionEnd(ke.target.value)})},features:[l._Bn([me]),l.qOj]}),K})();function at(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function Ge(K){return null!=K&&"number"==typeof K.length}const Je=new l.OlP("NgValidators"),Ve=new l.OlP("NgAsyncValidators"),Oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Et{static min(V){return function fe(K){return V=>{if(at(V.value)||at(K))return null;const v=parseFloat(V.value);return!isNaN(v)&&v<K?{min:{min:K,actual:V.value}}:null}}(V)}static max(V){return function Ee(K){return V=>{if(at(V.value)||at(K))return null;const v=parseFloat(V.value);return!isNaN(v)&&v>K?{max:{max:K,actual:V.value}}:null}}(V)}static required(V){return ue(V)}static requiredTrue(V){return pe(V)}static email(V){return function Le(K){return at(K.value)||Oe.test(K.value)?null:{email:!0}}(V)}static minLength(V){return function Y(K){return V=>at(V.value)||!Ge(V.value)?null:V.value.length<K?{minlength:{requiredLength:K,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function Ze(K){return V=>Ge(V.value)&&V.value.length>K?{maxlength:{requiredLength:K,actualLength:V.value.length}}:null}(V)}static pattern(V){return function Ue(K){if(!K)return Qe;let V,v;return"string"==typeof K?(v="","^"!==K.charAt(0)&&(v+="^"),v+=K,"$"!==K.charAt(K.length-1)&&(v+="$"),V=new RegExp(v)):(v=K.toString(),V=K),D=>{if(at(D.value))return null;const ie=D.value;return V.test(ie)?null:{pattern:{requiredPattern:v,actualValue:ie}}}}(V)}static nullValidator(V){return null}static compose(V){return dt(V)}static composeAsync(V){return Be(V)}}function ue(K){return at(K.value)?{required:!0}:null}function pe(K){return!0===K.value?null:{required:!0}}function Qe(K){return null}function Tt(K){return null!=K}function bn(K){return(0,l.QGY)(K)?(0,g.D)(K):K}function kn(K){let V={};return K.forEach(v=>{V=null!=v?{...V,...v}:V}),0===Object.keys(V).length?null:V}function vt(K,V){return V.map(v=>v(K))}function Vt(K){return K.map(V=>function bt(K){return!K.validate}(V)?V:v=>V.validate(v))}function dt(K){if(!K)return null;const V=K.filter(Tt);return 0==V.length?null:function(v){return kn(vt(v,V))}}function Ht(K){return null!=K?dt(Vt(K)):null}function Be(K){if(!K)return null;const V=K.filter(Tt);return 0==V.length?null:function(v){const D=vt(v,V).map(bn);return(0,te.D)(D).pipe((0,xe.U)(kn))}}function mt(K){return null!=K?Be(Vt(K)):null}function Rt(K,V){return null===K?[V]:Array.isArray(K)?[...K,V]:[K,V]}function qt(K){return K._rawValidators}function Mt(K){return K._rawAsyncValidators}function Xe(K){return K?Array.isArray(K)?K:[K]:[]}function ot(K,V){return Array.isArray(K)?K.includes(V):K===V}function Nt(K,V){const v=Xe(V);return Xe(K).forEach(ie=>{ot(v,ie)||v.push(ie)}),v}function It(K,V){return Xe(V).filter(v=>!ot(K,v))}class Wt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Ht(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V=void 0){this.control&&this.control.reset(V)}hasError(V,v){return!!this.control&&this.control.hasError(V,v)}getError(V,v){return this.control?this.control.getError(V,v):null}}class Lt extends Wt{get formDirective(){return null}get path(){return null}}class Bt extends Wt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ft{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yn=(()=>{class K extends ft{constructor(v){super(v)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(Bt,2))},K.\u0275dir=l.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,D){2&v&&l.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)},features:[l.qOj]}),K})(),mn=(()=>{class K extends ft{constructor(v){super(v)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(Lt,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(v,D){2&v&&l.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)("ng-submitted",D.isSubmitted)},features:[l.qOj]}),K})();const li="VALID",yi="INVALID",hi="PENDING",en="DISABLED";function ct(K){return(Ae(K)?K.validators:K)||null}function We(K,V){return(Ae(V)?V.asyncValidators:K)||null}function Ae(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}class Pe{constructor(V,v){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(v)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===li}get invalid(){return this.status===yi}get pending(){return this.status==hi}get disabled(){return this.status===en}get enabled(){return this.status!==en}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(Nt(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Nt(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(It(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(It(V,this._rawAsyncValidators))}hasValidator(V){return ot(this._rawValidators,V)}hasAsyncValidator(V){return ot(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=hi,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const v=this._parentMarkedDirty(V.onlySelf);this.status=en,this.errors=null,this._forEachChild(D=>{D.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:v}),this._onDisabledChange.forEach(D=>D(!0))}enable(V={}){const v=this._parentMarkedDirty(V.onlySelf);this.status=li,this._forEachChild(D=>{D.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:v}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===li||this.status===hi)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?en:li}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=hi,this._hasOwnPendingAsyncValidator=!0;const v=bn(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,v={}){this.errors=V,this._updateControlsErrors(!1!==v.emitEvent)}get(V){let v=V;return null==v||(Array.isArray(v)||(v=v.split(".")),0===v.length)?null:v.reduce((D,ie)=>D&&D._find(ie),this)}getError(V,v){const D=v?this.get(v):this;return D&&D.errors?D.errors[V]:null}hasError(V,v){return!!this.getError(V,v)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?en:this.errors?yi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hi)?hi:this._anyControlsHaveStatus(yi)?yi:li}_anyControlsHaveStatus(V){return this._anyControls(v=>v.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){Ae(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function ut(K){return Array.isArray(K)?Ht(K):K||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function je(K){return Array.isArray(K)?mt(K):K||null}(this._rawAsyncValidators)}}class le extends Pe{constructor(V,v,D){super(ct(v),We(D,v)),this.controls=V,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,v){return this.controls[V]?this.controls[V]:(this.controls[V]=v,v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange),v)}addControl(V,v,D={}){this.registerControl(V,v),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(V,v={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}setControl(V,v,D={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],v&&this.registerControl(V,v),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,v={}){(function Kt(K,V,v){K._forEachChild((D,ie)=>{if(void 0===v[ie])throw new l.vHH(1002,"")})})(this,0,V),Object.keys(V).forEach(D=>{(function St(K,V,v){const D=K.controls;if(!(V?Object.keys(D):D).length)throw new l.vHH(1e3,"");if(!D[v])throw new l.vHH(1001,"")})(this,!0,D),this.controls[D].setValue(V[D],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(V,v={}){null!=V&&(Object.keys(V).forEach(D=>{const ie=this.controls[D];ie&&ie.patchValue(V[D],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(V={},v={}){this._forEachChild((D,ie)=>{D.reset(V[ie],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this._reduceChildren({},(V,v,D)=>(V[D]=v.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(v,D)=>!!D._syncPendingControls()||v);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(v=>{const D=this.controls[v];D&&V(D,v)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[v,D]of Object.entries(this.controls))if(this.contains(v)&&V(D))return!0;return!1}_reduceValue(){return this._reduceChildren({},(v,D,ie)=>((D.enabled||this.disabled)&&(v[ie]=D.value),v))}_reduceChildren(V,v){let D=V;return this._forEachChild((ie,ke)=>{D=v(D,ie,ke)}),D}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}const ce=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Te}),Te="always";function Re(K,V){return[...V.path,K]}function Ne(K,V,v=Te){jt(K,V),V.valueAccessor.writeValue(K.value),(K.disabled||"always"===v)&&V.valueAccessor.setDisabledState?.(K.disabled),function ei(K,V){V.valueAccessor.registerOnChange(v=>{K._pendingValue=v,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&At(K,V)})}(K,V),function wn(K,V){const v=(D,ie)=>{V.valueAccessor.writeValue(D),ie&&V.viewToModelUpdate(D)};K.registerOnChange(v),V._registerOnDestroy(()=>{K._unregisterOnChange(v)})}(K,V),function kt(K,V){V.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&At(K,V),"submit"!==K.updateOn&&K.markAsTouched()})}(K,V),function wt(K,V){if(V.valueAccessor.setDisabledState){const v=D=>{V.valueAccessor.setDisabledState(D)};K.registerOnDisabledChange(v),V._registerOnDestroy(()=>{K._unregisterOnDisabledChange(v)})}}(K,V)}function Q(K,V,v=!0){const D=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(D),V.valueAccessor.registerOnTouched(D)),zn(K,V),K&&(V._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function De(K,V){K.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(V)})}function jt(K,V){const v=qt(K);null!==V.validator?K.setValidators(Rt(v,V.validator)):"function"==typeof v&&K.setValidators([v]);const D=Mt(K);null!==V.asyncValidator?K.setAsyncValidators(Rt(D,V.asyncValidator)):"function"==typeof D&&K.setAsyncValidators([D]);const ie=()=>K.updateValueAndValidity();De(V._rawValidators,ie),De(V._rawAsyncValidators,ie)}function zn(K,V){let v=!1;if(null!==K){if(null!==V.validator){const ie=qt(K);if(Array.isArray(ie)&&ie.length>0){const ke=ie.filter(_t=>_t!==V.validator);ke.length!==ie.length&&(v=!0,K.setValidators(ke))}}if(null!==V.asyncValidator){const ie=Mt(K);if(Array.isArray(ie)&&ie.length>0){const ke=ie.filter(_t=>_t!==V.asyncValidator);ke.length!==ie.length&&(v=!0,K.setAsyncValidators(ke))}}}const D=()=>{};return De(V._rawValidators,D),De(V._rawAsyncValidators,D),v}function At(K,V){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function Po(K,V){const v=K.indexOf(V);v>-1&&K.splice(v,1)}function Zr(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Ur=class extends Pe{constructor(V=null,v,D){super(ct(v),We(D,v)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ae(v)&&(v.nonNullable||v.initialValueIsDefault)&&(this.defaultValue=Zr(V)?V.value:V)}setValue(V,v={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(V,v={}){this.setValue(V,v)}reset(V=this.defaultValue,v={}){this._applyFormState(V),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){Po(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){Po(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Zr(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let hr=(()=>{class K extends Lt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Re(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return K.\u0275fac=function(){let V;return function(D){return(V||(V=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,features:[l.qOj]}),K})(),tr=(()=>{class K{}return K.\u0275fac=function(v){return new(v||K)},K.\u0275dir=l.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})(),Ct=(()=>{class K{}return K.\u0275fac=function(v){return new(v||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({}),K})();const hn=new l.OlP("NgModelWithFormControlWarning"),fi={provide:Lt,useExisting:(0,l.Gpc)(()=>Fr)};let Fr=(()=>{class K extends Lt{constructor(v,D,ie){super(),this.callSetDisabledState=ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(v),this._setAsyncValidators(D)}ngOnChanges(v){this._checkFormPresent(),v.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(v){const D=this.form.get(v.path);return Ne(D,v,this.callSetDisabledState),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(v),D}getControl(v){return this.form.get(v.path)}removeControl(v){Q(v.control||null,v,!1),function Br(K,V){const v=K.indexOf(V);v>-1&&K.splice(v,1)}(this.directives,v)}addFormGroup(v){this._setUpFormContainer(v)}removeFormGroup(v){this._cleanUpFormContainer(v)}getFormGroup(v){return this.form.get(v.path)}addFormArray(v){this._setUpFormContainer(v)}removeFormArray(v){this._cleanUpFormContainer(v)}getFormArray(v){return this.form.get(v.path)}updateModel(v,D){this.form.get(v.path).setValue(D)}onSubmit(v){return this.submitted=!0,function _s(K,V){K._syncPendingControls(),V.forEach(v=>{const D=v.control;"submit"===D.updateOn&&D._pendingChange&&(v.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(v),"dialog"===v?.target?.method}onReset(){this.resetForm()}resetForm(v=void 0){this.form.reset(v),this.submitted=!1}_updateDomValue(){this.directives.forEach(v=>{const D=v.control,ie=this.form.get(v.path);D!==ie&&(Q(D||null,v),(K=>K instanceof Ur)(ie)&&(Ne(ie,v,this.callSetDisabledState),v.control=ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(v){const D=this.form.get(v.path);(function Kn(K,V){jt(K,V)})(D,v),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(v){if(this.form){const D=this.form.get(v.path);D&&function An(K,V){return zn(K,V)}(D,v)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jt(this.form,this),this._oldForm&&zn(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(Je,10),l.Y36(Ve,10),l.Y36(ce,8))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(v,D){1&v&&l.NdJ("submit",function(ke){return D.onSubmit(ke)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([fi]),l.qOj,l.TTD]}),K})();const wr={provide:Lt,useExisting:(0,l.Gpc)(()=>ar)};let ar=(()=>{class K extends hr{constructor(v,D,ie){super(),this.name=null,this._parent=v,this._setValidators(D),this._setAsyncValidators(ie)}_checkParentType(){Co(this._parent)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(Lt,13),l.Y36(Je,10),l.Y36(Ve,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([wr]),l.qOj]}),K})();const $i={provide:Lt,useExisting:(0,l.Gpc)(()=>lo)};let lo=(()=>{class K extends Lt{constructor(v,D,ie){super(),this.name=null,this._parent=v,this._setValidators(D),this._setAsyncValidators(ie)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Re(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Co(this._parent)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(Lt,13),l.Y36(Je,10),l.Y36(Ve,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([$i]),l.qOj]}),K})();function Co(K){return!(K instanceof ar||K instanceof Fr||K instanceof lo)}const oi={provide:Bt,useExisting:(0,l.Gpc)(()=>Yo)};let Yo=(()=>{class K extends Bt{set isDisabled(v){}constructor(v,D,ie,ke,_t){super(),this._ngModelWarningConfig=_t,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=v,this._setValidators(D),this._setAsyncValidators(ie),this.valueAccessor=function pr(K,V){if(!V)return null;let v,D,ie;return Array.isArray(V),V.forEach(ke=>{ke.constructor===Fe?v=ke:function fo(K){return Object.getPrototypeOf(K.constructor)===W}(ke)?D=ke:ie=ke}),ie||D||v||null}(0,ke)}ngOnChanges(v){this._added||this._setUpControl(),function Wr(K,V){if(!K.hasOwnProperty("model"))return!1;const v=K.model;return!!v.isFirstChange()||!Object.is(V,v.currentValue)}(v,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}get path(){return Re(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return K._ngModelWarningSentOnce=!1,K.\u0275fac=function(v){return new(v||K)(l.Y36(Lt,13),l.Y36(Je,10),l.Y36(Ve,10),l.Y36(_e,10),l.Y36(hn,8))},K.\u0275dir=l.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([oi]),l.qOj,l.TTD]}),K})(),Wi=(()=>{class K{constructor(){this._validator=Qe}ngOnChanges(v){if(this.inputName in v){const D=this.normalizeInput(v[this.inputName].currentValue);this._enabled=this.enabled(D),this._validator=this._enabled?this.createValidator(D):Qe,this._onChange&&this._onChange()}}validate(v){return this._validator(v)}registerOnValidatorChange(v){this._onChange=v}enabled(v){return null!=v}}return K.\u0275fac=function(v){return new(v||K)},K.\u0275dir=l.lG2({type:K,features:[l.TTD]}),K})();const hs={provide:Je,useExisting:(0,l.Gpc)(()=>Sr),multi:!0},Ts={provide:Je,useExisting:(0,l.Gpc)(()=>ts),multi:!0};let Sr=(()=>{class K extends Wi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=v=>ue}enabled(v){return v}}return K.\u0275fac=function(){let V;return function(D){return(V||(V=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(v,D){2&v&&l.uIk("required",D._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([hs]),l.qOj]}),K})(),ts=(()=>{class K extends Sr{constructor(){super(...arguments),this.createValidator=v=>pe}}return K.\u0275fac=function(){let V;return function(D){return(V||(V=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(v,D){2&v&&l.uIk("required",D._enabled?"":null)},features:[l._Bn([Ts]),l.qOj]}),K})(),et=(()=>{class K{}return K.\u0275fac=function(v){return new(v||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({imports:[Ct]}),K})(),lr=(()=>{class K{static withConfig(v){return{ngModule:K,providers:[{provide:hn,useValue:v.warnOnNgModelWithFormControl??"always"},{provide:ce,useValue:v.callSetDisabledState??Te}]}}}return K.\u0275fac=function(v){return new(v||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({imports:[et]}),K})()},8410:(pn,rt,w)=>{w.d(rt,{_r:()=>Ve,ch:()=>ue,oL:()=>fe});var l=w(3223),p=w(8023),g=w(2223),te=w(1217),xe=w(706),ae=w(5537),W=w(9002),_e=w(4755),Ce=w(1591),oe=w(2840),me=w(7579),ve=w(6451),ze=w(9300),Fe=w(5698);function at(pe,Le){}const Ge={bottomSheetState:(0,Ce.X$)("state",[(0,Ce.SB)("void, hidden",(0,Ce.oB)({transform:"translateY(100%)"})),(0,Ce.SB)("visible",(0,Ce.oB)({transform:"translateY(0%)"})),(0,Ce.eR)("visible => void, visible => hidden",(0,Ce.ru)([(0,Ce.jt)(`${te.mZ.COMPLEX} ${te.yN.ACCELERATION_CURVE}`),(0,Ce.IO)("@*",(0,Ce.pV)(),{optional:!0})])),(0,Ce.eR)("void => visible",(0,Ce.ru)([(0,Ce.jt)(`${te.mZ.EXITING} ${te.yN.DECELERATION_CURVE}`),(0,Ce.IO)("@*",(0,Ce.pV)(),{optional:!0})]))])};let Je=(()=>{class pe extends l.LL{constructor(Y,Ze,Ue,Qe,Tt,bn,kn,vt,bt,Vt){super(Y,Ze,Ue,Qe,Tt,bn,kn,Vt),this._changeDetectorRef=bt,this._animationState="void",this._animationStateChanged=new g.vpe,this._breakpointSubscription=vt.observe([ae.u3.Medium,ae.u3.Large,ae.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",vt.isMatched(ae.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",vt.isMatched(ae.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",vt.isMatched(ae.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Y){"visible"===Y.toState&&this._trapFocus(),this._animationStateChanged.emit(Y)}_onAnimationStart(Y){this._animationStateChanged.emit(Y)}_captureInitialFocus(){}_toggleClass(Y,Ze){this._elementRef.nativeElement.classList.toggle(Y,Ze)}}return pe.\u0275fac=function(Y){return new(Y||pe)(g.Y36(g.SBq),g.Y36(xe.qV),g.Y36(_e.K0,8),g.Y36(l.ib),g.Y36(xe.ic),g.Y36(g.R0b),g.Y36(W.Iu),g.Y36(ae.Yg),g.Y36(g.sBO),g.Y36(xe.tE))},pe.\u0275cmp=g.Xpm({type:pe,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(Y,Ze){1&Y&&g.WFA("@state.start",function(Qe){return Ze._onAnimationStart(Qe)})("@state.done",function(Qe){return Ze._onAnimationDone(Qe)}),2&Y&&(g.uIk("role",Ze._config.role)("aria-modal",Ze._config.ariaModal)("aria-label",Ze._config.ariaLabel),g.d8E("@state",Ze._animationState))},features:[g.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Y,Ze){1&Y&&g.YNc(0,at,0,0,"ng-template",0)},dependencies:[p.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Ge.bottomSheetState]}}),pe})(),Ve=(()=>{class pe{}return pe.\u0275fac=function(Y){return new(Y||pe)},pe.\u0275mod=g.oAB({type:pe}),pe.\u0275inj=g.cJS({imports:[l.Su,te.BQ,p.eL,te.BQ]}),pe})();const Oe=new g.OlP("MatBottomSheetData");class Et{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class fe{get instance(){return this._ref.componentInstance}constructor(Le,Y,Ze){this._ref=Le,this._afterOpened=new me.x,this.containerInstance=Ze,this.disableClose=Y.disableClose,Ze._animationStateChanged.pipe((0,ze.h)(Ue=>"done"===Ue.phaseName&&"visible"===Ue.toState),(0,Fe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ze._animationStateChanged.pipe((0,ze.h)(Ue=>"done"===Ue.phaseName&&"hidden"===Ue.toState),(0,Fe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),Le.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,ve.T)(this.backdropClick(),this.keydownEvents().pipe((0,ze.h)(Ue=>Ue.keyCode===oe.hY))).subscribe(Ue=>{!this.disableClose&&("keydown"!==Ue.type||!(0,oe.Vb)(Ue))&&(Ue.preventDefault(),this.dismiss())})}dismiss(Le){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,ze.h)(Y=>"start"===Y.phaseName),(0,Fe.q)(1)).subscribe(Y=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},Y.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=Le,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Ee=new g.OlP("mat-bottom-sheet-default-options");let ue=(()=>{class pe{get _openedBottomSheetRef(){const Y=this._parentBottomSheet;return Y?Y._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Y){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Y:this._bottomSheetRefAtThisLevel=Y}constructor(Y,Ze,Ue,Qe){this._overlay=Y,this._parentBottomSheet=Ue,this._defaultOptions=Qe,this._bottomSheetRefAtThisLevel=null,this._dialog=Ze.get(l.Vq)}open(Y,Ze){const Ue={...this._defaultOptions||new Et,...Ze};let Qe;return this._dialog.open(Y,{...Ue,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Je,scrollStrategy:Ue.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:Qe}),providers:(Tt,bn,kn)=>(Qe=new fe(Tt,Ue,kn),[{provide:fe,useValue:Qe},{provide:Oe,useValue:Ue.data}])}),Qe.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===Qe&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>Qe.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):Qe.containerInstance.enter(),this._openedBottomSheetRef=Qe,Qe}dismiss(Y){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Y)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return pe.\u0275fac=function(Y){return new(Y||pe)(g.LFG(W.aV),g.LFG(g.zs3),g.LFG(pe,12),g.LFG(Ee,8))},pe.\u0275prov=g.Yz7({token:pe,factory:pe.\u0275fac,providedIn:Ve}),pe})()},1728:(pn,rt,w)=>{w.d(rt,{cs:()=>Ht,lW:()=>bn,ot:()=>Xe});var l=w(2966),p=w(2223),g=w(706),te=w(1217),xe=w(4755),ae=w(1692);const W=["mat-button",""],_e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ce=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ve=["mat-fab",""],Ve={capture:!0},Oe=["focus","click","mouseenter","touchstart"],Et="mat-button-ripple-uninitialized";let fe=(()=>{class ot{constructor(){this._document=(0,p.f3M)(xe.K0,{optional:!0}),this._animationMode=(0,p.f3M)(p.QbO,{optional:!0}),this._globalRippleOptions=(0,p.f3M)(te.Y2,{optional:!0}),this._platform=(0,p.f3M)(l.t4),this._ngZone=(0,p.f3M)(p.R0b),this._onInteraction=It=>{if(It.target===this._document)return;const Lt=It.target.closest(`[${Et}]`);Lt&&(Lt.removeAttribute(Et),this._appendRipple(Lt))},this._ngZone.runOutsideAngular(()=>{for(const It of Oe)this._document?.addEventListener(It,this._onInteraction,Ve)})}ngOnDestroy(){for(const It of Oe)this._document?.removeEventListener(It,this._onInteraction,Ve)}_appendRipple(It){if(!this._document)return;const Wt=this._document.createElement("span");Wt.classList.add("mat-mdc-button-ripple");const Lt=new Ee(It,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Lt.rippleConfig.centered=It.hasAttribute("mat-icon-button"),new te.IR(Lt,this._ngZone,Wt,this._platform).setupTriggerEvents(It),It.append(Wt)}_createMatRipple(It){if(!this._document)return;It.querySelector(".mat-mdc-button-ripple")?.remove(),It.removeAttribute(Et);const Wt=this._document.createElement("span");Wt.classList.add("mat-mdc-button-ripple");const Lt=new te.wG(new p.SBq(Wt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Lt._isInitialized=!0,Lt.trigger=It,It.append(Wt),Lt}}return ot.\u0275fac=function(It){return new(It||ot)},ot.\u0275prov=p.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();class Ee{constructor(Nt,It,Wt){this._button=Nt,this._globalRippleOptions=It,this._setRippleConfig(It,Wt)}_setRippleConfig(Nt,It){this.rippleConfig=Nt||{},"NoopAnimations"===It&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Le=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,te.pj)((0,te.Id)((0,te.Kr)(class{constructor(ot){this._elementRef=ot}})));let Ze=(()=>{class ot extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(It){this._ripple=It}constructor(It,Wt,Lt,Bt){super(It),this._platform=Wt,this._ngZone=Lt,this._animationMode=Bt,this._focusMonitor=(0,p.f3M)(g.tE),this._rippleLoader=(0,p.f3M)(fe),this._isFab=!1;const ft=It.nativeElement.classList;for(const qe of Le)this._hasHostAttributes(qe.selector)&&qe.mdcClasses.forEach(Jt=>{ft.add(Jt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(It="program",Wt){It?this._focusMonitor.focusVia(this._elementRef.nativeElement,It,Wt):this._elementRef.nativeElement.focus(Wt)}_hasHostAttributes(...It){return It.some(Wt=>this._elementRef.nativeElement.hasAttribute(Wt))}}return ot.\u0275fac=function(It){p.$Z()},ot.\u0275dir=p.lG2({type:ot,features:[p.qOj,p.TTD]}),ot})(),bn=(()=>{class ot extends Ze{constructor(It,Wt,Lt,Bt){super(It,Wt,Lt,Bt)}}return ot.\u0275fac=function(It){return new(It||ot)(p.Y36(p.SBq),p.Y36(l.t4),p.Y36(p.R0b),p.Y36(p.QbO,8))},ot.\u0275cmp=p.Xpm({type:ot,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(It,Wt){2&It&&(p.uIk("disabled",Wt.disabled||null),p.ekj("_mat-animation-noopable","NoopAnimations"===Wt._animationMode)("mat-unthemed",!Wt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[p.qOj],attrs:W,ngContentSelectors:Ce,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(It,Wt){1&It&&(p.F$t(_e),p._UZ(0,"span",0),p.Hsn(1),p.TgZ(2,"span",1),p.Hsn(3,1),p.qZA(),p.Hsn(4,2),p._UZ(5,"span",2)(6,"span",3)),2&It&&p.ekj("mdc-button__ripple",!Wt._isFab)("mdc-fab__ripple",Wt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),ot})();const vt=new p.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:bt});function bt(){return{color:"accent"}}const Vt=bt();let Ht=(()=>{class ot extends Ze{get extended(){return this._extended}set extended(It){this._extended=(0,ae.Ig)(It)}constructor(It,Wt,Lt,Bt,ft){super(It,Wt,Lt,Bt),this._options=ft,this._isFab=!0,this._options=this._options||Vt,this.color=this.defaultColor=this._options.color||Vt.color}}return ot.\u0275fac=function(It){return new(It||ot)(p.Y36(p.SBq),p.Y36(l.t4),p.Y36(p.R0b),p.Y36(p.QbO,8),p.Y36(vt,8))},ot.\u0275cmp=p.Xpm({type:ot,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(It,Wt){2&It&&(p.uIk("disabled",Wt.disabled||null),p.ekj("_mat-animation-noopable","NoopAnimations"===Wt._animationMode)("mat-unthemed",!Wt.color)("mat-mdc-button-base",!0)("mdc-fab--extended",Wt.extended)("mat-mdc-extended-fab",Wt.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[p.qOj],attrs:ve,ngContentSelectors:Ce,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(It,Wt){1&It&&(p.F$t(_e),p._UZ(0,"span",0),p.Hsn(1),p.TgZ(2,"span",1),p.Hsn(3,1),p.qZA(),p.Hsn(4,2),p._UZ(5,"span",2)(6,"span",3)),2&It&&p.ekj("mdc-button__ripple",!Wt._isFab)("mdc-fab__ripple",Wt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),ot})(),Xe=(()=>{class ot{}return ot.\u0275fac=function(It){return new(It||ot)},ot.\u0275mod=p.oAB({type:ot}),ot.\u0275inj=p.cJS({imports:[te.BQ,te.si,te.BQ]}),ot})()},6012:(pn,rt,w)=>{w.d(rt,{$j:()=>Fe,G2:()=>Ve,QW:()=>Le,a8:()=>oe,dk:()=>Ge,dn:()=>ze,hq:()=>at,n5:()=>me});var l=w(2223),p=w(4755),g=w(1217);const te=["*"],W=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],_e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Ce=new l.OlP("MAT_CARD_CONFIG");let oe=(()=>{class Y{constructor(Ue){this.appearance=Ue?.appearance||"raised"}}return Y.\u0275fac=function(Ue){return new(Ue||Y)(l.Y36(Ce,8))},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(Ue,Qe){2&Ue&&l.ekj("mat-mdc-card-outlined","outlined"===Qe.appearance)("mdc-card--outlined","outlined"===Qe.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:te,decls:1,vars:0,template:function(Ue,Qe){1&Ue&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),Y})(),me=(()=>{class Y{}return Y.\u0275fac=function(Ue){return new(Ue||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),Y})(),ze=(()=>{class Y{}return Y.\u0275fac=function(Ue){return new(Ue||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),Y})(),Fe=(()=>{class Y{}return Y.\u0275fac=function(Ue){return new(Ue||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),Y})(),at=(()=>{class Y{constructor(){this.align="start"}}return Y.\u0275fac=function(Ue){return new(Ue||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(Ue,Qe){2&Ue&&l.ekj("mat-mdc-card-actions-align-end","end"===Qe.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),Y})(),Ge=(()=>{class Y{}return Y.\u0275fac=function(Ue){return new(Ue||Y)},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:_e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(Ue,Qe){1&Ue&&(l.F$t(W),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),Y})(),Ve=(()=>{class Y{}return Y.\u0275fac=function(Ue){return new(Ue||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),Y})(),Le=(()=>{class Y{}return Y.\u0275fac=function(Ue){return new(Ue||Y)},Y.\u0275mod=l.oAB({type:Y}),Y.\u0275inj=l.cJS({imports:[g.BQ,p.ez,g.BQ]}),Y})()},1292:(pn,rt,w)=>{w.d(rt,{oG:()=>Ge,p9:()=>Et});var l=w(2223),p=w(9401),g=w(1217),te=w(1692);const xe=["input"],ae=["label"],W=["*"],_e=new l.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Ce});function Ce(){return{color:"accent",clickAction:"check-indeterminate"}}const oe={provide:p.JU,useExisting:(0,l.Gpc)(()=>Ge),multi:!0};class me{}let ve=0;const ze=Ce(),Fe=(0,g.sb)((0,g.pj)((0,g.Kr)((0,g.Id)(class{constructor(fe){this._elementRef=fe}}))));let at=(()=>{class fe extends Fe{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(ue){this._required=(0,te.Ig)(ue)}constructor(ue,pe,Le,Y,Ze,Ue,Qe){super(pe),this._changeDetectorRef=Le,this._ngZone=Y,this._animationMode=Ue,this._options=Qe,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new l.vpe,this.indeterminateChange=new l.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||ze,this.color=this.defaultColor=this._options.color||ze.color,this.tabIndex=parseInt(Ze)||0,this.id=this._uniqueId=`${ue}${++ve}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(ue){const pe=(0,te.Ig)(ue);pe!=this.checked&&(this._checked=pe,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(ue){const pe=(0,te.Ig)(ue);pe!==this.disabled&&(this._disabled=pe,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(ue){const pe=ue!=this._indeterminate;this._indeterminate=(0,te.Ig)(ue),pe&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(ue){this.checked=!!ue}registerOnChange(ue){this._controlValueAccessorChangeFn=ue}registerOnTouched(ue){this._onTouched=ue}setDisabledState(ue){this.disabled=ue}_transitionCheckState(ue){let pe=this._currentCheckState,Le=this._getAnimationTargetElement();if(pe!==ue&&Le&&(this._currentAnimationClass&&Le.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(pe,ue),this._currentCheckState=ue,this._currentAnimationClass.length>0)){Le.classList.add(this._currentAnimationClass);const Y=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Le.classList.remove(Y)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const ue=this._options?.clickAction;this.disabled||"noop"===ue?!this.disabled&&"noop"===ue&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==ue&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(ue){ue.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(ue,pe){if("NoopAnimations"===this._animationMode)return"";switch(ue){case 0:if(1===pe)return this._animationClasses.uncheckedToChecked;if(3==pe)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===pe?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===pe?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===pe?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(ue){const pe=this._inputElement;pe&&(pe.nativeElement.indeterminate=ue)}}return fe.\u0275fac=function(ue){l.$Z()},fe.\u0275dir=l.lG2({type:fe,viewQuery:function(ue,pe){if(1&ue&&(l.Gf(xe,5),l.Gf(ae,5),l.Gf(g.wG,5)),2&ue){let Le;l.iGM(Le=l.CRH())&&(pe._inputElement=Le.first),l.iGM(Le=l.CRH())&&(pe._labelElement=Le.first),l.iGM(Le=l.CRH())&&(pe.ripple=Le.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[l.qOj]}),fe})(),Ge=(()=>{class fe extends at{constructor(ue,pe,Le,Y,Ze,Ue){super("mat-mdc-checkbox-",ue,pe,Le,Y,Ze,Ue),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(ue){const pe=new me;return pe.source=this,pe.checked=ue,pe}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(ue){ue.target&&this._labelElement.nativeElement.contains(ue.target)&&ue.stopPropagation()}}return fe.\u0275fac=function(ue){return new(ue||fe)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.$8M("tabindex"),l.Y36(l.QbO,8),l.Y36(_e,8))},fe.\u0275cmp=l.Xpm({type:fe,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(ue,pe){2&ue&&(l.Ikx("id",pe.id),l.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),l.ekj("_mat-animation-noopable","NoopAnimations"===pe._animationMode)("mdc-checkbox--disabled",pe.disabled)("mat-mdc-checkbox-disabled",pe.disabled)("mat-mdc-checkbox-checked",pe.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[l._Bn([oe]),l.qOj],ngContentSelectors:W,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(ue,pe){if(1&ue&&(l.F$t(),l.TgZ(0,"div",0),l.NdJ("click",function(Y){return pe._preventBubblingFromLabel(Y)}),l.TgZ(1,"div",1,2)(3,"div",3),l.NdJ("click",function(){return pe._onTouchTargetClick()}),l.qZA(),l.TgZ(4,"input",4,5),l.NdJ("blur",function(){return pe._onBlur()})("click",function(){return pe._onInputClick()})("change",function(Y){return pe._onInteractionEvent(Y)}),l.qZA(),l._UZ(6,"div",6),l.TgZ(7,"div",7),l.O4$(),l.TgZ(8,"svg",8),l._UZ(9,"path",9),l.qZA(),l.kcU(),l._UZ(10,"div",10),l.qZA(),l._UZ(11,"div",11),l.qZA(),l.TgZ(12,"label",12,13),l.Hsn(14),l.qZA()()),2&ue){const Le=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==pe.labelPosition),l.xp6(4),l.ekj("mdc-checkbox--selected",pe.checked),l.Q6J("checked",pe.checked)("indeterminate",pe.indeterminate)("disabled",pe.disabled)("id",pe.inputId)("required",pe.required)("tabIndex",pe.tabIndex),l.uIk("aria-label",pe.ariaLabel||null)("aria-labelledby",pe.ariaLabelledby)("aria-describedby",pe.ariaDescribedby)("name",pe.name)("value",pe.value),l.xp6(7),l.Q6J("matRippleTrigger",Le)("matRippleDisabled",pe.disableRipple||pe.disabled)("matRippleCentered",!0),l.xp6(1),l.Q6J("for",pe.inputId)}},dependencies:[g.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),fe})(),Oe=(()=>{class fe{}return fe.\u0275fac=function(ue){return new(ue||fe)},fe.\u0275mod=l.oAB({type:fe}),fe.\u0275inj=l.cJS({}),fe})(),Et=(()=>{class fe{}return fe.\u0275fac=function(ue){return new(ue||fe)},fe.\u0275mod=l.oAB({type:fe}),fe.\u0275inj=l.cJS({imports:[g.BQ,g.si,Oe,g.BQ,Oe]}),fe})()},1217:(pn,rt,w)=>{w.d(rt,{yN:()=>Je,mZ:()=>Ve,Y2:()=>He,BQ:()=>fe,Ng:()=>hi,us:()=>Xt,wG:()=>pt,si:()=>ht,IR:()=>yt,pj:()=>Y,Kr:()=>Ze,Id:()=>Le,sb:()=>Ue});var l=w(2223),p=w(706),g=w(8930),xe=w(4755),ae=w(2966),W=w(1692);let Je=(()=>{class en{}return en.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",en.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",en.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",en.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",en})(),Ve=(()=>{class en{}return en.COMPLEX="375ms",en.ENTERING="225ms",en.EXITING="195ms",en})();const Et=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function Oe(){return!0}});let fe=(()=>{class en{constructor(ut,We,je){this._sanityChecks=We,this._document=je,this._hasDoneGlobalChecks=!1,ut._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ut){return!(0,ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ut])}}return en.\u0275fac=function(ut){return new(ut||en)(l.LFG(p.qm),l.LFG(Et,8),l.LFG(xe.K0))},en.\u0275mod=l.oAB({type:en}),en.\u0275inj=l.cJS({imports:[g.vT,g.vT]}),en})();function Le(en){return class extends en{get disabled(){return this._disabled}set disabled(ct){this._disabled=(0,W.Ig)(ct)}constructor(...ct){super(...ct),this._disabled=!1}}}function Y(en,ct){return class extends en{get color(){return this._color}set color(ut){const We=ut||this.defaultColor;We!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),We&&this._elementRef.nativeElement.classList.add(`mat-${We}`),this._color=We)}constructor(...ut){super(...ut),this.defaultColor=ct,this.color=ct}}}function Ze(en){return class extends en{get disableRipple(){return this._disableRipple}set disableRipple(ct){this._disableRipple=(0,W.Ig)(ct)}constructor(...ct){super(...ct),this._disableRipple=!1}}}function Ue(en,ct=0){return class extends en{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(ut){this._tabIndex=null!=ut?(0,W.su)(ut):this.defaultTabIndex}constructor(...ut){super(...ut),this._tabIndex=ct,this.defaultTabIndex=ct}}}class Wt{constructor(ct,ut,We,je=!1){this._renderer=ct,this.element=ut,this.config=We,this._animationForciblyDisabledThroughCss=je,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Lt=(0,ae.i$)({passive:!0,capture:!0});class Bt{constructor(){this._events=new Map,this._delegateEventHandler=ct=>{const ut=(0,ae.sA)(ct);ut&&this._events.get(ct.type)?.forEach((We,je)=>{(je===ut||je.contains(ut))&&We.forEach(Ae=>Ae.handleEvent(ct))})}}addHandler(ct,ut,We,je){const Ae=this._events.get(ut);if(Ae){const St=Ae.get(We);St?St.add(je):Ae.set(We,new Set([je]))}else this._events.set(ut,new Map([[We,new Set([je])]])),ct.runOutsideAngular(()=>{document.addEventListener(ut,this._delegateEventHandler,Lt)})}removeHandler(ct,ut,We){const je=this._events.get(ct);if(!je)return;const Ae=je.get(ut);Ae&&(Ae.delete(We),0===Ae.size&&je.delete(ut),0===je.size&&(this._events.delete(ct),document.removeEventListener(ct,this._delegateEventHandler,Lt)))}}const ft={enterDuration:225,exitDuration:150},Jt=(0,ae.i$)({passive:!0,capture:!0}),yn=["mousedown","touchstart"],mn=["mouseup","mouseleave","touchend","touchcancel"];class yt{constructor(ct,ut,We,je){this._target=ct,this._ngZone=ut,this._platform=je,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,je.isBrowser&&(this._containerElement=(0,W.fI)(We))}fadeInRipple(ct,ut,We={}){const je=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ae={...ft,...We.animation};We.centered&&(ct=je.left+je.width/2,ut=je.top+je.height/2);const St=We.radius||function he(en,ct,ut){const We=Math.max(Math.abs(en-ut.left),Math.abs(en-ut.right)),je=Math.max(Math.abs(ct-ut.top),Math.abs(ct-ut.bottom));return Math.sqrt(We*We+je*je)}(ct,ut,je),Kt=ct-je.left,Pe=ut-je.top,le=Ae.enterDuration,j=document.createElement("div");j.classList.add("mat-ripple-element"),j.style.left=Kt-St+"px",j.style.top=Pe-St+"px",j.style.height=2*St+"px",j.style.width=2*St+"px",null!=We.color&&(j.style.backgroundColor=We.color),j.style.transitionDuration=`${le}ms`,this._containerElement.appendChild(j);const U=window.getComputedStyle(j),de=U.transitionDuration,ce="none"===U.transitionProperty||"0s"===de||"0s, 0s"===de||0===je.width&&0===je.height,Te=new Wt(this,j,We,ce);j.style.transform="scale3d(1, 1, 1)",Te.state=0,We.persistent||(this._mostRecentTransientRipple=Te);let Re=null;return!ce&&(le||Ae.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ne=()=>this._finishRippleTransition(Te),Q=()=>this._destroyRipple(Te);j.addEventListener("transitionend",Ne),j.addEventListener("transitioncancel",Q),Re={onTransitionEnd:Ne,onTransitionCancel:Q}}),this._activeRipples.set(Te,Re),(ce||!le)&&this._finishRippleTransition(Te),Te}fadeOutRipple(ct){if(2===ct.state||3===ct.state)return;const ut=ct.element,We={...ft,...ct.config.animation};ut.style.transitionDuration=`${We.exitDuration}ms`,ut.style.opacity="0",ct.state=2,(ct._animationForciblyDisabledThroughCss||!We.exitDuration)&&this._finishRippleTransition(ct)}fadeOutAll(){this._getActiveRipples().forEach(ct=>ct.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ct=>{ct.config.persistent||ct.fadeOut()})}setupTriggerEvents(ct){const ut=(0,W.fI)(ct);!this._platform.isBrowser||!ut||ut===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ut,yn.forEach(We=>{yt._eventManager.addHandler(this._ngZone,We,ut,this)}))}handleEvent(ct){"mousedown"===ct.type?this._onMousedown(ct):"touchstart"===ct.type?this._onTouchStart(ct):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{mn.forEach(ut=>{this._triggerElement.addEventListener(ut,this,Jt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ct){0===ct.state?this._startFadeOutTransition(ct):2===ct.state&&this._destroyRipple(ct)}_startFadeOutTransition(ct){const ut=ct===this._mostRecentTransientRipple,{persistent:We}=ct.config;ct.state=1,!We&&(!ut||!this._isPointerDown)&&ct.fadeOut()}_destroyRipple(ct){const ut=this._activeRipples.get(ct)??null;this._activeRipples.delete(ct),this._activeRipples.size||(this._containerRect=null),ct===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ct.state=3,null!==ut&&(ct.element.removeEventListener("transitionend",ut.onTransitionEnd),ct.element.removeEventListener("transitioncancel",ut.onTransitionCancel)),ct.element.remove()}_onMousedown(ct){const ut=(0,p.X6)(ct),We=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ut&&!We&&(this._isPointerDown=!0,this.fadeInRipple(ct.clientX,ct.clientY,this._target.rippleConfig))}_onTouchStart(ct){if(!this._target.rippleDisabled&&!(0,p.yG)(ct)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ut=ct.changedTouches;for(let We=0;We<ut.length;We++)this.fadeInRipple(ut[We].clientX,ut[We].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ct=>{!ct.config.persistent&&(1===ct.state||ct.config.terminateOnPointerUp&&0===ct.state)&&ct.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ct=this._triggerElement;ct&&(yn.forEach(ut=>yt._eventManager.removeHandler(ut,ct,this)),this._pointerUpEventsRegistered&&mn.forEach(ut=>ct.removeEventListener(ut,this,Jt)))}}yt._eventManager=new Bt;const He=new l.OlP("mat-ripple-global-options");let pt=(()=>{class en{get disabled(){return this._disabled}set disabled(ut){ut&&this.fadeOutAllNonPersistent(),this._disabled=ut,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ut){this._trigger=ut,this._setupTriggerEventsIfEnabled()}constructor(ut,We,je,Ae,St){this._elementRef=ut,this._animationMode=St,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ae||{},this._rippleRenderer=new yt(this,We,ut,je)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ut,We=0,je){return"number"==typeof ut?this._rippleRenderer.fadeInRipple(ut,We,{...this.rippleConfig,...je}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ut})}}return en.\u0275fac=function(ut){return new(ut||en)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ae.t4),l.Y36(He,8),l.Y36(l.QbO,8))},en.\u0275dir=l.lG2({type:en,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ut,We){2&ut&&l.ekj("mat-ripple-unbounded",We.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),en})(),ht=(()=>{class en{}return en.\u0275fac=function(ut){return new(ut||en)},en.\u0275mod=l.oAB({type:en}),en.\u0275inj=l.cJS({imports:[fe,fe]}),en})(),Xt=(()=>{class en{}return en.\u0275fac=function(ut){return new(ut||en)},en.\u0275mod=l.oAB({type:en}),en.\u0275inj=l.cJS({imports:[fe]}),en})(),hi=(()=>{class en{}return en.\u0275fac=function(ut){return new(ut||en)},en.\u0275mod=l.oAB({type:en}),en.\u0275inj=l.cJS({imports:[ht,xe.ez,fe,Xt]}),en})()},6286:(pn,rt,w)=>{w.d(rt,{Is:()=>Nt,WI:()=>Tt,so:()=>Ue,uw:()=>Be,vA:()=>Ve});var l=w(9002),p=w(4755),g=w(2223),te=w(706),xe=w(3223),ae=w(1692),W=w(8023),_e=w(7579),Ce=w(6451),oe=w(9770),me=w(9300),ve=w(5698),ze=w(8675),Fe=w(2840),at=w(1217);function Je(Lt,Bt){}w(1591);class Ve{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Oe="mdc-dialog--open",Et="mdc-dialog--opening",fe="mdc-dialog--closing";let pe=(()=>{class Lt extends xe.LL{constructor(ft,qe,Jt,yn,mn,yt,he,He){super(ft,qe,Jt,yn,mn,yt,he,He),this._animationStateChanged=new g.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ft){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ft})}}return Lt.\u0275fac=function(ft){return new(ft||Lt)(g.Y36(g.SBq),g.Y36(te.qV),g.Y36(p.K0,8),g.Y36(Ve),g.Y36(te.ic),g.Y36(g.R0b),g.Y36(l.Iu),g.Y36(te.tE))},Lt.\u0275cmp=g.Xpm({type:Lt,selectors:[["ng-component"]],features:[g.qOj],decls:0,vars:0,template:function(ft,qe){},encapsulation:2}),Lt})();const Le="--mat-dialog-transition-duration";function Y(Lt){return null==Lt?null:"number"==typeof Lt?Lt:Lt.endsWith("ms")?(0,ae.su)(Lt.substring(0,Lt.length-2)):Lt.endsWith("s")?1e3*(0,ae.su)(Lt.substring(0,Lt.length-1)):"0"===Lt?0:null}let Ze=(()=>{class Lt extends pe{constructor(ft,qe,Jt,yn,mn,yt,he,He,pt){super(ft,qe,Jt,yn,mn,yt,he,pt),this._animationMode=He,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Y(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Y(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Et,Oe)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Oe),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Oe),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fe)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Et,fe)}_waitForAnimationToComplete(ft,qe){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(qe,ft)}_requestAnimationFrame(ft){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ft):ft()})}}return Lt.\u0275fac=function(ft){return new(ft||Lt)(g.Y36(g.SBq),g.Y36(te.qV),g.Y36(p.K0,8),g.Y36(Ve),g.Y36(te.ic),g.Y36(g.R0b),g.Y36(l.Iu),g.Y36(g.QbO,8),g.Y36(te.tE))},Lt.\u0275cmp=g.Xpm({type:Lt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(ft,qe){2&ft&&(g.Ikx("id",qe._config.id),g.uIk("aria-modal",qe._config.ariaModal)("role",qe._config.role)("aria-labelledby",qe._config.ariaLabel?null:qe._ariaLabelledBy)("aria-label",qe._config.ariaLabel)("aria-describedby",qe._config.ariaDescribedBy||null),g.ekj("_mat-animation-noopable",!qe._animationsEnabled))},features:[g.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ft,qe){1&ft&&(g.TgZ(0,"div",0)(1,"div",1),g.YNc(2,Je,0,0,"ng-template",2),g.qZA()())},dependencies:[W.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),Lt})();class Ue{constructor(Bt,ft,qe){this._ref=Bt,this._containerInstance=qe,this._afterOpened=new _e.x,this._beforeClosed=new _e.x,this._state=0,this.disableClose=ft.disableClose,this.id=Bt.id,qe._animationStateChanged.pipe((0,me.h)(Jt=>"opened"===Jt.state),(0,ve.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),qe._animationStateChanged.pipe((0,me.h)(Jt=>"closed"===Jt.state),(0,ve.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Bt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ce.T)(this.backdropClick(),this.keydownEvents().pipe((0,me.h)(Jt=>Jt.keyCode===Fe.hY&&!this.disableClose&&!(0,Fe.Vb)(Jt)))).subscribe(Jt=>{this.disableClose||(Jt.preventDefault(),function Qe(Lt,Bt,ft){Lt._closeInteractionType=Bt,Lt.close(ft)}(this,"keydown"===Jt.type?"keyboard":"mouse"))})}close(Bt){this._result=Bt,this._containerInstance._animationStateChanged.pipe((0,me.h)(ft=>"closing"===ft.state),(0,ve.q)(1)).subscribe(ft=>{this._beforeClosed.next(Bt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ft.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Bt){let ft=this._ref.config.positionStrategy;return Bt&&(Bt.left||Bt.right)?Bt.left?ft.left(Bt.left):ft.right(Bt.right):ft.centerHorizontally(),Bt&&(Bt.top||Bt.bottom)?Bt.top?ft.top(Bt.top):ft.bottom(Bt.bottom):ft.centerVertically(),this._ref.updatePosition(),this}updateSize(Bt="",ft=""){return this._ref.updateSize(Bt,ft),this}addPanelClass(Bt){return this._ref.addPanelClass(Bt),this}removePanelClass(Bt){return this._ref.removePanelClass(Bt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Tt=new g.OlP("MatMdcDialogData"),bn=new g.OlP("mat-mdc-dialog-default-options"),kn=new g.OlP("mat-mdc-dialog-scroll-strategy"),bt={provide:kn,deps:[l.aV],useFactory:function vt(Lt){return()=>Lt.scrollStrategies.block()}};let dt=0,Ht=(()=>{class Lt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ft=this._parentDialog;return ft?ft._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ft,qe,Jt,yn,mn,yt,he,He,pt,ht){this._overlay=ft,this._defaultOptions=Jt,this._parentDialog=yn,this._dialogRefConstructor=he,this._dialogContainerType=He,this._dialogDataToken=pt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Ve,this.afterAllClosed=(0,oe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ze.O)(void 0))),this._scrollStrategy=yt,this._dialog=qe.get(xe.Vq)}open(ft,qe){let Jt;(qe={...this._defaultOptions||new Ve,...qe}).id=qe.id||`${this._idPrefix}${dt++}`,qe.scrollStrategy=qe.scrollStrategy||this._scrollStrategy();const yn=this._dialog.open(ft,{...qe,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:qe},{provide:xe.ib,useValue:qe}]},templateContext:()=>({dialogRef:Jt}),providers:(mn,yt,he)=>(Jt=new this._dialogRefConstructor(mn,qe,he),Jt.updatePosition(qe?.position),[{provide:this._dialogContainerType,useValue:he},{provide:this._dialogDataToken,useValue:yt.data},{provide:this._dialogRefConstructor,useValue:Jt}])});return Jt.componentInstance=yn.componentInstance,this.openDialogs.push(Jt),this.afterOpened.next(Jt),Jt.afterClosed().subscribe(()=>{const mn=this.openDialogs.indexOf(Jt);mn>-1&&(this.openDialogs.splice(mn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Jt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ft){return this.openDialogs.find(qe=>qe.id===ft)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ft){let qe=ft.length;for(;qe--;)ft[qe].close()}}return Lt.\u0275fac=function(ft){g.$Z()},Lt.\u0275prov=g.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})(),Be=(()=>{class Lt extends Ht{constructor(ft,qe,Jt,yn,mn,yt,he,He){super(ft,qe,yn,yt,he,mn,Ue,Ze,Tt,He),this._idPrefix="mat-mdc-dialog-"}}return Lt.\u0275fac=function(ft){return new(ft||Lt)(g.LFG(l.aV),g.LFG(g.zs3),g.LFG(p.Ye,8),g.LFG(bn,8),g.LFG(kn),g.LFG(Lt,12),g.LFG(l.Xj),g.LFG(g.QbO,8))},Lt.\u0275prov=g.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})(),Nt=(()=>{class Lt{}return Lt.\u0275fac=function(ft){return new(ft||Lt)},Lt.\u0275mod=g.oAB({type:Lt}),Lt.\u0275inj=g.cJS({providers:[Be,bt],imports:[xe.Su,l.U8,W.eL,at.BQ,at.BQ]}),Lt})()},430:(pn,rt,w)=>{w.d(rt,{Hw:()=>mt,Ps:()=>Rt});var l=w(2223),p=w(1217),g=w(1692),te=w(4755),xe=w(9646),ae=w(2843),W=w(4128),_e=w(727),Ce=w(8505),oe=w(4004),me=w(262),ve=w(8746),ze=w(3099),Fe=w(5698),at=w(3144),Ge=w(6550);const Je=["*"];let Ve;function Et(qt){return function Oe(){if(void 0===Ve&&(Ve=null,typeof window<"u")){const qt=window;void 0!==qt.trustedTypes&&(Ve=qt.trustedTypes.createPolicy("angular#components",{createHTML:Mt=>Mt}))}return Ve}()?.createHTML(qt)||qt}function fe(qt){return Error(`Unable to find icon with the name "${qt}"`)}function ue(qt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${qt}".`)}function pe(qt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${qt}".`)}class Le{constructor(Mt,Xe,ot){this.url=Mt,this.svgText=Xe,this.options=ot}}let Y=(()=>{class qt{constructor(Xe,ot,Nt,It){this._httpClient=Xe,this._sanitizer=ot,this._errorHandler=It,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Nt}addSvgIcon(Xe,ot,Nt){return this.addSvgIconInNamespace("",Xe,ot,Nt)}addSvgIconLiteral(Xe,ot,Nt){return this.addSvgIconLiteralInNamespace("",Xe,ot,Nt)}addSvgIconInNamespace(Xe,ot,Nt,It){return this._addSvgIconConfig(Xe,ot,new Le(Nt,null,It))}addSvgIconResolver(Xe){return this._resolvers.push(Xe),this}addSvgIconLiteralInNamespace(Xe,ot,Nt,It){const Wt=this._sanitizer.sanitize(l.q3G.HTML,Nt);if(!Wt)throw pe(Nt);const Lt=Et(Wt);return this._addSvgIconConfig(Xe,ot,new Le("",Lt,It))}addSvgIconSet(Xe,ot){return this.addSvgIconSetInNamespace("",Xe,ot)}addSvgIconSetLiteral(Xe,ot){return this.addSvgIconSetLiteralInNamespace("",Xe,ot)}addSvgIconSetInNamespace(Xe,ot,Nt){return this._addSvgIconSetConfig(Xe,new Le(ot,null,Nt))}addSvgIconSetLiteralInNamespace(Xe,ot,Nt){const It=this._sanitizer.sanitize(l.q3G.HTML,ot);if(!It)throw pe(ot);const Wt=Et(It);return this._addSvgIconSetConfig(Xe,new Le("",Wt,Nt))}registerFontClassAlias(Xe,ot=Xe){return this._fontCssClassesByAlias.set(Xe,ot),this}classNameForFontAlias(Xe){return this._fontCssClassesByAlias.get(Xe)||Xe}setDefaultFontSetClass(...Xe){return this._defaultFontSetClass=Xe,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Xe){const ot=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,Xe);if(!ot)throw ue(Xe);const Nt=this._cachedIconsByUrl.get(ot);return Nt?(0,xe.of)(Qe(Nt)):this._loadSvgIconFromConfig(new Le(Xe,null)).pipe((0,Ce.b)(It=>this._cachedIconsByUrl.set(ot,It)),(0,oe.U)(It=>Qe(It)))}getNamedSvgIcon(Xe,ot=""){const Nt=Tt(ot,Xe);let It=this._svgIconConfigs.get(Nt);if(It)return this._getSvgFromConfig(It);if(It=this._getIconConfigFromResolvers(ot,Xe),It)return this._svgIconConfigs.set(Nt,It),this._getSvgFromConfig(It);const Wt=this._iconSetConfigs.get(ot);return Wt?this._getSvgFromIconSetConfigs(Xe,Wt):(0,ae._)(fe(Nt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Xe){return Xe.svgText?(0,xe.of)(Qe(this._svgElementFromConfig(Xe))):this._loadSvgIconFromConfig(Xe).pipe((0,oe.U)(ot=>Qe(ot)))}_getSvgFromIconSetConfigs(Xe,ot){const Nt=this._extractIconWithNameFromAnySet(Xe,ot);if(Nt)return(0,xe.of)(Nt);const It=ot.filter(Wt=>!Wt.svgText).map(Wt=>this._loadSvgIconSetFromConfig(Wt).pipe((0,me.K)(Lt=>{const ft=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,Wt.url)} failed: ${Lt.message}`;return this._errorHandler.handleError(new Error(ft)),(0,xe.of)(null)})));return(0,W.D)(It).pipe((0,oe.U)(()=>{const Wt=this._extractIconWithNameFromAnySet(Xe,ot);if(!Wt)throw fe(Xe);return Wt}))}_extractIconWithNameFromAnySet(Xe,ot){for(let Nt=ot.length-1;Nt>=0;Nt--){const It=ot[Nt];if(It.svgText&&It.svgText.toString().indexOf(Xe)>-1){const Wt=this._svgElementFromConfig(It),Lt=this._extractSvgIconFromSet(Wt,Xe,It.options);if(Lt)return Lt}}return null}_loadSvgIconFromConfig(Xe){return this._fetchIcon(Xe).pipe((0,Ce.b)(ot=>Xe.svgText=ot),(0,oe.U)(()=>this._svgElementFromConfig(Xe)))}_loadSvgIconSetFromConfig(Xe){return Xe.svgText?(0,xe.of)(null):this._fetchIcon(Xe).pipe((0,Ce.b)(ot=>Xe.svgText=ot))}_extractSvgIconFromSet(Xe,ot,Nt){const It=Xe.querySelector(`[id="${ot}"]`);if(!It)return null;const Wt=It.cloneNode(!0);if(Wt.removeAttribute("id"),"svg"===Wt.nodeName.toLowerCase())return this._setSvgAttributes(Wt,Nt);if("symbol"===Wt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Wt),Nt);const Lt=this._svgElementFromString(Et("<svg></svg>"));return Lt.appendChild(Wt),this._setSvgAttributes(Lt,Nt)}_svgElementFromString(Xe){const ot=this._document.createElement("DIV");ot.innerHTML=Xe;const Nt=ot.querySelector("svg");if(!Nt)throw Error("<svg> tag not found");return Nt}_toSvgElement(Xe){const ot=this._svgElementFromString(Et("<svg></svg>")),Nt=Xe.attributes;for(let It=0;It<Nt.length;It++){const{name:Wt,value:Lt}=Nt[It];"id"!==Wt&&ot.setAttribute(Wt,Lt)}for(let It=0;It<Xe.childNodes.length;It++)Xe.childNodes[It].nodeType===this._document.ELEMENT_NODE&&ot.appendChild(Xe.childNodes[It].cloneNode(!0));return ot}_setSvgAttributes(Xe,ot){return Xe.setAttribute("fit",""),Xe.setAttribute("height","100%"),Xe.setAttribute("width","100%"),Xe.setAttribute("preserveAspectRatio","xMidYMid meet"),Xe.setAttribute("focusable","false"),ot&&ot.viewBox&&Xe.setAttribute("viewBox",ot.viewBox),Xe}_fetchIcon(Xe){const{url:ot,options:Nt}=Xe,It=Nt?.withCredentials??!1;if(!this._httpClient)throw function Ee(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ot)throw Error(`Cannot fetch icon from URL "${ot}".`);const Wt=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,ot);if(!Wt)throw ue(ot);const Lt=this._inProgressUrlFetches.get(Wt);if(Lt)return Lt;const Bt=this._httpClient.get(Wt,{responseType:"text",withCredentials:It}).pipe((0,oe.U)(ft=>Et(ft)),(0,ve.x)(()=>this._inProgressUrlFetches.delete(Wt)),(0,ze.B)());return this._inProgressUrlFetches.set(Wt,Bt),Bt}_addSvgIconConfig(Xe,ot,Nt){return this._svgIconConfigs.set(Tt(Xe,ot),Nt),this}_addSvgIconSetConfig(Xe,ot){const Nt=this._iconSetConfigs.get(Xe);return Nt?Nt.push(ot):this._iconSetConfigs.set(Xe,[ot]),this}_svgElementFromConfig(Xe){if(!Xe.svgElement){const ot=this._svgElementFromString(Xe.svgText);this._setSvgAttributes(ot,Xe.options),Xe.svgElement=ot}return Xe.svgElement}_getIconConfigFromResolvers(Xe,ot){for(let Nt=0;Nt<this._resolvers.length;Nt++){const It=this._resolvers[Nt](ot,Xe);if(It)return bn(It)?new Le(It.url,null,It.options):new Le(It,null)}}}return qt.\u0275fac=function(Xe){return new(Xe||qt)(l.LFG(at.eN,8),l.LFG(Ge.H7),l.LFG(te.K0,8),l.LFG(l.qLn))},qt.\u0275prov=l.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt})();function Qe(qt){return qt.cloneNode(!0)}function Tt(qt,Mt){return qt+":"+Mt}function bn(qt){return!(!qt.url||!qt.options)}const kn=(0,p.pj)(class{constructor(qt){this._elementRef=qt}}),vt=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),bt=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Vt(){const qt=(0,l.f3M)(te.K0),Mt=qt?qt.location:null;return{getPathname:()=>Mt?Mt.pathname+Mt.search:""}}}),dt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ht=dt.map(qt=>`[${qt}]`).join(", "),Be=/^url\(['"]?#(.*?)['"]?\)$/;let mt=(()=>{class qt extends kn{get inline(){return this._inline}set inline(Xe){this._inline=(0,g.Ig)(Xe)}get svgIcon(){return this._svgIcon}set svgIcon(Xe){Xe!==this._svgIcon&&(Xe?this._updateSvgIcon(Xe):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Xe)}get fontSet(){return this._fontSet}set fontSet(Xe){const ot=this._cleanupFontValue(Xe);ot!==this._fontSet&&(this._fontSet=ot,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Xe){const ot=this._cleanupFontValue(Xe);ot!==this._fontIcon&&(this._fontIcon=ot,this._updateFontIconClasses())}constructor(Xe,ot,Nt,It,Wt,Lt){super(Xe),this._iconRegistry=ot,this._location=It,this._errorHandler=Wt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=_e.w0.EMPTY,Lt&&(Lt.color&&(this.color=this.defaultColor=Lt.color),Lt.fontSet&&(this.fontSet=Lt.fontSet)),Nt||Xe.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Xe){if(!Xe)return["",""];const ot=Xe.split(":");switch(ot.length){case 1:return["",ot[0]];case 2:return ot;default:throw Error(`Invalid icon name: "${Xe}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Xe=this._elementsWithExternalReferences;if(Xe&&Xe.size){const ot=this._location.getPathname();ot!==this._previousPath&&(this._previousPath=ot,this._prependPathToReferences(ot))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Xe){this._clearSvgElement();const ot=this._location.getPathname();this._previousPath=ot,this._cacheChildrenWithExternalReferences(Xe),this._prependPathToReferences(ot),this._elementRef.nativeElement.appendChild(Xe)}_clearSvgElement(){const Xe=this._elementRef.nativeElement;let ot=Xe.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ot--;){const Nt=Xe.childNodes[ot];(1!==Nt.nodeType||"svg"===Nt.nodeName.toLowerCase())&&Nt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Xe=this._elementRef.nativeElement,ot=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Nt=>Nt.length>0);this._previousFontSetClass.forEach(Nt=>Xe.classList.remove(Nt)),ot.forEach(Nt=>Xe.classList.add(Nt)),this._previousFontSetClass=ot,this.fontIcon!==this._previousFontIconClass&&!ot.includes("mat-ligature-font")&&(this._previousFontIconClass&&Xe.classList.remove(this._previousFontIconClass),this.fontIcon&&Xe.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Xe){return"string"==typeof Xe?Xe.trim().split(" ")[0]:Xe}_prependPathToReferences(Xe){const ot=this._elementsWithExternalReferences;ot&&ot.forEach((Nt,It)=>{Nt.forEach(Wt=>{It.setAttribute(Wt.name,`url('${Xe}#${Wt.value}')`)})})}_cacheChildrenWithExternalReferences(Xe){const ot=Xe.querySelectorAll(Ht),Nt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let It=0;It<ot.length;It++)dt.forEach(Wt=>{const Lt=ot[It],Bt=Lt.getAttribute(Wt),ft=Bt?Bt.match(Be):null;if(ft){let qe=Nt.get(Lt);qe||(qe=[],Nt.set(Lt,qe)),qe.push({name:Wt,value:ft[1]})}})}_updateSvgIcon(Xe){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Xe){const[ot,Nt]=this._splitIconName(Xe);ot&&(this._svgNamespace=ot),Nt&&(this._svgName=Nt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Nt,ot).pipe((0,Fe.q)(1)).subscribe(It=>this._setSvgElement(It),It=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ot}:${Nt}! ${It.message}`))})}}}return qt.\u0275fac=function(Xe){return new(Xe||qt)(l.Y36(l.SBq),l.Y36(Y),l.$8M("aria-hidden"),l.Y36(bt),l.Y36(l.qLn),l.Y36(vt,8))},qt.\u0275cmp=l.Xpm({type:qt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Xe,ot){2&Xe&&(l.uIk("data-mat-icon-type",ot._usingFontIcon()?"font":"svg")("data-mat-icon-name",ot._svgName||ot.fontIcon)("data-mat-icon-namespace",ot._svgNamespace||ot.fontSet)("fontIcon",ot._usingFontIcon()?ot.fontIcon:null),l.ekj("mat-icon-inline",ot.inline)("mat-icon-no-color","primary"!==ot.color&&"accent"!==ot.color&&"warn"!==ot.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Je,decls:1,vars:0,template:function(Xe,ot){1&Xe&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),qt})(),Rt=(()=>{class qt{}return qt.\u0275fac=function(Xe){return new(Xe||qt)},qt.\u0275mod=l.oAB({type:qt}),qt.\u0275inj=l.cJS({imports:[p.BQ,p.BQ]}),qt})()},2659:(pn,rt,w)=>{w.d(rt,{VK:()=>He,KA:()=>Bt,OP:()=>Xe,Tx:()=>xn,p6:()=>ni});var l=w(2223),p=w(706),g=w(1692),te=w(2840),xe=w(7579),ae=w(6451),W=w(727),_e=w(9646),Ce=w(3101),oe=w(8675),me=w(3900),ve=w(5698),ze=w(2722),Fe=w(9300),at=w(4986),Ge=w(7272),Je=w(4482),Ve=w(5403),Oe=w(5032),fe=w(9718),Ee=w(5577),ue=w(8421);function pe(ln,Un){return Un?Ke=>(0,Ge.z)(Un.pipe((0,ve.q)(1),function Et(){return(0,Je.e)((ln,Un)=>{ln.subscribe((0,Ve.x)(Un,Oe.Z))})}()),Ke.pipe(pe(ln))):(0,Ee.z)((Ke,Ot)=>(0,ue.Xf)(ln(Ke,Ot)).pipe((0,ve.q)(1),(0,fe.h)(Ke)))}var Le=w(5963);function Y(ln,Un=at.z){const Ke=(0,Le.H)(ln,Un);return pe(()=>Ke)}var Ze=w(1217),Ue=w(4755),Qe=w(8023),Tt=w(1591),bn=w(8930),kn=w(9002),vt=w(2966),bt=w(4709);const Vt=["mat-menu-item",""];function dt(ln,Un){1&ln&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"polygon",4),l.qZA())}const Ht=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Be=["mat-icon, [matMenuItemIcon]","*"];function mt(ln,Un){if(1&ln){const Ke=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(Zt){l.CHM(Ke);const Tn=l.oxw();return l.KtG(Tn._handleKeydown(Zt))})("click",function(){l.CHM(Ke);const Zt=l.oxw();return l.KtG(Zt.closed.emit("click"))})("@transformMenu.start",function(Zt){l.CHM(Ke);const Tn=l.oxw();return l.KtG(Tn._onAnimationStart(Zt))})("@transformMenu.done",function(Zt){l.CHM(Ke);const Tn=l.oxw();return l.KtG(Tn._onAnimationDone(Zt))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&ln){const Ke=l.oxw();l.Q6J("id",Ke.panelId)("ngClass",Ke._classList)("@transformMenu",Ke._panelAnimationState),l.uIk("aria-label",Ke.ariaLabel||null)("aria-labelledby",Ke.ariaLabelledby||null)("aria-describedby",Ke.ariaDescribedby||null)}}const Rt=["*"],qt=new l.OlP("MAT_MENU_PANEL"),Mt=(0,Ze.Kr)((0,Ze.Id)(class{}));let Xe=(()=>{class ln extends Mt{constructor(Ke,Ot,Zt,Tn,li){super(),this._elementRef=Ke,this._document=Ot,this._focusMonitor=Zt,this._parentMenu=Tn,this._changeDetectorRef=li,this.role="menuitem",this._hovered=new xe.x,this._focused=new xe.x,this._highlighted=!1,this._triggersSubmenu=!1,Tn?.addItem?.(this)}focus(Ke,Ot){this._focusMonitor&&Ke?this._focusMonitor.focusVia(this._getHostElement(),Ke,Ot):this._getHostElement().focus(Ot),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Ke){this.disabled&&(Ke.preventDefault(),Ke.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Ke=this._elementRef.nativeElement.cloneNode(!0),Ot=Ke.querySelectorAll("mat-icon, .material-icons");for(let Zt=0;Zt<Ot.length;Zt++)Ot[Zt].remove();return Ke.textContent?.trim()||""}_setHighlighted(Ke){this._highlighted=Ke,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Ke){this._triggersSubmenu=Ke,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return ln.\u0275fac=function(Ke){return new(Ke||ln)(l.Y36(l.SBq),l.Y36(Ue.K0),l.Y36(p.tE),l.Y36(qt,8),l.Y36(l.sBO))},ln.\u0275cmp=l.Xpm({type:ln,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(Ke,Ot){1&Ke&&l.NdJ("click",function(Tn){return Ot._checkDisabled(Tn)})("mouseenter",function(){return Ot._handleMouseEnter()}),2&Ke&&(l.uIk("role",Ot.role)("tabindex",Ot._getTabIndex())("aria-disabled",Ot.disabled)("disabled",Ot.disabled||null),l.ekj("mat-mdc-menu-item-highlighted",Ot._highlighted)("mat-mdc-menu-item-submenu-trigger",Ot._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:Vt,ngContentSelectors:Be,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(Ke,Ot){1&Ke&&(l.F$t(Ht),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.qZA(),l._UZ(3,"div",1),l.YNc(4,dt,2,0,"svg",2)),2&Ke&&(l.xp6(3),l.Q6J("matRippleDisabled",Ot.disableRipple||Ot.disabled)("matRippleTrigger",Ot._getHostElement()),l.xp6(1),l.Q6J("ngIf",Ot._triggersSubmenu))},dependencies:[Ue.O5,Ze.wG],encapsulation:2,changeDetection:0}),ln})();const Wt=new l.OlP("MatMenuContent");let Lt=(()=>{class ln{constructor(Ke,Ot,Zt,Tn,li,yi,hi){this._template=Ke,this._componentFactoryResolver=Ot,this._appRef=Zt,this._injector=Tn,this._viewContainerRef=li,this._document=yi,this._changeDetectorRef=hi,this._attached=new xe.x}attach(Ke={}){this._portal||(this._portal=new Qe.UE(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Qe.u0(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const Ot=this._template.elementRef.nativeElement;Ot.parentNode.insertBefore(this._outlet.outletElement,Ot),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,Ke),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return ln.\u0275fac=function(Ke){return new(Ke||ln)(l.Y36(l.Rgc),l.Y36(l._Vd),l.Y36(l.z2F),l.Y36(l.zs3),l.Y36(l.s_b),l.Y36(Ue.K0),l.Y36(l.sBO))},ln.\u0275dir=l.lG2({type:ln}),ln})(),Bt=(()=>{class ln extends Lt{}return ln.\u0275fac=function(){let Un;return function(Ot){return(Un||(Un=l.n5z(ln)))(Ot||ln)}}(),ln.\u0275dir=l.lG2({type:ln,selectors:[["ng-template","matMenuContent",""]],features:[l._Bn([{provide:Wt,useExisting:ln}]),l.qOj]}),ln})();const ft={transformMenu:(0,Tt.X$)("transformMenu",[(0,Tt.SB)("void",(0,Tt.oB)({opacity:0,transform:"scale(0.8)"})),(0,Tt.eR)("void => enter",(0,Tt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Tt.oB)({opacity:1,transform:"scale(1)"}))),(0,Tt.eR)("* => void",(0,Tt.jt)("100ms 25ms linear",(0,Tt.oB)({opacity:0})))]),fadeInItems:(0,Tt.X$)("fadeInItems",[(0,Tt.SB)("showing",(0,Tt.oB)({opacity:1})),(0,Tt.eR)("void => *",[(0,Tt.oB)({opacity:0}),(0,Tt.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yn=0;const mn=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function yt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let he=(()=>{class ln{get xPosition(){return this._xPosition}set xPosition(Ke){this._xPosition=Ke,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Ke){this._yPosition=Ke,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(Ke){this._overlapTrigger=(0,g.Ig)(Ke)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ke){this._hasBackdrop=(0,g.Ig)(Ke)}set panelClass(Ke){const Ot=this._previousPanelClass;Ot&&Ot.length&&Ot.split(" ").forEach(Zt=>{this._classList[Zt]=!1}),this._previousPanelClass=Ke,Ke&&Ke.length&&(Ke.split(" ").forEach(Zt=>{this._classList[Zt]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(Ke){this.panelClass=Ke}constructor(Ke,Ot,Zt,Tn){this._elementRef=Ke,this._ngZone=Ot,this._changeDetectorRef=Tn,this._directDescendantItems=new l.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new xe.x,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+yn++,this.overlayPanelClass=Zt.overlayPanelClass||"",this._xPosition=Zt.xPosition,this._yPosition=Zt.yPosition,this.backdropClass=Zt.backdropClass,this._overlapTrigger=Zt.overlapTrigger,this._hasBackdrop=Zt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new p.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,oe.O)(this._directDescendantItems),(0,me.w)(Ke=>(0,ae.T)(...Ke.map(Ot=>Ot._focused)))).subscribe(Ke=>this._keyManager.updateActiveItem(Ke)),this._directDescendantItems.changes.subscribe(Ke=>{const Ot=this._keyManager;if("enter"===this._panelAnimationState&&Ot.activeItem?._hasFocus()){const Zt=Ke.toArray(),Tn=Math.max(0,Math.min(Zt.length-1,Ot.activeItemIndex||0));Zt[Tn]&&!Zt[Tn].disabled?Ot.setActiveItem(Tn):Ot.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,oe.O)(this._directDescendantItems),(0,me.w)(Ot=>(0,ae.T)(...Ot.map(Zt=>Zt._hovered))))}addItem(Ke){}removeItem(Ke){}_handleKeydown(Ke){const Ot=Ke.keyCode,Zt=this._keyManager;switch(Ot){case te.hY:(0,te.Vb)(Ke)||(Ke.preventDefault(),this.closed.emit("keydown"));break;case te.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case te.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(Ot===te.LH||Ot===te.JH)&&Zt.setFocusOrigin("keyboard"),void Zt.onKeydown(Ke)}Ke.stopPropagation()}focusFirstItem(Ke="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,ve.q)(1)).subscribe(()=>{let Ot=null;if(this._directDescendantItems.length&&(Ot=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!Ot||!Ot.contains(document.activeElement)){const Zt=this._keyManager;Zt.setFocusOrigin(Ke).setFirstItemActive(),!Zt.activeItem&&Ot&&Ot.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Ke){const Ot=Math.min(this._baseElevation+Ke,24),Zt=`${this._elevationPrefix}${Ot}`,Tn=Object.keys(this._classList).find(li=>li.startsWith(this._elevationPrefix));(!Tn||Tn===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Zt]=!0,this._previousElevation=Zt)}setPositionClasses(Ke=this.xPosition,Ot=this.yPosition){const Zt=this._classList;Zt["mat-menu-before"]="before"===Ke,Zt["mat-menu-after"]="after"===Ke,Zt["mat-menu-above"]="above"===Ot,Zt["mat-menu-below"]="below"===Ot,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Ke){this._animationDone.next(Ke),this._isAnimating=!1}_onAnimationStart(Ke){this._isAnimating=!0,"enter"===Ke.toState&&0===this._keyManager.activeItemIndex&&(Ke.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,oe.O)(this._allItems)).subscribe(Ke=>{this._directDescendantItems.reset(Ke.filter(Ot=>Ot._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return ln.\u0275fac=function(Ke){return new(Ke||ln)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(mn),l.Y36(l.sBO))},ln.\u0275dir=l.lG2({type:ln,contentQueries:function(Ke,Ot,Zt){if(1&Ke&&(l.Suo(Zt,Wt,5),l.Suo(Zt,Xe,5),l.Suo(Zt,Xe,4)),2&Ke){let Tn;l.iGM(Tn=l.CRH())&&(Ot.lazyContent=Tn.first),l.iGM(Tn=l.CRH())&&(Ot._allItems=Tn),l.iGM(Tn=l.CRH())&&(Ot.items=Tn)}},viewQuery:function(Ke,Ot){if(1&Ke&&l.Gf(l.Rgc,5),2&Ke){let Zt;l.iGM(Zt=l.CRH())&&(Ot.templateRef=Zt.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),ln})(),He=(()=>{class ln extends he{constructor(Ke,Ot,Zt,Tn){super(Ke,Ot,Zt,Tn),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return ln.\u0275fac=function(Ke){return new(Ke||ln)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(mn),l.Y36(l.sBO))},ln.\u0275cmp=l.Xpm({type:ln,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(Ke,Ot){2&Ke&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:qt,useExisting:ln}]),l.qOj],ngContentSelectors:Rt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(Ke,Ot){1&Ke&&(l.F$t(),l.YNc(0,mt,3,6,"ng-template"))},dependencies:[Ue.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:var(--mdc-shape-medium, 4px)}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ft.transformMenu,ft.fadeInItems]},changeDetection:0}),ln})();const pt=new l.OlP("mat-menu-scroll-strategy"),Pt={provide:pt,deps:[kn.aV],useFactory:function ht(ln){return()=>ln.scrollStrategies.reposition()}},Xt=(0,vt.i$)({passive:!0});let $n=(()=>{class ln{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Ke){this.menu=Ke}get menu(){return this._menu}set menu(Ke){Ke!==this._menu&&(this._menu=Ke,this._menuCloseSubscription.unsubscribe(),Ke&&(this._menuCloseSubscription=Ke.close.subscribe(Ot=>{this._destroyMenu(Ot),("click"===Ot||"tab"===Ot)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(Ot)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Ke,Ot,Zt,Tn,li,yi,hi,en,ct){this._overlay=Ke,this._element=Ot,this._viewContainerRef=Zt,this._menuItemInstance=yi,this._dir=hi,this._focusMonitor=en,this._ngZone=ct,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=W.w0.EMPTY,this._hoverSubscription=W.w0.EMPTY,this._menuCloseSubscription=W.w0.EMPTY,this._changeDetectorRef=(0,l.f3M)(l.sBO),this._handleTouchStart=ut=>{(0,p.yG)(ut)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Tn,this._parentMaterialMenu=li instanceof he?li:void 0,Ot.nativeElement.addEventListener("touchstart",this._handleTouchStart,Xt)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Xt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Ke=this.menu;if(this._menuOpen||!Ke)return;const Ot=this._createOverlay(Ke),Zt=Ot.getConfig(),Tn=Zt.positionStrategy;this._setPosition(Ke,Tn),Zt.hasBackdrop=null==Ke.hasBackdrop?!this.triggersSubmenu():Ke.hasBackdrop,Ot.attach(this._getPortal(Ke)),Ke.lazyContent&&Ke.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Ke),Ke instanceof he&&(Ke._startAnimation(),Ke._directDescendantItems.changes.pipe((0,ze.R)(Ke.close)).subscribe(()=>{Tn.withLockedPosition(!1).reapplyLastPosition(),Tn.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Ke,Ot){this._focusMonitor&&Ke?this._focusMonitor.focusVia(this._element,Ke,Ot):this._element.nativeElement.focus(Ot)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Ke){if(!this._overlayRef||!this.menuOpen)return;const Ot=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Ke||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,Ot instanceof he?(Ot._resetAnimation(),Ot.lazyContent?Ot._animationDone.pipe((0,Fe.h)(Zt=>"void"===Zt.toState),(0,ve.q)(1),(0,ze.R)(Ot.lazyContent._attached)).subscribe({next:()=>Ot.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),Ot?.lazyContent?.detach())}_initMenu(Ke){Ke.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Ke.direction=this.dir,this._setMenuElevation(Ke),Ke.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Ke){if(Ke.setElevation){let Ot=0,Zt=Ke.parentMenu;for(;Zt;)Ot++,Zt=Zt.parentMenu;Ke.setElevation(Ot)}}_setIsMenuOpen(Ke){Ke!==this._menuOpen&&(this._menuOpen=Ke,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Ke),this._changeDetectorRef.markForCheck())}_createOverlay(Ke){if(!this._overlayRef){const Ot=this._getOverlayConfig(Ke);this._subscribeToPositions(Ke,Ot.positionStrategy),this._overlayRef=this._overlay.create(Ot),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Ke){return new kn.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Ke.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Ke.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Ke,Ot){Ke.setPositionClasses&&Ot.positionChanges.subscribe(Zt=>{const Tn="start"===Zt.connectionPair.overlayX?"after":"before",li="top"===Zt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Ke.setPositionClasses(Tn,li)):Ke.setPositionClasses(Tn,li)})}_setPosition(Ke,Ot){let[Zt,Tn]="before"===Ke.xPosition?["end","start"]:["start","end"],[li,yi]="above"===Ke.yPosition?["bottom","top"]:["top","bottom"],[hi,en]=[li,yi],[ct,ut]=[Zt,Tn],We=0;if(this.triggersSubmenu()){if(ut=Zt="before"===Ke.xPosition?"start":"end",Tn=ct="end"===Zt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const je=this._parentMaterialMenu.items.first;this._parentInnerPadding=je?je._getHostElement().offsetTop:0}We="bottom"===li?this._parentInnerPadding:-this._parentInnerPadding}}else Ke.overlapTrigger||(hi="top"===li?"bottom":"top",en="top"===yi?"bottom":"top");Ot.withPositions([{originX:Zt,originY:hi,overlayX:ct,overlayY:li,offsetY:We},{originX:Tn,originY:hi,overlayX:ut,overlayY:li,offsetY:We},{originX:Zt,originY:en,overlayX:ct,overlayY:yi,offsetY:-We},{originX:Tn,originY:en,overlayX:ut,overlayY:yi,offsetY:-We}])}_menuClosingActions(){const Ke=this._overlayRef.backdropClick(),Ot=this._overlayRef.detachments(),Zt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_e.of)(),Tn=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Fe.h)(li=>li!==this._menuItemInstance),(0,Fe.h)(()=>this._menuOpen)):(0,_e.of)();return(0,ae.T)(Ke,Zt,Tn,Ot)}_handleMousedown(Ke){(0,p.X6)(Ke)||(this._openedBy=0===Ke.button?"mouse":void 0,this.triggersSubmenu()&&Ke.preventDefault())}_handleKeydown(Ke){const Ot=Ke.keyCode;(Ot===te.K5||Ot===te.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(Ot===te.SV&&"ltr"===this.dir||Ot===te.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Ke){this.triggersSubmenu()?(Ke.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Fe.h)(Ke=>Ke===this._menuItemInstance&&!Ke.disabled),Y(0,Ce.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof he&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ve.q)(1),Y(0,Ce.E),(0,ze.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Ke){return(!this._portal||this._portal.templateRef!==Ke.templateRef)&&(this._portal=new Qe.UE(Ke.templateRef,this._viewContainerRef)),this._portal}}return ln.\u0275fac=function(Ke){return new(Ke||ln)(l.Y36(kn.aV),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(pt),l.Y36(qt,8),l.Y36(Xe,10),l.Y36(bn.Is,8),l.Y36(p.tE),l.Y36(l.R0b))},ln.\u0275dir=l.lG2({type:ln,hostVars:3,hostBindings:function(Ke,Ot){1&Ke&&l.NdJ("click",function(Tn){return Ot._handleClick(Tn)})("mousedown",function(Tn){return Ot._handleMousedown(Tn)})("keydown",function(Tn){return Ot._handleKeydown(Tn)}),2&Ke&&l.uIk("aria-haspopup",Ot.menu?"menu":null)("aria-expanded",Ot.menuOpen)("aria-controls",Ot.menuOpen?Ot.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),ln})(),ni=(()=>{class ln extends $n{}return ln.\u0275fac=function(){let Un;return function(Ot){return(Un||(Un=l.n5z(ln)))(Ot||ln)}}(),ln.\u0275dir=l.lG2({type:ln,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),ln})(),xn=(()=>{class ln{}return ln.\u0275fac=function(Ke){return new(Ke||ln)},ln.\u0275mod=l.oAB({type:ln}),ln.\u0275inj=l.cJS({providers:[Pt],imports:[Ue.ez,Ze.si,Ze.BQ,kn.U8,bt.ZD,Ze.BQ]}),ln})()},8467:(pn,rt,w)=>{w.d(rt,{Cq:()=>Fe,Ou:()=>ve});var l=w(2223),p=w(1217),g=w(1692),te=w(4755);const xe=["determinateSpinner"];function ae(at,Ge){if(1&at&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&at){const Je=l.oxw();l.uIk("viewBox",Je._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",Je._strokeCircumference(),"px")("stroke-dashoffset",Je._strokeCircumference()/2,"px")("stroke-width",Je._circleStrokeWidth(),"%"),l.uIk("r",Je._circleRadius())}}const W=(0,p.pj)(class{constructor(at){this._elementRef=at}},"primary"),_e=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ce(){return{diameter:oe}}}),oe=100;let ve=(()=>{class at extends W{constructor(Je,Ve,Oe){super(Je),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=oe,this._noopAnimations="NoopAnimations"===Ve&&!!Oe&&!Oe._forceAnimations,Oe&&(Oe.color&&(this.color=this.defaultColor=Oe.color),Oe.diameter&&(this.diameter=Oe.diameter),Oe.strokeWidth&&(this.strokeWidth=Oe.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Je){this._value=Math.max(0,Math.min(100,(0,g.su)(Je)))}get diameter(){return this._diameter}set diameter(Je){this._diameter=(0,g.su)(Je)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Je){this._strokeWidth=(0,g.su)(Je)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Je=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Je} ${Je}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return at.\u0275fac=function(Je){return new(Je||at)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(_e))},at.\u0275cmp=l.Xpm({type:at,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Je,Ve){if(1&Je&&l.Gf(xe,5),2&Je){let Oe;l.iGM(Oe=l.CRH())&&(Ve._determinateCircle=Oe.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(Je,Ve){2&Je&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Ve.mode?Ve.value:null)("mode",Ve.mode),l.Udp("width",Ve.diameter,"px")("height",Ve.diameter,"px")("--mdc-circular-progress-size",Ve.diameter+"px")("--mdc-circular-progress-active-indicator-width",Ve.diameter+"px"),l.ekj("_mat-animation-noopable",Ve._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Ve.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Je,Ve){if(1&Je&&(l.YNc(0,ae,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&Je){const Oe=l.MAs(1);l.xp6(4),l.uIk("viewBox",Ve._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",Ve._strokeCircumference(),"px")("stroke-dashoffset",Ve._strokeDashOffset(),"px")("stroke-width",Ve._circleStrokeWidth(),"%"),l.uIk("r",Ve._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",Oe),l.xp6(2),l.Q6J("ngTemplateOutlet",Oe),l.xp6(2),l.Q6J("ngTemplateOutlet",Oe)}},dependencies:[te.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),at})(),Fe=(()=>{class at{}return at.\u0275fac=function(Je){return new(Je||at)},at.\u0275mod=l.oAB({type:at}),at.\u0275inj=l.cJS({imports:[te.ez,p.BQ]}),at})()},3617:(pn,rt,w)=>{w.d(rt,{Nh:()=>Te,SP:()=>Ae,uX:()=>Ot});var l=w(4755),p=w(2223),g=w(1217),te=w(8023),xe=w(829),ae=w(706),W=w(8930),_e=w(727),Ce=w(7579),oe=w(4968),me=w(9646),ve=w(6451),ze=w(515),Fe=w(9751),at=w(5963),Ge=w(8675),Je=w(1884),Ve=w(2722),Oe=w(5698),Et=w(3900),fe=w(5684),Ee=w(9300),ue=w(1591),pe=w(1692),Le=w(4709),Y=w(2966),Ze=w(2840);function Ue(Re,Ne){}const Qe=function(Re){return{animationDuration:Re}},Tt=function(Re,Ne){return{value:Re,params:Ne}};function bn(Re,Ne){1&Re&&p.Hsn(0)}const kn=["*"],vt=["tabListContainer"],bt=["tabList"],Vt=["tabListInner"],dt=["nextPaginator"],Ht=["previousPaginator"],Be=["tabBodyWrapper"],mt=["tabHeader"];function Rt(Re,Ne){}function qt(Re,Ne){if(1&Re&&p.YNc(0,Rt,0,0,"ng-template",14),2&Re){const Q=p.oxw().$implicit;p.Q6J("cdkPortalOutlet",Q.templateLabel)}}function Mt(Re,Ne){if(1&Re&&p._uU(0),2&Re){const Q=p.oxw().$implicit;p.Oqu(Q.textLabel)}}function Xe(Re,Ne){if(1&Re){const Q=p.EpF();p.TgZ(0,"div",6,7),p.NdJ("click",function(){const wt=p.CHM(Q),jt=wt.$implicit,zn=wt.index,ei=p.oxw(),kt=p.MAs(1);return p.KtG(ei._handleClick(jt,kt,zn))})("cdkFocusChange",function(wt){const zn=p.CHM(Q).index,ei=p.oxw();return p.KtG(ei._tabFocusChanged(wt,zn))}),p._UZ(2,"span",8)(3,"div",9),p.TgZ(4,"span",10)(5,"span",11),p.YNc(6,qt,1,1,"ng-template",12),p.YNc(7,Mt,1,1,"ng-template",null,13,p.W1O),p.qZA()()()}if(2&Re){const Q=Ne.$implicit,De=Ne.index,wt=p.MAs(1),jt=p.MAs(8),zn=p.oxw();p.ekj("mdc-tab--active",zn.selectedIndex===De),p.Q6J("id",zn._getTabLabelId(De))("ngClass",Q.labelClass)("disabled",Q.disabled)("fitInkBarToContent",zn.fitInkBarToContent),p.uIk("tabIndex",zn._getTabIndex(De))("aria-posinset",De+1)("aria-setsize",zn._tabs.length)("aria-controls",zn._getTabContentId(De))("aria-selected",zn.selectedIndex===De)("aria-label",Q.ariaLabel||null)("aria-labelledby",!Q.ariaLabel&&Q.ariaLabelledby?Q.ariaLabelledby:null),p.xp6(3),p.Q6J("matRippleTrigger",wt)("matRippleDisabled",Q.disabled||zn.disableRipple),p.xp6(3),p.Q6J("ngIf",Q.templateLabel)("ngIfElse",jt)}}function ot(Re,Ne){if(1&Re){const Q=p.EpF();p.TgZ(0,"mat-tab-body",15),p.NdJ("_onCentered",function(){p.CHM(Q);const wt=p.oxw();return p.KtG(wt._removeTabBodyWrapperHeight())})("_onCentering",function(wt){p.CHM(Q);const jt=p.oxw();return p.KtG(jt._setTabBodyWrapperHeight(wt))}),p.qZA()}if(2&Re){const Q=Ne.$implicit,De=Ne.index,wt=p.oxw();p.ekj("mat-mdc-tab-body-active",wt.selectedIndex===De),p.Q6J("id",wt._getTabContentId(De))("ngClass",Q.bodyClass)("content",Q.content)("position",Q.position)("origin",Q.origin)("animationDuration",wt.animationDuration)("preserveContent",wt.preserveContent),p.uIk("tabindex",null!=wt.contentTabIndex&&wt.selectedIndex===De?wt.contentTabIndex:null)("aria-labelledby",wt._getTabLabelId(De))}}const Wt={translateTab:(0,ue.X$)("translateTab",[(0,ue.SB)("center, void, left-origin-center, right-origin-center",(0,ue.oB)({transform:"none"})),(0,ue.SB)("left",(0,ue.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,ue.SB)("right",(0,ue.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,ue.eR)("* => left, * => right, left => center, right => center",(0,ue.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,ue.eR)("void => left-origin-center",[(0,ue.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,ue.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,ue.eR)("void => right-origin-center",[(0,ue.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,ue.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Lt=(()=>{class Re extends te.Pl{constructor(Q,De,wt,jt){super(Q,De,jt),this._host=wt,this._centeringSub=_e.w0.EMPTY,this._leavingSub=_e.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,Ge.O)(this._host._isCenterPosition(this._host._position))).subscribe(Q=>{Q&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p._Vd),p.Y36(p.s_b),p.Y36((0,p.Gpc)(()=>ft)),p.Y36(l.K0))},Re.\u0275dir=p.lG2({type:Re,selectors:[["","matTabBodyHost",""]],features:[p.qOj]}),Re})(),Bt=(()=>{class Re{set position(Q){this._positionIndex=Q,this._computePositionAnimationState()}constructor(Q,De,wt){this._elementRef=Q,this._dir=De,this._dirChangeSubscription=_e.w0.EMPTY,this._translateTabComplete=new Ce.x,this._onCentering=new p.vpe,this._beforeCentering=new p.vpe,this._afterLeavingCenter=new p.vpe,this._onCentered=new p.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,De&&(this._dirChangeSubscription=De.change.subscribe(jt=>{this._computePositionAnimationState(jt),wt.markForCheck()})),this._translateTabComplete.pipe((0,Je.x)((jt,zn)=>jt.fromState===zn.fromState&&jt.toState===zn.toState)).subscribe(jt=>{this._isCenterPosition(jt.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(jt.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(Q){const De=this._isCenterPosition(Q.toState);this._beforeCentering.emit(De),De&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(Q){return"center"==Q||"left-origin-center"==Q||"right-origin-center"==Q}_computePositionAnimationState(Q=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==Q?"left":"right":this._positionIndex>0?"ltr"==Q?"right":"left":"center"}_computePositionFromOrigin(Q){const De=this._getLayoutDirection();return"ltr"==De&&Q<=0||"rtl"==De&&Q>0?"left-origin-center":"right-origin-center"}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.SBq),p.Y36(W.Is,8),p.Y36(p.sBO))},Re.\u0275dir=p.lG2({type:Re,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Re})(),ft=(()=>{class Re extends Bt{constructor(Q,De,wt){super(Q,De,wt)}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.SBq),p.Y36(W.Is,8),p.Y36(p.sBO))},Re.\u0275cmp=p.Xpm({type:Re,selectors:[["mat-tab-body"]],viewQuery:function(Q,De){if(1&Q&&p.Gf(te.Pl,5),2&Q){let wt;p.iGM(wt=p.CRH())&&(De._portalHost=wt.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[p.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(Q,De){1&Q&&(p.TgZ(0,"div",0,1),p.NdJ("@translateTab.start",function(jt){return De._onTranslateTabStarted(jt)})("@translateTab.done",function(jt){return De._translateTabComplete.next(jt)}),p.YNc(2,Ue,0,0,"ng-template",2),p.qZA()),2&Q&&p.Q6J("@translateTab",p.WLB(3,Tt,De._position,p.VKq(1,Qe,De.animationDuration)))},dependencies:[Lt],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Wt.translateTab]}}),Re})();const qe=new p.OlP("MatTabContent");let Jt=(()=>{class Re{constructor(Q){this.template=Q}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.Rgc))},Re.\u0275dir=p.lG2({type:Re,selectors:[["","matTabContent",""]],features:[p._Bn([{provide:qe,useExisting:Re}])]}),Re})();const yn=new p.OlP("MatTabLabel"),mn=new p.OlP("MAT_TAB");let yt=(()=>{class Re extends te.ig{constructor(Q,De,wt){super(Q,De),this._closestTab=wt}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.Rgc),p.Y36(p.s_b),p.Y36(mn,8))},Re.\u0275dir=p.lG2({type:Re,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[p._Bn([{provide:yn,useExisting:Re}]),p.qOj]}),Re})();const he="mdc-tab-indicator--active",He="mdc-tab-indicator--no-transition";class pt{constructor(Ne){this._items=Ne}hide(){this._items.forEach(Ne=>Ne.deactivateInkBar())}alignToElement(Ne){const Q=this._items.find(wt=>wt.elementRef.nativeElement===Ne),De=this._currentItem;if(Q!==De&&(De?.deactivateInkBar(),Q)){const wt=De?.elementRef.nativeElement.getBoundingClientRect?.();Q.activateInkBar(wt),this._currentItem=Q}}}function ht(Re){return class extends Re{constructor(...Ne){super(...Ne),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(Ne){const Q=(0,pe.Ig)(Ne);this._fitToContent!==Q&&(this._fitToContent=Q,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(Ne){const Q=this.elementRef.nativeElement;if(!Ne||!Q.getBoundingClientRect||!this._inkBarContentElement)return void Q.classList.add(he);const De=Q.getBoundingClientRect(),wt=Ne.width/De.width,jt=Ne.left-De.left;Q.classList.add(He),this._inkBarContentElement.style.setProperty("transform",`translateX(${jt}px) scaleX(${wt})`),Q.getBoundingClientRect(),Q.classList.remove(He),Q.classList.add(he),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(he)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const Ne=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=Ne.createElement("span"),this._inkBarContentElement=Ne.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const cn=(0,g.Id)(class{}),ni=ht((()=>{class Re extends cn{constructor(Q){super(),this.elementRef=Q}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.SBq))},Re.\u0275dir=p.lG2({type:Re,features:[p.qOj]}),Re})());let xn=(()=>{class Re extends ni{}return Re.\u0275fac=function(){let Ne;return function(De){return(Ne||(Ne=p.n5z(Re)))(De||Re)}}(),Re.\u0275dir=p.lG2({type:Re,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(Q,De){2&Q&&(p.uIk("aria-disabled",!!De.disabled),p.ekj("mat-mdc-tab-disabled",De.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[p.qOj]}),Re})();const ln=(0,g.Id)(class{}),Un=new p.OlP("MAT_TAB_GROUP");let Ke=(()=>{class Re extends ln{get content(){return this._contentPortal}constructor(Q,De){super(),this._viewContainerRef=Q,this._closestTabGroup=De,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ce.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(Q){(Q.hasOwnProperty("textLabel")||Q.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new te.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(Q){Q&&Q._closestTab===this&&(this._templateLabel=Q)}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.s_b),p.Y36(Un,8))},Re.\u0275dir=p.lG2({type:Re,viewQuery:function(Q,De){if(1&Q&&p.Gf(p.Rgc,7),2&Q){let wt;p.iGM(wt=p.CRH())&&(De._implicitContent=wt.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[p.qOj,p.TTD]}),Re})(),Ot=(()=>{class Re extends Ke{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(Q){this._setTemplateLabelInput(Q)}}return Re.\u0275fac=function(){let Ne;return function(De){return(Ne||(Ne=p.n5z(Re)))(De||Re)}}(),Re.\u0275cmp=p.Xpm({type:Re,selectors:[["mat-tab"]],contentQueries:function(Q,De,wt){if(1&Q&&(p.Suo(wt,Jt,7,p.Rgc),p.Suo(wt,yt,5)),2&Q){let jt;p.iGM(jt=p.CRH())&&(De._explicitContent=jt.first),p.iGM(jt=p.CRH())&&(De.templateLabel=jt.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[p._Bn([{provide:mn,useExisting:Re}]),p.qOj],ngContentSelectors:kn,decls:1,vars:0,template:function(Q,De){1&Q&&(p.F$t(),p.YNc(0,bn,1,0,"ng-template"))},encapsulation:2}),Re})();const Zt=(0,Y.i$)({passive:!0});let yi=(()=>{class Re{get disablePagination(){return this._disablePagination}set disablePagination(Q){this._disablePagination=(0,pe.Ig)(Q)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Q){Q=(0,pe.su)(Q),this._selectedIndex!=Q&&(this._selectedIndexChanged=!0,this._selectedIndex=Q,this._keyManager&&this._keyManager.updateActiveItem(Q))}constructor(Q,De,wt,jt,zn,ei,kt){this._elementRef=Q,this._changeDetectorRef=De,this._viewportRuler=wt,this._dir=jt,this._ngZone=zn,this._platform=ei,this._animationMode=kt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ce.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ce.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new p.vpe,this.indexFocused=new p.vpe,zn.runOutsideAngular(()=>{(0,oe.R)(Q.nativeElement,"mouseleave").pipe((0,Ve.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,oe.R)(this._previousPaginator.nativeElement,"touchstart",Zt).pipe((0,Ve.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,oe.R)(this._nextPaginator.nativeElement,"touchstart",Zt).pipe((0,Ve.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const Q=this._dir?this._dir.change:(0,me.of)("ltr"),De=this._viewportRuler.change(150),wt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ae.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Oe.q)(1)).subscribe(wt),(0,ve.T)(Q,De,this._items.changes,this._itemsResized()).pipe((0,Ve.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),wt()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(jt=>{this.indexFocused.emit(jt),this._setTabFocus(jt)})}_itemsResized(){return"function"!=typeof ResizeObserver?ze.E:this._items.changes.pipe((0,Ge.O)(this._items),(0,Et.w)(Q=>new Fe.y(De=>this._ngZone.runOutsideAngular(()=>{const wt=new ResizeObserver(jt=>De.next(jt));return Q.forEach(jt=>wt.observe(jt.elementRef.nativeElement)),()=>{wt.disconnect()}}))),(0,fe.T)(1),(0,Ee.h)(Q=>Q.some(De=>De.contentRect.width>0&&De.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(Q){if(!(0,Ze.Vb)(Q))switch(Q.keyCode){case Ze.K5:case Ze.L_:if(this.focusIndex!==this.selectedIndex){const De=this._items.get(this.focusIndex);De&&!De.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(Q))}break;default:this._keyManager.onKeydown(Q)}}_onContentChanges(){const Q=this._elementRef.nativeElement.textContent;Q!==this._currentTextContent&&(this._currentTextContent=Q||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(Q){!this._isValidIndex(Q)||this.focusIndex===Q||!this._keyManager||this._keyManager.setActiveItem(Q)}_isValidIndex(Q){return!this._items||!!this._items.toArray()[Q]}_setTabFocus(Q){if(this._showPaginationControls&&this._scrollToLabel(Q),this._items&&this._items.length){this._items.toArray()[Q].focus();const De=this._tabListContainer.nativeElement;De.scrollLeft="ltr"==this._getLayoutDirection()?0:De.scrollWidth-De.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const Q=this.scrollDistance,De="ltr"===this._getLayoutDirection()?-Q:Q;this._tabList.nativeElement.style.transform=`translateX(${Math.round(De)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(Q){this._scrollTo(Q)}_scrollHeader(Q){return this._scrollTo(this._scrollDistance+("before"==Q?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(Q){this._stopInterval(),this._scrollHeader(Q)}_scrollToLabel(Q){if(this.disablePagination)return;const De=this._items?this._items.toArray()[Q]:null;if(!De)return;const wt=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:jt,offsetWidth:zn}=De.elementRef.nativeElement;let ei,kt;"ltr"==this._getLayoutDirection()?(ei=jt,kt=ei+zn):(kt=this._tabListInner.nativeElement.offsetWidth-jt,ei=kt-zn);const At=this.scrollDistance,wn=this.scrollDistance+wt;ei<At?this.scrollDistance-=At-ei:kt>wn&&(this.scrollDistance+=Math.min(kt-wn,ei-At))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const Q=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;Q||(this.scrollDistance=0),Q!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=Q}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const Q=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,De=Q?Q.elementRef.nativeElement:null;De?this._inkBar.alignToElement(De):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(Q,De){De&&null!=De.button&&0!==De.button||(this._stopInterval(),(0,at.H)(650,100).pipe((0,Ve.R)((0,ve.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:wt,distance:jt}=this._scrollHeader(Q);(0===jt||jt>=wt)&&this._stopInterval()}))}_scrollTo(Q){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const De=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(De,Q)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:De,distance:this._scrollDistance}}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(Le.rL),p.Y36(W.Is,8),p.Y36(p.R0b),p.Y36(Y.t4),p.Y36(p.QbO,8))},Re.\u0275dir=p.lG2({type:Re,inputs:{disablePagination:"disablePagination"}}),Re})(),hi=(()=>{class Re extends yi{get disableRipple(){return this._disableRipple}set disableRipple(Q){this._disableRipple=(0,pe.Ig)(Q)}constructor(Q,De,wt,jt,zn,ei,kt){super(Q,De,wt,jt,zn,ei,kt),this._disableRipple=!1}_itemSelected(Q){Q.preventDefault()}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(Le.rL),p.Y36(W.Is,8),p.Y36(p.R0b),p.Y36(Y.t4),p.Y36(p.QbO,8))},Re.\u0275dir=p.lG2({type:Re,inputs:{disableRipple:"disableRipple"},features:[p.qOj]}),Re})(),en=(()=>{class Re extends hi{constructor(Q,De,wt,jt,zn,ei,kt){super(Q,De,wt,jt,zn,ei,kt)}ngAfterContentInit(){this._inkBar=new pt(this._items),super.ngAfterContentInit()}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(Le.rL),p.Y36(W.Is,8),p.Y36(p.R0b),p.Y36(Y.t4),p.Y36(p.QbO,8))},Re.\u0275cmp=p.Xpm({type:Re,selectors:[["mat-tab-header"]],contentQueries:function(Q,De,wt){if(1&Q&&p.Suo(wt,xn,4),2&Q){let jt;p.iGM(jt=p.CRH())&&(De._items=jt)}},viewQuery:function(Q,De){if(1&Q&&(p.Gf(vt,7),p.Gf(bt,7),p.Gf(Vt,7),p.Gf(dt,5),p.Gf(Ht,5)),2&Q){let wt;p.iGM(wt=p.CRH())&&(De._tabListContainer=wt.first),p.iGM(wt=p.CRH())&&(De._tabList=wt.first),p.iGM(wt=p.CRH())&&(De._tabListInner=wt.first),p.iGM(wt=p.CRH())&&(De._nextPaginator=wt.first),p.iGM(wt=p.CRH())&&(De._previousPaginator=wt.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(Q,De){2&Q&&p.ekj("mat-mdc-tab-header-pagination-controls-enabled",De._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==De._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[p.qOj],ngContentSelectors:kn,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(Q,De){1&Q&&(p.F$t(),p.TgZ(0,"button",0,1),p.NdJ("click",function(){return De._handlePaginatorClick("before")})("mousedown",function(jt){return De._handlePaginatorPress("before",jt)})("touchend",function(){return De._stopInterval()}),p._UZ(2,"div",2),p.qZA(),p.TgZ(3,"div",3,4),p.NdJ("keydown",function(jt){return De._handleKeydown(jt)}),p.TgZ(5,"div",5,6),p.NdJ("cdkObserveContent",function(){return De._onContentChanges()}),p.TgZ(7,"div",7,8),p.Hsn(9),p.qZA()()(),p.TgZ(10,"button",9,10),p.NdJ("mousedown",function(jt){return De._handlePaginatorPress("after",jt)})("click",function(){return De._handlePaginatorClick("after")})("touchend",function(){return De._stopInterval()}),p._UZ(12,"div",2),p.qZA()),2&Q&&(p.ekj("mat-mdc-tab-header-pagination-disabled",De._disableScrollBefore),p.Q6J("matRippleDisabled",De._disableScrollBefore||De.disableRipple)("disabled",De._disableScrollBefore||null),p.xp6(3),p.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode),p.xp6(7),p.ekj("mat-mdc-tab-header-pagination-disabled",De._disableScrollAfter),p.Q6J("matRippleDisabled",De._disableScrollAfter||De.disableRipple)("disabled",De._disableScrollAfter||null))},dependencies:[g.wG,xe.wD],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),Re})();const ct=new p.OlP("MAT_TABS_CONFIG");let ut=0;const We=(0,g.pj)((0,g.Kr)(class{constructor(Re){this._elementRef=Re}}),"primary");let je=(()=>{class Re extends We{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(Q){this._dynamicHeight=(0,pe.Ig)(Q)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Q){this._indexToSelect=(0,pe.su)(Q,null)}get animationDuration(){return this._animationDuration}set animationDuration(Q){this._animationDuration=/^\d+$/.test(Q+"")?Q+"ms":Q}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(Q){this._contentTabIndex=(0,pe.su)(Q,null)}get disablePagination(){return this._disablePagination}set disablePagination(Q){this._disablePagination=(0,pe.Ig)(Q)}get preserveContent(){return this._preserveContent}set preserveContent(Q){this._preserveContent=(0,pe.Ig)(Q)}get backgroundColor(){return this._backgroundColor}set backgroundColor(Q){const De=this._elementRef.nativeElement.classList;De.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),Q&&De.add("mat-tabs-with-background",`mat-background-${Q}`),this._backgroundColor=Q}constructor(Q,De,wt,jt){super(Q),this._changeDetectorRef=De,this._animationMode=jt,this._tabs=new p.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=_e.w0.EMPTY,this._tabLabelSubscription=_e.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new p.vpe,this.focusChange=new p.vpe,this.animationDone=new p.vpe,this.selectedTabChange=new p.vpe(!0),this._groupId=ut++,this.animationDuration=wt&&wt.animationDuration?wt.animationDuration:"500ms",this.disablePagination=!(!wt||null==wt.disablePagination)&&wt.disablePagination,this.dynamicHeight=!(!wt||null==wt.dynamicHeight)&&wt.dynamicHeight,this.contentTabIndex=wt?.contentTabIndex??null,this.preserveContent=!!wt?.preserveContent}ngAfterContentChecked(){const Q=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=Q){const De=null==this._selectedIndex;if(!De){this.selectedTabChange.emit(this._createChangeEvent(Q));const wt=this._tabBodyWrapper.nativeElement;wt.style.minHeight=wt.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((wt,jt)=>wt.isActive=jt===Q),De||(this.selectedIndexChange.emit(Q),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((De,wt)=>{De.position=wt-Q,null!=this._selectedIndex&&0==De.position&&!De.origin&&(De.origin=Q-this._selectedIndex)}),this._selectedIndex!==Q&&(this._selectedIndex=Q,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const Q=this._clampTabIndex(this._indexToSelect);if(Q===this._selectedIndex){const De=this._tabs.toArray();let wt;for(let jt=0;jt<De.length;jt++)if(De[jt].isActive){this._indexToSelect=this._selectedIndex=jt,this._lastFocusedTabIndex=null,wt=De[jt];break}!wt&&De[Q]&&Promise.resolve().then(()=>{De[Q].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(Q))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,Ge.O)(this._allTabs)).subscribe(Q=>{this._tabs.reset(Q.filter(De=>De._closestTabGroup===this||!De._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(Q){const De=this._tabHeader;De&&(De.focusIndex=Q)}_focusChanged(Q){this._lastFocusedTabIndex=Q,this.focusChange.emit(this._createChangeEvent(Q))}_createChangeEvent(Q){const De=new St;return De.index=Q,this._tabs&&this._tabs.length&&(De.tab=this._tabs.toArray()[Q]),De}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,ve.T)(...this._tabs.map(Q=>Q._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(Q){return Math.min(this._tabs.length-1,Math.max(Q||0,0))}_getTabLabelId(Q){return`mat-tab-label-${this._groupId}-${Q}`}_getTabContentId(Q){return`mat-tab-content-${this._groupId}-${Q}`}_setTabBodyWrapperHeight(Q){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const De=this._tabBodyWrapper.nativeElement;De.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(De.style.height=Q+"px")}_removeTabBodyWrapperHeight(){const Q=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=Q.clientHeight,Q.style.height="",this.animationDone.emit()}_handleClick(Q,De,wt){De.focusIndex=wt,Q.disabled||(this.selectedIndex=wt)}_getTabIndex(Q){return Q===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(Q,De){Q&&"mouse"!==Q&&"touch"!==Q&&(this._tabHeader.focusIndex=De)}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(ct,8),p.Y36(p.QbO,8))},Re.\u0275dir=p.lG2({type:Re,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[p.qOj]}),Re})(),Ae=(()=>{class Re extends je{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(Q){this._fitInkBarToContent=(0,pe.Ig)(Q),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(Q){this._stretchTabs=(0,pe.Ig)(Q)}constructor(Q,De,wt,jt){super(Q,De,wt,jt),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!wt||null==wt.fitInkBarToContent)&&wt.fitInkBarToContent,this.stretchTabs=!wt||null==wt.stretchTabs||wt.stretchTabs}}return Re.\u0275fac=function(Q){return new(Q||Re)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(ct,8),p.Y36(p.QbO,8))},Re.\u0275cmp=p.Xpm({type:Re,selectors:[["mat-tab-group"]],contentQueries:function(Q,De,wt){if(1&Q&&p.Suo(wt,Ot,5),2&Q){let jt;p.iGM(jt=p.CRH())&&(De._allTabs=jt)}},viewQuery:function(Q,De){if(1&Q&&(p.Gf(Be,5),p.Gf(mt,5)),2&Q){let wt;p.iGM(wt=p.CRH())&&(De._tabBodyWrapper=wt.first),p.iGM(wt=p.CRH())&&(De._tabHeader=wt.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(Q,De){2&Q&&p.ekj("mat-mdc-tab-group-dynamic-height",De.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===De.headerPosition)("mat-mdc-tab-group-stretch-tabs",De.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[p._Bn([{provide:Un,useExisting:Re}]),p.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(Q,De){1&Q&&(p.TgZ(0,"mat-tab-header",0,1),p.NdJ("indexFocused",function(jt){return De._focusChanged(jt)})("selectFocusedIndex",function(jt){return De.selectedIndex=jt}),p.YNc(2,Xe,9,17,"div",2),p.qZA(),p.TgZ(3,"div",3,4),p.YNc(5,ot,1,11,"mat-tab-body",5),p.qZA()),2&Q&&(p.Q6J("selectedIndex",De.selectedIndex||0)("disableRipple",De.disableRipple)("disablePagination",De.disablePagination),p.xp6(2),p.Q6J("ngForOf",De._tabs),p.xp6(1),p.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode),p.xp6(2),p.Q6J("ngForOf",De._tabs))},dependencies:[l.mk,l.sg,l.O5,te.Pl,g.wG,ae.kH,ft,xn,en],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),Re})();class St{}let Te=(()=>{class Re{}return Re.\u0275fac=function(Q){return new(Q||Re)},Re.\u0275mod=p.oAB({type:Re}),Re.\u0275inj=p.cJS({imports:[l.ez,g.BQ,te.eL,g.si,xe.Q8,ae.rt,g.BQ]}),Re})()},9383:(pn,rt,w)=>{w.d(rt,{Ye:()=>Ce,g0:()=>me});var l=w(2223),p=w(1217),g=w(2966),te=w(4755);const xe=["*",[["mat-toolbar-row"]]],ae=["*","mat-toolbar-row"],W=(0,p.pj)(class{constructor(ve){this._elementRef=ve}});let _e=(()=>{class ve{}return ve.\u0275fac=function(Fe){return new(Fe||ve)},ve.\u0275dir=l.lG2({type:ve,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),ve})(),Ce=(()=>{class ve extends W{constructor(Fe,at,Ge){super(Fe),this._platform=at,this._document=Ge}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return ve.\u0275fac=function(Fe){return new(Fe||ve)(l.Y36(l.SBq),l.Y36(g.t4),l.Y36(te.K0))},ve.\u0275cmp=l.Xpm({type:ve,selectors:[["mat-toolbar"]],contentQueries:function(Fe,at,Ge){if(1&Fe&&l.Suo(Ge,_e,5),2&Fe){let Je;l.iGM(Je=l.CRH())&&(at._toolbarRows=Je)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Fe,at){2&Fe&&l.ekj("mat-toolbar-multiple-rows",at._toolbarRows.length>0)("mat-toolbar-single-row",0===at._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:ae,decls:2,vars:0,template:function(Fe,at){1&Fe&&(l.F$t(xe),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),ve})(),me=(()=>{class ve{}return ve.\u0275fac=function(Fe){return new(Fe||ve)},ve.\u0275mod=l.oAB({type:ve}),ve.\u0275inj=l.cJS({imports:[p.BQ,p.BQ]}),ve})()},6550:(pn,rt,w)=>{w.d(rt,{Dx:()=>he,H7:()=>yi,b2:()=>qe,q6:()=>Wt,se:()=>Y});var l=w(2223),p=w(4755);class g extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends g{static makeCurrent(){(0,p.HT)(new te)}onAndCancel(j,U,H){return j.addEventListener(U,H),()=>{j.removeEventListener(U,H)}}dispatchEvent(j,U){j.dispatchEvent(U)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,U){return(U=U||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,U){return"window"===U?window:"document"===U?j:"body"===U?j.body:null}getBaseHref(j){const U=function ae(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==U?null:function _e(le){W=W||document.createElement("a"),W.setAttribute("href",le);const j=W.pathname;return"/"===j.charAt(0)?j:`/${j}`}(U)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,p.Mx)(document.cookie,j)}}let W,xe=null,oe=(()=>{class le{build(){return new XMLHttpRequest}}return le.\u0275fac=function(U){return new(U||le)},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();const me=new l.OlP("EventManagerPlugins");let ve=(()=>{class le{constructor(U,H){this._zone=H,this._eventNameToPlugin=new Map,U.forEach(de=>{de.manager=this}),this._plugins=U.slice().reverse()}addEventListener(U,H,de){return this._findPluginFor(H).addEventListener(U,H,de)}getZone(){return this._zone}_findPluginFor(U){let H=this._eventNameToPlugin.get(U);if(H)return H;if(H=this._plugins.find(ce=>ce.supports(U)),!H)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(U,H),H}}return le.\u0275fac=function(U){return new(U||le)(l.LFG(me),l.LFG(l.R0b))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();class ze{constructor(j){this._doc=j}}const Fe="ng-app-id";let at=(()=>{class le{constructor(U,H,de,ce={}){this.doc=U,this.appId=H,this.nonce=de,this.platformId=ce,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,p.PM)(ce),this.resetHostNodes()}addStyles(U){for(const H of U)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles(U){for(const H of U)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const U=this.styleNodesInDOM;U&&(U.forEach(H=>H.remove()),U.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost(U){this.hostNodes.add(U);for(const H of this.getAllStyles())this.addStyleToHost(U,H)}removeHost(U){this.hostNodes.delete(U)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(U){for(const H of this.hostNodes)this.addStyleToHost(H,U)}onStyleRemoved(U){const H=this.styleRef;H.get(U)?.elements?.forEach(de=>de.remove()),H.delete(U)}collectServerRenderedStyles(){const U=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(U?.length){const H=new Map;return U.forEach(de=>{null!=de.textContent&&H.set(de.textContent,de)}),H}return null}changeUsageCount(U,H){const de=this.styleRef;if(de.has(U)){const ce=de.get(U);return ce.usage+=H,ce.usage}return de.set(U,{usage:H,elements:[]}),H}getStyleElement(U,H){const de=this.styleNodesInDOM,ce=de?.get(H);if(ce?.parentNode===U)return de.delete(H),ce.removeAttribute(Fe),ce;{const Te=this.doc.createElement("style");return this.nonce&&Te.setAttribute("nonce",this.nonce),Te.textContent=H,this.platformIsServer&&Te.setAttribute(Fe,this.appId),Te}}addStyleToHost(U,H){const de=this.getStyleElement(U,H);U.appendChild(de);const ce=this.styleRef,Te=ce.get(H)?.elements;Te?Te.push(de):ce.set(H,{elements:[de],usage:1})}resetHostNodes(){const U=this.hostNodes;U.clear(),U.add(this.doc.head)}}return le.\u0275fac=function(U){return new(U||le)(l.LFG(p.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();const Ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Je=/%COMP%/g,Ee=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Le(le,j){return j.map(U=>U.replace(Je,le))}let Y=(()=>{class le{constructor(U,H,de,ce,Te,Re,Ne,Q=null){this.eventManager=U,this.sharedStylesHost=H,this.appId=de,this.removeStylesOnCompDestory=ce,this.doc=Te,this.platformId=Re,this.ngZone=Ne,this.nonce=Q,this.rendererByCompId=new Map,this.platformIsServer=(0,p.PM)(Re),this.defaultRenderer=new Ze(U,Te,Ne,this.platformIsServer)}createRenderer(U,H){if(!U||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===l.ifc.ShadowDom&&(H={...H,encapsulation:l.ifc.Emulated});const de=this.getOrCreateRenderer(U,H);return de instanceof vt?de.applyToHost(U):de instanceof kn&&de.applyStyles(),de}getOrCreateRenderer(U,H){const de=this.rendererByCompId;let ce=de.get(H.id);if(!ce){const Te=this.doc,Re=this.ngZone,Ne=this.eventManager,Q=this.sharedStylesHost,De=this.removeStylesOnCompDestory,wt=this.platformIsServer;switch(H.encapsulation){case l.ifc.Emulated:ce=new vt(Ne,Q,H,this.appId,De,Te,Re,wt);break;case l.ifc.ShadowDom:return new bn(Ne,Q,U,H,Te,Re,this.nonce,wt);default:ce=new kn(Ne,Q,H,De,Te,Re,wt)}ce.onDestroy=()=>de.delete(H.id),de.set(H.id,ce)}return ce}ngOnDestroy(){this.rendererByCompId.clear()}}return le.\u0275fac=function(U){return new(U||le)(l.LFG(ve),l.LFG(at),l.LFG(l.AFp),l.LFG(Ee),l.LFG(p.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();class Ze{constructor(j,U,H,de){this.eventManager=j,this.doc=U,this.ngZone=H,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,U){return U?this.doc.createElementNS(Ge[U]||U,j):this.doc.createElement(j)}createComment(j){return this.doc.createComment(j)}createText(j){return this.doc.createTextNode(j)}appendChild(j,U){(Tt(j)?j.content:j).appendChild(U)}insertBefore(j,U,H){j&&(Tt(j)?j.content:j).insertBefore(U,H)}removeChild(j,U){j&&j.removeChild(U)}selectRootElement(j,U){let H="string"==typeof j?this.doc.querySelector(j):j;if(!H)throw new l.vHH(5104,!1);return U||(H.textContent=""),H}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,U,H,de){if(de){U=de+":"+U;const ce=Ge[de];ce?j.setAttributeNS(ce,U,H):j.setAttribute(U,H)}else j.setAttribute(U,H)}removeAttribute(j,U,H){if(H){const de=Ge[H];de?j.removeAttributeNS(de,U):j.removeAttribute(`${H}:${U}`)}else j.removeAttribute(U)}addClass(j,U){j.classList.add(U)}removeClass(j,U){j.classList.remove(U)}setStyle(j,U,H,de){de&(l.JOm.DashCase|l.JOm.Important)?j.style.setProperty(U,H,de&l.JOm.Important?"important":""):j.style[U]=H}removeStyle(j,U,H){H&l.JOm.DashCase?j.style.removeProperty(U):j.style[U]=""}setProperty(j,U,H){j[U]=H}setValue(j,U){j.nodeValue=U}listen(j,U,H){if("string"==typeof j&&!(j=(0,p.q)().getGlobalEventTarget(this.doc,j)))throw new Error(`Unsupported event target ${j} for event ${U}`);return this.eventManager.addEventListener(j,U,this.decoratePreventDefault(H))}decoratePreventDefault(j){return U=>{if("__ngUnwrap__"===U)return j;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>j(U)):j(U))&&U.preventDefault()}}}function Tt(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class bn extends Ze{constructor(j,U,H,de,ce,Te,Re,Ne){super(j,ce,Te,Ne),this.sharedStylesHost=U,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Q=Le(de.id,de.styles);for(const De of Q){const wt=document.createElement("style");Re&&wt.setAttribute("nonce",Re),wt.textContent=De,this.shadowRoot.appendChild(wt)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,U){return super.appendChild(this.nodeOrShadowRoot(j),U)}insertBefore(j,U,H){return super.insertBefore(this.nodeOrShadowRoot(j),U,H)}removeChild(j,U){return super.removeChild(this.nodeOrShadowRoot(j),U)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kn extends Ze{constructor(j,U,H,de,ce,Te,Re,Ne){super(j,ce,Te,Re),this.sharedStylesHost=U,this.removeStylesOnCompDestory=de,this.rendererUsageCount=0,this.styles=Ne?Le(Ne,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vt extends kn{constructor(j,U,H,de,ce,Te,Re,Ne){const Q=de+"-"+H.id;super(j,U,H,ce,Te,Re,Ne,Q),this.contentAttr=function ue(le){return"_ngcontent-%COMP%".replace(Je,le)}(Q),this.hostAttr=function pe(le){return"_nghost-%COMP%".replace(Je,le)}(Q)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,U){const H=super.createElement(j,U);return super.setAttribute(H,this.contentAttr,""),H}}let bt=(()=>{class le extends ze{constructor(U){super(U)}supports(U){return!0}addEventListener(U,H,de){return U.addEventListener(H,de,!1),()=>this.removeEventListener(U,H,de)}removeEventListener(U,H,de){return U.removeEventListener(H,de)}}return le.\u0275fac=function(U){return new(U||le)(l.LFG(p.K0))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();const Vt=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let Be=(()=>{class le extends ze{constructor(U){super(U)}supports(U){return null!=le.parseEventName(U)}addEventListener(U,H,de){const ce=le.parseEventName(H),Te=le.eventCallback(ce.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(U,ce.domEventName,Te))}static parseEventName(U){const H=U.toLowerCase().split("."),de=H.shift();if(0===H.length||"keydown"!==de&&"keyup"!==de)return null;const ce=le._normalizeKey(H.pop());let Te="",Re=H.indexOf("code");if(Re>-1&&(H.splice(Re,1),Te="code."),Vt.forEach(Q=>{const De=H.indexOf(Q);De>-1&&(H.splice(De,1),Te+=Q+".")}),Te+=ce,0!=H.length||0===ce.length)return null;const Ne={};return Ne.domEventName=de,Ne.fullKey=Te,Ne}static matchEventFullKeyCode(U,H){let de=dt[U.key]||U.key,ce="";return H.indexOf("code.")>-1&&(de=U.code,ce="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),Vt.forEach(Te=>{Te!==de&&(0,Ht[Te])(U)&&(ce+=Te+".")}),ce+=de,ce===H)}static eventCallback(U,H,de){return ce=>{le.matchEventFullKeyCode(ce,U)&&de.runGuarded(()=>H(ce))}}static _normalizeKey(U){return"esc"===U?"escape":U}}return le.\u0275fac=function(U){return new(U||le)(l.LFG(p.K0))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();const Wt=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:p.bD},{provide:l.g9A,useValue:function Xe(){te.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function Nt(){return(0,l.RDi)(document),document},deps:[]}]),Lt=new l.OlP(""),Bt=[{provide:l.rWj,useClass:class Ce{addToWindow(j){l.dqk.getAngularTestability=(H,de=!0)=>{const ce=j.findTestabilityInTree(H,de);if(null==ce)throw new l.vHH(5103,!1);return ce},l.dqk.getAllAngularTestabilities=()=>j.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>j.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(H=>{const de=l.dqk.getAllAngularTestabilities();let ce=de.length,Te=!1;const Re=function(Ne){Te=Te||Ne,ce--,0==ce&&H(Te)};de.forEach(function(Ne){Ne.whenStable(Re)})})}findTestabilityInTree(j,U,H){return null==U?null:j.getTestability(U)??(H?(0,p.q)().isShadowRoot(U)?this.findTestabilityInTree(j,U.host,!0):this.findTestabilityInTree(j,U.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],ft=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ot(){return new l.qLn},deps:[]},{provide:me,useClass:bt,multi:!0,deps:[p.K0,l.R0b,l.Lbi]},{provide:me,useClass:Be,multi:!0,deps:[p.K0]},Y,at,ve,{provide:l.FYo,useExisting:Y},{provide:p.JF,useClass:oe,deps:[]},[]];let qe=(()=>{class le{constructor(U){}static withServerTransition(U){return{ngModule:le,providers:[{provide:l.AFp,useValue:U.appId}]}}}return le.\u0275fac=function(U){return new(U||le)(l.LFG(Lt,12))},le.\u0275mod=l.oAB({type:le}),le.\u0275inj=l.cJS({providers:[...ft,...Bt],imports:[p.ez,l.hGG]}),le})(),he=(()=>{class le{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}}return le.\u0275fac=function(U){return new(U||le)(l.LFG(p.K0))},le.\u0275prov=l.Yz7({token:le,factory:function(U){let H=null;return H=U?new U:function yt(){return new he((0,l.LFG)(p.K0))}(),H},providedIn:"root"}),le})();typeof window<"u"&&window;let yi=(()=>{class le{}return le.\u0275fac=function(U){return new(U||le)},le.\u0275prov=l.Yz7({token:le,factory:function(U){let H=null;return H=U?new(U||le):l.LFG(en),H},providedIn:"root"}),le})(),en=(()=>{class le extends yi{constructor(U){super(),this._doc=U}sanitize(U,H){if(null==H)return null;switch(U){case l.q3G.NONE:return H;case l.q3G.HTML:return(0,l.qzn)(H,"HTML")?(0,l.z3N)(H):(0,l.EiD)(this._doc,String(H)).toString();case l.q3G.STYLE:return(0,l.qzn)(H,"Style")?(0,l.z3N)(H):H;case l.q3G.SCRIPT:if((0,l.qzn)(H,"Script"))return(0,l.z3N)(H);throw new l.vHH(5200,!1);case l.q3G.URL:return(0,l.qzn)(H,"URL")?(0,l.z3N)(H):(0,l.mCW)(String(H));case l.q3G.RESOURCE_URL:if((0,l.qzn)(H,"ResourceURL"))return(0,l.z3N)(H);throw new l.vHH(5201,!1);default:throw new l.vHH(5202,!1)}}bypassSecurityTrustHtml(U){return(0,l.JVY)(U)}bypassSecurityTrustStyle(U){return(0,l.L6k)(U)}bypassSecurityTrustScript(U){return(0,l.eBb)(U)}bypassSecurityTrustUrl(U){return(0,l.LAX)(U)}bypassSecurityTrustResourceUrl(U){return(0,l.pB0)(U)}}return le.\u0275fac=function(U){return new(U||le)(l.LFG(p.K0))},le.\u0275prov=l.Yz7({token:le,factory:function(U){let H=null;return H=U?new U:function hi(le){return new en(le.get(p.K0))}(l.LFG(l.zs3)),H},providedIn:"root"}),le})()},3676:(pn,rt,w)=>{w.d(rt,{gz:()=>Rn,F0:()=>Vr,Bz:()=>ui,lC:()=>oi});var l=w(2223),p=w(9751),g=w(576),xe=w(8996),ae=w(9646),W=w(1135),_e=w(9841),Ce=w(6805),oe=w(7272),me=w(9770),ve=w(9635),ze=w(2843),Fe=w(515),at=w(727),Ge=w(4482),Je=w(5403);function Ve(){return(0,Ge.e)((E,O)=>{let C=null;E._refCount++;const N=(0,Je.x)(O,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(C=null);const Z=E._connection,ge=C;C=null,Z&&(!ge||Z===ge)&&Z.unsubscribe(),O.unsubscribe()});E.subscribe(N),N.closed||(C=E.connect())})}class Oe extends p.y{constructor(O,C){super(),this.source=O,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,Ge.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new at.w0;const C=this.getSubject();O.add(this.source.subscribe((0,Je.x)(C,void 0,()=>{this._teardown(),C.complete()},N=>{this._teardown(),C.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=at.w0.EMPTY)}return O}refCount(){return Ve()(this)}}var Et=w(7579),fe=w(4755),Ee=w(4004),ue=w(3900),pe=w(5698),Le=w(8675),Y=w(9300),Ze=w(5577),Ue=w(590),Qe=w(4351),Tt=w(8505),bn=w(262),kn=w(5026),vt=w(6590);function bt(E){return E<=0?()=>Fe.E:(0,Ge.e)((O,C)=>{let N=[];O.subscribe((0,Je.x)(C,Z=>{N.push(Z),E<N.length&&N.shift()},()=>{for(const Z of N)C.next(Z);C.complete()},void 0,()=>{N=null}))})}var Vt=w(8068),dt=w(4671),Be=w(9718),mt=w(8746),Rt=w(8189),qt=w(6550);const Mt="primary",Xe=Symbol("RouteTitle");class ot{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const C=this.params[O];return Array.isArray(C)?C[0]:C}return null}getAll(O){if(this.has(O)){const C=this.params[O];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function Nt(E){return new ot(E)}function It(E,O,C){const N=C.path.split("/");if(N.length>E.length||"full"===C.pathMatch&&(O.hasChildren()||N.length<E.length))return null;const Z={};for(let ge=0;ge<N.length;ge++){const ye=N[ge],xt=E[ge];if(ye.startsWith(":"))Z[ye.substring(1)]=xt;else if(ye!==xt.path)return null}return{consumed:E.slice(0,N.length),posParams:Z}}function Lt(E,O){const C=E?Object.keys(E):void 0,N=O?Object.keys(O):void 0;if(!C||!N||C.length!=N.length)return!1;let Z;for(let ge=0;ge<C.length;ge++)if(Z=C[ge],!Bt(E[Z],O[Z]))return!1;return!0}function Bt(E,O){if(Array.isArray(E)&&Array.isArray(O)){if(E.length!==O.length)return!1;const C=[...E].sort(),N=[...O].sort();return C.every((Z,ge)=>N[ge]===Z)}return E===O}function ft(E){return E.length>0?E[E.length-1]:null}function qe(E){return function te(E){return!!E&&(E instanceof p.y||(0,g.m)(E.lift)&&(0,g.m)(E.subscribe))}(E)?E:(0,l.QGY)(E)?(0,xe.D)(Promise.resolve(E)):(0,ae.of)(E)}const Jt={exact:function he(E,O,C){if(!xn(E.segments,O.segments)||!Pt(E.segments,O.segments,C)||E.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!E.children[N]||!he(E.children[N],O.children[N],C))return!1;return!0},subset:pt},yn={exact:function yt(E,O){return Lt(E,O)},subset:function He(E,O){return Object.keys(O).length<=Object.keys(E).length&&Object.keys(O).every(C=>Bt(E[C],O[C]))},ignored:()=>!0};function mn(E,O,C){return Jt[C.paths](E.root,O.root,C.matrixParams)&&yn[C.queryParams](E.queryParams,O.queryParams)&&!("exact"===C.fragment&&E.fragment!==O.fragment)}function pt(E,O,C){return ht(E,O,O.segments,C)}function ht(E,O,C,N){if(E.segments.length>C.length){const Z=E.segments.slice(0,C.length);return!(!xn(Z,C)||O.hasChildren()||!Pt(Z,C,N))}if(E.segments.length===C.length){if(!xn(E.segments,C)||!Pt(E.segments,C,N))return!1;for(const Z in O.children)if(!E.children[Z]||!pt(E.children[Z],O.children[Z],N))return!1;return!0}{const Z=C.slice(0,E.segments.length),ge=C.slice(E.segments.length);return!!(xn(E.segments,Z)&&Pt(E.segments,Z,N)&&E.children[Mt])&&ht(E.children[Mt],O,ge,N)}}function Pt(E,O,C){return O.every((N,Z)=>yn[C](E[Z].parameters,N.parameters))}class Xt{constructor(O=new cn([],{}),C={},N=null){this.root=O,this.queryParams=C,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class cn{constructor(O,C){this.segments=O,this.children=C,this.parent=null,Object.values(C).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zt(this)}}class $n{constructor(O,C){this.path=O,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return We(this)}}function xn(E,O){return E.length===O.length&&E.every((C,N)=>C.path===O[N].path)}let Un=(()=>{class E{}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:function(){return new Ke},providedIn:"root"}),E})();class Ke{parse(O){const C=new ce(O);return new Xt(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(O){const C=`/${Tn(O.root,!0)}`,N=function Ae(E){const O=Object.keys(E).map(C=>{const N=E[C];return Array.isArray(N)?N.map(Z=>`${yi(C)}=${yi(Z)}`).join("&"):`${yi(C)}=${yi(N)}`}).filter(C=>!!C);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${C}${N}${"string"==typeof O.fragment?`#${function hi(E){return encodeURI(E)}(O.fragment)}`:""}`}}const Ot=new Ke;function Zt(E){return E.segments.map(O=>We(O)).join("/")}function Tn(E,O){if(!E.hasChildren())return Zt(E);if(O){const C=E.children[Mt]?Tn(E.children[Mt],!1):"",N=[];return Object.entries(E.children).forEach(([Z,ge])=>{Z!==Mt&&N.push(`${Z}:${Tn(ge,!1)}`)}),N.length>0?`${C}(${N.join("//")})`:C}{const C=function ln(E,O){let C=[];return Object.entries(E.children).forEach(([N,Z])=>{N===Mt&&(C=C.concat(O(Z,N)))}),Object.entries(E.children).forEach(([N,Z])=>{N!==Mt&&(C=C.concat(O(Z,N)))}),C}(E,(N,Z)=>Z===Mt?[Tn(E.children[Mt],!1)]:[`${Z}:${Tn(N,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Mt]?`${Zt(E)}/${C[0]}`:`${Zt(E)}/(${C.join("//")})`}}function li(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(E){return li(E).replace(/%3B/gi,";")}function en(E){return li(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ct(E){return decodeURIComponent(E)}function ut(E){return ct(E.replace(/\+/g,"%20"))}function We(E){return`${en(E.path)}${function je(E){return Object.keys(E).map(O=>`;${en(O)}=${en(E[O])}`).join("")}(E.parameters)}`}const St=/^[^\/()?;#]+/;function Kt(E){const O=E.match(St);return O?O[0]:""}const Pe=/^[^\/()?;=#]+/,j=/^[^=?&#]+/,H=/^[^&#]+/;class ce{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(C).length>0)&&(N[Mt]=new cn(O,C)),N}parseSegment(){const O=Kt(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(O),new $n(ct(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const C=function le(E){const O=E.match(Pe);return O?O[0]:""}(this.remaining);if(!C)return;this.capture(C);let N="";if(this.consumeOptional("=")){const Z=Kt(this.remaining);Z&&(N=Z,this.capture(N))}O[ct(C)]=ct(N)}parseQueryParam(O){const C=function U(E){const O=E.match(j);return O?O[0]:""}(this.remaining);if(!C)return;this.capture(C);let N="";if(this.consumeOptional("=")){const ye=function de(E){const O=E.match(H);return O?O[0]:""}(this.remaining);ye&&(N=ye,this.capture(N))}const Z=ut(C),ge=ut(N);if(O.hasOwnProperty(Z)){let ye=O[Z];Array.isArray(ye)||(ye=[ye],O[Z]=ye),ye.push(ge)}else O[Z]=ge}parseParens(O){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Kt(this.remaining),Z=this.remaining[N.length];if("/"!==Z&&")"!==Z&&";"!==Z)throw new l.vHH(4010,!1);let ge;N.indexOf(":")>-1?(ge=N.slice(0,N.indexOf(":")),this.capture(ge),this.capture(":")):O&&(ge=Mt);const ye=this.parseChildren();C[ge]=1===Object.keys(ye).length?ye[Mt]:new cn([],ye),this.consumeOptional("//")}return C}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new l.vHH(4011,!1)}}function Te(E){return E.segments.length>0?new cn([],{[Mt]:E}):E}function Re(E){const O={};for(const N of Object.keys(E.children)){const ge=Re(E.children[N]);if(N===Mt&&0===ge.segments.length&&ge.hasChildren())for(const[ye,xt]of Object.entries(ge.children))O[ye]=xt;else(ge.segments.length>0||ge.hasChildren())&&(O[N]=ge)}return function Ne(E){if(1===E.numberOfChildren&&E.children[Mt]){const O=E.children[Mt];return new cn(E.segments.concat(O.segments),O.children)}return E}(new cn(E.segments,O))}function Q(E){return E instanceof Xt}function wt(E){let O;const Z=Te(function C(ge){const ye={};for(const gn of ge.children){const ii=C(gn);ye[gn.outlet]=ii}const xt=new cn(ge.url,ye);return ge===E&&(O=xt),xt}(E.root));return O??Z}function jt(E,O,C,N){let Z=E;for(;Z.parent;)Z=Z.parent;if(0===O.length)return kt(Z,Z,Z,C,N);const ge=function Kn(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new wn(!0,0,E);let O=0,C=!1;const N=E.reduce((Z,ge,ye)=>{if("object"==typeof ge&&null!=ge){if(ge.outlets){const xt={};return Object.entries(ge.outlets).forEach(([gn,ii])=>{xt[gn]="string"==typeof ii?ii.split("/"):ii}),[...Z,{outlets:xt}]}if(ge.segmentPath)return[...Z,ge.segmentPath]}return"string"!=typeof ge?[...Z,ge]:0===ye?(ge.split("/").forEach((xt,gn)=>{0==gn&&"."===xt||(0==gn&&""===xt?C=!0:".."===xt?O++:""!=xt&&Z.push(xt))}),Z):[...Z,ge]},[]);return new wn(C,O,N)}(O);if(ge.toRoot())return kt(Z,Z,new cn([],{}),C,N);const ye=function Nn(E,O,C){if(E.isAbsolute)return new An(O,!0,0);if(!C)return new An(O,!1,NaN);if(null===C.parent)return new An(C,!0,0);const N=zn(E.commands[0])?0:1;return function ci(E,O,C){let N=E,Z=O,ge=C;for(;ge>Z;){if(ge-=Z,N=N.parent,!N)throw new l.vHH(4005,!1);Z=N.segments.length}return new An(N,!1,Z-ge)}(C,C.segments.length-1+N,E.numberOfDoubleDots)}(ge,Z,E),xt=ye.processChildren?br(ye.segmentGroup,ye.index,ge.commands):wi(ye.segmentGroup,ye.index,ge.commands);return kt(Z,ye.segmentGroup,xt,C,N)}function zn(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function ei(E){return"object"==typeof E&&null!=E&&E.outlets}function kt(E,O,C,N,Z){let ye,ge={};N&&Object.entries(N).forEach(([gn,ii])=>{ge[gn]=Array.isArray(ii)?ii.map(Bn=>`${Bn}`):`${ii}`}),ye=E===O?C:At(E,O,C);const xt=Te(Re(ye));return new Xt(xt,ge,Z)}function At(E,O,C){const N={};return Object.entries(E.children).forEach(([Z,ge])=>{N[Z]=ge===O?C:At(ge,O,C)}),new cn(E.segments,N)}class wn{constructor(O,C,N){if(this.isAbsolute=O,this.numberOfDoubleDots=C,this.commands=N,O&&N.length>0&&zn(N[0]))throw new l.vHH(4003,!1);const Z=N.find(ei);if(Z&&Z!==ft(N))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class An{constructor(O,C,N){this.segmentGroup=O,this.processChildren=C,this.index=N}}function wi(E,O,C){if(E||(E=new cn([],{})),0===E.segments.length&&E.hasChildren())return br(E,O,C);const N=function Wr(E,O,C){let N=0,Z=O;const ge={match:!1,pathIndex:0,commandIndex:0};for(;Z<E.segments.length;){if(N>=C.length)return ge;const ye=E.segments[Z],xt=C[N];if(ei(xt))break;const gn=`${xt}`,ii=N<C.length-1?C[N+1]:null;if(Z>0&&void 0===gn)break;if(gn&&ii&&"object"==typeof ii&&void 0===ii.outlets){if(!Br(gn,ii,ye))return ge;N+=2}else{if(!Br(gn,{},ye))return ge;N++}Z++}return{match:!0,pathIndex:Z,commandIndex:N}}(E,O,C),Z=C.slice(N.commandIndex);if(N.match&&N.pathIndex<E.segments.length){const ge=new cn(E.segments.slice(0,N.pathIndex),{});return ge.children[Mt]=new cn(E.segments.slice(N.pathIndex),E.children),br(ge,0,Z)}return N.match&&0===Z.length?new cn(E.segments,{}):N.match&&!E.hasChildren()?fo(E,O,C):N.match?br(E,0,Z):fo(E,O,C)}function br(E,O,C){if(0===C.length)return new cn(E.segments,{});{const N=function Qi(E){return ei(E[0])?E[0].outlets:{[Mt]:E}}(C),Z={};if(!N[Mt]&&E.children[Mt]&&1===E.numberOfChildren&&0===E.children[Mt].segments.length){const ge=br(E.children[Mt],O,C);return new cn(E.segments,ge.children)}return Object.entries(N).forEach(([ge,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(Z[ge]=wi(E.children[ge],O,ye))}),Object.entries(E.children).forEach(([ge,ye])=>{void 0===N[ge]&&(Z[ge]=ye)}),new cn(E.segments,Z)}}function fo(E,O,C){const N=E.segments.slice(0,O);let Z=0;for(;Z<C.length;){const ge=C[Z];if(ei(ge)){const gn=_s(ge.outlets);return new cn(N,gn)}if(0===Z&&zn(C[0])){N.push(new $n(E.segments[O].path,pr(C[0]))),Z++;continue}const ye=ei(ge)?ge.outlets[Mt]:`${ge}`,xt=Z<C.length-1?C[Z+1]:null;ye&&xt&&zn(xt)?(N.push(new $n(ye,pr(xt))),Z+=2):(N.push(new $n(ye,{})),Z++)}return new cn(N,{})}function _s(E){const O={};return Object.entries(E).forEach(([C,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[C]=fo(new cn([],{}),0,N))}),O}function pr(E){const O={};return Object.entries(E).forEach(([C,N])=>O[C]=`${N}`),O}function Br(E,O,C){return E==C.path&&Lt(O,C.parameters)}const Pr="imperative";class Kr{constructor(O,C){this.id=O,this.url=C}}class po extends Kr{constructor(O,C,N="imperative",Z=null){super(O,C),this.type=0,this.navigationTrigger=N,this.restoredState=Z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ii extends Kr{constructor(O,C,N){super(O,C),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Po extends Kr{constructor(O,C,N,Z){super(O,C),this.reason=N,this.code=Z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zr extends Kr{constructor(O,C,N,Z){super(O,C),this.reason=N,this.code=Z,this.type=16}}class Ur extends Kr{constructor(O,C,N,Z){super(O,C),this.error=N,this.target=Z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class or extends Kr{constructor(O,C,N,Z){super(O,C),this.urlAfterRedirects=N,this.state=Z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class go extends Kr{constructor(O,C,N,Z){super(O,C),this.urlAfterRedirects=N,this.state=Z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr extends Kr{constructor(O,C,N,Z,ge){super(O,C),this.urlAfterRedirects=N,this.state=Z,this.shouldActivate=ge,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _o extends Kr{constructor(O,C,N,Z){super(O,C),this.urlAfterRedirects=N,this.state=Z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends Kr{constructor(O,C,N,Z){super(O,C),this.urlAfterRedirects=N,this.state=Z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Eo{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yr{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(O,C,N){this.routerEvent=O,this.position=C,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oo,this.attachRef=null}}let oo=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(C,N){const Z=this.getOrCreateContext(C);Z.outlet=N,this.contexts.set(C,Z)}onChildOutletDestroyed(C){const N=this.getContext(C);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let N=this.getContext(C);return N||(N=new gi,this.contexts.set(C,N)),N}getContext(C){return this.contexts.get(C)||null}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Mr{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const C=this.pathFromRoot(O);return C.length>1?C[C.length-2]:null}children(O){const C=Zo(O,this._root);return C?C.children.map(N=>N.value):[]}firstChild(O){const C=Zo(O,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(O){const C=Ct(O,this._root);return C.length<2?[]:C[C.length-2].children.map(Z=>Z.value).filter(Z=>Z!==O)}pathFromRoot(O){return Ct(O,this._root).map(C=>C.value)}}function Zo(E,O){if(E===O.value)return O;for(const C of O.children){const N=Zo(E,C);if(N)return N}return null}function Ct(E,O){if(E===O.value)return[O];for(const C of O.children){const N=Ct(E,C);if(N.length)return N.unshift(O),N}return[]}class gt{constructor(O,C){this.value=O,this.children=C}toString(){return`TreeNode(${this.value})`}}function zt(E){const O={};return E&&E.children.forEach(C=>O[C.value.outlet]=C),O}class un extends Mr{constructor(O,C){super(O),this.snapshot=C,ar(this,O)}toString(){return this.snapshot.toString()}}function vn(E,O){const C=function hn(E,O){const ye=new Fr([],{},{},"",{},Mt,O,null,{});return new wr("",new gt(ye,[]))}(0,O),N=new W.X([new $n("",{})]),Z=new W.X({}),ge=new W.X({}),ye=new W.X({}),xt=new W.X(""),gn=new Rn(N,Z,ye,xt,ge,Mt,O,C.root);return gn.snapshot=C.root,new un(new gt(gn,[]),C)}class Rn{constructor(O,C,N,Z,ge,ye,xt,gn){this.urlSubject=O,this.paramsSubject=C,this.queryParamsSubject=N,this.fragmentSubject=Z,this.dataSubject=ge,this.outlet=ye,this.component=xt,this._futureSnapshot=gn,this.title=this.dataSubject?.pipe((0,Ee.U)(ii=>ii[Xe]))??(0,ae.of)(void 0),this.url=O,this.params=C,this.queryParams=N,this.fragment=Z,this.data=ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ee.U)(O=>Nt(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ee.U)(O=>Nt(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zn(E,O="emptyOnly"){const C=E.pathFromRoot;let N=0;if("always"!==O)for(N=C.length-1;N>=1;){const Z=C[N],ge=C[N-1];if(Z.routeConfig&&""===Z.routeConfig.path)N--;else{if(ge.component)break;N--}}return function fi(E){return E.reduce((O,C)=>({params:{...O.params,...C.params},data:{...O.data,...C.data},resolve:{...C.data,...O.resolve,...C.routeConfig?.data,...C._resolvedData}}),{params:{},data:{},resolve:{}})}(C.slice(N))}class Fr{get title(){return this.data?.[Xe]}constructor(O,C,N,Z,ge,ye,xt,gn,ii){this.url=O,this.params=C,this.queryParams=N,this.fragment=Z,this.data=ge,this.outlet=ye,this.component=xt,this.routeConfig=gn,this._resolve=ii}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wr extends Mr{constructor(O,C){super(C),this.url=O,ar(this,C)}toString(){return $i(this._root)}}function ar(E,O){O.value._routerState=E,O.children.forEach(C=>ar(E,C))}function $i(E){const O=E.children.length>0?` { ${E.children.map($i).join(", ")} } `:"";return`${E.value}${O}`}function lo(E){if(E.snapshot){const O=E.snapshot,C=E._futureSnapshot;E.snapshot=C,Lt(O.queryParams,C.queryParams)||E.queryParamsSubject.next(C.queryParams),O.fragment!==C.fragment&&E.fragmentSubject.next(C.fragment),Lt(O.params,C.params)||E.paramsSubject.next(C.params),function Wt(E,O){if(E.length!==O.length)return!1;for(let C=0;C<E.length;++C)if(!Lt(E[C],O[C]))return!1;return!0}(O.url,C.url)||E.urlSubject.next(C.url),Lt(O.data,C.data)||E.dataSubject.next(C.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function Co(E,O){const C=Lt(E.params,O.params)&&function ni(E,O){return xn(E,O)&&E.every((C,N)=>Lt(C.parameters,O[N].parameters))}(E.url,O.url);return C&&!(!E.parent!=!O.parent)&&(!E.parent||Co(E.parent,O.parent))}let oi=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(oo),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Do,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(C){if(C.name){const{firstChange:N,previousValue:Z}=C.name;if(N)return;this.isTrackedInParentContexts(Z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,N){this.activated=C,this._activatedRoute=N,this.location.insert(C.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,N){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=C;const Z=this.location,ye=C.snapshot.component,xt=this.parentContexts.getOrCreateContext(this.name).children,gn=new Yo(C,xt,Z.injector);this.activated=Z.createComponent(ye,{index:Z.length,injector:gn,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275dir=l.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),E})();class Yo{constructor(O,C,N){this.route=O,this.childContexts=C,this.parent=N}get(O,C){return O===Rn?this.route:O===oo?this.childContexts:this.parent.get(O,C)}}const Do=new l.OlP("");let qr=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(C){this.unsubscribeFromRouteData(C),this.subscribeToRouteData(C)}unsubscribeFromRouteData(C){this.outletDataSubscriptions.get(C)?.unsubscribe(),this.outletDataSubscriptions.delete(C)}subscribeToRouteData(C){const{activatedRoute:N}=C,Z=(0,_e.a)([N.queryParams,N.params,N.data]).pipe((0,ue.w)(([ge,ye,xt],gn)=>(xt={...ge,...ye,...xt},0===gn?(0,ae.of)(xt):Promise.resolve(xt)))).subscribe(ge=>{if(!C.isActivated||!C.activatedComponentRef||C.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(C);const ye=(0,l.qFp)(N.component);if(ye)for(const{templateName:xt}of ye.inputs)C.activatedComponentRef.setInput(xt,ge[xt]);else this.unsubscribeFromRouteData(C)});this.outletDataSubscriptions.set(C,Z)}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac}),E})();function bo(E,O,C){if(C&&E.shouldReuseRoute(O.value,C.value.snapshot)){const N=C.value;N._futureSnapshot=O.value;const Z=function ds(E,O,C){return O.children.map(N=>{for(const Z of C.children)if(E.shouldReuseRoute(N.value,Z.value.snapshot))return bo(E,N,Z);return bo(E,N)})}(E,O,C);return new gt(N,Z)}{if(E.shouldAttach(O.value)){const ge=E.retrieve(O.value);if(null!==ge){const ye=ge.route;return ye.value._futureSnapshot=O.value,ye.children=O.children.map(xt=>bo(E,xt)),ye}}const N=function Vo(E){return new Rn(new W.X(E.url),new W.X(E.params),new W.X(E.queryParams),new W.X(E.fragment),new W.X(E.data),E.outlet,E.component,E)}(O.value),Z=O.children.map(ge=>bo(E,ge));return new gt(N,Z)}}const es="ngNavigationCancelingError";function vs(E,O){const{redirectTo:C,navigationBehaviorOptions:N}=Q(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,Z=cr(!1,0,O);return Z.url=C,Z.navigationBehaviorOptions=N,Z}function cr(E,O,C){const N=new Error("NavigationCancelingError: "+(E||""));return N[es]=!0,N.cancellationCode=O,C&&(N.url=C),N}function nr(E){return us(E)&&Q(E.url)}function us(E){return E&&E[es]}let Io=(()=>{class E{}return E.\u0275fac=function(C){return new(C||E)},E.\u0275cmp=l.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(C,N){1&C&&l._UZ(0,"router-outlet")},dependencies:[oi],encapsulation:2}),E})();function ts(E){const O=E.children&&E.children.map(ts),C=O?{...E,children:O}:{...E};return!C.component&&!C.loadComponent&&(O||C.loadChildren)&&C.outlet&&C.outlet!==Mt&&(C.component=Io),C}function Ki(E){return E.outlet||Mt}function Jr(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let O=E.parent;O;O=O.parent){const C=O.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class Hi{constructor(O,C,N,Z,ge){this.routeReuseStrategy=O,this.futureState=C,this.currState=N,this.forwardEvent=Z,this.inputBindingEnabled=ge}activate(O){const C=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,N,O),lo(this.futureState.root),this.activateChildRoutes(C,N,O)}deactivateChildRoutes(O,C,N){const Z=zt(C);O.children.forEach(ge=>{const ye=ge.value.outlet;this.deactivateRoutes(ge,Z[ye],N),delete Z[ye]}),Object.values(Z).forEach(ge=>{this.deactivateRouteAndItsChildren(ge,N)})}deactivateRoutes(O,C,N){const Z=O.value,ge=C?C.value:null;if(Z===ge)if(Z.component){const ye=N.getContext(Z.outlet);ye&&this.deactivateChildRoutes(O,C,ye.children)}else this.deactivateChildRoutes(O,C,N);else ge&&this.deactivateRouteAndItsChildren(C,N)}deactivateRouteAndItsChildren(O,C){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,C):this.deactivateRouteAndOutlet(O,C)}detachAndStoreRouteSubtree(O,C){const N=C.getContext(O.value.outlet),Z=N&&O.value.component?N.children:C,ge=zt(O);for(const ye of Object.keys(ge))this.deactivateRouteAndItsChildren(ge[ye],Z);if(N&&N.outlet){const ye=N.outlet.detach(),xt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:ye,route:O,contexts:xt})}}deactivateRouteAndOutlet(O,C){const N=C.getContext(O.value.outlet),Z=N&&O.value.component?N.children:C,ge=zt(O);for(const ye of Object.keys(ge))this.deactivateRouteAndItsChildren(ge[ye],Z);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,C,N){const Z=zt(C);O.children.forEach(ge=>{this.activateRoutes(ge,Z[ge.value.outlet],N),this.forwardEvent(new vo(ge.value.snapshot))}),O.children.length&&this.forwardEvent(new yr(O.value.snapshot))}activateRoutes(O,C,N){const Z=O.value,ge=C?C.value:null;if(lo(Z),Z===ge)if(Z.component){const ye=N.getOrCreateContext(Z.outlet);this.activateChildRoutes(O,C,ye.children)}else this.activateChildRoutes(O,C,N);else if(Z.component){const ye=N.getOrCreateContext(Z.outlet);if(this.routeReuseStrategy.shouldAttach(Z.snapshot)){const xt=this.routeReuseStrategy.retrieve(Z.snapshot);this.routeReuseStrategy.store(Z.snapshot,null),ye.children.onOutletReAttached(xt.contexts),ye.attachRef=xt.componentRef,ye.route=xt.route.value,ye.outlet&&ye.outlet.attach(xt.componentRef,xt.route.value),lo(xt.route.value),this.activateChildRoutes(O,null,ye.children)}else{const xt=Jr(Z.snapshot);ye.attachRef=null,ye.route=Z,ye.injector=xt,ye.outlet&&ye.outlet.activateWith(Z,ye.injector),this.activateChildRoutes(O,null,ye.children)}}else this.activateChildRoutes(O,null,N)}}class uo{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Ho{constructor(O,C){this.component=O,this.route=C}}function Hs(E,O,C){const N=E._root;return et(N,O?O._root:null,C,[N.value])}function bs(E,O){const C=Symbol(),N=O.get(E,C);return N===C?"function"!=typeof E||(0,l.Z0I)(E)?O.get(E):E:N}function et(E,O,C,N,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ge=zt(O);return E.children.forEach(ye=>{(function nt(E,O,C,N,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ge=E.value,ye=O?O.value:null,xt=C?C.getContext(E.value.outlet):null;if(ye&&ge.routeConfig===ye.routeConfig){const gn=function X(E,O,C){if("function"==typeof C)return C(E,O);switch(C){case"pathParamsChange":return!xn(E.url,O.url);case"pathParamsOrQueryParamsChange":return!xn(E.url,O.url)||!Lt(E.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Co(E,O)||!Lt(E.queryParams,O.queryParams);default:return!Co(E,O)}}(ye,ge,ge.routeConfig.runGuardsAndResolvers);gn?Z.canActivateChecks.push(new uo(N)):(ge.data=ye.data,ge._resolvedData=ye._resolvedData),et(E,O,ge.component?xt?xt.children:null:C,N,Z),gn&&xt&&xt.outlet&&xt.outlet.isActivated&&Z.canDeactivateChecks.push(new Ho(xt.outlet.component,ye))}else ye&&st(O,xt,Z),Z.canActivateChecks.push(new uo(N)),et(E,null,ge.component?xt?xt.children:null:C,N,Z)})(ye,ge[ye.value.outlet],C,N.concat([ye.value]),Z),delete ge[ye.value.outlet]}),Object.entries(ge).forEach(([ye,xt])=>st(xt,C.getContext(ye),Z)),Z}function st(E,O,C){const N=zt(E),Z=E.value;Object.entries(N).forEach(([ge,ye])=>{st(ye,Z.component?O?O.children.getContext(ge):null:O,C)}),C.canDeactivateChecks.push(new Ho(Z.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,Z))}function an(E){return"function"==typeof E}function v(E){return E instanceof Ce.K||"EmptyError"===E?.name}const D=Symbol("INITIAL_VALUE");function ie(){return(0,ue.w)(E=>(0,_e.a)(E.map(O=>O.pipe((0,pe.q)(1),(0,Le.O)(D)))).pipe((0,Ee.U)(O=>{for(const C of O)if(!0!==C){if(C===D)return D;if(!1===C||C instanceof Xt)return C}return!0}),(0,Y.h)(O=>O!==D),(0,pe.q)(1)))}function Dr(E){return(0,ve.z)((0,Tt.b)(O=>{if(Q(O))throw vs(0,O)}),(0,Ee.U)(O=>!0===O))}class Ri{constructor(O){this.segmentGroup=O||null}}class Xi{constructor(O){this.urlTree=O}}function vi(E){return(0,ze._)(new Ri(E))}function Fo(E){return(0,ze._)(new Xi(E))}class Ir{constructor(O,C){this.urlSerializer=O,this.urlTree=C}noMatchError(O){return new l.vHH(4002,!1)}lineralizeSegments(O,C){let N=[],Z=C.root;for(;;){if(N=N.concat(Z.segments),0===Z.numberOfChildren)return(0,ae.of)(N);if(Z.numberOfChildren>1||!Z.children[Mt])return(0,ze._)(new l.vHH(4e3,!1));Z=Z.children[Mt]}}applyRedirectCommands(O,C,N){return this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),O,N)}applyRedirectCreateUrlTree(O,C,N,Z){const ge=this.createSegmentGroup(O,C.root,N,Z);return new Xt(ge,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(O,C){const N={};return Object.entries(O).forEach(([Z,ge])=>{if("string"==typeof ge&&ge.startsWith(":")){const xt=ge.substring(1);N[Z]=C[xt]}else N[Z]=ge}),N}createSegmentGroup(O,C,N,Z){const ge=this.createSegments(O,C.segments,N,Z);let ye={};return Object.entries(C.children).forEach(([xt,gn])=>{ye[xt]=this.createSegmentGroup(O,gn,N,Z)}),new cn(ge,ye)}createSegments(O,C,N,Z){return C.map(ge=>ge.path.startsWith(":")?this.findPosParam(O,ge,Z):this.findOrReturn(ge,N))}findPosParam(O,C,N){const Z=N[C.path.substring(1)];if(!Z)throw new l.vHH(4001,!1);return Z}findOrReturn(O,C){let N=0;for(const Z of C){if(Z.path===O.path)return C.splice(N),Z;N++}return O}}const So={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zo(E,O,C,N,Z){const ge=ys(E,O,C);return ge.matched?(N=function ki(E,O){return E.providers&&!E._injector&&(E._injector=(0,l.MMx)(E.providers,O,`Route: ${E.path}`)),E._injector??O}(O,N),function Pi(E,O,C,N){const Z=O.canMatch;if(!Z||0===Z.length)return(0,ae.of)(!0);const ge=Z.map(ye=>{const xt=bs(ye,E);return qe(function lr(E){return E&&an(E.canMatch)}(xt)?xt.canMatch(O,C):E.runInContext(()=>xt(O,C)))});return(0,ae.of)(ge).pipe(ie(),Dr())}(N,O,C).pipe((0,Ee.U)(ye=>!0===ye?ge:{...So}))):(0,ae.of)(ge)}function ys(E,O,C){if(""===O.path)return"full"===O.pathMatch&&(E.hasChildren()||C.length>0)?{...So}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const Z=(O.matcher||It)(C,E,O);if(!Z)return{...So};const ge={};Object.entries(Z.posParams??{}).forEach(([xt,gn])=>{ge[xt]=gn.path});const ye=Z.consumed.length>0?{...ge,...Z.consumed[Z.consumed.length-1].parameters}:ge;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:C.slice(Z.consumed.length),parameters:ye,positionalParamSegments:Z.posParams??{}}}function ws(E,O,C,N){return C.length>0&&function No(E,O,C){return C.some(N=>so(E,O,N)&&Ki(N)!==Mt)}(E,C,N)?{segmentGroup:new cn(O,Zs(N,new cn(C,E.children))),slicedSegments:[]}:0===C.length&&function Ns(E,O,C){return C.some(N=>so(E,O,N))}(E,C,N)?{segmentGroup:new cn(E.segments,Ms(E,0,C,N,E.children)),slicedSegments:C}:{segmentGroup:new cn(E.segments,E.children),slicedSegments:C}}function Ms(E,O,C,N,Z){const ge={};for(const ye of N)if(so(E,C,ye)&&!Z[Ki(ye)]){const xt=new cn([],{});ge[Ki(ye)]=xt}return{...Z,...ge}}function Zs(E,O){const C={};C[Mt]=O;for(const N of E)if(""===N.path&&Ki(N)!==Mt){const Z=new cn([],{});C[Ki(N)]=Z}return C}function so(E,O,C){return(!(E.hasChildren()||O.length>0)||"full"!==C.pathMatch)&&""===C.path}class oa{constructor(O,C,N,Z,ge,ye,xt){this.injector=O,this.configLoader=C,this.rootComponentType=N,this.config=Z,this.urlTree=ge,this.paramsInheritanceStrategy=ye,this.urlSerializer=xt,this.allowRedirects=!0,this.applyRedirects=new Ir(this.urlSerializer,this.urlTree)}noMatchError(O){return new l.vHH(4002,!1)}recognize(){const O=ws(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Mt).pipe((0,bn.K)(C=>{if(C instanceof Xi)return this.allowRedirects=!1,this.urlTree=C.urlTree,this.match(C.urlTree);throw C instanceof Ri?this.noMatchError(C):C}),(0,Ee.U)(C=>{const N=new Fr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,{}),Z=new gt(N,C),ge=new wr("",Z),ye=function De(E,O,C=null,N=null){return jt(wt(E),O,C,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,ge.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(ge._root),{state:ge,tree:ye}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Mt).pipe((0,bn.K)(N=>{throw N instanceof Ri?this.noMatchError(N):N}))}inheritParamsAndData(O){const C=O.value,N=Zn(C,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data),O.children.forEach(Z=>this.inheritParamsAndData(Z))}processSegmentGroup(O,C,N,Z){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,C,N):this.processSegment(O,C,N,N.segments,Z,!0)}processChildren(O,C,N){const Z=[];for(const ge of Object.keys(N.children))"primary"===ge?Z.unshift(ge):Z.push(ge);return(0,xe.D)(Z).pipe((0,Qe.b)(ge=>{const ye=N.children[ge],xt=function xr(E,O){const C=E.filter(N=>Ki(N)===O);return C.push(...E.filter(N=>Ki(N)!==O)),C}(C,ge);return this.processSegmentGroup(O,xt,ye,ge)}),(0,kn.R)((ge,ye)=>(ge.push(...ye),ge)),(0,vt.d)(null),function Ht(E,O){const C=arguments.length>=2;return N=>N.pipe(E?(0,Y.h)((Z,ge)=>E(Z,ge,N)):dt.y,bt(1),C?(0,vt.d)(O):(0,Vt.T)(()=>new Ce.K))}(),(0,Ze.z)(ge=>{if(null===ge)return vi(N);const ye=ma(ge);return function qs(E){E.sort((O,C)=>O.value.outlet===Mt?-1:C.value.outlet===Mt?1:O.value.outlet.localeCompare(C.value.outlet))}(ye),(0,ae.of)(ye)}))}processSegment(O,C,N,Z,ge,ye){return(0,xe.D)(C).pipe((0,Qe.b)(xt=>this.processSegmentAgainstRoute(xt._injector??O,C,xt,N,Z,ge,ye).pipe((0,bn.K)(gn=>{if(gn instanceof Ri)return(0,ae.of)(null);throw gn}))),(0,Ue.P)(xt=>!!xt),(0,bn.K)(xt=>{if(v(xt))return function Ys(E,O,C){return 0===O.length&&!E.children[C]}(N,Z,ge)?(0,ae.of)([]):vi(N);throw xt}))}processSegmentAgainstRoute(O,C,N,Z,ge,ye,xt){return function gc(E,O,C,N){return!!(Ki(E)===N||N!==Mt&&so(O,C,E))&&("**"===E.path||ys(O,E,C).matched)}(N,Z,ge,ye)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,Z,N,ge,ye,xt):xt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,Z,C,N,ge,ye):vi(Z):vi(Z)}expandSegmentAgainstRouteUsingRedirect(O,C,N,Z,ge,ye){return"**"===Z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,Z,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(O,C,N,Z,ge,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,C,N,Z){const ge=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?Fo(ge):this.applyRedirects.lineralizeSegments(N,ge).pipe((0,Ze.z)(ye=>{const xt=new cn(ye,{});return this.processSegment(O,C,xt,ye,Z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,C,N,Z,ge,ye){const{matched:xt,consumedSegments:gn,remainingSegments:ii,positionalParamSegments:Bn}=ys(C,Z,ge);if(!xt)return vi(C);const Vi=this.applyRedirects.applyRedirectCommands(gn,Z.redirectTo,Bn);return Z.redirectTo.startsWith("/")?Fo(Vi):this.applyRedirects.lineralizeSegments(Z,Vi).pipe((0,Ze.z)(Ui=>this.processSegment(O,N,C,Ui.concat(ii),ye,!1)))}matchSegmentAgainstRoute(O,C,N,Z,ge,ye){let xt;if("**"===N.path){const gn=Z.length>0?ft(Z).parameters:{},ii=new Fr(Z,gn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xa(N),Ki(N),N.component??N._loadedComponent??null,N,zs(N));xt=(0,ae.of)({snapshot:ii,consumedSegments:[],remainingSegments:[]}),C.children={}}else xt=zo(C,N,Z,O).pipe((0,Ee.U)(({matched:gn,consumedSegments:ii,remainingSegments:Bn,parameters:Vi})=>gn?{snapshot:new Fr(ii,Vi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xa(N),Ki(N),N.component??N._loadedComponent??null,N,zs(N)),consumedSegments:ii,remainingSegments:Bn}:null));return xt.pipe((0,ue.w)(gn=>null===gn?vi(C):this.getChildConfig(O=N._injector??O,N,Z).pipe((0,ue.w)(({routes:ii})=>{const Bn=N._loadedInjector??O,{snapshot:Vi,consumedSegments:Ui,remainingSegments:_a}=gn,{segmentGroup:ps,slicedSegments:zr}=ws(C,Ui,_a,ii);if(0===zr.length&&ps.hasChildren())return this.processChildren(Bn,ii,ps).pipe((0,Ee.U)($r=>null===$r?null:[new gt(Vi,$r)]));if(0===ii.length&&0===zr.length)return(0,ae.of)([new gt(Vi,[])]);const Yt=Ki(N)===ge;return this.processSegment(Bn,ii,ps,zr,Yt?Mt:ge,!0).pipe((0,Ee.U)($r=>[new gt(Vi,$r)]))}))))}getChildConfig(O,C,N){return C.children?(0,ae.of)({routes:C.children,injector:O}):C.loadChildren?void 0!==C._loadedRoutes?(0,ae.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function mr(E,O,C,N){const Z=O.canLoad;if(void 0===Z||0===Z.length)return(0,ae.of)(!0);const ge=Z.map(ye=>{const xt=bs(ye,E);return qe(function Ai(E){return E&&an(E.canLoad)}(xt)?xt.canLoad(O,C):E.runInContext(()=>xt(O,C)))});return(0,ae.of)(ge).pipe(ie(),Dr())}(O,C,N).pipe((0,Ze.z)(Z=>Z?this.configLoader.loadChildren(O,C).pipe((0,Tt.b)(ge=>{C._loadedRoutes=ge.routes,C._loadedInjector=ge.injector})):function Er(E){return(0,ze._)(cr(!1,3))}())):(0,ae.of)({routes:[],injector:O})}}function Qs(E){const O=E.value.routeConfig;return O&&""===O.path}function ma(E){const O=[],C=new Set;for(const N of E){if(!Qs(N)){O.push(N);continue}const Z=O.find(ge=>N.value.routeConfig===ge.value.routeConfig);void 0!==Z?(Z.children.push(...N.children),C.add(Z)):O.push(N)}for(const N of C){const Z=ma(N.children);O.push(new gt(N.value,Z))}return O.filter(N=>!C.has(N))}function xa(E){return E.data||{}}function zs(E){return E.resolve||{}}function Os(E){return"string"==typeof E.title||null===E.title}function ir(E){return(0,ue.w)(O=>{const C=E(O);return C?(0,xe.D)(C).pipe((0,Ee.U)(()=>O)):(0,ae.of)(O)})}const yo=new l.OlP("ROUTES");let ea=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,ae.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const N=qe(C.loadComponent()).pipe((0,Ee.U)(fa),(0,Tt.b)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=ge}),(0,mt.x)(()=>{this.componentLoaders.delete(C)})),Z=new Oe(N,()=>new Et.x).pipe(Ve());return this.componentLoaders.set(C,Z),Z}loadChildren(C,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ge=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,Ee.U)(xt=>{this.onLoadEndListener&&this.onLoadEndListener(N);let gn,ii;return Array.isArray(xt)?ii=xt:(gn=xt.create(C).injector,ii=gn.get(yo,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:ii.map(ts),injector:gn}}),(0,mt.x)(()=>{this.childrenLoaders.delete(N)})),ye=new Oe(ge,()=>new Et.x).pipe(Ve());return this.childrenLoaders.set(N,ye),ye}loadModuleFactoryOrRoutes(C){return qe(C()).pipe((0,Ee.U)(fa),(0,Ze.z)(N=>N instanceof l.YKP||Array.isArray(N)?(0,ae.of)(N):(0,xe.D)(this.compiler.compileModuleAsync(N))))}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function fa(E){return function Ci(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let P=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Et.x,this.configLoader=(0,l.f3M)(ea),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Un),this.rootContexts=(0,l.f3M)(oo),this.inputBindingEnabled=null!==(0,l.f3M)(Do,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Z=>this.events.next(new Eo(Z)),this.configLoader.onLoadStartListener=Z=>this.events.next(new ls(Z))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:N})}setupNavigations(C){return this.transitions=new W.X({id:0,currentUrlTree:C.currentUrlTree,currentRawUrl:C.currentUrlTree,extractedUrl:C.urlHandlingStrategy.extract(C.currentUrlTree),urlAfterRedirects:C.urlHandlingStrategy.extract(C.currentUrlTree),rawUrl:C.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pr,restoredState:null,currentSnapshot:C.routerState.snapshot,targetSnapshot:null,currentRouterState:C.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Y.h)(N=>0!==N.id),(0,Ee.U)(N=>({...N,extractedUrl:C.urlHandlingStrategy.extract(N.rawUrl)})),(0,ue.w)(N=>{let Z=!1,ge=!1;return(0,ae.of)(N).pipe((0,Tt.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ue.w)(ye=>{const xt=C.browserUrlTree.toString(),gn=!C.navigated||ye.extractedUrl.toString()!==xt||xt!==C.currentUrlTree.toString();if(!gn&&"reload"!==(ye.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const Bn="";return this.events.next(new Zr(ye.id,C.serializeUrl(N.rawUrl),Bn,0)),C.rawUrlTree=ye.rawUrl,ye.resolve(null),Fe.E}if(C.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return ee(ye.source)&&(C.browserUrlTree=ye.extractedUrl),(0,ae.of)(ye).pipe((0,ue.w)(Bn=>{const Vi=this.transitions?.getValue();return this.events.next(new po(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),Bn.source,Bn.restoredState)),Vi!==this.transitions?.getValue()?Fe.E:Promise.resolve(Bn)}),function Sa(E,O,C,N,Z,ge){return(0,Ze.z)(ye=>function Ma(E,O,C,N,Z,ge,ye="emptyOnly"){return new oa(E,O,C,N,Z,ye,ge).recognize()}(E,O,C,N,ye.extractedUrl,Z,ge).pipe((0,Ee.U)(({state:xt,tree:gn})=>({...ye,targetSnapshot:xt,urlAfterRedirects:gn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,C.config,this.urlSerializer,C.paramsInheritanceStrategy),(0,Tt.b)(Bn=>{if(N.targetSnapshot=Bn.targetSnapshot,N.urlAfterRedirects=Bn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Bn.urlAfterRedirects},"eager"===C.urlUpdateStrategy){if(!Bn.extras.skipLocationChange){const Ui=C.urlHandlingStrategy.merge(Bn.urlAfterRedirects,Bn.rawUrl);C.setBrowserUrl(Ui,Bn)}C.browserUrlTree=Bn.urlAfterRedirects}const Vi=new or(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),this.urlSerializer.serialize(Bn.urlAfterRedirects),Bn.targetSnapshot);this.events.next(Vi)}));if(gn&&C.urlHandlingStrategy.shouldProcessUrl(C.rawUrlTree)){const{id:Bn,extractedUrl:Vi,source:Ui,restoredState:_a,extras:ps}=ye,zr=new po(Bn,this.urlSerializer.serialize(Vi),Ui,_a);this.events.next(zr);const Yt=vn(0,this.rootComponentType).snapshot;return N={...ye,targetSnapshot:Yt,urlAfterRedirects:Vi,extras:{...ps,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(N)}{const Bn="";return this.events.next(new Zr(ye.id,C.serializeUrl(N.extractedUrl),Bn,1)),C.rawUrlTree=ye.rawUrl,ye.resolve(null),Fe.E}}),(0,Tt.b)(ye=>{const xt=new go(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(xt)}),(0,Ee.U)(ye=>N={...ye,guards:Hs(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)}),function ke(E,O){return(0,Ze.z)(C=>{const{targetSnapshot:N,currentSnapshot:Z,guards:{canActivateChecks:ge,canDeactivateChecks:ye}}=C;return 0===ye.length&&0===ge.length?(0,ae.of)({...C,guardsResult:!0}):function _t(E,O,C,N){return(0,xe.D)(E).pipe((0,Ze.z)(Z=>function Oi(E,O,C,N,Z){const ge=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ge||0===ge.length)return(0,ae.of)(!0);const ye=ge.map(xt=>{const gn=Jr(O)??Z,ii=bs(xt,gn);return qe(function ho(E){return E&&an(E.canDeactivate)}(ii)?ii.canDeactivate(E,O,C,N):gn.runInContext(()=>ii(E,O,C,N))).pipe((0,Ue.P)())});return(0,ae.of)(ye).pipe(ie())}(Z.component,Z.route,C,O,N)),(0,Ue.P)(Z=>!0!==Z,!0))}(ye,N,Z,E).pipe((0,Ze.z)(xt=>xt&&function Sn(E){return"boolean"==typeof E}(xt)?function Gt(E,O,C,N){return(0,xe.D)(O).pipe((0,Qe.b)(Z=>(0,oe.z)(function Gn(E,O){return null!==E&&O&&O(new Yr(E)),(0,ae.of)(!0)}(Z.route.parent,N),function Dn(E,O){return null!==E&&O&&O(new Jo(E)),(0,ae.of)(!0)}(Z.route,N),function _i(E,O,C){const N=O[O.length-1],ge=O.slice(0,O.length-1).reverse().map(ye=>function As(E){const O=E.routeConfig?E.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:E,guards:O}:null}(ye)).filter(ye=>null!==ye).map(ye=>(0,me.P)(()=>{const xt=ye.guards.map(gn=>{const ii=Jr(ye.node)??C,Bn=bs(gn,ii);return qe(function Lr(E){return E&&an(E.canActivateChild)}(Bn)?Bn.canActivateChild(N,E):ii.runInContext(()=>Bn(N,E))).pipe((0,Ue.P)())});return(0,ae.of)(xt).pipe(ie())}));return(0,ae.of)(ge).pipe(ie())}(E,Z.path,C),function Vn(E,O,C){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,ae.of)(!0);const Z=N.map(ge=>(0,me.P)(()=>{const ye=Jr(O)??C,xt=bs(ge,ye);return qe(function Nr(E){return E&&an(E.canActivate)}(xt)?xt.canActivate(O,E):ye.runInContext(()=>xt(O,E))).pipe((0,Ue.P)())}));return(0,ae.of)(Z).pipe(ie())}(E,Z.route,C))),(0,Ue.P)(Z=>!0!==Z,!0))}(N,ge,E,O):(0,ae.of)(xt)),(0,Ee.U)(xt=>({...C,guardsResult:xt})))})}(this.environmentInjector,ye=>this.events.next(ye)),(0,Tt.b)(ye=>{if(N.guardsResult=ye.guardsResult,Q(ye.guardsResult))throw vs(0,ye.guardsResult);const xt=new hr(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.events.next(xt)}),(0,Y.h)(ye=>!!ye.guardsResult||(C.restoreHistory(ye),this.cancelNavigationTransition(ye,"",3),!1)),ir(ye=>{if(ye.guards.canActivateChecks.length)return(0,ae.of)(ye).pipe((0,Tt.b)(xt=>{const gn=new _o(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(gn)}),(0,ue.w)(xt=>{let gn=!1;return(0,ae.of)(xt).pipe(function ka(E,O){return(0,Ze.z)(C=>{const{targetSnapshot:N,guards:{canActivateChecks:Z}}=C;if(!Z.length)return(0,ae.of)(C);let ge=0;return(0,xe.D)(Z).pipe((0,Qe.b)(ye=>function Xs(E,O,C,N){const Z=E.routeConfig,ge=E._resolve;return void 0!==Z?.title&&!Os(Z)&&(ge[Xe]=Z.title),function ms(E,O,C,N){const Z=function ns(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===Z.length)return(0,ae.of)({});const ge={};return(0,xe.D)(Z).pipe((0,Ze.z)(ye=>function Js(E,O,C,N){const Z=Jr(O)??N,ge=bs(E,Z);return qe(ge.resolve?ge.resolve(O,C):Z.runInContext(()=>ge(O,C)))}(E[ye],O,C,N).pipe((0,Ue.P)(),(0,Tt.b)(xt=>{ge[ye]=xt}))),bt(1),(0,Be.h)(ge),(0,bn.K)(ye=>v(ye)?Fe.E:(0,ze._)(ye)))}(ge,E,O,N).pipe((0,Ee.U)(ye=>(E._resolvedData=ye,E.data=Zn(E,C).resolve,Z&&Os(Z)&&(E.data[Xe]=Z.title),null)))}(ye.route,N,E,O)),(0,Tt.b)(()=>ge++),bt(1),(0,Ze.z)(ye=>ge===Z.length?(0,ae.of)(C):Fe.E))})}(C.paramsInheritanceStrategy,this.environmentInjector),(0,Tt.b)({next:()=>gn=!0,complete:()=>{gn||(C.restoreHistory(xt),this.cancelNavigationTransition(xt,"",2))}}))}),(0,Tt.b)(xt=>{const gn=new cs(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(gn)}))}),ir(ye=>{const xt=gn=>{const ii=[];gn.routeConfig?.loadComponent&&!gn.routeConfig._loadedComponent&&ii.push(this.configLoader.loadComponent(gn.routeConfig).pipe((0,Tt.b)(Bn=>{gn.component=Bn}),(0,Ee.U)(()=>{})));for(const Bn of gn.children)ii.push(...xt(Bn));return ii};return(0,_e.a)(xt(ye.targetSnapshot.root)).pipe((0,vt.d)(),(0,pe.q)(1))}),ir(()=>this.afterPreactivation()),(0,Ee.U)(ye=>{const xt=function Gi(E,O,C){const N=bo(E,O._root,C?C._root:void 0);return new un(N,O)}(C.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return N={...ye,targetRouterState:xt}}),(0,Tt.b)(ye=>{C.currentUrlTree=ye.urlAfterRedirects,C.rawUrlTree=C.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),C.routerState=ye.targetRouterState,"deferred"===C.urlUpdateStrategy&&(ye.extras.skipLocationChange||C.setBrowserUrl(C.rawUrlTree,ye),C.browserUrlTree=ye.urlAfterRedirects)}),((E,O,C,N)=>(0,Ee.U)(Z=>(new Hi(O,Z.targetRouterState,Z.currentRouterState,C,N).activate(E),Z)))(this.rootContexts,C.routeReuseStrategy,ye=>this.events.next(ye),this.inputBindingEnabled),(0,pe.q)(1),(0,Tt.b)({next:ye=>{Z=!0,this.lastSuccessfulNavigation=this.currentNavigation,C.navigated=!0,this.events.next(new Ii(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(C.currentUrlTree))),C.titleStrategy?.updateTitle(ye.targetRouterState.snapshot),ye.resolve(!0)},complete:()=>{Z=!0}}),(0,mt.x)(()=>{Z||ge||this.cancelNavigationTransition(N,"",1),this.currentNavigation?.id===N.id&&(this.currentNavigation=null)}),(0,bn.K)(ye=>{if(ge=!0,us(ye)){nr(ye)||(C.navigated=!0,C.restoreHistory(N,!0));const xt=new Po(N.id,this.urlSerializer.serialize(N.extractedUrl),ye.message,ye.cancellationCode);if(this.events.next(xt),nr(ye)){const gn=C.urlHandlingStrategy.merge(ye.url,C.rawUrlTree),ii={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===C.urlUpdateStrategy||ee(N.source)};C.scheduleNavigation(gn,Pr,null,ii,{resolve:N.resolve,reject:N.reject,promise:N.promise})}else N.resolve(!1)}else{C.restoreHistory(N,!0);const xt=new Ur(N.id,this.urlSerializer.serialize(N.extractedUrl),ye,N.targetSnapshot??void 0);this.events.next(xt);try{N.resolve(C.errorHandler(ye))}catch(gn){N.reject(gn)}}return Fe.E}))}))}cancelNavigationTransition(C,N,Z){const ge=new Po(C.id,this.urlSerializer.serialize(C.extractedUrl),N,Z);this.events.next(ge),C.resolve(!1)}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ee(E){return E!==Pr}let B=(()=>{class E{buildTitle(C){let N,Z=C.root;for(;void 0!==Z;)N=this.getResolvedTitleForRoute(Z)??N,Z=Z.children.find(ge=>ge.outlet===Mt);return N}getResolvedTitleForRoute(C){return C.data[Xe]}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:function(){return(0,l.f3M)(be)},providedIn:"root"}),E})(),be=(()=>{class E extends B{constructor(C){super(),this.title=C}updateTitle(C){const N=this.buildTitle(C);void 0!==N&&this.title.setTitle(N)}}return E.\u0275fac=function(C){return new(C||E)(l.LFG(qt.Dx))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),it=(()=>{class E{}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:function(){return(0,l.f3M)(fn)},providedIn:"root"}),E})();class rn{shouldDetach(O){return!1}store(O,C){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,C){return O.routeConfig===C.routeConfig}}let fn=(()=>{class E extends rn{}return E.\u0275fac=function(){let O;return function(N){return(O||(O=l.n5z(E)))(N||E)}}(),E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const qn=new l.OlP("",{providedIn:"root",factory:()=>({})});let zi=(()=>{class E{}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:function(){return(0,l.f3M)(Di)},providedIn:"root"}),E})(),Di=(()=>{class E{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,N){return C}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();var bi=(()=>((bi=bi||{})[bi.COMPLETE=0]="COMPLETE",bi[bi.FAILED=1]="FAILED",bi[bi.REDIRECTING=2]="REDIRECTING",bi))();function Ei(E,O){E.events.pipe((0,Y.h)(C=>C instanceof Ii||C instanceof Po||C instanceof Ur||C instanceof Zr),(0,Ee.U)(C=>C instanceof Ii||C instanceof Zr?bi.COMPLETE:C instanceof Po&&(0===C.code||1===C.code)?bi.REDIRECTING:bi.FAILED),(0,Y.h)(C=>C!==bi.REDIRECTING),(0,pe.q)(1)).subscribe(()=>{O()})}function Ji(E){throw E}function jn(E,O,C){return O.parse("/")}const to={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(qn,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||Ji,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(zi),this.routeReuseStrategy=(0,l.f3M)(it),this.titleStrategy=(0,l.f3M)(B),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(yo,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(P),this.urlSerializer=(0,l.f3M)(Un),this.location=(0,l.f3M)(fe.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(Do,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(C=>{this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId??0},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const C=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pr,C)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const N="popstate"===C.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(C.url,N,C.state)},0)}))}navigateToSyncWithBrowser(C,N,Z){const ge={replaceUrl:!0},ye=Z?.navigationId?Z:null;if(Z){const gn={...Z};delete gn.navigationId,delete gn.\u0275routerPageId,0!==Object.keys(gn).length&&(ge.state=gn)}const xt=this.parseUrl(C);this.scheduleNavigation(xt,N,ye,ge)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(C){this.config=C.map(ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,N={}){const{relativeTo:Z,queryParams:ge,fragment:ye,queryParamsHandling:xt,preserveFragment:gn}=N,ii=gn?this.currentUrlTree.fragment:ye;let Vi,Bn=null;switch(xt){case"merge":Bn={...this.currentUrlTree.queryParams,...ge};break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=ge||null}null!==Bn&&(Bn=this.removeEmptyProps(Bn));try{Vi=wt(Z?Z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof C[0]||!C[0].startsWith("/"))&&(C=[]),Vi=this.currentUrlTree.root}return jt(Vi,C,Bn,ii??null)}navigateByUrl(C,N={skipLocationChange:!1}){const Z=Q(C)?C:this.parseUrl(C),ge=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(ge,Pr,null,N)}navigate(C,N={skipLocationChange:!1}){return function pa(E){for(let O=0;O<E.length;O++)if(null==E[O])throw new l.vHH(4008,!1)}(C),this.navigateByUrl(this.createUrlTree(C,N),N)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let N;try{N=this.urlSerializer.parse(C)}catch(Z){N=this.malformedUriErrorHandler(Z,this.urlSerializer,C)}return N}isActive(C,N){let Z;if(Z=!0===N?{...to}:!1===N?{...fs}:N,Q(C))return mn(this.currentUrlTree,C,Z);const ge=this.parseUrl(C);return mn(this.currentUrlTree,ge,Z)}removeEmptyProps(C){return Object.keys(C).reduce((N,Z)=>{const ge=C[Z];return null!=ge&&(N[Z]=ge),N},{})}scheduleNavigation(C,N,Z,ge,ye){if(this.disposed)return Promise.resolve(!1);let xt,gn,ii;ye?(xt=ye.resolve,gn=ye.reject,ii=ye.promise):ii=new Promise((Vi,Ui)=>{xt=Vi,gn=Ui});const Bn=this.pendingTasks.add();return Ei(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Bn))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:ge,resolve:xt,reject:gn,promise:ii,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ii.catch(Vi=>Promise.reject(Vi))}setBrowserUrl(C,N){const Z=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(Z)||N.extras.replaceUrl){const ye={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(Z,"",ye)}else{const ge={...N.extras.state,...this.generateNgRouterState(N.id,(this.browserPageId??0)+1)};this.location.go(Z,"",ge)}}restoreHistory(C,N=!1){if("computed"===this.canceledNavigationResolution){const ge=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ge?this.location.historyGo(ge):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ge&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,N){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:N}:{navigationId:C}}}return E.\u0275fac=function(C){return new(C||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Es{}let _c=(()=>{class E{constructor(C,N,Z,ge,ye){this.router=C,this.injector=Z,this.preloadingStrategy=ge,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,Y.h)(C=>C instanceof Ii),(0,Qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,N){const Z=[];for(const ge of N){ge.providers&&!ge._injector&&(ge._injector=(0,l.MMx)(ge.providers,C,`Route: ${ge.path}`));const ye=ge._injector??C,xt=ge._loadedInjector??ye;(ge.loadChildren&&!ge._loadedRoutes&&void 0===ge.canLoad||ge.loadComponent&&!ge._loadedComponent)&&Z.push(this.preloadConfig(ye,ge)),(ge.children||ge._loadedRoutes)&&Z.push(this.processRoutes(xt,ge.children??ge._loadedRoutes))}return(0,xe.D)(Z).pipe((0,Rt.J)())}preloadConfig(C,N){return this.preloadingStrategy.preload(N,()=>{let Z;Z=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(C,N):(0,ae.of)(null);const ge=Z.pipe((0,Ze.z)(ye=>null===ye?(0,ae.of)(void 0):(N._loadedRoutes=ye.routes,N._loadedInjector=ye.injector,this.processRoutes(ye.injector??C,ye.routes))));if(N.loadComponent&&!N._loadedComponent){const ye=this.loader.loadComponent(N);return(0,xe.D)([ge,ye]).pipe((0,Rt.J)())}return ge})}}return E.\u0275fac=function(C){return new(C||E)(l.LFG(Vr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Es),l.LFG(ea))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const nc=new l.OlP("");let En=(()=>{class E{constructor(C,N,Z,ge,ye={}){this.urlSerializer=C,this.transitions=N,this.viewportScroller=Z,this.zone=ge,this.options=ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ye.scrollPositionRestoration=ye.scrollPositionRestoration||"disabled",ye.anchorScrolling=ye.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof po?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof Ii?(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment)):C instanceof Zr&&0===C.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof ri&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ri(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(C){l.$Z()},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac}),E})();function rs(E,O){return{\u0275kind:E,\u0275providers:O}}function gr(){const E=(0,l.f3M)(l.zs3);return O=>{const C=E.get(l.z2F);if(O!==C.components[0])return;const N=E.get(Vr),Z=E.get(Cs);1===E.get(G)&&N.initialNavigation(),E.get(z,null,l.XFs.Optional)?.setUpPreloading(),E.get(nc,null,l.XFs.Optional)?.init(),N.resetRootComponentType(C.componentTypes[0]),Z.closed||(Z.next(),Z.complete(),Z.unsubscribe())}}const Cs=new l.OlP("",{factory:()=>new Et.x}),G=new l.OlP("",{providedIn:"root",factory:()=>1}),z=new l.OlP("");function q(E){return rs(0,[{provide:z,useExisting:_c},{provide:Es,useExisting:E}])}const Yn=new l.OlP("ROUTER_FORROOT_GUARD"),Bi=[fe.Ye,{provide:Un,useClass:Ke},Vr,oo,{provide:Rn,useFactory:function wo(E){return E.routerState.root},deps:[Vr]},ea,[]];function Ti(){return new l.PXZ("Router",Vr)}let ui=(()=>{class E{constructor(C){}static forRoot(C,N){return{ngModule:E,providers:[Bi,[],{provide:yo,multi:!0,useValue:C},{provide:Yn,useFactory:Hr,deps:[[Vr,new l.FiY,new l.tp0]]},{provide:qn,useValue:N||{}},N?.useHash?{provide:fe.S$,useClass:fe.Do}:{provide:fe.S$,useClass:fe.b0},{provide:nc,useFactory:()=>{const E=(0,l.f3M)(fe.EM),O=(0,l.f3M)(l.R0b),C=(0,l.f3M)(qn),N=(0,l.f3M)(P),Z=(0,l.f3M)(Un);return C.scrollOffset&&E.setOffset(C.scrollOffset),new En(Z,N,E,O,C)}},N?.preloadingStrategy?q(N.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Ti},N?.initialNavigation?ai(N):[],N?.bindToComponentInputs?rs(8,[qr,{provide:Do,useExisting:qr}]).\u0275providers:[],[{provide:no,useFactory:gr},{provide:l.tb,multi:!0,useExisting:no}]]}}static forChild(C){return{ngModule:E,providers:[{provide:yo,multi:!0,useValue:C}]}}}return E.\u0275fac=function(C){return new(C||E)(l.LFG(Yn,8))},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({}),E})();function Hr(E){return"guarded"}function ai(E){return["disabled"===E.initialNavigation?rs(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const O=(0,l.f3M)(Vr);return()=>{O.setUpLocationChangeListener()}}},{provide:G,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?rs(2,[{provide:G,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:O=>{const C=O.get(fe.V_,Promise.resolve());return()=>C.then(()=>new Promise(N=>{const Z=O.get(Vr),ge=O.get(Cs);Ei(Z,()=>{N(!0)}),O.get(P).afterPreactivation=()=>(N(!0),ge.closed?(0,ae.of)(void 0):ge),Z.initialNavigation()}))}}]).\u0275providers:[]]}const no=new l.OlP("")},3942:(pn,rt,w)=>{w.d(rt,{Z:()=>at});var l=w(2090),p=w(4859),g=w(6881),te=w(1877);class xe{constructor(Je,Ve){this._delegate=Je,this.firebase=Ve,(0,g._addComponent)(Je,new p.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(Je,Ve=g._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Je);return!Et.isInitialized()&&"EXPLICIT"===(null===(Oe=Et.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Ve})}_removeServiceInstance(Je,Ve=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(Ve)}_addComponent(Je){(0,g._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,g._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function Ce(){const Ge=function _e(Ge){const Je={},Ve={__esModule:!0,initializeApp:function fe(Le,Y={}){const Ze=g.initializeApp(Le,Y);if((0,l.r3)(Je,Ze.name))return Je[Ze.name];const Ue=new Ge(Ze,Ve);return Je[Ze.name]=Ue,Ue},app:Et,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function ue(Le){const Y=Le.name,Ze=Y.replace("-compat","");if(g._registerComponent(Le)&&"PUBLIC"===Le.type){const Ue=(Qe=Et())=>{if("function"!=typeof Qe[Ze])throw W.create("invalid-app-argument",{appName:Y});return Qe[Ze]()};void 0!==Le.serviceProps&&(0,l.ZB)(Ue,Le.serviceProps),Ve[Ze]=Ue,Ge.prototype[Ze]=function(...Qe){return this._getService.bind(this,Y).apply(this,Le.multipleInstances?Qe:[])}}return"PUBLIC"===Le.type?Ve[Ze]:null},removeApp:function Oe(Le){delete Je[Le]},useAsService:function pe(Le,Y){return"serverAuth"===Y?null:Y},modularAPIs:g}};function Et(Le){if(!(0,l.r3)(Je,Le=Le||g._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:Le});return Je[Le]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Ee(){return Object.keys(Je).map(Le=>Je[Le])}}),Et.App=Ge,Ve}(xe);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Je(Ve){(0,l.ZB)(Ge,Ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ge}(),me=new te.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=oe;!function Fe(Ge){(0,g.registerVersion)("@firebase/app-compat","0.2.12",Ge)}()},6881:(pn,rt,w)=>{w.r(rt),w.d(rt,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>li,_DEFAULT_ENTRY_NAME:()=>ht,_addComponent:()=>$n,_addOrOverwriteComponent:()=>ni,_apps:()=>Xt,_clearComponents:()=>Ke,_components:()=>cn,_getProvider:()=>ln,_registerComponent:()=>xn,_removeServiceInstance:()=>Un,deleteApp:()=>ct,getApp:()=>hi,getApps:()=>en,initializeApp:()=>yi,onLog:()=>je,registerVersion:()=>We,setLogLevel:()=>Ae});var l=w(5861),p=w(4859),g=w(1877),te=w(2090);const xe=(kt,At)=>At.some(wn=>kt instanceof wn);let ae,W;const oe=new WeakMap,me=new WeakMap,ve=new WeakMap,ze=new WeakMap,Fe=new WeakMap;let Je={get(kt,At,wn){if(kt instanceof IDBTransaction){if("done"===At)return me.get(kt);if("objectStoreNames"===At)return kt.objectStoreNames||ve.get(kt);if("store"===At)return wn.objectStoreNames[1]?void 0:wn.objectStore(wn.objectStoreNames[0])}return fe(kt[At])},set:(kt,At,wn)=>(kt[At]=wn,!0),has:(kt,At)=>kt instanceof IDBTransaction&&("done"===At||"store"===At)||At in kt};function Et(kt){return"function"==typeof kt?function Oe(kt){return kt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(kt)?function(...At){return kt.apply(Ee(this),At),fe(oe.get(this))}:function(...At){return fe(kt.apply(Ee(this),At))}:function(At,...wn){const Kn=kt.call(Ee(this),At,...wn);return ve.set(Kn,At.sort?At.sort():[At]),fe(Kn)}}(kt):(kt instanceof IDBTransaction&&function Ge(kt){if(me.has(kt))return;const At=new Promise((wn,Kn)=>{const An=()=>{kt.removeEventListener("complete",Nn),kt.removeEventListener("error",ci),kt.removeEventListener("abort",ci)},Nn=()=>{wn(),An()},ci=()=>{Kn(kt.error||new DOMException("AbortError","AbortError")),An()};kt.addEventListener("complete",Nn),kt.addEventListener("error",ci),kt.addEventListener("abort",ci)});me.set(kt,At)}(kt),xe(kt,function _e(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(kt,Je):kt)}function fe(kt){if(kt instanceof IDBRequest)return function at(kt){const At=new Promise((wn,Kn)=>{const An=()=>{kt.removeEventListener("success",Nn),kt.removeEventListener("error",ci)},Nn=()=>{wn(fe(kt.result)),An()},ci=()=>{Kn(kt.error),An()};kt.addEventListener("success",Nn),kt.addEventListener("error",ci)});return At.then(wn=>{wn instanceof IDBCursor&&oe.set(wn,kt)}).catch(()=>{}),Fe.set(At,kt),At}(kt);if(ze.has(kt))return ze.get(kt);const At=Et(kt);return At!==kt&&(ze.set(kt,At),Fe.set(At,kt)),At}const Ee=kt=>Fe.get(kt),Le=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],Ze=new Map;function Ue(kt,At){if(!(kt instanceof IDBDatabase)||At in kt||"string"!=typeof At)return;if(Ze.get(At))return Ze.get(At);const wn=At.replace(/FromIndex$/,""),Kn=At!==wn,An=Y.includes(wn);if(!(wn in(Kn?IDBIndex:IDBObjectStore).prototype)||!An&&!Le.includes(wn))return;const Nn=function(){var ci=(0,l.Z)(function*(Qi,...wi){const br=this.transaction(Qi,An?"readwrite":"readonly");let Wr=br.store;return Kn&&(Wr=Wr.index(wi.shift())),(yield Promise.all([Wr[wn](...wi),An&&br.done]))[0]});return function(wi){return ci.apply(this,arguments)}}();return Ze.set(At,Nn),Nn}!function Ve(kt){Je=kt(Je)}(kt=>({...kt,get:(At,wn,Kn)=>Ue(At,wn)||kt.get(At,wn,Kn),has:(At,wn)=>!!Ue(At,wn)||kt.has(At,wn)}));class Qe{constructor(At){this.container=At}getPlatformInfoString(){return this.container.getProviders().map(wn=>{if(function Tt(kt){const At=kt.getComponent();return"VERSION"===At?.type}(wn)){const Kn=wn.getImmediate();return`${Kn.library}/${Kn.version}`}return null}).filter(wn=>wn).join(" ")}}const bn="@firebase/app",vt=new g.Yd("@firebase/app"),ht="[DEFAULT]",Pt={[bn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,cn=new Map;function $n(kt,At){try{kt.container.addComponent(At)}catch(wn){vt.debug(`Component ${At.name} failed to register with FirebaseApp ${kt.name}`,wn)}}function ni(kt,At){kt.container.addOrOverwriteComponent(At)}function xn(kt){const At=kt.name;if(cn.has(At))return vt.debug(`There were multiple attempts to register component ${At}.`),!1;cn.set(At,kt);for(const wn of Xt.values())$n(wn,kt);return!0}function ln(kt,At){const wn=kt.container.getProvider("heartbeat").getImmediate({optional:!0});return wn&&wn.triggerHeartbeat(),kt.container.getProvider(At)}function Un(kt,At,wn=ht){ln(kt,At).clearInstance(wn)}function Ke(){cn.clear()}const Zt=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tn{constructor(At,wn,Kn){this._isDeleted=!1,this._options=Object.assign({},At),this._config=Object.assign({},wn),this._name=wn.name,this._automaticDataCollectionEnabled=wn.automaticDataCollectionEnabled,this._container=Kn,this.container.addComponent(new p.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(At){this.checkDestroyed(),this._automaticDataCollectionEnabled=At}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(At){this._isDeleted=At}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}const li="9.22.2";function yi(kt,At={}){let wn=kt;"object"!=typeof At&&(At={name:At});const Kn=Object.assign({name:ht,automaticDataCollectionEnabled:!1},At),An=Kn.name;if("string"!=typeof An||!An)throw Zt.create("bad-app-name",{appName:String(An)});if(wn||(wn=(0,te.aH)()),!wn)throw Zt.create("no-options");const Nn=Xt.get(An);if(Nn){if((0,te.vZ)(wn,Nn.options)&&(0,te.vZ)(Kn,Nn.config))return Nn;throw Zt.create("duplicate-app",{appName:An})}const ci=new p.H0(An);for(const wi of cn.values())ci.addComponent(wi);const Qi=new Tn(wn,Kn,ci);return Xt.set(An,Qi),Qi}function hi(kt=ht){const At=Xt.get(kt);if(!At&&kt===ht&&(0,te.aH)())return yi();if(!At)throw Zt.create("no-app",{appName:kt});return At}function en(){return Array.from(Xt.values())}function ct(kt){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(kt){const At=kt.name;Xt.has(At)&&(Xt.delete(At),yield Promise.all(kt.container.getProviders().map(wn=>wn.delete())),kt.isDeleted=!0)})).apply(this,arguments)}function We(kt,At,wn){var Kn;let An=null!==(Kn=Pt[kt])&&void 0!==Kn?Kn:kt;wn&&(An+=`-${wn}`);const Nn=An.match(/\s|\//),ci=At.match(/\s|\//);if(Nn||ci){const Qi=[`Unable to register library "${An}" with version "${At}":`];return Nn&&Qi.push(`library name "${An}" contains illegal characters (whitespace or "/")`),Nn&&ci&&Qi.push("and"),ci&&Qi.push(`version name "${At}" contains illegal characters (whitespace or "/")`),void vt.warn(Qi.join(" "))}xn(new p.wA(`${An}-version`,()=>({library:An,version:At}),"VERSION"))}function je(kt,At){if(null!==kt&&"function"!=typeof kt)throw Zt.create("invalid-log-argument");(0,g.Am)(kt,At)}function Ae(kt){(0,g.Ub)(kt)}const St="firebase-heartbeat-database",Kt=1,Pe="firebase-heartbeat-store";let le=null;function j(){return le||(le=function ue(kt,At,{blocked:wn,upgrade:Kn,blocking:An,terminated:Nn}={}){const ci=indexedDB.open(kt,At),Qi=fe(ci);return Kn&&ci.addEventListener("upgradeneeded",wi=>{Kn(fe(ci.result),wi.oldVersion,wi.newVersion,fe(ci.transaction),wi)}),wn&&ci.addEventListener("blocked",wi=>wn(wi.oldVersion,wi.newVersion,wi)),Qi.then(wi=>{Nn&&wi.addEventListener("close",()=>Nn()),An&&wi.addEventListener("versionchange",br=>An(br.oldVersion,br.newVersion,br))}).catch(()=>{}),Qi}(St,Kt,{upgrade:(kt,At)=>{0===At&&kt.createObjectStore(Pe)}}).catch(kt=>{throw Zt.create("idb-open",{originalErrorMessage:kt.message})})),le}function H(){return(H=(0,l.Z)(function*(kt){try{return yield(yield j()).transaction(Pe).objectStore(Pe).get(Te(kt))}catch(At){if(At instanceof te.ZR)vt.warn(At.message);else{const wn=Zt.create("idb-get",{originalErrorMessage:At?.message});vt.warn(wn.message)}}})).apply(this,arguments)}function de(kt,At){return ce.apply(this,arguments)}function ce(){return(ce=(0,l.Z)(function*(kt,At){try{const Kn=(yield j()).transaction(Pe,"readwrite");yield Kn.objectStore(Pe).put(At,Te(kt)),yield Kn.done}catch(wn){if(wn instanceof te.ZR)vt.warn(wn.message);else{const Kn=Zt.create("idb-set",{originalErrorMessage:wn?.message});vt.warn(Kn.message)}}})).apply(this,arguments)}function Te(kt){return`${kt.name}!${kt.options.appId}`}class Q{constructor(At){this.container=At,this._heartbeatsCache=null;const wn=this.container.getProvider("app").getImmediate();this._storage=new jt(wn),this._heartbeatsCachePromise=this._storage.read().then(Kn=>(this._heartbeatsCache=Kn,Kn))}triggerHeartbeat(){var At=this;return(0,l.Z)(function*(){const Kn=At.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),An=De();if(null===At._heartbeatsCache&&(At._heartbeatsCache=yield At._heartbeatsCachePromise),At._heartbeatsCache.lastSentHeartbeatDate!==An&&!At._heartbeatsCache.heartbeats.some(Nn=>Nn.date===An))return At._heartbeatsCache.heartbeats.push({date:An,agent:Kn}),At._heartbeatsCache.heartbeats=At._heartbeatsCache.heartbeats.filter(Nn=>{const ci=new Date(Nn.date).valueOf();return Date.now()-ci<=2592e6}),At._storage.overwrite(At._heartbeatsCache)})()}getHeartbeatsHeader(){var At=this;return(0,l.Z)(function*(){if(null===At._heartbeatsCache&&(yield At._heartbeatsCachePromise),null===At._heartbeatsCache||0===At._heartbeatsCache.heartbeats.length)return"";const wn=De(),{heartbeatsToSend:Kn,unsentEntries:An}=function wt(kt,At=1024){const wn=[];let Kn=kt.slice();for(const An of kt){const Nn=wn.find(ci=>ci.agent===An.agent);if(Nn){if(Nn.dates.push(An.date),zn(wn)>At){Nn.dates.pop();break}}else if(wn.push({agent:An.agent,dates:[An.date]}),zn(wn)>At){wn.pop();break}Kn=Kn.slice(1)}return{heartbeatsToSend:wn,unsentEntries:Kn}}(At._heartbeatsCache.heartbeats),Nn=(0,te.L)(JSON.stringify({version:2,heartbeats:Kn}));return At._heartbeatsCache.lastSentHeartbeatDate=wn,An.length>0?(At._heartbeatsCache.heartbeats=An,yield At._storage.overwrite(At._heartbeatsCache)):(At._heartbeatsCache.heartbeats=[],At._storage.overwrite(At._heartbeatsCache)),Nn})()}}function De(){return(new Date).toISOString().substring(0,10)}class jt{constructor(At){this.app=At,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var At=this;return(0,l.Z)(function*(){return(yield At._canUseIndexedDBPromise)&&(yield function U(kt){return H.apply(this,arguments)}(At.app))||{heartbeats:[]}})()}overwrite(At){var wn=this;return(0,l.Z)(function*(){var Kn;if(yield wn._canUseIndexedDBPromise){const Nn=yield wn.read();return de(wn.app,{lastSentHeartbeatDate:null!==(Kn=At.lastSentHeartbeatDate)&&void 0!==Kn?Kn:Nn.lastSentHeartbeatDate,heartbeats:At.heartbeats})}})()}add(At){var wn=this;return(0,l.Z)(function*(){var Kn;if(yield wn._canUseIndexedDBPromise){const Nn=yield wn.read();return de(wn.app,{lastSentHeartbeatDate:null!==(Kn=At.lastSentHeartbeatDate)&&void 0!==Kn?Kn:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,...At.heartbeats]})}})()}}function zn(kt){return(0,te.L)(JSON.stringify({version:2,heartbeats:kt})).length}!function ei(kt){xn(new p.wA("platform-logger",At=>new Qe(At),"PRIVATE")),xn(new p.wA("heartbeat",At=>new Q(At),"PRIVATE")),We(bn,"0.9.12",kt),We(bn,"0.9.12","esm2017"),We("fire-js","")}("")},4859:(pn,rt,w)=>{w.d(rt,{H0:()=>_e,wA:()=>g});var l=w(5861),p=w(2090);class g{constructor(oe,me,ve){this.name=oe,this.instanceFactory=me,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const te="[DEFAULT]";class xe{constructor(oe,me){this.name=oe,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const me=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(me)){const ve=new p.BH;if(this.instancesDeferred.set(me,ve),this.isInitialized(me)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:me});ze&&ve.resolve(ze)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(oe){var me;const ve=this.normalizeInstanceIdentifier(oe?.identifier),ze=null!==(me=oe?.optional)&&void 0!==me&&me;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(Fe){if(ze)return null;throw Fe}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function W(Ce){return"EAGER"===Ce.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[me,ve]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(me);try{const Fe=this.getOrInitializeService({instanceIdentifier:ze});ve.resolve(Fe)}catch{}}}}clearInstance(oe=te){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,l.Z)(function*(){const me=Array.from(oe.instances.values());yield Promise.all([...me.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...me.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=te){return this.instances.has(oe)}getOptions(oe=te){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:me={}}=oe,ve=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ve,options:me});for(const[Fe,at]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(Fe)&&at.resolve(ze);return ze}onInit(oe,me){var ve;const ze=this.normalizeInstanceIdentifier(me),Fe=null!==(ve=this.onInitCallbacks.get(ze))&&void 0!==ve?ve:new Set;Fe.add(oe),this.onInitCallbacks.set(ze,Fe);const at=this.instances.get(ze);return at&&oe(at,ze),()=>{Fe.delete(oe)}}invokeOnInitCallbacks(oe,me){const ve=this.onInitCallbacks.get(me);if(ve)for(const ze of ve)try{ze(oe,me)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:me={}}){let ve=this.instances.get(oe);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=oe,Ce===te?void 0:Ce),options:me}),this.instances.set(oe,ve),this.instancesOptions.set(oe,me),this.invokeOnInitCallbacks(ve,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,ve)}catch{}var Ce;return ve||null}normalizeInstanceIdentifier(oe=te){return this.component?this.component.multipleInstances?oe:te:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const me=this.getProvider(oe.name);if(me.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);me.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const me=new xe(oe,this);return this.providers.set(oe,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(pn,rt,w)=>{w.d(rt,{Am:()=>Ce,Ub:()=>_e,Yd:()=>W,in:()=>p});const l=[];var p=(()=>((p=p||{})[p.DEBUG=0]="DEBUG",p[p.VERBOSE=1]="VERBOSE",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT",p))();const g={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},te=p.INFO,xe={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},ae=(oe,me,...ve)=>{if(me<oe.logLevel)return;const ze=(new Date).toISOString(),Fe=xe[me];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Fe](`[${ze}]  ${oe.name}:`,...ve)};class W{constructor(me){this.name=me,this._logLevel=te,this._logHandler=ae,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in p))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?g[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...me),this._logHandler(this,p.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...me),this._logHandler(this,p.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,p.INFO,...me),this._logHandler(this,p.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,p.WARN,...me),this._logHandler(this,p.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...me),this._logHandler(this,p.ERROR,...me)}}function _e(oe){l.forEach(me=>{me.setLogLevel(oe)})}function Ce(oe,me){for(const ve of l){let ze=null;me&&me.level&&(ze=g[me.level]),ve.userLogHandler=null===oe?null:(Fe,at,...Ge)=>{const Je=Ge.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");at>=(ze??Fe.logLevel)&&oe({level:p[at].toLowerCase(),message:Je,args:Ge,type:Fe.name})}}}},259:(pn,rt,w)=>{w.d(rt,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=w(6881);(0,l.registerVersion)("firebase","9.22.2","app")},9260:(pn,rt,w)=>{w.d(rt,{Z:()=>l.Z});var l=w(3942);l.Z.registerVersion("firebase","9.22.2","app-compat")},9568:(pn,rt,w)=>{w.r(rt);var l=w(5861),p=w(3942),g=w(1389),te=w(2090),W=(w(6881),w(1877),w(4859));function _e(){return window}function me(){return me=(0,l.Z)(function*(j,U,H){var de;const{BuildInfo:ce}=_e();(0,g.as)(U.sessionId,"AuthEvent did not contain a session ID");const Te=yield function Ve(j){return Oe.apply(this,arguments)}(U.sessionId),Re={};return(0,g.at)()?Re.ibi=ce.packageName:(0,g.au)()?Re.apn=ce.packageName:(0,g.av)(j,"operation-not-supported-in-this-environment"),ce.displayName&&(Re.appDisplayName=ce.displayName),Re.sessionId=Te,(0,g.aw)(j,H,U.type,void 0,null!==(de=U.eventId)&&void 0!==de?de:void 0,Re)}),me.apply(this,arguments)}function ze(){return(ze=(0,l.Z)(function*(j){const{BuildInfo:U}=_e(),H={};(0,g.at)()?H.iosBundleId=U.packageName:(0,g.au)()?H.androidPackageName=U.packageName:(0,g.av)(j,"operation-not-supported-in-this-environment"),yield(0,g.ax)(j,H)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(j,U,H){const{cordova:de}=_e();let ce=()=>{};try{yield new Promise((Te,Re)=>{let Ne=null;function Q(){var jt;Te();const zn=null===(jt=de.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof zn&&zn(),"function"==typeof H?.close&&H.close()}function De(){Ne||(Ne=window.setTimeout(()=>{Re((0,g.az)(j,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===document?.visibilityState&&De()}U.addPassiveListener(Q),document.addEventListener("resume",De,!1),(0,g.au)()&&document.addEventListener("visibilitychange",wt,!1),ce=()=>{U.removePassiveListener(Q),document.removeEventListener("resume",De,!1),document.removeEventListener("visibilitychange",wt,!1),Ne&&window.clearTimeout(Ne)}})}finally{ce()}})).apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(j){const U=function Et(j){if((0,g.as)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const U=new ArrayBuffer(j.length),H=new Uint8Array(U);for(let de=0;de<j.length;de++)H[de]=j.charCodeAt(de);return H}(j),H=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array(H)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ee extends g.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(U)),super.onEvent(U)}initialized(){var U=this;return(0,l.Z)(function*(){yield U.initPromise})()}}function Le(j){return Y.apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(j){const U=yield Qe()._get(Tt(j));return U&&(yield Qe()._remove(Tt(j))),U})).apply(this,arguments)}function Ue(){const j=[];for(let H=0;H<20;H++){const de=Math.floor(62*Math.random());j.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return j.join("")}function Qe(){return(0,g.aC)(g.b)}function Tt(j){return(0,g.aD)("authEvent",j.config.apiKey,j.name)}function vt(j){if(!j?.includes("?"))return{};const[U,...H]=j.split("?");return(0,te.zd)(H.join("?"))}const dt=class Vt{constructor(){this._redirectPersistence=g.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=g.aE,this._overrideRedirectResult=g.aF}_initialize(U){var H=this;return(0,l.Z)(function*(){const de=U._key();let ce=H.eventManagers.get(de);return ce||(ce=new Ee(U),H.eventManagers.set(de,ce),H.attachCallbackListeners(U,ce)),ce})()}_openPopup(U){(0,g.av)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,H,de,ce){var Te=this;return(0,l.Z)(function*(){!function Je(j){var U,H,de,ce,Te,Re,Ne,Q,De,wt;const jt=_e();(0,g.aA)("function"==typeof(null===(U=jt?.universalLinks)||void 0===U?void 0:U.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,g.aA)(typeof(null===(H=jt?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,g.aA)("function"==typeof(null===(Te=null===(ce=null===(de=jt?.cordova)||void 0===de?void 0:de.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Te?void 0:Te.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aA)("function"==typeof(null===(Q=null===(Ne=null===(Re=jt?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===Q?void 0:Q.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aA)("function"==typeof(null===(wt=null===(De=jt?.cordova)||void 0===De?void 0:De.InAppBrowser)||void 0===wt?void 0:wt.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const Re=yield Te._initialize(U);yield Re.initialized(),Re.resetRedirect(),(0,g.aG)(),yield Te._originValidation(U);const Ne=function ue(j,U,H=null){return{type:U,eventId:H,urlResponse:null,sessionId:Ue(),postBody:null,tenantId:j.tenantId,error:(0,g.az)(j,"no-auth-event")}}(U,de,ce);yield function pe(j,U){return Qe()._set(Tt(j),U)}(U,Ne);const Q=yield function oe(j,U,H){return me.apply(this,arguments)}(U,Ne,H),De=yield function Fe(j){const{cordova:U}=_e();return new Promise(H=>{U.plugins.browsertab.isAvailable(de=>{let ce=null;de?U.plugins.browsertab.openUrl(j):ce=U.InAppBrowser.open(j,(0,g.ay)()?"_blank":"_system","location=yes"),H(ce)})})}(Q);return function at(j,U,H){return Ge.apply(this,arguments)}(U,Re,De)})()}_isIframeWebStorageSupported(U,H){throw new Error("Method not implemented.")}_originValidation(U){const H=U._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ve(j){return ze.apply(this,arguments)}(U)),this.originValidationPromises[H]}attachCallbackListeners(U,H){const{universalLinks:de,handleOpenURL:ce,BuildInfo:Te}=_e(),Re=setTimeout((0,l.Z)(function*(){yield Le(U),H.onEvent(Ht())}),500),Ne=function(){var wt=(0,l.Z)(function*(jt){clearTimeout(Re);const zn=yield Le(U);let ei=null;zn&&jt?.url&&(ei=function Ze(j,U){var H,de;const ce=function kn(j){const U=vt(j),H=U.link?decodeURIComponent(U.link):void 0,de=vt(H).link,ce=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return vt(ce).link||ce||de||H||j}(U);if(ce.includes("/__/auth/callback")){const Te=vt(ce),Re=Te.firebaseError?function bn(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(Te.firebaseError)):null,Ne=null===(de=null===(H=Re?.code)||void 0===H?void 0:H.split("auth/"))||void 0===de?void 0:de[1],Q=Ne?(0,g.az)(Ne):null;return Q?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:Q,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:ce,postBody:null}}return null}(zn,jt.url)),H.onEvent(ei||Ht())});return function(zn){return wt.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,Ne);const Q=ce,De=`${Te.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var wt=(0,l.Z)(function*(jt){if(jt.toLowerCase().startsWith(De)&&Ne({url:jt}),"function"==typeof Q)try{Q(jt)}catch(zn){console.error(zn)}});return function(jt){return wt.apply(this,arguments)}}()}};function Ht(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,g.az)("no-auth-event")}}function Mt(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function ot(j=(0,te.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bt(){try{const j=self.localStorage,U=g.aL();if(j)return j.setItem(U,"1"),j.removeItem(U),!function Lt(j=(0,te.z$)()){return function It(){return(0,te.w1)()&&11===document?.documentMode}()||function Wt(j=(0,te.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,te.hl)()}catch{return ft()&&(0,te.hl)()}return!1}function ft(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qe(){return(function Xe(){return"http:"===Mt()||"https:"===Mt()}()||(0,te.ru)()||ot())&&!function Nt(){return(0,te.b$)()||(0,te.UG)()}()&&Bt()&&!ft()}function Jt(){return ot()&&typeof document<"u"}function mn(){return(mn=(0,l.Z)(function*(){return!!Jt()&&new Promise(j=>{const U=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),j(!0)})})})).apply(this,arguments)}const he={LOCAL:"local",NONE:"none",SESSION:"session"},He=g.aA,pt="persistence";function Pt(j){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(j){yield j._initializationPromise;const U=$n(),H=g.aD(pt,j.config.apiKey,j.name);U&&U.setItem(H,j._getPersistence())})).apply(this,arguments)}function $n(){var j;try{return(null===(j=function yt(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const ni=g.aA;class xn{constructor(){this.browserResolver=g.aC(g.k),this.cordovaResolver=g.aC(dt),this.underlyingResolver=null,this._redirectPersistence=g.a,this._completeRedirectFn=g.aE,this._overrideRedirectResult=g.aF}_initialize(U){var H=this;return(0,l.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,H,de,ce){var Te=this;return(0,l.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openPopup(U,H,de,ce)})()}_openRedirect(U,H,de,ce){var Te=this;return(0,l.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openRedirect(U,H,de,ce)})()}_isIframeWebStorageSupported(U,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,H)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return Jt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ni(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,l.Z)(function*(){if(U.underlyingResolver)return;const H=yield function yn(){return mn.apply(this,arguments)}();U.underlyingResolver=H?U.cordovaResolver:U.browserResolver})()}}function ln(j){return j.unwrap()}function Ke(j){return Zt(j)}function Zt(j){const{_tokenResponse:U}=j instanceof te.ZR?j.customData:j;if(!U)return null;if(!(j instanceof te.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return g.P.credentialFromResult(j);const H=U.providerId;if(!H||H===g.p.PASSWORD)return null;let de;switch(H){case g.p.GOOGLE:de=g.V;break;case g.p.FACEBOOK:de=g.U;break;case g.p.GITHUB:de=g.W;break;case g.p.TWITTER:de=g.Z;break;default:const{oauthIdToken:ce,oauthAccessToken:Te,oauthTokenSecret:Re,pendingToken:Ne,nonce:Q}=U;return Te||Re||ce||Ne?Ne?H.startsWith("saml.")?g.aO._create(H,Ne):g.L._fromParams({providerId:H,signInMethod:H,pendingToken:Ne,idToken:ce,accessToken:Te}):new g.X(H).credential({idToken:ce,accessToken:Te,rawNonce:Q}):null}return j instanceof te.ZR?de.credentialFromError(j):de.credentialFromResult(j)}function Tn(j,U){return U.catch(H=>{throw H instanceof te.ZR&&function Ot(j,U){var H;const de=null===(H=U.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===U?.code)U.resolver=new hi(j,g.aq(j,U));else if(de){const ce=Zt(U),Te=U;ce&&(Te.credential=ce,Te.tenantId=de.tenantId||void 0,Te.email=de.email||void 0,Te.phoneNumber=de.phoneNumber||void 0)}}(j,H),H}).then(H=>{const ce=H.user;return{operationType:H.operationType,credential:Ke(H),additionalUserInfo:g.ao(H),user:en.getOrCreate(ce)}})}function li(j,U){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(j,U){const H=yield U;return{verificationId:H.verificationId,confirm:de=>Tn(j,H.confirm(de))}})).apply(this,arguments)}class hi{constructor(U,H){this.resolver=H,this.auth=function Un(j){return j.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return Tn(ln(this.auth),this.resolver.resolveSignIn(U))}}class en{constructor(U){this._delegate=U,this.multiFactor=g.ar(U)}static getOrCreate(U){return en.USER_MAP.has(U)||en.USER_MAP.set(U,new en(U)),en.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var H=this;return(0,l.Z)(function*(){return Tn(H.auth,g.a0(H._delegate,U))})()}linkWithPhoneNumber(U,H){var de=this;return(0,l.Z)(function*(){return li(de.auth,g.l(de._delegate,U,H))})()}linkWithPopup(U){var H=this;return(0,l.Z)(function*(){return Tn(H.auth,g.d(H._delegate,U,xn))})()}linkWithRedirect(U){var H=this;return(0,l.Z)(function*(){return yield Pt(g.aH(H.auth)),g.g(H._delegate,U,xn)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var H=this;return(0,l.Z)(function*(){return Tn(H.auth,g.a1(H._delegate,U))})()}reauthenticateWithPhoneNumber(U,H){return li(this.auth,g.r(this._delegate,U,H))}reauthenticateWithPopup(U){return Tn(this.auth,g.e(this._delegate,U,xn))}reauthenticateWithRedirect(U){var H=this;return(0,l.Z)(function*(){return yield Pt(g.aH(H.auth)),g.h(H._delegate,U,xn)})()}sendEmailVerification(U){return g.ae(this._delegate,U)}unlink(U){var H=this;return(0,l.Z)(function*(){return yield g.an(H._delegate,U),H})()}updateEmail(U){return g.aj(this._delegate,U)}updatePassword(U){return g.ak(this._delegate,U)}updatePhoneNumber(U){return g.u(this._delegate,U)}updateProfile(U){return g.ai(this._delegate,U)}verifyBeforeUpdateEmail(U,H){return g.af(this._delegate,U,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}en.USER_MAP=new WeakMap;const ct=g.aA;let ut=(()=>{class j{constructor(H,de){if(this.app=H,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=H.options;ct(ce,"invalid-api-key",{appName:H.name}),ct(ce,"invalid-api-key",{appName:H.name});const Te=typeof window<"u"?xn:void 0;this._delegate=de.initialize({options:{persistence:je(ce,H.name),popupRedirectResolver:Te}}),this._delegate._updateErrorMap(g.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?en.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,de){g.I(this._delegate,H,de)}applyActionCode(H){return g.a5(this._delegate,H)}checkActionCode(H){return g.a6(this._delegate,H)}confirmPasswordReset(H,de){return g.a4(this._delegate,H,de)}createUserWithEmailAndPassword(H,de){var ce=this;return(0,l.Z)(function*(){return Tn(ce._delegate,g.a8(ce._delegate,H,de))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return g.ad(this._delegate,H)}isSignInWithEmailLink(H){return g.ab(this._delegate,H)}getRedirectResult(){var H=this;return(0,l.Z)(function*(){ct(qe(),H._delegate,"operation-not-supported-in-this-environment");const de=yield g.j(H._delegate,xn);return de?Tn(H._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function Be(j,U){(0,g.aH)(j)._logFramework(U)}(this._delegate,H)}onAuthStateChanged(H,de,ce){const{next:Te,error:Re,complete:Ne}=We(H,de,ce);return this._delegate.onAuthStateChanged(Te,Re,Ne)}onIdTokenChanged(H,de,ce){const{next:Te,error:Re,complete:Ne}=We(H,de,ce);return this._delegate.onIdTokenChanged(Te,Re,Ne)}sendSignInLinkToEmail(H,de){return g.aa(this._delegate,H,de)}sendPasswordResetEmail(H,de){return g.a3(this._delegate,H,de||void 0)}setPersistence(H){var de=this;return(0,l.Z)(function*(){let ce;switch(function ht(j,U){He(Object.values(he).includes(U),j,"invalid-persistence-type"),(0,te.b$)()?He(U!==he.SESSION,j,"unsupported-persistence-type"):(0,te.UG)()?He(U===he.NONE,j,"unsupported-persistence-type"):ft()?He(U===he.NONE||U===he.LOCAL&&(0,te.hl)(),j,"unsupported-persistence-type"):He(U===he.NONE||Bt(),j,"unsupported-persistence-type")}(de._delegate,H),H){case he.SESSION:ce=g.a;break;case he.LOCAL:ce=(yield g.aC(g.i)._isAvailable())?g.i:g.b;break;case he.NONE:ce=g.N;break;default:return g.av("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Tn(this._delegate,g._(this._delegate))}signInWithCredential(H){return Tn(this._delegate,g.$(this._delegate,H))}signInWithCustomToken(H){return Tn(this._delegate,g.a2(this._delegate,H))}signInWithEmailAndPassword(H,de){return Tn(this._delegate,g.a9(this._delegate,H,de))}signInWithEmailLink(H,de){return Tn(this._delegate,g.ac(this._delegate,H,de))}signInWithPhoneNumber(H,de){return li(this._delegate,g.s(this._delegate,H,de))}signInWithPopup(H){var de=this;return(0,l.Z)(function*(){return ct(qe(),de._delegate,"operation-not-supported-in-this-environment"),Tn(de._delegate,g.c(de._delegate,H,xn))})()}signInWithRedirect(H){var de=this;return(0,l.Z)(function*(){return ct(qe(),de._delegate,"operation-not-supported-in-this-environment"),yield Pt(de._delegate),g.f(de._delegate,H,xn)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return g.a7(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=he,j})();function We(j,U,H){let de=j;"function"!=typeof j&&({next:de,error:U,complete:H}=j);const ce=de;return{next:Re=>ce(Re&&en.getOrCreate(Re)),error:U,complete:H}}function je(j,U){const H=function cn(j,U){const H=$n();if(!H)return[];const de=g.aD(pt,j,U);switch(H.getItem(de)){case he.NONE:return[g.N];case he.LOCAL:return[g.i,g.a];case he.SESSION:return[g.a];default:return[]}}(j,U);if(typeof self<"u"&&!H.includes(g.i)&&H.push(g.i),typeof window<"u")for(const de of[g.b,g.a])H.includes(de)||H.push(de);return H.includes(g.N)||H.push(g.N),H}class Ae{constructor(){this.providerId="phone",this._delegate=new g.P(ln(p.Z.auth()))}static credential(U,H){return g.P.credential(U,H)}verifyPhoneNumber(U,H){return this._delegate.verifyPhoneNumber(U,H)}unwrap(){return this._delegate}}Ae.PHONE_SIGN_IN_METHOD=g.P.PHONE_SIGN_IN_METHOD,Ae.PROVIDER_ID=g.P.PROVIDER_ID;const St=g.aA;class Kt{constructor(U,H,de=p.Z.app()){var ce;St(null===(ce=de.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new g.R(U,H,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(j){j.INTERNAL.registerComponent(new W.wA("auth-compat",U=>{const H=U.getProvider("app-compat").getImmediate(),de=U.getProvider("auth");return new ut(H,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:g.A.EMAIL_SIGNIN,PASSWORD_RESET:g.A.PASSWORD_RESET,RECOVER_EMAIL:g.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:g.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:g.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:g.A.VERIFY_EMAIL}},EmailAuthProvider:g.Q,FacebookAuthProvider:g.U,GithubAuthProvider:g.W,GoogleAuthProvider:g.V,OAuthProvider:g.X,SAMLAuthProvider:g.Y,PhoneAuthProvider:Ae,PhoneMultiFactorGenerator:g.m,RecaptchaVerifier:Kt,TwitterAuthProvider:g.Z,Auth:ut,AuthCredential:g.J,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.4.2")}(p.Z)},5861:(pn,rt,w)=>{function l(g,te,xe,ae,W,_e,Ce){try{var oe=g[_e](Ce),me=oe.value}catch(ve){return void xe(ve)}oe.done?te(me):Promise.resolve(me).then(ae,W)}function p(g){return function(){var te=this,xe=arguments;return new Promise(function(ae,W){var _e=g.apply(te,xe);function Ce(me){l(_e,ae,W,Ce,oe,"next",me)}function oe(me){l(_e,ae,W,Ce,oe,"throw",me)}Ce(void 0)})}}w.d(rt,{Z:()=>p})},7582:(pn,rt,w)=>{function te(vt,bt){var Vt={};for(var dt in vt)Object.prototype.hasOwnProperty.call(vt,dt)&&bt.indexOf(dt)<0&&(Vt[dt]=vt[dt]);if(null!=vt&&"function"==typeof Object.getOwnPropertySymbols){var Ht=0;for(dt=Object.getOwnPropertySymbols(vt);Ht<dt.length;Ht++)bt.indexOf(dt[Ht])<0&&Object.prototype.propertyIsEnumerable.call(vt,dt[Ht])&&(Vt[dt[Ht]]=vt[dt[Ht]])}return Vt}function ve(vt,bt,Vt,dt){return new(Vt||(Vt=Promise))(function(Be,mt){function Rt(Xe){try{Mt(dt.next(Xe))}catch(ot){mt(ot)}}function qt(Xe){try{Mt(dt.throw(Xe))}catch(ot){mt(ot)}}function Mt(Xe){Xe.done?Be(Xe.value):function Ht(Be){return Be instanceof Vt?Be:new Vt(function(mt){mt(Be)})}(Xe.value).then(Rt,qt)}Mt((dt=dt.apply(vt,bt||[])).next())})}function fe(vt){return this instanceof fe?(this.v=vt,this):new fe(vt)}function Ee(vt,bt,Vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ht,dt=Vt.apply(vt,bt||[]),Be=[];return Ht={},mt("next"),mt("throw"),mt("return"),Ht[Symbol.asyncIterator]=function(){return this},Ht;function mt(Nt){dt[Nt]&&(Ht[Nt]=function(It){return new Promise(function(Wt,Lt){Be.push([Nt,It,Wt,Lt])>1||Rt(Nt,It)})})}function Rt(Nt,It){try{!function qt(Nt){Nt.value instanceof fe?Promise.resolve(Nt.value.v).then(Mt,Xe):ot(Be[0][2],Nt)}(dt[Nt](It))}catch(Wt){ot(Be[0][3],Wt)}}function Mt(Nt){Rt("next",Nt)}function Xe(Nt){Rt("throw",Nt)}function ot(Nt,It){Nt(It),Be.shift(),Be.length&&Rt(Be[0][0],Be[0][1])}}function pe(vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Vt,bt=vt[Symbol.asyncIterator];return bt?bt.call(vt):(vt=function Ge(vt){var bt="function"==typeof Symbol&&Symbol.iterator,Vt=bt&&vt[bt],dt=0;if(Vt)return Vt.call(vt);if(vt&&"number"==typeof vt.length)return{next:function(){return vt&&dt>=vt.length&&(vt=void 0),{value:vt&&vt[dt++],done:!vt}}};throw new TypeError(bt?"Object is not iterable.":"Symbol.iterator is not defined.")}(vt),Vt={},dt("next"),dt("throw"),dt("return"),Vt[Symbol.asyncIterator]=function(){return this},Vt);function dt(Be){Vt[Be]=vt[Be]&&function(mt){return new Promise(function(Rt,qt){!function Ht(Be,mt,Rt,qt){Promise.resolve(qt).then(function(Mt){Be({value:Mt,done:Rt})},mt)}(Rt,qt,(mt=vt[Be](mt)).done,mt.value)})}}}w.d(rt,{FC:()=>Ee,KL:()=>pe,_T:()=>te,mG:()=>ve,qq:()=>fe})}},pn=>{pn(pn.s=488)}]);