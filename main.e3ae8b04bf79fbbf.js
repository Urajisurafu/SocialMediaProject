"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[179],{6217:(pn,rt,w)=>{w.d(rt,{nm:()=>Io});var l=w(4976);w(2223),w(259);var me=w(5861),Ee=w(6881),he=w(4859),pe=w(2090),Ne=w(1877);const Y=new Map,Ye={activated:!1,tokenObservers:[]},Be={initialized:!1,enabled:!1};function qe(wt){return Y.get(wt)||Object.assign({},Ye)}function wn(){return Be}const On="https://content-firebaseappcheck.googleapis.com/v1",Nt="exchangeDebugToken",Ut={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class qt{constructor(mt,Bt,mn,gn,hn){if(this.operation=mt,this.retryPolicy=Bt,this.getWaitDuration=mn,this.lowerBound=gn,this.upperBound=hn,this.pending=null,this.nextErrorWaitInterval=gn,gn>hn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(mt){var Bt=this;return(0,me.Z)(function*(){Bt.stop();try{Bt.pending=new pe.BH,yield function cn(wt){return new Promise(mt=>{setTimeout(mt,wt)})}(Bt.getNextRun(mt)),Bt.pending.resolve(),yield Bt.pending.promise,Bt.pending=new pe.BH,yield Bt.operation(),Bt.pending.resolve(),yield Bt.pending.promise,Bt.process(!0).catch(()=>{})}catch(mn){Bt.retryPolicy(mn)?Bt.process(!1).catch(()=>{}):Bt.stop()}})()}getNextRun(mt){if(mt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Bt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Bt}}}const sn=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qe(wt){if(!qe(wt).activated)throw sn.create("use-before-activation",{appName:wt.name})}function yt(wt,mt){return zt.apply(this,arguments)}function zt(){return(zt=(0,me.Z)(function*({url:wt,body:mt},Bt){const mn={"Content-Type":"application/json"},gn=Bt.getImmediate({optional:!0});if(gn){const nr=yield gn.getHeartbeatsHeader();nr&&(mn["X-Firebase-Client"]=nr)}const hn={method:"POST",body:JSON.stringify(mt),headers:mn};let Rn,oi;try{Rn=yield fetch(wt,hn)}catch(nr){throw sn.create("fetch-network-error",{originalErrorMessage:nr?.message})}if(200!==Rn.status)throw sn.create("fetch-status-error",{httpStatus:Rn.status});try{oi=yield Rn.json()}catch(nr){throw sn.create("fetch-parse-error",{originalErrorMessage:nr?.message})}const fi=oi.ttl.match(/^([\d.]+)(s)$/);if(!fi||!fi[2]||isNaN(Number(fi[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${oi.ttl}`});const Pr=1e3*Number(fi[1]),tr=Date.now();return{token:oi.token,expireTimeMillis:tr+Pr,issuedAtTimeMillis:tr}})).apply(this,arguments)}function dt(wt,mt){const{projectId:Bt,appId:mn,apiKey:gn}=wt.options;return{url:`${On}/projects/${Bt}/apps/${mn}:${Nt}?key=${gn}`,body:{debug_token:mt}}}const Ke="firebase-app-check-database",Zt=1,yn="firebase-app-check-store";let Tt=null;function an(){return(an=(0,me.Z)(function*(wt,mt){const mn=(yield function ue(){return Tt||(Tt=new Promise((wt,mt)=>{try{const Bt=indexedDB.open(Ke,Zt);Bt.onsuccess=mn=>{wt(mn.target.result)},Bt.onerror=mn=>{var gn;mt(sn.create("storage-open",{originalErrorMessage:null===(gn=mn.target.error)||void 0===gn?void 0:gn.message}))},Bt.onupgradeneeded=mn=>{0===mn.oldVersion&&mn.target.result.createObjectStore(yn,{keyPath:"compositeKey"})}}catch(Bt){mt(sn.create("storage-open",{originalErrorMessage:Bt?.message}))}}),Tt)}()).transaction(yn,"readwrite"),hn=mn.objectStore(yn).put({compositeKey:wt,value:mt});return new Promise((Rn,oi)=>{hn.onsuccess=fi=>{Rn()},mn.onerror=fi=>{var Pr;oi(sn.create("storage-set",{originalErrorMessage:null===(Pr=fi.target.error)||void 0===Pr?void 0:Pr.message}))}})})).apply(this,arguments)}const dn=new Ne.Yd("@firebase/app-check");function Dt(wt,mt){return(0,pe.hl)()?function ht(wt,mt){return function Yt(wt,mt){return an.apply(this,arguments)}(function Dn(wt){return`${wt.options.appId}-${wt.name}`}(wt),mt)}(wt,mt).catch(Bt=>{dn.warn(`Failed to write token to IndexedDB. Error: ${Bt}`)}):Promise.resolve()}function di(){return wn().enabled}function xi(){return pi.apply(this,arguments)}function pi(){return(pi=(0,me.Z)(function*(){const wt=wn();if(wt.enabled&&wt.token)return wt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const We={error:"UNKNOWN_ERROR"};function lt(wt){return pe.US.encodeString(JSON.stringify(wt),!1)}function ze(wt){return Le.apply(this,arguments)}function Le(){return(Le=(0,me.Z)(function*(wt,mt=!1){const Bt=wt.app;Qe(Bt);const mn=qe(Bt);let hn,gn=mn.token;if(gn&&!$(gn)&&(mn.token=void 0,gn=void 0),!gn){const fi=yield mn.cachedTokenPromise;fi&&($(fi)?gn=fi:yield Dt(Bt,void 0))}if(!mt&&gn&&$(gn))return{token:gn.token};let oi,Rn=!1;if(di()){mn.exchangeTokenPromise||(mn.exchangeTokenPromise=yt(dt(Bt,yield xi()),wt.heartbeatServiceProvider).finally(()=>{mn.exchangeTokenPromise=void 0}),Rn=!0);const fi=yield mn.exchangeTokenPromise;return yield Dt(Bt,fi),mn.token=fi,{token:fi.token}}try{mn.exchangeTokenPromise||(mn.exchangeTokenPromise=mn.provider.getToken().finally(()=>{mn.exchangeTokenPromise=void 0}),Rn=!0),gn=yield qe(Bt).exchangeTokenPromise}catch(fi){"appCheck/throttled"===fi.code?dn.warn(fi.message):dn.error(fi),hn=fi}return gn?hn?oi=$(gn)?{token:gn.token,internalError:hn}:de(hn):(oi={token:gn.token},mn.token=gn,yield Dt(Bt,gn)):oi=de(hn),Rn&&function V(wt,mt){const Bt=qe(wt).tokenObservers;for(const mn of Bt)try{"EXTERNAL"===mn.type&&null!=mt.error?mn.error(mt.error):mn.next(mt)}catch{}}(Bt,oi),oi})).apply(this,arguments)}function ke(wt){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,me.Z)(function*(wt){const mt=wt.app;Qe(mt);const{provider:Bt}=qe(mt);if(di()){const mn=yield xi(),{token:gn}=yield yt(dt(mt,mn),wt.heartbeatServiceProvider);return{token:gn}}{const{token:mn}=yield Bt.getToken();return{token:mn}}})).apply(this,arguments)}function Re(wt,mt){const Bt=qe(wt),mn=Bt.tokenObservers.filter(gn=>gn.next!==mt);0===mn.length&&Bt.tokenRefresher&&Bt.tokenRefresher.isRunning()&&Bt.tokenRefresher.stop(),Bt.tokenObservers=mn}function ce(wt){const{app:mt}=wt,Bt=qe(mt);let mn=Bt.tokenRefresher;mn||(mn=function H(wt){const{app:mt}=wt;return new qt((0,me.Z)(function*(){let mn;if(mn=qe(mt).token?yield ze(wt,!0):yield ze(wt),mn.error)throw mn.error;if(mn.internalError)throw mn.internalError}),()=>!0,()=>{const Bt=qe(mt);if(Bt.token){let mn=Bt.token.issuedAtTimeMillis+.5*(Bt.token.expireTimeMillis-Bt.token.issuedAtTimeMillis)+3e5;return mn=Math.min(mn,Bt.token.expireTimeMillis-3e5),Math.max(0,mn-Date.now())}return 0},Ut.RETRIAL_MIN_WAIT,Ut.RETRIAL_MAX_WAIT)}(wt),Bt.tokenRefresher=mn),!mn.isRunning()&&Bt.isTokenAutoRefreshEnabled&&mn.start()}function $(wt){return wt.expireTimeMillis-Date.now()>0}function de(wt){return{token:lt(We),error:wt}}class ae{constructor(mt,Bt){this.app=mt,this.heartbeatServiceProvider=Bt}_delete(){const{tokenObservers:mt}=qe(this.app);for(const Bt of mt)Re(this.app,Bt.next);return Promise.resolve()}}const Bo="app-check-internal";!function io(){(0,Ee._registerComponent)(new he.wA("app-check",wt=>function Ie(wt,mt){return new ae(wt,mt)}(wt.getProvider("app").getImmediate(),wt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((wt,mt,Bt)=>{wt.getProvider(Bo).initialize()})),(0,Ee._registerComponent)(new he.wA(Bo,wt=>function Oe(wt){return{getToken:mt=>ze(wt,mt),getLimitedUseToken:()=>ke(wt),addTokenListener:mt=>function $t(wt,mt,Bt,mn){const{app:gn}=wt,hn=qe(gn);if(hn.tokenObservers=[...hn.tokenObservers,{next:Bt,error:mn,type:mt}],hn.token&&$(hn.token)){const oi=hn.token;Promise.resolve().then(()=>{Bt({token:oi.token}),ce(wt)}).catch(()=>{})}hn.cachedTokenPromise.then(()=>ce(wt))}(wt,"INTERNAL",mt),removeTokenListener:mt=>Re(wt.app,mt)}}(wt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)("@firebase/app-check","0.8.0")}();class Io{constructor(){return(0,l.vb)("app-check")}}typeof window<"u"&&window},1205:(pn,rt,w)=>{w.d(rt,{zQ:()=>On,rT:()=>Be,f7:()=>xt,L6:()=>Y,_Q:()=>Ye,lh:()=>qe,Qv:()=>Ne,nw:()=>wn});var l=w(2223),C=w(7579),h=w(9646),J=w(9751),we=w(8996),oe=w(6451),W=w(5363),_e=w(3900),Ce=w(4004),re=w(6063);class fe extends C.x{constructor(Nt=1/0,Ut=1/0,en=re.l){super(),this._bufferSize=Nt,this._windowTime=Ut,this._timestampProvider=en,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ut===1/0,this._bufferSize=Math.max(1,Nt),this._windowTime=Math.max(1,Ut)}next(Nt){const{isStopped:Ut,_buffer:en,_infiniteTimeWindow:qt,_timestampProvider:cn,_windowTime:bn}=this;Ut||(en.push(Nt),!qt&&en.push(cn.now()+bn)),this._trimBuffer(),super.next(Nt)}_subscribe(Nt){this._throwIfClosed(),this._trimBuffer();const Ut=this._innerSubscribe(Nt),{_infiniteTimeWindow:en,_buffer:qt}=this,cn=qt.slice();for(let bn=0;bn<cn.length&&!Nt.closed;bn+=en?1:2)Nt.next(cn[bn]);return this._checkFinalizedStatuses(Nt),Ut}_trimBuffer(){const{_bufferSize:Nt,_timestampProvider:Ut,_buffer:en,_infiniteTimeWindow:qt}=this,cn=(qt?1:2)*Nt;if(Nt<1/0&&cn<en.length&&en.splice(0,en.length-cn),!qt){const bn=Ut.now();let sn=0;for(let Ft=1;Ft<en.length&&en[Ft]<=bn;Ft+=2)sn=Ft;sn&&en.splice(0,sn+1)}}}var ge=w(3099);function He(gt,Nt,Ut){let en,qt=!1;return gt&&"object"==typeof gt?({bufferSize:en=1/0,windowTime:Nt=1/0,refCount:qt=!1,scheduler:Ut}=gt):en=gt??1/0,(0,ge.B)({connector:()=>new fe(en,Nt,Ut),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qt})}var Pe=w(590),at=w(576);function Ge(gt,Nt){return(0,at.m)(Nt)?(0,_e.w)(()=>gt,Nt):(0,_e.w)(()=>gt)}var Xe=w(9468),Ve=w(9300),Ae=w(4976),vt=w(2011),me=w(4755),Ee=w(6217);w(9260);const Ne=new l.OlP("angularfire2.auth.use-emulator"),Y=new l.OlP("angularfire2.auth.settings"),Ye=new l.OlP("angularfire2.auth.tenant-id"),Be=new l.OlP("angularfire2.auth.langugage-code"),qe=new l.OlP("angularfire2.auth.use-device-language"),xt=new l.OlP("angularfire.auth.persistence"),wn=(gt,Nt,Ut,en,qt,cn,bn,sn)=>(0,vt.cc)(`${gt.name}.auth`,"AngularFireAuth",gt.name,()=>{const Ft=Nt.runOutsideAngular(()=>gt.auth());if(Ut&&Ft.useEmulator(...Ut),en&&(Ft.tenantId=en),Ft.languageCode=qt,cn&&Ft.useDeviceLanguage(),bn)for(const[Qe,ot]of Object.entries(bn))Ft.settings[Qe]=ot;return sn&&Ft.setPersistence(sn),Ft},[Ut,en,qt,cn,bn,sn]);let On=(()=>{class gt{constructor(Ut,en,qt,cn,bn,sn,Ft,Qe,ot,Ot,yt,zt){const kt=new C.x,At=(0,h.of)(void 0).pipe((0,W.Q)(bn.outsideAngular),(0,_e.w)(()=>cn.runOutsideAngular(()=>Promise.resolve().then(w.bind(w,9568)))),(0,Ce.U)(()=>(0,vt.on)(Ut,cn,en)),(0,Ce.U)(dt=>wn(dt,cn,sn,Qe,ot,Ot,Ft,yt)),He({bufferSize:1,refCount:!1}));if((0,me.PM)(qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,h.of)(null);else{At.pipe((0,Pe.P)()).subscribe();const Ke=At.pipe((0,_e.w)(ln=>ln.getRedirectResult().then(Tt=>Tt,()=>null)),Ae.iC,He({bufferSize:1,refCount:!1})),Zt=At.pipe((0,_e.w)(ln=>new J.y(Tt=>({unsubscribe:cn.runOutsideAngular(()=>ln.onAuthStateChanged(ue=>Tt.next(ue),ue=>Tt.error(ue),()=>Tt.complete()))})))),yn=At.pipe((0,_e.w)(ln=>new J.y(Tt=>({unsubscribe:cn.runOutsideAngular(()=>ln.onIdTokenChanged(ue=>Tt.next(ue),ue=>Tt.error(ue),()=>Tt.complete()))}))));this.authState=Ke.pipe(Ge(Zt),(0,Xe.R)(bn.outsideAngular),(0,W.Q)(bn.insideAngular)),this.user=Ke.pipe(Ge(yn),(0,Xe.R)(bn.outsideAngular),(0,W.Q)(bn.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(ln=>ln?(0,we.D)(ln.getIdToken()):(0,h.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(ln=>ln?(0,we.D)(ln.getIdTokenResult()):(0,h.of)(null))),this.credential=(0,oe.T)(Ke,kt,this.authState.pipe((0,Ve.h)(ln=>!ln))).pipe((0,Ce.U)(ln=>ln?.user?ln:null),(0,Xe.R)(bn.outsideAngular),(0,W.Q)(bn.insideAngular))}return(0,vt.pX)(this,At,cn,{spy:{apply:(dt,Ke,Zt)=>{(dt.startsWith("signIn")||dt.startsWith("createUser"))&&Zt.then(yn=>kt.next(yn))}}})}}return gt.\u0275fac=function(Ut){return new(Ut||gt)(l.LFG(vt.Dh),l.LFG(vt.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ae.HU),l.LFG(Ne,8),l.LFG(Y,8),l.LFG(Ye,8),l.LFG(Be,8),l.LFG(qe,8),l.LFG(xt,8),l.LFG(Ee.nm,8))},gt.\u0275prov=l.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"any"}),gt})()},1762:(pn,rt,w)=>{w.d(rt,{ST:()=>qv,yb:()=>ku});var l=w(2223),C=w(4986),h=w(9751),J=w(8996),we=w(9646),oe=w(4976),W=w(8675),_e=w(4482),Ce=w(5403);function re(){return(0,_e.e)((r,e)=>{let t,o=!1;r.subscribe((0,Ce.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var Y,fe=w(4004),ge=w(5026),He=w(1884),Pe=w(9300),at=w(2011),Ge=w(4755),Ve=(w(9568),w(3942)),Ae=w(5861),vt=w(6881),me=w(4859),Ee=w(1877),he=w(2090),pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne={},Ye=Ye||{},Be=pe||self;function qe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function xt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var On="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function gt(r,e,t){return r.call.apply(r.bind,arguments)}function Nt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ut(r,e,t){return(Ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gt:Nt).apply(null,arguments)}function en(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function qt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var p=Array(arguments.length-2),O=2;O<arguments.length;O++)p[O-2]=arguments[O];return e.prototype[a].apply(o,p)}}function cn(){this.s=this.s,this.o=this.o}cn.prototype.s=!1,cn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function wn(r){Object.prototype.hasOwnProperty.call(r,On)&&r[On]||(r[On]=++pt)}(this)},cn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Ft(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Qe(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(qe(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let p=0;p<u;p++)r[a+p]=o[p]}else r.push(o)}}function ot(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var Ot=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Be.addEventListener("test",()=>{},e),Be.removeEventListener("test",()=>{},e)}catch{}return r}();function yt(r){return/^[\s\xa0]*$/.test(r)}function zt(){var r=Be.navigator;return r&&(r=r.userAgent)?r:""}function kt(r){return-1!=zt().indexOf(r)}function At(r){return At[" "](r),r}At[" "]=function(){};var ht,r,Ke=kt("Opera"),Zt=kt("Trident")||kt("MSIE"),yn=kt("Edge"),ln=yn||Zt,Tt=kt("Gecko")&&!(-1!=zt().toLowerCase().indexOf("webkit")&&!kt("Edge"))&&!(kt("Trident")||kt("MSIE"))&&!kt("Edge"),ue=-1!=zt().toLowerCase().indexOf("webkit")&&!kt("Edge");function Ue(){var r=Be.document;return r?r.documentMode:void 0}e:{var ut="",Mt=(r=zt(),Tt?/rv:([^\);]+)(\)|;)/.exec(r):yn?/Edge\/([\d\.]+)/.exec(r):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ue?/WebKit\/(\S+)/.exec(r):Ke?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Mt&&(ut=Mt?Mt[1]:""),Zt){var Yt=Ue();if(null!=Yt&&Yt>parseFloat(ut)){ht=String(Yt);break e}}ht=ut}var ri=Be.document&&Zt&&(Ue()||parseInt(ht,10))||void 0;function Dn(r,e){if(ot.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Tt){e:{try{At(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:dn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Dn.$.h.call(this)}}qt(Dn,ot);var dn={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var jn="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Dt(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++$e,this.fa=this.ia=!1}function Wt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Sn(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function xi(r){const e={};for(const t in r)e[t]=r[t];return e}const pi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qt(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<pi.length;u++)t=pi[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function We(r){this.src=r,this.g={},this.h=0}function lt(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=sn(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(Wt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function ze(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}We.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var p=ze(r,e,o,a);return-1<p?(e=r[p],t||(e.ia=!1)):((e=new Dt(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var Le="closure_lm_"+(1e6*Math.random()|0),ke={};function Ct(r,e,t,o,a){if(o&&o.once)return ce(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ct(r,e[u],t,o,a);return null}return t=Oe(t),r&&r[jn]?r.O(e,t,xt(o)?!!o.capture:!!o,a):$t(r,e,t,!1,o,a)}function $t(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var p=xt(a)?!!a.capture:!!a,O=ae(r);if(O||(r[Le]=O=new We(r)),(t=O.add(e,t,o,p,u)).proxy)return t;if(o=function Re(){const e=de;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Ot||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent($(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function ce(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)ce(r,e[u],t,o,a);return null}return t=Oe(t),r&&r[jn]?r.P(e,t,xt(o)?!!o.capture:!!o,a):$t(r,e,t,!0,o,a)}function H(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)H(r,e[u],t,o,a);else o=xt(o)?!!o.capture:!!o,t=Oe(t),r&&r[jn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=ze(u=r.g[e],t,o,a))&&(Wt(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=ae(r))&&(e=r.g[e.toString()],r=-1,e&&(r=ze(e,t,o,a)),(t=-1<r?e[r]:null)&&V(t))}function V(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[jn])lt(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent($(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ae(e))?(lt(t,r),0==t.h&&(t.src=null,e[Le]=null)):Wt(r)}}}function $(r){return r in ke?ke[r]:ke[r]="on"+r}function de(r,e){if(r.fa)r=!0;else{e=new Dn(e,this);var t=r.listener,o=r.la||r.src;r.ia&&V(r),r=t.call(o,e)}return r}function ae(r){return(r=r[Le])instanceof We?r:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(r){return"function"==typeof r?r:(r[Ie]||(r[Ie]=function(e){return r.handleEvent(e)}),r[Ie])}function Fe(){cn.call(this),this.i=new We(this),this.S=this,this.J=null}function q(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new ot(e,r);else if(e instanceof ot)e.target=e.target||r;else{var a=e;Qt(e=new ot(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var p=e.g=t[u];a=De(p,o,!0,e)&&a}if(a=De(p=e.g=r,o,!0,e)&&a,a=De(p,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=De(p=e.g=t[u],o,!1,e)&&a}function De(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var p=e[u];if(p&&!p.fa&&p.capture==t){var O=p.listener,G=p.la||p.src;p.ia&&lt(r.i,p),a=!1!==O.call(G,o)&&a}}return a&&!o.defaultPrevented}qt(Fe,cn),Fe.prototype[jn]=!0,Fe.prototype.removeEventListener=function(r,e,t,o){H(this,r,e,t,o)},Fe.prototype.N=function(){if(Fe.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Wt(t[o]);delete r.g[e],r.h--}}this.J=null},Fe.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Fe.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var _t=Be.JSON.stringify;function Kn(){var r=ui;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Pt=new class Lt{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new It,r=>r.reset());class It{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function qn(r){Be.setTimeout(()=>{throw r},0)}let Pn,Hn=!1,ui=new class ii{constructor(){this.h=this.g=null}add(e,t){const o=Pt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},qi=()=>{const r=Be.Promise.resolve(void 0);Pn=()=>{r.then(vi)}};var vi=()=>{for(var r;r=Kn();){try{r.h.call(r.g)}catch(t){qn(t)}var e=Pt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Hn=!1};function wr(r,e){Fe.call(this),this.h=r||1,this.g=e||Be,this.j=Ut(this.qb,this),this.l=Date.now()}function to(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function bo(r,e,t){if("function"==typeof r)t&&(r=Ut(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ut(r.handleEvent,r)}return 2147483647<Number(e)?-1:Be.setTimeout(r,e||0)}function hs(r){r.g=bo(()=>{r.g=null,r.i&&(r.i=!1,hs(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}qt(wr,Fe),(Y=wr.prototype).ga=!1,Y.T=null,Y.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),q(this,"tick"),this.ga&&(to(this),this.start()))}},Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.N=function(){wr.$.N.call(this),to(this),delete this.g};class Mr extends cn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hs(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(r){cn.call(this),this.h=r,this.g={}}qt(no,cn);var jr=[];function fr(r,e,t,o){Array.isArray(t)||(t&&(jr[0]=t.toString()),t=jr);for(var a=0;a<t.length;a++){var u=Ct(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function ho(r){Sn(r.g,function(e,t){this.g.hasOwnProperty(t)&&V(e)},r),r.g={}}function Si(){this.g=!0}function er(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Io(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var p=1;p<a.length;p++)a[p]=""}}}return _t(t)}catch{return e}}(r,t)+(o?" "+o:"")})}no.prototype.N=function(){no.$.N.call(this),ho(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Si.prototype.Ea=function(){this.g=!1},Si.prototype.info=function(){};var $r={},To=null;function Uo(){return To=To||new Fe}function Jo(r){ot.call(this,$r.Ta,r)}function es(r){const e=Uo();q(e,new Jo(e))}function mo(r,e){ot.call(this,$r.STAT_EVENT,r),this.stat=e}function xr(r){const e=Uo();q(e,new mo(e,r))}function ts(r,e){ot.call(this,$r.Ua,r),this.size=e}function ms(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){r()},e)}$r.Ta="serverreachability",qt(Jo,ot),$r.STAT_EVENT="statevent",qt(mo,ot),$r.Ua="timingevent",qt(ts,ot);var mi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Er={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ei(){}function Hr(){}Ei.prototype.h=null;var Bt,ns={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wt(){ot.call(this,"d")}function mt(){ot.call(this,"c")}function mn(){}function gn(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new no(this),this.P=Rn,this.V=new wr(r=ln?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hn}function hn(){this.i=null,this.g="",this.h=!1}qt(wt,ot),qt(mt,ot),qt(mn,Ei),mn.prototype.g=function(){return new XMLHttpRequest},mn.prototype.i=function(){return{}},Bt=new mn;var Rn=45e3,oi={},fi={};function Pr(r,e,t){r.L=1,r.v=So(ir(e)),r.s=t,r.S=!0,tr(r,null)}function tr(r,e){r.G=Date.now(),Sr(r),r.A=ir(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Wi(t.i,"t",o),r.C=0,t=r.l.J,r.h=new hn,r.g=fa(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Mr(Ut(r.Pa,r,r.g),r.O)),fr(r.U,r.g,"readystatechange",r.nb),e=r.I?xi(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),es(),function Bo(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var p="",O=u.split("&"),G=0;G<O.length;G++){var te=O[G].split("=");if(1<te.length){var xe=te[0];te=te[1];var ct=xe.split("_");p=2<=ct.length&&"type"==ct[1]?p+(xe+"=")+te+"&":p+(xe+"=redacted&")}}else p=null;else p=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function nr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Vi(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=Zr(r,t),a==fi){4==e&&(r.o=4,xr(14),o=!1),er(r.j,r.m,null,"[Incomplete Response]");break}if(a==oi){r.o=4,xr(15),er(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}er(r.j,r.m,a,null),$i(r,a)}nr(r)&&a!=fi&&a!=oi&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,xr(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ia(e),e.M=!0,xr(11))):(er(r.j,r.m,t,"[Invalid Chunked Response]"),qr(r),Yr(r))}function Zr(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?fi:(t=Number(e.substring(t,o)),isNaN(t)?oi:(o+=1)+t>e.length?fi:(e=e.slice(o,o+t),r.C=o+t,e))}function Sr(r){r.Y=Date.now()+r.P,Xn(r,r.P)}function Xn(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ms(Ut(r.lb,r),e)}function oo(r){r.B&&(Be.clearTimeout(r.B),r.B=null)}function Yr(r){0==r.l.H||r.J||Vs(r.l,r)}function qr(r){oo(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,to(r.V),ho(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function $i(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Q(t.i,r)))if(!r.K&&Q(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Zo(t),Cs(t)}oa(t),xr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=ms(Ut(t.ib,t),6e3));if(1>=et(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ds(t,11)}else if((r.K||t.g==r)&&Zo(t),!yt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let te=a[e];if(t.V=te[0],te=te[1],2==t.H)if("c"==te[0]){t.K=te[1],t.pa=te[2];const xe=te[3];null!=xe&&(t.ra=xe,t.l.info("VER="+t.ra));const ct=te[4];null!=ct&&(t.Ga=ct,t.l.info("SVER="+t.Ga));const Xt=te[5];null!=Xt&&"number"==typeof Xt&&0<Xt&&(t.L=o=1.5*Xt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const vn=r.g;if(vn){const Ln=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ln){var u=o.i;u.g||-1==Ln.indexOf("spdy")&&-1==Ln.indexOf("quic")&&-1==Ln.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(tt(u,u.h),u.h=null))}if(o.F){const Qn=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qn&&(o.Da=Qn,Gi(o.I,o.F,Qn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=r;if((o=t).wa=Xs(o,o.J?o.pa:null,o.Y),p.K){on(o.i,p);var O=p,G=o.L;G&&O.setTimeout(G),O.B&&(oo(O),Sr(O)),o.g=p}else xc(o);0<t.j.length&&As(t)}else"stop"!=te[0]&&"close"!=te[0]||Ds(t,7);else 3==t.H&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?Ds(t,7):ss(t):"noop"!=te[0]&&t.h&&t.h.Aa(te),t.A=0)}es()}catch{}}function yo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(qe(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Vo(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(qe(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Mo(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(qe(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(Y=gn.prototype).setTimeout=function(r){this.P=r},Y.nb=function(r){r=r.target;const e=this.M;e&&3==_r(r)?e.l():this.Pa(r)},Y.Pa=function(r){try{if(r==this.g)e:{const xe=_r(this.g);var e=this.g.Ia();if(this.g.da(),!(3>xe)&&(3!=xe||ln||this.g&&(this.h.h||this.g.ja()||Ci(this.g)))){this.J||4!=xe||7==e||es(),oo(this);var t=this.g.da();this.ca=t;t:if(nr(this)){var o=Ci(this.g);r="";var a=o.length,u=4==_r(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Yr(this);var p="";break t}this.h.i=new Be.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function io(r,e,t,o,a,u,p){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+p})}(this.j,this.u,this.A,this.m,this.W,xe,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var O,G=this.g;if((O=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yt(O)){var te=O;break t}}te=null}if(!(t=te)){this.i=!1,this.o=3,xr(12),qr(this),Yr(this);break e}er(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$i(this,t)}this.S?(Vi(this,xe,p),ln&&this.i&&3==xe&&(fr(this.U,this.V,"tick",this.mb),this.V.start())):(er(this.j,this.m,p,null),$i(this,p)),4==xe&&qr(this),this.i&&!this.J&&(4==xe?Vs(this.l,this):(this.i=!1,Sr(this)))}else(function Ao(r){const e={};r=(r.g&&2<=_r(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(yt(r[o]))continue;var t=xn(r[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[a]||[];e[a]=u,u.push(t)}!function di(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,xr(12)):(this.o=0,xr(13)),qr(this),Yr(this)}}}catch{}},Y.mb=function(){if(this.g){var r=_r(this.g),e=this.g.ja();this.C<e.length&&(oo(this),Vi(this,r,e),this.i&&4!=r&&Sr(this))}},Y.cancel=function(){this.J=!0,qr(this)},Y.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function or(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(es(),xr(17)),qr(this),this.o=2,Yr(this)):Xn(this,this.Y-r)};var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof pr){this.h=r.h,fs(this,r.j),this.s=r.s,this.g=r.g,cr(this,r.m),this.l=r.l;var e=r.i,t=new lr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ki(this,t),this.o=r.o}else r&&(e=String(r).match(is))?(this.h=!1,fs(this,e[1]||"",!0),this.s=Ko(e[2]||""),this.g=Ko(e[3]||"",!0),cr(this,e[4]),this.l=Ko(e[5]||"",!0),ki(this,e[6]||"",!0),this.o=Ko(e[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}function ir(r){return new pr(r)}function fs(r,e,t){r.j=t?Ko(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function cr(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ki(r,e,t){e instanceof lr?(r.i=e,function ko(r,e){e&&!r.j&&(Gr(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(kr(this,o),Wi(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=go(e,os)),r.i=new lr(e,r.h))}function Gi(r,e,t){r.i.set(e,t)}function So(r){return Gi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Ko(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function go(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ps),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ps(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}pr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(go(e,Us,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(go(e,Us,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(go(t,"/"==t.charAt(0)?Fr:rs,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",go(t,Hi)),r.join("")};var Us=/[#\/\?@]/g,rs=/[#\?:]/g,Fr=/[#\?]/g,os=/[#\?@]/g,Hi=/#/g;function lr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Gr(r){r.g||(r.g=new Map,r.h=0,r.i&&function Es(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kr(r,e){Gr(r),e=_o(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function jo(r,e){return Gr(r),e=_o(r,e),r.g.has(e)}function Wi(r,e,t){kr(r,e),0<t.length&&(r.i=null,r.g.set(_o(r,e),Ft(t)),r.h+=t.length)}function _o(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Fs(r){this.l=r||gs,r=Be.PerformanceNavigationTiming?0<(r=Be.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=lr.prototype).add=function(r,e){Gr(this),this.i=null,r=_o(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(r,e){Gr(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},Y.ta=function(){Gr(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},Y.Z=function(r){Gr(this);let e=[];if("string"==typeof r)jo(this,r)&&(e=e.concat(this.g.get(_o(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Y.set=function(r,e){return Gr(this),this.i=null,jo(this,r=_o(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Y.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),p=this.Z(o);for(o=0;o<p.length;o++){var a=u;""!==p[o]&&(a+="="+encodeURIComponent(String(p[o]))),r.push(a)}}return this.i=r.join("&")};var gs=10;function Je(r){return!!r.h||!!r.g&&r.g.size>=r.j}function et(r){return r.h?1:r.g?r.g.size:0}function Q(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function tt(r,e){r.g?r.g.add(e):r.h=e}function on(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function An(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Ft(r.i)}Fs.prototype.cancel=function(){if(this.i=An(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Ti=class{stringify(r){return Be.JSON.stringify(r,void 0)}parse(r){return Be.JSON.parse(r,void 0)}};function Nr(){this.g=new Ti}function zr(r,e,t){const o=t||"";try{yo(r,function(a,u){let p=a;xt(a)&&(p=_t(a)),e.push(o+u+"="+encodeURIComponent(p))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function dr(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function K(r){this.l=r.fc||null,this.j=r.ob||!1}function j(r,e){Fe.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(K,Ei),K.prototype.g=function(){return new j(this.l,this.j)},K.prototype.i=function(r){return function(){return r}}({}),qt(j,Fe);var v=0;function D(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ne(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Se(r)}function Se(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Y=j.prototype).open=function(r,e){if(this.readyState!=v)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Se(this)},Y.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ne(this)),this.readyState=v},Y.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Se(this)),this.g&&(this.readyState=3,Se(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Y.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ne(this):Se(this),3==this.readyState&&D(this)}},Y.Za=function(r){this.g&&(this.response=this.responseText=r,ne(this))},Y.Ya=function(r){this.g&&(this.response=r,ne(this))},Y.ka=function(){this.g&&ne(this)},Y.setRequestHeader=function(r,e){this.v.append(r,e)},Y.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(j.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ft=Be.JSON.parse;function Vt(r){Fe.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Tn,this.L=this.M=!1}qt(Vt,Fe);var Tn="",Zn=/^https?$/i,Vn=["POST","PUT"];function Pi(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,gr(r),sr(r)}function gr(r){r.F||(r.F=!0,q(r,"complete"),q(r,"error"))}function Cr(r){if(r.h&&typeof Ye<"u"&&(!r.C[1]||4!=_r(r)||2!=r.da()))if(r.v&&4==_r(r))bo(r.La,0,r);else if(q(r,"readystatechange"),4==_r(r)){r.h=!1;try{const p=r.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===p){var a=String(r.I).match(is)[1]||null;!a&&Be.self&&Be.self.location&&(a=Be.self.location.protocol.slice(0,-1)),o=!Zn.test(a?a.toLowerCase():"")}t=o}if(t)q(r,"complete"),q(r,"success");else{r.m=6;try{var u=2<_r(r)?r.g.statusText:""}catch{u=""}r.j=u+" ["+r.da()+"]",gr(r)}}finally{sr(r)}}}function sr(r,e){if(r.g){Fi(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||q(r,"ready");try{t.onreadystatechange=o}catch{}}}function Fi(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Be.clearTimeout(r.A),r.A=null)}function _r(r){return r.g?r.g.readyState:0}function Ci(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Tn:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(r){let e="";return Sn(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Lr(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Qr(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Gi(r,e,t))}function Ar(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function wo(r){this.Ga=0,this.j=[],this.l=new Si,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ar("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ar("baseRetryDelayMs",5e3,r),this.hb=Ar("retryDelaySeedMs",1e4,r),this.eb=Ar("forwardChannelMaxRetries",2,r),this.xa=Ar("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Fs(r&&r.concurrentRequestLimit),this.Ja=new Nr,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ss(r){if(ks(r),3==r.H){var e=r.W++,t=ir(r.I);if(Gi(t,"SID",r.K),Gi(t,"RID",e),Gi(t,"TYPE","terminate"),Da(r,t),(e=new gn(r,r.l,e)).L=2,e.v=So(ir(t)),t=!1,Be.navigator&&Be.navigator.sendBeacon)try{t=Be.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Be.Image&&((new Image).src=e.v,t=!0),t||(e.g=fa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sr(e)}Ta(r)}function Cs(r){r.g&&(Ia(r),r.g.cancel(),r.g=null)}function ks(r){Cs(r),r.u&&(Be.clearTimeout(r.u),r.u=null),Zo(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Be.clearTimeout(r.m),r.m=null)}function As(r){if(!Je(r.i)&&!r.m){r.m=!0;var e=r.Na;Pn||qi(),Hn||(Pn(),Hn=!0),ui.add(e,r),r.C=0}}function Ks(r,e){var t;t=e?e.m:r.W++;const o=ir(r.I);Gi(o,"SID",r.K),Gi(o,"RID",t),Gi(o,"AID",r.V),Da(r,o),r.o&&r.s&&Lr(o,r.o,r.s),t=new gn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=so(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),tt(r.i,t),Pr(t,o,e)}function Da(r,e){r.na&&Sn(r.na,function(t,o){Gi(e,o,t)}),r.h&&yo({},function(t,o){Gi(e,o,t)})}function so(r,e,t){t=Math.min(r.j.length,t);var o=r.h?Ut(r.h.Va,r.h,r):null;e:{var a=r.j;let u=-1;for(;;){const p=["count="+t];-1==u?0<t?(u=a[0].g,p.push("ofs="+u)):u=0:p.push("ofs="+u);let O=!0;for(let G=0;G<t;G++){let te=a[G].g;const xe=a[G].map;if(te-=u,0>te)u=Math.max(0,a[G].g-100),O=!1;else try{zr(xe,p,"req"+te+"_")}catch{o&&o(xe)}}if(O){o=p.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function xc(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Pn||qi(),Hn||(Pn(),Hn=!0),ui.add(e,r),r.A=0}}function oa(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=ms(Ut(r.Ma,r),js(r,r.A)),r.A++,0))}function Ia(r){null!=r.B&&(Be.clearTimeout(r.B),r.B=null)}function ma(r){r.g=new gn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ir(r.wa);Gi(e,"RID","rpc"),Gi(e,"SID",r.K),Gi(e,"AID",r.V),Gi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Gi(e,"TO",r.qa),Gi(e,"TYPE","xmlhttp"),Da(r,e),r.o&&r.s&&Lr(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=So(ir(e)),t.s=null,t.S=!0,tr(t,r)}function Zo(r){null!=r.v&&(Be.clearTimeout(r.v),r.v=null)}function Vs(r,e){var t=null;if(r.g==e){Zo(r),Ia(r),r.g=null;var o=2}else{if(!Q(r.i,e))return;t=e.F,on(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;q(o=Uo(),new ts(o,t)),As(r)}else xc(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function ra(r,e){return!(et(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=ms(Ut(r.Na,r,e),js(r,r.C)),r.C++,0)))}(r,e)||2==o&&oa(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ds(r,5);break;case 4:Ds(r,10);break;case 3:Ds(r,6);break;default:Ds(r,2)}}function js(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Ds(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=Ut(r.pb,r);t||(t=new pr("//www.google.com/images/cleardot.gif"),Be.location&&"http"==Be.location.protocol||fs(t,"https"),So(t)),function fo(r,e){const t=new Si;if(Be.Image){const o=new Image;o.onload=en(dr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=en(dr,t,o,"TestLoadImage: error",!1,e),o.onabort=en(dr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=en(dr,t,o,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else xr(2);r.H=0,r.h&&r.h.za(e),Ta(r),ks(r)}function Ta(r){if(r.H=0,r.ma=[],r.h){const e=An(r.i);(0!=e.length||0!=r.j.length)&&(Qe(r.ma,e),Qe(r.ma,r.j),r.i.i.length=0,Ft(r.j),r.j.length=0),r.h.ya()}}function Xs(r,e,t){var o=t instanceof pr?ir(t):new pr(t);if(""!=o.g)e&&(o.g=e+"."+o.g),cr(o,o.m);else{var a=Be.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new pr(null);o&&fs(u,o),e&&(u.g=e),a&&cr(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&Gi(o,t,e),Gi(o,"VER",r.ra),Da(r,o),o}function fa(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vt(t&&r.Ha&&!r.va?new K({ob:!0}):r.va)).Oa(r.J),e}function Oa(){}function Js(){if(Zt&&!(10<=Number(ri)))throw Error("Environmental error: no available transport.")}function Ho(r,e){Fe.call(this),this.g=new wo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!yt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ns(this)}function _s(r){wt.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function pa(){mt.call(this),this.status=1}function Ns(r){this.g=r}function hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Is(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],p=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;p=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(p<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((u=(e=t+((p=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=u+((p=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Mi(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(Y=Vt.prototype).Oa=function(r){this.M=r},Y.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bt.g(),this.C=function ro(r){return r.h||(r.h=r.i())}(this.u?this.u:Bt),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void Pi(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=Be.FormData&&r instanceof Be.FormData,!(0<=sn(Vn,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,p]of t)this.g.setRequestHeader(u,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fi(this),0<this.B&&((this.L=function yi(r){return Zt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=bo(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Pi(this,u)}},Y.ua=function(){typeof Ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,q(this,"timeout"),this.abort(8))},Y.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,q(this,"complete"),q(this,"abort"),sr(this))},Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sr(this,!0)),Vt.$.N.call(this)},Y.La=function(){this.s||(this.G||this.v||this.l?Cr(this):this.kb())},Y.kb=function(){Cr(this)},Y.isActive=function(){return!!this.g},Y.da=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ft(e)}},Y.Ia=function(){return this.m},Y.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=wo.prototype).ra=8,Y.H=1,Y.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new gn(this,this.l,r);let u=this.s;if(this.U&&(u?(u=xi(u),Qt(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=so(this,a,e),Gi(t=ir(this.I),"RID",r),Gi(t,"CVER",22),this.F&&Gi(t,"X-HTTP-Session-Id",this.F),Da(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Qr(u)))+"&"+e:this.o&&Lr(t,this.o,u)),tt(this.i,a),this.bb&&Gi(t,"TYPE","init"),this.P?(Gi(t,"$req",e),Gi(t,"SID","null"),a.aa=!0,Pr(a,t,null)):Pr(a,t,e),this.H=2}}else 3==this.H&&(r?Ks(this,r):0==this.j.length||Je(this.i)||Ks(this))},Y.Ma=function(){if(this.u=null,ma(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=ms(Ut(this.jb,this),r)}},Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xr(10),Cs(this),ma(this))},Y.ib=function(){null!=this.v&&(this.v=null,Cs(this),oa(this),xr(19))},Y.pb=function(r){r?(this.l.info("Successfully pinged google.com"),xr(2)):(this.l.info("Failed to ping google.com"),xr(1))},Y.isActive=function(){return!!this.h&&this.h.isActive(this)},(Y=Oa.prototype).Ba=function(){},Y.Aa=function(){},Y.za=function(){},Y.ya=function(){},Y.isActive=function(){return!0},Y.Va=function(){},Js.prototype.g=function(r,e){return new Ho(r,e)},qt(Ho,Fe),Ho.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;xr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Xs(r,null,r.Y),As(r)},Ho.prototype.close=function(){ss(this.g)},Ho.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=_t(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&As(e)},Ho.prototype.N=function(){this.g.h=null,delete this.j,ss(this.g),delete this.g,Ho.$.N.call(this)},qt(_s,wt),qt(pa,mt),qt(Ns,Oa),Ns.prototype.Ba=function(){q(this.g,"a")},Ns.prototype.Aa=function(r){q(this.g,new _s(r))},Ns.prototype.za=function(r){q(this.g,new pa)},Ns.prototype.ya=function(){q(this.g,"b")},qt(hr,function Qi(){this.blockSize=-1}),hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hr.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)Is(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){Is(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){Is(this,o),a=0;break}}this.h=a,this.i+=e},hr.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var ga={};function F(r){return-128<=r&&128>r?function dt(r,e){var t=ga;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Mi([0|e],0>e?-1:0)}):new Mi([0|r],0>r?-1:0)}function ee(r){if(isNaN(r)||!isFinite(r))return it;if(0>r)return Ii(ee(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=be;return new Mi(e,0)}var be=4294967296,it=F(0),tn=F(1),fn=F(16777216);function Yn(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Bi(r){return-1==r.h}function Ii(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Mi(t,~r.h).add(tn)}function bi(r,e){return r.add(Ii(e))}function Di(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Xi(r,e){this.g=r,this.h=e}function zn(r,e){if(Yn(e))throw Error("division by zero");if(Yn(r))return new Xi(it,it);if(Bi(r))return e=zn(Ii(r),e),new Xi(Ii(e.g),Ii(e.h));if(Bi(e))return e=zn(r,Ii(e)),new Xi(Ii(e.g),e.h);if(30<r.g.length){if(Bi(r)||Bi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=tn,o=e;0>=o.X(r);)t=Br(t),o=Br(o);var a=as(t,1),u=as(o,1);for(o=as(o,2),t=as(t,2);!Yn(o);){var p=u.add(o);0>=p.X(r)&&(a=a.add(t),u=p),o=as(o,1),t=as(t,1)}return e=bi(r,a.R(e)),new Xi(a,e)}for(a=it;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),p=(u=ee(t)).R(e);Bi(p)||0<p.X(r);)p=(u=ee(t-=o)).R(e);Yn(u)&&(u=tn),a=a.add(u),r=bi(r,p)}return new Xi(a,r)}function Br(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Mi(t,r.h)}function as(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Mi(a,r.h)}(Y=Mi.prototype).ea=function(){if(Bi(this))return-Ii(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:be+o)*e,e*=be}return r},Y.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Yn(this))return"0";if(Bi(this))return"-"+Ii(this).toString(r);for(var e=ee(Math.pow(r,6)),t=this,o="";;){var a=zn(t,e).g,u=((0<(t=bi(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Yn(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},Y.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Y.X=function(r){return Bi(r=bi(this,r))?-1:Yn(r)?0:1},Y.abs=function(){return Bi(this)?Ii(this):this},Y.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),p=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=p>>>16,t[a]=(p&=65535)<<16|(u&=65535)}return new Mi(t,-2147483648&t[t.length-1]?-1:0)},Y.R=function(r){if(Yn(this)||Yn(r))return it;if(Bi(this))return Bi(r)?Ii(this).R(Ii(r)):Ii(Ii(this).R(r));if(Bi(r))return Ii(this.R(Ii(r)));if(0>this.X(fn)&&0>r.X(fn))return ee(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,p=65535&this.D(o),O=r.D(a)>>>16,G=65535&r.D(a);t[2*o+2*a]+=p*G,Di(t,2*o+2*a),t[2*o+2*a+1]+=u*G,Di(t,2*o+2*a+1),t[2*o+2*a+1]+=p*O,Di(t,2*o+2*a+1),t[2*o+2*a+2]+=u*O,Di(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Mi(t,0)},Y.gb=function(r){return zn(this,r).h},Y.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Mi(t,this.h&r.h)},Y.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Mi(t,this.h|r.h)},Y.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Mi(t,this.h^r.h)},Js.prototype.createWebChannel=Js.prototype.g,Ho.prototype.send=Ho.prototype.u,Ho.prototype.open=Ho.prototype.m,Ho.prototype.close=Ho.prototype.close,mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,Er.COMPLETE="complete",Hr.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",Fe.prototype.listen=Fe.prototype.O,Vt.prototype.listenOnce=Vt.prototype.P,Vt.prototype.getLastError=Vt.prototype.Sa,Vt.prototype.getLastErrorCode=Vt.prototype.Ia,Vt.prototype.getStatus=Vt.prototype.da,Vt.prototype.getResponseJson=Vt.prototype.Wa,Vt.prototype.getResponseText=Vt.prototype.ja,Vt.prototype.send=Vt.prototype.ha,Vt.prototype.setWithCredentials=Vt.prototype.Oa,hr.prototype.digest=hr.prototype.l,hr.prototype.reset=hr.prototype.reset,hr.prototype.update=hr.prototype.j,Mi.prototype.add=Mi.prototype.add,Mi.prototype.multiply=Mi.prototype.R,Mi.prototype.modulo=Mi.prototype.gb,Mi.prototype.compare=Mi.prototype.X,Mi.prototype.toNumber=Mi.prototype.ea,Mi.prototype.toString=Mi.prototype.toString,Mi.prototype.getBits=Mi.prototype.D,Mi.fromNumber=ee,Mi.fromString=function B(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Ii(B(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ee(Math.pow(e,8)),o=it,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),p=parseInt(r.substring(a,a+u),e);8>u?(u=ee(Math.pow(e,u)),o=o.R(u).add(ee(p))):o=(o=o.R(t)).add(ee(p))}return o};var Wr=Ne.createWebChannelTransport=function(){return new Js},sa=Ne.getStatEventTarget=function(){return Uo()},Oo=Ne.ErrorCode=mi,Zs=Ne.EventType=Er,cs=Ne.Event=$r,Ts=Ne.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uc=Ne.FetchXmlHttpFactory=K,_a=Ne.WebChannel=Hr,cc=Ne.XhrIo=Vt,Ra=Ne.Md5=hr,Cn=Ne.Integer=Mi;const Ji="@firebase/firestore";class xo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xo.UNAUTHENTICATED=new xo(null),xo.GOOGLE_CREDENTIALS=new xo("google-credentials-uid"),xo.FIRST_PARTY=new xo("first-party-uid"),xo.MOCK_USER=new xo("mock-user");let vs="9.22.2";const Xr=new Ee.Yd("@firebase/firestore");function Pa(){return Xr.logLevel}function Mn(r,...e){if(Xr.logLevel<=Ee.in.DEBUG){const t=e.map(ao);Xr.debug(`Firestore (${vs}): ${r}`,...t)}}function vr(r,...e){if(Xr.logLevel<=Ee.in.ERROR){const t=e.map(ao);Xr.error(`Firestore (${vs}): ${r}`,...t)}}function Ms(r,...e){if(Xr.logLevel<=Ee.in.WARN){const t=e.map(ao);Xr.warn(`Firestore (${vs}): ${r}`,...t)}}function ao(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ti(r="Unexpected state"){const e=`FIRESTORE (${vs}) INTERNAL ASSERTION FAILED: `+r;throw vr(e),new Error(e)}function ai(r,e){r||ti()}function Bn(r,e){return r}const nn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class En extends he.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ro{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xo.UNAUTHENTICATED))}shutdown(){}}class jc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class va{constructor(e){this.t=e,this.currentUser=xo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=te=>this.i!==a?(a=this.i,t(te)):Promise.resolve();let p=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ai,e.enqueueRetryable(()=>u(this.currentUser))};const O=()=>{const te=p;e.enqueueRetryable((0,Ae.Z)(function*(){yield te.promise,yield u(o.currentUser)}))},G=te=>{Mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(te=>G(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?G(te):(Mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ai)}},0),O()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ai("string"==typeof o.accessToken),new Vc(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ai(null===e||"string"==typeof e),new xo(e)}}class Ma{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=xo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dc{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Ma(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $a{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&Mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const p=u.token!==this.T;return this.T=u.token,Mn("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{Mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):Mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ai("string"==typeof t.token),this.T=t.token,new Fa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ec(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class U{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const a=Ec(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[u]%62))}return o}}function b(r,e){return r<e?-1:r>e?1:0}function g(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function M(r){return r+"\0"}class z{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new En(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new En(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new En(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new En(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return z.fromMillis(Date.now())}static fromDate(e){return z.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new z(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?b(this.nanoseconds,e.nanoseconds):b(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new z(0,0))}static max(){return new le(new z(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class st{constructor(e,t,o){void 0===t?t=0:t>e.length&&ti(),void 0===o?o=e.length-t:o>e.length-t&&ti(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===st.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof st?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),p=t.get(a);if(u<p)return-1;if(u>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nt extends st{construct(e,t,o){return new nt(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new En(nn.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const Ht=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends st{construct(e,t,o){return new Jt(e,t,o)}static isValidIdentifier(e){return Ht.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new En(nn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let p=!1;for(;a<e.length;){const O=e[a];if("\\"===O){if(a+1===e.length)throw new En(nn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[a+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new En(nn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,a+=2}else"`"===O?(p=!p,a++):"."!==O||p?(o+=O,a++):(u(),a++)}if(u(),p)throw new En(nn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}class y{constructor(e){this.path=e}static fromPath(e){return new y(nt.fromString(e))}static fromName(e){return new y(nt.fromString(e).popFirst(5))}static empty(){return new y(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new y(new nt(e.slice()))}}class T{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function E(r){return r.fields.find(e=>2===e.kind)}function P(r){return r.fields.filter(e=>2!==e.kind)}T.UNKNOWN_ID=-1;class ve{constructor(e,t){this.fieldPath=e,this.kind=t}}class Et{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Et(0,Un.min())}}function _n(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=le.fromTimestamp(1e9===o?new z(t+1,0):new z(t,o));return new Un(a,y.empty(),e)}function Jn(r){return new Un(r.readTime,r.key,-1)}class Un{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Un(le.min(),y.empty(),-1)}static max(){return new Un(le.max(),y.empty(),-1)}}function ji(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=y.comparator(r.documentKey,e.documentKey),0!==t?t:b(r.largestBatchId,e.largestBatchId))}const Or="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function co(r){return zo.apply(this,arguments)}function zo(){return zo=(0,Ae.Z)(function*(r){if(r.code!==nn.FAILED_PRECONDITION||r.message!==Or)throw r;Mn("LocalStore","Unexpectedly lost primary lease")}),zo.apply(this,arguments)}class Gt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ti(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Gt?t:Gt.resolve(t)}catch(t){return Gt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Gt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Gt.reject(t)}static resolve(e){return new Gt((t,o)=>{t(e)})}static reject(e){return new Gt((t,o)=>{o(e)})}static waitFor(e){return new Gt((t,o)=>{let a=0,u=0,p=!1;e.forEach(O=>{++a,O.next(()=>{++u,p&&u===a&&t()},G=>o(G))}),p=!0,u===a&&t()})}static or(e){let t=Gt.resolve(!1);for(const o of e)t=t.next(a=>a?Gt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new Gt((o,a)=>{const u=e.length,p=new Array(u);let O=0;for(let G=0;G<u;G++){const te=G;t(e[te]).next(xe=>{p[te]=xe,++O,O===u&&o(p)},xe=>a(xe))}})}static doWhile(e,t){return new Gt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class bs{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ai,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Na(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=Ki(o.target.error);this.v.reject(new Na(e,a))}}static open(e,t,o,a){try{return new bs(t,e.transaction(a,o))}catch(u){throw new Na(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Mn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ci(t)}}class Po{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Po.S((0,he.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mn("SimpleDb","Removing database:",e),li(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,he.hl)())return!1;if(Po.C())return!0;const e=(0,he.z$)(),t=Po.S(e),o=0<t&&t<10,a=Po.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(Mn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=p=>{o(p.target.result)},u.onblocked=()=>{a(new Na(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=p=>{const O=p.target.error;a("VersionError"===O.name?new En(nn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new En(nn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new Na(e,O))},u.onupgradeneeded=p=>{Mn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,u.transaction,p.oldVersion,t.version).next(()=>{Mn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,Ae.Z)(function*(){const p="readonly"===t;let O=0;for(;;){++O;try{u.db=yield u.$(e);const G=bs.open(u.db,e,p?"readonly":"readwrite",o),te=a(G).next(xe=>(G.P(),xe)).catch(xe=>(G.abort(xe),Gt.reject(xe))).toPromise();return te.catch(()=>{}),yield G.R,te}catch(G){const te=G,xe="FirebaseError"!==te.name&&O<3;if(Mn("SimpleDb","Transaction failed with error:",te.message,"Retrying:",xe),u.close(),!xe)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ba{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return li(this.L.delete())}}class Na extends En{constructor(e,t){super(nn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Os(r){return"IndexedDbTransactionError"===r.name}class ci{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Mn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Mn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),li(o)}add(e){return Mn("SimpleDb","ADD",this.store.name,e,e),li(this.store.add(e))}get(e){return li(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mn("SimpleDb","DELETE",this.store.name,e),li(this.store.delete(e))}count(){return Mn("SimpleDb","COUNT",this.store.name),li(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(p,O)=>{u.push(O)}).next(()=>u)}{const a=this.store.getAll(o.range);return new Gt((u,p)=>{a.onerror=O=>{p(O.target.error)},a.onsuccess=O=>{u(O.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Gt((a,u)=>{o.onerror=p=>{u(p.target.error)},o.onsuccess=p=>{a(p.target.result)}})}J(e,t){Mn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,p,O)=>O.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new Gt((o,a)=>{t.onerror=u=>{const p=Ki(u.target.error);a(p)},t.onsuccess=u=>{const p=u.target.result;p?e(p.primaryKey,p.value).next(O=>{O?p.continue():o()}):o()}})}W(e,t){const o=[];return new Gt((a,u)=>{e.onerror=p=>{u(p.target.error)},e.onsuccess=p=>{const O=p.target.result;if(!O)return void a();const G=new ba(O),te=t(O.primaryKey,O.value,G);if(te instanceof Gt){const xe=te.catch(ct=>(G.done(),Gt.reject(ct)));o.push(xe)}G.isDone?a():null===G.K?O.continue():O.continue(G.K)}}).next(()=>Gt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function li(r){return new Gt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=Ki(o.target.error);t(a)}})}let wi=!1;function Ki(r){const e=Po.S((0,he.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new En("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wi||(wi=!0,setTimeout(()=>{throw o},0)),o}}return r}class ys{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Mn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{Mn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){Os(o)?Mn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield co(o)}yield t.et(6e4)}))}}class Yo{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return Gt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!o.has(p))return Mn("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(O=>{a-=O,o.add(p)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const p=u.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,u)).next(O=>(Mn("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(e,t,O))).next(()=>p.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const p=Jn(u);ji(p,o)>0&&(o=p)}),new Un(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Rr=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Fo(r){return null==r}function Dr(r){return 0===r&&1/r==-1/0}function Wa(r){return"number"==typeof r&&Number.isInteger(r)&&!Dr(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function po(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=aa(e)),e=ws(r.get(t),e);return aa(e)}function ws(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function aa(r){return r+"\x01\x01"}function Ir(r){const e=r.length;if(ai(e>=2),2===e)return ai("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),nt.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const p=r.indexOf("\x01",u);switch((p<0||p>t)&&ti(),r.charAt(p+1)){case"\x01":const O=r.substring(u,p);let G;0===a.length?G=O:(a+=O,G=a,a=""),o.push(G);break;case"\x10":a+=r.substring(u,p),a+="\0";break;case"\x11":a+=r.substring(u,p+1);break;default:ti()}u=p+2}return new nt(o)}const ya=["userId","batchId"];function Ls(r,e){return[r,po(e)]}function hl(r,e,t){return[r,po(e),t]}const ml={},fl=["prefixPath","collectionGroup","readTime","documentId"],pl=["prefixPath","collectionGroup","documentId"],Gl=["collectionGroup","readTime","prefixPath","documentId"],La=["canonicalId","targetId"],Lh=["targetId","path"],Ru=["path","targetId"],Cc=["collectionId","parent"],Wl=["indexId","uid"],Kl=["uid","sequenceNumber"],Bh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gl=["indexId","uid","orderedDocumentKey"],Ka=["userId","collectionPath","documentId"],Pu=["userId","collectionPath","largestBatchId"],Zl=["userId","collectionGroup","largestBatchId"],_l=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Za=[..._l,"documentOverlays"],Rd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yl=Rd,Hc=[...Yl,"indexConfiguration","indexState","indexEntries"];class ql extends Eo{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function xs(r,e){const t=Bn(r);return Po.M(t.ht,e)}function zc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ea(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ba(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class br{constructor(e,t){this.comparator=e,this.root=t||ds.EMPTY}insert(e,t){return new br(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(e){return new br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ds.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ds{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??ds.RED,this.left=a??ds.EMPTY,this.right=u??ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new ds(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ds.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ti();const e=this.left.check();if(e!==this.right.check())throw ti();return e+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1,ds.EMPTY=new class{constructor(){this.size=0}get key(){throw ti()}get value(){throw ti()}get color(){throw ti()}get left(){throw ti()}get right(){throw ti()}copy(r,e,t,o,a){return this}insert(r,e,t){return new ds(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ql(this.data.getIterator())}getIteratorFrom(e){return new Ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yr(this.comparator);return t.data=e,t}}class Ql{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ua(r){return r.hasNext()?r.getNext():void 0}class Bs{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Bs([])}unionWith(e){let t=new yr(Jt.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Bs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return g(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class vl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vl("Invalid base64 string: "+a):a}}(e);return new qo(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new qo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return b(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qo.EMPTY_BYTE_STRING=new qo("");const Fu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dc(r){if(ai(!!r),"string"==typeof r){let e=0;const t=Fu.exec(r);if(ai(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:vo(r.seconds),nanos:vo(r.nanos)}}function vo(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ya(r){return"string"==typeof r?qo.fromBase64String(r):qo.fromUint8Array(r)}function $c(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function lo(r){const e=r.mapValue.fields.__previous_value__;return $c(e)?lo(e):e}function Ic(r){const e=Dc(r.mapValue.fields.__local_write_time__.timestampValue);return new z(e.seconds,e.nanos)}class Tc{constructor(e,t,o,a,u,p,O,G,te){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=p,this.autoDetectLongPolling=O,this.longPollingOptions=G,this.useFetchStreams=te}}class qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}const Jr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qa={nullValue:"NULL_VALUE"};function Hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$c(r)?4:$n(r)?9007199254740991:10:ti()}function ta(r,e){if(r===e)return!0;const t=Hs(r);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ic(r).isEqual(Ic(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Dc(o.timestampValue),p=Dc(a.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ya(r.bytesValue).isEqual(Ya(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return vo(o.geoPointValue.latitude)===vo(a.geoPointValue.latitude)&&vo(o.geoPointValue.longitude)===vo(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return vo(o.integerValue)===vo(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=vo(o.doubleValue),p=vo(a.doubleValue);return u===p?Dr(u)===Dr(p):isNaN(u)&&isNaN(p)}return!1}(r,e);case 9:return g(r.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:return function(o,a){const u=o.mapValue.fields||{},p=a.mapValue.fields||{};if(zc(u)!==zc(p))return!1;for(const O in u)if(u.hasOwnProperty(O)&&(void 0===p[O]||!ta(u[O],p[O])))return!1;return!0}(r,e);default:return ti()}var a}function Xa(r,e){return void 0!==(r.values||[]).find(t=>ta(t,e))}function Va(r,e){if(r===e)return 0;const t=Hs(r),o=Hs(e);if(t!==o)return b(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return b(r.booleanValue,e.booleanValue);case 2:return function(a,u){const p=vo(a.integerValue||a.doubleValue),O=vo(u.integerValue||u.doubleValue);return p<O?-1:p>O?1:p===O?0:isNaN(p)?isNaN(O)?0:-1:1}(r,e);case 3:return Nu(r.timestampValue,e.timestampValue);case 4:return Nu(Ic(r),Ic(e));case 5:return b(r.stringValue,e.stringValue);case 6:return function(a,u){const p=Ya(a),O=Ya(u);return p.compareTo(O)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const p=a.split("/"),O=u.split("/");for(let G=0;G<p.length&&G<O.length;G++){const te=b(p[G],O[G]);if(0!==te)return te}return b(p.length,O.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const p=b(vo(a.latitude),vo(u.latitude));return 0!==p?p:b(vo(a.longitude),vo(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const p=a.values||[],O=u.values||[];for(let G=0;G<p.length&&G<O.length;++G){const te=Va(p[G],O[G]);if(te)return te}return b(p.length,O.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===Jr.mapValue&&u===Jr.mapValue)return 0;if(a===Jr.mapValue)return 1;if(u===Jr.mapValue)return-1;const p=a.fields||{},O=Object.keys(p),G=u.fields||{},te=Object.keys(G);O.sort(),te.sort();for(let xe=0;xe<O.length&&xe<te.length;++xe){const ct=b(O[xe],te[xe]);if(0!==ct)return ct;const Xt=Va(p[O[xe]],G[te[xe]]);if(0!==Xt)return Xt}return b(O.length,te.length)}(r.mapValue,e.mapValue);default:throw ti()}}function Nu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return b(r,e);const t=Dc(r),o=Dc(e),a=b(t.seconds,o.seconds);return 0!==a?a:b(t.nanos,o.nanos)}function Mc(r){return Lu(r)}function Lu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=Dc(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ya(r.bytesValue).toBase64():"referenceValue"in r?y.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const p of o.values||[])u?u=!1:a+=",",a+=Lu(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",p=!0;for(const O of a)p?p=!1:u+=",",u+=`${O}:${Lu(o.fields[O])}`;return u+"}"}(r.mapValue):ti();var e}function L(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ie(r){return!!r&&"integerValue"in r}function je(r){return!!r&&"arrayValue"in r}function bt(r){return!!r&&"nullValue"in r}function jt(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function un(r){return!!r&&"mapValue"in r}function Wn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ea(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Wn(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $n(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function hi(r){return"nullValue"in r?Qa:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?L(qa.empty(),y.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ti()}function Ni(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?L(qa.empty(),y.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Jr:ti()}function Oi(r,e){const t=Va(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ss(r,e){const t=Va(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!un(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wn(t)}setAll(e){let t=Jt.emptyPath(),o={},a=[];e.forEach((p,O)=>{if(!t.isImmediateParentOf(O)){const G=this.getFieldsMap(t);this.applyChanges(G,o,a),o={},a=[],t=O.popLast()}p?o[O.lastSegment()]=Wn(p):a.push(O.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());un(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];un(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){ea(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new mr(Wn(this.value))}}function Ja(r){const e=[];return ea(r.fields,(t,o)=>{const a=new Jt([t]);if(un(o)){const u=Ja(o.mapValue).fields;if(0===u.length)e.push(a);else for(const p of u)e.push(a.child(p))}else e.push(a)}),new Bs(e)}class Kr{constructor(e,t,o,a,u,p,O){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=p,this.documentState=O}static newInvalidDocument(e){return new Kr(e,0,le.min(),le.min(),le.min(),mr.empty(),0)}static newFoundDocument(e,t,o,a){return new Kr(e,1,t,le.min(),o,a,0)}static newNoDocument(e,t){return new Kr(e,2,t,le.min(),le.min(),mr.empty(),0)}static newUnknownDocument(e,t){return new Kr(e,3,t,le.min(),le.min(),mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zs{constructor(e,t){this.position=e,this.inclusive=t}}function na(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],p=r.position[a];if(o=u.field.isKeyField()?y.comparator(y.fromName(p.referenceValue),t.key):Va(p,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function Sa(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ta(r.position[t],e.position[t]))return!1;return!0}class wa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Uh{}class ur extends Uh{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Hh(e,t,o):"array-contains"===t?new f(e,o):"in"===t?new _(e,o):"not-in"===t?new R(e,o):"array-contains-any"===t?new se(e,o):new ur(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new sf(e,o):new Bd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Va(t,this.value)):null!==t&&Hs(this.value)===Hs(t)&&this.matchesComparison(Va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ti()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class eo extends Uh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new eo(e,t)}matches(e){return ca(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ca(r){return"and"===r.op}function Sc(r){return"or"===r.op}function Nd(r){return nf(r)&&ca(r)}function nf(r){for(const e of r.filters)if(e instanceof eo)return!1;return!0}function Ld(r){if(r instanceof ur)return r.field.canonicalString()+r.op.toString()+Mc(r.value);if(Nd(r))return r.filters.map(e=>Ld(e)).join(",");{const e=r.filters.map(t=>Ld(t)).join(",");return`${r.op}(${e})`}}function Vh(r,e){return r instanceof ur?(t=r,(o=e)instanceof ur&&t.op===o.op&&t.field.isEqual(o.field)&&ta(t.value,o.value)):r instanceof eo?function(t,o){return o instanceof eo&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,p)=>a&&Vh(u,o.filters[p]),!0)}(r,e):void ti();var t,o}function rf(r,e){const t=r.filters.concat(e);return eo.create(t,r.op)}function jh(r){return r instanceof ur?`${(e=r).field.canonicalString()} ${e.op} ${Mc(e.value)}`:r instanceof eo?function(e){return e.op.toString()+" {"+e.getFilters().map(jh).join(" ,")+"}"}(r):"Filter";var e}class Hh extends ur{constructor(e,t,o){super(e,t,o),this.key=y.fromName(o.referenceValue)}matches(e){const t=y.comparator(e.key,this.key);return this.matchesComparison(t)}}class sf extends ur{constructor(e,t){super(e,"in",t),this.keys=I(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bd extends ur{constructor(e,t){super(e,"not-in",t),this.keys=I(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>y.fromName(o.referenceValue))}class f extends ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return je(t)&&Xa(t.arrayValue,this.value)}}class _ extends ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xa(this.value.arrayValue,t)}}class R extends ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xa(this.value.arrayValue,t)}}class se extends ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!je(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Xa(this.value.arrayValue,o))}}class Me{constructor(e,t=null,o=[],a=[],u=null,p=null,O=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=p,this.endAt=O,this.dt=null}}function Rt(r,e=null,t=[],o=[],a=null,u=null,p=null){return new Me(r,e,t,o,a,u,p)}function rn(r){const e=Bn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Ld(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),Fo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Mc(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Mc(o)).join(",")),e.dt=t}return e.dt}function Nn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Fd(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sa(r.startAt,e.startAt)&&Sa(r.endAt,e.endAt)}function ni(r){return y.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function gi(r,e){return r.filters.filter(t=>t instanceof ur&&t.field.isEqual(e))}function rr(r,e,t){let o=Qa,a=!0;for(const u of gi(r,e)){let p=Qa,O=!0;switch(u.op){case"<":case"<=":p=hi(u.value);break;case"==":case"in":case">=":p=u.value;break;case">":p=u.value,O=!1;break;case"!=":case"not-in":p=Qa}Oi({value:o,inclusive:a},{value:p,inclusive:O})<0&&(o=p,a=O)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const p=t.position[u];Oi({value:o,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(o=p,a=t.inclusive);break}return{value:o,inclusive:a}}function la(r,e,t){let o=Jr,a=!0;for(const u of gi(r,e)){let p=Jr,O=!0;switch(u.op){case">=":case">":p=Ni(u.value),O=!1;break;case"==":case"in":case"<=":p=u.value;break;case"<":p=u.value,O=!1;break;case"!=":case"not-in":p=Jr}Ss({value:o,inclusive:a},{value:p,inclusive:O})>0&&(o=p,a=O)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const p=t.position[u];Ss({value:o,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(o=p,a=t.inclusive);break}return{value:o,inclusive:a}}class ia{constructor(e,t=null,o=[],a=[],u=null,p="F",O=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=p,this.startAt=O,this.endAt=G,this.wt=null,this._t=null}}function Ud(r,e,t,o,a,u,p,O){return new ia(r,e,t,o,a,u,p,O)}function bl(r){return new ia(r)}function Bu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Vd(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function kc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Gc(r){return null!==r.collectionGroup}function hc(r){const e=Bn(r);if(null===e.wt){e.wt=[];const t=kc(e),o=Vd(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new wa(t)),e.wt.push(new wa(Jt.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new wa(Jt.keyField(),u))}}}return e.wt}function $s(r){const e=Bn(r);if(!e._t)if("F"===e.limitType)e._t=Rt(e.path,e.collectionGroup,hc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of hc(e))t.push(new wa(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new zs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new zs(e.startAt.position,e.startAt.inclusive):null;e._t=Rt(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function yl(r,e){e.getFirstInequalityField(),kc(r);const t=r.filters.concat([e]);return new ia(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ec(r,e,t){return new ia(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wl(r,e){return Nn($s(r),$s(e))&&r.limitType===e.limitType}function Wc(r){return`${rn($s(r))}|lt:${r.limitType}`}function xl(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>jh(o)).join(", ")}]`),Fo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Mc(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Mc(o)).join(",")),`Target(${t})`}($s(r))}; limitType=${r.limitType})`}function ka(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):y.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of hc(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,p){const O=na(a,u,p);return a.inclusive?O<=0:O<0}(t.startAt,hc(t),o)||t.endAt&&!function(a,u,p){const O=na(a,u,p);return a.inclusive?O>=0:O>0}(t.endAt,hc(t),o)));var t,o}function Lg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bg(r){return(e,t)=>{let o=!1;for(const a of hc(r)){const u=ab(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function ab(r,e,t){const o=r.field.isKeyField()?y.comparator(e.key,t.key):function(a,u,p){const O=u.data.field(a),G=p.data.field(a);return null!==O&&null!==G?Va(O,G):ti()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return ti()}}class Ac{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return Ba(this.inner)}size(){return this.innerSize}}const af=new br(y.comparator);function Aa(){return af}const Ug=new br(y.comparator);function Uu(...r){let e=Ug;for(const t of r)e=e.insert(t.key,t);return e}function cf(r){let e=Ug;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Oc(){return Ys()}function Vg(){return Ys()}function Ys(){return new Ac(r=>r.toString(),(r,e)=>r.isEqual(e))}const lf=new br(y.comparator),jg=new yr(y.comparator);function Zi(...r){let e=jg;for(const t of r)e=e.add(t);return e}const da=new yr(b);function Xl(){return da}function df(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dr(e)?"-0":e}}function uf(r){return{integerValue:""+r}}function Hg(r,e){return Wa(e)?uf(e):df(r,e)}class Vu{constructor(){this._=void 0}}function cb(r,e,t){return r instanceof Jl?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&$c(a)&&(a=lo(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof ed?Gg(r,e):r instanceof Kc?zh(r,e):function(o,a){const u=$g(o,a),p=Hd(u)+Hd(o.gt);return ie(u)&&ie(o.gt)?uf(p):df(o.serializer,p)}(r,e)}function zg(r,e,t){return r instanceof ed?Gg(r,e):r instanceof Kc?zh(r,e):t}function $g(r,e){return r instanceof jd?ie(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Jl extends Vu{}class ed extends Vu{constructor(e){super(),this.elements=e}}function Gg(r,e){const t=Wg(e);for(const o of r.elements)t.some(a=>ta(a,o))||t.push(o);return{arrayValue:{values:t}}}class Kc extends Vu{constructor(e){super(),this.elements=e}}function zh(r,e){let t=Wg(e);for(const o of r.elements)t=t.filter(a=>!ta(a,o));return{arrayValue:{values:t}}}class jd extends Vu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Hd(r){return vo(r.integerValue||r.doubleValue)}function Wg(r){return je(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ju{constructor(e,t){this.field=e,this.transform=t}}class mf{constructor(e,t){this.version=e,this.transformResults=t}}class Qo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qo}static exists(e){return new Qo(void 0,e)}static updateTime(e){return new Qo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class td{}function ff(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Cl(r.key,Qo.none()):new zd(r.key,r.data,Qo.none());{const t=r.data,o=mr.empty();let a=new yr(Jt.comparator);for(let u of e.fields)if(!a.has(u)){let p=t.field(u);null===p&&u.length>1&&(u=u.popLast(),p=t.field(u)),null===p?o.delete(u):o.set(u,p),a=a.add(u)}return new Yc(r.key,o,new Bs(a.toArray()),Qo.none())}}function pf(r,e,t){r instanceof zd?function(o,a,u){const p=o.value.clone(),O=Yg(o.fieldTransforms,a,u.transformResults);p.setAll(O),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):r instanceof Yc?function(o,a,u){if(!Zc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const p=Yg(o.fieldTransforms,a,u.transformResults),O=a.data;O.setAll(Zg(o)),O.setAll(p),a.convertToFoundDocument(u.version,O).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function El(r,e,t,o){return r instanceof zd?function(a,u,p,O){if(!Zc(a.precondition,u))return p;const G=a.value.clone(),te=gf(a.fieldTransforms,O,u);return G.setAll(te),u.convertToFoundDocument(u.version,G).setHasLocalMutations(),null}(r,e,t,o):r instanceof Yc?function(a,u,p,O){if(!Zc(a.precondition,u))return p;const G=gf(a.fieldTransforms,O,u),te=u.data;return te.setAll(Zg(a)),te.setAll(G),u.convertToFoundDocument(u.version,te).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(xe=>xe.field))}(r,e,t,o):(p=t,Zc(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p);var u,p}function lb(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=$g(o.transform,a||null);null!=u&&(null===t&&(t=mr.empty()),t.set(o.field,u))}return t||null}function Kg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&g(t,o,(a,u)=>function hf(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof ed&&o instanceof ed||t instanceof Kc&&o instanceof Kc?g(t.elements,o.elements,ta):t instanceof jd&&o instanceof jd?ta(t.gt,o.gt):t instanceof Jl&&o instanceof Jl);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class zd extends td{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yc extends td{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Yg(r,e,t){const o=new Map;ai(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],p=u.transform,O=e.data.field(u.field);o.set(u.field,zg(p,O,t[a]))}return o}function gf(r,e,t){const o=new Map;for(const a of r){const u=a.transform,p=t.data.field(a.field);o.set(a.field,cb(u,p,e))}return o}class Cl extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hu{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&pf(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=El(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=El(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Vg();return this.mutations.forEach(a=>{const u=e.get(a.key),p=u.overlayedDocument;let O=this.applyToLocalView(p,u.mutatedFields);O=t.has(a.key)?null:O;const G=ff(p,O);null!==G&&o.set(a.key,G),p.isValidDocument()||p.convertToNoDocument(le.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zi())}isEqual(e){return this.batchId===e.batchId&&g(this.mutations,e.mutations,(t,o)=>Kg(t,o))&&g(this.baseMutations,e.baseMutations,(t,o)=>Kg(t,o))}}class _f{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){ai(e.mutations.length===o.length);let a=lf;const u=e.mutations;for(let p=0;p<u.length;p++)a=a.insert(u[p].key,o[p].version);return new _f(e,t,o,a)}}class vf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qg{constructor(e,t){this.count=e,this.unchangedNames=t}}var $o,Ur;function yf(r){switch(r){default:return ti();case nn.CANCELLED:case nn.UNKNOWN:case nn.DEADLINE_EXCEEDED:case nn.RESOURCE_EXHAUSTED:case nn.INTERNAL:case nn.UNAVAILABLE:case nn.UNAUTHENTICATED:return!1;case nn.INVALID_ARGUMENT:case nn.NOT_FOUND:case nn.ALREADY_EXISTS:case nn.PERMISSION_DENIED:case nn.FAILED_PRECONDITION:case nn.ABORTED:case nn.OUT_OF_RANGE:case nn.UNIMPLEMENTED:case nn.DATA_LOSS:return!0}}function Qg(r){if(void 0===r)return vr("GRPC error has no .code"),nn.UNKNOWN;switch(r){case $o.OK:return nn.OK;case $o.CANCELLED:return nn.CANCELLED;case $o.UNKNOWN:return nn.UNKNOWN;case $o.DEADLINE_EXCEEDED:return nn.DEADLINE_EXCEEDED;case $o.RESOURCE_EXHAUSTED:return nn.RESOURCE_EXHAUSTED;case $o.INTERNAL:return nn.INTERNAL;case $o.UNAVAILABLE:return nn.UNAVAILABLE;case $o.UNAUTHENTICATED:return nn.UNAUTHENTICATED;case $o.INVALID_ARGUMENT:return nn.INVALID_ARGUMENT;case $o.NOT_FOUND:return nn.NOT_FOUND;case $o.ALREADY_EXISTS:return nn.ALREADY_EXISTS;case $o.PERMISSION_DENIED:return nn.PERMISSION_DENIED;case $o.FAILED_PRECONDITION:return nn.FAILED_PRECONDITION;case $o.ABORTED:return nn.ABORTED;case $o.OUT_OF_RANGE:return nn.OUT_OF_RANGE;case $o.UNIMPLEMENTED:return nn.UNIMPLEMENTED;case $o.DATA_LOSS:return nn.DATA_LOSS;default:return ti()}}(Ur=$o||($o={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";class Xg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return nd}static getOrCreateInstance(){return null===nd&&(nd=new Xg),nd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let nd=null;function Jg(){return new TextEncoder}const e_=new Cn([4294967295,4294967295],0);function wf(r){const e=Jg().encode(r),t=new Ra;return t.update(e),new Uint8Array(t.digest())}function xf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Cn([t,o],0),new Cn([a,u],0)]}class zu{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new $d(`Invalid padding: ${t}`);if(o<0)throw new $d(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new $d(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new $d(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Cn.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(Cn.fromNumber(o)));return 1===a.compare(e_)&&(a=new Cn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wf(e),[o,a]=xf(t);for(let u=0;u<this.hashCount;u++){const p=this.Et(o,a,u);if(!this.At(p))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),p=new zu(u,a,t);return o.forEach(O=>p.insert(O)),p}insert(e){if(0===this.It)return;const t=wf(e),[o,a]=xf(t);for(let u=0;u<this.hashCount;u++){const p=this.Et(o,a,u);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dl{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Dl(le.min(),a,new br(b),Aa(),Zi())}}class qc{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new qc(o,t,Zi(),Zi(),Zi())}}class $u{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class Gh{constructor(e,t){this.targetId=e,this.Vt=t}}class Gu{constructor(e,t,o=qo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class Ef{constructor(){this.St=0,this.Dt=t_(),this.Ct=qo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zi(),t=Zi(),o=Zi();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:ti()}}),new qc(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=t_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Aa(),this.zt=Gd(),this.Wt=new br(b)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:ti()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const p=u.target;if(ni(p))if(0===a){const O=new y(p.path);this.Yt(o,O,Kr.newNoDocument(O,le.min()))}else ai(1===a);else{const O=this.ie(o);if(O!==a){const G=this.re(e,O);0!==G&&(this.ee(o),this.Wt=this.Wt.insert(o,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(te,xe,ct){var Xt,vn,Ln,Qn,si,Yi;const Vr={localCacheCount:xe,existenceFilterCount:ct.count},Ui=ct.unchangedNames;return Ui&&(Vr.bloomFilter={applied:0===te,hashCount:null!==(Xt=Ui?.hashCount)&&void 0!==Xt?Xt:0,bitmapLength:null!==(Qn=null===(Ln=null===(vn=Ui?.bits)||void 0===vn?void 0:vn.bitmap)||void 0===Ln?void 0:Ln.length)&&void 0!==Qn?Qn:0,padding:null!==(Yi=null===(si=Ui?.bits)||void 0===si?void 0:si.padding)&&void 0!==Yi?Yi:0}),Vr}(G,O,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:p=0},hashCount:O=0}=o;let G,te;try{G=Ya(u).toUint8Array()}catch(xe){if(xe instanceof vl)return Ms("Decoding the base64 bloom filter in existence filter failed ("+xe.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw xe}try{te=new zu(G,p,O)}catch(xe){return Ms(xe instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",xe),1}return 0===te.It?1:a!==t-this.oe(e.targetId,te)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const p=this.Gt.ue(),O=`projects/${p.projectId}/databases/${p.database}/documents/${u.path.canonicalString()}`;t.vt(O)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,p)=>{const O=this.se(p);if(O){if(u.current&&ni(O.target)){const G=new y(O.target.path);null!==this.jt.get(G)||this.ae(p,G)||this.Yt(p,G,Kr.newNoDocument(G,e))}u.Mt&&(t.set(p,u.Ot()),u.Ft())}});let o=Zi();this.zt.forEach((u,p)=>{let O=!0;p.forEachWhile(G=>{const te=this.se(G);return!te||"TargetPurposeLimboResolution"===te.purpose||(O=!1,!1)}),O&&(o=o.add(u))}),this.jt.forEach((u,p)=>p.setReadTime(e));const a=new Dl(e,t,this.Wt,this.jt,o);return this.jt=Aa(),this.zt=Gd(),this.Wt=new br(b),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ef,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new yr(b),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Mn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ef),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Gd(){return new br(y.comparator)}function t_(){return new br(y.comparator)}const n_={asc:"ASCENDING",desc:"DESCENDING"},db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ub={and:"AND",or:"OR"};class hb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(r,e){return r.useProto3Json||Fo(e)?e:{value:e}}function id(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Df(r,e){return id(r,e.toTimestamp())}function Go(r){return ai(!!r),le.fromTimestamp(function(e){const t=Dc(e);return new z(t.seconds,t.nanos)}(r))}function If(r,e){return(t=r,new nt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(r){const e=nt.fromString(r);return ai(u_(e)),e}function Kh(r,e){return If(r.databaseId,e.path)}function Rc(r,e){const t=i_(e);if(t.get(1)!==r.databaseId.projectId)throw new En(nn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new En(nn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new y(Zu(t))}function Ku(r,e){return If(r.databaseId,e)}function r_(r){const e=i_(r);return 4===e.length?nt.emptyPath():Zu(e)}function Qc(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Zu(r){return ai(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Zh(r,e,t){return{name:Kh(r,e),fields:t.value.mapValue.fields}}function Tf(r,e,t){const o=Rc(r,e.name),a=Go(e.updateTime),u=e.createTime?Go(e.createTime):le.min(),p=new mr({mapValue:{fields:e.fields}}),O=Kr.newFoundDocument(o,a,u,p);return t&&O.setHasCommittedMutations(),t?O.setHasCommittedMutations():O}function mc(r,e){let t;if(e instanceof zd)t={update:Zh(r,e.key,e.value)};else if(e instanceof Cl)t={delete:Kh(r,e.key)};else if(e instanceof Yc)t={update:Zh(r,e.key,e.data),updateMask:d_(e.fieldMask)};else{if(!(e instanceof $h))return ti();t={verify:Kh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const p=u.transform;if(p instanceof Jl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ed)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jd)return{fieldPath:u.field.canonicalString(),increment:p.gt};throw ti()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Df(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ti()),t;var a}function Mf(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Qo.updateTime(Go(a.updateTime)):void 0!==a.exists?Qo.exists(a.exists):Qo.none():Qo.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,p){let O=null;"setToServerValue"in p?(ai("REQUEST_TIME"===p.setToServerValue),O=new Jl):"appendMissingElements"in p?O=new ed(p.appendMissingElements.values||[]):"removeAllFromArray"in p?O=new Kc(p.removeAllFromArray.values||[]):"increment"in p?O=new jd(u,p.increment):ti();const G=Jt.fromServerFormat(p.fieldPath);return new ju(G,O)}(r,a)):[];var a;if(e.update){const a=Rc(r,e.update.name),u=new mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Bs((e.updateMask.fieldPaths||[]).map(te=>Jt.fromServerFormat(te)));return new Yc(a,u,p,t,o)}return new zd(a,u,t,o)}if(e.delete){const a=Rc(r,e.delete);return new Cl(a,t)}if(e.verify){const a=Rc(r,e.verify);return new $h(a,t)}return ti()}function a_(r,e){return{documents:[Ku(r,e.path)]}}function Sf(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Ku(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ku(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(G){if(0!==G.length)return l_(eo.create(G,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(G){if(0!==G.length)return G.map(te=>{return{field:Il((xe=te).field),direction:fb(xe.dir)};var xe})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Wh(r,e.limit);var O,G;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function c_(r){let e=r_(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){ai(1===o);const xe=t.from[0];xe.allDescendants?a=xe.collectionId:e=e.child(xe.collectionId)}let u=[];t.where&&(u=function(xe){const ct=rd(xe);return ct instanceof eo&&Nd(ct)?ct.getFilters():[ct]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(xe=>{return new wa(Wd((ct=xe).field),function(Xt){switch(Xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ct.direction));var ct}));let O=null;t.limit&&(O=function(xe){let ct;return ct="object"==typeof xe?xe.value:xe,Fo(ct)?null:ct}(t.limit));let G=null;var xe;t.startAt&&(G=new zs((xe=t.startAt).values||[],!!xe.before));let te=null;return t.endAt&&(te=function(xe){return new zs(xe.values||[],!xe.before)}(t.endAt)),Ud(e,a,p,u,O,"F",G,te)}function rd(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wd(e.unaryFilter.field);return ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Wd(e.unaryFilter.field);return ur.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wd(e.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wd(e.unaryFilter.field);return ur.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ti()}}(r):void 0!==r.fieldFilter?ur.create(Wd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ti()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return eo.create(e.compositeFilter.filters.map(t=>rd(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ti()}}(e.compositeFilter.op))}(r):ti();var e}function fb(r){return n_[r]}function pb(r){return db[r]}function gb(r){return ub[r]}function Il(r){return{fieldPath:r.canonicalString()}}function Wd(r){return Jt.fromServerFormat(r.fieldPath)}function l_(r){return r instanceof ur?function(e){if("=="===e.op){if(jt(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NAN"}};if(bt(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jt(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NOT_NAN"}};if(bt(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(e.field),op:pb(e.op),value:e.value}}}(r):r instanceof eo?function(e){const t=e.getFilters().map(o=>l_(o));return 1===t.length?t[0]:{compositeFilter:{op:gb(e.op),filters:t}}}(r):ti()}function d_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Jc{constructor(e,t,o,a,u=le.min(),p=le.min(),O=qo.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=O,this.expectedCount=G}withSequenceNumber(e){return new Jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class h_{constructor(e){this.fe=e}}function Yu(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:tc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Kh(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:id(a,u.version.toTimestamp()),createTime:id(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:fc(e.version)};else{if(!e.isUnknownDocument())return ti();o.unknownDocument={path:t.path.toArray(),version:fc(e.version)}}var a,u;return o}function tc(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function fc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tl(r){const e=new z(r.seconds,r.nanoseconds);return le.fromTimestamp(e)}function Ml(r,e){const t=(e.baseMutations||[]).map(u=>Mf(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>Mf(r.fe,u)),a=z.fromMillis(e.localWriteTimeMs);return new Hu(e.batchId,a,t,o)}function Kd(r){const e=Tl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Tl(r.lastLimboFreeSnapshotVersion):le.min();let o;var a;return void 0!==r.query.documents?(ai(1===(a=r.query).documents.length),o=$s(bl(r_(a.documents[0])))):o=$s(c_(r.query)),new Jc(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,qo.fromBase64String(r.resumeToken))}function vb(r,e){const t=fc(e.snapshotVersion),o=fc(e.lastLimboFreeSnapshotVersion);let a;a=ni(e.target)?a_(r.fe,e.target):Sf(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rn(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function m_(r){const e=c_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ec(e,e.limit,"L"):e}function f_(r,e){return new vf(e.largestBatchId,Mf(r.fe,e.overlayMutation))}function Yh(r,e){const t=e.path.lastSegment();return[r,po(e.path.popLast()),t]}function qh(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:fc(o.readTime),documentKey:po(o.documentKey.path),largestBatchId:o.largestBatchId}}class f0{getBundleMetadata(e,t){return bb(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Tl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return bb(e).put({bundleId:(o=t).id,createTime:fc(Go(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return kf(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:m_(a.bundledQuery),readTime:Tl(a.readTime)};var a})}saveNamedQuery(e,t){return kf(e).put({name:(o=t).name,readTime:fc(Go(o.readTime)),bundledQuery:o.bundledQuery});var o}}function bb(r){return xs(r,"bundles")}function kf(r){return xs(r,"namedQueries")}class Qh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qh(e,t.uid||"")}getOverlay(e,t){return qu(e).get(Yh(this.userId,t)).next(o=>o?f_(this.serializer,o):null)}getOverlays(e,t){const o=Oc();return Gt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,p)=>{const O=new vf(t,p);a.push(this.we(e,O))}),Gt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(p=>a.add(po(p.getCollectionPath())));const u=[];return a.forEach(p=>{const O=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,o+1],!1,!0);u.push(qu(e).J("collectionPathOverlayIndex",O))}),Gt.waitFor(u)}getOverlaysForCollection(e,t,o){const a=Oc(),u=po(t),p=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return qu(e).j("collectionPathOverlayIndex",p).next(O=>{for(const G of O){const te=f_(this.serializer,G);a.set(te.getKey(),te)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=Oc();let p;const O=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qu(e).X({index:"collectionGroupOverlayIndex",range:O},(G,te,xe)=>{const ct=f_(this.serializer,te);u.size()<a||ct.largestBatchId===p?(u.set(ct.getKey(),ct),p=ct.largestBatchId):xe.done()}).next(()=>u)}we(e,t){return qu(e).put(function(o,a,u){const[p,O,G]=Yh(a,u.mutation.key);return{userId:a,collectionPath:O,documentId:G,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:mc(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function qu(r){return xs(r,"documentOverlays")}class od{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(vo(e.integerValue));else if("doubleValue"in e){const o=vo(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Dr(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ya(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?$n(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ti()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),y.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function yb(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Af(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=yb(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}od.Ve=new od;class Xh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=Af(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=Af(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class p_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Of{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Qu{constructor(){this.je=new Xh,this.ze=new p_(this.je),this.We=new Of(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class No{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new No(this.indexId,this.documentKey,this.arrayValue,o)}}function Sl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=g_(r.arrayValue,e.arrayValue),0!==t?t:(t=g_(r.directionalValue,e.directionalValue),0!==t?t:y.comparator(r.documentKey,e.documentKey)))}function g_(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Rf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){ai(e.collectionGroup===this.collectionId);const t=E(e);if(void 0!==t&&!this.en(t))return!1;const o=P(e);let a=new Set,u=0,p=0;for(;u<o.length&&this.en(o[u]);++u)a=a.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const O=o[u];if(!this.nn(this.Ze,O)||!this.sn(this.Ye[p++],O))return!1}++u}for(;u<o.length;++u)if(p>=this.Ye.length||!this.sn(this.Ye[p++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pf(r){var e,t;if(ai(r instanceof ur||r instanceof eo),r instanceof ur){if(r instanceof _){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>ur.create(r.field,"==",u)))||[];return eo.create(a,"or")}return r}const o=r.filters.map(a=>Pf(a));return eo.create(o,r.op)}function wb(r){if(0===r.getFilters().length)return[];const e=Jh(Pf(r));return ai(__(e)),Ff(e)||Nf(e)?[e]:e.getFilters()}function Ff(r){return r instanceof ur}function Nf(r){return r instanceof eo&&Nd(r)}function __(r){return Ff(r)||Nf(r)||function(e){if(e instanceof eo&&Sc(e)){for(const t of e.getFilters())if(!Ff(t)&&!Nf(t))return!1;return!0}return!1}(r)}function Jh(r){if(ai(r instanceof ur||r instanceof eo),r instanceof ur)return r;if(1===r.filters.length)return Jh(r.filters[0]);const e=r.filters.map(o=>Jh(o));let t=eo.create(e,r.op);return t=kl(t),__(t)?t:(ai(t instanceof eo),ai(ca(t)),ai(t.filters.length>1),t.filters.reduce((o,a)=>v_(o,a)))}function v_(r,e){let t;return ai(r instanceof ur||r instanceof eo),ai(e instanceof ur||e instanceof eo),t=r instanceof ur?e instanceof ur?eo.create([r,e],"and"):xb(r,e):e instanceof ur?xb(e,r):function(o,a){if(ai(o.filters.length>0&&a.filters.length>0),ca(o)&&ca(a))return rf(o,a.getFilters());const u=Sc(o)?o:a,p=Sc(o)?a:o,O=u.filters.map(G=>v_(G,p));return eo.create(O,"or")}(r,e),kl(t)}function xb(r,e){if(ca(e))return rf(e,r.getFilters());{const t=e.filters.map(o=>v_(r,o));return eo.create(t,"or")}}function kl(r){if(ai(r instanceof ur||r instanceof eo),r instanceof ur)return r;const e=r.getFilters();if(1===e.length)return kl(e[0]);if(nf(r))return r;const t=e.map(a=>kl(a)),o=[];return t.forEach(a=>{a instanceof ur?o.push(a):a instanceof eo&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:eo.create(o,r.op)}class uo{constructor(){this.rn=new sd}addToCollectionParentIndex(e,t){return this.rn.add(t),Gt.resolve()}getCollectionParents(e,t){return Gt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Gt.resolve()}deleteFieldIndex(e,t){return Gt.resolve()}getDocumentsMatchingTarget(e,t){return Gt.resolve(null)}getIndexType(e,t){return Gt.resolve(0)}getFieldIndexes(e,t){return Gt.resolve([])}getNextCollectionGroupToUpdate(e){return Gt.resolve(null)}getMinOffset(e,t){return Gt.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,t){return Gt.resolve(Un.min())}updateCollectionGroup(e,t,o){return Gt.resolve()}updateIndexEntries(e,t){return Gt.resolve()}}class sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new yr(nt.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new yr(nt.comparator)).toArray()}}const Xu=new Uint8Array(0);class b_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new sd,this.un=new Ac(o=>rn(o),(o,a)=>Nn(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:po(a)};return Lf(e).put(u)}return Gt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[M(t),""],!1,!0);return Lf(e).j(a).next(u=>{for(const p of u){if(p.collectionId!==t)break;o.push(Ir(p.parent))}return o})}addFieldIndex(e,t){const o=em(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var p;delete a.indexId;const u=o.add(a);if(t.indexState){const p=Zd(e);return u.next(O=>{p.put(qh(O,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=em(e),a=Zd(e),u=ad(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=ad(e);let a=!0;const u=new Map;return Gt.forEach(this.cn(t),p=>this.an(e,p).next(O=>{a&&(a=!!O),u.set(p,O)})).next(()=>{if(a){let p=Zi();const O=[];return Gt.forEach(u,(G,te)=>{var xe;Mn("IndexedDbIndexManager",`Using index ${xe=G,`id=${xe.indexId}|cg=${xe.collectionGroup}|f=${xe.fields.map(Ui=>`${Ui.fieldPath}:${Ui.kind}`).join(",")}`} to execute ${rn(t)}`);const ct=function(Ui,us){const Lo=E(us);if(void 0===Lo)return null;for(const Co of gi(Ui,Lo.fieldPath))switch(Co.op){case"array-contains-any":return Co.value.arrayValue.values||[];case"array-contains":return[Co.value]}return null}(te,G),Xt=function(Ui,us){const Lo=new Map;for(const Co of P(us))for(const ha of gi(Ui,Co.fieldPath))switch(ha.op){case"==":case"in":Lo.set(Co.fieldPath.canonicalString(),ha.value);break;case"not-in":case"!=":return Lo.set(Co.fieldPath.canonicalString(),ha.value),Array.from(Lo.values())}return null}(te,G),vn=function(Ui,us){const Lo=[];let Co=!0;for(const ha of P(us)){const wc=0===ha.kind?rr(Ui,ha.fieldPath,Ui.startAt):la(Ui,ha.fieldPath,Ui.startAt);Lo.push(wc.value),Co&&(Co=wc.inclusive)}return new zs(Lo,Co)}(te,G),Ln=function(Ui,us){const Lo=[];let Co=!0;for(const ha of P(us)){const wc=0===ha.kind?la(Ui,ha.fieldPath,Ui.endAt):rr(Ui,ha.fieldPath,Ui.endAt);Lo.push(wc.value),Co&&(Co=wc.inclusive)}return new zs(Lo,Co)}(te,G),Qn=this.hn(G,te,vn),si=this.hn(G,te,Ln),Yi=this.ln(G,te,Xt),Vr=this.fn(G.indexId,ct,Qn,vn.inclusive,si,Ln.inclusive,Yi);return Gt.forEach(Vr,Ui=>o.H(Ui,t.limit).next(us=>{us.forEach(Lo=>{const Co=y.fromSegments(Lo.documentKey);p.has(Co)||(p=p.add(Co),O.push(Co))})}))}).next(()=>O)}return Gt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wb(eo.create(e.filters,"and")).map(o=>Rt(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,p,O){const G=(null!=t?t.length:1)*Math.max(o.length,u.length),te=G/(null!=t?t.length:1),xe=[];for(let ct=0;ct<G;++ct){const Xt=t?this.dn(t[ct/te]):Xu,vn=this.wn(e,Xt,o[ct%te],a),Ln=this._n(e,Xt,u[ct%te],p),Qn=O.map(si=>this.wn(e,Xt,si,!0));xe.push(...this.createRange(vn,Ln,Qn))}return xe}wn(e,t,o,a){const u=new No(e,y.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new No(e,y.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Rf(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let p=null;for(const O of u)o.tn(O)&&(!p||O.fields.length>p.fields.length)&&(p=O);return p})}getIndexType(e,t){let o=2;const a=this.cn(t);return Gt.forEach(a,u=>this.an(e,u).next(p=>{p?0!==o&&p.fields.length<function(O){let G=new yr(Jt.comparator),te=!1;for(const xe of O.filters)for(const ct of xe.getFlattenedFilters())ct.field.isKeyField()||("array-contains"===ct.op||"array-contains-any"===ct.op?te=!0:G=G.add(ct.field));for(const xe of O.orderBy)xe.field.isKeyField()||(G=G.add(xe.field));return G.size+(te?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new Qu;for(const a of P(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const p=o.He(a.kind);od.Ve._e(u,p)}return o.Qe()}dn(e){const t=new Qu;return od.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new Qu;return od.Ve._e(L(this.databaseId,t),o.He(function(a){const u=P(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new Qu);let u=0;for(const p of P(e)){const O=o[u++];for(const G of a)if(this.yn(t,p.fieldPath)&&je(O))a=this.pn(a,p,O);else{const te=G.He(p.kind);od.Ve._e(O,te)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const p of o.arrayValue.values||[])for(const O of a){const G=new Qu;G.seed(O.Qe()),od.Ve._e(p,G.He(t.kind)),u.push(G)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof ur&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=em(e),a=Zd(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const p=[];return Gt.forEach(u,O=>a.get([O.indexId,this.uid]).next(G=>{p.push(function(te,xe){const ct=xe?new Et(xe.sequenceNumber,new Un(Tl(xe.readTime),new y(Ir(xe.documentKey)),xe.largestBatchId)):Et.empty(),Xt=te.fields.map(([vn,Ln])=>new ve(Jt.fromServerFormat(vn),Ln));return new T(te.indexId,te.collectionGroup,Xt,ct)}(O,G))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:b(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=em(e),u=Zd(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(O=>Gt.forEach(O,G=>u.put(qh(G.indexId,this.user,p,o)))))}updateIndexEntries(e,t){const o=new Map;return Gt.forEach(t,(a,u)=>{const p=o.get(a.collectionGroup);return(p?Gt.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(O=>(o.set(a.collectionGroup,O),Gt.forEach(O,G=>this.En(e,a,G).next(te=>{const xe=this.An(u,G);return te.isEqual(xe)?Gt.resolve():this.vn(e,u,G,te,xe)}))))})}Rn(e,t,o,a){return ad(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return ad(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=ad(e);let u=new yr(Sl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(p,O)=>{u=u.add(new No(o.indexId,t,O.arrayValue,O.directionalValue))}).next(()=>u)}An(e,t){let o=new yr(Sl);const a=this.mn(t,e);if(null==a)return o;const u=E(t);if(null!=u){const p=e.data.field(u.fieldPath);if(je(p))for(const O of p.arrayValue.values||[])o=o.add(new No(t.indexId,e.key,this.dn(O),a))}else o=o.add(new No(t.indexId,e.key,Xu,a));return o}vn(e,t,o,a,u){Mn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(O,G,te,xe,ct){const Xt=O.getIterator(),vn=G.getIterator();let Ln=Ua(Xt),Qn=Ua(vn);for(;Ln||Qn;){let si=!1,Yi=!1;if(Ln&&Qn){const Vr=te(Ln,Qn);Vr<0?Yi=!0:Vr>0&&(si=!0)}else null!=Ln?Yi=!0:si=!0;si?(xe(Qn),Qn=Ua(vn)):Yi?(ct(Ln),Ln=Ua(Xt)):(Ln=Ua(Xt),Qn=Ua(vn))}}(a,u,Sl,O=>{p.push(this.Rn(e,t,o,O))},O=>{p.push(this.Pn(e,t,o,O))}),Gt.waitFor(p)}Tn(e){let t=1;return Zd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((p,O)=>Sl(p,O)).filter((p,O,G)=>!O||0!==Sl(p,G[O-1]));const a=[];a.push(e);for(const p of o){const O=Sl(p,e),G=Sl(p,t);if(0===O)a[0]=e.Je();else if(O>0&&G<0)a.push(p),a.push(p.Je());else if(G>0)break}a.push(t);const u=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];u.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Xu,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Xu,[]]))}return u}bn(e,t){return Sl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bf)}getMinOffset(e,t){return Gt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||ti())).next(Bf)}}function Lf(r){return xs(r,"collectionParents")}function ad(r){return xs(r,"indexEntries")}function em(r){return xs(r,"indexConfiguration")}function Zd(r){return xs(r,"indexState")}function Bf(r){ai(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;ji(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Un(e.readTime,e.documentKey,t)}const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xa{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new xa(e,xa.DEFAULT_COLLECTION_PERCENTILE,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nm(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],p=IDBKeyRange.only(t.batchId);let O=0;const G=o.X({range:p},(xe,ct,Xt)=>(O++,Xt.delete()));u.push(G.next(()=>{ai(1===O)}));const te=[];for(const xe of t.mutations){const ct=hl(e,xe.key.path,t.batchId);u.push(a.delete(ct)),te.push(xe.key)}return Gt.waitFor(u).next(()=>te)}function im(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ti();e=r.noDocument}return JSON.stringify(e).length}xa.DEFAULT_COLLECTION_PERCENTILE=10,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xa.DEFAULT=new xa(41943040,xa.DEFAULT_COLLECTION_PERCENTILE,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xa.DISABLED=new xa(-1,0,0);class Yd{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){ai(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Yd(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return el(e).X({index:"userMutationsIndex",range:o},(a,u,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=nc(e),p=el(e);return p.add({}).next(O=>{ai("number"==typeof O);const G=new Hu(O,t,o,a),te=function(Xt,vn,Ln){const Qn=Ln.baseMutations.map(Yi=>mc(Xt.fe,Yi)),si=Ln.mutations.map(Yi=>mc(Xt.fe,Yi));return{userId:vn,batchId:Ln.batchId,localWriteTimeMs:Ln.localWriteTime.toMillis(),baseMutations:Qn,mutations:si}}(this.serializer,this.userId,G),xe=[];let ct=new yr((Xt,vn)=>b(Xt.canonicalString(),vn.canonicalString()));for(const Xt of a){const vn=hl(this.userId,Xt.key.path,O);ct=ct.add(Xt.key.path.popLast()),xe.push(p.put(te)),xe.push(u.put(vn,ml))}return ct.forEach(Xt=>{xe.push(this.indexManager.addToCollectionParentIndex(e,Xt))}),e.addOnCommittedListener(()=>{this.Vn[O]=G.keys()}),Gt.waitFor(xe).next(()=>G)})}lookupMutationBatch(e,t){return el(e).get(t).next(o=>o?(ai(o.userId===this.userId),Ml(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Gt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return el(e).X({index:"userMutationsIndex",range:a},(p,O,G)=>{O.userId===this.userId&&(ai(O.batchId>=o),u=Ml(this.serializer,O)),G.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return el(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,p)=>{o=u.batchId,p.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return el(e).j("userMutationsIndex",t).next(o=>o.map(a=>Ml(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Ls(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return nc(e).X({range:a},(p,O,G)=>{const[te,xe,ct]=p,Xt=Ir(xe);if(te===this.userId&&t.path.isEqual(Xt))return el(e).get(ct).next(vn=>{if(!vn)throw ti();ai(vn.userId===this.userId),u.push(Ml(this.serializer,vn))});G.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new yr(b);const a=[];return t.forEach(u=>{const p=Ls(this.userId,u.path),O=IDBKeyRange.lowerBound(p),G=nc(e).X({range:O},(te,xe,ct)=>{const[Xt,vn,Ln]=te,Qn=Ir(vn);Xt===this.userId&&u.path.isEqual(Qn)?o=o.add(Ln):ct.done()});a.push(G)}),Gt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=Ls(this.userId,o),p=IDBKeyRange.lowerBound(u);let O=new yr(b);return nc(e).X({range:p},(G,te,xe)=>{const[ct,Xt,vn]=G,Ln=Ir(Xt);ct===this.userId&&o.isPrefixOf(Ln)?Ln.length===a&&(O=O.add(vn)):xe.done()}).next(()=>this.Dn(e,O))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(el(e).get(u).next(p=>{if(null===p)throw ti();ai(p.userId===this.userId),o.push(Ml(this.serializer,p))}))}),Gt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return nm(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Gt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Gt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return nc(e).X({range:o},(u,p,O)=>{if(u[0]===this.userId){const G=Ir(u[1]);a.push(G)}else O.done()}).next(()=>{ai(0===a.length)})})}containsKey(e,t){return Uf(e,this.userId,t)}xn(e){return y_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Uf(r,e,t){const o=Ls(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let p=!1;return nc(r).X({range:u,Y:!0},(O,G,te)=>{const[xe,ct,Xt]=O;xe===e&&ct===a&&(p=!0),te.done()}).next(()=>p)}function el(r){return xs(r,"mutations")}function nc(r){return xs(r,"documentMutations")}function y_(r){return xs(r,"mutationQueues")}class tl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new tl(0)}static Mn(){return new tl(-1)}}class rm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new tl(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>le.fromTimestamp(new z(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(ai(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return qd(e).X((p,O)=>{const G=Kd(O);G.sequenceNumber<=t&&null===o.get(G.targetId)&&(a++,u.push(this.removeTargetData(e,G)))}).next(()=>Gt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return qd(e).X((o,a)=>{const u=Kd(a);t(u)})}$n(e){return om(e).get("targetGlobalKey").next(t=>(ai(null!==t),t))}On(e,t){return om(e).put("targetGlobalKey",t)}Fn(e,t){return qd(e).put(vb(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=rn(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return qd(e).X({range:a,index:"queryTargetsIndex"},(p,O,G)=>{const te=Kd(O);Nn(t,te.target)&&(u=te,G.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=pc(e);return t.forEach(p=>{const O=po(p.path);a.push(u.put({targetId:o,path:O})),a.push(this.referenceDelegate.addReference(e,o,p))}),Gt.waitFor(a)}removeMatchingKeys(e,t,o){const a=pc(e);return Gt.forEach(t,u=>{const p=po(u.path);return Gt.waitFor([a.delete([o,p]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=pc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=pc(e);let u=Zi();return a.X({range:o,Y:!0},(p,O,G)=>{const te=Ir(p[1]),xe=new y(te);u=u.add(xe)}).next(()=>u)}containsKey(e,t){const o=po(t.path),a=IDBKeyRange.bound([o],[M(o)],!1,!0);let u=0;return pc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,O],G,te)=>{0!==p&&(u++,te.done())}).next(()=>u>0)}le(e,t){return qd(e).get(t).next(o=>o?Kd(o):null)}}function qd(r){return xs(r,"targets")}function om(r){return xs(r,"targetGlobal")}function pc(r){return xs(r,"targetDocuments")}function Al([r,e],[t,o]){const a=b(r,t);return 0===a?b(e,o):a}class Vf{constructor(e){this.Ln=e,this.buffer=new yr(Al),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Al(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sm{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Mn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Os(o)?Mn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield co(o)}yield t.Qn(3e5)}))}}class Eb{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Gt.resolve(Rr.ct);const o=new Vf(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mn("LruGarbageCollector","Garbage collection skipped; disabled"),Gt.resolve(tm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Mn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,p,O,G,te;const xe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ct=>(ct>this.params.maximumSequenceNumbersToCollect?(Mn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ct}`),a=this.params.maximumSequenceNumbersToCollect):a=ct,p=Date.now(),this.nthSequenceNumber(e,a))).next(ct=>(o=ct,O=Date.now(),this.removeTargets(e,o,t))).next(ct=>(u=ct,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(ct=>(te=Date.now(),Pa()<=Ee.in.DEBUG&&Mn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-xe}ms\n\tDetermined least recently used ${a} in `+(O-p)+`ms\n\tRemoved ${u} targets in `+(G-O)+`ms\n\tRemoved ${ct} documents in `+(te-G)+`ms\nTotal Duration: ${te-xe}ms`),Gt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:ct})))}}class x_{constructor(e,t){this.db=e,this.garbageCollector=function w_(r,e){return new Eb(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return nl(e,o)}removeReference(e,t,o){return nl(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return nl(e,t)}Xn(e,t){return function(o,a){let u=!1;return y_(o).Z(p=>Uf(o,p,a).next(O=>(O&&(u=!0),Gt.resolve(!O)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(p,O)=>{if(O<=t){const G=this.Xn(e,p).next(te=>{if(!te)return u++,o.getEntry(e,p).next(()=>(o.removeEntry(p,le.min()),pc(e).delete([0,po(p.path)])))});a.push(G)}}).next(()=>Gt.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return nl(e,t)}Yn(e,t){const o=pc(e);let a,u=Rr.ct;return o.X({index:"documentTargetsIndex"},([p,O],{path:G,sequenceNumber:te})=>{0===p?(u!==Rr.ct&&t(new y(Ir(a)),u),u=te,a=G):u=Rr.ct}).next(()=>{u!==Rr.ct&&t(new y(Ir(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nl(r,e){return pc(r).put((o=r.currentSequenceNumber,{targetId:0,path:po(e.path),sequenceNumber:o}));var o}class E_{constructor(){this.changes=new Ac(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Gt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cb{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return cd(e).put(o)}removeEntry(e,t,o){return cd(e).delete(function(a,u){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],tc(u),p[p.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=Kr.newInvalidDocument(t);return cd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qd(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:Kr.newInvalidDocument(t)};return cd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qd(t))},(a,u)=>{o={document:this.ts(t,u),size:im(u)}}).next(()=>o)}getEntries(e,t){let o=Aa();return this.ns(e,t,(a,u)=>{const p=this.ts(a,u);o=o.insert(a,p)}).next(()=>o)}ss(e,t){let o=Aa(),a=new br(y.comparator);return this.ns(e,t,(u,p)=>{const O=this.ts(u,p);o=o.insert(u,O),a=a.insert(u,im(p))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return Gt.resolve();let a=new yr(Db);t.forEach(G=>a=a.add(G));const u=IDBKeyRange.bound(Qd(a.first()),Qd(a.last())),p=a.getIterator();let O=p.getNext();return cd(e).X({index:"documentKeyIndex",range:u},(G,te,xe)=>{const ct=y.fromSegments([...te.prefixPath,te.collectionGroup,te.documentId]);for(;O&&Db(O,ct)<0;)o(O,null),O=p.getNext();O&&O.isEqual(ct)&&(o(O,te),O=p.hasNext()?p.getNext():null),O?xe.G(Qd(O)):xe.done()}).next(()=>{for(;O;)o(O,null),O=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,p=[u.popLast().toArray(),u.lastSegment(),tc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],O=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cd(e).j(IDBKeyRange.bound(p,O,!0)).next(G=>{let te=Aa();for(const xe of G){const ct=this.ts(y.fromSegments(xe.prefixPath.concat(xe.collectionGroup,xe.documentId)),xe);ct.isFoundDocument()&&(ka(t,ct)||a.has(ct.key))&&(te=te.insert(ct.key,ct))}return te})}getAllFromCollectionGroup(e,t,o,a){let u=Aa();const p=am(t,o),O=am(t,Un.max());return cd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,O,!0)},(G,te,xe)=>{const ct=this.ts(y.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);u=u.insert(ct.key,ct),u.size===a&&xe.done()}).next(()=>u)}newChangeBuffer(e){return new jf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hf(e).get("remoteDocumentGlobalKey").next(t=>(ai(!!t),t))}Zn(e,t){return Hf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function _b(r,e){let t;if(e.document)t=Tf(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=y.fromSegments(e.noDocument.path),a=Tl(e.noDocument.readTime);t=Kr.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ti();{const o=y.fromSegments(e.unknownDocument.path),a=Tl(e.unknownDocument.version);t=Kr.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new z(o[0],o[1]);return le.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(le.min()))return o}return Kr.newInvalidDocument(e)}}function C_(r){return new Cb(r)}class jf extends E_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ac(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new yr((u,p)=>b(u.canonicalString(),p.canonicalString()));return this.changes.forEach((u,p)=>{const O=this.us.get(u);if(t.push(this.os.removeEntry(e,u,O.readTime)),p.isValidDocument()){const G=Yu(this.os.serializer,p);a=a.add(u.path.popLast());const te=im(G);o+=te-O.size,t.push(this.os.addEntry(e,u,G))}else if(o-=O.size,this.trackRemovals){const G=Yu(this.os.serializer,p.convertToNoDocument(le.min()));t.push(this.os.addEntry(e,u,G))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),Gt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,p)=>{this.us.set(u,{size:p,readTime:o.get(u).readTime})}),o))}}function Hf(r){return xs(r,"remoteDocumentGlobal")}function cd(r){return xs(r,"remoteDocumentsV14")}function Qd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function am(r,e){const t=e.documentKey.path.toArray();return[r,tc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Db(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=b(t[u],o[u]),a)return a;return a=b(t.length,o.length),a||(a=b(t[t.length-2],o[o.length-2]),a||b(t[t.length-1],o[o.length-1]))}class Ib{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D_{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&El(o.mutation,a,Bs.empty(),z.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Zi()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Zi()){const a=Oc();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let p=Uu();return u.forEach((O,G)=>{p=p.insert(O,G.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const o=Oc();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Zi()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((p,O)=>{t.set(p,O)})})}computeViews(e,t,o,a){let u=Aa();const p=Ys(),O=Ys();return t.forEach((G,te)=>{const xe=o.get(te.key);a.has(te.key)&&(void 0===xe||xe.mutation instanceof Yc)?u=u.insert(te.key,te):void 0!==xe?(p.set(te.key,xe.mutation.getFieldMask()),El(xe.mutation,te,xe.mutation.getFieldMask(),z.now())):p.set(te.key,Bs.empty())}),this.recalculateAndSaveOverlays(e,u).next(G=>(G.forEach((te,xe)=>p.set(te,xe)),t.forEach((te,xe)=>{var ct;return O.set(te,new Ib(xe,null!==(ct=p.get(te))&&void 0!==ct?ct:null))}),O))}recalculateAndSaveOverlays(e,t){const o=Ys();let a=new br((p,O)=>p-O),u=Zi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const O of p)O.keys().forEach(G=>{const te=t.get(G);if(null===te)return;let xe=o.get(G)||Bs.empty();xe=O.applyToLocalView(te,xe),o.set(G,xe);const ct=(a.get(O.batchId)||Zi()).add(G);a=a.insert(O.batchId,ct)})}).next(()=>{const p=[],O=a.getReverseIterator();for(;O.hasNext();){const G=O.getNext(),te=G.key,xe=G.value,ct=Vg();xe.forEach(Xt=>{if(!u.has(Xt)){const vn=ff(t.get(Xt),o.get(Xt));null!==vn&&ct.set(Xt,vn),u=u.add(Xt)}}),p.push(this.documentOverlayCache.saveOverlays(e,te,ct))}return Gt.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return y.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Gc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const p=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):Gt.resolve(Oc());let O=-1,G=u;return p.next(te=>Gt.forEach(te,(xe,ct)=>(O<ct.largestBatchId&&(O=ct.largestBatchId),u.get(xe)?Gt.resolve():this.remoteDocumentCache.getEntry(e,xe).next(Xt=>{G=G.insert(xe,Xt)}))).next(()=>this.populateOverlays(e,te,u)).next(()=>this.computeViews(e,G,te,Zi())).next(xe=>({batchId:O,changes:cf(xe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new y(t)).next(o=>{let a=Uu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=Uu();return this.indexManager.getCollectionParents(e,a).next(p=>Gt.forEach(p,O=>{const G=(te=t,xe=O.child(a),new ia(xe,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,xe;return this.getDocumentsMatchingCollectionQuery(e,G,o).next(te=>{te.forEach((xe,ct)=>{u=u.insert(xe,ct)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((O,G)=>{const te=G.getKey();null===u.get(te)&&(u=u.insert(te,Kr.newInvalidDocument(te)))});let p=Uu();return u.forEach((O,G)=>{const te=a.get(O);void 0!==te&&El(te.mutation,G,Bs.empty(),z.now()),ka(t,G)&&(p=p.insert(O,G))}),p})}}class Tb{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Gt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Go(o.createTime)}),Gt.resolve()}getNamedQuery(e,t){return Gt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:m_(o.bundledQuery),readTime:Go(o.readTime)}),Gt.resolve();var o}}class p0{constructor(){this.overlays=new br(y.comparator),this.ls=new Map}getOverlay(e,t){return Gt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Oc();return Gt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),Gt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),Gt.resolve()}getOverlaysForCollection(e,t,o){const a=Oc(),u=t.length+1,p=new y(t.child("")),O=this.overlays.getIteratorFrom(p);for(;O.hasNext();){const G=O.getNext().value,te=G.getKey();if(!t.isPrefixOf(te.path))break;te.path.length===u&&G.largestBatchId>o&&a.set(G.getKey(),G)}return Gt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new br((te,xe)=>te-xe);const p=this.overlays.getIterator();for(;p.hasNext();){const te=p.getNext().value;if(te.getKey().getCollectionGroup()===t&&te.largestBatchId>o){let xe=u.get(te.largestBatchId);null===xe&&(xe=Oc(),u=u.insert(te.largestBatchId,xe)),xe.set(te.getKey(),te)}}const O=Oc(),G=u.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((te,xe)=>O.set(te,xe)),!(O.size()>=a)););return Gt.resolve(O)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new vf(t,o));let u=this.ls.get(t);void 0===u&&(u=Zi(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class I_{constructor(){this.fs=new yr(Rs.ds),this.ws=new yr(Rs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Rs(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Rs(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new y(new nt([])),o=new Rs(t,e),a=new Rs(t,e+1),u=[];return this.ws.forEachInRange([o,a],p=>{this.ys(p),u.push(p.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new y(new nt([])),o=new Rs(t,e),a=new Rs(t,e+1);let u=Zi();return this.ws.forEachInRange([o,a],p=>{u=u.add(p.key)}),u}containsKey(e){const t=new Rs(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Rs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return y.comparator(e.key,t.key)||b(e.As,t.As)}static _s(e,t){return b(e.As,t.As)||y.comparator(e.key,t.key)}}class Mb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new yr(Rs.ds)}checkEmpty(e){return Gt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const p=new Hu(u,t,o,a);this.mutationQueue.push(p);for(const O of a)this.Rs=this.Rs.add(new Rs(O.key,u)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return Gt.resolve(p)}lookupMutationBatch(e,t){return Gt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return Gt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Gt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Rs(t,0),a=new Rs(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],p=>{const O=this.Ps(p.As);u.push(O)}),Gt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new yr(b);return t.forEach(a=>{const u=new Rs(a,0),p=new Rs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,p],O=>{o=o.add(O.As)})}),Gt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;y.isDocumentKey(u)||(u=u.child(""));const p=new Rs(new y(u),0);let O=new yr(b);return this.Rs.forEachWhile(G=>{const te=G.key.path;return!!o.isPrefixOf(te)&&(te.length===a&&(O=O.add(G.As)),!0)},p),Gt.resolve(this.Vs(O))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){ai(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Gt.forEach(t.mutations,a=>{const u=new Rs(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Rs(t,0),a=this.Rs.firstAfterOrEqual(o);return Gt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Gt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zf{constructor(e){this.Ds=e,this.docs=new br(y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p}),this.size+=p-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Gt.resolve(o?o.document.mutableCopy():Kr.newInvalidDocument(t))}getEntries(e,t){let o=Aa();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():Kr.newInvalidDocument(a))}),Gt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=Aa();const p=t.path,O=new y(p.child("")),G=this.docs.getIteratorFrom(O);for(;G.hasNext();){const{key:te,value:{document:xe}}=G.getNext();if(!p.isPrefixOf(te.path))break;te.path.length>p.length+1||ji(Jn(xe),o)<=0||(a.has(xe.key)||ka(t,xe))&&(u=u.insert(xe.key,xe.mutableCopy()))}return Gt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){ti()}Cs(e,t){return Gt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new $f(this)}getSize(e){return Gt.resolve(this.size)}}class $f extends E_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),Gt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ju{constructor(e){this.persistence=e,this.xs=new Ac(t=>rn(t),Nn),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Ns=0,this.ks=new I_,this.targetCount=0,this.Ms=tl.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),Gt.resolve()}getLastRemoteSnapshotVersion(e){return Gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Gt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Gt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Gt.resolve()}updateTargetData(e,t){return this.Fn(t),Gt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Gt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((p,O)=>{O.sequenceNumber<=t&&null===o.get(O.targetId)&&(this.xs.delete(p),u.push(this.removeMatchingKeysForTargetId(e,O.targetId)),a++)}),Gt.waitFor(u).next(()=>a)}getTargetCount(e){return Gt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Gt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Gt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(p=>{u.push(a.markPotentiallyOrphaned(e,p))}),Gt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Gt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Gt.resolve(o)}containsKey(e,t){return Gt.resolve(this.ks.containsKey(t))}}class eh{constructor(e,t){this.$s={},this.overlays={},this.Os=new Rr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ju(this),this.indexManager=new uo,this.remoteDocumentCache=new zf(o=>this.referenceDelegate.Ls(o)),this.serializer=new h_(t),this.qs=new Tb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Mb(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Mn("MemoryPersistence","Starting transaction:",e);const a=new Gf(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return Gt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Gf extends Eo{constructor(e){super(),this.currentSequenceNumber=e}}class Ol{constructor(e){this.persistence=e,this.Qs=new I_,this.js=null}static zs(e){return new Ol(e)}get Ws(){if(this.js)return this.js;throw ti()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Gt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Gt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Gt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gt.forEach(this.Ws,o=>{const a=y.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,le.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Gt.or([()=>Gt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class th{constructor(e){this.serializer=e}O(e,t,o,a){const u=new bs("createOrUpgrade",t);var O;o<1&&a>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ya,{unique:!0}),O.createObjectStore("documentMutations"),Wf(e),function(O){O.createObjectStore("remoteDocuments")}(e));let p=Gt.resolve();return o<3&&a>=3&&(0!==o&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),Wf(e)),p=p.next(()=>function(O){const G=O.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:le.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",te)}(u))),o<4&&a>=4&&(0!==o&&(p=p.next(()=>function(O,G){return G.store("mutations").j().next(te=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ya,{unique:!0});const xe=G.store("mutations"),ct=te.map(Xt=>xe.put(Xt));return Gt.waitFor(ct)})}(e,u))),p=p.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(p=p.next(()=>this.Ys(u))),o<6&&a>=6&&(p=p.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(p=p.next(()=>this.Zs(u))),o<8&&a>=8&&(p=p.next(()=>this.ti(e,u))),o<9&&a>=9&&(p=p.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(p=p.next(()=>this.ei(u))),o<11&&a>=11&&(p=p.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(p=p.next(()=>{!function(O){const G=O.createObjectStore("documentOverlays",{keyPath:Ka});G.createIndex("collectionPathOverlayIndex",Pu,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Zl,{unique:!1})}(e)})),o<13&&a>=13&&(p=p.next(()=>function(O){const G=O.createObjectStore("remoteDocumentsV14",{keyPath:fl});G.createIndex("documentKeyIndex",pl),G.createIndex("collectionGroupIndex",Gl)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(p=p.next(()=>this.si(e,u))),o<15&&a>=15&&(p=p.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:Wl}).createIndex("sequenceNumberIndex",Kl,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:Bh}).createIndex("documentKeyIndex",gl,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=im(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>Gt.forEach(a,u=>{const p=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",p).next(O=>Gt.forEach(O,G=>{ai(G.userId===u.userId);const te=Ml(this.serializer,G);return nm(e,u.userId,te).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((p,O)=>{const G=new nt(p),te=[0,po(G)];u.push(t.get(te).next(xe=>xe?Gt.resolve():t.put({targetId:0,path:po(G),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Gt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Cc});const o=t.store("collectionParents"),a=new sd,u=p=>{if(a.add(p)){const O=p.lastSegment(),G=p.popLast();return o.put({collectionId:O,parent:po(G)})}};return t.store("remoteDocuments").X({Y:!0},(p,O)=>{const G=new nt(p);return u(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,O,G],te)=>{const xe=Ir(O);return u(xe.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=Kd(a),p=vb(this.serializer,u);return t.put(p)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,p)=>{const O=t.store("remoteDocumentsV14"),G=(te=p,te.document?new y(nt.fromString(te.document.name).popFirst(5)):te.noDocument?y.fromSegments(te.noDocument.path):te.unknownDocument?y.fromSegments(te.unknownDocument.path):ti()).path.toArray();var te;const xe={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(O.put(xe))}).next(()=>Gt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=C_(this.serializer),u=new eh(Ol.zs,this.serializer.fe);return o.j().next(p=>{const O=new Map;return p.forEach(G=>{var te;let xe=null!==(te=O.get(G.userId))&&void 0!==te?te:Zi();Ml(this.serializer,G).keys().forEach(ct=>xe=xe.add(ct)),O.set(G.userId,xe)}),Gt.forEach(O,(G,te)=>{const xe=new xo(te),ct=Qh.de(this.serializer,xe),Xt=u.getIndexManager(xe),vn=Yd.de(xe,this.serializer,Xt,u.referenceDelegate);return new D_(a,vn,ct,Xt).recalculateAndSaveOverlaysForDocumentKeys(new ql(t,Rr.ct),G).next()})})}}function Wf(r){r.createObjectStore("targetDocuments",{keyPath:Lh}).createIndex("documentTargetsIndex",Ru,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",La,{unique:!0}),r.createObjectStore("targetGlobal")}const nh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xd{constructor(e,t,o,a,u,p,O,G,te,xe,ct=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=p,this.document=O,this.ri=te,this.oi=xe,this.ui=ct,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Xt=>Promise.resolve(),!Xd.D())throw new En(nn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x_(this,a),this.di=t+"main",this.serializer=new h_(G),this.wi=new Po(this.di,this.ui,new th(this.serializer)),this.Bs=new rm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C_(this.serializer),this.qs=new f0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===xe&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new En(nn.FAILED_PRECONDITION,nh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Rr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,Ae.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ae.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Os(e))return Mn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return cm(e).get("owner").next(t=>Gt.resolve(this.Ri(t)))}Pi(e){return Jd(e).delete(this.clientId)}bi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=xs(o,"clientMetadata");return a.j().next(u=>{const p=e.Si(u,18e5),O=u.filter(G=>-1===p.indexOf(G));return Gt.forEach(O,G=>a.delete(G.clientId)).next(()=>O)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Gt.resolve(!0):cm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new En(nn.FAILED_PRECONDITION,nh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Mn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new ql(t,Rr.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Jd(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Yd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new b_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Mn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(p=this.ui)?Hc:14===p?Yl:13===p?Rd:12===p?Za:11===p?_l:void ti();var p;let O;return this.wi.runTransaction(e,a,u,G=>(O=new ql(G,this.Os?this.Os.next():Rr.ct),"readwrite-primary"===t?this.Ti(O).next(te=>!!te||this.Ei(O)).next(te=>{if(!te)throw vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new En(nn.FAILED_PRECONDITION,Or);return o(O)}).next(te=>this.vi(O).next(()=>te)):this.Oi(O).next(()=>o(O)))).then(G=>(O.raiseOnCommittedEvent(),G))}Oi(e){return cm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new En(nn.FAILED_PRECONDITION,nh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cm(e).put("owner",t)}static D(){return Po.D()}Ai(e){const t=cm(e);return t.get("owner").next(o=>this.Ri(o)?(Mn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Gt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(vr(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,he.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Mn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return vr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cm(r){return xs(r,"owner")}function Jd(r){return xs(r,"clientMetadata")}function ih(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class lm{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=Zi(),a=Zi();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new lm(e,t.fromCache,o,a)}}class T_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Bu(t))return Gt.resolve(null);let o=$s(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ec(t,null,"F"),o=$s(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const p=Zi(...u);return this.Ui.getDocuments(e,p).next(O=>this.indexManager.getMinOffset(e,o).next(G=>{const te=this.ji(t,O);return this.zi(t,te,p,G.readTime)?this.Ki(e,ec(t,null,"F")):this.Wi(e,te,t,G)}))})))}Gi(e,t,o,a){return Bu(t)||a.isEqual(le.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const p=this.ji(t,u);return this.zi(t,p,o,a)?this.Qi(e,t):(Pa()<=Ee.in.DEBUG&&Mn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xl(t)),this.Wi(e,p,t,_n(a,-1)))})}ji(e,t){let o=new yr(Bg(e));return t.forEach((a,u)=>{ka(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return Pa()<=Ee.in.DEBUG&&Mn("QueryEngine","Using full collection scan to execute query:",xl(t)),this.Ui.getDocumentsMatchingQuery(e,t,Un.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(p=>{u=u.insert(p.key,p)}),u))}}class Sb{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new br(b),this.Yi=new Ac(u=>rn(u),Nn),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Kf(r,e,t,o){return new Sb(r,e,t,o)}function Zf(r,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,Ae.Z)(function*(r,e){const t=Bn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const p=[],O=[];let G=Zi();for(const te of a){p.push(te.batchId);for(const xe of te.mutations)G=G.add(xe.key)}for(const te of u){O.push(te.batchId);for(const xe of te.mutations)G=G.add(xe.key)}return t.localDocuments.getDocuments(o,G).next(te=>({er:te,removedBatchIds:p,addedBatchIds:O}))})})}),Yf.apply(this,arguments)}function Ab(r){const e=Bn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dm(r,e,t){let o=Zi(),a=Zi();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let p=Aa();return t.forEach((O,G)=>{const te=u.get(O);G.isFoundDocument()!==te.isFoundDocument()&&(a=a.add(O)),G.isNoDocument()&&G.version.isEqual(le.min())?(e.removeEntry(O,G.readTime),p=p.insert(O,G)):!te.isValidDocument()||G.version.compareTo(te.version)>0||0===G.version.compareTo(te.version)&&te.hasPendingWrites?(e.addEntry(G),p=p.insert(O,G)):Mn("LocalStore","Ignoring outdated watch update for ",O,". Current version:",te.version," Watch version:",G.version)}),{nr:p,sr:a}})}function qf(r,e){const t=Bn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function eu(r,e){const t=Bn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,Gt.resolve(a)):t.Bs.allocateTargetId(o).next(p=>(a=new Jc(e,p,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function dd(r,e,t){return rh.apply(this,arguments)}function rh(){return rh=(0,Ae.Z)(function*(r,e,t){const o=Bn(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,p=>o.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Os(p))throw p;Mn("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),rh.apply(this,arguments)}function ud(r,e,t){const o=Bn(r);let a=le.min(),u=Zi();return o.persistence.runTransaction("Execute query","readonly",p=>function(O,G,te){const xe=Bn(O),ct=xe.Yi.get(te);return void 0!==ct?Gt.resolve(xe.Ji.get(ct)):xe.Bs.getTargetData(G,te)}(o,p,$s(e)).next(O=>{if(O)return a=O.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(p,O.targetId).next(G=>{u=G})}).next(()=>o.Hi.getDocumentsMatchingQuery(p,e,t?a:le.min(),t?u:Zi())).next(O=>(S_(o,Lg(e),O),{documents:O,ir:u})))}function M_(r,e){const t=Bn(r),o=Bn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(p=>p?p.target:null))}function Qf(r,e){const t=Bn(r),o=t.Xi.get(e)||le.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,_n(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(S_(t,e,a),a))}function S_(r,e,t){let o=r.Xi.get(e)||le.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function A_(){return A_=(0,Ae.Z)(function*(r,e,t,o){const a=Bn(r);let u=Zi(),p=Aa();for(const te of t){const xe=e.rr(te.metadata.name);te.document&&(u=u.add(xe));const ct=e.ur(te);ct.setReadTime(e.cr(te.metadata.readTime)),p=p.insert(xe,ct)}const O=a.Zi.newChangeBuffer({trackRemovals:!0}),G=yield eu(a,(te=o,$s(bl(nt.fromString(`__bundle__/docs/${te}`)))));var te;return a.persistence.runTransaction("Apply bundle documents","readwrite",te=>dm(te,O,p).next(xe=>(O.apply(te),xe)).next(xe=>a.Bs.removeMatchingKeysForTargetId(te,G.targetId).next(()=>a.Bs.addMatchingKeys(te,u,G.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(te,xe.nr,xe.sr)).next(()=>xe.nr)))}),A_.apply(this,arguments)}function Rb(r,e){return hd.apply(this,arguments)}function hd(){return hd=(0,Ae.Z)(function*(r,e,t=Zi()){const o=yield eu(r,$s(m_(e.bundledQuery))),a=Bn(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const p=Go(e.readTime);if(o.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(u,e);const O=o.withResumeToken(qo.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(O.targetId,O),a.Bs.updateTargetData(u,O).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),hd.apply(this,arguments)}function O_(r,e){return`firestore_clients_${r}_${e}`}function md(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function fd(r,e){return`firestore_targets_${r}_${e}`}class um{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(u=new En(a.error.code,a.error.message))),p?new um(e,t,a.state,u):(vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new En(o.error.code,o.error.message))),u?new tu(e,o.state,a):(vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=Xl();for(let p=0;a&&p<o.activeTargetIds.length;++p)a=Wa(o.activeTargetIds[p]),u=u.add(o.activeTargetIds[p]);return a?new hm(e,u):(vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xf(t.clientId,t.onlineState):(vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jf{constructor(){this.activeTargetIds=Xl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mm{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new br(b),this.started=!1,this.yr=[];const p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=O_(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Jf),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(O_(e.persistenceKey,a));if(u){const p=hm.ar(a,u);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(fd(this.persistenceKey,e));if(o){const a=tu.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fd(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mn("SharedClientState","READ",e,t),t}setItem(e,t){Mn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Mn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let p=Rr.ct;if(null!=u)try{const O=JSON.parse(u);ai("number"==typeof O),p=O}catch(O){vr("SharedClientState","Failed to read sequence number from WebStorage",O)}return p}(o.newValue);a!==Rr.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new um(this.currentUser,e,t,o),u=md(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=md(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=fd(this.persistenceKey,e),u=new tu(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return hm.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return um.ar(new xo(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return tu.ar(a,t)}br(e){return Xf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Mn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),p=[],O=[];return u.forEach(G=>{a.has(G)||p.push(G)}),a.forEach(G=>{u.has(G)||O.push(G)}),this.syncEngine.Wr(p,O).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Xl();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class ep{constructor(){this.Hr=new Jf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tp{Yr(e){}shutdown(){}}class nu{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Mn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let oh=null;function R_(){return null===oh?oh=268435456+Math.round(2147483648*Math.random()):oh++,"0x"+oh.toString(16)}const np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gs="WebChannelConnection";class P_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const p=R_(),O=this.To(e,t);Mn("RestConnection",`Sending RPC '${e}' ${p}:`,O,o);const G={};return this.Eo(G,a,u),this.Ao(e,O,G,o).then(te=>(Mn("RestConnection",`Received RPC '${e}' ${p}: `,te),te),te=>{throw Ms("RestConnection",`RPC '${e}' ${p} failed with error: `,te,"url: ",O,"request:",o),te})}vo(e,t,o,a,u,p){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+vs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${np[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=R_();return new Promise((p,O)=>{const G=new cc;G.setWithCredentials(!0),G.listenOnce(Zs.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Oo.NO_ERROR:const xe=G.getResponseJson();Mn(Gs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(xe)),p(xe);break;case Oo.TIMEOUT:Mn(Gs,`RPC '${e}' ${u} timed out`),O(new En(nn.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:const ct=G.getStatus();if(Mn(Gs,`RPC '${e}' ${u} failed with status:`,ct,"response text:",G.getResponseText()),ct>0){let Xt=G.getResponseJson();Array.isArray(Xt)&&(Xt=Xt[0]);const vn=Xt?.error;if(vn&&vn.status&&vn.message){const Ln=function(Qn){const si=Qn.toLowerCase().replace(/_/g,"-");return Object.values(nn).indexOf(si)>=0?si:nn.UNKNOWN}(vn.status);O(new En(Ln,vn.message))}else O(new En(nn.UNKNOWN,"Server responded with status "+G.getStatus()))}else O(new En(nn.UNAVAILABLE,"Connection failed."));break;default:ti()}}finally{Mn(Gs,`RPC '${e}' ${u} completed.`)}});const te=JSON.stringify(a);Mn(Gs,`RPC '${e}' ${u} sending request:`,a),G.send(t,"POST",te,o,15)})}Ro(e,t,o){const a=R_(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Wr(),O=sa(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},te=this.longPollingOptions.timeoutSeconds;void 0!==te&&(G.longPollingTimeout=Math.round(1e3*te)),this.useFetchStreams&&(G.xmlHttpFactory=new Uc({})),this.Eo(G.initMessageHeaders,t,o),G.encodeInitMessageHeaders=!0;const xe=u.join("");Mn(Gs,`Creating RPC '${e}' stream ${a}: ${xe}`,G);const ct=p.createWebChannel(xe,G);let Xt=!1,vn=!1;const Ln=new iu({ro:si=>{vn?Mn(Gs,`Not sending because RPC '${e}' stream ${a} is closed:`,si):(Xt||(Mn(Gs,`Opening RPC '${e}' stream ${a} transport.`),ct.open(),Xt=!0),Mn(Gs,`RPC '${e}' stream ${a} sending:`,si),ct.send(si))},oo:()=>ct.close()}),Qn=(si,Yi,Vr)=>{si.listen(Yi,Ui=>{try{Vr(Ui)}catch(us){setTimeout(()=>{throw us},0)}})};return Qn(ct,_a.EventType.OPEN,()=>{vn||Mn(Gs,`RPC '${e}' stream ${a} transport opened.`)}),Qn(ct,_a.EventType.CLOSE,()=>{vn||(vn=!0,Mn(Gs,`RPC '${e}' stream ${a} transport closed`),Ln.wo())}),Qn(ct,_a.EventType.ERROR,si=>{vn||(vn=!0,Ms(Gs,`RPC '${e}' stream ${a} transport errored:`,si),Ln.wo(new En(nn.UNAVAILABLE,"The operation could not be completed")))}),Qn(ct,_a.EventType.MESSAGE,si=>{var Yi;if(!vn){const Vr=si.data[0];ai(!!Vr);const us=Vr.error||(null===(Yi=Vr[0])||void 0===Yi?void 0:Yi.error);if(us){Mn(Gs,`RPC '${e}' stream ${a} received error:`,us);const Lo=us.status;let Co=function(wc){const Au=$o[wc];if(void 0!==Au)return Qg(Au)}(Lo),ha=us.message;void 0===Co&&(Co=nn.INTERNAL,ha="Unknown error status: "+Lo+" with message "+us.message),vn=!0,Ln.wo(new En(Co,ha)),ct.close()}else Mn(Gs,`RPC '${e}' stream ${a} received:`,Vr),Ln._o(Vr)}}),Qn(O,cs.STAT_EVENT,si=>{si.stat===Ts.PROXY?Mn(Gs,`RPC '${e}' stream ${a} detected buffering proxy`):si.stat===Ts.NOPROXY&&Mn(Gs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ln.fo()},0),Ln}}function ip(){return typeof window<"u"?window:null}function fm(){return typeof document<"u"?document:null}function sh(r){return new hb(r,!0)}class rp{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&Mn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F_{constructor(e,t,o,a,u,p,O,G){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=O,this.listener=G,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new rp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ae.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ae.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,Ae.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===nn.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===nn.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new En(nn.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Ae.Z)(function*(){e.state=0,e.start()}))}tu(e){return Mn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Mn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pb extends F_{constructor(e,t,o,a,u,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,p),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function s_(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:ti(),a=e.targetChange.targetIds||[],u=function(G,te){return G.useProto3Json?(ai(void 0===te||"string"==typeof te),qo.fromBase64String(te||"")):(ai(void 0===te||te instanceof Uint8Array),qo.fromUint8Array(te||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,O=p&&function(G){const te=void 0===G.code?nn.UNKNOWN:Qg(G.code);return new En(te,G.message||"")}(p);t=new Gu(o,a,u,O||null)}else if("documentChange"in e){const o=e.documentChange,a=Rc(r,o.document.name),u=Go(o.document.updateTime),p=o.document.createTime?Go(o.document.createTime):le.min(),O=new mr({mapValue:{fields:o.document.fields}}),G=Kr.newFoundDocument(a,u,p,O);t=new $u(o.targetIds||[],o.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const o=e.documentDelete,a=Rc(r,o.document),u=o.readTime?Go(o.readTime):le.min(),p=Kr.newNoDocument(a,u);t=new $u([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,a=Rc(r,o.document);t=new $u([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ti();{const o=e.filter,{count:a=0,unchangedNames:u}=o,p=new qg(a,u);t=new Gh(o.targetId,p)}}var G;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return le.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?le.min():u.readTime?Go(u.readTime):le.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Qc(this.serializer),t.addTarget=function(a,u){let p;const O=u.target;if(p=ni(O)?{documents:a_(a,O)}:{query:Sf(a,O)},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=Wu(a,u.resumeToken);const G=Wh(a,u.expectedCount);null!==G&&(p.expectedCount=G)}else if(u.snapshotVersion.compareTo(le.min())>0){p.readTime=id(a,u.snapshotVersion.toTimestamp());const G=Wh(a,u.expectedCount);null!==G&&(p.expectedCount=G)}return p}(this.serializer,e);const o=function Xc(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ti()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Qc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fb extends F_{constructor(e,t,o,a,u,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,p),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ai(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function mb(r,e){return r&&r.length>0?(ai(void 0!==e),r.map(t=>function(o,a){let u=Go(o.updateTime?o.updateTime:a);return u.isEqual(le.min())&&(u=Go(a)),new mf(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Go(e.commitTime);return this.listener.cu(o,t)}return ai(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Qc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>mc(this.serializer,o))};this.Wo(t)}}class N_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new En(nn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new En(nn.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.vo(e,t,o,u,p,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new En(nn.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class L_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(vr(t),this.mu=!1):Mn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g0{constructor(e,t,o,a,u){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(O=>{o.enqueueAndForget((0,Ae.Z)(function*(){var G;il(p)&&(Mn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,Ae.Z)(function*(te){const xe=Bn(te);xe.vu.add(4),yield ch(xe),xe.bu.set("Unknown"),xe.vu.delete(4),yield ah(xe)}),function(te){return G.apply(this,arguments)})(p))}))}),this.bu=new L_(o,a)}}function ah(r){return B_.apply(this,arguments)}function B_(){return B_=(0,Ae.Z)(function*(r){if(il(r))for(const e of r.Ru)yield e(!0)}),B_.apply(this,arguments)}function ch(r){return pm.apply(this,arguments)}function pm(){return pm=(0,Ae.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),pm.apply(this,arguments)}function lh(r,e){const t=Bn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bm(t)?vm(t):_d(t).Ko()&&_m(t,e))}function gm(r,e){const t=Bn(r),o=_d(t);t.Au.delete(e),o.Ko()&&dh(t,e),0===t.Au.size&&(o.Ko()?o.jo():il(t)&&t.bu.set("Unknown"))}function _m(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_d(r).su(e)}function dh(r,e){r.Vu.qt(e),_d(r).iu(e)}function vm(r){r.Vu=new Cf({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),_d(r).start(),r.bu.gu()}function bm(r){return il(r)&&!_d(r).Uo()&&r.Au.size>0}function il(r){return 0===Bn(r).vu.size}function zi(r){r.Vu=void 0}function U_(r){return ym.apply(this,arguments)}function ym(){return ym=(0,Ae.Z)(function*(r){r.Au.forEach((e,t)=>{_m(r,e)})}),ym.apply(this,arguments)}function _0(r,e){return op.apply(this,arguments)}function op(){return op=(0,Ae.Z)(function*(r,e){zi(r),bm(r)?(r.bu.Iu(e),vm(r)):r.bu.set("Unknown")}),op.apply(this,arguments)}function V_(r,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,Ae.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Gu&&2===e.state&&e.cause)try{yield(o=(0,Ae.Z)(function*(a,u){const p=u.cause;for(const O of u.targetIds)a.Au.has(O)&&(yield a.remoteSyncer.rejectListen(O,p),a.Au.delete(O),a.Vu.removeTarget(O))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){Mn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wm(r,o)}else if(e instanceof $u?r.Vu.Ht(e):e instanceof Gh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(le.min()))try{const o=yield Ab(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const p=a.Vu.ce(u);return p.targetChanges.forEach((O,G)=>{if(O.resumeToken.approximateByteSize()>0){const te=a.Au.get(G);te&&a.Au.set(G,te.withResumeToken(O.resumeToken,u))}}),p.targetMismatches.forEach((O,G)=>{const te=a.Au.get(O);if(!te)return;a.Au.set(O,te.withResumeToken(qo.EMPTY_BYTE_STRING,te.snapshotVersion)),dh(a,O);const xe=new Jc(te.target,O,G,te.sequenceNumber);_m(a,xe)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(o){Mn("RemoteStore","Failed to raise snapshot:",o),yield wm(r,o)}var o}),sp.apply(this,arguments)}function wm(r,e,t){return xm.apply(this,arguments)}function xm(){return xm=(0,Ae.Z)(function*(r,e,t){if(!Os(e))throw e;r.vu.add(1),yield ch(r),r.bu.set("Offline"),t||(t=()=>Ab(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Mn("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield ah(r)}))}),xm.apply(this,arguments)}function j_(r,e){return e().catch(t=>wm(r,t,e))}function pd(r){return ap.apply(this,arguments)}function ap(){return ap=(0,Ae.Z)(function*(r){const e=Bn(r),t=Pc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Nb(e);)try{const a=yield qf(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,v0(e,a)}catch(a){yield wm(e,a)}cp(e)&&lp(e)}),ap.apply(this,arguments)}function Nb(r){return il(r)&&r.Eu.length<10}function v0(r,e){r.Eu.push(e);const t=Pc(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function cp(r){return il(r)&&!Pc(r).Uo()&&r.Eu.length>0}function lp(r){Pc(r).start()}function Rl(r){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,Ae.Z)(function*(r){Pc(r).hu()}),Pl.apply(this,arguments)}function H_(r){return dp.apply(this,arguments)}function dp(){return dp=(0,Ae.Z)(function*(r){const e=Pc(r);for(const t of r.Eu)e.uu(t.mutations)}),dp.apply(this,arguments)}function Em(r,e,t){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,Ae.Z)(function*(r,e,t){const o=r.Eu.shift(),a=_f.from(o,e,t);yield j_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield pd(r)}),Fl.apply(this,arguments)}function up(r,e){return gd.apply(this,arguments)}function gd(){return gd=(0,Ae.Z)(function*(r,e){var t;e&&Pc(r).ou&&(yield(t=(0,Ae.Z)(function*(o,a){if(yf(u=a.code)&&u!==nn.ABORTED){const p=o.Eu.shift();Pc(o).Qo(),yield j_(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield pd(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),cp(r)&&lp(r)}),gd.apply(this,arguments)}function hp(r,e){return uh.apply(this,arguments)}function uh(){return uh=(0,Ae.Z)(function*(r,e){const t=Bn(r);t.asyncQueue.verifyOperationInProgress(),Mn("RemoteStore","RemoteStore received new credentials");const o=il(t);t.vu.add(3),yield ch(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ah(t)}),uh.apply(this,arguments)}function hh(r,e){return mh.apply(this,arguments)}function mh(){return mh=(0,Ae.Z)(function*(r,e){const t=Bn(r);e?(t.vu.delete(2),yield ah(t)):e||(t.vu.add(2),yield ch(t),t.bu.set("Unknown"))}),mh.apply(this,arguments)}function _d(r){return r.Su||(r.Su=function(e,t,o){const a=Bn(e);return a.fu(),new Pb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:U_.bind(null,r),ao:_0.bind(null,r),nu:V_.bind(null,r)}),r.Ru.push(function(){var e=(0,Ae.Z)(function*(t){t?(r.Su.Qo(),bm(r)?vm(r):r.bu.set("Unknown")):(yield r.Su.stop(),zi(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Pc(r){return r.Du||(r.Du=function(e,t,o){const a=Bn(e);return a.fu(),new Fb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:Rl.bind(null,r),ao:up.bind(null,r),au:H_.bind(null,r),cu:Em.bind(null,r)}),r.Ru.push(function(){var e=(0,Ae.Z)(function*(t){t?(r.Du.Qo(),yield pd(r)):(yield r.Du.stop(),r.Eu.length>0&&(Mn("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class mp{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,o,a,u){const p=Date.now()+o,O=new mp(e,t,p,a,u);return O.start(o),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new En(nn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(r,e){if(vr("AsyncQueue",`${e}: ${r}`),Os(r))return new En(nn.UNAVAILABLE,`${e}: ${r}`);throw r}class su{constructor(e){this.comparator=e?(t,o)=>e(t,o)||y.comparator(t.key,o.key):(t,o)=>y.comparator(t.key,o.key),this.keyedMap=Uu(),this.sortedSet=new br(this.comparator)}static emptySet(e){return new su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new su;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class fp{constructor(){this.Cu=new br(y.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ti():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class au{constructor(e,t,o,a,u,p,O,G,te){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=p,this.syncStateChanged=O,this.excludesMetadataChanges=G,this.hasCachedResults=te}static fromInitialDocuments(e,t,o,a,u){const p=[];return t.forEach(O=>{p.push({type:0,doc:O})}),new au(e,t,su.emptySet(t),p,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class Lb{constructor(){this.Nu=void 0,this.listeners=[]}}class Bb{constructor(){this.queries=new Ac(e=>Wc(e),wl),this.onlineState="Unknown",this.ku=new Set}}function pp(r,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,Ae.Z)(function*(r,e){const t=Bn(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new Lb),a)try{u.Nu=yield t.onListen(o)}catch(p){const O=ou(p,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(O)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&_p(t)}),Cm.apply(this,arguments)}function Dm(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,Ae.Z)(function*(r,e){const t=Bn(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const p=u.listeners.indexOf(e);p>=0&&(u.listeners.splice(p,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),gp.apply(this,arguments)}function Ub(r,e){const t=Bn(r);let o=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const O of p.listeners)O.$u(a)&&(o=!0);p.Nu=a}}o&&_p(t)}function ja(r,e,t){const o=Bn(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function _p(r){r.ku.forEach(e=>{e.next()})}class vp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new au(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class b0{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Im{constructor(e){this.serializer=e}rr(e){return Rc(this.serializer,e)}ur(e){return e.metadata.exists?Tf(this.serializer,e.document,!1):Kr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Go(e)}}class z_{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=nt.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Im(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const p of a.metadata.queries){const O=(t.get(p)||Zi()).add(u);t.set(p,O)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function k_(r,e,t,o){return A_.apply(this,arguments)}(e.localStore,new Im(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield Rb(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class G_{constructor(e){this.key=e}}class W_{constructor(e){this.key=e}}class bp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zi(),this.mutatedKeys=Zi(),this.tc=Bg(e),this.ec=new su(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new fp,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,p=a,O=!1;const G="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,te="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((xe,ct)=>{const Xt=a.get(xe),vn=ka(this.query,ct)?ct:null,Ln=!!Xt&&this.mutatedKeys.has(Xt.key),Qn=!!vn&&(vn.hasLocalMutations||this.mutatedKeys.has(vn.key)&&vn.hasCommittedMutations);let si=!1;Xt&&vn?Xt.data.isEqual(vn.data)?Ln!==Qn&&(o.track({type:3,doc:vn}),si=!0):this.rc(Xt,vn)||(o.track({type:2,doc:vn}),si=!0,(G&&this.tc(vn,G)>0||te&&this.tc(vn,te)<0)&&(O=!0)):!Xt&&vn?(o.track({type:0,doc:vn}),si=!0):Xt&&!vn&&(o.track({type:1,doc:Xt}),si=!0,(G||te)&&(O=!0)),si&&(vn?(p=p.add(vn),u=Qn?u.add(xe):u.delete(xe)):(p=p.delete(xe),u=u.delete(xe)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const xe="F"===this.query.limitType?p.last():p.first();p=p.delete(xe.key),u=u.delete(xe.key),o.track({type:1,doc:xe})}return{ec:p,ic:o,zi:O,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((te,xe)=>function(ct,Xt){const vn=Ln=>{switch(Ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ti()}};return vn(ct)-vn(Xt)}(te.type,xe.type)||this.tc(te.doc,xe.doc)),this.oc(o);const p=t?this.uc():[],O=0===this.Zu.size&&this.current?1:0,G=O!==this.Xu;return this.Xu=O,0!==u.length||G?{snapshot:new au(this.query,e.ec,a,u,e.mutatedKeys,0===O,G,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zi(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new W_(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new G_(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Zi();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return au.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vb{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class jb{constructor(e){this.key=e,this.fc=!1}}class yp{constructor(e,t,o,a,u,p){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new Ac(O=>Wc(O),wl),this._c=new Map,this.mc=new Set,this.gc=new br(y.comparator),this.yc=new Map,this.Ic=new I_,this.Tc={},this.Ec=new Map,this.Ac=tl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Hb(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,Ae.Z)(function*(r,e){const t=vd(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const p=yield eu(t.localStore,$s(e)),O=t.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,a=yield xp(t,e,o,"current"===O,p.resumeToken),t.isPrimaryClient&&lh(t.remoteStore,p)}return a}),wp.apply(this,arguments)}function xp(r,e,t,o,a){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Ae.Z)(function*(r,e,t,o,a){r.Rc=(ct,Xt,vn)=>{return(Ln=(0,Ae.Z)(function*(Qn,si,Yi,Vr){let Ui=si.view.sc(Yi);Ui.zi&&(Ui=yield ud(Qn.localStore,si.query,!1).then(({documents:Co})=>si.view.sc(Co,Ui)));const us=Vr&&Vr.targetChanges.get(si.targetId),Lo=si.view.applyChanges(Ui,Qn.isPrimaryClient,us);return ph(Qn,si.targetId,Lo.cc),Lo.snapshot}),function(Qn,si,Yi,Vr){return Ln.apply(this,arguments)})(r,ct,Xt,vn);var Ln};const u=yield ud(r.localStore,e,!0),p=new bp(e,u.ir),O=p.sc(u.documents),G=qc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),te=p.applyChanges(O,r.isPrimaryClient,G);ph(r,t,te.cc);const xe=new Vb(e,t,p);return r.wc.set(e,xe),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),te.snapshot}),Ep.apply(this,arguments)}function zb(r,e){return ic.apply(this,arguments)}function ic(){return ic=(0,Ae.Z)(function*(r,e){const t=Bn(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!wl(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield dd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),gm(t.remoteStore,o.targetId),lu(t,o.targetId)}).catch(co))):(lu(t,o.targetId),yield dd(t.localStore,o.targetId,!0))}),ic.apply(this,arguments)}function Dp(){return Dp=(0,Ae.Z)(function*(r,e,t){const o=Lp(r);try{const a=yield function(u,p){const O=Bn(u),G=z.now(),te=p.reduce((Xt,vn)=>Xt.add(vn.key),Zi());let xe,ct;return O.persistence.runTransaction("Locally write mutations","readwrite",Xt=>{let vn=Aa(),Ln=Zi();return O.Zi.getEntries(Xt,te).next(Qn=>{vn=Qn,vn.forEach((si,Yi)=>{Yi.isValidDocument()||(Ln=Ln.add(si))})}).next(()=>O.localDocuments.getOverlayedDocuments(Xt,vn)).next(Qn=>{xe=Qn;const si=[];for(const Yi of p){const Vr=lb(Yi,xe.get(Yi.key).overlayedDocument);null!=Vr&&si.push(new Yc(Yi.key,Vr,Ja(Vr.value.mapValue),Qo.exists(!0)))}return O.mutationQueue.addMutationBatch(Xt,G,si,p)}).next(Qn=>{ct=Qn;const si=Qn.applyToLocalDocumentSet(xe,Ln);return O.documentOverlayCache.saveOverlays(Xt,Qn.batchId,si)})}).then(()=>({batchId:ct.batchId,changes:cf(xe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,p,O){let G=u.Tc[u.currentUser.toKey()];G||(G=new br(b)),G=G.insert(p,O),u.Tc[u.currentUser.toKey()]=G}(o,a.batchId,t),yield rl(o,a.changes),yield pd(o.remoteStore)}catch(a){const u=ou(a,"Failed to persist write");t.reject(u)}}),Dp.apply(this,arguments)}function Ip(r,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,Ae.Z)(function*(r,e){const t=Bn(r);try{const o=yield function Ob(r,e){const t=Bn(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const O=[];e.targetChanges.forEach((xe,ct)=>{const Xt=a.get(ct);if(!Xt)return;O.push(t.Bs.removeMatchingKeys(u,xe.removedDocuments,ct).next(()=>t.Bs.addMatchingKeys(u,xe.addedDocuments,ct)));let vn=Xt.withSequenceNumber(u.currentSequenceNumber);var Ln,Qn,si;null!==e.targetMismatches.get(ct)?vn=vn.withResumeToken(qo.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):xe.resumeToken.approximateByteSize()>0&&(vn=vn.withResumeToken(xe.resumeToken,o)),a=a.insert(ct,vn),Qn=vn,si=xe,(0===(Ln=Xt).resumeToken.approximateByteSize()||Qn.snapshotVersion.toMicroseconds()-Ln.snapshotVersion.toMicroseconds()>=3e8||si.addedDocuments.size+si.modifiedDocuments.size+si.removedDocuments.size>0)&&O.push(t.Bs.updateTargetData(u,vn))});let G=Aa(),te=Zi();if(e.documentUpdates.forEach(xe=>{e.resolvedLimboDocuments.has(xe)&&O.push(t.persistence.referenceDelegate.updateLimboDocument(u,xe))}),O.push(dm(u,p,e.documentUpdates).next(xe=>{G=xe.nr,te=xe.sr})),!o.isEqual(le.min())){const xe=t.Bs.getLastRemoteSnapshotVersion(u).next(ct=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));O.push(xe)}return Gt.waitFor(O).next(()=>p.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,G,te)).next(()=>G)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const p=t.yc.get(u);p&&(ai(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?ai(p.fc):a.removedDocuments.size>0&&(ai(p.fc),p.fc=!1))}),yield rl(t,o,e)}catch(o){yield co(o)}}),Tp.apply(this,arguments)}function Mp(r,e,t){const o=Bn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,p)=>{const O=p.view.Mu(e);O.snapshot&&a.push(O.snapshot)}),function(u,p){const O=Bn(u);O.onlineState=p;let G=!1;O.queries.forEach((te,xe)=>{for(const ct of xe.listeners)ct.Mu(p)&&(G=!0)}),G&&_p(O)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function K_(r,e,t){return cu.apply(this,arguments)}function cu(){return cu=(0,Ae.Z)(function*(r,e,t){const o=Bn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let p=new br(y.comparator);p=p.insert(u,Kr.newNoDocument(u,le.min()));const O=Zi().add(u),G=new Dl(le.min(),new Map,new br(b),p,O);yield Ip(o,G),o.gc=o.gc.remove(u),o.yc.delete(e),kp(o)}else yield dd(o.localStore,e,!1).then(()=>lu(o,e,t)).catch(co)}),cu.apply(this,arguments)}function Sp(r,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Ae.Z)(function*(r,e){const t=Bn(r),o=e.batch.batchId;try{const a=yield function kb(r,e){const t=Bn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,O,G,te){const xe=G.batch,ct=xe.keys();let Xt=Gt.resolve();return ct.forEach(vn=>{Xt=Xt.next(()=>te.getEntry(O,vn)).next(Ln=>{const Qn=G.docVersions.get(vn);ai(null!==Qn),Ln.version.compareTo(Qn)<0&&(xe.applyToRemoteDocument(Ln,G),Ln.isValidDocument()&&(Ln.setReadTime(G.commitVersion),te.addEntry(Ln)))})}),Xt.next(()=>p.mutationQueue.removeMutationBatch(O,xe))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let O=Zi();for(let G=0;G<p.mutationResults.length;++G)p.mutationResults[G].transformResults.length>0&&(O=O.add(p.batch.mutations[G].key));return O}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);_c(t,o,null),fh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield rl(t,a)}catch(a){yield co(a)}}),Z_.apply(this,arguments)}function Y_(r,e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Ae.Z)(function*(r,e,t){const o=Bn(r);try{const a=yield function(u,p){const O=Bn(u);return O.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let te;return O.mutationQueue.lookupMutationBatch(G,p).next(xe=>(ai(null!==xe),te=xe.keys(),O.mutationQueue.removeMutationBatch(G,xe))).next(()=>O.mutationQueue.performConsistencyCheck(G)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(G,te,p)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,te)).next(()=>O.localDocuments.getDocuments(G,te))})}(o.localStore,e);_c(o,e,t),fh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield rl(o,a)}catch(a){yield co(a)}}),Tm.apply(this,arguments)}function Mm(){return Mm=(0,Ae.Z)(function*(r,e){const t=Bn(r);il(t.remoteStore)||Mn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const p=Bn(u);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>p.mutationQueue.getHighestUnacknowledgedBatchId(O))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=ou(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Mm.apply(this,arguments)}function fh(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function _c(r,e,t){const o=Bn(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function lu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||Q_(r,o)})}function Q_(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(gm(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),kp(r))}function ph(r,e,t){for(const o of t)o instanceof G_?(r.Ic.addReference(o.key,e),$b(r,o)):o instanceof W_?(Mn("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||Q_(r,o.key)):ti()}function $b(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(Mn("SyncEngine","New document in limbo: "+t),r.mc.add(o),kp(r))}function kp(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new y(nt.fromString(e)),o=r.Ac.next();r.yc.set(o,new jb(t)),r.gc=r.gc.insert(t,o),lh(r.remoteStore,new Jc($s(bl(t.path)),o,"TargetPurposeLimboResolution",Rr.ct))}}function rl(r,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,Ae.Z)(function*(r,e,t){const o=Bn(r),a=[],u=[],p=[];var O;o.wc.isEmpty()||(o.wc.forEach((O,G)=>{p.push(o.Rc(G,e,t).then(te=>{if((te||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,te?.fromCache?"not-current":"current"),te){a.push(te);const xe=lm.Li(G.targetId,te);u.push(xe)}}))}),yield Promise.all(p),o.dc.nu(a),yield(O=(0,Ae.Z)(function*(G,te){const xe=Bn(G);try{yield xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ct=>Gt.forEach(te,Xt=>Gt.forEach(Xt.Fi,vn=>xe.persistence.referenceDelegate.addReference(ct,Xt.targetId,vn)).next(()=>Gt.forEach(Xt.Bi,vn=>xe.persistence.referenceDelegate.removeReference(ct,Xt.targetId,vn)))))}catch(ct){if(!Os(ct))throw ct;Mn("LocalStore","Failed to update sequence numbers: "+ct)}for(const ct of te){const Xt=ct.targetId;if(!ct.fromCache){const vn=xe.Ji.get(Xt),Qn=vn.withLastLimboFreeSnapshotVersion(vn.snapshotVersion);xe.Ji=xe.Ji.insert(Xt,Qn)}}}),function(G,te){return O.apply(this,arguments)})(o.localStore,u))}),X_.apply(this,arguments)}function J_(r,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Ae.Z)(function*(r,e){const t=Bn(r);if(!t.currentUser.isEqual(e)){Mn("SyncEngine","User change. New user:",e.toKey());const o=yield Zf(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(O=>{O.reject(new En(nn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield rl(t,o.er)}var a}),Ap.apply(this,arguments)}function Sm(r,e){const t=Bn(r),o=t.yc.get(e);if(o&&o.fc)return Zi().add(o.key);{let a=Zi();const u=t._c.get(e);if(!u)return a;for(const p of u){const O=t.wc.get(p);a=a.unionWith(O.view.nc)}return a}}function gh(r,e){return du.apply(this,arguments)}function du(){return du=(0,Ae.Z)(function*(r,e){const t=Bn(r),o=yield ud(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&ph(t,e.targetId,a.cc),a}),du.apply(this,arguments)}function y0(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Ae.Z)(function*(r,e){const t=Bn(r);return Qf(t.localStore,e).then(o=>rl(t,o))}),Op.apply(this,arguments)}function km(r,e,t,o){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Ae.Z)(function*(r,e,t,o){const a=Bn(r),u=yield function(p,O){const G=Bn(p),te=Bn(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",xe=>te.Sn(xe,O).next(ct=>ct?G.localDocuments.getDocuments(xe,ct):Gt.resolve(null)))}(a.localStore,e);var O;null!==u?("pending"===t?yield pd(a.remoteStore):"acknowledged"===t||"rejected"===t?(_c(a,e,o||null),fh(a,e),O=e,Bn(Bn(a.localStore).mutationQueue).Cn(O)):ti(),yield rl(a,u)):Mn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rp.apply(this,arguments)}function Pp(){return Pp=(0,Ae.Z)(function*(r,e){const t=Bn(r);if(vd(t),Lp(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Am(t,o.toArray());t.vc=!0,yield hh(t.remoteStore,!0);for(const u of a)lh(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,p)=>{t.sharedClientState.isLocalQueryTarget(p)?o.push(p):a=a.then(()=>(lu(t,p),dd(t.localStore,p,!0))),gm(t.remoteStore,p)}),yield a,yield Am(t,o),function(u){const p=Bn(u);p.yc.forEach((O,G)=>{gm(p.remoteStore,G)}),p.Ic.Ts(),p.yc=new Map,p.gc=new br(y.comparator)}(t),t.vc=!1,yield hh(t.remoteStore,!1)}}),Pp.apply(this,arguments)}function Am(r,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Ae.Z)(function*(r,e,t){const o=Bn(r),a=[],u=[];for(const p of e){let O;const G=o._c.get(p);if(G&&0!==G.length){O=yield eu(o.localStore,$s(G[0]));for(const te of G){const xe=o.wc.get(te),ct=yield gh(o,xe);ct.snapshot&&u.push(ct.snapshot)}}else{const te=yield M_(o.localStore,p);O=yield eu(o.localStore,te),yield xp(o,uu(te),p,!1,O.resumeToken)}a.push(O)}return o.dc.nu(u),a}),Fp.apply(this,arguments)}function uu(r){return Ud(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Wb(r){const e=Bn(r);return Bn(Bn(e.localStore).persistence).$i()}function ev(r,e,t,o){return Om.apply(this,arguments)}function Om(){return Om=(0,Ae.Z)(function*(r,e,t,o){const a=Bn(r);if(a.vc)return void Mn("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const p=yield Qf(a.localStore,Lg(u[0])),O=Dl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,qo.EMPTY_BYTE_STRING);yield rl(a,p,O);break}case"rejected":yield dd(a.localStore,e,!0),lu(a,e,o);break;default:ti()}}),Om.apply(this,arguments)}function Kb(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,Ae.Z)(function*(r,e,t){const o=vd(r);if(o.vc){for(const a of e){if(o._c.has(a)){Mn("SyncEngine","Adding an already active target "+a);continue}const u=yield M_(o.localStore,a),p=yield eu(o.localStore,u);yield xp(o,uu(u),p.targetId,!1,p.resumeToken),lh(o.remoteStore,p)}for(const a of t)o._c.has(a)&&(yield dd(o.localStore,a,!1).then(()=>{gm(o.remoteStore,a),lu(o,a)}).catch(co))}}),Np.apply(this,arguments)}function vd(r){const e=Bn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ip.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K_.bind(null,e),e.dc.nu=Ub.bind(null,e.eventManager),e.dc.Pc=ja.bind(null,e.eventManager),e}function Lp(r){const e=Bn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y_.bind(null,e),e}class _h{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.serializer=sh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Kf(this.persistence,new T_,e.initialUser,this.serializer)}createPersistence(e){return new eh(Ol.zs,this.serializer)}createSharedClientState(e){return new ep}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends _h{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Lp(o.Vc.syncEngine),yield pd(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Kf(this.persistence,new T_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new sm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Yo(t,this.persistence);return new ys(e.asyncQueue,o)}createPersistence(e){const t=ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?xa.withCacheSize(this.cacheSizeBytes):xa.DEFAULT;return new Xd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ip(),fm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ep}}class tv extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof mm&&(o.sharedClientState.syncEngine={jr:km.bind(null,a),zr:ev.bind(null,a),Wr:Kb.bind(null,a),$i:Wb.bind(null,a),Qr:y0.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,Ae.Z)(function*(p){yield function Gb(r,e){return Pp.apply(this,arguments)}(o.Vc.syncEngine,p),o.gcScheduler&&(p&&!o.gcScheduler.started?o.gcScheduler.start():p||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(p&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():p||o.indexBackfillerScheduler.stop())});return function(p){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ip();if(!mm.D(t))throw new En(nn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mm(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class hu{initialize(e,t){var o=this;return(0,Ae.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Mp(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=J_.bind(null,o.syncEngine),yield hh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bb}createDatastore(e){const t=sh(e.databaseInfo.databaseId),o=new P_(e.databaseInfo);return new N_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=O=>Mp(this.syncEngine,O,0),p=nu.D()?new nu:new tp,new g0(t,o,a,u,p);var t,o,a,u,p}createSyncEngine(e,t){return function(o,a,u,p,O,G,te){const xe=new yp(o,a,u,p,O,G);return te&&(xe.vc=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const o=Bn(t);Mn("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ch(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nv(r,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ai,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new b0(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ae.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Up{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new En(nn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,Ae.Z)(function*(u,p){const O=Bn(u),G=Qc(O.serializer)+"/documents",te={documents:p.map(vn=>Kh(O.serializer,vn))},xe=yield O.vo("BatchGetDocuments",G,te,p.length),ct=new Map;xe.forEach(vn=>{const Ln=function o_(r,e){return"found"in e?function(t,o){ai(!!o.found);const a=Rc(t,o.found.name),u=Go(o.found.updateTime),p=o.found.createTime?Go(o.found.createTime):le.min(),O=new mr({mapValue:{fields:o.found.fields}});return Kr.newFoundDocument(a,u,p,O)}(r,e):"missing"in e?function(t,o){ai(!!o.missing),ai(!!o.readTime);const a=Rc(t,o.missing),u=Go(o.readTime);return Kr.newNoDocument(a,u)}(r,e):ti()}(O.serializer,vn);ct.set(Ln.key.toString(),Ln)});const Xt=[];return p.forEach(vn=>{const Ln=ct.get(vn.toString());ai(!!Ln),Xt.push(Ln)}),Xt}),function(u,p){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=y.fromPath(a);e.mutations.push(new $h(u,e.precondition(u)))}),yield(o=(0,Ae.Z)(function*(a,u){const p=Bn(a),O=Qc(p.serializer)+"/documents",G={writes:u.map(te=>mc(p.serializer,te))};yield p.Io("Commit",O,G)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ti();t=le.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new En(nn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(le.min())?Qo.exists(!1):Qo.updateTime(t):Qo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(le.min()))throw new En(nn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qo.updateTime(t)}return Qo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yb{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new rp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ae.Z)(function*(){const t=new Up(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Fo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yf(t)}return!1}}class Vp{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=xo.UNAUTHENTICATED,this.clientId=U.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,Ae.Z)(function*(O){Mn("FirestoreClient","Received user=",O.uid),yield u.authCredentialListener(O),u.user=O});return function(O){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(Mn("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new En(nn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=ou(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Pm(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,Ae.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Mn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Ae.Z)(function*(u){o.isEqual(u)||(yield Zf(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),jp.apply(this,arguments)}function Hp(r,e){return zp.apply(this,arguments)}function zp(){return zp=(0,Ae.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield $p(r);Mn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>hp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>hp(e.remoteStore,u)),r._onlineComponents=e}),zp.apply(this,arguments)}function rv(r){return"FirebaseError"===r.name?r.code===nn.FAILED_PRECONDITION||r.code===nn.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function $p(r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Ae.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Mn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rv(t))throw t;Ms("Error using user provided cache. Falling back to memory cache: "+t),yield Pm(r,new _h)}}else Mn("FirestoreClient","Using default OfflineComponentProvider"),yield Pm(r,new _h);return r._offlineComponents}),Gp.apply(this,arguments)}function vh(r){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Ae.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Mn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hp(r,r._uninitializedComponentsProvider._online)):(Mn("FirestoreClient","Using default OnlineComponentProvider"),yield Hp(r,new hu))),r._onlineComponents}),Fm.apply(this,arguments)}function ov(r){return $p(r).then(e=>e.persistence)}function Wp(r){return $p(r).then(e=>e.localStore)}function Kp(r){return vh(r).then(e=>e.remoteStore)}function sv(r){return vh(r).then(e=>e.syncEngine)}function mu(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Ae.Z)(function*(r){const e=yield vh(r),t=e.eventManager;return t.onListen=Hb.bind(null,e.syncEngine),t.onUnlisten=zb.bind(null,e.syncEngine),t}),Zp.apply(this,arguments)}function fu(r,e,t={}){const o=new Ai;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(a,u,p,O,G){const te=new Rm({next:ct=>{u.enqueueAndForget(()=>Dm(a,xe));const Xt=ct.docs.has(p);!Xt&&ct.fromCache?G.reject(new En(nn.UNAVAILABLE,"Failed to get document because the client is offline.")):Xt&&ct.fromCache&&O&&"server"===O.source?G.reject(new En(nn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(ct)},error:ct=>G.reject(ct)}),xe=new vp(bl(p.path),te,{includeMetadataChanges:!0,Ku:!0});return pp(a,xe)}(yield mu(r),r.asyncQueue,e,t,o)})),o.promise}function Nl(r,e,t={}){const o=new Ai;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(a,u,p,O,G){const te=new Rm({next:ct=>{u.enqueueAndForget(()=>Dm(a,xe)),ct.fromCache&&"server"===O.source?G.reject(new En(nn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(ct)},error:ct=>G.reject(ct)}),xe=new vp(p,te,{includeMetadataChanges:!0,Ku:!0});return pp(a,xe)}(yield mu(r),r.asyncQueue,e,t,o)})),o.promise}function bd(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const yd=new Map;function Ll(r,e,t){if(!t)throw new En(nn.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wd(r,e,t,o){if(!0===e&&!0===o)throw new En(nn.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function xd(r){if(!y.isDocumentKey(r))throw new En(nn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ed(r){if(y.isDocumentKey(r))throw new En(nn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ol(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":ti()}function ar(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new En(nn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ol(r);throw new En(nn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Qp(r,e){if(e<=0)throw new En(nn.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Xp{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new En(nn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new En(nn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bd(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new En(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new En(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new En(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gu{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new En(nn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new En(nn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ro;switch(t.type){case"firstParty":return new dc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new En(nn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yd.get(e);t&&(Mn("ComponentProvider","Removing Datastore"),yd.delete(e),t.terminate())}(this),Promise.resolve()}}class Wo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wo(this.firestore,e,this._key)}}class qs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class vc extends qs{constructor(e,t,o){super(e,t,bl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wo(this.firestore,null,new y(e))}withConverter(e){return new vc(this.firestore,e,this._path)}}function eg(r,e,...t){if(r=(0,he.m9)(r),Ll("collection","path",e),r instanceof gu){const o=nt.fromString(e,...t);return Ed(o),new vc(r,null,o)}{if(!(r instanceof Wo||r instanceof vc))throw new En(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(nt.fromString(e,...t));return Ed(o),new vc(r.firestore,null,o)}}function _u(r,e,...t){if(r=(0,he.m9)(r),1===arguments.length&&(e=U.A()),Ll("doc","path",e),r instanceof gu){const o=nt.fromString(e,...t);return xd(o),new Wo(r,null,new y(o))}{if(!(r instanceof Wo||r instanceof vc))throw new En(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(nt.fromString(e,...t));return xd(o),new Wo(r.firestore,r instanceof vc?r.converter:null,new y(o))}}function cv(r,e){return r=(0,he.m9)(r),e=(0,he.m9)(e),(r instanceof Wo||r instanceof vc)&&(e instanceof Wo||e instanceof vc)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function lv(r,e){return r=(0,he.m9)(r),e=(0,he.m9)(e),r instanceof qs&&e instanceof qs&&r.firestore===e.firestore&&wl(r._query,e._query)&&r.converter===e.converter}class x0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new rp(this,"async_queue_retry"),this.Xc=()=>{const t=fm();t&&Mn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=fm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ai;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Os(t))throw t;Mn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,vr("INTERNAL UNHANDLED ERROR: ",function(u){let p=u.message||"";return u.stack&&(p=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),p}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=mp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&ti()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class Qb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xo extends gu{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new x0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()}}function Ps(r){return r._firestoreClient||dv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function dv(r){var e,t,o;const a=r._freezeSettings(),u=(O=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Tc(r._databaseId,O,r._persistenceKey,(te=a).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,bd(te.experimentalLongPollingOptions),te.useFetchStreams));var O,te;r._firestoreClient=new Vp(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Lm(r,e,t){const o=new Ai;return r.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield Pm(r,t),yield Hp(r,e),o.resolve()}catch(a){const u=a;if(!rv(u))throw u;Ms("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function mv(r){if(r._initialized||r._terminated)throw new En(nn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oc(qo.fromBase64String(e))}catch(t){throw new En(nn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oc(qo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new En(nn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vu{constructor(e){this._methodName=e}}class Um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new En(nn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new En(nn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return b(this._lat,e._lat)||b(this._long,e._long)}}const ey=/^__.*__$/;class rg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new zd(e,this.data,t,this.fieldTransforms)}}class fv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function og(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ti()}}class Vm{constructor(e,t,o,a,u,p){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Dd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(og(this.ca)&&ey.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ty{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||sh(e)}ya(e,t,o,a=!1){return new Vm({ca:e,methodName:t,ga:o,path:Jt.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bl(r){const e=r._freezeSettings(),t=sh(r._databaseId);return new ty(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ch(r,e,t,o,a,u={}){const p=r.ya(u.merge||u.mergeFields?2:0,e,t,a);dg("Data must be an object, but it was:",p,o);const O=jm(o,p);let G,te;if(u.merge)G=new Bs(p.fieldMask),te=p.fieldTransforms;else if(u.mergeFields){const xe=[];for(const ct of u.mergeFields){const Xt=Th(e,ct,t);if(!p.contains(Xt))throw new En(nn.INVALID_ARGUMENT,`Field '${Xt}' is specified in your field mask but missing from your input data.`);Hm(xe,Xt)||xe.push(Xt)}G=new Bs(xe),te=p.fieldTransforms.filter(ct=>G.covers(ct.field))}else G=null,te=p.fieldTransforms;return new rg(new mr(O),G,te)}class bu extends vu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bu}}function pv(r,e,t){return new Vm({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends vu{_toFieldTransform(e){return new ju(e.path,new Jl)}isEqual(e){return e instanceof sg}}class ny extends vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Nc(u,t)),a=new ed(o);return new ju(e.path,a)}isEqual(e){return this===e}}class gv extends vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Nc(u,t)),a=new Kc(o);return new ju(e.path,a)}isEqual(e){return this===e}}class ag extends vu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new jd(e.serializer,Hg(e.serializer,this.Ia));return new ju(e.path,t)}isEqual(e){return this===e}}function Dh(r,e,t,o){const a=r.ya(1,e,t);dg("Data must be an object, but it was:",a,o);const u=[],p=mr.empty();ea(o,(G,te)=>{const xe=Cd(e,G,t);te=(0,he.m9)(te);const ct=a.da(xe);if(te instanceof bu)u.push(xe);else{const Xt=Nc(te,ct);null!=Xt&&(u.push(xe),p.set(xe,Xt))}});const O=new Bs(u);return new fv(p,O,a.fieldTransforms)}function cg(r,e,t,o,a,u){const p=r.ya(1,e,t),O=[Th(e,o,t)],G=[a];if(u.length%2!=0)throw new En(nn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Xt=0;Xt<u.length;Xt+=2)O.push(Th(e,u[Xt])),G.push(u[Xt+1]);const te=[],xe=mr.empty();for(let Xt=O.length-1;Xt>=0;--Xt)if(!Hm(te,O[Xt])){const vn=O[Xt];let Ln=G[Xt];Ln=(0,he.m9)(Ln);const Qn=p.da(vn);if(Ln instanceof bu)te.push(vn);else{const si=Nc(Ln,Qn);null!=si&&(te.push(vn),xe.set(vn,si))}}const ct=new Bs(te);return new fv(xe,ct,p.fieldTransforms)}function Ih(r,e,t,o=!1){return Nc(t,r.ya(o?4:3,e))}function Nc(r,e){if(lg(r=(0,he.m9)(r)))return dg("Unsupported field value:",e,r),jm(r,e);if(r instanceof vu)return function(t,o){if(!og(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const p of t){let O=Nc(p,o.wa(u));null==O&&(O={nullValue:"NULL_VALUE"}),a.push(O),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,he.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hg(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=z.fromDate(t);return{timestampValue:id(o.serializer,a)}}if(t instanceof z){const a=new z(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:id(o.serializer,a)}}if(t instanceof Um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof oc)return{bytesValue:Wu(o.serializer,t._byteString)};if(t instanceof Wo){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:If(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${ol(t)}`)}(r,e)}function jm(r,e){const t={};return Ba(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(r,(o,a)=>{const u=Nc(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function lg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof z||r instanceof Um||r instanceof oc||r instanceof Wo||r instanceof vu)}function dg(r,e,t){if(!lg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ol(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Th(r,e,t){if((e=(0,he.m9)(e))instanceof sc)return e._internalPath;if("string"==typeof e)return Cd(r,e);throw Dd("Field path arguments must be of type string or ",r,!1,void 0,t)}const iy=new RegExp("[~\\*/\\[\\]]");function Cd(r,e,t){if(e.search(iy)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new sc(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Dd(r,e,t,o,a){const u=o&&!o.isEmpty(),p=void 0!==a;let O=`Function ${e}() called with invalid data`;t&&(O+=" (via `toFirestore()`)"),O+=". ";let G="";return(u||p)&&(G+=" (found",u&&(G+=` in field ${o}`),p&&(G+=` in document ${a}`),G+=")"),new En(nn.INVALID_ARGUMENT,O+r+G)}function Hm(r,e){return r.some(t=>t.isEqual(e))}class yu{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ry extends yu{data(){return super.data()}}function zm(r,e){return"string"==typeof e?Cd(r,e):e instanceof sc?e._internalPath:e._delegate._internalPath}function ug(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new En(nn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mh{}class wu extends Mh{}function Lc(r,e,...t){let o=[];e instanceof Mh&&o.push(e),o=o.concat(t),function(a){const u=a.filter(O=>O instanceof Td).length,p=a.filter(O=>O instanceof Id).length;if(u>1||u>0&&p>0)throw new En(nn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Id extends wu{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Id(e,t,o)}_apply(e){const t=this._parse(e);return Ah(e._query,t),new qs(e.firestore,e.converter,yl(e._query,t))}_parse(e){const t=Bl(e.firestore);return function(a,u,p,O,G,te,xe){let ct;if(G.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new En(nn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){pg(xe,te);const Xt=[];for(const vn of xe)Xt.push(fg(O,a,vn));ct={arrayValue:{values:Xt}}}else ct=fg(O,a,xe)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||pg(xe,te),ct=Ih(p,"where",xe,"in"===te||"not-in"===te);return ur.create(G,te,ct)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Td extends Mh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Td(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:eo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const p=a.getFlattenedFilters();for(const O of p)Ah(u,O),u=yl(u,O)}(e._query,t),new qs(e.firestore,e.converter,yl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $m extends wu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $m(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new En(nn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new En(nn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new wa(a,u);return function(O,G){if(null===Vd(O)){const te=kc(O);null!==te&&sl(0,te,G.field)}}(o,p),p}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new ia(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Sh extends wu{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Sh(e,t,o)}_apply(e){return new qs(e.firestore,e.converter,ec(e._query,this._limit,this._limitType))}}class xu extends wu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new xu(e,t,o)}_apply(e){const t=mg(e,this.type,this._docOrFields,this._inclusive);return new qs(e.firestore,e.converter,(a=t,new ia((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class kh extends wu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new kh(e,t,o)}_apply(e){const t=mg(e,this.type,this._docOrFields,this._inclusive);return new qs(e.firestore,e.converter,(a=t,new ia((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function mg(r,e,t,o){if(t[0]=(0,he.m9)(t[0]),t[0]instanceof yu)return function(a,u,p,O,G){if(!O)throw new En(nn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const te=[];for(const xe of hc(a))if(xe.field.isKeyField())te.push(L(u,O.key));else{const ct=O.data.field(xe.field);if($c(ct))throw new En(nn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+xe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ct){const Xt=xe.field.canonicalString();throw new En(nn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Xt}' (used as the orderBy) does not exist.`)}te.push(ct)}return new zs(te,G)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Bl(r.firestore);return function(u,p,O,G,te,xe){const ct=u.explicitOrderBy;if(te.length>ct.length)throw new En(nn.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Xt=[];for(let vn=0;vn<te.length;vn++){const Ln=te[vn];if(ct[vn].field.isKeyField()){if("string"!=typeof Ln)throw new En(nn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Ln}`);if(!Gc(u)&&-1!==Ln.indexOf("/"))throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Ln}' contains a slash.`);const Qn=u.path.child(nt.fromString(Ln));if(!y.isDocumentKey(Qn))throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Qn}' is not because it contains an odd number of segments.`);const si=new y(Qn);Xt.push(L(p,si))}else{const Qn=Ih(O,G,Ln);Xt.push(Qn)}}return new zs(Xt,xe)}(r._query,r.firestore._databaseId,a,e,t,o)}}function fg(r,e,t){if("string"==typeof(t=(0,he.m9)(t))){if(""===t)throw new En(nn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gc(e)&&-1!==t.indexOf("/"))throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(nt.fromString(t));if(!y.isDocumentKey(o))throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return L(r,new y(o))}if(t instanceof Wo)return L(r,t._key);throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ol(t)}.`)}function pg(r,e){if(!Array.isArray(r)||0===r.length)throw new En(nn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ah(r,e){if(e.isInequality()){const o=kc(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new En(nn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Vd(r);null!==u&&sl(0,a,u)}const t=function(o,a){for(const u of o)for(const p of u.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new En(nn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function sl(r,e,t){if(!t.isEqual(e))throw new En(nn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gg{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ti()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ea(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new Um(vo(e.latitude),vo(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=lo(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const t=Dc(e);return new z(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=nt.fromString(e);ai(u_(o));const a=new qa(o.get(1),o.get(3)),u=new y(o.popFirst(5));return a.isEqual(t)||vr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Eu(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Md extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wo(this.firestore,null,t)}}class Sd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class al extends yu{constructor(e,t,o,a,u,p){super(e,t,o,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Cu extends al{data(e={}){return super.data(e)}}class Ul{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Sd(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Cu(this._firestore,this._userDataWriter,o.key,o,new Sd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new En(nn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new Cu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sd(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const O=new Cu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sd(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,te=-1;return 0!==p.type&&(G=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),1!==p.type&&(u=u.add(p.doc),te=u.indexOf(p.doc.key)),{type:Ws(p.type),doc:O,oldIndex:G,newIndex:te}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ws(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ti()}}function vg(r,e){return r instanceof al&&e instanceof al?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ul&&e instanceof Ul&&r._firestore===e._firestore&&lv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Vl extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wo(this.firestore,null,t)}}function Tv(r,e,t){r=ar(r,Wo);const o=ar(r.firestore,Xo),a=Eu(r.converter,e,t);return jl(o,[Ch(Bl(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Qo.none())])}function Mv(r,e,t,...o){r=ar(r,Wo);const a=ar(r.firestore,Xo),u=Bl(a);let p;return p="string"==typeof(e=(0,he.m9)(e))||e instanceof sc?cg(u,"updateDoc",r._key,e,t,o):Dh(u,"updateDoc",r._key,e),jl(a,[p.toMutation(r._key,Qo.exists(!0))])}function bg(r,...e){var t,o,a;r=(0,he.m9)(r);let u={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||tg(e[p])||(u=e[p],p++);const O={includeMetadataChanges:u.includeMetadataChanges};if(tg(e[p])){const ct=e[p];e[p]=null===(t=ct.next)||void 0===t?void 0:t.bind(ct),e[p+1]=null===(o=ct.error)||void 0===o?void 0:o.bind(ct),e[p+2]=null===(a=ct.complete)||void 0===a?void 0:a.bind(ct)}let G,te,xe;if(r instanceof Wo)te=ar(r.firestore,Xo),xe=bl(r._key.path),G={next:ct=>{e[p]&&e[p](Oh(te,r,ct))},error:e[p+1],complete:e[p+2]};else{const ct=ar(r,qs);te=ar(ct.firestore,Xo),xe=ct._query;const Xt=new Vl(te);G={next:vn=>{e[p]&&e[p](new Ul(te,Xt,ct,vn))},error:e[p+1],complete:e[p+2]},ug(r._query)}return function(ct,Xt,vn,Ln){const Qn=new Rm(Ln),si=new vp(Xt,Qn,vn);return ct.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return pp(yield mu(ct),si)})),()=>{Qn.Dc(),ct.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Dm(yield mu(ct),si)}))}}(Ps(te),xe,O,G)}function jl(r,e){return function(t,o){const a=new Ai;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Cp(r,e,t){return Dp.apply(this,arguments)}(yield sv(t),o,a)})),a.promise}(Ps(r),e)}function Oh(r,e,t){const o=t.docs.get(e._key),a=new Vl(r);return new al(r,a,e._key,o,new Sd(t.hasPendingWrites,t.fromCache),e.converter)}const vy={maxAttempts:5};class wg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bl(e)}set(e,t,o){this._verifyNotCommitted();const a=Hl(e,this._firestore),u=Eu(a.converter,t,o),p=Ch(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(p.toMutation(a._key,Qo.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=Hl(e,this._firestore);let p;return p="string"==typeof(t=(0,he.m9)(t))||t instanceof sc?cg(this._dataReader,"WriteBatch.update",u._key,t,o,a):Dh(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(p.toMutation(u._key,Qo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hl(e,this._firestore);return this._mutations=this._mutations.concat(new Cl(t._key,Qo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new En(nn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hl(r,e){if((r=(0,he.m9)(r)).firestore!==e)throw new En(nn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class by extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bl(e)}get(e){const t=Hl(e,this._firestore),o=new Md(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ti();const u=a[0];if(u.isFoundDocument())return new yu(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new yu(this._firestore,o,t._key,null,t.converter);throw ti()})}set(e,t,o){const a=Hl(e,this._firestore),u=Eu(a.converter,t,o),p=Ch(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,p),this}update(e,t,o,...a){const u=Hl(e,this._firestore);let p;return p="string"==typeof(t=(0,he.m9)(t))||t instanceof sc?cg(this._dataReader,"Transaction.update",u._key,t,o,a):Dh(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,p),this}delete(e){const t=Hl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hl(e,this._firestore),o=new Vl(this._firestore);return super.get(e).then(a=>new al(this._firestore,o,t._key,a._document,new Sd(!1,!1),t.converter))}}function Zm(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new En("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Eg(){if(typeof Uint8Array>"u")throw new En("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if(!function Pd(){return typeof atob<"u"}())throw new En("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){vs=vt.SDK_VERSION,(0,vt._registerComponent)(new me.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),p=new Xo(new va(t.getProvider("auth-internal")),new $a(t.getProvider("app-check-internal")),function(O,G){if(!Object.prototype.hasOwnProperty.apply(O.options,["projectId"]))throw new En(nn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(O.options.projectId,G)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,vt.registerVersion)(Ji,"3.12.2",r),(0,vt.registerVersion)(Ji,"3.12.2","esm2017")}();class Iu{constructor(e){this._delegate=e}static fromBase64String(e){return Cg(),new Iu(oc.fromBase64String(e))}static fromUint8Array(e){return Eg(),new Iu(oc.fromUint8Array(e))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return Eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ym(r){return function Fv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Nv{enableIndexedDbPersistence(e,t){return function ng(r,e){mv(r=ar(r,Xo));const t=Ps(r);if(t._uninitializedComponentsProvider)throw new En(nn.FAILED_PRECONDITION,"SDK cache is already specified.");Ms("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new hu;return Lm(t,a,new Bp(a,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yh(r){mv(r=ar(r,Xo));const e=Ps(r);if(e._uninitializedComponentsProvider)throw new En(nn.FAILED_PRECONDITION,"SDK cache is already specified.");Ms("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new hu;return Lm(e,o,new tv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Bm(r){if(r._initialized&&!r._terminated)throw new En(nn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ai;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(o){if(!Po.D())return Promise.resolve();const a=o+"main";yield Po.delete(a)}),function(o){return t.apply(this,arguments)})(ih(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ms("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Jp(r,e,t,o={}){var a;const u=(r=ar(r,gu))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==p&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:p,ssl:!1})),o.mockUserToken){let O,G;if("string"==typeof o.mockUserToken)O=o.mockUserToken,G=xo.MOCK_USER;else{O=(0,he.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const te=o.mockUserToken.sub||o.mockUserToken.user_id;if(!te)throw new En(nn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new xo(te)}r._authCredentials=new jc(new Vc(O,G))}}(this._delegate,e,t,o)}enableNetwork(){return function wh(r){return function Yp(r){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!0),function(o){const a=Bn(o);return a.vu.delete(0),ah(a)}(t)}))}(Ps(r=ar(r,Xo)))}(this._delegate)}disableNetwork(){return function hv(r){return function qb(r){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!1),(o=(0,Ae.Z)(function*(a){const u=Bn(a);u.vu.add(0),yield ch(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(Ps(r=ar(r,Xo)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,wd("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uv(r){return function(e){const t=new Ai;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function q_(r,e){return Mm.apply(this,arguments)}(yield sv(e),t)})),t.promise}(Ps(r=ar(r,Xo)))}(this._delegate)}onSnapshotsInSync(e){return function T0(r,e){return function Nm(r,e){const t=new Rm(e);return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield mu(r),a=t,Bn(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield mu(r),a=t,void Bn(o).ku.delete(a);var o,a}))}}(Ps(r=ar(r,Xo)),tg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new En("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Tu(this,eg(this._delegate,e))}catch(t){throw Ea(t,"collection()","Firestore.collection()")}}doc(e){try{return new ac(this,_u(this._delegate,e))}catch(t){throw Ea(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ca(this,function av(r,e){if(r=ar(r,gu),Ll("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new En(nn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qs(r,null,(t=e,new ia(nt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ea(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kv(r,e,t){r=ar(r,Xo);const o=Object.assign(Object.assign({},vy),t);return function(a){if(a.maxAttempts<1)throw new En(nn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,p){const O=new Ai;return a.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const G=yield function bh(r){return vh(r).then(e=>e.datastore)}(a);new Yb(a.asyncQueue,G,p,u,O).run()})),O.promise}(Ps(r),a=>e(new by(r,a)),o)}(this._delegate,t=>e(new Lv(this,t)))}batch(){return Ps(this._delegate),new Bv(new wg(this._delegate,e=>jl(this._delegate,e)))}loadBundle(e){return function xh(r,e){const t=Ps(r=ar(r,Xo)),o=new Qb;return function rc(r,e,t,o){const a=function(u,p){let O;return O="string"==typeof u?Jg().encode(u):u,G=function(G,te){if(G instanceof Uint8Array)return nv(G,void 0);if(G instanceof ArrayBuffer)return nv(new Uint8Array(G),void 0);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new iv(G,p);var G}(t,sh(e));r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function w0(r,e,t){const o=Bn(r);var a;(a=(0,Ae.Z)(function*(u,p,O){try{const G=yield p.getMetadata();if(yield function(Xt,vn){const Ln=Bn(Xt),Qn=Go(vn.createTime);return Ln.persistence.runTransaction("hasNewerBundle","readonly",si=>Ln.qs.getBundleMetadata(si,vn.id)).then(si=>!!si&&si.createTime.compareTo(Qn)>=0)}(u.localStore,G))return yield p.close(),O._completeWith({taskState:"Success",documentsLoaded:(Xt=G).totalDocuments,bytesLoaded:Xt.totalBytes,totalDocuments:Xt.totalDocuments,totalBytes:Xt.totalBytes}),Promise.resolve(new Set);O._updateProgress($_(G));const te=new z_(G,u.localStore,p.serializer);let xe=yield p.bc();for(;xe;){const Xt=yield te.zu(xe);Xt&&O._updateProgress(Xt),xe=yield p.bc()}const ct=yield te.complete();return yield rl(u,ct.Ju,void 0),yield function(Xt,vn){const Ln=Bn(Xt);return Ln.persistence.runTransaction("Save bundle","readwrite",Qn=>Ln.qs.saveBundleMetadata(Qn,vn))}(u.localStore,G),O._completeWith(ct.progress),Promise.resolve(ct.Hu)}catch(G){return Ms("SyncEngine",`Loading bundle failed with ${G}`),O._failWith(G),Promise.resolve(new Set)}var Xt}),function(u,p,O){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield sv(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xb(r,e){return function qp(r,e){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,o){const a=Bn(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield Wp(r),e)}))}(Ps(r=ar(r,Xo)),e).then(t=>t?new qs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Ca(this,t):null)}}class qm extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(new oc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ac.forKey(t,this.firestore,null)}}class Lv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}get(e){const t=Ad(e);return this._delegate.get(t).then(o=>new Rh(this._firestore,new al(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=Ad(e);return o?(Zm("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Ad(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Ad(e);return this._delegate.delete(t),this}}class Bv{constructor(e){this._delegate=e}set(e,t,o){const a=Ad(e);return o?(Zm("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Ad(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Ad(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kd{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Cu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ph(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=kd.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new kd(e,new qm(e),t),a.set(t,u)),u}}kd.INSTANCES=new WeakMap;class ac{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}static forPath(e,t,o){if(e.length%2!=0)throw new En("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ac(t,new Wo(t._delegate,o,new y(e)))}static forKey(e,t,o){return new ac(t,new Wo(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Tu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Tu(this.firestore,eg(this._delegate,e))}catch(t){throw Ea(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,he.m9)(e))instanceof Wo&&cv(this._delegate,e)}set(e,t){t=Zm("DocumentReference.set",t);try{return t?Tv(this._delegate,e,t):Tv(this._delegate,e)}catch(o){throw Ea(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Mv(this._delegate,e):Mv(this._delegate,e,t,...o)}catch(a){throw Ea(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Sv(r){return jl(ar(r.firestore,Xo),[new Cl(r._key,Qo.none())])}(this._delegate)}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Rh(this.firestore,new al(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return bg(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Cv(r){r=ar(r,Wo);const e=ar(r.firestore,Xo),t=Ps(e),o=new Vl(e);return function Fc(r,e){const t=new Ai;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(a,u,p){try{const O=yield function(G,te){const xe=Bn(G);return xe.persistence.runTransaction("read document","readonly",ct=>xe.localDocuments.getDocument(ct,te))}(a,u);O.isFoundDocument()?p.resolve(O):O.isNoDocument()?p.resolve(null):p.reject(new En(nn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const G=ou(O,`Failed to get document '${u} from cache`);p.reject(G)}}),function(a,u,p){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new al(e,o,r._key,a,new Sd(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function dy(r){r=ar(r,Wo);const e=ar(r.firestore,Xo);return fu(Ps(e),r._key,{source:"server"}).then(t=>Oh(e,r,t))}(this._delegate):function ly(r){r=ar(r,Wo);const e=ar(r.firestore,Xo);return fu(Ps(e),r._key).then(t=>Oh(e,r,t))}(this._delegate),t.then(o=>new Rh(this.firestore,new al(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ac(this.firestore,this._delegate.withConverter(e?kd.getInstance(this.firestore,e):null))}}function Ea(r,e,t){return r.message=r.message.replace(e,t),r}function Uv(r){for(const e of r)if("object"==typeof e&&!Ym(e))return e;return{}}function Vv(r,e){var t,o;let a;return a=Ym(r[0])?r[0]:Ym(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Rh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ac(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vg(this._delegate,e._delegate)}}class Ph extends Rh{data(e){const t=this._delegate.data(e);return function ls(r,e){r||ti()}(void 0!==t),t}}class Ca{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}where(e,t,o){try{return new Ca(this.firestore,Lc(this._delegate,function oy(r,e,t){const o=e,a=zm("where",r);return Id._create(a,o,t)}(e,t,o)))}catch(a){throw Ea(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ca(this.firestore,Lc(this._delegate,function cy(r,e="asc"){const t=e,o=zm("orderBy",r);return $m._create(o,t)}(e,t)))}catch(o){throw Ea(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ca(this.firestore,Lc(this._delegate,function _v(r){return Qp("limit",r),Sh._create("limit",r,"F")}(e)))}catch(t){throw Ea(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ca(this.firestore,Lc(this._delegate,function hg(r){return Qp("limitToLast",r),Sh._create("limitToLast",r,"L")}(e)))}catch(t){throw Ea(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ca(this.firestore,Lc(this._delegate,function vv(...r){return xu._create("startAt",r,!0)}(...e)))}catch(t){throw Ea(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ca(this.firestore,Lc(this._delegate,function bv(...r){return xu._create("startAfter",r,!1)}(...e)))}catch(t){throw Ea(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ca(this.firestore,Lc(this._delegate,function yv(...r){return kh._create("endBefore",r,!1)}(...e)))}catch(t){throw Ea(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ca(this.firestore,Lc(this._delegate,function wv(...r){return kh._create("endAt",r,!0)}(...e)))}catch(t){throw Ea(t,"endAt()","Query.endAt()")}}isEqual(e){return lv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Iv(r){r=ar(r,qs);const e=ar(r.firestore,Xo),t=Ps(e),o=new Vl(e);return function ua(r,e){const t=new Ai;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(a,u,p){try{const O=yield ud(a,u,!0),G=new bp(u,O.ir),te=G.sc(O.documents),xe=G.applyChanges(te,!1);p.resolve(xe.snapshot)}catch(O){const G=ou(O,`Failed to execute query '${u} against cache`);p.reject(G)}}),function(a,u,p){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Ul(e,o,r,a))}(this._delegate):"server"===e?.source?function Du(r){r=ar(r,qs);const e=ar(r.firestore,Xo),t=Ps(e),o=new Vl(e);return Nl(t,r._query,{source:"server"}).then(a=>new Ul(e,o,r,a))}(this._delegate):function Dv(r){r=ar(r,qs);const e=ar(r.firestore,Xo),t=Ps(e),o=new Vl(e);return ug(r._query),Nl(t,r._query).then(a=>new Ul(e,o,r,a))}(this._delegate),t.then(o=>new Ig(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Ig(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return bg(this._delegate,t,o)}withConverter(e){return new Ca(this.firestore,this._delegate.withConverter(e?kd.getInstance(this.firestore,e):null))}}class Ey{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ph(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ig{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ca(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ph(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ey(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Ph(this._firestore,o))})}isEqual(e){return vg(this._delegate,e._delegate)}}class Tu extends Ca{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ac(this.firestore,e):null}doc(e){try{return new ac(this.firestore,void 0===e?_u(this._delegate):_u(this._delegate,e))}catch(t){throw Ea(t,"doc()","CollectionReference.doc()")}}add(e){return function uy(r,e){const t=ar(r.firestore,Xo),o=_u(r),a=Eu(r.converter,e);return jl(t,[Ch(Bl(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,Qo.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ac(this.firestore,t))}isEqual(e){return cv(this._delegate,e._delegate)}withConverter(e){return new Tu(this.firestore,this._delegate.withConverter(e?kd.getInstance(this.firestore,e):null))}}function Ad(r){return ar(r,Wo)}class Tg{constructor(...e){this._delegate=new sc(...e)}static documentId(){return new Tg(Jt.keyField().canonicalString())}isEqual(e){return(e=(0,he.m9)(e))instanceof sc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Od{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wm(){return new sg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Od(e)}static delete(){const e=function Av(){return new bu("deleteField")}();return e._methodName="FieldValue.delete",new Od(e)}static arrayUnion(...e){const t=function yy(...r){return new ny("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Od(t)}static arrayRemove(...e){const t=function Ov(...r){return new gv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Od(t)}static increment(e){const t=function Rv(r){return new ag("increment",r)}(e);return t._methodName="FieldValue.increment",new Od(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jv={Firestore:Dg,GeoPoint:Um,Timestamp:z,Blob:Iu,Transaction:Lv,WriteBatch:Bv,DocumentReference:ac,DocumentSnapshot:Rh,Query:Ca,QueryDocumentSnapshot:Ph,QuerySnapshot:Ig,CollectionReference:Tu,FieldPath:Tg,FieldValue:Od,setLogLevel:function xy(r){!function lc(r){Xr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function zv(r){(function Hv(r,e){r.INTERNAL.registerComponent(new me.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},jv)))})(r,(e,t)=>new Dg(e,t,new Nv)),r.registerVersion("@firebase/firestore-compat","0.3.11")}(Ve.Z);var ll=w(1205),$v=w(6217),Gv=w(9260);function Mg(r,e){return function Wv(r,e=C.z){return new h.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(r,e)}function Fh(r,e){return Mg(r,e).pipe((0,fe.U)(t=>({payload:t,type:"query"})))}function Mu(r,e){return Fh(r,e).pipe((0,W.O)(void 0),re(),(0,fe.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((p,O)=>{const G=a.find(xe=>xe.doc.ref.isEqual(p.ref)),te=t?.payload.docs.find(xe=>xe.ref.isEqual(p.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(p.metadata)||!G&&te&&JSON.stringify(te.metadata)===JSON.stringify(p.metadata)||u.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:p}})}),u}))}function zl(r,e,t){return Mu(r,t).pipe((0,ge.R)((o,a)=>function Cy(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function Su(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Sg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,He.x)(),(0,fe.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Sg(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function Dy(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Qm{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Mu(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,fe.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,W.O)(void 0),re(),(0,Pe.h)(([o,a])=>a.length>0||!o),(0,fe.U)(([o,a])=>a),oe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ge.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return zl(this.query,t,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return Fh(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),oe.iC)}get(e){return(0,J.D)(this.query.get(e)).pipe(oe.iC)}add(e){return this.ref.add(e)}doc(e){return new Iy(this.ref.doc(e),this.afs)}}class Iy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=Yv(o,t);return new Qm(a,u,this.afs)}snapshotChanges(){return function Kv(r,e){return Mg(r,e).pipe((0,W.O)(void 0),re(),(0,fe.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,J.D)(this.ref.get(e)).pipe(oe.iC)}}class Zv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Mu(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Pe.h)(t=>t.length>0),oe.iC):Mu(this.query,this.afs.schedulers.outsideAngular).pipe(oe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ge.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return zl(this.query,t,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return Fh(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),oe.iC)}get(e){return(0,J.D)(this.query.get(e)).pipe(oe.iC)}}const kg=new l.OlP("angularfire2.enableFirestorePersistence"),Ty=new l.OlP("angularfire2.firestore.persistenceSettings"),Ri=new l.OlP("angularfire2.firestore.settings"),My=new l.OlP("angularfire2.firestore.use-emulator");function Yv(r,e=(t=>t)){return{query:e(r),ref:r}}let qv=(()=>{class r{constructor(t,o,a,u,p,O,G,te,xe,ct,Xt,vn,Ln,Qn,si,Yi,Vr){this.schedulers=G;const Ui=(0,at.on)(t,O,o),us=xe;ct&&(0,ll.nw)(Ui,O,Xt,Ln,Qn,si,vn,Yi),[this.firestore,this.persistenceEnabled$]=(0,at.cc)(`${Ui.name}.firestore`,"AngularFirestore",Ui.name,()=>{const Lo=O.runOutsideAngular(()=>Ui.firestore());if(u&&Lo.settings(u),us&&Lo.useEmulator(...us),a&&!(0,Ge.PM)(p)){const Co=()=>{try{return(0,J.D)(Lo.enablePersistence(te||void 0).then(()=>!0,()=>!1))}catch(ha){return typeof console<"u"&&console.warn(ha),(0,we.of)(!1)}};return[Lo,O.runOutsideAngular(Co)]}return[Lo,(0,we.of)(!1)]},[u,us,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:p}=Yv(a,o),O=this.schedulers.ngZone.run(()=>u);return new Qm(O,p,this)}collectionGroup(t,o){const a=o||(p=>p),u=this.firestore.collectionGroup(t);return new Zv(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new Iy(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(l.LFG(at.Dh),l.LFG(at.xv,8),l.LFG(kg,8),l.LFG(Ri,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(oe.HU),l.LFG(Ty,8),l.LFG(My,8),l.LFG(ll.zQ,8),l.LFG(ll.Qv,8),l.LFG(ll.L6,8),l.LFG(ll._Q,8),l.LFG(ll.rT,8),l.LFG(ll.lh,8),l.LFG(ll.f7,8),l.LFG($v.nm,8))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),ku=(()=>{class r{constructor(){Gv.Z.registerVersion("angularfire",oe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:kg,useValue:!0},{provide:Ty,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[qv]}),r})()},8445:(pn,rt,w)=>{w.d(rt,{Q1:()=>fo,TE:()=>j});var l=w(9751),C=w(9646),h=w(8996),J=w(8372),we=w(4004),oe=w(3900),W=w(4976),_e=w(2223),Ce=w(2011),re=w(3942),fe=w(5861),ge=w(6881),He=w(2090),Pe=w(4859);const at="firebasestorage.googleapis.com",Ge="storageBucket";class vt extends He.ZR{constructor(D,ne,Se=0){super(Ee(D),`Firebase Storage: ${ne} (${Ee(D)})`),this.status_=Se,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(D){this.status_=D}_codeEquals(D){return Ee(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var me=(()=>((me=me||{}).UNKNOWN="unknown",me.OBJECT_NOT_FOUND="object-not-found",me.BUCKET_NOT_FOUND="bucket-not-found",me.PROJECT_NOT_FOUND="project-not-found",me.QUOTA_EXCEEDED="quota-exceeded",me.UNAUTHENTICATED="unauthenticated",me.UNAUTHORIZED="unauthorized",me.UNAUTHORIZED_APP="unauthorized-app",me.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",me.INVALID_CHECKSUM="invalid-checksum",me.CANCELED="canceled",me.INVALID_EVENT_NAME="invalid-event-name",me.INVALID_URL="invalid-url",me.INVALID_DEFAULT_BUCKET="invalid-default-bucket",me.NO_DEFAULT_BUCKET="no-default-bucket",me.CANNOT_SLICE_BLOB="cannot-slice-blob",me.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",me.NO_DOWNLOAD_URL="no-download-url",me.INVALID_ARGUMENT="invalid-argument",me.INVALID_ARGUMENT_COUNT="invalid-argument-count",me.APP_DELETED="app-deleted",me.INVALID_ROOT_OPERATION="invalid-root-operation",me.INVALID_FORMAT="invalid-format",me.INTERNAL_ERROR="internal-error",me.UNSUPPORTED_ENVIRONMENT="unsupported-environment",me))();function Ee(v){return"storage/"+v}function he(){return new vt(me.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qe(){return new vt(me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xt(){return new vt(me.CANCELED,"User canceled the upload/download.")}function gt(){return new vt(me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qt(v){return new vt(me.INVALID_ARGUMENT,v)}function cn(){return new vt(me.APP_DELETED,"The Firebase app was deleted.")}function bn(v){return new vt(me.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sn(v,D){return new vt(me.INVALID_FORMAT,"String does not match format '"+v+"': "+D)}function Ft(v){throw new vt(me.INTERNAL_ERROR,"Internal error: "+v)}class Qe{constructor(D,ne){this.bucket=D,this.path_=ne}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,ne){let Se;try{Se=Qe.makeFromUrl(D,ne)}catch{return new Qe(D,"")}if(""===Se.path)return Se;throw function On(v){return new vt(me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(D)}static makeFromUrl(D,ne){let Se=null;const ft="([A-Za-z0-9.\\-_]+)",Zn=new RegExp("^gs://"+ft+"(/(.*))?$","i");function yi(Ar){Ar.path_=decodeURIComponent(Ar.path)}const gr=ne.replace(/[.]/g,"\\."),Lr=[{regex:Zn,indices:{bucket:1,path:3},postModify:function Vt(Ar){"/"===Ar.path.charAt(Ar.path.length-1)&&(Ar.path_=Ar.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${gr}/v[A-Za-z0-9_]+/b/${ft}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:yi},{regex:new RegExp(`^https?://${ne===at?"(?:storage.googleapis.com|storage.cloud.google.com)":ne}/${ft}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:yi}];for(let Ar=0;Ar<Lr.length;Ar++){const wo=Lr[Ar],ss=wo.regex.exec(D);if(ss){let ks=ss[wo.indices.path];ks||(ks=""),Se=new Qe(ss[wo.indices.bucket],ks),wo.postModify(Se);break}}if(null==Se)throw function wn(v){return new vt(me.INVALID_URL,"Invalid URL '"+v+"'.")}(D);return Se}}class ot{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function dt(v){return"string"==typeof v||v instanceof String}function Ke(v){return Zt()&&v instanceof Blob}function Zt(){return typeof Blob<"u"&&!(0,He.UG)()}function yn(v,D,ne,Se){if(Se<D)throw qt(`Invalid value for '${v}'. Expected ${D} or greater.`);if(Se>ne)throw qt(`Invalid value for '${v}'. Expected ${ne} or less.`)}function ln(v,D,ne){let Se=D;return null==ne&&(Se=`https://${D}`),`${ne}://${Se}/v0${v}`}function Tt(v){const D=encodeURIComponent;let ne="?";for(const Se in v)v.hasOwnProperty(Se)&&(ne=ne+(D(Se)+"=")+D(v[Se])+"&");return ne=ne.slice(0,-1),ne}var ue=(()=>((ue=ue||{})[ue.NO_ERROR=0]="NO_ERROR",ue[ue.NETWORK_ERROR=1]="NETWORK_ERROR",ue[ue.ABORT=2]="ABORT",ue))();function Ue(v,D){const ne=v>=500&&v<600,ft=-1!==[408,429].indexOf(v),Vt=-1!==D.indexOf(v);return ne||ft||Vt}class ht{constructor(D,ne,Se,ft,Vt,Tn,Zn,Vn,yi,Pi,gr,Cr=!0){this.url_=D,this.method_=ne,this.headers_=Se,this.body_=ft,this.successCodes_=Vt,this.additionalRetryCodes_=Tn,this.callback_=Zn,this.errorCallback_=Vn,this.timeout_=yi,this.progressCallback_=Pi,this.connectionFactory_=gr,this.retry=Cr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((sr,Fi)=>{this.resolve_=sr,this.reject_=Fi,this.start_()})}start_(){const ne=(Se,ft)=>{const Vt=this.resolve_,Tn=this.reject_,Zn=ft.connection;if(ft.wasSuccessCode)try{const Vn=this.callback_(Zn,Zn.getResponse());!function zt(v){return void 0!==v}(Vn)?Vt():Vt(Vn)}catch(Vn){Tn(Vn)}else if(null!==Zn){const Vn=he();Vn.serverResponse=Zn.getErrorText(),Tn(this.errorCallback_?this.errorCallback_(Zn,Vn):Vn)}else Tn(ft.canceled?this.appDelete_?cn():xt():qe())};this.canceled_?ne(0,new ut(!1,null,!0)):this.backoffId_=function Ot(v,D,ne){let Se=1,ft=null,Vt=null,Tn=!1,Zn=0;function Vn(){return 2===Zn}let yi=!1;function Pi(...Ci){yi||(yi=!0,D.apply(null,Ci))}function gr(Ci){ft=setTimeout(()=>{ft=null,v(sr,Vn())},Ci)}function Cr(){Vt&&clearTimeout(Vt)}function sr(Ci,...Ao){if(yi)return void Cr();if(Ci)return Cr(),void Pi.call(null,Ci,...Ao);if(Vn()||Tn)return Cr(),void Pi.call(null,Ci,...Ao);let Lr;Se<64&&(Se*=2),1===Zn?(Zn=2,Lr=0):Lr=1e3*(Se+Math.random()),gr(Lr)}let Fi=!1;function _r(Ci){Fi||(Fi=!0,Cr(),!yi&&(null!==ft?(Ci||(Zn=2),clearTimeout(ft),gr(0)):Ci||(Zn=1)))}return gr(0),Vt=setTimeout(()=>{Tn=!0,_r(!0)},ne),_r}((Se,ft)=>{if(ft)return void Se(!1,new ut(!1,null,!0));const Vt=this.connectionFactory_();this.pendingConnection_=Vt;const Tn=Zn=>{null!==this.progressCallback_&&this.progressCallback_(Zn.loaded,Zn.lengthComputable?Zn.total:-1)};null!==this.progressCallback_&&Vt.addUploadProgressListener(Tn),Vt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Vt.removeUploadProgressListener(Tn),this.pendingConnection_=null;const Zn=Vt.getErrorCode()===ue.NO_ERROR,Vn=Vt.getStatus();if(!Zn||Ue(Vn,this.additionalRetryCodes_)&&this.retry){const Pi=Vt.getErrorCode()===ue.ABORT;return void Se(!1,new ut(!1,null,Pi))}const yi=-1!==this.successCodes_.indexOf(Vn);Se(!0,new ut(yi,Vt))})},ne,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function yt(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ut{constructor(D,ne,Se){this.wasSuccessCode=D,this.connection=ne,this.canceled=!!Se}}function dn(...v){const D=function Dn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==D){const ne=new D;for(let Se=0;Se<v.length;Se++)ne.append(v[Se]);return ne.getBlob()}if(Zt())return new Blob(v);throw new vt(me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wt{constructor(D,ne){this.data=D,this.contentType=ne||null}}function Sn(v,D){switch(v){case Dt.RAW:return new Wt(di(D));case Dt.BASE64:case Dt.BASE64URL:return new Wt(pi(v,D));case Dt.DATA_URL:return new Wt(function We(v){const D=new Qt(v);return D.base64?pi(Dt.BASE64,D.rest):function xi(v){let D;try{D=decodeURIComponent(v)}catch{throw sn(Dt.DATA_URL,"Malformed data URL.")}return di(D)}(D.rest)}(D),function lt(v){return new Qt(v).contentType}(D))}throw he()}function di(v){const D=[];for(let ne=0;ne<v.length;ne++){let Se=v.charCodeAt(ne);Se<=127?D.push(Se):Se<=2047?D.push(192|Se>>6,128|63&Se):55296==(64512&Se)?ne<v.length-1&&56320==(64512&v.charCodeAt(ne+1))?(Se=65536|(1023&Se)<<10|1023&v.charCodeAt(++ne),D.push(240|Se>>18,128|Se>>12&63,128|Se>>6&63,128|63&Se)):D.push(239,191,189):56320==(64512&Se)?D.push(239,191,189):D.push(224|Se>>12,128|Se>>6&63,128|63&Se)}return new Uint8Array(D)}function pi(v,D){switch(v){case Dt.BASE64:{const ft=-1!==D.indexOf("-"),Vt=-1!==D.indexOf("_");if(ft||Vt)throw sn(v,"Invalid character '"+(ft?"-":"_")+"' found: is it base64url encoded?");break}case Dt.BASE64URL:{const ft=-1!==D.indexOf("+"),Vt=-1!==D.indexOf("/");if(ft||Vt)throw sn(v,"Invalid character '"+(ft?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let ne;try{ne=function $e(v){if(typeof atob>"u")throw function en(v){return new vt(me.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(D)}catch(ft){throw ft.message.includes("polyfill")?ft:sn(v,"Invalid character found")}const Se=new Uint8Array(ne.length);for(let ft=0;ft<ne.length;ft++)Se[ft]=ne.charCodeAt(ft);return Se}class Qt{constructor(D){this.base64=!1,this.contentType=null;const ne=D.match(/^data:([^,]+)?,/);if(null===ne)throw sn(Dt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Se=ne[1]||null;null!=Se&&(this.base64=function ze(v,D){return v.length>=D.length&&v.substring(v.length-D.length)===D}(Se,";base64"),this.contentType=this.base64?Se.substring(0,Se.length-7):Se),this.rest=D.substring(D.indexOf(",")+1)}}class Le{constructor(D,ne){let Se=0,ft="";Ke(D)?(this.data_=D,Se=D.size,ft=D.type):D instanceof ArrayBuffer?(ne?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),Se=this.data_.length):D instanceof Uint8Array&&(ne?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),Se=D.length),this.size_=Se,this.type_=ft}size(){return this.size_}type(){return this.type_}slice(D,ne){if(Ke(this.data_)){const ft=function jn(v,D,ne){return v.webkitSlice?v.webkitSlice(D,ne):v.mozSlice?v.mozSlice(D,ne):v.slice?v.slice(D,ne):null}(this.data_,D,ne);return null===ft?null:new Le(ft)}{const Se=new Uint8Array(this.data_.buffer,D,ne-D);return new Le(Se,!0)}}static getBlob(...D){if(Zt()){const ne=D.map(Se=>Se instanceof Le?Se.data_:Se);return new Le(dn.apply(null,ne))}{const ne=D.map(Tn=>dt(Tn)?Sn(Dt.RAW,Tn).data:Tn.data_);let Se=0;ne.forEach(Tn=>{Se+=Tn.byteLength});const ft=new Uint8Array(Se);let Vt=0;return ne.forEach(Tn=>{for(let Zn=0;Zn<Tn.length;Zn++)ft[Vt++]=Tn[Zn]}),new Le(ft,!0)}}uploadData(){return this.data_}}function ke(v){let D;try{D=JSON.parse(v)}catch{return null}return function At(v){return"object"==typeof v&&!Array.isArray(v)}(D)?D:null}function Re(v){const D=v.lastIndexOf("/",v.length-2);return-1===D?v:v.slice(D+1)}function ce(v,D){return D}class H{constructor(D,ne,Se,ft){this.server=D,this.local=ne||D,this.writable=!!Se,this.xform=ft||ce}}let V=null;function de(){if(V)return V;const v=[];v.push(new H("bucket")),v.push(new H("generation")),v.push(new H("metageneration")),v.push(new H("name","fullPath",!0));const ne=new H("name");ne.xform=function D(Vt,Tn){return function $(v){return!dt(v)||v.length<2?v:Re(v)}(Tn)},v.push(ne);const ft=new H("size");return ft.xform=function Se(Vt,Tn){return void 0!==Tn?Number(Tn):Tn},v.push(ft),v.push(new H("timeCreated")),v.push(new H("updated")),v.push(new H("md5Hash",null,!0)),v.push(new H("cacheControl",null,!0)),v.push(new H("contentDisposition",null,!0)),v.push(new H("contentEncoding",null,!0)),v.push(new H("contentLanguage",null,!0)),v.push(new H("contentType",null,!0)),v.push(new H("metadata","customMetadata",!0)),V=v,V}function Oe(v,D,ne){const Se=ke(D);return null===Se?null:function Ie(v,D,ne){const Se={type:"file"},ft=ne.length;for(let Vt=0;Vt<ft;Vt++){const Tn=ne[Vt];Se[Tn.local]=Tn.xform(Se,D[Tn.server])}return function ae(v,D){Object.defineProperty(v,"ref",{get:function ne(){const Vt=new Qe(v.bucket,v.fullPath);return D._makeStorageReference(Vt)}})}(Se,v),Se}(v,Se,ne)}function q(v,D){const ne={},Se=D.length;for(let ft=0;ft<Se;ft++){const Vt=D[ft];Vt.writable&&(ne[Vt.server]=v[Vt.local])}return JSON.stringify(ne)}const De="prefixes",_t="items";class ii{constructor(D,ne,Se,ft){this.url=D,this.method=ne,this.handler=Se,this.timeout=ft,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Pt(v){if(!v)throw he()}function It(v,D){return function ne(Se,ft){const Vt=Oe(v,ft,D);return Pt(null!==Vt),Vt}}function Pn(v){return function D(ne,Se){let ft;return ft=401===ne.getStatus()?ne.getErrorText().includes("Firebase App Check token is invalid")?function Ye(){return new vt(me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Y(){return new vt(me.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ne.getStatus()?function Ne(v){return new vt(me.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===ne.getStatus()?function Be(v){return new vt(me.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):Se,ft.status=ne.getStatus(),ft.serverResponse=Se.serverResponse,ft}}function Hn(v){const D=Pn(v);return function ne(Se,ft){let Vt=D(Se,ft);return 404===Se.getStatus()&&(Vt=function pe(v){return new vt(me.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),Vt.serverResponse=ft.serverResponse,Vt}}function ui(v,D,ne){const ft=ln(D.fullServerUrl(),v.host,v._protocol),Tn=v.maxOperationRetryTime,Zn=new ii(ft,"GET",It(v,ne),Tn);return Zn.errorHandler=Hn(D),Zn}function qi(v,D,ne,Se,ft){const Vt={};Vt.prefix=D.isRoot?"":D.path+"/",ne&&ne.length>0&&(Vt.delimiter=ne),Se&&(Vt.pageToken=Se),ft&&(Vt.maxResults=ft);const Zn=ln(D.bucketOnlyServerUrl(),v.host,v._protocol),yi=v.maxOperationRetryTime,Pi=new ii(Zn,"GET",function xn(v,D){return function ne(Se,ft){const Vt=function Kn(v,D,ne){const Se=ke(ne);return null===Se?null:function Lt(v,D,ne){const Se={prefixes:[],items:[],nextPageToken:ne.nextPageToken};if(ne[De])for(const ft of ne[De]){const Vt=ft.replace(/\/$/,""),Tn=v._makeStorageReference(new Qe(D,Vt));Se.prefixes.push(Tn)}if(ne[_t])for(const ft of ne[_t]){const Vt=v._makeStorageReference(new Qe(D,ft.name));Se.items.push(Vt)}return Se}(v,D,Se)}(v,D,ft);return Pt(null!==Vt),Vt}}(v,D.bucket),yi);return Pi.urlParams=Vt,Pi.errorHandler=Pn(D),Pi}function Mr(v,D,ne){const Se=Object.assign({},ne);return Se.fullPath=v.path,Se.size=D.size(),Se.contentType||(Se.contentType=function hs(v,D){return v&&v.contentType||D&&D.type()||"application/octet-stream"}(null,D)),Se}class jr{constructor(D,ne,Se,ft){this.current=D,this.total=ne,this.finalized=!!Se,this.metadata=ft||null}}function fr(v,D){let ne=null;try{ne=v.getResponseHeader("X-Goog-Upload-Status")}catch{Pt(!1)}return Pt(!!ne&&-1!==(D||["active"]).indexOf(ne)),ne}const er={STATE_CHANGED:"state_changed"},or={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Io(v){switch(v){case"running":case"pausing":case"canceling":return or.RUNNING;case"paused":return or.PAUSED;case"success":return or.SUCCESS;case"canceled":return or.CANCELED;default:return or.ERROR}}class $r{constructor(D,ne,Se){if(function kt(v){return"function"==typeof v}(D)||null!=ne||null!=Se)this.next=D,this.error=ne??void 0,this.complete=Se??void 0;else{const Vt=D;this.next=Vt.next,this.error=Vt.error,this.complete=Vt.complete}}}function To(v){return(...D)=>{Promise.resolve().then(()=>v(...D))}}let Uo=null;class Jo{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ue.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ue.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ue.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,ne,Se,ft){if(this.sent_)throw Ft("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ne,D,!0),void 0!==ft)for(const Vt in ft)ft.hasOwnProperty(Vt)&&this.xhr_.setRequestHeader(Vt,ft[Vt].toString());return void 0!==Se?this.xhr_.send(Se):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ft("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ft("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ft("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ft("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}class es extends Jo{initXhr(){this.xhr_.responseType="text"}}function mo(){return Uo?Uo():new es}class Er{constructor(D,ne,Se=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=ne,this._metadata=Se,this._mappings=de(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ft=>{if(this._request=void 0,this._chunkMultiplier=1,ft._codeEquals(me.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Vt=this.isExponentialBackoffExpired();if(Ue(ft.status,[])){if(!Vt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ft=qe()}this._error=ft,this._transition("error")}},this._metadataErrorHandler=ft=>{this._request=void 0,ft._codeEquals(me.CANCELED)?this.completeTransitions_():(this._error=ft,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ft,Vt)=>{this._resolve=ft,this._reject=Vt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const D=this._transferred;return ne=>this._updateProgress(D+ne)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ne,Se])=>{switch(this._state){case"running":D(ne,Se);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,ne)=>{const Se=function ho(v,D,ne,Se,ft){const Vt=D.bucketOnlyServerUrl(),Tn=Mr(D,Se,ft),Zn={name:Tn.fullPath},Vn=ln(Vt,v.host,v._protocol),Pi={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Se.size()}`,"X-Goog-Upload-Header-Content-Type":Tn.contentType,"Content-Type":"application/json; charset=utf-8"},gr=q(Tn,ne),Fi=new ii(Vn,"POST",function sr(_r){let Ci;fr(_r);try{Ci=_r.getResponseHeader("X-Goog-Upload-URL")}catch{Pt(!1)}return Pt(dt(Ci)),Ci},v.maxUploadRetryTime);return Fi.urlParams=Zn,Fi.headers=Pi,Fi.body=gr,Fi.errorHandler=Pn(D),Fi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ft=this._ref.storage._makeRequest(Se,mo,D,ne);this._request=ft,ft.getPromise().then(Vt=>{this._request=void 0,this._uploadUrl=Vt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((ne,Se)=>{const ft=function Si(v,D,ne,Se){const Vn=new ii(ne,"POST",function Vt(yi){const Pi=fr(yi,["active","final"]);let gr=null;try{gr=yi.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pt(!1)}gr||Pt(!1);const Cr=Number(gr);return Pt(!isNaN(Cr)),new jr(Cr,Se.size(),"final"===Pi)},v.maxUploadRetryTime);return Vn.headers={"X-Goog-Upload-Command":"query"},Vn.errorHandler=Pn(D),Vn}(this._ref.storage,this._ref._location,D,this._blob),Vt=this._ref.storage._makeRequest(ft,mo,ne,Se);this._request=Vt,Vt.getPromise().then(Tn=>{this._request=void 0,this._updateProgress(Tn.current),this._needToFetchStatus=!1,Tn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,ne=new jr(this._transferred,this._blob.size()),Se=this._uploadUrl;this._resolveToken((ft,Vt)=>{let Tn;try{Tn=function io(v,D,ne,Se,ft,Vt,Tn,Zn){const Vn=new jr(0,0);if(Tn?(Vn.current=Tn.current,Vn.total=Tn.total):(Vn.current=0,Vn.total=Se.size()),Se.size()!==Vn.total)throw function Nt(){return new vt(me.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const yi=Vn.total-Vn.current;let Pi=yi;ft>0&&(Pi=Math.min(Pi,ft));const gr=Vn.current;let sr="";sr=0===Pi?"finalize":yi===Pi?"upload, finalize":"upload";const Fi={"X-Goog-Upload-Command":sr,"X-Goog-Upload-Offset":`${Vn.current}`},_r=Se.slice(gr,gr+Pi);if(null===_r)throw gt();const Lr=new ii(ne,"POST",function Ci(Ar,wo){const ss=fr(Ar,["active","final"]),Cs=Vn.current+Pi,ks=Se.size();let As;return As="final"===ss?It(D,Vt)(Ar,wo):null,new jr(Cs,ks,"final"===ss,As)},D.maxUploadRetryTime);return Lr.headers=Fi,Lr.body=_r.uploadData(),Lr.progressCallback=Zn||null,Lr.errorHandler=Pn(v),Lr}(this._ref._location,this._ref.storage,Se,this._blob,D,this._mappings,ne,this._makeProgressCallback())}catch(Vn){return this._error=Vn,void this._transition("error")}const Zn=this._ref.storage._makeRequest(Tn,mo,ft,Vt,!1);this._request=Zn,Zn.getPromise().then(Vn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Vn.current),Vn.finalized?(this._metadata=Vn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,ne)=>{const Se=ui(this._ref.storage,this._ref._location,this._mappings),ft=this._ref.storage._makeRequest(Se,mo,D,ne);this._request=ft,ft.getPromise().then(Vt=>{this._request=void 0,this._metadata=Vt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,ne)=>{const Se=function no(v,D,ne,Se,ft){const Vt=D.bucketOnlyServerUrl(),Tn={"X-Goog-Upload-Protocol":"multipart"},Vn=function Zn(){let Lr="";for(let Ar=0;Ar<2;Ar++)Lr+=Math.random().toString().slice(2);return Lr}();Tn["Content-Type"]="multipart/related; boundary="+Vn;const yi=Mr(D,Se,ft),Pi=q(yi,ne),sr=Le.getBlob("--"+Vn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Pi+"\r\n--"+Vn+"\r\nContent-Type: "+yi.contentType+"\r\n\r\n",Se,"\r\n--"+Vn+"--");if(null===sr)throw gt();const Fi={name:yi.fullPath},_r=ln(Vt,v.host,v._protocol),Ao=v.maxUploadRetryTime,Qr=new ii(_r,"POST",It(v,ne),Ao);return Qr.urlParams=Fi,Qr.headers=Tn,Qr.body=sr.uploadData(),Qr.errorHandler=Pn(D),Qr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ft=this._ref.storage._makeRequest(Se,mo,D,ne);this._request=ft,ft.getPromise().then(Vt=>{this._request=void 0,this._metadata=Vt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const ne=this._transferred;this._transferred=D,this._transferred!==ne&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ne="paused"===this._state;this._state=D,ne&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=xt(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=Io(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,ne,Se,ft){const Vt=new $r(ne||void 0,Se||void 0,ft||void 0);return this._addObserver(Vt),()=>{this._removeObserver(Vt)}}then(D,ne){return this._promise.then(D,ne)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const ne=this._observers.indexOf(D);-1!==ne&&this._observers.splice(ne,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ne=>{this._notifyObserver(ne)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(Io(this._state)){case or.SUCCESS:To(this._resolve.bind(null,this.snapshot))();break;case or.CANCELED:case or.ERROR:To(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(Io(this._state)){case or.RUNNING:case or.PAUSED:D.next&&To(D.next.bind(D,this.snapshot))();break;case or.SUCCESS:D.complete&&To(D.complete.bind(D))();break;default:D.error&&To(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class Ei{constructor(D,ne){this._service=D,this._location=ne instanceof Qe?ne:Qe.makeFromUrl(ne,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,ne){return new Ei(D,ne)}get root(){const D=new Qe(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Re(this._location.path)}get storage(){return this._service}get parent(){const D=function Ct(v){if(0===v.length)return null;const D=v.lastIndexOf("/");return-1===D?"":v.slice(0,D)}(this._location.path);if(null===D)return null;const ne=new Qe(this._location.bucket,D);return new Ei(this._service,ne)}_throwIfRoot(D){if(""===this._location.path)throw bn(D)}}function mn(v,D,ne){return gn.apply(this,arguments)}function gn(){return(gn=(0,fe.Z)(function*(v,D,ne){const ft=yield hn(v,{pageToken:ne});D.prefixes.push(...ft.prefixes),D.items.push(...ft.items),null!=ft.nextPageToken&&(yield mn(v,D,ft.nextPageToken))})).apply(this,arguments)}function hn(v,D){null!=D&&"number"==typeof D.maxResults&&yn("options.maxResults",1,1e3,D.maxResults);const ne=D||{},Se=qi(v.storage,v._location,"/",ne.pageToken,ne.maxResults);return v.storage.makeRequestWithTokens(Se,mo)}function fi(v){v._throwIfRoot("getDownloadURL");const D=function wr(v,D,ne){const ft=ln(D.fullServerUrl(),v.host,v._protocol),Tn=v.maxOperationRetryTime,Zn=new ii(ft,"GET",function qn(v,D){return function ne(Se,ft){const Vt=Oe(v,ft,D);return Pt(null!==Vt),function Fe(v,D,ne,Se){const ft=ke(D);if(null===ft||!dt(ft.downloadTokens))return null;const Vt=ft.downloadTokens;if(0===Vt.length)return null;const Tn=encodeURIComponent;return Vt.split(",").map(yi=>{const gr=v.fullPath;return ln("/b/"+Tn(v.bucket)+"/o/"+Tn(gr),ne,Se)+Tt({alt:"media",token:yi})})[0]}(Vt,ft,v.host,v._protocol)}}(v,ne),Tn);return Zn.errorHandler=Hn(D),Zn}(v.storage,v._location,de());return v.storage.makeRequestWithTokens(D,mo).then(ne=>{if(null===ne)throw function Ut(){return new vt(me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ne})}function tr(v,D){const ne=function $t(v,D){const ne=D.split("/").filter(Se=>Se.length>0).join("/");return 0===v.length?ne:v+"/"+ne}(v._location.path,D),Se=new Qe(v._location.bucket,ne);return new Ei(v.storage,Se)}function Zr(v,D){if(v instanceof Yr){const ne=v;if(null==ne._bucket)throw function pt(){return new vt(me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ge+"' property when initializing the app?")}();const Se=new Ei(ne,ne._bucket);return null!=D?Zr(Se,D):Se}return void 0!==D?tr(v,D):v}function Sr(v,D){if(D&&function nr(v){return/^[A-Za-z]+:\/\//.test(v)}(D)){if(v instanceof Yr)return function Vi(v,D){return new Ei(v,D)}(v,D);throw qt("To use ref(service, url), the first argument must be a Storage instance.")}return Zr(v,D)}function Xn(v,D){const ne=D?.[Ge];return null==ne?null:Qe.makeFromBucketSpec(ne,v)}class Yr{constructor(D,ne,Se,ft,Vt){this.app=D,this._authProvider=ne,this._appCheckProvider=Se,this._url=ft,this._firebaseVersion=Vt,this._bucket=null,this._host=at,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ft?Qe.makeFromBucketSpec(ft,this._host):Xn(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?Qe.makeFromBucketSpec(this._url,D):Xn(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){yn("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){yn("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,fe.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const ne=D._authProvider.getImmediate({optional:!0});if(ne){const Se=yield ne.getToken();if(null!==Se)return Se.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,fe.Z)(function*(){const ne=D._appCheckProvider.getImmediate({optional:!0});return ne?(yield ne.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new Ei(this,D)}_makeRequest(D,ne,Se,ft,Vt=!0){if(this._deleted)return new ot(cn());{const Tn=function ri(v,D,ne,Se,ft,Vt,Tn=!0){const Zn=Tt(v.urlParams),Vn=v.url+Zn,yi=Object.assign({},v.headers);return function an(v,D){D&&(v["X-Firebase-GMPID"]=D)}(yi,D),function Mt(v,D){null!==D&&D.length>0&&(v.Authorization="Firebase "+D)}(yi,ne),function Yt(v,D){v["X-Firebase-Storage-Version"]="webjs/"+(D??"AppManager")}(yi,Vt),function Gn(v,D){null!==D&&(v["X-Firebase-AppCheck"]=D)}(yi,Se),new ht(Vn,v.method,yi,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,ft,Tn)}(D,this._appId,Se,ft,ne,this._firebaseVersion,Vt);return this._requests.add(Tn),Tn.getPromise().then(()=>this._requests.delete(Tn),()=>this._requests.delete(Tn)),Tn}}makeRequestWithTokens(D,ne){var Se=this;return(0,fe.Z)(function*(){const[ft,Vt]=yield Promise.all([Se._getAuthToken(),Se._getAppCheckToken()]);return Se._makeRequest(D,ne,ft,Vt).getPromise()})()}}const qr="@firebase/storage";function So(v,D){return Sr(v=(0,He.m9)(v),D)}function Fr(v,{instanceIdentifier:D}){const ne=v.getProvider("app").getImmediate(),Se=v.getProvider("auth-internal"),ft=v.getProvider("app-check-internal");return new Yr(ne,Se,ft,D,ge.SDK_VERSION)}!function os(){(0,ge._registerComponent)(new Pe.wA("storage",Fr,"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(qr,"0.11.2",""),(0,ge.registerVersion)(qr,"0.11.2","esm2017")}();class Hi{constructor(D,ne,Se){this._delegate=D,this.task=ne,this.ref=Se}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class lr{constructor(D,ne){this._delegate=D,this._ref=ne,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hi(this._delegate.snapshot,this,this._ref)}then(D,ne){return this._delegate.then(Se=>{if(D)return D(new Hi(Se,this,this._ref))},ne)}on(D,ne,Se,ft){let Vt;return ne&&(Vt="function"==typeof ne?Tn=>ne(new Hi(Tn,this,this._ref)):{next:ne.next?Tn=>ne.next(new Hi(Tn,this,this._ref)):void 0,complete:ne.complete||void 0,error:ne.error||void 0}),this._delegate.on(D,Vt,Se||void 0,ft||void 0)}}class Gr{constructor(D,ne){this._delegate=D,this._service=ne}get prefixes(){return this._delegate.prefixes.map(D=>new kr(D,this._service))}get items(){return this._delegate.items.map(D=>new kr(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class kr{constructor(D,ne){this._delegate=D,this.storage=ne}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const ne=function Ko(v,D){return tr(v,D)}(this._delegate,D);return new kr(ne,this.storage)}get root(){return new kr(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new kr(D,this.storage)}put(D,ne){return this._throwIfRoot("put"),new lr(function Es(v,D,ne){return function wt(v,D,ne){return v._throwIfRoot("uploadBytesResumable"),new Er(v,new Le(D),ne)}(v=(0,He.m9)(v),D,ne)}(this._delegate,D,ne),this)}putString(D,ne=Dt.RAW,Se){this._throwIfRoot("putString");const ft=Sn(ne,D),Vt=Object.assign({},Se);return null==Vt.contentType&&null!=ft.contentType&&(Vt.contentType=ft.contentType),new lr(new Er(this._delegate,new Le(ft.data,!0),Vt),this)}listAll(){return function cr(v){return function Bt(v){const D={prefixes:[],items:[]};return mn(v,D).then(()=>D)}(v=(0,He.m9)(v))}(this._delegate).then(D=>new Gr(D,this.storage))}list(D){return function fs(v,D){return hn(v=(0,He.m9)(v),D)}(this._delegate,D||void 0).then(ne=>new Gr(ne,this.storage))}getMetadata(){return function pr(v){return function Rn(v){v._throwIfRoot("getMetadata");const D=ui(v.storage,v._location,de());return v.storage.makeRequestWithTokens(D,mo)}(v=(0,He.m9)(v))}(this._delegate)}updateMetadata(D){return function ir(v,D){return function oi(v,D){v._throwIfRoot("updateMetadata");const ne=function to(v,D,ne,Se){const Vt=ln(D.fullServerUrl(),v.host,v._protocol),Zn=q(ne,Se),yi=v.maxOperationRetryTime,Pi=new ii(Vt,"PATCH",It(v,Se),yi);return Pi.headers={"Content-Type":"application/json; charset=utf-8"},Pi.body=Zn,Pi.errorHandler=Hn(D),Pi}(v.storage,v._location,D,de());return v.storage.makeRequestWithTokens(ne,mo)}(v=(0,He.m9)(v),D)}(this._delegate,D)}getDownloadURL(){return function ki(v){return fi(v=(0,He.m9)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Gi(v){return function Pr(v){v._throwIfRoot("deleteObject");const D=function bo(v,D){const Se=ln(D.fullServerUrl(),v.host,v._protocol),Zn=new ii(Se,"DELETE",function Tn(Vn,yi){},v.maxOperationRetryTime);return Zn.successCodes=[200,204],Zn.errorHandler=Hn(D),Zn}(v.storage,v._location);return v.storage.makeRequestWithTokens(D,mo)}(v=(0,He.m9)(v))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw bn(D)}}class jo{constructor(D,ne){this.app=D,this._delegate=ne}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(Wi(D))throw qt("ref() expected a child path but got a URL, use refFromURL instead.");return new kr(So(this._delegate,D),this)}refFromURL(D){if(!Wi(D))throw qt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qe.makeFromUrl(D,this._delegate.host)}catch{throw qt("refFromUrl() expected a valid full URL but got an invalid one.")}return new kr(So(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,ne,Se={}){!function ps(v,D,ne,Se={}){!function oo(v,D,ne,Se={}){v.host=`${D}:${ne}`,v._protocol="http";const{mockUserToken:ft}=Se;ft&&(v._overrideAuthToken="string"==typeof ft?ft:(0,He.Sg)(ft,v.app.options.projectId))}(v,D,ne,Se)}(this._delegate,D,ne,Se)}}function Wi(v){return/^[A-Za-z]+:\/\//.test(v)}function Fs(v,{instanceIdentifier:D}){const ne=v.getProvider("app-compat").getImmediate(),Se=v.getProvider("storage").getImmediate({identifier:D});return new jo(ne,Se)}!function gs(v){const D={TaskState:or,TaskEvent:er,StringFormat:Dt,Storage:jo,Reference:kr};v.INTERNAL.registerComponent(new Pe.wA("storage-compat",Fs,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.2")}(re.Z);var Je=w(6217),et=w(9260);function tt(v){const D=function Q(v){return new l.y(D=>{const ne=Tn=>D.next(Tn);ne(v.snapshot);const Vt=v.on("state_changed",ne);return v.then(Tn=>{ne(Tn),D.complete()},Tn=>{ne(v.snapshot),(Tn=>{D.error(Tn)})(Tn)}),function(){Vt()}}).pipe((0,J.b)(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,we.U)(ne=>ne.bytesTransferred/ne.totalBytes*100))}}function on(v){return{getDownloadURL:()=>(0,C.of)(void 0).pipe(W.fc,(0,oe.w)(()=>v.getDownloadURL()),W.iC),getMetadata:()=>(0,C.of)(void 0).pipe(W.fc,(0,oe.w)(()=>v.getMetadata()),W.iC),delete:()=>(0,h.D)(v.delete()),child:D=>on(v.child(D)),updateMetadata:D=>(0,h.D)(v.updateMetadata(D)),put:(D,ne)=>tt(v.put(D,ne)),putString:(D,ne,Se)=>tt(v.putString(D,ne,Se)),list:D=>(0,h.D)(v.list(D)),listAll:()=>(0,h.D)(v.listAll())}}const An=new _e.OlP("angularfire2.storageBucket"),Ti=new _e.OlP("angularfire2.storage.maxUploadRetryTime"),Nr=new _e.OlP("angularfire2.storage.maxOperationRetryTime"),zr=new _e.OlP("angularfire2.storage.use-emulator");let fo=(()=>{class v{constructor(ne,Se,ft,Vt,Tn,Zn,Vn,yi,Pi,gr){const Cr=(0,Ce.on)(ne,Tn,Se);this.storage=(0,Ce.cc)(`${Cr.name}.storage.${ft}`,"AngularFireStorage",Cr.name,()=>{const sr=Tn.runOutsideAngular(()=>Cr.storage(ft||void 0)),Fi=Pi;return Fi&&sr.useEmulator(...Fi),Vn&&sr.setMaxUploadRetryTime(Vn),yi&&sr.setMaxOperationRetryTime(yi),sr},[Vn,yi])}ref(ne){return on(this.storage.ref(ne))}refFromURL(ne){return on(this.storage.refFromURL(ne))}upload(ne,Se,ft){return on(this.storage.ref(ne)).put(Se,ft)}}return v.\u0275fac=function(ne){return new(ne||v)(_e.LFG(Ce.Dh),_e.LFG(Ce.xv,8),_e.LFG(An,8),_e.LFG(_e.Lbi),_e.LFG(_e.R0b),_e.LFG(W.HU),_e.LFG(Ti,8),_e.LFG(Nr,8),_e.LFG(zr,8),_e.LFG(Je.nm,8))},v.\u0275prov=_e.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),K=(()=>{class v{}return v.\u0275fac=function(ne){return new(ne||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({}),v})(),j=(()=>{class v{constructor(){et.Z.registerVersion("angularfire",W.q4.full,"gcs-compat")}}return v.\u0275fac=function(ne){return new(ne||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({providers:[fo],imports:[K]}),v})()},2011:(pn,rt,w)=>{w.d(rt,{Dh:()=>_e,GT:()=>oe,cc:()=>Pe,hO:()=>He,on:()=>re,pX:()=>we,xv:()=>Ce});var l=w(2223),C=w(9260),h=w(4976);pn=w.hmd(pn);const J=["ngOnDestroy"],we=(Ve,Ae,vt,me={})=>new Proxy(Ve,{get:(Ee,he)=>vt.runOutsideAngular(()=>{var pe;if(Ve[he])return!(null===(pe=me?.spy)||void 0===pe)&&pe.get&&me.spy.get(he,Ve[he]),Ve[he];if(J.indexOf(he)>-1)return()=>{};const Ne=Ae.toPromise().then(Y=>{const Ye=Y&&Y[he];return"function"==typeof Ye?Ye.bind(Y):Ye&&Ye.then?Ye.then(Be=>vt.run(()=>Be)):vt.run(()=>Ye)});return new Proxy(()=>{},{get:(Y,Ye)=>Ne[Ye],apply:(Y,Ye,Be)=>Ne.then(qe=>{var xt;const wn=qe&&qe(...Be);return!(null===(xt=me?.spy)||void 0===xt)&&xt.apply&&me.spy.apply(he,Be,wn),wn})})})}),oe=(Ve,Ae)=>{Ae.forEach(vt=>{Object.getOwnPropertyNames(vt.prototype||vt).forEach(me=>{Object.defineProperty(Ve.prototype,me,Object.getOwnPropertyDescriptor(vt.prototype||vt,me))})})};class W{constructor(Ae){return Ae}}const _e=new l.OlP("angularfire2.app.options"),Ce=new l.OlP("angularfire2.app.name");function re(Ve,Ae,vt){const Ee="object"==typeof vt&&vt||{};Ee.name=Ee.name||"string"==typeof vt&&vt||"[DEFAULT]";const pe=C.Z.apps.filter(Ne=>Ne&&Ne.name===Ee.name)[0]||Ae.runOutsideAngular(()=>C.Z.initializeApp(Ve,Ee));try{JSON.stringify(Ve)!==JSON.stringify(pe.options)&&fe("error",`${pe.name} Firebase App already initialized with different options${pn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new W(pe)}const fe=(Ve,...Ae)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ve](...Ae)},ge={provide:W,useFactory:re,deps:[_e,l.R0b,[new l.FiY,Ce]]};let He=(()=>{class Ve{constructor(vt){C.Z.registerVersion("angularfire",h.q4.full,"core"),C.Z.registerVersion("angularfire",h.q4.full,"app-compat"),C.Z.registerVersion("angular",l.q4F.full,vt.toString())}static initializeApp(vt,me){return{ngModule:Ve,providers:[{provide:_e,useValue:vt},{provide:Ce,useValue:me}]}}}return Ve.\u0275fac=function(vt){return new(vt||Ve)(l.LFG(l.Lbi))},Ve.\u0275mod=l.oAB({type:Ve}),Ve.\u0275inj=l.cJS({providers:[ge]}),Ve})();function Pe(Ve,Ae,vt,me,Ee){const[,he,pe]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Ve)||[];if(he)return function at(Ve,Ae){try{return Ve.toString()===Ae.toString()}catch{return Ve===Ae}}(Ee,pe)||(Xe("error",`${Ae} was already initialized on the ${vt} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),Xe("warn",{is:Ee,was:pe})),he;{const Ne=me();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Ne,Ee]),Ne}}const Ge=!!pn.hot,Xe=(Ve,...Ae)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ve](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(pn,rt,w)=>{w.d(rt,{q4:()=>ds,iC:()=>Va,fc:()=>ta,HU:()=>qa,vb:()=>$c,JM:()=>Ya});var l=w(2223),C=w(259),h=w(5861),J=w(6881),we=w(2090),oe=w(4859),W=w(1877);const _e=(k,L)=>L.some(ie=>k instanceof ie);let Ce,re;const He=new WeakMap,Pe=new WeakMap,at=new WeakMap,Ge=new WeakMap,Xe=new WeakMap;let vt={get(k,L,ie){if(k instanceof IDBTransaction){if("done"===L)return Pe.get(k);if("objectStoreNames"===L)return k.objectStoreNames||at.get(k);if("store"===L)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return pe(k[L])},set:(k,L,ie)=>(k[L]=ie,!0),has:(k,L)=>k instanceof IDBTransaction&&("done"===L||"store"===L)||L in k};function he(k){return"function"==typeof k?function Ee(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...L){return k.apply(Ne(this),L),pe(He.get(this))}:function(...L){return pe(k.apply(Ne(this),L))}:function(L,...ie){const je=k.call(Ne(this),L,...ie);return at.set(je,L.sort?L.sort():[L]),pe(je)}}(k):(k instanceof IDBTransaction&&function Ae(k){if(Pe.has(k))return;const L=new Promise((ie,je)=>{const bt=()=>{k.removeEventListener("complete",jt),k.removeEventListener("error",un),k.removeEventListener("abort",un)},jt=()=>{ie(),bt()},un=()=>{je(k.error||new DOMException("AbortError","AbortError")),bt()};k.addEventListener("complete",jt),k.addEventListener("error",un),k.addEventListener("abort",un)});Pe.set(k,L)}(k),_e(k,function fe(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,vt):k)}function pe(k){if(k instanceof IDBRequest)return function Ve(k){const L=new Promise((ie,je)=>{const bt=()=>{k.removeEventListener("success",jt),k.removeEventListener("error",un)},jt=()=>{ie(pe(k.result)),bt()},un=()=>{je(k.error),bt()};k.addEventListener("success",jt),k.addEventListener("error",un)});return L.then(ie=>{ie instanceof IDBCursor&&He.set(ie,k)}).catch(()=>{}),Xe.set(L,k),L}(k);if(Ge.has(k))return Ge.get(k);const L=he(k);return L!==k&&(Ge.set(k,L),Xe.set(L,k)),L}const Ne=k=>Xe.get(k),Be=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],xt=new Map;function wn(k,L){if(!(k instanceof IDBDatabase)||L in k||"string"!=typeof L)return;if(xt.get(L))return xt.get(L);const ie=L.replace(/FromIndex$/,""),je=L!==ie,bt=qe.includes(ie);if(!(ie in(je?IDBIndex:IDBObjectStore).prototype)||!bt&&!Be.includes(ie))return;const jt=function(){var un=(0,h.Z)(function*(Wn,...$n){const hi=this.transaction(Wn,bt?"readwrite":"readonly");let Ni=hi.store;return je&&(Ni=Ni.index($n.shift())),(yield Promise.all([Ni[ie](...$n),bt&&hi.done]))[0]});return function($n){return un.apply(this,arguments)}}();return xt.set(L,jt),jt}!function me(k){vt=k(vt)}(k=>({...k,get:(L,ie,je)=>wn(L,ie)||k.get(L,ie,je),has:(L,ie)=>!!wn(L,ie)||k.has(L,ie)}));const On="@firebase/installations",pt="0.6.4",gt=1e4,Nt=`w:${pt}`,Ut="FIS_v2",en="https://firebaseinstallations.googleapis.com/v1",qt=36e5,Ft=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(k){return k instanceof we.ZR&&k.code.includes("request-failed")}function ot({projectId:k}){return`${en}/projects/${k}/installations`}function Ot(k){return{token:k.token,requestStatus:2,expiresIn:Zt(k.expiresIn),creationTime:Date.now()}}function yt(k,L){return zt.apply(this,arguments)}function zt(){return(zt=(0,h.Z)(function*(k,L){const je=(yield L.json()).error;return Ft.create("request-failed",{requestName:k,serverCode:je.code,serverMessage:je.message,serverStatus:je.status})})).apply(this,arguments)}function kt({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function dt(k){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(k){const L=yield k();return L.status>=500&&L.status<600?k():L})).apply(this,arguments)}function Zt(k){return Number(k.replace("s","000"))}function Tt(){return(Tt=(0,h.Z)(function*({appConfig:k,heartbeatServiceProvider:L},{fid:ie}){const je=ot(k),bt=kt(k),jt=L.getImmediate({optional:!0});if(jt){const hi=yield jt.getHeartbeatsHeader();hi&&bt.append("x-firebase-client",hi)}const Wn={method:"POST",headers:bt,body:JSON.stringify({fid:ie,authVersion:Ut,appId:k.appId,sdkVersion:Nt})},$n=yield dt(()=>fetch(je,Wn));if($n.ok){const hi=yield $n.json();return{fid:hi.fid||ie,registrationStatus:2,refreshToken:hi.refreshToken,authToken:Ot(hi.authToken)}}throw yield yt("Create Installation",$n)})).apply(this,arguments)}function ue(k){return new Promise(L=>{setTimeout(L,k)})}const ht=/^[cdef][\w-]{21}$/,ut="";function Mt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const ie=function Yt(k){return function Ue(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return ht.test(ie)?ie:ut}catch{return ut}}function an(k){return`${k.appName}!${k.appId}`}const Gn=new Map;function ri(k,L){const ie=an(k);jn(ie,L),function $e(k,L){const ie=function Wt(){return!Dt&&"BroadcastChannel"in self&&(Dt=new BroadcastChannel("[Firebase] FID Change"),Dt.onmessage=k=>{jn(k.data.key,k.data.fid)}),Dt}();ie&&ie.postMessage({key:k,fid:L}),function Sn(){0===Gn.size&&Dt&&(Dt.close(),Dt=null)}()}(ie,L)}function jn(k,L){const ie=Gn.get(k);if(ie)for(const je of ie)je(L)}let Dt=null;const di="firebase-installations-database",xi=1,pi="firebase-installations-store";let Qt=null;function We(){return Qt||(Qt=function Y(k,L,{blocked:ie,upgrade:je,blocking:bt,terminated:jt}={}){const un=indexedDB.open(k,L),Wn=pe(un);return je&&un.addEventListener("upgradeneeded",$n=>{je(pe(un.result),$n.oldVersion,$n.newVersion,pe(un.transaction))}),ie&&un.addEventListener("blocked",()=>ie()),Wn.then($n=>{jt&&$n.addEventListener("close",()=>jt()),bt&&$n.addEventListener("versionchange",()=>bt())}).catch(()=>{}),Wn}(di,xi,{upgrade:(k,L)=>{0===L&&k.createObjectStore(pi)}})),Qt}function lt(k,L){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(k,L){const ie=an(k),bt=(yield We()).transaction(pi,"readwrite"),jt=bt.objectStore(pi),un=yield jt.get(ie);return yield jt.put(L,ie),yield bt.done,(!un||un.fid!==L.fid)&&ri(k,L.fid),L})).apply(this,arguments)}function Le(k){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(k){const L=an(k),je=(yield We()).transaction(pi,"readwrite");yield je.objectStore(pi).delete(L),yield je.done})).apply(this,arguments)}function Ct(k,L){return $t.apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(k,L){const ie=an(k),bt=(yield We()).transaction(pi,"readwrite"),jt=bt.objectStore(pi),un=yield jt.get(ie),Wn=L(un);return void 0===Wn?yield jt.delete(ie):yield jt.put(Wn,ie),yield bt.done,Wn&&(!un||un.fid!==Wn.fid)&&ri(k,Wn.fid),Wn})).apply(this,arguments)}function Re(k){return ce.apply(this,arguments)}function ce(){return ce=(0,h.Z)(function*(k){let L;const ie=yield Ct(k.appConfig,je=>{const bt=function H(k){return Fe(k||{fid:Mt(),registrationStatus:0})}(je),jt=function V(k,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Ft.create("app-offline"))};const ie={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},je=function $(k,L){return de.apply(this,arguments)}(k,ie);return{installationEntry:ie,registrationPromise:je}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:ae(k)}:{installationEntry:L}}(k,bt);return L=jt.registrationPromise,jt.installationEntry});return ie.fid===ut?{installationEntry:yield L}:{installationEntry:ie,registrationPromise:L}}),ce.apply(this,arguments)}function de(){return de=(0,h.Z)(function*(k,L){try{const ie=yield function ln(k,L){return Tt.apply(this,arguments)}(k,L);return lt(k.appConfig,ie)}catch(ie){throw Qe(ie)&&409===ie.customData.serverCode?yield Le(k.appConfig):yield lt(k.appConfig,{fid:L.fid,registrationStatus:0}),ie}}),de.apply(this,arguments)}function ae(k){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,h.Z)(function*(k){let L=yield Oe(k.appConfig);for(;1===L.registrationStatus;)yield ue(100),L=yield Oe(k.appConfig);if(0===L.registrationStatus){const{installationEntry:ie,registrationPromise:je}=yield Re(k);return je||ie}return L})).apply(this,arguments)}function Oe(k){return Ct(k,L=>{if(!L)throw Ft.create("installation-not-found");return Fe(L)})}function Fe(k){return function q(k){return 1===k.registrationStatus&&k.registrationTime+gt<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function _t(){return(_t=(0,h.Z)(function*({appConfig:k,heartbeatServiceProvider:L},ie){const je=function Lt(k,{fid:L}){return`${ot(k)}/${L}/authTokens:generate`}(k,ie),bt=function At(k,{refreshToken:L}){const ie=kt(k);return ie.append("Authorization",function yn(k){return`${Ut} ${k}`}(L)),ie}(k,ie),jt=L.getImmediate({optional:!0});if(jt){const hi=yield jt.getHeartbeatsHeader();hi&&bt.append("x-firebase-client",hi)}const Wn={method:"POST",headers:bt,body:JSON.stringify({installation:{sdkVersion:Nt,appId:k.appId}})},$n=yield dt(()=>fetch(je,Wn));if($n.ok)return Ot(yield $n.json());throw yield yt("Generate Auth Token",$n)})).apply(this,arguments)}function Kn(k){return ii.apply(this,arguments)}function ii(){return ii=(0,h.Z)(function*(k,L=!1){let ie;const je=yield Ct(k.appConfig,jt=>{if(!Hn(jt))throw Ft.create("not-registered");const un=jt.authToken;if(!L&&function ui(k){return 2===k.requestStatus&&!function qi(k){const L=Date.now();return L<k.creationTime||k.creationTime+k.expiresIn<L+qt}(k)}(un))return jt;if(1===un.requestStatus)return ie=function Pt(k,L){return It.apply(this,arguments)}(k,L),jt;{if(!navigator.onLine)throw Ft.create("app-offline");const Wn=function vi(k){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:L})}(jt);return ie=function qn(k,L){return Pn.apply(this,arguments)}(k,Wn),Wn}});return ie?yield ie:je.authToken}),ii.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(k,L){let ie=yield xn(k.appConfig);for(;1===ie.authToken.requestStatus;)yield ue(100),ie=yield xn(k.appConfig);const je=ie.authToken;return 0===je.requestStatus?Kn(k,L):je})).apply(this,arguments)}function xn(k){return Ct(k,L=>{if(!Hn(L))throw Ft.create("not-registered");return function wr(k){return 1===k.requestStatus&&k.requestTime+gt<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Pn(){return Pn=(0,h.Z)(function*(k,L){try{const ie=yield function De(k,L){return _t.apply(this,arguments)}(k,L),je=Object.assign(Object.assign({},L),{authToken:ie});return yield lt(k.appConfig,je),ie}catch(ie){if(!Qe(ie)||401!==ie.customData.serverCode&&404!==ie.customData.serverCode){const je=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield lt(k.appConfig,je)}else yield Le(k.appConfig);throw ie}}),Pn.apply(this,arguments)}function Hn(k){return void 0!==k&&2===k.registrationStatus}function bo(){return(bo=(0,h.Z)(function*(k){const L=k,{installationEntry:ie,registrationPromise:je}=yield Re(L);return je?je.catch(console.error):Kn(L).catch(console.error),ie.fid})).apply(this,arguments)}function Mr(){return Mr=(0,h.Z)(function*(k,L=!1){const ie=k;return yield function no(k){return jr.apply(this,arguments)}(ie),(yield Kn(ie,L)).token}),Mr.apply(this,arguments)}function jr(){return(jr=(0,h.Z)(function*(k){const{registrationPromise:L}=yield Re(k);L&&(yield L)})).apply(this,arguments)}function $r(k){return Ft.create("missing-app-config-values",{valueName:k})}const To="installations",Jo=k=>{const L=k.getProvider("app").getImmediate(),ie=function Io(k){if(!k||!k.options)throw $r("App Configuration");if(!k.name)throw $r("App Name");const L=["projectId","apiKey","appId"];for(const ie of L)if(!k.options[ie])throw $r(ie);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(L);return{app:L,appConfig:ie,heartbeatServiceProvider:(0,J._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},es=k=>{const L=k.getProvider("app").getImmediate(),ie=(0,J._getProvider)(L,To).getImmediate();return{getId:()=>function to(k){return bo.apply(this,arguments)}(ie),getToken:bt=>function hs(k){return Mr.apply(this,arguments)}(ie,bt)}};(function mo(){(0,J._registerComponent)(new oe.wA(To,Jo,"PUBLIC")),(0,J._registerComponent)(new oe.wA("installations-internal",es,"PRIVATE"))})(),(0,J.registerVersion)(On,pt),(0,J.registerVersion)(On,pt,"esm2017");const xr="@firebase/remote-config",Ei=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class oo{constructor(L,ie,je,bt){this.client=L,this.storage=ie,this.storageCache=je,this.logger=bt}isCachedDataFresh(L,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const je=Date.now()-ie,bt=je<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${je}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${bt}.`),bt}fetch(L){var ie=this;return(0,h.Z)(function*(){const[je,bt]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(bt&&ie.isCachedDataFresh(L.cacheMaxAgeMillis,je))return bt;L.eTag=bt&&bt.eTag;const jt=yield ie.client.fetch(L),un=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===jt.status&&un.push(ie.storage.setLastSuccessfulFetchResponse(jt)),yield Promise.all(un),jt})()}}function Yr(k=navigator){return k.languages&&k.languages[0]||k.language}class qr{constructor(L,ie,je,bt,jt,un){this.firebaseInstallations=L,this.sdkVersion=ie,this.namespace=je,this.projectId=bt,this.apiKey=jt,this.appId=un}fetch(L){var ie=this;return(0,h.Z)(function*(){const[je,bt]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),un=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,Wn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},$n={sdk_version:ie.sdkVersion,app_instance_id:je,app_instance_id_token:bt,app_id:ie.appId,language_code:Yr()},hi={method:"POST",headers:Wn,body:JSON.stringify($n)},Ni=fetch(un,hi),Oi=new Promise((na,Sa)=>{L.signal.addEventListener(()=>{const wa=new Error("The operation was aborted.");wa.name="AbortError",Sa(wa)})});let Ss;try{yield Promise.race([Ni,Oi]),Ss=yield Ni}catch(na){let Sa="fetch-client-network";throw"AbortError"===na?.name&&(Sa="fetch-timeout"),Ei.create(Sa,{originalErrorMessage:na?.message})}let mr=Ss.status;const Ja=Ss.headers.get("ETag")||void 0;let Kr,zs;if(200===Ss.status){let na;try{na=yield Ss.json()}catch(Sa){throw Ei.create("fetch-client-parse",{originalErrorMessage:Sa?.message})}Kr=na.entries,zs=na.state}if("INSTANCE_STATE_UNSPECIFIED"===zs?mr=500:"NO_CHANGE"===zs?mr=304:("NO_TEMPLATE"===zs||"EMPTY_CONFIG"===zs)&&(Kr={}),304!==mr&&200!==mr)throw Ei.create("fetch-status",{httpStatus:mr});return{status:mr,eTag:Ja,config:Kr}})()}}class Vo{constructor(L,ie){this.client=L,this.storage=ie}fetch(L){var ie=this;return(0,h.Z)(function*(){const je=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch(L,je)})()}attemptFetch(L,{throttleEndTimeMillis:ie,backoffCount:je}){var bt=this;return(0,h.Z)(function*(){yield function $i(k,L){return new Promise((ie,je)=>{const bt=Math.max(L-Date.now(),0),jt=setTimeout(ie,bt);k.addEventListener(()=>{clearTimeout(jt),je(Ei.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,ie);try{const jt=yield bt.client.fetch(L);return yield bt.storage.deleteThrottleMetadata(),jt}catch(jt){if(!function Mo(k){if(!(k instanceof we.ZR&&k.customData))return!1;const L=Number(k.customData.httpStatus);return 429===L||500===L||503===L||504===L}(jt))throw jt;const un={throttleEndTimeMillis:Date.now()+(0,we.$s)(je),backoffCount:je+1};return yield bt.storage.setThrottleMetadata(un),bt.attemptFetch(L,un)}})()}}class Es{constructor(L,ie,je,bt,jt){this.app=L,this._client=ie,this._storageCache=je,this._storage=bt,this._logger=jt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pr(k,L){const ie=k.target.error||void 0;return Ei.create(L,{originalErrorMessage:ie&&ie?.message})}const ir="app_namespace_store";class Gi{constructor(L,ie,je,bt=function ki(){return new Promise((k,L)=>{try{const ie=indexedDB.open("firebase_remote_config",1);ie.onerror=je=>{L(pr(je,"storage-open"))},ie.onsuccess=je=>{k(je.target.result)},ie.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(ir,{keyPath:"compositeKey"})}}catch(ie){L(Ei.create("storage-open",{originalErrorMessage:ie?.message}))}})}()){this.appId=L,this.appName=ie,this.namespace=je,this.openDbPromise=bt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var ie=this;return(0,h.Z)(function*(){const je=yield ie.openDbPromise;return new Promise((bt,jt)=>{const Wn=je.transaction([ir],"readonly").objectStore(ir),$n=ie.createCompositeKey(L);try{const hi=Wn.get($n);hi.onerror=Ni=>{jt(pr(Ni,"storage-get"))},hi.onsuccess=Ni=>{const Oi=Ni.target.result;bt(Oi?Oi.value:void 0)}}catch(hi){jt(Ei.create("storage-get",{originalErrorMessage:hi?.message}))}})})()}set(L,ie){var je=this;return(0,h.Z)(function*(){const bt=yield je.openDbPromise;return new Promise((jt,un)=>{const $n=bt.transaction([ir],"readwrite").objectStore(ir),hi=je.createCompositeKey(L);try{const Ni=$n.put({compositeKey:hi,value:ie});Ni.onerror=Oi=>{un(pr(Oi,"storage-set"))},Ni.onsuccess=()=>{jt()}}catch(Ni){un(Ei.create("storage-set",{originalErrorMessage:Ni?.message}))}})})()}delete(L){var ie=this;return(0,h.Z)(function*(){const je=yield ie.openDbPromise;return new Promise((bt,jt)=>{const Wn=je.transaction([ir],"readwrite").objectStore(ir),$n=ie.createCompositeKey(L);try{const hi=Wn.delete($n);hi.onerror=Ni=>{jt(pr(Ni,"storage-delete"))},hi.onsuccess=()=>{bt()}}catch(hi){jt(Ei.create("storage-delete",{originalErrorMessage:hi?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class So{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,h.Z)(function*(){const ie=L.storage.getLastFetchStatus(),je=L.storage.getLastSuccessfulFetchTimestampMillis(),bt=L.storage.getActiveConfig(),jt=yield ie;jt&&(L.lastFetchStatus=jt);const un=yield je;un&&(L.lastSuccessfulFetchTimestampMillis=un);const Wn=yield bt;Wn&&(L.activeConfig=Wn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Us(){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}!function Ko(){(0,J._registerComponent)(new oe.wA("remote-config",function k(L,{instanceIdentifier:ie}){const je=L.getProvider("app").getImmediate(),bt=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,we.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:jt,apiKey:un,appId:Wn}=je.options;if(!jt)throw Ei.create("registration-project-id");if(!un)throw Ei.create("registration-api-key");if(!Wn)throw Ei.create("registration-app-id");const $n=new Gi(Wn,je.name,ie=ie||"firebase"),hi=new So($n),Ni=new W.Yd(xr);Ni.logLevel=W.in.ERROR;const Oi=new qr(bt,J.SDK_VERSION,ie,jt,un,Wn),Ss=new Vo(Oi,$n),mr=new oo(Ss,$n,hi,Ni),Ja=new Es(je,mr,hi,$n,Ni);return function Rn(k){const L=(0,we.m9)(k);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Ja),Ja},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(xr,"0.4.4"),(0,J.registerVersion)(xr,"0.4.4","esm2017")}();const Fr=(k,L)=>L.some(ie=>k instanceof ie);let os,Hi;const kr=new WeakMap,jo=new WeakMap,Wi=new WeakMap,_o=new WeakMap,ko=new WeakMap;let gs={get(k,L,ie){if(k instanceof IDBTransaction){if("done"===L)return jo.get(k);if("objectStoreNames"===L)return k.objectStoreNames||Wi.get(k);if("store"===L)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return tt(k[L])},set:(k,L,ie)=>(k[L]=ie,!0),has:(k,L)=>k instanceof IDBTransaction&&("done"===L||"store"===L)||L in k};function Q(k){return"function"==typeof k?function et(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gr(){return Hi||(Hi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...L){return k.apply(on(this),L),tt(kr.get(this))}:function(...L){return tt(k.apply(on(this),L))}:function(L,...ie){const je=k.call(on(this),L,...ie);return Wi.set(je,L.sort?L.sort():[L]),tt(je)}}(k):(k instanceof IDBTransaction&&function Fs(k){if(jo.has(k))return;const L=new Promise((ie,je)=>{const bt=()=>{k.removeEventListener("complete",jt),k.removeEventListener("error",un),k.removeEventListener("abort",un)},jt=()=>{ie(),bt()},un=()=>{je(k.error||new DOMException("AbortError","AbortError")),bt()};k.addEventListener("complete",jt),k.addEventListener("error",un),k.addEventListener("abort",un)});jo.set(k,L)}(k),Fr(k,function lr(){return os||(os=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,gs):k)}function tt(k){if(k instanceof IDBRequest)return function Qs(k){const L=new Promise((ie,je)=>{const bt=()=>{k.removeEventListener("success",jt),k.removeEventListener("error",un)},jt=()=>{ie(tt(k.result)),bt()},un=()=>{je(k.error),bt()};k.addEventListener("success",jt),k.addEventListener("error",un)});return L.then(ie=>{ie instanceof IDBCursor&&kr.set(ie,k)}).catch(()=>{}),ko.set(L,k),L}(k);if(_o.has(k))return _o.get(k);const L=Q(k);return L!==k&&(_o.set(k,L),ko.set(L,k)),L}const on=k=>ko.get(k);function An(k,L,{blocked:ie,upgrade:je,blocking:bt,terminated:jt}={}){const un=indexedDB.open(k,L),Wn=tt(un);return je&&un.addEventListener("upgradeneeded",$n=>{je(tt(un.result),$n.oldVersion,$n.newVersion,tt(un.transaction))}),ie&&un.addEventListener("blocked",()=>ie()),Wn.then($n=>{jt&&$n.addEventListener("close",()=>jt()),bt&&$n.addEventListener("versionchange",()=>bt())}).catch(()=>{}),Wn}function Ti(k,{blocked:L}={}){const ie=indexedDB.deleteDatabase(k);return L&&ie.addEventListener("blocked",()=>L()),tt(ie).then(()=>{})}const Nr=["get","getKey","getAll","getAllKeys","count"],zr=["put","add","delete","clear"],fo=new Map;function dr(k,L){if(!(k instanceof IDBDatabase)||L in k||"string"!=typeof L)return;if(fo.get(L))return fo.get(L);const ie=L.replace(/FromIndex$/,""),je=L!==ie,bt=zr.includes(ie);if(!(ie in(je?IDBIndex:IDBObjectStore).prototype)||!bt&&!Nr.includes(ie))return;const jt=function(){var un=(0,h.Z)(function*(Wn,...$n){const hi=this.transaction(Wn,bt?"readwrite":"readonly");let Ni=hi.store;return je&&(Ni=Ni.index($n.shift())),(yield Promise.all([Ni[ie](...$n),bt&&hi.done]))[0]});return function($n){return un.apply(this,arguments)}}();return fo.set(L,jt),jt}!function Je(k){gs=k(gs)}(k=>({...k,get:(L,ie,je)=>dr(L,ie)||k.get(L,ie,je),has:(L,ie)=>!!dr(L,ie)||k.has(L,ie)}));const K="/firebase-messaging-sw.js",j="/firebase-cloud-messaging-push-scope",v="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",D="https://fcmregistrations.googleapis.com/v1",ne="google.c.a.c_id",Se="google.c.a.c_l",ft="google.c.a.ts";var Zn=(()=>((Zn=Zn||{}).PUSH_RECEIVED="push-received",Zn.NOTIFICATION_CLICKED="notification-clicked",Zn))();function Vn(k){const L=new Uint8Array(k);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yi(k){const ie=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),je=atob(ie),bt=new Uint8Array(je.length);for(let jt=0;jt<je.length;++jt)bt[jt]=je.charCodeAt(jt);return bt}const Pi="fcm_token_details_db",gr=5,Cr="fcm_token_object_Store";function Fi(){return Fi=(0,h.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(jt=>jt.name).includes(Pi))return null;let L=null;return(yield An(Pi,gr,{upgrade:(je=(0,h.Z)(function*(bt,jt,un,Wn){var $n;if(jt<2||!bt.objectStoreNames.contains(Cr))return;const hi=Wn.objectStore(Cr),Ni=yield hi.index("fcmSenderId").get(k);if(yield hi.clear(),Ni)if(2===jt){const Oi=Ni;if(!Oi.auth||!Oi.p256dh||!Oi.endpoint)return;L={token:Oi.fcmToken,createTime:null!==($n=Oi.createTime)&&void 0!==$n?$n:Date.now(),subscriptionOptions:{auth:Oi.auth,p256dh:Oi.p256dh,endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:"string"==typeof Oi.vapidKey?Oi.vapidKey:Vn(Oi.vapidKey)}}}else if(3===jt){const Oi=Ni;L={token:Oi.fcmToken,createTime:Oi.createTime,subscriptionOptions:{auth:Vn(Oi.auth),p256dh:Vn(Oi.p256dh),endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:Vn(Oi.vapidKey)}}}else if(4===jt){const Oi=Ni;L={token:Oi.fcmToken,createTime:Oi.createTime,subscriptionOptions:{auth:Vn(Oi.auth),p256dh:Vn(Oi.p256dh),endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:Vn(Oi.vapidKey)}}}}),function(jt,un,Wn,$n){return je.apply(this,arguments)})})).close(),yield Ti(Pi),yield Ti("fcm_vapid_details_db"),yield Ti("undefined"),function _r(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:L}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var je}),Fi.apply(this,arguments)}const Ci="firebase-messaging-database",Ao=1,Qr="firebase-messaging-store";let Lr=null;function Ar(){return Lr||(Lr=An(Ci,Ao,{upgrade:(k,L)=>{0===L&&k.createObjectStore(Qr)}})),Lr}function wo(k){return ss.apply(this,arguments)}function ss(){return ss=(0,h.Z)(function*(k){const L=Ks(k),je=yield(yield Ar()).transaction(Qr).objectStore(Qr).get(L);if(je)return je;{const bt=yield function sr(k){return Fi.apply(this,arguments)}(k.appConfig.senderId);if(bt)return yield Cs(k,bt),bt}}),ss.apply(this,arguments)}function Cs(k,L){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(k,L){const ie=Ks(k),bt=(yield Ar()).transaction(Qr,"readwrite");return yield bt.objectStore(Qr).put(L,ie),yield bt.done,L})).apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(k){const L=Ks(k),je=(yield Ar()).transaction(Qr,"readwrite");yield je.objectStore(Qr).delete(L),yield je.done})).apply(this,arguments)}function Ks({appConfig:k}){return k.appId}const so=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xc(k,L){return oa.apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(k,L){const ie=yield Ds(k),je=Xs(L),bt={method:"POST",headers:ie,body:JSON.stringify(je)};let jt;try{jt=yield(yield fetch(js(k.appConfig),bt)).json()}catch(un){throw so.create("token-subscribe-failed",{errorInfo:un?.toString()})}if(jt.error)throw so.create("token-subscribe-failed",{errorInfo:jt.error.message});if(!jt.token)throw so.create("token-subscribe-no-token");return jt.token})).apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(k,L){const ie=yield Ds(k),je=Xs(L.subscriptionOptions),bt={method:"PATCH",headers:ie,body:JSON.stringify(je)};let jt;try{jt=yield(yield fetch(`${js(k.appConfig)}/${L.token}`,bt)).json()}catch(un){throw so.create("token-update-failed",{errorInfo:un?.toString()})}if(jt.error)throw so.create("token-update-failed",{errorInfo:jt.error.message});if(!jt.token)throw so.create("token-update-no-token");return jt.token})).apply(this,arguments)}function Zo(k,L){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(k,L){const je={method:"DELETE",headers:yield Ds(k)};try{const jt=yield(yield fetch(`${js(k.appConfig)}/${L}`,je)).json();if(jt.error)throw so.create("token-unsubscribe-failed",{errorInfo:jt.error.message})}catch(bt){throw so.create("token-unsubscribe-failed",{errorInfo:bt?.toString()})}})).apply(this,arguments)}function js({projectId:k}){return`${D}/projects/${k}/registrations`}function Ds(k){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,h.Z)(function*({appConfig:k,installations:L}){const ie=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function Xs({p256dh:k,auth:L,endpoint:ie,vapidKey:je}){const bt={web:{endpoint:ie,auth:L,p256dh:k}};return je!==v&&(bt.web.applicationPubKey=je),bt}const fa=6048e5;function Js(){return Js=(0,h.Z)(function*(k){const L=yield function Is(k,L){return Mi.apply(this,arguments)}(k.swRegistration,k.vapidKey),ie={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:L.endpoint,auth:Vn(L.getKey("auth")),p256dh:Vn(L.getKey("p256dh"))},je=yield wo(k.firebaseDependencies);if(je){if(function ga(k,L){return L.vapidKey===k.vapidKey&&L.endpoint===k.endpoint&&L.auth===k.auth&&L.p256dh===k.p256dh}(je.subscriptionOptions,ie))return Date.now()>=je.createTime+fa?function pa(k,L){return Ns.apply(this,arguments)}(k,{token:je.token,createTime:Date.now(),subscriptionOptions:ie}):je.token;try{yield Zo(k.firebaseDependencies,je.token)}catch(bt){console.warn(bt)}return Qi(k.firebaseDependencies,ie)}return Qi(k.firebaseDependencies,ie)}),Js.apply(this,arguments)}function _s(){return _s=(0,h.Z)(function*(k){const L=yield wo(k.firebaseDependencies);L&&(yield Zo(k.firebaseDependencies,L.token),yield function As(k){return ra.apply(this,arguments)}(k.firebaseDependencies));const ie=yield k.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()}),_s.apply(this,arguments)}function Ns(){return Ns=(0,h.Z)(function*(k,L){try{const ie=yield function Ia(k,L){return ma.apply(this,arguments)}(k.firebaseDependencies,L),je=Object.assign(Object.assign({},L),{token:ie,createTime:Date.now()});return yield Cs(k.firebaseDependencies,je),ie}catch(ie){throw yield function Ho(k){return _s.apply(this,arguments)}(k),ie}}),Ns.apply(this,arguments)}function Qi(k,L){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(k,L){const je={token:yield xc(k,L),createTime:Date.now(),subscriptionOptions:L};return yield Cs(k,je),je.token})).apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(k,L){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yi(L)})})).apply(this,arguments)}function F(k){const L={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function ee(k,L){if(!L.notification)return;k.notification={};const ie=L.notification.title;ie&&(k.notification.title=ie);const je=L.notification.body;je&&(k.notification.body=je);const bt=L.notification.image;bt&&(k.notification.image=bt);const jt=L.notification.icon;jt&&(k.notification.icon=jt)}(L,k),function B(k,L){L.data&&(k.data=L.data)}(L,k),function be(k,L){var ie,je,bt,jt,un;if(!(L.fcmOptions||null!==(ie=L.notification)&&void 0!==ie&&ie.click_action))return;k.fcmOptions={};const Wn=null!==(bt=null===(je=L.fcmOptions)||void 0===je?void 0:je.link)&&void 0!==bt?bt:null===(jt=L.notification)||void 0===jt?void 0:jt.click_action;Wn&&(k.fcmOptions.link=Wn);const $n=null===(un=L.fcmOptions)||void 0===un?void 0:un.analytics_label;$n&&(k.fcmOptions.analyticsLabel=$n)}(L,k),L}function tn(k,L){const ie=[];for(let je=0;je<k.length;je++)ie.push(k.charAt(je)),je<L.length&&ie.push(L.charAt(je));return ie.join("")}function Yn(k){return so.create("missing-app-config-values",{valueName:k})}tn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bi{constructor(L,ie,je){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const bt=function fn(k){if(!k||!k.options)throw Yn("App Configuration Object");if(!k.name)throw Yn("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=k;for(const je of L)if(!ie[je])throw Yn(je);return{appName:k.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:bt,installations:ie,analyticsProvider:je}}_delete(){return Promise.resolve()}}function bi(){return(bi=(0,h.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(K,{scope:j}),k.swRegistration.update().catch(()=>{})}catch(L){throw so.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(k,L){if(!L&&!k.swRegistration&&(yield function Ii(k){return bi.apply(this,arguments)}(k)),L||!k.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw so.create("invalid-sw-registration");k.swRegistration=L}})).apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(k,L){L?k.vapidKey=L:k.vapidKey||(k.vapidKey=v)})).apply(this,arguments)}function Wr(){return Wr=(0,h.Z)(function*(k,L){if(!navigator)throw so.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw so.create("permission-blocked");return yield function zn(k,L){return Br.apply(this,arguments)}(k,L?.vapidKey),yield function Di(k,L){return Xi.apply(this,arguments)}(k,L?.serviceWorkerRegistration),function Oa(k){return Js.apply(this,arguments)}(k)}),Wr.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(k,L,ie){const je=function Zs(k){switch(k){case Zn.NOTIFICATION_CLICKED:return"notification_open";case Zn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(je,{message_id:ie[ne],message_name:ie[Se],message_time:ie[ft],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ts(){return Ts=(0,h.Z)(function*(k,L){const ie=L.data;if(!ie.isFirebaseMessaging)return;k.onMessageHandler&&ie.messageType===Zn.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(F(ie)):k.onMessageHandler.next(F(ie)));const je=ie.data;(function it(k){return"object"==typeof k&&!!k&&ne in k})(je)&&"1"===je["google.c.a.e"]&&(yield function sa(k,L,ie){return Oo.apply(this,arguments)}(k,ie.messageType,je))}),Ts.apply(this,arguments)}const Uc="@firebase/messaging",cc=k=>{const L=new Bi(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function cs(k,L){return Ts.apply(this,arguments)}(L,ie)),L},Ra=k=>{const L=k.getProvider("messaging").getImmediate();return{getToken:je=>function as(k,L){return Wr.apply(this,arguments)}(L,je)}};function Ji(){return xo.apply(this,arguments)}function xo(){return(xo=(0,h.Z)(function*(){try{yield(0,we.eu)()}catch{return!1}return typeof window<"u"&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cn(){(0,J._registerComponent)(new oe.wA("messaging",cc,"PUBLIC")),(0,J._registerComponent)(new oe.wA("messaging-internal",Ra,"PRIVATE")),(0,J.registerVersion)(Uc,"0.12.4"),(0,J.registerVersion)(Uc,"0.12.4","esm2017")}();const ti="analytics",ai="firebase_id",ls="origin",Bn=6e4,nn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",En="https://www.googletagmanager.com/gtag/js",Ai=new W.Yd("@firebase/analytics"),Ro=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jc(k){if(!k.startsWith(En)){const L=Ro.create("invalid-gtag-resource",{gtagURL:k});return Ai.warn(L.message),""}return k}function va(k){return Promise.all(k.map(L=>L.catch(ie=>ie)))}function Ga(){return(Ga=(0,h.Z)(function*(k,L,ie,je,bt,jt){const un=je[bt];try{if(un)yield L[un];else{const $n=(yield va(ie)).find(hi=>hi.measurementId===bt);$n&&(yield L[$n.appId])}}catch(Wn){Ai.error(Wn)}k("config",bt,jt)})).apply(this,arguments)}function U(){return(U=(0,h.Z)(function*(k,L,ie,je,bt){try{let jt=[];if(bt&&bt.send_to){let un=bt.send_to;Array.isArray(un)||(un=[un]);const Wn=yield va(ie);for(const $n of un){const hi=Wn.find(Oi=>Oi.measurementId===$n),Ni=hi&&L[hi.appId];if(!Ni){jt=[];break}jt.push(Ni)}}0===jt.length&&(jt=Object.values(L)),yield Promise.all(jt),k("event",je,bt||{})}catch(jt){Ai.error(jt)}})).apply(this,arguments)}const z=30,nt=new class st{constructor(L={},ie=1e3){this.throttleMetadata=L,this.intervalMillis=ie}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,ie){this.throttleMetadata[L]=ie}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Ht(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function y(){return(y=(0,h.Z)(function*(k){var L;const{appId:ie,apiKey:je}=k,bt={method:"GET",headers:Ht(je)},jt=nn.replace("{app-id}",ie),un=yield fetch(jt,bt);if(200!==un.status&&304!==un.status){let Wn="";try{const $n=yield un.json();null!==(L=$n.error)&&void 0!==L&&L.message&&(Wn=$n.error.message)}catch{}throw Ro.create("config-fetch-failed",{httpStatus:un.status,responseMessage:Wn})}return un.json()})).apply(this,arguments)}function E(){return(E=(0,h.Z)(function*(k,L=nt,ie){const{appId:je,apiKey:bt,measurementId:jt}=k.options;if(!je)throw Ro.create("no-app-id");if(!bt){if(jt)return{measurementId:jt,appId:je};throw Ro.create("no-api-key")}const un=L.getThrottleMetadata(je)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wn=new Et;return setTimeout((0,h.Z)(function*(){Wn.abort()}),void 0!==ie?ie:Bn),P({appId:je,apiKey:bt,measurementId:jt},un,Wn,L)})).apply(this,arguments)}function P(k,L,ie){return Z.apply(this,arguments)}function Z(){return Z=(0,h.Z)(function*(k,{throttleEndTimeMillis:L,backoffCount:ie},je,bt=nt){var jt;const{appId:un,measurementId:Wn}=k;try{yield function ve(k,L){return new Promise((ie,je)=>{const bt=Math.max(L-Date.now(),0),jt=setTimeout(ie,bt);k.addEventListener(()=>{clearTimeout(jt),je(Ro.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(je,L)}catch($n){if(Wn)return Ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${$n?.message}]`),{appId:un,measurementId:Wn};throw $n}try{const $n=yield function Jt(k){return y.apply(this,arguments)}(k);return bt.deleteThrottleMetadata(un),$n}catch($n){const hi=$n;if(!function Te(k){if(!(k instanceof we.ZR&&k.customData))return!1;const L=Number(k.customData.httpStatus);return 429===L||500===L||503===L||504===L}(hi)){if(bt.deleteThrottleMetadata(un),Wn)return Ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${hi?.message}]`),{appId:un,measurementId:Wn};throw $n}const Ni=503===Number(null===(jt=hi?.customData)||void 0===jt?void 0:jt.httpStatus)?(0,we.$s)(ie,bt.intervalMillis,z):(0,we.$s)(ie,bt.intervalMillis),Oi={throttleEndTimeMillis:Date.now()+Ni,backoffCount:ie+1};return bt.setThrottleMetadata(un,Oi),Ai.debug(`Calling attemptFetch again in ${Ni} millis`),P(k,Oi,je,bt)}}),Z.apply(this,arguments)}class Et{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let _n,Os;function Un(){return(Un=(0,h.Z)(function*(k,L,ie,je,bt){if(bt&&bt.global)k("event",ie,je);else{const jt=yield L;k("event",ie,Object.assign(Object.assign({},je),{send_to:jt}))}})).apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(){if(!(0,we.hl)())return Ai.warn(Ro.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(k){return Ai.warn(Ro.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function Yo(){return Yo=(0,h.Z)(function*(k,L,ie,je,bt,jt,un){var Wn;const $n=function T(k){return E.apply(this,arguments)}(k);$n.then(mr=>{ie[mr.measurementId]=mr.appId,k.options.measurementId&&mr.measurementId!==k.options.measurementId&&Ai.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mr=>Ai.error(mr)),L.push($n);const hi=function wi(){return Ki.apply(this,arguments)}().then(mr=>{if(mr)return je.getId()}),[Ni,Oi]=yield Promise.all([$n,hi]);(function M(k){const L=window.document.getElementsByTagName("script");for(const ie of Object.values(L))if(ie.src&&ie.src.includes(En)&&ie.src.includes(k))return ie;return null})(jt)||function dc(k,L){const ie=function Ma(k,L){let ie;return window.trustedTypes&&(ie=window.trustedTypes.createPolicy(k,L)),ie}("firebase-js-sdk-policy",{createScriptURL:jc}),je=document.createElement("script"),bt=`${En}?l=${k}&id=${L}`;je.src=ie?ie?.createScriptURL(bt):bt,je.async=!0,document.head.appendChild(je)}(jt,Ni.measurementId),Os&&(bt("consent","default",Os),function ci(k){Os=k}(void 0)),bt("js",new Date);const Ss=null!==(Wn=un?.config)&&void 0!==Wn?Wn:{};return Ss[ls]="firebase",Ss.update=!0,null!=Oi&&(Ss[ai]=Oi),bt("config",Ni.measurementId,Ss),_n&&(bt("set",_n),function li(k){_n=k}(void 0)),Ni.measurementId}),Yo.apply(this,arguments)}class Rr{constructor(L){this.app=L}_delete(){return delete Fo[this.app.options.appId],Promise.resolve()}}let Fo={},Dr=[];const Wa={};let aa,Ir,po="dataLayer",ya=!1;function ml(k,L,ie){!function hl(){const k=[];if((0,we.ru)()&&k.push("This is a browser extension environment."),(0,we.zI)()||k.push("Cookies are not available."),k.length>0){const L=k.map((je,bt)=>`(${bt+1}) ${je}`).join(" "),ie=Ro.create("invalid-analytics-context",{errorInfo:L});Ai.warn(ie.message)}}();const je=k.options.appId;if(!je)throw Ro.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Ro.create("no-api-key");Ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fo[je])throw Ro.create("already-exists",{id:je});if(!ya){!function Fa(k){let L=[];Array.isArray(window[k])?L=window[k]:window[k]=L}(po);const{wrappedGtag:jt,gtagCore:un}=function g(k,L,ie,je,bt){let jt=function(...un){window[je].push(arguments)};return window[bt]&&"function"==typeof window[bt]&&(jt=window[bt]),window[bt]=function b(k,L,ie,je){function jt(){return jt=(0,h.Z)(function*(un,...Wn){try{if("event"===un){const[$n,hi]=Wn;yield function Ec(k,L,ie,je,bt){return U.apply(this,arguments)}(k,L,ie,$n,hi)}else if("config"===un){const[$n,hi]=Wn;yield function $a(k,L,ie,je,bt,jt){return Ga.apply(this,arguments)}(k,L,ie,je,$n,hi)}else if("consent"===un){const[$n]=Wn;k("consent","update",$n)}else if("get"===un){const[$n,hi,Ni]=Wn;k("get",$n,hi,Ni)}else if("set"===un){const[$n]=Wn;k("set",$n)}else k(un,...Wn)}catch($n){Ai.error($n)}}),jt.apply(this,arguments)}return function bt(un){return jt.apply(this,arguments)}}(jt,k,L,ie),{gtagCore:jt,wrappedGtag:window[bt]}}(Fo,Dr,Wa,po,"gtag");Ir=jt,aa=un,ya=!0}return Fo[je]=function ys(k,L,ie,je,bt,jt,un){return Yo.apply(this,arguments)}(k,Dr,Wa,L,aa,po,ie),new Rr(k)}function Gl(){return La.apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}const Zl="@firebase/analytics";!function Za(){(0,J._registerComponent)(new oe.wA(ti,(L,{options:ie})=>ml(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),ie),"PUBLIC")),(0,J._registerComponent)(new oe.wA("analytics-internal",function k(L){try{const ie=L.getProvider(ti).getImmediate();return{logEvent:(je,bt,jt)=>function Ka(k,L,ie,je){k=(0,we.m9)(k),function Jn(k,L,ie,je,bt){return Un.apply(this,arguments)}(Ir,Fo[k.app.options.appId],L,ie,je).catch(bt=>Ai.error(bt))}(ie,je,bt,jt)}}catch(ie){throw Ro.create("interop-component-reg-failed",{reason:ie})}},"PRIVATE")),(0,J.registerVersion)(Zl,"0.10.0"),(0,J.registerVersion)(Zl,"0.10.0","esm2017")}();var Rd=w(4408),Hc=w(7565);const xs=new class ql extends Hc.v{}(class Yl extends Rd.o{constructor(L,ie){super(L,ie),this.scheduler=L,this.work=ie}schedule(L,ie=0){return ie>0?super.schedule(L,ie):(this.delay=ie,this.state=L,this.scheduler.flush(this),this)}execute(L,ie){return ie>0||this.closed?super.execute(L,ie):this._execute(L,ie)}requestAsyncId(L,ie,je=0){return null!=je&&je>0||null==je&&this.delay>0?super.requestAsyncId(L,ie,je):(L.flush(this),0)}});var ea=w(4986),Ba=w(8505),br=w(5363),uc=w(9468);const ds=new l.GfV("7.6.1"),yr="__angularfire_symbol__analyticsIsSupportedValue",Ql="__angularfire_symbol__analyticsIsSupported",Ua="__angularfire_symbol__remoteConfigIsSupportedValue",Bs="__angularfire_symbol__remoteConfigIsSupported",vl="__angularfire_symbol__messagingIsSupportedValue",Pd="__angularfire_symbol__messagingIsSupported";function Ya(k,L,ie){if(L){if(1===L.length)return L[0];const jt=L.filter(un=>un.app===ie);if(1===jt.length)return jt[0]}return ie.container.getProvider(k).getImmediate({optional:!0})}globalThis[Ql]||(globalThis[Ql]=Gl().then(k=>globalThis[yr]=k).catch(()=>globalThis[yr]=!1)),globalThis[Pd]||(globalThis[Pd]=Ji().then(k=>globalThis[vl]=k).catch(()=>globalThis[vl]=!1)),globalThis[Bs]||(globalThis[Bs]=Us().then(k=>globalThis[Ua]=k).catch(()=>globalThis[Ua]=!1));const $c=(k,L)=>{const ie=L?[L]:(0,C.C6)(),je=[];return ie.forEach(bt=>{bt.container.getProvider(k).instances.forEach(un=>{je.includes(un)||je.push(un)})}),je};function lo(){}class Ic{constructor(L,ie=xs){this.zone=L,this.delegate=ie}now(){return this.delegate.now()}schedule(L,ie,je){const bt=this.zone;return this.delegate.schedule(function(un){bt.runGuarded(()=>{L.apply(this,[un])})},ie,je)}}class Tc{constructor(L){this.zone=L,this.task=null}call(L,ie){const je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo)),ie.pipe((0,Ba.b)({next:je,complete:je,error:je})).subscribe(L).add(je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qa=(()=>{class k{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new Ic(Zone.current)),this.insideAngular=ie.run(()=>new Ic(Zone.current,ea.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(ie){return new(ie||k)(l.LFG(l.R0b))},k.\u0275prov=l.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Jr(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function ta(k){return k.pipe((0,br.Q)(Jr().outsideAngular))}function Va(k){return Jr(),function Nu(k){return function(ie){return(ie=ie.lift(new Tc(k.ngZone))).pipe((0,uc.R)(k.outsideAngular),(0,br.Q)(k.insideAngular))}}(Jr())(k)}},1389:(pn,rt,w)=>{w.d(rt,{$:()=>K,A:()=>fe,D:()=>Pe,I:()=>or,J:()=>Jo,L:()=>Xn,N:()=>Ct,P:()=>ys,Q:()=>Gi,R:()=>Eo,U:()=>ps,V:()=>Us,W:()=>rs,X:()=>go,Y:()=>lr,Z:()=>Gr,_:()=>ko,a:()=>Pa,a0:()=>v,a1:()=>ne,a2:()=>Tn,a3:()=>Cr,a4:()=>Fi,a5:()=>Ci,a6:()=>Qr,a7:()=>Ar,a8:()=>ss,a9:()=>ks,aA:()=>Y,aB:()=>Ua,aC:()=>Le,aD:()=>$t,aE:()=>br,aF:()=>gl,aG:()=>Bh,aH:()=>Si,aL:()=>vr,aO:()=>os,aa:()=>As,ab:()=>Ks,ac:()=>Da,ad:()=>Ia,ae:()=>Zo,af:()=>js,ai:()=>fa,aj:()=>Js,ak:()=>Ho,an:()=>et,ao:()=>ee,aq:()=>Br,ar:()=>Uc,as:()=>Be,at:()=>Fe,au:()=>ae,av:()=>me,aw:()=>Ss,ax:()=>qo,ay:()=>q,az:()=>Ee,b:()=>vs,c:()=>Ir,d:()=>ml,e:()=>Ls,f:()=>Zl,g:()=>ql,h:()=>Rd,i:()=>le,j:()=>ea,k:()=>na,l:()=>Po,m:()=>Fd,o:()=>Bd,p:()=>_e,r:()=>Na,s:()=>Gt,u:()=>wi});var l=w(5861),C=w(2090),h=w(6881),J=w(7582),we=w(1877),oe=w(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},at=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new we.Yd("@firebase/auth");function vt(I,...f){Ve.logLevel<=we.in.ERROR&&Ve.error(`Auth (${h.SDK_VERSION}): ${I}`,...f)}function me(I,...f){throw Ne(I,...f)}function Ee(I,...f){return Ne(I,...f)}function he(I,f,_){const R=Object.assign(Object.assign({},at()),{[f]:_});return new C.LL("auth","Firebase",R).create(f,{appName:I.name})}function pe(I,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&me(I,"argument-error"),he(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(I,...f){if("string"!=typeof I){const _=f[0],R=[...f.slice(1)];return R[0]&&(R[0].appName=I.name),I._errorFactory.create(_,...R)}return Ge.create(I,...f)}function Y(I,f,..._){if(!I)throw Ne(f,..._)}function Ye(I){const f="INTERNAL ASSERTION FAILED: "+I;throw vt(f),new Error(f)}function Be(I,f){I||Ye(f)}function qe(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function xt(){return"http:"===wn()||"https:"===wn()}function wn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class gt{constructor(f,_){this.shortDelay=f,this.longDelay=_,Be(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return function On(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,C.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(I,f){Be(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class Ut{static initialize(f,_,R){this.fetchImpl=f,_&&(this.headersImpl=_),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qt=new gt(3e4,6e4);function cn(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function bn(I,f,_,R){return sn.apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(I,f,_,R,se={}){return Ft(I,se,(0,l.Z)(function*(){let Me={},Rt={};R&&("GET"===f?Rt=R:Me={body:JSON.stringify(R)});const rn=(0,C.xO)(Object.assign({key:I.config.apiKey},Rt)).slice(1),Nn=yield I._getAdditionalHeaders();return Nn["Content-Type"]="application/json",I.languageCode&&(Nn["X-Firebase-Locale"]=I.languageCode),Ut.fetch()(yt(I,I.config.apiHost,_,rn),Object.assign({method:f,headers:Nn,referrerPolicy:"no-referrer"},Me))}))})).apply(this,arguments)}function Ft(I,f,_){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(I,f,_){I._canInitEmulator=!1;const R=Object.assign(Object.assign({},en),f);try{const se=new zt(I),Me=yield Promise.race([_(),se.promise]);se.clearNetworkTimeout();const Rt=yield Me.json();if("needConfirmation"in Rt)throw kt(I,"account-exists-with-different-credential",Rt);if(Me.ok&&!("errorMessage"in Rt))return Rt;{const rn=Me.ok?Rt.errorMessage:Rt.error.message,[Nn,ni]=rn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nn)throw kt(I,"credential-already-in-use",Rt);if("EMAIL_EXISTS"===Nn)throw kt(I,"email-already-in-use",Rt);if("USER_DISABLED"===Nn)throw kt(I,"user-disabled",Rt);const gi=R[Nn]||Nn.toLowerCase().replace(/[_\s]+/g,"-");if(ni)throw he(I,gi,ni);me(I,gi)}}catch(se){if(se instanceof C.ZR)throw se;me(I,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function ot(I,f,_,R){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(I,f,_,R,se={}){const Me=yield bn(I,f,_,R,se);return"mfaPendingCredential"in Me&&me(I,"multi-factor-auth-required",{_serverResponse:Me}),Me})).apply(this,arguments)}function yt(I,f,_,R){const se=`${f}${_}?${R}`;return I.config.emulator?Nt(I.config,se):`${I.config.apiScheme}://${se}`}class zt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,R)=>{this.timer=setTimeout(()=>R(Ee(this.auth,"network-request-failed")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kt(I,f,_){const R={appName:I.name};_.email&&(R.email=_.email),_.phoneNumber&&(R.phoneNumber=_.phoneNumber);const se=Ee(I,f,R);return se.customData._tokenResponse=_,se}function dt(){return(dt=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Zt(){return(Zt=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Tt(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ht(){return(ht=(0,l.Z)(function*(I,f=!1){const _=(0,C.m9)(I),R=yield _.getIdToken(f),se=Mt(R);Y(se&&se.exp&&se.auth_time&&se.iat,_.auth,"internal-error");const Me="object"==typeof se.firebase?se.firebase:void 0,Rt=Me?.sign_in_provider;return{claims:se,token:R,authTime:Tt(ut(se.auth_time)),issuedAtTime:Tt(ut(se.iat)),expirationTime:Tt(ut(se.exp)),signInProvider:Rt||null,signInSecondFactor:Me?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(I){return 1e3*Number(I)}function Mt(I){const[f,_,R]=I.split(".");if(void 0===f||void 0===_||void 0===R)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,C.tV)(_);return se?JSON.parse(se):(vt("Failed to decode base64 JWT payload"),null)}catch(se){return vt("Caught error parsing JWT payload as JSON",se?.toString()),null}}function an(I,f){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(I,f,_=!1){if(_)return f;try{return yield f}catch(R){throw R instanceof C.ZR&&function ri({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(R)&&I.auth.currentUser===I&&(yield I.auth.signOut()),R}})).apply(this,arguments)}class Dn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const se=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const R=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),R)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&f.schedule(!0))}f.schedule()})()}}class dn{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tt(this.lastLoginAt),this.creationTime=Tt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(I){return $e.apply(this,arguments)}function $e(){return $e=(0,l.Z)(function*(I){var f;const _=I.auth,R=yield I.getIdToken(),se=yield an(I,function yn(I,f){return ln.apply(this,arguments)}(_,{idToken:R}));Y(se?.users.length,_,"internal-error");const Me=se.users[0];I._notifyReloadListener(Me);const Rt=null!==(f=Me.providerUserInfo)&&void 0!==f&&f.length?function di(I){return I.map(f=>{var{providerId:_}=f,R=(0,J._T)(f,["providerId"]);return{providerId:_,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(Me.providerUserInfo):[],rn=function Sn(I,f){return[...I.filter(R=>!f.some(se=>se.providerId===R.providerId)),...f]}(I.providerData,Rt),gi=!!I.isAnonymous&&!(I.email&&Me.passwordHash||rn?.length),rr={uid:Me.localId,displayName:Me.displayName||null,photoURL:Me.photoUrl||null,email:Me.email||null,emailVerified:Me.emailVerified||!1,phoneNumber:Me.phoneNumber||null,tenantId:Me.tenantId||null,providerData:rn,metadata:new dn(Me.createdAt,Me.lastLoginAt),isAnonymous:gi};Object.assign(I,rr)}),$e.apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(I){const f=(0,C.m9)(I);yield jn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(I,f){const _=yield Ft(I,{},(0,l.Z)(function*(){const R=(0,C.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:se,apiKey:Me}=I.config,Rt=yt(I,se,"/v1/token",`key=${Me}`),rn=yield I._getAdditionalHeaders();return rn["Content-Type"]="application/x-www-form-urlencoded",Ut.fetch()(Rt,{method:"POST",headers:rn,body:R})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Y(f.idToken,"internal-error"),Y(typeof f.idToken<"u","internal-error"),Y(typeof f.refreshToken<"u","internal-error");const _="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Yt(I){const f=Mt(I);return Y(f,"internal-error"),Y(typeof f.exp<"u","internal-error"),Y(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}getToken(f,_=!1){var R=this;return(0,l.Z)(function*(){return Y(!R.accessToken||R.refreshToken,f,"user-token-expired"),_||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(f,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var R=this;return(0,l.Z)(function*(){const{accessToken:se,refreshToken:Me,expiresIn:Rt}=yield function xi(I,f){return pi.apply(this,arguments)}(f,_);R.updateTokensAndExpiration(se,Me,Number(Rt))})()}updateTokensAndExpiration(f,_,R){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(f,_){const{refreshToken:R,accessToken:se,expirationTime:Me}=_,Rt=new Qt;return R&&(Y("string"==typeof R,"internal-error",{appName:f}),Rt.refreshToken=R),se&&(Y("string"==typeof se,"internal-error",{appName:f}),Rt.accessToken=se),Me&&(Y("number"==typeof Me,"internal-error",{appName:f}),Rt.expirationTime=Me),Rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Qt,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function We(I,f){Y("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class lt{constructor(f){var{uid:_,auth:R,stsTokenManager:se}=f,Me=(0,J._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=R,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=Me.displayName||null,this.email=Me.email||null,this.emailVerified=Me.emailVerified||!1,this.phoneNumber=Me.phoneNumber||null,this.photoURL=Me.photoURL||null,this.isAnonymous=Me.isAnonymous||!1,this.tenantId=Me.tenantId||null,this.providerData=Me.providerData?[...Me.providerData]:[],this.metadata=new dn(Me.createdAt||void 0,Me.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,l.Z)(function*(){const R=yield an(_,_.stsTokenManager.getToken(_.auth,f));return Y(R,_.auth,"internal-error"),_.accessToken!==R&&(_.accessToken=R,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),R})()}getIdTokenResult(f){return function Ue(I){return ht.apply(this,arguments)}(this,f)}reload(){return function Dt(I){return Wt.apply(this,arguments)}(this)}_assign(f){this!==f&&(Y(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const _=new lt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(f){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var R=this;return(0,l.Z)(function*(){let se=!1;f.idToken&&f.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(f),se=!0),_&&(yield jn(R)),yield R.auth._persistUserIfCurrent(R),se&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var f=this;return(0,l.Z)(function*(){const _=yield f.getIdToken();return yield an(f,function At(I,f){return dt.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var R,se,Me,Rt,rn,Nn,ni,gi;const rr=null!==(R=_.displayName)&&void 0!==R?R:void 0,la=null!==(se=_.email)&&void 0!==se?se:void 0,ia=null!==(Me=_.phoneNumber)&&void 0!==Me?Me:void 0,Ud=null!==(Rt=_.photoURL)&&void 0!==Rt?Rt:void 0,bl=null!==(rn=_.tenantId)&&void 0!==rn?rn:void 0,Bu=null!==(Nn=_._redirectEventId)&&void 0!==Nn?Nn:void 0,Vd=null!==(ni=_.createdAt)&&void 0!==ni?ni:void 0,kc=null!==(gi=_.lastLoginAt)&&void 0!==gi?gi:void 0,{uid:Gc,emailVerified:hc,isAnonymous:$s,providerData:yl,stsTokenManager:ec}=_;Y(Gc&&ec,f,"internal-error");const wl=Qt.fromJSON(this.name,ec);Y("string"==typeof Gc,f,"internal-error"),We(rr,f.name),We(la,f.name),Y("boolean"==typeof hc,f,"internal-error"),Y("boolean"==typeof $s,f,"internal-error"),We(ia,f.name),We(Ud,f.name),We(bl,f.name),We(Bu,f.name),We(Vd,f.name),We(kc,f.name);const Wc=new lt({uid:Gc,auth:f,email:la,emailVerified:hc,displayName:rr,isAnonymous:$s,photoURL:Ud,phoneNumber:ia,tenantId:bl,stsTokenManager:wl,createdAt:Vd,lastLoginAt:kc});return yl&&Array.isArray(yl)&&(Wc.providerData=yl.map(xl=>Object.assign({},xl))),Bu&&(Wc._redirectEventId=Bu),Wc}static _fromIdTokenResponse(f,_,R=!1){return(0,l.Z)(function*(){const se=new Qt;se.updateFromServerResponse(_);const Me=new lt({uid:_.localId,auth:f,stsTokenManager:se,isAnonymous:R});return yield jn(Me),Me})()}}const ze=new Map;function Le(I){Be(I instanceof Function,"Expected a class definition");let f=ze.get(I);return f?(Be(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,ze.set(I,f),f)}const Ct=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,R){var se=this;return(0,l.Z)(function*(){se.storage[_]=R})()}_get(_){var R=this;return(0,l.Z)(function*(){const se=R.storage[_];return void 0===se?null:se})()}_remove(_){var R=this;return(0,l.Z)(function*(){delete R.storage[_]})()}_addListener(_,R){}_removeListener(_,R){}}return I.type="NONE",I})();function $t(I,f,_){return`firebase:${I}:${f}:${_}`}class Re{constructor(f,_,R){this.persistence=f,this.auth=_,this.userKey=R;const{config:se,name:Me}=this.auth;this.fullUserKey=$t(this.userKey,se.apiKey,Me),this.fullPersistenceKey=$t("persistence",se.apiKey,Me),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?lt._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,l.Z)(function*(){if(_.persistence===f)return;const R=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,R?_.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,R="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Re(Le(Ct),f,R);const se=(yield Promise.all(_.map(function(){var ni=(0,l.Z)(function*(gi){if(yield gi._isAvailable())return gi});return function(gi){return ni.apply(this,arguments)}}()))).filter(ni=>ni);let Me=se[0]||Le(Ct);const Rt=$t(R,f.config.apiKey,f.name);let rn=null;for(const ni of _)try{const gi=yield ni._get(Rt);if(gi){const rr=lt._fromJSON(f,gi);ni!==Me&&(rn=rr),Me=ni;break}}catch{}const Nn=se.filter(ni=>ni._shouldAllowMigration);return Me._shouldAllowMigration&&Nn.length?(Me=Nn[0],rn&&(yield Me._set(Rt,rn.toJSON())),yield Promise.all(_.map(function(){var ni=(0,l.Z)(function*(gi){if(gi!==Me)try{yield gi._remove(Rt)}catch{}});return function(gi){return ni.apply(this,arguments)}}())),new Re(Me,f,R)):new Re(Me,f,R)})()}}function ce(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(de(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(H(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ie(f))return"Blackberry";if(Oe(f))return"Webos";if(V(f))return"Safari";if((f.includes("chrome/")||$(f))&&!f.includes("edge/"))return"Chrome";if(ae(f))return"Android";{const R=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function H(I=(0,C.z$)()){return/firefox\//i.test(I)}function V(I=(0,C.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function $(I=(0,C.z$)()){return/crios\//i.test(I)}function de(I=(0,C.z$)()){return/iemobile/i.test(I)}function ae(I=(0,C.z$)()){return/android/i.test(I)}function Ie(I=(0,C.z$)()){return/blackberry/i.test(I)}function Oe(I=(0,C.z$)()){return/webos/i.test(I)}function Fe(I=(0,C.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function q(I=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Lt(I=(0,C.z$)()){return Fe(I)||ae(I)||Oe(I)||Ie(I)||/windows phone/i.test(I)||de(I)}function ii(I,f=[]){let _;switch(I){case"Browser":_=ce((0,C.z$)());break;case"Worker":_=`${ce((0,C.z$)())}-${I}`;break;default:_=I}const R=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${h.SDK_VERSION}/${R}`}function It(){return(It=(0,l.Z)(function*(I){return(yield bn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xn(I,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(I,f){return bn(I,"GET","/v2/recaptchaConfig",cn(I,f))})).apply(this,arguments)}function Pn(I){return void 0!==I&&void 0!==I.getResponse}function Hn(I){return void 0!==I&&void 0!==I.enterprise}class ui{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function vi(I){return new Promise((f,_)=>{const R=document.createElement("script");R.setAttribute("src",I),R.onload=f,R.onerror=se=>{const Me=Ee("internal-error");Me.customData=se,_(Me)},R.type="text/javascript",R.charset="UTF-8",function qi(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(R)})}function wr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Mr{constructor(f){this.type="recaptcha-enterprise",this.auth=Si(f)}verify(f="verify",_=!1){var R=this;return(0,l.Z)(function*(){function Me(){return Me=(0,l.Z)(function*(rn){if(!_){if(null==rn.tenantId&&null!=rn._agentRecaptchaConfig)return rn._agentRecaptchaConfig.siteKey;if(null!=rn.tenantId&&void 0!==rn._tenantRecaptchaConfigs[rn.tenantId])return rn._tenantRecaptchaConfigs[rn.tenantId].siteKey}return new Promise(function(){var Nn=(0,l.Z)(function*(ni,gi){xn(rn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rr=>{if(void 0!==rr.recaptchaKey){const la=new ui(rr);return null==rn.tenantId?rn._agentRecaptchaConfig=la:rn._tenantRecaptchaConfigs[rn.tenantId]=la,ni(la.siteKey)}gi(new Error("recaptcha Enterprise site key undefined"))}).catch(rr=>{gi(rr)})});return function(ni,gi){return Nn.apply(this,arguments)}}())}),Me.apply(this,arguments)}function Rt(rn,Nn,ni){const gi=window.grecaptcha;Hn(gi)?gi.enterprise.ready(()=>{gi.enterprise.execute(rn,{action:f}).then(rr=>{Nn(rr)}).catch(()=>{Nn("NO_RECAPTCHA")})}):ni(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rn,Nn)=>{(function se(rn){return Me.apply(this,arguments)})(R.auth).then(ni=>{if(!_&&Hn(window.grecaptcha))Rt(ni,rn,Nn);else{if(typeof window>"u")return void Nn(new Error("RecaptchaVerifier is only supported in browser"));vi("https://www.google.com/recaptcha/enterprise.js?render="+ni).then(()=>{Rt(ni,rn,Nn)}).catch(gi=>{Nn(gi)})}}).catch(ni=>{Nn(ni)})})})()}}function no(I,f,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(I,f,_,R=!1){const se=new Mr(I);let Me;try{Me=yield se.verify(_)}catch{Me=yield se.verify(_,!0)}const Rt=Object.assign({},f);return Object.assign(Rt,R?{captchaResp:Me}:{captchaResponse:Me}),Object.assign(Rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Rt})).apply(this,arguments)}class fr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const R=Me=>new Promise((Rt,rn)=>{try{Rt(f(Me))}catch(Nn){rn(Nn)}});R.onAbort=_,this.queue.push(R);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===f)return;const R=[];try{for(const se of _.queue)yield se(f),se.onAbort&&R.push(se.onAbort)}catch(se){R.reverse();for(const Me of R)try{Me()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class ho{constructor(f,_,R,se){this.app=f,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=R,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bo(this),this.idTokenSubscription=new Bo(this),this.beforeStateQueue=new fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(f,_){var R=this;return _&&(this._popupRedirectResolver=Le(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var se,Me;if(!R._deleted&&(R.persistenceManager=yield Re.create(R,f),!R._deleted)){if(null!==(se=R._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(_),R.lastNotifiedUid=(null===(Me=R.currentUser)||void 0===Me?void 0:Me.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUser(f){var _=this;return(0,l.Z)(function*(){var R;const se=yield _.assertedPersistence.getCurrentUser();let Me=se,Rt=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const rn=null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId,Nn=Me?._redirectEventId,ni=yield _.tryRedirectSignIn(f);(!rn||rn===Nn)&&ni?.user&&(Me=ni.user,Rt=!0)}if(!Me)return _.directlySetCurrentUser(null);if(!Me._redirectEventId){if(Rt)try{yield _.beforeStateQueue.runMiddleware(Me)}catch(rn){Me=se,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(rn))}return Me?_.reloadAndSetCurrentUserOrClear(Me):_.directlySetCurrentUser(null)}return Y(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Me._redirectEventId?_.directlySetCurrentUser(Me):_.reloadAndSetCurrentUserOrClear(Me)})()}tryRedirectSignIn(f){var _=this;return(0,l.Z)(function*(){let R=null;try{R=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch{yield _._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,l.Z)(function*(){try{yield jn(f)}catch(R){if("auth/network-request-failed"!==R?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function pt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,l.Z)(function*(){const R=f?(0,C.m9)(f):null;return R&&Y(R.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(R&&R._clone(_))})()}_updateCurrentUser(f,_=!1){var R=this;return(0,l.Z)(function*(){if(!R._deleted)return f&&Y(R.tenantId===f.tenantId,R,"tenant-id-mismatch"),_||(yield R.beforeStateQueue.runMiddleware(f)),R.queue((0,l.Z)(function*(){yield R.directlySetCurrentUser(f),R.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Le(f))}))}initializeRecaptchaConfig(){var f=this;return(0,l.Z)(function*(){const _=yield xn(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new ui(_);null==f.tenantId?f._agentRecaptchaConfig=R:f._tenantRecaptchaConfigs[f.tenantId]=R,R.emailPasswordEnabled&&new Mr(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new C.LL("auth","Firebase",f())}onAuthStateChanged(f,_,R){return this.registerStateListener(this.authStateSubscription,f,_,R)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,R){return this.registerStateListener(this.idTokenSubscription,f,_,R)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var R=this;return(0,l.Z)(function*(){const se=yield R.getOrInitRedirectPersistenceManager(_);return null===f?se.removeCurrentUser():se.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const R=f&&Le(f)||_._popupRedirectResolver;Y(R,_,"argument-error"),_.redirectPersistenceManager=yield Re.create(_,[Le(R._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,l.Z)(function*(){var R,se;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(R=_._currentUser)||void 0===R?void 0:R._redirectEventId)===f?_._currentUser:(null===(se=_.redirectUser)||void 0===se?void 0:se._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,l.Z)(function*(){if(f===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,R,se){if(this._deleted)return()=>{};const Me="function"==typeof _?_:_.next.bind(_),Rt=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(Rt,this,"internal-error"),Rt.then(()=>Me(this.currentUser)),"function"==typeof _?f.addObserver(_,R,se):f.addObserver(_)}directlySetCurrentUser(f){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var _;const R={"X-Client-Version":f.clientVersion};f.app.options.appId&&(R["X-Firebase-gmpid"]=f.app.options.appId);const se=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();se&&(R["X-Firebase-Client"]=se);const Me=yield f._getAppCheckToken();return Me&&(R["X-Firebase-AppCheck"]=Me),R})()}_getAppCheckToken(){var f=this;return(0,l.Z)(function*(){var _;const R=yield null===(_=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return R?.error&&function Ae(I,...f){Ve.logLevel<=we.in.WARN&&Ve.warn(`Auth (${h.SDK_VERSION}): ${I}`,...f)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Si(I){return(0,C.m9)(I)}class Bo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,C.ne)(_=>this.observer=_)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function or(I,f,_){const R=Si(I);Y(R._canInitEmulator,R,"emulator-config-failed"),Y(/^https?:\/\//.test(f),R,"invalid-emulator-scheme");const se=!!_?.disableWarnings,Me=Io(f),{host:Rt,port:rn}=function $r(I){const f=Io(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!_)return{host:"",port:null};const R=_[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(R);if(se){const Me=se[1];return{host:Me,port:To(R.substr(Me.length+1))}}{const[Me,Rt]=R.split(":");return{host:Me,port:To(Rt)}}}(f);R.config.emulator={url:`${Me}//${Rt}${null===rn?"":`:${rn}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Rt,port:rn,protocol:Me.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function Uo(){function I(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Io(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function To(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class Jo{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return Ye("not implemented")}_getIdTokenResponse(f){return Ye("not implemented")}_linkToIdToken(f,_){return Ye("not implemented")}_getReauthenticationResolver(f){return Ye("not implemented")}}function es(I,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:resetPassword",cn(I,f))})).apply(this,arguments)}function xr(I,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:update",cn(I,f))})).apply(this,arguments)}function Er(I,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(I,f){return ot(I,"POST","/v1/accounts:signInWithPassword",cn(I,f))})).apply(this,arguments)}function ro(I,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:sendOobCode",cn(I,f))})).apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(I,f){return ro(I,f)})).apply(this,arguments)}function mt(I,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(I,f){return ro(I,f)})).apply(this,arguments)}function mn(I,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(I,f){return ro(I,f)})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(I,f){return ro(I,f)})).apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(I,f){return ot(I,"POST","/v1/accounts:signInWithEmailLink",cn(I,f))})).apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(I,f){return ot(I,"POST","/v1/accounts:signInWithEmailLink",cn(I,f))})).apply(this,arguments)}class nr extends Jo{constructor(f,_,R,se=null){super("password",R),this._email=f,this._password=_,this._tenantId=se}static _fromEmailAndPassword(f,_){return new nr(f,_,"password")}static _fromEmailAndCode(f,_,R=null){return new nr(f,_,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,l.Z)(function*(){var R;switch(_.signInMethod){case"password":const se={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=f._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Me=yield no(f,se,"signInWithPassword");return Er(f,Me)}return Er(f,se).catch(function(){var Me=(0,l.Z)(function*(Rt){if("auth/missing-recaptcha-token"===Rt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rn=yield no(f,se,"signInWithPassword");return Er(f,rn)}return Promise.reject(Rt)});return function(Rt){return Me.apply(this,arguments)}}());case"emailLink":return function oi(I,f){return fi.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:me(f,"internal-error")}})()}_linkToIdToken(f,_){var R=this;return(0,l.Z)(function*(){switch(R.signInMethod){case"password":return xr(f,{idToken:_,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function Pr(I,f){return tr.apply(this,arguments)}(f,{idToken:_,email:R._email,oobCode:R._password});default:me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Vi(I,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(I,f){return ot(I,"POST","/v1/accounts:signInWithIdp",cn(I,f))})).apply(this,arguments)}class Xn extends Jo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new Xn(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):me("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:R,signInMethod:se}=_,Me=(0,J._T)(_,["providerId","signInMethod"]);if(!R||!se)return null;const Rt=new Xn(R,se);return Rt.idToken=Me.idToken||void 0,Rt.accessToken=Me.accessToken||void 0,Rt.secret=Me.secret,Rt.nonce=Me.nonce,Rt.pendingToken=Me.pendingToken||null,Rt}_getIdTokenResponse(f){return Vi(f,this.buildRequest())}_linkToIdToken(f,_){const R=this.buildRequest();return R.idToken=_,Vi(f,R)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Vi(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,C.xO)(_)}return f}}function Yr(){return(Yr=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:sendVerificationCode",cn(I,f))})).apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(I,f){return ot(I,"POST","/v1/accounts:signInWithPhoneNumber",cn(I,f))})).apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(I,f){const _=yield ot(I,"POST","/v1/accounts:signInWithPhoneNumber",cn(I,f));if(_.temporaryProof)throw kt(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const yo={USER_NOT_FOUND:"user-not-found"};function Es(){return(Es=(0,l.Z)(function*(I,f){return ot(I,"POST","/v1/accounts:signInWithPhoneNumber",cn(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),yo)})).apply(this,arguments)}class pr extends Jo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new pr({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new pr({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function qr(I,f){return $i.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function Mo(I,f){return Vo.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function is(I,f){return Es.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:R,verificationCode:se}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:R,code:se}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:R,phoneNumber:se,temporaryProof:Me}=f;return R||_||se||Me?new pr({verificationId:_,verificationCode:R,phoneNumber:se,temporaryProof:Me}):null}}class cr{constructor(f){var _,R,se,Me,Rt,rn;const Nn=(0,C.zd)((0,C.pd)(f)),ni=null!==(_=Nn.apiKey)&&void 0!==_?_:null,gi=null!==(R=Nn.oobCode)&&void 0!==R?R:null,rr=function ir(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=Nn.mode)&&void 0!==se?se:null);Y(ni&&gi&&rr,"argument-error"),this.apiKey=ni,this.operation=rr,this.code=gi,this.continueUrl=null!==(Me=Nn.continueUrl)&&void 0!==Me?Me:null,this.languageCode=null!==(Rt=Nn.languageCode)&&void 0!==Rt?Rt:null,this.tenantId=null!==(rn=Nn.tenantId)&&void 0!==rn?rn:null}static parseLink(f){const _=function fs(I){const f=(0,C.zd)((0,C.pd)(I)).link,_=f?(0,C.zd)((0,C.pd)(f)).deep_link_id:null,R=(0,C.zd)((0,C.pd)(I)).deep_link_id;return(R?(0,C.zd)((0,C.pd)(R)).link:null)||R||_||f||I}(f);try{return new cr(_)}catch{return null}}}let Gi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,R){return nr._fromEmailAndPassword(_,R)}static credentialWithLink(_,R){const se=cr.parseLink(R);return Y(se,"argument-error"),nr._fromEmailAndCode(_,se.code,se.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class So{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ko extends So{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class go extends Ko{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return Y("providerId"in _&&"signInMethod"in _,"argument-error"),Xn._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Y(f.idToken||f.accessToken,"argument-error"),Xn._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return go.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return go.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:R,oauthTokenSecret:se,pendingToken:Me,nonce:Rt,providerId:rn}=f;if(!R&&!se&&!_&&!Me||!rn)return null;try{return new go(rn)._credential({idToken:_,accessToken:R,nonce:Rt,pendingToken:Me})}catch{return null}}}let ps=(()=>{class I extends Ko{constructor(){super("facebook.com")}static credential(_){return Xn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Us=(()=>{class I extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(_,R){return Xn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:R})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:R,oauthAccessToken:se}=_;if(!R&&!se)return null;try{return I.credential(R,se)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),rs=(()=>{class I extends Ko{constructor(){super("github.com")}static credential(_){return Xn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class os extends Jo{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return Vi(f,this.buildRequest())}_linkToIdToken(f,_){const R=this.buildRequest();return R.idToken=_,Vi(f,R)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Vi(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:R,signInMethod:se,pendingToken:Me}=_;return R&&se&&Me&&R===se?new os(R,Me):null}static _create(f,_){return new os(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lr extends So{constructor(f){Y(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return lr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return lr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=os.fromJSON(f);return Y(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:R}=f;if(!_||!R)return null;try{return os._create(R,_)}catch{return null}}}let Gr=(()=>{class I extends Ko{constructor(){super("twitter.com")}static credential(_,R){return Xn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:R})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:R,oauthTokenSecret:se}=_;if(!R||!se)return null;try{return I.credential(R,se)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function kr(I,f){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(I,f){return ot(I,"POST","/v1/accounts:signUp",cn(I,f))})).apply(this,arguments)}class Wi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,R,se=!1){return(0,l.Z)(function*(){const Me=yield lt._fromIdTokenResponse(f,R,se),Rt=_o(R);return new Wi({user:Me,providerId:Rt,_tokenResponse:R,operationType:_})})()}static _forOperation(f,_,R){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(R,!0);const se=_o(R);return new Wi({user:f,providerId:se,_tokenResponse:R,operationType:_})})()}}function _o(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ko(I){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(I){var f;const _=Si(I);if(yield _._initializationPromise,null!==(f=_.currentUser)&&void 0!==f&&f.isAnonymous)return new Wi({user:_.currentUser,providerId:null,operationType:"signIn"});const R=yield kr(_,{returnSecureToken:!0}),se=yield Wi._fromIdTokenResponse(_,"signIn",R,!0);return yield _._updateCurrentUser(se.user),se})).apply(this,arguments)}class Fs extends C.ZR{constructor(f,_,R,se){var Me;super(_.code,_.message),this.operationType=R,this.user=se,Object.setPrototypeOf(this,Fs.prototype),this.customData={appName:f.name,tenantId:null!==(Me=f.tenantId)&&void 0!==Me?Me:void 0,_serverResponse:_.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(f,_,R,se){return new Fs(f,_,R,se)}}function gs(I,f,_,R){return("reauthenticate"===f?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(Me=>{throw"auth/multi-factor-auth-required"===Me.code?Fs._fromErrorAndOperation(I,Me,f,R):Me})}function Je(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function et(I,f){return Q.apply(this,arguments)}function Q(){return Q=(0,l.Z)(function*(I,f){const _=(0,C.m9)(I);yield An(!0,_,f);const{providerUserInfo:R}=yield function Ke(I,f){return Zt.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),se=Je(R||[]);return _.providerData=_.providerData.filter(Me=>se.has(Me.providerId)),se.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Q.apply(this,arguments)}function tt(I,f){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(I,f,_=!1){const R=yield an(I,f._linkToIdToken(I.auth,yield I.getIdToken()),_);return Wi._forOperation(I,"link",R)})).apply(this,arguments)}function An(I,f,_){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(I,f,_){yield jn(f);const se=!1===I?"provider-already-linked":"no-such-provider";Y(Je(f.providerData).has(_)===I,f.auth,se)})).apply(this,arguments)}function Nr(I,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(I,f,_=!1){const{auth:R}=I,se="reauthenticate";try{const Me=yield an(I,gs(R,se,f,I),_);Y(Me.idToken,R,"internal-error");const Rt=Mt(Me.idToken);Y(Rt,R,"internal-error");const{sub:rn}=Rt;return Y(I.uid===rn,R,"user-mismatch"),Wi._forOperation(I,se,Me)}catch(Me){throw"auth/user-not-found"===Me?.code&&me(R,"user-mismatch"),Me}})).apply(this,arguments)}function fo(I,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(I,f,_=!1){const R="signIn",se=yield gs(I,R,f),Me=yield Wi._fromIdTokenResponse(I,R,se);return _||(yield I._updateCurrentUser(Me.user)),Me})).apply(this,arguments)}function K(I,f){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(I,f){return fo(Si(I),f)})).apply(this,arguments)}function v(I,f){return D.apply(this,arguments)}function D(){return(D=(0,l.Z)(function*(I,f){const _=(0,C.m9)(I);return yield An(!1,_,f.providerId),tt(_,f)})).apply(this,arguments)}function ne(I,f){return Se.apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(I,f){return Nr((0,C.m9)(I),f)})).apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(I,f){return ot(I,"POST","/v1/accounts:signInWithCustomToken",cn(I,f))})).apply(this,arguments)}function Tn(I,f){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,l.Z)(function*(I,f){const _=Si(I),R=yield function ft(I,f){return Vt.apply(this,arguments)}(_,{token:f,returnSecureToken:!0}),se=yield Wi._fromIdTokenResponse(_,"signIn",R);return yield _._updateCurrentUser(se.user),se}),Zn.apply(this,arguments)}class Vn{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?yi._fromServerResponse(f,_):"totpInfo"in _?Pi._fromServerResponse(f,_):me(f,"internal-error")}}class yi extends Vn{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new yi(_)}}class Pi extends Vn{constructor(f){super("totp",f)}static _fromServerResponse(f,_){return new Pi(_)}}function gr(I,f,_){var R;Y((null===(R=_.url)||void 0===R?void 0:R.length)>0,I,"invalid-continue-uri"),Y(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Y(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(Y(_.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function Cr(I,f,_){return sr.apply(this,arguments)}function sr(){return sr=(0,l.Z)(function*(I,f,_){var R;const se=Si(I),Me={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Rt=yield no(se,Me,"getOobCode",!0);_&&gr(se,Rt,_),yield mt(se,Rt)}else _&&gr(se,Me,_),yield mt(se,Me).catch(function(){var Rt=(0,l.Z)(function*(rn){if("auth/missing-recaptcha-token"!==rn.code)return Promise.reject(rn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Nn=yield no(se,Me,"getOobCode",!0);_&&gr(se,Nn,_),yield mt(se,Nn)}});return function(rn){return Rt.apply(this,arguments)}}())}),sr.apply(this,arguments)}function Fi(I,f,_){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(I,f,_){yield es((0,C.m9)(I),{oobCode:f,newPassword:_})})).apply(this,arguments)}function Ci(I,f){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,l.Z)(function*(I,f){yield function ms(I,f){return mi.apply(this,arguments)}((0,C.m9)(I),{oobCode:f})}),Ao.apply(this,arguments)}function Qr(I,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(I,f){const _=(0,C.m9)(I),R=yield es(_,{oobCode:f}),se=R.requestType;switch(Y(se,_,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(R.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(R.mfaInfo,_,"internal-error");default:Y(R.email,_,"internal-error")}let Me=null;return R.mfaInfo&&(Me=Vn._fromServerResponse(Si(_),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:Me},operation:se}})).apply(this,arguments)}function Ar(I,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(I,f){const{data:_}=yield Qr((0,C.m9)(I),f);return _.email})).apply(this,arguments)}function ss(I,f,_){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,l.Z)(function*(I,f,_){var R;const se=Si(I),Me={returnSecureToken:!0,email:f,password:_,clientType:"CLIENT_TYPE_WEB"};let Rt;if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const ni=yield no(se,Me,"signUpPassword");Rt=kr(se,ni)}else Rt=kr(se,Me).catch(function(){var ni=(0,l.Z)(function*(gi){if("auth/missing-recaptcha-token"===gi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rr=yield no(se,Me,"signUpPassword");return kr(se,rr)}return Promise.reject(gi)});return function(gi){return ni.apply(this,arguments)}}());const rn=yield Rt.catch(ni=>Promise.reject(ni)),Nn=yield Wi._fromIdTokenResponse(se,"signIn",rn);return yield se._updateCurrentUser(Nn.user),Nn}),Cs.apply(this,arguments)}function ks(I,f,_){return K((0,C.m9)(I),Gi.credential(f,_))}function As(I,f,_){return ra.apply(this,arguments)}function ra(){return ra=(0,l.Z)(function*(I,f,_){var R;const se=Si(I),Me={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function Rt(rn,Nn){Y(Nn.handleCodeInApp,se,"argument-error"),Nn&&gr(se,rn,Nn)}if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const rn=yield no(se,Me,"getOobCode",!0);Rt(rn,_),yield mn(se,rn)}else Rt(Me,_),yield mn(se,Me).catch(function(){var rn=(0,l.Z)(function*(Nn){if("auth/missing-recaptcha-token"!==Nn.code)return Promise.reject(Nn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ni=yield no(se,Me,"getOobCode",!0);Rt(ni,_),yield mn(se,ni)}});return function(Nn){return rn.apply(this,arguments)}}())}),ra.apply(this,arguments)}function Ks(I,f){const _=cr.parseLink(f);return"EMAIL_SIGNIN"===_?.operation}function Da(I,f,_){return so.apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(I,f,_){const R=(0,C.m9)(I),se=Gi.credentialWithLink(f,_||qe());return Y(se._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),K(R,se)})).apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:createAuthUri",cn(I,f))})).apply(this,arguments)}function Ia(I,f){return ma.apply(this,arguments)}function ma(){return ma=(0,l.Z)(function*(I,f){const R={identifier:f,continueUri:xt()?qe():"http://localhost"},{signinMethods:se}=yield function xc(I,f){return oa.apply(this,arguments)}((0,C.m9)(I),R);return se||[]}),ma.apply(this,arguments)}function Zo(I,f){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,l.Z)(function*(I,f){const _=(0,C.m9)(I),se={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&gr(_.auth,se,f);const{email:Me}=yield function ns(I,f){return wt.apply(this,arguments)}(_.auth,se);Me!==I.email&&(yield I.reload())}),Vs.apply(this,arguments)}function js(I,f,_){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,l.Z)(function*(I,f,_){const R=(0,C.m9)(I),Me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};_&&gr(R.auth,Me,_);const{email:Rt}=yield function hn(I,f){return Rn.apply(this,arguments)}(R.auth,Me);Rt!==I.email&&(yield I.reload())}),Ds.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(I,f){return bn(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function fa(I,f){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,l.Z)(function*(I,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const R=(0,C.m9)(I),Me={idToken:yield R.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},Rt=yield an(R,function Ta(I,f){return Xs.apply(this,arguments)}(R.auth,Me));R.displayName=Rt.displayName||null,R.photoURL=Rt.photoUrl||null;const rn=R.providerData.find(({providerId:Nn})=>"password"===Nn);rn&&(rn.displayName=R.displayName,rn.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Rt)}),Oa.apply(this,arguments)}function Js(I,f){return _s((0,C.m9)(I),f,null)}function Ho(I,f){return _s((0,C.m9)(I),null,f)}function _s(I,f,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(I,f,_){const{auth:R}=I,Me={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(Me.email=f),_&&(Me.password=_);const Rt=yield an(I,xr(R,Me));yield I._updateTokensIfNecessary(Rt,!0)})).apply(this,arguments)}class Qi{constructor(f,_,R={}){this.isNewUser=f,this.providerId=_,this.profile=R}}class hr extends Qi{constructor(f,_,R,se){super(f,_,R),this.username=se}}class Is extends Qi{constructor(f,_){super(f,"facebook.com",_)}}class Mi extends hr{constructor(f,_){super(f,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ga extends Qi{constructor(f,_){super(f,"google.com",_)}}class F extends hr{constructor(f,_,R){super(f,"twitter.com",_,R)}}function ee(I){const{user:f,_tokenResponse:_}=I;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ns(I){var f,_;if(!I)return null;const{providerId:R}=I,se=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Me=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!R&&I?.idToken){const Rt=null===(_=null===(f=Mt(I.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(Rt)return new Qi(Me,"anonymous"!==Rt&&"custom"!==Rt?Rt:null)}if(!R)return null;switch(R){case"facebook.com":return new Is(Me,se);case"github.com":return new Mi(Me,se);case"google.com":return new ga(Me,se);case"twitter.com":return new F(Me,se,I.screenName||null);case"custom":case"anonymous":return new Qi(Me,null);default:return new Qi(Me,R,se)}}(_)}class Xi{constructor(f,_,R){this.type=f,this.credential=_,this.auth=R}static _fromIdtoken(f,_){return new Xi("enroll",f,_)}static _fromMfaPendingCredential(f){return new Xi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,R;if(f?.multiFactorSession){if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Xi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(R=f.multiFactorSession)&&void 0!==R&&R.idToken)return Xi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class zn{constructor(f,_,R){this.session=f,this.hints=_,this.signInResolver=R}static _fromError(f,_){const R=Si(f),se=_.customData._serverResponse,Me=(se.mfaInfo||[]).map(rn=>Vn._fromServerResponse(R,rn));Y(se.mfaPendingCredential,R,"internal-error");const Rt=Xi._fromMfaPendingCredential(se.mfaPendingCredential);return new zn(Rt,Me,function(){var rn=(0,l.Z)(function*(Nn){const ni=yield Nn._process(R,Rt);delete se.mfaInfo,delete se.mfaPendingCredential;const gi=Object.assign(Object.assign({},se),{idToken:ni.idToken,refreshToken:ni.refreshToken});switch(_.operationType){case"signIn":const rr=yield Wi._fromIdTokenResponse(R,_.operationType,gi);return yield R._updateCurrentUser(rr.user),rr;case"reauthenticate":return Y(_.user,R,"internal-error"),Wi._forOperation(_.user,_.operationType,gi);default:me(R,"internal-error")}});return function(Nn){return rn.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,l.Z)(function*(){return _.signInResolver(f)})()}}function Br(I,f){var _;const R=(0,C.m9)(I),se=f;return Y(f.customData.operationType,R,"argument-error"),Y(null===(_=se.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,R,"argument-error"),zn._fromError(R,se)}class cs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(R=>Vn._fromServerResponse(f.auth,R)))})}static _fromUser(f){return new cs(f)}getSession(){var f=this;return(0,l.Z)(function*(){return Xi._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,_){var R=this;return(0,l.Z)(function*(){const se=f,Me=yield R.getSession(),Rt=yield an(R.user,se._process(R.user.auth,Me,_));return yield R.user._updateTokensIfNecessary(Rt),R.user.reload()})()}unenroll(f){var _=this;return(0,l.Z)(function*(){const R="string"==typeof f?f:f.uid,se=yield _.user.getIdToken();try{const Me=yield an(_.user,function Zs(I,f){return bn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(I,f))}(_.user.auth,{idToken:se,mfaEnrollmentId:R}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Rt})=>Rt!==R),yield _.user._updateTokensIfNecessary(Me),yield _.user.reload()}catch(Me){throw Me}})()}}const Ts=new WeakMap;function Uc(I){const f=(0,C.m9)(I);return Ts.has(f)||Ts.set(f,cs._fromUser(f)),Ts.get(f)}const _a="__sak";class cc{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const vs=(()=>{class I extends cc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,R)=>this.onStorageEvent(_,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ra(){const I=(0,C.z$)();return V(I)||Fe(I)}()&&function Kn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Lt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const R of Object.keys(this.listeners)){const se=this.storage.getItem(R),Me=this.localCache[R];se!==Me&&_(R,Me,se)}}onStorageEvent(_,R=!1){if(!_.key)return void this.forAllChangedKeys((rn,Nn,ni)=>{this.notifyListeners(rn,ni)});const se=_.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rn=this.storage.getItem(se);if(_.newValue!==rn)null!==_.newValue?this.storage.setItem(se,_.newValue):this.storage.removeItem(se);else if(this.localCache[se]===_.newValue&&!R)return}const Me=()=>{const rn=this.storage.getItem(se);!R&&this.localCache[se]===rn||this.notifyListeners(se,rn)},Rt=this.storage.getItem(se);!function _t(){return(0,C.w1)()&&10===document.documentMode}()||Rt===_.newValue||_.newValue===_.oldValue?Me():setTimeout(Me,10)}notifyListeners(_,R){this.localCache[_]=R;const se=this.listeners[_];if(se)for(const Me of Array.from(se))Me(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,R,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:R,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(R)}_removeListener(_,R){this.listeners[_]&&(this.listeners[_].delete(R),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,R){var se=()=>super._set,Me=this;return(0,l.Z)(function*(){yield se().call(Me,_,R),Me.localCache[_]=JSON.stringify(R)})()}_get(_){var R=()=>super._get,se=this;return(0,l.Z)(function*(){const Me=yield R().call(se,_);return se.localCache[_]=JSON.stringify(Me),Me})()}_remove(_){var R=()=>super._remove,se=this;return(0,l.Z)(function*(){yield R().call(se,_),delete se.localCache[_]})()}}return I.type="LOCAL",I})(),Pa=(()=>{class I extends cc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,R){}_removeListener(_,R){}}return I.type="SESSION",I})();let Mn=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const R=this.receivers.find(Me=>Me.isListeningto(_));if(R)return R;const se=new I(_);return this.receivers.push(se),se}isListeningto(_){return this.eventTarget===_}handleEvent(_){var R=this;return(0,l.Z)(function*(){const se=_,{eventId:Me,eventType:Rt,data:rn}=se.data,Nn=R.handlersMap[Rt];if(!Nn?.size)return;se.ports[0].postMessage({status:"ack",eventId:Me,eventType:Rt});const ni=Array.from(Nn).map(function(){var rr=(0,l.Z)(function*(la){return la(se.origin,rn)});return function(la){return rr.apply(this,arguments)}}()),gi=yield function lc(I){return Promise.all(I.map(function(){var f=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(R){return{fulfilled:!1,reason:R}}});return function(_){return f.apply(this,arguments)}}()))}(ni);se.ports[0].postMessage({status:"done",eventId:Me,eventType:Rt,response:gi})})()}_subscribe(_,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(R)}_unsubscribe(_,R){this.handlersMap[_]&&R&&this.handlersMap[_].delete(R),(!R||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function vr(I="",f=10){let _="";for(let R=0;R<f;R++)_+=Math.floor(10*Math.random());return I+_}class Ms{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,R=50){var se=this;return(0,l.Z)(function*(){const Me=typeof MessageChannel<"u"?new MessageChannel:null;if(!Me)throw new Error("connection_unavailable");let Rt,rn;return new Promise((Nn,ni)=>{const gi=vr("",20);Me.port1.start();const rr=setTimeout(()=>{ni(new Error("unsupported_event"))},R);rn={messageChannel:Me,onMessage(la){const ia=la;if(ia.data.eventId===gi)switch(ia.data.status){case"ack":clearTimeout(rr),Rt=setTimeout(()=>{ni(new Error("timeout"))},3e3);break;case"done":clearTimeout(Rt),Nn(ia.data.response);break;default:clearTimeout(rr),clearTimeout(Rt),ni(new Error("invalid_response"))}}},se.handlers.add(rn),Me.port1.addEventListener("message",rn.onMessage),se.target.postMessage({eventType:f,eventId:gi,data:_},[Me.port2])}).finally(()=>{rn&&se.removeMessageHandler(rn)})})()}}function ao(){return window}function ai(){return typeof ao().WorkerGlobalScope<"u"&&"function"==typeof ao().importScripts}function Bn(){return(Bn=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ai="firebaseLocalStorageDb",Ro="firebaseLocalStorage",jc="fbase_key";class va{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ma(I,f){return I.transaction([Ro],f?"readwrite":"readonly").objectStore(Ro)}function Fa(){const I=indexedDB.open(Ai,1);return new Promise((f,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const R=I.result;try{R.createObjectStore(Ro,{keyPath:jc})}catch(se){_(se)}}),I.addEventListener("success",(0,l.Z)(function*(){const R=I.result;R.objectStoreNames.contains(Ro)?f(R):(R.close(),yield function dc(){const I=indexedDB.deleteDatabase(Ai);return new va(I).toPromise()}(),f(yield Fa()))}))})}function $a(I,f,_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(I,f,_){const R=Ma(I,!0).put({[jc]:f,value:_});return new va(R).toPromise()})).apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(I,f){const _=Ma(I,!1).get(f),R=yield new va(_).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function b(I,f){const _=Ma(I,!0).delete(f);return new va(_).toPromise()}const le=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Fa()),_.db})()}_withRetries(_){var R=this;return(0,l.Z)(function*(){let se=0;for(;;)try{const Me=yield R._openDb();return yield _(Me)}catch(Me){if(se++>3)throw Me;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return ai()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Mn._getInstance(function En(){return ai()?self:null}()),_.receiver._subscribe("keyChanged",function(){var R=(0,l.Z)(function*(se,Me){return{keyProcessed:(yield _._poll()).includes(Me.key)}});return function(se,Me){return R.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var R=(0,l.Z)(function*(se,Me){return["keyChanged"]});return function(se,Me){return R.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var R,se;if(_.activeServiceWorker=yield function ls(){return Bn.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ms(_.activeServiceWorker);const Me=yield _.sender._send("ping",{},800);Me&&null!==(R=Me[0])&&void 0!==R&&R.fulfilled&&null!==(se=Me[0])&&void 0!==se&&se.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var R=this;return(0,l.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function nn(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:_},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Fa();return yield $a(_,_a,"1"),yield b(_,_a),!0}catch{}return!1})()}_withPendingWrite(_){var R=this;return(0,l.Z)(function*(){R.pendingWrites++;try{yield _()}finally{R.pendingWrites--}})()}_set(_,R){var se=this;return(0,l.Z)(function*(){return se._withPendingWrite((0,l.Z)(function*(){return yield se._withRetries(Me=>$a(Me,_,R)),se.localCache[_]=R,se.notifyServiceWorker(_)}))})()}_get(_){var R=this;return(0,l.Z)(function*(){const se=yield R._withRetries(Me=>function Ec(I,f){return U.apply(this,arguments)}(Me,_));return R.localCache[_]=se,se})()}_remove(_){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries(se=>b(se,_)),delete R.localCache[_],R.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const R=yield _._withRetries(Rt=>{const rn=Ma(Rt,!1).getAll();return new va(rn).toPromise()});if(!R)return[];if(0!==_.pendingWrites)return[];const se=[],Me=new Set;for(const{fbase_key:Rt,value:rn}of R)Me.add(Rt),JSON.stringify(_.localCache[Rt])!==JSON.stringify(rn)&&(_.notifyListeners(Rt,rn),se.push(Rt));for(const Rt of Object.keys(_.localCache))_.localCache[Rt]&&!Me.has(Rt)&&(_.notifyListeners(Rt,null),se.push(Rt));return se})()}notifyListeners(_,R){this.localCache[_]=R;const se=this.listeners[_];if(se)for(const Me of Array.from(se))Me(R)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(R)}_removeListener(_,R){this.listeners[_]&&(this.listeners[_].delete(R),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),T=1e12;class E{constructor(f){this.auth=f,this.counter=T,this._widgets=new Map}render(f,_){const R=this.counter;return this._widgets.set(R,new P(f,this.auth.name,_||{})),this.counter++,R}reset(f){var _;const R=f||T;null===(_=this._widgets.get(R))||void 0===_||_.delete(),this._widgets.delete(R)}getResponse(f){var _;return(null===(_=this._widgets.get(f||T))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,l.Z)(function*(){var R;return null===(R=_._widgets.get(f||T))||void 0===R||R.execute(),""})()}}class P{constructor(f,_,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof f?document.getElementById(f):f;Y(se,"argument-error",{appName:_}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Z(I){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<I;R++)f.push(_.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ve=wr("rcb"),Te=new gt(3e4,6e4);class _n{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=ao().grecaptcha)||void 0===f||!f.render)}load(f,_=""){return Y(function Jn(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),f,"argument-error"),this.shouldResolveImmediately(_)&&Pn(ao().grecaptcha)?Promise.resolve(ao().grecaptcha):new Promise((R,se)=>{const Me=ao().setTimeout(()=>{se(Ee(f,"network-request-failed"))},Te.get());ao()[ve]=()=>{ao().clearTimeout(Me),delete ao()[ve];const rn=ao().grecaptcha;if(!rn||!Pn(rn))return void se(Ee(f,"internal-error"));const Nn=rn.render;rn.render=(ni,gi)=>{const rr=Nn(ni,gi);return this.counter++,rr},this.hostLanguage=_,R(rn)},vi(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:ve,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(Me),se(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!(null===(_=ao().grecaptcha)||void 0===_||!_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Un{load(f){return(0,l.Z)(function*(){return new E(f)})()}clearedOneInstance(){}}const ji="recaptcha",Or={theme:"light",type:"image"};class Eo{constructor(f,_=Object.assign({},Or),R){this.parameters=_,this.type=ji,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Si(R),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof f?document.getElementById(f):f;Y(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Un:new _n,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const _=yield f.render(),R=f.getAssertedRecaptcha();return R.getResponse(_)||new Promise(Me=>{const Rt=rn=>{rn&&(f.tokenChangeListeners.delete(Rt),Me(rn))};f.tokenChangeListeners.add(Rt),f.isInvisible&&R.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(R=>R(_)),"function"==typeof f)f(_);else if("string"==typeof f){const R=ao()[f];"function"==typeof R&&R(_)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const R=document.createElement("div");_.appendChild(R),_=R}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){Y(xt()&&!ai(),f.auth,"internal-error"),yield function co(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function Pt(I){return It.apply(this,arguments)}(f.auth);Y(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zo{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=pr._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function Gt(I,f,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(I,f,_){const R=Si(I),se=yield ci(R,f,(0,C.m9)(_));return new zo(se,Me=>K(R,Me))})).apply(this,arguments)}function Po(I,f,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(I,f,_){const R=(0,C.m9)(I);yield An(!1,R,"phone");const se=yield ci(R.auth,f,(0,C.m9)(_));return new zo(se,Me=>v(R,Me))})).apply(this,arguments)}function Na(I,f,_){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(I,f,_){const R=(0,C.m9)(I),se=yield ci(R.auth,f,(0,C.m9)(_));return new zo(se,Me=>ne(R,Me))})).apply(this,arguments)}function ci(I,f,_){return li.apply(this,arguments)}function li(){return li=(0,l.Z)(function*(I,f,_){var R;const se=yield _.verify();try{let Me;if(Y("string"==typeof se,I,"argument-error"),Y(_.type===ji,I,"argument-error"),Me="string"==typeof f?{phoneNumber:f}:f,"session"in Me){const Rt=Me.session;if("phoneNumber"in Me)return Y("enroll"===Rt.type,I,"internal-error"),(yield function as(I,f){return bn(I,"POST","/v2/accounts/mfaEnrollment:start",cn(I,f))}(I,{idToken:Rt.credential,phoneEnrollmentInfo:{phoneNumber:Me.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Y("signin"===Rt.type,I,"internal-error");const rn=(null===(R=Me.multiFactorHint)||void 0===R?void 0:R.uid)||Me.multiFactorUid;return Y(rn,I,"missing-multi-factor-info"),(yield function st(I,f){return bn(I,"POST","/v2/accounts/mfaSignIn:start",cn(I,f))}(I,{mfaPendingCredential:Rt.credential,mfaEnrollmentId:rn,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Rt}=yield function oo(I,f){return Yr.apply(this,arguments)}(I,{phoneNumber:Me.phoneNumber,recaptchaToken:se});return Rt}}finally{_._reset()}}),li.apply(this,arguments)}function wi(I,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(I,f){yield tt((0,C.m9)(I),f)})).apply(this,arguments)}let ys=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=Si(_)}verifyPhoneNumber(_,R){return ci(this.auth,_,(0,C.m9)(R))}static credential(_,R){return pr._fromVerification(_,R)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:R,temporaryProof:se}=_;return R&&se?pr._fromTokenResponse(R,se):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Yo(I,f){return f?Le(f):(Y(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Rr extends Jo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Vi(f,this._buildIdpRequest())}_linkToIdToken(f,_){return Vi(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return Vi(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Fo(I){return fo(I.auth,new Rr(I),I.bypassAuthState)}function Dr(I){const{auth:f,user:_}=I;return Y(_,f,"internal-error"),Nr(_,new Rr(I),I.bypassAuthState)}function Wa(I){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(I){const{auth:f,user:_}=I;return Y(_,f,"internal-error"),tt(_,new Rr(I),I.bypassAuthState)})).apply(this,arguments)}class ws{constructor(f,_,R,se,Me=!1){this.auth=f,this.resolver=R,this.user=se,this.bypassAuthState=Me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,l.Z)(function*(R,se){f.pendingPromise={resolve:R,reject:se};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Me){f.reject(Me)}});return function(R,se){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,l.Z)(function*(){const{urlResponse:R,sessionId:se,postBody:Me,tenantId:Rt,error:rn,type:Nn}=f;if(rn)return void _.reject(rn);const ni={auth:_.auth,requestUri:R,sessionId:se,tenantId:Rt||void 0,postBody:Me||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Nn)(ni))}catch(gi){_.reject(gi)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Fo;case"linkViaPopup":case"linkViaRedirect":return Wa;case"reauthViaPopup":case"reauthViaRedirect":return Dr;default:me(this.auth,"internal-error")}}resolve(f){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aa=new gt(2e3,1e4);function Ir(I,f,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(I,f,_){const R=Si(I);pe(I,f,So);const se=Yo(R,_);return new pl(R,"signInViaPopup",f,se).executeNotNull()})).apply(this,arguments)}function Ls(I,f,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(I,f,_){const R=(0,C.m9)(I);pe(R.auth,f,So);const se=Yo(R.auth,_);return new pl(R.auth,"reauthViaPopup",f,se,R).executeNotNull()})).apply(this,arguments)}function ml(I,f,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(I,f,_){const R=(0,C.m9)(I);pe(R.auth,f,So);const se=Yo(R.auth,_);return new pl(R.auth,"linkViaPopup",f,se,R).executeNotNull()})).apply(this,arguments)}let pl=(()=>{class I extends ws{constructor(_,R,se,Me,Rt){super(_,R,Me,Rt),this.provider=se,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const R=yield _.execute();return Y(R,_.auth,"internal-error"),R})()}onExecution(){var _=this;return(0,l.Z)(function*(){Be(1===_.filter.length,"Popup operations only handle one event");const R=vr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],R),_.authWindow.associatedEvent=R,_.resolver._originValidation(_.auth).catch(se=>{_.reject(se)}),_.resolver._isIframeWebStorageSupported(_.auth,se=>{se||_.reject(Ee(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var R,se;this.pollId=null!==(se=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,aa.get())};_()}}return I.currentPopupAction=null,I})();const Gl="pendingRedirect",La=new Map;class Lh extends ws{constructor(f,_,R=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,R),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,l.Z)(function*(){let R=La.get(_.auth._key());if(!R){try{const Me=(yield function Ru(I,f){return Cc.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;R=()=>Promise.resolve(Me)}catch(se){R=()=>Promise.reject(se)}La.set(_.auth._key(),R)}return _.bypassAuthState||La.set(_.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,R=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return _().call(R,f);if("unknown"!==f.type){if(f.eventId){const se=yield R.auth._redirectUserForId(f.eventId);if(se)return R.user=se,_().call(R,f);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Cc(){return(Cc=(0,l.Z)(function*(I,f){const _=Pu(f),R=Ka(I);if(!(yield R._isAvailable()))return!1;const se="true"===(yield R._get(_));return yield R._remove(_),se})).apply(this,arguments)}function Wl(I,f){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(I,f){return Ka(I)._set(Pu(f),"true")})).apply(this,arguments)}function Bh(){La.clear()}function gl(I,f){La.set(I._key(),f)}function Ka(I){return Le(I._redirectPersistence)}function Pu(I){return $t(Gl,I.config.apiKey,I.name)}function Zl(I,f,_){return function _l(I,f,_){return Za.apply(this,arguments)}(I,f,_)}function Za(){return(Za=(0,l.Z)(function*(I,f,_){const R=Si(I);pe(I,f,So),yield R._initializationPromise;const se=Yo(R,_);return yield Wl(se,R),se._openRedirect(R,f,"signInViaRedirect")})).apply(this,arguments)}function Rd(I,f,_){return function Yl(I,f,_){return Hc.apply(this,arguments)}(I,f,_)}function Hc(){return(Hc=(0,l.Z)(function*(I,f,_){const R=(0,C.m9)(I);pe(R.auth,f,So),yield R.auth._initializationPromise;const se=Yo(R.auth,_);yield Wl(se,R.auth);const Me=yield ds(R);return se._openRedirect(R.auth,f,"reauthViaRedirect",Me)})).apply(this,arguments)}function ql(I,f,_){return function xs(I,f,_){return zc.apply(this,arguments)}(I,f,_)}function zc(){return(zc=(0,l.Z)(function*(I,f,_){const R=(0,C.m9)(I);pe(R.auth,f,So),yield R.auth._initializationPromise;const se=Yo(R.auth,_);yield An(!1,R,f.providerId),yield Wl(se,R.auth);const Me=yield ds(R);return se._openRedirect(R.auth,f,"linkViaRedirect",Me)})).apply(this,arguments)}function ea(I,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(I,f){return yield Si(I)._initializationPromise,br(I,f,!1)})).apply(this,arguments)}function br(I,f){return uc.apply(this,arguments)}function uc(){return(uc=(0,l.Z)(function*(I,f,_=!1){const R=Si(I),se=Yo(R,f),Rt=yield new Lh(R,se,_).execute();return Rt&&!_&&(delete Rt.user._redirectEventId,yield R._persistUserIfCurrent(Rt.user),yield R._setRedirectUser(null,f)),Rt})).apply(this,arguments)}function ds(I){return yr.apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(I){const f=vr(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class Ua{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(f,R)&&(_=!0,this.sendToConsumer(f,R),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Pd(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vl(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var R;if(f.error&&!vl(f)){const se=(null===(R=f.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";_.onError(Ee(this.auth,se))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const R=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&R}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bs(f))}saveEventToCache(f){this.cachedEventUids.add(Bs(f)),this.lastProcessedEventTime=Date.now()}}function Bs(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function vl({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function qo(I){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,l.Z)(function*(I,f={}){return bn(I,"GET","/v1/projects",f)})).apply(this,arguments)}const Dc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vo=/^https?/;function $c(){return($c=(0,l.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield qo(I);for(const _ of f)try{if(lo(_))return}catch{}me(I,"unauthorized-domain")})).apply(this,arguments)}function lo(I){const f=qe(),{protocol:_,hostname:R}=new URL(f);if(I.startsWith("chrome-extension://")){const Rt=new URL(I);return""===Rt.hostname&&""===R?"chrome-extension:"===_&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&Rt.hostname===R}if(!vo.test(_))return!1;if(Dc.test(I))return R===I;const se=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(R)}const Ic=new gt(3e4,6e4);function Tc(){const I=ao().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Jr=null;const Hs=new gt(5e3,15e3),ta="__/auth/iframe",Xa="emulator/auth/iframe",Va={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mc(I){const f=I.config;Y(f.authDomain,I,"auth-domain-config-required");const _=f.emulator?Nt(f,Xa):`https://${I.config.authDomain}/${ta}`,R={apiKey:f.apiKey,appName:I.name,v:h.SDK_VERSION},se=Nu.get(I.config.apiHost);se&&(R.eid=se);const Me=I._getFrameworks();return Me.length&&(R.fw=Me.join(",")),`${_}?${(0,C.xO)(R).slice(1)}`}function k(){return k=(0,l.Z)(function*(I){const f=yield function Qa(I){return Jr=Jr||function qa(I){return new Promise((f,_)=>{var R,se,Me;function Rt(){Tc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Tc(),_(Ee(I,"network-request-failed"))},timeout:Ic.get()})}if(null!==(se=null===(R=ao().gapi)||void 0===R?void 0:R.iframes)&&void 0!==se&&se.Iframe)f(gapi.iframes.getContext());else{if(null===(Me=ao().gapi)||void 0===Me||!Me.load){const rn=wr("iframefcb");return ao()[rn]=()=>{gapi.load?Rt():_(Ee(I,"network-request-failed"))},vi(`https://apis.google.com/js/api.js?onload=${rn}`).catch(Nn=>_(Nn))}Rt()}}).catch(f=>{throw Jr=null,f})}(I),Jr}(I),_=ao().gapi;return Y(_,I,"internal-error"),f.open({where:document.body,url:Mc(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Va,dontclear:!0},R=>new Promise(function(){var se=(0,l.Z)(function*(Me,Rt){yield R.restyle({setHideOnLeave:!1});const rn=Ee(I,"network-request-failed"),Nn=ao().setTimeout(()=>{Rt(rn)},Hs.get());function ni(){ao().clearTimeout(Nn),Me(R)}R.ping(ni).then(ni,()=>{Rt(rn)})});return function(Me,Rt){return se.apply(this,arguments)}}()))}),k.apply(this,arguments)}const L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class un{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hi="__/auth/handler",Ni="emulator/auth/handler",Oi=encodeURIComponent("fac");function Ss(I,f,_,R,se,Me){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(I,f,_,R,se,Me){Y(I.config.authDomain,I,"auth-domain-config-required"),Y(I.config.apiKey,I,"invalid-api-key");const Rt={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:R,v:h.SDK_VERSION,eventId:se};if(f instanceof So){f.setDefaultLanguage(I.languageCode),Rt.providerId=f.providerId||"",(0,C.xb)(f.getCustomParameters())||(Rt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[gi,rr]of Object.entries(Me||{}))Rt[gi]=rr}if(f instanceof Ko){const gi=f.getScopes().filter(rr=>""!==rr);gi.length>0&&(Rt.scopes=gi.join(","))}I.tenantId&&(Rt.tid=I.tenantId);const rn=Rt;for(const gi of Object.keys(rn))void 0===rn[gi]&&delete rn[gi];const Nn=yield I._getAppCheckToken(),ni=Nn?`#${Oi}=${encodeURIComponent(Nn)}`:"";return`${function Ja({config:I}){return I.emulator?Nt(I,Ni):`https://${I.authDomain}/${hi}`}(I)}?${(0,C.xO)(rn).slice(1)}${ni}`})).apply(this,arguments)}const Kr="webStorageSupport",na=class zs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pa,this._completeRedirectFn=br,this._overrideRedirectResult=gl}_openPopup(f,_,R,se){var Me=this;return(0,l.Z)(function*(){var Rt;Be(null===(Rt=Me.eventManagers[f._key()])||void 0===Rt?void 0:Rt.manager,"_initialize() not called before _openPopup()");const rn=yield Ss(f,_,R,qe(),se);return function Wn(I,f,_,R=500,se=600){const Me=Math.max((window.screen.availHeight-se)/2,0).toString(),Rt=Math.max((window.screen.availWidth-R)/2,0).toString();let rn="";const Nn=Object.assign(Object.assign({},L),{width:R.toString(),height:se.toString(),top:Me,left:Rt}),ni=(0,C.z$)().toLowerCase();_&&(rn=$(ni)?"_blank":_),H(ni)&&(f=f||"http://localhost",Nn.scrollbars="yes");const gi=Object.entries(Nn).reduce((la,[ia,Ud])=>`${la}${ia}=${Ud},`,"");if(function De(I=(0,C.z$)()){var f;return Fe(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ni)&&"_self"!==rn)return function $n(I,f){const _=document.createElement("a");_.href=I,_.target=f;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(R)}(f||"",rn),new un(null);const rr=window.open(f||"",rn,gi);Y(rr,I,"popup-blocked");try{rr.focus()}catch{}return new un(rr)}(f,rn,vr())})()}_openRedirect(f,_,R,se){var Me=this;return(0,l.Z)(function*(){return yield Me._originValidation(f),function ti(I){ao().location.href=I}(yield Ss(f,_,R,qe(),se)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:se,promise:Me}=this.eventManagers[_];return se?Promise.resolve(se):(Be(Me,"If manager is not set, promise should be"),Me)}const R=this.initAndGetManager(f);return this.eventManagers[_]={promise:R},R.catch(()=>{delete this.eventManagers[_]}),R}initAndGetManager(f){var _=this;return(0,l.Z)(function*(){const R=yield function Lu(I){return k.apply(this,arguments)}(f),se=new Ua(f);return R.register("authEvent",Me=>(Y(Me?.authEvent,f,"invalid-auth-event"),{status:se.onEvent(Me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:se},_.iframes[f._key()]=R,se})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(Kr,{type:Kr},se=>{var Me;const Rt=null===(Me=se?.[0])||void 0===Me?void 0:Me[Kr];void 0!==Rt&&_(!!Rt),me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ya(I){return $c.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return Lt()||V()||Fe()}};class Sa{constructor(f){this.factorId=f}_process(f,_,R){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,R);case"signin":return this._finalizeSignIn(f,_.credential);default:return Ye("unexpected MultiFactorSessionType")}}}class wa extends Sa{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new wa(f)}_finalizeEnroll(f,_,R){return function Wr(I,f){return bn(I,"POST","/v2/accounts/mfaEnrollment:finalize",cn(I,f))}(f,{idToken:_,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function nt(I,f){return bn(I,"POST","/v2/accounts/mfaSignIn:finalize",cn(I,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fd=(()=>{class I{constructor(){}static assertion(_){return wa._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Sc="@firebase/auth";class nf{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(R=>{f(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);_&&(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jh=(0,C.Pz)("authIdTokenMaxAge")||300;let Hh=null;const sf=I=>function(){var f=(0,l.Z)(function*(_){const R=_&&(yield _.getIdTokenResult()),se=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(se&&se>jh)return;const Me=R?.token;Hh!==Me&&(Hh=Me,yield fetch(I,{method:Me?"POST":"DELETE",headers:Me?{Authorization:`Bearer ${Me}`}:{}}))});return function(_){return f.apply(this,arguments)}}();function Bd(I=(0,h.getApp)()){const f=(0,h._getProvider)(I,"auth");if(f.isInitialized())return f.getImmediate();const _=function io(I,f){const _=(0,h._getProvider)(I,"auth");if(_.isInitialized()){const se=_.getImmediate(),Me=_.getOptions();if((0,C.vZ)(Me,f??{}))return se;me(se,"already-initialized")}return _.initialize({options:f})}(I,{popupRedirectResolver:na,persistence:[le,vs,Pa]}),R=(0,C.Pz)("authTokenSyncURL");if(R){const Me=sf(R);(function tn(I,f,_){(0,C.m9)(I).beforeAuthStateChanged(f,_)})(_,Me,()=>Me(_.currentUser)),function it(I,f,_,R){(0,C.m9)(I).onIdTokenChanged(f,_,R)}(_,Rt=>Me(Rt))}const se=(0,C.q4)("auth");return se&&or(_,`http://${se}`),_}!function Vh(I){(0,h._registerComponent)(new oe.wA("auth",(f,{options:_})=>{const R=f.getProvider("app").getImmediate(),se=f.getProvider("heartbeat"),Me=f.getProvider("app-check-internal"),{apiKey:Rt,authDomain:rn}=R.options;Y(Rt&&!Rt.includes(":"),"invalid-api-key",{appName:R.name});const Nn={apiKey:Rt,authDomain:rn,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ii(I)},ni=new ho(R,se,Me,Nn);return function er(I,f){const _=f?.persistence||[],R=(Array.isArray(_)?_:[_]).map(Le);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(R,f?.popupRedirectResolver)}(ni,_),ni},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,R)=>{f.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new oe.wA("auth-internal",f=>{const _=Si(f.getProvider("auth").getImmediate());return new nf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(Sc,"0.23.2",function Ld(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,h.registerVersion)(Sc,"0.23.2","esm2017")}("Browser")},2090:(pn,rt,w)=>{w.d(rt,{$s:()=>Le,BH:()=>he,G6:()=>Nt,L:()=>Ce,LL:()=>sn,Pz:()=>Ee,Sg:()=>pe,UG:()=>Ye,US:()=>oe,ZB:()=>ge,ZR:()=>bn,aH:()=>me,b$:()=>xt,eu:()=>en,hl:()=>Ut,jU:()=>Be,m9:()=>$t,ne:()=>an,pd:()=>Mt,q4:()=>Ae,r3:()=>Ke,ru:()=>qe,tV:()=>re,uI:()=>Y,vZ:()=>Tt,w1:()=>On,xO:()=>ht,xb:()=>yn,z$:()=>Ne,zI:()=>qt,zd:()=>ut});const J=function(Re){const ce=[];let H=0;for(let V=0;V<Re.length;V++){let $=Re.charCodeAt(V);$<128?ce[H++]=$:$<2048?(ce[H++]=$>>6|192,ce[H++]=63&$|128):55296==(64512&$)&&V+1<Re.length&&56320==(64512&Re.charCodeAt(V+1))?($=65536+((1023&$)<<10)+(1023&Re.charCodeAt(++V)),ce[H++]=$>>18|240,ce[H++]=$>>12&63|128,ce[H++]=$>>6&63|128,ce[H++]=63&$|128):(ce[H++]=$>>12|224,ce[H++]=$>>6&63|128,ce[H++]=63&$|128)}return ce},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,ce){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let $=0;$<Re.length;$+=3){const de=Re[$],ae=$+1<Re.length,Ie=ae?Re[$+1]:0,Oe=$+2<Re.length,Fe=Oe?Re[$+2]:0;let _t=(15&Ie)<<2|Fe>>6,Lt=63&Fe;Oe||(Lt=64,ae||(_t=64)),V.push(H[de>>2],H[(3&de)<<4|Ie>>4],H[_t],H[Lt])}return V.join("")},encodeString(Re,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(Re):this.encodeByteArray(J(Re),ce)},decodeString(Re,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(Re):function(Re){const ce=[];let H=0,V=0;for(;H<Re.length;){const $=Re[H++];if($<128)ce[V++]=String.fromCharCode($);else if($>191&&$<224){const de=Re[H++];ce[V++]=String.fromCharCode((31&$)<<6|63&de)}else if($>239&&$<365){const Oe=((7&$)<<18|(63&Re[H++])<<12|(63&Re[H++])<<6|63&Re[H++])-65536;ce[V++]=String.fromCharCode(55296+(Oe>>10)),ce[V++]=String.fromCharCode(56320+(1023&Oe))}else{const de=Re[H++],ae=Re[H++];ce[V++]=String.fromCharCode((15&$)<<12|(63&de)<<6|63&ae)}}return ce.join("")}(this.decodeStringToByteArray(Re,ce))},decodeStringToByteArray(Re,ce){this.init_();const H=ce?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let $=0;$<Re.length;){const de=H[Re.charAt($++)],Ie=$<Re.length?H[Re.charAt($)]:0;++$;const Fe=$<Re.length?H[Re.charAt($)]:64;++$;const De=$<Re.length?H[Re.charAt($)]:64;if(++$,null==de||null==Ie||null==Fe||null==De)throw new W;V.push(de<<2|Ie>>4),64!==Fe&&(V.push(Ie<<4&240|Fe>>2),64!==De&&V.push(Fe<<6&192|De))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(Re){return function(Re){const ce=J(Re);return oe.encodeByteArray(ce,!0)}(Re).replace(/\./g,"")},re=function(Re){try{return oe.decodeString(Re,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function ge(Re,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return ce}for(const H in ce)!ce.hasOwnProperty(H)||!He(H)||(Re[H]=ge(Re[H],ce[H]));return Re}function He(Re){return"__proto__"!==Re}const Ve=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Re=process.env.__FIREBASE_DEFAULTS__;return Re?JSON.parse(Re):void 0})()||(()=>{if(typeof document>"u")return;let Re;try{Re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=Re&&re(Re[1]);return ce&&JSON.parse(ce)})()}catch(Re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Re}`)}},Ae=Re=>{var ce,H;return null===(H=null===(ce=Ve())||void 0===ce?void 0:ce.emulatorHosts)||void 0===H?void 0:H[Re]},me=()=>{var Re;return null===(Re=Ve())||void 0===Re?void 0:Re.config},Ee=Re=>{var ce;return null===(ce=Ve())||void 0===ce?void 0:ce[`_${Re}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,H)=>{this.resolve=ce,this.reject=H})}wrapCallback(ce){return(H,V)=>{H?this.reject(H):this.resolve(V),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(H):ce(H,V))}}}function pe(Re,ce){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=ce||"demo-project",$=Re.iat||0,de=Re.sub||Re.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:$,exp:$+3600,auth_time:$,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(ae)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function Ye(){var Re;const ce=null===(Re=Ve())||void 0===Re?void 0:Re.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Be(){return"object"==typeof self&&self.self===self}function qe(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function On(){const Re=Ne();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function Nt(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ut(){try{return"object"==typeof indexedDB}catch{return!1}}function en(){return new Promise((Re,ce)=>{try{let H=!0;const V="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(V);$.onsuccess=()=>{$.result.close(),H||self.indexedDB.deleteDatabase(V),Re(!0)},$.onupgradeneeded=()=>{H=!1},$.onerror=()=>{var de;ce((null===(de=$.error)||void 0===de?void 0:de.message)||"")}}catch(H){ce(H)}})}function qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class bn extends Error{constructor(ce,H,V){super(H),this.code=ce,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(ce,H,V){this.service=ce,this.serviceName=H,this.errors=V}create(ce,...H){const V=H[0]||{},$=`${this.service}/${ce}`,de=this.errors[ce],ae=de?function Ft(Re,ce){return Re.replace(Qe,(H,V)=>{const $=ce[V];return null!=$?String($):`<${V}?>`})}(de,V):"Error";return new bn($,`${this.serviceName}: ${ae} (${$}).`,V)}}const Qe=/\{\$([^}]+)}/g;function Ke(Re,ce){return Object.prototype.hasOwnProperty.call(Re,ce)}function yn(Re){for(const ce in Re)if(Object.prototype.hasOwnProperty.call(Re,ce))return!1;return!0}function Tt(Re,ce){if(Re===ce)return!0;const H=Object.keys(Re),V=Object.keys(ce);for(const $ of H){if(!V.includes($))return!1;const de=Re[$],ae=ce[$];if(ue(de)&&ue(ae)){if(!Tt(de,ae))return!1}else if(de!==ae)return!1}for(const $ of V)if(!H.includes($))return!1;return!0}function ue(Re){return null!==Re&&"object"==typeof Re}function ht(Re){const ce=[];for(const[H,V]of Object.entries(Re))Array.isArray(V)?V.forEach($=>{ce.push(encodeURIComponent(H)+"="+encodeURIComponent($))}):ce.push(encodeURIComponent(H)+"="+encodeURIComponent(V));return ce.length?"&"+ce.join("&"):""}function ut(Re){const ce={};return Re.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[$,de]=V.split("=");ce[decodeURIComponent($)]=decodeURIComponent(de)}}),ce}function Mt(Re){const ce=Re.indexOf("?");if(!ce)return"";const H=Re.indexOf("#",ce);return Re.substring(ce,H>0?H:void 0)}function an(Re,ce){const H=new Gn(Re,ce);return H.subscribe.bind(H)}class Gn{constructor(ce,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{ce(this)}).catch(V=>{this.error(V)})}next(ce){this.forEachObserver(H=>{H.next(ce)})}error(ce){this.forEachObserver(H=>{H.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,H,V){let $;if(void 0===ce&&void 0===H&&void 0===V)throw new Error("Missing Observer.");$=function Dn(Re,ce){if("object"!=typeof Re||null===Re)return!1;for(const H of ce)if(H in Re&&"function"==typeof Re[H])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:H,complete:V},void 0===$.next&&($.next=dn),void 0===$.error&&($.error=dn),void 0===$.complete&&($.complete=dn);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),de}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,ce)}sendOne(ce,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{H(this.observers[ce])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const Qt=1e3,We=2,lt=144e5,ze=.5;function Le(Re,ce=Qt,H=We){const V=ce*Math.pow(H,Re),$=Math.round(ze*V*(Math.random()-.5)*2);return Math.min(lt,V+$)}function $t(Re){return Re&&Re._delegate?Re._delegate:Re}},8854:(pn,rt,w)=>{w.d(rt,{q:()=>gs});var l=w(1728),C=w(8410),h=w(6012),J=w(6286),we=w(430),oe=w(8467),W=w(2223),re=(w(1692),w(2966),w(1217)),Pe=(w(727),w(6451),w(7579),w(829)),at=w(4755);let Xe=(()=>{class Je{}return Je.\u0275fac=function(Q){return new(Q||Je)},Je.\u0275mod=W.oAB({type:Je}),Je.\u0275inj=W.cJS({imports:[re.BQ,re.BQ]}),Je})();w(706),w(2840),w(9401),w(2722);let lt=(()=>{class Je{}return Je.\u0275fac=function(Q){return new(Q||Je)},Je.\u0275mod=W.oAB({type:Je}),Je.\u0275inj=W.cJS({imports:[Pe.Q8,at.ez,re.BQ,re.si,re.us,Xe]}),Je})();var ze=w(9383),Le=w(4709);w(1591);let Pn=(()=>{class Je{}return Je.\u0275fac=function(Q){return new(Q||Je)},Je.\u0275mod=W.oAB({type:Je}),Je.\u0275inj=W.cJS({imports:[at.ez,re.BQ,Le.ZD,Le.ZD,re.BQ]}),Je})();var Hn=w(2659),ui=w(9002);let Vo=(()=>{class Je{}return Je.\u0275fac=function(Q){return new(Q||Je)},Je.\u0275mod=W.oAB({type:Je}),Je.\u0275inj=W.cJS({imports:[re.BQ,at.ez,Pe.Q8,re.BQ]}),Je})();const Hi={provide:new W.OlP("mat-select-scroll-strategy"),deps:[ui.aV],useFactory:function Fr(Je){return()=>Je.scrollStrategies.reposition()}};let ko=(()=>{class Je{}return Je.\u0275fac=function(Q){return new(Q||Je)},Je.\u0275mod=W.oAB({type:Je}),Je.\u0275inj=W.cJS({providers:[Hi],imports:[at.ez,ui.U8,re.Ng,re.BQ,Le.ZD,Vo,re.Ng,re.BQ]}),Je})();var Qs=w(3617),Fs=w(1292);let gs=(()=>{class Je{}return Je.\u0275fac=function(Q){return new(Q||Je)},Je.\u0275mod=W.oAB({type:Je}),Je.\u0275inj=W.cJS({imports:[l.ot,C._r,h.QW,J.Is,we.Ps,oe.Cq,lt,ze.g0,Pn,Hn.Tx,ko,Qs.Nh,Fs.p9]}),Je})()},8970:(pn,rt,w)=>{w.d(rt,{R:()=>re});var l=w(8505),C=w(3900),h=w(4128),J=w(4004),we=w(9300),oe=w(2223),W=w(1762),_e=w(3919),Ce=w(9744);let re=(()=>{class fe{constructor(He,Pe,at){this.firestore=He,this.userDataService=Pe,this.notificationsService=at,this.userCollection=this.firestore.collection("Users")}resetFriendsWindowService(){this.listOfFriends=[],this.listOfNotificationFriends=[]}getYourCurrentFriends(){const He=this.userDataService.getCurrentUserId();return this.userCollection.doc(He).collection("UserFriends",Pe=>Pe.where("isFriend","==",!0)).valueChanges()}getYourCurrentFriendsInfo(){return this.getYourCurrentFriends().pipe((0,l.b)(He=>{He.length<=0&&(this.listOfFriends=[])}),(0,C.w)(He=>{const at=He.map(Ge=>Ge.friendId).map(Ge=>this.userCollection.doc(Ge).get());return(0,h.D)(at)}),(0,J.U)(He=>He.map(Pe=>Pe.data())),(0,we.h)(He=>void 0!==He),(0,l.b)(He=>{this.listOfFriends=He}))}getYourNotificationFriends(){return this.notificationsService.getYourNotificationFriends().pipe((0,l.b)(He=>{He.length<=0&&(this.listOfNotificationFriends=[])}),(0,C.w)(He=>{const at=He.map(Ge=>Ge.creatorId).map(Ge=>this.userCollection.doc(Ge).get());return(0,h.D)(at)}),(0,J.U)(He=>He.map(Pe=>Pe.data())),(0,we.h)(He=>void 0!==He),(0,l.b)(He=>{this.listOfNotificationFriends=He}))}}return fe.\u0275fac=function(He){return new(He||fe)(oe.LFG(W.ST),oe.LFG(_e.M),oe.LFG(Ce.T))},fe.\u0275prov=oe.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},7312:(pn,rt,w)=>{w.d(rt,{R:()=>_e});var l=w(8505),C=w(3900),h=w(4128),J=w(4004),we=w(2223),oe=w(1762),W=w(9744);let _e=(()=>{class Ce{constructor(fe,ge){this.firestore=fe,this.notificationsService=ge,this.userCollection=this.firestore.collection("Users"),this.postCollection=this.firestore.collection("Posts")}resetLikesWindowService(){this.listOfNotificationLikes=[]}getYourNotificationLikes(){return this.notificationsService.getYourNotificationLikes().pipe((0,l.b)(fe=>{fe.length<=0&&(this.listOfNotificationLikes=[])}),(0,C.w)(fe=>{const ge=fe.map(Pe=>Pe),He=ge.map(Pe=>this.userCollection.doc(Pe.creatorId).get());return(0,h.D)(He).pipe((0,C.w)(Pe=>{const at=ge.map(Ge=>this.postCollection.doc(Ge.postId).get());return(0,h.D)(at).pipe((0,J.U)(Ge=>({notificationLikes:fe,users:Pe.map(Xe=>Xe.data()),posts:Ge.map(Xe=>Xe.data())})))}))}),(0,l.b)(({notificationLikes:fe,users:ge,posts:He})=>{const Pe=fe.map((at,Ge)=>{const Xe=ge[Ge],Ve=He[Ge];return Xe?{...at,post:Ve,user:Xe}:at});this.listOfNotificationLikes=Pe}))}}return Ce.\u0275fac=function(fe){return new(fe||Ce)(we.LFG(oe.ST),we.LFG(W.T))},Ce.\u0275prov=we.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},9744:(pn,rt,w)=>{w.d(rt,{T:()=>J});var l=w(2223),C=w(1762),h=w(3919);let J=(()=>{class we{constructor(W,_e){this.firestore=W,this.userDataService=_e,this.collectionUsers=this.firestore.collection("Users")}getYourNotificationFriends(){const W=this.userDataService.getCurrentUserId();return this.collectionUsers.doc(W).collection("NotificationsFriends",_e=>_e.orderBy("timestamp","desc")).valueChanges()}addNotificationFriend(W,_e){this.collectionUsers.doc(W).collection("NotificationsFriends").doc(_e).set({creatorId:_e,timestamp:new Date}).then()}deleteNotificationFriend(W,_e){this.collectionUsers.doc(W).collection("NotificationsFriends").doc(_e).delete().then()}getYourNotificationLikes(){const W=this.userDataService.getCurrentUserId();return this.collectionUsers.doc(W).collection("NotificationsLikes",_e=>_e.orderBy("timestamp","desc")).valueChanges()}addNotificationLike(W,_e,Ce){if(W!==_e){const re=this.firestore.createId();this.collectionUsers.doc(W).collection("NotificationsLikes").doc(re).set({notificationLikeId:re,postId:Ce,creatorId:_e,timestamp:new Date}).then()}}deleteCheckedNotificationLike(W){const _e=this.userDataService.getCurrentUserId();this.collectionUsers.doc(_e).collection("NotificationsLikes").doc(W).delete().then()}deleteNotificationLike(W,_e,Ce){this.collectionUsers.doc(W).collection("NotificationsLikes").ref.where("creatorId","==",_e).where("postId","==",Ce).get().then(fe=>{const ge=fe.docs.map(He=>He.ref.delete());return Promise.all(ge)}).catch(fe=>{console.error("Error deleting documents: ",fe)})}}return we.\u0275fac=function(W){return new(W||we)(l.LFG(C.ST),l.LFG(h.M))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},8577:(pn,rt,w)=>{w.d(rt,{n:()=>we});var l=w(2223),C=w(1762),h=w(3919),J=w(5213);let we=(()=>{class oe{constructor(_e,Ce,re){this.firestore=_e,this.userDataService=Ce,this.mainUserPageService=re,this.posts=[],this.pageSize=5,this.currentSize=0,this.collection=this.firestore.collection("Posts")}uploadPost(_e){const Ce=this.firestore.createId(),re=this.userDataService.getCurrentUserId();return this.collection.doc(Ce).set({comment:_e,creatorId:re,timestamp:new Date,postId:Ce}).then(()=>{this.mainUserPageService.addUserPost(re,Ce)})}uploadImagePost(_e,Ce,re){const fe=this.userDataService.getCurrentUserId();return this.collection.doc(_e).set({comment:Ce,creatorId:this.userDataService.getCurrentUserId(),imageUrl:re,timestamp:new Date,postId:_e}).then(()=>{this.mainUserPageService.addUserPost(fe,_e)})}deleteUserPosts(){this.collection.get().subscribe(_e=>{_e.forEach(Ce=>{const re=Ce.data(),fe=Ce.id;re&&re.creatorId===this.userDataService.userInfo.userId&&(this.deleteCollection(fe,"Likes"),this.deleteCollection(fe,"PostComments"),this.collection.doc(fe).delete().then(()=>{}).catch(ge=>{console.error(`Error deleting document with ID ${fe}`,ge)}))})})}deleteCollection(_e,Ce){const re=this.firestore.firestore.batch();this.collection.doc(_e).collection(Ce).ref.get().then(fe=>(fe.forEach(ge=>{re.delete(ge.ref)}),re.commit()))}getCountOfDocuments(){this.collection.ref.get().then(_e=>{this.postsSize=_e.size})}getFirstPosts(){0===this.currentSize&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.pageSize).get().then(_e=>{_e.forEach(Ce=>{this.currentSize++,this.posts.push(Ce.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}getScrollPosts(){window.onscroll=()=>{window.pageYOffset+window.innerHeight>=document.documentElement.scrollHeight&&this.postsSize>this.currentSize&&this.postsSize>this.posts.length&&this.currentSize>0&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").startAfter(this.lastVisibleDoc).limit(this.pageSize).get().then(_e=>{_e.forEach(Ce=>{this.currentSize++,this.posts.push(Ce.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}}newGetPosts(_e){"add"===_e&&this.currentSize++,"delete"===_e&&this.currentSize--,this.posts=[],this.currentSize>0?(this.getCountOfDocuments(),this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.currentSize).get().then(Ce=>{this.currentSize=0,Ce.forEach(re=>{this.currentSize++,this.posts.push(re.data())}),this.lastVisibleDoc=Ce.docs[Ce.docs.length-1]})):this.getFirstPosts()}}return oe.\u0275fac=function(_e){return new(_e||oe)(l.LFG(C.ST),l.LFG(h.M),l.LFG(J.v))},oe.\u0275prov=l.Yz7({token:oe,factory:oe.\u0275fac}),oe})()},1188:(pn,rt,w)=>{w.d(rt,{V:()=>h});var l=w(2223),C=w(8445);let h=(()=>{class J{constructor(oe){this.storage=oe}getDataFromStorage(oe){return this.storage.ref(oe).getDownloadURL()}}return J.\u0275fac=function(oe){return new(oe||J)(l.LFG(C.Q1))},J.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},3919:(pn,rt,w)=>{w.d(rt,{M:()=>fe});var l=w(1389),oe=(w(2090),w(6881),w(1877),w(4859),w(4004)),W=w(2223),_e=w(1205),Ce=w(3676),re=w(1762);let fe=(()=>{class ge{constructor(Pe,at,Ge){this.afAuth=Pe,this.router=at,this.firestore=Ge,this.userHasProfile=!0,this.isLoggedIn=!1,this.collection=this.firestore.collection("Users")}resetUserDataService(){this.userInfo={}}getUpdatedUserProfile(){this.afAuth.currentUser.then(Pe=>{const at=Pe?.uid;return this.firestore.collection("Users").doc(at).get().pipe((0,oe.U)(Ge=>{const Xe=Ge.data();this.userHasProfile=Ge.exists,Ge.exists&&(this.userInfo={userId:Xe.userId,publicName:Xe.publicName,description:Xe.description,timestamp:Xe.timestamp,imageUrl:Xe.imageUrl})})).toPromise()}).catch(Pe=>{console.error("Error getting document:",Pe)})}checkLoginStatus(){this.afAuth.authState.subscribe(Pe=>{this.isLoggedIn=!!Pe,Pe&&(Pe.emailVerified?(this.getUpdatedUserProfile(),this.router.navigate(["userPage"])):(Pe.sendEmailVerification(),this.router.navigate(["emailVerification"])))})}getCurrentUserId(){const at=(0,l.o)().currentUser;return at?at.uid:""}createUser(Pe,at){this.collection.doc(this.getCurrentUserId()).set({publicName:Pe,description:at,userId:this.getCurrentUserId(),timestamp:new Date}).then(()=>{this.getUpdatedUserProfile(),this.router.navigate(["userPage"])}).catch(Ge=>{console.error("Error writing document: ",Ge)})}resetUserName(){this.userInfo.publicName=""}deleteUser(){this.collection.doc(this.userInfo.userId).delete().then(()=>{this.getUpdatedUserProfile()}).catch(Pe=>{console.error("Error writing document: ",Pe)})}updateDocumentField(Pe,at,Ge,Xe){return this.firestore.collection(Pe).doc(at).update({[Ge]:Xe})}}return ge.\u0275fac=function(Pe){return new(Pe||ge)(W.LFG(_e.zQ),W.LFG(Ce.F0),W.LFG(re.ST))},ge.\u0275prov=W.Yz7({token:ge,factory:ge.\u0275fac}),ge})()},5213:(pn,rt,w)=>{w.d(rt,{v:()=>at});var l=w(8505),C=w(8746),h=w(3900),J=w(9300),we=w(9841),oe=w(5698),W=w(1627),_e=w(2223),Ce=w(3919),re=w(9744),fe=w(1762),ge=w(8445),He=w(6286),Pe=w(3676);let at=(()=>{class Ge{constructor(Ve,Ae,vt,me,Ee,he){this.userDataService=Ve,this.notificationsService=Ae,this.firestore=vt,this.storage=me,this.dialogOpen=Ee,this.router=he,this.userPosts=0,this.userFriends=0,this.collectionUsers=this.firestore.collection("Users")}resetUserPageService(){this.userPosts=0,this.userFriends=0}addUserPost(Ve,Ae){this.collectionUsers.doc(Ve).collection("UserPosts").doc(Ae).set({postId:Ae,creatorId:Ve,timestamp:new Date}).then()}deleteUserPost(Ve,Ae){this.collectionUsers.doc(Ve).collection("UserPosts").doc(Ae).delete().then()}uploadUserImage(Ve,Ae){const vt=`Users/${Ve}/image`,me=this.storage.ref(vt),Ee=this.storage.upload(vt,Ae),he=this.dialogOpen.open(W.R,{disableClose:!0,data:{info:"Upload progress",message:""}});Ee.percentageChanges().pipe((0,l.b)(pe=>{he.componentInstance.message={info:"Upload progress",message:`Upload progress: ${pe?.toFixed(2)}%`}}),(0,C.x)(()=>he.close()),(0,h.w)(()=>Ee.snapshotChanges()),(0,J.h)(pe=>"success"===pe.state),(0,h.w)(()=>me.getDownloadURL()),(0,h.w)(pe=>this.collectionUsers.doc(Ve).update({imageUrl:pe}))).subscribe(()=>{this.userDataService.getUpdatedUserProfile()})}getCountOfValuePosts(Ve){this.collectionUsers.doc(Ve).collection("UserPosts").valueChanges().subscribe(Ae=>{this.userPosts=Ae.length})}getCountOfValueFriends(Ve){this.collectionUsers.doc(Ve).collection("UserFriends",Ae=>Ae.where("isFriend","==",!0)).valueChanges().subscribe(Ae=>{this.userFriends=Ae.length})}addToFriends(Ve){const Ae=this.userDataService.getCurrentUserId();this.collectionUsers.doc(Ae).collection("UserFriends").doc(Ve).set({friendId:Ve,creatorId:Ae,timestamp:new Date,isFriend:!1}).then(()=>{this.checkIsFriend(Ve)})}deleteFriend(Ve){const Ae=this.userDataService.getCurrentUserId();this.deleteUserFriend(Ae,Ve),this.deleteUserFriend(Ve,Ae)}deleteUserFriend(Ve,Ae){this.collectionUsers.doc(Ve).collection("UserFriends").doc(Ae).delete().then(()=>this.checkIsFriend(Ae))}getFriendExistence(Ve,Ae){return this.collectionUsers.doc(Ve).collection("UserFriends").doc(Ae).get()}checkIsFriend(Ve){const Ae=this.userDataService.getCurrentUserId(),vt=this.getFriendExistence(Ae,Ve),me=this.getFriendExistence(Ve,Ae);(0,we.a)([vt,me]).pipe((0,oe.q)(1)).subscribe(([Ee,he])=>{Ee.exists&&!he.exists&&this.notificationsService.addNotificationFriend(Ve,Ae),Ee.exists&&he.exists&&(this.updateFriendsStatus(Ve,Ae),this.updateFriendsStatus(Ae,Ve),this.notificationsService.deleteNotificationFriend(Ve,Ae),this.notificationsService.deleteNotificationFriend(Ae,Ve))})}updateFriendsStatus(Ve,Ae){this.collectionUsers.doc(Ve).collection("UserFriends").doc(Ae).update({isFriend:!0}).then()}goToFriendPage(Ve){const vt=Ve===this.userDataService.getCurrentUserId();this.router.navigate([vt?"userPage":"friendPage"],{queryParams:vt?void 0:{friendId:Ve}})}deleteSomeCollection(Ve){const Ae=this.userDataService.getCurrentUserId();this.collectionUsers.doc(Ae).collection(Ve).get().toPromise().then(vt=>{vt&&vt.forEach(me=>{me.ref.delete()})})}deleteUserPostsCollection(){this.deleteSomeCollection("UserPosts")}deleteUserFriendsCollection(){this.deleteSomeCollection("UserFriends")}}return Ge.\u0275fac=function(Ve){return new(Ve||Ge)(_e.LFG(Ce.M),_e.LFG(re.T),_e.LFG(fe.ST),_e.LFG(ge.Q1),_e.LFG(He.uw),_e.LFG(Pe.F0))},Ge.\u0275prov=_e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})()},8099:(pn,rt,w)=>{w.d(rt,{f:()=>Xe});var l=w(9401),C=w(9802),h=w(6286),J=w(2223),we=w(3919),oe=w(8577),W=w(5213),_e=w(1205),Ce=w(3676),re=w(4755),fe=w(1728),ge=w(6012);function He(Ve,Ae){1&Ve&&(J.TgZ(0,"div")(1,"small",9),J._uU(2,"Field cannot be empty"),J.qZA()())}function Pe(Ve,Ae){if(1&Ve&&(J.ynx(0),J._UZ(1,"input",8),J.YNc(2,He,3,0,"div",3),J.BQk()),2&Ve){const vt=J.oxw();let me;J.xp6(2),J.Q6J("ngIf",(null==(me=vt.sidebarForm.get("textData"))?null:me.invalid)&&(null==(me=vt.sidebarForm.get("textData"))?null:me.touched))}}function at(Ve,Ae){if(1&Ve){const vt=J.EpF();J.TgZ(0,"button",10),J.NdJ("click",function(){J.CHM(vt);const Ee=J.oxw();return J.KtG(Ee.deleteUser())}),J._uU(1," Yes "),J.qZA()}}function Ge(Ve,Ae){if(1&Ve){const vt=J.EpF();J.TgZ(0,"button",10),J.NdJ("click",function(){J.CHM(vt);const Ee=J.oxw();return J.KtG(Ee.saveData())}),J._uU(1," Save "),J.qZA()}}let Xe=(()=>{class Ve{constructor(vt,me,Ee,he,pe,Ne,Y,Ye){this.message=vt,this.dialogRef=me,this.userDataService=Ee,this.postsDataService=he,this.userPageService=pe,this.afAuth=Ne,this.router=Y,this.dialog=Ye,this.sidebarForm=new l.cw({textData:new l.NI("",[l.kI.required])})}saveData(){const vt=this.sidebarForm.get("textData");vt&&!vt.errors&&this.userDataService.updateDocumentField("Users",this.userDataService.userInfo.userId,this.message.field,vt.value).then(()=>{this.dialogRef.close(),this.postsDataService.newGetPosts(),this.userDataService.getUpdatedUserProfile()})}deleteUser(){const vt=this.afAuth.currentUser;vt&&vt.then(me=>me).then(me=>me?.delete()).then(()=>{this.dialogRef.close(),this.userDataService.deleteUser(),this.postsDataService.deleteUserPosts(),this.userPageService.deleteUserPostsCollection(),this.userPageService.deleteUserFriendsCollection(),this.userPageService.deleteSomeCollection("NotificationsLikes"),this.userPageService.deleteSomeCollection("NotificationsFriends"),this.router.navigate([""])}).catch(me=>{this.dialog.open(C.S,{data:{info:"Error deleting account",message:me.message}})})}closeClick(){this.dialogRef.close()}}return Ve.\u0275fac=function(vt){return new(vt||Ve)(J.Y36(h.WI),J.Y36(h.so),J.Y36(we.M),J.Y36(oe.n),J.Y36(W.v),J.Y36(_e.zQ),J.Y36(Ce.F0),J.Y36(h.uw))},Ve.\u0275cmp=J.Xpm({type:Ve,selectors:[["app-change-data-modal"]],decls:15,vars:6,consts:[[1,"message"],[3,"formGroup"],[1,"message-text"],[4,"ngIf"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["formControlName","textData",1,"message-input"],[1,"error"],["mat-flat-button","","color","warn",3,"click"]],template:function(vt,me){1&vt&&(J.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),J._uU(3),J.qZA()(),J.TgZ(4,"mat-card-content",0)(5,"form",1)(6,"div",2),J._uU(7),J.qZA(),J.YNc(8,Pe,3,1,"ng-container",3),J.TgZ(9,"div",4)(10,"button",5),J.NdJ("click",function(){return me.closeClick()}),J._uU(11," Close "),J.qZA(),J._UZ(12,"span",6),J.YNc(13,at,2,0,"button",7),J.YNc(14,Ge,2,0,"button",7),J.qZA()()()()),2&vt&&(J.xp6(3),J.hij(" ",me.message.info," "),J.xp6(2),J.Q6J("formGroup",me.sidebarForm),J.xp6(2),J.Oqu(me.message.message),J.xp6(1),J.Q6J("ngIf",!me.message.yesButton),J.xp6(5),J.Q6J("ngIf",me.message.yesButton),J.xp6(1),J.Q6J("ngIf",!me.message.yesButton))},dependencies:[re.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,fe.lW,ge.a8,ge.dn,ge.dk,ge.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.error[_ngcontent-%COMP%]{color:#f44336}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),Ve})()},9802:(pn,rt,w)=>{w.d(rt,{S:()=>W});var l=w(6286),C=w(2223),h=w(4755),J=w(1728),we=w(6012);function oe(_e,Ce){if(1&_e){const re=C.EpF();C.TgZ(0,"button",6),C.NdJ("click",function(){C.CHM(re);const ge=C.oxw();return C.KtG(ge.buttonClick())}),C._uU(1),C.qZA()}if(2&_e){const re=C.oxw();C.xp6(1),C.hij(" ",re.message.nameButton," ")}}let W=(()=>{class _e{constructor(re,fe){this.message=re,this.dialog=fe}buttonClick(){this.dialog.close(!0)}closeClick(){this.dialog.close()}}return _e.\u0275fac=function(re){return new(re||_e)(C.Y36(l.WI),C.Y36(l.so))},_e.\u0275cmp=C.Xpm({type:_e,selectors:[["app-info-modal"]],decls:12,vars:3,consts:[[1,"message"],[1,"message-text"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"]],template:function(re,fe){1&re&&(C.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),C._uU(3),C.qZA()(),C.TgZ(4,"mat-card-content",0)(5,"div",1),C._uU(6),C.qZA(),C.TgZ(7,"div",2)(8,"button",3),C.NdJ("click",function(){return fe.closeClick()}),C._uU(9," Close "),C.qZA(),C._UZ(10,"span",4),C.YNc(11,oe,2,1,"button",5),C.qZA()()()),2&re&&(C.xp6(3),C.hij(" ",fe.message.info," "),C.xp6(3),C.Oqu(fe.message.message),C.xp6(5),C.Q6J("ngIf",fe.message.addButton))},dependencies:[h.O5,J.lW,we.a8,we.dn,we.dk,we.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),_e})()},1627:(pn,rt,w)=>{w.d(rt,{R:()=>oe});var l=w(6286),C=w(2223),h=w(1728),J=w(6012),we=w(8467);let oe=(()=>{class W{constructor(Ce,re){this.message=Ce,this.dialogRef=re}closeModal(){this.dialogRef.close()}}return W.\u0275fac=function(Ce){return new(Ce||W)(C.Y36(l.WI),C.Y36(l.so))},W.\u0275cmp=C.Xpm({type:W,selectors:[["app-loader"]],decls:11,vars:2,consts:[[1,"message"],[1,"message-loader"],[1,"message-text"],["mode","indeterminate","color","primary","diameter","32","strokeWidth","4"],["mat-flat-button","","color","warn",3,"click"]],template:function(Ce,re){1&Ce&&(C.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),C._uU(3),C.qZA()(),C.TgZ(4,"mat-card-content",0)(5,"div",1)(6,"div",2),C._uU(7),C.qZA(),C._UZ(8,"mat-progress-spinner",3),C.qZA(),C.TgZ(9,"button",4),C.NdJ("click",function(){return re.closeModal()}),C._uU(10,"Close"),C.qZA()()()),2&Ce&&(C.xp6(3),C.hij(" ",re.message.info," "),C.xp6(4),C.Oqu(re.message.message))},dependencies:[h.lW,J.a8,J.dn,J.dk,J.n5,we.Ou],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.message-loader[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-text[_ngcontent-%COMP%]{padding:10px}"]}),W})()},7655:(pn,rt,w)=>{var l=w(6550),C=w(3676),h=w(2223),J=w(3919);let we=(()=>{class U{constructor(g,M){this.router=g,this.userDataService=M}canActivate(g,M){return"/postFeed"!==M.url||!(!this.userDataService.userHasProfile||!this.userDataService.isLoggedIn)||(this.router.navigate([""]),!1)}}return U.\u0275fac=function(g){return new(g||U)(h.LFG(C.F0),h.LFG(J.M))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();var oe=w(9401);function W(U,b){return g=>{const M=g.get(U)?.value,z=g.get(b)?.value;return M!==z?{fieldsMatch:!0}:null}}var _e=w(9802),Ce=w(8410),re=w(1205),fe=w(6286),ge=w(4755),He=w(1728),Pe=w(6012);function at(U,b){1&U&&(h.TgZ(0,"div")(1,"small",13),h._uU(2,"Please, enter a valid email."),h.qZA()())}function Ge(U,b){if(1&U&&(h.TgZ(0,"div")(1,"small",13),h._uU(2),h.qZA()()),2&U){const g=h.oxw(2);h.xp6(2),h.hij(" The field must have at least ",g.minLength," characters. ")}}function Xe(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"div",8),h._UZ(1,"input",9),h.YNc(2,at,3,0,"div",10),h._UZ(3,"input",11),h.YNc(4,Ge,3,1,"div",10),h.TgZ(5,"button",12),h.NdJ("click",function(){h.CHM(g);const z=h.oxw();return h.KtG(z.onLoginSubmitClick())}),h._uU(6," Login "),h.qZA()()}if(2&U){const g=h.oxw();let M,z;h.xp6(2),h.Q6J("ngIf",(null==(M=g.authenticatorForm.get("login.loginEmail"))?null:M.invalid)&&(null==(M=g.authenticatorForm.get("login.loginEmail"))?null:M.touched)),h.xp6(2),h.Q6J("ngIf",(null==(z=g.authenticatorForm.get("login.loginPassword"))?null:z.invalid)&&(null==(z=g.authenticatorForm.get("login.loginPassword"))?null:z.touched))}}function Ve(U,b){1&U&&(h.TgZ(0,"div")(1,"small",13),h._uU(2,"Please, enter a valid email."),h.qZA()())}function Ae(U,b){if(1&U&&(h.TgZ(0,"div")(1,"small",13),h._uU(2),h.qZA()()),2&U){const g=h.oxw(2);h.xp6(2),h.hij(" The field must have at least ",g.minLength," characters. ")}}function vt(U,b){if(1&U&&(h.TgZ(0,"small",13),h._uU(1),h.qZA()),2&U){const g=h.oxw(3);h.xp6(1),h.hij(" The field must have at least ",g.minLength," characters. ")}}function me(U,b){1&U&&(h.TgZ(0,"small",13),h._uU(1,"Password must match "),h.qZA())}function Ee(U,b){if(1&U&&(h.TgZ(0,"div"),h.YNc(1,vt,2,1,"small",19),h.YNc(2,me,2,0,"small",19),h.qZA()),2&U){const g=h.oxw(2);let M,z;h.xp6(1),h.Q6J("ngIf",null==(M=g.authenticatorForm.get("register.registerConfirmPassword"))?null:M.invalid),h.xp6(1),h.Q6J("ngIf",null==(z=g.authenticatorForm.get("register"))||null==z.errors?null:z.errors.fieldsMatch)}}function he(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"div",14),h._UZ(1,"input",15),h.YNc(2,Ve,3,0,"div",10),h._UZ(3,"input",16),h.YNc(4,Ae,3,1,"div",10),h._UZ(5,"input",17),h.YNc(6,Ee,3,2,"div",10),h.TgZ(7,"button",18),h.NdJ("click",function(){h.CHM(g);const z=h.oxw();return h.KtG(z.onRegisterSubmitClick())}),h._uU(8," Create "),h.qZA()()}if(2&U){const g=h.oxw();let M,z,le;h.xp6(2),h.Q6J("ngIf",(null==(M=g.authenticatorForm.get("register.registerEmail"))?null:M.invalid)&&(null==(M=g.authenticatorForm.get("register.registerEmail"))?null:M.touched)),h.xp6(2),h.Q6J("ngIf",(null==(z=g.authenticatorForm.get("register.registerPassword"))?null:z.invalid)&&(null==(z=g.authenticatorForm.get("register.registerPassword"))?null:z.touched)),h.xp6(2),h.Q6J("ngIf",null==(le=g.authenticatorForm.get("register.registerConfirmPassword"))?null:le.touched)}}function pe(U,b){1&U&&(h.TgZ(0,"div")(1,"small",13),h._uU(2,"Please, enter a valid email."),h.qZA()())}function Ne(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"div",20),h._UZ(1,"input",21),h.YNc(2,pe,3,0,"div",10),h.TgZ(3,"button",18),h.NdJ("click",function(){h.CHM(g);const z=h.oxw();return h.KtG(z.onResetClick())}),h._uU(4," Reset "),h.qZA()()}if(2&U){const g=h.oxw();let M;h.xp6(2),h.Q6J("ngIf",(null==(M=g.authenticatorForm.get("forgot.resetEmail"))?null:M.invalid)&&(null==(M=g.authenticatorForm.get("forgot.resetEmail"))?null:M.touched))}}var Y=(()=>((Y=Y||{})[Y.LOGIN=0]="LOGIN",Y[Y.REGISTER=1]="REGISTER",Y[Y.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Y))(),Ye=(()=>((Ye=Ye||{})[Ye.LOGIN=0]="LOGIN",Ye[Ye.REGISTER=1]="REGISTER",Ye[Ye.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Ye))();let Be=(()=>{class U{constructor(g,M,z,le){this.bottomSheetRef=g,this.afAuth=M,this.router=z,this.dialog=le,this.state=Y.LOGIN,this.minLength=3,this.authenticatorForm=new oe.cw({login:new oe.cw({loginEmail:new oe.NI("",[oe.kI.required,oe.kI.email]),loginPassword:new oe.NI("",[oe.kI.required,oe.kI.minLength(this.minLength)])}),register:new oe.cw({registerEmail:new oe.NI("",[oe.kI.required,oe.kI.email]),registerPassword:new oe.NI("",[oe.kI.required,oe.kI.minLength(this.minLength)]),registerConfirmPassword:new oe.NI("",[oe.kI.required,oe.kI.minLength(this.minLength)])},{validators:W("registerPassword","registerConfirmPassword")}),forgot:new oe.cw({resetEmail:new oe.NI("",[oe.kI.required,oe.kI.email])})})}submitForm(g){switch(g.preventDefault(),this.submitState){case Ye.LOGIN:this.setLogin();break;case Ye.REGISTER:this.setRegister();break;case Ye.FORGOT_PASSWORD:this.setReset()}}setRegister(){const g=this.authenticatorForm.get("register");if(g&&g.valid){const{registerEmail:M,registerPassword:z}=g.value;this.afAuth.createUserWithEmailAndPassword(M,z).then(()=>{this.router.navigate(["emailVerification"]),this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(le=>{this.dialog.open(_e.S,{data:{info:"Account with this email already exists",message:le.message}})})}}onRegisterSubmitClick(){this.authenticatorForm.get("register.registerEmail")?.markAsTouched(),this.authenticatorForm.get("register.registerPassword")?.markAsTouched(),this.authenticatorForm.get("register.registerConfirmPassword")?.markAsTouched(),this.submitState=Ye.REGISTER}setLogin(){const g=this.authenticatorForm.get("login.loginEmail"),M=this.authenticatorForm.get("login.loginPassword");g&&M&&!g.errors&&!M.errors&&this.afAuth.signInWithEmailAndPassword(g.value,M.value).then(()=>{this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(z=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail or password",message:z.message}})})}onLoginSubmitClick(){this.authenticatorForm.get("login.loginEmail")?.markAsTouched(),this.authenticatorForm.get("login.loginPassword")?.markAsTouched(),this.submitState=Ye.LOGIN}setReset(){const g=this.authenticatorForm.get("forgot.resetEmail");g&&!g.errors&&this.afAuth.sendPasswordResetEmail(g.value).then(()=>{this.bottomSheetRef.dismiss(),this.dialog.open(_e.S,{data:{info:"Check your E-mail",message:"A link to change your password has been sent to your email."}}),this.authenticatorForm.reset()}).catch(()=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail",message:"The email address is badly formatted."}})})}onResetClick(){this.authenticatorForm.get("forgot.resetEmail")?.markAsTouched(),this.submitState=Ye.FORGOT_PASSWORD}onForgotPasswordButton(){this.state=Y.FORGOT_PASSWORD}onCreateAccountButton(){this.state=Y.REGISTER}onLoginButton(){this.state=Y.LOGIN}isLoginState(){return this.state==Y.LOGIN}isRegisterState(){return this.state==Y.REGISTER}isForgotPasswordState(){return this.state==Y.FORGOT_PASSWORD}getStateText(){switch(this.state){case Y.LOGIN:return"Login";case Y.REGISTER:return"Register";case Y.FORGOT_PASSWORD:return"Forgot password"}}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(Ce.oL),h.Y36(re.zQ),h.Y36(C.F0),h.Y36(fe.uw))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-authenticator"]],decls:17,vars:5,consts:[[1,"authenticator"],[1,"authenticator-content"],[3,"formGroup","submit"],["formGroupName","login",4,"ngIf"],["formGroupName","register",4,"ngIf"],["formGroupName","forgot",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["formGroupName","login"],["placeholder","Email","formControlName","loginEmail","autocomplete","email"],[4,"ngIf"],["placeholder","Password","type","password","formControlName","loginPassword","autocomplete","current-password"],["mat-flat-button","","color","warn","type","submit",3,"click"],[1,"error"],["formGroupName","register"],["placeholder","Email","formControlName","registerEmail","autocomplete","email"],["placeholder","Password","type","password","formControlName","registerPassword","autocomplete","new-password"],["placeholder","Confirm password","type","password","formControlName","registerConfirmPassword","autocomplete","new-password"],["mat-flat-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["formGroupName","forgot"],["placeholder","Email","formControlName","resetEmail","autocomplete","email"]],template:function(g,M){1&g&&(h.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),h._uU(4),h.qZA()(),h.TgZ(5,"mat-card-content")(6,"form",2),h.NdJ("submit",function(le){return M.submitForm(le)}),h.YNc(7,Xe,7,2,"div",3),h.YNc(8,he,9,3,"div",4),h.YNc(9,Ne,5,1,"div",5),h.qZA()(),h.TgZ(10,"mat-card-actions",6)(11,"button",7),h.NdJ("click",function(){return M.onForgotPasswordButton()}),h._uU(12," Forgot Password "),h.qZA(),h.TgZ(13,"button",7),h.NdJ("click",function(){return M.onCreateAccountButton()}),h._uU(14," Create an Account "),h.qZA(),h.TgZ(15,"button",7),h.NdJ("click",function(){return M.onLoginButton()}),h._uU(16,"Login"),h.qZA()()()()),2&g&&(h.xp6(4),h.Oqu(M.getStateText()),h.xp6(2),h.Q6J("formGroup",M.authenticatorForm),h.xp6(1),h.Q6J("ngIf",M.isLoginState()),h.xp6(1),h.Q6J("ngIf",M.isRegisterState()),h.xp6(1),h.Q6J("ngIf",M.isForgotPasswordState()))},dependencies:[ge.O5,oe._Y,oe.Fj,oe.JJ,oe.JL,oe.sg,oe.u,oe.x0,He.lW,Pe.a8,Pe.hq,Pe.dn,Pe.dk,Pe.n5],styles:[".authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box}.authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid black;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}"]}),U})();var qe=w(1188),xt=w(7312),wn=w(5213),On=w(8970);let pt=(()=>{class U{constructor(g,M,z,le,st,nt){this.userDataService=g,this.loginSheet=M,this.likesWindowService=z,this.userPageService=le,this.friendsWindowService=st,this.storageService=nt,this.backgroundStorage=""}ngOnInit(){this.likesWindowService.resetLikesWindowService(),this.userDataService.resetUserDataService(),this.userPageService.resetUserPageService(),this.friendsWindowService.resetFriendsWindowService(),this.storageSubscription=this.storageService.getDataFromStorage("Background/home_background.jpg").subscribe(M=>this.backgroundStorage=`url(${M})`)}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getIsLoggedIn(){return this.userDataService.isLoggedIn}onGetStartedClick(){this.loginSheet.open(Be)}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(J.M),h.Y36(Ce.ch),h.Y36(xt.R),h.Y36(wn.v),h.Y36(On.R),h.Y36(qe.V))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-home"]],decls:10,vars:3,consts:[[1,"home-page"],[1,"home-page-landing"],[1,"landing-left"],[1,"landing-left-content"],["mat-flat-button","",3,"disabled","click"]],template:function(g,M){1&g&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),h._uU(5,"Social Media App Platform"),h.qZA(),h.TgZ(6,"p"),h._uU(7,"Oh, hello, my precious friend!"),h.qZA(),h.TgZ(8,"button",4),h.NdJ("click",function(){return M.onGetStartedClick()}),h._uU(9," Get Started "),h.qZA()()()()()),2&g&&(h.xp6(1),h.Udp("background-image",M.backgroundStorage),h.xp6(7),h.Q6J("disabled",M.getIsLoggedIn()))},dependencies:[He.lW],styles:[".home-page[_ngcontent-%COMP%]{width:100%;height:100%}.home-page-landing[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:100vh}.landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}.landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}.landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}.landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}.landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:2em;padding:.5em;background-color:#f44336}.landing-left-content[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#dcdcdc}"]}),U})(),gt=(()=>{class U{constructor(g,M){this.afAuth=g,this.router=M,this.authStateSubscription=this.afAuth.authState.subscribe(z=>{z?.emailVerified&&this.router.navigate([""])})}ngOnDestroy(){this.authStateSubscription&&this.authStateSubscription.unsubscribe()}onResendClick(){this.afAuth.currentUser.then(g=>{g?.sendEmailVerification()})}onRefreshClick(){window.location.reload()}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(re.zQ),h.Y36(C.F0))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-email-verification"]],decls:8,vars:0,consts:[[1,"email-verification"],[1,"buttons"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(g,M){1&g&&(h.TgZ(0,"mat-card",0)(1,"h1"),h._uU(2,"Your Email is not verified"),h.qZA(),h.TgZ(3,"mat-card-content",1)(4,"button",2),h.NdJ("click",function(){return M.onResendClick()}),h._uU(5," Resend Verification Email "),h.qZA(),h.TgZ(6,"button",3),h.NdJ("click",function(){return M.onRefreshClick()}),h._uU(7," Refresh "),h.qZA()()())},dependencies:[He.lW,Pe.a8,Pe.dn],styles:[".email-verification[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;text-align:center;justify-content:center}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px}"]}),U})();var Nt=w(8505),Ut=w(8746),en=w(9300),qt=w(3900),cn=w(262),bn=w(515),sn=w(4128),Ft=w(1627),Qe=w(8445),ot=w(1762),Ot=w(8577),yt=w(430);function zt(U,b){1&U&&(h.TgZ(0,"div",9),h._UZ(1,"img",10),h.qZA())}const kt=function(U){return{error:U}};let At=(()=>{class U{constructor(g,M,z,le,st,nt,Ht){this.storage=g,this.afAuth=M,this.firestore=z,this.userDataService=le,this.dialogCreatePost=st,this.dialogOpen=nt,this.postsDataService=Ht,this.collection=this.firestore.collection("Posts"),this.createPostForm=new oe.cw({message:new oe.NI("",[oe.kI.required])})}ngOnDestroy(){this.uploadImagePostSubscription&&this.uploadImagePostSubscription.unsubscribe()}checkMessage(){return!(!this.createPostForm.get("message")?.invalid||!this.createPostForm.get("message")?.touched)}onPostClick(){const g=this.createPostForm.get("message");g?.markAsTouched(),!g?.errors&&(this.selectedImageFile?this.uploadImagePost(g?.value):this.uploadPost(g?.value))}uploadImagePost(g){const M=this.firestore.createId(),z=`Posts/${M}/image`,le=this.storage.ref(z),st=this.storage.upload(z,this.selectedImageFile),nt=this.dialogOpen.open(Ft.R,{disableClose:!0,data:{info:"Upload progress",message:""}}),Ht=st.percentageChanges().pipe((0,Nt.b)(y=>{nt.componentInstance.message={info:"Upload progress",message:`Upload progress: ${y?.toFixed(2)}%`}}),(0,Ut.x)(()=>nt.close())),Jt=st.snapshotChanges().pipe((0,en.h)(y=>"success"===y.state),(0,qt.w)(()=>le.getDownloadURL()),(0,cn.K)(y=>(console.error("Error getting image URL:",y),bn.E)));this.uploadImagePostSubscription=(0,sn.D)([Ht,Jt]).pipe((0,qt.w)(([y,T])=>this.postsDataService.uploadImagePost(M,g,T)),(0,cn.K)(y=>(console.error("Error writing document: ",y),bn.E))).subscribe(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")})}uploadPost(g){this.postsDataService.uploadPost(g).then(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")}).catch(M=>{console.error("Error writing document: ",M)})}photoSelected(g){if(this.selectedImageFile=g.files[0],!this.selectedImageFile)return;const M=new FileReader;M.readAsDataURL(this.selectedImageFile),M.addEventListener("loadend",z=>{const le=M.result.toString();document.getElementById("post-preview-image").src=le})}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(Qe.Q1),h.Y36(re.zQ),h.Y36(ot.ST),h.Y36(J.M),h.Y36(fe.so),h.Y36(fe.uw),h.Y36(Ot.n))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-create-post"]],decls:16,vars:5,consts:[[3,"formGroup","submit"],["formControlName","message","placeholder","Type Message...",3,"ngClass"],["class","post-preview",4,"ngIf"],["align","end"],["type","button","mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["type","submit","mat-flat-button","","color","warn"],[1,"post-preview"],["id","post-preview-image"]],template:function(g,M){if(1&g){const z=h.EpF();h.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),h._uU(3,"Create post"),h.qZA()(),h.TgZ(4,"form",0),h.NdJ("submit",function(){return M.onPostClick()}),h._UZ(5,"textarea",1),h.YNc(6,zt,2,0,"div",2),h.TgZ(7,"mat-card-actions",3)(8,"button",4)(9,"label",5)(10,"input",6,7),h.NdJ("change",function(){h.CHM(z);const st=h.MAs(11);return h.KtG(M.photoSelected(st))}),h.qZA(),h.TgZ(12,"mat-icon"),h._uU(13,"insert_photo"),h.qZA()()(),h.TgZ(14,"button",8),h._uU(15,"Post"),h.qZA()()()()}2&g&&(h.xp6(4),h.Q6J("formGroup",M.createPostForm),h.xp6(1),h.Q6J("ngClass",h.VKq(3,kt,M.checkMessage())),h.xp6(1),h.Q6J("ngIf",M.selectedImageFile))},dependencies:[ge.mk,ge.O5,oe._Y,oe.Fj,oe.JJ,oe.JL,oe.sg,oe.u,He.lW,Pe.a8,Pe.hq,Pe.dk,Pe.n5,yt.Hw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}.error[_ngcontent-%COMP%]::placeholder{color:red}.post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}.post-preview[_ngcontent-%COMP%]   #post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),U})();var dt=w(5861),Ke=w(9744);let Zt=(()=>{class U{constructor(g,M,z,le,st,nt){this.userDataService=g,this.firestore=M,this.storage=z,this.postDataService=le,this.mainUserPageService=st,this.notificationsService=nt,this.likes=0,this.isLiked=!1,this.yourLikeId=null,this.creatorPostId="",this.creatorName="",this.creatorDescription="",this.creatorImage="",this.collectionUsers=this.firestore.collection("Users"),this.collectionPosts=this.firestore.collection("Posts")}deletePost(g){const M=this.userDataService.getCurrentUserId();this.collectionPosts.doc(g).delete().then(),this.mainUserPageService.deleteUserPost(M,g),this.postDataService.deleteCollection(g,"Likes"),this.postDataService.deleteCollection(g,"PostComments"),this.postDataService.newGetPosts("delete")}getCreatorInfo(g){this.collectionUsers.doc(g.creatorId).get().toPromise().then(M=>{const z=M.data();this.creatorName=z?.publicName||"",this.creatorDescription=z?.description||"",this.creatorImage=z?.imageUrl||"",this.creatorPostId=z?.userId||""}).catch(M=>{console.error("Error when fetching creator information:",M)})}likeButton(g){this.yourLikeId?this.deleteLike(g):this.checkCollectionExistence(g).then(M=>{M?this.addLike(g):this.createLike(g)}).catch(M=>{console.error("Error checking if collection exists:",M)})}addLike(g){var M=this;return(0,dt.Z)(function*(){const z=M.userDataService.getCurrentUserId(),le=M.firestore.createId();try{(yield M.searchDocumentsByCreatorId(z,g)).length<1&&(yield M.collectionPosts.doc(g).collection("Likes").doc(le).set({likeId:le,creatorId:z,timestamp:new Date}),M.notificationsService.addNotificationLike(M.creatorPostId,z,g),M.isLiked=!0)}catch(st){console.error("Error when searching for documents:",st)}})()}createLike(g){var M=this;return(0,dt.Z)(function*(){const z=M.firestore.createId(),le=M.userDataService.getCurrentUserId();try{yield M.collectionPosts.doc(g).collection("Likes").doc(z).set({likeId:z,creatorId:le,timestamp:new Date}),M.notificationsService.addNotificationLike(M.creatorPostId,le,g),M.isLiked=!0}catch(st){console.error("Error when creating like:",st)}})()}listenToDocumentValueChanges(g,M){return this.collectionPosts.doc(g).collection(M).valueChanges()}getLikes(g){const M=g,le=this.userDataService.getCurrentUserId();this.listenToDocumentValueChanges(M,"Likes").subscribe(st=>{this.likes=st.length,st.find(nt=>{nt.creatorId==le&&(this.yourLikeId=nt.likeId,this.isLiked=!0)})})}deleteLike(g){const M=this.userDataService.getCurrentUserId();this.yourLikeId&&this.collectionPosts.doc(g).collection("Likes").doc(this.yourLikeId).delete().then(()=>{this.notificationsService.deleteNotificationLike(this.creatorPostId,M,g),this.isLiked=!1,this.yourLikeId=null})}searchDocumentsByCreatorId(g,M){return this.collectionPosts.doc(M).collection("Likes").ref.where("creatorId","==",g).get().then(le=>le.docs.map(st=>st.data())).catch(le=>{throw le})}checkCollectionExistence(g){return this.collectionPosts.doc(g).collection("Likes").get().toPromise().then(z=>!z.empty).catch(z=>{throw z})}downloadFile(g){this.storage.ref(g).getDownloadURL().toPromise().then(z=>{const le=document.createElement("a");le.href=z,le.setAttribute("download",""),le.setAttribute("target","_blank"),document.body.appendChild(le),le.click(),document.body.removeChild(le)}).catch(z=>{console.error("Error when downloading file:",z)})}}return U.\u0275fac=function(g){return new(g||U)(h.LFG(J.M),h.LFG(ot.ST),h.LFG(Qe.Q1),h.LFG(Ot.n),h.LFG(wn.v),h.LFG(Ke.T))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac}),U})(),yn=(()=>{class U{constructor(g,M){this.firestore=g,this.userDataService=M,this.comments=[],this.collection=this.firestore.collection("Posts")}getComments(g){this.listenToDocumentValueChanges("Posts",g,"PostComments").subscribe(st=>{this.comments.length===st.length&&this.comments.every((Ht,Jt)=>Ht.comment===st[Jt].comment)||(this.comments=st)})}listenToDocumentValueChanges(g,M,z){return this.firestore.collection(g).doc(M).collection(z,st=>st.orderBy("timestamp","desc")).valueChanges()}sendComment(g,M){const z=this.firestore.createId();this.collection.doc(M).collection("PostComments").doc(z).set({commentId:z,comment:g,creatorId:this.userDataService.userInfo.userId,creatorName:this.userDataService.userInfo.publicName,timestamp:new Date})}updateComment(g,M,z){this.collection.doc(M).collection("PostComments").doc(g.commentId).update({comment:z})}deleteComment(g,M){this.collection.doc(M).collection("PostComments").doc(g.commentId).delete()}isCommentCreator(g){return g.creatorId===this.userDataService.userInfo.userId}getUserInfoById(g){return this.firestore.collection("Users").doc(g).valueChanges()}}return U.\u0275fac=function(g){return new(g||U)(h.LFG(ot.ST),h.LFG(J.M))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac}),U})();var ln=w(2659);function Tt(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"div",5),h.NdJ("click",function(){h.CHM(g);const z=h.oxw();return h.KtG(z.goToFriendPageClick())}),h._UZ(1,"img",6),h.TgZ(2,"div",7),h._uU(3),h.qZA()()}if(2&U){const g=h.oxw();h.xp6(1),h.s9C("src",g.userImageUrl,h.LSH),h.xp6(2),h.Oqu(g.userName)}}function ue(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"div",8),h.NdJ("click",function(){h.CHM(g);const z=h.oxw();return h.KtG(z.goToFriendPageClick())}),h.TgZ(1,"div",7),h._uU(2),h.qZA(),h._UZ(3,"img",6),h.qZA()}if(2&U){const g=h.oxw();h.xp6(2),h.Oqu(g.userName),h.xp6(1),h.s9C("src",g.userImageUrl,h.LSH)}}function Ue(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"button",11),h.NdJ("click",function(){h.CHM(g);const z=h.oxw(2);return h.KtG(z.chaneCommentClick())}),h._uU(1," Change "),h.qZA()}}function ht(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"button",11),h.NdJ("click",function(){h.CHM(g);const z=h.oxw(2);return h.KtG(z.responseCommentClick())}),h._uU(1," Response "),h.qZA()}}function ut(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){h.CHM(g);const z=h.oxw(2);return h.KtG(z.deleteCommentClick())}),h._uU(1," Delete "),h.qZA()}}function Mt(U,b){if(1&U&&(h.YNc(0,Ue,2,0,"button",9),h.YNc(1,ht,2,0,"button",9),h.YNc(2,ut,2,0,"button",10)),2&U){const g=h.oxw();h.Q6J("ngIf",g.isCommentCreator()),h.xp6(1),h.Q6J("ngIf",!g.isCommentCreator()),h.xp6(1),h.Q6J("ngIf",g.isCommentCreator())}}const Yt=function(U){return{comment:!0,"creator-comment":U}};let an=(()=>{class U{constructor(g,M,z){this.replyService=g,this.userPageService=M,this.dialog=z,this.chaneComment=new h.vpe,this.responseComment=new h.vpe,this.userName="",this.userImageUrl=""}ngOnInit(){this.userInfoSubscription=this.replyService.getUserInfoById(this.commentData.creatorId).subscribe(g=>{this.userName=g?.publicName||"",this.userImageUrl=g?.imageUrl||""})}ngOnDestroy(){this.userInfoSubscription&&this.userInfoSubscription.unsubscribe()}goToFriendPageClick(){this.userPageService.goToFriendPage(this.commentData.creatorId),this.dialog.closeAll()}isCommentCreator(){return this.replyService.isCommentCreator(this.commentData)}chaneCommentClick(){this.chaneComment.emit(this.commentData)}deleteCommentClick(){this.replyService.deleteComment(this.commentData,this.postId)}responseCommentClick(){this.responseComment.emit(this.userName)}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(yn),h.Y36(wn.v),h.Y36(fe.uw))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-comment"]],inputs:{commentData:"commentData",postId:"postId"},outputs:{chaneComment:"chaneComment",responseComment:"responseComment"},decls:8,vars:7,consts:[["class","comment-header",3,"click",4,"ngIf"],["class","comment-header comment-header-creator",3,"click",4,"ngIf"],[3,"ngClass","matMenuTriggerFor"],["menu","matMenu"],["matMenuContent",""],[1,"comment-header",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment-name"],[1,"comment-header","comment-header-creator",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","delete","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(g,M){if(1&g&&(h.TgZ(0,"div"),h.YNc(1,Tt,4,2,"div",0),h.YNc(2,ue,4,2,"div",1),h.TgZ(3,"div",2),h._uU(4),h.qZA(),h.TgZ(5,"mat-menu",null,3),h.YNc(7,Mt,3,3,"ng-template",4),h.qZA()()),2&g){const z=h.MAs(6);h.xp6(1),h.Q6J("ngIf",!M.isCommentCreator()),h.xp6(1),h.Q6J("ngIf",M.isCommentCreator()),h.xp6(1),h.Q6J("ngClass",h.VKq(5,Yt,M.isCommentCreator()))("matMenuTriggerFor",z),h.xp6(1),h.hij(" ",M.commentData.comment," ")}},dependencies:[ge.mk,ge.O5,ln.VK,ln.OP,ln.KA,ln.p6],styles:[".comment[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;word-wrap:break-word;border-radius:1em;background-color:#dcdcdc;padding:1em}.comment-header[_ngcontent-%COMP%]{margin-bottom:5px;width:100%;display:flex;align-items:center;cursor:pointer}.comment-header-creator[_ngcontent-%COMP%]{justify-content:flex-end}.comment-header[_ngcontent-%COMP%]:hover{color:#f44336}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:5px 10px 0;width:30px;height:30px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}.mat-mdc-select-placeholder[_ngcontent-%COMP%]{color:#fff}.mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none!important}"]}),U})();const Gn=["commentInput"],ri=function(U){return{"comment-container":!0,"creator-comment-container":U}};function Dn(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"div",7)(1,"app-comment",8),h.NdJ("chaneComment",function(z){h.CHM(g);const le=h.oxw();return h.KtG(le.chaneComment(z))})("responseComment",function(z){h.CHM(g);const le=h.oxw();return h.KtG(le.responseComment(z))}),h.qZA()()}if(2&U){const g=b.$implicit,M=h.oxw();h.Q6J("ngClass",h.VKq(3,ri,M.isCommentCreator(g))),h.xp6(1),h.Q6J("postId",M.postId)("commentData",g)}}const dn=function(U){return{error:U}};let jn=(()=>{class U{constructor(g,M,z){this.postId=g,this.userDataService=M,this.replyService=z,this.isChangeComment=!1,this.replyForm=new oe.cw({comment:new oe.NI("",[oe.kI.required])})}ngOnInit(){this.replyService.getComments(this.postId)}getPostComments(){return this.replyService.comments}onSendClick(){const g=this.replyForm.get("comment");g?.markAsTouched(),g&&!g.errors&&(this.isChangeComment?(this.replyService.updateComment(this.selectedComment,this.postId,g.value),this.isChangeComment=!1,g.reset()):(this.replyService.sendComment(g.value,this.postId),g.reset()))}checkComment(){return!(!this.replyForm.get("comment")?.invalid||!this.replyForm.get("comment")?.touched)}isCommentCreator(g){return this.replyService.isCommentCreator(g)}chaneComment(g){this.isChangeComment=!0,this.replyForm.get("comment")?.setValue(g.comment),this.commentInput.nativeElement.focus(),this.selectedComment=g}responseComment(g){this.replyForm.get("comment")?.setValue(`@${g}_`),this.commentInput.nativeElement.focus()}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(fe.WI),h.Y36(J.M),h.Y36(yn))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-reply"]],viewQuery:function(g,M){if(1&g&&h.Gf(Gn,5),2&g){let z;h.iGM(z=h.CRH())&&(M.commentInput=z.first)}},features:[h._Bn([yn])],decls:11,vars:5,consts:[[1,"comments"],[1,"reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"reply-action-bar",3,"formGroup","submit"],["type","submit","mat-flat-button","","color","primary"],["formControlName","comment","placeholder","Comment...",3,"ngClass"],["commentInput",""],[3,"ngClass"],[3,"postId","commentData","chaneComment","responseComment"]],template:function(g,M){1&g&&(h.TgZ(0,"mat-card",0)(1,"mat-card-header"),h._uU(2," Comments "),h.qZA(),h.TgZ(3,"mat-card-content",1),h.YNc(4,Dn,2,5,"div",2),h.qZA(),h.TgZ(5,"form",3),h.NdJ("submit",function(){return M.onSendClick()}),h.TgZ(6,"button",4)(7,"mat-icon"),h._uU(8,"send"),h.qZA()(),h._UZ(9,"input",5,6),h.qZA()()),2&g&&(h.xp6(4),h.Q6J("ngForOf",M.getPostComments()),h.xp6(1),h.Q6J("formGroup",M.replyForm),h.xp6(4),h.Q6J("ngClass",h.VKq(3,dn,M.checkComment())))},dependencies:[ge.mk,ge.sg,oe._Y,oe.Fj,oe.JJ,oe.JL,oe.sg,oe.u,He.lW,Pe.a8,Pe.dn,Pe.dk,yt.Hw,an],styles:[".comments[_ngcontent-%COMP%]{padding:1em;height:100%;width:100%}.comments[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.reply-box[_ngcontent-%COMP%]{width:100%;height:350px;overflow:auto;min-width:500px;max-width:600px;padding:1em 1em 0;box-sizing:border-box;background-color:#eaeaea}.reply-action-bar[_ngcontent-%COMP%]{margin:1em 0 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;direction:rtl}.reply-action-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.reply-action-bar[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border-color:#f44336}.reply-action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:3em}.comment-container[_ngcontent-%COMP%]{display:flex}.creator-comment-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),U})();function $e(U,b){if(1&U&&h._UZ(0,"img",9),2&U){const g=h.oxw();h.s9C("src",g.postData.imageUrl,h.LSH)}}function Dt(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"mat-icon",5),h.NdJ("click",function(){h.CHM(g);const z=h.oxw();return h.KtG(z.downloadImageClick())}),h._uU(1," open_in_new "),h.qZA()}}function Wt(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"mat-icon",5),h.NdJ("click",function(){h.CHM(g);const z=h.oxw();return h.KtG(z.deletePostClick())}),h._uU(1,"delete"),h.qZA()}}let Sn=(()=>{class U{constructor(g,M,z,le){this.dialog=g,this.userDataService=M,this.postService=z,this.mainUserPageService=le}ngOnInit(){this.postService.getCreatorInfo(this.postData),this.postService.getLikes(this.postData.postId)}ngOnDestroy(){this.dialogRefSubscription&&this.dialogRefSubscription.unsubscribe()}getDate(){return this.postData.timestamp.toDate()}getCreatorName(){return this.postService.creatorName}getIsLiked(){return this.postService.isLiked}onReplyClick(){this.dialog.open(jn,{data:this.postData.postId})}getLikes(){return this.postService.likes}onLikeClick(){this.postService.likeButton(this.postData.postId)}downloadImageClick(){this.postService.downloadFile(`Posts/${this.postData.postId}/image`)}checkDeleteButton(){return this.postData.creatorId===this.userDataService.userInfo.userId}deletePostClick(){const g=this.dialog.open(_e.S,{data:{info:"Post deletion",message:"Do you really want to remove this post?",addButton:!0,nameButton:"Yes"}});this.dialogRefSubscription=g.afterClosed().subscribe(M=>{M&&this.postService.deletePost(this.postData.postId)})}getUserImage(){return this.postService.creatorImage}goToFriendPageClick(){this.mainUserPageService.goToFriendPage(this.postData.creatorId)}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(fe.uw),h.Y36(J.M),h.Y36(Zt),h.Y36(wn.v))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-post"]],inputs:{postData:"postData"},features:[h._Bn([Zt])],decls:21,vars:12,consts:[[1,"post"],[1,"creator-name",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment"],["class","image","mat-card-image","","alt","img",3,"src",4,"ngIf"],["color","warn",1,"action-item",3,"click"],[1,"likes"],[1,"likes-number"],["class","action-item","color","warn",3,"click",4,"ngIf"],["mat-card-image","","alt","img",1,"image",3,"src"]],template:function(g,M){1&g&&(h.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),h.NdJ("click",function(){return M.goToFriendPageClick()}),h._UZ(3,"img",2),h._uU(4),h.qZA(),h.TgZ(5,"mat-card-subtitle"),h._uU(6),h.ALo(7,"date"),h.qZA()(),h.TgZ(8,"mat-card-content",3),h._uU(9),h.qZA(),h.YNc(10,$e,1,1,"img",4),h.TgZ(11,"mat-card-actions")(12,"mat-icon",5),h.NdJ("click",function(){return M.onReplyClick()}),h._uU(13," chat_bubble_outline "),h.qZA(),h.TgZ(14,"div",6)(15,"mat-icon",5),h.NdJ("click",function(){return M.onLikeClick()}),h._uU(16),h.qZA(),h.TgZ(17,"div",7),h._uU(18),h.qZA()(),h.YNc(19,Dt,2,0,"mat-icon",8),h.YNc(20,Wt,2,0,"mat-icon",8),h.qZA()()),2&g&&(h.xp6(3),h.s9C("src",M.getUserImage(),h.LSH),h.xp6(1),h.hij(" ",M.getCreatorName()," "),h.xp6(2),h.Oqu(h.xi3(7,9,M.getDate(),"MMM d, y, H:mm ")),h.xp6(3),h.hij(" ",M.postData.comment," "),h.xp6(1),h.Q6J("ngIf",M.postData.imageUrl),h.xp6(6),h.hij(" ",M.getIsLiked()?"favorite":"favorite_border","favorite_border "),h.xp6(2),h.Oqu(M.getLikes()),h.xp6(1),h.Q6J("ngIf",M.postData.imageUrl),h.xp6(1),h.Q6J("ngIf",M.checkDeleteButton()))},dependencies:[ge.O5,Pe.a8,Pe.hq,Pe.dn,Pe.dk,Pe.G2,Pe.$j,Pe.n5,yt.Hw,ge.uU],styles:[".post[_ngcontent-%COMP%]{width:500px;margin-top:2em;background-color:#f1f1f1}.creator-name[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;display:flex;align-items:center}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin-right:10px;width:40px;height:40px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-name[_ngcontent-%COMP%]:hover{color:#f44336}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}.comment[_ngcontent-%COMP%]{padding:10px;margin:10px 10px 0;border-radius:1em;background-color:#c4c4c4}.image[_ngcontent-%COMP%]{margin:10px;height:auto}.likes[_ngcontent-%COMP%]{width:auto;display:flex;justify-content:center}.likes-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),U})();function di(U,b){1&U&&h._UZ(0,"app-post",4),2&U&&h.Q6J("postData",b.$implicit)}const pi=[{path:"",component:pt},{path:"emailVerification",component:gt},{path:"yourFriends",loadChildren:()=>w.e(654).then(w.bind(w,654)).then(U=>U.FriendsWindowModule)},{path:"userPage",loadChildren:()=>Promise.all([w.e(592),w.e(56)]).then(w.bind(w,56)).then(U=>U.MainUserPageModule)},{path:"friendPage",loadChildren:()=>Promise.all([w.e(592),w.e(991)]).then(w.bind(w,2991)).then(U=>U.FriendPageModule)},{path:"informationLikes",loadChildren:()=>w.e(675).then(w.bind(w,5675)).then(U=>U.LikesInfoModule)},{path:"postFeed",component:(()=>{class U{constructor(g,M,z){this.dialog=g,this.postsDataService=M,this.storageService=z,this.limit=3,this.backgroundStorage=""}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/post-feed2.jpg").subscribe(M=>this.backgroundStorage=`url(${M})`),this.postsDataService.getCountOfDocuments(),this.postsDataService.getFirstPosts(),this.postsDataService.getScrollPosts()}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getPosts(){return this.postsDataService.posts}onCreatePostClick(){this.dialog.open(At)}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(fe.uw),h.Y36(Ot.n),h.Y36(qe.V))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-post-feed"]],decls:8,vars:3,consts:[[1,"news-line"],[1,"post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn",1,"post-button",3,"click"],[3,"postData"]],template:function(g,M){1&g&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,di,1,1,"app-post",2),h.qZA(),h.TgZ(3,"button",3),h.NdJ("click",function(){return M.onCreatePostClick()}),h.TgZ(4,"div"),h._uU(5,"Create post"),h.qZA(),h.TgZ(6,"mat-icon"),h._uU(7,"add"),h.qZA()()()),2&g&&(h.Udp("background-image",M.backgroundStorage),h.xp6(2),h.Q6J("ngForOf",M.getPosts()))},dependencies:[ge.sg,He.cs,yt.Hw,Sn],styles:[".news-line[_ngcontent-%COMP%]{display:flex;padding-top:5em;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}.post-button[_ngcontent-%COMP%]{width:10em;position:fixed;bottom:2em;right:2em}.post-feed[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}"]}),U})(),canActivate:[we]},{path:"**",component:pt}];let Qt=(()=>{class U{}return U.\u0275fac=function(g){return new(g||U)},U.\u0275mod=h.oAB({type:U}),U.\u0275inj=h.cJS({providers:[we],imports:[C.Bz.forRoot(pi),C.Bz]}),U})();var We=w(1591);function ze(U){return new h.vHH(3e3,!1)}function fr(U){switch(U.length){case 0:return new We.ZN;case 1:return U[0];default:return new We.ZE(U)}}function ho(U,b,g=new Map,M=new Map){const z=[],le=[];let st=-1,nt=null;if(b.forEach(Ht=>{const Jt=Ht.get("offset"),y=Jt==st,T=y&&nt||new Map;Ht.forEach((E,P)=>{let Z=P,ve=E;if("offset"!==P)switch(Z=U.normalizePropertyName(Z,z),ve){case We.k1:ve=g.get(P);break;case We.l3:ve=M.get(P);break;default:ve=U.normalizeStyleValue(P,Z,ve,z)}T.set(Z,ve)}),y||le.push(T),nt=T,st=Jt}),z.length)throw function qn(U){return new h.vHH(3502,!1)}();return le}function Si(U,b,g,M){switch(b){case"start":U.onStart(()=>M(g&&Bo(g,"start",U)));break;case"done":U.onDone(()=>M(g&&Bo(g,"done",U)));break;case"destroy":U.onDestroy(()=>M(g&&Bo(g,"destroy",U)))}}function Bo(U,b,g){const le=io(U.element,U.triggerName,U.fromState,U.toState,b||U.phaseName,g.totalTime??U.totalTime,!!g.disabled),st=U._data;return null!=st&&(le._data=st),le}function io(U,b,g,M,z="",le=0,st){return{element:U,triggerName:b,fromState:g,toState:M,phaseName:z,totalTime:le,disabled:!!st}}function er(U,b,g){let M=U.get(b);return M||U.set(b,M=g),M}function or(U){const b=U.indexOf(":");return[U.substring(1,b),U.slice(b+1)]}const Io=(()=>typeof document>"u"?null:document.documentElement)();function $r(U){const b=U.parentNode||U.host||null;return b===Io?null:b}let Uo=null,Jo=!1;function ts(U,b){for(;b;){if(b===U)return!0;b=$r(b)}return!1}function ms(U,b,g){if(g)return Array.from(U.querySelectorAll(b));const M=U.querySelector(b);return M?[M]:[]}let Er=(()=>{class U{validateStyleProperty(g){return function es(U){Uo||(Uo=function xr(){return typeof document<"u"?document.body:null}()||{},Jo=!!Uo.style&&"WebkitAppearance"in Uo.style);let b=!0;return Uo.style&&!function To(U){return"ebkit"==U.substring(1,6)}(U)&&(b=U in Uo.style,!b&&Jo&&(b="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in Uo.style)),b}(g)}matchesElement(g,M){return!1}containsElement(g,M){return ts(g,M)}getParentElement(g){return $r(g)}query(g,M,z){return ms(g,M,z)}computeStyle(g,M,z){return z||""}animate(g,M,z,le,st,nt=[],Ht){return new We.ZN(z,le)}}return U.\u0275fac=function(g){return new(g||U)},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac}),U})(),Ei=(()=>{class U{}return U.NOOP=new Er,U})();const ro=1e3,wt="ng-enter",mt="ng-leave",Bt="ng-trigger",mn=".ng-trigger",gn="ng-animating",hn=".ng-animating";function Rn(U){if("number"==typeof U)return U;const b=U.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:oi(parseFloat(b[1]),b[2])}function oi(U,b){return"s"===b?U*ro:U}function fi(U,b,g){return U.hasOwnProperty("duration")?U:function Pr(U,b,g){let z,le=0,st="";if("string"==typeof U){const nt=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===nt)return b.push(ze()),{duration:0,delay:0,easing:""};z=oi(parseFloat(nt[1]),nt[2]);const Ht=nt[3];null!=Ht&&(le=oi(parseFloat(Ht),nt[4]));const Jt=nt[5];Jt&&(st=Jt)}else z=U;if(!g){let nt=!1,Ht=b.length;z<0&&(b.push(function Le(){return new h.vHH(3100,!1)}()),nt=!0),le<0&&(b.push(function ke(){return new h.vHH(3101,!1)}()),nt=!0),nt&&b.splice(Ht,0,ze())}return{duration:z,delay:le,easing:st}}(U,b,g)}function tr(U,b={}){return Object.keys(U).forEach(g=>{b[g]=U[g]}),b}function nr(U){const b=new Map;return Object.keys(U).forEach(g=>{b.set(g,U[g])}),b}function Sr(U,b=new Map,g){if(g)for(let[M,z]of g)b.set(M,z);for(let[M,z]of U)b.set(M,z);return b}function Xn(U,b,g){b.forEach((M,z)=>{const le=Es(z);g&&!g.has(z)&&g.set(z,U.style[le]),U.style[le]=M})}function oo(U,b){b.forEach((g,M)=>{const z=Es(M);U.style[z]=""})}function Yr(U){return Array.isArray(U)?1==U.length?U[0]:(0,We.vP)(U):U}const $i=new RegExp("{{\\s*(.+?)\\s*}}","g");function Mo(U){let b=[];if("string"==typeof U){let g;for(;g=$i.exec(U);)b.push(g[1]);$i.lastIndex=0}return b}function Vo(U,b,g){const M=U.toString(),z=M.replace($i,(le,st)=>{let nt=b[st];return null==nt&&(g.push(function $t(U){return new h.vHH(3003,!1)}()),nt=""),nt.toString()});return z==M?U:z}function yo(U){const b=[];let g=U.next();for(;!g.done;)b.push(g.value),g=U.next();return b}const is=/-+([a-z0-9])/g;function Es(U){return U.replace(is,(...b)=>b[1].toUpperCase())}function cr(U,b,g){switch(b.type){case 7:return U.visitTrigger(b,g);case 0:return U.visitState(b,g);case 1:return U.visitTransition(b,g);case 2:return U.visitSequence(b,g);case 3:return U.visitGroup(b,g);case 4:return U.visitAnimate(b,g);case 5:return U.visitKeyframes(b,g);case 6:return U.visitStyle(b,g);case 8:return U.visitReference(b,g);case 9:return U.visitAnimateChild(b,g);case 10:return U.visitAnimateRef(b,g);case 11:return U.visitQuery(b,g);case 12:return U.visitStagger(b,g);default:throw function Re(U){return new h.vHH(3004,!1)}()}}function ki(U,b){return window.getComputedStyle(U)[b]}const rs="*";function Fr(U,b){const g=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(M=>function os(U,b,g){if(":"==U[0]){const Ht=function Hi(U,b){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,M)=>parseFloat(M)>parseFloat(g);case":decrement":return(g,M)=>parseFloat(M)<parseFloat(g);default:return b.push(function ii(U){return new h.vHH(3016,!1)}()),"* => *"}}(U,g);if("function"==typeof Ht)return void b.push(Ht);U=Ht}const M=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return g.push(function Kn(U){return new h.vHH(3015,!1)}()),b;const z=M[1],le=M[2],st=M[3];b.push(kr(z,st));"<"==le[0]&&!(z==rs&&st==rs)&&b.push(kr(st,z))}(M,g,b)):g.push(U),g}const lr=new Set(["true","1"]),Gr=new Set(["false","0"]);function kr(U,b){const g=lr.has(U)||Gr.has(U),M=lr.has(b)||Gr.has(b);return(z,le)=>{let st=U==rs||U==z,nt=b==rs||b==le;return!st&&g&&"boolean"==typeof z&&(st=z?lr.has(U):Gr.has(U)),!nt&&M&&"boolean"==typeof le&&(nt=le?lr.has(b):Gr.has(b)),st&&nt}}const Wi=new RegExp("s*:selfs*,?","g");function _o(U,b,g,M){return new Qs(U).build(b,g,M)}class Qs{constructor(b){this._driver=b}build(b,g,M){const z=new Je(g);return this._resetContextStyleTimingState(z),cr(this,Yr(b),z)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,g){let M=g.queryCount=0,z=g.depCount=0;const le=[],st=[];return"@"==b.name.charAt(0)&&g.errors.push(function H(){return new h.vHH(3006,!1)}()),b.definitions.forEach(nt=>{if(this._resetContextStyleTimingState(g),0==nt.type){const Ht=nt,Jt=Ht.name;Jt.toString().split(/\s*,\s*/).forEach(y=>{Ht.name=y,le.push(this.visitState(Ht,g))}),Ht.name=Jt}else if(1==nt.type){const Ht=this.visitTransition(nt,g);M+=Ht.queryCount,z+=Ht.depCount,st.push(Ht)}else g.errors.push(function V(){return new h.vHH(3007,!1)}())}),{type:7,name:b.name,states:le,transitions:st,queryCount:M,depCount:z,options:null}}visitState(b,g){const M=this.visitStyle(b.styles,g),z=b.options&&b.options.params||null;if(M.containsDynamicStyles){const le=new Set,st=z||{};M.styles.forEach(nt=>{nt instanceof Map&&nt.forEach(Ht=>{Mo(Ht).forEach(Jt=>{st.hasOwnProperty(Jt)||le.add(Jt)})})}),le.size&&(yo(le.values()),g.errors.push(function $(U,b){return new h.vHH(3008,!1)}()))}return{type:0,name:b.name,style:M,options:z?{params:z}:null}}visitTransition(b,g){g.queryCount=0,g.depCount=0;const M=cr(this,Yr(b.animation),g);return{type:1,matchers:Fr(b.expr,g.errors),animation:M,queryCount:g.queryCount,depCount:g.depCount,options:tt(b.options)}}visitSequence(b,g){return{type:2,steps:b.steps.map(M=>cr(this,M,g)),options:tt(b.options)}}visitGroup(b,g){const M=g.currentTime;let z=0;const le=b.steps.map(st=>{g.currentTime=M;const nt=cr(this,st,g);return z=Math.max(z,g.currentTime),nt});return g.currentTime=z,{type:3,steps:le,options:tt(b.options)}}visitAnimate(b,g){const M=function Q(U,b){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return on(fi(U,b).duration,0,"");const g=U;if(g.split(/\s+/).some(le=>"{"==le.charAt(0)&&"{"==le.charAt(1))){const le=on(0,0,"");return le.dynamic=!0,le.strValue=g,le}const z=fi(g,b);return on(z.duration,z.delay,z.easing)}(b.timings,g.errors);g.currentAnimateTimings=M;let z,le=b.styles?b.styles:(0,We.oB)({});if(5==le.type)z=this.visitKeyframes(le,g);else{let st=b.styles,nt=!1;if(!st){nt=!0;const Jt={};M.easing&&(Jt.easing=M.easing),st=(0,We.oB)(Jt)}g.currentTime+=M.duration+M.delay;const Ht=this.visitStyle(st,g);Ht.isEmptyStep=nt,z=Ht}return g.currentAnimateTimings=null,{type:4,timings:M,style:z,options:null}}visitStyle(b,g){const M=this._makeStyleAst(b,g);return this._validateStyleAst(M,g),M}_makeStyleAst(b,g){const M=[],z=Array.isArray(b.styles)?b.styles:[b.styles];for(let nt of z)"string"==typeof nt?nt===We.l3?M.push(nt):g.errors.push(new h.vHH(3002,!1)):M.push(nr(nt));let le=!1,st=null;return M.forEach(nt=>{if(nt instanceof Map&&(nt.has("easing")&&(st=nt.get("easing"),nt.delete("easing")),!le))for(let Ht of nt.values())if(Ht.toString().indexOf("{{")>=0){le=!0;break}}),{type:6,styles:M,easing:st,offset:b.offset,containsDynamicStyles:le,options:null}}_validateStyleAst(b,g){const M=g.currentAnimateTimings;let z=g.currentTime,le=g.currentTime;M&&le>0&&(le-=M.duration+M.delay),b.styles.forEach(st=>{"string"!=typeof st&&st.forEach((nt,Ht)=>{const Jt=g.collectedStyles.get(g.currentQuerySelector),y=Jt.get(Ht);let T=!0;y&&(le!=z&&le>=y.startTime&&z<=y.endTime&&(g.errors.push(function Ie(U,b,g,M,z){return new h.vHH(3010,!1)}()),T=!1),le=y.startTime),T&&Jt.set(Ht,{startTime:le,endTime:z}),g.options&&function qr(U,b,g){const M=b.params||{},z=Mo(U);z.length&&z.forEach(le=>{M.hasOwnProperty(le)||g.push(function Ct(U){return new h.vHH(3001,!1)}())})}(nt,g.options,g.errors)})})}visitKeyframes(b,g){const M={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push(function Oe(){return new h.vHH(3011,!1)}()),M;let le=0;const st=[];let nt=!1,Ht=!1,Jt=0;const y=b.steps.map(Et=>{const _n=this._makeStyleAst(Et,g);let Jn=null!=_n.offset?_n.offset:function et(U){if("string"==typeof U)return null;let b=null;if(Array.isArray(U))U.forEach(g=>{if(g instanceof Map&&g.has("offset")){const M=g;b=parseFloat(M.get("offset")),M.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const g=U;b=parseFloat(g.get("offset")),g.delete("offset")}return b}(_n.styles),Un=0;return null!=Jn&&(le++,Un=_n.offset=Jn),Ht=Ht||Un<0||Un>1,nt=nt||Un<Jt,Jt=Un,st.push(Un),_n});Ht&&g.errors.push(function Fe(){return new h.vHH(3012,!1)}()),nt&&g.errors.push(function q(){return new h.vHH(3200,!1)}());const T=b.steps.length;let E=0;le>0&&le<T?g.errors.push(function De(){return new h.vHH(3202,!1)}()):0==le&&(E=1/(T-1));const P=T-1,Z=g.currentTime,ve=g.currentAnimateTimings,Te=ve.duration;return y.forEach((Et,_n)=>{const Jn=E>0?_n==P?1:E*_n:st[_n],Un=Jn*Te;g.currentTime=Z+ve.delay+Un,ve.duration=Un,this._validateStyleAst(Et,g),Et.offset=Jn,M.styles.push(Et)}),M}visitReference(b,g){return{type:8,animation:cr(this,Yr(b.animation),g),options:tt(b.options)}}visitAnimateChild(b,g){return g.depCount++,{type:9,options:tt(b.options)}}visitAnimateRef(b,g){return{type:10,animation:this.visitReference(b.animation,g),options:tt(b.options)}}visitQuery(b,g){const M=g.currentQuerySelector,z=b.options||{};g.queryCount++,g.currentQuery=b;const[le,st]=function Fs(U){const b=!!U.split(/\s*,\s*/).find(g=>":self"==g);return b&&(U=U.replace(Wi,"")),U=U.replace(/@\*/g,mn).replace(/@\w+/g,g=>mn+"-"+g.slice(1)).replace(/:animating/g,hn),[U,b]}(b.selector);g.currentQuerySelector=M.length?M+" "+le:le,er(g.collectedStyles,g.currentQuerySelector,new Map);const nt=cr(this,Yr(b.animation),g);return g.currentQuery=null,g.currentQuerySelector=M,{type:11,selector:le,limit:z.limit||0,optional:!!z.optional,includeSelf:st,animation:nt,originalSelector:b.selector,options:tt(b.options)}}visitStagger(b,g){g.currentQuery||g.errors.push(function _t(){return new h.vHH(3013,!1)}());const M="full"===b.timings?{duration:0,delay:0,easing:"full"}:fi(b.timings,g.errors,!0);return{type:12,animation:cr(this,Yr(b.animation),g),timings:M,options:null}}}class Je{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tt(U){return U?(U=tr(U)).params&&(U.params=function gs(U){return U?tr(U):null}(U.params)):U={},U}function on(U,b,g){return{duration:U,delay:b,easing:g}}function An(U,b,g,M,z,le,st=null,nt=!1){return{type:1,element:U,keyframes:b,preStyleProps:g,postStyleProps:M,duration:z,delay:le,totalTime:z+le,easing:st,subTimeline:nt}}class Ti{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,g){let M=this._map.get(b);M||this._map.set(b,M=[]),M.push(...g)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const fo=new RegExp(":enter","g"),K=new RegExp(":leave","g");function j(U,b,g,M,z,le=new Map,st=new Map,nt,Ht,Jt=[]){return(new v).buildKeyframes(U,b,g,M,z,le,st,nt,Ht,Jt)}class v{buildKeyframes(b,g,M,z,le,st,nt,Ht,Jt,y=[]){Jt=Jt||new Ti;const T=new ne(b,g,Jt,z,le,y,[]);T.options=Ht;const E=Ht.delay?Rn(Ht.delay):0;T.currentTimeline.delayNextStep(E),T.currentTimeline.setStyles([st],null,T.errors,Ht),cr(this,M,T);const P=T.timelines.filter(Z=>Z.containsAnimation());if(P.length&&nt.size){let Z;for(let ve=P.length-1;ve>=0;ve--){const Te=P[ve];if(Te.element===g){Z=Te;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([nt],null,T.errors,Ht)}return P.length?P.map(Z=>Z.buildKeyframes()):[An(g,[],[],[],0,E,"",!1)]}visitTrigger(b,g){}visitState(b,g){}visitTransition(b,g){}visitAnimateChild(b,g){const M=g.subInstructions.get(g.element);if(M){const z=g.createSubContext(b.options),le=g.currentTimeline.currentTime,st=this._visitSubInstructions(M,z,z.options);le!=st&&g.transformIntoNewTimeline(st)}g.previousNode=b}visitAnimateRef(b,g){const M=g.createSubContext(b.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],g,M),this.visitReference(b.animation,M),g.transformIntoNewTimeline(M.currentTimeline.currentTime),g.previousNode=b}_applyAnimationRefDelays(b,g,M){for(const z of b){const le=z?.delay;if(le){const st="number"==typeof le?le:Rn(Vo(le,z?.params??{},g.errors));M.delayNextStep(st)}}}_visitSubInstructions(b,g,M){let le=g.currentTimeline.currentTime;const st=null!=M.duration?Rn(M.duration):null,nt=null!=M.delay?Rn(M.delay):null;return 0!==st&&b.forEach(Ht=>{const Jt=g.appendInstructionToTimeline(Ht,st,nt);le=Math.max(le,Jt.duration+Jt.delay)}),le}visitReference(b,g){g.updateOptions(b.options,!0),cr(this,b.animation,g),g.previousNode=b}visitSequence(b,g){const M=g.subContextCount;let z=g;const le=b.options;if(le&&(le.params||le.delay)&&(z=g.createSubContext(le),z.transformIntoNewTimeline(),null!=le.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=D);const st=Rn(le.delay);z.delayNextStep(st)}b.steps.length&&(b.steps.forEach(st=>cr(this,st,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>M&&z.transformIntoNewTimeline()),g.previousNode=b}visitGroup(b,g){const M=[];let z=g.currentTimeline.currentTime;const le=b.options&&b.options.delay?Rn(b.options.delay):0;b.steps.forEach(st=>{const nt=g.createSubContext(b.options);le&&nt.delayNextStep(le),cr(this,st,nt),z=Math.max(z,nt.currentTimeline.currentTime),M.push(nt.currentTimeline)}),M.forEach(st=>g.currentTimeline.mergeTimelineCollectedStyles(st)),g.transformIntoNewTimeline(z),g.previousNode=b}_visitTiming(b,g){if(b.dynamic){const M=b.strValue;return fi(g.params?Vo(M,g.params,g.errors):M,g.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,g){const M=g.currentAnimateTimings=this._visitTiming(b.timings,g),z=g.currentTimeline;M.delay&&(g.incrementTime(M.delay),z.snapshotCurrentStyles());const le=b.style;5==le.type?this.visitKeyframes(le,g):(g.incrementTime(M.duration),this.visitStyle(le,g),z.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=b}visitStyle(b,g){const M=g.currentTimeline,z=g.currentAnimateTimings;!z&&M.hasCurrentStyleProperties()&&M.forwardFrame();const le=z&&z.easing||b.easing;b.isEmptyStep?M.applyEmptyStep(le):M.setStyles(b.styles,le,g.errors,g.options),g.previousNode=b}visitKeyframes(b,g){const M=g.currentAnimateTimings,z=g.currentTimeline.duration,le=M.duration,nt=g.createSubContext().currentTimeline;nt.easing=M.easing,b.styles.forEach(Ht=>{nt.forwardTime((Ht.offset||0)*le),nt.setStyles(Ht.styles,Ht.easing,g.errors,g.options),nt.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(nt),g.transformIntoNewTimeline(z+le),g.previousNode=b}visitQuery(b,g){const M=g.currentTimeline.currentTime,z=b.options||{},le=z.delay?Rn(z.delay):0;le&&(6===g.previousNode.type||0==M&&g.currentTimeline.hasCurrentStyleProperties())&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=D);let st=M;const nt=g.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!z.optional,g.errors);g.currentQueryTotal=nt.length;let Ht=null;nt.forEach((Jt,y)=>{g.currentQueryIndex=y;const T=g.createSubContext(b.options,Jt);le&&T.delayNextStep(le),Jt===g.element&&(Ht=T.currentTimeline),cr(this,b.animation,T),T.currentTimeline.applyStylesToKeyframe(),st=Math.max(st,T.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(st),Ht&&(g.currentTimeline.mergeTimelineCollectedStyles(Ht),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=b}visitStagger(b,g){const M=g.parentContext,z=g.currentTimeline,le=b.timings,st=Math.abs(le.duration),nt=st*(g.currentQueryTotal-1);let Ht=st*g.currentQueryIndex;switch(le.duration<0?"reverse":le.easing){case"reverse":Ht=nt-Ht;break;case"full":Ht=M.currentStaggerTime}const y=g.currentTimeline;Ht&&y.delayNextStep(Ht);const T=y.currentTime;cr(this,b.animation,g),g.previousNode=b,M.currentStaggerTime=z.currentTime-T+(z.startTime-M.currentTimeline.startTime)}}const D={};class ne{constructor(b,g,M,z,le,st,nt,Ht){this._driver=b,this.element=g,this.subInstructions=M,this._enterClassName=z,this._leaveClassName=le,this.errors=st,this.timelines=nt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=D,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ht||new Se(this._driver,g,0),nt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,g){if(!b)return;const M=b;let z=this.options;null!=M.duration&&(z.duration=Rn(M.duration)),null!=M.delay&&(z.delay=Rn(M.delay));const le=M.params;if(le){let st=z.params;st||(st=this.options.params={}),Object.keys(le).forEach(nt=>{(!g||!st.hasOwnProperty(nt))&&(st[nt]=Vo(le[nt],st,this.errors))})}}_copyOptions(){const b={};if(this.options){const g=this.options.params;if(g){const M=b.params={};Object.keys(g).forEach(z=>{M[z]=g[z]})}}return b}createSubContext(b=null,g,M){const z=g||this.element,le=new ne(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,M||0));return le.previousNode=this.previousNode,le.currentAnimateTimings=this.currentAnimateTimings,le.options=this._copyOptions(),le.updateOptions(b),le.currentQueryIndex=this.currentQueryIndex,le.currentQueryTotal=this.currentQueryTotal,le.parentContext=this,this.subContextCount++,le}transformIntoNewTimeline(b){return this.previousNode=D,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,g,M){const z={duration:g??b.duration,delay:this.currentTimeline.currentTime+(M??0)+b.delay,easing:""},le=new ft(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,z,b.stretchStartingKeyframe);return this.timelines.push(le),z}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,g,M,z,le,st){let nt=[];if(z&&nt.push(this.element),b.length>0){b=(b=b.replace(fo,"."+this._enterClassName)).replace(K,"."+this._leaveClassName);let Jt=this._driver.query(this.element,b,1!=M);0!==M&&(Jt=M<0?Jt.slice(Jt.length+M,Jt.length):Jt.slice(0,M)),nt.push(...Jt)}return!le&&0==nt.length&&st.push(function Lt(U){return new h.vHH(3014,!1)}()),nt}}class Se{constructor(b,g,M,z){this._driver=b,this.element=g,this.startTime=M,this._elementTimelineStylesLookup=z,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const g=1===this._keyframes.size&&this._pendingStyles.size;this.duration||g?(this.forwardTime(this.currentTime+b),g&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,g){return this.applyStylesToKeyframe(),new Se(this._driver,b,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,g){this._localTimelineStyles.set(b,g),this._globalTimelineStyles.set(b,g),this._styleSummary.set(b,{time:this.currentTime,value:g})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[g,M]of this._globalTimelineStyles)this._backFill.set(g,M||We.l3),this._currentKeyframe.set(g,We.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,g,M,z){g&&this._previousKeyframe.set("easing",g);const le=z&&z.params||{},st=function Tn(U,b){const g=new Map;let M;return U.forEach(z=>{if("*"===z){M=M||b.keys();for(let le of M)g.set(le,We.l3)}else Sr(z,g)}),g}(b,this._globalTimelineStyles);for(let[nt,Ht]of st){const Jt=Vo(Ht,le,M);this._pendingStyles.set(nt,Jt),this._localTimelineStyles.has(nt)||this._backFill.set(nt,this._globalTimelineStyles.get(nt)??We.l3),this._updateStyle(nt,Jt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,g)=>{this._currentKeyframe.set(g,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,g)=>{this._currentKeyframe.has(g)||this._currentKeyframe.set(g,b)}))}snapshotCurrentStyles(){for(let[b,g]of this._localTimelineStyles)this._pendingStyles.set(b,g),this._updateStyle(b,g)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let g in this._currentKeyframe)b.push(g);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((g,M)=>{const z=this._styleSummary.get(M);(!z||g.time>z.time)&&this._updateStyle(M,g.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,g=new Set,M=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((nt,Ht)=>{const Jt=Sr(nt,new Map,this._backFill);Jt.forEach((y,T)=>{y===We.k1?b.add(T):y===We.l3&&g.add(T)}),M||Jt.set("offset",Ht/this.duration),z.push(Jt)});const le=b.size?yo(b.values()):[],st=g.size?yo(g.values()):[];if(M){const nt=z[0],Ht=new Map(nt);nt.set("offset",0),Ht.set("offset",1),z=[nt,Ht]}return An(this.element,z,le,st,this.duration,this.startTime,this.easing,!1)}}class ft extends Se{constructor(b,g,M,z,le,st,nt=!1){super(b,g,st.delay),this.keyframes=M,this.preStyleProps=z,this.postStyleProps=le,this._stretchStartingKeyframe=nt,this.timings={duration:st.duration,delay:st.delay,easing:st.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:g,duration:M,easing:z}=this.timings;if(this._stretchStartingKeyframe&&g){const le=[],st=M+g,nt=g/st,Ht=Sr(b[0]);Ht.set("offset",0),le.push(Ht);const Jt=Sr(b[0]);Jt.set("offset",Vt(nt)),le.push(Jt);const y=b.length-1;for(let T=1;T<=y;T++){let E=Sr(b[T]);const P=E.get("offset");E.set("offset",Vt((g+P*M)/st)),le.push(E)}M=st,g=0,z="",b=le}return An(this.element,b,this.preStyleProps,this.postStyleProps,M,g,z,!0)}}function Vt(U,b=3){const g=Math.pow(10,b-1);return Math.round(U*g)/g}class Vn{}const Pi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gr extends Vn{normalizePropertyName(b,g){return Es(b)}normalizeStyleValue(b,g,M,z){let le="";const st=M.toString().trim();if(Pi.has(g)&&0!==M&&"0"!==M)if("number"==typeof M)le="px";else{const nt=M.match(/^[+-]?[\d\.]+([a-z]*)$/);nt&&0==nt[1].length&&z.push(function ce(U,b){return new h.vHH(3005,!1)}())}return st+le}}function Cr(U,b,g,M,z,le,st,nt,Ht,Jt,y,T,E){return{type:0,element:U,triggerName:b,isRemovalTransition:z,fromState:g,fromStyles:le,toState:M,toStyles:st,timelines:nt,queriedElements:Ht,preStyleProps:Jt,postStyleProps:y,totalTime:T,errors:E}}const sr={};class Fi{constructor(b,g,M){this._triggerName=b,this.ast=g,this._stateStyles=M}match(b,g,M,z){return function Ci(U,b,g,M,z){return U.some(le=>le(b,g,M,z))}(this.ast.matchers,b,g,M,z)}buildStyles(b,g,M){let z=this._stateStyles.get("*");return void 0!==b&&(z=this._stateStyles.get(b?.toString())||z),z?z.buildStyles(g,M):new Map}build(b,g,M,z,le,st,nt,Ht,Jt,y){const T=[],E=this.ast.options&&this.ast.options.params||sr,Z=this.buildStyles(M,nt&&nt.params||sr,T),ve=Ht&&Ht.params||sr,Te=this.buildStyles(z,ve,T),Et=new Set,_n=new Map,Jn=new Map,Un="void"===z,ji={params:Ao(ve,E),delay:this.ast.options?.delay},Or=y?[]:j(b,g,this.ast.animation,le,st,Z,Te,ji,Jt,T);let Eo=0;if(Or.forEach(zo=>{Eo=Math.max(zo.duration+zo.delay,Eo)}),T.length)return Cr(g,this._triggerName,M,z,Un,Z,Te,[],[],_n,Jn,Eo,T);Or.forEach(zo=>{const Gt=zo.element,bs=er(_n,Gt,new Set);zo.preStyleProps.forEach(ba=>bs.add(ba));const Po=er(Jn,Gt,new Set);zo.postStyleProps.forEach(ba=>Po.add(ba)),Gt!==g&&Et.add(Gt)});const co=yo(Et.values());return Cr(g,this._triggerName,M,z,Un,Z,Te,Or,co,_n,Jn,Eo)}}function Ao(U,b){const g=tr(b);for(const M in U)U.hasOwnProperty(M)&&null!=U[M]&&(g[M]=U[M]);return g}class Qr{constructor(b,g,M){this.styles=b,this.defaultParams=g,this.normalizer=M}buildStyles(b,g){const M=new Map,z=tr(this.defaultParams);return Object.keys(b).forEach(le=>{const st=b[le];null!==st&&(z[le]=st)}),this.styles.styles.forEach(le=>{"string"!=typeof le&&le.forEach((st,nt)=>{st&&(st=Vo(st,z,g));const Ht=this.normalizer.normalizePropertyName(nt,g);st=this.normalizer.normalizeStyleValue(nt,Ht,st,g),M.set(nt,st)})}),M}}class Ar{constructor(b,g,M){this.name=b,this.ast=g,this._normalizer=M,this.transitionFactories=[],this.states=new Map,g.states.forEach(z=>{this.states.set(z.name,new Qr(z.style,z.options&&z.options.params||{},M))}),ss(this.states,"true","1"),ss(this.states,"false","0"),g.transitions.forEach(z=>{this.transitionFactories.push(new Fi(b,z,this.states))}),this.fallbackTransition=function wo(U,b,g){return new Fi(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(st,nt)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,g,M,z){return this.transitionFactories.find(st=>st.match(b,g,M,z))||null}matchStyles(b,g,M){return this.fallbackTransition.buildStyles(b,g,M)}}function ss(U,b,g){U.has(b)?U.has(g)||U.set(g,U.get(b)):U.has(g)&&U.set(b,U.get(g))}const Cs=new Ti;class ks{constructor(b,g,M){this.bodyNode=b,this._driver=g,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(b,g){const M=[],le=_o(this._driver,g,M,[]);if(M.length)throw function Pn(U){return new h.vHH(3503,!1)}();this._animations.set(b,le)}_buildPlayer(b,g,M){const z=b.element,le=ho(this._normalizer,b.keyframes,g,M);return this._driver.animate(z,le,b.duration,b.delay,b.easing,[],!0)}create(b,g,M={}){const z=[],le=this._animations.get(b);let st;const nt=new Map;if(le?(st=j(this._driver,g,le,wt,mt,new Map,new Map,M,Cs,z),st.forEach(y=>{const T=er(nt,y.element,new Map);y.postStyleProps.forEach(E=>T.set(E,null))})):(z.push(function Hn(){return new h.vHH(3300,!1)}()),st=[]),z.length)throw function ui(U){return new h.vHH(3504,!1)}();nt.forEach((y,T)=>{y.forEach((E,P)=>{y.set(P,this._driver.computeStyle(T,P,We.l3))})});const Jt=fr(st.map(y=>{const T=nt.get(y.element);return this._buildPlayer(y,new Map,T)}));return this._playersById.set(b,Jt),Jt.onDestroy(()=>this.destroy(b)),this.players.push(Jt),Jt}destroy(b){const g=this._getPlayer(b);g.destroy(),this._playersById.delete(b);const M=this.players.indexOf(g);M>=0&&this.players.splice(M,1)}_getPlayer(b){const g=this._playersById.get(b);if(!g)throw function qi(U){return new h.vHH(3301,!1)}();return g}listen(b,g,M,z){const le=io(g,"","","");return Si(this._getPlayer(b),M,le,z),()=>{}}command(b,g,M,z){if("register"==M)return void this.register(b,z[0]);if("create"==M)return void this.create(b,g,z[0]||{});const le=this._getPlayer(b);switch(M){case"play":le.play();break;case"pause":le.pause();break;case"reset":le.reset();break;case"restart":le.restart();break;case"finish":le.finish();break;case"init":le.init();break;case"setPosition":le.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(b)}}}const As="ng-animate-queued",Ks="ng-animate-disabled",oa=[],Ia={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ma={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zo="__ng_removed";class Vs{get params(){return this.options.params}constructor(b,g=""){this.namespaceId=g;const M=b&&b.hasOwnProperty("value");if(this.value=function Js(U){return U??null}(M?b.value:b),M){const le=tr(b);delete le.value,this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const g=b.params;if(g){const M=this.options.params;Object.keys(g).forEach(z=>{null==M[z]&&(M[z]=g[z])})}}}const js="void",Ds=new Vs(js);class Ta{constructor(b,g,M){this.id=b,this.hostElement=g,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,hr(g,this._hostClassName)}listen(b,g,M,z){if(!this._triggers.has(g))throw function vi(U,b){return new h.vHH(3302,!1)}();if(null==M||0==M.length)throw function wr(U){return new h.vHH(3303,!1)}();if(!function _s(U){return"start"==U||"done"==U}(M))throw function to(U,b){return new h.vHH(3400,!1)}();const le=er(this._elementListeners,b,[]),st={name:g,phase:M,callback:z};le.push(st);const nt=er(this._engine.statesByElement,b,new Map);return nt.has(g)||(hr(b,Bt),hr(b,Bt+"-"+g),nt.set(g,Ds)),()=>{this._engine.afterFlush(()=>{const Ht=le.indexOf(st);Ht>=0&&le.splice(Ht,1),this._triggers.has(g)||nt.delete(g)})}}register(b,g){return!this._triggers.has(b)&&(this._triggers.set(b,g),!0)}_getTrigger(b){const g=this._triggers.get(b);if(!g)throw function bo(U){return new h.vHH(3401,!1)}();return g}trigger(b,g,M,z=!0){const le=this._getTrigger(g),st=new fa(this.id,g,b);let nt=this._engine.statesByElement.get(b);nt||(hr(b,Bt),hr(b,Bt+"-"+g),this._engine.statesByElement.set(b,nt=new Map));let Ht=nt.get(g);const Jt=new Vs(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&Ht&&Jt.absorbOptions(Ht.options),nt.set(g,Jt),Ht||(Ht=Ds),Jt.value!==js&&Ht.value===Jt.value){if(!function ee(U,b){const g=Object.keys(U),M=Object.keys(b);if(g.length!=M.length)return!1;for(let z=0;z<g.length;z++){const le=g[z];if(!b.hasOwnProperty(le)||U[le]!==b[le])return!1}return!0}(Ht.params,Jt.params)){const ve=[],Te=le.matchStyles(Ht.value,Ht.params,ve),Et=le.matchStyles(Jt.value,Jt.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{oo(b,Te),Xn(b,Et)})}return}const E=er(this._engine.playersByElement,b,[]);E.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==g&&ve.queued&&ve.destroy()});let P=le.matchTransition(Ht.value,Jt.value,b,Jt.params),Z=!1;if(!P){if(!z)return;P=le.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:g,transition:P,fromState:Ht,toState:Jt,player:st,isFallbackTransition:Z}),Z||(hr(b,As),st.onStart(()=>{Is(b,As)})),st.onDone(()=>{let ve=this.players.indexOf(st);ve>=0&&this.players.splice(ve,1);const Te=this._engine.playersByElement.get(b);if(Te){let Et=Te.indexOf(st);Et>=0&&Te.splice(Et,1)}}),this.players.push(st),E.push(st),st}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(g=>g.delete(b)),this._elementListeners.forEach((g,M)=>{this._elementListeners.set(M,g.filter(z=>z.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const g=this._engine.playersByElement.get(b);g&&(g.forEach(M=>M.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,g){const M=this._engine.driver.query(b,mn,!0);M.forEach(z=>{if(z[Zo])return;const le=this._engine.fetchNamespacesByElement(z);le.size?le.forEach(st=>st.triggerLeaveAnimation(z,g,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(b,g,M,z){const le=this._engine.statesByElement.get(b),st=new Map;if(le){const nt=[];if(le.forEach((Ht,Jt)=>{if(st.set(Jt,Ht.value),this._triggers.has(Jt)){const y=this.trigger(b,Jt,js,z);y&&nt.push(y)}}),nt.length)return this._engine.markElementAsRemoved(this.id,b,!0,g,st),M&&fr(nt).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const g=this._elementListeners.get(b),M=this._engine.statesByElement.get(b);if(g&&M){const z=new Set;g.forEach(le=>{const st=le.name;if(z.has(st))return;z.add(st);const Ht=this._triggers.get(st).fallbackTransition,Jt=M.get(st)||Ds,y=new Vs(js),T=new fa(this.id,st,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:st,transition:Ht,fromState:Jt,toState:y,player:T,isFallbackTransition:!0})})}}removeNode(b,g){const M=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,g),this.triggerLeaveAnimation(b,g,!0))return;let z=!1;if(M.totalAnimations){const le=M.players.length?M.playersByQueriedElement.get(b):[];if(le&&le.length)z=!0;else{let st=b;for(;st=st.parentNode;)if(M.statesByElement.get(st)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(b),z)M.markElementAsRemoved(this.id,b,!1,g);else{const le=b[Zo];(!le||le===Ia)&&(M.afterFlush(()=>this.clearElementCache(b)),M.destroyInnerAnimations(b),M._onRemovalComplete(b,g))}}insertNode(b,g){hr(b,this._hostClassName)}drainQueuedTransitions(b){const g=[];return this._queue.forEach(M=>{const z=M.player;if(z.destroyed)return;const le=M.element,st=this._elementListeners.get(le);st&&st.forEach(nt=>{if(nt.name==M.triggerName){const Ht=io(le,M.triggerName,M.fromState.value,M.toState.value);Ht._data=b,Si(M.player,nt.phase,Ht,nt.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):g.push(M)}),this._queue=[],g.sort((M,z)=>{const le=M.transition.ast.depCount,st=z.transition.ast.depCount;return 0==le||0==st?le-st:this._engine.driver.containsElement(M.element,z.element)?1:-1})}destroy(b){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}elementContainsData(b){let g=!1;return this._elementListeners.has(b)&&(g=!0),g=!!this._queue.find(M=>M.element===b)||g,g}}class Xs{_onRemovalComplete(b,g){this.onRemovalComplete(b,g)}constructor(b,g,M){this.bodyNode=b,this.driver=g,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,le)=>{}}get queuedPlayers(){const b=[];return this._namespaceList.forEach(g=>{g.players.forEach(M=>{M.queued&&b.push(M)})}),b}createNamespace(b,g){const M=new Ta(b,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(M,g):(this.newHostElements.set(g,M),this.collectEnterElement(g)),this._namespaceLookup[b]=M}_balanceNamespaceList(b,g){const M=this._namespaceList,z=this.namespacesByHostElement;if(M.length-1>=0){let st=!1,nt=this.driver.getParentElement(g);for(;nt;){const Ht=z.get(nt);if(Ht){const Jt=M.indexOf(Ht);M.splice(Jt+1,0,b),st=!0;break}nt=this.driver.getParentElement(nt)}st||M.unshift(b)}else M.push(b);return z.set(g,b),b}register(b,g){let M=this._namespaceLookup[b];return M||(M=this.createNamespace(b,g)),M}registerTrigger(b,g,M){let z=this._namespaceLookup[b];z&&z.register(g,M)&&this.totalAnimations++}destroy(b,g){if(!b)return;const M=this._fetchNamespace(b);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[b];const z=this._namespaceList.indexOf(M);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>M.destroy(g))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const g=new Set,M=this.statesByElement.get(b);if(M)for(let z of M.values())if(z.namespaceId){const le=this._fetchNamespace(z.namespaceId);le&&g.add(le)}return g}trigger(b,g,M,z){if(Ho(g)){const le=this._fetchNamespace(b);if(le)return le.trigger(g,M,z),!0}return!1}insertNode(b,g,M,z){if(!Ho(g))return;const le=g[Zo];if(le&&le.setForRemoval){le.setForRemoval=!1,le.setForMove=!0;const st=this.collectedLeaveElements.indexOf(g);st>=0&&this.collectedLeaveElements.splice(st,1)}if(b){const st=this._fetchNamespace(b);st&&st.insertNode(g,M)}z&&this.collectEnterElement(g)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,g){g?this.disabledNodes.has(b)||(this.disabledNodes.add(b),hr(b,Ks)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),Is(b,Ks))}removeNode(b,g,M){if(Ho(g)){const z=b?this._fetchNamespace(b):null;z?z.removeNode(g,M):this.markElementAsRemoved(b,g,!1,M);const le=this.namespacesByHostElement.get(g);le&&le.id!==b&&le.removeNode(g,M)}else this._onRemovalComplete(g,M)}markElementAsRemoved(b,g,M,z,le){this.collectedLeaveElements.push(g),g[Zo]={namespaceId:b,setForRemoval:z,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:le}}listen(b,g,M,z,le){return Ho(g)?this._fetchNamespace(b).listen(g,M,z,le):()=>{}}_buildInstruction(b,g,M,z,le){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,M,z,b.fromState.options,b.toState.options,g,le)}destroyInnerAnimations(b){let g=this.driver.query(b,mn,!0);g.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(b,hn,!0),g.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(b){const g=this.playersByElement.get(b);g&&g.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(b){const g=this.playersByQueriedElement.get(b);g&&g.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return fr(this.players).onDone(()=>b());b()})}processLeaveNode(b){const g=b[Zo];if(g&&g.setForRemoval){if(b[Zo]=Ia,g.namespaceId){this.destroyInnerAnimations(b);const M=this._fetchNamespace(g.namespaceId);M&&M.clearElementCache(b)}this._onRemovalComplete(b,g.setForRemoval)}b.classList?.contains(Ks)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(b=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,z)=>this._balanceNamespaceList(M,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)hr(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{g=this._flushAnimations(M,b)}finally{for(let z=0;z<M.length;z++)M[z]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],g.length?fr(g).onDone(()=>{M.forEach(z=>z())}):M.forEach(z=>z())}}reportError(b){throw function hs(U){return new h.vHH(3402,!1)}()}_flushAnimations(b,g){const M=new Ti,z=[],le=new Map,st=[],nt=new Map,Ht=new Map,Jt=new Map,y=new Set;this.disabledNodes.forEach(ci=>{y.add(ci);const li=this.driver.query(ci,".ng-animate-queued",!0);for(let wi=0;wi<li.length;wi++)y.add(li[wi])});const T=this.bodyNode,E=Array.from(this.statesByElement.keys()),P=Qi(E,this.collectedEnterElements),Z=new Map;let ve=0;P.forEach((ci,li)=>{const wi=wt+ve++;Z.set(li,wi),ci.forEach(Ki=>hr(Ki,wi))});const Te=[],Et=new Set,_n=new Set;for(let ci=0;ci<this.collectedLeaveElements.length;ci++){const li=this.collectedLeaveElements[ci],wi=li[Zo];wi&&wi.setForRemoval&&(Te.push(li),Et.add(li),wi.hasAnimation?this.driver.query(li,".ng-star-inserted",!0).forEach(Ki=>Et.add(Ki)):_n.add(li))}const Jn=new Map,Un=Qi(E,Array.from(Et));Un.forEach((ci,li)=>{const wi=mt+ve++;Jn.set(li,wi),ci.forEach(Ki=>hr(Ki,wi))}),b.push(()=>{P.forEach((ci,li)=>{const wi=Z.get(li);ci.forEach(Ki=>Is(Ki,wi))}),Un.forEach((ci,li)=>{const wi=Jn.get(li);ci.forEach(Ki=>Is(Ki,wi))}),Te.forEach(ci=>{this.processLeaveNode(ci)})});const ji=[],Or=[];for(let ci=this._namespaceList.length-1;ci>=0;ci--)this._namespaceList[ci].drainQueuedTransitions(g).forEach(wi=>{const Ki=wi.player,ys=wi.element;if(ji.push(Ki),this.collectedEnterElements.length){const ws=ys[Zo];if(ws&&ws.setForMove){if(ws.previousTriggersValues&&ws.previousTriggersValues.has(wi.triggerName)){const aa=ws.previousTriggersValues.get(wi.triggerName),Ir=this.statesByElement.get(wi.element);if(Ir&&Ir.has(wi.triggerName)){const ya=Ir.get(wi.triggerName);ya.value=aa,Ir.set(wi.triggerName,ya)}}return void Ki.destroy()}}const Yo=!T||!this.driver.containsElement(T,ys),Rr=Jn.get(ys),Fo=Z.get(ys),Dr=this._buildInstruction(wi,M,Fo,Rr,Yo);if(Dr.errors&&Dr.errors.length)return void Or.push(Dr);if(Yo)return Ki.onStart(()=>oo(ys,Dr.fromStyles)),Ki.onDestroy(()=>Xn(ys,Dr.toStyles)),void z.push(Ki);if(wi.isFallbackTransition)return Ki.onStart(()=>oo(ys,Dr.fromStyles)),Ki.onDestroy(()=>Xn(ys,Dr.toStyles)),void z.push(Ki);const Wa=[];Dr.timelines.forEach(ws=>{ws.stretchStartingKeyframe=!0,this.disabledNodes.has(ws.element)||Wa.push(ws)}),Dr.timelines=Wa,M.append(ys,Dr.timelines),st.push({instruction:Dr,player:Ki,element:ys}),Dr.queriedElements.forEach(ws=>er(nt,ws,[]).push(Ki)),Dr.preStyleProps.forEach((ws,aa)=>{if(ws.size){let Ir=Ht.get(aa);Ir||Ht.set(aa,Ir=new Set),ws.forEach((ya,Ls)=>Ir.add(Ls))}}),Dr.postStyleProps.forEach((ws,aa)=>{let Ir=Jt.get(aa);Ir||Jt.set(aa,Ir=new Set),ws.forEach((ya,Ls)=>Ir.add(Ls))})});if(Or.length){const ci=[];Or.forEach(li=>{ci.push(function no(U,b){return new h.vHH(3505,!1)}())}),ji.forEach(li=>li.destroy()),this.reportError(ci)}const Eo=new Map,co=new Map;st.forEach(ci=>{const li=ci.element;M.has(li)&&(co.set(li,li),this._beforeAnimationBuild(ci.player.namespaceId,ci.instruction,Eo))}),z.forEach(ci=>{const li=ci.element;this._getPreviousPlayers(li,!1,ci.namespaceId,ci.triggerName,null).forEach(Ki=>{er(Eo,li,[]).push(Ki),Ki.destroy()})});const zo=Te.filter(ci=>B(ci,Ht,Jt)),Gt=new Map;Ns(Gt,this.driver,_n,Jt,We.l3).forEach(ci=>{B(ci,Ht,Jt)&&zo.push(ci)});const Po=new Map;P.forEach((ci,li)=>{Ns(Po,this.driver,new Set(ci),Ht,We.k1)}),zo.forEach(ci=>{const li=Gt.get(ci),wi=Po.get(ci);Gt.set(ci,new Map([...li?.entries()??[],...wi?.entries()??[]]))});const ba=[],Na=[],Os={};st.forEach(ci=>{const{element:li,player:wi,instruction:Ki}=ci;if(M.has(li)){if(y.has(li))return wi.onDestroy(()=>Xn(li,Ki.toStyles)),wi.disabled=!0,wi.overrideTotalTime(Ki.totalTime),void z.push(wi);let ys=Os;if(co.size>1){let Rr=li;const Fo=[];for(;Rr=Rr.parentNode;){const Dr=co.get(Rr);if(Dr){ys=Dr;break}Fo.push(Rr)}Fo.forEach(Dr=>co.set(Dr,ys))}const Yo=this._buildAnimation(wi.namespaceId,Ki,Eo,le,Po,Gt);if(wi.setRealPlayer(Yo),ys===Os)ba.push(wi);else{const Rr=this.playersByElement.get(ys);Rr&&Rr.length&&(wi.parentPlayer=fr(Rr)),z.push(wi)}}else oo(li,Ki.fromStyles),wi.onDestroy(()=>Xn(li,Ki.toStyles)),Na.push(wi),y.has(li)&&z.push(wi)}),Na.forEach(ci=>{const li=le.get(ci.element);if(li&&li.length){const wi=fr(li);ci.setRealPlayer(wi)}}),z.forEach(ci=>{ci.parentPlayer?ci.syncPlayerEvents(ci.parentPlayer):ci.destroy()});for(let ci=0;ci<Te.length;ci++){const li=Te[ci],wi=li[Zo];if(Is(li,mt),wi&&wi.hasAnimation)continue;let Ki=[];if(nt.size){let Yo=nt.get(li);Yo&&Yo.length&&Ki.push(...Yo);let Rr=this.driver.query(li,hn,!0);for(let Fo=0;Fo<Rr.length;Fo++){let Dr=nt.get(Rr[Fo]);Dr&&Dr.length&&Ki.push(...Dr)}}const ys=Ki.filter(Yo=>!Yo.destroyed);ys.length?Mi(this,li,ys):this.processLeaveNode(li)}return Te.length=0,ba.forEach(ci=>{this.players.push(ci),ci.onDone(()=>{ci.destroy();const li=this.players.indexOf(ci);this.players.splice(li,1)}),ci.play()}),ba}elementContainsData(b,g){let M=!1;const z=g[Zo];return z&&z.setForRemoval&&(M=!0),this.playersByElement.has(g)&&(M=!0),this.playersByQueriedElement.has(g)&&(M=!0),this.statesByElement.has(g)&&(M=!0),this._fetchNamespace(b).elementContainsData(g)||M}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,g,M,z,le){let st=[];if(g){const nt=this.playersByQueriedElement.get(b);nt&&(st=nt)}else{const nt=this.playersByElement.get(b);if(nt){const Ht=!le||le==js;nt.forEach(Jt=>{Jt.queued||!Ht&&Jt.triggerName!=z||st.push(Jt)})}}return(M||z)&&(st=st.filter(nt=>!(M&&M!=nt.namespaceId||z&&z!=nt.triggerName))),st}_beforeAnimationBuild(b,g,M){const le=g.element,st=g.isRemovalTransition?void 0:b,nt=g.isRemovalTransition?void 0:g.triggerName;for(const Ht of g.timelines){const Jt=Ht.element,y=Jt!==le,T=er(M,Jt,[]);this._getPreviousPlayers(Jt,y,st,nt,g.toState).forEach(P=>{const Z=P.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),P.destroy(),T.push(P)})}oo(le,g.fromStyles)}_buildAnimation(b,g,M,z,le,st){const nt=g.triggerName,Ht=g.element,Jt=[],y=new Set,T=new Set,E=g.timelines.map(Z=>{const ve=Z.element;y.add(ve);const Te=ve[Zo];if(Te&&Te.removedBeforeQueried)return new We.ZN(Z.duration,Z.delay);const Et=ve!==Ht,_n=function ga(U){const b=[];return F(U,b),b}((M.get(ve)||oa).map(Eo=>Eo.getRealPlayer())).filter(Eo=>!!Eo.element&&Eo.element===ve),Jn=le.get(ve),Un=st.get(ve),ji=ho(this._normalizer,Z.keyframes,Jn,Un),Or=this._buildPlayer(Z,ji,_n);if(Z.subTimeline&&z&&T.add(ve),Et){const Eo=new fa(b,nt,ve);Eo.setRealPlayer(Or),Jt.push(Eo)}return Or});Jt.forEach(Z=>{er(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function Oa(U,b,g){let M=U.get(b);if(M){if(M.length){const z=M.indexOf(g);M.splice(z,1)}0==M.length&&U.delete(b)}return M}(this.playersByQueriedElement,Z.element,Z))}),y.forEach(Z=>hr(Z,gn));const P=fr(E);return P.onDestroy(()=>{y.forEach(Z=>Is(Z,gn)),Xn(Ht,g.toStyles)}),T.forEach(Z=>{er(z,Z,[]).push(P)}),P}_buildPlayer(b,g,M){return g.length>0?this.driver.animate(b.element,g,b.duration,b.delay,b.easing,M):new We.ZN(b.duration,b.delay)}}class fa{constructor(b,g,M){this.namespaceId=b,this.triggerName=g,this.element=M,this._player=new We.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((g,M)=>{g.forEach(z=>Si(b,M,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const g=this._player;g.triggerCallback&&b.onStart(()=>g.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,g){er(this._queuedCallbacks,b,[]).push(g)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const g=this._player;g.triggerCallback&&g.triggerCallback(b)}}function Ho(U){return U&&1===U.nodeType}function pa(U,b){const g=U.style.display;return U.style.display=b??"none",g}function Ns(U,b,g,M,z){const le=[];g.forEach(Ht=>le.push(pa(Ht)));const st=[];M.forEach((Ht,Jt)=>{const y=new Map;Ht.forEach(T=>{const E=b.computeStyle(Jt,T,z);y.set(T,E),(!E||0==E.length)&&(Jt[Zo]=ma,st.push(Jt))}),U.set(Jt,y)});let nt=0;return g.forEach(Ht=>pa(Ht,le[nt++])),st}function Qi(U,b){const g=new Map;if(U.forEach(nt=>g.set(nt,[])),0==b.length)return g;const M=1,z=new Set(b),le=new Map;function st(nt){if(!nt)return M;let Ht=le.get(nt);if(Ht)return Ht;const Jt=nt.parentNode;return Ht=g.has(Jt)?Jt:z.has(Jt)?M:st(Jt),le.set(nt,Ht),Ht}return b.forEach(nt=>{const Ht=st(nt);Ht!==M&&g.get(Ht).push(nt)}),g}function hr(U,b){U.classList?.add(b)}function Is(U,b){U.classList?.remove(b)}function Mi(U,b,g){fr(g).onDone(()=>U.processLeaveNode(b))}function F(U,b){for(let g=0;g<U.length;g++){const M=U[g];M instanceof We.ZE?F(M.players,b):b.push(M)}}function B(U,b,g){const M=g.get(U);if(!M)return!1;let z=b.get(U);return z?M.forEach(le=>z.add(le)):b.set(U,M),g.delete(U),!0}class be{constructor(b,g,M){this.bodyNode=b,this._driver=g,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(z,le)=>{},this._transitionEngine=new Xs(b,g,M),this._timelineEngine=new ks(b,g,M),this._transitionEngine.onRemovalComplete=(z,le)=>this.onRemovalComplete(z,le)}registerTrigger(b,g,M,z,le){const st=b+"-"+z;let nt=this._triggerCache[st];if(!nt){const Ht=[],y=_o(this._driver,le,Ht,[]);if(Ht.length)throw function xn(U,b){return new h.vHH(3404,!1)}();nt=function Lr(U,b,g){return new Ar(U,b,g)}(z,y,this._normalizer),this._triggerCache[st]=nt}this._transitionEngine.registerTrigger(g,z,nt)}register(b,g){this._transitionEngine.register(b,g)}destroy(b,g){this._transitionEngine.destroy(b,g)}onInsert(b,g,M,z){this._transitionEngine.insertNode(b,g,M,z)}onRemove(b,g,M){this._transitionEngine.removeNode(b,g,M)}disableAnimations(b,g){this._transitionEngine.markElementAsDisabled(b,g)}process(b,g,M,z){if("@"==M.charAt(0)){const[le,st]=or(M);this._timelineEngine.command(le,g,st,z)}else this._transitionEngine.trigger(b,g,M,z)}listen(b,g,M,z,le){if("@"==M.charAt(0)){const[st,nt]=or(M);return this._timelineEngine.listen(st,g,nt,le)}return this._transitionEngine.listen(b,g,M,z,le)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tn=(()=>{class U{constructor(g,M,z){this._element=g,this._startStyles=M,this._endStyles=z,this._state=0;let le=U.initialStylesByElement.get(g);le||U.initialStylesByElement.set(g,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&Xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xn(this._element,this._initialStyles),this._endStyles&&(Xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(oo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(oo(this._element,this._endStyles),this._endStyles=null),Xn(this._element,this._initialStyles),this._state=3)}}return U.initialStylesByElement=new WeakMap,U})();function fn(U){let b=null;return U.forEach((g,M)=>{(function Yn(U){return"display"===U||"position"===U})(M)&&(b=b||new Map,b.set(M,g))}),b}class Bi{constructor(b,g,M,z){this.element=b,this.keyframes=g,this.options=M,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const g=[];return b.forEach(M=>{g.push(Object.fromEntries(M))}),g}_triggerWebAnimation(b,g,M){return b.animate(this._convertKeyframesToObject(g),M)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,z)=>{"offset"!==z&&b.set(z,this._finished?M:ki(this.element,z))}),this.currentSnapshot=b}triggerCallback(b){const g="start"===b?this._onStartFns:this._onDoneFns;g.forEach(M=>M()),g.length=0}}class Ii{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}matchesElement(b,g){return!1}containsElement(b,g){return ts(b,g)}getParentElement(b){return $r(b)}query(b,g,M){return ms(b,g,M)}computeStyle(b,g,M){return window.getComputedStyle(b)[g]}animate(b,g,M,z,le,st=[]){const Ht={duration:M,delay:z,fill:0==z?"both":"forwards"};le&&(Ht.easing=le);const Jt=new Map,y=st.filter(P=>P instanceof Bi);(function ir(U,b){return 0===U||0===b})(M,z)&&y.forEach(P=>{P.currentSnapshot.forEach((Z,ve)=>Jt.set(ve,Z))});let T=function Vi(U){return U.length?U[0]instanceof Map?U:U.map(b=>nr(b)):[]}(g).map(P=>Sr(P));T=function fs(U,b,g){if(g.size&&b.length){let M=b[0],z=[];if(g.forEach((le,st)=>{M.has(st)||z.push(st),M.set(st,le)}),z.length)for(let le=1;le<b.length;le++){let st=b[le];z.forEach(nt=>st.set(nt,ki(U,nt)))}}return b}(b,T,Jt);const E=function it(U,b){let g=null,M=null;return Array.isArray(b)&&b.length?(g=fn(b[0]),b.length>1&&(M=fn(b[b.length-1]))):b instanceof Map&&(g=fn(b)),g||M?new tn(U,g,M):null}(b,T);return new Bi(b,T,Ht,E)}}let bi=(()=>{class U extends We._j{constructor(g,M){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(M.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(g){const M=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(g)?(0,We.vP)(g):g;return zn(this._renderer,null,M,"register",[z]),new Di(M,this._renderer)}}return U.\u0275fac=function(g){return new(g||U)(h.LFG(h.FYo),h.LFG(ge.K0))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac}),U})();class Di extends We.LC{constructor(b,g){super(),this._id=b,this._renderer=g}create(b,g){return new Xi(this._id,b,g||{},this._renderer)}}class Xi{constructor(b,g,M,z){this.id=b,this.element=g,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(b,g){return this._renderer.listen(this.element,`@@${this.id}:${b}`,g)}_command(b,...g){return zn(this._renderer,this.element,this.id,b,g)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zn(U,b,g,M,z){return U.setProperty(b,`@@${g}:${M}`,z)}const as="@.disabled";let Wr=(()=>{class U{constructor(g,M,z){this.delegate=g,this.engine=M,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(le,st)=>{const nt=st?.parentNode(le);nt&&st.removeChild(nt,le)}}createRenderer(g,M){const le=this.delegate.createRenderer(g,M);if(!(g&&M&&M.data&&M.data.animation)){let y=this._rendererCache.get(le);return y||(y=new sa("",le,this.engine,()=>this._rendererCache.delete(le)),this._rendererCache.set(le,y)),y}const st=M.id,nt=M.id+"-"+this._currentId;this._currentId++,this.engine.register(nt,g);const Ht=y=>{Array.isArray(y)?y.forEach(Ht):this.engine.registerTrigger(st,nt,g,y.name,y)};return M.data.animation.forEach(Ht),new Oo(this,nt,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,M,z){g>=0&&g<this._microtaskId?this._zone.run(()=>M(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(le=>{const[st,nt]=le;st(nt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return U.\u0275fac=function(g){return new(g||U)(h.LFG(h.FYo),h.LFG(be),h.LFG(h.R0b))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac}),U})();class sa{constructor(b,g,M,z){this.namespaceId=b,this.delegate=g,this.engine=M,this._onDestroy=z,this.destroyNode=this.delegate.destroyNode?le=>g.destroyNode(le):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(b,g){return this.delegate.createElement(b,g)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,g){this.delegate.appendChild(b,g),this.engine.onInsert(this.namespaceId,g,b,!1)}insertBefore(b,g,M,z=!0){this.delegate.insertBefore(b,g,M),this.engine.onInsert(this.namespaceId,g,b,z)}removeChild(b,g,M){this.engine.onRemove(this.namespaceId,g,this.delegate)}selectRootElement(b,g){return this.delegate.selectRootElement(b,g)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,g,M,z){this.delegate.setAttribute(b,g,M,z)}removeAttribute(b,g,M){this.delegate.removeAttribute(b,g,M)}addClass(b,g){this.delegate.addClass(b,g)}removeClass(b,g){this.delegate.removeClass(b,g)}setStyle(b,g,M,z){this.delegate.setStyle(b,g,M,z)}removeStyle(b,g,M){this.delegate.removeStyle(b,g,M)}setProperty(b,g,M){"@"==g.charAt(0)&&g==as?this.disableAnimations(b,!!M):this.delegate.setProperty(b,g,M)}setValue(b,g){this.delegate.setValue(b,g)}listen(b,g,M){return this.delegate.listen(b,g,M)}disableAnimations(b,g){this.engine.disableAnimations(b,g)}}class Oo extends sa{constructor(b,g,M,z,le){super(g,M,z,le),this.factory=b,this.namespaceId=g}setProperty(b,g,M){"@"==g.charAt(0)?"."==g.charAt(1)&&g==as?this.disableAnimations(b,M=void 0===M||!!M):this.engine.process(this.namespaceId,b,g.slice(1),M):this.delegate.setProperty(b,g,M)}listen(b,g,M){if("@"==g.charAt(0)){const z=function Zs(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(b);let le=g.slice(1),st="";return"@"!=le.charAt(0)&&([le,st]=function cs(U){const b=U.indexOf(".");return[U.substring(0,b),U.slice(b+1)]}(le)),this.engine.listen(this.namespaceId,z,le,st,nt=>{this.factory.scheduleListenerCallback(nt._data||-1,M,nt)})}return this.delegate.listen(b,g,M)}}const cc=[{provide:We._j,useClass:bi},{provide:Vn,useFactory:function Uc(){return new gr}},{provide:be,useClass:(()=>{class U extends be{constructor(g,M,z,le){super(g.body,M,z)}ngOnDestroy(){this.flush()}}return U.\u0275fac=function(g){return new(g||U)(h.LFG(ge.K0),h.LFG(Ei),h.LFG(Vn),h.LFG(h.z2F))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac}),U})()},{provide:h.FYo,useFactory:function _a(U,b,g){return new Wr(U,b,g)},deps:[l.se,be,h.R0b]}],Ra=[{provide:Ei,useFactory:()=>new Ii},{provide:h.QbO,useValue:"BrowserAnimations"},...cc],Cn=[{provide:Ei,useClass:Er},{provide:h.QbO,useValue:"NoopAnimations"},...cc];let Ji=(()=>{class U{static withConfig(g){return{ngModule:U,providers:g.disableAnimations?Cn:Ra}}}return U.\u0275fac=function(g){return new(g||U)},U.\u0275mod=h.oAB({type:U}),U.\u0275inj=h.cJS({providers:Ra,imports:[l.b2]}),U})();var Pa=w(3144);const lc_firebaseConfig={apiKey:"AIzaSyCBFiqylI83kkUooQ5SKoyaA4AD4cJtW2I",authDomain:"socialmediafeed-72afc.firebaseapp.com",projectId:"socialmediafeed-72afc",storageBucket:"socialmediafeed-72afc.appspot.com",messagingSenderId:"708393762131",appId:"1:708393762131:web:6d451bd3a6d6149c4d35a6",measurementId:"G-VF9CFXKB75"};var Mn=w(2011),vr=w(8854);function Ms(U,b){1&U&&(h.TgZ(0,"div")(1,"small",6),h._uU(2,"Nickname field cannot be empty"),h.qZA()())}function ao(U,b){1&U&&(h.TgZ(0,"div")(1,"small",6),h._uU(2,"Description field cannot be empty"),h.qZA()())}const ti=function(U,b){return{active:U,idle:b}};let ai=(()=>{class U{constructor(g){this.userDataService=g,this.profileForm=new oe.cw({nickname:new oe.NI("",[oe.kI.required]),description:new oe.NI("",[oe.kI.required])})}onContinueClick(){const g=this.profileForm.get("nickname"),M=this.profileForm.get("description");g?.markAsTouched(),M?.markAsTouched(),g&&M&&!g.errors&&!M.errors&&(this.userDataService.createUser(g.value,M.value),this.profileForm.reset())}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(J.M))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:7,consts:[[1,"profile",3,"ngClass"],[1,"profile-content",3,"formGroup","submit"],["formControlName","nickname","placeholder","Nickname"],[4,"ngIf"],["formControlName","description","placeholder","Description"],["mat-flat-button","","color","warn","type","submit"],[1,"error"]],template:function(g,M){if(1&g&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("submit",function(){return M.onContinueClick()}),h._UZ(2,"input",2),h.YNc(3,Ms,3,0,"div",3),h._UZ(4,"textarea",4),h.YNc(5,ao,3,0,"div",3),h.TgZ(6,"button",5),h._uU(7,"Continue"),h.qZA()()()),2&g){let z,le;h.Q6J("ngClass",h.WLB(4,ti,M.show,!M.show)),h.xp6(1),h.Q6J("formGroup",M.profileForm),h.xp6(2),h.Q6J("ngIf",(null==(z=M.profileForm.get("nickname"))?null:z.invalid)&&(null==(z=M.profileForm.get("nickname"))?null:z.touched)),h.xp6(2),h.Q6J("ngIf",(null==(le=M.profileForm.get("description"))?null:le.invalid)&&(null==(le=M.profileForm.get("description"))?null:le.touched))}},dependencies:[ge.mk,ge.O5,oe._Y,oe.Fj,oe.JJ,oe.JL,oe.sg,oe.u,He.lW],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;right:0;height:100vh;background-color:#313131;z-index:9;transition-duration:.5s;overflow:hidden}.profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box}.profile-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-top:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}"]}),U})();var ls=w(8099),Bn=w(9383);function nn(U,b){1&U&&(h.TgZ(0,"mat-icon",9),h._uU(1,"notifications_active "),h.qZA())}function En(U,b){1&U&&(h.TgZ(0,"mat-icon"),h._uU(1," notifications_none "),h.qZA())}function Ai(U,b){1&U&&(h.TgZ(0,"mat-icon",9),h._uU(1," fiber_manual_record "),h.qZA())}function Vc(U,b){1&U&&(h.TgZ(0,"mat-icon",9),h._uU(1," fiber_manual_record "),h.qZA())}let Ro=(()=>{class U{constructor(g,M,z,le){this.dialog=g,this.userDataService=M,this.notificationsService=z,this.router=le,this.notificationFriendsLength=0,this.notificationLikesLength=0}ngOnInit(){this.delayUntilUserInfo()}ngOnDestroy(){this.notificationFriendsSubscription&&this.notificationFriendsSubscription.unsubscribe()}delayUntilUserInfo(){var g=this;return(0,dt.Z)(function*(){g.userDataService.userInfo?.userId?(g.notificationFriendsSubscription=g.notificationsService.getYourNotificationFriends().subscribe(M=>g.notificationFriendsLength=M.length),g.notificationsService.getYourNotificationLikes().subscribe(M=>g.notificationLikesLength=M.length)):(yield new Promise(M=>{setTimeout(M,100)}),yield g.delayUntilUserInfo())})()}changeNicknameClick(){this.dialog.open(ls.f,{data:{info:"Change Nickname",message:`Your current nickname - ${this.userDataService.userInfo.publicName}`,field:"publicName"}})}changeDescriptionClick(){this.dialog.open(ls.f,{data:{info:"Change Description",message:`Your current description - ${this.userDataService.userInfo.description}`,field:"description"}})}deleteAccountClick(){this.dialog.open(ls.f,{data:{info:"Delete account",message:"Are you sure you want to delete your account? All your posts will be deleted",yesButton:!0}})}homaPageClick(){this.router.navigate(["userPage"])}newsClick(){this.router.navigate(["postFeed"])}friendsClick(){this.router.navigate(["yourFriends"])}newFriendsClick(){this.router.navigate(["yourFriends",{selectedIndex:1}])}newLikesClick(){this.router.navigate(["informationLikes"])}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(fe.uw),h.Y36(J.M),h.Y36(Ke.T),h.Y36(C.F0))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-sidebar"]],decls:41,vars:8,consts:[[1,"sidebar"],["color","primary",3,"click"],["color","primary",3,"matMenuTriggerFor"],["color","warn",4,"ngIf"],[4,"ngIf"],["menuNotifications","matMenu"],["mat-menu-item","",3,"click"],["menuSettings","matMenu"],["mat-menu-item","",1,"delete",3,"click"],["color","warn"]],template:function(g,M){if(1&g&&(h.TgZ(0,"div",0)(1,"mat-toolbar",1),h.NdJ("click",function(){return M.homaPageClick()}),h.TgZ(2,"mat-icon"),h._uU(3,"home"),h.qZA(),h._uU(4," Home "),h.qZA(),h.TgZ(5,"mat-toolbar",1),h.NdJ("click",function(){return M.newsClick()}),h.TgZ(6,"mat-icon"),h._uU(7,"newspaper"),h.qZA(),h._uU(8," News "),h.qZA(),h.TgZ(9,"mat-toolbar",1),h.NdJ("click",function(){return M.friendsClick()}),h.TgZ(10,"mat-icon"),h._uU(11,"people"),h.qZA(),h._uU(12," Friends "),h.qZA(),h.TgZ(13,"mat-toolbar",2),h.YNc(14,nn,2,0,"mat-icon",3),h.YNc(15,En,2,0,"mat-icon",4),h._uU(16," Notifications "),h.qZA(),h.TgZ(17,"mat-toolbar",2)(18,"mat-icon"),h._uU(19,"settings"),h.qZA(),h._uU(20," Settings "),h.qZA(),h.TgZ(21,"mat-menu",null,5)(23,"button",6),h.NdJ("click",function(){return M.newFriendsClick()}),h.YNc(24,Ai,2,0,"mat-icon",3),h._uU(25," New friends "),h.ynx(26),h._uU(27),h.BQk(),h.qZA(),h.TgZ(28,"button",6),h.NdJ("click",function(){return M.newLikesClick()}),h.YNc(29,Vc,2,0,"mat-icon",3),h._uU(30," New likes "),h.ynx(31),h._uU(32),h.BQk(),h.qZA()(),h.TgZ(33,"mat-menu",null,7)(35,"button",6),h.NdJ("click",function(){return M.changeNicknameClick()}),h._uU(36," Change nickname "),h.qZA(),h.TgZ(37,"button",6),h.NdJ("click",function(){return M.changeDescriptionClick()}),h._uU(38," Change description "),h.qZA(),h.TgZ(39,"button",8),h.NdJ("click",function(){return M.deleteAccountClick()}),h._uU(40," Delete account "),h.qZA()()()),2&g){const z=h.MAs(22),le=h.MAs(34);h.xp6(13),h.Q6J("matMenuTriggerFor",z),h.xp6(1),h.Q6J("ngIf",M.notificationFriendsLength||M.notificationLikesLength),h.xp6(1),h.Q6J("ngIf",!M.notificationFriendsLength&&!M.notificationLikesLength),h.xp6(2),h.Q6J("matMenuTriggerFor",le),h.xp6(7),h.Q6J("ngIf",M.notificationFriendsLength),h.xp6(3),h.hij("(",M.notificationFriendsLength,")"),h.xp6(2),h.Q6J("ngIf",M.notificationLikesLength),h.xp6(3),h.hij("(",M.notificationLikesLength,")")}},dependencies:[ge.O5,yt.Hw,Bn.Ye,ln.VK,ln.OP,ln.p6],styles:[".sidebar[_ngcontent-%COMP%]{position:absolute;top:5em;left:0;height:5em;z-index:10}.mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;cursor:pointer;background-color:#0111a1cc}.mat-toolbar[_ngcontent-%COMP%]:hover{background-color:#0017c7cc}.mat-icon[_ngcontent-%COMP%]{margin-right:10px}.mdc-list-item[_ngcontent-%COMP%]{width:200px;background-color:#fff}  .mat-mdc-menu-content{padding:0!important}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}"]}),U})();function jc(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"div",8),h.NdJ("click",function(){h.CHM(g);const z=h.oxw(2);return h.KtG(z.onLoginClick())}),h._uU(1," Login "),h.qZA()}}function va(U,b){if(1&U&&(h.TgZ(0,"div",9),h._uU(1),h.qZA()),2&U){const g=h.oxw(2);h.xp6(1),h.hij(" Hello, ",g.getUserName()," ")}}function Ma(U,b){if(1&U){const g=h.EpF();h.TgZ(0,"div",8),h.NdJ("click",function(){h.CHM(g);const z=h.oxw(2);return h.KtG(z.onLogoutClick())}),h._uU(1," Logout "),h.qZA()}}function dc(U,b){if(1&U&&(h.TgZ(0,"div",5),h.YNc(1,jc,2,0,"div",6),h.YNc(2,va,2,1,"div",7),h.YNc(3,Ma,2,0,"div",6),h.qZA()),2&U){const g=h.oxw();h.xp6(1),h.Q6J("ngIf",!g.getIsLoggedIn()),h.xp6(1),h.Q6J("ngIf",g.getIsLoggedIn()&&g.getUserHasProfile()),h.xp6(1),h.Q6J("ngIf",g.getIsLoggedIn())}}let Fa=(()=>{class U{constructor(g,M,z,le){this.userDataService=g,this.loginSheet=M,this.afAuth=z,this.router=le}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}getUserName(){return this.userDataService.userInfo?.publicName||""}onLoginClick(){this.loginSheet.open(Be)}onLogoutClick(){this.router.navigate([""]),this.userDataService.resetUserName(),this.afAuth.signOut()}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(J.M),h.Y36(Ce.ch),h.Y36(re.zQ),h.Y36(C.F0))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"nav-bar"],[1,"nav-bar-content"],[1,"nav-bar-left"],["target","_blank","href","https://www.instagram.com/vlladyaa/",1,"nav-bar-items","link"],["class","nav-bar-right",4,"ngIf"],[1,"nav-bar-right"],["class","nav-bar-items link",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[1,"nav-bar-items","link",3,"click"],[1,"nav-bar-items"]],template:function(g,M){1&g&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),h._uU(4,"Instagram"),h.qZA()(),h.YNc(5,dc,4,3,"div",4),h.qZA()()),2&g&&(h.xp6(5),h.Q6J("ngIf",void 0!==M.getIsLoggedIn()))},dependencies:[ge.O5],styles:[".nav-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#00000080;height:5em;z-index:10}.nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}.nav-bar-left[_ngcontent-%COMP%], .nav-bar-right[_ngcontent-%COMP%]{opacity:1;display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;color:#fff;font-weight:900}.link[_ngcontent-%COMP%]{outline:none;text-decoration:none}.link[_ngcontent-%COMP%]:link, .link[_ngcontent-%COMP%]:visited{color:#fff}.link[_ngcontent-%COMP%]:hover{border-bottom:1px solid;background:#b4b4b4;padding:5px;border-radius:1em}.link[_ngcontent-%COMP%]:active{background:#ec6802;color:#fff}.nav-bar-left[_ngcontent-%COMP%]{font-size:1.5em}.nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),U})();function $a(U,b){1&U&&h._UZ(0,"app-sidebar")}let Ga=(()=>{class U{constructor(g,M){this.userDataService=g,this.location=M,this.title="SocialMediaProject",this.userDataService.checkLoginStatus()}checkUrl(){const g=this.location.path();return g.includes("postFeed")||g.includes("userPage")||g.includes("friendPage")||g.includes("yourFriends")||g.includes("informationLikes")}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}}return U.\u0275fac=function(g){return new(g||U)(h.Y36(J.M),h.Y36(ge.Ye))},U.\u0275cmp=h.Xpm({type:U,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"show"]],template:function(g,M){1&g&&(h._UZ(0,"app-navbar"),h.YNc(1,$a,1,0,"app-sidebar",0),h._UZ(2,"router-outlet")(3,"app-profile",1)),2&g&&(h.xp6(1),h.Q6J("ngIf",M.checkUrl()),h.xp6(2),h.Q6J("show",M.getIsLoggedIn()&&!M.getUserHasProfile()))},dependencies:[ge.O5,C.lC,ai,Ro,Fa]}),U})(),Ec=(()=>{class U{}return U.\u0275fac=function(g){return new(g||U)},U.\u0275mod=h.oAB({type:U,bootstrap:[Ga]}),U.\u0275inj=h.cJS({providers:[J.M,Ot.n],imports:[l.b2,Qt,Ji,Mn.hO.initializeApp(lc_firebaseConfig),ot.yb,Qe.TE,oe.UX,Pa.JF,vr.q]}),U})();l.q6().bootstrapModule(Ec).catch(U=>console.error(U))},1135:(pn,rt,w)=>{w.d(rt,{X:()=>C});var l=w(7579);class C extends l.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const we=super._subscribe(J);return!we.closed&&J.next(this._value),we}getValue(){const{hasError:J,thrownError:we,_value:oe}=this;if(J)throw we;return this._throwIfClosed(),oe}next(J){super.next(this._value=J)}}},9751:(pn,rt,w)=>{w.d(rt,{y:()=>_e});var l=w(930),C=w(727),h=w(8822),J=w(9635),we=w(2416),oe=w(576),W=w(2806);let _e=(()=>{class ge{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const at=new ge;return at.source=this,at.operator=Pe,at}subscribe(Pe,at,Ge){const Xe=function fe(ge){return ge&&ge instanceof l.Lv||function re(ge){return ge&&(0,oe.m)(ge.next)&&(0,oe.m)(ge.error)&&(0,oe.m)(ge.complete)}(ge)&&(0,C.Nn)(ge)}(Pe)?Pe:new l.Hp(Pe,at,Ge);return(0,W.x)(()=>{const{operator:Ve,source:Ae}=this;Xe.add(Ve?Ve.call(Xe,Ae):Ae?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(at){Pe.error(at)}}forEach(Pe,at){return new(at=Ce(at))((Ge,Xe)=>{const Ve=new l.Hp({next:Ae=>{try{Pe(Ae)}catch(vt){Xe(vt),Ve.unsubscribe()}},error:Xe,complete:Ge});this.subscribe(Ve)})}_subscribe(Pe){var at;return null===(at=this.source)||void 0===at?void 0:at.subscribe(Pe)}[h.L](){return this}pipe(...Pe){return(0,J.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ce(Pe))((at,Ge)=>{let Xe;this.subscribe(Ve=>Xe=Ve,Ve=>Ge(Ve),()=>at(Xe))})}}return ge.create=He=>new ge(He),ge})();function Ce(ge){var He;return null!==(He=ge??we.config.Promise)&&void 0!==He?He:Promise}},7579:(pn,rt,w)=>{w.d(rt,{x:()=>W});var l=w(9751),C=w(727);const J=(0,w(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=w(8737),oe=w(2806);let W=(()=>{class Ce extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const ge=new _e(this,this);return ge.operator=fe,ge}_throwIfClosed(){if(this.closed)throw new J}next(fe){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(fe)}})}error(fe){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:ge}=this;for(;ge.length;)ge.shift().error(fe)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:ge,isStopped:He,observers:Pe}=this;return ge||He?C.Lc:(this.currentObservers=null,Pe.push(fe),new C.w0(()=>{this.currentObservers=null,(0,we.P)(Pe,fe)}))}_checkFinalizedStatuses(fe){const{hasError:ge,thrownError:He,isStopped:Pe}=this;ge?fe.error(He):Pe&&fe.complete()}asObservable(){const fe=new l.y;return fe.source=this,fe}}return Ce.create=(re,fe)=>new _e(re,fe),Ce})();class _e extends W{constructor(re,fe){super(),this.destination=re,this.source=fe}next(re){var fe,ge;null===(ge=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===ge||ge.call(fe,re)}error(re){var fe,ge;null===(ge=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===ge||ge.call(fe,re)}complete(){var re,fe;null===(fe=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===fe||fe.call(re)}_subscribe(re){var fe,ge;return null!==(ge=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(re))&&void 0!==ge?ge:C.Lc}}},930:(pn,rt,w)=>{w.d(rt,{Hp:()=>Ge,Lv:()=>ge});var l=w(576),C=w(727),h=w(2416),J=w(7849),we=w(5032);const oe=Ce("C",void 0,void 0);function Ce(me,Ee,he){return{kind:me,value:Ee,error:he}}var re=w(3410),fe=w(2806);class ge extends C.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,C.Nn)(Ee)&&Ee.add(this)):this.destination=vt}static create(Ee,he,pe){return new Ge(Ee,he,pe)}next(Ee){this.isStopped?Ae(function _e(me){return Ce("N",me,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ae(function W(me){return Ce("E",void 0,me)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ae(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Pe(me,Ee){return He.call(me,Ee)}class at{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:he}=this;if(he.next)try{he.next(Ee)}catch(pe){Xe(pe)}}error(Ee){const{partialObserver:he}=this;if(he.error)try{he.error(Ee)}catch(pe){Xe(pe)}else Xe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(he){Xe(he)}}}class Ge extends ge{constructor(Ee,he,pe){let Ne;if(super(),(0,l.m)(Ee)||!Ee)Ne={next:Ee??void 0,error:he??void 0,complete:pe??void 0};else{let Y;this&&h.config.useDeprecatedNextContext?(Y=Object.create(Ee),Y.unsubscribe=()=>this.unsubscribe(),Ne={next:Ee.next&&Pe(Ee.next,Y),error:Ee.error&&Pe(Ee.error,Y),complete:Ee.complete&&Pe(Ee.complete,Y)}):Ne=Ee}this.destination=new at(Ne)}}function Xe(me){h.config.useDeprecatedSynchronousErrorHandling?(0,fe.O)(me):(0,J.h)(me)}function Ae(me,Ee){const{onStoppedNotification:he}=h.config;he&&re.z.setTimeout(()=>he(me,Ee))}const vt={closed:!0,next:we.Z,error:function Ve(me){throw me},complete:we.Z}},727:(pn,rt,w)=>{w.d(rt,{Lc:()=>oe,w0:()=>we,Nn:()=>W});var l=w(576);const h=(0,w(3888).d)(Ce=>function(fe){Ce(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((ge,He)=>`${He+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var J=w(8737);class we{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Pe of fe)Pe.remove(this);else fe.remove(this);const{initialTeardown:ge}=this;if((0,l.m)(ge))try{ge()}catch(Pe){re=Pe instanceof h?Pe.errors:[Pe]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Pe of He)try{_e(Pe)}catch(at){re=re??[],at instanceof h?re=[...re,...at.errors]:re.push(at)}}if(re)throw new h(re)}}add(re){var fe;if(re&&re!==this)if(this.closed)_e(re);else{if(re instanceof we){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(re)}}_hasParent(re){const{_parentage:fe}=this;return fe===re||Array.isArray(fe)&&fe.includes(re)}_addParent(re){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(re),fe):fe?[fe,re]:re}_removeParent(re){const{_parentage:fe}=this;fe===re?this._parentage=null:Array.isArray(fe)&&(0,J.P)(fe,re)}remove(re){const{_finalizers:fe}=this;fe&&(0,J.P)(fe,re),re instanceof we&&re._removeParent(this)}}we.EMPTY=(()=>{const Ce=new we;return Ce.closed=!0,Ce})();const oe=we.EMPTY;function W(Ce){return Ce instanceof we||Ce&&"closed"in Ce&&(0,l.m)(Ce.remove)&&(0,l.m)(Ce.add)&&(0,l.m)(Ce.unsubscribe)}function _e(Ce){(0,l.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(pn,rt,w)=>{w.d(rt,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(pn,rt,w)=>{w.d(rt,{a:()=>re});var l=w(9751),C=w(4742),h=w(8996),J=w(4671),we=w(3268),oe=w(3269),W=w(1810),_e=w(5403),Ce=w(9672);function re(...He){const Pe=(0,oe.yG)(He),at=(0,oe.jO)(He),{args:Ge,keys:Xe}=(0,C.D)(He);if(0===Ge.length)return(0,h.D)([],Pe);const Ve=new l.y(function fe(He,Pe,at=J.y){return Ge=>{ge(Pe,()=>{const{length:Xe}=He,Ve=new Array(Xe);let Ae=Xe,vt=Xe;for(let me=0;me<Xe;me++)ge(Pe,()=>{const Ee=(0,h.D)(He[me],Pe);let he=!1;Ee.subscribe((0,_e.x)(Ge,pe=>{Ve[me]=pe,he||(he=!0,vt--),vt||Ge.next(at(Ve.slice()))},()=>{--Ae||Ge.complete()}))},Ge)},Ge)}}(Ge,Pe,Xe?Ae=>(0,W.n)(Xe,Ae):J.y));return at?Ve.pipe((0,we.Z)(at)):Ve}function ge(He,Pe,at){He?(0,Ce.f)(at,He,Pe):Pe()}},7272:(pn,rt,w)=>{w.d(rt,{z:()=>we});var l=w(8189),h=w(3269),J=w(8996);function we(...oe){return function C(){return(0,l.J)(1)}()((0,J.D)(oe,(0,h.yG)(oe)))}},9770:(pn,rt,w)=>{w.d(rt,{P:()=>h});var l=w(9751),C=w(8421);function h(J){return new l.y(we=>{(0,C.Xf)(J()).subscribe(we)})}},515:(pn,rt,w)=>{w.d(rt,{E:()=>C});const C=new(w(9751).y)(we=>we.complete())},4128:(pn,rt,w)=>{w.d(rt,{D:()=>_e});var l=w(9751),C=w(4742),h=w(8421),J=w(3269),we=w(5403),oe=w(3268),W=w(1810);function _e(...Ce){const re=(0,J.jO)(Ce),{args:fe,keys:ge}=(0,C.D)(Ce),He=new l.y(Pe=>{const{length:at}=fe;if(!at)return void Pe.complete();const Ge=new Array(at);let Xe=at,Ve=at;for(let Ae=0;Ae<at;Ae++){let vt=!1;(0,h.Xf)(fe[Ae]).subscribe((0,we.x)(Pe,me=>{vt||(vt=!0,Ve--),Ge[Ae]=me},()=>Xe--,void 0,()=>{(!Xe||!vt)&&(Ve||Pe.next(ge?(0,W.n)(ge,Ge):Ge),Pe.complete())}))}});return re?He.pipe((0,oe.Z)(re)):He}},8996:(pn,rt,w)=>{w.d(rt,{D:()=>Ee});var l=w(8421),C=w(5363),h=w(9468),oe=w(9751),_e=w(2202),Ce=w(576),re=w(9672);function ge(he,pe){if(!he)throw new Error("Iterable cannot be null");return new oe.y(Ne=>{(0,re.f)(Ne,pe,()=>{const Y=he[Symbol.asyncIterator]();(0,re.f)(Ne,pe,()=>{Y.next().then(Ye=>{Ye.done?Ne.complete():Ne.next(Ye.value)})},0,!0)})})}var He=w(3670),Pe=w(8239),at=w(1144),Ge=w(6495),Xe=w(2206),Ve=w(4532),Ae=w(3260);function Ee(he,pe){return pe?function me(he,pe){if(null!=he){if((0,He.c)(he))return function J(he,pe){return(0,l.Xf)(he).pipe((0,h.R)(pe),(0,C.Q)(pe))}(he,pe);if((0,at.z)(he))return function W(he,pe){return new oe.y(Ne=>{let Y=0;return pe.schedule(function(){Y===he.length?Ne.complete():(Ne.next(he[Y++]),Ne.closed||this.schedule())})})}(he,pe);if((0,Pe.t)(he))return function we(he,pe){return(0,l.Xf)(he).pipe((0,h.R)(pe),(0,C.Q)(pe))}(he,pe);if((0,Xe.D)(he))return ge(he,pe);if((0,Ge.T)(he))return function fe(he,pe){return new oe.y(Ne=>{let Y;return(0,re.f)(Ne,pe,()=>{Y=he[_e.h](),(0,re.f)(Ne,pe,()=>{let Ye,Be;try{({value:Ye,done:Be}=Y.next())}catch(qe){return void Ne.error(qe)}Be?Ne.complete():Ne.next(Ye)},0,!0)}),()=>(0,Ce.m)(Y?.return)&&Y.return()})}(he,pe);if((0,Ae.L)(he))return function vt(he,pe){return ge((0,Ae.Q)(he),pe)}(he,pe)}throw(0,Ve.z)(he)}(he,pe):(0,l.Xf)(he)}},4968:(pn,rt,w)=>{w.d(rt,{R:()=>re});var l=w(8421),C=w(9751),h=w(5577),J=w(1144),we=w(576),oe=w(3268);const W=["addListener","removeListener"],_e=["addEventListener","removeEventListener"],Ce=["on","off"];function re(at,Ge,Xe,Ve){if((0,we.m)(Xe)&&(Ve=Xe,Xe=void 0),Ve)return re(at,Ge,Xe).pipe((0,oe.Z)(Ve));const[Ae,vt]=function Pe(at){return(0,we.m)(at.addEventListener)&&(0,we.m)(at.removeEventListener)}(at)?_e.map(me=>Ee=>at[me](Ge,Ee,Xe)):function ge(at){return(0,we.m)(at.addListener)&&(0,we.m)(at.removeListener)}(at)?W.map(fe(at,Ge)):function He(at){return(0,we.m)(at.on)&&(0,we.m)(at.off)}(at)?Ce.map(fe(at,Ge)):[];if(!Ae&&(0,J.z)(at))return(0,h.z)(me=>re(me,Ge,Xe))((0,l.Xf)(at));if(!Ae)throw new TypeError("Invalid event target");return new C.y(me=>{const Ee=(...he)=>me.next(1<he.length?he:he[0]);return Ae(Ee),()=>vt(Ee)})}function fe(at,Ge){return Xe=>Ve=>at[Xe](Ge,Ve)}},8421:(pn,rt,w)=>{w.d(rt,{Xf:()=>He});var l=w(7582),C=w(1144),h=w(8239),J=w(9751),we=w(3670),oe=w(2206),W=w(4532),_e=w(6495),Ce=w(3260),re=w(576),fe=w(7849),ge=w(8822);function He(me){if(me instanceof J.y)return me;if(null!=me){if((0,we.c)(me))return function Pe(me){return new J.y(Ee=>{const he=me[ge.L]();if((0,re.m)(he.subscribe))return he.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(me);if((0,C.z)(me))return function at(me){return new J.y(Ee=>{for(let he=0;he<me.length&&!Ee.closed;he++)Ee.next(me[he]);Ee.complete()})}(me);if((0,h.t)(me))return function Ge(me){return new J.y(Ee=>{me.then(he=>{Ee.closed||(Ee.next(he),Ee.complete())},he=>Ee.error(he)).then(null,fe.h)})}(me);if((0,oe.D)(me))return Ve(me);if((0,_e.T)(me))return function Xe(me){return new J.y(Ee=>{for(const he of me)if(Ee.next(he),Ee.closed)return;Ee.complete()})}(me);if((0,Ce.L)(me))return function Ae(me){return Ve((0,Ce.Q)(me))}(me)}throw(0,W.z)(me)}function Ve(me){return new J.y(Ee=>{(function vt(me,Ee){var he,pe,Ne,Y;return(0,l.mG)(this,void 0,void 0,function*(){try{for(he=(0,l.KL)(me);!(pe=yield he.next()).done;)if(Ee.next(pe.value),Ee.closed)return}catch(Ye){Ne={error:Ye}}finally{try{pe&&!pe.done&&(Y=he.return)&&(yield Y.call(he))}finally{if(Ne)throw Ne.error}}Ee.complete()})})(me,Ee).catch(he=>Ee.error(he))})}},6451:(pn,rt,w)=>{w.d(rt,{T:()=>oe});var l=w(8189),C=w(8421),h=w(515),J=w(3269),we=w(8996);function oe(...W){const _e=(0,J.yG)(W),Ce=(0,J._6)(W,1/0),re=W;return re.length?1===re.length?(0,C.Xf)(re[0]):(0,l.J)(Ce)((0,we.D)(re,_e)):h.E}},9646:(pn,rt,w)=>{w.d(rt,{of:()=>h});var l=w(3269),C=w(8996);function h(...J){const we=(0,l.yG)(J);return(0,C.D)(J,we)}},2843:(pn,rt,w)=>{w.d(rt,{_:()=>h});var l=w(9751),C=w(576);function h(J,we){const oe=(0,C.m)(J)?J:()=>J,W=_e=>_e.error(oe());return new l.y(we?_e=>we.schedule(W,0,_e):W)}},5963:(pn,rt,w)=>{w.d(rt,{H:()=>we});var l=w(9751),C=w(4986),h=w(3532);function we(oe=0,W,_e=C.P){let Ce=-1;return null!=W&&((0,h.K)(W)?_e=W:Ce=W),new l.y(re=>{let fe=function J(oe){return oe instanceof Date&&!isNaN(oe)}(oe)?+oe-_e.now():oe;fe<0&&(fe=0);let ge=0;return _e.schedule(function(){re.closed||(re.next(ge++),0<=Ce?this.schedule(void 0,Ce):re.complete())},fe)})}},5403:(pn,rt,w)=>{w.d(rt,{x:()=>C});var l=w(930);function C(J,we,oe,W,_e){return new h(J,we,oe,W,_e)}class h extends l.Lv{constructor(we,oe,W,_e,Ce,re){super(we),this.onFinalize=Ce,this.shouldUnsubscribe=re,this._next=oe?function(fe){try{oe(fe)}catch(ge){we.error(ge)}}:super._next,this._error=_e?function(fe){try{_e(fe)}catch(ge){we.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(fe){we.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},262:(pn,rt,w)=>{w.d(rt,{K:()=>J});var l=w(8421),C=w(5403),h=w(4482);function J(we){return(0,h.e)((oe,W)=>{let re,_e=null,Ce=!1;_e=oe.subscribe((0,C.x)(W,void 0,void 0,fe=>{re=(0,l.Xf)(we(fe,J(we)(oe))),_e?(_e.unsubscribe(),_e=null,re.subscribe(W)):Ce=!0})),Ce&&(_e.unsubscribe(),_e=null,re.subscribe(W))})}},4351:(pn,rt,w)=>{w.d(rt,{b:()=>h});var l=w(5577),C=w(576);function h(J,we){return(0,C.m)(we)?(0,l.z)(J,we,1):(0,l.z)(J,1)}},8372:(pn,rt,w)=>{w.d(rt,{b:()=>J});var l=w(4986),C=w(4482),h=w(5403);function J(we,oe=l.z){return(0,C.e)((W,_e)=>{let Ce=null,re=null,fe=null;const ge=()=>{if(Ce){Ce.unsubscribe(),Ce=null;const Pe=re;re=null,_e.next(Pe)}};function He(){const Pe=fe+we,at=oe.now();if(at<Pe)return Ce=this.schedule(void 0,Pe-at),void _e.add(Ce);ge()}W.subscribe((0,h.x)(_e,Pe=>{re=Pe,fe=oe.now(),Ce||(Ce=oe.schedule(He,we),_e.add(Ce))},()=>{ge(),_e.complete()},void 0,()=>{re=Ce=null}))})}},6590:(pn,rt,w)=>{w.d(rt,{d:()=>h});var l=w(4482),C=w(5403);function h(J){return(0,l.e)((we,oe)=>{let W=!1;we.subscribe((0,C.x)(oe,_e=>{W=!0,oe.next(_e)},()=>{W||oe.next(J),oe.complete()}))})}},1884:(pn,rt,w)=>{w.d(rt,{x:()=>J});var l=w(4671),C=w(4482),h=w(5403);function J(oe,W=l.y){return oe=oe??we,(0,C.e)((_e,Ce)=>{let re,fe=!0;_e.subscribe((0,h.x)(Ce,ge=>{const He=W(ge);(fe||!oe(re,He))&&(fe=!1,re=He,Ce.next(ge))}))})}function we(oe,W){return oe===W}},9300:(pn,rt,w)=>{w.d(rt,{h:()=>h});var l=w(4482),C=w(5403);function h(J,we){return(0,l.e)((oe,W)=>{let _e=0;oe.subscribe((0,C.x)(W,Ce=>J.call(we,Ce,_e++)&&W.next(Ce)))})}},8746:(pn,rt,w)=>{w.d(rt,{x:()=>C});var l=w(4482);function C(h){return(0,l.e)((J,we)=>{try{J.subscribe(we)}finally{we.add(h)}})}},590:(pn,rt,w)=>{w.d(rt,{P:()=>W});var l=w(6805),C=w(9300),h=w(5698),J=w(6590),we=w(8068),oe=w(4671);function W(_e,Ce){const re=arguments.length>=2;return fe=>fe.pipe(_e?(0,C.h)((ge,He)=>_e(ge,He,fe)):oe.y,(0,h.q)(1),re?(0,J.d)(Ce):(0,we.T)(()=>new l.K))}},4004:(pn,rt,w)=>{w.d(rt,{U:()=>h});var l=w(4482),C=w(5403);function h(J,we){return(0,l.e)((oe,W)=>{let _e=0;oe.subscribe((0,C.x)(W,Ce=>{W.next(J.call(we,Ce,_e++))}))})}},9718:(pn,rt,w)=>{w.d(rt,{h:()=>C});var l=w(4004);function C(h){return(0,l.U)(()=>h)}},8189:(pn,rt,w)=>{w.d(rt,{J:()=>h});var l=w(5577),C=w(4671);function h(J=1/0){return(0,l.z)(C.y,J)}},5577:(pn,rt,w)=>{w.d(rt,{z:()=>_e});var l=w(4004),C=w(8421),h=w(4482),J=w(9672),we=w(5403),W=w(576);function _e(Ce,re,fe=1/0){return(0,W.m)(re)?_e((ge,He)=>(0,l.U)((Pe,at)=>re(ge,Pe,He,at))((0,C.Xf)(Ce(ge,He))),fe):("number"==typeof re&&(fe=re),(0,h.e)((ge,He)=>function oe(Ce,re,fe,ge,He,Pe,at,Ge){const Xe=[];let Ve=0,Ae=0,vt=!1;const me=()=>{vt&&!Xe.length&&!Ve&&re.complete()},Ee=pe=>Ve<ge?he(pe):Xe.push(pe),he=pe=>{Pe&&re.next(pe),Ve++;let Ne=!1;(0,C.Xf)(fe(pe,Ae++)).subscribe((0,we.x)(re,Y=>{He?.(Y),Pe?Ee(Y):re.next(Y)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Ve--;Xe.length&&Ve<ge;){const Y=Xe.shift();at?(0,J.f)(re,at,()=>he(Y)):he(Y)}me()}catch(Y){re.error(Y)}}))};return Ce.subscribe((0,we.x)(re,Ee,()=>{vt=!0,me()})),()=>{Ge?.()}}(ge,He,Ce,fe)))}},5363:(pn,rt,w)=>{w.d(rt,{Q:()=>J});var l=w(9672),C=w(4482),h=w(5403);function J(we,oe=0){return(0,C.e)((W,_e)=>{W.subscribe((0,h.x)(_e,Ce=>(0,l.f)(_e,we,()=>_e.next(Ce),oe),()=>(0,l.f)(_e,we,()=>_e.complete(),oe),Ce=>(0,l.f)(_e,we,()=>_e.error(Ce),oe)))})}},5026:(pn,rt,w)=>{w.d(rt,{R:()=>J});var l=w(4482),C=w(5403);function J(we,oe){return(0,l.e)(function h(we,oe,W,_e,Ce){return(re,fe)=>{let ge=W,He=oe,Pe=0;re.subscribe((0,C.x)(fe,at=>{const Ge=Pe++;He=ge?we(He,at,Ge):(ge=!0,at),_e&&fe.next(He)},Ce&&(()=>{ge&&fe.next(He),fe.complete()})))}}(we,oe,arguments.length>=2,!0))}},3099:(pn,rt,w)=>{w.d(rt,{B:()=>we});var l=w(8421),C=w(7579),h=w(930),J=w(4482);function we(W={}){const{connector:_e=(()=>new C.x),resetOnError:Ce=!0,resetOnComplete:re=!0,resetOnRefCountZero:fe=!0}=W;return ge=>{let He,Pe,at,Ge=0,Xe=!1,Ve=!1;const Ae=()=>{Pe?.unsubscribe(),Pe=void 0},vt=()=>{Ae(),He=at=void 0,Xe=Ve=!1},me=()=>{const Ee=He;vt(),Ee?.unsubscribe()};return(0,J.e)((Ee,he)=>{Ge++,!Ve&&!Xe&&Ae();const pe=at=at??_e();he.add(()=>{Ge--,0===Ge&&!Ve&&!Xe&&(Pe=oe(me,fe))}),pe.subscribe(he),!He&&Ge>0&&(He=new h.Hp({next:Ne=>pe.next(Ne),error:Ne=>{Ve=!0,Ae(),Pe=oe(vt,Ce,Ne),pe.error(Ne)},complete:()=>{Xe=!0,Ae(),Pe=oe(vt,re),pe.complete()}}),(0,l.Xf)(Ee).subscribe(He))})(ge)}}function oe(W,_e,...Ce){if(!0===_e)return void W();if(!1===_e)return;const re=new h.Hp({next:()=>{re.unsubscribe(),W()}});return(0,l.Xf)(_e(...Ce)).subscribe(re)}},5684:(pn,rt,w)=>{w.d(rt,{T:()=>C});var l=w(9300);function C(h){return(0,l.h)((J,we)=>h<=we)}},8675:(pn,rt,w)=>{w.d(rt,{O:()=>J});var l=w(7272),C=w(3269),h=w(4482);function J(...we){const oe=(0,C.yG)(we);return(0,h.e)((W,_e)=>{(oe?(0,l.z)(we,W,oe):(0,l.z)(we,W)).subscribe(_e)})}},9468:(pn,rt,w)=>{w.d(rt,{R:()=>C});var l=w(4482);function C(h,J=0){return(0,l.e)((we,oe)=>{oe.add(h.schedule(()=>we.subscribe(oe),J))})}},3900:(pn,rt,w)=>{w.d(rt,{w:()=>J});var l=w(8421),C=w(4482),h=w(5403);function J(we,oe){return(0,C.e)((W,_e)=>{let Ce=null,re=0,fe=!1;const ge=()=>fe&&!Ce&&_e.complete();W.subscribe((0,h.x)(_e,He=>{Ce?.unsubscribe();let Pe=0;const at=re++;(0,l.Xf)(we(He,at)).subscribe(Ce=(0,h.x)(_e,Ge=>_e.next(oe?oe(He,Ge,at,Pe++):Ge),()=>{Ce=null,ge()}))},()=>{fe=!0,ge()}))})}},5698:(pn,rt,w)=>{w.d(rt,{q:()=>J});var l=w(515),C=w(4482),h=w(5403);function J(we){return we<=0?()=>l.E:(0,C.e)((oe,W)=>{let _e=0;oe.subscribe((0,h.x)(W,Ce=>{++_e<=we&&(W.next(Ce),we<=_e&&W.complete())}))})}},2722:(pn,rt,w)=>{w.d(rt,{R:()=>we});var l=w(4482),C=w(5403),h=w(8421),J=w(5032);function we(oe){return(0,l.e)((W,_e)=>{(0,h.Xf)(oe).subscribe((0,C.x)(_e,()=>_e.complete(),J.Z)),!_e.closed&&W.subscribe(_e)})}},8505:(pn,rt,w)=>{w.d(rt,{b:()=>we});var l=w(576),C=w(4482),h=w(5403),J=w(4671);function we(oe,W,_e){const Ce=(0,l.m)(oe)||W||_e?{next:oe,error:W,complete:_e}:oe;return Ce?(0,C.e)((re,fe)=>{var ge;null===(ge=Ce.subscribe)||void 0===ge||ge.call(Ce);let He=!0;re.subscribe((0,h.x)(fe,Pe=>{var at;null===(at=Ce.next)||void 0===at||at.call(Ce,Pe),fe.next(Pe)},()=>{var Pe;He=!1,null===(Pe=Ce.complete)||void 0===Pe||Pe.call(Ce),fe.complete()},Pe=>{var at;He=!1,null===(at=Ce.error)||void 0===at||at.call(Ce,Pe),fe.error(Pe)},()=>{var Pe,at;He&&(null===(Pe=Ce.unsubscribe)||void 0===Pe||Pe.call(Ce)),null===(at=Ce.finalize)||void 0===at||at.call(Ce)}))}):J.y}},8068:(pn,rt,w)=>{w.d(rt,{T:()=>J});var l=w(6805),C=w(4482),h=w(5403);function J(oe=we){return(0,C.e)((W,_e)=>{let Ce=!1;W.subscribe((0,h.x)(_e,re=>{Ce=!0,_e.next(re)},()=>Ce?_e.complete():_e.error(oe())))})}function we(){return new l.K}},4408:(pn,rt,w)=>{w.d(rt,{o:()=>we});var l=w(727);class C extends l.w0{constructor(W,_e){super()}schedule(W,_e=0){return this}}const h={setInterval(oe,W,..._e){const{delegate:Ce}=h;return Ce?.setInterval?Ce.setInterval(oe,W,..._e):setInterval(oe,W,..._e)},clearInterval(oe){const{delegate:W}=h;return(W?.clearInterval||clearInterval)(oe)},delegate:void 0};var J=w(8737);class we extends C{constructor(W,_e){super(W,_e),this.scheduler=W,this.work=_e,this.pending=!1}schedule(W,_e=0){var Ce;if(this.closed)return this;this.state=W;const re=this.id,fe=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(fe,re,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(fe,this.id,_e),this}requestAsyncId(W,_e,Ce=0){return h.setInterval(W.flush.bind(W,this),Ce)}recycleAsyncId(W,_e,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return _e;null!=_e&&h.clearInterval(_e)}execute(W,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(W,_e);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,_e){let re,Ce=!1;try{this.work(W)}catch(fe){Ce=!0,re=fe||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:W,scheduler:_e}=this,{actions:Ce}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(Ce,this),null!=W&&(this.id=this.recycleAsyncId(_e,W,null)),this.delay=null,super.unsubscribe()}}}},7565:(pn,rt,w)=>{w.d(rt,{v:()=>h});var l=w(6063);class C{constructor(we,oe=C.now){this.schedulerActionCtor=we,this.now=oe}schedule(we,oe=0,W){return new this.schedulerActionCtor(this,we).schedule(W,oe)}}C.now=l.l.now;class h extends C{constructor(we,oe=C.now){super(we,oe),this.actions=[],this._active=!1}flush(we){const{actions:oe}=this;if(this._active)return void oe.push(we);let W;this._active=!0;do{if(W=we.execute(we.state,we.delay))break}while(we=oe.shift());if(this._active=!1,W){for(;we=oe.shift();)we.unsubscribe();throw W}}}},3101:(pn,rt,w)=>{w.d(rt,{E:()=>Pe});var l=w(4408);let h,C=1;const J={};function we(Ge){return Ge in J&&(delete J[Ge],!0)}const oe={setImmediate(Ge){const Xe=C++;return J[Xe]=!0,h||(h=Promise.resolve()),h.then(()=>we(Xe)&&Ge()),Xe},clearImmediate(Ge){we(Ge)}},{setImmediate:_e,clearImmediate:Ce}=oe,re={setImmediate(...Ge){const{delegate:Xe}=re;return(Xe?.setImmediate||_e)(...Ge)},clearImmediate(Ge){const{delegate:Xe}=re;return(Xe?.clearImmediate||Ce)(Ge)},delegate:void 0};var ge=w(7565);const Pe=new class He extends ge.v{flush(Xe){this._active=!0;const Ve=this._scheduled;this._scheduled=void 0;const{actions:Ae}=this;let vt;Xe=Xe||Ae.shift();do{if(vt=Xe.execute(Xe.state,Xe.delay))break}while((Xe=Ae[0])&&Xe.id===Ve&&Ae.shift());if(this._active=!1,vt){for(;(Xe=Ae[0])&&Xe.id===Ve&&Ae.shift();)Xe.unsubscribe();throw vt}}}(class fe extends l.o{constructor(Xe,Ve){super(Xe,Ve),this.scheduler=Xe,this.work=Ve}requestAsyncId(Xe,Ve,Ae=0){return null!==Ae&&Ae>0?super.requestAsyncId(Xe,Ve,Ae):(Xe.actions.push(this),Xe._scheduled||(Xe._scheduled=re.setImmediate(Xe.flush.bind(Xe,void 0))))}recycleAsyncId(Xe,Ve,Ae=0){var vt;if(null!=Ae?Ae>0:this.delay>0)return super.recycleAsyncId(Xe,Ve,Ae);const{actions:me}=Xe;null!=Ve&&(null===(vt=me[me.length-1])||void 0===vt?void 0:vt.id)!==Ve&&(re.clearImmediate(Ve),Xe._scheduled===Ve&&(Xe._scheduled=void 0))}})},4986:(pn,rt,w)=>{w.d(rt,{P:()=>J,z:()=>h});var l=w(4408);const h=new(w(7565).v)(l.o),J=h},6063:(pn,rt,w)=>{w.d(rt,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(pn,rt,w)=>{w.d(rt,{z:()=>l});const l={setTimeout(C,h,...J){const{delegate:we}=l;return we?.setTimeout?we.setTimeout(C,h,...J):setTimeout(C,h,...J)},clearTimeout(C){const{delegate:h}=l;return(h?.clearTimeout||clearTimeout)(C)},delegate:void 0}},2202:(pn,rt,w)=>{w.d(rt,{h:()=>C});const C=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pn,rt,w)=>{w.d(rt,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(pn,rt,w)=>{w.d(rt,{K:()=>C});const C=(0,w(3888).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(pn,rt,w)=>{w.d(rt,{_6:()=>oe,jO:()=>J,yG:()=>we});var l=w(576),C=w(3532);function h(W){return W[W.length-1]}function J(W){return(0,l.m)(h(W))?W.pop():void 0}function we(W){return(0,C.K)(h(W))?W.pop():void 0}function oe(W,_e){return"number"==typeof h(W)?W.pop():_e}},4742:(pn,rt,w)=>{w.d(rt,{D:()=>we});const{isArray:l}=Array,{getPrototypeOf:C,prototype:h,keys:J}=Object;function we(W){if(1===W.length){const _e=W[0];if(l(_e))return{args:_e,keys:null};if(function oe(W){return W&&"object"==typeof W&&C(W)===h}(_e)){const Ce=J(_e);return{args:Ce.map(re=>_e[re]),keys:Ce}}}return{args:W,keys:null}}},8737:(pn,rt,w)=>{function l(C,h){if(C){const J=C.indexOf(h);0<=J&&C.splice(J,1)}}w.d(rt,{P:()=>l})},3888:(pn,rt,w)=>{function l(C){const J=C(we=>{Error.call(we),we.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}w.d(rt,{d:()=>l})},1810:(pn,rt,w)=>{function l(C,h){return C.reduce((J,we,oe)=>(J[we]=h[oe],J),{})}w.d(rt,{n:()=>l})},2806:(pn,rt,w)=>{w.d(rt,{O:()=>J,x:()=>h});var l=w(2416);let C=null;function h(we){if(l.config.useDeprecatedSynchronousErrorHandling){const oe=!C;if(oe&&(C={errorThrown:!1,error:null}),we(),oe){const{errorThrown:W,error:_e}=C;if(C=null,W)throw _e}}else we()}function J(we){l.config.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=we)}},9672:(pn,rt,w)=>{function l(C,h,J,we=0,oe=!1){const W=h.schedule(function(){J(),oe?C.add(this.schedule(null,we)):this.unsubscribe()},we);if(C.add(W),!oe)return W}w.d(rt,{f:()=>l})},4671:(pn,rt,w)=>{function l(C){return C}w.d(rt,{y:()=>l})},1144:(pn,rt,w)=>{w.d(rt,{z:()=>l});const l=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(pn,rt,w)=>{w.d(rt,{D:()=>C});var l=w(576);function C(h){return Symbol.asyncIterator&&(0,l.m)(h?.[Symbol.asyncIterator])}},576:(pn,rt,w)=>{function l(C){return"function"==typeof C}w.d(rt,{m:()=>l})},3670:(pn,rt,w)=>{w.d(rt,{c:()=>h});var l=w(8822),C=w(576);function h(J){return(0,C.m)(J[l.L])}},6495:(pn,rt,w)=>{w.d(rt,{T:()=>h});var l=w(2202),C=w(576);function h(J){return(0,C.m)(J?.[l.h])}},8239:(pn,rt,w)=>{w.d(rt,{t:()=>C});var l=w(576);function C(h){return(0,l.m)(h?.then)}},3260:(pn,rt,w)=>{w.d(rt,{L:()=>J,Q:()=>h});var l=w(7582),C=w(576);function h(we){return(0,l.FC)(this,arguments,function*(){const W=we.getReader();try{for(;;){const{value:_e,done:Ce}=yield(0,l.qq)(W.read());if(Ce)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(_e)}}finally{W.releaseLock()}})}function J(we){return(0,C.m)(we?.getReader)}},3532:(pn,rt,w)=>{w.d(rt,{K:()=>C});var l=w(576);function C(h){return h&&(0,l.m)(h.schedule)}},4482:(pn,rt,w)=>{w.d(rt,{A:()=>C,e:()=>h});var l=w(576);function C(J){return(0,l.m)(J?.lift)}function h(J){return we=>{if(C(we))return we.lift(function(oe){try{return J(oe,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(pn,rt,w)=>{w.d(rt,{Z:()=>J});var l=w(4004);const{isArray:C}=Array;function J(we){return(0,l.U)(oe=>function h(we,oe){return C(oe)?we(...oe):we(oe)}(we,oe))}},5032:(pn,rt,w)=>{function l(){}w.d(rt,{Z:()=>l})},9635:(pn,rt,w)=>{w.d(rt,{U:()=>h,z:()=>C});var l=w(4671);function C(...J){return h(J)}function h(J){return 0===J.length?l.y:1===J.length?J[0]:function(oe){return J.reduce((W,_e)=>_e(W),oe)}}},7849:(pn,rt,w)=>{w.d(rt,{h:()=>h});var l=w(2416),C=w(3410);function h(J){C.z.setTimeout(()=>{const{onUnhandledError:we}=l.config;if(!we)throw J;we(J)})}},4532:(pn,rt,w)=>{function l(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(rt,{z:()=>l})},1591:(pn,rt,w)=>{w.d(rt,{IO:()=>at,LC:()=>C,SB:()=>Ce,X$:()=>J,ZE:()=>Ae,ZN:()=>Ve,_j:()=>l,eR:()=>fe,jt:()=>we,k1:()=>vt,l3:()=>h,oB:()=>_e,pV:()=>He,ru:()=>oe,vP:()=>W});class l{}class C{}const h="*";function J(me,Ee){return{type:7,name:me,definitions:Ee,options:{}}}function we(me,Ee=null){return{type:4,styles:Ee,timings:me}}function oe(me,Ee=null){return{type:3,steps:me,options:Ee}}function W(me,Ee=null){return{type:2,steps:me,options:Ee}}function _e(me){return{type:6,styles:me,offset:null}}function Ce(me,Ee,he){return{type:0,name:me,styles:Ee,options:he}}function fe(me,Ee,he=null){return{type:1,expr:me,animation:Ee,options:he}}function He(me=null){return{type:9,options:me}}function at(me,Ee,he=null){return{type:11,selector:me,animation:Ee,options:he}}function Xe(me){Promise.resolve().then(me)}class Ve{constructor(Ee=0,he=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ee+he}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}onStart(Ee){this._originalOnStartFns.push(Ee),this._onStartFns.push(Ee)}onDone(Ee){this._originalOnDoneFns.push(Ee),this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ee){this._position=this.totalTime?Ee*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ee){const he="start"==Ee?this._onStartFns:this._onDoneFns;he.forEach(pe=>pe()),he.length=0}}class Ae{constructor(Ee){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ee;let he=0,pe=0,Ne=0;const Y=this.players.length;0==Y?Xe(()=>this._onFinish()):this.players.forEach(Ye=>{Ye.onDone(()=>{++he==Y&&this._onFinish()}),Ye.onDestroy(()=>{++pe==Y&&this._onDestroy()}),Ye.onStart(()=>{++Ne==Y&&this._onStart()})}),this.totalTime=this.players.reduce((Ye,Be)=>Math.max(Ye,Be.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}init(){this.players.forEach(Ee=>Ee.init())}onStart(Ee){this._onStartFns.push(Ee)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[])}onDone(Ee){this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ee=>Ee.play())}pause(){this.players.forEach(Ee=>Ee.pause())}restart(){this.players.forEach(Ee=>Ee.restart())}finish(){this._onFinish(),this.players.forEach(Ee=>Ee.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ee=>Ee.destroy()),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this.players.forEach(Ee=>Ee.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ee){const he=Ee*this.totalTime;this.players.forEach(pe=>{const Ne=pe.totalTime?Math.min(1,he/pe.totalTime):1;pe.setPosition(Ne)})}getPosition(){const Ee=this.players.reduce((he,pe)=>null===he||pe.totalTime>he.totalTime?pe:he,null);return null!=Ee?Ee.getPosition():0}beforeDestroy(){this.players.forEach(Ee=>{Ee.beforeDestroy&&Ee.beforeDestroy()})}triggerCallback(Ee){const he="start"==Ee?this._onStartFns:this._onDoneFns;he.forEach(pe=>pe()),he.length=0}}const vt="!"},706:(pn,rt,w)=>{w.d(rt,{Em:()=>pt,X6:()=>ue,ic:()=>Nt,kH:()=>di,qV:()=>At,qm:()=>We,rt:()=>lt,tE:()=>Sn,yG:()=>Ue});var l=w(4755),C=w(2223),h=w(2966),J=w(7579),we=w(727),oe=w(1135),W=w(9646),_e=w(2840),Ce=w(8505),re=w(8372),fe=w(9300),ge=w(4004),He=w(5698),Pe=w(5684),at=w(1884),Ge=w(2722),Xe=w(1692),Ve=w(829),Ae=w(5537);class wn{constructor(Le){this._items=Le,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new J.x,this._typeaheadSubscription=we.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ke=>ke.disabled,this._pressedLetters=[],this.tabOut=new J.x,this.change=new J.x,Le instanceof C.n_E&&(this._itemChangesSubscription=Le.changes.subscribe(ke=>{if(this._activeItem){const $t=ke.toArray().indexOf(this._activeItem);$t>-1&&$t!==this._activeItemIndex&&(this._activeItemIndex=$t)}}))}skipPredicate(Le){return this._skipPredicateFn=Le,this}withWrap(Le=!0){return this._wrap=Le,this}withVerticalOrientation(Le=!0){return this._vertical=Le,this}withHorizontalOrientation(Le){return this._horizontal=Le,this}withAllowedModifierKeys(Le){return this._allowedModifierKeys=Le,this}withTypeAhead(Le=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ce.b)(ke=>this._pressedLetters.push(ke)),(0,re.b)(Le),(0,fe.h)(()=>this._pressedLetters.length>0),(0,ge.U)(()=>this._pressedLetters.join(""))).subscribe(ke=>{const Ct=this._getItemsArray();for(let $t=1;$t<Ct.length+1;$t++){const Re=(this._activeItemIndex+$t)%Ct.length,ce=Ct[Re];if(!this._skipPredicateFn(ce)&&0===ce.getLabel().toUpperCase().trim().indexOf(ke)){this.setActiveItem(Re);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Le=!0){return this._homeAndEnd=Le,this}withPageUpDown(Le=!0,ke=10){return this._pageUpAndDown={enabled:Le,delta:ke},this}setActiveItem(Le){const ke=this._activeItem;this.updateActiveItem(Le),this._activeItem!==ke&&this.change.next(this._activeItemIndex)}onKeydown(Le){const ke=Le.keyCode,$t=["altKey","ctrlKey","metaKey","shiftKey"].every(Re=>!Le[Re]||this._allowedModifierKeys.indexOf(Re)>-1);switch(ke){case _e.Mf:return void this.tabOut.next();case _e.JH:if(this._vertical&&$t){this.setNextItemActive();break}return;case _e.LH:if(this._vertical&&$t){this.setPreviousItemActive();break}return;case _e.SV:if(this._horizontal&&$t){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case _e.oh:if(this._horizontal&&$t){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case _e.Sd:if(this._homeAndEnd&&$t){this.setFirstItemActive();break}return;case _e.uR:if(this._homeAndEnd&&$t){this.setLastItemActive();break}return;case _e.Ku:if(this._pageUpAndDown.enabled&&$t){const Re=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Re>0?Re:0,1);break}return;case _e.VM:if(this._pageUpAndDown.enabled&&$t){const Re=this._activeItemIndex+this._pageUpAndDown.delta,ce=this._getItemsArray().length;this._setActiveItemByIndex(Re<ce?Re:ce-1,-1);break}return;default:return void(($t||(0,_e.Vb)(Le,"shiftKey"))&&(Le.key&&1===Le.key.length?this._letterKeyStream.next(Le.key.toLocaleUpperCase()):(ke>=_e.A&&ke<=_e.Z||ke>=_e.xE&&ke<=_e.aO)&&this._letterKeyStream.next(String.fromCharCode(ke))))}this._pressedLetters=[],Le.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Le){const ke=this._getItemsArray(),Ct="number"==typeof Le?Le:ke.indexOf(Le);this._activeItem=ke[Ct]??null,this._activeItemIndex=Ct}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Le){this._wrap?this._setActiveInWrapMode(Le):this._setActiveInDefaultMode(Le)}_setActiveInWrapMode(Le){const ke=this._getItemsArray();for(let Ct=1;Ct<=ke.length;Ct++){const $t=(this._activeItemIndex+Le*Ct+ke.length)%ke.length;if(!this._skipPredicateFn(ke[$t]))return void this.setActiveItem($t)}}_setActiveInDefaultMode(Le){this._setActiveItemByIndex(this._activeItemIndex+Le,Le)}_setActiveItemByIndex(Le,ke){const Ct=this._getItemsArray();if(Ct[Le]){for(;this._skipPredicateFn(Ct[Le]);)if(!Ct[Le+=ke])return;this.setActiveItem(Le)}}_getItemsArray(){return this._items instanceof C.n_E?this._items.toArray():this._items}}class pt extends wn{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Le){return this._origin=Le,this}setActiveItem(Le){super.setActiveItem(Le),this.activeItem&&this.activeItem.focus(this._origin)}}let Nt=(()=>{class ze{constructor(ke){this._platform=ke}isDisabled(ke){return ke.hasAttribute("disabled")}isVisible(ke){return function en(ze){return!!(ze.offsetWidth||ze.offsetHeight||"function"==typeof ze.getClientRects&&ze.getClientRects().length)}(ke)&&"visible"===getComputedStyle(ke).visibility}isTabbable(ke){if(!this._platform.isBrowser)return!1;const Ct=function Ut(ze){try{return ze.frameElement}catch{return null}}(function zt(ze){return ze.ownerDocument&&ze.ownerDocument.defaultView||window}(ke));if(Ct&&(-1===ot(Ct)||!this.isVisible(Ct)))return!1;let $t=ke.nodeName.toLowerCase(),Re=ot(ke);return ke.hasAttribute("contenteditable")?-1!==Re:!("iframe"===$t||"object"===$t||this._platform.WEBKIT&&this._platform.IOS&&!function Ot(ze){let Le=ze.nodeName.toLowerCase(),ke="input"===Le&&ze.type;return"text"===ke||"password"===ke||"select"===Le||"textarea"===Le}(ke))&&("audio"===$t?!!ke.hasAttribute("controls")&&-1!==Re:"video"===$t?-1!==Re&&(null!==Re||this._platform.FIREFOX||ke.hasAttribute("controls")):ke.tabIndex>=0)}isFocusable(ke,Ct){return function yt(ze){return!function cn(ze){return function sn(ze){return"input"==ze.nodeName.toLowerCase()}(ze)&&"hidden"==ze.type}(ze)&&(function qt(ze){let Le=ze.nodeName.toLowerCase();return"input"===Le||"select"===Le||"button"===Le||"textarea"===Le}(ze)||function bn(ze){return function Ft(ze){return"a"==ze.nodeName.toLowerCase()}(ze)&&ze.hasAttribute("href")}(ze)||ze.hasAttribute("contenteditable")||Qe(ze))}(ke)&&!this.isDisabled(ke)&&(Ct?.ignoreVisibility||this.isVisible(ke))}}return ze.\u0275fac=function(ke){return new(ke||ze)(C.LFG(h.t4))},ze.\u0275prov=C.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})();function Qe(ze){if(!ze.hasAttribute("tabindex")||void 0===ze.tabIndex)return!1;let Le=ze.getAttribute("tabindex");return!(!Le||isNaN(parseInt(Le,10)))}function ot(ze){if(!Qe(ze))return null;const Le=parseInt(ze.getAttribute("tabindex")||"",10);return isNaN(Le)?-1:Le}class kt{get enabled(){return this._enabled}set enabled(Le){this._enabled=Le,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Le,this._startAnchor),this._toggleAnchorTabIndex(Le,this._endAnchor))}constructor(Le,ke,Ct,$t,Re=!1){this._element=Le,this._checker=ke,this._ngZone=Ct,this._document=$t,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Re||this.attachAnchors()}destroy(){const Le=this._startAnchor,ke=this._endAnchor;Le&&(Le.removeEventListener("focus",this.startAnchorListener),Le.remove()),ke&&(ke.removeEventListener("focus",this.endAnchorListener),ke.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Le){return new Promise(ke=>{this._executeOnStable(()=>ke(this.focusInitialElement(Le)))})}focusFirstTabbableElementWhenReady(Le){return new Promise(ke=>{this._executeOnStable(()=>ke(this.focusFirstTabbableElement(Le)))})}focusLastTabbableElementWhenReady(Le){return new Promise(ke=>{this._executeOnStable(()=>ke(this.focusLastTabbableElement(Le)))})}_getRegionBoundary(Le){const ke=this._element.querySelectorAll(`[cdk-focus-region-${Le}], [cdkFocusRegion${Le}], [cdk-focus-${Le}]`);return"start"==Le?ke.length?ke[0]:this._getFirstTabbableElement(this._element):ke.length?ke[ke.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Le){const ke=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ke){if(!this._checker.isFocusable(ke)){const Ct=this._getFirstTabbableElement(ke);return Ct?.focus(Le),!!Ct}return ke.focus(Le),!0}return this.focusFirstTabbableElement(Le)}focusFirstTabbableElement(Le){const ke=this._getRegionBoundary("start");return ke&&ke.focus(Le),!!ke}focusLastTabbableElement(Le){const ke=this._getRegionBoundary("end");return ke&&ke.focus(Le),!!ke}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Le){if(this._checker.isFocusable(Le)&&this._checker.isTabbable(Le))return Le;const ke=Le.children;for(let Ct=0;Ct<ke.length;Ct++){const $t=ke[Ct].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ke[Ct]):null;if($t)return $t}return null}_getLastTabbableElement(Le){if(this._checker.isFocusable(Le)&&this._checker.isTabbable(Le))return Le;const ke=Le.children;for(let Ct=ke.length-1;Ct>=0;Ct--){const $t=ke[Ct].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ke[Ct]):null;if($t)return $t}return null}_createAnchor(){const Le=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Le),Le.classList.add("cdk-visually-hidden"),Le.classList.add("cdk-focus-trap-anchor"),Le.setAttribute("aria-hidden","true"),Le}_toggleAnchorTabIndex(Le,ke){Le?ke.setAttribute("tabindex","0"):ke.removeAttribute("tabindex")}toggleAnchors(Le){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Le,this._startAnchor),this._toggleAnchorTabIndex(Le,this._endAnchor))}_executeOnStable(Le){this._ngZone.isStable?Le():this._ngZone.onStable.pipe((0,He.q)(1)).subscribe(Le)}}let At=(()=>{class ze{constructor(ke,Ct,$t){this._checker=ke,this._ngZone=Ct,this._document=$t}create(ke,Ct=!1){return new kt(ke,this._checker,this._ngZone,this._document,Ct)}}return ze.\u0275fac=function(ke){return new(ke||ze)(C.LFG(Nt),C.LFG(C.R0b),C.LFG(l.K0))},ze.\u0275prov=C.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})();function ue(ze){return 0===ze.buttons||0===ze.offsetX&&0===ze.offsetY}function Ue(ze){const Le=ze.touches&&ze.touches[0]||ze.changedTouches&&ze.changedTouches[0];return!(!Le||-1!==Le.identifier||null!=Le.radiusX&&1!==Le.radiusX||null!=Le.radiusY&&1!==Le.radiusY)}const ht=new C.OlP("cdk-input-modality-detector-options"),ut={ignoreKeys:[_e.zL,_e.jx,_e.b2,_e.MW,_e.JU]},Yt=(0,h.i$)({passive:!0,capture:!0});let an=(()=>{class ze{get mostRecentModality(){return this._modality.value}constructor(ke,Ct,$t,Re){this._platform=ke,this._mostRecentTarget=null,this._modality=new oe.X(null),this._lastTouchMs=0,this._onKeydown=ce=>{this._options?.ignoreKeys?.some(H=>H===ce.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,h.sA)(ce))},this._onMousedown=ce=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ue(ce)?"keyboard":"mouse"),this._mostRecentTarget=(0,h.sA)(ce))},this._onTouchstart=ce=>{Ue(ce)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,h.sA)(ce))},this._options={...ut,...Re},this.modalityDetected=this._modality.pipe((0,Pe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,at.x)()),ke.isBrowser&&Ct.runOutsideAngular(()=>{$t.addEventListener("keydown",this._onKeydown,Yt),$t.addEventListener("mousedown",this._onMousedown,Yt),$t.addEventListener("touchstart",this._onTouchstart,Yt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yt),document.removeEventListener("mousedown",this._onMousedown,Yt),document.removeEventListener("touchstart",this._onTouchstart,Yt))}}return ze.\u0275fac=function(ke){return new(ke||ze)(C.LFG(h.t4),C.LFG(C.R0b),C.LFG(l.K0),C.LFG(ht,8))},ze.\u0275prov=C.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})();const Dt=new C.OlP("cdk-focus-monitor-default-options"),Wt=(0,h.i$)({passive:!0,capture:!0});let Sn=(()=>{class ze{constructor(ke,Ct,$t,Re,ce){this._ngZone=ke,this._platform=Ct,this._inputModalityDetector=$t,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new J.x,this._rootNodeFocusAndBlurListener=H=>{for(let $=(0,h.sA)(H);$;$=$.parentElement)"focus"===H.type?this._onFocus(H,$):this._onBlur(H,$)},this._document=Re,this._detectionMode=ce?.detectionMode||0}monitor(ke,Ct=!1){const $t=(0,Xe.fI)(ke);if(!this._platform.isBrowser||1!==$t.nodeType)return(0,W.of)(null);const Re=(0,h.kV)($t)||this._getDocument(),ce=this._elementInfo.get($t);if(ce)return Ct&&(ce.checkChildren=!0),ce.subject;const H={checkChildren:Ct,subject:new J.x,rootNode:Re};return this._elementInfo.set($t,H),this._registerGlobalListeners(H),H.subject}stopMonitoring(ke){const Ct=(0,Xe.fI)(ke),$t=this._elementInfo.get(Ct);$t&&($t.subject.complete(),this._setClasses(Ct),this._elementInfo.delete(Ct),this._removeGlobalListeners($t))}focusVia(ke,Ct,$t){const Re=(0,Xe.fI)(ke);Re===this._getDocument().activeElement?this._getClosestElementsInfo(Re).forEach(([H,V])=>this._originChanged(H,Ct,V)):(this._setOrigin(Ct),"function"==typeof Re.focus&&Re.focus($t))}ngOnDestroy(){this._elementInfo.forEach((ke,Ct)=>this.stopMonitoring(Ct))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ke){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ke)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ke&&this._isLastInteractionFromInputLabel(ke)?"mouse":"program"}_shouldBeAttributedToTouch(ke){return 1===this._detectionMode||!!ke?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ke,Ct){ke.classList.toggle("cdk-focused",!!Ct),ke.classList.toggle("cdk-touch-focused","touch"===Ct),ke.classList.toggle("cdk-keyboard-focused","keyboard"===Ct),ke.classList.toggle("cdk-mouse-focused","mouse"===Ct),ke.classList.toggle("cdk-program-focused","program"===Ct)}_setOrigin(ke,Ct=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ke,this._originFromTouchInteraction="touch"===ke&&Ct,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ke,Ct){const $t=this._elementInfo.get(Ct),Re=(0,h.sA)(ke);!$t||!$t.checkChildren&&Ct!==Re||this._originChanged(Ct,this._getFocusOrigin(Re),$t)}_onBlur(ke,Ct){const $t=this._elementInfo.get(Ct);!$t||$t.checkChildren&&ke.relatedTarget instanceof Node&&Ct.contains(ke.relatedTarget)||(this._setClasses(Ct),this._emitOrigin($t,null))}_emitOrigin(ke,Ct){ke.subject.observers.length&&this._ngZone.run(()=>ke.subject.next(Ct))}_registerGlobalListeners(ke){if(!this._platform.isBrowser)return;const Ct=ke.rootNode,$t=this._rootNodeFocusListenerCount.get(Ct)||0;$t||this._ngZone.runOutsideAngular(()=>{Ct.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wt),Ct.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wt)}),this._rootNodeFocusListenerCount.set(Ct,$t+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ge.R)(this._stopInputModalityDetector)).subscribe(Re=>{this._setOrigin(Re,!0)}))}_removeGlobalListeners(ke){const Ct=ke.rootNode;if(this._rootNodeFocusListenerCount.has(Ct)){const $t=this._rootNodeFocusListenerCount.get(Ct);$t>1?this._rootNodeFocusListenerCount.set(Ct,$t-1):(Ct.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wt),Ct.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wt),this._rootNodeFocusListenerCount.delete(Ct))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ke,Ct,$t){this._setClasses(ke,Ct),this._emitOrigin($t,Ct),this._lastFocusOrigin=Ct}_getClosestElementsInfo(ke){const Ct=[];return this._elementInfo.forEach(($t,Re)=>{(Re===ke||$t.checkChildren&&Re.contains(ke))&&Ct.push([Re,$t])}),Ct}_isLastInteractionFromInputLabel(ke){const{_mostRecentTarget:Ct,mostRecentModality:$t}=this._inputModalityDetector;if("mouse"!==$t||!Ct||Ct===ke||"INPUT"!==ke.nodeName&&"TEXTAREA"!==ke.nodeName||ke.disabled)return!1;const Re=ke.labels;if(Re)for(let ce=0;ce<Re.length;ce++)if(Re[ce].contains(Ct))return!0;return!1}}return ze.\u0275fac=function(ke){return new(ke||ze)(C.LFG(C.R0b),C.LFG(h.t4),C.LFG(an),C.LFG(l.K0,8),C.LFG(Dt,8))},ze.\u0275prov=C.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),di=(()=>{class ze{constructor(ke,Ct){this._elementRef=ke,this._focusMonitor=Ct,this._focusOrigin=null,this.cdkFocusChange=new C.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const ke=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(ke,1===ke.nodeType&&ke.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Ct=>{this._focusOrigin=Ct,this.cdkFocusChange.emit(Ct)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return ze.\u0275fac=function(ke){return new(ke||ze)(C.Y36(C.SBq),C.Y36(Sn))},ze.\u0275dir=C.lG2({type:ze,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),ze})();const xi="cdk-high-contrast-black-on-white",pi="cdk-high-contrast-white-on-black",Qt="cdk-high-contrast-active";let We=(()=>{class ze{constructor(ke,Ct){this._platform=ke,this._document=Ct,this._breakpointSubscription=(0,C.f3M)(Ae.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ke=this._document.createElement("div");ke.style.backgroundColor="rgb(1,2,3)",ke.style.position="absolute",this._document.body.appendChild(ke);const Ct=this._document.defaultView||window,$t=Ct&&Ct.getComputedStyle?Ct.getComputedStyle(ke):null,Re=($t&&$t.backgroundColor||"").replace(/ /g,"");switch(ke.remove(),Re){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ke=this._document.body.classList;ke.remove(Qt,xi,pi),this._hasCheckedHighContrastMode=!0;const Ct=this.getHighContrastMode();1===Ct?ke.add(Qt,xi):2===Ct&&ke.add(Qt,pi)}}}return ze.\u0275fac=function(ke){return new(ke||ze)(C.LFG(h.t4),C.LFG(l.K0))},ze.\u0275prov=C.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),lt=(()=>{class ze{constructor(ke){ke._applyBodyHighContrastModeCssClasses()}}return ze.\u0275fac=function(ke){return new(ke||ze)(C.LFG(We))},ze.\u0275mod=C.oAB({type:ze}),ze.\u0275inj=C.cJS({imports:[Ve.Q8]}),ze})()},8930:(pn,rt,w)=>{w.d(rt,{Is:()=>W,vT:()=>Ce});var l=w(2223),C=w(4755);const h=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function J(){return(0,l.f3M)(C.K0)}}),we=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let W=(()=>{class re{constructor(ge){this.value="ltr",this.change=new l.vpe,ge&&(this.value=function oe(re){const fe=re?.toLowerCase()||"";return"auto"===fe&&typeof navigator<"u"&&navigator?.language?we.test(navigator.language)?"rtl":"ltr":"rtl"===fe?"rtl":"ltr"}((ge.body?ge.body.dir:null)||(ge.documentElement?ge.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return re.\u0275fac=function(ge){return new(ge||re)(l.LFG(h,8))},re.\u0275prov=l.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),Ce=(()=>{class re{}return re.\u0275fac=function(ge){return new(ge||re)},re.\u0275mod=l.oAB({type:re}),re.\u0275inj=l.cJS({}),re})()},1692:(pn,rt,w)=>{w.d(rt,{Eq:()=>we,HM:()=>oe,Ig:()=>C,fI:()=>W,su:()=>h});var l=w(2223);function C(Ce){return null!=Ce&&"false"!=`${Ce}`}function h(Ce,re=0){return function J(Ce){return!isNaN(parseFloat(Ce))&&!isNaN(Number(Ce))}(Ce)?Number(Ce):re}function we(Ce){return Array.isArray(Ce)?Ce:[Ce]}function oe(Ce){return null==Ce?"":"string"==typeof Ce?Ce:`${Ce}px`}function W(Ce){return Ce instanceof l.SBq?Ce.nativeElement:Ce}},3223:(pn,rt,w)=>{w.d(rt,{LL:()=>Ge,Su:()=>Y,Vq:()=>pe,ib:()=>Pe});var l=w(706),C=w(9002),h=w(2966),J=w(8023),we=w(4755),oe=w(2223),W=w(2840),_e=w(7579),Ce=w(9770),re=w(9646),fe=w(8930),ge=w(8675);function He(Ye,Be){}class Pe{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Ge=(()=>{class Ye extends J.en{constructor(qe,xt,wn,On,pt,gt,Nt,Ut){super(),this._elementRef=qe,this._focusTrapFactory=xt,this._config=On,this._interactivityChecker=pt,this._ngZone=gt,this._overlayRef=Nt,this._focusMonitor=Ut,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=en=>{this._portalOutlet.hasAttached();const qt=this._portalOutlet.attachDomPortal(en);return this._contentAttached(),qt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=wn}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(qe){this._portalOutlet.hasAttached();const xt=this._portalOutlet.attachComponentPortal(qe);return this._contentAttached(),xt}attachTemplatePortal(qe){this._portalOutlet.hasAttached();const xt=this._portalOutlet.attachTemplatePortal(qe);return this._contentAttached(),xt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(qe,xt){this._interactivityChecker.isFocusable(qe)||(qe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const wn=()=>{qe.removeEventListener("blur",wn),qe.removeEventListener("mousedown",wn),qe.removeAttribute("tabindex")};qe.addEventListener("blur",wn),qe.addEventListener("mousedown",wn)})),qe.focus(xt)}_focusByCssSelector(qe,xt){let wn=this._elementRef.nativeElement.querySelector(qe);wn&&this._forceFocus(wn,xt)}_trapFocus(){const qe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||qe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(xt=>{xt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const qe=this._config.restoreFocus;let xt=null;if("string"==typeof qe?xt=this._document.querySelector(qe):"boolean"==typeof qe?xt=qe?this._elementFocusedBeforeDialogWasOpened:null:qe&&(xt=qe),this._config.restoreFocus&&xt&&"function"==typeof xt.focus){const wn=(0,h.ht)(),On=this._elementRef.nativeElement;(!wn||wn===this._document.body||wn===On||On.contains(wn))&&(this._focusMonitor?(this._focusMonitor.focusVia(xt,this._closeInteractionType),this._closeInteractionType=null):xt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const qe=this._elementRef.nativeElement,xt=(0,h.ht)();return qe===xt||qe.contains(xt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,h.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return Ye.\u0275fac=function(qe){return new(qe||Ye)(oe.Y36(oe.SBq),oe.Y36(l.qV),oe.Y36(we.K0,8),oe.Y36(Pe),oe.Y36(l.ic),oe.Y36(oe.R0b),oe.Y36(C.Iu),oe.Y36(l.tE))},Ye.\u0275cmp=oe.Xpm({type:Ye,selectors:[["cdk-dialog-container"]],viewQuery:function(qe,xt){if(1&qe&&oe.Gf(J.Pl,7),2&qe){let wn;oe.iGM(wn=oe.CRH())&&(xt._portalOutlet=wn.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(qe,xt){2&qe&&oe.uIk("id",xt._config.id||null)("role",xt._config.role)("aria-modal",xt._config.ariaModal)("aria-labelledby",xt._config.ariaLabel?null:xt._ariaLabelledBy)("aria-label",xt._config.ariaLabel)("aria-describedby",xt._config.ariaDescribedBy||null)},features:[oe.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(qe,xt){1&qe&&oe.YNc(0,He,0,0,"ng-template",0)},dependencies:[J.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Ye})();class Xe{constructor(Be,qe){this.overlayRef=Be,this.config=qe,this.closed=new _e.x,this.disableClose=qe.disableClose,this.backdropClick=Be.backdropClick(),this.keydownEvents=Be.keydownEvents(),this.outsidePointerEvents=Be.outsidePointerEvents(),this.id=qe.id,this.keydownEvents.subscribe(xt=>{xt.keyCode===W.hY&&!this.disableClose&&!(0,W.Vb)(xt)&&(xt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Be.detachments().subscribe(()=>{!1!==qe.closeOnOverlayDetachments&&this.close()})}close(Be,qe){if(this.containerInstance){const xt=this.closed;this.containerInstance._closeInteractionType=qe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),xt.next(Be),xt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Be="",qe=""){return this.overlayRef.updateSize({width:Be,height:qe}),this}addPanelClass(Be){return this.overlayRef.addPanelClass(Be),this}removePanelClass(Be){return this.overlayRef.removePanelClass(Be),this}}const Ve=new oe.OlP("DialogScrollStrategy"),Ae=new oe.OlP("DialogData"),vt=new oe.OlP("DefaultDialogConfig"),Ee={provide:Ve,deps:[C.aV],useFactory:function me(Ye){return()=>Ye.scrollStrategies.block()}};let he=0,pe=(()=>{class Ye{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(qe,xt,wn,On,pt,gt){this._overlay=qe,this._injector=xt,this._defaultOptions=wn,this._parentDialog=On,this._overlayContainer=pt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ce.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ge.O)(void 0))),this._scrollStrategy=gt}open(qe,xt){(xt={...this._defaultOptions||new Pe,...xt}).id=xt.id||"cdk-dialog-"+he++,xt.id&&this.getDialogById(xt.id);const On=this._getOverlayConfig(xt),pt=this._overlay.create(On),gt=new Xe(pt,xt),Nt=this._attachContainer(pt,gt,xt);return gt.containerInstance=Nt,this._attachDialogContent(qe,gt,Nt,xt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(gt),gt.closed.subscribe(()=>this._removeOpenDialog(gt,!0)),this.afterOpened.next(gt),gt}closeAll(){Ne(this.openDialogs,qe=>qe.close())}getDialogById(qe){return this.openDialogs.find(xt=>xt.id===qe)}ngOnDestroy(){Ne(this._openDialogsAtThisLevel,qe=>{!1===qe.config.closeOnDestroy&&this._removeOpenDialog(qe,!1)}),Ne(this._openDialogsAtThisLevel,qe=>qe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(qe){const xt=new C.X_({positionStrategy:qe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:qe.scrollStrategy||this._scrollStrategy(),panelClass:qe.panelClass,hasBackdrop:qe.hasBackdrop,direction:qe.direction,minWidth:qe.minWidth,minHeight:qe.minHeight,maxWidth:qe.maxWidth,maxHeight:qe.maxHeight,width:qe.width,height:qe.height,disposeOnNavigation:qe.closeOnNavigation});return qe.backdropClass&&(xt.backdropClass=qe.backdropClass),xt}_attachContainer(qe,xt,wn){const On=wn.injector||wn.viewContainerRef?.injector,pt=[{provide:Pe,useValue:wn},{provide:Xe,useValue:xt},{provide:C.Iu,useValue:qe}];let gt;wn.container?"function"==typeof wn.container?gt=wn.container:(gt=wn.container.type,pt.push(...wn.container.providers(wn))):gt=Ge;const Nt=new J.C5(gt,wn.viewContainerRef,oe.zs3.create({parent:On||this._injector,providers:pt}),wn.componentFactoryResolver);return qe.attach(Nt).instance}_attachDialogContent(qe,xt,wn,On){if(qe instanceof oe.Rgc){const pt=this._createInjector(On,xt,wn,void 0);let gt={$implicit:On.data,dialogRef:xt};On.templateContext&&(gt={...gt,..."function"==typeof On.templateContext?On.templateContext():On.templateContext}),wn.attachTemplatePortal(new J.UE(qe,null,gt,pt))}else{const pt=this._createInjector(On,xt,wn,this._injector),gt=wn.attachComponentPortal(new J.C5(qe,On.viewContainerRef,pt,On.componentFactoryResolver));xt.componentInstance=gt.instance}}_createInjector(qe,xt,wn,On){const pt=qe.injector||qe.viewContainerRef?.injector,gt=[{provide:Ae,useValue:qe.data},{provide:Xe,useValue:xt}];return qe.providers&&("function"==typeof qe.providers?gt.push(...qe.providers(xt,qe,wn)):gt.push(...qe.providers)),qe.direction&&(!pt||!pt.get(fe.Is,null,{optional:!0}))&&gt.push({provide:fe.Is,useValue:{value:qe.direction,change:(0,re.of)()}}),oe.zs3.create({parent:pt||On,providers:gt})}_removeOpenDialog(qe,xt){const wn=this.openDialogs.indexOf(qe);wn>-1&&(this.openDialogs.splice(wn,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((On,pt)=>{On?pt.setAttribute("aria-hidden",On):pt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),xt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const qe=this._overlayContainer.getContainerElement();if(qe.parentElement){const xt=qe.parentElement.children;for(let wn=xt.length-1;wn>-1;wn--){const On=xt[wn];On!==qe&&"SCRIPT"!==On.nodeName&&"STYLE"!==On.nodeName&&!On.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(On,On.getAttribute("aria-hidden")),On.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const qe=this._parentDialog;return qe?qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return Ye.\u0275fac=function(qe){return new(qe||Ye)(oe.LFG(C.aV),oe.LFG(oe.zs3),oe.LFG(vt,8),oe.LFG(Ye,12),oe.LFG(C.Xj),oe.LFG(Ve))},Ye.\u0275prov=oe.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function Ne(Ye,Be){let qe=Ye.length;for(;qe--;)Be(Ye[qe])}let Y=(()=>{class Ye{}return Ye.\u0275fac=function(qe){return new(qe||Ye)},Ye.\u0275mod=oe.oAB({type:Ye}),Ye.\u0275inj=oe.cJS({providers:[pe,Ee],imports:[C.U8,J.eL,l.rt,J.eL]}),Ye})()},2840:(pn,rt,w)=>{w.d(rt,{A:()=>cn,JH:()=>vt,JU:()=>oe,K5:()=>we,Ku:()=>He,LH:()=>Ve,L_:()=>ge,MW:()=>Dn,Mf:()=>h,SV:()=>Ae,Sd:()=>Ge,VM:()=>Pe,Vb:()=>er,Z:()=>ri,aO:()=>gt,b2:()=>io,hY:()=>fe,jx:()=>W,oh:()=>Xe,uR:()=>at,xE:()=>Ne,zL:()=>_e});const h=9,we=13,oe=16,W=17,_e=18,fe=27,ge=32,He=33,Pe=34,at=35,Ge=36,Xe=37,Ve=38,Ae=39,vt=40,Ne=48,gt=57,cn=65,ri=90,Dn=91,io=224;function er(or,...Io){return Io.length?Io.some($r=>or[$r]):or.altKey||or.shiftKey||or.ctrlKey||or.metaKey}},5537:(pn,rt,w)=>{w.d(rt,{Yg:()=>vt,u3:()=>Ee});var l=w(2223),C=w(1692),h=w(7579),J=w(9841),we=w(7272),oe=w(9751),W=w(5698),_e=w(5684),Ce=w(8372),re=w(4004),fe=w(8675),ge=w(2722),He=w(2966);const at=new Set;let Ge,Xe=(()=>{class he{constructor(Ne,Y){this._platform=Ne,this._nonce=Y,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ae}matchMedia(Ne){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ve(he,pe){if(!at.has(he))try{Ge||(Ge=document.createElement("style"),pe&&(Ge.nonce=pe),Ge.setAttribute("type","text/css"),document.head.appendChild(Ge)),Ge.sheet&&(Ge.sheet.insertRule(`@media ${he} {body{ }}`,0),at.add(he))}catch(Ne){console.error(Ne)}}(Ne,this._nonce),this._matchMedia(Ne)}}return he.\u0275fac=function(Ne){return new(Ne||he)(l.LFG(He.t4),l.LFG(l.Ojb,8))},he.\u0275prov=l.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function Ae(he){return{matches:"all"===he||""===he,media:he,addListener:()=>{},removeListener:()=>{}}}let vt=(()=>{class he{constructor(Ne,Y){this._mediaMatcher=Ne,this._zone=Y,this._queries=new Map,this._destroySubject=new h.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ne){return me((0,C.Eq)(Ne)).some(Ye=>this._registerQuery(Ye).mql.matches)}observe(Ne){const Ye=me((0,C.Eq)(Ne)).map(qe=>this._registerQuery(qe).observable);let Be=(0,J.a)(Ye);return Be=(0,we.z)(Be.pipe((0,W.q)(1)),Be.pipe((0,_e.T)(1),(0,Ce.b)(0))),Be.pipe((0,re.U)(qe=>{const xt={matches:!1,breakpoints:{}};return qe.forEach(({matches:wn,query:On})=>{xt.matches=xt.matches||wn,xt.breakpoints[On]=wn}),xt}))}_registerQuery(Ne){if(this._queries.has(Ne))return this._queries.get(Ne);const Y=this._mediaMatcher.matchMedia(Ne),Be={observable:new oe.y(qe=>{const xt=wn=>this._zone.run(()=>qe.next(wn));return Y.addListener(xt),()=>{Y.removeListener(xt)}}).pipe((0,fe.O)(Y),(0,re.U)(({matches:qe})=>({query:Ne,matches:qe})),(0,ge.R)(this._destroySubject)),mql:Y};return this._queries.set(Ne,Be),Be}}return he.\u0275fac=function(Ne){return new(Ne||he)(l.LFG(Xe),l.LFG(l.R0b))},he.\u0275prov=l.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function me(he){return he.map(pe=>pe.split(",")).reduce((pe,Ne)=>pe.concat(Ne)).map(pe=>pe.trim())}const Ee={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},829:(pn,rt,w)=>{w.d(rt,{Q8:()=>Ce,wD:()=>_e});var l=w(1692),C=w(2223),h=w(9751),J=w(7579),we=w(8372);let oe=(()=>{class re{create(ge){return typeof MutationObserver>"u"?null:new MutationObserver(ge)}}return re.\u0275fac=function(ge){return new(ge||re)},re.\u0275prov=C.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),W=(()=>{class re{constructor(ge){this._mutationObserverFactory=ge,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ge,He)=>this._cleanupObserver(He))}observe(ge){const He=(0,l.fI)(ge);return new h.y(Pe=>{const Ge=this._observeElement(He).subscribe(Pe);return()=>{Ge.unsubscribe(),this._unobserveElement(He)}})}_observeElement(ge){if(this._observedElements.has(ge))this._observedElements.get(ge).count++;else{const He=new J.x,Pe=this._mutationObserverFactory.create(at=>He.next(at));Pe&&Pe.observe(ge,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ge,{observer:Pe,stream:He,count:1})}return this._observedElements.get(ge).stream}_unobserveElement(ge){this._observedElements.has(ge)&&(this._observedElements.get(ge).count--,this._observedElements.get(ge).count||this._cleanupObserver(ge))}_cleanupObserver(ge){if(this._observedElements.has(ge)){const{observer:He,stream:Pe}=this._observedElements.get(ge);He&&He.disconnect(),Pe.complete(),this._observedElements.delete(ge)}}}return re.\u0275fac=function(ge){return new(ge||re)(C.LFG(oe))},re.\u0275prov=C.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),_e=(()=>{class re{get disabled(){return this._disabled}set disabled(ge){this._disabled=(0,l.Ig)(ge),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ge){this._debounce=(0,l.su)(ge),this._subscribe()}constructor(ge,He,Pe){this._contentObserver=ge,this._elementRef=He,this._ngZone=Pe,this.event=new C.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ge=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ge.pipe((0,we.b)(this.debounce)):ge).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return re.\u0275fac=function(ge){return new(ge||re)(C.Y36(W),C.Y36(C.SBq),C.Y36(C.R0b))},re.\u0275dir=C.lG2({type:re,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),re})(),Ce=(()=>{class re{}return re.\u0275fac=function(ge){return new(ge||re)},re.\u0275mod=C.oAB({type:re}),re.\u0275inj=C.cJS({providers:[oe]}),re})()},9002:(pn,rt,w)=>{w.d(rt,{Iu:()=>pt,U8:()=>yn,X_:()=>he,Xj:()=>On,aV:()=>yt});var l=w(4709),C=w(4755),h=w(2223),J=w(1692),we=w(2966),oe=w(9300),W=w(5698),_e=w(2722),Ce=w(8930),re=w(8023),fe=w(7579),ge=w(727),He=w(6451);const Pe=(0,we.Mq)();class at{constructor(ue,Ue){this._viewportRuler=ue,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ue}attach(){}enable(){if(this._canBeEnabled()){const ue=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ue.style.left||"",this._previousHTMLStyles.top=ue.style.top||"",ue.style.left=(0,J.HM)(-this._previousScrollPosition.left),ue.style.top=(0,J.HM)(-this._previousScrollPosition.top),ue.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ue=this._document.documentElement,ht=ue.style,ut=this._document.body.style,Mt=ht.scrollBehavior||"",Yt=ut.scrollBehavior||"";this._isEnabled=!1,ht.left=this._previousHTMLStyles.left,ht.top=this._previousHTMLStyles.top,ue.classList.remove("cdk-global-scrollblock"),Pe&&(ht.scrollBehavior=ut.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Pe&&(ht.scrollBehavior=Mt,ut.scrollBehavior=Yt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ue=this._document.body,ht=this._viewportRuler.getViewportSize();return Ue.scrollHeight>ht.height||Ue.scrollWidth>ht.width}}class Xe{constructor(ue,Ue,ht,ut){this._scrollDispatcher=ue,this._ngZone=Ue,this._viewportRuler=ht,this._config=ut,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ue){this._overlayRef=ue}enable(){if(this._scrollSubscription)return;const ue=this._scrollDispatcher.scrolled(0).pipe((0,oe.h)(Ue=>!Ue||!this._overlayRef.overlayElement.contains(Ue.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ue.subscribe(()=>{const Ue=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ue-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ue.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ve{enable(){}disable(){}attach(){}}function Ae(Tt,ue){return ue.some(Ue=>Tt.bottom<Ue.top||Tt.top>Ue.bottom||Tt.right<Ue.left||Tt.left>Ue.right)}function vt(Tt,ue){return ue.some(Ue=>Tt.top<Ue.top||Tt.bottom>Ue.bottom||Tt.left<Ue.left||Tt.right>Ue.right)}class me{constructor(ue,Ue,ht,ut){this._scrollDispatcher=ue,this._viewportRuler=Ue,this._ngZone=ht,this._config=ut,this._scrollSubscription=null}attach(ue){this._overlayRef=ue}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ue=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ht,height:ut}=this._viewportRuler.getViewportSize();Ae(Ue,[{width:ht,height:ut,bottom:ut,right:ht,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ee=(()=>{class Tt{constructor(Ue,ht,ut,Mt){this._scrollDispatcher=Ue,this._viewportRuler=ht,this._ngZone=ut,this.noop=()=>new Ve,this.close=Yt=>new Xe(this._scrollDispatcher,this._ngZone,this._viewportRuler,Yt),this.block=()=>new at(this._viewportRuler,this._document),this.reposition=Yt=>new me(this._scrollDispatcher,this._viewportRuler,this._ngZone,Yt),this._document=Mt}}return Tt.\u0275fac=function(Ue){return new(Ue||Tt)(h.LFG(l.mF),h.LFG(l.rL),h.LFG(h.R0b),h.LFG(C.K0))},Tt.\u0275prov=h.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})();class he{constructor(ue){if(this.scrollStrategy=new Ve,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ue){const Ue=Object.keys(ue);for(const ht of Ue)void 0!==ue[ht]&&(this[ht]=ue[ht])}}}class Y{constructor(ue,Ue){this.connectionPair=ue,this.scrollableViewProperties=Ue}}let qe=(()=>{class Tt{constructor(Ue){this._attachedOverlays=[],this._document=Ue}ngOnDestroy(){this.detach()}add(Ue){this.remove(Ue),this._attachedOverlays.push(Ue)}remove(Ue){const ht=this._attachedOverlays.indexOf(Ue);ht>-1&&this._attachedOverlays.splice(ht,1),0===this._attachedOverlays.length&&this.detach()}}return Tt.\u0275fac=function(Ue){return new(Ue||Tt)(h.LFG(C.K0))},Tt.\u0275prov=h.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),xt=(()=>{class Tt extends qe{constructor(Ue,ht){super(Ue),this._ngZone=ht,this._keydownListener=ut=>{const Mt=this._attachedOverlays;for(let Yt=Mt.length-1;Yt>-1;Yt--)if(Mt[Yt]._keydownEvents.observers.length>0){const an=Mt[Yt]._keydownEvents;this._ngZone?this._ngZone.run(()=>an.next(ut)):an.next(ut);break}}}add(Ue){super.add(Ue),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Tt.\u0275fac=function(Ue){return new(Ue||Tt)(h.LFG(C.K0),h.LFG(h.R0b,8))},Tt.\u0275prov=h.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),wn=(()=>{class Tt extends qe{constructor(Ue,ht,ut){super(Ue),this._platform=ht,this._ngZone=ut,this._cursorStyleIsSet=!1,this._pointerDownListener=Mt=>{this._pointerDownEventTarget=(0,we.sA)(Mt)},this._clickListener=Mt=>{const Yt=(0,we.sA)(Mt),an="click"===Mt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Yt;this._pointerDownEventTarget=null;const Gn=this._attachedOverlays.slice();for(let ri=Gn.length-1;ri>-1;ri--){const Dn=Gn[ri];if(Dn._outsidePointerEvents.observers.length<1||!Dn.hasAttached())continue;if(Dn.overlayElement.contains(Yt)||Dn.overlayElement.contains(an))break;const dn=Dn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>dn.next(Mt)):dn.next(Mt)}}}add(Ue){if(super.add(Ue),!this._isAttached){const ht=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ht)):this._addEventListeners(ht),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ht.style.cursor,ht.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ue=this._document.body;Ue.removeEventListener("pointerdown",this._pointerDownListener,!0),Ue.removeEventListener("click",this._clickListener,!0),Ue.removeEventListener("auxclick",this._clickListener,!0),Ue.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ue.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ue){Ue.addEventListener("pointerdown",this._pointerDownListener,!0),Ue.addEventListener("click",this._clickListener,!0),Ue.addEventListener("auxclick",this._clickListener,!0),Ue.addEventListener("contextmenu",this._clickListener,!0)}}return Tt.\u0275fac=function(Ue){return new(Ue||Tt)(h.LFG(C.K0),h.LFG(we.t4),h.LFG(h.R0b,8))},Tt.\u0275prov=h.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),On=(()=>{class Tt{constructor(Ue,ht){this._platform=ht,this._document=Ue}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ue="cdk-overlay-container";if(this._platform.isBrowser||(0,we.Oy)()){const ut=this._document.querySelectorAll(`.${Ue}[platform="server"], .${Ue}[platform="test"]`);for(let Mt=0;Mt<ut.length;Mt++)ut[Mt].remove()}const ht=this._document.createElement("div");ht.classList.add(Ue),(0,we.Oy)()?ht.setAttribute("platform","test"):this._platform.isBrowser||ht.setAttribute("platform","server"),this._document.body.appendChild(ht),this._containerElement=ht}}return Tt.\u0275fac=function(Ue){return new(Ue||Tt)(h.LFG(C.K0),h.LFG(we.t4))},Tt.\u0275prov=h.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})();class pt{constructor(ue,Ue,ht,ut,Mt,Yt,an,Gn,ri,Dn=!1){this._portalOutlet=ue,this._host=Ue,this._pane=ht,this._config=ut,this._ngZone=Mt,this._keyboardDispatcher=Yt,this._document=an,this._location=Gn,this._outsideClickDispatcher=ri,this._animationsDisabled=Dn,this._backdropElement=null,this._backdropClick=new fe.x,this._attachments=new fe.x,this._detachments=new fe.x,this._locationChanges=ge.w0.EMPTY,this._backdropClickHandler=dn=>this._backdropClick.next(dn),this._backdropTransitionendHandler=dn=>{this._disposeBackdrop(dn.target)},this._keydownEvents=new fe.x,this._outsidePointerEvents=new fe.x,ut.scrollStrategy&&(this._scrollStrategy=ut.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ut.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ue){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ue=this._portalOutlet.attach(ue);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,W.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ue?.onDestroy&&Ue.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ue}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ue=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ue}dispose(){const ue=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ue&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ue){ue!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ue,this.hasAttached()&&(ue.attach(this),this.updatePosition()))}updateSize(ue){this._config={...this._config,...ue},this._updateElementSize()}setDirection(ue){this._config={...this._config,direction:ue},this._updateElementDirection()}addPanelClass(ue){this._pane&&this._toggleClasses(this._pane,ue,!0)}removePanelClass(ue){this._pane&&this._toggleClasses(this._pane,ue,!1)}getDirection(){const ue=this._config.direction;return ue?"string"==typeof ue?ue:ue.value:"ltr"}updateScrollStrategy(ue){ue!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ue,this.hasAttached()&&(ue.attach(this),ue.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ue=this._pane.style;ue.width=(0,J.HM)(this._config.width),ue.height=(0,J.HM)(this._config.height),ue.minWidth=(0,J.HM)(this._config.minWidth),ue.minHeight=(0,J.HM)(this._config.minHeight),ue.maxWidth=(0,J.HM)(this._config.maxWidth),ue.maxHeight=(0,J.HM)(this._config.maxHeight)}_togglePointerEvents(ue){this._pane.style.pointerEvents=ue?"":"none"}_attachBackdrop(){const ue="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ue)})}):this._backdropElement.classList.add(ue)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ue=this._backdropElement;if(ue){if(this._animationsDisabled)return void this._disposeBackdrop(ue);ue.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ue.addEventListener("transitionend",this._backdropTransitionendHandler)}),ue.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ue)},500))}}_toggleClasses(ue,Ue,ht){const ut=(0,J.Eq)(Ue||[]).filter(Mt=>!!Mt);ut.length&&(ht?ue.classList.add(...ut):ue.classList.remove(...ut))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ue=this._ngZone.onStable.pipe((0,_e.R)((0,He.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ue.unsubscribe())})})}_disposeScrollStrategy(){const ue=this._scrollStrategy;ue&&(ue.disable(),ue.detach&&ue.detach())}_disposeBackdrop(ue){ue&&(ue.removeEventListener("click",this._backdropClickHandler),ue.removeEventListener("transitionend",this._backdropTransitionendHandler),ue.remove(),this._backdropElement===ue&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const gt="cdk-overlay-connected-position-bounding-box",Nt=/([A-Za-z%]+)$/;class Ut{get positions(){return this._preferredPositions}constructor(ue,Ue,ht,ut,Mt){this._viewportRuler=Ue,this._document=ht,this._platform=ut,this._overlayContainer=Mt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new fe.x,this._resizeSubscription=ge.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ue)}attach(ue){this._validatePositions(),ue.hostElement.classList.add(gt),this._overlayRef=ue,this._boundingBox=ue.hostElement,this._pane=ue.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ue=this._originRect,Ue=this._overlayRect,ht=this._viewportRect,ut=this._containerRect,Mt=[];let Yt;for(let an of this._preferredPositions){let Gn=this._getOriginPoint(ue,ut,an),ri=this._getOverlayPoint(Gn,Ue,an),Dn=this._getOverlayFit(ri,Ue,ht,an);if(Dn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(an,Gn);this._canFitWithFlexibleDimensions(Dn,ri,ht)?Mt.push({position:an,origin:Gn,overlayRect:Ue,boundingBoxRect:this._calculateBoundingBoxRect(Gn,an)}):(!Yt||Yt.overlayFit.visibleArea<Dn.visibleArea)&&(Yt={overlayFit:Dn,overlayPoint:ri,originPoint:Gn,position:an,overlayRect:Ue})}if(Mt.length){let an=null,Gn=-1;for(const ri of Mt){const Dn=ri.boundingBoxRect.width*ri.boundingBoxRect.height*(ri.position.weight||1);Dn>Gn&&(Gn=Dn,an=ri)}return this._isPushed=!1,void this._applyPosition(an.position,an.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Yt.position,Yt.originPoint);this._applyPosition(Yt.position,Yt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&en(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ue=this._lastPosition;if(ue){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ue=this._getOriginPoint(this._originRect,this._containerRect,ue);this._applyPosition(ue,Ue)}else this.apply()}withScrollableContainers(ue){return this._scrollables=ue,this}withPositions(ue){return this._preferredPositions=ue,-1===ue.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ue){return this._viewportMargin=ue,this}withFlexibleDimensions(ue=!0){return this._hasFlexibleDimensions=ue,this}withGrowAfterOpen(ue=!0){return this._growAfterOpen=ue,this}withPush(ue=!0){return this._canPush=ue,this}withLockedPosition(ue=!0){return this._positionLocked=ue,this}setOrigin(ue){return this._origin=ue,this}withDefaultOffsetX(ue){return this._offsetX=ue,this}withDefaultOffsetY(ue){return this._offsetY=ue,this}withTransformOriginOn(ue){return this._transformOriginSelector=ue,this}_getOriginPoint(ue,Ue,ht){let ut,Mt;if("center"==ht.originX)ut=ue.left+ue.width/2;else{const Yt=this._isRtl()?ue.right:ue.left,an=this._isRtl()?ue.left:ue.right;ut="start"==ht.originX?Yt:an}return Ue.left<0&&(ut-=Ue.left),Mt="center"==ht.originY?ue.top+ue.height/2:"top"==ht.originY?ue.top:ue.bottom,Ue.top<0&&(Mt-=Ue.top),{x:ut,y:Mt}}_getOverlayPoint(ue,Ue,ht){let ut,Mt;return ut="center"==ht.overlayX?-Ue.width/2:"start"===ht.overlayX?this._isRtl()?-Ue.width:0:this._isRtl()?0:-Ue.width,Mt="center"==ht.overlayY?-Ue.height/2:"top"==ht.overlayY?0:-Ue.height,{x:ue.x+ut,y:ue.y+Mt}}_getOverlayFit(ue,Ue,ht,ut){const Mt=cn(Ue);let{x:Yt,y:an}=ue,Gn=this._getOffset(ut,"x"),ri=this._getOffset(ut,"y");Gn&&(Yt+=Gn),ri&&(an+=ri);let jn=0-an,$e=an+Mt.height-ht.height,Dt=this._subtractOverflows(Mt.width,0-Yt,Yt+Mt.width-ht.width),Wt=this._subtractOverflows(Mt.height,jn,$e),Sn=Dt*Wt;return{visibleArea:Sn,isCompletelyWithinViewport:Mt.width*Mt.height===Sn,fitsInViewportVertically:Wt===Mt.height,fitsInViewportHorizontally:Dt==Mt.width}}_canFitWithFlexibleDimensions(ue,Ue,ht){if(this._hasFlexibleDimensions){const ut=ht.bottom-Ue.y,Mt=ht.right-Ue.x,Yt=qt(this._overlayRef.getConfig().minHeight),an=qt(this._overlayRef.getConfig().minWidth);return(ue.fitsInViewportVertically||null!=Yt&&Yt<=ut)&&(ue.fitsInViewportHorizontally||null!=an&&an<=Mt)}return!1}_pushOverlayOnScreen(ue,Ue,ht){if(this._previousPushAmount&&this._positionLocked)return{x:ue.x+this._previousPushAmount.x,y:ue.y+this._previousPushAmount.y};const ut=cn(Ue),Mt=this._viewportRect,Yt=Math.max(ue.x+ut.width-Mt.width,0),an=Math.max(ue.y+ut.height-Mt.height,0),Gn=Math.max(Mt.top-ht.top-ue.y,0),ri=Math.max(Mt.left-ht.left-ue.x,0);let Dn=0,dn=0;return Dn=ut.width<=Mt.width?ri||-Yt:ue.x<this._viewportMargin?Mt.left-ht.left-ue.x:0,dn=ut.height<=Mt.height?Gn||-an:ue.y<this._viewportMargin?Mt.top-ht.top-ue.y:0,this._previousPushAmount={x:Dn,y:dn},{x:ue.x+Dn,y:ue.y+dn}}_applyPosition(ue,Ue){if(this._setTransformOrigin(ue),this._setOverlayElementStyles(Ue,ue),this._setBoundingBoxStyles(Ue,ue),ue.panelClass&&this._addPanelClasses(ue.panelClass),this._lastPosition=ue,this._positionChanges.observers.length){const ht=this._getScrollVisibility(),ut=new Y(ue,ht);this._positionChanges.next(ut)}this._isInitialRender=!1}_setTransformOrigin(ue){if(!this._transformOriginSelector)return;const Ue=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ht,ut=ue.overlayY;ht="center"===ue.overlayX?"center":this._isRtl()?"start"===ue.overlayX?"right":"left":"start"===ue.overlayX?"left":"right";for(let Mt=0;Mt<Ue.length;Mt++)Ue[Mt].style.transformOrigin=`${ht} ${ut}`}_calculateBoundingBoxRect(ue,Ue){const ht=this._viewportRect,ut=this._isRtl();let Mt,Yt,an,Dn,dn,jn;if("top"===Ue.overlayY)Yt=ue.y,Mt=ht.height-Yt+this._viewportMargin;else if("bottom"===Ue.overlayY)an=ht.height-ue.y+2*this._viewportMargin,Mt=ht.height-an+this._viewportMargin;else{const $e=Math.min(ht.bottom-ue.y+ht.top,ue.y),Dt=this._lastBoundingBoxSize.height;Mt=2*$e,Yt=ue.y-$e,Mt>Dt&&!this._isInitialRender&&!this._growAfterOpen&&(Yt=ue.y-Dt/2)}if("end"===Ue.overlayX&&!ut||"start"===Ue.overlayX&&ut)jn=ht.width-ue.x+this._viewportMargin,Dn=ue.x-this._viewportMargin;else if("start"===Ue.overlayX&&!ut||"end"===Ue.overlayX&&ut)dn=ue.x,Dn=ht.right-ue.x;else{const $e=Math.min(ht.right-ue.x+ht.left,ue.x),Dt=this._lastBoundingBoxSize.width;Dn=2*$e,dn=ue.x-$e,Dn>Dt&&!this._isInitialRender&&!this._growAfterOpen&&(dn=ue.x-Dt/2)}return{top:Yt,left:dn,bottom:an,right:jn,width:Dn,height:Mt}}_setBoundingBoxStyles(ue,Ue){const ht=this._calculateBoundingBoxRect(ue,Ue);!this._isInitialRender&&!this._growAfterOpen&&(ht.height=Math.min(ht.height,this._lastBoundingBoxSize.height),ht.width=Math.min(ht.width,this._lastBoundingBoxSize.width));const ut={};if(this._hasExactPosition())ut.top=ut.left="0",ut.bottom=ut.right=ut.maxHeight=ut.maxWidth="",ut.width=ut.height="100%";else{const Mt=this._overlayRef.getConfig().maxHeight,Yt=this._overlayRef.getConfig().maxWidth;ut.height=(0,J.HM)(ht.height),ut.top=(0,J.HM)(ht.top),ut.bottom=(0,J.HM)(ht.bottom),ut.width=(0,J.HM)(ht.width),ut.left=(0,J.HM)(ht.left),ut.right=(0,J.HM)(ht.right),ut.alignItems="center"===Ue.overlayX?"center":"end"===Ue.overlayX?"flex-end":"flex-start",ut.justifyContent="center"===Ue.overlayY?"center":"bottom"===Ue.overlayY?"flex-end":"flex-start",Mt&&(ut.maxHeight=(0,J.HM)(Mt)),Yt&&(ut.maxWidth=(0,J.HM)(Yt))}this._lastBoundingBoxSize=ht,en(this._boundingBox.style,ut)}_resetBoundingBoxStyles(){en(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){en(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ue,Ue){const ht={},ut=this._hasExactPosition(),Mt=this._hasFlexibleDimensions,Yt=this._overlayRef.getConfig();if(ut){const Dn=this._viewportRuler.getViewportScrollPosition();en(ht,this._getExactOverlayY(Ue,ue,Dn)),en(ht,this._getExactOverlayX(Ue,ue,Dn))}else ht.position="static";let an="",Gn=this._getOffset(Ue,"x"),ri=this._getOffset(Ue,"y");Gn&&(an+=`translateX(${Gn}px) `),ri&&(an+=`translateY(${ri}px)`),ht.transform=an.trim(),Yt.maxHeight&&(ut?ht.maxHeight=(0,J.HM)(Yt.maxHeight):Mt&&(ht.maxHeight="")),Yt.maxWidth&&(ut?ht.maxWidth=(0,J.HM)(Yt.maxWidth):Mt&&(ht.maxWidth="")),en(this._pane.style,ht)}_getExactOverlayY(ue,Ue,ht){let ut={top:"",bottom:""},Mt=this._getOverlayPoint(Ue,this._overlayRect,ue);return this._isPushed&&(Mt=this._pushOverlayOnScreen(Mt,this._overlayRect,ht)),"bottom"===ue.overlayY?ut.bottom=this._document.documentElement.clientHeight-(Mt.y+this._overlayRect.height)+"px":ut.top=(0,J.HM)(Mt.y),ut}_getExactOverlayX(ue,Ue,ht){let Yt,ut={left:"",right:""},Mt=this._getOverlayPoint(Ue,this._overlayRect,ue);return this._isPushed&&(Mt=this._pushOverlayOnScreen(Mt,this._overlayRect,ht)),Yt=this._isRtl()?"end"===ue.overlayX?"left":"right":"end"===ue.overlayX?"right":"left","right"===Yt?ut.right=this._document.documentElement.clientWidth-(Mt.x+this._overlayRect.width)+"px":ut.left=(0,J.HM)(Mt.x),ut}_getScrollVisibility(){const ue=this._getOriginRect(),Ue=this._pane.getBoundingClientRect(),ht=this._scrollables.map(ut=>ut.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vt(ue,ht),isOriginOutsideView:Ae(ue,ht),isOverlayClipped:vt(Ue,ht),isOverlayOutsideView:Ae(Ue,ht)}}_subtractOverflows(ue,...Ue){return Ue.reduce((ht,ut)=>ht-Math.max(ut,0),ue)}_getNarrowedViewportRect(){const ue=this._document.documentElement.clientWidth,Ue=this._document.documentElement.clientHeight,ht=this._viewportRuler.getViewportScrollPosition();return{top:ht.top+this._viewportMargin,left:ht.left+this._viewportMargin,right:ht.left+ue-this._viewportMargin,bottom:ht.top+Ue-this._viewportMargin,width:ue-2*this._viewportMargin,height:Ue-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ue,Ue){return"x"===Ue?null==ue.offsetX?this._offsetX:ue.offsetX:null==ue.offsetY?this._offsetY:ue.offsetY}_validatePositions(){}_addPanelClasses(ue){this._pane&&(0,J.Eq)(ue).forEach(Ue=>{""!==Ue&&-1===this._appliedPanelClasses.indexOf(Ue)&&(this._appliedPanelClasses.push(Ue),this._pane.classList.add(Ue))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ue=>{this._pane.classList.remove(ue)}),this._appliedPanelClasses=[])}_getOriginRect(){const ue=this._origin;if(ue instanceof h.SBq)return ue.nativeElement.getBoundingClientRect();if(ue instanceof Element)return ue.getBoundingClientRect();const Ue=ue.width||0,ht=ue.height||0;return{top:ue.y,bottom:ue.y+ht,left:ue.x,right:ue.x+Ue,height:ht,width:Ue}}}function en(Tt,ue){for(let Ue in ue)ue.hasOwnProperty(Ue)&&(Tt[Ue]=ue[Ue]);return Tt}function qt(Tt){if("number"!=typeof Tt&&null!=Tt){const[ue,Ue]=Tt.split(Nt);return Ue&&"px"!==Ue?null:parseFloat(ue)}return Tt||null}function cn(Tt){return{top:Math.floor(Tt.top),right:Math.floor(Tt.right),bottom:Math.floor(Tt.bottom),left:Math.floor(Tt.left),width:Math.floor(Tt.width),height:Math.floor(Tt.height)}}const Ft="cdk-global-overlay-wrapper";class Qe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ue){const Ue=ue.getConfig();this._overlayRef=ue,this._width&&!Ue.width&&ue.updateSize({width:this._width}),this._height&&!Ue.height&&ue.updateSize({height:this._height}),ue.hostElement.classList.add(Ft),this._isDisposed=!1}top(ue=""){return this._bottomOffset="",this._topOffset=ue,this._alignItems="flex-start",this}left(ue=""){return this._xOffset=ue,this._xPosition="left",this}bottom(ue=""){return this._topOffset="",this._bottomOffset=ue,this._alignItems="flex-end",this}right(ue=""){return this._xOffset=ue,this._xPosition="right",this}start(ue=""){return this._xOffset=ue,this._xPosition="start",this}end(ue=""){return this._xOffset=ue,this._xPosition="end",this}width(ue=""){return this._overlayRef?this._overlayRef.updateSize({width:ue}):this._width=ue,this}height(ue=""){return this._overlayRef?this._overlayRef.updateSize({height:ue}):this._height=ue,this}centerHorizontally(ue=""){return this.left(ue),this._xPosition="center",this}centerVertically(ue=""){return this.top(ue),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ue=this._overlayRef.overlayElement.style,Ue=this._overlayRef.hostElement.style,ht=this._overlayRef.getConfig(),{width:ut,height:Mt,maxWidth:Yt,maxHeight:an}=ht,Gn=!("100%"!==ut&&"100vw"!==ut||Yt&&"100%"!==Yt&&"100vw"!==Yt),ri=!("100%"!==Mt&&"100vh"!==Mt||an&&"100%"!==an&&"100vh"!==an),Dn=this._xPosition,dn=this._xOffset,jn="rtl"===this._overlayRef.getConfig().direction;let $e="",Dt="",Wt="";Gn?Wt="flex-start":"center"===Dn?(Wt="center",jn?Dt=dn:$e=dn):jn?"left"===Dn||"end"===Dn?(Wt="flex-end",$e=dn):("right"===Dn||"start"===Dn)&&(Wt="flex-start",Dt=dn):"left"===Dn||"start"===Dn?(Wt="flex-start",$e=dn):("right"===Dn||"end"===Dn)&&(Wt="flex-end",Dt=dn),ue.position=this._cssPosition,ue.marginLeft=Gn?"0":$e,ue.marginTop=ri?"0":this._topOffset,ue.marginBottom=this._bottomOffset,ue.marginRight=Gn?"0":Dt,Ue.justifyContent=Wt,Ue.alignItems=ri?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ue=this._overlayRef.overlayElement.style,Ue=this._overlayRef.hostElement,ht=Ue.style;Ue.classList.remove(Ft),ht.justifyContent=ht.alignItems=ue.marginTop=ue.marginBottom=ue.marginLeft=ue.marginRight=ue.position="",this._overlayRef=null,this._isDisposed=!0}}let ot=(()=>{class Tt{constructor(Ue,ht,ut,Mt){this._viewportRuler=Ue,this._document=ht,this._platform=ut,this._overlayContainer=Mt}global(){return new Qe}flexibleConnectedTo(Ue){return new Ut(Ue,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Tt.\u0275fac=function(Ue){return new(Ue||Tt)(h.LFG(l.rL),h.LFG(C.K0),h.LFG(we.t4),h.LFG(On))},Tt.\u0275prov=h.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),Ot=0,yt=(()=>{class Tt{constructor(Ue,ht,ut,Mt,Yt,an,Gn,ri,Dn,dn,jn,$e){this.scrollStrategies=Ue,this._overlayContainer=ht,this._componentFactoryResolver=ut,this._positionBuilder=Mt,this._keyboardDispatcher=Yt,this._injector=an,this._ngZone=Gn,this._document=ri,this._directionality=Dn,this._location=dn,this._outsideClickDispatcher=jn,this._animationsModuleType=$e}create(Ue){const ht=this._createHostElement(),ut=this._createPaneElement(ht),Mt=this._createPortalOutlet(ut),Yt=new he(Ue);return Yt.direction=Yt.direction||this._directionality.value,new pt(Mt,ht,ut,Yt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ue){const ht=this._document.createElement("div");return ht.id="cdk-overlay-"+Ot++,ht.classList.add("cdk-overlay-pane"),Ue.appendChild(ht),ht}_createHostElement(){const Ue=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ue),Ue}_createPortalOutlet(Ue){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new re.u0(Ue,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Tt.\u0275fac=function(Ue){return new(Ue||Tt)(h.LFG(Ee),h.LFG(On),h.LFG(h._Vd),h.LFG(ot),h.LFG(xt),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(C.K0),h.LFG(Ce.Is),h.LFG(C.Ye),h.LFG(wn),h.LFG(h.QbO,8))},Tt.\u0275prov=h.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})();const Zt={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[yt],useFactory:function Ke(Tt){return()=>Tt.scrollStrategies.reposition()}};let yn=(()=>{class Tt{}return Tt.\u0275fac=function(Ue){return new(Ue||Tt)},Tt.\u0275mod=h.oAB({type:Tt}),Tt.\u0275inj=h.cJS({providers:[yt,Zt],imports:[Ce.vT,re.eL,l.Cl,l.Cl]}),Tt})()},2966:(pn,rt,w)=>{w.d(rt,{Mq:()=>Pe,Oy:()=>me,ht:()=>Ae,i$:()=>fe,kV:()=>Ve,sA:()=>vt,t4:()=>J});var l=w(2223),C=w(4755);let h;try{h=typeof Intl<"u"&&Intl.v8BreakIterator}catch{h=!1}let Ce,He,Ge,J=(()=>{class Ee{constructor(pe){this._platformId=pe,this.isBrowser=this._platformId?(0,C.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!h)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ee.\u0275fac=function(pe){return new(pe||Ee)(l.LFG(l.Lbi))},Ee.\u0275prov=l.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();function fe(Ee){return function re(){if(null==Ce&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ce=!0}))}finally{Ce=Ce||!1}return Ce}()?Ee:!!Ee.capture}function Pe(){if(null==He){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return He=!1,He;if("scrollBehavior"in document.documentElement.style)He=!0;else{const Ee=Element.prototype.scrollTo;He=!!Ee&&!/\{\s*\[native code\]\s*\}/.test(Ee.toString())}}return He}function Ve(Ee){if(function Xe(){if(null==Ge){const Ee=typeof document<"u"?document.head:null;Ge=!(!Ee||!Ee.createShadowRoot&&!Ee.attachShadow)}return Ge}()){const he=Ee.getRootNode?Ee.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&he instanceof ShadowRoot)return he}return null}function Ae(){let Ee=typeof document<"u"&&document?document.activeElement:null;for(;Ee&&Ee.shadowRoot;){const he=Ee.shadowRoot.activeElement;if(he===Ee)break;Ee=he}return Ee}function vt(Ee){return Ee.composedPath?Ee.composedPath()[0]:Ee.target}function me(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8023:(pn,rt,w)=>{w.d(rt,{C5:()=>re,Pl:()=>Ae,UE:()=>fe,eL:()=>me,en:()=>He,ig:()=>Xe,u0:()=>at});var l=w(2223),C=w(4755);class Ce{attach(pe){return this._attachedHost=pe,pe.attach(this)}detach(){let pe=this._attachedHost;null!=pe&&(this._attachedHost=null,pe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(pe){this._attachedHost=pe}}class re extends Ce{constructor(pe,Ne,Y,Ye,Be){super(),this.component=pe,this.viewContainerRef=Ne,this.injector=Y,this.componentFactoryResolver=Ye,this.projectableNodes=Be}}class fe extends Ce{constructor(pe,Ne,Y,Ye){super(),this.templateRef=pe,this.viewContainerRef=Ne,this.context=Y,this.injector=Ye}get origin(){return this.templateRef.elementRef}attach(pe,Ne=this.context){return this.context=Ne,super.attach(pe)}detach(){return this.context=void 0,super.detach()}}class ge extends Ce{constructor(pe){super(),this.element=pe instanceof l.SBq?pe.nativeElement:pe}}class He{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(pe){return pe instanceof re?(this._attachedPortal=pe,this.attachComponentPortal(pe)):pe instanceof fe?(this._attachedPortal=pe,this.attachTemplatePortal(pe)):this.attachDomPortal&&pe instanceof ge?(this._attachedPortal=pe,this.attachDomPortal(pe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(pe){this._disposeFn=pe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class at extends He{constructor(pe,Ne,Y,Ye,Be){super(),this.outletElement=pe,this._componentFactoryResolver=Ne,this._appRef=Y,this._defaultInjector=Ye,this.attachDomPortal=qe=>{const xt=qe.element,wn=this._document.createComment("dom-portal");xt.parentNode.insertBefore(wn,xt),this.outletElement.appendChild(xt),this._attachedPortal=qe,super.setDisposeFn(()=>{wn.parentNode&&wn.parentNode.replaceChild(xt,wn)})},this._document=Be}attachComponentPortal(pe){const Y=(pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(pe.component);let Ye;return pe.viewContainerRef?(Ye=pe.viewContainerRef.createComponent(Y,pe.viewContainerRef.length,pe.injector||pe.viewContainerRef.injector,pe.projectableNodes||void 0),this.setDisposeFn(()=>Ye.destroy())):(Ye=Y.create(pe.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ye.hostView),Ye.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ye)),this._attachedPortal=pe,Ye}attachTemplatePortal(pe){let Ne=pe.viewContainerRef,Y=Ne.createEmbeddedView(pe.templateRef,pe.context,{injector:pe.injector});return Y.rootNodes.forEach(Ye=>this.outletElement.appendChild(Ye)),Y.detectChanges(),this.setDisposeFn(()=>{let Ye=Ne.indexOf(Y);-1!==Ye&&Ne.remove(Ye)}),this._attachedPortal=pe,Y}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(pe){return pe.hostView.rootNodes[0]}}let Xe=(()=>{class he extends fe{constructor(Ne,Y){super(Ne,Y)}}return he.\u0275fac=function(Ne){return new(Ne||he)(l.Y36(l.Rgc),l.Y36(l.s_b))},he.\u0275dir=l.lG2({type:he,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[l.qOj]}),he})(),Ae=(()=>{class he extends He{constructor(Ne,Y,Ye){super(),this._componentFactoryResolver=Ne,this._viewContainerRef=Y,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=Be=>{const qe=Be.element,xt=this._document.createComment("dom-portal");Be.setAttachedHost(this),qe.parentNode.insertBefore(xt,qe),this._getRootNode().appendChild(qe),this._attachedPortal=Be,super.setDisposeFn(()=>{xt.parentNode&&xt.parentNode.replaceChild(qe,xt)})},this._document=Ye}get portal(){return this._attachedPortal}set portal(Ne){this.hasAttached()&&!Ne&&!this._isInitialized||(this.hasAttached()&&super.detach(),Ne&&super.attach(Ne),this._attachedPortal=Ne||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Ne){Ne.setAttachedHost(this);const Y=null!=Ne.viewContainerRef?Ne.viewContainerRef:this._viewContainerRef,Be=(Ne.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ne.component),qe=Y.createComponent(Be,Y.length,Ne.injector||Y.injector,Ne.projectableNodes||void 0);return Y!==this._viewContainerRef&&this._getRootNode().appendChild(qe.hostView.rootNodes[0]),super.setDisposeFn(()=>qe.destroy()),this._attachedPortal=Ne,this._attachedRef=qe,this.attached.emit(qe),qe}attachTemplatePortal(Ne){Ne.setAttachedHost(this);const Y=this._viewContainerRef.createEmbeddedView(Ne.templateRef,Ne.context,{injector:Ne.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Ne,this._attachedRef=Y,this.attached.emit(Y),Y}_getRootNode(){const Ne=this._viewContainerRef.element.nativeElement;return Ne.nodeType===Ne.ELEMENT_NODE?Ne:Ne.parentNode}}return he.\u0275fac=function(Ne){return new(Ne||he)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(C.K0))},he.\u0275dir=l.lG2({type:he,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),he})(),me=(()=>{class he{}return he.\u0275fac=function(Ne){return new(Ne||he)},he.\u0275mod=l.oAB({type:he}),he.\u0275inj=l.cJS({}),he})()},4709:(pn,rt,w)=>{w.d(rt,{ZD:()=>zt,mF:()=>gt,Cl:()=>kt,rL:()=>en});var l=w(1692),C=w(2223),h=w(7579),J=w(9646),we=w(9751),oe=w(4968),W=w(4408),_e=w(727);const Ce={schedule(At){let dt=requestAnimationFrame,Ke=cancelAnimationFrame;const{delegate:Zt}=Ce;Zt&&(dt=Zt.requestAnimationFrame,Ke=Zt.cancelAnimationFrame);const yn=dt(ln=>{Ke=void 0,At(ln)});return new _e.w0(()=>Ke?.(yn))},requestAnimationFrame(...At){const{delegate:dt}=Ce;return(dt?.requestAnimationFrame||requestAnimationFrame)(...At)},cancelAnimationFrame(...At){const{delegate:dt}=Ce;return(dt?.cancelAnimationFrame||cancelAnimationFrame)(...At)},delegate:void 0};var fe=w(7565);new class ge extends fe.v{flush(dt){this._active=!0;const Ke=this._scheduled;this._scheduled=void 0;const{actions:Zt}=this;let yn;dt=dt||Zt.shift();do{if(yn=dt.execute(dt.state,dt.delay))break}while((dt=Zt[0])&&dt.id===Ke&&Zt.shift());if(this._active=!1,yn){for(;(dt=Zt[0])&&dt.id===Ke&&Zt.shift();)dt.unsubscribe();throw yn}}}(class re extends W.o{constructor(dt,Ke){super(dt,Ke),this.scheduler=dt,this.work=Ke}requestAsyncId(dt,Ke,Zt=0){return null!==Zt&&Zt>0?super.requestAsyncId(dt,Ke,Zt):(dt.actions.push(this),dt._scheduled||(dt._scheduled=Ce.requestAnimationFrame(()=>dt.flush(void 0))))}recycleAsyncId(dt,Ke,Zt=0){var yn;if(null!=Zt?Zt>0:this.delay>0)return super.recycleAsyncId(dt,Ke,Zt);const{actions:ln}=dt;null!=Ke&&(null===(yn=ln[ln.length-1])||void 0===yn?void 0:yn.id)!==Ke&&(Ce.cancelAnimationFrame(Ke),dt._scheduled=void 0)}});w(3101);var Ge=w(4986),Xe=w(4482),Ve=w(8421),Ae=w(5403),me=w(5963);function Ee(At,dt=Ge.z){return function vt(At){return(0,Xe.e)((dt,Ke)=>{let Zt=!1,yn=null,ln=null,Tt=!1;const ue=()=>{if(ln?.unsubscribe(),ln=null,Zt){Zt=!1;const ht=yn;yn=null,Ke.next(ht)}Tt&&Ke.complete()},Ue=()=>{ln=null,Tt&&Ke.complete()};dt.subscribe((0,Ae.x)(Ke,ht=>{Zt=!0,yn=ht,ln||(0,Ve.Xf)(At(ht)).subscribe(ln=(0,Ae.x)(Ke,ue,Ue))},()=>{Tt=!0,(!Zt||!ln||ln.closed)&&Ke.complete()}))})}(()=>(0,me.H)(At,dt))}var he=w(9300),pe=w(2966),Ne=w(4755),Y=w(8930);let gt=(()=>{class At{constructor(Ke,Zt,yn){this._ngZone=Ke,this._platform=Zt,this._scrolled=new h.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=yn}register(Ke){this.scrollContainers.has(Ke)||this.scrollContainers.set(Ke,Ke.elementScrolled().subscribe(()=>this._scrolled.next(Ke)))}deregister(Ke){const Zt=this.scrollContainers.get(Ke);Zt&&(Zt.unsubscribe(),this.scrollContainers.delete(Ke))}scrolled(Ke=20){return this._platform.isBrowser?new we.y(Zt=>{this._globalSubscription||this._addGlobalListener();const yn=Ke>0?this._scrolled.pipe(Ee(Ke)).subscribe(Zt):this._scrolled.subscribe(Zt);return this._scrolledCount++,()=>{yn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,J.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ke,Zt)=>this.deregister(Zt)),this._scrolled.complete()}ancestorScrolled(Ke,Zt){const yn=this.getAncestorScrollContainers(Ke);return this.scrolled(Zt).pipe((0,he.h)(ln=>!ln||yn.indexOf(ln)>-1))}getAncestorScrollContainers(Ke){const Zt=[];return this.scrollContainers.forEach((yn,ln)=>{this._scrollableContainsElement(ln,Ke)&&Zt.push(ln)}),Zt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ke,Zt){let yn=(0,l.fI)(Zt),ln=Ke.getElementRef().nativeElement;do{if(yn==ln)return!0}while(yn=yn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ke=this._getWindow();return(0,oe.R)(Ke.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return At.\u0275fac=function(Ke){return new(Ke||At)(C.LFG(C.R0b),C.LFG(pe.t4),C.LFG(Ne.K0,8))},At.\u0275prov=C.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),At})(),en=(()=>{class At{constructor(Ke,Zt,yn){this._platform=Ke,this._change=new h.x,this._changeListener=ln=>{this._change.next(ln)},this._document=yn,Zt.runOutsideAngular(()=>{if(Ke.isBrowser){const ln=this._getWindow();ln.addEventListener("resize",this._changeListener),ln.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ke=this._getWindow();Ke.removeEventListener("resize",this._changeListener),Ke.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ke={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ke}getViewportRect(){const Ke=this.getViewportScrollPosition(),{width:Zt,height:yn}=this.getViewportSize();return{top:Ke.top,left:Ke.left,bottom:Ke.top+yn,right:Ke.left+Zt,height:yn,width:Zt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ke=this._document,Zt=this._getWindow(),yn=Ke.documentElement,ln=yn.getBoundingClientRect();return{top:-ln.top||Ke.body.scrollTop||Zt.scrollY||yn.scrollTop||0,left:-ln.left||Ke.body.scrollLeft||Zt.scrollX||yn.scrollLeft||0}}change(Ke=20){return Ke>0?this._change.pipe(Ee(Ke)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ke=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ke.innerWidth,height:Ke.innerHeight}:{width:0,height:0}}}return At.\u0275fac=function(Ke){return new(Ke||At)(C.LFG(pe.t4),C.LFG(C.R0b),C.LFG(Ne.K0,8))},At.\u0275prov=C.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),At})(),zt=(()=>{class At{}return At.\u0275fac=function(Ke){return new(Ke||At)},At.\u0275mod=C.oAB({type:At}),At.\u0275inj=C.cJS({}),At})(),kt=(()=>{class At{}return At.\u0275fac=function(Ke){return new(Ke||At)},At.\u0275mod=C.oAB({type:At}),At.\u0275inj=C.cJS({imports:[Y.vT,zt,Y.vT,zt]}),At})()},4755:(pn,rt,w)=>{w.d(rt,{Do:()=>Ge,EM:()=>Ko,HT:()=>J,JF:()=>Fr,K0:()=>oe,Mx:()=>to,NF:()=>fs,O5:()=>io,PM:()=>cr,S$:()=>He,V_:()=>_e,Ye:()=>Xe,b0:()=>at,bD:()=>is,ez:()=>yo,mk:()=>Mr,q:()=>h,sg:()=>ho,tP:()=>ts,uU:()=>oi,w_:()=>we});var l=w(2223);let C=null;function h(){return C}function J(F){C||(C=F)}class we{}const oe=new l.OlP("DocumentToken");let W=(()=>{class F{historyGo(B){throw new Error("Not implemented")}}return F.\u0275fac=function(B){return new(B||F)},F.\u0275prov=l.Yz7({token:F,factory:function(){return(0,l.f3M)(Ce)},providedIn:"platform"}),F})();const _e=new l.OlP("Location Initialized");let Ce=(()=>{class F extends W{constructor(){super(),this._doc=(0,l.f3M)(oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return h().getBaseHref(this._doc)}onPopState(B){const be=h().getGlobalEventTarget(this._doc,"window");return be.addEventListener("popstate",B,!1),()=>be.removeEventListener("popstate",B)}onHashChange(B){const be=h().getGlobalEventTarget(this._doc,"window");return be.addEventListener("hashchange",B,!1),()=>be.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,be,it){this._history.pushState(B,be,it)}replaceState(B,be,it){this._history.replaceState(B,be,it)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return F.\u0275fac=function(B){return new(B||F)},F.\u0275prov=l.Yz7({token:F,factory:function(){return new F},providedIn:"platform"}),F})();function re(F,ee){if(0==F.length)return ee;if(0==ee.length)return F;let B=0;return F.endsWith("/")&&B++,ee.startsWith("/")&&B++,2==B?F+ee.substring(1):1==B?F+ee:F+"/"+ee}function fe(F){const ee=F.match(/#|\?|$/),B=ee&&ee.index||F.length;return F.slice(0,B-("/"===F[B-1]?1:0))+F.slice(B)}function ge(F){return F&&"?"!==F[0]?"?"+F:F}let He=(()=>{class F{historyGo(B){throw new Error("Not implemented")}}return F.\u0275fac=function(B){return new(B||F)},F.\u0275prov=l.Yz7({token:F,factory:function(){return(0,l.f3M)(at)},providedIn:"root"}),F})();const Pe=new l.OlP("appBaseHref");let at=(()=>{class F extends He{constructor(B,be){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=be??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return re(this._baseHref,B)}path(B=!1){const be=this._platformLocation.pathname+ge(this._platformLocation.search),it=this._platformLocation.hash;return it&&B?`${be}${it}`:be}pushState(B,be,it,tn){const fn=this.prepareExternalUrl(it+ge(tn));this._platformLocation.pushState(B,be,fn)}replaceState(B,be,it,tn){const fn=this.prepareExternalUrl(it+ge(tn));this._platformLocation.replaceState(B,be,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return F.\u0275fac=function(B){return new(B||F)(l.LFG(W),l.LFG(Pe,8))},F.\u0275prov=l.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Ge=(()=>{class F extends He{constructor(B,be){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=be&&(this._baseHref=be)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let be=this._platformLocation.hash;return null==be&&(be="#"),be.length>0?be.substring(1):be}prepareExternalUrl(B){const be=re(this._baseHref,B);return be.length>0?"#"+be:be}pushState(B,be,it,tn){let fn=this.prepareExternalUrl(it+ge(tn));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.pushState(B,be,fn)}replaceState(B,be,it,tn){let fn=this.prepareExternalUrl(it+ge(tn));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.replaceState(B,be,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return F.\u0275fac=function(B){return new(B||F)(l.LFG(W),l.LFG(Pe,8))},F.\u0275prov=l.Yz7({token:F,factory:F.\u0275fac}),F})(),Xe=(()=>{class F{constructor(B){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const be=this._locationStrategy.getBaseHref();this._basePath=function me(F){if(new RegExp("^(https?:)?//").test(F)){const[,B]=F.split(/\/\/[^\/]+/);return B}return F}(fe(vt(be))),this._locationStrategy.onPopState(it=>{this._subject.emit({url:this.path(!0),pop:!0,state:it.state,type:it.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,be=""){return this.path()==this.normalize(B+ge(be))}normalize(B){return F.stripTrailingSlash(function Ae(F,ee){if(!F||!ee.startsWith(F))return ee;const B=ee.substring(F.length);return""===B||["/",";","?","#"].includes(B[0])?B:ee}(this._basePath,vt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,be="",it=null){this._locationStrategy.pushState(it,"",B,be),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+ge(be)),it)}replaceState(B,be="",it=null){this._locationStrategy.replaceState(it,"",B,be),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+ge(be)),it)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(be=>{this._notifyUrlChangeListeners(be.url,be.state)})),()=>{const be=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(be,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",be){this._urlChangeListeners.forEach(it=>it(B,be))}subscribe(B,be,it){return this._subject.subscribe({next:B,error:be,complete:it})}}return F.normalizeQueryParams=ge,F.joinWithSlash=re,F.stripTrailingSlash=fe,F.\u0275fac=function(B){return new(B||F)(l.LFG(He))},F.\u0275prov=l.Yz7({token:F,factory:function(){return function Ve(){return new Xe((0,l.LFG)(He))}()},providedIn:"root"}),F})();function vt(F){return F.replace(/\/index.html$/,"")}var Ne=(()=>((Ne=Ne||{})[Ne.Format=0]="Format",Ne[Ne.Standalone=1]="Standalone",Ne))(),Y=(()=>((Y=Y||{})[Y.Narrow=0]="Narrow",Y[Y.Abbreviated=1]="Abbreviated",Y[Y.Wide=2]="Wide",Y[Y.Short=3]="Short",Y))(),Ye=(()=>((Ye=Ye||{})[Ye.Short=0]="Short",Ye[Ye.Medium=1]="Medium",Ye[Ye.Long=2]="Long",Ye[Ye.Full=3]="Full",Ye))(),Be=(()=>((Be=Be||{})[Be.Decimal=0]="Decimal",Be[Be.Group=1]="Group",Be[Be.List=2]="List",Be[Be.PercentSign=3]="PercentSign",Be[Be.PlusSign=4]="PlusSign",Be[Be.MinusSign=5]="MinusSign",Be[Be.Exponential=6]="Exponential",Be[Be.SuperscriptingExponent=7]="SuperscriptingExponent",Be[Be.PerMille=8]="PerMille",Be[Be.Infinity=9]="Infinity",Be[Be.NaN=10]="NaN",Be[Be.TimeSeparator=11]="TimeSeparator",Be[Be.CurrencyDecimal=12]="CurrencyDecimal",Be[Be.CurrencyGroup=13]="CurrencyGroup",Be))();function en(F,ee){return Ke((0,l.cg1)(F)[l.wAp.DateFormat],ee)}function qt(F,ee){return Ke((0,l.cg1)(F)[l.wAp.TimeFormat],ee)}function cn(F,ee){return Ke((0,l.cg1)(F)[l.wAp.DateTimeFormat],ee)}function bn(F,ee){const B=(0,l.cg1)(F),be=B[l.wAp.NumberSymbols][ee];if(typeof be>"u"){if(ee===Be.CurrencyDecimal)return B[l.wAp.NumberSymbols][Be.Decimal];if(ee===Be.CurrencyGroup)return B[l.wAp.NumberSymbols][Be.Group]}return be}function zt(F){if(!F[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${F[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ke(F,ee){for(let B=ee;B>-1;B--)if(typeof F[B]<"u")return F[B];throw new Error("Locale data API: locale data undefined")}function Zt(F){const[ee,B]=F.split(":");return{hours:+ee,minutes:+B}}const ue=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ue={},ht=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ut=(()=>((ut=ut||{})[ut.Short=0]="Short",ut[ut.ShortGMT=1]="ShortGMT",ut[ut.Long=2]="Long",ut[ut.Extended=3]="Extended",ut))(),Mt=(()=>((Mt=Mt||{})[Mt.FullYear=0]="FullYear",Mt[Mt.Month=1]="Month",Mt[Mt.Date=2]="Date",Mt[Mt.Hours=3]="Hours",Mt[Mt.Minutes=4]="Minutes",Mt[Mt.Seconds=5]="Seconds",Mt[Mt.FractionalSeconds=6]="FractionalSeconds",Mt[Mt.Day=7]="Day",Mt))(),Yt=(()=>((Yt=Yt||{})[Yt.DayPeriods=0]="DayPeriods",Yt[Yt.Days=1]="Days",Yt[Yt.Months=2]="Months",Yt[Yt.Eras=3]="Eras",Yt))();function an(F,ee,B,be){let it=function ce(F){if(V(F))return F;if("number"==typeof F&&!isNaN(F))return new Date(F);if("string"==typeof F){if(F=F.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(F)){const[it,tn=1,fn=1]=F.split("-").map(Yn=>+Yn);return Gn(it,tn-1,fn)}const B=parseFloat(F);if(!isNaN(F-B))return new Date(B);let be;if(be=F.match(ue))return function H(F){const ee=new Date(0);let B=0,be=0;const it=F[8]?ee.setUTCFullYear:ee.setFullYear,tn=F[8]?ee.setUTCHours:ee.setHours;F[9]&&(B=Number(F[9]+F[10]),be=Number(F[9]+F[11])),it.call(ee,Number(F[1]),Number(F[2])-1,Number(F[3]));const fn=Number(F[4]||0)-B,Yn=Number(F[5]||0)-be,Bi=Number(F[6]||0),Ii=Math.floor(1e3*parseFloat("0."+(F[7]||0)));return tn.call(ee,fn,Yn,Bi,Ii),ee}(be)}const ee=new Date(F);if(!V(ee))throw new Error(`Unable to convert "${F}" into a date`);return ee}(F);ee=ri(B,ee)||ee;let Yn,fn=[];for(;ee;){if(Yn=ht.exec(ee),!Yn){fn.push(ee);break}{fn=fn.concat(Yn.slice(1));const bi=fn.pop();if(!bi)break;ee=bi}}let Bi=it.getTimezoneOffset();be&&(Bi=Ct(be,Bi),it=function Re(F,ee,B){const be=B?-1:1,it=F.getTimezoneOffset();return function $t(F,ee){return(F=new Date(F.getTime())).setMinutes(F.getMinutes()+ee),F}(F,be*(Ct(ee,it)-it))}(it,be,!0));let Ii="";return fn.forEach(bi=>{const Di=function ke(F){if(Le[F])return Le[F];let ee;switch(F){case"G":case"GG":case"GGG":ee=Wt(Yt.Eras,Y.Abbreviated);break;case"GGGG":ee=Wt(Yt.Eras,Y.Wide);break;case"GGGGG":ee=Wt(Yt.Eras,Y.Narrow);break;case"y":ee=$e(Mt.FullYear,1,0,!1,!0);break;case"yy":ee=$e(Mt.FullYear,2,0,!0,!0);break;case"yyy":ee=$e(Mt.FullYear,3,0,!1,!0);break;case"yyyy":ee=$e(Mt.FullYear,4,0,!1,!0);break;case"Y":ee=ze(1);break;case"YY":ee=ze(2,!0);break;case"YYY":ee=ze(3);break;case"YYYY":ee=ze(4);break;case"M":case"L":ee=$e(Mt.Month,1,1);break;case"MM":case"LL":ee=$e(Mt.Month,2,1);break;case"MMM":ee=Wt(Yt.Months,Y.Abbreviated);break;case"MMMM":ee=Wt(Yt.Months,Y.Wide);break;case"MMMMM":ee=Wt(Yt.Months,Y.Narrow);break;case"LLL":ee=Wt(Yt.Months,Y.Abbreviated,Ne.Standalone);break;case"LLLL":ee=Wt(Yt.Months,Y.Wide,Ne.Standalone);break;case"LLLLL":ee=Wt(Yt.Months,Y.Narrow,Ne.Standalone);break;case"w":ee=lt(1);break;case"ww":ee=lt(2);break;case"W":ee=lt(1,!0);break;case"d":ee=$e(Mt.Date,1);break;case"dd":ee=$e(Mt.Date,2);break;case"c":case"cc":ee=$e(Mt.Day,1);break;case"ccc":ee=Wt(Yt.Days,Y.Abbreviated,Ne.Standalone);break;case"cccc":ee=Wt(Yt.Days,Y.Wide,Ne.Standalone);break;case"ccccc":ee=Wt(Yt.Days,Y.Narrow,Ne.Standalone);break;case"cccccc":ee=Wt(Yt.Days,Y.Short,Ne.Standalone);break;case"E":case"EE":case"EEE":ee=Wt(Yt.Days,Y.Abbreviated);break;case"EEEE":ee=Wt(Yt.Days,Y.Wide);break;case"EEEEE":ee=Wt(Yt.Days,Y.Narrow);break;case"EEEEEE":ee=Wt(Yt.Days,Y.Short);break;case"a":case"aa":case"aaa":ee=Wt(Yt.DayPeriods,Y.Abbreviated);break;case"aaaa":ee=Wt(Yt.DayPeriods,Y.Wide);break;case"aaaaa":ee=Wt(Yt.DayPeriods,Y.Narrow);break;case"b":case"bb":case"bbb":ee=Wt(Yt.DayPeriods,Y.Abbreviated,Ne.Standalone,!0);break;case"bbbb":ee=Wt(Yt.DayPeriods,Y.Wide,Ne.Standalone,!0);break;case"bbbbb":ee=Wt(Yt.DayPeriods,Y.Narrow,Ne.Standalone,!0);break;case"B":case"BB":case"BBB":ee=Wt(Yt.DayPeriods,Y.Abbreviated,Ne.Format,!0);break;case"BBBB":ee=Wt(Yt.DayPeriods,Y.Wide,Ne.Format,!0);break;case"BBBBB":ee=Wt(Yt.DayPeriods,Y.Narrow,Ne.Format,!0);break;case"h":ee=$e(Mt.Hours,1,-12);break;case"hh":ee=$e(Mt.Hours,2,-12);break;case"H":ee=$e(Mt.Hours,1);break;case"HH":ee=$e(Mt.Hours,2);break;case"m":ee=$e(Mt.Minutes,1);break;case"mm":ee=$e(Mt.Minutes,2);break;case"s":ee=$e(Mt.Seconds,1);break;case"ss":ee=$e(Mt.Seconds,2);break;case"S":ee=$e(Mt.FractionalSeconds,1);break;case"SS":ee=$e(Mt.FractionalSeconds,2);break;case"SSS":ee=$e(Mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=di(ut.Short);break;case"ZZZZZ":ee=di(ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=di(ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=di(ut.Long);break;default:return null}return Le[F]=ee,ee}(bi);Ii+=Di?Di(it,B,Bi):"''"===bi?"'":bi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ii}function Gn(F,ee,B){const be=new Date(0);return be.setFullYear(F,ee,B),be.setHours(0,0,0),be}function ri(F,ee){const B=function xt(F){return(0,l.cg1)(F)[l.wAp.LocaleId]}(F);if(Ue[B]=Ue[B]||{},Ue[B][ee])return Ue[B][ee];let be="";switch(ee){case"shortDate":be=en(F,Ye.Short);break;case"mediumDate":be=en(F,Ye.Medium);break;case"longDate":be=en(F,Ye.Long);break;case"fullDate":be=en(F,Ye.Full);break;case"shortTime":be=qt(F,Ye.Short);break;case"mediumTime":be=qt(F,Ye.Medium);break;case"longTime":be=qt(F,Ye.Long);break;case"fullTime":be=qt(F,Ye.Full);break;case"short":const it=ri(F,"shortTime"),tn=ri(F,"shortDate");be=Dn(cn(F,Ye.Short),[it,tn]);break;case"medium":const fn=ri(F,"mediumTime"),Yn=ri(F,"mediumDate");be=Dn(cn(F,Ye.Medium),[fn,Yn]);break;case"long":const Bi=ri(F,"longTime"),Ii=ri(F,"longDate");be=Dn(cn(F,Ye.Long),[Bi,Ii]);break;case"full":const bi=ri(F,"fullTime"),Di=ri(F,"fullDate");be=Dn(cn(F,Ye.Full),[bi,Di])}return be&&(Ue[B][ee]=be),be}function Dn(F,ee){return ee&&(F=F.replace(/\{([^}]+)}/g,function(B,be){return null!=ee&&be in ee?ee[be]:B})),F}function dn(F,ee,B="-",be,it){let tn="";(F<0||it&&F<=0)&&(it?F=1-F:(F=-F,tn=B));let fn=String(F);for(;fn.length<ee;)fn="0"+fn;return be&&(fn=fn.slice(fn.length-ee)),tn+fn}function $e(F,ee,B=0,be=!1,it=!1){return function(tn,fn){let Yn=function Dt(F,ee){switch(F){case Mt.FullYear:return ee.getFullYear();case Mt.Month:return ee.getMonth();case Mt.Date:return ee.getDate();case Mt.Hours:return ee.getHours();case Mt.Minutes:return ee.getMinutes();case Mt.Seconds:return ee.getSeconds();case Mt.FractionalSeconds:return ee.getMilliseconds();case Mt.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${F}".`)}}(F,tn);if((B>0||Yn>-B)&&(Yn+=B),F===Mt.Hours)0===Yn&&-12===B&&(Yn=12);else if(F===Mt.FractionalSeconds)return function jn(F,ee){return dn(F,3).substring(0,ee)}(Yn,ee);const Bi=bn(fn,Be.MinusSign);return dn(Yn,ee,Bi,be,it)}}function Wt(F,ee,B=Ne.Format,be=!1){return function(it,tn){return function Sn(F,ee,B,be,it,tn){switch(B){case Yt.Months:return function pt(F,ee,B){const be=(0,l.cg1)(F),tn=Ke([be[l.wAp.MonthsFormat],be[l.wAp.MonthsStandalone]],ee);return Ke(tn,B)}(ee,it,be)[F.getMonth()];case Yt.Days:return function On(F,ee,B){const be=(0,l.cg1)(F),tn=Ke([be[l.wAp.DaysFormat],be[l.wAp.DaysStandalone]],ee);return Ke(tn,B)}(ee,it,be)[F.getDay()];case Yt.DayPeriods:const fn=F.getHours(),Yn=F.getMinutes();if(tn){const Ii=function kt(F){const ee=(0,l.cg1)(F);return zt(ee),(ee[l.wAp.ExtraData][2]||[]).map(be=>"string"==typeof be?Zt(be):[Zt(be[0]),Zt(be[1])])}(ee),bi=function At(F,ee,B){const be=(0,l.cg1)(F);zt(be);const tn=Ke([be[l.wAp.ExtraData][0],be[l.wAp.ExtraData][1]],ee)||[];return Ke(tn,B)||[]}(ee,it,be),Di=Ii.findIndex(Xi=>{if(Array.isArray(Xi)){const[zn,Br]=Xi,as=fn>=zn.hours&&Yn>=zn.minutes,Wr=fn<Br.hours||fn===Br.hours&&Yn<Br.minutes;if(zn.hours<Br.hours){if(as&&Wr)return!0}else if(as||Wr)return!0}else if(Xi.hours===fn&&Xi.minutes===Yn)return!0;return!1});if(-1!==Di)return bi[Di]}return function wn(F,ee,B){const be=(0,l.cg1)(F),tn=Ke([be[l.wAp.DayPeriodsFormat],be[l.wAp.DayPeriodsStandalone]],ee);return Ke(tn,B)}(ee,it,be)[fn<12?0:1];case Yt.Eras:return function gt(F,ee){return Ke((0,l.cg1)(F)[l.wAp.Eras],ee)}(ee,be)[F.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(it,tn,F,ee,B,be)}}function di(F){return function(ee,B,be){const it=-1*be,tn=bn(B,Be.MinusSign),fn=it>0?Math.floor(it/60):Math.ceil(it/60);switch(F){case ut.Short:return(it>=0?"+":"")+dn(fn,2,tn)+dn(Math.abs(it%60),2,tn);case ut.ShortGMT:return"GMT"+(it>=0?"+":"")+dn(fn,1,tn);case ut.Long:return"GMT"+(it>=0?"+":"")+dn(fn,2,tn)+":"+dn(Math.abs(it%60),2,tn);case ut.Extended:return 0===be?"Z":(it>=0?"+":"")+dn(fn,2,tn)+":"+dn(Math.abs(it%60),2,tn);default:throw new Error(`Unknown zone width "${F}"`)}}}const xi=0,pi=4;function We(F){return Gn(F.getFullYear(),F.getMonth(),F.getDate()+(pi-F.getDay()))}function lt(F,ee=!1){return function(B,be){let it;if(ee){const tn=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,fn=B.getDate();it=1+Math.floor((fn+tn)/7)}else{const tn=We(B),fn=function Qt(F){const ee=Gn(F,xi,1).getDay();return Gn(F,0,1+(ee<=pi?pi:pi+7)-ee)}(tn.getFullYear()),Yn=tn.getTime()-fn.getTime();it=1+Math.round(Yn/6048e5)}return dn(it,F,bn(be,Be.MinusSign))}}function ze(F,ee=!1){return function(B,be){return dn(We(B).getFullYear(),F,bn(be,Be.MinusSign),ee)}}const Le={};function Ct(F,ee){F=F.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+F)/6e4;return isNaN(B)?ee:B}function V(F){return F instanceof Date&&!isNaN(F.valueOf())}function to(F,ee){ee=encodeURIComponent(ee);for(const B of F.split(";")){const be=B.indexOf("="),[it,tn]=-1==be?[B,""]:[B.slice(0,be),B.slice(be+1)];if(it.trim()===ee)return decodeURIComponent(tn)}return null}const bo=/\s+/,hs=[];let Mr=(()=>{class F{constructor(B,be,it,tn){this._iterableDiffers=B,this._keyValueDiffers=be,this._ngEl=it,this._renderer=tn,this.initialClasses=hs,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(bo):hs}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(bo):B}ngDoCheck(){for(const be of this.initialClasses)this._updateState(be,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const be of B)this._updateState(be,!0);else if(null!=B)for(const be of Object.keys(B))this._updateState(be,!!B[be]);this._applyStateDiff()}_updateState(B,be){const it=this.stateMap.get(B);void 0!==it?(it.enabled!==be&&(it.changed=!0,it.enabled=be),it.touched=!0):this.stateMap.set(B,{enabled:be,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const be=B[0],it=B[1];it.changed?(this._toggleClass(be,it.enabled),it.changed=!1):it.touched||(it.enabled&&this._toggleClass(be,!1),this.stateMap.delete(be)),it.touched=!1}}_toggleClass(B,be){(B=B.trim()).length>0&&B.split(bo).forEach(it=>{be?this._renderer.addClass(this._ngEl.nativeElement,it):this._renderer.removeClass(this._ngEl.nativeElement,it)})}}return F.\u0275fac=function(B){return new(B||F)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},F.\u0275dir=l.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class fr{constructor(ee,B,be,it){this.$implicit=ee,this.ngForOf=B,this.index=be,this.count=it}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ho=(()=>{class F{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,be,it){this._viewContainer=B,this._template=be,this._differs=it,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const be=this._viewContainer;B.forEachOperation((it,tn,fn)=>{if(null==it.previousIndex)be.createEmbeddedView(this._template,new fr(it.item,this._ngForOf,-1,-1),null===fn?void 0:fn);else if(null==fn)be.remove(null===tn?void 0:tn);else if(null!==tn){const Yn=be.get(tn);be.move(Yn,fn),Si(Yn,it)}});for(let it=0,tn=be.length;it<tn;it++){const Yn=be.get(it).context;Yn.index=it,Yn.count=tn,Yn.ngForOf=this._ngForOf}B.forEachIdentityChange(it=>{Si(be.get(it.currentIndex),it)})}static ngTemplateContextGuard(B,be){return!0}}return F.\u0275fac=function(B){return new(B||F)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},F.\u0275dir=l.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function Si(F,ee){F.context.$implicit=ee.item}let io=(()=>{class F{constructor(B,be){this._viewContainer=B,this._context=new er,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=be}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){or("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){or("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,be){return!0}}return F.\u0275fac=function(B){return new(B||F)(l.Y36(l.s_b),l.Y36(l.Rgc))},F.\u0275dir=l.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class er{constructor(){this.$implicit=null,this.ngIf=null}}function or(F,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,l.AaK)(ee)}'.`)}let ts=(()=>{class F{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const be=this._viewContainerRef;if(this._viewRef&&be.remove(be.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:it,ngTemplateOutletContext:tn,ngTemplateOutletInjector:fn}=this;this._viewRef=be.createEmbeddedView(it,tn,fn?{injector:fn}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(B){return new(B||F)(l.Y36(l.s_b))},F.\u0275dir=l.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),F})();const hn=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Rn=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let oi=(()=>{class F{constructor(B,be,it){this.locale=B,this.defaultTimezone=be,this.defaultOptions=it}transform(B,be,it,tn){if(null==B||""===B||B!=B)return null;try{return an(B,be??this.defaultOptions?.dateFormat??"mediumDate",tn||this.locale,it??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(fn){throw function mi(F,ee){return new l.vHH(2100,!1)}()}}}return F.\u0275fac=function(B){return new(B||F)(l.Y36(l.soG,16),l.Y36(hn,24),l.Y36(Rn,24))},F.\u0275pipe=l.Yjl({name:"date",type:F,pure:!0,standalone:!0}),F})(),yo=(()=>{class F{}return F.\u0275fac=function(B){return new(B||F)},F.\u0275mod=l.oAB({type:F}),F.\u0275inj=l.cJS({}),F})();const is="browser",Es="server";function fs(F){return F===is}function cr(F){return F===Es}let Ko=(()=>{class F{}return F.\u0275prov=(0,l.Yz7)({token:F,providedIn:"root",factory:()=>new go((0,l.LFG)(oe),window)}),F})();class go{constructor(ee,B){this.document=ee,this.window=B,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const B=function Us(F,ee){const B=F.getElementById(ee)||F.getElementsByName(ee)[0];if(B)return B;if("function"==typeof F.createTreeWalker&&F.body&&"function"==typeof F.body.attachShadow){const be=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let it=be.currentNode;for(;it;){const tn=it.shadowRoot;if(tn){const fn=tn.getElementById(ee)||tn.querySelector(`[name="${ee}"]`);if(fn)return fn}it=be.nextNode()}}return null}(this.document,ee);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=ee)}}scrollToElement(ee){const B=ee.getBoundingClientRect(),be=B.left+this.window.pageXOffset,it=B.top+this.window.pageYOffset,tn=this.offset();this.window.scrollTo(be-tn[0],it-tn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=ps(this.window.history)||ps(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ps(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Fr{}},3144:(pn,rt,w)=>{w.d(rt,{JF:()=>Le,eN:()=>Ut});var l=w(2223),C=w(9646),h=w(8996),J=w(9751),we=w(4351),oe=w(9300),W=w(4004),_e=w(8746),Ce=w(3900),re=w(4755);class fe{}class ge{}class He{constructor(ae){this.normalizedNames=new Map,this.lazyUpdate=null,ae?this.lazyInit="string"==typeof ae?()=>{this.headers=new Map,ae.split("\n").forEach(Ie=>{const Oe=Ie.indexOf(":");if(Oe>0){const Fe=Ie.slice(0,Oe),q=Fe.toLowerCase(),De=Ie.slice(Oe+1).trim();this.maybeSetNormalizedName(Fe,q),this.headers.has(q)?this.headers.get(q).push(De):this.headers.set(q,[De])}})}:()=>{this.headers=new Map,Object.entries(ae).forEach(([Ie,Oe])=>{let Fe;if(Fe="string"==typeof Oe?[Oe]:"number"==typeof Oe?[Oe.toString()]:Oe.map(q=>q.toString()),Fe.length>0){const q=Ie.toLowerCase();this.headers.set(q,Fe),this.maybeSetNormalizedName(Ie,q)}})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const Ie=this.headers.get(ae.toLowerCase());return Ie&&Ie.length>0?Ie[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,Ie){return this.clone({name:ae,value:Ie,op:"a"})}set(ae,Ie){return this.clone({name:ae,value:Ie,op:"s"})}delete(ae,Ie){return this.clone({name:ae,value:Ie,op:"d"})}maybeSetNormalizedName(ae,Ie){this.normalizedNames.has(Ie)||this.normalizedNames.set(Ie,ae)}init(){this.lazyInit&&(this.lazyInit instanceof He?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(Ie=>{this.headers.set(Ie,ae.headers.get(Ie)),this.normalizedNames.set(Ie,ae.normalizedNames.get(Ie))})}clone(ae){const Ie=new He;return Ie.lazyInit=this.lazyInit&&this.lazyInit instanceof He?this.lazyInit:this,Ie.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),Ie}applyUpdate(ae){const Ie=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let Oe=ae.value;if("string"==typeof Oe&&(Oe=[Oe]),0===Oe.length)return;this.maybeSetNormalizedName(ae.name,Ie);const Fe=("a"===ae.op?this.headers.get(Ie):void 0)||[];Fe.push(...Oe),this.headers.set(Ie,Fe);break;case"d":const q=ae.value;if(q){let De=this.headers.get(Ie);if(!De)return;De=De.filter(_t=>-1===q.indexOf(_t)),0===De.length?(this.headers.delete(Ie),this.normalizedNames.delete(Ie)):this.headers.set(Ie,De)}else this.headers.delete(Ie),this.normalizedNames.delete(Ie)}}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ie=>ae(this.normalizedNames.get(Ie),this.headers.get(Ie)))}}class at{encodeKey(ae){return Ae(ae)}encodeValue(ae){return Ae(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const Xe=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ae(de){return encodeURIComponent(de).replace(Xe,(ae,Ie)=>Ve[Ie]??ae)}function vt(de){return`${de}`}class me{constructor(ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ae.encoder||new at,ae.fromString){if(ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ge(de,ae){const Ie=new Map;return de.length>0&&de.replace(/^\?/,"").split("&").forEach(Fe=>{const q=Fe.indexOf("="),[De,_t]=-1==q?[ae.decodeKey(Fe),""]:[ae.decodeKey(Fe.slice(0,q)),ae.decodeValue(Fe.slice(q+1))],Lt=Ie.get(De)||[];Lt.push(_t),Ie.set(De,Lt)}),Ie}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(Ie=>{const Oe=ae.fromObject[Ie],Fe=Array.isArray(Oe)?Oe.map(vt):[vt(Oe)];this.map.set(Ie,Fe)})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const Ie=this.map.get(ae);return Ie?Ie[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,Ie){return this.clone({param:ae,value:Ie,op:"a"})}appendAll(ae){const Ie=[];return Object.keys(ae).forEach(Oe=>{const Fe=ae[Oe];Array.isArray(Fe)?Fe.forEach(q=>{Ie.push({param:Oe,value:q,op:"a"})}):Ie.push({param:Oe,value:Fe,op:"a"})}),this.clone(Ie)}set(ae,Ie){return this.clone({param:ae,value:Ie,op:"s"})}delete(ae,Ie){return this.clone({param:ae,value:Ie,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const Ie=this.encoder.encodeKey(ae);return this.map.get(ae).map(Oe=>Ie+"="+this.encoder.encodeValue(Oe)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const Ie=new me({encoder:this.encoder});return Ie.cloneFrom=this.cloneFrom||this,Ie.updates=(this.updates||[]).concat(ae),Ie}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const Ie=("a"===ae.op?this.map.get(ae.param):void 0)||[];Ie.push(vt(ae.value)),this.map.set(ae.param,Ie);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let Oe=this.map.get(ae.param)||[];const Fe=Oe.indexOf(vt(ae.value));-1!==Fe&&Oe.splice(Fe,1),Oe.length>0?this.map.set(ae.param,Oe):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class he{constructor(){this.map=new Map}set(ae,Ie){return this.map.set(ae,Ie),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function Ne(de){return typeof ArrayBuffer<"u"&&de instanceof ArrayBuffer}function Y(de){return typeof Blob<"u"&&de instanceof Blob}function Ye(de){return typeof FormData<"u"&&de instanceof FormData}class qe{constructor(ae,Ie,Oe,Fe){let q;if(this.url=Ie,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ae.toUpperCase(),function pe(de){switch(de){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Fe?(this.body=void 0!==Oe?Oe:null,q=Fe):q=Oe,q&&(this.reportProgress=!!q.reportProgress,this.withCredentials=!!q.withCredentials,q.responseType&&(this.responseType=q.responseType),q.headers&&(this.headers=q.headers),q.context&&(this.context=q.context),q.params&&(this.params=q.params)),this.headers||(this.headers=new He),this.context||(this.context=new he),this.params){const De=this.params.toString();if(0===De.length)this.urlWithParams=Ie;else{const _t=Ie.indexOf("?");this.urlWithParams=Ie+(-1===_t?"?":_t<Ie.length-1?"&":"")+De}}else this.params=new me,this.urlWithParams=Ie}serializeBody(){return null===this.body?null:Ne(this.body)||Y(this.body)||Ye(this.body)||function Be(de){return typeof URLSearchParams<"u"&&de instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ye(this.body)?null:Y(this.body)?this.body.type||null:Ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ae={}){const Ie=ae.method||this.method,Oe=ae.url||this.url,Fe=ae.responseType||this.responseType,q=void 0!==ae.body?ae.body:this.body,De=void 0!==ae.withCredentials?ae.withCredentials:this.withCredentials,_t=void 0!==ae.reportProgress?ae.reportProgress:this.reportProgress;let Lt=ae.headers||this.headers,Kn=ae.params||this.params;const ii=ae.context??this.context;return void 0!==ae.setHeaders&&(Lt=Object.keys(ae.setHeaders).reduce((Pt,It)=>Pt.set(It,ae.setHeaders[It]),Lt)),ae.setParams&&(Kn=Object.keys(ae.setParams).reduce((Pt,It)=>Pt.set(It,ae.setParams[It]),Kn)),new qe(Ie,Oe,q,{params:Kn,headers:Lt,context:ii,reportProgress:_t,responseType:Fe,withCredentials:De})}}var xt=(()=>((xt=xt||{})[xt.Sent=0]="Sent",xt[xt.UploadProgress=1]="UploadProgress",xt[xt.ResponseHeader=2]="ResponseHeader",xt[xt.DownloadProgress=3]="DownloadProgress",xt[xt.Response=4]="Response",xt[xt.User=5]="User",xt))();class wn{constructor(ae,Ie=200,Oe="OK"){this.headers=ae.headers||new He,this.status=void 0!==ae.status?ae.status:Ie,this.statusText=ae.statusText||Oe,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class On extends wn{constructor(ae={}){super(ae),this.type=xt.ResponseHeader}clone(ae={}){return new On({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class pt extends wn{constructor(ae={}){super(ae),this.type=xt.Response,this.body=void 0!==ae.body?ae.body:null}clone(ae={}){return new pt({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class gt extends wn{constructor(ae){super(ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function Nt(de,ae){return{body:ae,headers:de.headers,context:de.context,observe:de.observe,params:de.params,reportProgress:de.reportProgress,responseType:de.responseType,withCredentials:de.withCredentials}}let Ut=(()=>{class de{constructor(Ie){this.handler=Ie}request(Ie,Oe,Fe={}){let q;if(Ie instanceof qe)q=Ie;else{let Lt,Kn;Lt=Fe.headers instanceof He?Fe.headers:new He(Fe.headers),Fe.params&&(Kn=Fe.params instanceof me?Fe.params:new me({fromObject:Fe.params})),q=new qe(Ie,Oe,void 0!==Fe.body?Fe.body:null,{headers:Lt,context:Fe.context,params:Kn,reportProgress:Fe.reportProgress,responseType:Fe.responseType||"json",withCredentials:Fe.withCredentials})}const De=(0,C.of)(q).pipe((0,we.b)(Lt=>this.handler.handle(Lt)));if(Ie instanceof qe||"events"===Fe.observe)return De;const _t=De.pipe((0,oe.h)(Lt=>Lt instanceof pt));switch(Fe.observe||"body"){case"body":switch(q.responseType){case"arraybuffer":return _t.pipe((0,W.U)(Lt=>{if(null!==Lt.body&&!(Lt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Lt.body}));case"blob":return _t.pipe((0,W.U)(Lt=>{if(null!==Lt.body&&!(Lt.body instanceof Blob))throw new Error("Response is not a Blob.");return Lt.body}));case"text":return _t.pipe((0,W.U)(Lt=>{if(null!==Lt.body&&"string"!=typeof Lt.body)throw new Error("Response is not a string.");return Lt.body}));default:return _t.pipe((0,W.U)(Lt=>Lt.body))}case"response":return _t;default:throw new Error(`Unreachable: unhandled observe type ${Fe.observe}}`)}}delete(Ie,Oe={}){return this.request("DELETE",Ie,Oe)}get(Ie,Oe={}){return this.request("GET",Ie,Oe)}head(Ie,Oe={}){return this.request("HEAD",Ie,Oe)}jsonp(Ie,Oe){return this.request("JSONP",Ie,{params:(new me).append(Oe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ie,Oe={}){return this.request("OPTIONS",Ie,Oe)}patch(Ie,Oe,Fe={}){return this.request("PATCH",Ie,Nt(Fe,Oe))}post(Ie,Oe,Fe={}){return this.request("POST",Ie,Nt(Fe,Oe))}put(Ie,Oe,Fe={}){return this.request("PUT",Ie,Nt(Fe,Oe))}}return de.\u0275fac=function(Ie){return new(Ie||de)(l.LFG(fe))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();function en(de,ae){return ae(de)}function qt(de,ae){return(Ie,Oe)=>ae.intercept(Ie,{handle:Fe=>de(Fe,Oe)})}const bn=new l.OlP(""),sn=new l.OlP(""),Ft=new l.OlP("");function Qe(){let de=null;return(ae,Ie)=>{null===de&&(de=((0,l.f3M)(bn,{optional:!0})??[]).reduceRight(qt,en));const Oe=(0,l.f3M)(l.HDt),Fe=Oe.add();return de(ae,Ie).pipe((0,_e.x)(()=>Oe.remove(Fe)))}}let ot=(()=>{class de extends fe{constructor(Ie,Oe){super(),this.backend=Ie,this.injector=Oe,this.chain=null,this.pendingTasks=(0,l.f3M)(l.HDt)}handle(Ie){if(null===this.chain){const Fe=Array.from(new Set([...this.injector.get(sn),...this.injector.get(Ft,[])]));this.chain=Fe.reduceRight((q,De)=>function cn(de,ae,Ie){return(Oe,Fe)=>Ie.runInContext(()=>ae(Oe,q=>de(q,Fe)))}(q,De,this.injector),en)}const Oe=this.pendingTasks.add();return this.chain(Ie,Fe=>this.backend.handle(Fe)).pipe((0,_e.x)(()=>this.pendingTasks.remove(Oe)))}}return de.\u0275fac=function(Ie){return new(Ie||de)(l.LFG(ge),l.LFG(l.lqb))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();const ue=/^\)\]\}',?\n/;let ht=(()=>{class de{constructor(Ie){this.xhrFactory=Ie}handle(Ie){if("JSONP"===Ie.method)throw new l.vHH(-2800,!1);const Oe=this.xhrFactory;return(Oe.\u0275loadImpl?(0,h.D)(Oe.\u0275loadImpl()):(0,C.of)(null)).pipe((0,Ce.w)(()=>new J.y(q=>{const De=Oe.build();if(De.open(Ie.method,Ie.urlWithParams),Ie.withCredentials&&(De.withCredentials=!0),Ie.headers.forEach((Pn,Hn)=>De.setRequestHeader(Pn,Hn.join(","))),Ie.headers.has("Accept")||De.setRequestHeader("Accept","application/json, text/plain, */*"),!Ie.headers.has("Content-Type")){const Pn=Ie.detectContentTypeHeader();null!==Pn&&De.setRequestHeader("Content-Type",Pn)}if(Ie.responseType){const Pn=Ie.responseType.toLowerCase();De.responseType="json"!==Pn?Pn:"text"}const _t=Ie.serializeBody();let Lt=null;const Kn=()=>{if(null!==Lt)return Lt;const Pn=De.statusText||"OK",Hn=new He(De.getAllResponseHeaders()),ui=function Ue(de){return"responseURL"in de&&de.responseURL?de.responseURL:/^X-Request-URL:/m.test(de.getAllResponseHeaders())?de.getResponseHeader("X-Request-URL"):null}(De)||Ie.url;return Lt=new On({headers:Hn,status:De.status,statusText:Pn,url:ui}),Lt},ii=()=>{let{headers:Pn,status:Hn,statusText:ui,url:qi}=Kn(),vi=null;204!==Hn&&(vi=typeof De.response>"u"?De.responseText:De.response),0===Hn&&(Hn=vi?200:0);let wr=Hn>=200&&Hn<300;if("json"===Ie.responseType&&"string"==typeof vi){const to=vi;vi=vi.replace(ue,"");try{vi=""!==vi?JSON.parse(vi):null}catch(bo){vi=to,wr&&(wr=!1,vi={error:bo,text:vi})}}wr?(q.next(new pt({body:vi,headers:Pn,status:Hn,statusText:ui,url:qi||void 0})),q.complete()):q.error(new gt({error:vi,headers:Pn,status:Hn,statusText:ui,url:qi||void 0}))},Pt=Pn=>{const{url:Hn}=Kn(),ui=new gt({error:Pn,status:De.status||0,statusText:De.statusText||"Unknown Error",url:Hn||void 0});q.error(ui)};let It=!1;const xn=Pn=>{It||(q.next(Kn()),It=!0);let Hn={type:xt.DownloadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(Hn.total=Pn.total),"text"===Ie.responseType&&De.responseText&&(Hn.partialText=De.responseText),q.next(Hn)},qn=Pn=>{let Hn={type:xt.UploadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(Hn.total=Pn.total),q.next(Hn)};return De.addEventListener("load",ii),De.addEventListener("error",Pt),De.addEventListener("timeout",Pt),De.addEventListener("abort",Pt),Ie.reportProgress&&(De.addEventListener("progress",xn),null!==_t&&De.upload&&De.upload.addEventListener("progress",qn)),De.send(_t),q.next({type:xt.Sent}),()=>{De.removeEventListener("error",Pt),De.removeEventListener("abort",Pt),De.removeEventListener("load",ii),De.removeEventListener("timeout",Pt),Ie.reportProgress&&(De.removeEventListener("progress",xn),null!==_t&&De.upload&&De.upload.removeEventListener("progress",qn)),De.readyState!==De.DONE&&De.abort()}})))}}return de.\u0275fac=function(Ie){return new(Ie||de)(l.LFG(re.JF))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();const ut=new l.OlP("XSRF_ENABLED"),Yt=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gn=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ri{}let Dn=(()=>{class de{constructor(Ie,Oe,Fe){this.doc=Ie,this.platform=Oe,this.cookieName=Fe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ie=this.doc.cookie||"";return Ie!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re.Mx)(Ie,this.cookieName),this.lastCookieString=Ie),this.lastToken}}return de.\u0275fac=function(Ie){return new(Ie||de)(l.LFG(re.K0),l.LFG(l.Lbi),l.LFG(Yt))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();function dn(de,ae){const Ie=de.url.toLowerCase();if(!(0,l.f3M)(ut)||"GET"===de.method||"HEAD"===de.method||Ie.startsWith("http://")||Ie.startsWith("https://"))return ae(de);const Oe=(0,l.f3M)(ri).getToken(),Fe=(0,l.f3M)(Gn);return null!=Oe&&!de.headers.has(Fe)&&(de=de.clone({headers:de.headers.set(Fe,Oe)})),ae(de)}var $e=(()=>(($e=$e||{})[$e.Interceptors=0]="Interceptors",$e[$e.LegacyInterceptors=1]="LegacyInterceptors",$e[$e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",$e[$e.NoXsrfProtection=3]="NoXsrfProtection",$e[$e.JsonpSupport=4]="JsonpSupport",$e[$e.RequestsMadeViaParent=5]="RequestsMadeViaParent",$e))();function Dt(de,ae){return{\u0275kind:de,\u0275providers:ae}}function Wt(...de){const ae=[Ut,ht,ot,{provide:fe,useExisting:ot},{provide:ge,useExisting:ht},{provide:sn,useValue:dn,multi:!0},{provide:ut,useValue:!0},{provide:ri,useClass:Dn}];for(const Ie of de)ae.push(...Ie.\u0275providers);return(0,l.MR2)(ae)}const di=new l.OlP("LEGACY_INTERCEPTOR_FN");let Le=(()=>{class de{}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275mod=l.oAB({type:de}),de.\u0275inj=l.cJS({providers:[Wt(Dt($e.LegacyInterceptors,[{provide:di,useFactory:Qe},{provide:sn,useExisting:di,multi:!0}]))]}),de})()},2223:(pn,rt,w)=>{w.d(rt,{$8M:()=>zc,$WT:()=>ro,$Z:()=>H_,AFp:()=>Hf,ALo:()=>hw,AaK:()=>ge,BQk:()=>Dd,CHM:()=>xo,CRH:()=>Tw,D6c:()=>OD,EJc:()=>LC,EiD:()=>p_,EpF:()=>ug,F$t:()=>Sh,F4k:()=>wu,FYo:()=>tu,FiY:()=>Ja,Gf:()=>Dw,GfV:()=>mm,GkF:()=>Hm,Gpc:()=>at,HDt:()=>qw,Hsn:()=>_v,Ikx:()=>Fh,JOm:()=>ka,JVY:()=>pb,JZr:()=>vt,KtG:()=>vs,L6k:()=>gb,LAX:()=>Wd,LFG:()=>ke,LSH:()=>Rf,Lbi:()=>am,Lck:()=>CE,MAs:()=>gv,MMx:()=>Q0,MR2:()=>ad,NdJ:()=>Lc,O4$:()=>T,Ojb:()=>D_,OlP:()=>uo,Oqu:()=>xg,P3R:()=>Jh,PXZ:()=>XC,Q6J:()=>ag,QGY:()=>Mh,QbO:()=>Ib,Qsj:()=>hm,R0b:()=>za,RDi:()=>r_,Rgc:()=>Fg,SBq:()=>fd,Sil:()=>UC,Suo:()=>Iw,TTD:()=>Vs,TgZ:()=>Ih,Udp:()=>jl,VKq:()=>ow,W1O:()=>Aw,WFA:()=>Id,WLB:()=>sw,X6Q:()=>sD,XFs:()=>ut,Xpm:()=>$r,Xts:()=>sd,Y36:()=>Pl,YKP:()=>Y0,YNc:()=>Bl,Yjl:()=>ms,Yz7:()=>zt,Z0I:()=>Ke,ZZ4:()=>d0,_Bn:()=>Z0,_UZ:()=>jm,_Vd:()=>hd,_c5:()=>xD,_uU:()=>Rv,aQg:()=>u0,c2e:()=>Yw,cJS:()=>At,cg1:()=>Qm,d8E:()=>Mu,dDg:()=>ZC,dqk:()=>Dn,eBb:()=>Il,eFA:()=>dx,eJc:()=>Wy,ekj:()=>Oh,eoX:()=>sx,f3M:()=>$t,g9A:()=>Qd,h0i:()=>Xm,hGG:()=>ED,hij:()=>Km,iGM:()=>Cw,ifc:()=>Oe,ip1:()=>Zw,jDz:()=>X0,kL8:()=>Zv,kcU:()=>P,lG2:()=>ts,lqb:()=>Al,lri:()=>rx,mCW:()=>Yu,n5z:()=>Yl,n_E:()=>Xv,oAB:()=>es,oxw:()=>$m,pB0:()=>l_,q3G:()=>No,q4F:()=>ep,qFp:()=>PD,qLn:()=>iu,qOj:()=>Up,qZA:()=>Nc,qzn:()=>rd,rWj:()=>ox,rg0:()=>oa,s9C:()=>hg,sBO:()=>aD,s_b:()=>eb,soG:()=>nb,tb:()=>r0,tp0:()=>zs,uIk:()=>qp,vHH:()=>me,vpe:()=>$l,wAp:()=>Ri,xi3:()=>mw,xp6:()=>U_,ynx:()=>Cd,z2F:()=>tf,z3N:()=>Xc,zSh:()=>tl,zs3:()=>Rl});var l=w(7579),C=w(727),h=w(1135),J=w(9751),we=w(6451),oe=w(9646),W=w(3099),_e=w(3900),Ce=w(1884);function re(n){for(let i in n)if(n[i]===re)return i;throw Error("Could not find renamed property on target object.")}function fe(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function He(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Pe=re({__forward_ref__:re});function at(n){return n.__forward_ref__=at,n.toString=function(){return ge(this())},n}function Ge(n){return Xe(n)?n():n}function Xe(n){return"function"==typeof n&&n.hasOwnProperty(Pe)&&n.__forward_ref__===at}function Ve(n){return n&&!!n.\u0275providers}const vt="https://g.co/ng/security#xss";class me extends Error{constructor(i,s){super(function Ee(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function he(n){return"string"==typeof n?n:null==n?"":String(n)}function Be(n,i){throw new me(-201,!1)}function Ft(n,i){null==n&&function Qe(n,i,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function zt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function At(n){return{providers:n.providers||[],imports:n.imports||[]}}function dt(n){return Zt(n,Tt)||Zt(n,Ue)}function Ke(n){return null!==dt(n)}function Zt(n,i){return n.hasOwnProperty(i)?n[i]:null}function ln(n){return n&&(n.hasOwnProperty(ue)||n.hasOwnProperty(ht))?n[ue]:null}const Tt=re({\u0275prov:re}),ue=re({\u0275inj:re}),Ue=re({ngInjectableDef:re}),ht=re({ngInjectorDef:re});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let Mt;function an(n){const i=Mt;return Mt=n,i}function Gn(n,i,s){const c=dt(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&ut.Optional?null:void 0!==i?i:void Be(ge(n))}const Dn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dt={},Wt="__NG_DI_FLAG__",Sn="ngTempTokenPath",xi=/\n/gm,Qt="__source";let We;function ze(n){const i=We;return We=n,i}function Le(n,i=ut.Default){if(void 0===We)throw new me(-203,!1);return null===We?Gn(n,void 0,i):We.get(n,i&ut.Optional?null:void 0,i)}function ke(n,i=ut.Default){return(function Yt(){return Mt}()||Le)(Ge(n),i)}function $t(n,i=ut.Default){return ke(n,Re(i))}function Re(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ce(n){const i=[];for(let s=0;s<n.length;s++){const c=Ge(n[s]);if(Array.isArray(c)){if(0===c.length)throw new me(900,!1);let d,m=ut.Default;for(let x=0;x<c.length;x++){const S=c[x],N=V(S);"number"==typeof N?-1===N?d=S.token:m|=N:d=S}i.push(ke(d,m))}else i.push(ke(c))}return i}function H(n,i){return n[Wt]=i,n.prototype[Wt]=i,n}function V(n){return n[Wt]}function ae(n){return{toString:n}.toString()}var Ie=(()=>((Ie=Ie||{})[Ie.OnPush=0]="OnPush",Ie[Ie.Default=1]="Default",Ie))(),Oe=(()=>{return(n=Oe||(Oe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Oe;var n})();const Fe={},q=[],De=re({\u0275cmp:re}),_t=re({\u0275dir:re}),Lt=re({\u0275pipe:re}),Kn=re({\u0275mod:re}),ii=re({\u0275fac:re}),Pt=re({__NG_ELEMENT_ID__:re}),It=re({__NG_ENV_ID__:re});function xn(n,i,s){let c=n.length;for(;;){const d=n.indexOf(i,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=i.length;if(d+m===c||n.charCodeAt(d+m)<=32)return d}s=d+1}}function qn(n,i,s){let c=0;for(;c<s.length;){const d=s[c];if("number"==typeof d){if(0!==d)break;c++;const m=s[c++],x=s[c++],S=s[c++];n.setAttribute(i,x,S,m)}else{const m=d,x=s[++c];Hn(m)?n.setProperty(i,m,x):n.setAttribute(i,m,x),c++}}return c}function Pn(n){return 3===n||4===n||6===n}function Hn(n){return 64===n.charCodeAt(0)}function ui(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let c=0;c<i.length;c++){const d=i[c];"number"==typeof d?s=d:0===s||qi(n,s,d,null,-1===s||2===s?i[++c]:null)}}return n}function qi(n,i,s,c,d){let m=0,x=n.length;if(-1===i)x=-1;else for(;m<n.length;){const S=n[m++];if("number"==typeof S){if(S===i){x=-1;break}if(S>i){x=m-1;break}}}for(;m<n.length;){const S=n[m];if("number"==typeof S)break;if(S===s){if(null===c)return void(null!==d&&(n[m+1]=d));if(c===n[m+1])return void(n[m+2]=d)}m++,null!==c&&m++,null!==d&&m++}-1!==x&&(n.splice(x,0,i),m=x+1),n.splice(m++,0,s),null!==c&&n.splice(m++,0,c),null!==d&&n.splice(m++,0,d)}const vi="ng-template";function wr(n,i,s){let c=0,d=!0;for(;c<n.length;){let m=n[c++];if("string"==typeof m&&d){const x=n[c++];if(s&&"class"===m&&-1!==xn(x.toLowerCase(),i,0))return!0}else{if(1===m){for(;c<n.length&&"string"==typeof(m=n[c++]);)if(m.toLowerCase()===i)return!0;return!1}"number"==typeof m&&(d=!1)}}return!1}function to(n){return 4===n.type&&n.value!==vi}function bo(n,i,s){return i===(4!==n.type||s?n.value:vi)}function hs(n,i,s){let c=4;const d=n.attrs||[],m=function ho(n){for(let i=0;i<n.length;i++)if(Pn(n[i]))return i;return n.length}(d);let x=!1;for(let S=0;S<i.length;S++){const N=i[S];if("number"!=typeof N){if(!x)if(4&c){if(c=2|1&c,""!==N&&!bo(n,N,s)||""===N&&1===i.length){if(Mr(c))return!1;x=!0}}else{const X=8&c?N:i[++S];if(8&c&&null!==n.attrs){if(!wr(n.attrs,X,s)){if(Mr(c))return!1;x=!0}continue}const Ze=no(8&c?"class":N,d,to(n),s);if(-1===Ze){if(Mr(c))return!1;x=!0;continue}if(""!==X){let St;St=Ze>m?"":d[Ze+1].toLowerCase();const Kt=8&c?St:null;if(Kt&&-1!==xn(Kt,X,0)||2&c&&X!==St){if(Mr(c))return!1;x=!0}}}}else{if(!x&&!Mr(c)&&!Mr(N))return!1;if(x&&Mr(N))continue;x=!1,c=N|1&c}}return Mr(c)||x}function Mr(n){return 0==(1&n)}function no(n,i,s,c){if(null===i)return-1;let d=0;if(c||!s){let m=!1;for(;d<i.length;){const x=i[d];if(x===n)return d;if(3===x||6===x)m=!0;else{if(1===x||2===x){let S=i[++d];for(;"string"==typeof S;)S=i[++d];continue}if(4===x)break;if(0===x){d+=4;continue}}d+=m?1:2}return-1}return function Si(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===i)return s;s++}return-1}(i,n)}function jr(n,i,s=!1){for(let c=0;c<i.length;c++)if(hs(n,i[c],s))return!0;return!1}function Bo(n,i){e:for(let s=0;s<i.length;s++){const c=i[s];if(n.length===c.length){for(let d=0;d<n.length;d++)if(n[d]!==c[d])continue e;return!0}}return!1}function io(n,i){return n?":not("+i.trim()+")":i}function er(n){let i=n[0],s=1,c=2,d="",m=!1;for(;s<n.length;){let x=n[s];if("string"==typeof x)if(2&c){const S=n[++s];d+="["+x+(S.length>0?'="'+S+'"':"")+"]"}else 8&c?d+="."+x:4&c&&(d+=" "+x);else""!==d&&!Mr(x)&&(i+=io(m,d),d=""),c=x,m=m||!Mr(c);s++}return""!==d&&(i+=io(m,d)),i}function $r(n){return ae(()=>{const i=ns(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ie.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Oe.Emulated,styles:n.styles||q,_:null,schemas:n.schemas||null,tView:null,id:""};wt(s);const c=n.dependencies;return s.directiveDefs=mt(c,!1),s.pipeDefs=mt(c,!0),s.id=function mn(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const d of s)i=Math.imul(31,i)+d.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function Uo(n){return mi(n)||Er(n)}function Jo(n){return null!==n}function es(n){return ae(()=>({type:n.type,bootstrap:n.bootstrap||q,declarations:n.declarations||q,imports:n.imports||q,exports:n.exports||q,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xr(n,i){if(null==n)return Fe;const s={};for(const c in n)if(n.hasOwnProperty(c)){let d=n[c],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),s[d]=c,i&&(i[d]=m)}return s}function ts(n){return ae(()=>{const i=ns(n);return wt(i),i})}function ms(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function mi(n){return n[De]||null}function Er(n){return n[_t]||null}function Ei(n){return n[Lt]||null}function ro(n){const i=mi(n)||Er(n)||Ei(n);return null!==i&&i.standalone}function Hr(n,i){const s=n[Kn]||null;if(!s&&!0===i)throw new Error(`Type ${ge(n)} does not have '\u0275mod' property.`);return s}function ns(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||q,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xr(n.inputs,i),outputs:xr(n.outputs)}}function wt(n){n.features?.forEach(i=>i(n))}function mt(n,i){if(!n)return null;const s=i?Ei:Uo;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(Jo)}const gn=0,hn=1,Rn=2,oi=3,fi=4,Pr=5,tr=6,nr=7,Vi=8,Zr=9,Sr=10,Xn=11,oo=12,Yr=13,qr=14,$i=15,Mo=16,Vo=17,yo=18,is=19,Es=20,pr=21,ir=22,fs=23,cr=24,ki=25,So=1,Ko=2,go=7,ps=8,Us=9,Fr=11;function Hi(n){return Array.isArray(n)&&"object"==typeof n[So]}function lr(n){return Array.isArray(n)&&!0===n[So]}function Gr(n){return 0!=(4&n.flags)}function kr(n){return n.componentOffset>-1}function jo(n){return 1==(1&n.flags)}function Wi(n){return!!n.template}function _o(n){return 0!=(512&n[Rn])}function ft(n,i){return n.hasOwnProperty(ii)?n[ii]:null}let Pi=Dn.WeakRef??class yi{constructor(i){this.ref=i}deref(){return this.ref}},sr=0,Fi=null,_r=!1;function Ci(n){const i=Fi;return Fi=n,i}class Ao{constructor(){this.id=sr++,this.ref=function gr(n){return new Pi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const c=s.producerNode.deref();if(void 0!==c&&s.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=_r;_r=!0;try{for(const[s,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),d?.producers.delete(this.id))}}finally{_r=i}}producerAccessed(){if(_r)throw new Error("");if(null===Fi)return;let i=Fi.producers.get(this.id);void 0===i?(i={consumerNode:Fi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Fi.trackingVersion},Fi.producers.set(this.id,i),this.consumers.set(Fi.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Fi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Fi?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let ks=null;function oa(n){const i=Ci(null);try{return n()}finally{Ci(i)}}const Ia=()=>{};class ma extends Ao{constructor(i,s,c){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=Ia,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=Ci(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ia,this.watch(this.registerOnCleanup)}finally{Ci(i)}}cleanup(){this.cleanupFn()}}class Zo{constructor(i,s,c){this.previousValue=i,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Vs(){return js}function js(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ta),Ds}function Ds(){const n=fa(this),i=n?.current;if(i){const s=n.previous;if(s===Fe)n.previous=i;else for(let c in i)s[c]=i[c];n.current=null,this.ngOnChanges(i)}}function Ta(n,i,s,c){const d=this.declaredInputs[s],m=fa(n)||function Oa(n,i){return n[Xs]=i}(n,{previous:Fe,current:null}),x=m.current||(m.current={}),S=m.previous,N=S[d];x[d]=new Zo(N&&N.currentValue,i,S===Fe),n[c]=i}Vs.ngInherit=!0;const Xs="__ngSimpleChanges__";function fa(n){return n[Xs]||null}const _s=function(n,i,s){},pa="svg";function Qi(n){for(;Array.isArray(n);)n=n[gn];return n}function Is(n,i){return Qi(i[n])}function Mi(n,i){return Qi(i[n.index])}function F(n,i){return n.data[i]}function ee(n,i){return n[i]}function B(n,i){const s=i[n];return Hi(s)?s:s[gn]}function it(n){return 128==(128&n[Rn])}function fn(n,i){return null==i?null:n[i]}function Yn(n){n[Vo]=0}function Bi(n){1024&n[Rn]||(n[Rn]|=1024,bi(n,1))}function Ii(n){1024&n[Rn]&&(n[Rn]&=-1025,bi(n,-1))}function bi(n,i){let s=n[oi];if(null===s)return;s[Pr]+=i;let c=s;for(s=s[oi];null!==s&&(1===i&&1===c[Pr]||-1===i&&0===c[Pr]);)s[Pr]+=i,c=s,s=s[oi]}const zn={lFrame:g(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zs(){return zn.bindingsEnabled}function cs(){return null!==zn.skipHydrationRootTNode}function Cn(){return zn.lFrame.lView}function Ji(){return zn.lFrame.tView}function xo(n){return zn.lFrame.contextLView=n,n[Vi]}function vs(n){return zn.lFrame.contextLView=null,n}function Xr(){let n=Pa();for(;null!==n&&64===n.type;)n=n.parent;return n}function Pa(){return zn.lFrame.currentTNode}function Mn(n,i){const s=zn.lFrame;s.currentTNode=n,s.isParent=i}function vr(){return zn.lFrame.isParent}function Ms(){zn.lFrame.isParent=!1}function ls(){const n=zn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function En(){return zn.lFrame.bindingIndex++}function jc(n,i){const s=zn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Ma(i)}function Ma(n){zn.lFrame.currentDirectiveIndex=n}function dc(n){const i=zn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Fa(){return zn.lFrame.currentQueryIndex}function $a(n){zn.lFrame.currentQueryIndex=n}function Ga(n){const i=n[hn];return 2===i.type?i.declTNode:1===i.type?n[tr]:null}function Ec(n,i,s){if(s&ut.SkipSelf){let d=i,m=n;for(;!(d=d.parent,null!==d||s&ut.Host||(d=Ga(m),null===d||(m=m[qr],10&d.type))););if(null===d)return!1;i=d,n=m}const c=zn.lFrame=b();return c.currentTNode=i,c.lView=n,!0}function U(n){const i=b(),s=n[hn];zn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function b(){const n=zn.lFrame,i=null===n?null:n.child;return null===i?g(n):i}function g(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function M(){const n=zn.lFrame;return zn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const z=M;function le(){const n=M();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ht(){return zn.lFrame.selectedIndex}function Jt(n){zn.lFrame.selectedIndex=n}function y(){const n=zn.lFrame;return F(n.tView,n.selectedIndex)}function T(){zn.lFrame.currentNamespace=pa}function P(){!function Z(){zn.lFrame.currentNamespace=null}()}let Te=!0;function Et(){return Te}function _n(n){Te=n}function Un(n,i){for(let s=i.directiveStart,c=i.directiveEnd;s<c;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:S,ngAfterViewInit:N,ngAfterViewChecked:X,ngOnDestroy:ye}=m;x&&(n.contentHooks??=[]).push(-s,x),S&&((n.contentHooks??=[]).push(s,S),(n.contentCheckHooks??=[]).push(s,S)),N&&(n.viewHooks??=[]).push(-s,N),X&&((n.viewHooks??=[]).push(s,X),(n.viewCheckHooks??=[]).push(s,X)),null!=ye&&(n.destroyHooks??=[]).push(s,ye)}}function ji(n,i,s){co(n,i,3,s)}function Or(n,i,s,c){(3&n[Rn])===s&&co(n,i,s,c)}function Eo(n,i){let s=n[Rn];(3&s)===i&&(s&=4095,s+=1,n[Rn]=s)}function co(n,i,s,c){const m=c??-1,x=i.length-1;let S=0;for(let N=void 0!==c?65535&n[Vo]:0;N<x;N++)if("number"==typeof i[N+1]){if(S=i[N],null!=c&&S>=c)break}else i[N]<0&&(n[Vo]+=65536),(S<m||-1==m)&&(Gt(n,s,i,N),n[Vo]=(4294901760&n[Vo])+N+2),N++}function zo(n,i){_s(4,n,i);const s=Ci(null);try{i.call(n)}finally{Ci(s),_s(5,n,i)}}function Gt(n,i,s,c){const d=s[c]<0,m=s[c+1],S=n[d?-s[c]:s[c]];d?n[Rn]>>12<n[Vo]>>16&&(3&n[Rn])===i&&(n[Rn]+=4096,zo(S,m)):zo(S,m)}const bs=-1;class Po{constructor(i,s,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Yo(n){return n!==bs}function Rr(n){return 32767&n}function Dr(n,i){let s=function Fo(n){return n>>16}(n),c=i;for(;s>0;)c=c[qr],s--;return c}let Wa=!0;function po(n){const i=Wa;return Wa=n,i}const aa=255,Ir=5;let ya=0;const Ls={};function ml(n,i){const s=pl(n,i);if(-1!==s)return s;const c=i[hn];c.firstCreatePass&&(n.injectorIndex=i.length,fl(c.data,n),fl(i,null),fl(c.blueprint,null));const d=Gl(n,i),m=n.injectorIndex;if(Yo(d)){const x=Rr(d),S=Dr(d,i),N=S[hn].data;for(let X=0;X<8;X++)i[m+X]=S[x+X]|N[x+X]}return i[m+8]=d,m}function fl(n,i){n.push(0,0,0,0,0,0,0,0,i)}function pl(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Gl(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,d=i;for(;null!==d;){if(c=xs(d),null===c)return bs;if(s++,d=d[qr],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return bs}function La(n,i,s){!function hl(n,i,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Pt)&&(c=s[Pt]),null==c&&(c=s[Pt]=ya++);const d=c&aa;i.data[n+(d>>Ir)]|=1<<d}(n,i,s)}function Ru(n,i,s){if(s&ut.Optional||void 0!==n)return n;Be()}function Cc(n,i,s,c){if(s&ut.Optional&&void 0===c&&(c=null),!(s&(ut.Self|ut.Host))){const d=n[Zr],m=an(void 0);try{return d?d.get(i,c,s&ut.Optional):Gn(i,c,s&ut.Optional)}finally{an(m)}}return Ru(c,0,s)}function Wl(n,i,s,c=ut.Default,d){if(null!==n){if(2048&i[Rn]&&!(c&ut.Self)){const x=function ql(n,i,s,c,d){let m=n,x=i;for(;null!==m&&null!==x&&2048&x[Rn]&&!(512&x[Rn]);){const S=Kl(m,x,s,c|ut.Self,Ls);if(S!==Ls)return S;let N=m.parent;if(!N){const X=x[Es];if(X){const ye=X.get(s,Ls,c);if(ye!==Ls)return ye}N=xs(x),x=x[qr]}m=N}return d}(n,i,s,c,Ls);if(x!==Ls)return x}const m=Kl(n,i,s,c,Ls);if(m!==Ls)return m}return Cc(i,s,c,d)}function Kl(n,i,s,c,d){const m=function Pu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Pt)?n[Pt]:void 0;return"number"==typeof i?i>=0?i&aa:Rd:i}(s);if("function"==typeof m){if(!Ec(i,n,c))return c&ut.Host?Ru(d,0,c):Cc(i,s,c,d);try{const x=m(c);if(null!=x||c&ut.Optional)return x;Be()}finally{z()}}else if("number"==typeof m){let x=null,S=pl(n,i),N=bs,X=c&ut.Host?i[$i][tr]:null;for((-1===S||c&ut.SkipSelf)&&(N=-1===S?Gl(n,i):i[S+8],N!==bs&&_l(c,!1)?(x=i[hn],S=Rr(N),i=Dr(N,i)):S=-1);-1!==S;){const ye=i[hn];if(Zl(m,S,ye.data)){const Ze=Bh(S,i,s,x,c,X);if(Ze!==Ls)return Ze}N=i[S+8],N!==bs&&_l(c,i[hn].data[S+8]===X)&&Zl(m,S,i)?(x=ye,S=Rr(N),i=Dr(N,i)):S=-1}}return d}function Bh(n,i,s,c,d,m){const x=i[hn],S=x.data[n+8],ye=gl(S,x,s,null==c?kr(S)&&Wa:c!=x&&0!=(3&S.type),d&ut.Host&&m===S);return null!==ye?Ka(i,x,ye,S):Ls}function gl(n,i,s,c,d){const m=n.providerIndexes,x=i.data,S=1048575&m,N=n.directiveStart,ye=m>>20,St=d?S+ye:n.directiveEnd;for(let Kt=c?S:S+ye;Kt<St;Kt++){const In=x[Kt];if(Kt<N&&s===In||Kt>=N&&In.type===s)return Kt}if(d){const Kt=x[N];if(Kt&&Wi(Kt)&&Kt.type===s)return N}return null}function Ka(n,i,s,c){let d=n[s];const m=i.data;if(function ba(n){return n instanceof Po}(d)){const x=d;x.resolving&&function Ne(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new me(-200,`Circular dependency in DI detected for ${n}${s}`)}(function pe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():he(n)}(m[s]));const S=po(x.canSeeViewProviders);x.resolving=!0;const N=x.injectImpl?an(x.injectImpl):null;Ec(n,c,ut.Default);try{d=n[s]=x.factory(void 0,m,n,c),i.firstCreatePass&&s>=c.directiveStart&&function Jn(n,i,s){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:m}=i.type.prototype;if(c){const x=js(i);(s.preOrderHooks??=[]).push(n,x),(s.preOrderCheckHooks??=[]).push(n,x)}d&&(s.preOrderHooks??=[]).push(0-n,d),m&&((s.preOrderHooks??=[]).push(n,m),(s.preOrderCheckHooks??=[]).push(n,m))}(s,m[s],i)}finally{null!==N&&an(N),po(S),x.resolving=!1,z()}}return d}function Zl(n,i,s){return!!(s[i+(n>>Ir)]&1<<n)}function _l(n,i){return!(n&ut.Self||n&ut.Host&&i)}class Za{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,c){return Wl(this._tNode,this._lView,i,Re(c),s)}}function Rd(){return new Za(Xr(),Cn())}function Yl(n){return ae(()=>{const i=n.prototype.constructor,s=i[ii]||Hc(i),c=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==c;){const m=d[ii]||Hc(d);if(m&&m!==s)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Hc(n){return Xe(n)?()=>{const i=Hc(Ge(n));return i&&i()}:ft(n)}function xs(n){const i=n[hn],s=i.type;return 2===s?i.declTNode:1===s?n[tr]:null}function zc(n){return function Lh(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const c=s.length;let d=0;for(;d<c;){const m=s[d];if(Pn(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<c&&"string"==typeof s[d];)d++;else{if(m===i)return s[d+1];d+=2}}}return null}(Xr(),n)}const Ba="__parameters__";function yr(n,i,s){return ae(()=>{const c=function ds(n){return function(...s){if(n){const c=n(...s);for(const d in c)this[d]=c[d]}}}(i);function d(...m){if(this instanceof d)return c.apply(this,m),this;const x=new d(...m);return S.annotation=x,S;function S(N,X,ye){const Ze=N.hasOwnProperty(Ba)?N[Ba]:Object.defineProperty(N,Ba,{value:[]})[Ba];for(;Ze.length<=ye;)Ze.push(null);return(Ze[ye]=Ze[ye]||[]).push(x),N}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}function Qa(n,i){n.forEach(s=>Array.isArray(s)?Qa(s,i):i(s))}function Hs(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function ta(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Xa(n,i){const s=[];for(let c=0;c<n;c++)s.push(i);return s}function k(n,i,s){let c=ie(n,i);return c>=0?n[1|c]=s:(c=~c,function Mc(n,i,s,c){let d=n.length;if(d==i)n.push(s,c);else if(1===d)n.push(c,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=s,n[i+1]=c}}(n,c,i,s)),c}function L(n,i){const s=ie(n,i);if(s>=0)return n[1|s]}function ie(n,i){return function bt(n,i,s){let c=0,d=n.length>>s;for(;d!==c;){const m=c+(d-c>>1),x=n[m<<s];if(i===x)return m<<s;x>i?d=m:c=m+1}return~(d<<s)}(n,i,1)}const Ja=H(yr("Optional"),8),zs=H(yr("SkipSelf"),4);function Wc(n){return 128==(128&n.flags)}var ka=(()=>((ka=ka||{})[ka.Important=1]="Important",ka[ka.DashCase=2]="DashCase",ka))();const Lg=/^>|^->|<!--|-->|--!>|<!-$/g,Bg=/(<|>)/,ab="\u200b$1\u200b";const af=new Map;let Aa=0;const Zi="__ngContext__";function da(n,i){Hi(i)?(n[Zi]=i[is],function Uu(n){af.set(n[is],n)}(i)):n[Zi]=i}let Kc;function zh(n,i){return Kc(n,i)}function Hd(n){const i=n[oi];return lr(i)?i[oi]:i}function hf(n){return Qo(n[oo])}function mf(n){return Qo(n[fi])}function Qo(n){for(;null!==n&&!lr(n);)n=n[fi];return n}function Zc(n,i,s,c,d){if(null!=c){let m,x=!1;lr(c)?m=c:Hi(c)&&(x=!0,c=c[gn]);const S=Qi(c);0===n&&null!==s?null==d?Ur(i,s,S):$o(i,s,S,d||null,!0):1===n&&null!==s?$o(i,s,S,d||null,!0):2===n?function Gu(n,i,s){const c=nd(n,i);c&&function Qg(n,i,s,c){n.removeChild(i,s,c)}(n,c,i,s)}(i,S,x):3===n&&i.destroyNode(S),null!=m&&function db(n,i,s,c,d){const m=s[go];m!==Qi(s)&&Zc(i,n,c,m,d);for(let S=Fr;S<s.length;S++){const N=s[S];Gd(N[hn],N,n,i,c,m)}}(i,n,m,s,d)}}function pf(n,i){return n.createComment(function Ac(n){return n.replace(Lg,i=>i.replace(Bg,ab))}(i))}function El(n,i,s){return n.createElement(i,s)}function gf(n,i){const s=n[Us],c=s.indexOf(i);Ii(i),s.splice(c,1)}function Cl(n,i){if(n.length<=Fr)return;const s=Fr+i,c=n[s];if(c){const d=c[Mo];null!==d&&d!==n&&gf(d,c),i>0&&(n[s-1][fi]=c[fi]);const m=ta(n,Fr+i);!function lb(n,i){Gd(n,i,i[Xn],2,null,null),i[gn]=null,i[tr]=null}(c[hn],c);const x=m[yo];null!==x&&x.detachView(m[hn]),c[oi]=null,c[fi]=null,c[Rn]&=-129}return c}function $h(n,i){if(!(256&i[Rn])){const s=i[Xn];i[fs]?.destroy(),i[cr]?.destroy(),s.destroyNode&&Gd(n,i,s,3,null,null),function Yc(n){let i=n[oo];if(!i)return Hu(n[hn],n);for(;i;){let s=null;if(Hi(i))s=i[oo];else{const c=i[Fr];c&&(s=c)}if(!s){for(;i&&!i[fi]&&i!==n;)Hi(i)&&Hu(i[hn],i),i=i[oi];null===i&&(i=n),Hi(i)&&Hu(i[hn],i),s=i&&i[fi]}i=s}}(i)}}function Hu(n,i){if(!(256&i[Rn])){i[Rn]&=-129,i[Rn]|=256,function vf(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const d=i[s[c]];if(!(d instanceof Po)){const m=s[c+1];if(Array.isArray(m))for(let x=0;x<m.length;x+=2){const S=d[m[x]],N=m[x+1];_s(4,S,N);try{N.call(S)}finally{_s(5,S,N)}}else{_s(4,d,m);try{m.call(d)}finally{_s(5,d,m)}}}}}(n,i),function _f(n,i){const s=n.cleanup,c=i[nr];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const x=s[m+3];x>=0?c[x]():c[-x].unsubscribe(),m+=2}else s[m].call(c[s[m+1]]);null!==c&&(i[nr]=null);const d=i[pr];if(null!==d){i[pr]=null;for(let m=0;m<d.length;m++)(0,d[m])()}}(n,i),1===i[hn].type&&i[Xn].destroy();const s=i[Mo];if(null!==s&&lr(i[oi])){s!==i[oi]&&gf(s,i);const c=i[yo];null!==c&&c.detachView(n)}!function Oc(n){af.delete(n[is])}(i)}}function bf(n,i,s){return function qg(n,i,s){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return s[gn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:m}=n.data[c.directiveStart+d];if(m===Oe.None||m===Oe.Emulated)return null}return Mi(c,s)}}(n,i.parent,s)}function $o(n,i,s,c,d){n.insertBefore(i,s,c,d)}function Ur(n,i,s){n.appendChild(i,s)}function yf(n,i,s,c,d){null!==c?$o(n,i,s,c,d):Ur(n,i,s)}function nd(n,i){return n.parentNode(i)}function e_(n,i,s){return xf(n,i,s)}let zu,Wu,Ku,Zu,xf=function wf(n,i,s){return 40&n.type?Mi(n,s):null};function Dl(n,i,s,c){const d=bf(n,c,i),m=i[Xn],S=e_(c.parent||i[tr],c,i);if(null!=d)if(Array.isArray(s))for(let N=0;N<s.length;N++)yf(m,d,s[N],S,!1);else yf(m,d,s,S,!1);void 0!==zu&&zu(m,c,i,s,d)}function qc(n,i){if(null!==i){const s=i.type;if(3&s)return Mi(i,n);if(4&s)return Gh(-1,n[i.index]);if(8&s){const c=i.child;if(null!==c)return qc(n,c);{const d=n[i.index];return lr(d)?Gh(-1,d):Qi(d)}}if(32&s)return zh(i,n)()||Qi(n[i.index]);{const c=$u(n,i);return null!==c?Array.isArray(c)?c[0]:qc(Hd(n[$i]),c):qc(n,i.next)}}return null}function $u(n,i){return null!==i?n[$i][tr].projection[i.projection]:null}function Gh(n,i){const s=Fr+n+1;if(s<i.length){const c=i[s],d=c[hn].firstChild;if(null!==d)return qc(c,d)}return i[go]}function Cf(n,i,s,c,d,m,x){for(;null!=s;){const S=c[s.index],N=s.type;if(x&&0===i&&(S&&da(Qi(S),c),s.flags|=2),32!=(32&s.flags))if(8&N)Cf(n,i,s.child,c,d,m,!1),Zc(i,n,d,S,m);else if(32&N){const X=zh(s,c);let ye;for(;ye=X();)Zc(i,n,d,ye,m);Zc(i,n,d,S,m)}else 16&N?n_(n,i,c,s,d,m):Zc(i,n,d,S,m);s=x?s.projectionNext:s.next}}function Gd(n,i,s,c,d,m){Cf(s,c,n.firstChild,i,d,m,!1)}function n_(n,i,s,c,d,m){const x=s[$i],N=x[tr].projection[c.projection];if(Array.isArray(N))for(let X=0;X<N.length;X++)Zc(i,n,d,N[X],m);else{let X=N;const ye=x[oi];Wc(c)&&(X.flags|=128),Cf(n,i,X,ye,d,m,!0)}}function Wh(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function id(n,i,s){const{mergedAttrs:c,classes:d,styles:m}=s;null!==c&&qn(n,i,c),null!==d&&Wh(n,i,d),null!==m&&function hb(n,i,s){n.setAttribute(i,"style",s)}(n,i,m)}function Go(n){return function Df(){if(void 0===Wu&&(Wu=null,Dn.trustedTypes))try{Wu=Dn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wu}()?.createHTML(n)||n}function r_(n){Ku=n}function s_(n){return function Zh(){if(void 0===Zu&&(Zu=null,Dn.trustedTypes))try{Zu=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zu}()?.createScriptURL(n)||n}class mc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vt})`}}class Mf extends mc{getTypeName(){return"HTML"}}class mb extends mc{getTypeName(){return"Style"}}class a_ extends mc{getTypeName(){return"Script"}}class Sf extends mc{getTypeName(){return"URL"}}class c_ extends mc{getTypeName(){return"ResourceURL"}}function Xc(n){return n instanceof mc?n.changingThisBreaksApplicationSecurity:n}function rd(n,i){const s=function fb(n){return n instanceof mc&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${vt})`)}return s===i}function pb(n){return new Mf(n)}function gb(n){return new mb(n)}function Il(n){return new a_(n)}function Wd(n){return new Sf(n)}function l_(n){return new c_(n)}class u_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Go(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Jc{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Go(i),s}}const _b=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yu(n){return(n=String(n)).match(_b)?n:"unsafe:"+n}function tc(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function fc(...n){const i={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(i[c]=!0);return i}const Tl=tc("area,br,col,hr,img,wbr"),Ml=tc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kd=tc("rp,rt"),Yh=fc(Tl,fc(Ml,tc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fc(Kd,tc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fc(Kd,Ml)),qh=tc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kf=fc(qh,tc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=tc("script,style,template");class qu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Yh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=i.attributes;for(let d=0;d<c.length;d++){const m=c.item(d),x=m.name,S=x.toLowerCase();if(!kf.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let N=m.value;qh[S]&&(N=Yu(N)),this.buf.push(" ",x,'="',Af(N),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Yh.hasOwnProperty(s)&&!Tl.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Af(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const od=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yb=/([^\#-~ |!])/g;function Af(n){return n.replace(/&/g,"&amp;").replace(od,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(yb,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xh;function p_(n,i){let s=null;try{Xh=Xh||function d_(n){const i=new Jc(n);return function h_(){try{return!!(new window.DOMParser).parseFromString(Go(""),"text/html")}catch{return!1}}()?new u_(i):i}(n);let c=i?String(i):"";s=Xh.getInertBodyElement(c);let d=5,m=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=m,m=s.innerHTML,s=Xh.getInertBodyElement(c)}while(c!==m);return Go((new qu).sanitizeChildren(Of(s)||s))}finally{if(s){const c=Of(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Of(n){return"content"in n&&function Qu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var No=(()=>((No=No||{})[No.NONE=0]="NONE",No[No.HTML=1]="HTML",No[No.STYLE=2]="STYLE",No[No.SCRIPT=3]="SCRIPT",No[No.URL=4]="URL",No[No.RESOURCE_URL=5]="RESOURCE_URL",No))();function Rf(n){const i=kl();return i?i.sanitize(No.URL,n)||"":rd(n,"URL")?Xc(n):Yu(he(n))}function Pf(n){const i=kl();if(i)return s_(i.sanitize(No.RESOURCE_URL,n)||"");if(rd(n,"ResourceURL"))return s_(Xc(n));throw new me(904,!1)}function Jh(n,i,s){return function __(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pf:Rf}(i,s)(n)}function kl(){const n=Cn();return n&&n[Sr].sanitizer}class uo{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=zt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const sd=new uo("ENVIRONMENT_INITIALIZER"),Xu=new uo("INJECTOR",-1),b_=new uo("INJECTOR_DEF_TYPES");class Lf{get(i,s=Dt){if(s===Dt){const c=new Error(`NullInjectorError: No provider for ${ge(i)}!`);throw c.name="NullInjectorError",c}return s}}function ad(n){return{\u0275providers:n}}function em(...n){return{\u0275providers:Zd(0,n),\u0275fromNgModule:!0}}function Zd(n,...i){const s=[],c=new Set;let d;return Qa(i,m=>{const x=m;tm(x,s,[],c)&&(d||=[],d.push(x))}),void 0!==d&&Bf(d,s),s}function Bf(n,i){for(let s=0;s<n.length;s++){const{providers:d}=n[s];nm(d,m=>{i.push(m)})}}function tm(n,i,s,c){if(!(n=Ge(n)))return!1;let d=null,m=ln(n);const x=!m&&mi(n);if(m||x){if(x&&!x.standalone)return!1;d=n}else{const N=n.ngModule;if(m=ln(N),!m)return!1;d=N}const S=c.has(d);if(x){if(S)return!1;if(c.add(d),x.dependencies){const N="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const X of N)tm(X,i,s,c)}}else{if(!m)return!1;{if(null!=m.imports&&!S){let X;c.add(d);try{Qa(m.imports,ye=>{tm(ye,i,s,c)&&(X||=[],X.push(ye))})}finally{}void 0!==X&&Bf(X,i)}if(!S){const X=ft(d)||(()=>new d);i.push({provide:d,useFactory:X,deps:q},{provide:b_,useValue:d,multi:!0},{provide:sd,useValue:()=>ke(d),multi:!0})}const N=m.providers;null==N||S||nm(N,ye=>{i.push(ye)})}}return d!==n&&void 0!==n.providers}function nm(n,i){for(let s of n)Ve(s)&&(s=s.\u0275providers),Array.isArray(s)?nm(s,i):i(s)}const im=re({provide:String,useValue:re});function Yd(n){return null!==n&&"object"==typeof n&&im in n}function nc(n){return"function"==typeof n}const tl=new uo("Set Injector scope."),rm={},qd={};let om;function pc(){return void 0===om&&(om=new Lf),om}class Al{}class Vf extends Al{get destroyed(){return this._destroyed}constructor(i,s,c,d){super(),this.parent=s,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jf(i,x=>this.processProvider(x)),this.records.set(Xu,nl(void 0,this)),d.has("environment")&&this.records.set(Al,nl(void 0,this));const m=this.records.get(tl);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(b_.multi,q,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=ze(this),c=an(void 0);try{return i()}finally{ze(s),an(c)}}get(i,s=Dt,c=ut.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(It))return i[It](this);c=Re(c);const d=ze(this),m=an(void 0);try{if(!(c&ut.SkipSelf)){let S=this.records.get(i);if(void 0===S){const N=function C_(n){return"function"==typeof n||"object"==typeof n&&n instanceof uo}(i)&&dt(i);S=N&&this.injectableDefInScope(N)?nl(sm(i),rm):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(c&ut.Self?pc():this.parent).get(i,s=c&ut.Optional&&s===Dt?null:s)}catch(x){if("NullInjectorError"===x.name){if((x[Sn]=x[Sn]||[]).unshift(ge(i)),d)throw x;return function $(n,i,s,c){const d=n[Sn];throw i[Qt]&&d.unshift(i[Qt]),n.message=function de(n,i,s,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=ge(i);if(Array.isArray(i))d=i.map(ge).join(" -> ");else if("object"==typeof i){let m=[];for(let x in i)if(i.hasOwnProperty(x)){let S=i[x];m.push(x+":"+("string"==typeof S?JSON.stringify(S):ge(S)))}d=`{${m.join(", ")}}`}return`${s}${c?"("+c+")":""}[${d}]: ${n.replace(xi,"\n  ")}`}("\n"+n.message,d,s,c),n.ngTokenPath=d,n[Sn]=null,n}(x,i,"R3InjectorError",this.source)}throw x}finally{an(m),ze(d)}}resolveInjectorInitializers(){const i=ze(this),s=an(void 0);try{const c=this.get(sd.multi,q,ut.Self);for(const d of c)d()}finally{ze(i),an(s)}}toString(){const i=[],s=this.records;for(const c of s.keys())i.push(ge(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(i){let s=nc(i=Ge(i))?i:Ge(i&&i.provide);const c=function w_(n){return Yd(n)?nl(void 0,n.useValue):nl(x_(n),rm)}(i);if(nc(i)||!0!==i.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=nl(void 0,rm,!0),d.factory=()=>ce(d.multi),this.records.set(s,d)),s=i,d.multi.push(i)}this.records.set(s,c)}hydrate(i,s){return s.value===rm&&(s.value=qd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cb(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ge(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function sm(n){const i=dt(n),s=null!==i?i.factory:ft(n);if(null!==s)return s;if(n instanceof uo)throw new me(204,!1);if(n instanceof Function)return function Eb(n){const i=n.length;if(i>0)throw Xa(i,"?"),new me(204,!1);const s=function yn(n){return n&&(n[Tt]||n[Ue])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new me(204,!1)}function x_(n,i,s){let c;if(nc(n)){const d=Ge(n);return ft(d)||sm(d)}if(Yd(n))c=()=>Ge(n.useValue);else if(function el(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...ce(n.deps||[]));else if(function Uf(n){return!(!n||!n.useExisting)}(n))c=()=>ke(Ge(n.useExisting));else{const d=Ge(n&&(n.useClass||n.provide));if(!function E_(n){return!!n.deps}(n))return ft(d)||sm(d);c=()=>new d(...ce(n.deps))}return c}function nl(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function jf(n,i){for(const s of n)Array.isArray(s)?jf(s,i):s&&Ve(s)?jf(s.\u0275providers,i):i(s)}const Hf=new uo("AppId",{providedIn:"root",factory:()=>cd}),cd="ng",Qd=new uo("Platform Initializer"),am=new uo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ib=new uo("AnimationModuleType"),D_=new uo("CSP nonce",{providedIn:"root",factory:()=>function Qc(){if(void 0!==Ku)return Ku;if(typeof document<"u")return document;throw new me(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lm=(n,i)=>null;function Kf(n,i){return lm(n,i)}class M_{}class Qf{}class Rb{resolveComponentFactory(i){throw function S_(n){const i=Error(`No component factory found for ${ge(n)}.`);return i.ngComponent=n,i}(i)}}let hd=(()=>{class n{}return n.NULL=new Rb,n})();function O_(){return md(Xr(),Cn())}function md(n,i){return new fd(Mi(n,i))}let fd=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=O_,n})();function um(n){return n instanceof fd?n.nativeElement:n}class tu{}let hm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Xf(){const n=Cn(),s=B(Xr().index,n);return(Hi(s)?s:n)[Xn]}(),n})(),Jf=(()=>{class n{}return n.\u0275prov=zt({token:n,providedIn:"root",factory:()=>null}),n})();class mm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ep=new mm("16.0.5"),tp={};function nu(n){for(;n;){n[Rn]|=64;const i=Hd(n);if(_o(n)&&!i)return n;n=i}return null}function np(n){return n.ngOriginalError}class iu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&np(i);for(;s&&np(s);)s=np(s);return s||null}}const ip=new uo("",{providedIn:"root",factory:()=>!1});function gc(n){return n instanceof Function?n():n}class _m extends Ao{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){nu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,c){const d=Ci(this);this.trackingVersion++;try{i(s,c)}finally{Ci(d)}}destroy(){this.trackingVersion++}}let dh=null;function vm(){return dh??=new _m,dh}function bm(n,i){return n[i]??vm()}function il(n,i){const s=vm();s.hasReadASignal&&(n[i]=dh,s.lView=n,dh=new _m)}const zi={};function U_(n){ym(Ji(),Cn(),Ht()+n,!1)}function ym(n,i,s,c){if(!c)if(3==(3&i[Rn])){const m=n.preOrderCheckHooks;null!==m&&ji(i,m,s)}else{const m=n.preOrderHooks;null!==m&&Or(i,m,0,s)}Jt(s)}function cp(n,i=null,s=null,c){const d=lp(n,i,s,c);return d.resolveInjectorInitializers(),d}function lp(n,i=null,s=null,c,d=new Set){const m=[s||q,em(n)];return c=c||("object"==typeof n?void 0:ge(n)),new Vf(m,i||pc(),c||null,d)}let Rl=(()=>{class n{static create(s,c){if(Array.isArray(s))return cp({name:""},c,s,"");{const d=s.name??"";return cp({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=Dt,n.NULL=new Lf,n.\u0275prov=zt({token:n,providedIn:"any",factory:()=>ke(Xu)}),n.__NG_ELEMENT_ID__=-1,n})();function Pl(n,i=ut.Default){const s=Cn();return null===s?ke(n,i):Wl(Xr(),s,Ge(n),i)}function H_(){throw new Error("invalid")}function Em(n,i,s,c,d,m,x,S,N,X,ye){const Ze=i.blueprint.slice();return Ze[gn]=d,Ze[Rn]=140|c,(null!==X||n&&2048&n[Rn])&&(Ze[Rn]|=2048),Yn(Ze),Ze[oi]=Ze[qr]=n,Ze[Vi]=s,Ze[Sr]=x||n&&n[Sr],Ze[Xn]=S||n&&n[Xn],Ze[Zr]=N||n&&n[Zr]||null,Ze[tr]=m,Ze[is]=function Ug(){return Aa++}(),Ze[ir]=ye,Ze[Es]=X,Ze[$i]=2==i.type?n[$i]:Ze,Ze}function Fl(n,i,s,c,d){let m=n.data[i];if(null===m)m=function up(n,i,s,c,d){const m=Pa(),x=vr(),N=n.data[i]=function pp(n,i,s,c,d,m){let x=i?i.injectorIndex:-1,S=0;return cs()&&(S|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?m:m&&m.parent,s,i,c,d);return null===n.firstChild&&(n.firstChild=N),null!==m&&(x?null==m.child&&null!==N.parent&&(m.child=N):null===m.next&&(m.next=N,N.prev=m)),N}(n,i,s,c,d),function Vc(){return zn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=c,m.attrs=d;const x=function lc(){const n=zn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();m.injectorIndex=null===x?-1:x.injectorIndex}return Mn(m,!0),m}function gd(n,i,s,c){if(0===s)return-1;const d=i.length;for(let m=0;m<s;m++)i.push(c),n.blueprint.push(c),n.data.push(null);return d}function hp(n,i,s,c,d){const m=bm(i,fs),x=Ht(),S=2&c;try{if(Jt(-1),S&&i.length>ki&&ym(n,i,ki,!1),_s(S?2:0,d),S)m.runInContext(s,c,d);else{const X=Ci(null);try{s(c,d)}finally{Ci(X)}}}finally{S&&null===i[fs]&&il(i,fs),Jt(x),_s(S?3:1,d)}}function uh(n,i,s){if(Gr(i)){const c=Ci(null);try{const m=i.directiveEnd;for(let x=i.directiveStart;x<m;x++){const S=n.data[x];S.contentQueries&&S.contentQueries(1,s[x],x)}}finally{Ci(c)}}}function hh(n,i,s){Zs()&&(function W_(n,i,s,c){const d=s.directiveStart,m=s.directiveEnd;kr(s)&&function zb(n,i,s){const c=Mi(i,n),x=cu(n,Em(n,_d(s),null,s.onPush?64:16,c,i,null,n[Sr].rendererFactory.createRenderer(c,s),null,null,null));n[i.index]=x}(i,s,n.data[d+s.componentOffset]),n.firstCreatePass||ml(s,i),da(c,i);const x=s.initialInputs;for(let S=d;S<m;S++){const N=n.data[S],X=Ka(i,n,S,s);da(X,i),null!==x&&Dp(0,S-d,X,N,0,x),Wi(N)&&(B(s.index,i)[Vi]=Ka(i,n,S,s))}}(n,i,s,Mi(s,i)),64==(64&s.flags)&&bp(n,i,s))}function mh(n,i,s=Mi){const c=i.localNames;if(null!==c){let d=i.index+1;for(let m=0;m<c.length;m+=2){const x=c[m+1],S=-1===x?s(i,n):n[x];n[d++]=S}}}function _d(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Pc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function Pc(n,i,s,c,d,m,x,S,N,X,ye){const Ze=ki+c,St=Ze+d,Kt=function mp(n,i){const s=[];for(let c=0;c<i;c++)s.push(c<n?null:zi);return s}(Ze,St),In="function"==typeof X?X():X;return Kt[hn]={type:n,blueprint:Kt,template:s,queries:null,viewQuery:S,declTNode:i,data:Kt.slice().fill(null,Ze),bindingStartIndex:Ze,expandoStartIndex:St,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:N,consts:In,incompleteFirstPass:!1,ssrId:ye}}let fp=n=>null;function Cm(n,i,s,c){for(let d in n)if(n.hasOwnProperty(d)){s=null===s?{}:s;const m=n[d];null===c?Dm(s,i,d,m):c.hasOwnProperty(d)&&Dm(s,i,c[d],m)}return s}function Dm(n,i,s,c){n.hasOwnProperty(s)?n[s].push(i,c):n[s]=[i,c]}function ja(n,i,s,c,d,m,x,S){const N=Mi(i,s);let ye,X=i.inputs;!S&&null!=X&&(ye=X[c])?(fh(n,s,ye,c,d),kr(i)&&function _p(n,i){const s=B(i,n);16&s[Rn]||(s[Rn]|=64)}(s,i.index)):3&i.type&&(c=function Ub(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),d=null!=x?x(d,i.value||"",c):d,m.setProperty(N,c,d))}function Im(n,i,s,c){if(Zs()){const d=null===c?null:{"":-1},m=function jb(n,i){const s=n.directiveRegistry;let c=null,d=null;if(s)for(let m=0;m<s.length;m++){const x=s[m];if(jr(i,x.selectors,!1))if(c||(c=[]),Wi(x))if(null!==x.findHostDirectiveDefs){const S=[];d=d||new Map,x.findHostDirectiveDefs(x,S,d),c.unshift(...S,x),yp(n,i,S.length)}else c.unshift(x),yp(n,i,0);else d=d||new Map,x.findHostDirectiveDefs?.(x,c,d),c.push(x)}return null===c?null:[c,d]}(n,s);let x,S;null===m?x=S=null:[x,S]=m,null!==x&&z_(n,i,s,x,d,S),d&&function Hb(n,i,s){if(i){const c=n.localNames=[];for(let d=0;d<i.length;d+=2){const m=s[i[d+1]];if(null==m)throw new me(-301,!1);c.push(i[d],m)}}}(s,c,d)}s.mergedAttrs=ui(s.mergedAttrs,s.attrs)}function z_(n,i,s,c,d,m){for(let X=0;X<c.length;X++)La(ml(s,i),n,c[X].type);!function xp(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,c.length);for(let X=0;X<c.length;X++){const ye=c[X];ye.providersResolver&&ye.providersResolver(ye)}let x=!1,S=!1,N=gd(n,i,c.length,null);for(let X=0;X<c.length;X++){const ye=c[X];s.mergedAttrs=ui(s.mergedAttrs,ye.hostAttrs),Ep(n,s,i,N,ye),wp(N,ye,d),null!==ye.contentQueries&&(s.flags|=4),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(s.flags|=64);const Ze=ye.type.prototype;!x&&(Ze.ngOnChanges||Ze.ngOnInit||Ze.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),x=!0),!S&&(Ze.ngOnChanges||Ze.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),S=!0),N++}!function gp(n,i,s){const d=i.directiveEnd,m=n.data,x=i.attrs,S=[];let N=null,X=null;for(let ye=i.directiveStart;ye<d;ye++){const Ze=m[ye],St=s?s.get(Ze):null,In=St?St.outputs:null;N=Cm(Ze.inputs,ye,N,St?St.inputs:null),X=Cm(Ze.outputs,ye,X,In);const Fn=null===N||null===x||to(i)?null:Tp(N,ye,x);S.push(Fn)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=N,i.outputs=X}(n,s,m)}function bp(n,i,s){const c=s.directiveStart,d=s.directiveEnd,m=s.index,x=function va(){return zn.lFrame.currentDirectiveIndex}();try{Jt(m);for(let S=c;S<d;S++){const N=n.data[S],X=i[S];Ma(S),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Vb(N,X)}}finally{Jt(-1),Ma(x)}}function Vb(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function yp(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function wp(n,i,s){if(s){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)s[i.exportAs[c]]=n;Wi(i)&&(s[""]=n)}}function Ep(n,i,s,c,d){n.data[c]=d;const m=d.factory||(d.factory=ft(d.type)),x=new Po(m,Wi(d),Pl);n.blueprint[c]=x,s[c]=x,function $_(n,i,s,c,d){const m=d.hostBindings;if(m){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const S=~i.index;(function G_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(x)!=S&&x.push(S),x.push(s,c,m)}}(n,i,c,gd(n,s,d.hostVars,zi),d)}function ic(n,i,s,c,d,m){const x=Mi(n,i);!function Cp(n,i,s,c,d,m,x){if(null==m)n.removeAttribute(i,d,s);else{const S=null==x?he(m):x(m,c||"",d);n.setAttribute(i,d,S,s)}}(i[Xn],x,m,n.value,s,c,d)}function Dp(n,i,s,c,d,m){const x=m[i];if(null!==x)for(let S=0;S<x.length;)Ip(c,s,x[S++],x[S++],x[S++])}function Ip(n,i,s,c,d){const m=Ci(null);try{null!==n.setInput?n.setInput(i,d,s,c):i[c]=d}finally{Ci(m)}}function Tp(n,i,s){let c=null,d=0;for(;d<s.length;){const m=s[d];if(0!==m)if(5!==m){if("number"==typeof m)break;if(n.hasOwnProperty(m)){null===c&&(c=[]);const x=n[m];for(let S=0;S<x.length;S+=2)if(x[S]===i){c.push(m,x[S+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Mp(n,i,s,c){return[n,!0,!1,i,null,0,c,s,null,null,null]}function K_(n,i){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const m=s[c+1];if(-1!==m){const x=n.data[m];$a(s[c]),x.contentQueries(2,i[m],m)}}}function cu(n,i){return n[oo]?n[Yr][fi]=i:n[oo]=i,n[Yr]=i,i}function Sp(n,i,s){$a(0);const c=Ci(null);try{i(n,s)}finally{Ci(c)}}function Y_(n){return n[nr]||(n[nr]=[])}function Tm(n){return n.cleanup||(n.cleanup=[])}function q_(n,i,s){return(null===n||Wi(n))&&(s=function hr(n){for(;Array.isArray(n);){if("object"==typeof n[So])return n;n=n[gn]}return null}(s[i.index])),s[Xn]}function Mm(n,i){const s=n[Zr],c=s?s.get(iu,null):null;c&&c.handleError(i)}function fh(n,i,s,c,d){for(let m=0;m<s.length;){const x=s[m++],S=s[m++];Ip(n.data[x],i[x],c,S,d)}}function lu(n,i){const s=B(i,n),c=s[hn];!function Q_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(c,s);const d=s[gn];null!==d&&null===s[ir]&&(s[ir]=Kf(d,s[Zr])),ph(c,s,s[Vi])}function ph(n,i,s){U(i);try{const c=n.viewQuery;null!==c&&Sp(1,c,s);const d=n.template;null!==d&&hp(n,i,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&K_(n,i),n.staticViewQueries&&Sp(2,n.viewQuery,s);const m=n.components;null!==m&&function $b(n,i){for(let s=0;s<i.length;s++)lu(n,i[s])}(i,m)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[Rn]&=-5,le()}}let J_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,c,d){const m=typeof Zone>"u"?null:Zone.current,x=new ma(s,X=>{this.all.has(X)&&this.queue.set(X,m)},d);let S;this.all.add(x),x.notify();const N=()=>{x.cleanup(),S?.(),this.all.delete(x),this.queue.delete(x)};return S=c?.onDestroy(N),{destroy:N}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:()=>new n}),n})();function Sm(n,i,s){let c=s?n.styles:null,d=s?n.classes:null,m=0;if(null!==i)for(let x=0;x<i.length;x++){const S=i[x];"number"==typeof S?m=S:1==m?d=He(d,S):2==m&&(c=He(c,S+": "+i[++x]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=d:n.classesWithoutHost=d}function gh(n,i,s,c,d=!1){for(;null!==s;){const m=i[s.index];if(null!==m&&c.push(Qi(m)),lr(m)){for(let S=Fr;S<m.length;S++){const N=m[S],X=N[hn].firstChild;null!==X&&gh(N[hn],N,X,c)}m[go]!==m[gn]&&c.push(m[go])}const x=s.type;if(8&x)gh(n,i,s.child,c);else if(32&x){const S=zh(s,i);let N;for(;N=S();)c.push(N)}else if(16&x){const S=$u(i,s);if(Array.isArray(S))c.push(...S);else{const N=Hd(i[$i]);gh(N[hn],N,S,c,!0)}}s=d?s.projectionNext:s.next}return c}function du(n,i,s,c=!0){const d=i[Sr].rendererFactory;d.begin&&d.begin();try{km(n,i,n.template,s)}catch(x){throw c&&Mm(i,x),x}finally{d.end&&d.end(),i[Sr].effectManager?.flush()}}function km(n,i,s,c){const d=i[Rn];if(256!=(256&d)){i[Sr].effectManager?.flush(),U(i);try{Yn(i),function nn(n){return zn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&hp(n,i,s,2,c);const x=3==(3&d);if(x){const X=n.preOrderCheckHooks;null!==X&&ji(i,X,null)}else{const X=n.preOrderHooks;null!==X&&Or(i,X,0,null),Eo(i,0)}if(function Gb(n){for(let i=hf(n);null!==i;i=mf(i)){if(!i[Ko])continue;const s=i[Us];for(let c=0;c<s.length;c++){Bi(s[c])}}}(i),function Rp(n){for(let i=hf(n);null!==i;i=mf(i))for(let s=Fr;s<i.length;s++){const c=i[s],d=c[hn];it(c)&&km(d,c,d.template,c[Vi])}}(i),null!==n.contentQueries&&K_(n,i),x){const X=n.contentCheckHooks;null!==X&&ji(i,X)}else{const X=n.contentHooks;null!==X&&Or(i,X,1),Eo(i,1)}!function dp(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const c=bm(i,cr);try{for(let d=0;d<s.length;d++){const m=s[d];if(m<0)Jt(~m);else{const x=m,S=s[++d],N=s[++d];jc(S,x),c.runInContext(N,2,i[x])}}}finally{null===i[cr]&&il(i,cr),Jt(-1)}}(n,i);const S=n.components;null!==S&&function Fp(n,i){for(let s=0;s<i.length;s++)Pp(n,i[s])}(i,S);const N=n.viewQuery;if(null!==N&&Sp(2,N,c),x){const X=n.viewCheckHooks;null!==X&&ji(i,X)}else{const X=n.viewHooks;null!==X&&Or(i,X,2),Eo(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Rn]&=-73,Ii(i)}finally{le()}}}function Pp(n,i){const s=B(i,n);if(it(s)){const c=s[hn];80&s[Rn]?km(c,s,c.template,s[Vi]):s[Pr]>0&&Am(s)}}function Am(n){for(let c=hf(n);null!==c;c=mf(c))for(let d=Fr;d<c.length;d++){const m=c[d];if(it(m))if(1024&m[Rn]){const x=m[hn];km(x,m,x.template,m[Vi])}else m[Pr]>0&&Am(m)}const s=n[hn].components;if(null!==s)for(let c=0;c<s.length;c++){const d=B(s[c],n);it(d)&&d[Pr]>0&&Am(d)}}class uu{get rootNodes(){const i=this._lView,s=i[hn];return gh(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vi]}set context(i){this._lView[Vi]=i}get destroyed(){return 256==(256&this._lView[Rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[oi];if(lr(i)){const s=i[ps],c=s?s.indexOf(this):-1;c>-1&&(Cl(i,c),ta(s,c))}this._attachedToViewContainer=!1}$h(this._lView[hn],this._lView)}onDestroy(i){!function Di(n,i){if(256==(256&n[Rn]))throw new me(911,!1);null===n[pr]&&(n[pr]=[]),n[pr].push(i)}(this._lView,i)}markForCheck(){nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rn]&=-129}reattach(){this._lView[Rn]|=128}detectChanges(){du(this._lView[hn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zd(n,i){Gd(n,i,i[Xn],2,null,null)}(this._lView[hn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=i}}class Wb extends uu{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;du(i[hn],i,i[Vi],!1)}checkNoChanges(){}get context(){return null}}class ev extends hd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=mi(i);return new vd(s,this.ngModule)}}function Om(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Np{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,c){c=Re(c);const d=this.injector.get(i,tp,c);return d!==tp||s===tp?d:this.parentInjector.get(i,s,c)}}class vd extends Qf{get inputs(){return Om(this.componentDef.inputs)}get outputs(){return Om(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function or(n){return n.map(er).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,c,d){let m=(d=d||this.ngModule)instanceof Al?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const x=m?new Np(i,m):i,S=x.get(tu,null);if(null===S)throw new me(407,!1);const ye={rendererFactory:S,sanitizer:x.get(Jf,null),effectManager:x.get(J_,null)},Ze=S.createRenderer(null,this.componentDef),St=this.componentDef.selectors[0][0]||"div",Kt=c?function ou(n,i,s,c){const m=c.get(ip,!1)||s===Oe.ShadowDom,x=n.selectRootElement(i,m);return function su(n){fp(n)}(x),x}(Ze,c,this.componentDef.encapsulation,x):El(Ze,St,function Kb(n){const i=n.toLowerCase();return"svg"===i?pa:"math"===i?"math":null}(St)),In=this.componentDef.onPush?576:528,Fn=Pc(0,null,null,1,0,null,null,null,null,null,null),ei=Em(null,Fn,null,In,null,null,ye,Ze,x,null,null);let _i,kn;U(ei);try{const Li=this.componentDef;let Tr,Do=null;Li.findHostDirectiveDefs?(Tr=[],Do=new Map,Li.findHostDirectiveDefs(Li,Tr,Do),Tr.push(Li)):Tr=[Li];const ul=function _h(n,i){const s=n[hn],c=ki;return n[c]=i,Fl(s,c,2,"#host",null)}(ei,Kt),Px=function Zb(n,i,s,c,d,m,x){const S=d[hn];!function Bp(n,i,s,c){for(const d of n)i.mergedAttrs=ui(i.mergedAttrs,d.hostAttrs);null!==i.mergedAttrs&&(Sm(i,i.mergedAttrs,!0),null!==s&&id(c,s,i))}(c,n,i,x);let N=null;null!==i&&(N=Kf(i,d[Zr]));const X=m.rendererFactory.createRenderer(i,s),ye=Em(d,_d(s),null,s.onPush?64:16,d[n.index],n,m,X,null,null,N);return S.firstCreatePass&&yp(S,n,c.length-1),cu(d,ye),d[n.index]=ye}(ul,Kt,Li,Tr,ei,ye,Ze);kn=F(Fn,ki),Kt&&function hu(n,i,s,c){if(c)qn(n,s,["ng-version",ep.full]);else{const{attrs:d,classes:m}=function Io(n){const i=[],s=[];let c=1,d=2;for(;c<n.length;){let m=n[c];if("string"==typeof m)2===d?""!==m&&i.push(m,n[++c]):8===d&&s.push(m);else{if(!Mr(d))break;d=m}c++}return{attrs:i,classes:s}}(i.selectors[0]);d&&qn(n,s,d),m&&m.length>0&&Wh(n,s,m.join(" "))}}(Ze,Li,Kt,c),void 0!==s&&function nv(n,i,s){const c=n.projection=[];for(let d=0;d<i.length;d++){const m=s[d];c.push(null!=m?Array.from(m):null)}}(kn,this.ngContentSelectors,s),_i=function tv(n,i,s,c,d,m){const x=Xr(),S=d[hn],N=Mi(x,d);z_(S,d,x,s,null,c);for(let ye=0;ye<s.length;ye++)da(Ka(d,S,x.directiveStart+ye,x),d);bp(S,d,x),N&&da(N,d);const X=Ka(d,S,x.directiveStart+x.componentOffset,x);if(n[Vi]=d[Vi]=X,null!==m)for(const ye of m)ye(X,i);return uh(S,x,n),X}(Px,Li,Tr,Do,ei,[Rm]),ph(Fn,ei,null)}finally{le()}return new Lp(this.componentType,_i,md(kn,ei),ei,kn)}}class Lp extends M_{constructor(i,s,c,d,m){super(),this.location=c,this._rootLView=d,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Wb(d),this.componentType=i}setInput(i,s){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const m=this._rootLView;fh(m[hn],m,d,i,s),this.previousInputValues.set(i,s),nu(B(this._tNode.index,m))}}get injector(){return new Za(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Rm(){const n=Xr();Un(Cn()[hn],n)}function Up(n){let i=function iv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;i;){let d;if(Wi(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new me(903,!1);d=i.\u0275dir}if(d){if(s){c.push(d);const x=n;x.inputs=Vp(n.inputs),x.declaredInputs=Vp(n.declaredInputs),x.outputs=Vp(n.outputs);const S=d.hostBindings;S&&Hp(n,S);const N=d.viewQuery,X=d.contentQueries;if(N&&Pm(n,N),X&&jp(n,X),fe(n.inputs,d.inputs),fe(n.declaredInputs,d.declaredInputs),fe(n.outputs,d.outputs),Wi(d)&&d.data.animation){const ye=n.data;ye.animation=(ye.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let x=0;x<m.length;x++){const S=m[x];S&&S.ngInherit&&S(n),S===Up&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Yb(n){let i=0,s=null;for(let c=n.length-1;c>=0;c--){const d=n[c];d.hostVars=i+=d.hostVars,d.hostAttrs=ui(d.hostAttrs,s=ui(s,d.hostAttrs))}}(c)}function Vp(n){return n===Fe?{}:n===q?[]:n}function Pm(n,i){const s=n.viewQuery;n.viewQuery=s?(c,d)=>{i(c,d),s(c,d)}:i}function jp(n,i){const s=n.contentQueries;n.contentQueries=s?(c,d,m)=>{i(c,d,m),s(c,d,m)}:i}function Hp(n,i){const s=n.hostBindings;n.hostBindings=s?(c,d)=>{i(c,d),s(c,d)}:i}function bh(n){return!!Yp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fc(n,i,s){return n[i]=s}function ua(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function qp(n,i,s,c){const d=Cn();return ua(d,En(),i)&&(Ji(),ic(y(),d,n,i,s,c)),qp}function bd(n,i,s,c){return ua(n,En(),s)?i+he(s)+c:zi}function Bl(n,i,s,c,d,m,x,S){const N=Cn(),X=Ji(),ye=n+ki,Ze=X.firstCreatePass?function ty(n,i,s,c,d,m,x,S,N){const X=i.consts,ye=Fl(i,n,4,x||null,fn(X,S));Im(i,s,ye,fn(X,N)),Un(i,ye);const Ze=ye.tView=Pc(2,ye,c,d,m,i.directiveRegistry,i.pipeRegistry,null,i.schemas,X,null);return null!==i.queries&&(i.queries.template(i,ye),Ze.queries=i.queries.embeddedTView(ye)),ye}(ye,X,N,i,s,c,d,m,x):X.data[ye];Mn(Ze,!1);const St=Ch(X,N,Ze,n);Et()&&Dl(X,N,St,Ze),da(St,N),cu(N,N[ye]=Mp(St,N,St,Ze)),jo(Ze)&&hh(X,N,Ze),null!=x&&mh(N,Ze,S)}let Ch=function bu(n,i,s,c){return _n(!0),i[Xn].createComment("")};function gv(n){return ee(function ao(){return zn.lFrame.contextLView}(),ki+n)}function ag(n,i,s){const c=Cn();return ua(c,En(),i)&&ja(Ji(),y(),c,n,i,c[Xn],s,!1),ag}function Dh(n,i,s,c,d){const x=d?"class":"style";fh(n,s,i.inputs[x],x,c)}function Ih(n,i,s,c){const d=Cn(),m=Ji(),x=ki+n,S=d[Xn],N=m.firstCreatePass?function cg(n,i,s,c,d,m){const x=i.consts,N=Fl(i,n,2,c,fn(x,d));return Im(i,s,N,fn(x,m)),null!==N.attrs&&Sm(N,N.attrs,!1),null!==N.mergedAttrs&&Sm(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(x,m,d,i,s,c):m.data[x],X=lg(m,d,N,S,i,n);d[x]=X;const ye=jo(N);return Mn(N,!0),id(S,X,N),32!=(32&N.flags)&&Et()&&Dl(m,d,X,N),0===function Wr(){return zn.lFrame.elementDepthCount}()&&da(X,d),function sa(){zn.lFrame.elementDepthCount++}(),ye&&(hh(m,d,N),uh(m,N,d)),null!==c&&mh(d,N),Ih}function Nc(){let n=Xr();vr()?Ms():(n=n.parent,Mn(n,!1));const i=n;(function Ts(n){return zn.skipHydrationRootTNode===n})(i)&&function Ra(){zn.skipHydrationRootTNode=null}(),function Oo(){zn.lFrame.elementDepthCount--}();const s=Ji();return s.firstCreatePass&&(Un(s,n),Gr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function li(n){return 0!=(8&n.flags)}(i)&&Dh(s,i,Cn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function wi(n){return 0!=(16&n.flags)}(i)&&Dh(s,i,Cn(),i.stylesWithoutHost,!1),Nc}function jm(n,i,s,c){return Ih(n,i,s,c),Nc(),jm}let lg=(n,i,s,c,d,m)=>(_n(!0),El(c,d,function ve(){return zn.lFrame.currentNamespace}()));function Cd(n,i,s){const c=Cn(),d=Ji(),m=n+ki,x=d.firstCreatePass?function iy(n,i,s,c,d){const m=i.consts,x=fn(m,c),S=Fl(i,n,8,"ng-container",x);return null!==x&&Sm(S,x,!0),Im(i,s,S,fn(m,d)),null!==i.queries&&i.queries.elementStart(i,S),S}(m,d,c,i,s):d.data[m];Mn(x,!0);const S=yu(d,c,x,n);return c[m]=S,Et()&&Dl(d,c,S,x),da(S,c),jo(x)&&(hh(d,c,x),uh(d,x,c)),null!=s&&mh(c,x),Cd}function Dd(){let n=Xr();const i=Ji();return vr()?Ms():(n=n.parent,Mn(n,!1)),i.firstCreatePass&&(Un(i,n),Gr(n)&&i.queries.elementEnd(n)),Dd}function Hm(n,i,s){return Cd(n,i,s),Dd(),Hm}let yu=(n,i,s,c)=>(_n(!0),pf(i[Xn],""));function ug(){return Cn()}function Mh(n){return!!n&&"function"==typeof n.then}function wu(n){return!!n&&"function"==typeof n.subscribe}function Lc(n,i,s,c){const d=Cn(),m=Ji(),x=Xr();return Td(m,d,d[Xn],x,n,i,c),Lc}function Id(n,i){const s=Xr(),c=Cn(),d=Ji();return Td(d,c,q_(dc(d.data),s,c),s,n,i),Id}function Td(n,i,s,c,d,m,x){const S=jo(c),X=n.firstCreatePass&&Tm(n),ye=i[Vi],Ze=Y_(i);let St=!0;if(3&c.type||x){const Fn=Mi(c,i),ei=x?x(Fn):Fn,_i=Ze.length,kn=x?Tr=>x(Qi(Tr[c.index])):c.index;let Li=null;if(!x&&S&&(Li=function oy(n,i,s,c){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const x=d[m];if(x===s&&d[m+1]===c){const S=i[nr],N=d[m+2];return S.length>N?S[N]:null}"string"==typeof x&&(m+=2)}return null}(n,i,d,c.index)),null!==Li)(Li.__ngLastListenerFn__||Li).__ngNextListenerFn__=m,Li.__ngLastListenerFn__=m,St=!1;else{m=ay(c,i,ye,m,!1);const Tr=s.listen(ei,d,m);Ze.push(m,Tr),X&&X.push(d,kn,_i,_i+1)}}else m=ay(c,i,ye,m,!1);const Kt=c.outputs;let In;if(St&&null!==Kt&&(In=Kt[d])){const Fn=In.length;if(Fn)for(let ei=0;ei<Fn;ei+=2){const Do=i[In[ei]][In[ei+1]].subscribe(m),ul=Ze.length;Ze.push(m,Do),X&&X.push(d,c.index,ul,-(ul+1))}}}function sy(n,i,s,c){try{return _s(6,i,s),!1!==s(c)}catch(d){return Mm(n,d),!1}finally{_s(7,i,s)}}function ay(n,i,s,c,d){return function m(x){if(x===Function)return c;nu(n.componentOffset>-1?B(n.index,i):i);let N=sy(i,s,c,x),X=m.__ngNextListenerFn__;for(;X;)N=sy(i,s,X,x)&&N,X=X.__ngNextListenerFn__;return d&&!1===N&&x.preventDefault(),N}}function $m(n=1){return function st(n){return(zn.lFrame.contextLView=function nt(n,i){for(;n>0;)i=i[qr],n--;return i}(n,zn.lFrame.contextLView))[Vi]}(n)}function cy(n,i){let s=null;const c=function fr(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let d=0;d<i.length;d++){const m=i[d];if("*"!==m){if(null===c?jr(n,m,!0):Bo(c,m))return d}else s=d}return s}function Sh(n){const i=Cn()[$i][tr];if(!i.projection){const c=i.projection=Xa(n?n.length:1,null),d=c.slice();let m=i.child;for(;null!==m;){const x=n?cy(m,n):0;null!==x&&(d[x]?d[x].projectionNext=m:c[x]=m,d[x]=m),m=m.next}}}function _v(n,i=0,s){const c=Cn(),d=Ji(),m=Fl(d,ki+n,16,null,s||null);null===m.projection&&(m.projection=i),Ms(),(!c[ir]||cs())&&32!=(32&m.flags)&&function t_(n,i,s){n_(i[Xn],0,i,s,bf(n,s,i),e_(s.parent||i[tr],s,i))}(d,c,m)}function hg(n,i,s){return xu(n,"",i,"",s),hg}function xu(n,i,s,c,d){const m=Cn(),x=bd(m,i,s,c);return x!==zi&&ja(Ji(),y(),m,n,x,m[Xn],d,!1),xu}function Ah(n,i){return n<<17|i<<2}function sl(n){return n>>17&32767}function Eu(n){return 2|n}function Md(n){return(131068&n)>>2}function Ev(n,i){return-131069&n|i<<2}function _g(n){return 1|n}function Cu(n,i,s,c,d){const m=n[s+1],x=null===i;let S=c?sl(m):Md(m),N=!1;for(;0!==S&&(!1===N||x);){const ye=n[S+1];Ul(n[S],i)&&(N=!0,n[S+1]=c?_g(ye):Eu(ye)),S=c?sl(ye):Md(ye)}N&&(n[s+1]=c?Eu(m):_g(m))}function Ul(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ie(n,i)>=0}function jl(n,i,s){return bc(n,i,s,!1),jl}function Oh(n,i){return bc(n,i,null,!0),Oh}function bc(n,i,s,c){const d=Cn(),m=Ji(),x=function Ai(n){const i=zn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);m.firstUpdatePass&&function py(n,i,s,c){const d=n.data;if(null===d[s+1]){const m=d[Ht()],x=function fy(n,i){return i>=n.expandoStartIndex}(n,s);(function Ov(n,i){return 0!=(n.flags&(i?8:16))})(m,c)&&null===i&&!x&&(i=!1),i=function M0(n,i,s,c){const d=dc(n);let m=c?i.residualClasses:i.residualStyles;if(null===d)0===(c?i.classBindings:i.styleBindings)&&(s=Gm(s=yg(null,n,i,s,c),i.attrs,c),m=null);else{const x=i.directiveStylingLast;if(-1===x||n[x]!==d)if(s=yg(d,n,i,s,c),null===m){let N=function S0(n,i,s){const c=s?i.classBindings:i.styleBindings;if(0!==Md(c))return n[sl(c)]}(n,i,c);void 0!==N&&Array.isArray(N)&&(N=yg(null,n,i,N[1],c),N=Gm(N,i.attrs,c),function gy(n,i,s,c){n[sl(s?i.classBindings:i.styleBindings)]=c}(n,i,c,N))}else m=function _y(n,i,s){let c;const d=i.directiveEnd;for(let m=1+i.directiveStylingLast;m<d;m++)c=Gm(c,n[m].hostAttrs,s);return Gm(c,i.attrs,s)}(n,i,c)}return void 0!==m&&(c?i.residualClasses=m:i.residualStyles=m),s}(d,m,i,c),function Sd(n,i,s,c,d,m){let x=m?i.classBindings:i.styleBindings,S=sl(x),N=Md(x);n[c]=s;let ye,X=!1;if(Array.isArray(s)?(ye=s[1],(null===ye||ie(s,ye)>0)&&(X=!0)):ye=s,d)if(0!==N){const St=sl(n[S+1]);n[c+1]=Ah(St,S),0!==St&&(n[St+1]=Ev(n[St+1],c)),n[S+1]=function gg(n,i){return 131071&n|i<<17}(n[S+1],c)}else n[c+1]=Ah(S,0),0!==S&&(n[S+1]=Ev(n[S+1],c)),S=c;else n[c+1]=Ah(N,0),0===S?S=c:n[N+1]=Ev(n[N+1],c),N=c;X&&(n[c+1]=Eu(n[c+1])),Cu(n,ye,c,!0),Cu(n,ye,c,!1),function al(n,i,s,c,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof i&&ie(m,i)>=0&&(s[c+1]=_g(s[c+1]))}(i,ye,n,c,m),x=Ah(S,N),m?i.classBindings=x:i.styleBindings=x}(d,m,i,s,x,c)}}(m,n,x,c),i!==zi&&ua(d,x,i)&&function kv(n,i,s,c,d,m,x,S){if(!(3&i.type))return;const N=n.data,X=N[S+1],ye=function I0(n){return 1==(1&n)}(X)?Av(N,i,s,d,Md(X),x):void 0;Wm(ye)||(Wm(m)||function xv(n){return 2==(2&n)}(X)&&(m=Av(N,null,s,d,S,x)),function ub(n,i,s,c,d){if(i)d?n.addClass(s,c):n.removeClass(s,c);else{let m=-1===c.indexOf("-")?void 0:ka.DashCase;null==d?n.removeStyle(s,c,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=ka.Important),n.setStyle(s,c,d,m))}}(c,x,Is(Ht(),s),d,m))}(m,m.data[Ht()],d,d[Xn],n,d[x+1]=function yy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ge(Xc(n)))),n}(i,s),c,x)}function yg(n,i,s,c,d){let m=null;const x=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<x&&(m=i[S],c=Gm(c,m.hostAttrs,d),m!==n);)S++;return null!==n&&(s.directiveStylingLast=S),c}function Gm(n,i,s){const c=s?1:2;let d=-1;if(null!==i)for(let m=0;m<i.length;m++){const x=i[m];"number"==typeof x?d=x:d===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),k(n,x,!!s||i[++m]))}return void 0===n?null:n}function Av(n,i,s,c,d,m){const x=null===i;let S;for(;d>0;){const N=n[d],X=Array.isArray(N),ye=X?N[1]:N,Ze=null===ye;let St=s[d+1];St===zi&&(St=Ze?q:void 0);let Kt=Ze?L(St,c):ye===c?St:void 0;if(X&&!Wm(Kt)&&(Kt=L(N,c)),Wm(Kt)&&(S=Kt,x))return S;const In=n[d+1];d=x?sl(In):Md(In)}if(null!==i){let N=m?i.residualClasses:i.residualStyles;null!=N&&(S=L(N,c))}return S}function Wm(n){return void 0!==n}function Rv(n,i=""){const s=Cn(),c=Ji(),d=n+ki,m=c.firstCreatePass?Fl(c,d,1,i,null):c.data[d],x=wy(c,s,m,i,n);s[d]=x,Et()&&Dl(c,s,x,m),Mn(m,!1)}let wy=(n,i,s,c,d)=>(_n(!0),function td(n,i){return n.createText(i)}(i[Xn],c));function xg(n){return Km("",n,""),xg}function Km(n,i,s){const c=Cn(),d=bd(c,n,i,s);return d!==zi&&function _c(n,i,s){const c=Is(i,n);!function ff(n,i,s){n.setValue(i,s)}(n[Xn],c,s)}(c,Ht(),d),Km}function Fh(n,i,s){const c=Cn();return ua(c,En(),i)&&ja(Ji(),y(),c,n,i,c[Xn],s,!0),Fh}function Mu(n,i,s){const c=Cn();if(ua(c,En(),i)){const m=Ji(),x=y();ja(m,x,c,n,i,q_(dc(m.data),x,c),s,!0)}return Mu}const zl=void 0;var Sg=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cy(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Su={};function Qm(n){const i=function My(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=kg(i);if(s)return s;const c=i.split("-")[0];if(s=kg(c),s)return s;if("en"===c)return Sg;throw new me(701,!1)}function Zv(n){return Qm(n)[Ri.PluralCase]}function kg(n){return n in Su||(Su[n]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[n]),Su[n]}var Ri=(()=>((Ri=Ri||{})[Ri.LocaleId=0]="LocaleId",Ri[Ri.DayPeriodsFormat=1]="DayPeriodsFormat",Ri[Ri.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ri[Ri.DaysFormat=3]="DaysFormat",Ri[Ri.DaysStandalone=4]="DaysStandalone",Ri[Ri.MonthsFormat=5]="MonthsFormat",Ri[Ri.MonthsStandalone=6]="MonthsStandalone",Ri[Ri.Eras=7]="Eras",Ri[Ri.FirstDayOfWeek=8]="FirstDayOfWeek",Ri[Ri.WeekendRange=9]="WeekendRange",Ri[Ri.DateFormat=10]="DateFormat",Ri[Ri.TimeFormat=11]="TimeFormat",Ri[Ri.DateTimeFormat=12]="DateTimeFormat",Ri[Ri.NumberSymbols=13]="NumberSymbols",Ri[Ri.NumberFormats=14]="NumberFormats",Ri[Ri.CurrencyCode=15]="CurrencyCode",Ri[Ri.CurrencySymbol=16]="CurrencySymbol",Ri[Ri.CurrencyName=17]="CurrencyName",Ri[Ri.Currencies=18]="Currencies",Ri[Ri.Directionality=19]="Directionality",Ri[Ri.PluralCase=20]="PluralCase",Ri[Ri.ExtraData=21]="ExtraData",Ri))();const ku="en-US";let u=ku;function Ay(n,i,s,c,d){if(n=Ge(n),Array.isArray(n))for(let m=0;m<n.length;m++)Ay(n[m],i,s,c,d);else{const m=Ji(),x=Cn();let S=nc(n)?n:Ge(n.provide),N=x_(n);const X=Xr(),ye=1048575&X.providerIndexes,Ze=X.directiveStart,St=X.providerIndexes>>20;if(nc(n)||!n.multi){const Kt=new Po(N,d,Pl),In=Ry(S,i,d?ye:ye+St,Ze);-1===In?(La(ml(X,x),m,S),Oy(m,n,i.length),i.push(S),X.directiveStart++,X.directiveEnd++,d&&(X.providerIndexes+=1048576),s.push(Kt),x.push(Kt)):(s[In]=Kt,x[In]=Kt)}else{const Kt=Ry(S,i,ye+St,Ze),In=Ry(S,i,ye,ye+St),ei=In>=0&&s[In];if(d&&!ei||!d&&!(Kt>=0&&s[Kt])){La(ml(X,x),m,S);const _i=function EE(n,i,s,c,d){const m=new Po(n,s,Pl);return m.multi=[],m.index=i,m.componentProviders=0,K0(m,d,c&&!s),m}(d?xE:wE,s.length,d,c,N);!d&&ei&&(s[In].providerFactory=_i),Oy(m,n,i.length,0),i.push(S),X.directiveStart++,X.directiveEnd++,d&&(X.providerIndexes+=1048576),s.push(_i),x.push(_i)}else Oy(m,n,Kt>-1?Kt:In,K0(s[d?In:Kt],N,!d&&c));!d&&c&&ei&&s[In].componentProviders++}}}function Oy(n,i,s,c){const d=nc(i),m=function y_(n){return!!n.useClass}(i);if(d||m){const N=(m?Ge(i.useClass):i).prototype.ngOnDestroy;if(N){const X=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const ye=X.indexOf(s);-1===ye?X.push(s,[c,N]):X[ye+1].push(c,N)}else X.push(s,N)}}}function K0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Ry(n,i,s,c){for(let d=s;d<c;d++)if(i[d]===n)return d;return-1}function wE(n,i,s,c){return Py(this.multi,[])}function xE(n,i,s,c){const d=this.multi;let m;if(this.providerFactory){const x=this.providerFactory.componentProviders,S=Ka(s,s[hn],this.providerFactory.index,c);m=S.slice(0,x),Py(d,m);for(let N=x;N<S.length;N++)m.push(S[N])}else m=[],Py(d,m);return m}function Py(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function Z0(n,i=[]){return s=>{s.providersResolver=(c,d)=>function yE(n,i,s){const c=Ji();if(c.firstCreatePass){const d=Wi(n);Ay(s,c.data,c.blueprint,d,!0),Ay(i,c.data,c.blueprint,d,!1)}}(c,d?d(n):n,i)}}class Xm{}class Y0{}function CE(n,i){return new Fy(n,i??null,[])}class Fy extends Xm{constructor(i,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const d=Hr(i);this._bootstrapComponents=gc(d.bootstrap),this._r3Injector=lp(i,s,[{provide:Xm,useValue:this},{provide:hd,useValue:this.componentFactoryResolver},...c],ge(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ny extends Y0{constructor(i){super(),this.moduleType=i}create(i){return new Fy(this.moduleType,i,[])}}class q0 extends Xm{constructor(i){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const s=new Vf([...i.providers,{provide:Xm,useValue:this},{provide:hd,useValue:this.componentFactoryResolver}],i.parent||pc(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Q0(n,i,s=null){return new q0({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let IE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const c=Zd(0,s.type),d=c.length>0?Q0([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=zt({token:n,providedIn:"environment",factory:()=>new n(ke(Al))}),n})();function X0(n){n.getStandaloneInjector=i=>i.get(IE).getOrCreateStandaloneInjector(n)}function ow(n,i,s,c){return function aw(n,i,s,c,d,m){const x=i+s;return ua(n,x,d)?Fc(n,x+1,m?c.call(m,d):c(d)):Rg(n,x+1)}(Cn(),ls(),n,i,s,c)}function sw(n,i,s,c,d){return cw(Cn(),ls(),n,i,s,c,d)}function Rg(n,i){const s=n[i];return s===zi?void 0:s}function cw(n,i,s,c,d,m,x){const S=i+s;return function Nl(n,i,s,c){const d=ua(n,i,s);return ua(n,i+1,c)||d}(n,S,d,m)?Fc(n,S+2,x?c.call(x,d,m):c(d,m)):Rg(n,S+2)}function hw(n,i){const s=Ji();let c;const d=n+ki;s.firstCreatePass?(c=function zE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const c=i[s];if(n===c.name)return c}}(i,s.pipeRegistry),s.data[d]=c,c.onDestroy&&(s.destroyHooks??=[]).push(d,c.onDestroy)):c=s.data[d];const m=c.factory||(c.factory=ft(c.type)),x=an(Pl);try{const S=po(!1),N=m();return po(S),function ny(n,i,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=c}(s,Cn(),d,N),N}finally{an(x)}}function mw(n,i,s,c){const d=n+ki,m=Cn(),x=ee(m,d);return function Pg(n,i){return n[hn].data[i].pure}(m,d)?cw(m,ls(),i,x.transform,s,c,x):x.transform(s,c)}function By(n){return i=>{setTimeout(n,void 0,i)}}const $l=class ZE extends l.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,c){let d=i,m=s||(()=>null),x=c;if(i&&"object"==typeof i){const N=i;d=N.next?.bind(N),m=N.error?.bind(N),x=N.complete?.bind(N)}this.__isAsync&&(m=By(m),d&&(d=By(d)),x&&(x=By(x)));const S=super.subscribe({next:d,error:m,complete:x});return i instanceof C.w0&&i.add(S),S}};function YE(){return this._results[Symbol.iterator]()}class Xv{get changes(){return this._changes||(this._changes=new $l)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=YE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const c=this;c.dirty=!1;const d=function Jr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function qa(n,i,s){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],m=i[c];if(s&&(d=s(d),m=s(m)),m!==d)return!1}return!0}(c._results,d,s))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=XE,n})();const qE=Fg,QE=class extends qE{constructor(i,s,c){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,c){const d=this._declarationTContainer.tView,m=Em(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,s||null,c||null);m[Mo]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[yo];return null!==S&&(m[yo]=S.createEmbeddedView(d)),ph(d,m,i),new uu(m)}};function XE(){return Jv(Xr(),Cn())}function Jv(n,i){return 4&n.type?new QE(i,n,md(n,i)):null}let eb=(()=>{class n{}return n.__NG_ELEMENT_ID__=oC,n})();function oC(){return bw(Xr(),Cn())}const sC=eb,_w=class extends sC{constructor(i,s,c){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=c}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Za(this._hostTNode,this._hostLView)}get parentInjector(){const i=Gl(this._hostTNode,this._hostLView);if(Yo(i)){const s=Dr(i,this._hostLView),c=Rr(i);return new Za(s[hn].data[c+8],s)}return new Za(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=vw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(i,s,c){let d,m;"number"==typeof c?d=c:null!=c&&(d=c.index,m=c.injector);const S=i.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(S,d,false),S}createComponent(i,s,c,d,m){const x=i&&!function Tc(n){return"function"==typeof n}(i);let S;if(x)S=s;else{const Fn=s||{};S=Fn.index,c=Fn.injector,d=Fn.projectableNodes,m=Fn.environmentInjector||Fn.ngModuleRef}const N=x?i:new vd(mi(i)),X=c||this.parentInjector;if(!m&&null==N.ngModule){const ei=(x?X:this.parentInjector).get(Al,null);ei&&(m=ei)}mi(N.componentType??{});const Kt=N.create(X,d,null,m);return this.insertImpl(Kt.hostView,S,false),Kt}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,c){const d=i._lView,m=d[hn];if(function tn(n){return lr(n[oi])}(d)){const N=this.indexOf(i);if(-1!==N)this.detach(N);else{const X=d[oi],ye=new _w(X,X[tr],X[oi]);ye.detach(ye.indexOf(i))}}const x=this._adjustIndex(s),S=this._lContainer;if(function Zg(n,i,s,c){const d=Fr+c,m=s.length;c>0&&(s[d-1][fi]=i),c<m-Fr?(i[fi]=s[d],Hs(s,Fr+c,i)):(s.push(i),i[fi]=null),i[oi]=s;const x=i[Mo];null!==x&&s!==x&&function Yg(n,i){const s=n[Us];i[$i]!==i[oi][oi][$i]&&(n[Ko]=!0),null===s?n[Us]=[i]:s.push(i)}(x,i);const S=i[yo];null!==S&&S.insertView(n),i[Rn]|=128}(m,d,S,x),!c){const N=Gh(x,S),X=d[Xn],ye=nd(X,S[go]);null!==ye&&function Kg(n,i,s,c,d,m){c[gn]=d,c[tr]=i,Gd(n,c,s,1,d,m)}(m,S[tr],X,d,ye,N)}return i.attachToViewContainerRef(),Hs(Vy(S),x,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=vw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),c=Cl(this._lContainer,s);c&&(ta(Vy(this._lContainer),s),$h(c[hn],c))}detach(i){const s=this._adjustIndex(i,-1),c=Cl(this._lContainer,s);return c&&null!=ta(Vy(this._lContainer),s)?new uu(c):null}_adjustIndex(i,s=0){return i??this.length+s}};function vw(n){return n[ps]}function Vy(n){return n[ps]||(n[ps]=[])}function bw(n,i){let s;const c=i[n.index];return lr(c)?s=c:(s=Mp(c,i,null,n),i[n.index]=s,cu(i,s)),yw(s,i,n,c),new _w(s,n,i)}let yw=function ww(n,i,s,c){if(n[go])return;let d;d=8&s.type?Qi(c):function aC(n,i){const s=n[Xn],c=s.createComment(""),d=Mi(i,n);return $o(s,nd(s,d),c,function Jg(n,i){return n.nextSibling(i)}(s,d),!1),c}(i,s),n[go]=d};class jy{constructor(i){this.queryList=i,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const c=null!==i.contentQueries?i.contentQueries[0]:s.length,d=[];for(let m=0;m<c;m++){const x=s.getByIndex(m);d.push(this.queries[x.indexInDeclarationView].clone())}return new Hy(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==kw(i,s).matches&&this.queries[s].setDirty()}}class xw{constructor(i,s,c=null){this.predicate=i,this.flags=s,this.read=c}}class zy{constructor(i=[]){this.queries=i}elementStart(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let c=0;c<this.length;c++){const d=null!==s?s.length:0,m=this.getByIndex(c).embeddedTView(i,d);m&&(m.indexInDeclarationView=c,null!==s?s.push(m):s=[m])}return null!==s?new zy(s):null}template(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class $y{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new $y(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const m=c[d];this.matchTNodeWithReadOption(i,s,dC(s,m)),this.matchTNodeWithReadOption(i,s,gl(s,i,m,!1,!1))}else c===Fg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,gl(s,i,c,!1,!1))}matchTNodeWithReadOption(i,s,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===fd||d===eb||d===Fg&&4&s.type)this.addMatch(s.index,-2);else{const m=gl(s,i,d,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,c)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function dC(n,i){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===i)return s[c+1];return null}function hC(n,i,s,c){return-1===s?function uC(n,i){return 11&n.type?md(n,i):4&n.type?Jv(n,i):null}(i,n):-2===s?function mC(n,i,s){return s===fd?md(i,n):s===Fg?Jv(i,n):s===eb?bw(i,n):void 0}(n,i,c):Ka(n,n[hn],s,i)}function Ew(n,i,s,c){const d=i[yo].queries[c];if(null===d.matches){const m=n.data,x=s.matches,S=[];for(let N=0;N<x.length;N+=2){const X=x[N];S.push(X<0?null:hC(i,m[X],x[N+1],s.metadata.read))}d.matches=S}return d.matches}function Gy(n,i,s,c){const d=n.queries.getByIndex(s),m=d.matches;if(null!==m){const x=Ew(n,i,d,s);for(let S=0;S<m.length;S+=2){const N=m[S];if(N>0)c.push(x[S/2]);else{const X=m[S+1],ye=i[-N];for(let Ze=Fr;Ze<ye.length;Ze++){const St=ye[Ze];St[Mo]===St[oi]&&Gy(St[hn],St,X,c)}if(null!==ye[Us]){const Ze=ye[Us];for(let St=0;St<Ze.length;St++){const Kt=Ze[St];Gy(Kt[hn],Kt,X,c)}}}}}return c}function Cw(n){const i=Cn(),s=Ji(),c=Fa();$a(c+1);const d=kw(s,c);if(n.dirty&&function be(n){return 4==(4&n[Rn])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?Gy(s,i,c,[]):Ew(s,i,d,c);n.reset(m,um),n.notifyOnChanges()}return!0}return!1}function Dw(n,i,s){const c=Ji();c.firstCreatePass&&(Sw(c,new xw(n,i,s),-1),2==(2&i)&&(c.staticViewQueries=!0)),Mw(c,Cn(),i)}function Iw(n,i,s,c){const d=Ji();if(d.firstCreatePass){const m=Xr();Sw(d,new xw(i,s,c),m.index),function pC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}Mw(d,Cn(),s)}function Tw(){return function fC(n,i){return n[yo].queries[i].queryList}(Cn(),Fa())}function Mw(n,i,s){const c=new Xv(4==(4&s));(function Bb(n,i,s,c){const d=Y_(i);d.push(s),n.firstCreatePass&&Tm(n).push(c,d.length-1)})(n,i,c,c.destroy),null===i[yo]&&(i[yo]=new Hy),i[yo].queries.push(new jy(c))}function Sw(n,i,s){null===n.queries&&(n.queries=new zy),n.queries.track(new $y(i,s))}function kw(n,i){return n.queries.getByIndex(i)}function Aw(n,i){return Jv(n,i)}function Wy(n){return!!Hr(n)}const Zw=new uo("Application Initializer");let Qy=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=$t(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const d of this.appInits){const m=d();if(Mh(m))s.push(m);else if(wu(m)){const x=new Promise((S,N)=>{m.subscribe({complete:S,error:N})});s.push(x)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(d=>{this.reject(d)}),0===s.length&&c(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nb=new uo("LocaleId",{providedIn:"root",factory:()=>$t(nb,ut.Optional|ut.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||ku}()}),LC=new uo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new h.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let UC=(()=>{class n{compileModuleSync(s){return new Ny(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),m=gc(Hr(s).declarations).reduce((x,S)=>{const N=mi(S);return N&&x.push(new vd(N)),x},[]);return new BC(c,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HC=(()=>Promise.resolve(0))();function Xy(n){typeof Zone>"u"?HC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function Jw(...n){}class za{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $l(!1),this.onMicrotaskEmpty=new $l(!1),this.onStable=new $l(!1),this.onError=new $l(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&s,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function zC(){let n=Dn.requestAnimationFrame,i=Dn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function WC(n){const i=()=>{!function GC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Dn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Jy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,d,m,x,S)=>{try{return ex(n),s.invokeTask(d,m,x,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&i(),tx(n)}},onInvoke:(s,c,d,m,x,S,N)=>{try{return ex(n),s.invoke(d,m,x,S,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),tx(n)}},onHasTask:(s,c,d,m)=>{s.hasTask(d,m),c===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,e0(n),Jy(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,c,d,m)=>(s.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!za.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(za.isInAngularZone())throw new me(909,!1)}run(i,s,c){return this._inner.run(i,s,c)}runTask(i,s,c,d){const m=this._inner,x=m.scheduleEventTask("NgZoneEvent: "+d,i,$C,Jw,Jw);try{return m.runTask(x,s,c)}finally{m.cancelTask(x)}}runGuarded(i,s,c){return this._inner.runGuarded(i,s,c)}runOutsideAngular(i){return this._outer.run(i)}}const $C={};function Jy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ex(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tx(n){n._nesting--,Jy(n)}class KC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $l,this.onMicrotaskEmpty=new $l,this.onStable=new $l,this.onError=new $l}run(i,s,c){return i.apply(s,c)}runGuarded(i,s,c){return i.apply(s,c)}runOutsideAngular(i){return i()}runTask(i,s,c,d){return i.apply(s,c)}}const nx=new uo("",{providedIn:"root",factory:ix});function ix(){const n=$t(za);let i=!0;const s=new J.y(d=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{d.next(i),d.complete()})}),c=new J.y(d=>{let m;n.runOutsideAngular(()=>{m=n.onStable.subscribe(()=>{za.assertNotInAngularZone(),Xy(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,d.next(!0))})})});const x=n.onUnstable.subscribe(()=>{za.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{d.next(!1)}))});return()=>{m.unsubscribe(),x.unsubscribe()}});return(0,we.T)(s,c.pipe((0,W.B)()))}const rx=new uo(""),ox=new uo("");let t0,ZC=(()=>{class n{constructor(s,c,d){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function YC(n){t0=n}(d),d.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{za.assertNotInAngularZone(),Xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,d){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==m),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:d})}whenStable(s,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(ke(za),ke(sx),ke(ox))},n.\u0275prov=zt({token:n,factory:n.\u0275fac}),n})(),sx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return t0?.findTestabilityInTree(this,s,c)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ou=null;const ax=new uo("AllowMultipleToken"),n0=new uo("PlatformDestroyListeners"),r0=new uo("appBootstrapListener");class XC{constructor(i,s){this.name=i,this.token=s}}function dx(n,i,s=[]){const c=`Platform: ${i}`,d=new uo(c);return(m=[])=>{let x=o0();if(!x||x.injector.get(ax,!1)){const S=[...s,...m,{provide:d,useValue:!0}];n?n(S):function JC(n){if(Ou&&!Ou.get(ax,!1))throw new me(400,!1);(function cx(){!function ra(n){ks=n}(()=>{throw new me(600,!1)})})(),Ou=n;const i=n.get(hx);(function lx(n){n.get(Qd,null)?.forEach(s=>s())})(n)}(function ux(n=[],i){return Rl.create({name:i,providers:[{provide:tl,useValue:"platform"},{provide:n0,useValue:new Set([()=>Ou=null])},...n]})}(S,c))}return function tD(n){const i=o0();if(!i)throw new me(401,!1);return i}()}}function o0(){return Ou?.get(hx)??null}let hx=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const d=function nD(n="zone.js",i){return"noop"===n?new KC:"zone.js"===n?new za(i):n}(c?.ngZone,function mx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const m=function DE(n,i,s){return new Fy(n,i,s)}(s.moduleType,this.injector,function vx(n){return[{provide:za,useFactory:n},{provide:sd,multi:!0,useFactory:()=>{const i=$t(rD,{optional:!0});return()=>i.initialize()}},{provide:_x,useFactory:iD},{provide:nx,useFactory:ix}]}(()=>d)),x=m.injector.get(iu,null);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:N=>{x.handleError(N)}});m.onDestroy(()=>{ib(this._modules,m),S.unsubscribe()})}),function fx(n,i,s){try{const c=s();return Mh(c)?c.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(x,d,()=>{const S=m.injector.get(Qy);return S.runInitializers(),S.donePromise.then(()=>(function p(n){Ft(n,"Expected localeId to be defined"),"string"==typeof n&&(u=n.toLowerCase().replace(/_/g,"-"))}(m.injector.get(nb,ku)||ku),this._moduleDoBootstrap(m),m))})})}bootstrapModule(s,c=[]){const d=px({},c);return function qC(n,i,s){const c=new Ny(s);return Promise.resolve(c)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(s){const c=s.injector.get(tf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new me(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(n0,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ke(Rl))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function px(n,i){return Array.isArray(i)?i.reduce(px,n):{...n,...i}}let tf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(_x),this.zoneIsStable=$t(nx),this.componentTypes=[],this.components=[],this.isStable=$t(qw).hasPendingTasks.pipe((0,_e.w)(s=>s?(0,oe.of)(!1):this.zoneIsStable),(0,Ce.x)(),(0,W.B)()),this._injector=$t(Al)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const d=s instanceof Qf;if(!this._injector.get(Qy).done)throw!d&&ro(s),new me(405,!1);let x;x=d?s:this._injector.get(hd).resolveComponentFactory(s),this.componentTypes.push(x.componentType);const S=function QC(n){return n.isBoundToModule}(x)?void 0:this._injector.get(Xm),X=x.create(Rl.NULL,[],c||x.selector,S),ye=X.location.nativeElement,Ze=X.injector.get(rx,null);return Ze?.registerApplication(ye),X.onDestroy(()=>{this.detachView(X.hostView),ib(this.components,X),Ze?.unregisterApplication(ye)}),this._loadComponent(X),X}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;ib(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(r0,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ib(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new me(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ib(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const _x=new uo("",{providedIn:"root",factory:()=>$t(iu).handleError.bind(void 0)});function iD(){const n=$t(za),i=$t(iu);return s=>n.runOutsideAngular(()=>i.handleError(s))}let rD=(()=>{class n{constructor(){this.zone=$t(za),this.applicationRef=$t(tf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sD(){return!1}let aD=(()=>{class n{}return n.__NG_ELEMENT_ID__=cD,n})();function cD(n){return function lD(n,i,s){if(kr(n)&&!s){const c=B(n.index,i);return new uu(c,c)}return 47&n.type?new uu(i[$i],i):null}(Xr(),Cn(),16==(16&n))}class xx{constructor(){}supports(i){return bh(i)}create(i){return new pD(i)}}const fD=(n,i)=>i;class pD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||fD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,c=this._removalsHead,d=0,m=null;for(;s||c;){const x=!c||s&&s.currentIndex<Cx(c,d,m)?s:c,S=Cx(x,d,m),N=x.currentIndex;if(x===c)d--,c=c._nextRemoved;else if(s=s._next,null==x.previousIndex)d++;else{m||(m=[]);const X=S-d,ye=N-d;if(X!=ye){for(let St=0;St<X;St++){const Kt=St<m.length?m[St]:m[St]=0,In=Kt+St;ye<=In&&In<X&&(m[St]=Kt+1)}m[x.previousIndex]=ye-X}}S!==N&&i(x,S,N)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!bh(i))throw new me(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,m,x,s=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)m=i[S],x=this._trackByFn(S,m),null!==s&&Object.is(s.trackById,x)?(c&&(s=this._verifyReinsertion(s,m,x,S)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,x,S),c=!0),s=s._next}else d=0,function Zp(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)i(c.value)}}(i,S=>{x=this._trackByFn(d,S),null!==s&&Object.is(s.trackById,x)?(c&&(s=this._verifyReinsertion(s,S,x,d)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,x,d),c=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,c,d){let m;return null===i?m=this._itTail:(m=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,m,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,m,d)):i=this._addAfter(new gD(s,c),m,d),i}_verifyReinsertion(i,s,c,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?i=this._reinsertAfter(m,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,m=i._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(i,s,c),this._addToMoves(i,c),i}_moveAfter(i,s,c){return this._unlink(i),this._insertAfter(i,s,c),this._addToMoves(i,c),i}_addAfter(i,s,c){return this._insertAfter(i,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,c){const d=null===s?this._itHead:s._next;return i._next=d,i._prev=s,null===d?this._itTail=i:d._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,c=i._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class gD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _D{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const s=i._prevDup,c=i._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class Ex{constructor(){this.map=new Map}put(i){const s=i.trackById;let c=this.map.get(s);c||(c=new _D,this.map.set(s,c)),c.add(i)}get(i,s){const d=this.map.get(i);return d?d.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cx(n,i,s){const c=n.previousIndex;if(null===c)return c;let d=0;return s&&c<s.length&&(d=s[c]),c+i+d}class Dx{constructor(){}supports(i){return i instanceof Map||Yp(i)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Yp(i)))throw new me(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(d,c);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const c=i._prev;return s._next=i,s._prev=c,i._prev=s,c&&(c._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,s);const m=d._prev,x=d._next;return m&&(m._next=x),x&&(x._prev=m),d._next=null,d._prev=null,d}const c=new bD(i);return this._records.set(i,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(c=>s(i[c],c))}}class bD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ix(){return new d0([new xx])}let d0=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(null!=c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Ix()),deps:[[n,new zs,new Ja]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(null!=c)return c;throw new me(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:Ix}),n})();function Tx(){return new u0([new Dx])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Tx()),deps:[[n,new zs,new Ja]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(c)return c;throw new me(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:Tx}),n})();const xD=dx(null,"core",[]);let ED=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ke(tf))},n.\u0275mod=es({type:n}),n.\u0275inj=At({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PD(n){const i=mi(n);if(!i)return null;const s=new vd(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone}}}},9401:(pn,rt,w)=>{w.d(rt,{Cf:()=>Xe,Fj:()=>Pe,JJ:()=>yn,JL:()=>ln,JU:()=>_e,NI:()=>er,UX:()=>dr,Zs:()=>os,_Y:()=>Er,cw:()=>ce,kI:()=>vt,sg:()=>Pr,u:()=>oo,x0:()=>nr});var l=w(2223),C=w(4755),h=w(8996),J=w(4128),we=w(4004);let oe=(()=>{class K{constructor(v,D){this._renderer=v,this._elementRef=D,this.onChange=ne=>{},this.onTouched=()=>{}}setProperty(v,D){this._renderer.setProperty(this._elementRef.nativeElement,v,D)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(l.Qsj),l.Y36(l.SBq))},K.\u0275dir=l.lG2({type:K}),K})(),W=(()=>{class K extends oe{}return K.\u0275fac=function(){let j;return function(D){return(j||(j=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,features:[l.qOj]}),K})();const _e=new l.OlP("NgValueAccessor"),fe={provide:_e,useExisting:(0,l.Gpc)(()=>Pe),multi:!0},He=new l.OlP("CompositionEventMode");let Pe=(()=>{class K extends oe{constructor(v,D,ne){super(v,D),this._compositionMode=ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ge(){const K=(0,C.q)()?(0,C.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(v){this.setProperty("value",v??"")}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(He,8))},K.\u0275dir=l.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,D){1&v&&l.NdJ("input",function(Se){return D._handleInput(Se.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(Se){return D._compositionEnd(Se.target.value)})},features:[l._Bn([fe]),l.qOj]}),K})();function at(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function Ge(K){return null!=K&&"number"==typeof K.length}const Xe=new l.OlP("NgValidators"),Ve=new l.OlP("NgAsyncValidators"),Ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vt{static min(j){return function me(K){return j=>{if(at(j.value)||at(K))return null;const v=parseFloat(j.value);return!isNaN(v)&&v<K?{min:{min:K,actual:j.value}}:null}}(j)}static max(j){return function Ee(K){return j=>{if(at(j.value)||at(K))return null;const v=parseFloat(j.value);return!isNaN(v)&&v>K?{max:{max:K,actual:j.value}}:null}}(j)}static required(j){return he(j)}static requiredTrue(j){return pe(j)}static email(j){return function Ne(K){return at(K.value)||Ae.test(K.value)?null:{email:!0}}(j)}static minLength(j){return function Y(K){return j=>at(j.value)||!Ge(j.value)?null:j.value.length<K?{minlength:{requiredLength:K,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function Ye(K){return j=>Ge(j.value)&&j.value.length>K?{maxlength:{requiredLength:K,actualLength:j.value.length}}:null}(j)}static pattern(j){return function Be(K){if(!K)return qe;let j,v;return"string"==typeof K?(v="","^"!==K.charAt(0)&&(v+="^"),v+=K,"$"!==K.charAt(K.length-1)&&(v+="$"),j=new RegExp(v)):(v=K.toString(),j=K),D=>{if(at(D.value))return null;const ne=D.value;return j.test(ne)?null:{pattern:{requiredPattern:v,actualValue:ne}}}}(j)}static nullValidator(j){return null}static compose(j){return Ut(j)}static composeAsync(j){return qt(j)}}function he(K){return at(K.value)?{required:!0}:null}function pe(K){return!0===K.value?null:{required:!0}}function qe(K){return null}function xt(K){return null!=K}function wn(K){return(0,l.QGY)(K)?(0,h.D)(K):K}function On(K){let j={};return K.forEach(v=>{j=null!=v?{...j,...v}:j}),0===Object.keys(j).length?null:j}function pt(K,j){return j.map(v=>v(K))}function Nt(K){return K.map(j=>function gt(K){return!K.validate}(j)?j:v=>j.validate(v))}function Ut(K){if(!K)return null;const j=K.filter(xt);return 0==j.length?null:function(v){return On(pt(v,j))}}function en(K){return null!=K?Ut(Nt(K)):null}function qt(K){if(!K)return null;const j=K.filter(xt);return 0==j.length?null:function(v){const D=pt(v,j).map(wn);return(0,J.D)(D).pipe((0,we.U)(On))}}function cn(K){return null!=K?qt(Nt(K)):null}function bn(K,j){return null===K?[j]:Array.isArray(K)?[...K,j]:[K,j]}function sn(K){return K._rawValidators}function Ft(K){return K._rawAsyncValidators}function Qe(K){return K?Array.isArray(K)?K:[K]:[]}function ot(K,j){return Array.isArray(K)?K.includes(j):K===j}function Ot(K,j){const v=Qe(j);return Qe(K).forEach(ne=>{ot(v,ne)||v.push(ne)}),v}function yt(K,j){return Qe(j).filter(v=>!ot(K,v))}class zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=en(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,v){return!!this.control&&this.control.hasError(j,v)}getError(j,v){return this.control?this.control.getError(j,v):null}}class kt extends zt{get formDirective(){return null}get path(){return null}}class At extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dt{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yn=(()=>{class K extends dt{constructor(v){super(v)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(At,2))},K.\u0275dir=l.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,D){2&v&&l.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)},features:[l.qOj]}),K})(),ln=(()=>{class K extends dt{constructor(v){super(v)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(kt,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(v,D){2&v&&l.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)("ng-submitted",D.isSubmitted)},features:[l.qOj]}),K})();const di="VALID",xi="INVALID",pi="PENDING",Qt="DISABLED";function We(K){return(ke(K)?K.validators:K)||null}function ze(K,j){return(ke(j)?j.asyncValidators:K)||null}function ke(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}class Re{constructor(j,v){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(v)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===di}get invalid(){return this.status===xi}get pending(){return this.status==pi}get disabled(){return this.status===Qt}get enabled(){return this.status!==Qt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(Ot(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Ot(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(yt(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(yt(j,this._rawAsyncValidators))}hasValidator(j){return ot(this._rawValidators,j)}hasAsyncValidator(j){return ot(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=pi,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const v=this._parentMarkedDirty(j.onlySelf);this.status=Qt,this.errors=null,this._forEachChild(D=>{D.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:v}),this._onDisabledChange.forEach(D=>D(!0))}enable(j={}){const v=this._parentMarkedDirty(j.onlySelf);this.status=di,this._forEachChild(D=>{D.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:v}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===di||this.status===pi)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qt:di}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=pi,this._hasOwnPendingAsyncValidator=!0;const v=wn(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,v={}){this.errors=j,this._updateControlsErrors(!1!==v.emitEvent)}get(j){let v=j;return null==v||(Array.isArray(v)||(v=v.split(".")),0===v.length)?null:v.reduce((D,ne)=>D&&D._find(ne),this)}getError(j,v){const D=v?this.get(v):this;return D&&D.errors?D.errors[j]:null}hasError(j,v){return!!this.getError(j,v)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Qt:this.errors?xi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pi)?pi:this._anyControlsHaveStatus(xi)?xi:di}_anyControlsHaveStatus(j){return this._anyControls(v=>v.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){ke(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function lt(K){return Array.isArray(K)?en(K):K||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function Le(K){return Array.isArray(K)?cn(K):K||null}(this._rawAsyncValidators)}}class ce extends Re{constructor(j,v,D){super(We(v),ze(D,v)),this.controls=j,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,v){return this.controls[j]?this.controls[j]:(this.controls[j]=v,v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange),v)}addControl(j,v,D={}){this.registerControl(j,v),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(j,v={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}setControl(j,v,D={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],v&&this.registerControl(j,v),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,v={}){(function $t(K,j,v){K._forEachChild((D,ne)=>{if(void 0===v[ne])throw new l.vHH(1002,"")})})(this,0,j),Object.keys(j).forEach(D=>{(function Ct(K,j,v){const D=K.controls;if(!(j?Object.keys(D):D).length)throw new l.vHH(1e3,"");if(!D[v])throw new l.vHH(1001,"")})(this,!0,D),this.controls[D].setValue(j[D],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(j,v={}){null!=j&&(Object.keys(j).forEach(D=>{const ne=this.controls[D];ne&&ne.patchValue(j[D],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(j={},v={}){this._forEachChild((D,ne)=>{D.reset(j[ne],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this._reduceChildren({},(j,v,D)=>(j[D]=v.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(v,D)=>!!D._syncPendingControls()||v);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(v=>{const D=this.controls[v];D&&j(D,v)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[v,D]of Object.entries(this.controls))if(this.contains(v)&&j(D))return!0;return!1}_reduceValue(){return this._reduceChildren({},(v,D,ne)=>((D.enabled||this.disabled)&&(v[ne]=D.value),v))}_reduceChildren(j,v){let D=j;return this._forEachChild((ne,Se)=>{D=v(D,ne,Se)}),D}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}const ae=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ie}),Ie="always";function Oe(K,j){return[...j.path,K]}function Fe(K,j,v=Ie){Lt(K,j),j.valueAccessor.writeValue(K.value),(K.disabled||"always"===v)&&j.valueAccessor.setDisabledState?.(K.disabled),function ii(K,j){j.valueAccessor.registerOnChange(v=>{K._pendingValue=v,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&It(K,j)})}(K,j),function xn(K,j){const v=(D,ne)=>{j.valueAccessor.writeValue(D),ne&&j.viewToModelUpdate(D)};K.registerOnChange(v),j._registerOnDestroy(()=>{K._unregisterOnChange(v)})}(K,j),function Pt(K,j){j.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&It(K,j),"submit"!==K.updateOn&&K.markAsTouched()})}(K,j),function _t(K,j){if(j.valueAccessor.setDisabledState){const v=D=>{j.valueAccessor.setDisabledState(D)};K.registerOnDisabledChange(v),j._registerOnDestroy(()=>{K._unregisterOnDisabledChange(v)})}}(K,j)}function q(K,j,v=!0){const D=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(D),j.valueAccessor.registerOnTouched(D)),Kn(K,j),K&&(j._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function De(K,j){K.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(j)})}function Lt(K,j){const v=sn(K);null!==j.validator?K.setValidators(bn(v,j.validator)):"function"==typeof v&&K.setValidators([v]);const D=Ft(K);null!==j.asyncValidator?K.setAsyncValidators(bn(D,j.asyncValidator)):"function"==typeof D&&K.setAsyncValidators([D]);const ne=()=>K.updateValueAndValidity();De(j._rawValidators,ne),De(j._rawAsyncValidators,ne)}function Kn(K,j){let v=!1;if(null!==K){if(null!==j.validator){const ne=sn(K);if(Array.isArray(ne)&&ne.length>0){const Se=ne.filter(ft=>ft!==j.validator);Se.length!==ne.length&&(v=!0,K.setValidators(Se))}}if(null!==j.asyncValidator){const ne=Ft(K);if(Array.isArray(ne)&&ne.length>0){const Se=ne.filter(ft=>ft!==j.asyncValidator);Se.length!==ne.length&&(v=!0,K.setAsyncValidators(Se))}}}const D=()=>{};return De(j._rawValidators,D),De(j._rawAsyncValidators,D),v}function It(K,j){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function Bo(K,j){const v=K.indexOf(j);v>-1&&K.splice(v,1)}function io(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const er=class extends Re{constructor(j=null,v,D){super(We(v),ze(D,v)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ke(v)&&(v.nonNullable||v.initialValueIsDefault)&&(this.defaultValue=io(j)?j.value:j)}setValue(j,v={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(j,v={}){this.setValue(j,v)}reset(j=this.defaultValue,v={}){this._applyFormState(j),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){Bo(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){Bo(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){io(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}};let $r=(()=>{class K extends kt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Oe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return K.\u0275fac=function(){let j;return function(D){return(j||(j=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,features:[l.qOj]}),K})(),Er=(()=>{class K{}return K.\u0275fac=function(v){return new(v||K)},K.\u0275dir=l.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})(),wt=(()=>{class K{}return K.\u0275fac=function(v){return new(v||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({}),K})();const hn=new l.OlP("NgModelWithFormControlWarning"),fi={provide:kt,useExisting:(0,l.Gpc)(()=>Pr)};let Pr=(()=>{class K extends kt{constructor(v,D,ne){super(),this.callSetDisabledState=ne,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(v),this._setAsyncValidators(D)}ngOnChanges(v){this._checkFormPresent(),v.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(v){const D=this.form.get(v.path);return Fe(D,v,this.callSetDisabledState),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(v),D}getControl(v){return this.form.get(v.path)}removeControl(v){q(v.control||null,v,!1),function no(K,j){const v=K.indexOf(j);v>-1&&K.splice(v,1)}(this.directives,v)}addFormGroup(v){this._setUpFormContainer(v)}removeFormGroup(v){this._cleanUpFormContainer(v)}getFormGroup(v){return this.form.get(v.path)}addFormArray(v){this._setUpFormContainer(v)}removeFormArray(v){this._cleanUpFormContainer(v)}getFormArray(v){return this.form.get(v.path)}updateModel(v,D){this.form.get(v.path).setValue(D)}onSubmit(v){return this.submitted=!0,function hs(K,j){K._syncPendingControls(),j.forEach(v=>{const D=v.control;"submit"===D.updateOn&&D._pendingChange&&(v.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(v),"dialog"===v?.target?.method}onReset(){this.resetForm()}resetForm(v=void 0){this.form.reset(v),this.submitted=!1}_updateDomValue(){this.directives.forEach(v=>{const D=v.control,ne=this.form.get(v.path);D!==ne&&(q(D||null,v),(K=>K instanceof er)(ne)&&(Fe(ne,v,this.callSetDisabledState),v.control=ne))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(v){const D=this.form.get(v.path);(function qn(K,j){Lt(K,j)})(D,v),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(v){if(this.form){const D=this.form.get(v.path);D&&function Pn(K,j){return Kn(K,j)}(D,v)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lt(this.form,this),this._oldForm&&Kn(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(Xe,10),l.Y36(Ve,10),l.Y36(ae,8))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(v,D){1&v&&l.NdJ("submit",function(Se){return D.onSubmit(Se)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([fi]),l.qOj,l.TTD]}),K})();const tr={provide:kt,useExisting:(0,l.Gpc)(()=>nr)};let nr=(()=>{class K extends $r{constructor(v,D,ne){super(),this.name=null,this._parent=v,this._setValidators(D),this._setAsyncValidators(ne)}_checkParentType(){Sr(this._parent)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(kt,13),l.Y36(Xe,10),l.Y36(Ve,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([tr]),l.qOj]}),K})();const Vi={provide:kt,useExisting:(0,l.Gpc)(()=>Zr)};let Zr=(()=>{class K extends kt{constructor(v,D,ne){super(),this.name=null,this._parent=v,this._setValidators(D),this._setAsyncValidators(ne)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Oe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Sr(this._parent)}}return K.\u0275fac=function(v){return new(v||K)(l.Y36(kt,13),l.Y36(Xe,10),l.Y36(Ve,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([Vi]),l.qOj]}),K})();function Sr(K){return!(K instanceof nr||K instanceof Pr||K instanceof Zr)}const Xn={provide:At,useExisting:(0,l.Gpc)(()=>oo)};let oo=(()=>{class K extends At{set isDisabled(v){}constructor(v,D,ne,Se,ft){super(),this._ngModelWarningConfig=ft,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=v,this._setValidators(D),this._setAsyncValidators(ne),this.valueAccessor=function Mr(K,j){if(!j)return null;let v,D,ne;return Array.isArray(j),j.forEach(Se=>{Se.constructor===Pe?v=Se:function bo(K){return Object.getPrototypeOf(K.constructor)===W}(Se)?D=Se:ne=Se}),ne||D||v||null}(0,Se)}ngOnChanges(v){this._added||this._setUpControl(),function to(K,j){if(!K.hasOwnProperty("model"))return!1;const v=K.model;return!!v.isFirstChange()||!Object.is(j,v.currentValue)}(v,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}get path(){return Oe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return K._ngModelWarningSentOnce=!1,K.\u0275fac=function(v){return new(v||K)(l.Y36(kt,13),l.Y36(Xe,10),l.Y36(Ve,10),l.Y36(_e,10),l.Y36(hn,8))},K.\u0275dir=l.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Xn]),l.qOj,l.TTD]}),K})(),Gi=(()=>{class K{constructor(){this._validator=qe}ngOnChanges(v){if(this.inputName in v){const D=this.normalizeInput(v[this.inputName].currentValue);this._enabled=this.enabled(D),this._validator=this._enabled?this.createValidator(D):qe,this._onChange&&this._onChange()}}validate(v){return this._validator(v)}registerOnValidatorChange(v){this._onChange=v}enabled(v){return null!=v}}return K.\u0275fac=function(v){return new(v||K)},K.\u0275dir=l.lG2({type:K,features:[l.TTD]}),K})();const Us={provide:Xe,useExisting:(0,l.Gpc)(()=>Fr),multi:!0},rs={provide:Xe,useExisting:(0,l.Gpc)(()=>os),multi:!0};let Fr=(()=>{class K extends Gi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=v=>he}enabled(v){return v}}return K.\u0275fac=function(){let j;return function(D){return(j||(j=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(v,D){2&v&&l.uIk("required",D._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Us]),l.qOj]}),K})(),os=(()=>{class K extends Fr{constructor(){super(...arguments),this.createValidator=v=>pe}}return K.\u0275fac=function(){let j;return function(D){return(j||(j=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(v,D){2&v&&l.uIk("required",D._enabled?"":null)},features:[l._Bn([rs]),l.qOj]}),K})(),Je=(()=>{class K{}return K.\u0275fac=function(v){return new(v||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({imports:[wt]}),K})(),dr=(()=>{class K{static withConfig(v){return{ngModule:K,providers:[{provide:hn,useValue:v.warnOnNgModelWithFormControl??"always"},{provide:ae,useValue:v.callSetDisabledState??Ie}]}}}return K.\u0275fac=function(v){return new(v||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({imports:[Je]}),K})()},8410:(pn,rt,w)=>{w.d(rt,{_r:()=>Ve,ch:()=>he,oL:()=>me});var l=w(3223),C=w(8023),h=w(2223),J=w(1217),we=w(706),oe=w(5537),W=w(9002),_e=w(4755),Ce=w(1591),re=w(2840),fe=w(7579),ge=w(6451),He=w(9300),Pe=w(5698);function at(pe,Ne){}const Ge={bottomSheetState:(0,Ce.X$)("state",[(0,Ce.SB)("void, hidden",(0,Ce.oB)({transform:"translateY(100%)"})),(0,Ce.SB)("visible",(0,Ce.oB)({transform:"translateY(0%)"})),(0,Ce.eR)("visible => void, visible => hidden",(0,Ce.ru)([(0,Ce.jt)(`${J.mZ.COMPLEX} ${J.yN.ACCELERATION_CURVE}`),(0,Ce.IO)("@*",(0,Ce.pV)(),{optional:!0})])),(0,Ce.eR)("void => visible",(0,Ce.ru)([(0,Ce.jt)(`${J.mZ.EXITING} ${J.yN.DECELERATION_CURVE}`),(0,Ce.IO)("@*",(0,Ce.pV)(),{optional:!0})]))])};let Xe=(()=>{class pe extends l.LL{constructor(Y,Ye,Be,qe,xt,wn,On,pt,gt,Nt){super(Y,Ye,Be,qe,xt,wn,On,Nt),this._changeDetectorRef=gt,this._animationState="void",this._animationStateChanged=new h.vpe,this._breakpointSubscription=pt.observe([oe.u3.Medium,oe.u3.Large,oe.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",pt.isMatched(oe.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",pt.isMatched(oe.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",pt.isMatched(oe.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Y){"visible"===Y.toState&&this._trapFocus(),this._animationStateChanged.emit(Y)}_onAnimationStart(Y){this._animationStateChanged.emit(Y)}_captureInitialFocus(){}_toggleClass(Y,Ye){this._elementRef.nativeElement.classList.toggle(Y,Ye)}}return pe.\u0275fac=function(Y){return new(Y||pe)(h.Y36(h.SBq),h.Y36(we.qV),h.Y36(_e.K0,8),h.Y36(l.ib),h.Y36(we.ic),h.Y36(h.R0b),h.Y36(W.Iu),h.Y36(oe.Yg),h.Y36(h.sBO),h.Y36(we.tE))},pe.\u0275cmp=h.Xpm({type:pe,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(Y,Ye){1&Y&&h.WFA("@state.start",function(qe){return Ye._onAnimationStart(qe)})("@state.done",function(qe){return Ye._onAnimationDone(qe)}),2&Y&&(h.uIk("role",Ye._config.role)("aria-modal",Ye._config.ariaModal)("aria-label",Ye._config.ariaLabel),h.d8E("@state",Ye._animationState))},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Y,Ye){1&Y&&h.YNc(0,at,0,0,"ng-template",0)},dependencies:[C.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Ge.bottomSheetState]}}),pe})(),Ve=(()=>{class pe{}return pe.\u0275fac=function(Y){return new(Y||pe)},pe.\u0275mod=h.oAB({type:pe}),pe.\u0275inj=h.cJS({imports:[l.Su,J.BQ,C.eL,J.BQ]}),pe})();const Ae=new h.OlP("MatBottomSheetData");class vt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class me{get instance(){return this._ref.componentInstance}constructor(Ne,Y,Ye){this._ref=Ne,this._afterOpened=new fe.x,this.containerInstance=Ye,this.disableClose=Y.disableClose,Ye._animationStateChanged.pipe((0,He.h)(Be=>"done"===Be.phaseName&&"visible"===Be.toState),(0,Pe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ye._animationStateChanged.pipe((0,He.h)(Be=>"done"===Be.phaseName&&"hidden"===Be.toState),(0,Pe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),Ne.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,ge.T)(this.backdropClick(),this.keydownEvents().pipe((0,He.h)(Be=>Be.keyCode===re.hY))).subscribe(Be=>{!this.disableClose&&("keydown"!==Be.type||!(0,re.Vb)(Be))&&(Be.preventDefault(),this.dismiss())})}dismiss(Ne){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,He.h)(Y=>"start"===Y.phaseName),(0,Pe.q)(1)).subscribe(Y=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},Y.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=Ne,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Ee=new h.OlP("mat-bottom-sheet-default-options");let he=(()=>{class pe{get _openedBottomSheetRef(){const Y=this._parentBottomSheet;return Y?Y._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Y){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Y:this._bottomSheetRefAtThisLevel=Y}constructor(Y,Ye,Be,qe){this._overlay=Y,this._parentBottomSheet=Be,this._defaultOptions=qe,this._bottomSheetRefAtThisLevel=null,this._dialog=Ye.get(l.Vq)}open(Y,Ye){const Be={...this._defaultOptions||new vt,...Ye};let qe;return this._dialog.open(Y,{...Be,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Xe,scrollStrategy:Be.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:qe}),providers:(xt,wn,On)=>(qe=new me(xt,Be,On),[{provide:me,useValue:qe},{provide:Ae,useValue:Be.data}])}),qe.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===qe&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>qe.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):qe.containerInstance.enter(),this._openedBottomSheetRef=qe,qe}dismiss(Y){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Y)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return pe.\u0275fac=function(Y){return new(Y||pe)(h.LFG(W.aV),h.LFG(h.zs3),h.LFG(pe,12),h.LFG(Ee,8))},pe.\u0275prov=h.Yz7({token:pe,factory:pe.\u0275fac,providedIn:Ve}),pe})()},1728:(pn,rt,w)=>{w.d(rt,{cs:()=>en,lW:()=>wn,ot:()=>Qe});var l=w(2966),C=w(2223),h=w(706),J=w(1217),we=w(4755),oe=w(1692);const W=["mat-button",""],_e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ce=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ge=["mat-fab",""],Ve={capture:!0},Ae=["focus","click","mouseenter","touchstart"],vt="mat-button-ripple-uninitialized";let me=(()=>{class ot{constructor(){this._document=(0,C.f3M)(we.K0,{optional:!0}),this._animationMode=(0,C.f3M)(C.QbO,{optional:!0}),this._globalRippleOptions=(0,C.f3M)(J.Y2,{optional:!0}),this._platform=(0,C.f3M)(l.t4),this._ngZone=(0,C.f3M)(C.R0b),this._onInteraction=yt=>{if(yt.target===this._document)return;const kt=yt.target.closest(`[${vt}]`);kt&&(kt.removeAttribute(vt),this._appendRipple(kt))},this._ngZone.runOutsideAngular(()=>{for(const yt of Ae)this._document?.addEventListener(yt,this._onInteraction,Ve)})}ngOnDestroy(){for(const yt of Ae)this._document?.removeEventListener(yt,this._onInteraction,Ve)}_appendRipple(yt){if(!this._document)return;const zt=this._document.createElement("span");zt.classList.add("mat-mdc-button-ripple");const kt=new Ee(yt,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);kt.rippleConfig.centered=yt.hasAttribute("mat-icon-button"),new J.IR(kt,this._ngZone,zt,this._platform).setupTriggerEvents(yt),yt.append(zt)}_createMatRipple(yt){if(!this._document)return;yt.querySelector(".mat-mdc-button-ripple")?.remove(),yt.removeAttribute(vt);const zt=this._document.createElement("span");zt.classList.add("mat-mdc-button-ripple");const kt=new J.wG(new C.SBq(zt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return kt._isInitialized=!0,kt.trigger=yt,yt.append(zt),kt}}return ot.\u0275fac=function(yt){return new(yt||ot)},ot.\u0275prov=C.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();class Ee{constructor(Ot,yt,zt){this._button=Ot,this._globalRippleOptions=yt,this._setRippleConfig(yt,zt)}_setRippleConfig(Ot,yt){this.rippleConfig=Ot||{},"NoopAnimations"===yt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Ne=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,J.pj)((0,J.Id)((0,J.Kr)(class{constructor(ot){this._elementRef=ot}})));let Ye=(()=>{class ot extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(yt){this._ripple=yt}constructor(yt,zt,kt,At){super(yt),this._platform=zt,this._ngZone=kt,this._animationMode=At,this._focusMonitor=(0,C.f3M)(h.tE),this._rippleLoader=(0,C.f3M)(me),this._isFab=!1;const dt=yt.nativeElement.classList;for(const Ke of Ne)this._hasHostAttributes(Ke.selector)&&Ke.mdcClasses.forEach(Zt=>{dt.add(Zt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(yt="program",zt){yt?this._focusMonitor.focusVia(this._elementRef.nativeElement,yt,zt):this._elementRef.nativeElement.focus(zt)}_hasHostAttributes(...yt){return yt.some(zt=>this._elementRef.nativeElement.hasAttribute(zt))}}return ot.\u0275fac=function(yt){C.$Z()},ot.\u0275dir=C.lG2({type:ot,features:[C.qOj,C.TTD]}),ot})(),wn=(()=>{class ot extends Ye{constructor(yt,zt,kt,At){super(yt,zt,kt,At)}}return ot.\u0275fac=function(yt){return new(yt||ot)(C.Y36(C.SBq),C.Y36(l.t4),C.Y36(C.R0b),C.Y36(C.QbO,8))},ot.\u0275cmp=C.Xpm({type:ot,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(yt,zt){2&yt&&(C.uIk("disabled",zt.disabled||null),C.ekj("_mat-animation-noopable","NoopAnimations"===zt._animationMode)("mat-unthemed",!zt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[C.qOj],attrs:W,ngContentSelectors:Ce,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(yt,zt){1&yt&&(C.F$t(_e),C._UZ(0,"span",0),C.Hsn(1),C.TgZ(2,"span",1),C.Hsn(3,1),C.qZA(),C.Hsn(4,2),C._UZ(5,"span",2)(6,"span",3)),2&yt&&C.ekj("mdc-button__ripple",!zt._isFab)("mdc-fab__ripple",zt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),ot})();const pt=new C.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:gt});function gt(){return{color:"accent"}}const Nt=gt();let en=(()=>{class ot extends Ye{get extended(){return this._extended}set extended(yt){this._extended=(0,oe.Ig)(yt)}constructor(yt,zt,kt,At,dt){super(yt,zt,kt,At),this._options=dt,this._isFab=!0,this._options=this._options||Nt,this.color=this.defaultColor=this._options.color||Nt.color}}return ot.\u0275fac=function(yt){return new(yt||ot)(C.Y36(C.SBq),C.Y36(l.t4),C.Y36(C.R0b),C.Y36(C.QbO,8),C.Y36(pt,8))},ot.\u0275cmp=C.Xpm({type:ot,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(yt,zt){2&yt&&(C.uIk("disabled",zt.disabled||null),C.ekj("_mat-animation-noopable","NoopAnimations"===zt._animationMode)("mat-unthemed",!zt.color)("mat-mdc-button-base",!0)("mdc-fab--extended",zt.extended)("mat-mdc-extended-fab",zt.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[C.qOj],attrs:ge,ngContentSelectors:Ce,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(yt,zt){1&yt&&(C.F$t(_e),C._UZ(0,"span",0),C.Hsn(1),C.TgZ(2,"span",1),C.Hsn(3,1),C.qZA(),C.Hsn(4,2),C._UZ(5,"span",2)(6,"span",3)),2&yt&&C.ekj("mdc-button__ripple",!zt._isFab)("mdc-fab__ripple",zt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),ot})(),Qe=(()=>{class ot{}return ot.\u0275fac=function(yt){return new(yt||ot)},ot.\u0275mod=C.oAB({type:ot}),ot.\u0275inj=C.cJS({imports:[J.BQ,J.si,J.BQ]}),ot})()},6012:(pn,rt,w)=>{w.d(rt,{$j:()=>Pe,G2:()=>Ve,QW:()=>Ne,a8:()=>re,dk:()=>Ge,dn:()=>He,hq:()=>at,n5:()=>fe});var l=w(2223),C=w(4755),h=w(1217);const J=["*"],W=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],_e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Ce=new l.OlP("MAT_CARD_CONFIG");let re=(()=>{class Y{constructor(Be){this.appearance=Be?.appearance||"raised"}}return Y.\u0275fac=function(Be){return new(Be||Y)(l.Y36(Ce,8))},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(Be,qe){2&Be&&l.ekj("mat-mdc-card-outlined","outlined"===qe.appearance)("mdc-card--outlined","outlined"===qe.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:J,decls:1,vars:0,template:function(Be,qe){1&Be&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),Y})(),fe=(()=>{class Y{}return Y.\u0275fac=function(Be){return new(Be||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),Y})(),He=(()=>{class Y{}return Y.\u0275fac=function(Be){return new(Be||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),Y})(),Pe=(()=>{class Y{}return Y.\u0275fac=function(Be){return new(Be||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),Y})(),at=(()=>{class Y{constructor(){this.align="start"}}return Y.\u0275fac=function(Be){return new(Be||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(Be,qe){2&Be&&l.ekj("mat-mdc-card-actions-align-end","end"===qe.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),Y})(),Ge=(()=>{class Y{}return Y.\u0275fac=function(Be){return new(Be||Y)},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:_e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(Be,qe){1&Be&&(l.F$t(W),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),Y})(),Ve=(()=>{class Y{}return Y.\u0275fac=function(Be){return new(Be||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),Y})(),Ne=(()=>{class Y{}return Y.\u0275fac=function(Be){return new(Be||Y)},Y.\u0275mod=l.oAB({type:Y}),Y.\u0275inj=l.cJS({imports:[h.BQ,C.ez,h.BQ]}),Y})()},1292:(pn,rt,w)=>{w.d(rt,{oG:()=>Ge,p9:()=>vt});var l=w(2223),C=w(9401),h=w(1217),J=w(1692);const we=["input"],oe=["label"],W=["*"],_e=new l.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Ce});function Ce(){return{color:"accent",clickAction:"check-indeterminate"}}const re={provide:C.JU,useExisting:(0,l.Gpc)(()=>Ge),multi:!0};class fe{}let ge=0;const He=Ce(),Pe=(0,h.sb)((0,h.pj)((0,h.Kr)((0,h.Id)(class{constructor(me){this._elementRef=me}}))));let at=(()=>{class me extends Pe{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(he){this._required=(0,J.Ig)(he)}constructor(he,pe,Ne,Y,Ye,Be,qe){super(pe),this._changeDetectorRef=Ne,this._ngZone=Y,this._animationMode=Be,this._options=qe,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new l.vpe,this.indeterminateChange=new l.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||He,this.color=this.defaultColor=this._options.color||He.color,this.tabIndex=parseInt(Ye)||0,this.id=this._uniqueId=`${he}${++ge}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(he){const pe=(0,J.Ig)(he);pe!=this.checked&&(this._checked=pe,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(he){const pe=(0,J.Ig)(he);pe!==this.disabled&&(this._disabled=pe,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(he){const pe=he!=this._indeterminate;this._indeterminate=(0,J.Ig)(he),pe&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(he){this.checked=!!he}registerOnChange(he){this._controlValueAccessorChangeFn=he}registerOnTouched(he){this._onTouched=he}setDisabledState(he){this.disabled=he}_transitionCheckState(he){let pe=this._currentCheckState,Ne=this._getAnimationTargetElement();if(pe!==he&&Ne&&(this._currentAnimationClass&&Ne.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(pe,he),this._currentCheckState=he,this._currentAnimationClass.length>0)){Ne.classList.add(this._currentAnimationClass);const Y=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Ne.classList.remove(Y)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const he=this._options?.clickAction;this.disabled||"noop"===he?!this.disabled&&"noop"===he&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==he&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(he){he.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(he,pe){if("NoopAnimations"===this._animationMode)return"";switch(he){case 0:if(1===pe)return this._animationClasses.uncheckedToChecked;if(3==pe)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===pe?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===pe?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===pe?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(he){const pe=this._inputElement;pe&&(pe.nativeElement.indeterminate=he)}}return me.\u0275fac=function(he){l.$Z()},me.\u0275dir=l.lG2({type:me,viewQuery:function(he,pe){if(1&he&&(l.Gf(we,5),l.Gf(oe,5),l.Gf(h.wG,5)),2&he){let Ne;l.iGM(Ne=l.CRH())&&(pe._inputElement=Ne.first),l.iGM(Ne=l.CRH())&&(pe._labelElement=Ne.first),l.iGM(Ne=l.CRH())&&(pe.ripple=Ne.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[l.qOj]}),me})(),Ge=(()=>{class me extends at{constructor(he,pe,Ne,Y,Ye,Be){super("mat-mdc-checkbox-",he,pe,Ne,Y,Ye,Be),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(he){const pe=new fe;return pe.source=this,pe.checked=he,pe}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(he){he.target&&this._labelElement.nativeElement.contains(he.target)&&he.stopPropagation()}}return me.\u0275fac=function(he){return new(he||me)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.$8M("tabindex"),l.Y36(l.QbO,8),l.Y36(_e,8))},me.\u0275cmp=l.Xpm({type:me,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(he,pe){2&he&&(l.Ikx("id",pe.id),l.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),l.ekj("_mat-animation-noopable","NoopAnimations"===pe._animationMode)("mdc-checkbox--disabled",pe.disabled)("mat-mdc-checkbox-disabled",pe.disabled)("mat-mdc-checkbox-checked",pe.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[l._Bn([re]),l.qOj],ngContentSelectors:W,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(he,pe){if(1&he&&(l.F$t(),l.TgZ(0,"div",0),l.NdJ("click",function(Y){return pe._preventBubblingFromLabel(Y)}),l.TgZ(1,"div",1,2)(3,"div",3),l.NdJ("click",function(){return pe._onTouchTargetClick()}),l.qZA(),l.TgZ(4,"input",4,5),l.NdJ("blur",function(){return pe._onBlur()})("click",function(){return pe._onInputClick()})("change",function(Y){return pe._onInteractionEvent(Y)}),l.qZA(),l._UZ(6,"div",6),l.TgZ(7,"div",7),l.O4$(),l.TgZ(8,"svg",8),l._UZ(9,"path",9),l.qZA(),l.kcU(),l._UZ(10,"div",10),l.qZA(),l._UZ(11,"div",11),l.qZA(),l.TgZ(12,"label",12,13),l.Hsn(14),l.qZA()()),2&he){const Ne=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==pe.labelPosition),l.xp6(4),l.ekj("mdc-checkbox--selected",pe.checked),l.Q6J("checked",pe.checked)("indeterminate",pe.indeterminate)("disabled",pe.disabled)("id",pe.inputId)("required",pe.required)("tabIndex",pe.tabIndex),l.uIk("aria-label",pe.ariaLabel||null)("aria-labelledby",pe.ariaLabelledby)("aria-describedby",pe.ariaDescribedby)("name",pe.name)("value",pe.value),l.xp6(7),l.Q6J("matRippleTrigger",Ne)("matRippleDisabled",pe.disableRipple||pe.disabled)("matRippleCentered",!0),l.xp6(1),l.Q6J("for",pe.inputId)}},dependencies:[h.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),me})(),Ae=(()=>{class me{}return me.\u0275fac=function(he){return new(he||me)},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({}),me})(),vt=(()=>{class me{}return me.\u0275fac=function(he){return new(he||me)},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({imports:[h.BQ,h.si,Ae,h.BQ,Ae]}),me})()},1217:(pn,rt,w)=>{w.d(rt,{yN:()=>Xe,mZ:()=>Ve,Y2:()=>Ue,BQ:()=>me,Ng:()=>pi,us:()=>Yt,wG:()=>ht,si:()=>ut,IR:()=>Tt,pj:()=>Y,Kr:()=>Ye,Id:()=>Ne,sb:()=>Be});var l=w(2223),C=w(706),h=w(8930),we=w(4755),oe=w(2966),W=w(1692);let Xe=(()=>{class Qt{}return Qt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Qt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Qt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Qt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Qt})(),Ve=(()=>{class Qt{}return Qt.COMPLEX="375ms",Qt.ENTERING="225ms",Qt.EXITING="195ms",Qt})();const vt=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ae(){return!0}});let me=(()=>{class Qt{constructor(lt,ze,Le){this._sanityChecks=ze,this._document=Le,this._hasDoneGlobalChecks=!1,lt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(lt){return!(0,oe.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[lt])}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(l.LFG(C.qm),l.LFG(vt,8),l.LFG(we.K0))},Qt.\u0275mod=l.oAB({type:Qt}),Qt.\u0275inj=l.cJS({imports:[h.vT,h.vT]}),Qt})();function Ne(Qt){return class extends Qt{get disabled(){return this._disabled}set disabled(We){this._disabled=(0,W.Ig)(We)}constructor(...We){super(...We),this._disabled=!1}}}function Y(Qt,We){return class extends Qt{get color(){return this._color}set color(lt){const ze=lt||this.defaultColor;ze!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ze&&this._elementRef.nativeElement.classList.add(`mat-${ze}`),this._color=ze)}constructor(...lt){super(...lt),this.defaultColor=We,this.color=We}}}function Ye(Qt){return class extends Qt{get disableRipple(){return this._disableRipple}set disableRipple(We){this._disableRipple=(0,W.Ig)(We)}constructor(...We){super(...We),this._disableRipple=!1}}}function Be(Qt,We=0){return class extends Qt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(lt){this._tabIndex=null!=lt?(0,W.su)(lt):this.defaultTabIndex}constructor(...lt){super(...lt),this._tabIndex=We,this.defaultTabIndex=We}}}class zt{constructor(We,lt,ze,Le=!1){this._renderer=We,this.element=lt,this.config=ze,this._animationForciblyDisabledThroughCss=Le,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kt=(0,oe.i$)({passive:!0,capture:!0});class At{constructor(){this._events=new Map,this._delegateEventHandler=We=>{const lt=(0,oe.sA)(We);lt&&this._events.get(We.type)?.forEach((ze,Le)=>{(Le===lt||Le.contains(lt))&&ze.forEach(ke=>ke.handleEvent(We))})}}addHandler(We,lt,ze,Le){const ke=this._events.get(lt);if(ke){const Ct=ke.get(ze);Ct?Ct.add(Le):ke.set(ze,new Set([Le]))}else this._events.set(lt,new Map([[ze,new Set([Le])]])),We.runOutsideAngular(()=>{document.addEventListener(lt,this._delegateEventHandler,kt)})}removeHandler(We,lt,ze){const Le=this._events.get(We);if(!Le)return;const ke=Le.get(lt);ke&&(ke.delete(ze),0===ke.size&&Le.delete(lt),0===Le.size&&(this._events.delete(We),document.removeEventListener(We,this._delegateEventHandler,kt)))}}const dt={enterDuration:225,exitDuration:150},Zt=(0,oe.i$)({passive:!0,capture:!0}),yn=["mousedown","touchstart"],ln=["mouseup","mouseleave","touchend","touchcancel"];class Tt{constructor(We,lt,ze,Le){this._target=We,this._ngZone=lt,this._platform=Le,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Le.isBrowser&&(this._containerElement=(0,W.fI)(ze))}fadeInRipple(We,lt,ze={}){const Le=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ke={...dt,...ze.animation};ze.centered&&(We=Le.left+Le.width/2,lt=Le.top+Le.height/2);const Ct=ze.radius||function ue(Qt,We,lt){const ze=Math.max(Math.abs(Qt-lt.left),Math.abs(Qt-lt.right)),Le=Math.max(Math.abs(We-lt.top),Math.abs(We-lt.bottom));return Math.sqrt(ze*ze+Le*Le)}(We,lt,Le),$t=We-Le.left,Re=lt-Le.top,ce=ke.enterDuration,H=document.createElement("div");H.classList.add("mat-ripple-element"),H.style.left=$t-Ct+"px",H.style.top=Re-Ct+"px",H.style.height=2*Ct+"px",H.style.width=2*Ct+"px",null!=ze.color&&(H.style.backgroundColor=ze.color),H.style.transitionDuration=`${ce}ms`,this._containerElement.appendChild(H);const V=window.getComputedStyle(H),de=V.transitionDuration,ae="none"===V.transitionProperty||"0s"===de||"0s, 0s"===de||0===Le.width&&0===Le.height,Ie=new zt(this,H,ze,ae);H.style.transform="scale3d(1, 1, 1)",Ie.state=0,ze.persistent||(this._mostRecentTransientRipple=Ie);let Oe=null;return!ae&&(ce||ke.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Fe=()=>this._finishRippleTransition(Ie),q=()=>this._destroyRipple(Ie);H.addEventListener("transitionend",Fe),H.addEventListener("transitioncancel",q),Oe={onTransitionEnd:Fe,onTransitionCancel:q}}),this._activeRipples.set(Ie,Oe),(ae||!ce)&&this._finishRippleTransition(Ie),Ie}fadeOutRipple(We){if(2===We.state||3===We.state)return;const lt=We.element,ze={...dt,...We.config.animation};lt.style.transitionDuration=`${ze.exitDuration}ms`,lt.style.opacity="0",We.state=2,(We._animationForciblyDisabledThroughCss||!ze.exitDuration)&&this._finishRippleTransition(We)}fadeOutAll(){this._getActiveRipples().forEach(We=>We.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(We=>{We.config.persistent||We.fadeOut()})}setupTriggerEvents(We){const lt=(0,W.fI)(We);!this._platform.isBrowser||!lt||lt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=lt,yn.forEach(ze=>{Tt._eventManager.addHandler(this._ngZone,ze,lt,this)}))}handleEvent(We){"mousedown"===We.type?this._onMousedown(We):"touchstart"===We.type?this._onTouchStart(We):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ln.forEach(lt=>{this._triggerElement.addEventListener(lt,this,Zt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(We){0===We.state?this._startFadeOutTransition(We):2===We.state&&this._destroyRipple(We)}_startFadeOutTransition(We){const lt=We===this._mostRecentTransientRipple,{persistent:ze}=We.config;We.state=1,!ze&&(!lt||!this._isPointerDown)&&We.fadeOut()}_destroyRipple(We){const lt=this._activeRipples.get(We)??null;this._activeRipples.delete(We),this._activeRipples.size||(this._containerRect=null),We===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),We.state=3,null!==lt&&(We.element.removeEventListener("transitionend",lt.onTransitionEnd),We.element.removeEventListener("transitioncancel",lt.onTransitionCancel)),We.element.remove()}_onMousedown(We){const lt=(0,C.X6)(We),ze=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!lt&&!ze&&(this._isPointerDown=!0,this.fadeInRipple(We.clientX,We.clientY,this._target.rippleConfig))}_onTouchStart(We){if(!this._target.rippleDisabled&&!(0,C.yG)(We)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const lt=We.changedTouches;for(let ze=0;ze<lt.length;ze++)this.fadeInRipple(lt[ze].clientX,lt[ze].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(We=>{!We.config.persistent&&(1===We.state||We.config.terminateOnPointerUp&&0===We.state)&&We.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const We=this._triggerElement;We&&(yn.forEach(lt=>Tt._eventManager.removeHandler(lt,We,this)),this._pointerUpEventsRegistered&&ln.forEach(lt=>We.removeEventListener(lt,this,Zt)))}}Tt._eventManager=new At;const Ue=new l.OlP("mat-ripple-global-options");let ht=(()=>{class Qt{get disabled(){return this._disabled}set disabled(lt){lt&&this.fadeOutAllNonPersistent(),this._disabled=lt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(lt){this._trigger=lt,this._setupTriggerEventsIfEnabled()}constructor(lt,ze,Le,ke,Ct){this._elementRef=lt,this._animationMode=Ct,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ke||{},this._rippleRenderer=new Tt(this,ze,lt,Le)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(lt,ze=0,Le){return"number"==typeof lt?this._rippleRenderer.fadeInRipple(lt,ze,{...this.rippleConfig,...Le}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...lt})}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(oe.t4),l.Y36(Ue,8),l.Y36(l.QbO,8))},Qt.\u0275dir=l.lG2({type:Qt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(lt,ze){2&lt&&l.ekj("mat-ripple-unbounded",ze.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Qt})(),ut=(()=>{class Qt{}return Qt.\u0275fac=function(lt){return new(lt||Qt)},Qt.\u0275mod=l.oAB({type:Qt}),Qt.\u0275inj=l.cJS({imports:[me,me]}),Qt})(),Yt=(()=>{class Qt{}return Qt.\u0275fac=function(lt){return new(lt||Qt)},Qt.\u0275mod=l.oAB({type:Qt}),Qt.\u0275inj=l.cJS({imports:[me]}),Qt})(),pi=(()=>{class Qt{}return Qt.\u0275fac=function(lt){return new(lt||Qt)},Qt.\u0275mod=l.oAB({type:Qt}),Qt.\u0275inj=l.cJS({imports:[ut,we.ez,me,Yt]}),Qt})()},6286:(pn,rt,w)=>{w.d(rt,{Is:()=>Ot,WI:()=>xt,so:()=>Be,uw:()=>qt});var l=w(9002),C=w(4755),h=w(2223),J=w(706),we=w(3223),oe=w(1692),W=w(8023),_e=w(7579),Ce=w(6451),re=w(9770),fe=w(9300),ge=w(5698),He=w(8675),Pe=w(2840),at=w(1217);function Xe(kt,At){}w(1591);class Ve{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ae="mdc-dialog--open",vt="mdc-dialog--opening",me="mdc-dialog--closing";let pe=(()=>{class kt extends we.LL{constructor(dt,Ke,Zt,yn,ln,Tt,ue,Ue){super(dt,Ke,Zt,yn,ln,Tt,ue,Ue),this._animationStateChanged=new h.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(dt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:dt})}}return kt.\u0275fac=function(dt){return new(dt||kt)(h.Y36(h.SBq),h.Y36(J.qV),h.Y36(C.K0,8),h.Y36(Ve),h.Y36(J.ic),h.Y36(h.R0b),h.Y36(l.Iu),h.Y36(J.tE))},kt.\u0275cmp=h.Xpm({type:kt,selectors:[["ng-component"]],features:[h.qOj],decls:0,vars:0,template:function(dt,Ke){},encapsulation:2}),kt})();const Ne="--mat-dialog-transition-duration";function Y(kt){return null==kt?null:"number"==typeof kt?kt:kt.endsWith("ms")?(0,oe.su)(kt.substring(0,kt.length-2)):kt.endsWith("s")?1e3*(0,oe.su)(kt.substring(0,kt.length-1)):"0"===kt?0:null}let Ye=(()=>{class kt extends pe{constructor(dt,Ke,Zt,yn,ln,Tt,ue,Ue,ht){super(dt,Ke,Zt,yn,ln,Tt,ue,ht),this._animationMode=Ue,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Y(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Y(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ne,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(vt,Ae)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ae),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Ae),this._animationsEnabled?(this._hostElement.style.setProperty(Ne,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(me)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(vt,me)}_waitForAnimationToComplete(dt,Ke){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Ke,dt)}_requestAnimationFrame(dt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(dt):dt()})}}return kt.\u0275fac=function(dt){return new(dt||kt)(h.Y36(h.SBq),h.Y36(J.qV),h.Y36(C.K0,8),h.Y36(Ve),h.Y36(J.ic),h.Y36(h.R0b),h.Y36(l.Iu),h.Y36(h.QbO,8),h.Y36(J.tE))},kt.\u0275cmp=h.Xpm({type:kt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(dt,Ke){2&dt&&(h.Ikx("id",Ke._config.id),h.uIk("aria-modal",Ke._config.ariaModal)("role",Ke._config.role)("aria-labelledby",Ke._config.ariaLabel?null:Ke._ariaLabelledBy)("aria-label",Ke._config.ariaLabel)("aria-describedby",Ke._config.ariaDescribedBy||null),h.ekj("_mat-animation-noopable",!Ke._animationsEnabled))},features:[h.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(dt,Ke){1&dt&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,Xe,0,0,"ng-template",2),h.qZA()())},dependencies:[W.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),kt})();class Be{constructor(At,dt,Ke){this._ref=At,this._containerInstance=Ke,this._afterOpened=new _e.x,this._beforeClosed=new _e.x,this._state=0,this.disableClose=dt.disableClose,this.id=At.id,Ke._animationStateChanged.pipe((0,fe.h)(Zt=>"opened"===Zt.state),(0,ge.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ke._animationStateChanged.pipe((0,fe.h)(Zt=>"closed"===Zt.state),(0,ge.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),At.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ce.T)(this.backdropClick(),this.keydownEvents().pipe((0,fe.h)(Zt=>Zt.keyCode===Pe.hY&&!this.disableClose&&!(0,Pe.Vb)(Zt)))).subscribe(Zt=>{this.disableClose||(Zt.preventDefault(),function qe(kt,At,dt){kt._closeInteractionType=At,kt.close(dt)}(this,"keydown"===Zt.type?"keyboard":"mouse"))})}close(At){this._result=At,this._containerInstance._animationStateChanged.pipe((0,fe.h)(dt=>"closing"===dt.state),(0,ge.q)(1)).subscribe(dt=>{this._beforeClosed.next(At),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),dt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(At){let dt=this._ref.config.positionStrategy;return At&&(At.left||At.right)?At.left?dt.left(At.left):dt.right(At.right):dt.centerHorizontally(),At&&(At.top||At.bottom)?At.top?dt.top(At.top):dt.bottom(At.bottom):dt.centerVertically(),this._ref.updatePosition(),this}updateSize(At="",dt=""){return this._ref.updateSize(At,dt),this}addPanelClass(At){return this._ref.addPanelClass(At),this}removePanelClass(At){return this._ref.removePanelClass(At),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const xt=new h.OlP("MatMdcDialogData"),wn=new h.OlP("mat-mdc-dialog-default-options"),On=new h.OlP("mat-mdc-dialog-scroll-strategy"),gt={provide:On,deps:[l.aV],useFactory:function pt(kt){return()=>kt.scrollStrategies.block()}};let Ut=0,en=(()=>{class kt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const dt=this._parentDialog;return dt?dt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(dt,Ke,Zt,yn,ln,Tt,ue,Ue,ht,ut){this._overlay=dt,this._defaultOptions=Zt,this._parentDialog=yn,this._dialogRefConstructor=ue,this._dialogContainerType=Ue,this._dialogDataToken=ht,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Ve,this.afterAllClosed=(0,re.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,He.O)(void 0))),this._scrollStrategy=Tt,this._dialog=Ke.get(we.Vq)}open(dt,Ke){let Zt;(Ke={...this._defaultOptions||new Ve,...Ke}).id=Ke.id||`${this._idPrefix}${Ut++}`,Ke.scrollStrategy=Ke.scrollStrategy||this._scrollStrategy();const yn=this._dialog.open(dt,{...Ke,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Ke},{provide:we.ib,useValue:Ke}]},templateContext:()=>({dialogRef:Zt}),providers:(ln,Tt,ue)=>(Zt=new this._dialogRefConstructor(ln,Ke,ue),Zt.updatePosition(Ke?.position),[{provide:this._dialogContainerType,useValue:ue},{provide:this._dialogDataToken,useValue:Tt.data},{provide:this._dialogRefConstructor,useValue:Zt}])});return Zt.componentInstance=yn.componentInstance,this.openDialogs.push(Zt),this.afterOpened.next(Zt),Zt.afterClosed().subscribe(()=>{const ln=this.openDialogs.indexOf(Zt);ln>-1&&(this.openDialogs.splice(ln,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Zt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(dt){return this.openDialogs.find(Ke=>Ke.id===dt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(dt){let Ke=dt.length;for(;Ke--;)dt[Ke].close()}}return kt.\u0275fac=function(dt){h.$Z()},kt.\u0275prov=h.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),qt=(()=>{class kt extends en{constructor(dt,Ke,Zt,yn,ln,Tt,ue,Ue){super(dt,Ke,yn,Tt,ue,ln,Be,Ye,xt,Ue),this._idPrefix="mat-mdc-dialog-"}}return kt.\u0275fac=function(dt){return new(dt||kt)(h.LFG(l.aV),h.LFG(h.zs3),h.LFG(C.Ye,8),h.LFG(wn,8),h.LFG(On),h.LFG(kt,12),h.LFG(l.Xj),h.LFG(h.QbO,8))},kt.\u0275prov=h.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),Ot=(()=>{class kt{}return kt.\u0275fac=function(dt){return new(dt||kt)},kt.\u0275mod=h.oAB({type:kt}),kt.\u0275inj=h.cJS({providers:[qt,gt],imports:[we.Su,l.U8,W.eL,at.BQ,at.BQ]}),kt})()},430:(pn,rt,w)=>{w.d(rt,{Hw:()=>cn,Ps:()=>bn});var l=w(2223),C=w(1217),h=w(1692),J=w(4755),we=w(9646),oe=w(2843),W=w(4128),_e=w(727),Ce=w(8505),re=w(4004),fe=w(262),ge=w(8746),He=w(3099),Pe=w(5698),at=w(3144),Ge=w(6550);const Xe=["*"];let Ve;function vt(sn){return function Ae(){if(void 0===Ve&&(Ve=null,typeof window<"u")){const sn=window;void 0!==sn.trustedTypes&&(Ve=sn.trustedTypes.createPolicy("angular#components",{createHTML:Ft=>Ft}))}return Ve}()?.createHTML(sn)||sn}function me(sn){return Error(`Unable to find icon with the name "${sn}"`)}function he(sn){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${sn}".`)}function pe(sn){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${sn}".`)}class Ne{constructor(Ft,Qe,ot){this.url=Ft,this.svgText=Qe,this.options=ot}}let Y=(()=>{class sn{constructor(Qe,ot,Ot,yt){this._httpClient=Qe,this._sanitizer=ot,this._errorHandler=yt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ot}addSvgIcon(Qe,ot,Ot){return this.addSvgIconInNamespace("",Qe,ot,Ot)}addSvgIconLiteral(Qe,ot,Ot){return this.addSvgIconLiteralInNamespace("",Qe,ot,Ot)}addSvgIconInNamespace(Qe,ot,Ot,yt){return this._addSvgIconConfig(Qe,ot,new Ne(Ot,null,yt))}addSvgIconResolver(Qe){return this._resolvers.push(Qe),this}addSvgIconLiteralInNamespace(Qe,ot,Ot,yt){const zt=this._sanitizer.sanitize(l.q3G.HTML,Ot);if(!zt)throw pe(Ot);const kt=vt(zt);return this._addSvgIconConfig(Qe,ot,new Ne("",kt,yt))}addSvgIconSet(Qe,ot){return this.addSvgIconSetInNamespace("",Qe,ot)}addSvgIconSetLiteral(Qe,ot){return this.addSvgIconSetLiteralInNamespace("",Qe,ot)}addSvgIconSetInNamespace(Qe,ot,Ot){return this._addSvgIconSetConfig(Qe,new Ne(ot,null,Ot))}addSvgIconSetLiteralInNamespace(Qe,ot,Ot){const yt=this._sanitizer.sanitize(l.q3G.HTML,ot);if(!yt)throw pe(ot);const zt=vt(yt);return this._addSvgIconSetConfig(Qe,new Ne("",zt,Ot))}registerFontClassAlias(Qe,ot=Qe){return this._fontCssClassesByAlias.set(Qe,ot),this}classNameForFontAlias(Qe){return this._fontCssClassesByAlias.get(Qe)||Qe}setDefaultFontSetClass(...Qe){return this._defaultFontSetClass=Qe,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Qe){const ot=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,Qe);if(!ot)throw he(Qe);const Ot=this._cachedIconsByUrl.get(ot);return Ot?(0,we.of)(qe(Ot)):this._loadSvgIconFromConfig(new Ne(Qe,null)).pipe((0,Ce.b)(yt=>this._cachedIconsByUrl.set(ot,yt)),(0,re.U)(yt=>qe(yt)))}getNamedSvgIcon(Qe,ot=""){const Ot=xt(ot,Qe);let yt=this._svgIconConfigs.get(Ot);if(yt)return this._getSvgFromConfig(yt);if(yt=this._getIconConfigFromResolvers(ot,Qe),yt)return this._svgIconConfigs.set(Ot,yt),this._getSvgFromConfig(yt);const zt=this._iconSetConfigs.get(ot);return zt?this._getSvgFromIconSetConfigs(Qe,zt):(0,oe._)(me(Ot))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Qe){return Qe.svgText?(0,we.of)(qe(this._svgElementFromConfig(Qe))):this._loadSvgIconFromConfig(Qe).pipe((0,re.U)(ot=>qe(ot)))}_getSvgFromIconSetConfigs(Qe,ot){const Ot=this._extractIconWithNameFromAnySet(Qe,ot);if(Ot)return(0,we.of)(Ot);const yt=ot.filter(zt=>!zt.svgText).map(zt=>this._loadSvgIconSetFromConfig(zt).pipe((0,fe.K)(kt=>{const dt=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,zt.url)} failed: ${kt.message}`;return this._errorHandler.handleError(new Error(dt)),(0,we.of)(null)})));return(0,W.D)(yt).pipe((0,re.U)(()=>{const zt=this._extractIconWithNameFromAnySet(Qe,ot);if(!zt)throw me(Qe);return zt}))}_extractIconWithNameFromAnySet(Qe,ot){for(let Ot=ot.length-1;Ot>=0;Ot--){const yt=ot[Ot];if(yt.svgText&&yt.svgText.toString().indexOf(Qe)>-1){const zt=this._svgElementFromConfig(yt),kt=this._extractSvgIconFromSet(zt,Qe,yt.options);if(kt)return kt}}return null}_loadSvgIconFromConfig(Qe){return this._fetchIcon(Qe).pipe((0,Ce.b)(ot=>Qe.svgText=ot),(0,re.U)(()=>this._svgElementFromConfig(Qe)))}_loadSvgIconSetFromConfig(Qe){return Qe.svgText?(0,we.of)(null):this._fetchIcon(Qe).pipe((0,Ce.b)(ot=>Qe.svgText=ot))}_extractSvgIconFromSet(Qe,ot,Ot){const yt=Qe.querySelector(`[id="${ot}"]`);if(!yt)return null;const zt=yt.cloneNode(!0);if(zt.removeAttribute("id"),"svg"===zt.nodeName.toLowerCase())return this._setSvgAttributes(zt,Ot);if("symbol"===zt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(zt),Ot);const kt=this._svgElementFromString(vt("<svg></svg>"));return kt.appendChild(zt),this._setSvgAttributes(kt,Ot)}_svgElementFromString(Qe){const ot=this._document.createElement("DIV");ot.innerHTML=Qe;const Ot=ot.querySelector("svg");if(!Ot)throw Error("<svg> tag not found");return Ot}_toSvgElement(Qe){const ot=this._svgElementFromString(vt("<svg></svg>")),Ot=Qe.attributes;for(let yt=0;yt<Ot.length;yt++){const{name:zt,value:kt}=Ot[yt];"id"!==zt&&ot.setAttribute(zt,kt)}for(let yt=0;yt<Qe.childNodes.length;yt++)Qe.childNodes[yt].nodeType===this._document.ELEMENT_NODE&&ot.appendChild(Qe.childNodes[yt].cloneNode(!0));return ot}_setSvgAttributes(Qe,ot){return Qe.setAttribute("fit",""),Qe.setAttribute("height","100%"),Qe.setAttribute("width","100%"),Qe.setAttribute("preserveAspectRatio","xMidYMid meet"),Qe.setAttribute("focusable","false"),ot&&ot.viewBox&&Qe.setAttribute("viewBox",ot.viewBox),Qe}_fetchIcon(Qe){const{url:ot,options:Ot}=Qe,yt=Ot?.withCredentials??!1;if(!this._httpClient)throw function Ee(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ot)throw Error(`Cannot fetch icon from URL "${ot}".`);const zt=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,ot);if(!zt)throw he(ot);const kt=this._inProgressUrlFetches.get(zt);if(kt)return kt;const At=this._httpClient.get(zt,{responseType:"text",withCredentials:yt}).pipe((0,re.U)(dt=>vt(dt)),(0,ge.x)(()=>this._inProgressUrlFetches.delete(zt)),(0,He.B)());return this._inProgressUrlFetches.set(zt,At),At}_addSvgIconConfig(Qe,ot,Ot){return this._svgIconConfigs.set(xt(Qe,ot),Ot),this}_addSvgIconSetConfig(Qe,ot){const Ot=this._iconSetConfigs.get(Qe);return Ot?Ot.push(ot):this._iconSetConfigs.set(Qe,[ot]),this}_svgElementFromConfig(Qe){if(!Qe.svgElement){const ot=this._svgElementFromString(Qe.svgText);this._setSvgAttributes(ot,Qe.options),Qe.svgElement=ot}return Qe.svgElement}_getIconConfigFromResolvers(Qe,ot){for(let Ot=0;Ot<this._resolvers.length;Ot++){const yt=this._resolvers[Ot](ot,Qe);if(yt)return wn(yt)?new Ne(yt.url,null,yt.options):new Ne(yt,null)}}}return sn.\u0275fac=function(Qe){return new(Qe||sn)(l.LFG(at.eN,8),l.LFG(Ge.H7),l.LFG(J.K0,8),l.LFG(l.qLn))},sn.\u0275prov=l.Yz7({token:sn,factory:sn.\u0275fac,providedIn:"root"}),sn})();function qe(sn){return sn.cloneNode(!0)}function xt(sn,Ft){return sn+":"+Ft}function wn(sn){return!(!sn.url||!sn.options)}const On=(0,C.pj)(class{constructor(sn){this._elementRef=sn}}),pt=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),gt=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Nt(){const sn=(0,l.f3M)(J.K0),Ft=sn?sn.location:null;return{getPathname:()=>Ft?Ft.pathname+Ft.search:""}}}),Ut=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],en=Ut.map(sn=>`[${sn}]`).join(", "),qt=/^url\(['"]?#(.*?)['"]?\)$/;let cn=(()=>{class sn extends On{get inline(){return this._inline}set inline(Qe){this._inline=(0,h.Ig)(Qe)}get svgIcon(){return this._svgIcon}set svgIcon(Qe){Qe!==this._svgIcon&&(Qe?this._updateSvgIcon(Qe):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Qe)}get fontSet(){return this._fontSet}set fontSet(Qe){const ot=this._cleanupFontValue(Qe);ot!==this._fontSet&&(this._fontSet=ot,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Qe){const ot=this._cleanupFontValue(Qe);ot!==this._fontIcon&&(this._fontIcon=ot,this._updateFontIconClasses())}constructor(Qe,ot,Ot,yt,zt,kt){super(Qe),this._iconRegistry=ot,this._location=yt,this._errorHandler=zt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=_e.w0.EMPTY,kt&&(kt.color&&(this.color=this.defaultColor=kt.color),kt.fontSet&&(this.fontSet=kt.fontSet)),Ot||Qe.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Qe){if(!Qe)return["",""];const ot=Qe.split(":");switch(ot.length){case 1:return["",ot[0]];case 2:return ot;default:throw Error(`Invalid icon name: "${Qe}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Qe=this._elementsWithExternalReferences;if(Qe&&Qe.size){const ot=this._location.getPathname();ot!==this._previousPath&&(this._previousPath=ot,this._prependPathToReferences(ot))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Qe){this._clearSvgElement();const ot=this._location.getPathname();this._previousPath=ot,this._cacheChildrenWithExternalReferences(Qe),this._prependPathToReferences(ot),this._elementRef.nativeElement.appendChild(Qe)}_clearSvgElement(){const Qe=this._elementRef.nativeElement;let ot=Qe.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ot--;){const Ot=Qe.childNodes[ot];(1!==Ot.nodeType||"svg"===Ot.nodeName.toLowerCase())&&Ot.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Qe=this._elementRef.nativeElement,ot=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ot=>Ot.length>0);this._previousFontSetClass.forEach(Ot=>Qe.classList.remove(Ot)),ot.forEach(Ot=>Qe.classList.add(Ot)),this._previousFontSetClass=ot,this.fontIcon!==this._previousFontIconClass&&!ot.includes("mat-ligature-font")&&(this._previousFontIconClass&&Qe.classList.remove(this._previousFontIconClass),this.fontIcon&&Qe.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Qe){return"string"==typeof Qe?Qe.trim().split(" ")[0]:Qe}_prependPathToReferences(Qe){const ot=this._elementsWithExternalReferences;ot&&ot.forEach((Ot,yt)=>{Ot.forEach(zt=>{yt.setAttribute(zt.name,`url('${Qe}#${zt.value}')`)})})}_cacheChildrenWithExternalReferences(Qe){const ot=Qe.querySelectorAll(en),Ot=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let yt=0;yt<ot.length;yt++)Ut.forEach(zt=>{const kt=ot[yt],At=kt.getAttribute(zt),dt=At?At.match(qt):null;if(dt){let Ke=Ot.get(kt);Ke||(Ke=[],Ot.set(kt,Ke)),Ke.push({name:zt,value:dt[1]})}})}_updateSvgIcon(Qe){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Qe){const[ot,Ot]=this._splitIconName(Qe);ot&&(this._svgNamespace=ot),Ot&&(this._svgName=Ot),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ot,ot).pipe((0,Pe.q)(1)).subscribe(yt=>this._setSvgElement(yt),yt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ot}:${Ot}! ${yt.message}`))})}}}return sn.\u0275fac=function(Qe){return new(Qe||sn)(l.Y36(l.SBq),l.Y36(Y),l.$8M("aria-hidden"),l.Y36(gt),l.Y36(l.qLn),l.Y36(pt,8))},sn.\u0275cmp=l.Xpm({type:sn,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Qe,ot){2&Qe&&(l.uIk("data-mat-icon-type",ot._usingFontIcon()?"font":"svg")("data-mat-icon-name",ot._svgName||ot.fontIcon)("data-mat-icon-namespace",ot._svgNamespace||ot.fontSet)("fontIcon",ot._usingFontIcon()?ot.fontIcon:null),l.ekj("mat-icon-inline",ot.inline)("mat-icon-no-color","primary"!==ot.color&&"accent"!==ot.color&&"warn"!==ot.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Xe,decls:1,vars:0,template:function(Qe,ot){1&Qe&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),sn})(),bn=(()=>{class sn{}return sn.\u0275fac=function(Qe){return new(Qe||sn)},sn.\u0275mod=l.oAB({type:sn}),sn.\u0275inj=l.cJS({imports:[C.BQ,C.BQ]}),sn})()},2659:(pn,rt,w)=>{w.d(rt,{VK:()=>Ue,KA:()=>At,OP:()=>Qe,Tx:()=>Dn,p6:()=>ri});var l=w(2223),C=w(706),h=w(1692),J=w(2840),we=w(7579),oe=w(6451),W=w(727),_e=w(9646),Ce=w(3101),re=w(8675),fe=w(3900),ge=w(5698),He=w(2722),Pe=w(9300),at=w(4986),Ge=w(7272),Xe=w(4482),Ve=w(5403),Ae=w(5032),me=w(9718),Ee=w(5577),he=w(8421);function pe(dn,jn){return jn?$e=>(0,Ge.z)(jn.pipe((0,ge.q)(1),function vt(){return(0,Xe.e)((dn,jn)=>{dn.subscribe((0,Ve.x)(jn,Ae.Z))})}()),$e.pipe(pe(dn))):(0,Ee.z)(($e,Dt)=>(0,he.Xf)(dn($e,Dt)).pipe((0,ge.q)(1),(0,me.h)($e)))}var Ne=w(5963);function Y(dn,jn=at.z){const $e=(0,Ne.H)(dn,jn);return pe(()=>$e)}var Ye=w(1217),Be=w(4755),qe=w(8023),xt=w(1591),wn=w(8930),On=w(9002),pt=w(2966),gt=w(4709);const Nt=["mat-menu-item",""];function Ut(dn,jn){1&dn&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"polygon",4),l.qZA())}const en=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],qt=["mat-icon, [matMenuItemIcon]","*"];function cn(dn,jn){if(1&dn){const $e=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(Wt){l.CHM($e);const Sn=l.oxw();return l.KtG(Sn._handleKeydown(Wt))})("click",function(){l.CHM($e);const Wt=l.oxw();return l.KtG(Wt.closed.emit("click"))})("@transformMenu.start",function(Wt){l.CHM($e);const Sn=l.oxw();return l.KtG(Sn._onAnimationStart(Wt))})("@transformMenu.done",function(Wt){l.CHM($e);const Sn=l.oxw();return l.KtG(Sn._onAnimationDone(Wt))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&dn){const $e=l.oxw();l.Q6J("id",$e.panelId)("ngClass",$e._classList)("@transformMenu",$e._panelAnimationState),l.uIk("aria-label",$e.ariaLabel||null)("aria-labelledby",$e.ariaLabelledby||null)("aria-describedby",$e.ariaDescribedby||null)}}const bn=["*"],sn=new l.OlP("MAT_MENU_PANEL"),Ft=(0,Ye.Kr)((0,Ye.Id)(class{}));let Qe=(()=>{class dn extends Ft{constructor($e,Dt,Wt,Sn,di){super(),this._elementRef=$e,this._document=Dt,this._focusMonitor=Wt,this._parentMenu=Sn,this._changeDetectorRef=di,this.role="menuitem",this._hovered=new we.x,this._focused=new we.x,this._highlighted=!1,this._triggersSubmenu=!1,Sn?.addItem?.(this)}focus($e,Dt){this._focusMonitor&&$e?this._focusMonitor.focusVia(this._getHostElement(),$e,Dt):this._getHostElement().focus(Dt),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled($e){this.disabled&&($e.preventDefault(),$e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const $e=this._elementRef.nativeElement.cloneNode(!0),Dt=$e.querySelectorAll("mat-icon, .material-icons");for(let Wt=0;Wt<Dt.length;Wt++)Dt[Wt].remove();return $e.textContent?.trim()||""}_setHighlighted($e){this._highlighted=$e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu($e){this._triggersSubmenu=$e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return dn.\u0275fac=function($e){return new($e||dn)(l.Y36(l.SBq),l.Y36(Be.K0),l.Y36(C.tE),l.Y36(sn,8),l.Y36(l.sBO))},dn.\u0275cmp=l.Xpm({type:dn,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function($e,Dt){1&$e&&l.NdJ("click",function(Sn){return Dt._checkDisabled(Sn)})("mouseenter",function(){return Dt._handleMouseEnter()}),2&$e&&(l.uIk("role",Dt.role)("tabindex",Dt._getTabIndex())("aria-disabled",Dt.disabled)("disabled",Dt.disabled||null),l.ekj("mat-mdc-menu-item-highlighted",Dt._highlighted)("mat-mdc-menu-item-submenu-trigger",Dt._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:Nt,ngContentSelectors:qt,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function($e,Dt){1&$e&&(l.F$t(en),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.qZA(),l._UZ(3,"div",1),l.YNc(4,Ut,2,0,"svg",2)),2&$e&&(l.xp6(3),l.Q6J("matRippleDisabled",Dt.disableRipple||Dt.disabled)("matRippleTrigger",Dt._getHostElement()),l.xp6(1),l.Q6J("ngIf",Dt._triggersSubmenu))},dependencies:[Be.O5,Ye.wG],encapsulation:2,changeDetection:0}),dn})();const zt=new l.OlP("MatMenuContent");let kt=(()=>{class dn{constructor($e,Dt,Wt,Sn,di,xi,pi){this._template=$e,this._componentFactoryResolver=Dt,this._appRef=Wt,this._injector=Sn,this._viewContainerRef=di,this._document=xi,this._changeDetectorRef=pi,this._attached=new we.x}attach($e={}){this._portal||(this._portal=new qe.UE(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new qe.u0(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const Dt=this._template.elementRef.nativeElement;Dt.parentNode.insertBefore(this._outlet.outletElement,Dt),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,$e),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return dn.\u0275fac=function($e){return new($e||dn)(l.Y36(l.Rgc),l.Y36(l._Vd),l.Y36(l.z2F),l.Y36(l.zs3),l.Y36(l.s_b),l.Y36(Be.K0),l.Y36(l.sBO))},dn.\u0275dir=l.lG2({type:dn}),dn})(),At=(()=>{class dn extends kt{}return dn.\u0275fac=function(){let jn;return function(Dt){return(jn||(jn=l.n5z(dn)))(Dt||dn)}}(),dn.\u0275dir=l.lG2({type:dn,selectors:[["ng-template","matMenuContent",""]],features:[l._Bn([{provide:zt,useExisting:dn}]),l.qOj]}),dn})();const dt={transformMenu:(0,xt.X$)("transformMenu",[(0,xt.SB)("void",(0,xt.oB)({opacity:0,transform:"scale(0.8)"})),(0,xt.eR)("void => enter",(0,xt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,xt.oB)({opacity:1,transform:"scale(1)"}))),(0,xt.eR)("* => void",(0,xt.jt)("100ms 25ms linear",(0,xt.oB)({opacity:0})))]),fadeInItems:(0,xt.X$)("fadeInItems",[(0,xt.SB)("showing",(0,xt.oB)({opacity:1})),(0,xt.eR)("void => *",[(0,xt.oB)({opacity:0}),(0,xt.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yn=0;const ln=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function Tt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ue=(()=>{class dn{get xPosition(){return this._xPosition}set xPosition($e){this._xPosition=$e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition($e){this._yPosition=$e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger($e){this._overlapTrigger=(0,h.Ig)($e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop($e){this._hasBackdrop=(0,h.Ig)($e)}set panelClass($e){const Dt=this._previousPanelClass;Dt&&Dt.length&&Dt.split(" ").forEach(Wt=>{this._classList[Wt]=!1}),this._previousPanelClass=$e,$e&&$e.length&&($e.split(" ").forEach(Wt=>{this._classList[Wt]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList($e){this.panelClass=$e}constructor($e,Dt,Wt,Sn){this._elementRef=$e,this._ngZone=Dt,this._changeDetectorRef=Sn,this._directDescendantItems=new l.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new we.x,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+yn++,this.overlayPanelClass=Wt.overlayPanelClass||"",this._xPosition=Wt.xPosition,this._yPosition=Wt.yPosition,this.backdropClass=Wt.backdropClass,this._overlapTrigger=Wt.overlapTrigger,this._hasBackdrop=Wt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new C.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,re.O)(this._directDescendantItems),(0,fe.w)($e=>(0,oe.T)(...$e.map(Dt=>Dt._focused)))).subscribe($e=>this._keyManager.updateActiveItem($e)),this._directDescendantItems.changes.subscribe($e=>{const Dt=this._keyManager;if("enter"===this._panelAnimationState&&Dt.activeItem?._hasFocus()){const Wt=$e.toArray(),Sn=Math.max(0,Math.min(Wt.length-1,Dt.activeItemIndex||0));Wt[Sn]&&!Wt[Sn].disabled?Dt.setActiveItem(Sn):Dt.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,re.O)(this._directDescendantItems),(0,fe.w)(Dt=>(0,oe.T)(...Dt.map(Wt=>Wt._hovered))))}addItem($e){}removeItem($e){}_handleKeydown($e){const Dt=$e.keyCode,Wt=this._keyManager;switch(Dt){case J.hY:(0,J.Vb)($e)||($e.preventDefault(),this.closed.emit("keydown"));break;case J.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case J.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(Dt===J.LH||Dt===J.JH)&&Wt.setFocusOrigin("keyboard"),void Wt.onKeydown($e)}$e.stopPropagation()}focusFirstItem($e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,ge.q)(1)).subscribe(()=>{let Dt=null;if(this._directDescendantItems.length&&(Dt=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!Dt||!Dt.contains(document.activeElement)){const Wt=this._keyManager;Wt.setFocusOrigin($e).setFirstItemActive(),!Wt.activeItem&&Dt&&Dt.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation($e){const Dt=Math.min(this._baseElevation+$e,24),Wt=`${this._elevationPrefix}${Dt}`,Sn=Object.keys(this._classList).find(di=>di.startsWith(this._elevationPrefix));(!Sn||Sn===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Wt]=!0,this._previousElevation=Wt)}setPositionClasses($e=this.xPosition,Dt=this.yPosition){const Wt=this._classList;Wt["mat-menu-before"]="before"===$e,Wt["mat-menu-after"]="after"===$e,Wt["mat-menu-above"]="above"===Dt,Wt["mat-menu-below"]="below"===Dt,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone($e){this._animationDone.next($e),this._isAnimating=!1}_onAnimationStart($e){this._isAnimating=!0,"enter"===$e.toState&&0===this._keyManager.activeItemIndex&&($e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,re.O)(this._allItems)).subscribe($e=>{this._directDescendantItems.reset($e.filter(Dt=>Dt._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return dn.\u0275fac=function($e){return new($e||dn)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ln),l.Y36(l.sBO))},dn.\u0275dir=l.lG2({type:dn,contentQueries:function($e,Dt,Wt){if(1&$e&&(l.Suo(Wt,zt,5),l.Suo(Wt,Qe,5),l.Suo(Wt,Qe,4)),2&$e){let Sn;l.iGM(Sn=l.CRH())&&(Dt.lazyContent=Sn.first),l.iGM(Sn=l.CRH())&&(Dt._allItems=Sn),l.iGM(Sn=l.CRH())&&(Dt.items=Sn)}},viewQuery:function($e,Dt){if(1&$e&&l.Gf(l.Rgc,5),2&$e){let Wt;l.iGM(Wt=l.CRH())&&(Dt.templateRef=Wt.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),dn})(),Ue=(()=>{class dn extends ue{constructor($e,Dt,Wt,Sn){super($e,Dt,Wt,Sn),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return dn.\u0275fac=function($e){return new($e||dn)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ln),l.Y36(l.sBO))},dn.\u0275cmp=l.Xpm({type:dn,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function($e,Dt){2&$e&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:sn,useExisting:dn}]),l.qOj],ngContentSelectors:bn,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function($e,Dt){1&$e&&(l.F$t(),l.YNc(0,cn,3,6,"ng-template"))},dependencies:[Be.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:var(--mdc-shape-medium, 4px)}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[dt.transformMenu,dt.fadeInItems]},changeDetection:0}),dn})();const ht=new l.OlP("mat-menu-scroll-strategy"),Mt={provide:ht,deps:[On.aV],useFactory:function ut(dn){return()=>dn.scrollStrategies.reposition()}},Yt=(0,pt.i$)({passive:!0});let Gn=(()=>{class dn{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor($e){this.menu=$e}get menu(){return this._menu}set menu($e){$e!==this._menu&&(this._menu=$e,this._menuCloseSubscription.unsubscribe(),$e&&(this._menuCloseSubscription=$e.close.subscribe(Dt=>{this._destroyMenu(Dt),("click"===Dt||"tab"===Dt)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(Dt)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor($e,Dt,Wt,Sn,di,xi,pi,Qt,We){this._overlay=$e,this._element=Dt,this._viewContainerRef=Wt,this._menuItemInstance=xi,this._dir=pi,this._focusMonitor=Qt,this._ngZone=We,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=W.w0.EMPTY,this._hoverSubscription=W.w0.EMPTY,this._menuCloseSubscription=W.w0.EMPTY,this._changeDetectorRef=(0,l.f3M)(l.sBO),this._handleTouchStart=lt=>{(0,C.yG)(lt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Sn,this._parentMaterialMenu=di instanceof ue?di:void 0,Dt.nativeElement.addEventListener("touchstart",this._handleTouchStart,Yt)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Yt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const $e=this.menu;if(this._menuOpen||!$e)return;const Dt=this._createOverlay($e),Wt=Dt.getConfig(),Sn=Wt.positionStrategy;this._setPosition($e,Sn),Wt.hasBackdrop=null==$e.hasBackdrop?!this.triggersSubmenu():$e.hasBackdrop,Dt.attach(this._getPortal($e)),$e.lazyContent&&$e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu($e),$e instanceof ue&&($e._startAnimation(),$e._directDescendantItems.changes.pipe((0,He.R)($e.close)).subscribe(()=>{Sn.withLockedPosition(!1).reapplyLastPosition(),Sn.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus($e,Dt){this._focusMonitor&&$e?this._focusMonitor.focusVia(this._element,$e,Dt):this._element.nativeElement.focus(Dt)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu($e){if(!this._overlayRef||!this.menuOpen)return;const Dt=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===$e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,Dt instanceof ue?(Dt._resetAnimation(),Dt.lazyContent?Dt._animationDone.pipe((0,Pe.h)(Wt=>"void"===Wt.toState),(0,ge.q)(1),(0,He.R)(Dt.lazyContent._attached)).subscribe({next:()=>Dt.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),Dt?.lazyContent?.detach())}_initMenu($e){$e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,$e.direction=this.dir,this._setMenuElevation($e),$e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation($e){if($e.setElevation){let Dt=0,Wt=$e.parentMenu;for(;Wt;)Dt++,Wt=Wt.parentMenu;$e.setElevation(Dt)}}_setIsMenuOpen($e){$e!==this._menuOpen&&(this._menuOpen=$e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted($e),this._changeDetectorRef.markForCheck())}_createOverlay($e){if(!this._overlayRef){const Dt=this._getOverlayConfig($e);this._subscribeToPositions($e,Dt.positionStrategy),this._overlayRef=this._overlay.create(Dt),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig($e){return new On.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:$e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:$e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions($e,Dt){$e.setPositionClasses&&Dt.positionChanges.subscribe(Wt=>{const Sn="start"===Wt.connectionPair.overlayX?"after":"before",di="top"===Wt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>$e.setPositionClasses(Sn,di)):$e.setPositionClasses(Sn,di)})}_setPosition($e,Dt){let[Wt,Sn]="before"===$e.xPosition?["end","start"]:["start","end"],[di,xi]="above"===$e.yPosition?["bottom","top"]:["top","bottom"],[pi,Qt]=[di,xi],[We,lt]=[Wt,Sn],ze=0;if(this.triggersSubmenu()){if(lt=Wt="before"===$e.xPosition?"start":"end",Sn=We="end"===Wt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Le=this._parentMaterialMenu.items.first;this._parentInnerPadding=Le?Le._getHostElement().offsetTop:0}ze="bottom"===di?this._parentInnerPadding:-this._parentInnerPadding}}else $e.overlapTrigger||(pi="top"===di?"bottom":"top",Qt="top"===xi?"bottom":"top");Dt.withPositions([{originX:Wt,originY:pi,overlayX:We,overlayY:di,offsetY:ze},{originX:Sn,originY:pi,overlayX:lt,overlayY:di,offsetY:ze},{originX:Wt,originY:Qt,overlayX:We,overlayY:xi,offsetY:-ze},{originX:Sn,originY:Qt,overlayX:lt,overlayY:xi,offsetY:-ze}])}_menuClosingActions(){const $e=this._overlayRef.backdropClick(),Dt=this._overlayRef.detachments(),Wt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_e.of)(),Sn=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Pe.h)(di=>di!==this._menuItemInstance),(0,Pe.h)(()=>this._menuOpen)):(0,_e.of)();return(0,oe.T)($e,Wt,Sn,Dt)}_handleMousedown($e){(0,C.X6)($e)||(this._openedBy=0===$e.button?"mouse":void 0,this.triggersSubmenu()&&$e.preventDefault())}_handleKeydown($e){const Dt=$e.keyCode;(Dt===J.K5||Dt===J.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(Dt===J.SV&&"ltr"===this.dir||Dt===J.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick($e){this.triggersSubmenu()?($e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Pe.h)($e=>$e===this._menuItemInstance&&!$e.disabled),Y(0,Ce.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ue&&this.menu._isAnimating?this.menu._animationDone.pipe((0,ge.q)(1),Y(0,Ce.E),(0,He.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal($e){return(!this._portal||this._portal.templateRef!==$e.templateRef)&&(this._portal=new qe.UE($e.templateRef,this._viewContainerRef)),this._portal}}return dn.\u0275fac=function($e){return new($e||dn)(l.Y36(On.aV),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(ht),l.Y36(sn,8),l.Y36(Qe,10),l.Y36(wn.Is,8),l.Y36(C.tE),l.Y36(l.R0b))},dn.\u0275dir=l.lG2({type:dn,hostVars:3,hostBindings:function($e,Dt){1&$e&&l.NdJ("click",function(Sn){return Dt._handleClick(Sn)})("mousedown",function(Sn){return Dt._handleMousedown(Sn)})("keydown",function(Sn){return Dt._handleKeydown(Sn)}),2&$e&&l.uIk("aria-haspopup",Dt.menu?"menu":null)("aria-expanded",Dt.menuOpen)("aria-controls",Dt.menuOpen?Dt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),dn})(),ri=(()=>{class dn extends Gn{}return dn.\u0275fac=function(){let jn;return function(Dt){return(jn||(jn=l.n5z(dn)))(Dt||dn)}}(),dn.\u0275dir=l.lG2({type:dn,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),dn})(),Dn=(()=>{class dn{}return dn.\u0275fac=function($e){return new($e||dn)},dn.\u0275mod=l.oAB({type:dn}),dn.\u0275inj=l.cJS({providers:[Mt],imports:[Be.ez,Ye.si,Ye.BQ,On.U8,gt.ZD,Ye.BQ]}),dn})()},8467:(pn,rt,w)=>{w.d(rt,{Cq:()=>Pe,Ou:()=>ge});var l=w(2223),C=w(1217),h=w(1692),J=w(4755);const we=["determinateSpinner"];function oe(at,Ge){if(1&at&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&at){const Xe=l.oxw();l.uIk("viewBox",Xe._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",Xe._strokeCircumference(),"px")("stroke-dashoffset",Xe._strokeCircumference()/2,"px")("stroke-width",Xe._circleStrokeWidth(),"%"),l.uIk("r",Xe._circleRadius())}}const W=(0,C.pj)(class{constructor(at){this._elementRef=at}},"primary"),_e=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ce(){return{diameter:re}}}),re=100;let ge=(()=>{class at extends W{constructor(Xe,Ve,Ae){super(Xe),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=re,this._noopAnimations="NoopAnimations"===Ve&&!!Ae&&!Ae._forceAnimations,Ae&&(Ae.color&&(this.color=this.defaultColor=Ae.color),Ae.diameter&&(this.diameter=Ae.diameter),Ae.strokeWidth&&(this.strokeWidth=Ae.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Xe){this._value=Math.max(0,Math.min(100,(0,h.su)(Xe)))}get diameter(){return this._diameter}set diameter(Xe){this._diameter=(0,h.su)(Xe)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Xe){this._strokeWidth=(0,h.su)(Xe)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Xe=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Xe} ${Xe}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return at.\u0275fac=function(Xe){return new(Xe||at)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(_e))},at.\u0275cmp=l.Xpm({type:at,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Xe,Ve){if(1&Xe&&l.Gf(we,5),2&Xe){let Ae;l.iGM(Ae=l.CRH())&&(Ve._determinateCircle=Ae.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(Xe,Ve){2&Xe&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Ve.mode?Ve.value:null)("mode",Ve.mode),l.Udp("width",Ve.diameter,"px")("height",Ve.diameter,"px")("--mdc-circular-progress-size",Ve.diameter+"px")("--mdc-circular-progress-active-indicator-width",Ve.diameter+"px"),l.ekj("_mat-animation-noopable",Ve._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Ve.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Xe,Ve){if(1&Xe&&(l.YNc(0,oe,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&Xe){const Ae=l.MAs(1);l.xp6(4),l.uIk("viewBox",Ve._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",Ve._strokeCircumference(),"px")("stroke-dashoffset",Ve._strokeDashOffset(),"px")("stroke-width",Ve._circleStrokeWidth(),"%"),l.uIk("r",Ve._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",Ae),l.xp6(2),l.Q6J("ngTemplateOutlet",Ae),l.xp6(2),l.Q6J("ngTemplateOutlet",Ae)}},dependencies:[J.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),at})(),Pe=(()=>{class at{}return at.\u0275fac=function(Xe){return new(Xe||at)},at.\u0275mod=l.oAB({type:at}),at.\u0275inj=l.cJS({imports:[J.ez,C.BQ]}),at})()},3617:(pn,rt,w)=>{w.d(rt,{Nh:()=>Ie,SP:()=>ke,uX:()=>Dt});var l=w(4755),C=w(2223),h=w(1217),J=w(8023),we=w(829),oe=w(706),W=w(8930),_e=w(727),Ce=w(7579),re=w(4968),fe=w(9646),ge=w(6451),He=w(515),Pe=w(9751),at=w(5963),Ge=w(8675),Xe=w(1884),Ve=w(2722),Ae=w(5698),vt=w(3900),me=w(5684),Ee=w(9300),he=w(1591),pe=w(1692),Ne=w(4709),Y=w(2966),Ye=w(2840);function Be(Oe,Fe){}const qe=function(Oe){return{animationDuration:Oe}},xt=function(Oe,Fe){return{value:Oe,params:Fe}};function wn(Oe,Fe){1&Oe&&C.Hsn(0)}const On=["*"],pt=["tabListContainer"],gt=["tabList"],Nt=["tabListInner"],Ut=["nextPaginator"],en=["previousPaginator"],qt=["tabBodyWrapper"],cn=["tabHeader"];function bn(Oe,Fe){}function sn(Oe,Fe){if(1&Oe&&C.YNc(0,bn,0,0,"ng-template",14),2&Oe){const q=C.oxw().$implicit;C.Q6J("cdkPortalOutlet",q.templateLabel)}}function Ft(Oe,Fe){if(1&Oe&&C._uU(0),2&Oe){const q=C.oxw().$implicit;C.Oqu(q.textLabel)}}function Qe(Oe,Fe){if(1&Oe){const q=C.EpF();C.TgZ(0,"div",6,7),C.NdJ("click",function(){const _t=C.CHM(q),Lt=_t.$implicit,Kn=_t.index,ii=C.oxw(),Pt=C.MAs(1);return C.KtG(ii._handleClick(Lt,Pt,Kn))})("cdkFocusChange",function(_t){const Kn=C.CHM(q).index,ii=C.oxw();return C.KtG(ii._tabFocusChanged(_t,Kn))}),C._UZ(2,"span",8)(3,"div",9),C.TgZ(4,"span",10)(5,"span",11),C.YNc(6,sn,1,1,"ng-template",12),C.YNc(7,Ft,1,1,"ng-template",null,13,C.W1O),C.qZA()()()}if(2&Oe){const q=Fe.$implicit,De=Fe.index,_t=C.MAs(1),Lt=C.MAs(8),Kn=C.oxw();C.ekj("mdc-tab--active",Kn.selectedIndex===De),C.Q6J("id",Kn._getTabLabelId(De))("ngClass",q.labelClass)("disabled",q.disabled)("fitInkBarToContent",Kn.fitInkBarToContent),C.uIk("tabIndex",Kn._getTabIndex(De))("aria-posinset",De+1)("aria-setsize",Kn._tabs.length)("aria-controls",Kn._getTabContentId(De))("aria-selected",Kn.selectedIndex===De)("aria-label",q.ariaLabel||null)("aria-labelledby",!q.ariaLabel&&q.ariaLabelledby?q.ariaLabelledby:null),C.xp6(3),C.Q6J("matRippleTrigger",_t)("matRippleDisabled",q.disabled||Kn.disableRipple),C.xp6(3),C.Q6J("ngIf",q.templateLabel)("ngIfElse",Lt)}}function ot(Oe,Fe){if(1&Oe){const q=C.EpF();C.TgZ(0,"mat-tab-body",15),C.NdJ("_onCentered",function(){C.CHM(q);const _t=C.oxw();return C.KtG(_t._removeTabBodyWrapperHeight())})("_onCentering",function(_t){C.CHM(q);const Lt=C.oxw();return C.KtG(Lt._setTabBodyWrapperHeight(_t))}),C.qZA()}if(2&Oe){const q=Fe.$implicit,De=Fe.index,_t=C.oxw();C.ekj("mat-mdc-tab-body-active",_t.selectedIndex===De),C.Q6J("id",_t._getTabContentId(De))("ngClass",q.bodyClass)("content",q.content)("position",q.position)("origin",q.origin)("animationDuration",_t.animationDuration)("preserveContent",_t.preserveContent),C.uIk("tabindex",null!=_t.contentTabIndex&&_t.selectedIndex===De?_t.contentTabIndex:null)("aria-labelledby",_t._getTabLabelId(De))}}const zt={translateTab:(0,he.X$)("translateTab",[(0,he.SB)("center, void, left-origin-center, right-origin-center",(0,he.oB)({transform:"none"})),(0,he.SB)("left",(0,he.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,he.SB)("right",(0,he.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,he.eR)("* => left, * => right, left => center, right => center",(0,he.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,he.eR)("void => left-origin-center",[(0,he.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,he.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,he.eR)("void => right-origin-center",[(0,he.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,he.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let kt=(()=>{class Oe extends J.Pl{constructor(q,De,_t,Lt){super(q,De,Lt),this._host=_t,this._centeringSub=_e.w0.EMPTY,this._leavingSub=_e.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,Ge.O)(this._host._isCenterPosition(this._host._position))).subscribe(q=>{q&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C._Vd),C.Y36(C.s_b),C.Y36((0,C.Gpc)(()=>dt)),C.Y36(l.K0))},Oe.\u0275dir=C.lG2({type:Oe,selectors:[["","matTabBodyHost",""]],features:[C.qOj]}),Oe})(),At=(()=>{class Oe{set position(q){this._positionIndex=q,this._computePositionAnimationState()}constructor(q,De,_t){this._elementRef=q,this._dir=De,this._dirChangeSubscription=_e.w0.EMPTY,this._translateTabComplete=new Ce.x,this._onCentering=new C.vpe,this._beforeCentering=new C.vpe,this._afterLeavingCenter=new C.vpe,this._onCentered=new C.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,De&&(this._dirChangeSubscription=De.change.subscribe(Lt=>{this._computePositionAnimationState(Lt),_t.markForCheck()})),this._translateTabComplete.pipe((0,Xe.x)((Lt,Kn)=>Lt.fromState===Kn.fromState&&Lt.toState===Kn.toState)).subscribe(Lt=>{this._isCenterPosition(Lt.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(Lt.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(q){const De=this._isCenterPosition(q.toState);this._beforeCentering.emit(De),De&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(q){return"center"==q||"left-origin-center"==q||"right-origin-center"==q}_computePositionAnimationState(q=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==q?"left":"right":this._positionIndex>0?"ltr"==q?"right":"left":"center"}_computePositionFromOrigin(q){const De=this._getLayoutDirection();return"ltr"==De&&q<=0||"rtl"==De&&q>0?"left-origin-center":"right-origin-center"}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.SBq),C.Y36(W.Is,8),C.Y36(C.sBO))},Oe.\u0275dir=C.lG2({type:Oe,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Oe})(),dt=(()=>{class Oe extends At{constructor(q,De,_t){super(q,De,_t)}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.SBq),C.Y36(W.Is,8),C.Y36(C.sBO))},Oe.\u0275cmp=C.Xpm({type:Oe,selectors:[["mat-tab-body"]],viewQuery:function(q,De){if(1&q&&C.Gf(J.Pl,5),2&q){let _t;C.iGM(_t=C.CRH())&&(De._portalHost=_t.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[C.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(q,De){1&q&&(C.TgZ(0,"div",0,1),C.NdJ("@translateTab.start",function(Lt){return De._onTranslateTabStarted(Lt)})("@translateTab.done",function(Lt){return De._translateTabComplete.next(Lt)}),C.YNc(2,Be,0,0,"ng-template",2),C.qZA()),2&q&&C.Q6J("@translateTab",C.WLB(3,xt,De._position,C.VKq(1,qe,De.animationDuration)))},dependencies:[kt],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[zt.translateTab]}}),Oe})();const Ke=new C.OlP("MatTabContent");let Zt=(()=>{class Oe{constructor(q){this.template=q}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.Rgc))},Oe.\u0275dir=C.lG2({type:Oe,selectors:[["","matTabContent",""]],features:[C._Bn([{provide:Ke,useExisting:Oe}])]}),Oe})();const yn=new C.OlP("MatTabLabel"),ln=new C.OlP("MAT_TAB");let Tt=(()=>{class Oe extends J.ig{constructor(q,De,_t){super(q,De),this._closestTab=_t}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.Rgc),C.Y36(C.s_b),C.Y36(ln,8))},Oe.\u0275dir=C.lG2({type:Oe,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[C._Bn([{provide:yn,useExisting:Oe}]),C.qOj]}),Oe})();const ue="mdc-tab-indicator--active",Ue="mdc-tab-indicator--no-transition";class ht{constructor(Fe){this._items=Fe}hide(){this._items.forEach(Fe=>Fe.deactivateInkBar())}alignToElement(Fe){const q=this._items.find(_t=>_t.elementRef.nativeElement===Fe),De=this._currentItem;if(q!==De&&(De?.deactivateInkBar(),q)){const _t=De?.elementRef.nativeElement.getBoundingClientRect?.();q.activateInkBar(_t),this._currentItem=q}}}function ut(Oe){return class extends Oe{constructor(...Fe){super(...Fe),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(Fe){const q=(0,pe.Ig)(Fe);this._fitToContent!==q&&(this._fitToContent=q,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(Fe){const q=this.elementRef.nativeElement;if(!Fe||!q.getBoundingClientRect||!this._inkBarContentElement)return void q.classList.add(ue);const De=q.getBoundingClientRect(),_t=Fe.width/De.width,Lt=Fe.left-De.left;q.classList.add(Ue),this._inkBarContentElement.style.setProperty("transform",`translateX(${Lt}px) scaleX(${_t})`),q.getBoundingClientRect(),q.classList.remove(Ue),q.classList.add(ue),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(ue)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const Fe=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=Fe.createElement("span"),this._inkBarContentElement=Fe.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const an=(0,h.Id)(class{}),ri=ut((()=>{class Oe extends an{constructor(q){super(),this.elementRef=q}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.SBq))},Oe.\u0275dir=C.lG2({type:Oe,features:[C.qOj]}),Oe})());let Dn=(()=>{class Oe extends ri{}return Oe.\u0275fac=function(){let Fe;return function(De){return(Fe||(Fe=C.n5z(Oe)))(De||Oe)}}(),Oe.\u0275dir=C.lG2({type:Oe,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(q,De){2&q&&(C.uIk("aria-disabled",!!De.disabled),C.ekj("mat-mdc-tab-disabled",De.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[C.qOj]}),Oe})();const dn=(0,h.Id)(class{}),jn=new C.OlP("MAT_TAB_GROUP");let $e=(()=>{class Oe extends dn{get content(){return this._contentPortal}constructor(q,De){super(),this._viewContainerRef=q,this._closestTabGroup=De,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ce.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(q){(q.hasOwnProperty("textLabel")||q.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new J.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(q){q&&q._closestTab===this&&(this._templateLabel=q)}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.s_b),C.Y36(jn,8))},Oe.\u0275dir=C.lG2({type:Oe,viewQuery:function(q,De){if(1&q&&C.Gf(C.Rgc,7),2&q){let _t;C.iGM(_t=C.CRH())&&(De._implicitContent=_t.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[C.qOj,C.TTD]}),Oe})(),Dt=(()=>{class Oe extends $e{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(q){this._setTemplateLabelInput(q)}}return Oe.\u0275fac=function(){let Fe;return function(De){return(Fe||(Fe=C.n5z(Oe)))(De||Oe)}}(),Oe.\u0275cmp=C.Xpm({type:Oe,selectors:[["mat-tab"]],contentQueries:function(q,De,_t){if(1&q&&(C.Suo(_t,Zt,7,C.Rgc),C.Suo(_t,Tt,5)),2&q){let Lt;C.iGM(Lt=C.CRH())&&(De._explicitContent=Lt.first),C.iGM(Lt=C.CRH())&&(De.templateLabel=Lt.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[C._Bn([{provide:ln,useExisting:Oe}]),C.qOj],ngContentSelectors:On,decls:1,vars:0,template:function(q,De){1&q&&(C.F$t(),C.YNc(0,wn,1,0,"ng-template"))},encapsulation:2}),Oe})();const Wt=(0,Y.i$)({passive:!0});let xi=(()=>{class Oe{get disablePagination(){return this._disablePagination}set disablePagination(q){this._disablePagination=(0,pe.Ig)(q)}get selectedIndex(){return this._selectedIndex}set selectedIndex(q){q=(0,pe.su)(q),this._selectedIndex!=q&&(this._selectedIndexChanged=!0,this._selectedIndex=q,this._keyManager&&this._keyManager.updateActiveItem(q))}constructor(q,De,_t,Lt,Kn,ii,Pt){this._elementRef=q,this._changeDetectorRef=De,this._viewportRuler=_t,this._dir=Lt,this._ngZone=Kn,this._platform=ii,this._animationMode=Pt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ce.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ce.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new C.vpe,this.indexFocused=new C.vpe,Kn.runOutsideAngular(()=>{(0,re.R)(q.nativeElement,"mouseleave").pipe((0,Ve.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,re.R)(this._previousPaginator.nativeElement,"touchstart",Wt).pipe((0,Ve.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,re.R)(this._nextPaginator.nativeElement,"touchstart",Wt).pipe((0,Ve.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const q=this._dir?this._dir.change:(0,fe.of)("ltr"),De=this._viewportRuler.change(150),_t=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new oe.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Ae.q)(1)).subscribe(_t),(0,ge.T)(q,De,this._items.changes,this._itemsResized()).pipe((0,Ve.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),_t()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(Lt=>{this.indexFocused.emit(Lt),this._setTabFocus(Lt)})}_itemsResized(){return"function"!=typeof ResizeObserver?He.E:this._items.changes.pipe((0,Ge.O)(this._items),(0,vt.w)(q=>new Pe.y(De=>this._ngZone.runOutsideAngular(()=>{const _t=new ResizeObserver(Lt=>De.next(Lt));return q.forEach(Lt=>_t.observe(Lt.elementRef.nativeElement)),()=>{_t.disconnect()}}))),(0,me.T)(1),(0,Ee.h)(q=>q.some(De=>De.contentRect.width>0&&De.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(q){if(!(0,Ye.Vb)(q))switch(q.keyCode){case Ye.K5:case Ye.L_:if(this.focusIndex!==this.selectedIndex){const De=this._items.get(this.focusIndex);De&&!De.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(q))}break;default:this._keyManager.onKeydown(q)}}_onContentChanges(){const q=this._elementRef.nativeElement.textContent;q!==this._currentTextContent&&(this._currentTextContent=q||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(q){!this._isValidIndex(q)||this.focusIndex===q||!this._keyManager||this._keyManager.setActiveItem(q)}_isValidIndex(q){return!this._items||!!this._items.toArray()[q]}_setTabFocus(q){if(this._showPaginationControls&&this._scrollToLabel(q),this._items&&this._items.length){this._items.toArray()[q].focus();const De=this._tabListContainer.nativeElement;De.scrollLeft="ltr"==this._getLayoutDirection()?0:De.scrollWidth-De.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const q=this.scrollDistance,De="ltr"===this._getLayoutDirection()?-q:q;this._tabList.nativeElement.style.transform=`translateX(${Math.round(De)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(q){this._scrollTo(q)}_scrollHeader(q){return this._scrollTo(this._scrollDistance+("before"==q?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(q){this._stopInterval(),this._scrollHeader(q)}_scrollToLabel(q){if(this.disablePagination)return;const De=this._items?this._items.toArray()[q]:null;if(!De)return;const _t=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:Lt,offsetWidth:Kn}=De.elementRef.nativeElement;let ii,Pt;"ltr"==this._getLayoutDirection()?(ii=Lt,Pt=ii+Kn):(Pt=this._tabListInner.nativeElement.offsetWidth-Lt,ii=Pt-Kn);const It=this.scrollDistance,xn=this.scrollDistance+_t;ii<It?this.scrollDistance-=It-ii:Pt>xn&&(this.scrollDistance+=Math.min(Pt-xn,ii-It))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const q=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;q||(this.scrollDistance=0),q!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=q}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const q=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,De=q?q.elementRef.nativeElement:null;De?this._inkBar.alignToElement(De):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(q,De){De&&null!=De.button&&0!==De.button||(this._stopInterval(),(0,at.H)(650,100).pipe((0,Ve.R)((0,ge.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:_t,distance:Lt}=this._scrollHeader(q);(0===Lt||Lt>=_t)&&this._stopInterval()}))}_scrollTo(q){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const De=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(De,q)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:De,distance:this._scrollDistance}}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ne.rL),C.Y36(W.Is,8),C.Y36(C.R0b),C.Y36(Y.t4),C.Y36(C.QbO,8))},Oe.\u0275dir=C.lG2({type:Oe,inputs:{disablePagination:"disablePagination"}}),Oe})(),pi=(()=>{class Oe extends xi{get disableRipple(){return this._disableRipple}set disableRipple(q){this._disableRipple=(0,pe.Ig)(q)}constructor(q,De,_t,Lt,Kn,ii,Pt){super(q,De,_t,Lt,Kn,ii,Pt),this._disableRipple=!1}_itemSelected(q){q.preventDefault()}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ne.rL),C.Y36(W.Is,8),C.Y36(C.R0b),C.Y36(Y.t4),C.Y36(C.QbO,8))},Oe.\u0275dir=C.lG2({type:Oe,inputs:{disableRipple:"disableRipple"},features:[C.qOj]}),Oe})(),Qt=(()=>{class Oe extends pi{constructor(q,De,_t,Lt,Kn,ii,Pt){super(q,De,_t,Lt,Kn,ii,Pt)}ngAfterContentInit(){this._inkBar=new ht(this._items),super.ngAfterContentInit()}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ne.rL),C.Y36(W.Is,8),C.Y36(C.R0b),C.Y36(Y.t4),C.Y36(C.QbO,8))},Oe.\u0275cmp=C.Xpm({type:Oe,selectors:[["mat-tab-header"]],contentQueries:function(q,De,_t){if(1&q&&C.Suo(_t,Dn,4),2&q){let Lt;C.iGM(Lt=C.CRH())&&(De._items=Lt)}},viewQuery:function(q,De){if(1&q&&(C.Gf(pt,7),C.Gf(gt,7),C.Gf(Nt,7),C.Gf(Ut,5),C.Gf(en,5)),2&q){let _t;C.iGM(_t=C.CRH())&&(De._tabListContainer=_t.first),C.iGM(_t=C.CRH())&&(De._tabList=_t.first),C.iGM(_t=C.CRH())&&(De._tabListInner=_t.first),C.iGM(_t=C.CRH())&&(De._nextPaginator=_t.first),C.iGM(_t=C.CRH())&&(De._previousPaginator=_t.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(q,De){2&q&&C.ekj("mat-mdc-tab-header-pagination-controls-enabled",De._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==De._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[C.qOj],ngContentSelectors:On,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(q,De){1&q&&(C.F$t(),C.TgZ(0,"button",0,1),C.NdJ("click",function(){return De._handlePaginatorClick("before")})("mousedown",function(Lt){return De._handlePaginatorPress("before",Lt)})("touchend",function(){return De._stopInterval()}),C._UZ(2,"div",2),C.qZA(),C.TgZ(3,"div",3,4),C.NdJ("keydown",function(Lt){return De._handleKeydown(Lt)}),C.TgZ(5,"div",5,6),C.NdJ("cdkObserveContent",function(){return De._onContentChanges()}),C.TgZ(7,"div",7,8),C.Hsn(9),C.qZA()()(),C.TgZ(10,"button",9,10),C.NdJ("mousedown",function(Lt){return De._handlePaginatorPress("after",Lt)})("click",function(){return De._handlePaginatorClick("after")})("touchend",function(){return De._stopInterval()}),C._UZ(12,"div",2),C.qZA()),2&q&&(C.ekj("mat-mdc-tab-header-pagination-disabled",De._disableScrollBefore),C.Q6J("matRippleDisabled",De._disableScrollBefore||De.disableRipple)("disabled",De._disableScrollBefore||null),C.xp6(3),C.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode),C.xp6(7),C.ekj("mat-mdc-tab-header-pagination-disabled",De._disableScrollAfter),C.Q6J("matRippleDisabled",De._disableScrollAfter||De.disableRipple)("disabled",De._disableScrollAfter||null))},dependencies:[h.wG,we.wD],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),Oe})();const We=new C.OlP("MAT_TABS_CONFIG");let lt=0;const ze=(0,h.pj)((0,h.Kr)(class{constructor(Oe){this._elementRef=Oe}}),"primary");let Le=(()=>{class Oe extends ze{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(q){this._dynamicHeight=(0,pe.Ig)(q)}get selectedIndex(){return this._selectedIndex}set selectedIndex(q){this._indexToSelect=(0,pe.su)(q,null)}get animationDuration(){return this._animationDuration}set animationDuration(q){this._animationDuration=/^\d+$/.test(q+"")?q+"ms":q}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(q){this._contentTabIndex=(0,pe.su)(q,null)}get disablePagination(){return this._disablePagination}set disablePagination(q){this._disablePagination=(0,pe.Ig)(q)}get preserveContent(){return this._preserveContent}set preserveContent(q){this._preserveContent=(0,pe.Ig)(q)}get backgroundColor(){return this._backgroundColor}set backgroundColor(q){const De=this._elementRef.nativeElement.classList;De.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),q&&De.add("mat-tabs-with-background",`mat-background-${q}`),this._backgroundColor=q}constructor(q,De,_t,Lt){super(q),this._changeDetectorRef=De,this._animationMode=Lt,this._tabs=new C.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=_e.w0.EMPTY,this._tabLabelSubscription=_e.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new C.vpe,this.focusChange=new C.vpe,this.animationDone=new C.vpe,this.selectedTabChange=new C.vpe(!0),this._groupId=lt++,this.animationDuration=_t&&_t.animationDuration?_t.animationDuration:"500ms",this.disablePagination=!(!_t||null==_t.disablePagination)&&_t.disablePagination,this.dynamicHeight=!(!_t||null==_t.dynamicHeight)&&_t.dynamicHeight,this.contentTabIndex=_t?.contentTabIndex??null,this.preserveContent=!!_t?.preserveContent}ngAfterContentChecked(){const q=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=q){const De=null==this._selectedIndex;if(!De){this.selectedTabChange.emit(this._createChangeEvent(q));const _t=this._tabBodyWrapper.nativeElement;_t.style.minHeight=_t.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((_t,Lt)=>_t.isActive=Lt===q),De||(this.selectedIndexChange.emit(q),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((De,_t)=>{De.position=_t-q,null!=this._selectedIndex&&0==De.position&&!De.origin&&(De.origin=q-this._selectedIndex)}),this._selectedIndex!==q&&(this._selectedIndex=q,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const q=this._clampTabIndex(this._indexToSelect);if(q===this._selectedIndex){const De=this._tabs.toArray();let _t;for(let Lt=0;Lt<De.length;Lt++)if(De[Lt].isActive){this._indexToSelect=this._selectedIndex=Lt,this._lastFocusedTabIndex=null,_t=De[Lt];break}!_t&&De[q]&&Promise.resolve().then(()=>{De[q].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(q))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,Ge.O)(this._allTabs)).subscribe(q=>{this._tabs.reset(q.filter(De=>De._closestTabGroup===this||!De._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(q){const De=this._tabHeader;De&&(De.focusIndex=q)}_focusChanged(q){this._lastFocusedTabIndex=q,this.focusChange.emit(this._createChangeEvent(q))}_createChangeEvent(q){const De=new Ct;return De.index=q,this._tabs&&this._tabs.length&&(De.tab=this._tabs.toArray()[q]),De}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,ge.T)(...this._tabs.map(q=>q._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(q){return Math.min(this._tabs.length-1,Math.max(q||0,0))}_getTabLabelId(q){return`mat-tab-label-${this._groupId}-${q}`}_getTabContentId(q){return`mat-tab-content-${this._groupId}-${q}`}_setTabBodyWrapperHeight(q){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const De=this._tabBodyWrapper.nativeElement;De.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(De.style.height=q+"px")}_removeTabBodyWrapperHeight(){const q=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=q.clientHeight,q.style.height="",this.animationDone.emit()}_handleClick(q,De,_t){De.focusIndex=_t,q.disabled||(this.selectedIndex=_t)}_getTabIndex(q){return q===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(q,De){q&&"mouse"!==q&&"touch"!==q&&(this._tabHeader.focusIndex=De)}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(We,8),C.Y36(C.QbO,8))},Oe.\u0275dir=C.lG2({type:Oe,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[C.qOj]}),Oe})(),ke=(()=>{class Oe extends Le{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(q){this._fitInkBarToContent=(0,pe.Ig)(q),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(q){this._stretchTabs=(0,pe.Ig)(q)}constructor(q,De,_t,Lt){super(q,De,_t,Lt),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!_t||null==_t.fitInkBarToContent)&&_t.fitInkBarToContent,this.stretchTabs=!_t||null==_t.stretchTabs||_t.stretchTabs}}return Oe.\u0275fac=function(q){return new(q||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(We,8),C.Y36(C.QbO,8))},Oe.\u0275cmp=C.Xpm({type:Oe,selectors:[["mat-tab-group"]],contentQueries:function(q,De,_t){if(1&q&&C.Suo(_t,Dt,5),2&q){let Lt;C.iGM(Lt=C.CRH())&&(De._allTabs=Lt)}},viewQuery:function(q,De){if(1&q&&(C.Gf(qt,5),C.Gf(cn,5)),2&q){let _t;C.iGM(_t=C.CRH())&&(De._tabBodyWrapper=_t.first),C.iGM(_t=C.CRH())&&(De._tabHeader=_t.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(q,De){2&q&&C.ekj("mat-mdc-tab-group-dynamic-height",De.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===De.headerPosition)("mat-mdc-tab-group-stretch-tabs",De.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[C._Bn([{provide:jn,useExisting:Oe}]),C.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(q,De){1&q&&(C.TgZ(0,"mat-tab-header",0,1),C.NdJ("indexFocused",function(Lt){return De._focusChanged(Lt)})("selectFocusedIndex",function(Lt){return De.selectedIndex=Lt}),C.YNc(2,Qe,9,17,"div",2),C.qZA(),C.TgZ(3,"div",3,4),C.YNc(5,ot,1,11,"mat-tab-body",5),C.qZA()),2&q&&(C.Q6J("selectedIndex",De.selectedIndex||0)("disableRipple",De.disableRipple)("disablePagination",De.disablePagination),C.xp6(2),C.Q6J("ngForOf",De._tabs),C.xp6(1),C.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode),C.xp6(2),C.Q6J("ngForOf",De._tabs))},dependencies:[l.mk,l.sg,l.O5,J.Pl,h.wG,oe.kH,dt,Dn,Qt],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),Oe})();class Ct{}let Ie=(()=>{class Oe{}return Oe.\u0275fac=function(q){return new(q||Oe)},Oe.\u0275mod=C.oAB({type:Oe}),Oe.\u0275inj=C.cJS({imports:[l.ez,h.BQ,J.eL,h.si,we.Q8,oe.rt,h.BQ]}),Oe})()},9383:(pn,rt,w)=>{w.d(rt,{Ye:()=>Ce,g0:()=>fe});var l=w(2223),C=w(1217),h=w(2966),J=w(4755);const we=["*",[["mat-toolbar-row"]]],oe=["*","mat-toolbar-row"],W=(0,C.pj)(class{constructor(ge){this._elementRef=ge}});let _e=(()=>{class ge{}return ge.\u0275fac=function(Pe){return new(Pe||ge)},ge.\u0275dir=l.lG2({type:ge,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),ge})(),Ce=(()=>{class ge extends W{constructor(Pe,at,Ge){super(Pe),this._platform=at,this._document=Ge}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return ge.\u0275fac=function(Pe){return new(Pe||ge)(l.Y36(l.SBq),l.Y36(h.t4),l.Y36(J.K0))},ge.\u0275cmp=l.Xpm({type:ge,selectors:[["mat-toolbar"]],contentQueries:function(Pe,at,Ge){if(1&Pe&&l.Suo(Ge,_e,5),2&Pe){let Xe;l.iGM(Xe=l.CRH())&&(at._toolbarRows=Xe)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Pe,at){2&Pe&&l.ekj("mat-toolbar-multiple-rows",at._toolbarRows.length>0)("mat-toolbar-single-row",0===at._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:oe,decls:2,vars:0,template:function(Pe,at){1&Pe&&(l.F$t(we),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),ge})(),fe=(()=>{class ge{}return ge.\u0275fac=function(Pe){return new(Pe||ge)},ge.\u0275mod=l.oAB({type:ge}),ge.\u0275inj=l.cJS({imports:[C.BQ,C.BQ]}),ge})()},6550:(pn,rt,w)=>{w.d(rt,{Dx:()=>ue,H7:()=>xi,b2:()=>Ke,q6:()=>zt,se:()=>Y});var l=w(2223),C=w(4755);class h extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends h{static makeCurrent(){(0,C.HT)(new J)}onAndCancel(H,V,$){return H.addEventListener(V,$),()=>{H.removeEventListener(V,$)}}dispatchEvent(H,V){H.dispatchEvent(V)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,V){return(V=V||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,V){return"window"===V?window:"document"===V?H:"body"===V?H.body:null}getBaseHref(H){const V=function oe(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==V?null:function _e(ce){W=W||document.createElement("a"),W.setAttribute("href",ce);const H=W.pathname;return"/"===H.charAt(0)?H:`/${H}`}(V)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,C.Mx)(document.cookie,H)}}let W,we=null,re=(()=>{class ce{build(){return new XMLHttpRequest}}return ce.\u0275fac=function(V){return new(V||ce)},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const fe=new l.OlP("EventManagerPlugins");let ge=(()=>{class ce{constructor(V,$){this._zone=$,this._eventNameToPlugin=new Map,V.forEach(de=>{de.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,$,de){return this._findPluginFor($).addEventListener(V,$,de)}getZone(){return this._zone}_findPluginFor(V){let $=this._eventNameToPlugin.get(V);if($)return $;if($=this._plugins.find(ae=>ae.supports(V)),!$)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(V,$),$}}return ce.\u0275fac=function(V){return new(V||ce)(l.LFG(fe),l.LFG(l.R0b))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class He{constructor(H){this._doc=H}}const Pe="ng-app-id";let at=(()=>{class ce{constructor(V,$,de,ae={}){this.doc=V,this.appId=$,this.nonce=de,this.platformId=ae,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,C.PM)(ae),this.resetHostNodes()}addStyles(V){for(const $ of V)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(V){for(const $ of V)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach($=>$.remove()),V.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const $ of this.getAllStyles())this.addStyleToHost(V,$)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const $ of this.hostNodes)this.addStyleToHost($,V)}onStyleRemoved(V){const $=this.styleRef;$.get(V)?.elements?.forEach(de=>de.remove()),$.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(V?.length){const $=new Map;return V.forEach(de=>{null!=de.textContent&&$.set(de.textContent,de)}),$}return null}changeUsageCount(V,$){const de=this.styleRef;if(de.has(V)){const ae=de.get(V);return ae.usage+=$,ae.usage}return de.set(V,{usage:$,elements:[]}),$}getStyleElement(V,$){const de=this.styleNodesInDOM,ae=de?.get($);if(ae?.parentNode===V)return de.delete($),ae.removeAttribute(Pe),ae;{const Ie=this.doc.createElement("style");return this.nonce&&Ie.setAttribute("nonce",this.nonce),Ie.textContent=$,this.platformIsServer&&Ie.setAttribute(Pe,this.appId),Ie}}addStyleToHost(V,$){const de=this.getStyleElement(V,$);V.appendChild(de);const ae=this.styleRef,Ie=ae.get($)?.elements;Ie?Ie.push(de):ae.set($,{elements:[de],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}}return ce.\u0275fac=function(V){return new(V||ce)(l.LFG(C.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xe=/%COMP%/g,Ee=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ne(ce,H){return H.map(V=>V.replace(Xe,ce))}let Y=(()=>{class ce{constructor(V,$,de,ae,Ie,Oe,Fe,q=null){this.eventManager=V,this.sharedStylesHost=$,this.appId=de,this.removeStylesOnCompDestory=ae,this.doc=Ie,this.platformId=Oe,this.ngZone=Fe,this.nonce=q,this.rendererByCompId=new Map,this.platformIsServer=(0,C.PM)(Oe),this.defaultRenderer=new Ye(V,Ie,Fe,this.platformIsServer)}createRenderer(V,$){if(!V||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===l.ifc.ShadowDom&&($={...$,encapsulation:l.ifc.Emulated});const de=this.getOrCreateRenderer(V,$);return de instanceof pt?de.applyToHost(V):de instanceof On&&de.applyStyles(),de}getOrCreateRenderer(V,$){const de=this.rendererByCompId;let ae=de.get($.id);if(!ae){const Ie=this.doc,Oe=this.ngZone,Fe=this.eventManager,q=this.sharedStylesHost,De=this.removeStylesOnCompDestory,_t=this.platformIsServer;switch($.encapsulation){case l.ifc.Emulated:ae=new pt(Fe,q,$,this.appId,De,Ie,Oe,_t);break;case l.ifc.ShadowDom:return new wn(Fe,q,V,$,Ie,Oe,this.nonce,_t);default:ae=new On(Fe,q,$,De,Ie,Oe,_t)}ae.onDestroy=()=>de.delete($.id),de.set($.id,ae)}return ae}ngOnDestroy(){this.rendererByCompId.clear()}}return ce.\u0275fac=function(V){return new(V||ce)(l.LFG(ge),l.LFG(at),l.LFG(l.AFp),l.LFG(Ee),l.LFG(C.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class Ye{constructor(H,V,$,de){this.eventManager=H,this.doc=V,this.ngZone=$,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,V){return V?this.doc.createElementNS(Ge[V]||V,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,V){(xt(H)?H.content:H).appendChild(V)}insertBefore(H,V,$){H&&(xt(H)?H.content:H).insertBefore(V,$)}removeChild(H,V){H&&H.removeChild(V)}selectRootElement(H,V){let $="string"==typeof H?this.doc.querySelector(H):H;if(!$)throw new l.vHH(5104,!1);return V||($.textContent=""),$}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,V,$,de){if(de){V=de+":"+V;const ae=Ge[de];ae?H.setAttributeNS(ae,V,$):H.setAttribute(V,$)}else H.setAttribute(V,$)}removeAttribute(H,V,$){if($){const de=Ge[$];de?H.removeAttributeNS(de,V):H.removeAttribute(`${$}:${V}`)}else H.removeAttribute(V)}addClass(H,V){H.classList.add(V)}removeClass(H,V){H.classList.remove(V)}setStyle(H,V,$,de){de&(l.JOm.DashCase|l.JOm.Important)?H.style.setProperty(V,$,de&l.JOm.Important?"important":""):H.style[V]=$}removeStyle(H,V,$){$&l.JOm.DashCase?H.style.removeProperty(V):H.style[V]=""}setProperty(H,V,$){H[V]=$}setValue(H,V){H.nodeValue=V}listen(H,V,$){if("string"==typeof H&&!(H=(0,C.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${V}`);return this.eventManager.addEventListener(H,V,this.decoratePreventDefault($))}decoratePreventDefault(H){return V=>{if("__ngUnwrap__"===V)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(V)):H(V))&&V.preventDefault()}}}function xt(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class wn extends Ye{constructor(H,V,$,de,ae,Ie,Oe,Fe){super(H,ae,Ie,Fe),this.sharedStylesHost=V,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const q=Ne(de.id,de.styles);for(const De of q){const _t=document.createElement("style");Oe&&_t.setAttribute("nonce",Oe),_t.textContent=De,this.shadowRoot.appendChild(_t)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,V){return super.appendChild(this.nodeOrShadowRoot(H),V)}insertBefore(H,V,$){return super.insertBefore(this.nodeOrShadowRoot(H),V,$)}removeChild(H,V){return super.removeChild(this.nodeOrShadowRoot(H),V)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class On extends Ye{constructor(H,V,$,de,ae,Ie,Oe,Fe){super(H,ae,Ie,Oe),this.sharedStylesHost=V,this.removeStylesOnCompDestory=de,this.rendererUsageCount=0,this.styles=Fe?Ne(Fe,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pt extends On{constructor(H,V,$,de,ae,Ie,Oe,Fe){const q=de+"-"+$.id;super(H,V,$,ae,Ie,Oe,Fe,q),this.contentAttr=function he(ce){return"_ngcontent-%COMP%".replace(Xe,ce)}(q),this.hostAttr=function pe(ce){return"_nghost-%COMP%".replace(Xe,ce)}(q)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,V){const $=super.createElement(H,V);return super.setAttribute($,this.contentAttr,""),$}}let gt=(()=>{class ce extends He{constructor(V){super(V)}supports(V){return!0}addEventListener(V,$,de){return V.addEventListener($,de,!1),()=>this.removeEventListener(V,$,de)}removeEventListener(V,$,de){return V.removeEventListener($,de)}}return ce.\u0275fac=function(V){return new(V||ce)(l.LFG(C.K0))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Nt=["alt","control","meta","shift"],Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},en={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let qt=(()=>{class ce extends He{constructor(V){super(V)}supports(V){return null!=ce.parseEventName(V)}addEventListener(V,$,de){const ae=ce.parseEventName($),Ie=ce.eventCallback(ae.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(V,ae.domEventName,Ie))}static parseEventName(V){const $=V.toLowerCase().split("."),de=$.shift();if(0===$.length||"keydown"!==de&&"keyup"!==de)return null;const ae=ce._normalizeKey($.pop());let Ie="",Oe=$.indexOf("code");if(Oe>-1&&($.splice(Oe,1),Ie="code."),Nt.forEach(q=>{const De=$.indexOf(q);De>-1&&($.splice(De,1),Ie+=q+".")}),Ie+=ae,0!=$.length||0===ae.length)return null;const Fe={};return Fe.domEventName=de,Fe.fullKey=Ie,Fe}static matchEventFullKeyCode(V,$){let de=Ut[V.key]||V.key,ae="";return $.indexOf("code.")>-1&&(de=V.code,ae="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),Nt.forEach(Ie=>{Ie!==de&&(0,en[Ie])(V)&&(ae+=Ie+".")}),ae+=de,ae===$)}static eventCallback(V,$,de){return ae=>{ce.matchEventFullKeyCode(ae,V)&&de.runGuarded(()=>$(ae))}}static _normalizeKey(V){return"esc"===V?"escape":V}}return ce.\u0275fac=function(V){return new(V||ce)(l.LFG(C.K0))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const zt=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:C.bD},{provide:l.g9A,useValue:function Qe(){J.makeCurrent()},multi:!0},{provide:C.K0,useFactory:function Ot(){return(0,l.RDi)(document),document},deps:[]}]),kt=new l.OlP(""),At=[{provide:l.rWj,useClass:class Ce{addToWindow(H){l.dqk.getAngularTestability=($,de=!0)=>{const ae=H.findTestabilityInTree($,de);if(null==ae)throw new l.vHH(5103,!1);return ae},l.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push($=>{const de=l.dqk.getAllAngularTestabilities();let ae=de.length,Ie=!1;const Oe=function(Fe){Ie=Ie||Fe,ae--,0==ae&&$(Ie)};de.forEach(function(Fe){Fe.whenStable(Oe)})})}findTestabilityInTree(H,V,$){return null==V?null:H.getTestability(V)??($?(0,C.q)().isShadowRoot(V)?this.findTestabilityInTree(H,V.host,!0):this.findTestabilityInTree(H,V.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],dt=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ot(){return new l.qLn},deps:[]},{provide:fe,useClass:gt,multi:!0,deps:[C.K0,l.R0b,l.Lbi]},{provide:fe,useClass:qt,multi:!0,deps:[C.K0]},Y,at,ge,{provide:l.FYo,useExisting:Y},{provide:C.JF,useClass:re,deps:[]},[]];let Ke=(()=>{class ce{constructor(V){}static withServerTransition(V){return{ngModule:ce,providers:[{provide:l.AFp,useValue:V.appId}]}}}return ce.\u0275fac=function(V){return new(V||ce)(l.LFG(kt,12))},ce.\u0275mod=l.oAB({type:ce}),ce.\u0275inj=l.cJS({providers:[...dt,...At],imports:[C.ez,l.hGG]}),ce})(),ue=(()=>{class ce{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}}return ce.\u0275fac=function(V){return new(V||ce)(l.LFG(C.K0))},ce.\u0275prov=l.Yz7({token:ce,factory:function(V){let $=null;return $=V?new V:function Tt(){return new ue((0,l.LFG)(C.K0))}(),$},providedIn:"root"}),ce})();typeof window<"u"&&window;let xi=(()=>{class ce{}return ce.\u0275fac=function(V){return new(V||ce)},ce.\u0275prov=l.Yz7({token:ce,factory:function(V){let $=null;return $=V?new(V||ce):l.LFG(Qt),$},providedIn:"root"}),ce})(),Qt=(()=>{class ce extends xi{constructor(V){super(),this._doc=V}sanitize(V,$){if(null==$)return null;switch(V){case l.q3G.NONE:return $;case l.q3G.HTML:return(0,l.qzn)($,"HTML")?(0,l.z3N)($):(0,l.EiD)(this._doc,String($)).toString();case l.q3G.STYLE:return(0,l.qzn)($,"Style")?(0,l.z3N)($):$;case l.q3G.SCRIPT:if((0,l.qzn)($,"Script"))return(0,l.z3N)($);throw new l.vHH(5200,!1);case l.q3G.URL:return(0,l.qzn)($,"URL")?(0,l.z3N)($):(0,l.mCW)(String($));case l.q3G.RESOURCE_URL:if((0,l.qzn)($,"ResourceURL"))return(0,l.z3N)($);throw new l.vHH(5201,!1);default:throw new l.vHH(5202,!1)}}bypassSecurityTrustHtml(V){return(0,l.JVY)(V)}bypassSecurityTrustStyle(V){return(0,l.L6k)(V)}bypassSecurityTrustScript(V){return(0,l.eBb)(V)}bypassSecurityTrustUrl(V){return(0,l.LAX)(V)}bypassSecurityTrustResourceUrl(V){return(0,l.pB0)(V)}}return ce.\u0275fac=function(V){return new(V||ce)(l.LFG(C.K0))},ce.\u0275prov=l.Yz7({token:ce,factory:function(V){let $=null;return $=V?new V:function pi(ce){return new Qt(ce.get(C.K0))}(l.LFG(l.zs3)),$},providedIn:"root"}),ce})()},3676:(pn,rt,w)=>{w.d(rt,{gz:()=>Rn,F0:()=>Wr,Bz:()=>Fa,lC:()=>Xn});var l=w(2223),C=w(9751),h=w(576),we=w(8996),oe=w(9646),W=w(1135),_e=w(9841),Ce=w(6805),re=w(7272),fe=w(9770),ge=w(9635),He=w(2843),Pe=w(515),at=w(727),Ge=w(4482),Xe=w(5403);function Ve(){return(0,Ge.e)((y,T)=>{let E=null;y._refCount++;const P=(0,Xe.x)(T,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(E=null);const Z=y._connection,ve=E;E=null,Z&&(!ve||Z===ve)&&Z.unsubscribe(),T.unsubscribe()});y.subscribe(P),P.closed||(E=y.connect())})}class Ae extends C.y{constructor(T,E){super(),this.source=T,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Ge.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new at.w0;const E=this.getSubject();T.add(this.source.subscribe((0,Xe.x)(E,void 0,()=>{this._teardown(),E.complete()},P=>{this._teardown(),E.error(P)},()=>this._teardown()))),T.closed&&(this._connection=null,T=at.w0.EMPTY)}return T}refCount(){return Ve()(this)}}var vt=w(7579),me=w(4755),Ee=w(4004),he=w(3900),pe=w(5698),Ne=w(8675),Y=w(9300),Ye=w(5577),Be=w(590),qe=w(4351),xt=w(8505),wn=w(262),On=w(5026),pt=w(6590);function gt(y){return y<=0?()=>Pe.E:(0,Ge.e)((T,E)=>{let P=[];T.subscribe((0,Xe.x)(E,Z=>{P.push(Z),y<P.length&&P.shift()},()=>{for(const Z of P)E.next(Z);E.complete()},void 0,()=>{P=null}))})}var Nt=w(8068),Ut=w(4671),qt=w(9718),cn=w(8746),bn=w(8189),sn=w(6550);const Ft="primary",Qe=Symbol("RouteTitle");class ot{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E[0]:E}return null}getAll(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Ot(y){return new ot(y)}function yt(y,T,E){const P=E.path.split("/");if(P.length>y.length||"full"===E.pathMatch&&(T.hasChildren()||P.length<y.length))return null;const Z={};for(let ve=0;ve<P.length;ve++){const Te=P[ve],Et=y[ve];if(Te.startsWith(":"))Z[Te.substring(1)]=Et;else if(Te!==Et.path)return null}return{consumed:y.slice(0,P.length),posParams:Z}}function kt(y,T){const E=y?Object.keys(y):void 0,P=T?Object.keys(T):void 0;if(!E||!P||E.length!=P.length)return!1;let Z;for(let ve=0;ve<E.length;ve++)if(Z=E[ve],!At(y[Z],T[Z]))return!1;return!0}function At(y,T){if(Array.isArray(y)&&Array.isArray(T)){if(y.length!==T.length)return!1;const E=[...y].sort(),P=[...T].sort();return E.every((Z,ve)=>P[ve]===Z)}return y===T}function dt(y){return y.length>0?y[y.length-1]:null}function Ke(y){return function J(y){return!!y&&(y instanceof C.y||(0,h.m)(y.lift)&&(0,h.m)(y.subscribe))}(y)?y:(0,l.QGY)(y)?(0,we.D)(Promise.resolve(y)):(0,oe.of)(y)}const Zt={exact:function ue(y,T,E){if(!Dn(y.segments,T.segments)||!Mt(y.segments,T.segments,E)||y.numberOfChildren!==T.numberOfChildren)return!1;for(const P in T.children)if(!y.children[P]||!ue(y.children[P],T.children[P],E))return!1;return!0},subset:ht},yn={exact:function Tt(y,T){return kt(y,T)},subset:function Ue(y,T){return Object.keys(T).length<=Object.keys(y).length&&Object.keys(T).every(E=>At(y[E],T[E]))},ignored:()=>!0};function ln(y,T,E){return Zt[E.paths](y.root,T.root,E.matrixParams)&&yn[E.queryParams](y.queryParams,T.queryParams)&&!("exact"===E.fragment&&y.fragment!==T.fragment)}function ht(y,T,E){return ut(y,T,T.segments,E)}function ut(y,T,E,P){if(y.segments.length>E.length){const Z=y.segments.slice(0,E.length);return!(!Dn(Z,E)||T.hasChildren()||!Mt(Z,E,P))}if(y.segments.length===E.length){if(!Dn(y.segments,E)||!Mt(y.segments,E,P))return!1;for(const Z in T.children)if(!y.children[Z]||!ht(y.children[Z],T.children[Z],P))return!1;return!0}{const Z=E.slice(0,y.segments.length),ve=E.slice(y.segments.length);return!!(Dn(y.segments,Z)&&Mt(y.segments,Z,P)&&y.children[Ft])&&ut(y.children[Ft],T,ve,P)}}function Mt(y,T,E){return T.every((P,Z)=>yn[E](y[Z].parameters,P.parameters))}class Yt{constructor(T=new an([],{}),E={},P=null){this.root=T,this.queryParams=E,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap}toString(){return Dt.serialize(this)}}class an{constructor(T,E){this.segments=T,this.children=E,this.parent=null,Object.values(E).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wt(this)}}class Gn{constructor(T,E){this.path=T,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Ot(this.parameters)),this._parameterMap}toString(){return ze(this)}}function Dn(y,T){return y.length===T.length&&y.every((E,P)=>E.path===T[P].path)}let jn=(()=>{class y{}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:function(){return new $e},providedIn:"root"}),y})();class $e{parse(T){const E=new ae(T);return new Yt(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(T){const E=`/${Sn(T.root,!0)}`,P=function ke(y){const T=Object.keys(y).map(E=>{const P=y[E];return Array.isArray(P)?P.map(Z=>`${xi(E)}=${xi(Z)}`).join("&"):`${xi(E)}=${xi(P)}`}).filter(E=>!!E);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${E}${P}${"string"==typeof T.fragment?`#${function pi(y){return encodeURI(y)}(T.fragment)}`:""}`}}const Dt=new $e;function Wt(y){return y.segments.map(T=>ze(T)).join("/")}function Sn(y,T){if(!y.hasChildren())return Wt(y);if(T){const E=y.children[Ft]?Sn(y.children[Ft],!1):"",P=[];return Object.entries(y.children).forEach(([Z,ve])=>{Z!==Ft&&P.push(`${Z}:${Sn(ve,!1)}`)}),P.length>0?`${E}(${P.join("//")})`:E}{const E=function dn(y,T){let E=[];return Object.entries(y.children).forEach(([P,Z])=>{P===Ft&&(E=E.concat(T(Z,P)))}),Object.entries(y.children).forEach(([P,Z])=>{P!==Ft&&(E=E.concat(T(Z,P)))}),E}(y,(P,Z)=>Z===Ft?[Sn(y.children[Ft],!1)]:[`${Z}:${Sn(P,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Ft]?`${Wt(y)}/${E[0]}`:`${Wt(y)}/(${E.join("//")})`}}function di(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xi(y){return di(y).replace(/%3B/gi,";")}function Qt(y){return di(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function We(y){return decodeURIComponent(y)}function lt(y){return We(y.replace(/\+/g,"%20"))}function ze(y){return`${Qt(y.path)}${function Le(y){return Object.keys(y).map(T=>`;${Qt(T)}=${Qt(y[T])}`).join("")}(y.parameters)}`}const Ct=/^[^\/()?;#]+/;function $t(y){const T=y.match(Ct);return T?T[0]:""}const Re=/^[^\/()?;=#]+/,H=/^[^=?&#]+/,$=/^[^&#]+/;class ae{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(T.length>0||Object.keys(E).length>0)&&(P[Ft]=new an(T,E)),P}parseSegment(){const T=$t(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(T),new Gn(We(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const E=function ce(y){const T=y.match(Re);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const Z=$t(this.remaining);Z&&(P=Z,this.capture(P))}T[We(E)]=We(P)}parseQueryParam(T){const E=function V(y){const T=y.match(H);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const Te=function de(y){const T=y.match($);return T?T[0]:""}(this.remaining);Te&&(P=Te,this.capture(P))}const Z=lt(E),ve=lt(P);if(T.hasOwnProperty(Z)){let Te=T[Z];Array.isArray(Te)||(Te=[Te],T[Z]=Te),Te.push(ve)}else T[Z]=ve}parseParens(T){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=$t(this.remaining),Z=this.remaining[P.length];if("/"!==Z&&")"!==Z&&";"!==Z)throw new l.vHH(4010,!1);let ve;P.indexOf(":")>-1?(ve=P.slice(0,P.indexOf(":")),this.capture(ve),this.capture(":")):T&&(ve=Ft);const Te=this.parseChildren();E[ve]=1===Object.keys(Te).length?Te[Ft]:new an([],Te),this.consumeOptional("//")}return E}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new l.vHH(4011,!1)}}function Ie(y){return y.segments.length>0?new an([],{[Ft]:y}):y}function Oe(y){const T={};for(const P of Object.keys(y.children)){const ve=Oe(y.children[P]);if(P===Ft&&0===ve.segments.length&&ve.hasChildren())for(const[Te,Et]of Object.entries(ve.children))T[Te]=Et;else(ve.segments.length>0||ve.hasChildren())&&(T[P]=ve)}return function Fe(y){if(1===y.numberOfChildren&&y.children[Ft]){const T=y.children[Ft];return new an(y.segments.concat(T.segments),T.children)}return y}(new an(y.segments,T))}function q(y){return y instanceof Yt}function _t(y){let T;const Z=Ie(function E(ve){const Te={};for(const _n of ve.children){const Jn=E(_n);Te[_n.outlet]=Jn}const Et=new an(ve.url,Te);return ve===y&&(T=Et),Et}(y.root));return T??Z}function Lt(y,T,E,P){let Z=y;for(;Z.parent;)Z=Z.parent;if(0===T.length)return Pt(Z,Z,Z,E,P);const ve=function qn(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new xn(!0,0,y);let T=0,E=!1;const P=y.reduce((Z,ve,Te)=>{if("object"==typeof ve&&null!=ve){if(ve.outlets){const Et={};return Object.entries(ve.outlets).forEach(([_n,Jn])=>{Et[_n]="string"==typeof Jn?Jn.split("/"):Jn}),[...Z,{outlets:Et}]}if(ve.segmentPath)return[...Z,ve.segmentPath]}return"string"!=typeof ve?[...Z,ve]:0===Te?(ve.split("/").forEach((Et,_n)=>{0==_n&&"."===Et||(0==_n&&""===Et?E=!0:".."===Et?T++:""!=Et&&Z.push(Et))}),Z):[...Z,ve]},[]);return new xn(E,T,P)}(T);if(ve.toRoot())return Pt(Z,Z,new an([],{}),E,P);const Te=function Hn(y,T,E){if(y.isAbsolute)return new Pn(T,!0,0);if(!E)return new Pn(T,!1,NaN);if(null===E.parent)return new Pn(E,!0,0);const P=Kn(y.commands[0])?0:1;return function ui(y,T,E){let P=y,Z=T,ve=E;for(;ve>Z;){if(ve-=Z,P=P.parent,!P)throw new l.vHH(4005,!1);Z=P.segments.length}return new Pn(P,!1,Z-ve)}(E,E.segments.length-1+P,y.numberOfDoubleDots)}(ve,Z,y),Et=Te.processChildren?wr(Te.segmentGroup,Te.index,ve.commands):vi(Te.segmentGroup,Te.index,ve.commands);return Pt(Z,Te.segmentGroup,Et,E,P)}function Kn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function ii(y){return"object"==typeof y&&null!=y&&y.outlets}function Pt(y,T,E,P,Z){let Te,ve={};P&&Object.entries(P).forEach(([_n,Jn])=>{ve[_n]=Array.isArray(Jn)?Jn.map(Un=>`${Un}`):`${Jn}`}),Te=y===T?E:It(y,T,E);const Et=Ie(Oe(Te));return new Yt(Et,ve,Z)}function It(y,T,E){const P={};return Object.entries(y.children).forEach(([Z,ve])=>{P[Z]=ve===T?E:It(ve,T,E)}),new an(y.segments,P)}class xn{constructor(T,E,P){if(this.isAbsolute=T,this.numberOfDoubleDots=E,this.commands=P,T&&P.length>0&&Kn(P[0]))throw new l.vHH(4003,!1);const Z=P.find(ii);if(Z&&Z!==dt(P))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pn{constructor(T,E,P){this.segmentGroup=T,this.processChildren=E,this.index=P}}function vi(y,T,E){if(y||(y=new an([],{})),0===y.segments.length&&y.hasChildren())return wr(y,T,E);const P=function to(y,T,E){let P=0,Z=T;const ve={match:!1,pathIndex:0,commandIndex:0};for(;Z<y.segments.length;){if(P>=E.length)return ve;const Te=y.segments[Z],Et=E[P];if(ii(Et))break;const _n=`${Et}`,Jn=P<E.length-1?E[P+1]:null;if(Z>0&&void 0===_n)break;if(_n&&Jn&&"object"==typeof Jn&&void 0===Jn.outlets){if(!no(_n,Jn,Te))return ve;P+=2}else{if(!no(_n,{},Te))return ve;P++}Z++}return{match:!0,pathIndex:Z,commandIndex:P}}(y,T,E),Z=E.slice(P.commandIndex);if(P.match&&P.pathIndex<y.segments.length){const ve=new an(y.segments.slice(0,P.pathIndex),{});return ve.children[Ft]=new an(y.segments.slice(P.pathIndex),y.children),wr(ve,0,Z)}return P.match&&0===Z.length?new an(y.segments,{}):P.match&&!y.hasChildren()?bo(y,T,E):P.match?wr(y,0,Z):bo(y,T,E)}function wr(y,T,E){if(0===E.length)return new an(y.segments,{});{const P=function qi(y){return ii(y[0])?y[0].outlets:{[Ft]:y}}(E),Z={};if(!P[Ft]&&y.children[Ft]&&1===y.numberOfChildren&&0===y.children[Ft].segments.length){const ve=wr(y.children[Ft],T,E);return new an(y.segments,ve.children)}return Object.entries(P).forEach(([ve,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(Z[ve]=vi(y.children[ve],T,Te))}),Object.entries(y.children).forEach(([ve,Te])=>{void 0===P[ve]&&(Z[ve]=Te)}),new an(y.segments,Z)}}function bo(y,T,E){const P=y.segments.slice(0,T);let Z=0;for(;Z<E.length;){const ve=E[Z];if(ii(ve)){const _n=hs(ve.outlets);return new an(P,_n)}if(0===Z&&Kn(E[0])){P.push(new Gn(y.segments[T].path,Mr(E[0]))),Z++;continue}const Te=ii(ve)?ve.outlets[Ft]:`${ve}`,Et=Z<E.length-1?E[Z+1]:null;Te&&Et&&Kn(Et)?(P.push(new Gn(Te,Mr(Et))),Z+=2):(P.push(new Gn(Te,{})),Z++)}return new an(P,{})}function hs(y){const T={};return Object.entries(y).forEach(([E,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(T[E]=bo(new an([],{}),0,P))}),T}function Mr(y){const T={};return Object.entries(y).forEach(([E,P])=>T[E]=`${P}`),T}function no(y,T,E){return y==E.path&&kt(T,E.parameters)}const jr="imperative";class fr{constructor(T,E){this.id=T,this.url=E}}class ho extends fr{constructor(T,E,P="imperative",Z=null){super(T,E),this.type=0,this.navigationTrigger=P,this.restoredState=Z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Si extends fr{constructor(T,E,P){super(T,E),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bo extends fr{constructor(T,E,P,Z){super(T,E),this.reason=P,this.code=Z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class io extends fr{constructor(T,E,P,Z){super(T,E),this.reason=P,this.code=Z,this.type=16}}class er extends fr{constructor(T,E,P,Z){super(T,E),this.error=P,this.target=Z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class or extends fr{constructor(T,E,P,Z){super(T,E),this.urlAfterRedirects=P,this.state=Z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends fr{constructor(T,E,P,Z){super(T,E),this.urlAfterRedirects=P,this.state=Z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends fr{constructor(T,E,P,Z,ve){super(T,E),this.urlAfterRedirects=P,this.state=Z,this.shouldActivate=ve,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class To extends fr{constructor(T,E,P,Z){super(T,E),this.urlAfterRedirects=P,this.state=Z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uo extends fr{constructor(T,E,P,Z){super(T,E),this.urlAfterRedirects=P,this.state=Z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jo{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class es{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mo{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ms{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(T,E,P){this.routerEvent=T,this.position=E,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ei{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ro,this.attachRef=null}}let ro=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(E,P){const Z=this.getOrCreateContext(E);Z.outlet=P,this.contexts.set(E,Z)}onChildOutletDestroyed(E){const P=this.getContext(E);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let P=this.getContext(E);return P||(P=new Ei,this.contexts.set(E,P)),P}getContext(E){return this.contexts.get(E)||null}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Hr{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const E=this.pathFromRoot(T);return E.length>1?E[E.length-2]:null}children(T){const E=ns(T,this._root);return E?E.children.map(P=>P.value):[]}firstChild(T){const E=ns(T,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(T){const E=wt(T,this._root);return E.length<2?[]:E[E.length-2].children.map(Z=>Z.value).filter(Z=>Z!==T)}pathFromRoot(T){return wt(T,this._root).map(E=>E.value)}}function ns(y,T){if(y===T.value)return T;for(const E of T.children){const P=ns(y,E);if(P)return P}return null}function wt(y,T){if(y===T.value)return[T];for(const E of T.children){const P=wt(y,E);if(P.length)return P.unshift(T),P}return[]}class mt{constructor(T,E){this.value=T,this.children=E}toString(){return`TreeNode(${this.value})`}}function Bt(y){const T={};return y&&y.children.forEach(E=>T[E.value.outlet]=E),T}class mn extends Hr{constructor(T,E){super(T),this.snapshot=E,nr(this,T)}toString(){return this.snapshot.toString()}}function gn(y,T){const E=function hn(y,T){const Te=new Pr([],{},{},"",{},Ft,T,null,{});return new tr("",new mt(Te,[]))}(0,T),P=new W.X([new Gn("",{})]),Z=new W.X({}),ve=new W.X({}),Te=new W.X({}),Et=new W.X(""),_n=new Rn(P,Z,Te,Et,ve,Ft,T,E.root);return _n.snapshot=E.root,new mn(new mt(_n,[]),E)}class Rn{constructor(T,E,P,Z,ve,Te,Et,_n){this.urlSubject=T,this.paramsSubject=E,this.queryParamsSubject=P,this.fragmentSubject=Z,this.dataSubject=ve,this.outlet=Te,this.component=Et,this._futureSnapshot=_n,this.title=this.dataSubject?.pipe((0,Ee.U)(Jn=>Jn[Qe]))??(0,oe.of)(void 0),this.url=T,this.params=E,this.queryParams=P,this.fragment=Z,this.data=ve}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ee.U)(T=>Ot(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ee.U)(T=>Ot(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oi(y,T="emptyOnly"){const E=y.pathFromRoot;let P=0;if("always"!==T)for(P=E.length-1;P>=1;){const Z=E[P],ve=E[P-1];if(Z.routeConfig&&""===Z.routeConfig.path)P--;else{if(ve.component)break;P--}}return function fi(y){return y.reduce((T,E)=>({params:{...T.params,...E.params},data:{...T.data,...E.data},resolve:{...E.data,...T.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(P))}class Pr{get title(){return this.data?.[Qe]}constructor(T,E,P,Z,ve,Te,Et,_n,Jn){this.url=T,this.params=E,this.queryParams=P,this.fragment=Z,this.data=ve,this.outlet=Te,this.component=Et,this.routeConfig=_n,this._resolve=Jn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tr extends Hr{constructor(T,E){super(E),this.url=T,nr(this,E)}toString(){return Vi(this._root)}}function nr(y,T){T.value._routerState=y,T.children.forEach(E=>nr(y,E))}function Vi(y){const T=y.children.length>0?` { ${y.children.map(Vi).join(", ")} } `:"";return`${y.value}${T}`}function Zr(y){if(y.snapshot){const T=y.snapshot,E=y._futureSnapshot;y.snapshot=E,kt(T.queryParams,E.queryParams)||y.queryParamsSubject.next(E.queryParams),T.fragment!==E.fragment&&y.fragmentSubject.next(E.fragment),kt(T.params,E.params)||y.paramsSubject.next(E.params),function zt(y,T){if(y.length!==T.length)return!1;for(let E=0;E<y.length;++E)if(!kt(y[E],T[E]))return!1;return!0}(T.url,E.url)||y.urlSubject.next(E.url),kt(T.data,E.data)||y.dataSubject.next(E.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Sr(y,T){const E=kt(y.params,T.params)&&function ri(y,T){return Dn(y,T)&&y.every((E,P)=>kt(E.parameters,T[P].parameters))}(y.url,T.url);return E&&!(!y.parent!=!T.parent)&&(!y.parent||Sr(y.parent,T.parent))}let Xn=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(ro),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Yr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:P,previousValue:Z}=E.name;if(P)return;this.isTrackedInParentContexts(Z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,P){this.activated=E,this._activatedRoute=P,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,P){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=E;const Z=this.location,Te=E.snapshot.component,Et=this.parentContexts.getOrCreateContext(this.name).children,_n=new oo(E,Et,Z.injector);this.activated=Z.createComponent(Te,{index:Z.length,injector:_n,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275dir=l.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),y})();class oo{constructor(T,E,P){this.route=T,this.childContexts=E,this.parent=P}get(T,E){return T===Rn?this.route:T===ro?this.childContexts:this.parent.get(T,E)}}const Yr=new l.OlP("");let qr=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:P}=E,Z=(0,_e.a)([P.queryParams,P.params,P.data]).pipe((0,he.w)(([ve,Te,Et],_n)=>(Et={...ve,...Te,...Et},0===_n?(0,oe.of)(Et):Promise.resolve(Et)))).subscribe(ve=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(E);const Te=(0,l.qFp)(P.component);if(Te)for(const{templateName:Et}of Te.inputs)E.activatedComponentRef.setInput(Et,ve[Et]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,Z)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac}),y})();function Mo(y,T,E){if(E&&y.shouldReuseRoute(T.value,E.value.snapshot)){const P=E.value;P._futureSnapshot=T.value;const Z=function Vo(y,T,E){return T.children.map(P=>{for(const Z of E.children)if(y.shouldReuseRoute(P.value,Z.value.snapshot))return Mo(y,P,Z);return Mo(y,P)})}(y,T,E);return new mt(P,Z)}{if(y.shouldAttach(T.value)){const ve=y.retrieve(T.value);if(null!==ve){const Te=ve.route;return Te.value._futureSnapshot=T.value,Te.children=T.children.map(Et=>Mo(y,Et)),Te}}const P=function yo(y){return new Rn(new W.X(y.url),new W.X(y.params),new W.X(y.queryParams),new W.X(y.fragment),new W.X(y.data),y.outlet,y.component,y)}(T.value),Z=T.children.map(ve=>Mo(y,ve));return new mt(P,Z)}}const is="ngNavigationCancelingError";function Es(y,T){const{redirectTo:E,navigationBehaviorOptions:P}=q(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,Z=pr(!1,0,T);return Z.url=E,Z.navigationBehaviorOptions=P,Z}function pr(y,T,E){const P=new Error("NavigationCancelingError: "+(y||""));return P[is]=!0,P.cancellationCode=T,E&&(P.url=E),P}function ir(y){return fs(y)&&q(y.url)}function fs(y){return y&&y[is]}let cr=(()=>{class y{}return y.\u0275fac=function(E){return new(E||y)},y.\u0275cmp=l.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(E,P){1&E&&l._UZ(0,"router-outlet")},dependencies:[Xn],encapsulation:2}),y})();function os(y){const T=y.children&&y.children.map(os),E=T?{...y,children:T}:{...y};return!E.component&&!E.loadComponent&&(T||E.loadChildren)&&E.outlet&&E.outlet!==Ft&&(E.component=cr),E}function Hi(y){return y.outlet||Ft}function Gr(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let T=y.parent;T;T=T.parent){const E=T.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Wi{constructor(T,E,P,Z,ve){this.routeReuseStrategy=T,this.futureState=E,this.currState=P,this.forwardEvent=Z,this.inputBindingEnabled=ve}activate(T){const E=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,P,T),Zr(this.futureState.root),this.activateChildRoutes(E,P,T)}deactivateChildRoutes(T,E,P){const Z=Bt(E);T.children.forEach(ve=>{const Te=ve.value.outlet;this.deactivateRoutes(ve,Z[Te],P),delete Z[Te]}),Object.values(Z).forEach(ve=>{this.deactivateRouteAndItsChildren(ve,P)})}deactivateRoutes(T,E,P){const Z=T.value,ve=E?E.value:null;if(Z===ve)if(Z.component){const Te=P.getContext(Z.outlet);Te&&this.deactivateChildRoutes(T,E,Te.children)}else this.deactivateChildRoutes(T,E,P);else ve&&this.deactivateRouteAndItsChildren(E,P)}deactivateRouteAndItsChildren(T,E){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,E):this.deactivateRouteAndOutlet(T,E)}detachAndStoreRouteSubtree(T,E){const P=E.getContext(T.value.outlet),Z=P&&T.value.component?P.children:E,ve=Bt(T);for(const Te of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Te],Z);if(P&&P.outlet){const Te=P.outlet.detach(),Et=P.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:Te,route:T,contexts:Et})}}deactivateRouteAndOutlet(T,E){const P=E.getContext(T.value.outlet),Z=P&&T.value.component?P.children:E,ve=Bt(T);for(const Te of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Te],Z);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(T,E,P){const Z=Bt(E);T.children.forEach(ve=>{this.activateRoutes(ve,Z[ve.value.outlet],P),this.forwardEvent(new ms(ve.value.snapshot))}),T.children.length&&this.forwardEvent(new xr(T.value.snapshot))}activateRoutes(T,E,P){const Z=T.value,ve=E?E.value:null;if(Zr(Z),Z===ve)if(Z.component){const Te=P.getOrCreateContext(Z.outlet);this.activateChildRoutes(T,E,Te.children)}else this.activateChildRoutes(T,E,P);else if(Z.component){const Te=P.getOrCreateContext(Z.outlet);if(this.routeReuseStrategy.shouldAttach(Z.snapshot)){const Et=this.routeReuseStrategy.retrieve(Z.snapshot);this.routeReuseStrategy.store(Z.snapshot,null),Te.children.onOutletReAttached(Et.contexts),Te.attachRef=Et.componentRef,Te.route=Et.route.value,Te.outlet&&Te.outlet.attach(Et.componentRef,Et.route.value),Zr(Et.route.value),this.activateChildRoutes(T,null,Te.children)}else{const Et=Gr(Z.snapshot);Te.attachRef=null,Te.route=Z,Te.injector=Et,Te.outlet&&Te.outlet.activateWith(Z,Te.injector),this.activateChildRoutes(T,null,Te.children)}}else this.activateChildRoutes(T,null,P)}}class _o{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class ko{constructor(T,E){this.component=T,this.route=E}}function Qs(y,T,E){const P=y._root;return Je(P,T?T._root:null,E,[P.value])}function gs(y,T){const E=Symbol(),P=T.get(y,E);return P===E?"function"!=typeof y||(0,l.Z0I)(y)?T.get(y):y:P}function Je(y,T,E,P,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ve=Bt(T);return y.children.forEach(Te=>{(function et(y,T,E,P,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ve=y.value,Te=T?T.value:null,Et=E?E.getContext(y.value.outlet):null;if(Te&&ve.routeConfig===Te.routeConfig){const _n=function Q(y,T,E){if("function"==typeof E)return E(y,T);switch(E){case"pathParamsChange":return!Dn(y.url,T.url);case"pathParamsOrQueryParamsChange":return!Dn(y.url,T.url)||!kt(y.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sr(y,T)||!kt(y.queryParams,T.queryParams);default:return!Sr(y,T)}}(Te,ve,ve.routeConfig.runGuardsAndResolvers);_n?Z.canActivateChecks.push(new _o(P)):(ve.data=Te.data,ve._resolvedData=Te._resolvedData),Je(y,T,ve.component?Et?Et.children:null:E,P,Z),_n&&Et&&Et.outlet&&Et.outlet.isActivated&&Z.canDeactivateChecks.push(new ko(Et.outlet.component,Te))}else Te&&tt(T,Et,Z),Z.canActivateChecks.push(new _o(P)),Je(y,null,ve.component?Et?Et.children:null:E,P,Z)})(Te,ve[Te.value.outlet],E,P.concat([Te.value]),Z),delete ve[Te.value.outlet]}),Object.entries(ve).forEach(([Te,Et])=>tt(Et,E.getContext(Te),Z)),Z}function tt(y,T,E){const P=Bt(y),Z=y.value;Object.entries(P).forEach(([ve,Te])=>{tt(Te,Z.component?T?T.children.getContext(ve):null:T,E)}),E.canDeactivateChecks.push(new ko(Z.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,Z))}function on(y){return"function"==typeof y}function v(y){return y instanceof Ce.K||"EmptyError"===y?.name}const D=Symbol("INITIAL_VALUE");function ne(){return(0,he.w)(y=>(0,_e.a)(y.map(T=>T.pipe((0,pe.q)(1),(0,Ne.O)(D)))).pipe((0,Ee.U)(T=>{for(const E of T)if(!0!==E){if(E===D)return D;if(!1===E||E instanceof Yt)return E}return!0}),(0,Y.h)(T=>T!==D),(0,pe.q)(1)))}function Cr(y){return(0,ge.z)((0,xt.b)(T=>{if(q(T))throw Es(0,T)}),(0,Ee.U)(T=>!0===T))}class Fi{constructor(T){this.segmentGroup=T||null}}class _r{constructor(T){this.urlTree=T}}function Ci(y){return(0,He._)(new Fi(y))}function Ao(y){return(0,He._)(new _r(y))}class Ar{constructor(T,E){this.urlSerializer=T,this.urlTree=E}noMatchError(T){return new l.vHH(4002,!1)}lineralizeSegments(T,E){let P=[],Z=E.root;for(;;){if(P=P.concat(Z.segments),0===Z.numberOfChildren)return(0,oe.of)(P);if(Z.numberOfChildren>1||!Z.children[Ft])return(0,He._)(new l.vHH(4e3,!1));Z=Z.children[Ft]}}applyRedirectCommands(T,E,P){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),T,P)}applyRedirectCreateUrlTree(T,E,P,Z){const ve=this.createSegmentGroup(T,E.root,P,Z);return new Yt(ve,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(T,E){const P={};return Object.entries(T).forEach(([Z,ve])=>{if("string"==typeof ve&&ve.startsWith(":")){const Et=ve.substring(1);P[Z]=E[Et]}else P[Z]=ve}),P}createSegmentGroup(T,E,P,Z){const ve=this.createSegments(T,E.segments,P,Z);let Te={};return Object.entries(E.children).forEach(([Et,_n])=>{Te[Et]=this.createSegmentGroup(T,_n,P,Z)}),new an(ve,Te)}createSegments(T,E,P,Z){return E.map(ve=>ve.path.startsWith(":")?this.findPosParam(T,ve,Z):this.findOrReturn(ve,P))}findPosParam(T,E,P){const Z=P[E.path.substring(1)];if(!Z)throw new l.vHH(4001,!1);return Z}findOrReturn(T,E){let P=0;for(const Z of E){if(Z.path===T.path)return E.splice(P),Z;P++}return T}}const wo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ss(y,T,E,P,Z){const ve=Cs(y,T,E);return ve.matched?(P=function ki(y,T){return y.providers&&!y._injector&&(y._injector=(0,l.MMx)(y.providers,T,`Route: ${y.path}`)),y._injector??T}(T,P),function sr(y,T,E,P){const Z=T.canMatch;if(!Z||0===Z.length)return(0,oe.of)(!0);const ve=Z.map(Te=>{const Et=gs(Te,y);return Ke(function dr(y){return y&&on(y.canMatch)}(Et)?Et.canMatch(T,E):y.runInContext(()=>Et(T,E)))});return(0,oe.of)(ve).pipe(ne(),Cr())}(P,T,E).pipe((0,Ee.U)(Te=>!0===Te?ve:{...wo}))):(0,oe.of)(ve)}function Cs(y,T,E){if(""===T.path)return"full"===T.pathMatch&&(y.hasChildren()||E.length>0)?{...wo}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const Z=(T.matcher||yt)(E,y,T);if(!Z)return{...wo};const ve={};Object.entries(Z.posParams??{}).forEach(([Et,_n])=>{ve[Et]=_n.path});const Te=Z.consumed.length>0?{...ve,...Z.consumed[Z.consumed.length-1].parameters}:ve;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:E.slice(Z.consumed.length),parameters:Te,positionalParamSegments:Z.posParams??{}}}function ks(y,T,E,P){return E.length>0&&function Ks(y,T,E){return E.some(P=>so(y,T,P)&&Hi(P)!==Ft)}(y,E,P)?{segmentGroup:new an(T,ra(P,new an(E,y.children))),slicedSegments:[]}:0===E.length&&function Da(y,T,E){return E.some(P=>so(y,T,P))}(y,E,P)?{segmentGroup:new an(y.segments,As(y,0,E,P,y.children)),slicedSegments:E}:{segmentGroup:new an(y.segments,y.children),slicedSegments:E}}function As(y,T,E,P,Z){const ve={};for(const Te of P)if(so(y,E,Te)&&!Z[Hi(Te)]){const Et=new an([],{});ve[Hi(Te)]=Et}return{...Z,...ve}}function ra(y,T){const E={};E[Ft]=T;for(const P of y)if(""===P.path&&Hi(P)!==Ft){const Z=new an([],{});E[Hi(P)]=Z}return E}function so(y,T,E){return(!(y.hasChildren()||T.length>0)||"full"!==E.pathMatch)&&""===E.path}class ma{constructor(T,E,P,Z,ve,Te,Et){this.injector=T,this.configLoader=E,this.rootComponentType=P,this.config=Z,this.urlTree=ve,this.paramsInheritanceStrategy=Te,this.urlSerializer=Et,this.allowRedirects=!0,this.applyRedirects=new Ar(this.urlSerializer,this.urlTree)}noMatchError(T){return new l.vHH(4002,!1)}recognize(){const T=ks(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,Ft).pipe((0,wn.K)(E=>{if(E instanceof _r)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Fi?this.noMatchError(E):E}),(0,Ee.U)(E=>{const P=new Pr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,{}),Z=new mt(P,E),ve=new tr("",Z),Te=function De(y,T,E=null,P=null){return Lt(_t(y),T,E,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,ve.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(ve._root),{state:ve,tree:Te}}))}match(T){return this.processSegmentGroup(this.injector,this.config,T.root,Ft).pipe((0,wn.K)(P=>{throw P instanceof Fi?this.noMatchError(P):P}))}inheritParamsAndData(T){const E=T.value,P=oi(E,this.paramsInheritanceStrategy);E.params=Object.freeze(P.params),E.data=Object.freeze(P.data),T.children.forEach(Z=>this.inheritParamsAndData(Z))}processSegmentGroup(T,E,P,Z){return 0===P.segments.length&&P.hasChildren()?this.processChildren(T,E,P):this.processSegment(T,E,P,P.segments,Z,!0)}processChildren(T,E,P){const Z=[];for(const ve of Object.keys(P.children))"primary"===ve?Z.unshift(ve):Z.push(ve);return(0,we.D)(Z).pipe((0,qe.b)(ve=>{const Te=P.children[ve],Et=function lr(y,T){const E=y.filter(P=>Hi(P)===T);return E.push(...y.filter(P=>Hi(P)!==T)),E}(E,ve);return this.processSegmentGroup(T,Et,Te,ve)}),(0,On.R)((ve,Te)=>(ve.push(...Te),ve)),(0,pt.d)(null),function en(y,T){const E=arguments.length>=2;return P=>P.pipe(y?(0,Y.h)((Z,ve)=>y(Z,ve,P)):Ut.y,gt(1),E?(0,pt.d)(T):(0,Nt.T)(()=>new Ce.K))}(),(0,Ye.z)(ve=>{if(null===ve)return Ci(P);const Te=js(ve);return function Zo(y){y.sort((T,E)=>T.value.outlet===Ft?-1:E.value.outlet===Ft?1:T.value.outlet.localeCompare(E.value.outlet))}(Te),(0,oe.of)(Te)}))}processSegment(T,E,P,Z,ve,Te){return(0,we.D)(E).pipe((0,qe.b)(Et=>this.processSegmentAgainstRoute(Et._injector??T,E,Et,P,Z,ve,Te).pipe((0,wn.K)(_n=>{if(_n instanceof Fi)return(0,oe.of)(null);throw _n}))),(0,Be.P)(Et=>!!Et),(0,wn.K)(Et=>{if(v(Et))return function oa(y,T,E){return 0===T.length&&!y.children[E]}(P,Z,ve)?(0,oe.of)([]):Ci(P);throw Et}))}processSegmentAgainstRoute(T,E,P,Z,ve,Te,Et){return function xc(y,T,E,P){return!!(Hi(y)===P||P!==Ft&&so(T,E,y))&&("**"===y.path||Cs(T,y,E).matched)}(P,Z,ve,Te)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(T,Z,P,ve,Te,Et):Et&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,Z,E,P,ve,Te):Ci(Z):Ci(Z)}expandSegmentAgainstRouteUsingRedirect(T,E,P,Z,ve,Te){return"**"===Z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,P,Z,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(T,E,P,Z,ve,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,P,Z){const ve=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Ao(ve):this.applyRedirects.lineralizeSegments(P,ve).pipe((0,Ye.z)(Te=>{const Et=new an(Te,{});return this.processSegment(T,E,Et,Te,Z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,E,P,Z,ve,Te){const{matched:Et,consumedSegments:_n,remainingSegments:Jn,positionalParamSegments:Un}=Cs(E,Z,ve);if(!Et)return Ci(E);const ji=this.applyRedirects.applyRedirectCommands(_n,Z.redirectTo,Un);return Z.redirectTo.startsWith("/")?Ao(ji):this.applyRedirects.lineralizeSegments(Z,ji).pipe((0,Ye.z)(Or=>this.processSegment(T,P,E,Or.concat(Jn),Te,!1)))}matchSegmentAgainstRoute(T,E,P,Z,ve,Te){let Et;if("**"===P.path){const _n=Z.length>0?dt(Z).parameters:{},Jn=new Pr(Z,_n,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ta(P),Hi(P),P.component??P._loadedComponent??null,P,Xs(P));Et=(0,oe.of)({snapshot:Jn,consumedSegments:[],remainingSegments:[]}),E.children={}}else Et=ss(E,P,Z,T).pipe((0,Ee.U)(({matched:_n,consumedSegments:Jn,remainingSegments:Un,parameters:ji})=>_n?{snapshot:new Pr(Jn,ji,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ta(P),Hi(P),P.component??P._loadedComponent??null,P,Xs(P)),consumedSegments:Jn,remainingSegments:Un}:null));return Et.pipe((0,he.w)(_n=>null===_n?Ci(E):this.getChildConfig(T=P._injector??T,P,Z).pipe((0,he.w)(({routes:Jn})=>{const Un=P._loadedInjector??T,{snapshot:ji,consumedSegments:Or,remainingSegments:Eo}=_n,{segmentGroup:co,slicedSegments:zo}=ks(E,Or,Eo,Jn);if(0===zo.length&&co.hasChildren())return this.processChildren(Un,Jn,co).pipe((0,Ee.U)(bs=>null===bs?null:[new mt(ji,bs)]));if(0===Jn.length&&0===zo.length)return(0,oe.of)([new mt(ji,[])]);const Gt=Hi(P)===ve;return this.processSegment(Un,Jn,co,zo,Gt?Ft:ve,!0).pipe((0,Ee.U)(bs=>[new mt(ji,bs)]))}))))}getChildConfig(T,E,P){return E.children?(0,oe.of)({routes:E.children,injector:T}):E.loadChildren?void 0!==E._loadedRoutes?(0,oe.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function gr(y,T,E,P){const Z=T.canLoad;if(void 0===Z||0===Z.length)return(0,oe.of)(!0);const ve=Z.map(Te=>{const Et=gs(Te,y);return Ke(function Ti(y){return y&&on(y.canLoad)}(Et)?Et.canLoad(T,E):y.runInContext(()=>Et(T,E)))});return(0,oe.of)(ve).pipe(ne(),Cr())}(T,E,P).pipe((0,Ye.z)(Z=>Z?this.configLoader.loadChildren(T,E).pipe((0,xt.b)(ve=>{E._loadedRoutes=ve.routes,E._loadedInjector=ve.injector})):function Lr(y){return(0,He._)(pr(!1,3))}())):(0,oe.of)({routes:[],injector:T})}}function Vs(y){const T=y.value.routeConfig;return T&&""===T.path}function js(y){const T=[],E=new Set;for(const P of y){if(!Vs(P)){T.push(P);continue}const Z=T.find(ve=>P.value.routeConfig===ve.value.routeConfig);void 0!==Z?(Z.children.push(...P.children),E.add(Z)):T.push(P)}for(const P of E){const Z=js(P.children);T.push(new mt(P.value,Z))}return T.filter(P=>!E.has(P))}function Ta(y){return y.data||{}}function Xs(y){return y.resolve||{}}function Ns(y){return"string"==typeof y.title||null===y.title}function Qi(y){return(0,he.w)(T=>{const E=y(T);return E?(0,we.D)(E).pipe((0,Ee.U)(()=>T)):(0,oe.of)(T)})}const hr=new l.OlP("ROUTES");let Is=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,oe.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const P=Ke(E.loadComponent()).pipe((0,Ee.U)(ga),(0,xt.b)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=ve}),(0,cn.x)(()=>{this.componentLoaders.delete(E)})),Z=new Ae(P,()=>new vt.x).pipe(Ve());return this.componentLoaders.set(E,Z),Z}loadChildren(E,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,oe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const ve=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,Ee.U)(Et=>{this.onLoadEndListener&&this.onLoadEndListener(P);let _n,Jn;return Array.isArray(Et)?Jn=Et:(_n=Et.create(E).injector,Jn=_n.get(hr,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:Jn.map(os),injector:_n}}),(0,cn.x)(()=>{this.childrenLoaders.delete(P)})),Te=new Ae(ve,()=>new vt.x).pipe(Ve());return this.childrenLoaders.set(P,Te),Te}loadModuleFactoryOrRoutes(E){return Ke(E()).pipe((0,Ee.U)(ga),(0,Ye.z)(P=>P instanceof l.YKP||Array.isArray(P)?(0,oe.of)(P):(0,we.D)(this.compiler.compileModuleAsync(P))))}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function ga(y){return function Mi(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let F=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new vt.x,this.configLoader=(0,l.f3M)(Is),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(jn),this.rootContexts=(0,l.f3M)(ro),this.inputBindingEnabled=null!==(0,l.f3M)(Yr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Z=>this.events.next(new es(Z)),this.configLoader.onLoadStartListener=Z=>this.events.next(new Jo(Z))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:P})}setupNavigations(E){return this.transitions=new W.X({id:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jr,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Y.h)(P=>0!==P.id),(0,Ee.U)(P=>({...P,extractedUrl:E.urlHandlingStrategy.extract(P.rawUrl)})),(0,he.w)(P=>{let Z=!1,ve=!1;return(0,oe.of)(P).pipe((0,xt.b)(Te=>{this.currentNavigation={id:Te.id,initialUrl:Te.rawUrl,extractedUrl:Te.extractedUrl,trigger:Te.source,extras:Te.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,he.w)(Te=>{const Et=E.browserUrlTree.toString(),_n=!E.navigated||Te.extractedUrl.toString()!==Et||Et!==E.currentUrlTree.toString();if(!_n&&"reload"!==(Te.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const Un="";return this.events.next(new io(Te.id,E.serializeUrl(P.rawUrl),Un,0)),E.rawUrlTree=Te.rawUrl,Te.resolve(null),Pe.E}if(E.urlHandlingStrategy.shouldProcessUrl(Te.rawUrl))return ee(Te.source)&&(E.browserUrlTree=Te.extractedUrl),(0,oe.of)(Te).pipe((0,he.w)(Un=>{const ji=this.transitions?.getValue();return this.events.next(new ho(Un.id,this.urlSerializer.serialize(Un.extractedUrl),Un.source,Un.restoredState)),ji!==this.transitions?.getValue()?Pe.E:Promise.resolve(Un)}),function fa(y,T,E,P,Z,ve){return(0,Ye.z)(Te=>function Ia(y,T,E,P,Z,ve,Te="emptyOnly"){return new ma(y,T,E,P,Z,Te,ve).recognize()}(y,T,E,P,Te.extractedUrl,Z,ve).pipe((0,Ee.U)(({state:Et,tree:_n})=>({...Te,targetSnapshot:Et,urlAfterRedirects:_n}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,xt.b)(Un=>{if(P.targetSnapshot=Un.targetSnapshot,P.urlAfterRedirects=Un.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Un.urlAfterRedirects},"eager"===E.urlUpdateStrategy){if(!Un.extras.skipLocationChange){const Or=E.urlHandlingStrategy.merge(Un.urlAfterRedirects,Un.rawUrl);E.setBrowserUrl(Or,Un)}E.browserUrlTree=Un.urlAfterRedirects}const ji=new or(Un.id,this.urlSerializer.serialize(Un.extractedUrl),this.urlSerializer.serialize(Un.urlAfterRedirects),Un.targetSnapshot);this.events.next(ji)}));if(_n&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:Un,extractedUrl:ji,source:Or,restoredState:Eo,extras:co}=Te,zo=new ho(Un,this.urlSerializer.serialize(ji),Or,Eo);this.events.next(zo);const Gt=gn(0,this.rootComponentType).snapshot;return P={...Te,targetSnapshot:Gt,urlAfterRedirects:ji,extras:{...co,skipLocationChange:!1,replaceUrl:!1}},(0,oe.of)(P)}{const Un="";return this.events.next(new io(Te.id,E.serializeUrl(P.extractedUrl),Un,1)),E.rawUrlTree=Te.rawUrl,Te.resolve(null),Pe.E}}),(0,xt.b)(Te=>{const Et=new Io(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Et)}),(0,Ee.U)(Te=>P={...Te,guards:Qs(Te.targetSnapshot,Te.currentSnapshot,this.rootContexts)}),function Se(y,T){return(0,Ye.z)(E=>{const{targetSnapshot:P,currentSnapshot:Z,guards:{canActivateChecks:ve,canDeactivateChecks:Te}}=E;return 0===Te.length&&0===ve.length?(0,oe.of)({...E,guardsResult:!0}):function ft(y,T,E,P){return(0,we.D)(y).pipe((0,Ye.z)(Z=>function Pi(y,T,E,P,Z){const ve=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!ve||0===ve.length)return(0,oe.of)(!0);const Te=ve.map(Et=>{const _n=Gr(T)??Z,Jn=gs(Et,_n);return Ke(function fo(y){return y&&on(y.canDeactivate)}(Jn)?Jn.canDeactivate(y,T,E,P):_n.runInContext(()=>Jn(y,T,E,P))).pipe((0,Be.P)())});return(0,oe.of)(Te).pipe(ne())}(Z.component,Z.route,E,T,P)),(0,Be.P)(Z=>!0!==Z,!0))}(Te,P,Z,y).pipe((0,Ye.z)(Et=>Et&&function An(y){return"boolean"==typeof y}(Et)?function Vt(y,T,E,P){return(0,we.D)(T).pipe((0,qe.b)(Z=>(0,re.z)(function Zn(y,T){return null!==y&&T&&T(new mo(y)),(0,oe.of)(!0)}(Z.route.parent,P),function Tn(y,T){return null!==y&&T&&T(new ts(y)),(0,oe.of)(!0)}(Z.route,P),function yi(y,T,E){const P=T[T.length-1],ve=T.slice(0,T.length-1).reverse().map(Te=>function Fs(y){const T=y.routeConfig?y.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:y,guards:T}:null}(Te)).filter(Te=>null!==Te).map(Te=>(0,fe.P)(()=>{const Et=Te.guards.map(_n=>{const Jn=Gr(Te.node)??E,Un=gs(_n,Jn);return Ke(function zr(y){return y&&on(y.canActivateChild)}(Un)?Un.canActivateChild(P,y):Jn.runInContext(()=>Un(P,y))).pipe((0,Be.P)())});return(0,oe.of)(Et).pipe(ne())}));return(0,oe.of)(ve).pipe(ne())}(y,Z.path,E),function Vn(y,T,E){const P=T.routeConfig?T.routeConfig.canActivate:null;if(!P||0===P.length)return(0,oe.of)(!0);const Z=P.map(ve=>(0,fe.P)(()=>{const Te=Gr(T)??E,Et=gs(ve,Te);return Ke(function Nr(y){return y&&on(y.canActivate)}(Et)?Et.canActivate(T,y):Te.runInContext(()=>Et(T,y))).pipe((0,Be.P)())}));return(0,oe.of)(Z).pipe(ne())}(y,Z.route,E))),(0,Be.P)(Z=>!0!==Z,!0))}(P,ve,y,T):(0,oe.of)(Et)),(0,Ee.U)(Et=>({...E,guardsResult:Et})))})}(this.environmentInjector,Te=>this.events.next(Te)),(0,xt.b)(Te=>{if(P.guardsResult=Te.guardsResult,q(Te.guardsResult))throw Es(0,Te.guardsResult);const Et=new $r(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot,!!Te.guardsResult);this.events.next(Et)}),(0,Y.h)(Te=>!!Te.guardsResult||(E.restoreHistory(Te),this.cancelNavigationTransition(Te,"",3),!1)),Qi(Te=>{if(Te.guards.canActivateChecks.length)return(0,oe.of)(Te).pipe((0,xt.b)(Et=>{const _n=new To(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot);this.events.next(_n)}),(0,he.w)(Et=>{let _n=!1;return(0,oe.of)(Et).pipe(function Oa(y,T){return(0,Ye.z)(E=>{const{targetSnapshot:P,guards:{canActivateChecks:Z}}=E;if(!Z.length)return(0,oe.of)(E);let ve=0;return(0,we.D)(Z).pipe((0,qe.b)(Te=>function Js(y,T,E,P){const Z=y.routeConfig,ve=y._resolve;return void 0!==Z?.title&&!Ns(Z)&&(ve[Qe]=Z.title),function Ho(y,T,E,P){const Z=function _s(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===Z.length)return(0,oe.of)({});const ve={};return(0,we.D)(Z).pipe((0,Ye.z)(Te=>function pa(y,T,E,P){const Z=Gr(T)??P,ve=gs(y,Z);return Ke(ve.resolve?ve.resolve(T,E):Z.runInContext(()=>ve(T,E)))}(y[Te],T,E,P).pipe((0,Be.P)(),(0,xt.b)(Et=>{ve[Te]=Et}))),gt(1),(0,qt.h)(ve),(0,wn.K)(Te=>v(Te)?Pe.E:(0,He._)(Te)))}(ve,y,T,P).pipe((0,Ee.U)(Te=>(y._resolvedData=Te,y.data=oi(y,E).resolve,Z&&Ns(Z)&&(y.data[Qe]=Z.title),null)))}(Te.route,P,y,T)),(0,xt.b)(()=>ve++),gt(1),(0,Ye.z)(Te=>ve===Z.length?(0,oe.of)(E):Pe.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,xt.b)({next:()=>_n=!0,complete:()=>{_n||(E.restoreHistory(Et),this.cancelNavigationTransition(Et,"",2))}}))}),(0,xt.b)(Et=>{const _n=new Uo(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot);this.events.next(_n)}))}),Qi(Te=>{const Et=_n=>{const Jn=[];_n.routeConfig?.loadComponent&&!_n.routeConfig._loadedComponent&&Jn.push(this.configLoader.loadComponent(_n.routeConfig).pipe((0,xt.b)(Un=>{_n.component=Un}),(0,Ee.U)(()=>{})));for(const Un of _n.children)Jn.push(...Et(Un));return Jn};return(0,_e.a)(Et(Te.targetSnapshot.root)).pipe((0,pt.d)(),(0,pe.q)(1))}),Qi(()=>this.afterPreactivation()),(0,Ee.U)(Te=>{const Et=function $i(y,T,E){const P=Mo(y,T._root,E?E._root:void 0);return new mn(P,T)}(E.routeReuseStrategy,Te.targetSnapshot,Te.currentRouterState);return P={...Te,targetRouterState:Et}}),(0,xt.b)(Te=>{E.currentUrlTree=Te.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(Te.urlAfterRedirects,Te.rawUrl),E.routerState=Te.targetRouterState,"deferred"===E.urlUpdateStrategy&&(Te.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,Te),E.browserUrlTree=Te.urlAfterRedirects)}),((y,T,E,P)=>(0,Ee.U)(Z=>(new Wi(T,Z.targetRouterState,Z.currentRouterState,E,P).activate(y),Z)))(this.rootContexts,E.routeReuseStrategy,Te=>this.events.next(Te),this.inputBindingEnabled),(0,pe.q)(1),(0,xt.b)({next:Te=>{Z=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new Si(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(Te.targetRouterState.snapshot),Te.resolve(!0)},complete:()=>{Z=!0}}),(0,cn.x)(()=>{Z||ve||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),(0,wn.K)(Te=>{if(ve=!0,fs(Te)){ir(Te)||(E.navigated=!0,E.restoreHistory(P,!0));const Et=new Bo(P.id,this.urlSerializer.serialize(P.extractedUrl),Te.message,Te.cancellationCode);if(this.events.next(Et),ir(Te)){const _n=E.urlHandlingStrategy.merge(Te.url,E.rawUrlTree),Jn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||ee(P.source)};E.scheduleNavigation(_n,jr,null,Jn,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{E.restoreHistory(P,!0);const Et=new er(P.id,this.urlSerializer.serialize(P.extractedUrl),Te,P.targetSnapshot??void 0);this.events.next(Et);try{P.resolve(E.errorHandler(Te))}catch(_n){P.reject(_n)}}return Pe.E}))}))}cancelNavigationTransition(E,P,Z){const ve=new Bo(E.id,this.urlSerializer.serialize(E.extractedUrl),P,Z);this.events.next(ve),E.resolve(!1)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function ee(y){return y!==jr}let B=(()=>{class y{buildTitle(E){let P,Z=E.root;for(;void 0!==Z;)P=this.getResolvedTitleForRoute(Z)??P,Z=Z.children.find(ve=>ve.outlet===Ft);return P}getResolvedTitleForRoute(E){return E.data[Qe]}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:function(){return(0,l.f3M)(be)},providedIn:"root"}),y})(),be=(()=>{class y extends B{constructor(E){super(),this.title=E}updateTitle(E){const P=this.buildTitle(E);void 0!==P&&this.title.setTitle(P)}}return y.\u0275fac=function(E){return new(E||y)(l.LFG(sn.Dx))},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),it=(()=>{class y{}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:function(){return(0,l.f3M)(fn)},providedIn:"root"}),y})();class tn{shouldDetach(T){return!1}store(T,E){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,E){return T.routeConfig===E.routeConfig}}let fn=(()=>{class y extends tn{}return y.\u0275fac=function(){let T;return function(P){return(T||(T=l.n5z(y)))(P||y)}}(),y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Yn=new l.OlP("",{providedIn:"root",factory:()=>({})});let Bi=(()=>{class y{}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:function(){return(0,l.f3M)(Ii)},providedIn:"root"}),y})(),Ii=(()=>{class y{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,P){return E}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var bi=(()=>((bi=bi||{})[bi.COMPLETE=0]="COMPLETE",bi[bi.FAILED=1]="FAILED",bi[bi.REDIRECTING=2]="REDIRECTING",bi))();function Di(y,T){y.events.pipe((0,Y.h)(E=>E instanceof Si||E instanceof Bo||E instanceof er||E instanceof io),(0,Ee.U)(E=>E instanceof Si||E instanceof io?bi.COMPLETE:E instanceof Bo&&(0===E.code||1===E.code)?bi.REDIRECTING:bi.FAILED),(0,Y.h)(E=>E!==bi.REDIRECTING),(0,pe.q)(1)).subscribe(()=>{T()})}function Xi(y){throw y}function zn(y,T,E){return T.parse("/")}const Br={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},as={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Yn,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||Xi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Bi),this.routeReuseStrategy=(0,l.f3M)(it),this.titleStrategy=(0,l.f3M)(B),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(hr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(F),this.urlSerializer=(0,l.f3M)(jn),this.location=(0,l.f3M)(me.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(Yr,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId??0},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jr,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const P="popstate"===E.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,P,E.state)},0)}))}navigateToSyncWithBrowser(E,P,Z){const ve={replaceUrl:!0},Te=Z?.navigationId?Z:null;if(Z){const _n={...Z};delete _n.navigationId,delete _n.\u0275routerPageId,0!==Object.keys(_n).length&&(ve.state=_n)}const Et=this.parseUrl(E);this.scheduleNavigation(Et,P,Te,ve)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(os),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,P={}){const{relativeTo:Z,queryParams:ve,fragment:Te,queryParamsHandling:Et,preserveFragment:_n}=P,Jn=_n?this.currentUrlTree.fragment:Te;let ji,Un=null;switch(Et){case"merge":Un={...this.currentUrlTree.queryParams,...ve};break;case"preserve":Un=this.currentUrlTree.queryParams;break;default:Un=ve||null}null!==Un&&(Un=this.removeEmptyProps(Un));try{ji=_t(Z?Z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),ji=this.currentUrlTree.root}return Lt(ji,E,Un,Jn??null)}navigateByUrl(E,P={skipLocationChange:!1}){const Z=q(E)?E:this.parseUrl(E),ve=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(ve,jr,null,P)}navigate(E,P={skipLocationChange:!1}){return function sa(y){for(let T=0;T<y.length;T++)if(null==y[T])throw new l.vHH(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,P),P)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let P;try{P=this.urlSerializer.parse(E)}catch(Z){P=this.malformedUriErrorHandler(Z,this.urlSerializer,E)}return P}isActive(E,P){let Z;if(Z=!0===P?{...Br}:!1===P?{...as}:P,q(E))return ln(this.currentUrlTree,E,Z);const ve=this.parseUrl(E);return ln(this.currentUrlTree,ve,Z)}removeEmptyProps(E){return Object.keys(E).reduce((P,Z)=>{const ve=E[Z];return null!=ve&&(P[Z]=ve),P},{})}scheduleNavigation(E,P,Z,ve,Te){if(this.disposed)return Promise.resolve(!1);let Et,_n,Jn;Te?(Et=Te.resolve,_n=Te.reject,Jn=Te.promise):Jn=new Promise((ji,Or)=>{Et=ji,_n=Or});const Un=this.pendingTasks.add();return Di(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Un))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:ve,resolve:Et,reject:_n,promise:Jn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Jn.catch(ji=>Promise.reject(ji))}setBrowserUrl(E,P){const Z=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(Z)||P.extras.replaceUrl){const Te={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(Z,"",Te)}else{const ve={...P.extras.state,...this.generateNgRouterState(P.id,(this.browserPageId??0)+1)};this.location.go(Z,"",ve)}}restoreHistory(E,P=!1){if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ve?this.location.historyGo(ve):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ve&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,P){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:P}:{navigationId:E}}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Ts{}let cc=(()=>{class y{constructor(E,P,Z,ve,Te){this.router=E,this.injector=Z,this.preloadingStrategy=ve,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,Y.h)(E=>E instanceof Si),(0,qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,P){const Z=[];for(const ve of P){ve.providers&&!ve._injector&&(ve._injector=(0,l.MMx)(ve.providers,E,`Route: ${ve.path}`));const Te=ve._injector??E,Et=ve._loadedInjector??Te;(ve.loadChildren&&!ve._loadedRoutes&&void 0===ve.canLoad||ve.loadComponent&&!ve._loadedComponent)&&Z.push(this.preloadConfig(Te,ve)),(ve.children||ve._loadedRoutes)&&Z.push(this.processRoutes(Et,ve.children??ve._loadedRoutes))}return(0,we.D)(Z).pipe((0,bn.J)())}preloadConfig(E,P){return this.preloadingStrategy.preload(P,()=>{let Z;Z=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(E,P):(0,oe.of)(null);const ve=Z.pipe((0,Ye.z)(Te=>null===Te?(0,oe.of)(void 0):(P._loadedRoutes=Te.routes,P._loadedInjector=Te.injector,this.processRoutes(Te.injector??E,Te.routes))));if(P.loadComponent&&!P._loadedComponent){const Te=this.loader.loadComponent(P);return(0,we.D)([ve,Te]).pipe((0,bn.J)())}return ve})}}return y.\u0275fac=function(E){return new(E||y)(l.LFG(Wr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ts),l.LFG(Is))},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ra=new l.OlP("");let Cn=(()=>{class y{constructor(E,P,Z,ve,Te={}){this.urlSerializer=E,this.transitions=P,this.viewportScroller=Z,this.zone=ve,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration=Te.scrollPositionRestoration||"disabled",Te.anchorScrolling=Te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof ho?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Si?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof io&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof mi&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mi(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(E){l.$Z()},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac}),y})();function vs(y,T){return{\u0275kind:y,\u0275providers:T}}function vr(){const y=(0,l.f3M)(l.zs3);return T=>{const E=y.get(l.z2F);if(T!==E.components[0])return;const P=y.get(Wr),Z=y.get(Ms);1===y.get(ao)&&P.initialNavigation(),y.get(Bn,null,l.XFs.Optional)?.setUpPreloading(),y.get(Ra,null,l.XFs.Optional)?.init(),P.resetRootComponentType(E.componentTypes[0]),Z.closed||(Z.next(),Z.complete(),Z.unsubscribe())}}const Ms=new l.OlP("",{factory:()=>new vt.x}),ao=new l.OlP("",{providedIn:"root",factory:()=>1}),Bn=new l.OlP("");function nn(y){return vs(0,[{provide:Bn,useExisting:cc},{provide:Ts,useExisting:y}])}const va=new l.OlP("ROUTER_FORROOT_GUARD"),Ma=[me.Ye,{provide:jn,useClass:$e},Wr,ro,{provide:Rn,useFactory:function xo(y){return y.routerState.root},deps:[Wr]},Is,[]];function dc(){return new l.PXZ("Router",Wr)}let Fa=(()=>{class y{constructor(E){}static forRoot(E,P){return{ngModule:y,providers:[Ma,[],{provide:hr,multi:!0,useValue:E},{provide:va,useFactory:U,deps:[[Wr,new l.FiY,new l.tp0]]},{provide:Yn,useValue:P||{}},P?.useHash?{provide:me.S$,useClass:me.Do}:{provide:me.S$,useClass:me.b0},{provide:Ra,useFactory:()=>{const y=(0,l.f3M)(me.EM),T=(0,l.f3M)(l.R0b),E=(0,l.f3M)(Yn),P=(0,l.f3M)(F),Z=(0,l.f3M)(jn);return E.scrollOffset&&y.setOffset(E.scrollOffset),new Cn(Z,P,y,T,E)}},P?.preloadingStrategy?nn(P.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:dc},P?.initialNavigation?b(P):[],P?.bindToComponentInputs?vs(8,[qr,{provide:Yr,useExisting:qr}]).\u0275providers:[],[{provide:g,useFactory:vr},{provide:l.tb,multi:!0,useExisting:g}]]}}static forChild(E){return{ngModule:y,providers:[{provide:hr,multi:!0,useValue:E}]}}}return y.\u0275fac=function(E){return new(E||y)(l.LFG(va,8))},y.\u0275mod=l.oAB({type:y}),y.\u0275inj=l.cJS({}),y})();function U(y){return"guarded"}function b(y){return["disabled"===y.initialNavigation?vs(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const T=(0,l.f3M)(Wr);return()=>{T.setUpLocationChangeListener()}}},{provide:ao,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?vs(2,[{provide:ao,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:T=>{const E=T.get(me.V_,Promise.resolve());return()=>E.then(()=>new Promise(P=>{const Z=T.get(Wr),ve=T.get(Ms);Di(Z,()=>{P(!0)}),T.get(F).afterPreactivation=()=>(P(!0),ve.closed?(0,oe.of)(void 0):ve),Z.initialNavigation()}))}}]).\u0275providers:[]]}const g=new l.OlP("")},3942:(pn,rt,w)=>{w.d(rt,{Z:()=>at});var l=w(2090),C=w(4859),h=w(6881),J=w(1877);class we{constructor(Xe,Ve){this._delegate=Xe,this.firebase=Ve,(0,h._addComponent)(Xe,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,h.deleteApp)(this._delegate)))}_getService(Xe,Ve=h._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Xe);return!vt.isInitialized()&&"EXPLICIT"===(null===(Ae=vt.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:Ve})}_removeServiceInstance(Xe,Ve=h._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(Ve)}_addComponent(Xe){(0,h._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,h._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Ce(){const Ge=function _e(Ge){const Xe={},Ve={__esModule:!0,initializeApp:function me(Ne,Y={}){const Ye=h.initializeApp(Ne,Y);if((0,l.r3)(Xe,Ye.name))return Xe[Ye.name];const Be=new Ge(Ye,Ve);return Xe[Ye.name]=Be,Be},app:vt,registerVersion:h.registerVersion,setLogLevel:h.setLogLevel,onLog:h.onLog,apps:null,SDK_VERSION:h.SDK_VERSION,INTERNAL:{registerComponent:function he(Ne){const Y=Ne.name,Ye=Y.replace("-compat","");if(h._registerComponent(Ne)&&"PUBLIC"===Ne.type){const Be=(qe=vt())=>{if("function"!=typeof qe[Ye])throw W.create("invalid-app-argument",{appName:Y});return qe[Ye]()};void 0!==Ne.serviceProps&&(0,l.ZB)(Be,Ne.serviceProps),Ve[Ye]=Be,Ge.prototype[Ye]=function(...qe){return this._getService.bind(this,Y).apply(this,Ne.multipleInstances?qe:[])}}return"PUBLIC"===Ne.type?Ve[Ye]:null},removeApp:function Ae(Ne){delete Xe[Ne]},useAsService:function pe(Ne,Y){return"serverAuth"===Y?null:Y},modularAPIs:h}};function vt(Ne){if(!(0,l.r3)(Xe,Ne=Ne||h._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:Ne});return Xe[Ne]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Ee(){return Object.keys(Xe).map(Ne=>Xe[Ne])}}),vt.App=Ge,Ve}(we);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Xe(Ve){(0,l.ZB)(Ge,Ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ge}(),fe=new J.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=re;!function Pe(Ge){(0,h.registerVersion)("@firebase/app-compat","0.2.12",Ge)}()},6881:(pn,rt,w)=>{w.r(rt),w.d(rt,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>Gn,_addOrOverwriteComponent:()=>ri,_apps:()=>Yt,_clearComponents:()=>$e,_components:()=>an,_getProvider:()=>dn,_registerComponent:()=>Dn,_removeServiceInstance:()=>jn,deleteApp:()=>We,getApp:()=>pi,getApps:()=>Qt,initializeApp:()=>xi,onLog:()=>Le,registerVersion:()=>ze,setLogLevel:()=>ke});var l=w(5861),C=w(4859),h=w(1877),J=w(2090);const we=(Pt,It)=>It.some(xn=>Pt instanceof xn);let oe,W;const re=new WeakMap,fe=new WeakMap,ge=new WeakMap,He=new WeakMap,Pe=new WeakMap;let Xe={get(Pt,It,xn){if(Pt instanceof IDBTransaction){if("done"===It)return fe.get(Pt);if("objectStoreNames"===It)return Pt.objectStoreNames||ge.get(Pt);if("store"===It)return xn.objectStoreNames[1]?void 0:xn.objectStore(xn.objectStoreNames[0])}return me(Pt[It])},set:(Pt,It,xn)=>(Pt[It]=xn,!0),has:(Pt,It)=>Pt instanceof IDBTransaction&&("done"===It||"store"===It)||It in Pt};function vt(Pt){return"function"==typeof Pt?function Ae(Pt){return Pt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pt)?function(...It){return Pt.apply(Ee(this),It),me(re.get(this))}:function(...It){return me(Pt.apply(Ee(this),It))}:function(It,...xn){const qn=Pt.call(Ee(this),It,...xn);return ge.set(qn,It.sort?It.sort():[It]),me(qn)}}(Pt):(Pt instanceof IDBTransaction&&function Ge(Pt){if(fe.has(Pt))return;const It=new Promise((xn,qn)=>{const Pn=()=>{Pt.removeEventListener("complete",Hn),Pt.removeEventListener("error",ui),Pt.removeEventListener("abort",ui)},Hn=()=>{xn(),Pn()},ui=()=>{qn(Pt.error||new DOMException("AbortError","AbortError")),Pn()};Pt.addEventListener("complete",Hn),Pt.addEventListener("error",ui),Pt.addEventListener("abort",ui)});fe.set(Pt,It)}(Pt),we(Pt,function _e(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pt,Xe):Pt)}function me(Pt){if(Pt instanceof IDBRequest)return function at(Pt){const It=new Promise((xn,qn)=>{const Pn=()=>{Pt.removeEventListener("success",Hn),Pt.removeEventListener("error",ui)},Hn=()=>{xn(me(Pt.result)),Pn()},ui=()=>{qn(Pt.error),Pn()};Pt.addEventListener("success",Hn),Pt.addEventListener("error",ui)});return It.then(xn=>{xn instanceof IDBCursor&&re.set(xn,Pt)}).catch(()=>{}),Pe.set(It,Pt),It}(Pt);if(He.has(Pt))return He.get(Pt);const It=vt(Pt);return It!==Pt&&(He.set(Pt,It),Pe.set(It,Pt)),It}const Ee=Pt=>Pe.get(Pt),Ne=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],Ye=new Map;function Be(Pt,It){if(!(Pt instanceof IDBDatabase)||It in Pt||"string"!=typeof It)return;if(Ye.get(It))return Ye.get(It);const xn=It.replace(/FromIndex$/,""),qn=It!==xn,Pn=Y.includes(xn);if(!(xn in(qn?IDBIndex:IDBObjectStore).prototype)||!Pn&&!Ne.includes(xn))return;const Hn=function(){var ui=(0,l.Z)(function*(qi,...vi){const wr=this.transaction(qi,Pn?"readwrite":"readonly");let to=wr.store;return qn&&(to=to.index(vi.shift())),(yield Promise.all([to[xn](...vi),Pn&&wr.done]))[0]});return function(vi){return ui.apply(this,arguments)}}();return Ye.set(It,Hn),Hn}!function Ve(Pt){Xe=Pt(Xe)}(Pt=>({...Pt,get:(It,xn,qn)=>Be(It,xn)||Pt.get(It,xn,qn),has:(It,xn)=>!!Be(It,xn)||Pt.has(It,xn)}));class qe{constructor(It){this.container=It}getPlatformInfoString(){return this.container.getProviders().map(xn=>{if(function xt(Pt){const It=Pt.getComponent();return"VERSION"===It?.type}(xn)){const qn=xn.getImmediate();return`${qn.library}/${qn.version}`}return null}).filter(xn=>xn).join(" ")}}const wn="@firebase/app",pt=new h.Yd("@firebase/app"),ut="[DEFAULT]",Mt={[wn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,an=new Map;function Gn(Pt,It){try{Pt.container.addComponent(It)}catch(xn){pt.debug(`Component ${It.name} failed to register with FirebaseApp ${Pt.name}`,xn)}}function ri(Pt,It){Pt.container.addOrOverwriteComponent(It)}function Dn(Pt){const It=Pt.name;if(an.has(It))return pt.debug(`There were multiple attempts to register component ${It}.`),!1;an.set(It,Pt);for(const xn of Yt.values())Gn(xn,Pt);return!0}function dn(Pt,It){const xn=Pt.container.getProvider("heartbeat").getImmediate({optional:!0});return xn&&xn.triggerHeartbeat(),Pt.container.getProvider(It)}function jn(Pt,It,xn=ut){dn(Pt,It).clearInstance(xn)}function $e(){an.clear()}const Wt=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(It,xn,qn){this._isDeleted=!1,this._options=Object.assign({},It),this._config=Object.assign({},xn),this._name=xn.name,this._automaticDataCollectionEnabled=xn.automaticDataCollectionEnabled,this._container=qn,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(It){this.checkDestroyed(),this._automaticDataCollectionEnabled=It}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(It){this._isDeleted=It}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const di="9.22.2";function xi(Pt,It={}){let xn=Pt;"object"!=typeof It&&(It={name:It});const qn=Object.assign({name:ut,automaticDataCollectionEnabled:!1},It),Pn=qn.name;if("string"!=typeof Pn||!Pn)throw Wt.create("bad-app-name",{appName:String(Pn)});if(xn||(xn=(0,J.aH)()),!xn)throw Wt.create("no-options");const Hn=Yt.get(Pn);if(Hn){if((0,J.vZ)(xn,Hn.options)&&(0,J.vZ)(qn,Hn.config))return Hn;throw Wt.create("duplicate-app",{appName:Pn})}const ui=new C.H0(Pn);for(const vi of an.values())ui.addComponent(vi);const qi=new Sn(xn,qn,ui);return Yt.set(Pn,qi),qi}function pi(Pt=ut){const It=Yt.get(Pt);if(!It&&Pt===ut&&(0,J.aH)())return xi();if(!It)throw Wt.create("no-app",{appName:Pt});return It}function Qt(){return Array.from(Yt.values())}function We(Pt){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(Pt){const It=Pt.name;Yt.has(It)&&(Yt.delete(It),yield Promise.all(Pt.container.getProviders().map(xn=>xn.delete())),Pt.isDeleted=!0)})).apply(this,arguments)}function ze(Pt,It,xn){var qn;let Pn=null!==(qn=Mt[Pt])&&void 0!==qn?qn:Pt;xn&&(Pn+=`-${xn}`);const Hn=Pn.match(/\s|\//),ui=It.match(/\s|\//);if(Hn||ui){const qi=[`Unable to register library "${Pn}" with version "${It}":`];return Hn&&qi.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),Hn&&ui&&qi.push("and"),ui&&qi.push(`version name "${It}" contains illegal characters (whitespace or "/")`),void pt.warn(qi.join(" "))}Dn(new C.wA(`${Pn}-version`,()=>({library:Pn,version:It}),"VERSION"))}function Le(Pt,It){if(null!==Pt&&"function"!=typeof Pt)throw Wt.create("invalid-log-argument");(0,h.Am)(Pt,It)}function ke(Pt){(0,h.Ub)(Pt)}const Ct="firebase-heartbeat-database",$t=1,Re="firebase-heartbeat-store";let ce=null;function H(){return ce||(ce=function he(Pt,It,{blocked:xn,upgrade:qn,blocking:Pn,terminated:Hn}={}){const ui=indexedDB.open(Pt,It),qi=me(ui);return qn&&ui.addEventListener("upgradeneeded",vi=>{qn(me(ui.result),vi.oldVersion,vi.newVersion,me(ui.transaction),vi)}),xn&&ui.addEventListener("blocked",vi=>xn(vi.oldVersion,vi.newVersion,vi)),qi.then(vi=>{Hn&&vi.addEventListener("close",()=>Hn()),Pn&&vi.addEventListener("versionchange",wr=>Pn(wr.oldVersion,wr.newVersion,wr))}).catch(()=>{}),qi}(Ct,$t,{upgrade:(Pt,It)=>{0===It&&Pt.createObjectStore(Re)}}).catch(Pt=>{throw Wt.create("idb-open",{originalErrorMessage:Pt.message})})),ce}function $(){return($=(0,l.Z)(function*(Pt){try{return yield(yield H()).transaction(Re).objectStore(Re).get(Ie(Pt))}catch(It){if(It instanceof J.ZR)pt.warn(It.message);else{const xn=Wt.create("idb-get",{originalErrorMessage:It?.message});pt.warn(xn.message)}}})).apply(this,arguments)}function de(Pt,It){return ae.apply(this,arguments)}function ae(){return(ae=(0,l.Z)(function*(Pt,It){try{const qn=(yield H()).transaction(Re,"readwrite");yield qn.objectStore(Re).put(It,Ie(Pt)),yield qn.done}catch(xn){if(xn instanceof J.ZR)pt.warn(xn.message);else{const qn=Wt.create("idb-set",{originalErrorMessage:xn?.message});pt.warn(qn.message)}}})).apply(this,arguments)}function Ie(Pt){return`${Pt.name}!${Pt.options.appId}`}class q{constructor(It){this.container=It,this._heartbeatsCache=null;const xn=this.container.getProvider("app").getImmediate();this._storage=new Lt(xn),this._heartbeatsCachePromise=this._storage.read().then(qn=>(this._heartbeatsCache=qn,qn))}triggerHeartbeat(){var It=this;return(0,l.Z)(function*(){const qn=It.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pn=De();if(null===It._heartbeatsCache&&(It._heartbeatsCache=yield It._heartbeatsCachePromise),It._heartbeatsCache.lastSentHeartbeatDate!==Pn&&!It._heartbeatsCache.heartbeats.some(Hn=>Hn.date===Pn))return It._heartbeatsCache.heartbeats.push({date:Pn,agent:qn}),It._heartbeatsCache.heartbeats=It._heartbeatsCache.heartbeats.filter(Hn=>{const ui=new Date(Hn.date).valueOf();return Date.now()-ui<=2592e6}),It._storage.overwrite(It._heartbeatsCache)})()}getHeartbeatsHeader(){var It=this;return(0,l.Z)(function*(){if(null===It._heartbeatsCache&&(yield It._heartbeatsCachePromise),null===It._heartbeatsCache||0===It._heartbeatsCache.heartbeats.length)return"";const xn=De(),{heartbeatsToSend:qn,unsentEntries:Pn}=function _t(Pt,It=1024){const xn=[];let qn=Pt.slice();for(const Pn of Pt){const Hn=xn.find(ui=>ui.agent===Pn.agent);if(Hn){if(Hn.dates.push(Pn.date),Kn(xn)>It){Hn.dates.pop();break}}else if(xn.push({agent:Pn.agent,dates:[Pn.date]}),Kn(xn)>It){xn.pop();break}qn=qn.slice(1)}return{heartbeatsToSend:xn,unsentEntries:qn}}(It._heartbeatsCache.heartbeats),Hn=(0,J.L)(JSON.stringify({version:2,heartbeats:qn}));return It._heartbeatsCache.lastSentHeartbeatDate=xn,Pn.length>0?(It._heartbeatsCache.heartbeats=Pn,yield It._storage.overwrite(It._heartbeatsCache)):(It._heartbeatsCache.heartbeats=[],It._storage.overwrite(It._heartbeatsCache)),Hn})()}}function De(){return(new Date).toISOString().substring(0,10)}class Lt{constructor(It){this.app=It,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var It=this;return(0,l.Z)(function*(){return(yield It._canUseIndexedDBPromise)&&(yield function V(Pt){return $.apply(this,arguments)}(It.app))||{heartbeats:[]}})()}overwrite(It){var xn=this;return(0,l.Z)(function*(){var qn;if(yield xn._canUseIndexedDBPromise){const Hn=yield xn.read();return de(xn.app,{lastSentHeartbeatDate:null!==(qn=It.lastSentHeartbeatDate)&&void 0!==qn?qn:Hn.lastSentHeartbeatDate,heartbeats:It.heartbeats})}})()}add(It){var xn=this;return(0,l.Z)(function*(){var qn;if(yield xn._canUseIndexedDBPromise){const Hn=yield xn.read();return de(xn.app,{lastSentHeartbeatDate:null!==(qn=It.lastSentHeartbeatDate)&&void 0!==qn?qn:Hn.lastSentHeartbeatDate,heartbeats:[...Hn.heartbeats,...It.heartbeats]})}})()}}function Kn(Pt){return(0,J.L)(JSON.stringify({version:2,heartbeats:Pt})).length}!function ii(Pt){Dn(new C.wA("platform-logger",It=>new qe(It),"PRIVATE")),Dn(new C.wA("heartbeat",It=>new q(It),"PRIVATE")),ze(wn,"0.9.12",Pt),ze(wn,"0.9.12","esm2017"),ze("fire-js","")}("")},4859:(pn,rt,w)=>{w.d(rt,{H0:()=>_e,wA:()=>h});var l=w(5861),C=w(2090);class h{constructor(re,fe,ge){this.name=re,this.instanceFactory=fe,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const J="[DEFAULT]";class we{constructor(re,fe){this.name=re,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const fe=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(fe)){const ge=new C.BH;if(this.instancesDeferred.set(fe,ge),this.isInitialized(fe)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:fe});He&&ge.resolve(He)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(re){var fe;const ge=this.normalizeInstanceIdentifier(re?.identifier),He=null!==(fe=re?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(Pe){if(He)return null;throw Pe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function W(Ce){return"EAGER"===Ce.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[fe,ge]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(fe);try{const Pe=this.getOrInitializeService({instanceIdentifier:He});ge.resolve(Pe)}catch{}}}}clearInstance(re=J){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,l.Z)(function*(){const fe=Array.from(re.instances.values());yield Promise.all([...fe.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...fe.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=J){return this.instances.has(re)}getOptions(re=J){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:fe={}}=re,ge=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:ge,options:fe});for(const[Pe,at]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(Pe)&&at.resolve(He);return He}onInit(re,fe){var ge;const He=this.normalizeInstanceIdentifier(fe),Pe=null!==(ge=this.onInitCallbacks.get(He))&&void 0!==ge?ge:new Set;Pe.add(re),this.onInitCallbacks.set(He,Pe);const at=this.instances.get(He);return at&&re(at,He),()=>{Pe.delete(re)}}invokeOnInitCallbacks(re,fe){const ge=this.onInitCallbacks.get(fe);if(ge)for(const He of ge)try{He(re,fe)}catch{}}getOrInitializeService({instanceIdentifier:re,options:fe={}}){let ge=this.instances.get(re);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=re,Ce===J?void 0:Ce),options:fe}),this.instances.set(re,ge),this.instancesOptions.set(re,fe),this.invokeOnInitCallbacks(ge,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ge)}catch{}var Ce;return ge||null}normalizeInstanceIdentifier(re=J){return this.component?this.component.multipleInstances?re:J:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const fe=this.getProvider(re.name);if(fe.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);fe.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const fe=new we(re,this);return this.providers.set(re,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(pn,rt,w)=>{w.d(rt,{Am:()=>Ce,Ub:()=>_e,Yd:()=>W,in:()=>C});const l=[];var C=(()=>((C=C||{})[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT",C))();const h={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},J=C.INFO,we={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},oe=(re,fe,...ge)=>{if(fe<re.logLevel)return;const He=(new Date).toISOString(),Pe=we[fe];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Pe](`[${He}]  ${re.name}:`,...ge)};class W{constructor(fe){this.name=fe,this._logLevel=J,this._logHandler=oe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in C))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?h[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...fe),this._logHandler(this,C.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...fe),this._logHandler(this,C.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,C.INFO,...fe),this._logHandler(this,C.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,C.WARN,...fe),this._logHandler(this,C.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...fe),this._logHandler(this,C.ERROR,...fe)}}function _e(re){l.forEach(fe=>{fe.setLogLevel(re)})}function Ce(re,fe){for(const ge of l){let He=null;fe&&fe.level&&(He=h[fe.level]),ge.userLogHandler=null===re?null:(Pe,at,...Ge)=>{const Xe=Ge.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");at>=(He??Pe.logLevel)&&re({level:C[at].toLowerCase(),message:Xe,args:Ge,type:Pe.name})}}}},259:(pn,rt,w)=>{w.d(rt,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=w(6881);(0,l.registerVersion)("firebase","9.22.2","app")},9260:(pn,rt,w)=>{w.d(rt,{Z:()=>l.Z});var l=w(3942);l.Z.registerVersion("firebase","9.22.2","app-compat")},9568:(pn,rt,w)=>{w.r(rt);var l=w(5861),C=w(3942),h=w(1389),J=w(2090),W=(w(6881),w(1877),w(4859));function _e(){return window}function fe(){return fe=(0,l.Z)(function*(H,V,$){var de;const{BuildInfo:ae}=_e();(0,h.as)(V.sessionId,"AuthEvent did not contain a session ID");const Ie=yield function Ve(H){return Ae.apply(this,arguments)}(V.sessionId),Oe={};return(0,h.at)()?Oe.ibi=ae.packageName:(0,h.au)()?Oe.apn=ae.packageName:(0,h.av)(H,"operation-not-supported-in-this-environment"),ae.displayName&&(Oe.appDisplayName=ae.displayName),Oe.sessionId=Ie,(0,h.aw)(H,$,V.type,void 0,null!==(de=V.eventId)&&void 0!==de?de:void 0,Oe)}),fe.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(H){const{BuildInfo:V}=_e(),$={};(0,h.at)()?$.iosBundleId=V.packageName:(0,h.au)()?$.androidPackageName=V.packageName:(0,h.av)(H,"operation-not-supported-in-this-environment"),yield(0,h.ax)(H,$)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(H,V,$){const{cordova:de}=_e();let ae=()=>{};try{yield new Promise((Ie,Oe)=>{let Fe=null;function q(){var Lt;Ie();const Kn=null===(Lt=de.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof Kn&&Kn(),"function"==typeof $?.close&&$.close()}function De(){Fe||(Fe=window.setTimeout(()=>{Oe((0,h.az)(H,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===document?.visibilityState&&De()}V.addPassiveListener(q),document.addEventListener("resume",De,!1),(0,h.au)()&&document.addEventListener("visibilitychange",_t,!1),ae=()=>{V.removePassiveListener(q),document.removeEventListener("resume",De,!1),document.removeEventListener("visibilitychange",_t,!1),Fe&&window.clearTimeout(Fe)}})}finally{ae()}})).apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(H){const V=function vt(H){if((0,h.as)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const V=new ArrayBuffer(H.length),$=new Uint8Array(V);for(let de=0;de<H.length;de++)$[de]=H.charCodeAt(de);return $}(H),$=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array($)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ee extends h.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach($=>$(V)),super.onEvent(V)}initialized(){var V=this;return(0,l.Z)(function*(){yield V.initPromise})()}}function Ne(H){return Y.apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(H){const V=yield qe()._get(xt(H));return V&&(yield qe()._remove(xt(H))),V})).apply(this,arguments)}function Be(){const H=[];for(let $=0;$<20;$++){const de=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return H.join("")}function qe(){return(0,h.aC)(h.b)}function xt(H){return(0,h.aD)("authEvent",H.config.apiKey,H.name)}function pt(H){if(!H?.includes("?"))return{};const[V,...$]=H.split("?");return(0,J.zd)($.join("?"))}const Ut=class Nt{constructor(){this._redirectPersistence=h.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=h.aE,this._overrideRedirectResult=h.aF}_initialize(V){var $=this;return(0,l.Z)(function*(){const de=V._key();let ae=$.eventManagers.get(de);return ae||(ae=new Ee(V),$.eventManagers.set(de,ae),$.attachCallbackListeners(V,ae)),ae})()}_openPopup(V){(0,h.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,$,de,ae){var Ie=this;return(0,l.Z)(function*(){!function Xe(H){var V,$,de,ae,Ie,Oe,Fe,q,De,_t;const Lt=_e();(0,h.aA)("function"==typeof(null===(V=Lt?.universalLinks)||void 0===V?void 0:V.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,h.aA)(typeof(null===($=Lt?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,h.aA)("function"==typeof(null===(Ie=null===(ae=null===(de=Lt?.cordova)||void 0===de?void 0:de.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Ie?void 0:Ie.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,h.aA)("function"==typeof(null===(q=null===(Fe=null===(Oe=Lt?.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===q?void 0:q.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,h.aA)("function"==typeof(null===(_t=null===(De=Lt?.cordova)||void 0===De?void 0:De.InAppBrowser)||void 0===_t?void 0:_t.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Oe=yield Ie._initialize(V);yield Oe.initialized(),Oe.resetRedirect(),(0,h.aG)(),yield Ie._originValidation(V);const Fe=function he(H,V,$=null){return{type:V,eventId:$,urlResponse:null,sessionId:Be(),postBody:null,tenantId:H.tenantId,error:(0,h.az)(H,"no-auth-event")}}(V,de,ae);yield function pe(H,V){return qe()._set(xt(H),V)}(V,Fe);const q=yield function re(H,V,$){return fe.apply(this,arguments)}(V,Fe,$),De=yield function Pe(H){const{cordova:V}=_e();return new Promise($=>{V.plugins.browsertab.isAvailable(de=>{let ae=null;de?V.plugins.browsertab.openUrl(H):ae=V.InAppBrowser.open(H,(0,h.ay)()?"_blank":"_system","location=yes"),$(ae)})})}(q);return function at(H,V,$){return Ge.apply(this,arguments)}(V,Oe,De)})()}_isIframeWebStorageSupported(V,$){throw new Error("Method not implemented.")}_originValidation(V){const $=V._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function ge(H){return He.apply(this,arguments)}(V)),this.originValidationPromises[$]}attachCallbackListeners(V,$){const{universalLinks:de,handleOpenURL:ae,BuildInfo:Ie}=_e(),Oe=setTimeout((0,l.Z)(function*(){yield Ne(V),$.onEvent(en())}),500),Fe=function(){var _t=(0,l.Z)(function*(Lt){clearTimeout(Oe);const Kn=yield Ne(V);let ii=null;Kn&&Lt?.url&&(ii=function Ye(H,V){var $,de;const ae=function On(H){const V=pt(H),$=V.link?decodeURIComponent(V.link):void 0,de=pt($).link,ae=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return pt(ae).link||ae||de||$||H}(V);if(ae.includes("/__/auth/callback")){const Ie=pt(ae),Oe=Ie.firebaseError?function wn(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(Ie.firebaseError)):null,Fe=null===(de=null===($=Oe?.code)||void 0===$?void 0:$.split("auth/"))||void 0===de?void 0:de[1],q=Fe?(0,h.az)(Fe):null;return q?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:q,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:ae,postBody:null}}return null}(Kn,Lt.url)),$.onEvent(ii||en())});return function(Kn){return _t.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,Fe);const q=ae,De=`${Ie.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var _t=(0,l.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(De)&&Fe({url:Lt}),"function"==typeof q)try{q(Lt)}catch(Kn){console.error(Kn)}});return function(Lt){return _t.apply(this,arguments)}}()}};function en(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,h.az)("no-auth-event")}}function Ft(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function ot(H=(0,J.z$)()){return!("file:"!==Ft()&&"ionic:"!==Ft()&&"capacitor:"!==Ft()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function At(){try{const H=self.localStorage,V=h.aL();if(H)return H.setItem(V,"1"),H.removeItem(V),!function kt(H=(0,J.z$)()){return function yt(){return(0,J.w1)()&&11===document?.documentMode}()||function zt(H=(0,J.z$)()){return/Edge\/\d+/.test(H)}(H)}()||(0,J.hl)()}catch{return dt()&&(0,J.hl)()}return!1}function dt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ke(){return(function Qe(){return"http:"===Ft()||"https:"===Ft()}()||(0,J.ru)()||ot())&&!function Ot(){return(0,J.b$)()||(0,J.UG)()}()&&At()&&!dt()}function Zt(){return ot()&&typeof document<"u"}function ln(){return(ln=(0,l.Z)(function*(){return!!Zt()&&new Promise(H=>{const V=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),H(!0)})})})).apply(this,arguments)}const ue={LOCAL:"local",NONE:"none",SESSION:"session"},Ue=h.aA,ht="persistence";function Mt(H){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(H){yield H._initializationPromise;const V=Gn(),$=h.aD(ht,H.config.apiKey,H.name);V&&V.setItem($,H._getPersistence())})).apply(this,arguments)}function Gn(){var H;try{return(null===(H=function Tt(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const ri=h.aA;class Dn{constructor(){this.browserResolver=h.aC(h.k),this.cordovaResolver=h.aC(Ut),this.underlyingResolver=null,this._redirectPersistence=h.a,this._completeRedirectFn=h.aE,this._overrideRedirectResult=h.aF}_initialize(V){var $=this;return(0,l.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,$,de,ae){var Ie=this;return(0,l.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openPopup(V,$,de,ae)})()}_openRedirect(V,$,de,ae){var Ie=this;return(0,l.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openRedirect(V,$,de,ae)})()}_isIframeWebStorageSupported(V,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,$)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ri(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,l.Z)(function*(){if(V.underlyingResolver)return;const $=yield function yn(){return ln.apply(this,arguments)}();V.underlyingResolver=$?V.cordovaResolver:V.browserResolver})()}}function dn(H){return H.unwrap()}function $e(H){return Wt(H)}function Wt(H){const{_tokenResponse:V}=H instanceof J.ZR?H.customData:H;if(!V)return null;if(!(H instanceof J.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return h.P.credentialFromResult(H);const $=V.providerId;if(!$||$===h.p.PASSWORD)return null;let de;switch($){case h.p.GOOGLE:de=h.V;break;case h.p.FACEBOOK:de=h.U;break;case h.p.GITHUB:de=h.W;break;case h.p.TWITTER:de=h.Z;break;default:const{oauthIdToken:ae,oauthAccessToken:Ie,oauthTokenSecret:Oe,pendingToken:Fe,nonce:q}=V;return Ie||Oe||ae||Fe?Fe?$.startsWith("saml.")?h.aO._create($,Fe):h.L._fromParams({providerId:$,signInMethod:$,pendingToken:Fe,idToken:ae,accessToken:Ie}):new h.X($).credential({idToken:ae,accessToken:Ie,rawNonce:q}):null}return H instanceof J.ZR?de.credentialFromError(H):de.credentialFromResult(H)}function Sn(H,V){return V.catch($=>{throw $ instanceof J.ZR&&function Dt(H,V){var $;const de=null===($=V.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new pi(H,h.aq(H,V));else if(de){const ae=Wt(V),Ie=V;ae&&(Ie.credential=ae,Ie.tenantId=de.tenantId||void 0,Ie.email=de.email||void 0,Ie.phoneNumber=de.phoneNumber||void 0)}}(H,$),$}).then($=>{const ae=$.user;return{operationType:$.operationType,credential:$e($),additionalUserInfo:h.ao($),user:Qt.getOrCreate(ae)}})}function di(H,V){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(H,V){const $=yield V;return{verificationId:$.verificationId,confirm:de=>Sn(H,$.confirm(de))}})).apply(this,arguments)}class pi{constructor(V,$){this.resolver=$,this.auth=function jn(H){return H.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return Sn(dn(this.auth),this.resolver.resolveSignIn(V))}}class Qt{constructor(V){this._delegate=V,this.multiFactor=h.ar(V)}static getOrCreate(V){return Qt.USER_MAP.has(V)||Qt.USER_MAP.set(V,new Qt(V)),Qt.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var $=this;return(0,l.Z)(function*(){return Sn($.auth,h.a0($._delegate,V))})()}linkWithPhoneNumber(V,$){var de=this;return(0,l.Z)(function*(){return di(de.auth,h.l(de._delegate,V,$))})()}linkWithPopup(V){var $=this;return(0,l.Z)(function*(){return Sn($.auth,h.d($._delegate,V,Dn))})()}linkWithRedirect(V){var $=this;return(0,l.Z)(function*(){return yield Mt(h.aH($.auth)),h.g($._delegate,V,Dn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var $=this;return(0,l.Z)(function*(){return Sn($.auth,h.a1($._delegate,V))})()}reauthenticateWithPhoneNumber(V,$){return di(this.auth,h.r(this._delegate,V,$))}reauthenticateWithPopup(V){return Sn(this.auth,h.e(this._delegate,V,Dn))}reauthenticateWithRedirect(V){var $=this;return(0,l.Z)(function*(){return yield Mt(h.aH($.auth)),h.h($._delegate,V,Dn)})()}sendEmailVerification(V){return h.ae(this._delegate,V)}unlink(V){var $=this;return(0,l.Z)(function*(){return yield h.an($._delegate,V),$})()}updateEmail(V){return h.aj(this._delegate,V)}updatePassword(V){return h.ak(this._delegate,V)}updatePhoneNumber(V){return h.u(this._delegate,V)}updateProfile(V){return h.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,$){return h.af(this._delegate,V,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qt.USER_MAP=new WeakMap;const We=h.aA;let lt=(()=>{class H{constructor($,de){if(this.app=$,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=$.options;We(ae,"invalid-api-key",{appName:$.name}),We(ae,"invalid-api-key",{appName:$.name});const Ie=typeof window<"u"?Dn:void 0;this._delegate=de.initialize({options:{persistence:Le(ae,$.name),popupRedirectResolver:Ie}}),this._delegate._updateErrorMap(h.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,de){h.I(this._delegate,$,de)}applyActionCode($){return h.a5(this._delegate,$)}checkActionCode($){return h.a6(this._delegate,$)}confirmPasswordReset($,de){return h.a4(this._delegate,$,de)}createUserWithEmailAndPassword($,de){var ae=this;return(0,l.Z)(function*(){return Sn(ae._delegate,h.a8(ae._delegate,$,de))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return h.ad(this._delegate,$)}isSignInWithEmailLink($){return h.ab(this._delegate,$)}getRedirectResult(){var $=this;return(0,l.Z)(function*(){We(Ke(),$._delegate,"operation-not-supported-in-this-environment");const de=yield h.j($._delegate,Dn);return de?Sn($._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging($){!function qt(H,V){(0,h.aH)(H)._logFramework(V)}(this._delegate,$)}onAuthStateChanged($,de,ae){const{next:Ie,error:Oe,complete:Fe}=ze($,de,ae);return this._delegate.onAuthStateChanged(Ie,Oe,Fe)}onIdTokenChanged($,de,ae){const{next:Ie,error:Oe,complete:Fe}=ze($,de,ae);return this._delegate.onIdTokenChanged(Ie,Oe,Fe)}sendSignInLinkToEmail($,de){return h.aa(this._delegate,$,de)}sendPasswordResetEmail($,de){return h.a3(this._delegate,$,de||void 0)}setPersistence($){var de=this;return(0,l.Z)(function*(){let ae;switch(function ut(H,V){Ue(Object.values(ue).includes(V),H,"invalid-persistence-type"),(0,J.b$)()?Ue(V!==ue.SESSION,H,"unsupported-persistence-type"):(0,J.UG)()?Ue(V===ue.NONE,H,"unsupported-persistence-type"):dt()?Ue(V===ue.NONE||V===ue.LOCAL&&(0,J.hl)(),H,"unsupported-persistence-type"):Ue(V===ue.NONE||At(),H,"unsupported-persistence-type")}(de._delegate,$),$){case ue.SESSION:ae=h.a;break;case ue.LOCAL:ae=(yield h.aC(h.i)._isAvailable())?h.i:h.b;break;case ue.NONE:ae=h.N;break;default:return h.av("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Sn(this._delegate,h._(this._delegate))}signInWithCredential($){return Sn(this._delegate,h.$(this._delegate,$))}signInWithCustomToken($){return Sn(this._delegate,h.a2(this._delegate,$))}signInWithEmailAndPassword($,de){return Sn(this._delegate,h.a9(this._delegate,$,de))}signInWithEmailLink($,de){return Sn(this._delegate,h.ac(this._delegate,$,de))}signInWithPhoneNumber($,de){return di(this._delegate,h.s(this._delegate,$,de))}signInWithPopup($){var de=this;return(0,l.Z)(function*(){return We(Ke(),de._delegate,"operation-not-supported-in-this-environment"),Sn(de._delegate,h.c(de._delegate,$,Dn))})()}signInWithRedirect($){var de=this;return(0,l.Z)(function*(){return We(Ke(),de._delegate,"operation-not-supported-in-this-environment"),yield Mt(de._delegate),h.f(de._delegate,$,Dn)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return h.a7(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=ue,H})();function ze(H,V,$){let de=H;"function"!=typeof H&&({next:de,error:V,complete:$}=H);const ae=de;return{next:Oe=>ae(Oe&&Qt.getOrCreate(Oe)),error:V,complete:$}}function Le(H,V){const $=function an(H,V){const $=Gn();if(!$)return[];const de=h.aD(ht,H,V);switch($.getItem(de)){case ue.NONE:return[h.N];case ue.LOCAL:return[h.i,h.a];case ue.SESSION:return[h.a];default:return[]}}(H,V);if(typeof self<"u"&&!$.includes(h.i)&&$.push(h.i),typeof window<"u")for(const de of[h.b,h.a])$.includes(de)||$.push(de);return $.includes(h.N)||$.push(h.N),$}class ke{constructor(){this.providerId="phone",this._delegate=new h.P(dn(C.Z.auth()))}static credential(V,$){return h.P.credential(V,$)}verifyPhoneNumber(V,$){return this._delegate.verifyPhoneNumber(V,$)}unwrap(){return this._delegate}}ke.PHONE_SIGN_IN_METHOD=h.P.PHONE_SIGN_IN_METHOD,ke.PROVIDER_ID=h.P.PROVIDER_ID;const Ct=h.aA;class $t{constructor(V,$,de=C.Z.app()){var ae;Ct(null===(ae=de.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new h.R(V,$,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(H){H.INTERNAL.registerComponent(new W.wA("auth-compat",V=>{const $=V.getProvider("app-compat").getImmediate(),de=V.getProvider("auth");return new lt($,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:h.A.EMAIL_SIGNIN,PASSWORD_RESET:h.A.PASSWORD_RESET,RECOVER_EMAIL:h.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:h.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:h.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:h.A.VERIFY_EMAIL}},EmailAuthProvider:h.Q,FacebookAuthProvider:h.U,GithubAuthProvider:h.W,GoogleAuthProvider:h.V,OAuthProvider:h.X,SAMLAuthProvider:h.Y,PhoneAuthProvider:ke,PhoneMultiFactorGenerator:h.m,RecaptchaVerifier:$t,TwitterAuthProvider:h.Z,Auth:lt,AuthCredential:h.J,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.4.2")}(C.Z)},5861:(pn,rt,w)=>{function l(h,J,we,oe,W,_e,Ce){try{var re=h[_e](Ce),fe=re.value}catch(ge){return void we(ge)}re.done?J(fe):Promise.resolve(fe).then(oe,W)}function C(h){return function(){var J=this,we=arguments;return new Promise(function(oe,W){var _e=h.apply(J,we);function Ce(fe){l(_e,oe,W,Ce,re,"next",fe)}function re(fe){l(_e,oe,W,Ce,re,"throw",fe)}Ce(void 0)})}}w.d(rt,{Z:()=>C})},7582:(pn,rt,w)=>{function J(pt,gt){var Nt={};for(var Ut in pt)Object.prototype.hasOwnProperty.call(pt,Ut)&&gt.indexOf(Ut)<0&&(Nt[Ut]=pt[Ut]);if(null!=pt&&"function"==typeof Object.getOwnPropertySymbols){var en=0;for(Ut=Object.getOwnPropertySymbols(pt);en<Ut.length;en++)gt.indexOf(Ut[en])<0&&Object.prototype.propertyIsEnumerable.call(pt,Ut[en])&&(Nt[Ut[en]]=pt[Ut[en]])}return Nt}function ge(pt,gt,Nt,Ut){return new(Nt||(Nt=Promise))(function(qt,cn){function bn(Qe){try{Ft(Ut.next(Qe))}catch(ot){cn(ot)}}function sn(Qe){try{Ft(Ut.throw(Qe))}catch(ot){cn(ot)}}function Ft(Qe){Qe.done?qt(Qe.value):function en(qt){return qt instanceof Nt?qt:new Nt(function(cn){cn(qt)})}(Qe.value).then(bn,sn)}Ft((Ut=Ut.apply(pt,gt||[])).next())})}function me(pt){return this instanceof me?(this.v=pt,this):new me(pt)}function Ee(pt,gt,Nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var en,Ut=Nt.apply(pt,gt||[]),qt=[];return en={},cn("next"),cn("throw"),cn("return"),en[Symbol.asyncIterator]=function(){return this},en;function cn(Ot){Ut[Ot]&&(en[Ot]=function(yt){return new Promise(function(zt,kt){qt.push([Ot,yt,zt,kt])>1||bn(Ot,yt)})})}function bn(Ot,yt){try{!function sn(Ot){Ot.value instanceof me?Promise.resolve(Ot.value.v).then(Ft,Qe):ot(qt[0][2],Ot)}(Ut[Ot](yt))}catch(zt){ot(qt[0][3],zt)}}function Ft(Ot){bn("next",Ot)}function Qe(Ot){bn("throw",Ot)}function ot(Ot,yt){Ot(yt),qt.shift(),qt.length&&bn(qt[0][0],qt[0][1])}}function pe(pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Nt,gt=pt[Symbol.asyncIterator];return gt?gt.call(pt):(pt=function Ge(pt){var gt="function"==typeof Symbol&&Symbol.iterator,Nt=gt&&pt[gt],Ut=0;if(Nt)return Nt.call(pt);if(pt&&"number"==typeof pt.length)return{next:function(){return pt&&Ut>=pt.length&&(pt=void 0),{value:pt&&pt[Ut++],done:!pt}}};throw new TypeError(gt?"Object is not iterable.":"Symbol.iterator is not defined.")}(pt),Nt={},Ut("next"),Ut("throw"),Ut("return"),Nt[Symbol.asyncIterator]=function(){return this},Nt);function Ut(qt){Nt[qt]=pt[qt]&&function(cn){return new Promise(function(bn,sn){!function en(qt,cn,bn,sn){Promise.resolve(sn).then(function(Ft){qt({value:Ft,done:bn})},cn)}(bn,sn,(cn=pt[qt](cn)).done,cn.value)})}}}w.d(rt,{FC:()=>Ee,KL:()=>pe,_T:()=>J,mG:()=>ge,qq:()=>me})}},pn=>{pn(pn.s=7655)}]);