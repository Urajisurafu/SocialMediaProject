"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[179],{6217:(gn,nt,E)=>{E.d(nt,{nm:()=>Io});var d=E(4976);E(2223),E(259);var ue=E(5861),De=E(6881),be=E(4859),Ae=E(2090),$e=E(1877);const K=new Map,Ge={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function ze(pt){return K.get(pt)||Object.assign({},Ge)}function vn(){return Fe}const kn="https://content-firebaseappcheck.googleapis.com/v1",At="exchangeDebugToken",Rt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Gt{constructor(lt,Ot,dn,pn,sn){if(this.operation=lt,this.retryPolicy=Ot,this.getWaitDuration=dn,this.lowerBound=pn,this.upperBound=sn,this.pending=null,this.nextErrorWaitInterval=pn,pn>sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(lt){var Ot=this;return(0,ue.Z)(function*(){Ot.stop();try{Ot.pending=new Ae.BH,yield function ln(pt){return new Promise(lt=>{setTimeout(lt,pt)})}(Ot.getNextRun(lt)),Ot.pending.resolve(),yield Ot.pending.promise,Ot.pending=new Ae.BH,yield Ot.operation(),Ot.pending.resolve(),yield Ot.pending.promise,Ot.process(!0).catch(()=>{})}catch(dn){Ot.retryPolicy(dn)?Ot.process(!1).catch(()=>{}):Ot.stop()}})()}getNextRun(lt){if(lt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ot=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ot}}}const rn=new Ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ke(pt){if(!ze(pt).activated)throw rn.create("use-before-activation",{appName:pt.name})}function mt(pt,lt){return jt.apply(this,arguments)}function jt(){return(jt=(0,ue.Z)(function*({url:pt,body:lt},Ot){const dn={"Content-Type":"application/json"},pn=Ot.getImmediate({optional:!0});if(pn){const rr=yield pn.getHeartbeatsHeader();rr&&(dn["X-Firebase-Client"]=rr)}const sn={method:"POST",body:JSON.stringify(lt),headers:dn};let An,Xn;try{An=yield fetch(pt,sn)}catch(rr){throw rn.create("fetch-network-error",{originalErrorMessage:rr?.message})}if(200!==An.status)throw rn.create("fetch-status-error",{httpStatus:An.status});try{Xn=yield An.json()}catch(rr){throw rn.create("fetch-parse-error",{originalErrorMessage:rr?.message})}const hi=Xn.ttl.match(/^([\d.]+)(s)$/);if(!hi||!hi[2]||isNaN(Number(hi[1])))throw rn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Xn.ttl}`});const _r=1e3*Number(hi[1]),Dr=Date.now();return{token:Xn.token,expireTimeMillis:Dr+_r,issuedAtTimeMillis:Dr}})).apply(this,arguments)}function Xt(pt,lt){const{projectId:Ot,appId:dn,apiKey:pn}=pt.options;return{url:`${kn}/projects/${Ot}/apps/${dn}:${At}?key=${pn}`,body:{debug_token:lt}}}const bn="firebase-app-check-database",Zn=1,pi="firebase-app-check-store";let Bt=null;function ke(){return(ke=(0,ue.Z)(function*(pt,lt){const dn=(yield function ce(){return Bt||(Bt=new Promise((pt,lt)=>{try{const Ot=indexedDB.open(bn,Zn);Ot.onsuccess=dn=>{pt(dn.target.result)},Ot.onerror=dn=>{var pn;lt(rn.create("storage-open",{originalErrorMessage:null===(pn=dn.target.error)||void 0===pn?void 0:pn.message}))},Ot.onupgradeneeded=dn=>{0===dn.oldVersion&&dn.target.result.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(Ot){lt(rn.create("storage-open",{originalErrorMessage:Ot?.message}))}}),Bt)}()).transaction(pi,"readwrite"),sn=dn.objectStore(pi).put({compositeKey:pt,value:lt});return new Promise((An,Xn)=>{sn.onsuccess=hi=>{An()},dn.onerror=hi=>{var _r;Xn(rn.create("storage-set",{originalErrorMessage:null===(_r=hi.target.error)||void 0===_r?void 0:_r.message}))}})})).apply(this,arguments)}const Wt=new $e.Yd("@firebase/app-check");function _t(pt,lt){return(0,Ae.hl)()?function ft(pt,lt){return function qe(pt,lt){return ke.apply(this,arguments)}(function Kt(pt){return`${pt.options.appId}-${pt.name}`}(pt),lt)}(pt,lt).catch(Ot=>{Wt.warn(`Failed to write token to IndexedDB. Error: ${Ot}`)}):Promise.resolve()}function _i(){return vn().enabled}function Ri(){return yi.apply(this,arguments)}function yi(){return(yi=(0,ue.Z)(function*(){const pt=vn();if(pt.enabled&&pt.token)return pt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Je={error:"UNKNOWN_ERROR"};function rt(pt){return Ae.US.encodeString(JSON.stringify(pt),!1)}function Be(pt){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,ue.Z)(function*(pt,lt=!1){const Ot=pt.app;Ke(Ot);const dn=ze(Ot);let sn,pn=dn.token;if(pn&&!z(pn)&&(dn.token=void 0,pn=void 0),!pn){const hi=yield dn.cachedTokenPromise;hi&&(z(hi)?pn=hi:yield _t(Ot,void 0))}if(!lt&&pn&&z(pn))return{token:pn.token};let Xn,An=!1;if(_i()){dn.exchangeTokenPromise||(dn.exchangeTokenPromise=mt(Xt(Ot,yield Ri()),pt.heartbeatServiceProvider).finally(()=>{dn.exchangeTokenPromise=void 0}),An=!0);const hi=yield dn.exchangeTokenPromise;return yield _t(Ot,hi),dn.token=hi,{token:hi.token}}try{dn.exchangeTokenPromise||(dn.exchangeTokenPromise=dn.provider.getToken().finally(()=>{dn.exchangeTokenPromise=void 0}),An=!0),pn=yield ze(Ot).exchangeTokenPromise}catch(hi){"appCheck/throttled"===hi.code?Wt.warn(hi.message):Wt.error(hi),sn=hi}return pn?sn?Xn=z(pn)?{token:pn.token,internalError:sn}:le(sn):(Xn={token:pn.token},dn.token=pn,yield _t(Ot,pn)):Xn=le(sn),An&&function V(pt,lt){const Ot=ze(pt).tokenObservers;for(const dn of Ot)try{"EXTERNAL"===dn.type&&null!=lt.error?dn.error(lt.error):dn.next(lt)}catch{}}(Ot,Xn),Xn})).apply(this,arguments)}function Se(pt){return wt.apply(this,arguments)}function wt(){return(wt=(0,ue.Z)(function*(pt){const lt=pt.app;Ke(lt);const{provider:Ot}=ze(lt);if(_i()){const dn=yield Ri(),{token:pn}=yield mt(Xt(lt,dn),pt.heartbeatServiceProvider);return{token:pn}}{const{token:dn}=yield Ot.getToken();return{token:dn}}})).apply(this,arguments)}function Me(pt,lt){const Ot=ze(pt),dn=Ot.tokenObservers.filter(pn=>pn.next!==lt);0===dn.length&&Ot.tokenRefresher&&Ot.tokenRefresher.isRunning()&&Ot.tokenRefresher.stop(),Ot.tokenObservers=dn}function oe(pt){const{app:lt}=pt,Ot=ze(lt);let dn=Ot.tokenRefresher;dn||(dn=function H(pt){const{app:lt}=pt;return new Gt((0,ue.Z)(function*(){let dn;if(dn=ze(lt).token?yield Be(pt,!0):yield Be(pt),dn.error)throw dn.error;if(dn.internalError)throw dn.internalError}),()=>!0,()=>{const Ot=ze(lt);if(Ot.token){let dn=Ot.token.issuedAtTimeMillis+.5*(Ot.token.expireTimeMillis-Ot.token.issuedAtTimeMillis)+3e5;return dn=Math.min(dn,Ot.token.expireTimeMillis-3e5),Math.max(0,dn-Date.now())}return 0},Rt.RETRIAL_MIN_WAIT,Rt.RETRIAL_MAX_WAIT)}(pt),Ot.tokenRefresher=dn),!dn.isRunning()&&Ot.isTokenAutoRefreshEnabled&&dn.start()}function z(pt){return pt.expireTimeMillis-Date.now()>0}function le(pt){return{token:rt(Je),error:pt}}class re{constructor(lt,Ot){this.app=lt,this.heartbeatServiceProvider=Ot}_delete(){const{tokenObservers:lt}=ze(this.app);for(const Ot of lt)Me(this.app,Ot.next);return Promise.resolve()}}const Yo="app-check-internal";!function yo(){(0,De._registerComponent)(new be.wA("app-check",pt=>function ve(pt,lt){return new re(pt,lt)}(pt.getProvider("app").getImmediate(),pt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((pt,lt,Ot)=>{pt.getProvider(Yo).initialize()})),(0,De._registerComponent)(new be.wA(Yo,pt=>function xt(pt){return{getToken:lt=>Be(pt,lt),getLimitedUseToken:()=>Se(pt),addTokenListener:lt=>function Vt(pt,lt,Ot,dn){const{app:pn}=pt,sn=ze(pn);if(sn.tokenObservers=[...sn.tokenObservers,{next:Ot,error:dn,type:lt}],sn.token&&z(sn.token)){const Xn=sn.token;Promise.resolve().then(()=>{Ot({token:Xn.token}),oe(pt)}).catch(()=>{})}sn.cachedTokenPromise.then(()=>oe(pt))}(pt,"INTERNAL",lt),removeTokenListener:lt=>Me(pt.app,lt)}}(pt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)("@firebase/app-check","0.8.0")}();class Io{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},1205:(gn,nt,E)=>{E.d(nt,{zQ:()=>kn,rT:()=>Fe,f7:()=>vt,L6:()=>K,_Q:()=>Ge,lh:()=>ze,Qv:()=>$e,nw:()=>vn});var d=E(2223),B=E(7579),m=E(9646),ne=E(9751),xe=E(8996),ae=E(6451),Z=E(5363),_e=E(3900),Ee=E(4004),se=E(6063);class de extends B.x{constructor(At=1/0,Rt=1/0,qt=se.l){super(),this._bufferSize=At,this._windowTime=Rt,this._timestampProvider=qt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Rt===1/0,this._bufferSize=Math.max(1,At),this._windowTime=Math.max(1,Rt)}next(At){const{isStopped:Rt,_buffer:qt,_infiniteTimeWindow:Gt,_timestampProvider:ln,_windowTime:_n}=this;Rt||(qt.push(At),!Gt&&qt.push(ln.now()+_n)),this._trimBuffer(),super.next(At)}_subscribe(At){this._throwIfClosed(),this._trimBuffer();const Rt=this._innerSubscribe(At),{_infiniteTimeWindow:qt,_buffer:Gt}=this,ln=Gt.slice();for(let _n=0;_n<ln.length&&!At.closed;_n+=qt?1:2)At.next(ln[_n]);return this._checkFinalizedStatuses(At),Rt}_trimBuffer(){const{_bufferSize:At,_timestampProvider:Rt,_buffer:qt,_infiniteTimeWindow:Gt}=this,ln=(Gt?1:2)*At;if(At<1/0&&ln<qt.length&&qt.splice(0,qt.length-ln),!Gt){const _n=Rt.now();let rn=0;for(let Mt=1;Mt<qt.length&&qt[Mt]<=_n;Mt+=2)rn=Mt;rn&&qt.splice(0,rn+1)}}}var me=E(3099);function Xe(ht,At,Rt){let qt,Gt=!1;return ht&&"object"==typeof ht?({bufferSize:qt=1/0,windowTime:At=1/0,refCount:Gt=!1,scheduler:Rt}=ht):qt=ht??1/0,(0,me.B)({connector:()=>new de(qt,At,Rt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Gt})}var Ne=E(590),dt=E(576);function it(ht,At){return(0,dt.m)(At)?(0,_e.w)(()=>ht,At):(0,_e.w)(()=>ht)}var Le=E(9468),He=E(9300),Re=E(4976),yt=E(2011),ue=E(4755),De=E(6217);E(9260);const $e=new d.OlP("angularfire2.auth.use-emulator"),K=new d.OlP("angularfire2.auth.settings"),Ge=new d.OlP("angularfire2.auth.tenant-id"),Fe=new d.OlP("angularfire2.auth.langugage-code"),ze=new d.OlP("angularfire2.auth.use-device-language"),vt=new d.OlP("angularfire.auth.persistence"),vn=(ht,At,Rt,qt,Gt,ln,_n,rn)=>(0,yt.cc)(`${ht.name}.auth`,"AngularFireAuth",ht.name,()=>{const Mt=At.runOutsideAngular(()=>ht.auth());if(Rt&&Mt.useEmulator(...Rt),qt&&(Mt.tenantId=qt),Mt.languageCode=Gt,ln&&Mt.useDeviceLanguage(),_n)for(const[Ke,Qe]of Object.entries(_n))Mt.settings[Ke]=Qe;return rn&&Mt.setPersistence(rn),Mt},[Rt,qt,Gt,ln,_n,rn]);let kn=(()=>{class ht{constructor(Rt,qt,Gt,ln,_n,rn,Mt,Ke,Qe,St,mt,jt){const Tt=new B.x,cn=(0,m.of)(void 0).pipe((0,Z.Q)(_n.outsideAngular),(0,_e.w)(()=>ln.runOutsideAngular(()=>Promise.resolve().then(E.bind(E,9568)))),(0,Ee.U)(()=>(0,yt.on)(Rt,ln,qt)),(0,Ee.U)(Xt=>vn(Xt,ln,rn,Ke,Qe,St,Mt,mt)),Xe({bufferSize:1,refCount:!1}));if((0,ue.PM)(Gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,m.of)(null);else{cn.pipe((0,Ne.P)()).subscribe();const bn=cn.pipe((0,_e.w)(Gn=>Gn.getRedirectResult().then(Bt=>Bt,()=>null)),Re.iC,Xe({bufferSize:1,refCount:!1})),Zn=cn.pipe((0,_e.w)(Gn=>new ne.y(Bt=>({unsubscribe:ln.runOutsideAngular(()=>Gn.onAuthStateChanged(ce=>Bt.next(ce),ce=>Bt.error(ce),()=>Bt.complete()))})))),pi=cn.pipe((0,_e.w)(Gn=>new ne.y(Bt=>({unsubscribe:ln.runOutsideAngular(()=>Gn.onIdTokenChanged(ce=>Bt.next(ce),ce=>Bt.error(ce),()=>Bt.complete()))}))));this.authState=bn.pipe(it(Zn),(0,Le.R)(_n.outsideAngular),(0,Z.Q)(_n.insideAngular)),this.user=bn.pipe(it(pi),(0,Le.R)(_n.outsideAngular),(0,Z.Q)(_n.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Gn=>Gn?(0,xe.D)(Gn.getIdToken()):(0,m.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Gn=>Gn?(0,xe.D)(Gn.getIdTokenResult()):(0,m.of)(null))),this.credential=(0,ae.T)(bn,Tt,this.authState.pipe((0,He.h)(Gn=>!Gn))).pipe((0,Ee.U)(Gn=>Gn?.user?Gn:null),(0,Le.R)(_n.outsideAngular),(0,Z.Q)(_n.insideAngular))}return(0,yt.pX)(this,cn,ln,{spy:{apply:(Xt,bn,Zn)=>{(Xt.startsWith("signIn")||Xt.startsWith("createUser"))&&Zn.then(pi=>Tt.next(pi))}}})}}return ht.\u0275fac=function(Rt){return new(Rt||ht)(d.LFG(yt.Dh),d.LFG(yt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Re.HU),d.LFG($e,8),d.LFG(K,8),d.LFG(Ge,8),d.LFG(Fe,8),d.LFG(ze,8),d.LFG(vt,8),d.LFG(De.nm,8))},ht.\u0275prov=d.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"any"}),ht})()},1762:(gn,nt,E)=>{E.d(nt,{ST:()=>qv,yb:()=>Mu});var d=E(2223),B=E(4986),m=E(9751),ne=E(8996),xe=E(9646),ae=E(4976),Z=E(8675),_e=E(4482),Ee=E(5403);function se(){return(0,_e.e)((r,e)=>{let t,o=!1;r.subscribe((0,Ee.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var K,de=E(4004),me=E(5026),Xe=E(1884),Ne=E(9300),dt=E(2011),it=E(4755),He=(E(9568),E(3942)),Re=E(5861),yt=E(6881),ue=E(4859),De=E(1877),be=E(2090),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={},Ge=Ge||{},Fe=Ae||self;function ze(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function vt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var kn="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function ht(r,e,t){return r.call.apply(r.bind,arguments)}function At(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Rt(r,e,t){return(Rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:At).apply(null,arguments)}function qt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Gt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var p=Array(arguments.length-2),M=2;M<arguments.length;M++)p[M-2]=arguments[M];return e.prototype[a].apply(o,p)}}function ln(){this.s=this.s,this.o=this.o}ln.prototype.s=!1,ln.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vn(r){Object.prototype.hasOwnProperty.call(r,kn)&&r[kn]||(r[kn]=++ut)}(this)},ln.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Mt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Ke(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ze(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let p=0;p<u;p++)r[a+p]=o[p]}else r.push(o)}}function Qe(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Fe.addEventListener("test",()=>{},e),Fe.removeEventListener("test",()=>{},e)}catch{}return r}();function mt(r){return/^[\s\xa0]*$/.test(r)}function jt(){var r=Fe.navigator;return r&&(r=r.userAgent)?r:""}function Tt(r){return-1!=jt().indexOf(r)}function cn(r){return cn[" "](r),r}cn[" "]=function(){};var ft,r,bn=Tt("Opera"),Zn=Tt("Trident")||Tt("MSIE"),pi=Tt("Edge"),Gn=pi||Zn,Bt=Tt("Gecko")&&!(-1!=jt().toLowerCase().indexOf("webkit")&&!Tt("Edge"))&&!(Tt("Trident")||Tt("MSIE"))&&!Tt("Edge"),ce=-1!=jt().toLowerCase().indexOf("webkit")&&!Tt("Edge");function Ve(){var r=Fe.document;return r?r.documentMode:void 0}e:{var st="",Ze=(r=jt(),Bt?/rv:([^\);]+)(\)|;)/.exec(r):pi?/Edge\/([\d\.]+)/.exec(r):Zn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ce?/WebKit\/(\S+)/.exec(r):bn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ze&&(st=Ze?Ze[1]:""),Zn){var qe=Ve();if(null!=qe&&qe>parseFloat(st)){ft=String(qe);break e}}ft=st}var on=Fe.document&&Zn&&(Ve()||parseInt(ft,10))||void 0;function Kt(r,e){if(Qe.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Bt){e:{try{cn(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Wt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Kt.$.h.call(this)}}Gt(Kt,Qe);var Wt={2:"touch",3:"pen",4:"mouse"};Kt.prototype.h=function(){Kt.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var On="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function _t(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++Ie,this.fa=this.ia=!1}function Ht(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Sn(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Ri(r){const e={};for(const t in r)e[t]=r[t];return e}const yi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zt(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<yi.length;u++)t=yi[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Je(r){this.src=r,this.g={},this.h=0}function rt(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=rn(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(Ht(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Be(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}Je.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var p=Be(r,e,o,a);return-1<p?(e=r[p],t||(e.ia=!1)):((e=new _t(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var Oe="closure_lm_"+(1e6*Math.random()|0),Se={};function wt(r,e,t,o,a){if(o&&o.once)return oe(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)wt(r,e[u],t,o,a);return null}return t=xt(t),r&&r[On]?r.O(e,t,vt(o)?!!o.capture:!!o,a):Vt(r,e,t,!1,o,a)}function Vt(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var p=vt(a)?!!a.capture:!!a,M=re(r);if(M||(r[Oe]=M=new Je(r)),(t=M.add(e,t,o,p,u)).proxy)return t;if(o=function Me(){const e=le;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)St||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent(z(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function oe(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)oe(r,e[u],t,o,a);return null}return t=xt(t),r&&r[On]?r.P(e,t,vt(o)?!!o.capture:!!o,a):Vt(r,e,t,!0,o,a)}function H(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)H(r,e[u],t,o,a);else o=vt(o)?!!o.capture:!!o,t=xt(t),r&&r[On]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Be(u=r.g[e],t,o,a))&&(Ht(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=re(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Be(e,t,o,a)),(t=-1<r?e[r]:null)&&V(t))}function V(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[On])rt(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(z(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=re(e))?(rt(t,r),0==t.h&&(t.src=null,e[Oe]=null)):Ht(r)}}}function z(r){return r in Se?Se[r]:Se[r]="on"+r}function le(r,e){if(r.fa)r=!0;else{e=new Kt(e,this);var t=r.listener,o=r.la||r.src;r.ia&&V(r),r=t.call(o,e)}return r}function re(r){return(r=r[Oe])instanceof Je?r:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(r){return"function"==typeof r?r:(r[ve]||(r[ve]=function(e){return r.handleEvent(e)}),r[ve])}function bt(){ln.call(this),this.i=new Je(this),this.S=this,this.J=null}function kt(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new Qe(e,r);else if(e instanceof Qe)e.target=e.target||r;else{var a=e;Zt(e=new Qe(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var p=e.g=t[u];a=en(p,o,!0,e)&&a}if(a=en(p=e.g=r,o,!0,e)&&a,a=en(p,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=en(p=e.g=t[u],o,!1,e)&&a}function en(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var p=e[u];if(p&&!p.fa&&p.capture==t){var M=p.listener,$=p.la||p.src;p.ia&&rt(r.i,p),a=!1!==M.call($,o)&&a}}return a&&!o.defaultPrevented}Gt(bt,ln),bt.prototype[On]=!0,bt.prototype.removeEventListener=function(r,e,t,o){H(this,r,e,t,o)},bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Ht(t[o]);delete r.g[e],r.h--}}this.J=null},bt.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},bt.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var ti=Fe.JSON.stringify;function Si(){var r=fi;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Lt=new class Mn{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ct,r=>r.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Qn(r){Fe.setTimeout(()=>{throw r},0)}let Rn,Hn=!1,fi=new class xi{constructor(){this.h=this.g=null}add(e,t){const o=Lt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},ir=()=>{const r=Fe.Promise.resolve(void 0);Rn=()=>{r.then(gi)}};var gi=()=>{for(var r;r=Si();){try{r.h.call(r.g)}catch(t){Qn(t)}var e=Lt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Hn=!1};function Cr(r,e){bt.call(this),this.h=r||1,this.g=e||Fe,this.j=Rt(this.qb,this),this.l=Date.now()}function Kr(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function po(r,e,t){if("function"==typeof r)t&&(r=Rt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Rt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Fe.setTimeout(r,e||0)}function Zo(r){r.g=po(()=>{r.g=null,r.i&&(r.i=!1,Zo(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Gt(Cr,bt),(K=Cr.prototype).ga=!1,K.T=null,K.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kt(this,"tick"),this.ga&&(Kr(this),this.start()))}},K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},K.N=function(){Cr.$.N.call(this),Kr(this),delete this.g};class $i extends ln{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(r){ln.call(this),this.h=r,this.g={}}Gt(to,ln);var Gr=[];function Zr(r,e,t,o){Array.isArray(t)||(t&&(Gr[0]=t.toString()),t=Gr);for(var a=0;a<t.length;a++){var u=wt(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function vo(r){Sn(r.g,function(e,t){this.g.hasOwnProperty(t)&&V(e)},r),r.g={}}function Di(){this.g=!0}function bo(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Io(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var p=1;p<a.length;p++)a[p]=""}}}return ti(t)}catch{return e}}(r,t)+(o?" "+o:"")})}to.prototype.N=function(){to.$.N.call(this),vo(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Di.prototype.Ea=function(){this.g=!1},Di.prototype.info=function(){};var no={},zo=null;function Ms(){return zo=zo||new bt}function qo(r){Qe.call(this,no.Ta,r)}function os(r){const e=Ms();kt(e,new qo(e))}function io(r,e){Qe.call(this,no.STAT_EVENT,r),this.stat=e}function Rr(r){const e=Ms();kt(e,new io(e,r))}function Qo(r,e){Qe.call(this,no.Ua,r),this.size=e}function Xo(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){r()},e)}no.Ta="serverreachability",Gt(qo,Qe),no.STAT_EVENT="statevent",Gt(io,Qe),no.Ua="timingevent",Gt(Qo,Qe);var ci={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pi(){}function cr(){}Pi.prototype.h=null;var Ot,$o={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pt(){Qe.call(this,"d")}function lt(){Qe.call(this,"c")}function dn(){}function pn(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new to(this),this.P=An,this.V=new Cr(r=Gn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sn}function sn(){this.i=null,this.g="",this.h=!1}Gt(pt,Qe),Gt(lt,Qe),Gt(dn,Pi),dn.prototype.g=function(){return new XMLHttpRequest},dn.prototype.i=function(){return{}},Ot=new dn;var An=45e3,Xn={},hi={};function _r(r,e,t){r.L=1,r.v=So(dr(e)),r.s=t,r.S=!0,Dr(r,null)}function Dr(r,e){r.G=Date.now(),ro(r),r.A=dr(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),er(t.i,"t",o),r.C=0,t=r.l.J,r.h=new sn,r.g=ls(r.l,t?e:null,!r.s),0<r.O&&(r.M=new $i(Rt(r.Pa,r,r.g),r.O)),Zr(r.U,r.g,"readystatechange",r.nb),e=r.I?Ri(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),os(),function Yo(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var p="",M=u.split("&"),$=0;$<M.length;$++){var J=M[$].split("=");if(1<J.length){var ge=J[0];J=J[1];var tt=ge.split("_");p=2<=tt.length&&"type"==tt[1]?p+(ge+"=")+J+"&":p+(ge+"=redacted&")}}else p=null;else p=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function rr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Gi(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=Vr(r,t),a==hi){4==e&&(r.o=4,Rr(14),o=!1),bo(r.j,r.m,null,"[Incomplete Response]");break}if(a==Xn){r.o=4,Rr(15),bo(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}bo(r.j,r.m,a,null),ar(r,a)}rr(r)&&a!=hi&&a!=Xn&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Rr(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ga(e),e.M=!0,Rr(11))):(bo(r.j,r.m,t,"[Invalid Chunked Response]"),oo(r),Lo(r))}function Vr(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?hi:(t=Number(e.substring(t,o)),isNaN(t)?Xn:(o+=1)+t>e.length?hi:(e=e.slice(o,o+t),r.C=o+t,e))}function ro(r){r.Y=Date.now()+r.P,ai(r,r.P)}function ai(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Xo(Rt(r.lb,r),e)}function No(r){r.B&&(Fe.clearTimeout(r.B),r.B=null)}function Lo(r){0==r.l.H||r.J||Ls(r.l,r)}function oo(r){No(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Kr(r.V),vo(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function ar(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||hn(t.i,r)))if(!r.K&&hn(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Sa(t),Es(t)}la(t),Rr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Xo(Rt(t.ib,t),6e3));if(1>=ot(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Os(t,11)}else if((r.K||t.g==r)&&Sa(t),!mt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let J=a[e];if(t.V=J[0],J=J[1],2==t.H)if("c"==J[0]){t.K=J[1],t.pa=J[2];const ge=J[3];null!=ge&&(t.ra=ge,t.l.info("VER="+t.ra));const tt=J[4];null!=tt&&(t.Ga=tt,t.l.info("SVER="+t.Ga));const Yt=J[5];null!=Yt&&"number"==typeof Yt&&0<Yt&&(t.L=o=1.5*Yt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const mn=r.g;if(mn){const Ln=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ln){var u=o.i;u.g||-1==Ln.indexOf("spdy")&&-1==Ln.indexOf("quic")&&-1==Ln.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(En(u,u.h),u.h=null))}if(o.F){const Jn=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jn&&(o.Da=Jn,Yi(o.I,o.F,Jn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=r;if((o=t).wa=Ys(o,o.J?o.pa:null,o.Y),p.K){bi(o.i,p);var M=p,$=o.L;$&&M.setTimeout($),M.B&&(No(M),ro(M)),o.g=p}else vl(o);0<t.j.length&&Ns(t)}else"stop"!=J[0]&&"close"!=J[0]||Os(t,7);else 3==t.H&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?Os(t,7):gs(t):"noop"!=J[0]&&t.h&&t.h.Aa(J),t.A=0)}os()}catch{}}function ss(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ze(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ms(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ze(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ir(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ze(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(K=pn.prototype).setTimeout=function(r){this.P=r},K.nb=function(r){r=r.target;const e=this.M;e&&3==xr(r)?e.l():this.Pa(r)},K.Pa=function(r){try{if(r==this.g)e:{const ge=xr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ge)&&(3!=ge||Gn||this.g&&(this.h.h||this.g.ja()||Ti(this.g)))){this.J||4!=ge||7==e||os(),No(this);var t=this.g.da();this.ca=t;t:if(rr(this)){var o=Ti(this.g);r="";var a=o.length,u=4==xr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),Lo(this);var p="";break t}this.h.i=new Fe.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function yo(r,e,t,o,a,u,p){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+p})}(this.j,this.u,this.A,this.m,this.W,ge,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var M,$=this.g;if((M=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(M)){var J=M;break t}}J=null}if(!(t=J)){this.i=!1,this.o=3,Rr(12),oo(this),Lo(this);break e}bo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ar(this,t)}this.S?(Gi(this,ge,p),Gn&&this.i&&3==ge&&(Zr(this.U,this.V,"tick",this.mb),this.V.start())):(bo(this.j,this.m,p,null),ar(this,p)),4==ge&&oo(this),this.i&&!this.J&&(4==ge?Ls(this.l,this):(this.i=!1,ro(this)))}else(function Mo(r){const e={};r=(r.g&&2<=xr(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(mt(r[o]))continue;var t=yn(r[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[a]||[];e[a]=u,u.push(t)}!function _i(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),oo(this),Lo(this)}}}catch{}},K.mb=function(){if(this.g){var r=xr(this.g),e=this.g.ja();this.C<e.length&&(No(this),Gi(this,r,e),this.i&&4!=r&&ro(this))}},K.cancel=function(){this.J=!0,oo(this)},K.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function hr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(os(),Rr(17)),oo(this),this.o=2,Lo(this)):ai(this,this.Y-r)};var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Sr){this.h=r.h,ws(this,r.j),this.s=r.s,this.g=r.g,uo(this,r.m),this.l=r.l;var e=r.i,t=new Fr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Bi(this,t),this.o=r.o}else r&&(e=String(r).match(ps))?(this.h=!1,ws(this,e[1]||"",!0),this.s=wo(e[2]||""),this.g=wo(e[3]||"",!0),uo(this,e[4]),this.l=wo(e[5]||"",!0),Bi(this,e[6]||"",!0),this.o=wo(e[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}function dr(r){return new Sr(r)}function ws(r,e,t){r.j=t?wo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function uo(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Bi(r,e,t){e instanceof Fr?(r.i=e,function To(r,e){e&&!r.j&&(go(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(jr(this,o),er(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=qr(e,as)),r.i=new Fr(e,r.h))}function Yi(r,e,t){r.i.set(e,t)}function So(r){return Yi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function wo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function qr(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Jo),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Jo(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Sr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(qr(e,As,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(qr(e,As,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(qr(t,"/"==t.charAt(0)?Pr:ks,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",qr(t,qi)),r.join("")};var As=/[#\/\?@]/g,ks=/[#\?:]/g,Pr=/[#\?]/g,as=/[#\?@]/g,qi=/#/g;function Fr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function go(r){r.g||(r.g=new Map,r.h=0,r.i&&function Vs(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jr(r,e){go(r),e=Qr(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function es(r,e){return go(r),e=Qr(r,e),r.g.has(e)}function er(r,e,t){jr(r,e),0<t.length&&(r.i=null,r.g.set(Qr(r,e),Mt(t)),r.h+=t.length)}function Qr(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function We(r){this.l=r||je,r=Fe.PerformanceNavigationTiming?0<(r=Fe.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Fe.g&&Fe.g.Ka&&Fe.g.Ka()&&Fe.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(K=Fr.prototype).add=function(r,e){go(this),this.i=null,r=Qr(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},K.forEach=function(r,e){go(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},K.ta=function(){go(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},K.Z=function(r){go(this);let e=[];if("string"==typeof r)es(this,r)&&(e=e.concat(this.g.get(Qr(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},K.set=function(r,e){return go(this),this.i=null,es(this,r=Qr(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},K.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),p=this.Z(o);for(o=0;o<p.length;o++){var a=u;""!==p[o]&&(a+="="+encodeURIComponent(String(p[o]))),r.push(a)}}return this.i=r.join("&")};var je=10;function Y(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ot(r){return r.h?1:r.g?r.g.size:0}function hn(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function En(r,e){r.g?r.g.add(e):r.h=e}function bi(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function vr(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Mt(r.i)}We.prototype.cancel=function(){if(this.i=vr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var yr=class{stringify(r){return Fe.JSON.stringify(r,void 0)}parse(r){return Fe.JSON.parse(r,void 0)}};function _o(){this.g=new yr}function br(r,e,t){const o=t||"";try{ss(r,function(a,u){let p=a;vt(a)&&(p=ti(a)),e.push(o+u+"="+encodeURIComponent(p))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function xs(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function W(r){this.l=r.fc||null,this.j=r.ob||!1}function j(r,e){bt.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(W,Pi),W.prototype.g=function(){return new j(this.l,this.j)},W.prototype.i=function(r){return function(){return r}}({}),Gt(j,bt);var v=0;function C(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ee(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ce(r)}function Ce(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(K=j.prototype).open=function(r,e){if(this.readyState!=v)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ce(this)},K.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ee(this)),this.readyState=v},K.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ce(this)),this.g&&(this.readyState=3,Ce(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},K.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ee(this):Ce(this),3==this.readyState&&C(this)}},K.Za=function(r){this.g&&(this.response=this.responseText=r,ee(this))},K.Ya=function(r){this.g&&(this.response=r,ee(this))},K.ka=function(){this.g&&ee(this)},K.setRequestHeader=function(r,e){this.v.append(r,e)},K.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},K.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(j.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ct=Fe.JSON.parse;function Pt(r){bt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dn,this.L=this.M=!1}Gt(Pt,bt);var Dn="",Yn=/^https?$/i,jn=["POST","PUT"];function Ui(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Tr(r),wr(r)}function Tr(r){r.F||(r.F=!0,kt(r,"complete"),kt(r,"error"))}function Br(r){if(r.h&&typeof Ge<"u"&&(!r.C[1]||4!=xr(r)||2!=r.da()))if(r.v&&4==xr(r))po(r.La,0,r);else if(kt(r,"readystatechange"),4==xr(r)){r.h=!1;try{const p=r.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===p){var a=String(r.I).match(ps)[1]||null;!a&&Fe.self&&Fe.self.location&&(a=Fe.self.location.protocol.slice(0,-1)),o=!Yn.test(a?a.toLowerCase():"")}t=o}if(t)kt(r,"complete"),kt(r,"success");else{r.m=6;try{var u=2<xr(r)?r.g.statusText:""}catch{u=""}r.j=u+" ["+r.da()+"]",Tr(r)}}finally{wr(r)}}}function wr(r,e){if(r.g){ji(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||kt(r,"ready");try{t.onreadystatechange=o}catch{}}}function ji(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Fe.clearTimeout(r.A),r.A=null)}function xr(r){return r.g?r.g.readyState:0}function Ti(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Dn:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function so(r){let e="";return Sn(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Nr(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=so(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Yi(r,e,t))}function Ur(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ao(r){this.Ga=0,this.j=[],this.l=new Di,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ur("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ur("baseRetryDelayMs",5e3,r),this.hb=Ur("retryDelaySeedMs",1e4,r),this.eb=Ur("forwardChannelMaxRetries",2,r),this.xa=Ur("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new We(r&&r.concurrentRequestLimit),this.Ja=new _o,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gs(r){if(Cs(r),3==r.H){var e=r.W++,t=dr(r.I);if(Yi(t,"SID",r.K),Yi(t,"RID",e),Yi(t,"TYPE","terminate"),Zs(r,t),(e=new pn(r,r.l,e)).L=2,e.v=So(dr(t)),t=!1,Fe.navigator&&Fe.navigator.sendBeacon)try{t=Fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=ls(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ro(e)}ya(r)}function Es(r){r.g&&(ga(r),r.g.cancel(),r.g=null)}function Cs(r){Es(r),r.u&&(Fe.clearTimeout(r.u),r.u=null),Sa(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Fe.clearTimeout(r.m),r.m=null)}function Ns(r){if(!Y(r.i)&&!r.m){r.m=!0;var e=r.Na;Rn||ir(),Hn||(Rn(),Hn=!0),fi.add(e,r),r.C=0}}function Ks(r,e){var t;t=e?e.m:r.W++;const o=dr(r.I);Yi(o,"SID",r.K),Yi(o,"RID",t),Yi(o,"AID",r.V),Zs(r,o),r.o&&r.s&&Nr(o,r.o,r.s),t=new pn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Xr(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),En(r.i,t),_r(t,o,e)}function Zs(r,e){r.na&&Sn(r.na,function(t,o){Yi(e,o,t)}),r.h&&ss({},function(t,o){Yi(e,o,t)})}function Xr(r,e,t){t=Math.min(r.j.length,t);var o=r.h?Rt(r.h.Va,r.h,r):null;e:{var a=r.j;let u=-1;for(;;){const p=["count="+t];-1==u?0<t?(u=a[0].g,p.push("ofs="+u)):u=0:p.push("ofs="+u);let M=!0;for(let $=0;$<t;$++){let J=a[$].g;const ge=a[$].map;if(J-=u,0>J)u=Math.max(0,a[$].g-100),M=!1;else try{br(ge,p,"req"+J+"_")}catch{o&&o(ge)}}if(M){o=p.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function vl(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Rn||ir(),Hn||(Rn(),Hn=!0),fi.add(e,r),r.A=0}}function la(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Xo(Rt(r.Ma,r),va(r,r.A)),r.A++,0))}function ga(r){null!=r.B&&(Fe.clearTimeout(r.B),r.B=null)}function _a(r){r.g=new pn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=dr(r.wa);Yi(e,"RID","rpc"),Yi(e,"SID",r.K),Yi(e,"AID",r.V),Yi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Yi(e,"TO",r.qa),Yi(e,"TYPE","xmlhttp"),Zs(r,e),r.o&&r.s&&Nr(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=So(dr(e)),t.s=null,t.S=!0,Dr(t,r)}function Sa(r){null!=r.v&&(Fe.clearTimeout(r.v),r.v=null)}function Ls(r,e){var t=null;if(r.g==e){Sa(r),ga(r),r.g=null;var o=2}else{if(!hn(r.i,e))return;t=e.F,bi(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;kt(o=Ms(),new Qo(o,t)),Ns(r)}else vl(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function Bo(r,e){return!(ot(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Xo(Rt(r.Na,r,e),va(r,r.C)),r.C++,0)))}(r,e)||2==o&&la(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Os(r,5);break;case 4:Os(r,10);break;case 3:Os(r,6);break;default:Os(r,2)}}function va(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Os(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=Rt(r.pb,r);t||(t=new Sr("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||ws(t,"https"),So(t)),function ts(r,e){const t=new Di;if(Fe.Image){const o=new Image;o.onload=qt(xs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=qt(xs,t,o,"TestLoadImage: error",!1,e),o.onabort=qt(xs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=qt(xs,t,o,"TestLoadImage: timeout",!1,e),Fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Rr(2);r.H=0,r.h&&r.h.za(e),ya(r),Cs(r)}function ya(r){if(r.H=0,r.ma=[],r.h){const e=vr(r.i);(0!=e.length||0!=r.j.length)&&(Ke(r.ma,e),Ke(r.ma,r.j),r.i.i.length=0,Mt(r.j),r.j.length=0),r.h.ya()}}function Ys(r,e,t){var o=t instanceof Sr?dr(t):new Sr(t);if(""!=o.g)e&&(o.g=e+"."+o.g),uo(o,o.m);else{var a=Fe.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new Sr(null);o&&ws(u,o),e&&(u.g=e),a&&uo(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&Yi(o,t,e),Yi(o,"VER",r.ra),Zs(r,o),o}function ls(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pt(t&&r.Ha&&!r.va?new W({ob:!0}):r.va)).Oa(r.J),e}function qs(){}function ta(){if(Zn&&!(10<=Number(on)))throw Error("Environmental error: no available transport.")}function _s(r,e){bt.call(this),this.g=new Ao(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!mt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Bs(this)}function cs(r){pt.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ta(){lt.call(this),this.status=1}function Bs(r){this.g=r}function ko(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function na(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],p=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;p=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(p<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((u=(e=t+((p=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=u+((p=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Mi(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(K=Pt.prototype).Oa=function(r){this.M=r},K.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ot.g(),this.C=function Yr(r){return r.h||(r.h=r.i())}(this.u?this.u:Ot),this.g.onreadystatechange=Rt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void Ui(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=Fe.FormData&&r instanceof Fe.FormData,!(0<=rn(jn,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,p]of t)this.g.setRequestHeader(u,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ji(this),0<this.B&&((this.L=function Ei(r){return Zn&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.ua,this)):this.A=po(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Ui(this,u)}},K.ua=function(){typeof Ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},K.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,kt(this,"complete"),kt(this,"abort"),wr(this))},K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wr(this,!0)),Pt.$.N.call(this)},K.La=function(){this.s||(this.G||this.v||this.l?Br(this):this.kb())},K.kb=function(){Br(this)},K.isActive=function(){return!!this.g},K.da=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},K.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},K.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ct(e)}},K.Ia=function(){return this.m},K.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(K=Ao.prototype).ra=8,K.H=1,K.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new pn(this,this.l,r);let u=this.s;if(this.U&&(u?(u=Ri(u),Zt(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xr(this,a,e),Yi(t=dr(this.I),"RID",r),Yi(t,"CVER",22),this.F&&Yi(t,"X-HTTP-Session-Id",this.F),Zs(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(so(u)))+"&"+e:this.o&&Nr(t,this.o,u)),En(this.i,a),this.bb&&Yi(t,"TYPE","init"),this.P?(Yi(t,"$req",e),Yi(t,"SID","null"),a.aa=!0,_r(a,t,null)):_r(a,t,e),this.H=2}}else 3==this.H&&(r?Ks(this,r):0==this.j.length||Y(this.i)||Ks(this))},K.Ma=function(){if(this.u=null,_a(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Xo(Rt(this.jb,this),r)}},K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rr(10),Es(this),_a(this))},K.ib=function(){null!=this.v&&(this.v=null,Es(this),la(this),Rr(19))},K.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Rr(2)):(this.l.info("Failed to ping google.com"),Rr(1))},K.isActive=function(){return!!this.h&&this.h.isActive(this)},(K=qs.prototype).Ba=function(){},K.Aa=function(){},K.za=function(){},K.ya=function(){},K.isActive=function(){return!0},K.Va=function(){},ta.prototype.g=function(r,e){return new _s(r,e)},Gt(_s,bt),_s.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Rr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Ys(r,null,r.Y),Ns(r)},_s.prototype.close=function(){gs(this.g)},_s.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=ti(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Ns(e)},_s.prototype.N=function(){this.g.h=null,delete this.j,gs(this.g),delete this.g,_s.$.N.call(this)},Gt(cs,pt),Gt(Ta,lt),Gt(Bs,qs),Bs.prototype.Ba=function(){kt(this.g,"a")},Bs.prototype.Aa=function(r){kt(this.g,new cs(r))},Bs.prototype.za=function(r){kt(this.g,new Ta)},Bs.prototype.ya=function(){kt(this.g,"b")},Gt(ko,function Qi(){this.blockSize=-1}),ko.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ko.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)na(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){na(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){na(this,o),a=0;break}}this.h=a,this.i+=e},ko.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var ba={};function P(r){return-128<=r&&128>r?function Xt(r,e){var t=ba;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Mi([0|e],0>e?-1:0)}):new Mi([0|r],0>r?-1:0)}function Q(r){if(isNaN(r)||!isFinite(r))return Ye;if(0>r)return Ai(Q(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=fe;return new Mi(e,0)}var fe=4294967296,Ye=P(0),Qt=P(1),fn=P(16777216);function qn(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Wi(r){return-1==r.h}function Ai(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Mi(t,~r.h).add(Qt)}function Ci(r,e){return r.add(Ai(e))}function ki(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function or(r,e){this.g=r,this.h=e}function zn(r,e){if(qn(e))throw Error("division by zero");if(qn(r))return new or(Ye,Ye);if(Wi(r))return e=zn(Ai(r),e),new or(Ai(e.g),Ai(e.h));if(Wi(e))return e=zn(r,Ai(e)),new or(Ai(e.g),e.h);if(30<r.g.length){if(Wi(r)||Wi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Qt,o=e;0>=o.X(r);)t=ao(t),o=ao(o);var a=vs(t,1),u=vs(o,1);for(o=vs(o,2),t=vs(t,2);!qn(o);){var p=u.add(o);0>=p.X(r)&&(a=a.add(t),u=p),o=vs(o,1),t=vs(t,1)}return e=Ci(r,a.R(e)),new or(a,e)}for(a=Ye;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),p=(u=Q(t)).R(e);Wi(p)||0<p.X(r);)p=(u=Q(t-=o)).R(e);qn(u)&&(u=Qt),a=a.add(u),r=Ci(r,p)}return new or(a,r)}function ao(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Mi(t,r.h)}function vs(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Mi(a,r.h)}(K=Mi.prototype).ea=function(){if(Wi(this))return-Ai(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:fe+o)*e,e*=fe}return r},K.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(qn(this))return"0";if(Wi(this))return"-"+Ai(this).toString(r);for(var e=Q(Math.pow(r,6)),t=this,o="";;){var a=zn(t,e).g,u=((0<(t=Ci(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(qn(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},K.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},K.X=function(r){return Wi(r=Ci(this,r))?-1:qn(r)?0:1},K.abs=function(){return Wi(this)?Ai(this):this},K.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),p=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=p>>>16,t[a]=(p&=65535)<<16|(u&=65535)}return new Mi(t,-2147483648&t[t.length-1]?-1:0)},K.R=function(r){if(qn(this)||qn(r))return Ye;if(Wi(this))return Wi(r)?Ai(this).R(Ai(r)):Ai(Ai(this).R(r));if(Wi(r))return Ai(this.R(Ai(r)));if(0>this.X(fn)&&0>r.X(fn))return Q(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,p=65535&this.D(o),M=r.D(a)>>>16,$=65535&r.D(a);t[2*o+2*a]+=p*$,ki(t,2*o+2*a),t[2*o+2*a+1]+=u*$,ki(t,2*o+2*a+1),t[2*o+2*a+1]+=p*M,ki(t,2*o+2*a+1),t[2*o+2*a+2]+=u*M,ki(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Mi(t,0)},K.gb=function(r){return zn(this,r).h},K.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Mi(t,this.h&r.h)},K.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Mi(t,this.h|r.h)},K.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Mi(t,this.h^r.h)},ta.prototype.createWebChannel=ta.prototype.g,_s.prototype.send=_s.prototype.u,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,gr.COMPLETE="complete",cr.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",bt.prototype.listen=bt.prototype.O,Pt.prototype.listenOnce=Pt.prototype.P,Pt.prototype.getLastError=Pt.prototype.Sa,Pt.prototype.getLastErrorCode=Pt.prototype.Ia,Pt.prototype.getStatus=Pt.prototype.da,Pt.prototype.getResponseJson=Pt.prototype.Wa,Pt.prototype.getResponseText=Pt.prototype.ja,Pt.prototype.send=Pt.prototype.ha,Pt.prototype.setWithCredentials=Pt.prototype.Oa,ko.prototype.digest=ko.prototype.l,ko.prototype.reset=ko.prototype.reset,ko.prototype.update=ko.prototype.j,Mi.prototype.add=Mi.prototype.add,Mi.prototype.multiply=Mi.prototype.R,Mi.prototype.modulo=Mi.prototype.gb,Mi.prototype.compare=Mi.prototype.X,Mi.prototype.toNumber=Mi.prototype.ea,Mi.prototype.toString=Mi.prototype.toString,Mi.prototype.getBits=Mi.prototype.D,Mi.fromNumber=Q,Mi.fromString=function U(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Ai(U(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Q(Math.pow(e,8)),o=Ye,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),p=parseInt(r.substring(a,a+u),e);8>u?(u=Q(Math.pow(e,u)),o=o.R(u).add(Q(p))):o=(o=o.R(t)).add(Q(p))}return o};var Wr=$e.createWebChannelTransport=function(){return new ta},ia=$e.getStatEventTarget=function(){return Ms()},Oo=$e.ErrorCode=ci,Qs=$e.EventType=gr,ys=$e.Event=no,Rs=$e.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lc=$e.FetchXmlHttpFactory=W,wa=$e.WebChannel=cr,yl=$e.XhrIo=Pt,rl=$e.Md5=ko,wn=$e.Integer=Mi;const sr="@firebase/firestore";class xo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xo.UNAUTHENTICATED=new xo(null),xo.GOOGLE_CREDENTIALS=new xo("google-credentials-uid"),xo.FIRST_PARTY=new xo("first-party-uid"),xo.MOCK_USER=new xo("mock-user");let ds="9.22.2";const Jr=new De.Yd("@firebase/firestore");function xa(){return Jr.logLevel}function In(r,...e){if(Jr.logLevel<=De.in.DEBUG){const t=e.map(ho);Jr.debug(`Firestore (${ds}): ${r}`,...t)}}function Mr(r,...e){if(Jr.logLevel<=De.in.ERROR){const t=e.map(ho);Jr.error(`Firestore (${ds}): ${r}`,...t)}}function Ds(r,...e){if(Jr.logLevel<=De.in.WARN){const t=e.map(ho);Jr.warn(`Firestore (${ds}): ${r}`,...t)}}function ho(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ni(r="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+r;throw Mr(e),new Error(e)}function li(r,e){r||ni()}function Bn(r,e){return r}const Jt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class y{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xo.UNAUTHENTICATED))}shutdown(){}}class G{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class he{constructor(e){this.t=e,this.currentUser=xo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=J=>this.i!==a?(a=this.i,t(J)):Promise.resolve();let p=new y;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new y,e.enqueueRetryable(()=>u(this.currentUser))};const M=()=>{const J=p;e.enqueueRetryable((0,Re.Z)(function*(){yield J.promise,yield u(o.currentUser)}))},$=J=>{In("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(J=>$(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?$(J):(In("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new y)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(In("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(li("string"==typeof o.accessToken),new _(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return li(null===e||"string"==typeof e),new xo(e)}}class et{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=xo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class at{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new et(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $t{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class an{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&In("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const p=u.token!==this.T;return this.T=u.token,In("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{In("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):In("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(li("string"==typeof t.token),this.T=t.token,new $t(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ri(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Vi{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const a=ri(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[u]%62))}return o}}function Fn(r,e){return r<e?-1:r>e?1:0}function di(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function Oi(r){return r+"\0"}class Fi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new R(Jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new R(Jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new R(Jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(Jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fi.fromMillis(Date.now())}static fromDate(e){return Fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Fi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wn(e)}static min(){return new Wn(new Fi(0,0))}static max(){return new Wn(new Fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Eo{constructor(e,t,o){void 0===t?t=0:t>e.length&&ni(),void 0===o?o=e.length-t:o>e.length-t&&ni(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Eo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Eo?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),p=t.get(a);if(u<p)return-1;if(u>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ii extends Eo{construct(e,t,o){return new Ii(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new R(Jt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new Ii(t)}static emptyPath(){return new Ii([])}}const Ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Eo{construct(e,t,o){return new fr(e,t,o)}static isValidIdentifier(e){return Ar.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new R(Jt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let p=!1;for(;a<e.length;){const M=e[a];if("\\"===M){if(a+1===e.length)throw new R(Jt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[a+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new R(Jt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,a+=2}else"`"===M?(p=!p,a++):"."!==M||p?(o+=M,a++):(u(),a++)}if(u(),p)throw new R(Jt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(t)}static emptyPath(){return new fr([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(Ii.fromString(e))}static fromName(e){return new x(Ii.fromString(e).popFirst(5))}static empty(){return new x(Ii.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ii.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ii.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new Ii(e.slice()))}}class k{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function w(r){return r.fields.find(e=>2===e.kind)}function N(r){return r.fields.filter(e=>2!==e.kind)}k.UNKNOWN_ID=-1;class ye{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dt(0,un.min())}}function Cn(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=Wn.fromTimestamp(1e9===o?new Fi(t+1,0):new Fi(t,o));return new un(a,x.empty(),e)}function ui(r){return new un(r.readTime,r.key,-1)}class un{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new un(Wn.min(),x.empty(),-1)}static max(){return new un(Wn.max(),x.empty(),-1)}}function Un(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=x.comparator(r.documentKey,e.documentKey),0!==t?t:Fn(r.largestBatchId,e.largestBatchId))}const oi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mr(r){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,Re.Z)(function*(r){if(r.code!==Jt.FAILED_PRECONDITION||r.message!==oi)throw r;In("LocalStore","Unexpectedly lost primary lease")}),Uo.apply(this,arguments)}class Nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ni(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Nt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Nt?t:Nt.resolve(t)}catch(t){return Nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.reject(t)}static resolve(e){return new Nt((t,o)=>{t(e)})}static reject(e){return new Nt((t,o)=>{o(e)})}static waitFor(e){return new Nt((t,o)=>{let a=0,u=0,p=!1;e.forEach(M=>{++a,M.next(()=>{++u,p&&u===a&&t()},$=>o($))}),p=!0,u===a&&t()})}static or(e){let t=Nt.resolve(!1);for(const o of e)t=t.next(a=>a?Nt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new Nt((o,a)=>{const u=e.length,p=new Array(u);let M=0;for(let $=0;$<u;$++){const J=$;t(e[J]).next(ge=>{p[J]=ge,++M,M===u&&o(p)},ge=>a(ge))}})}static doWhile(e,t){return new Nt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class Co{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new y,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ha(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=Ma(o.target.error);this.v.reject(new Ha(e,a))}}static open(e,t,o,a){try{return new Co(t,e.transaction(a,o))}catch(u){throw new Ha(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(In("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ca(t)}}class Xi{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Xi.S((0,be.z$)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return In("SimpleDb","Removing database:",e),Vo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,be.hl)())return!1;if(Xi.C())return!0;const e=(0,be.z$)(),t=Xi.S(e),o=0<t&&t<10,a=Xi.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,Re.Z)(function*(){return t.db||(In("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=p=>{o(p.target.result)},u.onblocked=()=>{a(new Ha(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=p=>{const M=p.target.error;a("VersionError"===M.name?new R(Jt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new R(Jt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new Ha(e,M))},u.onupgradeneeded=p=>{In("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,u.transaction,p.oldVersion,t.version).next(()=>{In("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,Re.Z)(function*(){const p="readonly"===t;let M=0;for(;;){++M;try{u.db=yield u.$(e);const $=Co.open(u.db,e,p?"readonly":"readwrite",o),J=a($).next(ge=>($.P(),ge)).catch(ge=>($.abort(ge),Nt.reject(ge))).toPromise();return J.catch(()=>{}),yield $.R,J}catch($){const J=$,ge="FirebaseError"!==J.name&&M<3;if(In("SimpleDb","Transaction failed with error:",J.message,"Retrying:",ge),u.close(),!ge)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bl{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Vo(this.L.delete())}}class Ha extends R{constructor(e,t){super(Jt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Hr(r){return"IndexedDbTransactionError"===r.name}class ca{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(In("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(In("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Vo(o)}add(e){return In("SimpleDb","ADD",this.store.name,e,e),Vo(this.store.add(e))}get(e){return Vo(this.store.get(e)).next(t=>(void 0===t&&(t=null),In("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return In("SimpleDb","DELETE",this.store.name,e),Vo(this.store.delete(e))}count(){return In("SimpleDb","COUNT",this.store.name),Vo(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(p,M)=>{u.push(M)}).next(()=>u)}{const a=this.store.getAll(o.range);return new Nt((u,p)=>{a.onerror=M=>{p(M.target.error)},a.onsuccess=M=>{u(M.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Nt((a,u)=>{o.onerror=p=>{u(p.target.error)},o.onsuccess=p=>{a(p.target.result)}})}J(e,t){In("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,p,M)=>M.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new Nt((o,a)=>{t.onerror=u=>{const p=Ma(u.target.error);a(p)},t.onsuccess=u=>{const p=u.target.result;p?e(p.primaryKey,p.value).next(M=>{M?p.continue():o()}):o()}})}W(e,t){const o=[];return new Nt((a,u)=>{e.onerror=p=>{u(p.target.error)},e.onsuccess=p=>{const M=p.target.result;if(!M)return void a();const $=new bl(M),J=t(M.primaryKey,M.value,$);if(J instanceof Nt){const ge=J.catch(tt=>($.done(),Nt.reject(tt)));o.push(ge)}$.isDone?a():null===$.K?M.continue():M.continue($.K)}}).next(()=>Nt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vo(r){return new Nt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=Ma(o.target.error);t(a)}})}let sl=!1;function Ma(r){const e=Xi.S((0,be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new R("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sl||(sl=!0,setTimeout(()=>{throw o},0)),o}}return r}class Nh{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;In("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Re.Z)(function*(){t.task=null;try{In("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){Hr(o)?In("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield mr(o)}yield t.et(6e4)}))}}class Aa{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Re.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return Nt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!o.has(p))return In("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(M=>{a-=M,o.add(p)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const p=u.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,u)).next(M=>(In("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,t,M))).next(()=>p.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const p=ui(u);Un(p,o)>0&&(o=p)}),new un(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ss=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Xs(r){return null==r}function Pa(r){return 0===r&&1/r==-1/0}function Ll(r){return"number"==typeof r&&Number.isInteger(r)&&!Pa(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Ro(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=cc(e)),e=kd(r.get(t),e);return cc(e)}function kd(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function cc(r){return r+"\x01\x01"}function us(r){const e=r.length;if(li(e>=2),2===e)return li("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Ii.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const p=r.indexOf("\x01",u);switch((p<0||p>t)&&ni(),r.charAt(p+1)){case"\x01":const M=r.substring(u,p);let $;0===a.length?$=M:(a+=M,$=a,a=""),o.push($);break;case"\x10":a+=r.substring(u,p),a+="\0";break;case"\x11":a+=r.substring(u,p+1);break;default:ni()}u=p+2}return new Ii(o)}const wl=["userId","batchId"];function da(r,e){return[r,Ro(e)]}function dc(r,e,t){return[r,Ro(e),t]}const uc={},hc=["prefixPath","collectionGroup","readTime","documentId"],fc=["prefixPath","collectionGroup","documentId"],zc=["collectionGroup","readTime","prefixPath","documentId"],Fa=["canonicalId","targetId"],Lh=["targetId","path"],Ou=["path","targetId"],xl=["collectionId","parent"],$c=["indexId","uid"],Gc=["uid","sequenceNumber"],Bh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mc=["indexId","uid","orderedDocumentKey"],za=["userId","collectionPath","documentId"],Ru=["userId","collectionPath","largestBatchId"],Wc=["userId","collectionGroup","largestBatchId"],pc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$a=[...pc,"documentOverlays"],Od=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Kc=Od,Bl=[...Kc,"indexConfiguration","indexState","indexEntries"];class Zc extends Zi{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function bs(r,e){const t=Bn(r);return Xi.M(t.ht,e)}function Ul(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ra(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Na(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class kr{constructor(e,t){this.comparator=e,this.root=t||hs.EMPTY}insert(e,t){return new kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hs.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new al(this.root,e,this.comparator,!1)}getReverseIterator(){return new al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new al(this.root,e,this.comparator,!0)}}class al{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hs{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??hs.RED,this.left=a??hs.EMPTY,this.right=u??hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new hs(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return hs.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ni();const e=this.left.check();if(e!==this.right.check())throw ni();return e+(this.isRed()?0:1)}}hs.EMPTY=null,hs.RED=!0,hs.BLACK=!1,hs.EMPTY=new class{constructor(){this.size=0}get key(){throw ni()}get value(){throw ni()}get color(){throw ni()}get left(){throw ni()}get right(){throw ni()}copy(r,e,t,o,a){return this}insert(r,e,t){return new hs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Or{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yc(this.data.getIterator())}getIteratorFrom(e){return new Yc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Or(this.comparator);return t.data=e,t}}class Yc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function La(r){return r.hasNext()?r.getNext():void 0}class Us{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new Us([])}unionWith(e){let t=new Or(fr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return di(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class gc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gc("Invalid base64 string: "+a):a}}(e);return new ns(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const Pu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function El(r){if(li(!!r),"string"==typeof r){let e=0;const t=Pu.exec(r);if(li(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Do(r.seconds),nanos:Do(r.nanos)}}function Do(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ga(r){return"string"==typeof r?ns.fromBase64String(r):ns.fromUint8Array(r)}function Vl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fo(r){const e=r.mapValue.fields.__previous_value__;return Vl(e)?fo(e):e}function Cl(r){const e=El(r.mapValue.fields.__local_write_time__.timestampValue);return new Fi(e.seconds,e.nanos)}class Dl{constructor(e,t,o,a,u,p,M,$,J){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=p,this.autoDetectLongPolling=M,this.longPollingOptions=$,this.useFetchStreams=J}}class Wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}const lo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ka={nullValue:"NULL_VALUE"};function Hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vl(r)?4:$n(r)?9007199254740991:10:ni()}function oa(r,e){if(r===e)return!0;const t=Hs(r);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Cl(r).isEqual(Cl(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=El(o.timestampValue),p=El(a.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ga(r.bytesValue).isEqual(Ga(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return Do(o.geoPointValue.latitude)===Do(a.geoPointValue.latitude)&&Do(o.geoPointValue.longitude)===Do(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Do(o.integerValue)===Do(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Do(o.doubleValue),p=Do(a.doubleValue);return u===p?Pa(u)===Pa(p):isNaN(u)&&isNaN(p)}return!1}(r,e);case 9:return di(r.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(o,a){const u=o.mapValue.fields||{},p=a.mapValue.fields||{};if(Ul(u)!==Ul(p))return!1;for(const M in u)if(u.hasOwnProperty(M)&&(void 0===p[M]||!oa(u[M],p[M])))return!1;return!0}(r,e);default:return ni()}var a}function Za(r,e){return void 0!==(r.values||[]).find(t=>oa(t,e))}function Ba(r,e){if(r===e)return 0;const t=Hs(r),o=Hs(e);if(t!==o)return Fn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fn(r.booleanValue,e.booleanValue);case 2:return function(a,u){const p=Do(a.integerValue||a.doubleValue),M=Do(u.integerValue||u.doubleValue);return p<M?-1:p>M?1:p===M?0:isNaN(p)?isNaN(M)?0:-1:1}(r,e);case 3:return Fu(r.timestampValue,e.timestampValue);case 4:return Fu(Cl(r),Cl(e));case 5:return Fn(r.stringValue,e.stringValue);case 6:return function(a,u){const p=Ga(a),M=Ga(u);return p.compareTo(M)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const p=a.split("/"),M=u.split("/");for(let $=0;$<p.length&&$<M.length;$++){const J=Fn(p[$],M[$]);if(0!==J)return J}return Fn(p.length,M.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const p=Fn(Do(a.latitude),Do(u.latitude));return 0!==p?p:Fn(Do(a.longitude),Do(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const p=a.values||[],M=u.values||[];for(let $=0;$<p.length&&$<M.length;++$){const J=Ba(p[$],M[$]);if(J)return J}return Fn(p.length,M.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===lo.mapValue&&u===lo.mapValue)return 0;if(a===lo.mapValue)return 1;if(u===lo.mapValue)return-1;const p=a.fields||{},M=Object.keys(p),$=u.fields||{},J=Object.keys($);M.sort(),J.sort();for(let ge=0;ge<M.length&&ge<J.length;++ge){const tt=Fn(M[ge],J[ge]);if(0!==tt)return tt;const Yt=Ba(p[M[ge]],$[J[ge]]);if(0!==Yt)return Yt}return Fn(M.length,J.length)}(r.mapValue,e.mapValue);default:throw ni()}}function Fu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Fn(r,e);const t=El(r),o=El(e),a=Fn(t.seconds,o.seconds);return 0!==a?a:Fn(t.nanos,o.nanos)}function Il(r){return Nu(r)}function Nu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=El(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ga(r.bytesValue).toBase64():"referenceValue"in r?x.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const p of o.values||[])u?u=!1:a+=",",a+=Nu(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",p=!0;for(const M of a)p?p=!1:u+=",",u+=`${M}:${Nu(o.fields[M])}`;return u+"}"}(r.mapValue):ni();var e}function L(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function te(r){return!!r&&"integerValue"in r}function Pe(r){return!!r&&"arrayValue"in r}function gt(r){return!!r&&"nullValue"in r}function Ft(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nn(r){return!!r&&"mapValue"in r}function Kn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ra(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Kn(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $n(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function mi(r){return"nullValue"in r?Ka:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?L(Wa.empty(),x.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ni()}function Hi(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?L(Wa.empty(),x.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?lo:ni()}function Ni(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ts(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!nn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kn(t)}setAll(e){let t=fr.emptyPath(),o={},a=[];e.forEach((p,M)=>{if(!t.isImmediateParentOf(M)){const $=this.getFieldsMap(t);this.applyChanges($,o,a),o={},a=[],t=M.popLast()}p?o[M.lastSegment()]=Kn(p):a.push(M.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());nn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];nn(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){ra(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new Er(Kn(this.value))}}function Ya(r){const e=[];return ra(r.fields,(t,o)=>{const a=new fr([t]);if(nn(o)){const u=Ya(o.mapValue).fields;if(0===u.length)e.push(a);else for(const p of u)e.push(a.child(p))}else e.push(a)}),new Us(e)}class eo{constructor(e,t,o,a,u,p,M){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=p,this.documentState=M}static newInvalidDocument(e){return new eo(e,0,Wn.min(),Wn.min(),Wn.min(),Er.empty(),0)}static newFoundDocument(e,t,o,a){return new eo(e,1,t,Wn.min(),o,a,0)}static newNoDocument(e,t){return new eo(e,2,t,Wn.min(),Wn.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new eo(e,3,t,Wn.min(),Wn.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof eo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new eo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zs{constructor(e,t){this.position=e,this.inclusive=t}}function sa(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],p=r.position[a];if(o=u.field.isKeyField()?x.comparator(x.fromName(p.referenceValue),t.key):Ba(p,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function ka(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oa(r.position[t],e.position[t]))return!1;return!0}class Ea{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Uh{}class pr extends Uh{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Hh(e,t,o):"array-contains"===t?new f(e,o):"in"===t?new g(e,o):"not-in"===t?new O(e,o):"array-contains-any"===t?new ie(e,o):new pr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new sm(e,o):new Ld(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ba(t,this.value)):null!==t&&Hs(this.value)===Hs(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ni()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class co extends Uh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new co(e,t)}matches(e){return ua(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ua(r){return"and"===r.op}function Sl(r){return"or"===r.op}function Fd(r){return rm(r)&&ua(r)}function rm(r){for(const e of r.filters)if(e instanceof co)return!1;return!0}function Nd(r){if(r instanceof pr)return r.field.canonicalString()+r.op.toString()+Il(r.value);if(Fd(r))return r.filters.map(e=>Nd(e)).join(",");{const e=r.filters.map(t=>Nd(t)).join(",");return`${r.op}(${e})`}}function Vh(r,e){return r instanceof pr?(t=r,(o=e)instanceof pr&&t.op===o.op&&t.field.isEqual(o.field)&&oa(t.value,o.value)):r instanceof co?function(t,o){return o instanceof co&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,p)=>a&&Vh(u,o.filters[p]),!0)}(r,e):void ni();var t,o}function om(r,e){const t=r.filters.concat(e);return co.create(t,r.op)}function jh(r){return r instanceof pr?`${(e=r).field.canonicalString()} ${e.op} ${Il(e.value)}`:r instanceof co?function(e){return e.op.toString()+" {"+e.getFilters().map(jh).join(" ,")+"}"}(r):"Filter";var e}class Hh extends pr{constructor(e,t,o){super(e,t,o),this.key=x.fromName(o.referenceValue)}matches(e){const t=x.comparator(e.key,this.key);return this.matchesComparison(t)}}class sm extends pr{constructor(e,t){super(e,"in",t),this.keys=D(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ld extends pr{constructor(e,t){super(e,"not-in",t),this.keys=D(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>x.fromName(o.referenceValue))}class f extends pr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pe(t)&&Za(t.arrayValue,this.value)}}class g extends pr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Za(this.value.arrayValue,t)}}class O extends pr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Za(this.value.arrayValue,t)}}class ie extends pr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pe(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Za(this.value.arrayValue,o))}}class we{constructor(e,t=null,o=[],a=[],u=null,p=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=p,this.endAt=M,this.dt=null}}function It(r,e=null,t=[],o=[],a=null,u=null,p=null){return new we(r,e,t,o,a,u,p)}function tn(r){const e=Bn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Nd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),Xs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Il(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Il(o)).join(",")),e.dt=t}return e.dt}function Nn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Pd(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ka(r.startAt,e.startAt)&&ka(r.endAt,e.endAt)}function ii(r){return x.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function vi(r,e){return r.filters.filter(t=>t instanceof pr&&t.field.isEqual(e))}function lr(r,e,t){let o=Ka,a=!0;for(const u of vi(r,e)){let p=Ka,M=!0;switch(u.op){case"<":case"<=":p=mi(u.value);break;case"==":case"in":case">=":p=u.value;break;case">":p=u.value,M=!1;break;case"!=":case"not-in":p=Ka}Ni({value:o,inclusive:a},{value:p,inclusive:M})<0&&(o=p,a=M)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const p=t.position[u];Ni({value:o,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(o=p,a=t.inclusive);break}return{value:o,inclusive:a}}function ha(r,e,t){let o=lo,a=!0;for(const u of vi(r,e)){let p=lo,M=!0;switch(u.op){case">=":case">":p=Hi(u.value),M=!1;break;case"==":case"in":case"<=":p=u.value;break;case"<":p=u.value,M=!1;break;case"!=":case"not-in":p=lo}Ts({value:o,inclusive:a},{value:p,inclusive:M})>0&&(o=p,a=M)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const p=t.position[u];Ts({value:o,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(o=p,a=t.inclusive);break}return{value:o,inclusive:a}}class aa{constructor(e,t=null,o=[],a=[],u=null,p="F",M=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=p,this.startAt=M,this.endAt=$,this.wt=null,this._t=null}}function Bd(r,e,t,o,a,u,p,M){return new aa(r,e,t,o,a,u,p,M)}function _c(r){return new aa(r)}function Lu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Ud(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Tl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jl(r){return null!==r.collectionGroup}function ll(r){const e=Bn(r);if(null===e.wt){e.wt=[];const t=Tl(e),o=Ud(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Ea(t)),e.wt.push(new Ea(fr.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ea(fr.keyField(),u))}}}return e.wt}function $s(r){const e=Bn(r);if(!e._t)if("F"===e.limitType)e._t=It(e.path,e.collectionGroup,ll(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ll(e))t.push(new Ea(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new zs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new zs(e.startAt.position,e.startAt.inclusive):null;e._t=It(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function vc(r,e){e.getFirstInequalityField(),Tl(r);const t=r.filters.concat([e]);return new aa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function qa(r,e,t){return new aa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function yc(r,e){return Nn($s(r),$s(e))&&r.limitType===e.limitType}function Hl(r){return`${tn($s(r))}|lt:${r.limitType}`}function bc(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>jh(o)).join(", ")}]`),Xs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Il(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Il(o)).join(",")),`Target(${t})`}($s(r))}; limitType=${r.limitType})`}function Oa(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):x.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of ll(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,p){const M=sa(a,u,p);return a.inclusive?M<=0:M<0}(t.startAt,ll(t),o)||t.endAt&&!function(a,u,p){const M=sa(a,u,p);return a.inclusive?M>=0:M>0}(t.endAt,ll(t),o)));var t,o}function Lg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bg(r){return(e,t)=>{let o=!1;for(const a of ll(r)){const u=ay(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function ay(r,e,t){const o=r.field.isKeyField()?x.comparator(e.key,t.key):function(a,u,p){const M=u.data.field(a),$=p.data.field(a);return null!==M&&null!==$?Ba(M,$):ni()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return ni()}}class Ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return Na(this.inner)}size(){return this.innerSize}}const am=new kr(x.comparator);function Ra(){return am}const Ug=new kr(x.comparator);function Bu(...r){let e=Ug;for(const t of r)e=e.insert(t.key,t);return e}function lm(r){let e=Ug;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Al(){return Js()}function Vg(){return Js()}function Js(){return new Ml(r=>r.toString(),(r,e)=>r.isEqual(e))}const cm=new kr(x.comparator),jg=new Or(x.comparator);function tr(...r){let e=jg;for(const t of r)e=e.add(t);return e}const fa=new Or(Fn);function qc(){return fa}function dm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pa(e)?"-0":e}}function um(r){return{integerValue:""+r}}function Hg(r,e){return Ll(e)?um(e):dm(r,e)}class Uu{constructor(){this._=void 0}}function ly(r,e,t){return r instanceof Qc?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Vl(a)&&(a=fo(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Xc?Gg(r,e):r instanceof zl?zh(r,e):function(o,a){const u=$g(o,a),p=jd(u)+jd(o.gt);return te(u)&&te(o.gt)?um(p):dm(o.serializer,p)}(r,e)}function zg(r,e,t){return r instanceof Xc?Gg(r,e):r instanceof zl?zh(r,e):t}function $g(r,e){return r instanceof Vd?te(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Qc extends Uu{}class Xc extends Uu{constructor(e){super(),this.elements=e}}function Gg(r,e){const t=Wg(e);for(const o of r.elements)t.some(a=>oa(a,o))||t.push(o);return{arrayValue:{values:t}}}class zl extends Uu{constructor(e){super(),this.elements=e}}function zh(r,e){let t=Wg(e);for(const o of r.elements)t=t.filter(a=>!oa(a,o));return{arrayValue:{values:t}}}class Vd extends Uu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function jd(r){return Do(r.integerValue||r.doubleValue)}function Wg(r){return Pe(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Vu{constructor(e,t){this.field=e,this.transform=t}}class fm{constructor(e,t){this.version=e,this.transformResults=t}}class is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $l(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Jc{}function mm(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new xc(r.key,is.none()):new Hd(r.key,r.data,is.none());{const t=r.data,o=Er.empty();let a=new Or(fr.comparator);for(let u of e.fields)if(!a.has(u)){let p=t.field(u);null===p&&u.length>1&&(u=u.popLast(),p=t.field(u)),null===p?o.delete(u):o.set(u,p),a=a.add(u)}return new Gl(r.key,o,new Us(a.toArray()),is.none())}}function pm(r,e,t){r instanceof Hd?function(o,a,u){const p=o.value.clone(),M=Yg(o.fieldTransforms,a,u.transformResults);p.setAll(M),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):r instanceof Gl?function(o,a,u){if(!$l(o.precondition,a))return void a.convertToUnknownDocument(u.version);const p=Yg(o.fieldTransforms,a,u.transformResults),M=a.data;M.setAll(Zg(o)),M.setAll(p),a.convertToFoundDocument(u.version,M).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wc(r,e,t,o){return r instanceof Hd?function(a,u,p,M){if(!$l(a.precondition,u))return p;const $=a.value.clone(),J=gm(a.fieldTransforms,M,u);return $.setAll(J),u.convertToFoundDocument(u.version,$).setHasLocalMutations(),null}(r,e,t,o):r instanceof Gl?function(a,u,p,M){if(!$l(a.precondition,u))return p;const $=gm(a.fieldTransforms,M,u),J=u.data;return J.setAll(Zg(a)),J.setAll($),u.convertToFoundDocument(u.version,J).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ge=>ge.field))}(r,e,t,o):(p=t,$l(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p);var u,p}function cy(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=$g(o.transform,a||null);null!=u&&(null===t&&(t=Er.empty()),t.set(o.field,u))}return t||null}function Kg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&di(t,o,(a,u)=>function hm(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Xc&&o instanceof Xc||t instanceof zl&&o instanceof zl?di(t.elements,o.elements,oa):t instanceof Vd&&o instanceof Vd?oa(t.gt,o.gt):t instanceof Qc&&o instanceof Qc);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class Hd extends Jc{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gl extends Jc{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Yg(r,e,t){const o=new Map;li(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],p=u.transform,M=e.data.field(u.field);o.set(u.field,zg(p,M,t[a]))}return o}function gm(r,e,t){const o=new Map;for(const a of r){const u=a.transform,p=t.data.field(a.field);o.set(a.field,ly(u,p,e))}return o}class xc extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ju{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&pm(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=wc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=wc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Vg();return this.mutations.forEach(a=>{const u=e.get(a.key),p=u.overlayedDocument;let M=this.applyToLocalView(p,u.mutatedFields);M=t.has(a.key)?null:M;const $=mm(p,M);null!==$&&o.set(a.key,$),p.isValidDocument()||p.convertToNoDocument(Wn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tr())}isEqual(e){return this.batchId===e.batchId&&di(this.mutations,e.mutations,(t,o)=>Kg(t,o))&&di(this.baseMutations,e.baseMutations,(t,o)=>Kg(t,o))}}class _m{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){li(e.mutations.length===o.length);let a=cm;const u=e.mutations;for(let p=0;p<u.length;p++)a=a.insert(u[p].key,o[p].version);return new _m(e,t,o,a)}}class vm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Go,zr;function bm(r){switch(r){default:return ni();case Jt.CANCELLED:case Jt.UNKNOWN:case Jt.DEADLINE_EXCEEDED:case Jt.RESOURCE_EXHAUSTED:case Jt.INTERNAL:case Jt.UNAVAILABLE:case Jt.UNAUTHENTICATED:return!1;case Jt.INVALID_ARGUMENT:case Jt.NOT_FOUND:case Jt.ALREADY_EXISTS:case Jt.PERMISSION_DENIED:case Jt.FAILED_PRECONDITION:case Jt.ABORTED:case Jt.OUT_OF_RANGE:case Jt.UNIMPLEMENTED:case Jt.DATA_LOSS:return!0}}function Qg(r){if(void 0===r)return Mr("GRPC error has no .code"),Jt.UNKNOWN;switch(r){case Go.OK:return Jt.OK;case Go.CANCELLED:return Jt.CANCELLED;case Go.UNKNOWN:return Jt.UNKNOWN;case Go.DEADLINE_EXCEEDED:return Jt.DEADLINE_EXCEEDED;case Go.RESOURCE_EXHAUSTED:return Jt.RESOURCE_EXHAUSTED;case Go.INTERNAL:return Jt.INTERNAL;case Go.UNAVAILABLE:return Jt.UNAVAILABLE;case Go.UNAUTHENTICATED:return Jt.UNAUTHENTICATED;case Go.INVALID_ARGUMENT:return Jt.INVALID_ARGUMENT;case Go.NOT_FOUND:return Jt.NOT_FOUND;case Go.ALREADY_EXISTS:return Jt.ALREADY_EXISTS;case Go.PERMISSION_DENIED:return Jt.PERMISSION_DENIED;case Go.FAILED_PRECONDITION:return Jt.FAILED_PRECONDITION;case Go.ABORTED:return Jt.ABORTED;case Go.OUT_OF_RANGE:return Jt.OUT_OF_RANGE;case Go.UNIMPLEMENTED:return Jt.UNIMPLEMENTED;case Go.DATA_LOSS:return Jt.DATA_LOSS;default:return ni()}}(zr=Go||(Go={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";class Xg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ed}static getOrCreateInstance(){return null===ed&&(ed=new Xg),ed}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ed=null;function Jg(){return new TextEncoder}const e_=new wn([4294967295,4294967295],0);function wm(r){const e=Jg().encode(r),t=new rl;return t.update(e),new Uint8Array(t.digest())}function xm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new wn([t,o],0),new wn([a,u],0)]}class Hu{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new zd(`Invalid padding: ${t}`);if(o<0)throw new zd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new zd(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new zd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=wn.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(wn.fromNumber(o)));return 1===a.compare(e_)&&(a=new wn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wm(e),[o,a]=xm(t);for(let u=0;u<this.hashCount;u++){const p=this.Et(o,a,u);if(!this.At(p))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),p=new Hu(u,a,t);return o.forEach(M=>p.insert(M)),p}insert(e){if(0===this.It)return;const t=wm(e),[o,a]=xm(t);for(let u=0;u<this.hashCount;u++){const p=this.Et(o,a,u);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ec{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Ec(Wn.min(),a,new kr(Fn),Ra(),tr())}}class Wl{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Wl(o,t,tr(),tr(),tr())}}class zu{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class Gh{constructor(e,t){this.targetId=e,this.Vt=t}}class $u{constructor(e,t,o=ns.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class Em{constructor(){this.St=0,this.Dt=t_(),this.Ct=ns.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=tr(),t=tr(),o=tr();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:ni()}}),new Wl(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=t_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ra(),this.zt=$d(),this.Wt=new kr(Fn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:ni()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const p=u.target;if(ii(p))if(0===a){const M=new x(p.path);this.Yt(o,M,eo.newNoDocument(M,Wn.min()))}else li(1===a);else{const M=this.ie(o);if(M!==a){const $=this.re(e,M);0!==$&&(this.ee(o),this.Wt=this.Wt.insert(o,2===$?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(J,ge,tt){var Yt,mn,Ln,Jn,si,nr;const $r={localCacheCount:ge,existenceFilterCount:tt.count},Ki=tt.unchangedNames;return Ki&&($r.bloomFilter={applied:0===J,hashCount:null!==(Yt=Ki?.hashCount)&&void 0!==Yt?Yt:0,bitmapLength:null!==(Jn=null===(Ln=null===(mn=Ki?.bits)||void 0===mn?void 0:mn.bitmap)||void 0===Ln?void 0:Ln.length)&&void 0!==Jn?Jn:0,padding:null!==(nr=null===(si=Ki?.bits)||void 0===si?void 0:si.padding)&&void 0!==nr?nr:0}),$r}($,M,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:p=0},hashCount:M=0}=o;let $,J;try{$=Ga(u).toUint8Array()}catch(ge){if(ge instanceof gc)return Ds("Decoding the base64 bloom filter in existence filter failed ("+ge.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ge}try{J=new Hu($,p,M)}catch(ge){return Ds(ge instanceof zd?"BloomFilter error: ":"Applying bloom filter failed: ",ge),1}return 0===J.It?1:a!==t-this.oe(e.targetId,J)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const p=this.Gt.ue(),M=`projects/${p.projectId}/databases/${p.database}/documents/${u.path.canonicalString()}`;t.vt(M)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,p)=>{const M=this.se(p);if(M){if(u.current&&ii(M.target)){const $=new x(M.target.path);null!==this.jt.get($)||this.ae(p,$)||this.Yt(p,$,eo.newNoDocument($,e))}u.Mt&&(t.set(p,u.Ot()),u.Ft())}});let o=tr();this.zt.forEach((u,p)=>{let M=!0;p.forEachWhile($=>{const J=this.se($);return!J||"TargetPurposeLimboResolution"===J.purpose||(M=!1,!1)}),M&&(o=o.add(u))}),this.jt.forEach((u,p)=>p.setReadTime(e));const a=new Ec(e,t,this.Wt,this.jt,o);return this.jt=Ra(),this.zt=$d(),this.Wt=new kr(Fn),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Em,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Or(Fn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||In("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Em),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function $d(){return new kr(x.comparator)}function t_(){return new kr(x.comparator)}const n_={asc:"ASCENDING",desc:"DESCENDING"},dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uy={and:"AND",or:"OR"};class hy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(r,e){return r.useProto3Json||Xs(e)?e:{value:e}}function td(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Dm(r,e){return td(r,e.toTimestamp())}function Wo(r){return li(!!r),Wn.fromTimestamp(function(e){const t=El(e);return new Fi(t.seconds,t.nanos)}(r))}function Im(r,e){return(t=r,new Ii(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(r){const e=Ii.fromString(r);return li(u_(e)),e}function Kh(r,e){return Im(r.databaseId,e.path)}function kl(r,e){const t=i_(e);if(t.get(1)!==r.databaseId.projectId)throw new R(Jt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new R(Jt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new x(Ku(t))}function Wu(r,e){return Im(r.databaseId,e)}function r_(r){const e=i_(r);return 4===e.length?Ii.emptyPath():Ku(e)}function Kl(r){return new Ii(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ku(r){return li(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Zh(r,e,t){return{name:Kh(r,e),fields:t.value.mapValue.fields}}function Sm(r,e,t){const o=kl(r,e.name),a=Wo(e.updateTime),u=e.createTime?Wo(e.createTime):Wn.min(),p=new Er({mapValue:{fields:e.fields}}),M=eo.newFoundDocument(o,a,u,p);return t&&M.setHasCommittedMutations(),t?M.setHasCommittedMutations():M}function cl(r,e){let t;if(e instanceof Hd)t={update:Zh(r,e.key,e.value)};else if(e instanceof xc)t={delete:Kh(r,e.key)};else if(e instanceof Gl)t={update:Zh(r,e.key,e.data),updateMask:d_(e.fieldMask)};else{if(!(e instanceof $h))return ni();t={verify:Kh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const p=u.transform;if(p instanceof Qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Vd)return{fieldPath:u.field.canonicalString(),increment:p.gt};throw ni()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Dm(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ni()),t;var a}function Tm(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?is.updateTime(Wo(a.updateTime)):void 0!==a.exists?is.exists(a.exists):is.none():is.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,p){let M=null;"setToServerValue"in p?(li("REQUEST_TIME"===p.setToServerValue),M=new Qc):"appendMissingElements"in p?M=new Xc(p.appendMissingElements.values||[]):"removeAllFromArray"in p?M=new zl(p.removeAllFromArray.values||[]):"increment"in p?M=new Vd(u,p.increment):ni();const $=fr.fromServerFormat(p.fieldPath);return new Vu($,M)}(r,a)):[];var a;if(e.update){const a=kl(r,e.update.name),u=new Er({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Us((e.updateMask.fieldPaths||[]).map(J=>fr.fromServerFormat(J)));return new Gl(a,u,p,t,o)}return new Hd(a,u,t,o)}if(e.delete){const a=kl(r,e.delete);return new xc(a,t)}if(e.verify){const a=kl(r,e.verify);return new $h(a,t)}return ni()}function a_(r,e){return{documents:[Wu(r,e.path)]}}function Mm(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Wu(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Wu(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function($){if(0!==$.length)return c_(co.create($,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function($){if(0!==$.length)return $.map(J=>{return{field:Cc((ge=J).field),direction:my(ge.dir)};var ge})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Wh(r,e.limit);var M,$;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function l_(r){let e=r_(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){li(1===o);const ge=t.from[0];ge.allDescendants?a=ge.collectionId:e=e.child(ge.collectionId)}let u=[];t.where&&(u=function(ge){const tt=nd(ge);return tt instanceof co&&Fd(tt)?tt.getFilters():[tt]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(ge=>{return new Ea(Gd((tt=ge).field),function(Yt){switch(Yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction));var tt}));let M=null;t.limit&&(M=function(ge){let tt;return tt="object"==typeof ge?ge.value:ge,Xs(tt)?null:tt}(t.limit));let $=null;var ge;t.startAt&&($=new zs((ge=t.startAt).values||[],!!ge.before));let J=null;return t.endAt&&(J=function(ge){return new zs(ge.values||[],!ge.before)}(t.endAt)),Bd(e,a,p,u,M,"F",$,J)}function nd(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gd(e.unaryFilter.field);return pr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Gd(e.unaryFilter.field);return pr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gd(e.unaryFilter.field);return pr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gd(e.unaryFilter.field);return pr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ni()}}(r):void 0!==r.fieldFilter?pr.create(Gd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ni()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return co.create(e.compositeFilter.filters.map(t=>nd(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ni()}}(e.compositeFilter.op))}(r):ni();var e}function my(r){return n_[r]}function py(r){return dy[r]}function gy(r){return uy[r]}function Cc(r){return{fieldPath:r.canonicalString()}}function Gd(r){return fr.fromServerFormat(r.fieldPath)}function c_(r){return r instanceof pr?function(e){if("=="===e.op){if(Ft(e.value))return{unaryFilter:{field:Cc(e.field),op:"IS_NAN"}};if(gt(e.value))return{unaryFilter:{field:Cc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ft(e.value))return{unaryFilter:{field:Cc(e.field),op:"IS_NOT_NAN"}};if(gt(e.value))return{unaryFilter:{field:Cc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cc(e.field),op:py(e.op),value:e.value}}}(r):r instanceof co?function(e){const t=e.getFilters().map(o=>c_(o));return 1===t.length?t[0]:{compositeFilter:{op:gy(e.op),filters:t}}}(r):ni()}function d_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Yl{constructor(e,t,o,a,u=Wn.min(),p=Wn.min(),M=ns.EMPTY_BYTE_STRING,$=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=M,this.expectedCount=$}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class h_{constructor(e){this.fe=e}}function Zu(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Qa(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Kh(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:td(a,u.version.toTimestamp()),createTime:td(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:dl(e.version)};else{if(!e.isUnknownDocument())return ni();o.unknownDocument={path:t.path.toArray(),version:dl(e.version)}}var a,u;return o}function Qa(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function dl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dc(r){const e=new Fi(r.seconds,r.nanoseconds);return Wn.fromTimestamp(e)}function Ic(r,e){const t=(e.baseMutations||[]).map(u=>Tm(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>Tm(r.fe,u)),a=Fi.fromMillis(e.localWriteTimeMs);return new ju(e.batchId,a,t,o)}function Wd(r){const e=Dc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Dc(r.lastLimboFreeSnapshotVersion):Wn.min();let o;var a;return void 0!==r.query.documents?(li(1===(a=r.query).documents.length),o=$s(_c(r_(a.documents[0])))):o=$s(l_(r.query)),new Yl(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,ns.fromBase64String(r.resumeToken))}function vy(r,e){const t=dl(e.snapshotVersion),o=dl(e.lastLimboFreeSnapshotVersion);let a;a=ii(e.target)?a_(r.fe,e.target):Mm(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tn(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function f_(r){const e=l_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?qa(e,e.limit,"L"):e}function m_(r,e){return new vm(e.largestBatchId,Tm(r.fe,e.overlayMutation))}function Yh(r,e){const t=e.path.lastSegment();return[r,Ro(e.path.popLast()),t]}function qh(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:dl(o.readTime),documentKey:Ro(o.documentKey.path),largestBatchId:o.largestBatchId}}class m0{getBundleMetadata(e,t){return yy(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Dc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return yy(e).put({bundleId:(o=t).id,createTime:dl(Wo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Am(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:f_(a.bundledQuery),readTime:Dc(a.readTime)};var a})}saveNamedQuery(e,t){return Am(e).put({name:(o=t).name,readTime:dl(Wo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function yy(r){return bs(r,"bundles")}function Am(r){return bs(r,"namedQueries")}class Qh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qh(e,t.uid||"")}getOverlay(e,t){return Yu(e).get(Yh(this.userId,t)).next(o=>o?m_(this.serializer,o):null)}getOverlays(e,t){const o=Al();return Nt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,p)=>{const M=new vm(t,p);a.push(this.we(e,M))}),Nt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(p=>a.add(Ro(p.getCollectionPath())));const u=[];return a.forEach(p=>{const M=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,o+1],!1,!0);u.push(Yu(e).J("collectionPathOverlayIndex",M))}),Nt.waitFor(u)}getOverlaysForCollection(e,t,o){const a=Al(),u=Ro(t),p=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Yu(e).j("collectionPathOverlayIndex",p).next(M=>{for(const $ of M){const J=m_(this.serializer,$);a.set(J.getKey(),J)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=Al();let p;const M=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yu(e).X({index:"collectionGroupOverlayIndex",range:M},($,J,ge)=>{const tt=m_(this.serializer,J);u.size()<a||tt.largestBatchId===p?(u.set(tt.getKey(),tt),p=tt.largestBatchId):ge.done()}).next(()=>u)}we(e,t){return Yu(e).put(function(o,a,u){const[p,M,$]=Yh(a,u.mutation.key);return{userId:a,collectionPath:M,documentId:$,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:cl(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Yu(r){return bs(r,"documentOverlays")}class id{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Do(e.integerValue));else if("doubleValue"in e){const o=Do(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Pa(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ga(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?$n(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ni()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),x.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function by(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function km(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=by(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}id.Ve=new id;class Xh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=km(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=km(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class p_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Om{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class qu{constructor(){this.je=new Xh,this.ze=new p_(this.je),this.We=new Om(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class jo{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new jo(this.indexId,this.documentKey,this.arrayValue,o)}}function Sc(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=g_(r.arrayValue,e.arrayValue),0!==t?t:(t=g_(r.directionalValue,e.directionalValue),0!==t?t:x.comparator(r.documentKey,e.documentKey)))}function g_(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Rm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){li(e.collectionGroup===this.collectionId);const t=w(e);if(void 0!==t&&!this.en(t))return!1;const o=N(e);let a=new Set,u=0,p=0;for(;u<o.length&&this.en(o[u]);++u)a=a.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const M=o[u];if(!this.nn(this.Ze,M)||!this.sn(this.Ye[p++],M))return!1}++u}for(;u<o.length;++u)if(p>=this.Ye.length||!this.sn(this.Ye[p++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pm(r){var e,t;if(li(r instanceof pr||r instanceof co),r instanceof pr){if(r instanceof g){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>pr.create(r.field,"==",u)))||[];return co.create(a,"or")}return r}const o=r.filters.map(a=>Pm(a));return co.create(o,r.op)}function wy(r){if(0===r.getFilters().length)return[];const e=Jh(Pm(r));return li(__(e)),Fm(e)||Nm(e)?[e]:e.getFilters()}function Fm(r){return r instanceof pr}function Nm(r){return r instanceof co&&Fd(r)}function __(r){return Fm(r)||Nm(r)||function(e){if(e instanceof co&&Sl(e)){for(const t of e.getFilters())if(!Fm(t)&&!Nm(t))return!1;return!0}return!1}(r)}function Jh(r){if(li(r instanceof pr||r instanceof co),r instanceof pr)return r;if(1===r.filters.length)return Jh(r.filters[0]);const e=r.filters.map(o=>Jh(o));let t=co.create(e,r.op);return t=Tc(t),__(t)?t:(li(t instanceof co),li(ua(t)),li(t.filters.length>1),t.filters.reduce((o,a)=>v_(o,a)))}function v_(r,e){let t;return li(r instanceof pr||r instanceof co),li(e instanceof pr||e instanceof co),t=r instanceof pr?e instanceof pr?co.create([r,e],"and"):xy(r,e):e instanceof pr?xy(e,r):function(o,a){if(li(o.filters.length>0&&a.filters.length>0),ua(o)&&ua(a))return om(o,a.getFilters());const u=Sl(o)?o:a,p=Sl(o)?a:o,M=u.filters.map($=>v_($,p));return co.create(M,"or")}(r,e),Tc(t)}function xy(r,e){if(ua(e))return om(e,r.getFilters());{const t=e.filters.map(o=>v_(r,o));return co.create(t,"or")}}function Tc(r){if(li(r instanceof pr||r instanceof co),r instanceof pr)return r;const e=r.getFilters();if(1===e.length)return Tc(e[0]);if(rm(r))return r;const t=e.map(a=>Tc(a)),o=[];return t.forEach(a=>{a instanceof pr?o.push(a):a instanceof co&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:co.create(o,r.op)}class mo{constructor(){this.rn=new rd}addToCollectionParentIndex(e,t){return this.rn.add(t),Nt.resolve()}getCollectionParents(e,t){return Nt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Nt.resolve()}deleteFieldIndex(e,t){return Nt.resolve()}getDocumentsMatchingTarget(e,t){return Nt.resolve(null)}getIndexType(e,t){return Nt.resolve(0)}getFieldIndexes(e,t){return Nt.resolve([])}getNextCollectionGroupToUpdate(e){return Nt.resolve(null)}getMinOffset(e,t){return Nt.resolve(un.min())}getMinOffsetFromCollectionGroup(e,t){return Nt.resolve(un.min())}updateCollectionGroup(e,t,o){return Nt.resolve()}updateIndexEntries(e,t){return Nt.resolve()}}class rd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new Or(Ii.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Or(Ii.comparator)).toArray()}}const Qu=new Uint8Array(0);class y_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new rd,this.un=new Ml(o=>tn(o),(o,a)=>Nn(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:Ro(a)};return Lm(e).put(u)}return Nt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[Oi(t),""],!1,!0);return Lm(e).j(a).next(u=>{for(const p of u){if(p.collectionId!==t)break;o.push(us(p.parent))}return o})}addFieldIndex(e,t){const o=ef(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var p;delete a.indexId;const u=o.add(a);if(t.indexState){const p=Kd(e);return u.next(M=>{p.put(qh(M,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=ef(e),a=Kd(e),u=od(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=od(e);let a=!0;const u=new Map;return Nt.forEach(this.cn(t),p=>this.an(e,p).next(M=>{a&&(a=!!M),u.set(p,M)})).next(()=>{if(a){let p=tr();const M=[];return Nt.forEach(u,($,J)=>{var ge;In("IndexedDbIndexManager",`Using index ${ge=$,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(Ki=>`${Ki.fieldPath}:${Ki.kind}`).join(",")}`} to execute ${tn(t)}`);const tt=function(Ki,fs){const Ho=w(fs);if(void 0===Ho)return null;for(const Po of vi(Ki,Ho.fieldPath))switch(Po.op){case"array-contains-any":return Po.value.arrayValue.values||[];case"array-contains":return[Po.value]}return null}(J,$),Yt=function(Ki,fs){const Ho=new Map;for(const Po of N(fs))for(const pa of vi(Ki,Po.fieldPath))switch(pa.op){case"==":case"in":Ho.set(Po.fieldPath.canonicalString(),pa.value);break;case"not-in":case"!=":return Ho.set(Po.fieldPath.canonicalString(),pa.value),Array.from(Ho.values())}return null}(J,$),mn=function(Ki,fs){const Ho=[];let Po=!0;for(const pa of N(fs)){const _l=0===pa.kind?lr(Ki,pa.fieldPath,Ki.startAt):ha(Ki,pa.fieldPath,Ki.startAt);Ho.push(_l.value),Po&&(Po=_l.inclusive)}return new zs(Ho,Po)}(J,$),Ln=function(Ki,fs){const Ho=[];let Po=!0;for(const pa of N(fs)){const _l=0===pa.kind?ha(Ki,pa.fieldPath,Ki.endAt):lr(Ki,pa.fieldPath,Ki.endAt);Ho.push(_l.value),Po&&(Po=_l.inclusive)}return new zs(Ho,Po)}(J,$),Jn=this.hn($,J,mn),si=this.hn($,J,Ln),nr=this.ln($,J,Yt),$r=this.fn($.indexId,tt,Jn,mn.inclusive,si,Ln.inclusive,nr);return Nt.forEach($r,Ki=>o.H(Ki,t.limit).next(fs=>{fs.forEach(Ho=>{const Po=x.fromSegments(Ho.documentKey);p.has(Po)||(p=p.add(Po),M.push(Po))})}))}).next(()=>M)}return Nt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wy(co.create(e.filters,"and")).map(o=>It(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,p,M){const $=(null!=t?t.length:1)*Math.max(o.length,u.length),J=$/(null!=t?t.length:1),ge=[];for(let tt=0;tt<$;++tt){const Yt=t?this.dn(t[tt/J]):Qu,mn=this.wn(e,Yt,o[tt%J],a),Ln=this._n(e,Yt,u[tt%J],p),Jn=M.map(si=>this.wn(e,Yt,si,!0));ge.push(...this.createRange(mn,Ln,Jn))}return ge}wn(e,t,o,a){const u=new jo(e,x.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new jo(e,x.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Rm(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let p=null;for(const M of u)o.tn(M)&&(!p||M.fields.length>p.fields.length)&&(p=M);return p})}getIndexType(e,t){let o=2;const a=this.cn(t);return Nt.forEach(a,u=>this.an(e,u).next(p=>{p?0!==o&&p.fields.length<function(M){let $=new Or(fr.comparator),J=!1;for(const ge of M.filters)for(const tt of ge.getFlattenedFilters())tt.field.isKeyField()||("array-contains"===tt.op||"array-contains-any"===tt.op?J=!0:$=$.add(tt.field));for(const ge of M.orderBy)ge.field.isKeyField()||($=$.add(ge.field));return $.size+(J?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new qu;for(const a of N(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const p=o.He(a.kind);id.Ve._e(u,p)}return o.Qe()}dn(e){const t=new qu;return id.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new qu;return id.Ve._e(L(this.databaseId,t),o.He(function(a){const u=N(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new qu);let u=0;for(const p of N(e)){const M=o[u++];for(const $ of a)if(this.yn(t,p.fieldPath)&&Pe(M))a=this.pn(a,p,M);else{const J=$.He(p.kind);id.Ve._e(M,J)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const p of o.arrayValue.values||[])for(const M of a){const $=new qu;$.seed(M.Qe()),id.Ve._e(p,$.He(t.kind)),u.push($)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof pr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=ef(e),a=Kd(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const p=[];return Nt.forEach(u,M=>a.get([M.indexId,this.uid]).next($=>{p.push(function(J,ge){const tt=ge?new Dt(ge.sequenceNumber,new un(Dc(ge.readTime),new x(us(ge.documentKey)),ge.largestBatchId)):Dt.empty(),Yt=J.fields.map(([mn,Ln])=>new ye(fr.fromServerFormat(mn),Ln));return new k(J.indexId,J.collectionGroup,Yt,tt)}(M,$))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:Fn(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=ef(e),u=Kd(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>Nt.forEach(M,$=>u.put(qh($.indexId,this.user,p,o)))))}updateIndexEntries(e,t){const o=new Map;return Nt.forEach(t,(a,u)=>{const p=o.get(a.collectionGroup);return(p?Nt.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(M=>(o.set(a.collectionGroup,M),Nt.forEach(M,$=>this.En(e,a,$).next(J=>{const ge=this.An(u,$);return J.isEqual(ge)?Nt.resolve():this.vn(e,u,$,J,ge)}))))})}Rn(e,t,o,a){return od(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return od(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=od(e);let u=new Or(Sc);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(p,M)=>{u=u.add(new jo(o.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>u)}An(e,t){let o=new Or(Sc);const a=this.mn(t,e);if(null==a)return o;const u=w(t);if(null!=u){const p=e.data.field(u.fieldPath);if(Pe(p))for(const M of p.arrayValue.values||[])o=o.add(new jo(t.indexId,e.key,this.dn(M),a))}else o=o.add(new jo(t.indexId,e.key,Qu,a));return o}vn(e,t,o,a,u){In("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(M,$,J,ge,tt){const Yt=M.getIterator(),mn=$.getIterator();let Ln=La(Yt),Jn=La(mn);for(;Ln||Jn;){let si=!1,nr=!1;if(Ln&&Jn){const $r=J(Ln,Jn);$r<0?nr=!0:$r>0&&(si=!0)}else null!=Ln?nr=!0:si=!0;si?(ge(Jn),Jn=La(mn)):nr?(tt(Ln),Ln=La(Yt)):(Ln=La(Yt),Jn=La(mn))}}(a,u,Sc,M=>{p.push(this.Rn(e,t,o,M))},M=>{p.push(this.Pn(e,t,o,M))}),Nt.waitFor(p)}Tn(e){let t=1;return Kd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((p,M)=>Sc(p,M)).filter((p,M,$)=>!M||0!==Sc(p,$[M-1]));const a=[];a.push(e);for(const p of o){const M=Sc(p,e),$=Sc(p,t);if(0===M)a[0]=e.Je();else if(M>0&&$<0)a.push(p),a.push(p.Je());else if($>0)break}a.push(t);const u=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];u.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Qu,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Qu,[]]))}return u}bn(e,t){return Sc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bm)}getMinOffset(e,t){return Nt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||ni())).next(Bm)}}function Lm(r){return bs(r,"collectionParents")}function od(r){return bs(r,"indexEntries")}function ef(r){return bs(r,"indexConfiguration")}function Kd(r){return bs(r,"indexState")}function Bm(r){li(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;Un(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new un(e.readTime,e.documentKey,t)}const tf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ca{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ca(e,Ca.DEFAULT_COLLECTION_PERCENTILE,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nf(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],p=IDBKeyRange.only(t.batchId);let M=0;const $=o.X({range:p},(ge,tt,Yt)=>(M++,Yt.delete()));u.push($.next(()=>{li(1===M)}));const J=[];for(const ge of t.mutations){const tt=dc(e,ge.key.path,t.batchId);u.push(a.delete(tt)),J.push(ge.key)}return Nt.waitFor(u).next(()=>J)}function rf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ni();e=r.noDocument}return JSON.stringify(e).length}Ca.DEFAULT_COLLECTION_PERCENTILE=10,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ca.DEFAULT=new Ca(41943040,Ca.DEFAULT_COLLECTION_PERCENTILE,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ca.DISABLED=new Ca(-1,0,0);class Zd{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){li(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Zd(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ql(e).X({index:"userMutationsIndex",range:o},(a,u,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=Xa(e),p=ql(e);return p.add({}).next(M=>{li("number"==typeof M);const $=new ju(M,t,o,a),J=function(Yt,mn,Ln){const Jn=Ln.baseMutations.map(nr=>cl(Yt.fe,nr)),si=Ln.mutations.map(nr=>cl(Yt.fe,nr));return{userId:mn,batchId:Ln.batchId,localWriteTimeMs:Ln.localWriteTime.toMillis(),baseMutations:Jn,mutations:si}}(this.serializer,this.userId,$),ge=[];let tt=new Or((Yt,mn)=>Fn(Yt.canonicalString(),mn.canonicalString()));for(const Yt of a){const mn=dc(this.userId,Yt.key.path,M);tt=tt.add(Yt.key.path.popLast()),ge.push(p.put(J)),ge.push(u.put(mn,uc))}return tt.forEach(Yt=>{ge.push(this.indexManager.addToCollectionParentIndex(e,Yt))}),e.addOnCommittedListener(()=>{this.Vn[M]=$.keys()}),Nt.waitFor(ge).next(()=>$)})}lookupMutationBatch(e,t){return ql(e).get(t).next(o=>o?(li(o.userId===this.userId),Ic(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Nt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return ql(e).X({index:"userMutationsIndex",range:a},(p,M,$)=>{M.userId===this.userId&&(li(M.batchId>=o),u=Ic(this.serializer,M)),$.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ql(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,p)=>{o=u.batchId,p.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ql(e).j("userMutationsIndex",t).next(o=>o.map(a=>Ic(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=da(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return Xa(e).X({range:a},(p,M,$)=>{const[J,ge,tt]=p,Yt=us(ge);if(J===this.userId&&t.path.isEqual(Yt))return ql(e).get(tt).next(mn=>{if(!mn)throw ni();li(mn.userId===this.userId),u.push(Ic(this.serializer,mn))});$.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Or(Fn);const a=[];return t.forEach(u=>{const p=da(this.userId,u.path),M=IDBKeyRange.lowerBound(p),$=Xa(e).X({range:M},(J,ge,tt)=>{const[Yt,mn,Ln]=J,Jn=us(mn);Yt===this.userId&&u.path.isEqual(Jn)?o=o.add(Ln):tt.done()});a.push($)}),Nt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=da(this.userId,o),p=IDBKeyRange.lowerBound(u);let M=new Or(Fn);return Xa(e).X({range:p},($,J,ge)=>{const[tt,Yt,mn]=$,Ln=us(Yt);tt===this.userId&&o.isPrefixOf(Ln)?Ln.length===a&&(M=M.add(mn)):ge.done()}).next(()=>this.Dn(e,M))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(ql(e).get(u).next(p=>{if(null===p)throw ni();li(p.userId===this.userId),o.push(Ic(this.serializer,p))}))}),Nt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return nf(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Nt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Nt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Xa(e).X({range:o},(u,p,M)=>{if(u[0]===this.userId){const $=us(u[1]);a.push($)}else M.done()}).next(()=>{li(0===a.length)})})}containsKey(e,t){return Um(e,this.userId,t)}xn(e){return b_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Um(r,e,t){const o=da(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let p=!1;return Xa(r).X({range:u,Y:!0},(M,$,J)=>{const[ge,tt,Yt]=M;ge===e&&tt===a&&(p=!0),J.done()}).next(()=>p)}function ql(r){return bs(r,"mutations")}function Xa(r){return bs(r,"documentMutations")}function b_(r){return bs(r,"mutationQueues")}class Ql{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ql(0)}static Mn(){return new Ql(-1)}}class sf{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new Ql(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Wn.fromTimestamp(new Fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(li(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return Yd(e).X((p,M)=>{const $=Wd(M);$.sequenceNumber<=t&&null===o.get($.targetId)&&(a++,u.push(this.removeTargetData(e,$)))}).next(()=>Nt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return Yd(e).X((o,a)=>{const u=Wd(a);t(u)})}$n(e){return af(e).get("targetGlobalKey").next(t=>(li(null!==t),t))}On(e,t){return af(e).put("targetGlobalKey",t)}Fn(e,t){return Yd(e).put(vy(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=tn(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Yd(e).X({range:a,index:"queryTargetsIndex"},(p,M,$)=>{const J=Wd(M);Nn(t,J.target)&&(u=J,$.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=ul(e);return t.forEach(p=>{const M=Ro(p.path);a.push(u.put({targetId:o,path:M})),a.push(this.referenceDelegate.addReference(e,o,p))}),Nt.waitFor(a)}removeMatchingKeys(e,t,o){const a=ul(e);return Nt.forEach(t,u=>{const p=Ro(u.path);return Nt.waitFor([a.delete([o,p]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=ul(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=ul(e);let u=tr();return a.X({range:o,Y:!0},(p,M,$)=>{const J=us(p[1]),ge=new x(J);u=u.add(ge)}).next(()=>u)}containsKey(e,t){const o=Ro(t.path),a=IDBKeyRange.bound([o],[Oi(o)],!1,!0);let u=0;return ul(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,M],$,J)=>{0!==p&&(u++,J.done())}).next(()=>u>0)}le(e,t){return Yd(e).get(t).next(o=>o?Wd(o):null)}}function Yd(r){return bs(r,"targets")}function af(r){return bs(r,"targetGlobal")}function ul(r){return bs(r,"targetDocuments")}function Mc([r,e],[t,o]){const a=Fn(r,t);return 0===a?Fn(e,o):a}class Vm{constructor(e){this.Ln=e,this.buffer=new Or(Mc),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Mc(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lf{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;In("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Re.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Hr(o)?In("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield mr(o)}yield t.Qn(3e5)}))}}class Ey{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Nt.resolve(Ss.ct);const o=new Vm(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(In("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(tf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(In("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tf):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,p,M,$,J;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(tt=>(tt>this.params.maximumSequenceNumbersToCollect?(In("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${tt}`),a=this.params.maximumSequenceNumbersToCollect):a=tt,p=Date.now(),this.nthSequenceNumber(e,a))).next(tt=>(o=tt,M=Date.now(),this.removeTargets(e,o,t))).next(tt=>(u=tt,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(tt=>(J=Date.now(),xa()<=De.in.DEBUG&&In("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-ge}ms\n\tDetermined least recently used ${a} in `+(M-p)+`ms\n\tRemoved ${u} targets in `+($-M)+`ms\n\tRemoved ${tt} documents in `+(J-$)+`ms\nTotal Duration: ${J-ge}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:tt})))}}class x_{constructor(e,t){this.db=e,this.garbageCollector=function w_(r,e){return new Ey(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return Xl(e,o)}removeReference(e,t,o){return Xl(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Xl(e,t)}Xn(e,t){return function(o,a){let u=!1;return b_(o).Z(p=>Um(o,p,a).next(M=>(M&&(u=!0),Nt.resolve(!M)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(p,M)=>{if(M<=t){const $=this.Xn(e,p).next(J=>{if(!J)return u++,o.getEntry(e,p).next(()=>(o.removeEntry(p,Wn.min()),ul(e).delete([0,Ro(p.path)])))});a.push($)}}).next(()=>Nt.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Xl(e,t)}Yn(e,t){const o=ul(e);let a,u=Ss.ct;return o.X({index:"documentTargetsIndex"},([p,M],{path:$,sequenceNumber:J})=>{0===p?(u!==Ss.ct&&t(new x(us(a)),u),u=J,a=$):u=Ss.ct}).next(()=>{u!==Ss.ct&&t(new x(us(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xl(r,e){return ul(r).put((o=r.currentSequenceNumber,{targetId:0,path:Ro(e.path),sequenceNumber:o}));var o}class E_{constructor(){this.changes=new Ml(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Nt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return sd(e).put(o)}removeEntry(e,t,o){return sd(e).delete(function(a,u){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Qa(u),p[p.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=eo.newInvalidDocument(t);return sd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:eo.newInvalidDocument(t)};return sd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(a,u)=>{o={document:this.ts(t,u),size:rf(u)}}).next(()=>o)}getEntries(e,t){let o=Ra();return this.ns(e,t,(a,u)=>{const p=this.ts(a,u);o=o.insert(a,p)}).next(()=>o)}ss(e,t){let o=Ra(),a=new kr(x.comparator);return this.ns(e,t,(u,p)=>{const M=this.ts(u,p);o=o.insert(u,M),a=a.insert(u,rf(p))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return Nt.resolve();let a=new Or(Dy);t.forEach($=>a=a.add($));const u=IDBKeyRange.bound(qd(a.first()),qd(a.last())),p=a.getIterator();let M=p.getNext();return sd(e).X({index:"documentKeyIndex",range:u},($,J,ge)=>{const tt=x.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;M&&Dy(M,tt)<0;)o(M,null),M=p.getNext();M&&M.isEqual(tt)&&(o(M,J),M=p.hasNext()?p.getNext():null),M?ge.G(qd(M)):ge.done()}).next(()=>{for(;M;)o(M,null),M=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,p=[u.popLast().toArray(),u.lastSegment(),Qa(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],M=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sd(e).j(IDBKeyRange.bound(p,M,!0)).next($=>{let J=Ra();for(const ge of $){const tt=this.ts(x.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);tt.isFoundDocument()&&(Oa(t,tt)||a.has(tt.key))&&(J=J.insert(tt.key,tt))}return J})}getAllFromCollectionGroup(e,t,o,a){let u=Ra();const p=cf(t,o),M=cf(t,un.max());return sd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,M,!0)},($,J,ge)=>{const tt=this.ts(x.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);u=u.insert(tt.key,tt),u.size===a&&ge.done()}).next(()=>u)}newChangeBuffer(e){return new jm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hm(e).get("remoteDocumentGlobalKey").next(t=>(li(!!t),t))}Zn(e,t){return Hm(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function _y(r,e){let t;if(e.document)t=Sm(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=x.fromSegments(e.noDocument.path),a=Dc(e.noDocument.readTime);t=eo.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ni();{const o=x.fromSegments(e.unknownDocument.path),a=Dc(e.unknownDocument.version);t=eo.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new Fi(o[0],o[1]);return Wn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Wn.min()))return o}return eo.newInvalidDocument(e)}}function C_(r){return new Cy(r)}class jm extends E_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ml(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new Or((u,p)=>Fn(u.canonicalString(),p.canonicalString()));return this.changes.forEach((u,p)=>{const M=this.us.get(u);if(t.push(this.os.removeEntry(e,u,M.readTime)),p.isValidDocument()){const $=Zu(this.os.serializer,p);a=a.add(u.path.popLast());const J=rf($);o+=J-M.size,t.push(this.os.addEntry(e,u,$))}else if(o-=M.size,this.trackRemovals){const $=Zu(this.os.serializer,p.convertToNoDocument(Wn.min()));t.push(this.os.addEntry(e,u,$))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),Nt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,p)=>{this.us.set(u,{size:p,readTime:o.get(u).readTime})}),o))}}function Hm(r){return bs(r,"remoteDocumentGlobal")}function sd(r){return bs(r,"remoteDocumentsV14")}function qd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cf(r,e){const t=e.documentKey.path.toArray();return[r,Qa(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Dy(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=Fn(t[u],o[u]),a)return a;return a=Fn(t.length,o.length),a||(a=Fn(t[t.length-2],o[o.length-2]),a||Fn(t[t.length-1],o[o.length-1]))}class Iy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D_{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&wc(o.mutation,a,Us.empty(),Fi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,tr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=tr()){const a=Al();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let p=Bu();return u.forEach((M,$)=>{p=p.insert(M,$.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const o=Al();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,tr()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((p,M)=>{t.set(p,M)})})}computeViews(e,t,o,a){let u=Ra();const p=Js(),M=Js();return t.forEach(($,J)=>{const ge=o.get(J.key);a.has(J.key)&&(void 0===ge||ge.mutation instanceof Gl)?u=u.insert(J.key,J):void 0!==ge?(p.set(J.key,ge.mutation.getFieldMask()),wc(ge.mutation,J,ge.mutation.getFieldMask(),Fi.now())):p.set(J.key,Us.empty())}),this.recalculateAndSaveOverlays(e,u).next($=>($.forEach((J,ge)=>p.set(J,ge)),t.forEach((J,ge)=>{var tt;return M.set(J,new Iy(ge,null!==(tt=p.get(J))&&void 0!==tt?tt:null))}),M))}recalculateAndSaveOverlays(e,t){const o=Js();let a=new kr((p,M)=>p-M),u=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const M of p)M.keys().forEach($=>{const J=t.get($);if(null===J)return;let ge=o.get($)||Us.empty();ge=M.applyToLocalView(J,ge),o.set($,ge);const tt=(a.get(M.batchId)||tr()).add($);a=a.insert(M.batchId,tt)})}).next(()=>{const p=[],M=a.getReverseIterator();for(;M.hasNext();){const $=M.getNext(),J=$.key,ge=$.value,tt=Vg();ge.forEach(Yt=>{if(!u.has(Yt)){const mn=mm(t.get(Yt),o.get(Yt));null!==mn&&tt.set(Yt,mn),u=u.add(Yt)}}),p.push(this.documentOverlayCache.saveOverlays(e,J,tt))}return Nt.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return x.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const p=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):Nt.resolve(Al());let M=-1,$=u;return p.next(J=>Nt.forEach(J,(ge,tt)=>(M<tt.largestBatchId&&(M=tt.largestBatchId),u.get(ge)?Nt.resolve():this.remoteDocumentCache.getEntry(e,ge).next(Yt=>{$=$.insert(ge,Yt)}))).next(()=>this.populateOverlays(e,J,u)).next(()=>this.computeViews(e,$,J,tr())).next(ge=>({batchId:M,changes:lm(ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new x(t)).next(o=>{let a=Bu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=Bu();return this.indexManager.getCollectionParents(e,a).next(p=>Nt.forEach(p,M=>{const $=(J=t,ge=M.child(a),new aa(ge,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,ge;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(J=>{J.forEach((ge,tt)=>{u=u.insert(ge,tt)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((M,$)=>{const J=$.getKey();null===u.get(J)&&(u=u.insert(J,eo.newInvalidDocument(J)))});let p=Bu();return u.forEach((M,$)=>{const J=a.get(M);void 0!==J&&wc(J.mutation,$,Us.empty(),Fi.now()),Oa(t,$)&&(p=p.insert(M,$))}),p})}}class Sy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Nt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Wo(o.createTime)}),Nt.resolve()}getNamedQuery(e,t){return Nt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:f_(o.bundledQuery),readTime:Wo(o.readTime)}),Nt.resolve();var o}}class p0{constructor(){this.overlays=new kr(x.comparator),this.ls=new Map}getOverlay(e,t){return Nt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Al();return Nt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),Nt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),Nt.resolve()}getOverlaysForCollection(e,t,o){const a=Al(),u=t.length+1,p=new x(t.child("")),M=this.overlays.getIteratorFrom(p);for(;M.hasNext();){const $=M.getNext().value,J=$.getKey();if(!t.isPrefixOf(J.path))break;J.path.length===u&&$.largestBatchId>o&&a.set($.getKey(),$)}return Nt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new kr((J,ge)=>J-ge);const p=this.overlays.getIterator();for(;p.hasNext();){const J=p.getNext().value;if(J.getKey().getCollectionGroup()===t&&J.largestBatchId>o){let ge=u.get(J.largestBatchId);null===ge&&(ge=Al(),u=u.insert(J.largestBatchId,ge)),ge.set(J.getKey(),J)}}const M=Al(),$=u.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((J,ge)=>M.set(J,ge)),!(M.size()>=a)););return Nt.resolve(M)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new vm(t,o));let u=this.ls.get(t);void 0===u&&(u=tr(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class I_{constructor(){this.fs=new Or(Ps.ds),this.ws=new Or(Ps._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Ps(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Ps(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new x(new Ii([])),o=new Ps(t,e),a=new Ps(t,e+1),u=[];return this.ws.forEachInRange([o,a],p=>{this.ys(p),u.push(p.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new x(new Ii([])),o=new Ps(t,e),a=new Ps(t,e+1);let u=tr();return this.ws.forEachInRange([o,a],p=>{u=u.add(p.key)}),u}containsKey(e){const t=new Ps(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Ps{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return x.comparator(e.key,t.key)||Fn(e.As,t.As)}static _s(e,t){return Fn(e.As,t.As)||x.comparator(e.key,t.key)}}class Ty{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Or(Ps.ds)}checkEmpty(e){return Nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const p=new ju(u,t,o,a);this.mutationQueue.push(p);for(const M of a)this.Rs=this.Rs.add(new Ps(M.key,u)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return Nt.resolve(p)}lookupMutationBatch(e,t){return Nt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return Nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ps(t,0),a=new Ps(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],p=>{const M=this.Ps(p.As);u.push(M)}),Nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Or(Fn);return t.forEach(a=>{const u=new Ps(a,0),p=new Ps(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,p],M=>{o=o.add(M.As)})}),Nt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;x.isDocumentKey(u)||(u=u.child(""));const p=new Ps(new x(u),0);let M=new Or(Fn);return this.Rs.forEachWhile($=>{const J=$.key.path;return!!o.isPrefixOf(J)&&(J.length===a&&(M=M.add($.As)),!0)},p),Nt.resolve(this.Vs(M))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){li(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Nt.forEach(t.mutations,a=>{const u=new Ps(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Ps(t,0),a=this.Rs.firstAfterOrEqual(o);return Nt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Nt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zm{constructor(e){this.Ds=e,this.docs=new kr(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p}),this.size+=p-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Nt.resolve(o?o.document.mutableCopy():eo.newInvalidDocument(t))}getEntries(e,t){let o=Ra();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():eo.newInvalidDocument(a))}),Nt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=Ra();const p=t.path,M=new x(p.child("")),$=this.docs.getIteratorFrom(M);for(;$.hasNext();){const{key:J,value:{document:ge}}=$.getNext();if(!p.isPrefixOf(J.path))break;J.path.length>p.length+1||Un(ui(ge),o)<=0||(a.has(ge.key)||Oa(t,ge))&&(u=u.insert(ge.key,ge.mutableCopy()))}return Nt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){ni()}Cs(e,t){return Nt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new $m(this)}getSize(e){return Nt.resolve(this.size)}}class $m extends E_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),Nt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xu{constructor(e){this.persistence=e,this.xs=new Ml(t=>tn(t),Nn),this.lastRemoteSnapshotVersion=Wn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new I_,this.targetCount=0,this.Ms=Ql.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),Nt.resolve()}getLastRemoteSnapshotVersion(e){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Nt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Nt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Nt.resolve()}updateTargetData(e,t){return this.Fn(t),Nt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((p,M)=>{M.sequenceNumber<=t&&null===o.get(M.targetId)&&(this.xs.delete(p),u.push(this.removeMatchingKeysForTargetId(e,M.targetId)),a++)}),Nt.waitFor(u).next(()=>a)}getTargetCount(e){return Nt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Nt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Nt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(p=>{u.push(a.markPotentiallyOrphaned(e,p))}),Nt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Nt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Nt.resolve(o)}containsKey(e,t){return Nt.resolve(this.ks.containsKey(t))}}class Ju{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ss(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xu(this),this.indexManager=new mo,this.remoteDocumentCache=new zm(o=>this.referenceDelegate.Ls(o)),this.serializer=new h_(t),this.qs=new Sy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Ty(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){In("MemoryPersistence","Starting transaction:",e);const a=new Gm(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return Nt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Gm extends Zi{constructor(e){super(),this.currentSequenceNumber=e}}class Ac{constructor(e){this.persistence=e,this.Qs=new I_,this.js=null}static zs(e){return new Ac(e)}get Ws(){if(this.js)return this.js;throw ni()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Nt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Nt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Nt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.Ws,o=>{const a=x.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,Wn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Nt.or([()=>Nt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class eh{constructor(e){this.serializer=e}O(e,t,o,a){const u=new Co("createOrUpgrade",t);var M;o<1&&a>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wl,{unique:!0}),M.createObjectStore("documentMutations"),Wm(e),function(M){M.createObjectStore("remoteDocuments")}(e));let p=Nt.resolve();return o<3&&a>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Wm(e)),p=p.next(()=>function(M){const $=M.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",J)}(u))),o<4&&a>=4&&(0!==o&&(p=p.next(()=>function(M,$){return $.store("mutations").j().next(J=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wl,{unique:!0});const ge=$.store("mutations"),tt=J.map(Yt=>ge.put(Yt));return Nt.waitFor(tt)})}(e,u))),p=p.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(p=p.next(()=>this.Ys(u))),o<6&&a>=6&&(p=p.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(p=p.next(()=>this.Zs(u))),o<8&&a>=8&&(p=p.next(()=>this.ti(e,u))),o<9&&a>=9&&(p=p.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(p=p.next(()=>this.ei(u))),o<11&&a>=11&&(p=p.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(p=p.next(()=>{!function(M){const $=M.createObjectStore("documentOverlays",{keyPath:za});$.createIndex("collectionPathOverlayIndex",Ru,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Wc,{unique:!1})}(e)})),o<13&&a>=13&&(p=p.next(()=>function(M){const $=M.createObjectStore("remoteDocumentsV14",{keyPath:hc});$.createIndex("documentKeyIndex",fc),$.createIndex("collectionGroupIndex",zc)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(p=p.next(()=>this.si(e,u))),o<15&&a>=15&&(p=p.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:$c}).createIndex("sequenceNumberIndex",Gc,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Bh}).createIndex("documentKeyIndex",mc,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=rf(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>Nt.forEach(a,u=>{const p=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",p).next(M=>Nt.forEach(M,$=>{li($.userId===u.userId);const J=Ic(this.serializer,$);return nf(e,u.userId,J).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((p,M)=>{const $=new Ii(p),J=[0,Ro($)];u.push(t.get(J).next(ge=>ge?Nt.resolve():t.put({targetId:0,path:Ro($),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Nt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:xl});const o=t.store("collectionParents"),a=new rd,u=p=>{if(a.add(p)){const M=p.lastSegment(),$=p.popLast();return o.put({collectionId:M,parent:Ro($)})}};return t.store("remoteDocuments").X({Y:!0},(p,M)=>{const $=new Ii(p);return u($.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,M,$],J)=>{const ge=us(M);return u(ge.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=Wd(a),p=vy(this.serializer,u);return t.put(p)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,p)=>{const M=t.store("remoteDocumentsV14"),$=(J=p,J.document?new x(Ii.fromString(J.document.name).popFirst(5)):J.noDocument?x.fromSegments(J.noDocument.path):J.unknownDocument?x.fromSegments(J.unknownDocument.path):ni()).path.toArray();var J;const ge={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(M.put(ge))}).next(()=>Nt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=C_(this.serializer),u=new Ju(Ac.zs,this.serializer.fe);return o.j().next(p=>{const M=new Map;return p.forEach($=>{var J;let ge=null!==(J=M.get($.userId))&&void 0!==J?J:tr();Ic(this.serializer,$).keys().forEach(tt=>ge=ge.add(tt)),M.set($.userId,ge)}),Nt.forEach(M,($,J)=>{const ge=new xo(J),tt=Qh.de(this.serializer,ge),Yt=u.getIndexManager(ge),mn=Zd.de(ge,this.serializer,Yt,u.referenceDelegate);return new D_(a,mn,tt,Yt).recalculateAndSaveOverlaysForDocumentKeys(new Zc(t,Ss.ct),$).next()})})}}function Wm(r){r.createObjectStore("targetDocuments",{keyPath:Lh}).createIndex("documentTargetsIndex",Ou,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fa,{unique:!0}),r.createObjectStore("targetGlobal")}const th="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qd{constructor(e,t,o,a,u,p,M,$,J,ge,tt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=p,this.document=M,this.ri=J,this.oi=ge,this.ui=tt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Yt=>Promise.resolve(),!Qd.D())throw new R(Jt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x_(this,a),this.di=t+"main",this.serializer=new h_($),this.wi=new Xi(this.di,this.ui,new eh(this.serializer)),this.Bs=new sf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C_(this.serializer),this.qs=new m0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ge&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new R(Jt.FAILED_PRECONDITION,th);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ss(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,Re.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Re.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Re.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Hr(e))return In("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return In("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return df(e).get("owner").next(t=>Nt.resolve(this.Ri(t)))}Pi(e){return Xd(e).delete(this.clientId)}bi(){var e=this;return(0,Re.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=bs(o,"clientMetadata");return a.j().next(u=>{const p=e.Si(u,18e5),M=u.filter($=>-1===p.indexOf($));return Nt.forEach(M,$=>a.delete($.clientId)).next(()=>M)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Nt.resolve(!0):df(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new R(Jt.FAILED_PRECONDITION,th);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xd(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&In("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Re.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Zc(t,Ss.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Xd(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Zd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){In("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(p=this.ui)?Bl:14===p?Kc:13===p?Od:12===p?$a:11===p?pc:void ni();var p;let M;return this.wi.runTransaction(e,a,u,$=>(M=new Zc($,this.Os?this.Os.next():Ss.ct),"readwrite-primary"===t?this.Ti(M).next(J=>!!J||this.Ei(M)).next(J=>{if(!J)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new R(Jt.FAILED_PRECONDITION,oi);return o(M)}).next(J=>this.vi(M).next(()=>J)):this.Oi(M).next(()=>o(M)))).then($=>(M.raiseOnCommittedEvent(),$))}Oi(e){return df(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new R(Jt.FAILED_PRECONDITION,th)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return df(e).put("owner",t)}static D(){return Xi.D()}Ai(e){const t=df(e);return t.get("owner").next(o=>this.Ri(o)?(In("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Nt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Mr(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,be.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return In("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Mr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function df(r){return bs(r,"owner")}function Xd(r){return bs(r,"clientMetadata")}function nh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class uf{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=tr(),a=tr();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new uf(e,t.fromCache,o,a)}}class S_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Lu(t))return Nt.resolve(null);let o=$s(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=qa(t,null,"F"),o=$s(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const p=tr(...u);return this.Ui.getDocuments(e,p).next(M=>this.indexManager.getMinOffset(e,o).next($=>{const J=this.ji(t,M);return this.zi(t,J,p,$.readTime)?this.Ki(e,qa(t,null,"F")):this.Wi(e,J,t,$)}))})))}Gi(e,t,o,a){return Lu(t)||a.isEqual(Wn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const p=this.ji(t,u);return this.zi(t,p,o,a)?this.Qi(e,t):(xa()<=De.in.DEBUG&&In("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bc(t)),this.Wi(e,p,t,Cn(a,-1)))})}ji(e,t){let o=new Or(Bg(e));return t.forEach((a,u)=>{Oa(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return xa()<=De.in.DEBUG&&In("QueryEngine","Using full collection scan to execute query:",bc(t)),this.Ui.getDocumentsMatchingQuery(e,t,un.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(p=>{u=u.insert(p.key,p)}),u))}}class My{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new kr(Fn),this.Yi=new Ml(u=>tn(u),Nn),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Km(r,e,t,o){return new My(r,e,t,o)}function Zm(r,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,Re.Z)(function*(r,e){const t=Bn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const p=[],M=[];let $=tr();for(const J of a){p.push(J.batchId);for(const ge of J.mutations)$=$.add(ge.key)}for(const J of u){M.push(J.batchId);for(const ge of J.mutations)$=$.add(ge.key)}return t.localDocuments.getDocuments(o,$).next(J=>({er:J,removedBatchIds:p,addedBatchIds:M}))})})}),Ym.apply(this,arguments)}function ky(r){const e=Bn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hf(r,e,t){let o=tr(),a=tr();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let p=Ra();return t.forEach((M,$)=>{const J=u.get(M);$.isFoundDocument()!==J.isFoundDocument()&&(a=a.add(M)),$.isNoDocument()&&$.version.isEqual(Wn.min())?(e.removeEntry(M,$.readTime),p=p.insert(M,$)):!J.isValidDocument()||$.version.compareTo(J.version)>0||0===$.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry($),p=p.insert(M,$)):In("LocalStore","Ignoring outdated watch update for ",M,". Current version:",J.version," Watch version:",$.version)}),{nr:p,sr:a}})}function qm(r,e){const t=Bn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Jd(r,e){const t=Bn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,Nt.resolve(a)):t.Bs.allocateTargetId(o).next(p=>(a=new Yl(e,p,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function ld(r,e,t){return ih.apply(this,arguments)}function ih(){return ih=(0,Re.Z)(function*(r,e,t){const o=Bn(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,p=>o.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Hr(p))throw p;In("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),ih.apply(this,arguments)}function cd(r,e,t){const o=Bn(r);let a=Wn.min(),u=tr();return o.persistence.runTransaction("Execute query","readonly",p=>function(M,$,J){const ge=Bn(M),tt=ge.Yi.get(J);return void 0!==tt?Nt.resolve(ge.Ji.get(tt)):ge.Bs.getTargetData($,J)}(o,p,$s(e)).next(M=>{if(M)return a=M.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(p,M.targetId).next($=>{u=$})}).next(()=>o.Hi.getDocumentsMatchingQuery(p,e,t?a:Wn.min(),t?u:tr())).next(M=>(M_(o,Lg(e),M),{documents:M,ir:u})))}function T_(r,e){const t=Bn(r),o=Bn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(p=>p?p.target:null))}function Qm(r,e){const t=Bn(r),o=t.Xi.get(e)||Wn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Cn(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(M_(t,e,a),a))}function M_(r,e,t){let o=r.Xi.get(e)||Wn.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function k_(){return k_=(0,Re.Z)(function*(r,e,t,o){const a=Bn(r);let u=tr(),p=Ra();for(const J of t){const ge=e.rr(J.metadata.name);J.document&&(u=u.add(ge));const tt=e.ur(J);tt.setReadTime(e.cr(J.metadata.readTime)),p=p.insert(ge,tt)}const M=a.Zi.newChangeBuffer({trackRemovals:!0}),$=yield Jd(a,(J=o,$s(_c(Ii.fromString(`__bundle__/docs/${J}`)))));var J;return a.persistence.runTransaction("Apply bundle documents","readwrite",J=>hf(J,M,p).next(ge=>(M.apply(J),ge)).next(ge=>a.Bs.removeMatchingKeysForTargetId(J,$.targetId).next(()=>a.Bs.addMatchingKeys(J,u,$.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(J,ge.nr,ge.sr)).next(()=>ge.nr)))}),k_.apply(this,arguments)}function Ry(r,e){return dd.apply(this,arguments)}function dd(){return dd=(0,Re.Z)(function*(r,e,t=tr()){const o=yield Jd(r,$s(f_(e.bundledQuery))),a=Bn(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const p=Wo(e.readTime);if(o.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(u,e);const M=o.withResumeToken(ns.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(M.targetId,M),a.Bs.updateTargetData(u,M).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),dd.apply(this,arguments)}function O_(r,e){return`firestore_clients_${r}_${e}`}function ud(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function hd(r,e){return`firestore_targets_${r}_${e}`}class ff{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(u=new R(a.error.code,a.error.message))),p?new ff(e,t,a.state,u):(Mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new R(o.error.code,o.error.message))),u?new eu(e,o.state,a):(Mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=qc();for(let p=0;a&&p<o.activeTargetIds.length;++p)a=Ll(o.activeTargetIds[p]),u=u.add(o.activeTargetIds[p]);return a?new mf(e,u):(Mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xm{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xm(t.clientId,t.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jm{constructor(){this.activeTargetIds=qc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pf{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new kr(Fn),this.started=!1,this.yr=[];const p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=O_(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Jm),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Re.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(O_(e.persistenceKey,a));if(u){const p=mf.ar(a,u);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(hd(this.persistenceKey,e));if(o){const a=eu.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hd(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return In("SharedClientState","READ",e,t),t}setItem(e,t){In("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){In("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(In("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Re.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let p=Ss.ct;if(null!=u)try{const M=JSON.parse(u);li("number"==typeof M),p=M}catch(M){Mr("SharedClientState","Failed to read sequence number from WebStorage",M)}return p}(o.newValue);a!==Ss.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new ff(this.currentUser,e,t,o),u=ud(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=ud(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=hd(this.persistenceKey,e),u=new eu(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return mf.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return ff.ar(new xo(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return eu.ar(a,t)}br(e){return Xm.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);In("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),p=[],M=[];return u.forEach($=>{a.has($)||p.push($)}),a.forEach($=>{u.has($)||M.push($)}),this.syncEngine.Wr(p,M).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=qc();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class ep{constructor(){this.Hr=new Jm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tp{Yr(e){}shutdown(){}}class tu{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){In("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){In("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rh=null;function R_(){return null===rh?rh=268435456+Math.round(2147483648*Math.random()):rh++,"0x"+rh.toString(16)}const np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gs="WebChannelConnection";class P_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const p=R_(),M=this.To(e,t);In("RestConnection",`Sending RPC '${e}' ${p}:`,M,o);const $={};return this.Eo($,a,u),this.Ao(e,M,$,o).then(J=>(In("RestConnection",`Received RPC '${e}' ${p}: `,J),J),J=>{throw Ds("RestConnection",`RPC '${e}' ${p} failed with error: `,J,"url: ",M,"request:",o),J})}vo(e,t,o,a,u,p){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ds,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${np[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=R_();return new Promise((p,M)=>{const $=new yl;$.setWithCredentials(!0),$.listenOnce(Qs.COMPLETE,()=>{try{switch($.getLastErrorCode()){case Oo.NO_ERROR:const ge=$.getResponseJson();In(Gs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ge)),p(ge);break;case Oo.TIMEOUT:In(Gs,`RPC '${e}' ${u} timed out`),M(new R(Jt.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:const tt=$.getStatus();if(In(Gs,`RPC '${e}' ${u} failed with status:`,tt,"response text:",$.getResponseText()),tt>0){let Yt=$.getResponseJson();Array.isArray(Yt)&&(Yt=Yt[0]);const mn=Yt?.error;if(mn&&mn.status&&mn.message){const Ln=function(Jn){const si=Jn.toLowerCase().replace(/_/g,"-");return Object.values(Jt).indexOf(si)>=0?si:Jt.UNKNOWN}(mn.status);M(new R(Ln,mn.message))}else M(new R(Jt.UNKNOWN,"Server responded with status "+$.getStatus()))}else M(new R(Jt.UNAVAILABLE,"Connection failed."));break;default:ni()}}finally{In(Gs,`RPC '${e}' ${u} completed.`)}});const J=JSON.stringify(a);In(Gs,`RPC '${e}' ${u} sending request:`,a),$.send(t,"POST",J,o,15)})}Ro(e,t,o){const a=R_(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Wr(),M=ia(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},J=this.longPollingOptions.timeoutSeconds;void 0!==J&&($.longPollingTimeout=Math.round(1e3*J)),this.useFetchStreams&&($.xmlHttpFactory=new lc({})),this.Eo($.initMessageHeaders,t,o),$.encodeInitMessageHeaders=!0;const ge=u.join("");In(Gs,`Creating RPC '${e}' stream ${a}: ${ge}`,$);const tt=p.createWebChannel(ge,$);let Yt=!1,mn=!1;const Ln=new nu({ro:si=>{mn?In(Gs,`Not sending because RPC '${e}' stream ${a} is closed:`,si):(Yt||(In(Gs,`Opening RPC '${e}' stream ${a} transport.`),tt.open(),Yt=!0),In(Gs,`RPC '${e}' stream ${a} sending:`,si),tt.send(si))},oo:()=>tt.close()}),Jn=(si,nr,$r)=>{si.listen(nr,Ki=>{try{$r(Ki)}catch(fs){setTimeout(()=>{throw fs},0)}})};return Jn(tt,wa.EventType.OPEN,()=>{mn||In(Gs,`RPC '${e}' stream ${a} transport opened.`)}),Jn(tt,wa.EventType.CLOSE,()=>{mn||(mn=!0,In(Gs,`RPC '${e}' stream ${a} transport closed`),Ln.wo())}),Jn(tt,wa.EventType.ERROR,si=>{mn||(mn=!0,Ds(Gs,`RPC '${e}' stream ${a} transport errored:`,si),Ln.wo(new R(Jt.UNAVAILABLE,"The operation could not be completed")))}),Jn(tt,wa.EventType.MESSAGE,si=>{var nr;if(!mn){const $r=si.data[0];li(!!$r);const fs=$r.error||(null===(nr=$r[0])||void 0===nr?void 0:nr.error);if(fs){In(Gs,`RPC '${e}' stream ${a} received error:`,fs);const Ho=fs.status;let Po=function(_l){const Au=Go[_l];if(void 0!==Au)return Qg(Au)}(Ho),pa=fs.message;void 0===Po&&(Po=Jt.INTERNAL,pa="Unknown error status: "+Ho+" with message "+fs.message),mn=!0,Ln.wo(new R(Po,pa)),tt.close()}else In(Gs,`RPC '${e}' stream ${a} received:`,$r),Ln._o($r)}}),Jn(M,ys.STAT_EVENT,si=>{si.stat===Rs.PROXY?In(Gs,`RPC '${e}' stream ${a} detected buffering proxy`):si.stat===Rs.NOPROXY&&In(Gs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ln.fo()},0),Ln}}function ip(){return typeof window<"u"?window:null}function gf(){return typeof document<"u"?document:null}function oh(r){return new hy(r,!0)}class rp{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&In("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F_{constructor(e,t,o,a,u,p,M,$){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=M,this.listener=$,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new rp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Re.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Re.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,Re.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===Jt.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===Jt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new R(Jt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Re.Z)(function*(){e.state=0,e.start()}))}tu(e){return In("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(In("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Py extends F_{constructor(e,t,o,a,u,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,p),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function s_(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:ni(),a=e.targetChange.targetIds||[],u=function($,J){return $.useProto3Json?(li(void 0===J||"string"==typeof J),ns.fromBase64String(J||"")):(li(void 0===J||J instanceof Uint8Array),ns.fromUint8Array(J||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,M=p&&function($){const J=void 0===$.code?Jt.UNKNOWN:Qg($.code);return new R(J,$.message||"")}(p);t=new $u(o,a,u,M||null)}else if("documentChange"in e){const o=e.documentChange,a=kl(r,o.document.name),u=Wo(o.document.updateTime),p=o.document.createTime?Wo(o.document.createTime):Wn.min(),M=new Er({mapValue:{fields:o.document.fields}}),$=eo.newFoundDocument(a,u,p,M);t=new zu(o.targetIds||[],o.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const o=e.documentDelete,a=kl(r,o.document),u=o.readTime?Wo(o.readTime):Wn.min(),p=eo.newNoDocument(a,u);t=new zu([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,a=kl(r,o.document);t=new zu([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ni();{const o=e.filter,{count:a=0,unchangedNames:u}=o,p=new qg(a,u);t=new Gh(o.targetId,p)}}var $;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return Wn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Wn.min():u.readTime?Wo(u.readTime):Wn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Kl(this.serializer),t.addTarget=function(a,u){let p;const M=u.target;if(p=ii(M)?{documents:a_(a,M)}:{query:Mm(a,M)},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=Gu(a,u.resumeToken);const $=Wh(a,u.expectedCount);null!==$&&(p.expectedCount=$)}else if(u.snapshotVersion.compareTo(Wn.min())>0){p.readTime=td(a,u.snapshotVersion.toTimestamp());const $=Wh(a,u.expectedCount);null!==$&&(p.expectedCount=$)}return p}(this.serializer,e);const o=function Zl(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ni()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Kl(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fy extends F_{constructor(e,t,o,a,u,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,p),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(li(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function fy(r,e){return r&&r.length>0?(li(void 0!==e),r.map(t=>function(o,a){let u=Wo(o.updateTime?o.updateTime:a);return u.isEqual(Wn.min())&&(u=Wo(a)),new fm(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Wo(e.commitTime);return this.listener.cu(o,t)}return li(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kl(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>cl(this.serializer,o))};this.Wo(t)}}class N_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new R(Jt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new R(Jt.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.vo(e,t,o,u,p,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new R(Jt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class L_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Mr(t),this.mu=!1):In("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g0{constructor(e,t,o,a,u){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(M=>{o.enqueueAndForget((0,Re.Z)(function*(){var $;Jl(p)&&(In("RemoteStore","Restarting streams for network reachability change."),yield($=(0,Re.Z)(function*(J){const ge=Bn(J);ge.vu.add(4),yield ah(ge),ge.bu.set("Unknown"),ge.vu.delete(4),yield sh(ge)}),function(J){return $.apply(this,arguments)})(p))}))}),this.bu=new L_(o,a)}}function sh(r){return B_.apply(this,arguments)}function B_(){return B_=(0,Re.Z)(function*(r){if(Jl(r))for(const e of r.Ru)yield e(!0)}),B_.apply(this,arguments)}function ah(r){return _f.apply(this,arguments)}function _f(){return _f=(0,Re.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),_f.apply(this,arguments)}function lh(r,e){const t=Bn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),wf(t)?bf(t):pd(t).Ko()&&yf(t,e))}function vf(r,e){const t=Bn(r),o=pd(t);t.Au.delete(e),o.Ko()&&ch(t,e),0===t.Au.size&&(o.Ko()?o.jo():Jl(t)&&t.bu.set("Unknown"))}function yf(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pd(r).su(e)}function ch(r,e){r.Vu.qt(e),pd(r).iu(e)}function bf(r){r.Vu=new Cm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),pd(r).start(),r.bu.gu()}function wf(r){return Jl(r)&&!pd(r).Uo()&&r.Au.size>0}function Jl(r){return 0===Bn(r).vu.size}function Ji(r){r.Vu=void 0}function U_(r){return xf.apply(this,arguments)}function xf(){return xf=(0,Re.Z)(function*(r){r.Au.forEach((e,t)=>{yf(r,e)})}),xf.apply(this,arguments)}function _0(r,e){return op.apply(this,arguments)}function op(){return op=(0,Re.Z)(function*(r,e){Ji(r),wf(r)?(r.bu.Iu(e),bf(r)):r.bu.set("Unknown")}),op.apply(this,arguments)}function V_(r,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,Re.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof $u&&2===e.state&&e.cause)try{yield(o=(0,Re.Z)(function*(a,u){const p=u.cause;for(const M of u.targetIds)a.Au.has(M)&&(yield a.remoteSyncer.rejectListen(M,p),a.Au.delete(M),a.Vu.removeTarget(M))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){In("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ef(r,o)}else if(e instanceof zu?r.Vu.Ht(e):e instanceof Gh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Wn.min()))try{const o=yield ky(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const p=a.Vu.ce(u);return p.targetChanges.forEach((M,$)=>{if(M.resumeToken.approximateByteSize()>0){const J=a.Au.get($);J&&a.Au.set($,J.withResumeToken(M.resumeToken,u))}}),p.targetMismatches.forEach((M,$)=>{const J=a.Au.get(M);if(!J)return;a.Au.set(M,J.withResumeToken(ns.EMPTY_BYTE_STRING,J.snapshotVersion)),ch(a,M);const ge=new Yl(J.target,M,$,J.sequenceNumber);yf(a,ge)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(o){In("RemoteStore","Failed to raise snapshot:",o),yield Ef(r,o)}var o}),sp.apply(this,arguments)}function Ef(r,e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Re.Z)(function*(r,e,t){if(!Hr(e))throw e;r.vu.add(1),yield ah(r),r.bu.set("Offline"),t||(t=()=>ky(r.localStore)),r.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){In("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield sh(r)}))}),Cf.apply(this,arguments)}function j_(r,e){return e().catch(t=>Ef(r,t,e))}function fd(r){return ap.apply(this,arguments)}function ap(){return ap=(0,Re.Z)(function*(r){const e=Bn(r),t=Ol(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ny(e);)try{const a=yield qm(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,v0(e,a)}catch(a){yield Ef(e,a)}lp(e)&&cp(e)}),ap.apply(this,arguments)}function Ny(r){return Jl(r)&&r.Eu.length<10}function v0(r,e){r.Eu.push(e);const t=Ol(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function lp(r){return Jl(r)&&!Ol(r).Uo()&&r.Eu.length>0}function cp(r){Ol(r).start()}function kc(r){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,Re.Z)(function*(r){Ol(r).hu()}),Oc.apply(this,arguments)}function H_(r){return dp.apply(this,arguments)}function dp(){return dp=(0,Re.Z)(function*(r){const e=Ol(r);for(const t of r.Eu)e.uu(t.mutations)}),dp.apply(this,arguments)}function Df(r,e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,Re.Z)(function*(r,e,t){const o=r.Eu.shift(),a=_m.from(o,e,t);yield j_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield fd(r)}),Rc.apply(this,arguments)}function up(r,e){return md.apply(this,arguments)}function md(){return md=(0,Re.Z)(function*(r,e){var t;e&&Ol(r).ou&&(yield(t=(0,Re.Z)(function*(o,a){if(bm(u=a.code)&&u!==Jt.ABORTED){const p=o.Eu.shift();Ol(o).Qo(),yield j_(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield fd(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),lp(r)&&cp(r)}),md.apply(this,arguments)}function hp(r,e){return dh.apply(this,arguments)}function dh(){return dh=(0,Re.Z)(function*(r,e){const t=Bn(r);t.asyncQueue.verifyOperationInProgress(),In("RemoteStore","RemoteStore received new credentials");const o=Jl(t);t.vu.add(3),yield ah(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield sh(t)}),dh.apply(this,arguments)}function uh(r,e){return hh.apply(this,arguments)}function hh(){return hh=(0,Re.Z)(function*(r,e){const t=Bn(r);e?(t.vu.delete(2),yield sh(t)):e||(t.vu.add(2),yield ah(t),t.bu.set("Unknown"))}),hh.apply(this,arguments)}function pd(r){return r.Su||(r.Su=function(e,t,o){const a=Bn(e);return a.fu(),new Py(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:U_.bind(null,r),ao:_0.bind(null,r),nu:V_.bind(null,r)}),r.Ru.push(function(){var e=(0,Re.Z)(function*(t){t?(r.Su.Qo(),wf(r)?bf(r):r.bu.set("Unknown")):(yield r.Su.stop(),Ji(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Ol(r){return r.Du||(r.Du=function(e,t,o){const a=Bn(e);return a.fu(),new Fy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:kc.bind(null,r),ao:up.bind(null,r),au:H_.bind(null,r),cu:Df.bind(null,r)}),r.Ru.push(function(){var e=(0,Re.Z)(function*(t){t?(r.Du.Qo(),yield fd(r)):(yield r.Du.stop(),r.Eu.length>0&&(In("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class fp{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new y,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,o,a,u){const p=Date.now()+o,M=new fp(e,t,p,a,u);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new R(Jt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ru(r,e){if(Mr("AsyncQueue",`${e}: ${r}`),Hr(r))return new R(Jt.UNAVAILABLE,`${e}: ${r}`);throw r}class ou{constructor(e){this.comparator=e?(t,o)=>e(t,o)||x.comparator(t.key,o.key):(t,o)=>x.comparator(t.key,o.key),this.keyedMap=Bu(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ou;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class mp{constructor(){this.Cu=new kr(x.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ni():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class su{constructor(e,t,o,a,u,p,M,$,J){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=p,this.syncStateChanged=M,this.excludesMetadataChanges=$,this.hasCachedResults=J}static fromInitialDocuments(e,t,o,a,u){const p=[];return t.forEach(M=>{p.push({type:0,doc:M})}),new su(e,t,ou.emptySet(t),p,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class Ly{constructor(){this.Nu=void 0,this.listeners=[]}}class By{constructor(){this.queries=new Ml(e=>Hl(e),yc),this.onlineState="Unknown",this.ku=new Set}}function pp(r,e){return If.apply(this,arguments)}function If(){return If=(0,Re.Z)(function*(r,e){const t=Bn(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new Ly),a)try{u.Nu=yield t.onListen(o)}catch(p){const M=ru(p,`Initialization of query '${bc(e.query)}' failed`);return void e.onError(M)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&_p(t)}),If.apply(this,arguments)}function Sf(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,Re.Z)(function*(r,e){const t=Bn(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const p=u.listeners.indexOf(e);p>=0&&(u.listeners.splice(p,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),gp.apply(this,arguments)}function Uy(r,e){const t=Bn(r);let o=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const M of p.listeners)M.$u(a)&&(o=!0);p.Nu=a}}o&&_p(t)}function Ua(r,e,t){const o=Bn(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function _p(r){r.ku.forEach(e=>{e.next()})}class vp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new su(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class y0{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Tf{constructor(e){this.serializer=e}rr(e){return kl(this.serializer,e)}ur(e){return e.metadata.exists?Sm(this.serializer,e.document,!1):eo.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wo(e)}}class z_{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Ii.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Tf(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const p of a.metadata.queries){const M=(t.get(p)||tr()).add(u);t.set(p,M)}}return t}complete(){var e=this;return(0,Re.Z)(function*(){const t=yield function A_(r,e,t,o){return k_.apply(this,arguments)}(e.localStore,new Tf(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield Ry(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class G_{constructor(e){this.key=e}}class W_{constructor(e){this.key=e}}class yp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=tr(),this.mutatedKeys=tr(),this.tc=Bg(e),this.ec=new ou(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new mp,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,p=a,M=!1;const $="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,J="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ge,tt)=>{const Yt=a.get(ge),mn=Oa(this.query,tt)?tt:null,Ln=!!Yt&&this.mutatedKeys.has(Yt.key),Jn=!!mn&&(mn.hasLocalMutations||this.mutatedKeys.has(mn.key)&&mn.hasCommittedMutations);let si=!1;Yt&&mn?Yt.data.isEqual(mn.data)?Ln!==Jn&&(o.track({type:3,doc:mn}),si=!0):this.rc(Yt,mn)||(o.track({type:2,doc:mn}),si=!0,($&&this.tc(mn,$)>0||J&&this.tc(mn,J)<0)&&(M=!0)):!Yt&&mn?(o.track({type:0,doc:mn}),si=!0):Yt&&!mn&&(o.track({type:1,doc:Yt}),si=!0,($||J)&&(M=!0)),si&&(mn?(p=p.add(mn),u=Jn?u.add(ge):u.delete(ge)):(p=p.delete(ge),u=u.delete(ge)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const ge="F"===this.query.limitType?p.last():p.first();p=p.delete(ge.key),u=u.delete(ge.key),o.track({type:1,doc:ge})}return{ec:p,ic:o,zi:M,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((J,ge)=>function(tt,Yt){const mn=Ln=>{switch(Ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ni()}};return mn(tt)-mn(Yt)}(J.type,ge.type)||this.tc(J.doc,ge.doc)),this.oc(o);const p=t?this.uc():[],M=0===this.Zu.size&&this.current?1:0,$=M!==this.Xu;return this.Xu=M,0!==u.length||$?{snapshot:new su(this.query,e.ec,a,u,e.mutatedKeys,0===M,$,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new mp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=tr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new W_(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new G_(o))}),t}hc(e){this.Yu=e.ir,this.Zu=tr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return su.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vy{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class jy{constructor(e){this.key=e,this.fc=!1}}class bp{constructor(e,t,o,a,u,p){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new Ml(M=>Hl(M),yc),this._c=new Map,this.mc=new Set,this.gc=new kr(x.comparator),this.yc=new Map,this.Ic=new I_,this.Tc={},this.Ec=new Map,this.Ac=Ql.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Hy(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,Re.Z)(function*(r,e){const t=gd(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const p=yield Jd(t.localStore,$s(e)),M=t.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,a=yield xp(t,e,o,"current"===M,p.resumeToken),t.isPrimaryClient&&lh(t.remoteStore,p)}return a}),wp.apply(this,arguments)}function xp(r,e,t,o,a){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Re.Z)(function*(r,e,t,o,a){r.Rc=(tt,Yt,mn)=>{return(Ln=(0,Re.Z)(function*(Jn,si,nr,$r){let Ki=si.view.sc(nr);Ki.zi&&(Ki=yield cd(Jn.localStore,si.query,!1).then(({documents:Po})=>si.view.sc(Po,Ki)));const fs=$r&&$r.targetChanges.get(si.targetId),Ho=si.view.applyChanges(Ki,Jn.isPrimaryClient,fs);return mh(Jn,si.targetId,Ho.cc),Ho.snapshot}),function(Jn,si,nr,$r){return Ln.apply(this,arguments)})(r,tt,Yt,mn);var Ln};const u=yield cd(r.localStore,e,!0),p=new yp(e,u.ir),M=p.sc(u.documents),$=Wl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),J=p.applyChanges(M,r.isPrimaryClient,$);mh(r,t,J.cc);const ge=new Vy(e,t,p);return r.wc.set(e,ge),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),J.snapshot}),Ep.apply(this,arguments)}function zy(r,e){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,Re.Z)(function*(r,e){const t=Bn(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!yc(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ld(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),vf(t.remoteStore,o.targetId),lu(t,o.targetId)}).catch(mr))):(lu(t,o.targetId),yield ld(t.localStore,o.targetId,!0))}),Ja.apply(this,arguments)}function Dp(){return Dp=(0,Re.Z)(function*(r,e,t){const o=Lp(r);try{const a=yield function(u,p){const M=Bn(u),$=Fi.now(),J=p.reduce((Yt,mn)=>Yt.add(mn.key),tr());let ge,tt;return M.persistence.runTransaction("Locally write mutations","readwrite",Yt=>{let mn=Ra(),Ln=tr();return M.Zi.getEntries(Yt,J).next(Jn=>{mn=Jn,mn.forEach((si,nr)=>{nr.isValidDocument()||(Ln=Ln.add(si))})}).next(()=>M.localDocuments.getOverlayedDocuments(Yt,mn)).next(Jn=>{ge=Jn;const si=[];for(const nr of p){const $r=cy(nr,ge.get(nr.key).overlayedDocument);null!=$r&&si.push(new Gl(nr.key,$r,Ya($r.value.mapValue),is.exists(!0)))}return M.mutationQueue.addMutationBatch(Yt,$,si,p)}).next(Jn=>{tt=Jn;const si=Jn.applyToLocalDocumentSet(ge,Ln);return M.documentOverlayCache.saveOverlays(Yt,Jn.batchId,si)})}).then(()=>({batchId:tt.batchId,changes:lm(ge)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,p,M){let $=u.Tc[u.currentUser.toKey()];$||($=new kr(Fn)),$=$.insert(p,M),u.Tc[u.currentUser.toKey()]=$}(o,a.batchId,t),yield ec(o,a.changes),yield fd(o.remoteStore)}catch(a){const u=ru(a,"Failed to persist write");t.reject(u)}}),Dp.apply(this,arguments)}function Ip(r,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Re.Z)(function*(r,e){const t=Bn(r);try{const o=yield function Oy(r,e){const t=Bn(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const M=[];e.targetChanges.forEach((ge,tt)=>{const Yt=a.get(tt);if(!Yt)return;M.push(t.Bs.removeMatchingKeys(u,ge.removedDocuments,tt).next(()=>t.Bs.addMatchingKeys(u,ge.addedDocuments,tt)));let mn=Yt.withSequenceNumber(u.currentSequenceNumber);var Ln,Jn,si;null!==e.targetMismatches.get(tt)?mn=mn.withResumeToken(ns.EMPTY_BYTE_STRING,Wn.min()).withLastLimboFreeSnapshotVersion(Wn.min()):ge.resumeToken.approximateByteSize()>0&&(mn=mn.withResumeToken(ge.resumeToken,o)),a=a.insert(tt,mn),Jn=mn,si=ge,(0===(Ln=Yt).resumeToken.approximateByteSize()||Jn.snapshotVersion.toMicroseconds()-Ln.snapshotVersion.toMicroseconds()>=3e8||si.addedDocuments.size+si.modifiedDocuments.size+si.removedDocuments.size>0)&&M.push(t.Bs.updateTargetData(u,mn))});let $=Ra(),J=tr();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(u,ge))}),M.push(hf(u,p,e.documentUpdates).next(ge=>{$=ge.nr,J=ge.sr})),!o.isEqual(Wn.min())){const ge=t.Bs.getLastRemoteSnapshotVersion(u).next(tt=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));M.push(ge)}return Nt.waitFor(M).next(()=>p.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,$,J)).next(()=>$)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const p=t.yc.get(u);p&&(li(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?li(p.fc):a.removedDocuments.size>0&&(li(p.fc),p.fc=!1))}),yield ec(t,o,e)}catch(o){yield mr(o)}}),Sp.apply(this,arguments)}function Tp(r,e,t){const o=Bn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,p)=>{const M=p.view.Mu(e);M.snapshot&&a.push(M.snapshot)}),function(u,p){const M=Bn(u);M.onlineState=p;let $=!1;M.queries.forEach((J,ge)=>{for(const tt of ge.listeners)tt.Mu(p)&&($=!0)}),$&&_p(M)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function K_(r,e,t){return au.apply(this,arguments)}function au(){return au=(0,Re.Z)(function*(r,e,t){const o=Bn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let p=new kr(x.comparator);p=p.insert(u,eo.newNoDocument(u,Wn.min()));const M=tr().add(u),$=new Ec(Wn.min(),new Map,new kr(Fn),p,M);yield Ip(o,$),o.gc=o.gc.remove(u),o.yc.delete(e),Ap(o)}else yield ld(o.localStore,e,!1).then(()=>lu(o,e,t)).catch(mr)}),au.apply(this,arguments)}function Mp(r,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Re.Z)(function*(r,e){const t=Bn(r),o=e.batch.batchId;try{const a=yield function Ay(r,e){const t=Bn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,M,$,J){const ge=$.batch,tt=ge.keys();let Yt=Nt.resolve();return tt.forEach(mn=>{Yt=Yt.next(()=>J.getEntry(M,mn)).next(Ln=>{const Jn=$.docVersions.get(mn);li(null!==Jn),Ln.version.compareTo(Jn)<0&&(ge.applyToRemoteDocument(Ln,$),Ln.isValidDocument()&&(Ln.setReadTime($.commitVersion),J.addEntry(Ln)))})}),Yt.next(()=>p.mutationQueue.removeMutationBatch(M,ge))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let M=tr();for(let $=0;$<p.mutationResults.length;++$)p.mutationResults[$].transformResults.length>0&&(M=M.add(p.batch.mutations[$].key));return M}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);fl(t,o,null),fh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield ec(t,a)}catch(a){yield mr(a)}}),Z_.apply(this,arguments)}function Y_(r,e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,Re.Z)(function*(r,e,t){const o=Bn(r);try{const a=yield function(u,p){const M=Bn(u);return M.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let J;return M.mutationQueue.lookupMutationBatch($,p).next(ge=>(li(null!==ge),J=ge.keys(),M.mutationQueue.removeMutationBatch($,ge))).next(()=>M.mutationQueue.performConsistencyCheck($)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId($,J,p)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,J)).next(()=>M.localDocuments.getDocuments($,J))})}(o.localStore,e);fl(o,e,t),fh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield ec(o,a)}catch(a){yield mr(a)}}),Mf.apply(this,arguments)}function Af(){return Af=(0,Re.Z)(function*(r,e){const t=Bn(r);Jl(t.remoteStore)||In("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const p=Bn(u);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>p.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=ru(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Af.apply(this,arguments)}function fh(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function fl(r,e,t){const o=Bn(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function lu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||Q_(r,o)})}function Q_(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(vf(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ap(r))}function mh(r,e,t){for(const o of t)o instanceof G_?(r.Ic.addReference(o.key,e),$y(r,o)):o instanceof W_?(In("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||Q_(r,o.key)):ni()}function $y(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(In("SyncEngine","New document in limbo: "+t),r.mc.add(o),Ap(r))}function Ap(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new x(Ii.fromString(e)),o=r.Ac.next();r.yc.set(o,new jy(t)),r.gc=r.gc.insert(t,o),lh(r.remoteStore,new Yl($s(_c(t.path)),o,"TargetPurposeLimboResolution",Ss.ct))}}function ec(r,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,Re.Z)(function*(r,e,t){const o=Bn(r),a=[],u=[],p=[];var M;o.wc.isEmpty()||(o.wc.forEach((M,$)=>{p.push(o.Rc($,e,t).then(J=>{if((J||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,J?.fromCache?"not-current":"current"),J){a.push(J);const ge=uf.Li($.targetId,J);u.push(ge)}}))}),yield Promise.all(p),o.dc.nu(a),yield(M=(0,Re.Z)(function*($,J){const ge=Bn($);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",tt=>Nt.forEach(J,Yt=>Nt.forEach(Yt.Fi,mn=>ge.persistence.referenceDelegate.addReference(tt,Yt.targetId,mn)).next(()=>Nt.forEach(Yt.Bi,mn=>ge.persistence.referenceDelegate.removeReference(tt,Yt.targetId,mn)))))}catch(tt){if(!Hr(tt))throw tt;In("LocalStore","Failed to update sequence numbers: "+tt)}for(const tt of J){const Yt=tt.targetId;if(!tt.fromCache){const mn=ge.Ji.get(Yt),Jn=mn.withLastLimboFreeSnapshotVersion(mn.snapshotVersion);ge.Ji=ge.Ji.insert(Yt,Jn)}}}),function($,J){return M.apply(this,arguments)})(o.localStore,u))}),X_.apply(this,arguments)}function J_(r,e){return kp.apply(this,arguments)}function kp(){return kp=(0,Re.Z)(function*(r,e){const t=Bn(r);if(!t.currentUser.isEqual(e)){In("SyncEngine","User change. New user:",e.toKey());const o=yield Zm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(M=>{M.reject(new R(Jt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ec(t,o.er)}var a}),kp.apply(this,arguments)}function kf(r,e){const t=Bn(r),o=t.yc.get(e);if(o&&o.fc)return tr().add(o.key);{let a=tr();const u=t._c.get(e);if(!u)return a;for(const p of u){const M=t.wc.get(p);a=a.unionWith(M.view.nc)}return a}}function ph(r,e){return cu.apply(this,arguments)}function cu(){return cu=(0,Re.Z)(function*(r,e){const t=Bn(r),o=yield cd(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&mh(t,e.targetId,a.cc),a}),cu.apply(this,arguments)}function b0(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Re.Z)(function*(r,e){const t=Bn(r);return Qm(t.localStore,e).then(o=>ec(t,o))}),Op.apply(this,arguments)}function Of(r,e,t,o){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Re.Z)(function*(r,e,t,o){const a=Bn(r),u=yield function(p,M){const $=Bn(p),J=Bn($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",ge=>J.Sn(ge,M).next(tt=>tt?$.localDocuments.getDocuments(ge,tt):Nt.resolve(null)))}(a.localStore,e);var M;null!==u?("pending"===t?yield fd(a.remoteStore):"acknowledged"===t||"rejected"===t?(fl(a,e,o||null),fh(a,e),M=e,Bn(Bn(a.localStore).mutationQueue).Cn(M)):ni(),yield ec(a,u)):In("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rp.apply(this,arguments)}function Pp(){return Pp=(0,Re.Z)(function*(r,e){const t=Bn(r);if(gd(t),Lp(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Rf(t,o.toArray());t.vc=!0,yield uh(t.remoteStore,!0);for(const u of a)lh(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,p)=>{t.sharedClientState.isLocalQueryTarget(p)?o.push(p):a=a.then(()=>(lu(t,p),ld(t.localStore,p,!0))),vf(t.remoteStore,p)}),yield a,yield Rf(t,o),function(u){const p=Bn(u);p.yc.forEach((M,$)=>{vf(p.remoteStore,$)}),p.Ic.Ts(),p.yc=new Map,p.gc=new kr(x.comparator)}(t),t.vc=!1,yield uh(t.remoteStore,!1)}}),Pp.apply(this,arguments)}function Rf(r,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Re.Z)(function*(r,e,t){const o=Bn(r),a=[],u=[];for(const p of e){let M;const $=o._c.get(p);if($&&0!==$.length){M=yield Jd(o.localStore,$s($[0]));for(const J of $){const ge=o.wc.get(J),tt=yield ph(o,ge);tt.snapshot&&u.push(tt.snapshot)}}else{const J=yield T_(o.localStore,p);M=yield Jd(o.localStore,J),yield xp(o,du(J),p,!1,M.resumeToken)}a.push(M)}return o.dc.nu(u),a}),Fp.apply(this,arguments)}function du(r){return Bd(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Wy(r){const e=Bn(r);return Bn(Bn(e.localStore).persistence).$i()}function ev(r,e,t,o){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,Re.Z)(function*(r,e,t,o){const a=Bn(r);if(a.vc)return void In("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const p=yield Qm(a.localStore,Lg(u[0])),M=Ec.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ns.EMPTY_BYTE_STRING);yield ec(a,p,M);break}case"rejected":yield ld(a.localStore,e,!0),lu(a,e,o);break;default:ni()}}),Pf.apply(this,arguments)}function Ky(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,Re.Z)(function*(r,e,t){const o=gd(r);if(o.vc){for(const a of e){if(o._c.has(a)){In("SyncEngine","Adding an already active target "+a);continue}const u=yield T_(o.localStore,a),p=yield Jd(o.localStore,u);yield xp(o,du(u),p.targetId,!1,p.resumeToken),lh(o.remoteStore,p)}for(const a of t)o._c.has(a)&&(yield ld(o.localStore,a,!1).then(()=>{vf(o.remoteStore,a),lu(o,a)}).catch(mr))}}),Np.apply(this,arguments)}function gd(r){const e=Bn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ip.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K_.bind(null,e),e.dc.nu=Uy.bind(null,e.eventManager),e.dc.Pc=Ua.bind(null,e.eventManager),e}function Lp(r){const e=Bn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y_.bind(null,e),e}class gh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.serializer=oh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Km(this.persistence,new S_,e.initialUser,this.serializer)}createPersistence(e){return new Ju(Ac.zs,this.serializer)}createSharedClientState(e){return new ep}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends gh{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Re.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Lp(o.Vc.syncEngine),yield fd(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Km(this.persistence,new S_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new lf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Aa(t,this.persistence);return new Nh(e.asyncQueue,o)}createPersistence(e){const t=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ca.withCacheSize(this.cacheSizeBytes):Ca.DEFAULT;return new Qd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ip(),gf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ep}}class tv extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Re.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof pf&&(o.sharedClientState.syncEngine={jr:Of.bind(null,a),zr:ev.bind(null,a),Wr:Ky.bind(null,a),$i:Wy.bind(null,a),Qr:b0.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,Re.Z)(function*(p){yield function Gy(r,e){return Pp.apply(this,arguments)}(o.Vc.syncEngine,p),o.gcScheduler&&(p&&!o.gcScheduler.started?o.gcScheduler.start():p||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(p&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():p||o.indexBackfillerScheduler.stop())});return function(p){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ip();if(!pf.D(t))throw new R(Jt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class uu{initialize(e,t){var o=this;return(0,Re.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Tp(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=J_.bind(null,o.syncEngine),yield uh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new By}createDatastore(e){const t=oh(e.databaseInfo.databaseId),o=new P_(e.databaseInfo);return new N_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=M=>Tp(this.syncEngine,M,0),p=tu.D()?new tu:new tp,new g0(t,o,a,u,p);var t,o,a,u,p}createSyncEngine(e,t){return function(o,a,u,p,M,$,J){const ge=new bp(o,a,u,p,M,$);return J&&(ge.vc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(t){const o=Bn(t);In("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ah(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nv(r,e=10240){let t=0;return{read:()=>(0,Re.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new y,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Re.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Re.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new y0(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Re.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,Re.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Up{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new R(Jt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,Re.Z)(function*(u,p){const M=Bn(u),$=Kl(M.serializer)+"/documents",J={documents:p.map(mn=>Kh(M.serializer,mn))},ge=yield M.vo("BatchGetDocuments",$,J,p.length),tt=new Map;ge.forEach(mn=>{const Ln=function o_(r,e){return"found"in e?function(t,o){li(!!o.found);const a=kl(t,o.found.name),u=Wo(o.found.updateTime),p=o.found.createTime?Wo(o.found.createTime):Wn.min(),M=new Er({mapValue:{fields:o.found.fields}});return eo.newFoundDocument(a,u,p,M)}(r,e):"missing"in e?function(t,o){li(!!o.missing),li(!!o.readTime);const a=kl(t,o.missing),u=Wo(o.readTime);return eo.newNoDocument(a,u)}(r,e):ni()}(M.serializer,mn);tt.set(Ln.key.toString(),Ln)});const Yt=[];return p.forEach(mn=>{const Ln=tt.get(mn.toString());li(!!Ln),Yt.push(Ln)}),Yt}),function(u,p){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new xc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=x.fromPath(a);e.mutations.push(new $h(u,e.precondition(u)))}),yield(o=(0,Re.Z)(function*(a,u){const p=Bn(a),M=Kl(p.serializer)+"/documents",$={writes:u.map(J=>cl(p.serializer,J))};yield p.Io("Commit",M,$)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ni();t=Wn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new R(Jt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Wn.min())?is.exists(!1):is.updateTime(t):is.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wn.min()))throw new R(Jt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return is.updateTime(t)}return is.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yy{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new rp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Re.Z)(function*(){const t=new Up(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Xs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bm(t)}return!1}}class Vp{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=xo.UNAUTHENTICATED,this.clientId=Vi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,Re.Z)(function*(M){In("FirestoreClient","Received user=",M.uid),yield u.authCredentialListener(M),u.user=M});return function(M){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(In("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(Jt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new y;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=ru(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Nf(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,Re.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),In("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Re.Z)(function*(u){o.isEqual(u)||(yield Zm(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),jp.apply(this,arguments)}function Hp(r,e){return zp.apply(this,arguments)}function zp(){return zp=(0,Re.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield $p(r);In("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>hp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>hp(e.remoteStore,u)),r._onlineComponents=e}),zp.apply(this,arguments)}function rv(r){return"FirebaseError"===r.name?r.code===Jt.FAILED_PRECONDITION||r.code===Jt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function $p(r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Re.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){In("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rv(t))throw t;Ds("Error using user provided cache. Falling back to memory cache: "+t),yield Nf(r,new gh)}}else In("FirestoreClient","Using default OfflineComponentProvider"),yield Nf(r,new gh);return r._offlineComponents}),Gp.apply(this,arguments)}function _h(r){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,Re.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(In("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hp(r,r._uninitializedComponentsProvider._online)):(In("FirestoreClient","Using default OnlineComponentProvider"),yield Hp(r,new uu))),r._onlineComponents}),Lf.apply(this,arguments)}function ov(r){return $p(r).then(e=>e.persistence)}function Wp(r){return $p(r).then(e=>e.localStore)}function Kp(r){return _h(r).then(e=>e.remoteStore)}function sv(r){return _h(r).then(e=>e.syncEngine)}function hu(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Re.Z)(function*(r){const e=yield _h(r),t=e.eventManager;return t.onListen=Hy.bind(null,e.syncEngine),t.onUnlisten=zy.bind(null,e.syncEngine),t}),Zp.apply(this,arguments)}function fu(r,e,t={}){const o=new y;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(a,u,p,M,$){const J=new Ff({next:tt=>{u.enqueueAndForget(()=>Sf(a,ge));const Yt=tt.docs.has(p);!Yt&&tt.fromCache?$.reject(new R(Jt.UNAVAILABLE,"Failed to get document because the client is offline.")):Yt&&tt.fromCache&&M&&"server"===M.source?$.reject(new R(Jt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(tt)},error:tt=>$.reject(tt)}),ge=new vp(_c(p.path),J,{includeMetadataChanges:!0,Ku:!0});return pp(a,ge)}(yield hu(r),r.asyncQueue,e,t,o)})),o.promise}function Pc(r,e,t={}){const o=new y;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(a,u,p,M,$){const J=new Ff({next:tt=>{u.enqueueAndForget(()=>Sf(a,ge)),tt.fromCache&&"server"===M.source?$.reject(new R(Jt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(tt)},error:tt=>$.reject(tt)}),ge=new vp(p,J,{includeMetadataChanges:!0,Ku:!0});return pp(a,ge)}(yield hu(r),r.asyncQueue,e,t,o)})),o.promise}function _d(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const vd=new Map;function Fc(r,e,t){if(!t)throw new R(Jt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yd(r,e,t,o){if(!0===e&&!0===o)throw new R(Jt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function bd(r){if(!x.isDocumentKey(r))throw new R(Jt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wd(r){if(x.isDocumentKey(r))throw new R(Jt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tc(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":ni()}function ur(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new R(Jt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tc(r);throw new R(Jt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Qp(r,e){if(e<=0)throw new R(Jt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Xp{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new R(Jt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new R(Jt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_d(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new R(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new R(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new R(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(Jt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new R(Jt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new I;switch(t.type){case"firstParty":return new at(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new R(Jt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vd.get(e);t&&(In("ComponentProvider","Removing Datastore"),vd.delete(e),t.terminate())}(this),Promise.resolve()}}class Ko{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ko(this.firestore,e,this._key)}}class ea{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class ml extends ea{constructor(e,t,o){super(e,t,_c(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ko(this.firestore,null,new x(e))}withConverter(e){return new ml(this.firestore,e,this._path)}}function eg(r,e,...t){if(r=(0,be.m9)(r),Fc("collection","path",e),r instanceof pu){const o=Ii.fromString(e,...t);return wd(o),new ml(r,null,o)}{if(!(r instanceof Ko||r instanceof ml))throw new R(Jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Ii.fromString(e,...t));return wd(o),new ml(r.firestore,null,o)}}function gu(r,e,...t){if(r=(0,be.m9)(r),1===arguments.length&&(e=Vi.A()),Fc("doc","path",e),r instanceof pu){const o=Ii.fromString(e,...t);return bd(o),new Ko(r,null,new x(o))}{if(!(r instanceof Ko||r instanceof ml))throw new R(Jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Ii.fromString(e,...t));return bd(o),new Ko(r.firestore,r instanceof ml?r.converter:null,new x(o))}}function lv(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),(r instanceof Ko||r instanceof ml)&&(e instanceof Ko||e instanceof ml)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function cv(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),r instanceof ea&&e instanceof ea&&r.firestore===e.firestore&&yc(r._query,e._query)&&r.converter===e.converter}class x0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new rp(this,"async_queue_retry"),this.Xc=()=>{const t=gf();t&&In("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=gf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new y;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Hr(t))throw t;In("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(u){let p=u.message||"";return u.stack&&(p=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),p}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=fp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&ni()}verifyOperationInProgress(){}sa(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class Qy{constructor(){this._progressObserver={},this._taskCompletionResolver=new y,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class rs extends pu{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new x0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()}}function Fs(r){return r._firestoreClient||dv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function dv(r){var e,t,o;const a=r._freezeSettings(),u=(M=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Dl(r._databaseId,M,r._persistenceKey,(J=a).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,_d(J.experimentalLongPollingOptions),J.useFetchStreams));var M,J;r._firestoreClient=new Vp(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Uf(r,e,t){const o=new y;return r.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield Nf(r,t),yield Hp(r,e),o.resolve()}catch(a){const u=a;if(!rv(u))throw u;Ds("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function fv(r){if(r._initialized||r._terminated)throw new R(Jt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(ns.fromBase64String(e))}catch(t){throw new R(Jt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new R(Jt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._methodName=e}}class jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new R(Jt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new R(Jt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}const eb=/^__.*__$/;class rg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hd(e,this.data,t,this.fieldTransforms)}}class mv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function og(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ni()}}class Hf{constructor(e,t,o,a,u,p){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ed(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(og(this.ca)&&eb.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class tb{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||oh(e)}ya(e,t,o,a=!1){return new Hf({ca:e,methodName:t,ga:o,path:fr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nc(r){const e=r._freezeSettings(),t=oh(r._databaseId);return new tb(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Eh(r,e,t,o,a,u={}){const p=r.ya(u.merge||u.mergeFields?2:0,e,t,a);dg("Data must be an object, but it was:",p,o);const M=zf(o,p);let $,J;if(u.merge)$=new Us(p.fieldMask),J=p.fieldTransforms;else if(u.mergeFields){const ge=[];for(const tt of u.mergeFields){const Yt=Ih(e,tt,t);if(!p.contains(Yt))throw new R(Jt.INVALID_ARGUMENT,`Field '${Yt}' is specified in your field mask but missing from your input data.`);$f(ge,Yt)||ge.push(Yt)}$=new Us(ge),J=p.fieldTransforms.filter(tt=>$.covers(tt.field))}else $=null,J=p.fieldTransforms;return new rg(new Er(M),$,J)}class vu extends _u{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vu}}function pv(r,e,t){return new Hf({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends _u{_toFieldTransform(e){return new Vu(e.path,new Qc)}isEqual(e){return e instanceof sg}}class nb extends _u{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Pl(u,t)),a=new Xc(o);return new Vu(e.path,a)}isEqual(e){return this===e}}class gv extends _u{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Pl(u,t)),a=new zl(o);return new Vu(e.path,a)}isEqual(e){return this===e}}class ag extends _u{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Vd(e.serializer,Hg(e.serializer,this.Ia));return new Vu(e.path,t)}isEqual(e){return this===e}}function Ch(r,e,t,o){const a=r.ya(1,e,t);dg("Data must be an object, but it was:",a,o);const u=[],p=Er.empty();ra(o,($,J)=>{const ge=xd(e,$,t);J=(0,be.m9)(J);const tt=a.da(ge);if(J instanceof vu)u.push(ge);else{const Yt=Pl(J,tt);null!=Yt&&(u.push(ge),p.set(ge,Yt))}});const M=new Us(u);return new mv(p,M,a.fieldTransforms)}function lg(r,e,t,o,a,u){const p=r.ya(1,e,t),M=[Ih(e,o,t)],$=[a];if(u.length%2!=0)throw new R(Jt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Yt=0;Yt<u.length;Yt+=2)M.push(Ih(e,u[Yt])),$.push(u[Yt+1]);const J=[],ge=Er.empty();for(let Yt=M.length-1;Yt>=0;--Yt)if(!$f(J,M[Yt])){const mn=M[Yt];let Ln=$[Yt];Ln=(0,be.m9)(Ln);const Jn=p.da(mn);if(Ln instanceof vu)J.push(mn);else{const si=Pl(Ln,Jn);null!=si&&(J.push(mn),ge.set(mn,si))}}const tt=new Us(J);return new mv(ge,tt,p.fieldTransforms)}function Dh(r,e,t,o=!1){return Pl(t,r.ya(o?4:3,e))}function Pl(r,e){if(cg(r=(0,be.m9)(r)))return dg("Unsupported field value:",e,r),zf(r,e);if(r instanceof _u)return function(t,o){if(!og(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const p of t){let M=Pl(p,o.wa(u));null==M&&(M={nullValue:"NULL_VALUE"}),a.push(M),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hg(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Fi.fromDate(t);return{timestampValue:td(o.serializer,a)}}if(t instanceof Fi){const a=new Fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:td(o.serializer,a)}}if(t instanceof jf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tl)return{bytesValue:Gu(o.serializer,t._byteString)};if(t instanceof Ko){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Im(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${tc(t)}`)}(r,e)}function zf(r,e){const t={};return Na(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(r,(o,a)=>{const u=Pl(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function cg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Fi||r instanceof jf||r instanceof tl||r instanceof Ko||r instanceof _u)}function dg(r,e,t){if(!cg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=tc(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Ih(r,e,t){if((e=(0,be.m9)(e))instanceof nl)return e._internalPath;if("string"==typeof e)return xd(r,e);throw Ed("Field path arguments must be of type string or ",r,!1,void 0,t)}const ib=new RegExp("[~\\*/\\[\\]]");function xd(r,e,t){if(e.search(ib)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new nl(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ed(r,e,t,o,a){const u=o&&!o.isEmpty(),p=void 0!==a;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let $="";return(u||p)&&($+=" (found",u&&($+=` in field ${o}`),p&&($+=` in document ${a}`),$+=")"),new R(Jt.INVALID_ARGUMENT,M+r+$)}function $f(r,e){return r.some(t=>t.isEqual(e))}class yu{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rb extends yu{data(){return super.data()}}function Gf(r,e){return"string"==typeof e?xd(r,e):e instanceof nl?e._internalPath:e._delegate._internalPath}function ug(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new R(Jt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sh{}class bu extends Sh{}function Fl(r,e,...t){let o=[];e instanceof Sh&&o.push(e),o=o.concat(t),function(a){const u=a.filter(M=>M instanceof Dd).length,p=a.filter(M=>M instanceof Cd).length;if(u>1||u>0&&p>0)throw new R(Jt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Cd extends bu{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Cd(e,t,o)}_apply(e){const t=this._parse(e);return Ah(e._query,t),new ea(e.firestore,e.converter,vc(e._query,t))}_parse(e){const t=Nc(e.firestore);return function(a,u,p,M,$,J,ge){let tt;if($.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new R(Jt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){pg(ge,J);const Yt=[];for(const mn of ge)Yt.push(mg(M,a,mn));tt={arrayValue:{values:Yt}}}else tt=mg(M,a,ge)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||pg(ge,J),tt=Dh(p,"where",ge,"in"===J||"not-in"===J);return pr.create($,J,tt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Dd extends Sh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dd(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:co.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const p=a.getFlattenedFilters();for(const M of p)Ah(u,M),u=vc(u,M)}(e._query,t),new ea(e.firestore,e.converter,vc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wf extends bu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wf(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new R(Jt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new R(Jt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Ea(a,u);return function(M,$){if(null===Ud(M)){const J=Tl(M);null!==J&&nc(0,J,$.field)}}(o,p),p}(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new aa(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Th extends bu{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Th(e,t,o)}_apply(e){return new ea(e.firestore,e.converter,qa(e._query,this._limit,this._limitType))}}class wu extends bu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new wu(e,t,o)}_apply(e){const t=fg(e,this.type,this._docOrFields,this._inclusive);return new ea(e.firestore,e.converter,(a=t,new aa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class Mh extends bu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Mh(e,t,o)}_apply(e){const t=fg(e,this.type,this._docOrFields,this._inclusive);return new ea(e.firestore,e.converter,(a=t,new aa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function fg(r,e,t,o){if(t[0]=(0,be.m9)(t[0]),t[0]instanceof yu)return function(a,u,p,M,$){if(!M)throw new R(Jt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const J=[];for(const ge of ll(a))if(ge.field.isKeyField())J.push(L(u,M.key));else{const tt=M.data.field(ge.field);if(Vl(tt))throw new R(Jt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===tt){const Yt=ge.field.canonicalString();throw new R(Jt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Yt}' (used as the orderBy) does not exist.`)}J.push(tt)}return new zs(J,$)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Nc(r.firestore);return function(u,p,M,$,J,ge){const tt=u.explicitOrderBy;if(J.length>tt.length)throw new R(Jt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Yt=[];for(let mn=0;mn<J.length;mn++){const Ln=J[mn];if(tt[mn].field.isKeyField()){if("string"!=typeof Ln)throw new R(Jt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Ln}`);if(!jl(u)&&-1!==Ln.indexOf("/"))throw new R(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Ln}' contains a slash.`);const Jn=u.path.child(Ii.fromString(Ln));if(!x.isDocumentKey(Jn))throw new R(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${Jn}' is not because it contains an odd number of segments.`);const si=new x(Jn);Yt.push(L(p,si))}else{const Jn=Dh(M,$,Ln);Yt.push(Jn)}}return new zs(Yt,ge)}(r._query,r.firestore._databaseId,a,e,t,o)}}function mg(r,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new R(Jt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jl(e)&&-1!==t.indexOf("/"))throw new R(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Ii.fromString(t));if(!x.isDocumentKey(o))throw new R(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return L(r,new x(o))}if(t instanceof Ko)return L(r,t._key);throw new R(Jt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(t)}.`)}function pg(r,e){if(!Array.isArray(r)||0===r.length)throw new R(Jt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ah(r,e){if(e.isInequality()){const o=Tl(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new R(Jt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Ud(r);null!==u&&nc(0,a,u)}const t=function(o,a){for(const u of o)for(const p of u.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new R(Jt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nc(r,e,t){if(!t.isEqual(e))throw new R(Jt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gg{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Do(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ni()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ra(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new jf(Do(e.latitude),Do(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=fo(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const t=El(e);return new Fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Ii.fromString(e);li(u_(o));const a=new Wa(o.get(1),o.get(3)),u=new x(o.popFirst(5));return a.isEqual(t)||Mr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function xu(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Id extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}class Sd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends yu{constructor(e,t,o,a,u,p){super(e,t,o,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Eu extends ic{data(e={}){return super.data(e)}}class Lc{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Sd(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Eu(this._firestore,this._userDataWriter,o.key,o,new Sd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new R(Jt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new Eu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sd(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const M=new Eu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sd(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,J=-1;return 0!==p.type&&($=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),1!==p.type&&(u=u.add(p.doc),J=u.indexOf(p.doc.key)),{type:Ws(p.type),doc:M,oldIndex:$,newIndex:J}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ws(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ni()}}function vg(r,e){return r instanceof ic&&e instanceof ic?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Lc&&e instanceof Lc&&r._firestore===e._firestore&&cv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Bc extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}function Sv(r,e,t){r=ur(r,Ko);const o=ur(r.firestore,rs),a=xu(r.converter,e,t);return Uc(o,[Eh(Nc(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,is.none())])}function Tv(r,e,t,...o){r=ur(r,Ko);const a=ur(r.firestore,rs),u=Nc(a);let p;return p="string"==typeof(e=(0,be.m9)(e))||e instanceof nl?lg(u,"updateDoc",r._key,e,t,o):Ch(u,"updateDoc",r._key,e),Uc(a,[p.toMutation(r._key,is.exists(!0))])}function yg(r,...e){var t,o,a;r=(0,be.m9)(r);let u={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||tg(e[p])||(u=e[p],p++);const M={includeMetadataChanges:u.includeMetadataChanges};if(tg(e[p])){const tt=e[p];e[p]=null===(t=tt.next)||void 0===t?void 0:t.bind(tt),e[p+1]=null===(o=tt.error)||void 0===o?void 0:o.bind(tt),e[p+2]=null===(a=tt.complete)||void 0===a?void 0:a.bind(tt)}let $,J,ge;if(r instanceof Ko)J=ur(r.firestore,rs),ge=_c(r._key.path),$={next:tt=>{e[p]&&e[p](kh(J,r,tt))},error:e[p+1],complete:e[p+2]};else{const tt=ur(r,ea);J=ur(tt.firestore,rs),ge=tt._query;const Yt=new Bc(J);$={next:mn=>{e[p]&&e[p](new Lc(J,Yt,tt,mn))},error:e[p+1],complete:e[p+2]},ug(r._query)}return function(tt,Yt,mn,Ln){const Jn=new Ff(Ln),si=new vp(Yt,Jn,mn);return tt.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return pp(yield hu(tt),si)})),()=>{Jn.Dc(),tt.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return Sf(yield hu(tt),si)}))}}(Fs(J),ge,M,$)}function Uc(r,e){return function(t,o){const a=new y;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function Cp(r,e,t){return Dp.apply(this,arguments)}(yield sv(t),o,a)})),a.promise}(Fs(r),e)}function kh(r,e,t){const o=t.docs.get(e._key),a=new Bc(r);return new ic(r,a,e._key,o,new Sd(t.hasPendingWrites,t.fromCache),e.converter)}const vb={maxAttempts:5};class wg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nc(e)}set(e,t,o){this._verifyNotCommitted();const a=Vc(e,this._firestore),u=xu(a.converter,t,o),p=Eh(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(p.toMutation(a._key,is.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=Vc(e,this._firestore);let p;return p="string"==typeof(t=(0,be.m9)(t))||t instanceof nl?lg(this._dataReader,"WriteBatch.update",u._key,t,o,a):Ch(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(p.toMutation(u._key,is.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vc(e,this._firestore);return this._mutations=this._mutations.concat(new xc(t._key,is.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new R(Jt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vc(r,e){if((r=(0,be.m9)(r)).firestore!==e)throw new R(Jt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class yb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nc(e)}get(e){const t=Vc(e,this._firestore),o=new Id(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ni();const u=a[0];if(u.isFoundDocument())return new yu(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new yu(this._firestore,o,t._key,null,t.converter);throw ni()})}set(e,t,o){const a=Vc(e,this._firestore),u=xu(a.converter,t,o),p=Eh(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,p),this}update(e,t,o,...a){const u=Vc(e,this._firestore);let p;return p="string"==typeof(t=(0,be.m9)(t))||t instanceof nl?lg(this._dataReader,"Transaction.update",u._key,t,o,a):Ch(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,p),this}delete(e){const t=Vc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Vc(e,this._firestore),o=new Bc(this._firestore);return super.get(e).then(a=>new ic(this._firestore,o,t._key,a._document,new Sd(!1,!1),t.converter))}}function qf(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new R("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Eg(){if(typeof Uint8Array>"u")throw new R("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if(!function Rd(){return typeof atob<"u"}())throw new R("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){ds=yt.SDK_VERSION,(0,yt._registerComponent)(new ue.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),p=new rs(new he(t.getProvider("auth-internal")),new an(t.getProvider("app-check-internal")),function(M,$){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new R(Jt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(M.options.projectId,$)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,yt.registerVersion)(sr,"3.12.2",r),(0,yt.registerVersion)(sr,"3.12.2","esm2017")}();class Du{constructor(e){this._delegate=e}static fromBase64String(e){return Cg(),new Du(tl.fromBase64String(e))}static fromUint8Array(e){return Eg(),new Du(tl.fromUint8Array(e))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return Eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qf(r){return function Fv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Nv{enableIndexedDbPersistence(e,t){return function ng(r,e){fv(r=ur(r,rs));const t=Fs(r);if(t._uninitializedComponentsProvider)throw new R(Jt.FAILED_PRECONDITION,"SDK cache is already specified.");Ds("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new uu;return Uf(t,a,new Bp(a,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yh(r){fv(r=ur(r,rs));const e=Fs(r);if(e._uninitializedComponentsProvider)throw new R(Jt.FAILED_PRECONDITION,"SDK cache is already specified.");Ds("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new uu;return Uf(e,o,new tv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Vf(r){if(r._initialized&&!r._terminated)throw new R(Jt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new y;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(t=(0,Re.Z)(function*(o){if(!Xi.D())return Promise.resolve();const a=o+"main";yield Xi.delete(a)}),function(o){return t.apply(this,arguments)})(nh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ds("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Jp(r,e,t,o={}){var a;const u=(r=ur(r,pu))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==p&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:p,ssl:!1})),o.mockUserToken){let M,$;if("string"==typeof o.mockUserToken)M=o.mockUserToken,$=xo.MOCK_USER;else{M=(0,be.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const J=o.mockUserToken.sub||o.mockUserToken.user_id;if(!J)throw new R(Jt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");$=new xo(J)}r._authCredentials=new G(new _(M,$))}}(this._delegate,e,t,o)}enableNetwork(){return function bh(r){return function Yp(r){return r.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!0),function(o){const a=Bn(o);return a.vu.delete(0),sh(a)}(t)}))}(Fs(r=ur(r,rs)))}(this._delegate)}disableNetwork(){return function hv(r){return function qy(r){return r.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!1),(o=(0,Re.Z)(function*(a){const u=Bn(a);u.vu.add(0),yield ah(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(Fs(r=ur(r,rs)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,yd("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uv(r){return function(e){const t=new y;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function q_(r,e){return Af.apply(this,arguments)}(yield sv(e),t)})),t.promise}(Fs(r=ur(r,rs)))}(this._delegate)}onSnapshotsInSync(e){return function S0(r,e){return function Bf(r,e){const t=new Ff(e);return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return o=yield hu(r),a=t,Bn(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return o=yield hu(r),a=t,void Bn(o).ku.delete(a);var o,a}))}}(Fs(r=ur(r,rs)),tg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new R("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iu(this,eg(this._delegate,e))}catch(t){throw Da(t,"collection()","Firestore.collection()")}}doc(e){try{return new il(this,gu(this._delegate,e))}catch(t){throw Da(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ia(this,function av(r,e){if(r=ur(r,pu),Fc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new R(Jt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ea(r,null,(t=e,new aa(Ii.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Da(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Av(r,e,t){r=ur(r,rs);const o=Object.assign(Object.assign({},vb),t);return function(a){if(a.maxAttempts<1)throw new R(Jt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,p){const M=new y;return a.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const $=yield function vh(r){return _h(r).then(e=>e.datastore)}(a);new Yy(a.asyncQueue,$,p,u,M).run()})),M.promise}(Fs(r),a=>e(new yb(r,a)),o)}(this._delegate,t=>e(new Lv(this,t)))}batch(){return Fs(this._delegate),new Bv(new wg(this._delegate,e=>Uc(this._delegate,e)))}loadBundle(e){return function wh(r,e){const t=Fs(r=ur(r,rs)),o=new Qy;return function el(r,e,t,o){const a=function(u,p){let M;return M="string"==typeof u?Jg().encode(u):u,$=function($,J){if($ instanceof Uint8Array)return nv($,J);if($ instanceof ArrayBuffer)return nv(new Uint8Array($),J);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new iv($,p);var $}(t,oh(e));r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function w0(r,e,t){const o=Bn(r);var a;(a=(0,Re.Z)(function*(u,p,M){try{const $=yield p.getMetadata();if(yield function(Yt,mn){const Ln=Bn(Yt),Jn=Wo(mn.createTime);return Ln.persistence.runTransaction("hasNewerBundle","readonly",si=>Ln.qs.getBundleMetadata(si,mn.id)).then(si=>!!si&&si.createTime.compareTo(Jn)>=0)}(u.localStore,$))return yield p.close(),M._completeWith({taskState:"Success",documentsLoaded:(Yt=$).totalDocuments,bytesLoaded:Yt.totalBytes,totalDocuments:Yt.totalDocuments,totalBytes:Yt.totalBytes}),Promise.resolve(new Set);M._updateProgress($_($));const J=new z_($,u.localStore,p.serializer);let ge=yield p.bc();for(;ge;){const Yt=yield J.zu(ge);Yt&&M._updateProgress(Yt),ge=yield p.bc()}const tt=yield J.complete();return yield ec(u,tt.Ju,void 0),yield function(Yt,mn){const Ln=Bn(Yt);return Ln.persistence.runTransaction("Save bundle","readwrite",Jn=>Ln.qs.saveBundleMetadata(Jn,mn))}(u.localStore,$),M._completeWith(tt.progress),Promise.resolve(tt.Hu)}catch($){return Ds("SyncEngine",`Loading bundle failed with ${$}`),M._failWith($),Promise.resolve(new Set)}var Yt}),function(u,p,M){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield sv(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xy(r,e){return function qp(r,e){return r.asyncQueue.enqueue((0,Re.Z)(function*(){return function(t,o){const a=Bn(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield Wp(r),e)}))}(Fs(r=ur(r,rs)),e).then(t=>t?new ea(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Ia(this,t):null)}}class Xf extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(new tl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return il.forKey(t,this.firestore,null)}}class Lv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}get(e){const t=Md(e);return this._delegate.get(t).then(o=>new Oh(this._firestore,new ic(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=Md(e);return o?(qf("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Md(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}}class Bv{constructor(e){this._delegate=e}set(e,t,o){const a=Md(e);return o?(qf("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Md(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Td{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Eu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rh(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Td.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new Td(e,new Xf(e),t),a.set(t,u)),u}}Td.INSTANCES=new WeakMap;class il{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}static forPath(e,t,o){if(e.length%2!=0)throw new R("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new il(t,new Ko(t._delegate,o,new x(e)))}static forKey(e,t,o){return new il(t,new Ko(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Iu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iu(this.firestore,eg(this._delegate,e))}catch(t){throw Da(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,be.m9)(e))instanceof Ko&&lv(this._delegate,e)}set(e,t){t=qf("DocumentReference.set",t);try{return t?Sv(this._delegate,e,t):Sv(this._delegate,e)}catch(o){throw Da(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Tv(this._delegate,e):Tv(this._delegate,e,t,...o)}catch(a){throw Da(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Mv(r){return Uc(ur(r.firestore,rs),[new xc(r._key,is.none())])}(this._delegate)}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Oh(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return yg(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Cv(r){r=ur(r,Ko);const e=ur(r.firestore,rs),t=Fs(e),o=new Bc(e);return function Rl(r,e){const t=new y;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(o=(0,Re.Z)(function*(a,u,p){try{const M=yield function($,J){const ge=Bn($);return ge.persistence.runTransaction("read document","readonly",tt=>ge.localDocuments.getDocument(tt,J))}(a,u);M.isFoundDocument()?p.resolve(M):M.isNoDocument()?p.resolve(null):p.reject(new R(Jt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const $=ru(M,`Failed to get document '${u} from cache`);p.reject($)}}),function(a,u,p){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new ic(e,o,r._key,a,new Sd(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function db(r){r=ur(r,Ko);const e=ur(r.firestore,rs);return fu(Fs(e),r._key,{source:"server"}).then(t=>kh(e,r,t))}(this._delegate):function cb(r){r=ur(r,Ko);const e=ur(r.firestore,rs);return fu(Fs(e),r._key).then(t=>kh(e,r,t))}(this._delegate),t.then(o=>new Oh(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new il(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Da(r,e,t){return r.message=r.message.replace(e,t),r}function Uv(r){for(const e of r)if("object"==typeof e&&!Qf(e))return e;return{}}function Vv(r,e){var t,o;let a;return a=Qf(r[0])?r[0]:Qf(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Oh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new il(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vg(this._delegate,e._delegate)}}class Rh extends Oh{data(e){const t=this._delegate.data(e);return function Is(r,e){r||ni()}(void 0!==t),t}}class Ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}where(e,t,o){try{return new Ia(this.firestore,Fl(this._delegate,function ob(r,e,t){const o=e,a=Gf("where",r);return Cd._create(a,o,t)}(e,t,o)))}catch(a){throw Da(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ia(this.firestore,Fl(this._delegate,function lb(r,e="asc"){const t=e,o=Gf("orderBy",r);return Wf._create(o,t)}(e,t)))}catch(o){throw Da(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ia(this.firestore,Fl(this._delegate,function _v(r){return Qp("limit",r),Th._create("limit",r,"F")}(e)))}catch(t){throw Da(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ia(this.firestore,Fl(this._delegate,function hg(r){return Qp("limitToLast",r),Th._create("limitToLast",r,"L")}(e)))}catch(t){throw Da(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ia(this.firestore,Fl(this._delegate,function vv(...r){return wu._create("startAt",r,!0)}(...e)))}catch(t){throw Da(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ia(this.firestore,Fl(this._delegate,function yv(...r){return wu._create("startAfter",r,!1)}(...e)))}catch(t){throw Da(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ia(this.firestore,Fl(this._delegate,function bv(...r){return Mh._create("endBefore",r,!1)}(...e)))}catch(t){throw Da(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ia(this.firestore,Fl(this._delegate,function wv(...r){return Mh._create("endAt",r,!0)}(...e)))}catch(t){throw Da(t,"endAt()","Query.endAt()")}}isEqual(e){return cv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Iv(r){r=ur(r,ea);const e=ur(r.firestore,rs),t=Fs(e),o=new Bc(e);return function ma(r,e){const t=new y;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(o=(0,Re.Z)(function*(a,u,p){try{const M=yield cd(a,u,!0),$=new yp(u,M.ir),J=$.sc(M.documents),ge=$.applyChanges(J,!1);p.resolve(ge.snapshot)}catch(M){const $=ru(M,`Failed to execute query '${u} against cache`);p.reject($)}}),function(a,u,p){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Lc(e,o,r,a))}(this._delegate):"server"===e?.source?function Cu(r){r=ur(r,ea);const e=ur(r.firestore,rs),t=Fs(e),o=new Bc(e);return Pc(t,r._query,{source:"server"}).then(a=>new Lc(e,o,r,a))}(this._delegate):function Dv(r){r=ur(r,ea);const e=ur(r.firestore,rs),t=Fs(e),o=new Bc(e);return ug(r._query),Pc(t,r._query).then(a=>new Lc(e,o,r,a))}(this._delegate),t.then(o=>new Ig(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Ig(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return yg(this._delegate,t,o)}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}class Eb{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ig{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ia(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Eb(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Rh(this._firestore,o))})}isEqual(e){return vg(this._delegate,e._delegate)}}class Iu extends Ia{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new il(this.firestore,e):null}doc(e){try{return new il(this.firestore,void 0===e?gu(this._delegate):gu(this._delegate,e))}catch(t){throw Da(t,"doc()","CollectionReference.doc()")}}add(e){return function ub(r,e){const t=ur(r.firestore,rs),o=gu(r),a=xu(r.converter,e);return Uc(t,[Eh(Nc(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,is.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new il(this.firestore,t))}isEqual(e){return lv(this._delegate,e._delegate)}withConverter(e){return new Iu(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Md(r){return ur(r,Ko)}class Sg{constructor(...e){this._delegate=new nl(...e)}static documentId(){return new Sg(fr.keyField().canonicalString())}isEqual(e){return(e=(0,be.m9)(e))instanceof nl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ad{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Zf(){return new sg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ad(e)}static delete(){const e=function kv(){return new vu("deleteField")}();return e._methodName="FieldValue.delete",new Ad(e)}static arrayUnion(...e){const t=function bb(...r){return new nb("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Ad(t)}static arrayRemove(...e){const t=function Ov(...r){return new gv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Ad(t)}static increment(e){const t=function Rv(r){return new ag("increment",r)}(e);return t._methodName="FieldValue.increment",new Ad(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jv={Firestore:Dg,GeoPoint:jf,Timestamp:Fi,Blob:Du,Transaction:Lv,WriteBatch:Bv,DocumentReference:il,DocumentSnapshot:Oh,Query:Ia,QueryDocumentSnapshot:Rh,QuerySnapshot:Ig,CollectionReference:Iu,FieldPath:Sg,FieldValue:Ad,setLogLevel:function xb(r){!function ol(r){Jr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function zv(r){(function Hv(r,e){r.INTERNAL.registerComponent(new ue.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},jv)))})(r,(e,t)=>new Dg(e,t,new Nv)),r.registerVersion("@firebase/firestore-compat","0.3.11")}(He.Z);var oc=E(1205),$v=E(6217),Gv=E(9260);function Tg(r,e){return function Wv(r,e=B.z){return new m.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(r,e)}function Ph(r,e){return Tg(r,e).pipe((0,de.U)(t=>({payload:t,type:"query"})))}function Su(r,e){return Ph(r,e).pipe((0,Z.O)(void 0),se(),(0,de.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((p,M)=>{const $=a.find(ge=>ge.doc.ref.isEqual(p.ref)),J=t?.payload.docs.find(ge=>ge.ref.isEqual(p.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(p.metadata)||!$&&J&&JSON.stringify(J.metadata)===JSON.stringify(p.metadata)||u.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:p}})}),u}))}function jc(r,e,t){return Su(r,t).pipe((0,me.R)((o,a)=>function Cb(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function Tu(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Mg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,Xe.x)(),(0,de.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Mg(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function Db(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Jf{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Su(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,de.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Z.O)(void 0),se(),(0,Ne.h)(([o,a])=>a.length>0||!o),(0,de.U)(([o,a])=>a),ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Db(e);return jc(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ae.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(ae.iC)}add(e){return this.ref.add(e)}doc(e){return new Ib(this.ref.doc(e),this.afs)}}class Ib{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=Yv(o,t);return new Jf(a,u,this.afs)}snapshotChanges(){return function Kv(r,e){return Tg(r,e).pipe((0,Z.O)(void 0),se(),(0,de.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,de.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(ae.iC)}}class Zv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Su(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Ne.h)(t=>t.length>0),ae.iC):Su(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Db(e);return jc(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ae.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(ae.iC)}}const Ag=new d.OlP("angularfire2.enableFirestorePersistence"),Sb=new d.OlP("angularfire2.firestore.persistenceSettings"),Li=new d.OlP("angularfire2.firestore.settings"),Tb=new d.OlP("angularfire2.firestore.use-emulator");function Yv(r,e=(t=>t)){return{query:e(r),ref:r}}let qv=(()=>{class r{constructor(t,o,a,u,p,M,$,J,ge,tt,Yt,mn,Ln,Jn,si,nr,$r){this.schedulers=$;const Ki=(0,dt.on)(t,M,o),fs=ge;tt&&(0,oc.nw)(Ki,M,Yt,Ln,Jn,si,mn,nr),[this.firestore,this.persistenceEnabled$]=(0,dt.cc)(`${Ki.name}.firestore`,"AngularFirestore",Ki.name,()=>{const Ho=M.runOutsideAngular(()=>Ki.firestore());if(u&&Ho.settings(u),fs&&Ho.useEmulator(...fs),a&&!(0,it.PM)(p)){const Po=()=>{try{return(0,ne.D)(Ho.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch(pa){return typeof console<"u"&&console.warn(pa),(0,xe.of)(!1)}};return[Ho,M.runOutsideAngular(Po)]}return[Ho,(0,xe.of)(!1)]},[u,fs,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:p}=Yv(a,o),M=this.schedulers.ngZone.run(()=>u);return new Jf(M,p,this)}collectionGroup(t,o){const a=o||(p=>p),u=this.firestore.collectionGroup(t);return new Zv(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new Ib(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(dt.Dh),d.LFG(dt.xv,8),d.LFG(Ag,8),d.LFG(Li,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ae.HU),d.LFG(Sb,8),d.LFG(Tb,8),d.LFG(oc.zQ,8),d.LFG(oc.Qv,8),d.LFG(oc.L6,8),d.LFG(oc._Q,8),d.LFG(oc.rT,8),d.LFG(oc.lh,8),d.LFG(oc.f7,8),d.LFG($v.nm,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Mu=(()=>{class r{constructor(){Gv.Z.registerVersion("angularfire",ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Ag,useValue:!0},{provide:Sb,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[qv]}),r})()},8445:(gn,nt,E)=>{E.d(nt,{Q1:()=>ts,TE:()=>j});var d=E(9751),B=E(9646),m=E(8996),ne=E(8372),xe=E(4004),ae=E(3900),Z=E(4976),_e=E(2223),Ee=E(2011),se=E(3942),de=E(5861),me=E(6881),Xe=E(2090),Ne=E(4859);const dt="firebasestorage.googleapis.com",it="storageBucket";class yt extends Xe.ZR{constructor(C,ee,Ce=0){super(De(C),`Firebase Storage: ${ee} (${De(C)})`),this.status_=Ce,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(C){this.status_=C}_codeEquals(C){return De(C)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(C){this.customData.serverResponse=C,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ue=(()=>((ue=ue||{}).UNKNOWN="unknown",ue.OBJECT_NOT_FOUND="object-not-found",ue.BUCKET_NOT_FOUND="bucket-not-found",ue.PROJECT_NOT_FOUND="project-not-found",ue.QUOTA_EXCEEDED="quota-exceeded",ue.UNAUTHENTICATED="unauthenticated",ue.UNAUTHORIZED="unauthorized",ue.UNAUTHORIZED_APP="unauthorized-app",ue.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ue.INVALID_CHECKSUM="invalid-checksum",ue.CANCELED="canceled",ue.INVALID_EVENT_NAME="invalid-event-name",ue.INVALID_URL="invalid-url",ue.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ue.NO_DEFAULT_BUCKET="no-default-bucket",ue.CANNOT_SLICE_BLOB="cannot-slice-blob",ue.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ue.NO_DOWNLOAD_URL="no-download-url",ue.INVALID_ARGUMENT="invalid-argument",ue.INVALID_ARGUMENT_COUNT="invalid-argument-count",ue.APP_DELETED="app-deleted",ue.INVALID_ROOT_OPERATION="invalid-root-operation",ue.INVALID_FORMAT="invalid-format",ue.INTERNAL_ERROR="internal-error",ue.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ue))();function De(v){return"storage/"+v}function be(){return new yt(ue.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ze(){return new yt(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vt(){return new yt(ue.CANCELED,"User canceled the upload/download.")}function ht(){return new yt(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Gt(v){return new yt(ue.INVALID_ARGUMENT,v)}function ln(){return new yt(ue.APP_DELETED,"The Firebase app was deleted.")}function _n(v){return new yt(ue.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rn(v,C){return new yt(ue.INVALID_FORMAT,"String does not match format '"+v+"': "+C)}function Mt(v){throw new yt(ue.INTERNAL_ERROR,"Internal error: "+v)}class Ke{constructor(C,ee){this.bucket=C,this.path_=ee}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const C=encodeURIComponent;return"/b/"+C(this.bucket)+"/o/"+C(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(C,ee){let Ce;try{Ce=Ke.makeFromUrl(C,ee)}catch{return new Ke(C,"")}if(""===Ce.path)return Ce;throw function kn(v){return new yt(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(C)}static makeFromUrl(C,ee){let Ce=null;const ct="([A-Za-z0-9.\\-_]+)",Yn=new RegExp("^gs://"+ct+"(/(.*))?$","i");function Ei(Ur){Ur.path_=decodeURIComponent(Ur.path)}const Tr=ee.replace(/[.]/g,"\\."),Nr=[{regex:Yn,indices:{bucket:1,path:3},postModify:function Pt(Ur){"/"===Ur.path.charAt(Ur.path.length-1)&&(Ur.path_=Ur.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Tr}/v[A-Za-z0-9_]+/b/${ct}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ei},{regex:new RegExp(`^https?://${ee===dt?"(?:storage.googleapis.com|storage.cloud.google.com)":ee}/${ct}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ei}];for(let Ur=0;Ur<Nr.length;Ur++){const Ao=Nr[Ur],gs=Ao.regex.exec(C);if(gs){let Cs=gs[Ao.indices.path];Cs||(Cs=""),Ce=new Ke(gs[Ao.indices.bucket],Cs),Ao.postModify(Ce);break}}if(null==Ce)throw function vn(v){return new yt(ue.INVALID_URL,"Invalid URL '"+v+"'.")}(C);return Ce}}class Qe{constructor(C){this.promise_=Promise.reject(C)}getPromise(){return this.promise_}cancel(C=!1){}}function Xt(v){return"string"==typeof v||v instanceof String}function bn(v){return Zn()&&v instanceof Blob}function Zn(){return typeof Blob<"u"&&!(0,Xe.UG)()}function pi(v,C,ee,Ce){if(Ce<C)throw Gt(`Invalid value for '${v}'. Expected ${C} or greater.`);if(Ce>ee)throw Gt(`Invalid value for '${v}'. Expected ${ee} or less.`)}function Gn(v,C,ee){let Ce=C;return null==ee&&(Ce=`https://${C}`),`${ee}://${Ce}/v0${v}`}function Bt(v){const C=encodeURIComponent;let ee="?";for(const Ce in v)v.hasOwnProperty(Ce)&&(ee=ee+(C(Ce)+"=")+C(v[Ce])+"&");return ee=ee.slice(0,-1),ee}var ce=(()=>((ce=ce||{})[ce.NO_ERROR=0]="NO_ERROR",ce[ce.NETWORK_ERROR=1]="NETWORK_ERROR",ce[ce.ABORT=2]="ABORT",ce))();function Ve(v,C){const ee=v>=500&&v<600,ct=-1!==[408,429].indexOf(v),Pt=-1!==C.indexOf(v);return ee||ct||Pt}class ft{constructor(C,ee,Ce,ct,Pt,Dn,Yn,jn,Ei,Ui,Tr,Br=!0){this.url_=C,this.method_=ee,this.headers_=Ce,this.body_=ct,this.successCodes_=Pt,this.additionalRetryCodes_=Dn,this.callback_=Yn,this.errorCallback_=jn,this.timeout_=Ei,this.progressCallback_=Ui,this.connectionFactory_=Tr,this.retry=Br,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((wr,ji)=>{this.resolve_=wr,this.reject_=ji,this.start_()})}start_(){const ee=(Ce,ct)=>{const Pt=this.resolve_,Dn=this.reject_,Yn=ct.connection;if(ct.wasSuccessCode)try{const jn=this.callback_(Yn,Yn.getResponse());!function jt(v){return void 0!==v}(jn)?Pt():Pt(jn)}catch(jn){Dn(jn)}else if(null!==Yn){const jn=be();jn.serverResponse=Yn.getErrorText(),Dn(this.errorCallback_?this.errorCallback_(Yn,jn):jn)}else Dn(ct.canceled?this.appDelete_?ln():vt():ze())};this.canceled_?ee(0,new st(!1,null,!0)):this.backoffId_=function St(v,C,ee){let Ce=1,ct=null,Pt=null,Dn=!1,Yn=0;function jn(){return 2===Yn}let Ei=!1;function Ui(...Ti){Ei||(Ei=!0,C.apply(null,Ti))}function Tr(Ti){ct=setTimeout(()=>{ct=null,v(wr,jn())},Ti)}function Br(){Pt&&clearTimeout(Pt)}function wr(Ti,...Mo){if(Ei)return void Br();if(Ti)return Br(),void Ui.call(null,Ti,...Mo);if(jn()||Dn)return Br(),void Ui.call(null,Ti,...Mo);let Nr;Ce<64&&(Ce*=2),1===Yn?(Yn=2,Nr=0):Nr=1e3*(Ce+Math.random()),Tr(Nr)}let ji=!1;function xr(Ti){ji||(ji=!0,Br(),!Ei&&(null!==ct?(Ti||(Yn=2),clearTimeout(ct),Tr(0)):Ti||(Yn=1)))}return Tr(0),Pt=setTimeout(()=>{Dn=!0,xr(!0)},ee),xr}((Ce,ct)=>{if(ct)return void Ce(!1,new st(!1,null,!0));const Pt=this.connectionFactory_();this.pendingConnection_=Pt;const Dn=Yn=>{null!==this.progressCallback_&&this.progressCallback_(Yn.loaded,Yn.lengthComputable?Yn.total:-1)};null!==this.progressCallback_&&Pt.addUploadProgressListener(Dn),Pt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Pt.removeUploadProgressListener(Dn),this.pendingConnection_=null;const Yn=Pt.getErrorCode()===ce.NO_ERROR,jn=Pt.getStatus();if(!Yn||Ve(jn,this.additionalRetryCodes_)&&this.retry){const Ui=Pt.getErrorCode()===ce.ABORT;return void Ce(!1,new st(!1,null,Ui))}const Ei=-1!==this.successCodes_.indexOf(jn);Ce(!0,new st(Ei,Pt))})},ee,this.timeout_)}getPromise(){return this.promise_}cancel(C){this.canceled_=!0,this.appDelete_=C||!1,null!==this.backoffId_&&function mt(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class st{constructor(C,ee,Ce){this.wasSuccessCode=C,this.connection=ee,this.canceled=!!Ce}}function Wt(...v){const C=function Kt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==C){const ee=new C;for(let Ce=0;Ce<v.length;Ce++)ee.append(v[Ce]);return ee.getBlob()}if(Zn())return new Blob(v);throw new yt(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const _t={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ht{constructor(C,ee){this.data=C,this.contentType=ee||null}}function Sn(v,C){switch(v){case _t.RAW:return new Ht(_i(C));case _t.BASE64:case _t.BASE64URL:return new Ht(yi(v,C));case _t.DATA_URL:return new Ht(function Je(v){const C=new Zt(v);return C.base64?yi(_t.BASE64,C.rest):function Ri(v){let C;try{C=decodeURIComponent(v)}catch{throw rn(_t.DATA_URL,"Malformed data URL.")}return _i(C)}(C.rest)}(C),function rt(v){return new Zt(v).contentType}(C))}throw be()}function _i(v){const C=[];for(let ee=0;ee<v.length;ee++){let Ce=v.charCodeAt(ee);Ce<=127?C.push(Ce):Ce<=2047?C.push(192|Ce>>6,128|63&Ce):55296==(64512&Ce)?ee<v.length-1&&56320==(64512&v.charCodeAt(ee+1))?(Ce=65536|(1023&Ce)<<10|1023&v.charCodeAt(++ee),C.push(240|Ce>>18,128|Ce>>12&63,128|Ce>>6&63,128|63&Ce)):C.push(239,191,189):56320==(64512&Ce)?C.push(239,191,189):C.push(224|Ce>>12,128|Ce>>6&63,128|63&Ce)}return new Uint8Array(C)}function yi(v,C){switch(v){case _t.BASE64:{const ct=-1!==C.indexOf("-"),Pt=-1!==C.indexOf("_");if(ct||Pt)throw rn(v,"Invalid character '"+(ct?"-":"_")+"' found: is it base64url encoded?");break}case _t.BASE64URL:{const ct=-1!==C.indexOf("+"),Pt=-1!==C.indexOf("/");if(ct||Pt)throw rn(v,"Invalid character '"+(ct?"+":"/")+"' found: is it base64 encoded?");C=C.replace(/-/g,"+").replace(/_/g,"/");break}}let ee;try{ee=function Ie(v){if(typeof atob>"u")throw function qt(v){return new yt(ue.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(C)}catch(ct){throw ct.message.includes("polyfill")?ct:rn(v,"Invalid character found")}const Ce=new Uint8Array(ee.length);for(let ct=0;ct<ee.length;ct++)Ce[ct]=ee.charCodeAt(ct);return Ce}class Zt{constructor(C){this.base64=!1,this.contentType=null;const ee=C.match(/^data:([^,]+)?,/);if(null===ee)throw rn(_t.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ce=ee[1]||null;null!=Ce&&(this.base64=function Be(v,C){return v.length>=C.length&&v.substring(v.length-C.length)===C}(Ce,";base64"),this.contentType=this.base64?Ce.substring(0,Ce.length-7):Ce),this.rest=C.substring(C.indexOf(",")+1)}}class Oe{constructor(C,ee){let Ce=0,ct="";bn(C)?(this.data_=C,Ce=C.size,ct=C.type):C instanceof ArrayBuffer?(ee?this.data_=new Uint8Array(C):(this.data_=new Uint8Array(C.byteLength),this.data_.set(new Uint8Array(C))),Ce=this.data_.length):C instanceof Uint8Array&&(ee?this.data_=C:(this.data_=new Uint8Array(C.length),this.data_.set(C)),Ce=C.length),this.size_=Ce,this.type_=ct}size(){return this.size_}type(){return this.type_}slice(C,ee){if(bn(this.data_)){const ct=function On(v,C,ee){return v.webkitSlice?v.webkitSlice(C,ee):v.mozSlice?v.mozSlice(C,ee):v.slice?v.slice(C,ee):null}(this.data_,C,ee);return null===ct?null:new Oe(ct)}{const Ce=new Uint8Array(this.data_.buffer,C,ee-C);return new Oe(Ce,!0)}}static getBlob(...C){if(Zn()){const ee=C.map(Ce=>Ce instanceof Oe?Ce.data_:Ce);return new Oe(Wt.apply(null,ee))}{const ee=C.map(Dn=>Xt(Dn)?Sn(_t.RAW,Dn).data:Dn.data_);let Ce=0;ee.forEach(Dn=>{Ce+=Dn.byteLength});const ct=new Uint8Array(Ce);let Pt=0;return ee.forEach(Dn=>{for(let Yn=0;Yn<Dn.length;Yn++)ct[Pt++]=Dn[Yn]}),new Oe(ct,!0)}}uploadData(){return this.data_}}function Se(v){let C;try{C=JSON.parse(v)}catch{return null}return function cn(v){return"object"==typeof v&&!Array.isArray(v)}(C)?C:null}function Me(v){const C=v.lastIndexOf("/",v.length-2);return-1===C?v:v.slice(C+1)}function oe(v,C){return C}class H{constructor(C,ee,Ce,ct){this.server=C,this.local=ee||C,this.writable=!!Ce,this.xform=ct||oe}}let V=null;function le(){if(V)return V;const v=[];v.push(new H("bucket")),v.push(new H("generation")),v.push(new H("metageneration")),v.push(new H("name","fullPath",!0));const ee=new H("name");ee.xform=function C(Pt,Dn){return function z(v){return!Xt(v)||v.length<2?v:Me(v)}(Dn)},v.push(ee);const ct=new H("size");return ct.xform=function Ce(Pt,Dn){return void 0!==Dn?Number(Dn):Dn},v.push(ct),v.push(new H("timeCreated")),v.push(new H("updated")),v.push(new H("md5Hash",null,!0)),v.push(new H("cacheControl",null,!0)),v.push(new H("contentDisposition",null,!0)),v.push(new H("contentEncoding",null,!0)),v.push(new H("contentLanguage",null,!0)),v.push(new H("contentType",null,!0)),v.push(new H("metadata","customMetadata",!0)),V=v,V}function xt(v,C,ee){const Ce=Se(C);return null===Ce?null:function ve(v,C,ee){const Ce={type:"file"},ct=ee.length;for(let Pt=0;Pt<ct;Pt++){const Dn=ee[Pt];Ce[Dn.local]=Dn.xform(Ce,C[Dn.server])}return function re(v,C){Object.defineProperty(v,"ref",{get:function ee(){const Pt=new Ke(v.bucket,v.fullPath);return C._makeStorageReference(Pt)}})}(Ce,v),Ce}(v,Ce,ee)}function kt(v,C){const ee={},Ce=C.length;for(let ct=0;ct<Ce;ct++){const Pt=C[ct];Pt.writable&&(ee[Pt.server]=v[Pt.local])}return JSON.stringify(ee)}const en="prefixes",ti="items";class xi{constructor(C,ee,Ce,ct){this.url=C,this.method=ee,this.handler=Ce,this.timeout=ct,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Lt(v){if(!v)throw be()}function Ct(v,C){return function ee(Ce,ct){const Pt=xt(v,ct,C);return Lt(null!==Pt),Pt}}function Rn(v){return function C(ee,Ce){let ct;return ct=401===ee.getStatus()?ee.getErrorText().includes("Firebase App Check token is invalid")?function Ge(){return new yt(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function K(){return new yt(ue.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ee.getStatus()?function $e(v){return new yt(ue.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===ee.getStatus()?function Fe(v){return new yt(ue.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):Ce,ct.status=ee.getStatus(),ct.serverResponse=Ce.serverResponse,ct}}function Hn(v){const C=Rn(v);return function ee(Ce,ct){let Pt=C(Ce,ct);return 404===Ce.getStatus()&&(Pt=function Ae(v){return new yt(ue.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),Pt.serverResponse=ct.serverResponse,Pt}}function fi(v,C,ee){const ct=Gn(C.fullServerUrl(),v.host,v._protocol),Dn=v.maxOperationRetryTime,Yn=new xi(ct,"GET",Ct(v,ee),Dn);return Yn.errorHandler=Hn(C),Yn}function ir(v,C,ee,Ce,ct){const Pt={};Pt.prefix=C.isRoot?"":C.path+"/",ee&&ee.length>0&&(Pt.delimiter=ee),Ce&&(Pt.pageToken=Ce),ct&&(Pt.maxResults=ct);const Yn=Gn(C.bucketOnlyServerUrl(),v.host,v._protocol),Ei=v.maxOperationRetryTime,Ui=new xi(Yn,"GET",function yn(v,C){return function ee(Ce,ct){const Pt=function Si(v,C,ee){const Ce=Se(ee);return null===Ce?null:function Mn(v,C,ee){const Ce={prefixes:[],items:[],nextPageToken:ee.nextPageToken};if(ee[en])for(const ct of ee[en]){const Pt=ct.replace(/\/$/,""),Dn=v._makeStorageReference(new Ke(C,Pt));Ce.prefixes.push(Dn)}if(ee[ti])for(const ct of ee[ti]){const Pt=v._makeStorageReference(new Ke(C,ct.name));Ce.items.push(Pt)}return Ce}(v,C,Ce)}(v,C,ct);return Lt(null!==Pt),Pt}}(v,C.bucket),Ei);return Ui.urlParams=Pt,Ui.errorHandler=Rn(C),Ui}function $i(v,C,ee){const Ce=Object.assign({},ee);return Ce.fullPath=v.path,Ce.size=C.size(),Ce.contentType||(Ce.contentType=function Zo(v,C){return v&&v.contentType||C&&C.type()||"application/octet-stream"}(null,C)),Ce}class Gr{constructor(C,ee,Ce,ct){this.current=C,this.total=ee,this.finalized=!!Ce,this.metadata=ct||null}}function Zr(v,C){let ee=null;try{ee=v.getResponseHeader("X-Goog-Upload-Status")}catch{Lt(!1)}return Lt(!!ee&&-1!==(C||["active"]).indexOf(ee)),ee}const bo={STATE_CHANGED:"state_changed"},hr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Io(v){switch(v){case"running":case"pausing":case"canceling":return hr.RUNNING;case"paused":return hr.PAUSED;case"success":return hr.SUCCESS;case"canceled":return hr.CANCELED;default:return hr.ERROR}}class no{constructor(C,ee,Ce){if(function Tt(v){return"function"==typeof v}(C)||null!=ee||null!=Ce)this.next=C,this.error=ee??void 0,this.complete=Ce??void 0;else{const Pt=C;this.next=Pt.next,this.error=Pt.error,this.complete=Pt.complete}}}function zo(v){return(...C)=>{Promise.resolve().then(()=>v(...C))}}let Ms=null;class qo{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ce.NO_ERROR,this.sendPromise_=new Promise(C=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ce.ABORT,C()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ce.NETWORK_ERROR,C()}),this.xhr_.addEventListener("load",()=>{C()})})}send(C,ee,Ce,ct){if(this.sent_)throw Mt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ee,C,!0),void 0!==ct)for(const Pt in ct)ct.hasOwnProperty(Pt)&&this.xhr_.setRequestHeader(Pt,ct[Pt].toString());return void 0!==Ce?this.xhr_.send(Ce):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(C){return this.xhr_.getResponseHeader(C)}addUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",C)}removeUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",C)}}class os extends qo{initXhr(){this.xhr_.responseType="text"}}function io(){return Ms?Ms():new os}class gr{constructor(C,ee,Ce=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=C,this._blob=ee,this._metadata=Ce,this._mappings=le(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ct=>{if(this._request=void 0,this._chunkMultiplier=1,ct._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Pt=this.isExponentialBackoffExpired();if(Ve(ct.status,[])){if(!Pt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ct=ze()}this._error=ct,this._transition("error")}},this._metadataErrorHandler=ct=>{this._request=void 0,ct._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=ct,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ct,Pt)=>{this._resolve=ct,this._reject=Pt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const C=this._transferred;return ee=>this._updateProgress(C+ee)}_shouldDoResumable(C){return C.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(C){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ee,Ce])=>{switch(this._state){case"running":C(ee,Ce);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((C,ee)=>{const Ce=function vo(v,C,ee,Ce,ct){const Pt=C.bucketOnlyServerUrl(),Dn=$i(C,Ce,ct),Yn={name:Dn.fullPath},jn=Gn(Pt,v.host,v._protocol),Ui={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ce.size()}`,"X-Goog-Upload-Header-Content-Type":Dn.contentType,"Content-Type":"application/json; charset=utf-8"},Tr=kt(Dn,ee),ji=new xi(jn,"POST",function wr(xr){let Ti;Zr(xr);try{Ti=xr.getResponseHeader("X-Goog-Upload-URL")}catch{Lt(!1)}return Lt(Xt(Ti)),Ti},v.maxUploadRetryTime);return ji.urlParams=Yn,ji.headers=Ui,ji.body=Tr,ji.errorHandler=Rn(C),ji}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ct=this._ref.storage._makeRequest(Ce,io,C,ee);this._request=ct,ct.getPromise().then(Pt=>{this._request=void 0,this._uploadUrl=Pt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const C=this._uploadUrl;this._resolveToken((ee,Ce)=>{const ct=function Di(v,C,ee,Ce){const jn=new xi(ee,"POST",function Pt(Ei){const Ui=Zr(Ei,["active","final"]);let Tr=null;try{Tr=Ei.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Lt(!1)}Tr||Lt(!1);const Br=Number(Tr);return Lt(!isNaN(Br)),new Gr(Br,Ce.size(),"final"===Ui)},v.maxUploadRetryTime);return jn.headers={"X-Goog-Upload-Command":"query"},jn.errorHandler=Rn(C),jn}(this._ref.storage,this._ref._location,C,this._blob),Pt=this._ref.storage._makeRequest(ct,io,ee,Ce);this._request=Pt,Pt.getPromise().then(Dn=>{this._request=void 0,this._updateProgress(Dn.current),this._needToFetchStatus=!1,Dn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const C=262144*this._chunkMultiplier,ee=new Gr(this._transferred,this._blob.size()),Ce=this._uploadUrl;this._resolveToken((ct,Pt)=>{let Dn;try{Dn=function yo(v,C,ee,Ce,ct,Pt,Dn,Yn){const jn=new Gr(0,0);if(Dn?(jn.current=Dn.current,jn.total=Dn.total):(jn.current=0,jn.total=Ce.size()),Ce.size()!==jn.total)throw function At(){return new yt(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ei=jn.total-jn.current;let Ui=Ei;ct>0&&(Ui=Math.min(Ui,ct));const Tr=jn.current;let wr="";wr=0===Ui?"finalize":Ei===Ui?"upload, finalize":"upload";const ji={"X-Goog-Upload-Command":wr,"X-Goog-Upload-Offset":`${jn.current}`},xr=Ce.slice(Tr,Tr+Ui);if(null===xr)throw ht();const Nr=new xi(ee,"POST",function Ti(Ur,Ao){const gs=Zr(Ur,["active","final"]),Es=jn.current+Ui,Cs=Ce.size();let Ns;return Ns="final"===gs?Ct(C,Pt)(Ur,Ao):null,new Gr(Es,Cs,"final"===gs,Ns)},C.maxUploadRetryTime);return Nr.headers=ji,Nr.body=xr.uploadData(),Nr.progressCallback=Yn||null,Nr.errorHandler=Rn(v),Nr}(this._ref._location,this._ref.storage,Ce,this._blob,C,this._mappings,ee,this._makeProgressCallback())}catch(jn){return this._error=jn,void this._transition("error")}const Yn=this._ref.storage._makeRequest(Dn,io,ct,Pt,!1);this._request=Yn,Yn.getPromise().then(jn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(jn.current),jn.finalized?(this._metadata=jn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((C,ee)=>{const Ce=fi(this._ref.storage,this._ref._location,this._mappings),ct=this._ref.storage._makeRequest(Ce,io,C,ee);this._request=ct,ct.getPromise().then(Pt=>{this._request=void 0,this._metadata=Pt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((C,ee)=>{const Ce=function to(v,C,ee,Ce,ct){const Pt=C.bucketOnlyServerUrl(),Dn={"X-Goog-Upload-Protocol":"multipart"},jn=function Yn(){let Nr="";for(let Ur=0;Ur<2;Ur++)Nr+=Math.random().toString().slice(2);return Nr}();Dn["Content-Type"]="multipart/related; boundary="+jn;const Ei=$i(C,Ce,ct),Ui=kt(Ei,ee),wr=Oe.getBlob("--"+jn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ui+"\r\n--"+jn+"\r\nContent-Type: "+Ei.contentType+"\r\n\r\n",Ce,"\r\n--"+jn+"--");if(null===wr)throw ht();const ji={name:Ei.fullPath},xr=Gn(Pt,v.host,v._protocol),Mo=v.maxUploadRetryTime,so=new xi(xr,"POST",Ct(v,ee),Mo);return so.urlParams=ji,so.headers=Dn,so.body=wr.uploadData(),so.errorHandler=Rn(C),so}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ct=this._ref.storage._makeRequest(Ce,io,C,ee);this._request=ct,ct.getPromise().then(Pt=>{this._request=void 0,this._metadata=Pt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(C){const ee=this._transferred;this._transferred=C,this._transferred!==ee&&this._notifyObservers()}_transition(C){if(this._state!==C)switch(C){case"canceling":case"pausing":this._state=C,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ee="paused"===this._state;this._state=C,ee&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=C,this._notifyObservers();break;case"canceled":this._error=vt(),this._state=C,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const C=Io(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:C,metadata:this._metadata,task:this,ref:this._ref}}on(C,ee,Ce,ct){const Pt=new no(ee||void 0,Ce||void 0,ct||void 0);return this._addObserver(Pt),()=>{this._removeObserver(Pt)}}then(C,ee){return this._promise.then(C,ee)}catch(C){return this.then(null,C)}_addObserver(C){this._observers.push(C),this._notifyObserver(C)}_removeObserver(C){const ee=this._observers.indexOf(C);-1!==ee&&this._observers.splice(ee,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ee=>{this._notifyObserver(ee)})}_finishPromise(){if(void 0!==this._resolve){let C=!0;switch(Io(this._state)){case hr.SUCCESS:zo(this._resolve.bind(null,this.snapshot))();break;case hr.CANCELED:case hr.ERROR:zo(this._reject.bind(null,this._error))();break;default:C=!1}C&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(C){switch(Io(this._state)){case hr.RUNNING:case hr.PAUSED:C.next&&zo(C.next.bind(C,this.snapshot))();break;case hr.SUCCESS:C.complete&&zo(C.complete.bind(C))();break;default:C.error&&zo(C.error.bind(C,this._error))()}}resume(){const C="paused"===this._state||"pausing"===this._state;return C&&this._transition("running"),C}pause(){const C="running"===this._state;return C&&this._transition("pausing"),C}cancel(){const C="running"===this._state||"pausing"===this._state;return C&&this._transition("canceling"),C}}class Pi{constructor(C,ee){this._service=C,this._location=ee instanceof Ke?ee:Ke.makeFromUrl(ee,C.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(C,ee){return new Pi(C,ee)}get root(){const C=new Ke(this._location.bucket,"");return this._newRef(this._service,C)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Me(this._location.path)}get storage(){return this._service}get parent(){const C=function wt(v){if(0===v.length)return null;const C=v.lastIndexOf("/");return-1===C?"":v.slice(0,C)}(this._location.path);if(null===C)return null;const ee=new Ke(this._location.bucket,C);return new Pi(this._service,ee)}_throwIfRoot(C){if(""===this._location.path)throw _n(C)}}function dn(v,C,ee){return pn.apply(this,arguments)}function pn(){return(pn=(0,de.Z)(function*(v,C,ee){const ct=yield sn(v,{pageToken:ee});C.prefixes.push(...ct.prefixes),C.items.push(...ct.items),null!=ct.nextPageToken&&(yield dn(v,C,ct.nextPageToken))})).apply(this,arguments)}function sn(v,C){null!=C&&"number"==typeof C.maxResults&&pi("options.maxResults",1,1e3,C.maxResults);const ee=C||{},Ce=ir(v.storage,v._location,"/",ee.pageToken,ee.maxResults);return v.storage.makeRequestWithTokens(Ce,io)}function hi(v){v._throwIfRoot("getDownloadURL");const C=function Cr(v,C,ee){const ct=Gn(C.fullServerUrl(),v.host,v._protocol),Dn=v.maxOperationRetryTime,Yn=new xi(ct,"GET",function Qn(v,C){return function ee(Ce,ct){const Pt=xt(v,ct,C);return Lt(null!==Pt),function bt(v,C,ee,Ce){const ct=Se(C);if(null===ct||!Xt(ct.downloadTokens))return null;const Pt=ct.downloadTokens;if(0===Pt.length)return null;const Dn=encodeURIComponent;return Pt.split(",").map(Ei=>{const Tr=v.fullPath;return Gn("/b/"+Dn(v.bucket)+"/o/"+Dn(Tr),ee,Ce)+Bt({alt:"media",token:Ei})})[0]}(Pt,ct,v.host,v._protocol)}}(v,ee),Dn);return Yn.errorHandler=Hn(C),Yn}(v.storage,v._location,le());return v.storage.makeRequestWithTokens(C,io).then(ee=>{if(null===ee)throw function Rt(){return new yt(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ee})}function Dr(v,C){const ee=function Vt(v,C){const ee=C.split("/").filter(Ce=>Ce.length>0).join("/");return 0===v.length?ee:v+"/"+ee}(v._location.path,C),Ce=new Ke(v._location.bucket,ee);return new Pi(v.storage,Ce)}function Vr(v,C){if(v instanceof Lo){const ee=v;if(null==ee._bucket)throw function ut(){return new yt(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+it+"' property when initializing the app?")}();const Ce=new Pi(ee,ee._bucket);return null!=C?Vr(Ce,C):Ce}return void 0!==C?Dr(v,C):v}function ro(v,C){if(C&&function rr(v){return/^[A-Za-z]+:\/\//.test(v)}(C)){if(v instanceof Lo)return function Gi(v,C){return new Pi(v,C)}(v,C);throw Gt("To use ref(service, url), the first argument must be a Storage instance.")}return Vr(v,C)}function ai(v,C){const ee=C?.[it];return null==ee?null:Ke.makeFromBucketSpec(ee,v)}class Lo{constructor(C,ee,Ce,ct,Pt){this.app=C,this._authProvider=ee,this._appCheckProvider=Ce,this._url=ct,this._firebaseVersion=Pt,this._bucket=null,this._host=dt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ct?Ke.makeFromBucketSpec(ct,this._host):ai(this._host,this.app.options)}get host(){return this._host}set host(C){this._host=C,this._bucket=null!=this._url?Ke.makeFromBucketSpec(this._url,C):ai(C,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(C){pi("time",0,Number.POSITIVE_INFINITY,C),this._maxUploadRetryTime=C}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(C){pi("time",0,Number.POSITIVE_INFINITY,C),this._maxOperationRetryTime=C}_getAuthToken(){var C=this;return(0,de.Z)(function*(){if(C._overrideAuthToken)return C._overrideAuthToken;const ee=C._authProvider.getImmediate({optional:!0});if(ee){const Ce=yield ee.getToken();if(null!==Ce)return Ce.accessToken}return null})()}_getAppCheckToken(){var C=this;return(0,de.Z)(function*(){const ee=C._appCheckProvider.getImmediate({optional:!0});return ee?(yield ee.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(C=>C.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(C){return new Pi(this,C)}_makeRequest(C,ee,Ce,ct,Pt=!0){if(this._deleted)return new Qe(ln());{const Dn=function on(v,C,ee,Ce,ct,Pt,Dn=!0){const Yn=Bt(v.urlParams),jn=v.url+Yn,Ei=Object.assign({},v.headers);return function ke(v,C){C&&(v["X-Firebase-GMPID"]=C)}(Ei,C),function Ze(v,C){null!==C&&C.length>0&&(v.Authorization="Firebase "+C)}(Ei,ee),function qe(v,C){v["X-Firebase-Storage-Version"]="webjs/"+(C??"AppManager")}(Ei,Pt),function Ut(v,C){null!==C&&(v["X-Firebase-AppCheck"]=C)}(Ei,Ce),new ft(jn,v.method,Ei,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,ct,Dn)}(C,this._appId,Ce,ct,ee,this._firebaseVersion,Pt);return this._requests.add(Dn),Dn.getPromise().then(()=>this._requests.delete(Dn),()=>this._requests.delete(Dn)),Dn}}makeRequestWithTokens(C,ee){var Ce=this;return(0,de.Z)(function*(){const[ct,Pt]=yield Promise.all([Ce._getAuthToken(),Ce._getAppCheckToken()]);return Ce._makeRequest(C,ee,ct,Pt).getPromise()})()}}const oo="@firebase/storage";function So(v,C){return ro(v=(0,Xe.m9)(v),C)}function Pr(v,{instanceIdentifier:C}){const ee=v.getProvider("app").getImmediate(),Ce=v.getProvider("auth-internal"),ct=v.getProvider("app-check-internal");return new Lo(ee,Ce,ct,C,me.SDK_VERSION)}!function as(){(0,me._registerComponent)(new Ne.wA("storage",Pr,"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(oo,"0.11.2",""),(0,me.registerVersion)(oo,"0.11.2","esm2017")}();class qi{constructor(C,ee,Ce){this._delegate=C,this.task=ee,this.ref=Ce}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Fr{constructor(C,ee){this._delegate=C,this._ref=ee,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qi(this._delegate.snapshot,this,this._ref)}then(C,ee){return this._delegate.then(Ce=>{if(C)return C(new qi(Ce,this,this._ref))},ee)}on(C,ee,Ce,ct){let Pt;return ee&&(Pt="function"==typeof ee?Dn=>ee(new qi(Dn,this,this._ref)):{next:ee.next?Dn=>ee.next(new qi(Dn,this,this._ref)):void 0,complete:ee.complete||void 0,error:ee.error||void 0}),this._delegate.on(C,Pt,Ce||void 0,ct||void 0)}}class go{constructor(C,ee){this._delegate=C,this._service=ee}get prefixes(){return this._delegate.prefixes.map(C=>new jr(C,this._service))}get items(){return this._delegate.items.map(C=>new jr(C,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class jr{constructor(C,ee){this._delegate=C,this.storage=ee}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(C){const ee=function wo(v,C){return Dr(v,C)}(this._delegate,C);return new jr(ee,this.storage)}get root(){return new jr(this._delegate.root,this.storage)}get parent(){const C=this._delegate.parent;return null==C?null:new jr(C,this.storage)}put(C,ee){return this._throwIfRoot("put"),new Fr(function Vs(v,C,ee){return function pt(v,C,ee){return v._throwIfRoot("uploadBytesResumable"),new gr(v,new Oe(C),ee)}(v=(0,Xe.m9)(v),C,ee)}(this._delegate,C,ee),this)}putString(C,ee=_t.RAW,Ce){this._throwIfRoot("putString");const ct=Sn(ee,C),Pt=Object.assign({},Ce);return null==Pt.contentType&&null!=ct.contentType&&(Pt.contentType=ct.contentType),new Fr(new gr(this._delegate,new Oe(ct.data,!0),Pt),this)}listAll(){return function uo(v){return function Ot(v){const C={prefixes:[],items:[]};return dn(v,C).then(()=>C)}(v=(0,Xe.m9)(v))}(this._delegate).then(C=>new go(C,this.storage))}list(C){return function ws(v,C){return sn(v=(0,Xe.m9)(v),C)}(this._delegate,C||void 0).then(ee=>new go(ee,this.storage))}getMetadata(){return function Sr(v){return function An(v){v._throwIfRoot("getMetadata");const C=fi(v.storage,v._location,le());return v.storage.makeRequestWithTokens(C,io)}(v=(0,Xe.m9)(v))}(this._delegate)}updateMetadata(C){return function dr(v,C){return function Xn(v,C){v._throwIfRoot("updateMetadata");const ee=function Kr(v,C,ee,Ce){const Pt=Gn(C.fullServerUrl(),v.host,v._protocol),Yn=kt(ee,Ce),Ei=v.maxOperationRetryTime,Ui=new xi(Pt,"PATCH",Ct(v,Ce),Ei);return Ui.headers={"Content-Type":"application/json; charset=utf-8"},Ui.body=Yn,Ui.errorHandler=Hn(C),Ui}(v.storage,v._location,C,le());return v.storage.makeRequestWithTokens(ee,io)}(v=(0,Xe.m9)(v),C)}(this._delegate,C)}getDownloadURL(){return function Bi(v){return hi(v=(0,Xe.m9)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Yi(v){return function _r(v){v._throwIfRoot("deleteObject");const C=function po(v,C){const Ce=Gn(C.fullServerUrl(),v.host,v._protocol),Yn=new xi(Ce,"DELETE",function Dn(jn,Ei){},v.maxOperationRetryTime);return Yn.successCodes=[200,204],Yn.errorHandler=Hn(C),Yn}(v.storage,v._location);return v.storage.makeRequestWithTokens(C,io)}(v=(0,Xe.m9)(v))}(this._delegate)}_throwIfRoot(C){if(""===this._delegate._location.path)throw _n(C)}}class es{constructor(C,ee){this.app=C,this._delegate=ee}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(C){if(er(C))throw Gt("ref() expected a child path but got a URL, use refFromURL instead.");return new jr(So(this._delegate,C),this)}refFromURL(C){if(!er(C))throw Gt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ke.makeFromUrl(C,this._delegate.host)}catch{throw Gt("refFromUrl() expected a valid full URL but got an invalid one.")}return new jr(So(this._delegate,C),this)}setMaxUploadRetryTime(C){this._delegate.maxUploadRetryTime=C}setMaxOperationRetryTime(C){this._delegate.maxOperationRetryTime=C}useEmulator(C,ee,Ce={}){!function Jo(v,C,ee,Ce={}){!function No(v,C,ee,Ce={}){v.host=`${C}:${ee}`,v._protocol="http";const{mockUserToken:ct}=Ce;ct&&(v._overrideAuthToken="string"==typeof ct?ct:(0,Xe.Sg)(ct,v.app.options.projectId))}(v,C,ee,Ce)}(this._delegate,C,ee,Ce)}}function er(v){return/^[A-Za-z]+:\/\//.test(v)}function We(v,{instanceIdentifier:C}){const ee=v.getProvider("app-compat").getImmediate(),Ce=v.getProvider("storage").getImmediate({identifier:C});return new es(ee,Ce)}!function je(v){const C={TaskState:hr,TaskEvent:bo,StringFormat:_t,Storage:es,Reference:jr};v.INTERNAL.registerComponent(new Ne.wA("storage-compat",We,"PUBLIC").setServiceProps(C).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.2")}(se.Z);var Y=E(6217),ot=E(9260);function En(v){const C=function hn(v){return new d.y(C=>{const ee=Dn=>C.next(Dn);ee(v.snapshot);const Pt=v.on("state_changed",ee);return v.then(Dn=>{ee(Dn),C.complete()},Dn=>{ee(v.snapshot),(Dn=>{C.error(Dn)})(Dn)}),function(){Pt()}}).pipe((0,ne.b)(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>C,percentageChanges:()=>C.pipe((0,xe.U)(ee=>ee.bytesTransferred/ee.totalBytes*100))}}function bi(v){return{getDownloadURL:()=>(0,B.of)(void 0).pipe(Z.fc,(0,ae.w)(()=>v.getDownloadURL()),Z.iC),getMetadata:()=>(0,B.of)(void 0).pipe(Z.fc,(0,ae.w)(()=>v.getMetadata()),Z.iC),delete:()=>(0,m.D)(v.delete()),child:C=>bi(v.child(C)),updateMetadata:C=>(0,m.D)(v.updateMetadata(C)),put:(C,ee)=>En(v.put(C,ee)),putString:(C,ee,Ce)=>En(v.putString(C,ee,Ce)),list:C=>(0,m.D)(v.list(C)),listAll:()=>(0,m.D)(v.listAll())}}const vr=new _e.OlP("angularfire2.storageBucket"),yr=new _e.OlP("angularfire2.storage.maxUploadRetryTime"),_o=new _e.OlP("angularfire2.storage.maxOperationRetryTime"),br=new _e.OlP("angularfire2.storage.use-emulator");let ts=(()=>{class v{constructor(ee,Ce,ct,Pt,Dn,Yn,jn,Ei,Ui,Tr){const Br=(0,Ee.on)(ee,Dn,Ce);this.storage=(0,Ee.cc)(`${Br.name}.storage.${ct}`,"AngularFireStorage",Br.name,()=>{const wr=Dn.runOutsideAngular(()=>Br.storage(ct||void 0)),ji=Ui;return ji&&wr.useEmulator(...ji),jn&&wr.setMaxUploadRetryTime(jn),Ei&&wr.setMaxOperationRetryTime(Ei),wr},[jn,Ei])}ref(ee){return bi(this.storage.ref(ee))}refFromURL(ee){return bi(this.storage.refFromURL(ee))}upload(ee,Ce,ct){return bi(this.storage.ref(ee)).put(Ce,ct)}}return v.\u0275fac=function(ee){return new(ee||v)(_e.LFG(Ee.Dh),_e.LFG(Ee.xv,8),_e.LFG(vr,8),_e.LFG(_e.Lbi),_e.LFG(_e.R0b),_e.LFG(Z.HU),_e.LFG(yr,8),_e.LFG(_o,8),_e.LFG(br,8),_e.LFG(Y.nm,8))},v.\u0275prov=_e.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),W=(()=>{class v{}return v.\u0275fac=function(ee){return new(ee||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({}),v})(),j=(()=>{class v{constructor(){ot.Z.registerVersion("angularfire",Z.q4.full,"gcs-compat")}}return v.\u0275fac=function(ee){return new(ee||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({providers:[ts],imports:[W]}),v})()},2011:(gn,nt,E)=>{E.d(nt,{Dh:()=>_e,GT:()=>ae,cc:()=>Ne,hO:()=>Xe,on:()=>se,pX:()=>xe,xv:()=>Ee});var d=E(2223),B=E(9260),m=E(4976);gn=E.hmd(gn);const ne=["ngOnDestroy"],xe=(He,Re,yt,ue={})=>new Proxy(He,{get:(De,be)=>yt.runOutsideAngular(()=>{var Ae;if(He[be])return!(null===(Ae=ue?.spy)||void 0===Ae)&&Ae.get&&ue.spy.get(be,He[be]),He[be];if(ne.indexOf(be)>-1)return()=>{};const $e=Re.toPromise().then(K=>{const Ge=K&&K[be];return"function"==typeof Ge?Ge.bind(K):Ge&&Ge.then?Ge.then(Fe=>yt.run(()=>Fe)):yt.run(()=>Ge)});return new Proxy(()=>{},{get:(K,Ge)=>$e[Ge],apply:(K,Ge,Fe)=>$e.then(ze=>{var vt;const vn=ze&&ze(...Fe);return!(null===(vt=ue?.spy)||void 0===vt)&&vt.apply&&ue.spy.apply(be,Fe,vn),vn})})})}),ae=(He,Re)=>{Re.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(ue=>{Object.defineProperty(He.prototype,ue,Object.getOwnPropertyDescriptor(yt.prototype||yt,ue))})})};class Z{constructor(Re){return Re}}const _e=new d.OlP("angularfire2.app.options"),Ee=new d.OlP("angularfire2.app.name");function se(He,Re,yt){const De="object"==typeof yt&&yt||{};De.name=De.name||"string"==typeof yt&&yt||"[DEFAULT]";const Ae=B.Z.apps.filter($e=>$e&&$e.name===De.name)[0]||Re.runOutsideAngular(()=>B.Z.initializeApp(He,De));try{JSON.stringify(He)!==JSON.stringify(Ae.options)&&de("error",`${Ae.name} Firebase App already initialized with different options${gn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Z(Ae)}const de=(He,...Re)=>{(0,d.X6Q)()&&typeof console<"u"&&console[He](...Re)},me={provide:Z,useFactory:se,deps:[_e,d.R0b,[new d.FiY,Ee]]};let Xe=(()=>{class He{constructor(yt){B.Z.registerVersion("angularfire",m.q4.full,"core"),B.Z.registerVersion("angularfire",m.q4.full,"app-compat"),B.Z.registerVersion("angular",d.q4F.full,yt.toString())}static initializeApp(yt,ue){return{ngModule:He,providers:[{provide:_e,useValue:yt},{provide:Ee,useValue:ue}]}}}return He.\u0275fac=function(yt){return new(yt||He)(d.LFG(d.Lbi))},He.\u0275mod=d.oAB({type:He}),He.\u0275inj=d.cJS({providers:[me]}),He})();function Ne(He,Re,yt,ue,De){const[,be,Ae]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===He)||[];if(be)return function dt(He,Re){try{return He.toString()===Re.toString()}catch{return He===Re}}(De,Ae)||(Le("error",`${Re} was already initialized on the ${yt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:De,was:Ae})),be;{const $e=ue();return globalThis.\u0275AngularfireInstanceCache.push([He,$e,De]),$e}}const it=!!gn.hot,Le=(He,...Re)=>{(0,d.X6Q)()&&typeof console<"u"&&console[He](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(gn,nt,E)=>{E.d(nt,{q4:()=>hs,iC:()=>Ba,fc:()=>oa,HU:()=>Wa,vb:()=>Vl,JM:()=>Ga});var d=E(2223),B=E(259),m=E(5861),ne=E(6881),xe=E(2090),ae=E(4859),Z=E(1877);const _e=(T,L)=>L.some(te=>T instanceof te);let Ee,se;const Xe=new WeakMap,Ne=new WeakMap,dt=new WeakMap,it=new WeakMap,Le=new WeakMap;let yt={get(T,L,te){if(T instanceof IDBTransaction){if("done"===L)return Ne.get(T);if("objectStoreNames"===L)return T.objectStoreNames||dt.get(T);if("store"===L)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Ae(T[L])},set:(T,L,te)=>(T[L]=te,!0),has:(T,L)=>T instanceof IDBTransaction&&("done"===L||"store"===L)||L in T};function be(T){return"function"==typeof T?function De(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...L){return T.apply($e(this),L),Ae(Xe.get(this))}:function(...L){return Ae(T.apply($e(this),L))}:function(L,...te){const Pe=T.call($e(this),L,...te);return dt.set(Pe,L.sort?L.sort():[L]),Ae(Pe)}}(T):(T instanceof IDBTransaction&&function Re(T){if(Ne.has(T))return;const L=new Promise((te,Pe)=>{const gt=()=>{T.removeEventListener("complete",Ft),T.removeEventListener("error",nn),T.removeEventListener("abort",nn)},Ft=()=>{te(),gt()},nn=()=>{Pe(T.error||new DOMException("AbortError","AbortError")),gt()};T.addEventListener("complete",Ft),T.addEventListener("error",nn),T.addEventListener("abort",nn)});Ne.set(T,L)}(T),_e(T,function de(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,yt):T)}function Ae(T){if(T instanceof IDBRequest)return function He(T){const L=new Promise((te,Pe)=>{const gt=()=>{T.removeEventListener("success",Ft),T.removeEventListener("error",nn)},Ft=()=>{te(Ae(T.result)),gt()},nn=()=>{Pe(T.error),gt()};T.addEventListener("success",Ft),T.addEventListener("error",nn)});return L.then(te=>{te instanceof IDBCursor&&Xe.set(te,T)}).catch(()=>{}),Le.set(L,T),L}(T);if(it.has(T))return it.get(T);const L=be(T);return L!==T&&(it.set(T,L),Le.set(L,T)),L}const $e=T=>Le.get(T),Fe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],vt=new Map;function vn(T,L){if(!(T instanceof IDBDatabase)||L in T||"string"!=typeof L)return;if(vt.get(L))return vt.get(L);const te=L.replace(/FromIndex$/,""),Pe=L!==te,gt=ze.includes(te);if(!(te in(Pe?IDBIndex:IDBObjectStore).prototype)||!gt&&!Fe.includes(te))return;const Ft=function(){var nn=(0,m.Z)(function*(Kn,...$n){const mi=this.transaction(Kn,gt?"readwrite":"readonly");let Hi=mi.store;return Pe&&(Hi=Hi.index($n.shift())),(yield Promise.all([Hi[te](...$n),gt&&mi.done]))[0]});return function($n){return nn.apply(this,arguments)}}();return vt.set(L,Ft),Ft}!function ue(T){yt=T(yt)}(T=>({...T,get:(L,te,Pe)=>vn(L,te)||T.get(L,te,Pe),has:(L,te)=>!!vn(L,te)||T.has(L,te)}));const kn="@firebase/installations",ut="0.6.4",ht=1e4,At=`w:${ut}`,Rt="FIS_v2",qt="https://firebaseinstallations.googleapis.com/v1",Gt=36e5,Mt=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(T){return T instanceof xe.ZR&&T.code.includes("request-failed")}function Qe({projectId:T}){return`${qt}/projects/${T}/installations`}function St(T){return{token:T.token,requestStatus:2,expiresIn:Zn(T.expiresIn),creationTime:Date.now()}}function mt(T,L){return jt.apply(this,arguments)}function jt(){return(jt=(0,m.Z)(function*(T,L){const Pe=(yield L.json()).error;return Mt.create("request-failed",{requestName:T,serverCode:Pe.code,serverMessage:Pe.message,serverStatus:Pe.status})})).apply(this,arguments)}function Tt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Xt(T){return bn.apply(this,arguments)}function bn(){return(bn=(0,m.Z)(function*(T){const L=yield T();return L.status>=500&&L.status<600?T():L})).apply(this,arguments)}function Zn(T){return Number(T.replace("s","000"))}function Bt(){return(Bt=(0,m.Z)(function*({appConfig:T,heartbeatServiceProvider:L},{fid:te}){const Pe=Qe(T),gt=Tt(T),Ft=L.getImmediate({optional:!0});if(Ft){const mi=yield Ft.getHeartbeatsHeader();mi&&gt.append("x-firebase-client",mi)}const Kn={method:"POST",headers:gt,body:JSON.stringify({fid:te,authVersion:Rt,appId:T.appId,sdkVersion:At})},$n=yield Xt(()=>fetch(Pe,Kn));if($n.ok){const mi=yield $n.json();return{fid:mi.fid||te,registrationStatus:2,refreshToken:mi.refreshToken,authToken:St(mi.authToken)}}throw yield mt("Create Installation",$n)})).apply(this,arguments)}function ce(T){return new Promise(L=>{setTimeout(L,T)})}const ft=/^[cdef][\w-]{21}$/,st="";function Ze(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const te=function qe(T){return function Ve(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return ft.test(te)?te:st}catch{return st}}function ke(T){return`${T.appName}!${T.appId}`}const Ut=new Map;function on(T,L){const te=ke(T);On(te,L),function Ie(T,L){const te=function Ht(){return!_t&&"BroadcastChannel"in self&&(_t=new BroadcastChannel("[Firebase] FID Change"),_t.onmessage=T=>{On(T.data.key,T.data.fid)}),_t}();te&&te.postMessage({key:T,fid:L}),function Sn(){0===Ut.size&&_t&&(_t.close(),_t=null)}()}(te,L)}function On(T,L){const te=Ut.get(T);if(te)for(const Pe of te)Pe(L)}let _t=null;const _i="firebase-installations-database",Ri=1,yi="firebase-installations-store";let Zt=null;function Je(){return Zt||(Zt=function K(T,L,{blocked:te,upgrade:Pe,blocking:gt,terminated:Ft}={}){const nn=indexedDB.open(T,L),Kn=Ae(nn);return Pe&&nn.addEventListener("upgradeneeded",$n=>{Pe(Ae(nn.result),$n.oldVersion,$n.newVersion,Ae(nn.transaction))}),te&&nn.addEventListener("blocked",()=>te()),Kn.then($n=>{Ft&&$n.addEventListener("close",()=>Ft()),gt&&$n.addEventListener("versionchange",()=>gt())}).catch(()=>{}),Kn}(_i,Ri,{upgrade:(T,L)=>{0===L&&T.createObjectStore(yi)}})),Zt}function rt(T,L){return Be.apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(T,L){const te=ke(T),gt=(yield Je()).transaction(yi,"readwrite"),Ft=gt.objectStore(yi),nn=yield Ft.get(te);return yield Ft.put(L,te),yield gt.done,(!nn||nn.fid!==L.fid)&&on(T,L.fid),L})).apply(this,arguments)}function Oe(T){return Se.apply(this,arguments)}function Se(){return(Se=(0,m.Z)(function*(T){const L=ke(T),Pe=(yield Je()).transaction(yi,"readwrite");yield Pe.objectStore(yi).delete(L),yield Pe.done})).apply(this,arguments)}function wt(T,L){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,m.Z)(function*(T,L){const te=ke(T),gt=(yield Je()).transaction(yi,"readwrite"),Ft=gt.objectStore(yi),nn=yield Ft.get(te),Kn=L(nn);return void 0===Kn?yield Ft.delete(te):yield Ft.put(Kn,te),yield gt.done,Kn&&(!nn||nn.fid!==Kn.fid)&&on(T,Kn.fid),Kn})).apply(this,arguments)}function Me(T){return oe.apply(this,arguments)}function oe(){return oe=(0,m.Z)(function*(T){let L;const te=yield wt(T.appConfig,Pe=>{const gt=function H(T){return bt(T||{fid:Ze(),registrationStatus:0})}(Pe),Ft=function V(T,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Mt.create("app-offline"))};const te={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},Pe=function z(T,L){return le.apply(this,arguments)}(T,te);return{installationEntry:te,registrationPromise:Pe}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:re(T)}:{installationEntry:L}}(T,gt);return L=Ft.registrationPromise,Ft.installationEntry});return te.fid===st?{installationEntry:yield L}:{installationEntry:te,registrationPromise:L}}),oe.apply(this,arguments)}function le(){return le=(0,m.Z)(function*(T,L){try{const te=yield function Gn(T,L){return Bt.apply(this,arguments)}(T,L);return rt(T.appConfig,te)}catch(te){throw Ke(te)&&409===te.customData.serverCode?yield Oe(T.appConfig):yield rt(T.appConfig,{fid:L.fid,registrationStatus:0}),te}}),le.apply(this,arguments)}function re(T){return ve.apply(this,arguments)}function ve(){return(ve=(0,m.Z)(function*(T){let L=yield xt(T.appConfig);for(;1===L.registrationStatus;)yield ce(100),L=yield xt(T.appConfig);if(0===L.registrationStatus){const{installationEntry:te,registrationPromise:Pe}=yield Me(T);return Pe||te}return L})).apply(this,arguments)}function xt(T){return wt(T,L=>{if(!L)throw Mt.create("installation-not-found");return bt(L)})}function bt(T){return function kt(T){return 1===T.registrationStatus&&T.registrationTime+ht<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function ti(){return(ti=(0,m.Z)(function*({appConfig:T,heartbeatServiceProvider:L},te){const Pe=function Mn(T,{fid:L}){return`${Qe(T)}/${L}/authTokens:generate`}(T,te),gt=function cn(T,{refreshToken:L}){const te=Tt(T);return te.append("Authorization",function pi(T){return`${Rt} ${T}`}(L)),te}(T,te),Ft=L.getImmediate({optional:!0});if(Ft){const mi=yield Ft.getHeartbeatsHeader();mi&&gt.append("x-firebase-client",mi)}const Kn={method:"POST",headers:gt,body:JSON.stringify({installation:{sdkVersion:At,appId:T.appId}})},$n=yield Xt(()=>fetch(Pe,Kn));if($n.ok)return St(yield $n.json());throw yield mt("Generate Auth Token",$n)})).apply(this,arguments)}function Si(T){return xi.apply(this,arguments)}function xi(){return xi=(0,m.Z)(function*(T,L=!1){let te;const Pe=yield wt(T.appConfig,Ft=>{if(!Hn(Ft))throw Mt.create("not-registered");const nn=Ft.authToken;if(!L&&function fi(T){return 2===T.requestStatus&&!function ir(T){const L=Date.now();return L<T.creationTime||T.creationTime+T.expiresIn<L+Gt}(T)}(nn))return Ft;if(1===nn.requestStatus)return te=function Lt(T,L){return Ct.apply(this,arguments)}(T,L),Ft;{if(!navigator.onLine)throw Mt.create("app-offline");const Kn=function gi(T){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:L})}(Ft);return te=function Qn(T,L){return Rn.apply(this,arguments)}(T,Kn),Kn}});return te?yield te:Pe.authToken}),xi.apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(T,L){let te=yield yn(T.appConfig);for(;1===te.authToken.requestStatus;)yield ce(100),te=yield yn(T.appConfig);const Pe=te.authToken;return 0===Pe.requestStatus?Si(T,L):Pe})).apply(this,arguments)}function yn(T){return wt(T,L=>{if(!Hn(L))throw Mt.create("not-registered");return function Cr(T){return 1===T.requestStatus&&T.requestTime+ht<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Rn(){return Rn=(0,m.Z)(function*(T,L){try{const te=yield function en(T,L){return ti.apply(this,arguments)}(T,L),Pe=Object.assign(Object.assign({},L),{authToken:te});return yield rt(T.appConfig,Pe),te}catch(te){if(!Ke(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Pe=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield rt(T.appConfig,Pe)}else yield Oe(T.appConfig);throw te}}),Rn.apply(this,arguments)}function Hn(T){return void 0!==T&&2===T.registrationStatus}function po(){return(po=(0,m.Z)(function*(T){const L=T,{installationEntry:te,registrationPromise:Pe}=yield Me(L);return Pe?Pe.catch(console.error):Si(L).catch(console.error),te.fid})).apply(this,arguments)}function $i(){return $i=(0,m.Z)(function*(T,L=!1){const te=T;return yield function to(T){return Gr.apply(this,arguments)}(te),(yield Si(te,L)).token}),$i.apply(this,arguments)}function Gr(){return(Gr=(0,m.Z)(function*(T){const{registrationPromise:L}=yield Me(T);L&&(yield L)})).apply(this,arguments)}function no(T){return Mt.create("missing-app-config-values",{valueName:T})}const zo="installations",qo=T=>{const L=T.getProvider("app").getImmediate(),te=function Io(T){if(!T||!T.options)throw no("App Configuration");if(!T.name)throw no("App Name");const L=["projectId","apiKey","appId"];for(const te of L)if(!T.options[te])throw no(te);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(L);return{app:L,appConfig:te,heartbeatServiceProvider:(0,ne._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},os=T=>{const L=T.getProvider("app").getImmediate(),te=(0,ne._getProvider)(L,zo).getImmediate();return{getId:()=>function Kr(T){return po.apply(this,arguments)}(te),getToken:gt=>function Zo(T){return $i.apply(this,arguments)}(te,gt)}};(function io(){(0,ne._registerComponent)(new ae.wA(zo,qo,"PUBLIC")),(0,ne._registerComponent)(new ae.wA("installations-internal",os,"PRIVATE"))})(),(0,ne.registerVersion)(kn,ut),(0,ne.registerVersion)(kn,ut,"esm2017");const Rr="@firebase/remote-config",Pi=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class No{constructor(L,te,Pe,gt){this.client=L,this.storage=te,this.storageCache=Pe,this.logger=gt}isCachedDataFresh(L,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Pe=Date.now()-te,gt=Pe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${gt}.`),gt}fetch(L){var te=this;return(0,m.Z)(function*(){const[Pe,gt]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(gt&&te.isCachedDataFresh(L.cacheMaxAgeMillis,Pe))return gt;L.eTag=gt&&gt.eTag;const Ft=yield te.client.fetch(L),nn=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ft.status&&nn.push(te.storage.setLastSuccessfulFetchResponse(Ft)),yield Promise.all(nn),Ft})()}}function Lo(T=navigator){return T.languages&&T.languages[0]||T.language}class oo{constructor(L,te,Pe,gt,Ft,nn){this.firebaseInstallations=L,this.sdkVersion=te,this.namespace=Pe,this.projectId=gt,this.apiKey=Ft,this.appId=nn}fetch(L){var te=this;return(0,m.Z)(function*(){const[Pe,gt]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),nn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Kn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},$n={sdk_version:te.sdkVersion,app_instance_id:Pe,app_instance_id_token:gt,app_id:te.appId,language_code:Lo()},mi={method:"POST",headers:Kn,body:JSON.stringify($n)},Hi=fetch(nn,mi),Ni=new Promise((sa,ka)=>{L.signal.addEventListener(()=>{const Ea=new Error("The operation was aborted.");Ea.name="AbortError",ka(Ea)})});let Ts;try{yield Promise.race([Hi,Ni]),Ts=yield Hi}catch(sa){let ka="fetch-client-network";throw"AbortError"===sa?.name&&(ka="fetch-timeout"),Pi.create(ka,{originalErrorMessage:sa?.message})}let Er=Ts.status;const Ya=Ts.headers.get("ETag")||void 0;let eo,zs;if(200===Ts.status){let sa;try{sa=yield Ts.json()}catch(ka){throw Pi.create("fetch-client-parse",{originalErrorMessage:ka?.message})}eo=sa.entries,zs=sa.state}if("INSTANCE_STATE_UNSPECIFIED"===zs?Er=500:"NO_CHANGE"===zs?Er=304:("NO_TEMPLATE"===zs||"EMPTY_CONFIG"===zs)&&(eo={}),304!==Er&&200!==Er)throw Pi.create("fetch-status",{httpStatus:Er});return{status:Er,eTag:Ya,config:eo}})()}}class ms{constructor(L,te){this.client=L,this.storage=te}fetch(L){var te=this;return(0,m.Z)(function*(){const Pe=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(L,Pe)})()}attemptFetch(L,{throttleEndTimeMillis:te,backoffCount:Pe}){var gt=this;return(0,m.Z)(function*(){yield function ar(T,L){return new Promise((te,Pe)=>{const gt=Math.max(L-Date.now(),0),Ft=setTimeout(te,gt);T.addEventListener(()=>{clearTimeout(Ft),Pe(Pi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,te);try{const Ft=yield gt.client.fetch(L);return yield gt.storage.deleteThrottleMetadata(),Ft}catch(Ft){if(!function Ir(T){if(!(T instanceof xe.ZR&&T.customData))return!1;const L=Number(T.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Ft))throw Ft;const nn={throttleEndTimeMillis:Date.now()+(0,xe.$s)(Pe),backoffCount:Pe+1};return yield gt.storage.setThrottleMetadata(nn),gt.attemptFetch(L,nn)}})()}}class Vs{constructor(L,te,Pe,gt,Ft){this.app=L,this._client=te,this._storageCache=Pe,this._storage=gt,this._logger=Ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sr(T,L){const te=T.target.error||void 0;return Pi.create(L,{originalErrorMessage:te&&te?.message})}const dr="app_namespace_store";class Yi{constructor(L,te,Pe,gt=function Bi(){return new Promise((T,L)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=Pe=>{L(Sr(Pe,"storage-open"))},te.onsuccess=Pe=>{T(Pe.target.result)},te.onupgradeneeded=Pe=>{0===Pe.oldVersion&&Pe.target.result.createObjectStore(dr,{keyPath:"compositeKey"})}}catch(te){L(Pi.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=L,this.appName=te,this.namespace=Pe,this.openDbPromise=gt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var te=this;return(0,m.Z)(function*(){const Pe=yield te.openDbPromise;return new Promise((gt,Ft)=>{const Kn=Pe.transaction([dr],"readonly").objectStore(dr),$n=te.createCompositeKey(L);try{const mi=Kn.get($n);mi.onerror=Hi=>{Ft(Sr(Hi,"storage-get"))},mi.onsuccess=Hi=>{const Ni=Hi.target.result;gt(Ni?Ni.value:void 0)}}catch(mi){Ft(Pi.create("storage-get",{originalErrorMessage:mi?.message}))}})})()}set(L,te){var Pe=this;return(0,m.Z)(function*(){const gt=yield Pe.openDbPromise;return new Promise((Ft,nn)=>{const $n=gt.transaction([dr],"readwrite").objectStore(dr),mi=Pe.createCompositeKey(L);try{const Hi=$n.put({compositeKey:mi,value:te});Hi.onerror=Ni=>{nn(Sr(Ni,"storage-set"))},Hi.onsuccess=()=>{Ft()}}catch(Hi){nn(Pi.create("storage-set",{originalErrorMessage:Hi?.message}))}})})()}delete(L){var te=this;return(0,m.Z)(function*(){const Pe=yield te.openDbPromise;return new Promise((gt,Ft)=>{const Kn=Pe.transaction([dr],"readwrite").objectStore(dr),$n=te.createCompositeKey(L);try{const mi=Kn.delete($n);mi.onerror=Hi=>{Ft(Sr(Hi,"storage-delete"))},mi.onsuccess=()=>{gt()}}catch(mi){Ft(Pi.create("storage-delete",{originalErrorMessage:mi?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class So{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,m.Z)(function*(){const te=L.storage.getLastFetchStatus(),Pe=L.storage.getLastSuccessfulFetchTimestampMillis(),gt=L.storage.getActiveConfig(),Ft=yield te;Ft&&(L.lastFetchStatus=Ft);const nn=yield Pe;nn&&(L.lastSuccessfulFetchTimestampMillis=nn);const Kn=yield gt;Kn&&(L.activeConfig=Kn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function As(){return ks.apply(this,arguments)}function ks(){return(ks=(0,m.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function wo(){(0,ne._registerComponent)(new ae.wA("remote-config",function T(L,{instanceIdentifier:te}){const Pe=L.getProvider("app").getImmediate(),gt=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pi.create("registration-window");if(!(0,xe.hl)())throw Pi.create("indexed-db-unavailable");const{projectId:Ft,apiKey:nn,appId:Kn}=Pe.options;if(!Ft)throw Pi.create("registration-project-id");if(!nn)throw Pi.create("registration-api-key");if(!Kn)throw Pi.create("registration-app-id");const $n=new Yi(Kn,Pe.name,te=te||"firebase"),mi=new So($n),Hi=new Z.Yd(Rr);Hi.logLevel=Z.in.ERROR;const Ni=new oo(gt,ne.SDK_VERSION,te,Ft,nn,Kn),Ts=new ms(Ni,$n),Er=new No(Ts,$n,mi,Hi),Ya=new Vs(Pe,Er,mi,$n,Hi);return function An(T){const L=(0,xe.m9)(T);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(Rr,"0.4.4"),(0,ne.registerVersion)(Rr,"0.4.4","esm2017")}();const Pr=(T,L)=>L.some(te=>T instanceof te);let as,qi;const jr=new WeakMap,es=new WeakMap,er=new WeakMap,Qr=new WeakMap,To=new WeakMap;let je={get(T,L,te){if(T instanceof IDBTransaction){if("done"===L)return es.get(T);if("objectStoreNames"===L)return T.objectStoreNames||er.get(T);if("store"===L)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return En(T[L])},set:(T,L,te)=>(T[L]=te,!0),has:(T,L)=>T instanceof IDBTransaction&&("done"===L||"store"===L)||L in T};function hn(T){return"function"==typeof T?function ot(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function go(){return qi||(qi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...L){return T.apply(bi(this),L),En(jr.get(this))}:function(...L){return En(T.apply(bi(this),L))}:function(L,...te){const Pe=T.call(bi(this),L,...te);return er.set(Pe,L.sort?L.sort():[L]),En(Pe)}}(T):(T instanceof IDBTransaction&&function We(T){if(es.has(T))return;const L=new Promise((te,Pe)=>{const gt=()=>{T.removeEventListener("complete",Ft),T.removeEventListener("error",nn),T.removeEventListener("abort",nn)},Ft=()=>{te(),gt()},nn=()=>{Pe(T.error||new DOMException("AbortError","AbortError")),gt()};T.addEventListener("complete",Ft),T.addEventListener("error",nn),T.addEventListener("abort",nn)});es.set(T,L)}(T),Pr(T,function Fr(){return as||(as=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,je):T)}function En(T){if(T instanceof IDBRequest)return function js(T){const L=new Promise((te,Pe)=>{const gt=()=>{T.removeEventListener("success",Ft),T.removeEventListener("error",nn)},Ft=()=>{te(En(T.result)),gt()},nn=()=>{Pe(T.error),gt()};T.addEventListener("success",Ft),T.addEventListener("error",nn)});return L.then(te=>{te instanceof IDBCursor&&jr.set(te,T)}).catch(()=>{}),To.set(L,T),L}(T);if(Qr.has(T))return Qr.get(T);const L=hn(T);return L!==T&&(Qr.set(T,L),To.set(L,T)),L}const bi=T=>To.get(T);function vr(T,L,{blocked:te,upgrade:Pe,blocking:gt,terminated:Ft}={}){const nn=indexedDB.open(T,L),Kn=En(nn);return Pe&&nn.addEventListener("upgradeneeded",$n=>{Pe(En(nn.result),$n.oldVersion,$n.newVersion,En(nn.transaction))}),te&&nn.addEventListener("blocked",()=>te()),Kn.then($n=>{Ft&&$n.addEventListener("close",()=>Ft()),gt&&$n.addEventListener("versionchange",()=>gt())}).catch(()=>{}),Kn}function yr(T,{blocked:L}={}){const te=indexedDB.deleteDatabase(T);return L&&te.addEventListener("blocked",()=>L()),En(te).then(()=>{})}const _o=["get","getKey","getAll","getAllKeys","count"],br=["put","add","delete","clear"],ts=new Map;function xs(T,L){if(!(T instanceof IDBDatabase)||L in T||"string"!=typeof L)return;if(ts.get(L))return ts.get(L);const te=L.replace(/FromIndex$/,""),Pe=L!==te,gt=br.includes(te);if(!(te in(Pe?IDBIndex:IDBObjectStore).prototype)||!gt&&!_o.includes(te))return;const Ft=function(){var nn=(0,m.Z)(function*(Kn,...$n){const mi=this.transaction(Kn,gt?"readwrite":"readonly");let Hi=mi.store;return Pe&&(Hi=Hi.index($n.shift())),(yield Promise.all([Hi[te](...$n),gt&&mi.done]))[0]});return function($n){return nn.apply(this,arguments)}}();return ts.set(L,Ft),Ft}!function Y(T){je=T(je)}(T=>({...T,get:(L,te,Pe)=>xs(L,te)||T.get(L,te,Pe),has:(L,te)=>!!xs(L,te)||T.has(L,te)}));const W="/firebase-messaging-sw.js",j="/firebase-cloud-messaging-push-scope",v="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",C="https://fcmregistrations.googleapis.com/v1",ee="google.c.a.c_id",Ce="google.c.a.c_l",ct="google.c.a.ts";var Yn=(()=>((Yn=Yn||{}).PUSH_RECEIVED="push-received",Yn.NOTIFICATION_CLICKED="notification-clicked",Yn))();function jn(T){const L=new Uint8Array(T);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ei(T){const te=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(te),gt=new Uint8Array(Pe.length);for(let Ft=0;Ft<Pe.length;++Ft)gt[Ft]=Pe.charCodeAt(Ft);return gt}const Ui="fcm_token_details_db",Tr=5,Br="fcm_token_object_Store";function ji(){return ji=(0,m.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ft=>Ft.name).includes(Ui))return null;let L=null;return(yield vr(Ui,Tr,{upgrade:(Pe=(0,m.Z)(function*(gt,Ft,nn,Kn){var $n;if(Ft<2||!gt.objectStoreNames.contains(Br))return;const mi=Kn.objectStore(Br),Hi=yield mi.index("fcmSenderId").get(T);if(yield mi.clear(),Hi)if(2===Ft){const Ni=Hi;if(!Ni.auth||!Ni.p256dh||!Ni.endpoint)return;L={token:Ni.fcmToken,createTime:null!==($n=Ni.createTime)&&void 0!==$n?$n:Date.now(),subscriptionOptions:{auth:Ni.auth,p256dh:Ni.p256dh,endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:"string"==typeof Ni.vapidKey?Ni.vapidKey:jn(Ni.vapidKey)}}}else if(3===Ft){const Ni=Hi;L={token:Ni.fcmToken,createTime:Ni.createTime,subscriptionOptions:{auth:jn(Ni.auth),p256dh:jn(Ni.p256dh),endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:jn(Ni.vapidKey)}}}else if(4===Ft){const Ni=Hi;L={token:Ni.fcmToken,createTime:Ni.createTime,subscriptionOptions:{auth:jn(Ni.auth),p256dh:jn(Ni.p256dh),endpoint:Ni.endpoint,swScope:Ni.swScope,vapidKey:jn(Ni.vapidKey)}}}}),function(Ft,nn,Kn,$n){return Pe.apply(this,arguments)})})).close(),yield yr(Ui),yield yr("fcm_vapid_details_db"),yield yr("undefined"),function xr(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:L}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var Pe}),ji.apply(this,arguments)}const Ti="firebase-messaging-database",Mo=1,so="firebase-messaging-store";let Nr=null;function Ur(){return Nr||(Nr=vr(Ti,Mo,{upgrade:(T,L)=>{0===L&&T.createObjectStore(so)}})),Nr}function Ao(T){return gs.apply(this,arguments)}function gs(){return gs=(0,m.Z)(function*(T){const L=Ks(T),Pe=yield(yield Ur()).transaction(so).objectStore(so).get(L);if(Pe)return Pe;{const gt=yield function wr(T){return ji.apply(this,arguments)}(T.appConfig.senderId);if(gt)return yield Es(T,gt),gt}}),gs.apply(this,arguments)}function Es(T,L){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,m.Z)(function*(T,L){const te=Ks(T),gt=(yield Ur()).transaction(so,"readwrite");return yield gt.objectStore(so).put(L,te),yield gt.done,L})).apply(this,arguments)}function Bo(){return(Bo=(0,m.Z)(function*(T){const L=Ks(T),Pe=(yield Ur()).transaction(so,"readwrite");yield Pe.objectStore(so).delete(L),yield Pe.done})).apply(this,arguments)}function Ks({appConfig:T}){return T.appId}const Xr=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vl(T,L){return la.apply(this,arguments)}function la(){return(la=(0,m.Z)(function*(T,L){const te=yield Os(T),Pe=Ys(L),gt={method:"POST",headers:te,body:JSON.stringify(Pe)};let Ft;try{Ft=yield(yield fetch(va(T.appConfig),gt)).json()}catch(nn){throw Xr.create("token-subscribe-failed",{errorInfo:nn?.toString()})}if(Ft.error)throw Xr.create("token-subscribe-failed",{errorInfo:Ft.error.message});if(!Ft.token)throw Xr.create("token-subscribe-no-token");return Ft.token})).apply(this,arguments)}function _a(){return(_a=(0,m.Z)(function*(T,L){const te=yield Os(T),Pe=Ys(L.subscriptionOptions),gt={method:"PATCH",headers:te,body:JSON.stringify(Pe)};let Ft;try{Ft=yield(yield fetch(`${va(T.appConfig)}/${L.token}`,gt)).json()}catch(nn){throw Xr.create("token-update-failed",{errorInfo:nn?.toString()})}if(Ft.error)throw Xr.create("token-update-failed",{errorInfo:Ft.error.message});if(!Ft.token)throw Xr.create("token-update-no-token");return Ft.token})).apply(this,arguments)}function Sa(T,L){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,m.Z)(function*(T,L){const Pe={method:"DELETE",headers:yield Os(T)};try{const Ft=yield(yield fetch(`${va(T.appConfig)}/${L}`,Pe)).json();if(Ft.error)throw Xr.create("token-unsubscribe-failed",{errorInfo:Ft.error.message})}catch(gt){throw Xr.create("token-unsubscribe-failed",{errorInfo:gt?.toString()})}})).apply(this,arguments)}function va({projectId:T}){return`${C}/projects/${T}/registrations`}function Os(T){return ya.apply(this,arguments)}function ya(){return(ya=(0,m.Z)(function*({appConfig:T,installations:L}){const te=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function Ys({p256dh:T,auth:L,endpoint:te,vapidKey:Pe}){const gt={web:{endpoint:te,auth:L,p256dh:T}};return Pe!==v&&(gt.web.applicationPubKey=Pe),gt}const ls=6048e5;function ta(){return ta=(0,m.Z)(function*(T){const L=yield function na(T,L){return Mi.apply(this,arguments)}(T.swRegistration,T.vapidKey),te={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:L.endpoint,auth:jn(L.getKey("auth")),p256dh:jn(L.getKey("p256dh"))},Pe=yield Ao(T.firebaseDependencies);if(Pe){if(function ba(T,L){return L.vapidKey===T.vapidKey&&L.endpoint===T.endpoint&&L.auth===T.auth&&L.p256dh===T.p256dh}(Pe.subscriptionOptions,te))return Date.now()>=Pe.createTime+ls?function Ta(T,L){return Bs.apply(this,arguments)}(T,{token:Pe.token,createTime:Date.now(),subscriptionOptions:te}):Pe.token;try{yield Sa(T.firebaseDependencies,Pe.token)}catch(gt){console.warn(gt)}return Qi(T.firebaseDependencies,te)}return Qi(T.firebaseDependencies,te)}),ta.apply(this,arguments)}function cs(){return cs=(0,m.Z)(function*(T){const L=yield Ao(T.firebaseDependencies);L&&(yield Sa(T.firebaseDependencies,L.token),yield function Ns(T){return Bo.apply(this,arguments)}(T.firebaseDependencies));const te=yield T.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),cs.apply(this,arguments)}function Bs(){return Bs=(0,m.Z)(function*(T,L){try{const te=yield function ga(T,L){return _a.apply(this,arguments)}(T.firebaseDependencies,L),Pe=Object.assign(Object.assign({},L),{token:te,createTime:Date.now()});return yield Es(T.firebaseDependencies,Pe),te}catch(te){throw yield function _s(T){return cs.apply(this,arguments)}(T),te}}),Bs.apply(this,arguments)}function Qi(T,L){return ko.apply(this,arguments)}function ko(){return(ko=(0,m.Z)(function*(T,L){const Pe={token:yield vl(T,L),createTime:Date.now(),subscriptionOptions:L};return yield Es(T,Pe),Pe.token})).apply(this,arguments)}function Mi(){return(Mi=(0,m.Z)(function*(T,L){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ei(L)})})).apply(this,arguments)}function P(T){const L={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Q(T,L){if(!L.notification)return;T.notification={};const te=L.notification.title;te&&(T.notification.title=te);const Pe=L.notification.body;Pe&&(T.notification.body=Pe);const gt=L.notification.image;gt&&(T.notification.image=gt);const Ft=L.notification.icon;Ft&&(T.notification.icon=Ft)}(L,T),function U(T,L){L.data&&(T.data=L.data)}(L,T),function fe(T,L){var te,Pe,gt,Ft,nn;if(!(L.fcmOptions||null!==(te=L.notification)&&void 0!==te&&te.click_action))return;T.fcmOptions={};const Kn=null!==(gt=null===(Pe=L.fcmOptions)||void 0===Pe?void 0:Pe.link)&&void 0!==gt?gt:null===(Ft=L.notification)||void 0===Ft?void 0:Ft.click_action;Kn&&(T.fcmOptions.link=Kn);const $n=null===(nn=L.fcmOptions)||void 0===nn?void 0:nn.analytics_label;$n&&(T.fcmOptions.analyticsLabel=$n)}(L,T),L}function Qt(T,L){const te=[];for(let Pe=0;Pe<T.length;Pe++)te.push(T.charAt(Pe)),Pe<L.length&&te.push(L.charAt(Pe));return te.join("")}function qn(T){return Xr.create("missing-app-config-values",{valueName:T})}Qt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wi{constructor(L,te,Pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const gt=function fn(T){if(!T||!T.options)throw qn("App Configuration Object");if(!T.name)throw qn("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:te}=T;for(const Pe of L)if(!te[Pe])throw qn(Pe);return{appName:T.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:gt,installations:te,analyticsProvider:Pe}}_delete(){return Promise.resolve()}}function Ci(){return(Ci=(0,m.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(W,{scope:j}),T.swRegistration.update().catch(()=>{})}catch(L){throw Xr.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function or(){return(or=(0,m.Z)(function*(T,L){if(!L&&!T.swRegistration&&(yield function Ai(T){return Ci.apply(this,arguments)}(T)),L||!T.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Xr.create("invalid-sw-registration");T.swRegistration=L}})).apply(this,arguments)}function ao(){return(ao=(0,m.Z)(function*(T,L){L?T.vapidKey=L:T.vapidKey||(T.vapidKey=v)})).apply(this,arguments)}function Wr(){return Wr=(0,m.Z)(function*(T,L){if(!navigator)throw Xr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xr.create("permission-blocked");return yield function zn(T,L){return ao.apply(this,arguments)}(T,L?.vapidKey),yield function ki(T,L){return or.apply(this,arguments)}(T,L?.serviceWorkerRegistration),function qs(T){return ta.apply(this,arguments)}(T)}),Wr.apply(this,arguments)}function Oo(){return(Oo=(0,m.Z)(function*(T,L,te){const Pe=function Qs(T){switch(T){case Yn.NOTIFICATION_CLICKED:return"notification_open";case Yn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:te[ee],message_name:te[Ce],message_time:te[ct],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Rs(){return Rs=(0,m.Z)(function*(T,L){const te=L.data;if(!te.isFirebaseMessaging)return;T.onMessageHandler&&te.messageType===Yn.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(P(te)):T.onMessageHandler.next(P(te)));const Pe=te.data;(function Ye(T){return"object"==typeof T&&!!T&&ee in T})(Pe)&&"1"===Pe["google.c.a.e"]&&(yield function ia(T,L,te){return Oo.apply(this,arguments)}(T,te.messageType,Pe))}),Rs.apply(this,arguments)}const lc="@firebase/messaging",yl=T=>{const L=new Wi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function ys(T,L){return Rs.apply(this,arguments)}(L,te)),L},rl=T=>{const L=T.getProvider("messaging").getImmediate();return{getToken:Pe=>function vs(T,L){return Wr.apply(this,arguments)}(L,Pe)}};function sr(){return xo.apply(this,arguments)}function xo(){return(xo=(0,m.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wn(){(0,ne._registerComponent)(new ae.wA("messaging",yl,"PUBLIC")),(0,ne._registerComponent)(new ae.wA("messaging-internal",rl,"PRIVATE")),(0,ne.registerVersion)(lc,"0.12.4"),(0,ne.registerVersion)(lc,"0.12.4","esm2017")}();const ni="analytics",li="firebase_id",Is="origin",Bn=6e4,Jt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",R="https://www.googletagmanager.com/gtag/js",y=new Z.Yd("@firebase/analytics"),I=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function G(T){if(!T.startsWith(R)){const L=I.create("invalid-gtag-resource",{gtagURL:T});return y.warn(L.message),""}return T}function he(T){return Promise.all(T.map(L=>L.catch(te=>te)))}function Vn(){return(Vn=(0,m.Z)(function*(T,L,te,Pe,gt,Ft){const nn=Pe[gt];try{if(nn)yield L[nn];else{const $n=(yield he(te)).find(mi=>mi.measurementId===gt);$n&&(yield L[$n.appId])}}catch(Kn){y.error(Kn)}T("config",gt,Ft)})).apply(this,arguments)}function Vi(){return(Vi=(0,m.Z)(function*(T,L,te,Pe,gt){try{let Ft=[];if(gt&&gt.send_to){let nn=gt.send_to;Array.isArray(nn)||(nn=[nn]);const Kn=yield he(te);for(const $n of nn){const mi=Kn.find(Ni=>Ni.measurementId===$n),Hi=mi&&L[mi.appId];if(!Hi){Ft=[];break}Ft.push(Hi)}}0===Ft.length&&(Ft=Object.values(L)),yield Promise.all(Ft),T("event",Pe,gt||{})}catch(Ft){y.error(Ft)}})).apply(this,arguments)}const Fi=30,Ii=new class Eo{constructor(L={},te=1e3){this.throttleMetadata=L,this.intervalMillis=te}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,te){this.throttleMetadata[L]=te}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function Ar(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function x(){return(x=(0,m.Z)(function*(T){var L;const{appId:te,apiKey:Pe}=T,gt={method:"GET",headers:Ar(Pe)},Ft=Jt.replace("{app-id}",te),nn=yield fetch(Ft,gt);if(200!==nn.status&&304!==nn.status){let Kn="";try{const $n=yield nn.json();null!==(L=$n.error)&&void 0!==L&&L.message&&(Kn=$n.error.message)}catch{}throw I.create("config-fetch-failed",{httpStatus:nn.status,responseMessage:Kn})}return nn.json()})).apply(this,arguments)}function w(){return(w=(0,m.Z)(function*(T,L=Ii,te){const{appId:Pe,apiKey:gt,measurementId:Ft}=T.options;if(!Pe)throw I.create("no-app-id");if(!gt){if(Ft)return{measurementId:Ft,appId:Pe};throw I.create("no-api-key")}const nn=L.getThrottleMetadata(Pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Kn=new Dt;return setTimeout((0,m.Z)(function*(){Kn.abort()}),void 0!==te?te:Bn),N({appId:Pe,apiKey:gt,measurementId:Ft},nn,Kn,L)})).apply(this,arguments)}function N(T,L,te){return X.apply(this,arguments)}function X(){return X=(0,m.Z)(function*(T,{throttleEndTimeMillis:L,backoffCount:te},Pe,gt=Ii){var Ft;const{appId:nn,measurementId:Kn}=T;try{yield function ye(T,L){return new Promise((te,Pe)=>{const gt=Math.max(L-Date.now(),0),Ft=setTimeout(te,gt);T.addEventListener(()=>{clearTimeout(Ft),Pe(I.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(Pe,L)}catch($n){if(Kn)return y.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kn} provided in the "measurementId" field in the local Firebase config. [${$n?.message}]`),{appId:nn,measurementId:Kn};throw $n}try{const $n=yield function fr(T){return x.apply(this,arguments)}(T);return gt.deleteThrottleMetadata(nn),$n}catch($n){const mi=$n;if(!function Te(T){if(!(T instanceof xe.ZR&&T.customData))return!1;const L=Number(T.customData.httpStatus);return 429===L||500===L||503===L||504===L}(mi)){if(gt.deleteThrottleMetadata(nn),Kn)return y.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kn} provided in the "measurementId" field in the local Firebase config. [${mi?.message}]`),{appId:nn,measurementId:Kn};throw $n}const Hi=503===Number(null===(Ft=mi?.customData)||void 0===Ft?void 0:Ft.httpStatus)?(0,xe.$s)(te,gt.intervalMillis,Fi):(0,xe.$s)(te,gt.intervalMillis),Ni={throttleEndTimeMillis:Date.now()+Hi,backoffCount:te+1};return gt.setThrottleMetadata(nn,Ni),y.debug(`Calling attemptFetch again in ${Hi} millis`),N(T,Ni,Pe,gt)}}),X.apply(this,arguments)}class Dt{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Cn,Hr;function un(){return(un=(0,m.Z)(function*(T,L,te,Pe,gt){if(gt&&gt.global)T("event",te,Pe);else{const Ft=yield L;T("event",te,Object.assign(Object.assign({},Pe),{send_to:Ft}))}})).apply(this,arguments)}function Ma(){return(Ma=(0,m.Z)(function*(){if(!(0,xe.hl)())return y.warn(I.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(T){return y.warn(I.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function Aa(){return Aa=(0,m.Z)(function*(T,L,te,Pe,gt,Ft,nn){var Kn;const $n=function k(T){return w.apply(this,arguments)}(T);$n.then(Er=>{te[Er.measurementId]=Er.appId,T.options.measurementId&&Er.measurementId!==T.options.measurementId&&y.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Er.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Er=>y.error(Er)),L.push($n);const mi=function sl(){return Ma.apply(this,arguments)}().then(Er=>{if(Er)return Pe.getId()}),[Hi,Ni]=yield Promise.all([$n,mi]);(function Oi(T){const L=window.document.getElementsByTagName("script");for(const te of Object.values(L))if(te.src&&te.src.includes(R)&&te.src.includes(T))return te;return null})(Ft)||function at(T,L){const te=function et(T,L){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(T,L)),te}("firebase-js-sdk-policy",{createScriptURL:G}),Pe=document.createElement("script"),gt=`${R}?l=${T}&id=${L}`;Pe.src=te?te?.createScriptURL(gt):gt,Pe.async=!0,document.head.appendChild(Pe)}(Ft,Hi.measurementId),Hr&&(gt("consent","default",Hr),function ca(T){Hr=T}(void 0)),gt("js",new Date);const Ts=null!==(Kn=nn?.config)&&void 0!==Kn?Kn:{};return Ts[Is]="firebase",Ts.update=!0,null!=Ni&&(Ts[li]=Ni),gt("config",Hi.measurementId,Ts),Cn&&(gt("set",Cn),function Vo(T){Cn=T}(void 0)),Hi.measurementId}),Aa.apply(this,arguments)}class Ss{constructor(L){this.app=L}_delete(){return delete Xs[this.app.options.appId],Promise.resolve()}}let Xs={},Pa=[];const Ll={};let cc,us,Ro="dataLayer",wl=!1;function uc(T,L,te){!function dc(){const T=[];if((0,xe.ru)()&&T.push("This is a browser extension environment."),(0,xe.zI)()||T.push("Cookies are not available."),T.length>0){const L=T.map((Pe,gt)=>`(${gt+1}) ${Pe}`).join(" "),te=I.create("invalid-analytics-context",{errorInfo:L});y.warn(te.message)}}();const Pe=T.options.appId;if(!Pe)throw I.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw I.create("no-api-key");y.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xs[Pe])throw I.create("already-exists",{id:Pe});if(!wl){!function $t(T){let L=[];Array.isArray(window[T])?L=window[T]:window[T]=L}(Ro);const{wrappedGtag:Ft,gtagCore:nn}=function di(T,L,te,Pe,gt){let Ft=function(...nn){window[Pe].push(arguments)};return window[gt]&&"function"==typeof window[gt]&&(Ft=window[gt]),window[gt]=function Fn(T,L,te,Pe){function Ft(){return Ft=(0,m.Z)(function*(nn,...Kn){try{if("event"===nn){const[$n,mi]=Kn;yield function ri(T,L,te,Pe,gt){return Vi.apply(this,arguments)}(T,L,te,$n,mi)}else if("config"===nn){const[$n,mi]=Kn;yield function an(T,L,te,Pe,gt,Ft){return Vn.apply(this,arguments)}(T,L,te,Pe,$n,mi)}else if("consent"===nn){const[$n]=Kn;T("consent","update",$n)}else if("get"===nn){const[$n,mi,Hi]=Kn;T("get",$n,mi,Hi)}else if("set"===nn){const[$n]=Kn;T("set",$n)}else T(nn,...Kn)}catch($n){y.error($n)}}),Ft.apply(this,arguments)}return function gt(nn){return Ft.apply(this,arguments)}}(Ft,T,L,te),{gtagCore:Ft,wrappedGtag:window[gt]}}(Xs,Pa,Ll,Ro,"gtag");us=Ft,cc=nn,wl=!0}return Xs[Pe]=function Nh(T,L,te,Pe,gt,Ft,nn){return Aa.apply(this,arguments)}(T,Pa,Ll,L,cc,Ro,te),new Ss(T)}function zc(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,m.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}const Wc="@firebase/analytics";!function $a(){(0,ne._registerComponent)(new ae.wA(ni,(L,{options:te})=>uc(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,ne._registerComponent)(new ae.wA("analytics-internal",function T(L){try{const te=L.getProvider(ni).getImmediate();return{logEvent:(Pe,gt,Ft)=>function za(T,L,te,Pe){T=(0,xe.m9)(T),function ui(T,L,te,Pe,gt){return un.apply(this,arguments)}(us,Xs[T.app.options.appId],L,te,Pe).catch(gt=>y.error(gt))}(te,Pe,gt,Ft)}}catch(te){throw I.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,ne.registerVersion)(Wc,"0.10.0"),(0,ne.registerVersion)(Wc,"0.10.0","esm2017")}();var Od=E(4408),Bl=E(7565);const bs=new class Zc extends Bl.v{}(class Kc extends Od.o{constructor(L,te){super(L,te),this.scheduler=L,this.work=te}schedule(L,te=0){return te>0?super.schedule(L,te):(this.delay=te,this.state=L,this.scheduler.flush(this),this)}execute(L,te){return te>0||this.closed?super.execute(L,te):this._execute(L,te)}requestAsyncId(L,te,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(L,te,Pe):(L.flush(this),0)}});var ra=E(4986),Na=E(8505),kr=E(5363),al=E(9468);const hs=new d.GfV("7.6.1"),Or="__angularfire_symbol__analyticsIsSupportedValue",Yc="__angularfire_symbol__analyticsIsSupported",La="__angularfire_symbol__remoteConfigIsSupportedValue",Us="__angularfire_symbol__remoteConfigIsSupported",gc="__angularfire_symbol__messagingIsSupportedValue",Rd="__angularfire_symbol__messagingIsSupported";function Ga(T,L,te){if(L){if(1===L.length)return L[0];const Ft=L.filter(nn=>nn.app===te);if(1===Ft.length)return Ft[0]}return te.container.getProvider(T).getImmediate({optional:!0})}globalThis[Yc]||(globalThis[Yc]=zc().then(T=>globalThis[Or]=T).catch(()=>globalThis[Or]=!1)),globalThis[Rd]||(globalThis[Rd]=sr().then(T=>globalThis[gc]=T).catch(()=>globalThis[gc]=!1)),globalThis[Us]||(globalThis[Us]=As().then(T=>globalThis[La]=T).catch(()=>globalThis[La]=!1));const Vl=(T,L)=>{const te=L?[L]:(0,B.C6)(),Pe=[];return te.forEach(gt=>{gt.container.getProvider(T).instances.forEach(nn=>{Pe.includes(nn)||Pe.push(nn)})}),Pe};function fo(){}class Cl{constructor(L,te=bs){this.zone=L,this.delegate=te}now(){return this.delegate.now()}schedule(L,te,Pe){const gt=this.zone;return this.delegate.schedule(function(nn){gt.runGuarded(()=>{L.apply(this,[nn])})},te,Pe)}}class Dl{constructor(L){this.zone=L,this.task=null}call(L,te){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fo,{},fo,fo)),te.pipe((0,Na.b)({next:Pe,complete:Pe,error:Pe})).subscribe(L).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wa=(()=>{class T{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new Cl(Zone.current)),this.insideAngular=te.run(()=>new Cl(Zone.current,ra.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(te){return new(te||T)(d.LFG(d.R0b))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function lo(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function oa(T){return T.pipe((0,kr.Q)(lo().outsideAngular))}function Ba(T){return lo(),function Fu(T){return function(te){return(te=te.lift(new Dl(T.ngZone))).pipe((0,al.R)(T.outsideAngular),(0,kr.Q)(T.insideAngular))}}(lo())(T)}},1389:(gn,nt,E)=>{E.d(nt,{$:()=>W,A:()=>de,D:()=>Ne,I:()=>hr,J:()=>qo,L:()=>ai,N:()=>wt,P:()=>Nh,Q:()=>Yi,R:()=>Zi,U:()=>Jo,V:()=>As,W:()=>ks,X:()=>qr,Y:()=>Fr,Z:()=>go,_:()=>To,a:()=>xa,a0:()=>v,a1:()=>ee,a2:()=>Dn,a3:()=>Br,a4:()=>ji,a5:()=>Ti,a6:()=>so,a7:()=>Ur,a8:()=>gs,a9:()=>Cs,aA:()=>K,aB:()=>La,aC:()=>Oe,aD:()=>Vt,aE:()=>kr,aF:()=>mc,aG:()=>Bh,aH:()=>Di,aL:()=>Mr,aO:()=>as,aa:()=>Ns,ab:()=>Ks,ac:()=>Zs,ad:()=>ga,ae:()=>Sa,af:()=>va,ai:()=>ls,aj:()=>ta,ak:()=>_s,an:()=>ot,ao:()=>Q,aq:()=>ao,ar:()=>lc,as:()=>Fe,at:()=>bt,au:()=>re,av:()=>ue,aw:()=>Ts,ax:()=>ns,ay:()=>kt,az:()=>De,b:()=>ds,c:()=>us,d:()=>uc,e:()=>da,f:()=>Wc,g:()=>Zc,h:()=>Od,i:()=>Wn,j:()=>ra,k:()=>sa,l:()=>Xi,m:()=>Pd,o:()=>Ld,p:()=>_e,r:()=>Ha,s:()=>Nt,u:()=>sl});var d=E(5861),B=E(2090),m=E(6881),ne=E(7582),xe=E(1877),ae=E(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},dt=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new xe.Yd("@firebase/auth");function yt(D,...f){He.logLevel<=xe.in.ERROR&&He.error(`Auth (${m.SDK_VERSION}): ${D}`,...f)}function ue(D,...f){throw $e(D,...f)}function De(D,...f){return $e(D,...f)}function be(D,f,g){const O=Object.assign(Object.assign({},dt()),{[f]:g});return new B.LL("auth","Firebase",O).create(f,{appName:D.name})}function Ae(D,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ue(D,"argument-error"),be(D,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(D,...f){if("string"!=typeof D){const g=f[0],O=[...f.slice(1)];return O[0]&&(O[0].appName=D.name),D._errorFactory.create(g,...O)}return it.create(D,...f)}function K(D,f,...g){if(!D)throw $e(f,...g)}function Ge(D){const f="INTERNAL ASSERTION FAILED: "+D;throw yt(f),new Error(f)}function Fe(D,f){D||Ge(f)}function ze(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function vt(){return"http:"===vn()||"https:"===vn()}function vn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class ht{constructor(f,g){this.shortDelay=f,this.longDelay=g,Fe(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function At(D,f){Fe(D.emulator,"Emulator should always be set here");const{url:g}=D.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Rt{static initialize(f,g,O){this.fetchImpl=f,g&&(this.headersImpl=g),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Gt=new ht(3e4,6e4);function ln(D,f){return D.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:D.tenantId}):f}function _n(D,f,g,O){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.Z)(function*(D,f,g,O,ie={}){return Mt(D,ie,(0,d.Z)(function*(){let we={},It={};O&&("GET"===f?It=O:we={body:JSON.stringify(O)});const tn=(0,B.xO)(Object.assign({key:D.config.apiKey},It)).slice(1),Nn=yield D._getAdditionalHeaders();return Nn["Content-Type"]="application/json",D.languageCode&&(Nn["X-Firebase-Locale"]=D.languageCode),Rt.fetch()(mt(D,D.config.apiHost,g,tn),Object.assign({method:f,headers:Nn,referrerPolicy:"no-referrer"},we))}))})).apply(this,arguments)}function Mt(D,f,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,d.Z)(function*(D,f,g){D._canInitEmulator=!1;const O=Object.assign(Object.assign({},qt),f);try{const ie=new jt(D),we=yield Promise.race([g(),ie.promise]);ie.clearNetworkTimeout();const It=yield we.json();if("needConfirmation"in It)throw Tt(D,"account-exists-with-different-credential",It);if(we.ok&&!("errorMessage"in It))return It;{const tn=we.ok?It.errorMessage:It.error.message,[Nn,ii]=tn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nn)throw Tt(D,"credential-already-in-use",It);if("EMAIL_EXISTS"===Nn)throw Tt(D,"email-already-in-use",It);if("USER_DISABLED"===Nn)throw Tt(D,"user-disabled",It);const vi=O[Nn]||Nn.toLowerCase().replace(/[_\s]+/g,"-");if(ii)throw be(D,vi,ii);ue(D,vi)}}catch(ie){if(ie instanceof B.ZR)throw ie;ue(D,"network-request-failed",{message:String(ie)})}})).apply(this,arguments)}function Qe(D,f,g,O){return St.apply(this,arguments)}function St(){return(St=(0,d.Z)(function*(D,f,g,O,ie={}){const we=yield _n(D,f,g,O,ie);return"mfaPendingCredential"in we&&ue(D,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function mt(D,f,g,O){const ie=`${f}${g}?${O}`;return D.config.emulator?At(D.config,ie):`${D.config.apiScheme}://${ie}`}class jt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,O)=>{this.timer=setTimeout(()=>O(De(this.auth,"network-request-failed")),Gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tt(D,f,g){const O={appName:D.name};g.email&&(O.email=g.email),g.phoneNumber&&(O.phoneNumber=g.phoneNumber);const ie=De(D,f,O);return ie.customData._tokenResponse=g,ie}function Xt(){return(Xt=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Bt(D){if(D)try{const f=new Date(Number(D));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ft(){return(ft=(0,d.Z)(function*(D,f=!1){const g=(0,B.m9)(D),O=yield g.getIdToken(f),ie=Ze(O);K(ie&&ie.exp&&ie.auth_time&&ie.iat,g.auth,"internal-error");const we="object"==typeof ie.firebase?ie.firebase:void 0,It=we?.sign_in_provider;return{claims:ie,token:O,authTime:Bt(st(ie.auth_time)),issuedAtTime:Bt(st(ie.iat)),expirationTime:Bt(st(ie.exp)),signInProvider:It||null,signInSecondFactor:we?.sign_in_second_factor||null}})).apply(this,arguments)}function st(D){return 1e3*Number(D)}function Ze(D){const[f,g,O]=D.split(".");if(void 0===f||void 0===g||void 0===O)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,B.tV)(g);return ie?JSON.parse(ie):(yt("Failed to decode base64 JWT payload"),null)}catch(ie){return yt("Caught error parsing JWT payload as JSON",ie?.toString()),null}}function ke(D,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(D,f,g=!1){if(g)return f;try{return yield f}catch(O){throw O instanceof B.ZR&&function on({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(O)&&D.auth.currentUser===D&&(yield D.auth.signOut()),O}})).apply(this,arguments)}class Kt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const ie=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const O=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),O)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Wt{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bt(this.lastLoginAt),this.creationTime=Bt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function On(D){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,d.Z)(function*(D){var f;const g=D.auth,O=yield D.getIdToken(),ie=yield ke(D,function pi(D,f){return Gn.apply(this,arguments)}(g,{idToken:O}));K(ie?.users.length,g,"internal-error");const we=ie.users[0];D._notifyReloadListener(we);const It=null!==(f=we.providerUserInfo)&&void 0!==f&&f.length?function _i(D){return D.map(f=>{var{providerId:g}=f,O=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(we.providerUserInfo):[],tn=function Sn(D,f){return[...D.filter(O=>!f.some(ie=>ie.providerId===O.providerId)),...f]}(D.providerData,It),vi=!!D.isAnonymous&&!(D.email&&we.passwordHash||tn?.length),lr={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:tn,metadata:new Wt(we.createdAt,we.lastLoginAt),isAnonymous:vi};Object.assign(D,lr)}),Ie.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(D){const f=(0,B.m9)(D);yield On(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(D,f){const g=yield Mt(D,{},(0,d.Z)(function*(){const O=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:ie,apiKey:we}=D.config,It=mt(D,ie,"/v1/token",`key=${we}`),tn=yield D._getAdditionalHeaders();return tn["Content-Type"]="application/x-www-form-urlencoded",Rt.fetch()(It,{method:"POST",headers:tn,body:O})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){K(f.idToken,"internal-error"),K(typeof f.idToken<"u","internal-error"),K(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function qe(D){const f=Ze(D);return K(f,"internal-error"),K(typeof f.exp<"u","internal-error"),K(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var O=this;return(0,d.Z)(function*(){return K(!O.accessToken||O.refreshToken,f,"user-token-expired"),g||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(f,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var O=this;return(0,d.Z)(function*(){const{accessToken:ie,refreshToken:we,expiresIn:It}=yield function Ri(D,f){return yi.apply(this,arguments)}(f,g);O.updateTokensAndExpiration(ie,we,Number(It))})()}updateTokensAndExpiration(f,g,O){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(f,g){const{refreshToken:O,accessToken:ie,expirationTime:we}=g,It=new Zt;return O&&(K("string"==typeof O,"internal-error",{appName:f}),It.refreshToken=O),ie&&(K("string"==typeof ie,"internal-error",{appName:f}),It.accessToken=ie),we&&(K("number"==typeof we,"internal-error",{appName:f}),It.expirationTime=we),It}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function Je(D,f){K("string"==typeof D||typeof D>"u","internal-error",{appName:f})}class rt{constructor(f){var{uid:g,auth:O,stsTokenManager:ie}=f,we=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=O,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new Wt(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,d.Z)(function*(){const O=yield ke(g,g.stsTokenManager.getToken(g.auth,f));return K(O,g.auth,"internal-error"),g.accessToken!==O&&(g.accessToken=O,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),O})()}getIdTokenResult(f){return function Ve(D){return ft.apply(this,arguments)}(this,f)}reload(){return function _t(D){return Ht.apply(this,arguments)}(this)}_assign(f){this!==f&&(K(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new rt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var O=this;return(0,d.Z)(function*(){let ie=!1;f.idToken&&f.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(f),ie=!0),g&&(yield On(O)),yield O.auth._persistUserIfCurrent(O),ie&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var f=this;return(0,d.Z)(function*(){const g=yield f.getIdToken();return yield ke(f,function cn(D,f){return Xt.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var O,ie,we,It,tn,Nn,ii,vi;const lr=null!==(O=g.displayName)&&void 0!==O?O:void 0,ha=null!==(ie=g.email)&&void 0!==ie?ie:void 0,aa=null!==(we=g.phoneNumber)&&void 0!==we?we:void 0,Bd=null!==(It=g.photoURL)&&void 0!==It?It:void 0,_c=null!==(tn=g.tenantId)&&void 0!==tn?tn:void 0,Lu=null!==(Nn=g._redirectEventId)&&void 0!==Nn?Nn:void 0,Ud=null!==(ii=g.createdAt)&&void 0!==ii?ii:void 0,Tl=null!==(vi=g.lastLoginAt)&&void 0!==vi?vi:void 0,{uid:jl,emailVerified:ll,isAnonymous:$s,providerData:vc,stsTokenManager:qa}=g;K(jl&&qa,f,"internal-error");const yc=Zt.fromJSON(this.name,qa);K("string"==typeof jl,f,"internal-error"),Je(lr,f.name),Je(ha,f.name),K("boolean"==typeof ll,f,"internal-error"),K("boolean"==typeof $s,f,"internal-error"),Je(aa,f.name),Je(Bd,f.name),Je(_c,f.name),Je(Lu,f.name),Je(Ud,f.name),Je(Tl,f.name);const Hl=new rt({uid:jl,auth:f,email:ha,emailVerified:ll,displayName:lr,isAnonymous:$s,photoURL:Bd,phoneNumber:aa,tenantId:_c,stsTokenManager:yc,createdAt:Ud,lastLoginAt:Tl});return vc&&Array.isArray(vc)&&(Hl.providerData=vc.map(bc=>Object.assign({},bc))),Lu&&(Hl._redirectEventId=Lu),Hl}static _fromIdTokenResponse(f,g,O=!1){return(0,d.Z)(function*(){const ie=new Zt;ie.updateFromServerResponse(g);const we=new rt({uid:g.localId,auth:f,stsTokenManager:ie,isAnonymous:O});return yield On(we),we})()}}const Be=new Map;function Oe(D){Fe(D instanceof Function,"Expected a class definition");let f=Be.get(D);return f?(Fe(f instanceof D,"Instance stored in cache mismatched with class"),f):(f=new D,Be.set(D,f),f)}const wt=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,O){var ie=this;return(0,d.Z)(function*(){ie.storage[g]=O})()}_get(g){var O=this;return(0,d.Z)(function*(){const ie=O.storage[g];return void 0===ie?null:ie})()}_remove(g){var O=this;return(0,d.Z)(function*(){delete O.storage[g]})()}_addListener(g,O){}_removeListener(g,O){}}return D.type="NONE",D})();function Vt(D,f,g){return`firebase:${D}:${f}:${g}`}class Me{constructor(f,g,O){this.persistence=f,this.auth=g,this.userKey=O;const{config:ie,name:we}=this.auth;this.fullUserKey=Vt(this.userKey,ie.apiKey,we),this.fullPersistenceKey=Vt("persistence",ie.apiKey,we),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?rt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,d.Z)(function*(){if(g.persistence===f)return;const O=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,O?g.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,O="authUser"){return(0,d.Z)(function*(){if(!g.length)return new Me(Oe(wt),f,O);const ie=(yield Promise.all(g.map(function(){var ii=(0,d.Z)(function*(vi){if(yield vi._isAvailable())return vi});return function(vi){return ii.apply(this,arguments)}}()))).filter(ii=>ii);let we=ie[0]||Oe(wt);const It=Vt(O,f.config.apiKey,f.name);let tn=null;for(const ii of g)try{const vi=yield ii._get(It);if(vi){const lr=rt._fromJSON(f,vi);ii!==we&&(tn=lr),we=ii;break}}catch{}const Nn=ie.filter(ii=>ii._shouldAllowMigration);return we._shouldAllowMigration&&Nn.length?(we=Nn[0],tn&&(yield we._set(It,tn.toJSON())),yield Promise.all(g.map(function(){var ii=(0,d.Z)(function*(vi){if(vi!==we)try{yield vi._remove(It)}catch{}});return function(vi){return ii.apply(this,arguments)}}())),new Me(we,f,O)):new Me(we,f,O)})()}}function oe(D){const f=D.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(le(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(H(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ve(f))return"Blackberry";if(xt(f))return"Webos";if(V(f))return"Safari";if((f.includes("chrome/")||z(f))&&!f.includes("edge/"))return"Chrome";if(re(f))return"Android";{const O=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function H(D=(0,B.z$)()){return/firefox\//i.test(D)}function V(D=(0,B.z$)()){const f=D.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function z(D=(0,B.z$)()){return/crios\//i.test(D)}function le(D=(0,B.z$)()){return/iemobile/i.test(D)}function re(D=(0,B.z$)()){return/android/i.test(D)}function ve(D=(0,B.z$)()){return/blackberry/i.test(D)}function xt(D=(0,B.z$)()){return/webos/i.test(D)}function bt(D=(0,B.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function kt(D=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Mn(D=(0,B.z$)()){return bt(D)||re(D)||xt(D)||ve(D)||/windows phone/i.test(D)||le(D)}function xi(D,f=[]){let g;switch(D){case"Browser":g=oe((0,B.z$)());break;case"Worker":g=`${oe((0,B.z$)())}-${D}`;break;default:g=D}const O=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${m.SDK_VERSION}/${O}`}function Ct(){return(Ct=(0,d.Z)(function*(D){return(yield _n(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yn(D,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(D,f){return _n(D,"GET","/v2/recaptchaConfig",ln(D,f))})).apply(this,arguments)}function Rn(D){return void 0!==D&&void 0!==D.getResponse}function Hn(D){return void 0!==D&&void 0!==D.enterprise}class fi{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function gi(D){return new Promise((f,g)=>{const O=document.createElement("script");O.setAttribute("src",D),O.onload=f,O.onerror=ie=>{const we=De("internal-error");we.customData=ie,g(we)},O.type="text/javascript",O.charset="UTF-8",function ir(){var D,f;return null!==(f=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==f?f:document}().appendChild(O)})}function Cr(D){return`__${D}${Math.floor(1e6*Math.random())}`}class $i{constructor(f){this.type="recaptcha-enterprise",this.auth=Di(f)}verify(f="verify",g=!1){var O=this;return(0,d.Z)(function*(){function we(){return we=(0,d.Z)(function*(tn){if(!g){if(null==tn.tenantId&&null!=tn._agentRecaptchaConfig)return tn._agentRecaptchaConfig.siteKey;if(null!=tn.tenantId&&void 0!==tn._tenantRecaptchaConfigs[tn.tenantId])return tn._tenantRecaptchaConfigs[tn.tenantId].siteKey}return new Promise(function(){var Nn=(0,d.Z)(function*(ii,vi){yn(tn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lr=>{if(void 0!==lr.recaptchaKey){const ha=new fi(lr);return null==tn.tenantId?tn._agentRecaptchaConfig=ha:tn._tenantRecaptchaConfigs[tn.tenantId]=ha,ii(ha.siteKey)}vi(new Error("recaptcha Enterprise site key undefined"))}).catch(lr=>{vi(lr)})});return function(ii,vi){return Nn.apply(this,arguments)}}())}),we.apply(this,arguments)}function It(tn,Nn,ii){const vi=window.grecaptcha;Hn(vi)?vi.enterprise.ready(()=>{vi.enterprise.execute(tn,{action:f}).then(lr=>{Nn(lr)}).catch(()=>{Nn("NO_RECAPTCHA")})}):ii(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((tn,Nn)=>{(function ie(tn){return we.apply(this,arguments)})(O.auth).then(ii=>{if(!g&&Hn(window.grecaptcha))It(ii,tn,Nn);else{if(typeof window>"u")return void Nn(new Error("RecaptchaVerifier is only supported in browser"));gi("https://www.google.com/recaptcha/enterprise.js?render="+ii).then(()=>{It(ii,tn,Nn)}).catch(vi=>{Nn(vi)})}}).catch(ii=>{Nn(ii)})})})()}}function to(D,f,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(D,f,g,O=!1){const ie=new $i(D);let we;try{we=yield ie.verify(g)}catch{we=yield ie.verify(g,!0)}const It=Object.assign({},f);return Object.assign(It,O?{captchaResp:we}:{captchaResponse:we}),Object.assign(It,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(It,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),It})).apply(this,arguments)}class Zr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const O=we=>new Promise((It,tn)=>{try{It(f(we))}catch(Nn){tn(Nn)}});O.onAbort=g,this.queue.push(O);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===f)return;const O=[];try{for(const ie of g.queue)yield ie(f),ie.onAbort&&O.push(ie.onAbort)}catch(ie){O.reverse();for(const we of O)try{we()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:ie?.message})}})()}}class vo{constructor(f,g,O,ie){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=O,this.config=ie,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yo(this),this.idTokenSubscription=new Yo(this),this.beforeStateQueue=new Zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=ie.sdkClientVersion}_initializeWithPersistence(f,g){var O=this;return g&&(this._popupRedirectResolver=Oe(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var ie,we;if(!O._deleted&&(O.persistenceManager=yield Me.create(O,f),!O._deleted)){if(null!==(ie=O._popupRedirectResolver)&&void 0!==ie&&ie._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(g),O.lastNotifiedUid=(null===(we=O.currentUser)||void 0===we?void 0:we.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,d.Z)(function*(){var O;const ie=yield g.assertedPersistence.getCurrentUser();let we=ie,It=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const tn=null===(O=g.redirectUser)||void 0===O?void 0:O._redirectEventId,Nn=we?._redirectEventId,ii=yield g.tryRedirectSignIn(f);(!tn||tn===Nn)&&ii?.user&&(we=ii.user,It=!0)}if(!we)return g.directlySetCurrentUser(null);if(!we._redirectEventId){if(It)try{yield g.beforeStateQueue.runMiddleware(we)}catch(tn){we=ie,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(tn))}return we?g.reloadAndSetCurrentUserOrClear(we):g.directlySetCurrentUser(null)}return K(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===we._redirectEventId?g.directlySetCurrentUser(we):g.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(f){var g=this;return(0,d.Z)(function*(){let O=null;try{O=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,d.Z)(function*(){try{yield On(f)}catch(O){if("auth/network-request-failed"!==O?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,d.Z)(function*(){const O=f?(0,B.m9)(f):null;return O&&K(O.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(O&&O._clone(g))})()}_updateCurrentUser(f,g=!1){var O=this;return(0,d.Z)(function*(){if(!O._deleted)return f&&K(O.tenantId===f.tenantId,O,"tenant-id-mismatch"),g||(yield O.beforeStateQueue.runMiddleware(f)),O.queue((0,d.Z)(function*(){yield O.directlySetCurrentUser(f),O.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(Oe(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const g=yield yn(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),O=new fi(g);null==f.tenantId?f._agentRecaptchaConfig=O:f._tenantRecaptchaConfigs[f.tenantId]=O,O.emailPasswordEnabled&&new $i(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,g,O){return this.registerStateListener(this.authStateSubscription,f,g,O)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,O){return this.registerStateListener(this.idTokenSubscription,f,g,O)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var O=this;return(0,d.Z)(function*(){const ie=yield O.getOrInitRedirectPersistenceManager(g);return null===f?ie.removeCurrentUser():ie.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const O=f&&Oe(f)||g._popupRedirectResolver;K(O,g,"argument-error"),g.redirectPersistenceManager=yield Me.create(g,[Oe(O._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,d.Z)(function*(){var O,ie;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(O=g._currentUser)||void 0===O?void 0:O._redirectEventId)===f?g._currentUser:(null===(ie=g.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,d.Z)(function*(){if(f===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,O,ie){if(this._deleted)return()=>{};const we="function"==typeof g?g:g.next.bind(g),It=this._isInitialized?Promise.resolve():this._initializationPromise;return K(It,this,"internal-error"),It.then(()=>we(this.currentUser)),"function"==typeof g?f.addObserver(g,O,ie):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var g;const O={"X-Client-Version":f.clientVersion};f.app.options.appId&&(O["X-Firebase-gmpid"]=f.app.options.appId);const ie=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();ie&&(O["X-Firebase-Client"]=ie);const we=yield f._getAppCheckToken();return we&&(O["X-Firebase-AppCheck"]=we),O})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var g;const O=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return O?.error&&function Re(D,...f){He.logLevel<=xe.in.WARN&&He.warn(`Auth (${m.SDK_VERSION}): ${D}`,...f)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function Di(D){return(0,B.m9)(D)}class Yo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hr(D,f,g){const O=Di(D);K(O._canInitEmulator,O,"emulator-config-failed"),K(/^https?:\/\//.test(f),O,"invalid-emulator-scheme");const ie=!!g?.disableWarnings,we=Io(f),{host:It,port:tn}=function no(D){const f=Io(D),g=/(\/\/)?([^?#/]+)/.exec(D.substr(f.length));if(!g)return{host:"",port:null};const O=g[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(O);if(ie){const we=ie[1];return{host:we,port:zo(O.substr(we.length+1))}}{const[we,It]=O.split(":");return{host:we,port:zo(It)}}}(f);O.config.emulator={url:`${we}//${It}${null===tn?"":`:${tn}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:It,port:tn,protocol:we.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function Ms(){function D(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function Io(D){const f=D.indexOf(":");return f<0?"":D.substr(0,f+1)}function zo(D){if(!D)return null;const f=Number(D);return isNaN(f)?null:f}class qo{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Ge("not implemented")}_getIdTokenResponse(f){return Ge("not implemented")}_linkToIdToken(f,g){return Ge("not implemented")}_getReauthenticationResolver(f){return Ge("not implemented")}}function os(D,f){return io.apply(this,arguments)}function io(){return(io=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:resetPassword",ln(D,f))})).apply(this,arguments)}function Rr(D,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:update",ln(D,f))})).apply(this,arguments)}function gr(D,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,d.Z)(function*(D,f){return Qe(D,"POST","/v1/accounts:signInWithPassword",ln(D,f))})).apply(this,arguments)}function Yr(D,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:sendOobCode",ln(D,f))})).apply(this,arguments)}function pt(){return(pt=(0,d.Z)(function*(D,f){return Yr(D,f)})).apply(this,arguments)}function lt(D,f){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(D,f){return Yr(D,f)})).apply(this,arguments)}function dn(D,f){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(D,f){return Yr(D,f)})).apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(D,f){return Yr(D,f)})).apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(D,f){return Qe(D,"POST","/v1/accounts:signInWithEmailLink",ln(D,f))})).apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(D,f){return Qe(D,"POST","/v1/accounts:signInWithEmailLink",ln(D,f))})).apply(this,arguments)}class rr extends qo{constructor(f,g,O,ie=null){super("password",O),this._email=f,this._password=g,this._tenantId=ie}static _fromEmailAndPassword(f,g){return new rr(f,g,"password")}static _fromEmailAndCode(f,g,O=null){return new rr(f,g,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,d.Z)(function*(){var O;switch(g.signInMethod){case"password":const ie={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=f._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const we=yield to(f,ie,"signInWithPassword");return gr(f,we)}return gr(f,ie).catch(function(){var we=(0,d.Z)(function*(It){if("auth/missing-recaptcha-token"===It.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const tn=yield to(f,ie,"signInWithPassword");return gr(f,tn)}return Promise.reject(It)});return function(It){return we.apply(this,arguments)}}());case"emailLink":return function Xn(D,f){return hi.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ue(f,"internal-error")}})()}_linkToIdToken(f,g){var O=this;return(0,d.Z)(function*(){switch(O.signInMethod){case"password":return Rr(f,{idToken:g,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function _r(D,f){return Dr.apply(this,arguments)}(f,{idToken:g,email:O._email,oobCode:O._password});default:ue(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Gi(D,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(D,f){return Qe(D,"POST","/v1/accounts:signInWithIdp",ln(D,f))})).apply(this,arguments)}class ai extends qo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ai(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ue("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:O,signInMethod:ie}=g,we=(0,ne._T)(g,["providerId","signInMethod"]);if(!O||!ie)return null;const It=new ai(O,ie);return It.idToken=we.idToken||void 0,It.accessToken=we.accessToken||void 0,It.secret=we.secret,It.nonce=we.nonce,It.pendingToken=we.pendingToken||null,It}_getIdTokenResponse(f){return Gi(f,this.buildRequest())}_linkToIdToken(f,g){const O=this.buildRequest();return O.idToken=g,Gi(f,O)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Gi(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,B.xO)(g)}return f}}function Lo(){return(Lo=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:sendVerificationCode",ln(D,f))})).apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(D,f){return Qe(D,"POST","/v1/accounts:signInWithPhoneNumber",ln(D,f))})).apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(D,f){const g=yield Qe(D,"POST","/v1/accounts:signInWithPhoneNumber",ln(D,f));if(g.temporaryProof)throw Tt(D,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ss={USER_NOT_FOUND:"user-not-found"};function Vs(){return(Vs=(0,d.Z)(function*(D,f){return Qe(D,"POST","/v1/accounts:signInWithPhoneNumber",ln(D,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ss)})).apply(this,arguments)}class Sr extends qo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Sr({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Sr({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function oo(D,f){return ar.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ir(D,f){return ms.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ps(D,f){return Vs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:O,verificationCode:ie}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:O,code:ie}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:O,phoneNumber:ie,temporaryProof:we}=f;return O||g||ie||we?new Sr({verificationId:g,verificationCode:O,phoneNumber:ie,temporaryProof:we}):null}}class uo{constructor(f){var g,O,ie,we,It,tn;const Nn=(0,B.zd)((0,B.pd)(f)),ii=null!==(g=Nn.apiKey)&&void 0!==g?g:null,vi=null!==(O=Nn.oobCode)&&void 0!==O?O:null,lr=function dr(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=Nn.mode)&&void 0!==ie?ie:null);K(ii&&vi&&lr,"argument-error"),this.apiKey=ii,this.operation=lr,this.code=vi,this.continueUrl=null!==(we=Nn.continueUrl)&&void 0!==we?we:null,this.languageCode=null!==(It=Nn.languageCode)&&void 0!==It?It:null,this.tenantId=null!==(tn=Nn.tenantId)&&void 0!==tn?tn:null}static parseLink(f){const g=function ws(D){const f=(0,B.zd)((0,B.pd)(D)).link,g=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,O=(0,B.zd)((0,B.pd)(D)).deep_link_id;return(O?(0,B.zd)((0,B.pd)(O)).link:null)||O||g||f||D}(f);try{return new uo(g)}catch{return null}}}let Yi=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(g,O){return rr._fromEmailAndPassword(g,O)}static credentialWithLink(g,O){const ie=uo.parseLink(O);return K(ie,"argument-error"),rr._fromEmailAndCode(g,ie.code,ie.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class So{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class wo extends So{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class qr extends wo{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return K("providerId"in g&&"signInMethod"in g,"argument-error"),ai._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return K(f.idToken||f.accessToken,"argument-error"),ai._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return qr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return qr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:O,oauthTokenSecret:ie,pendingToken:we,nonce:It,providerId:tn}=f;if(!O&&!ie&&!g&&!we||!tn)return null;try{return new qr(tn)._credential({idToken:g,accessToken:O,nonce:It,pendingToken:we})}catch{return null}}}let Jo=(()=>{class D extends wo{constructor(){super("facebook.com")}static credential(g){return ai._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return D.credential(g.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),As=(()=>{class D extends wo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,O){return ai._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:O})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:O,oauthAccessToken:ie}=g;if(!O&&!ie)return null;try{return D.credential(O,ie)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ks=(()=>{class D extends wo{constructor(){super("github.com")}static credential(g){return ai._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return D.credential(g.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class as extends qo{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Gi(f,this.buildRequest())}_linkToIdToken(f,g){const O=this.buildRequest();return O.idToken=g,Gi(f,O)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Gi(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:O,signInMethod:ie,pendingToken:we}=g;return O&&ie&&we&&O===ie?new as(O,we):null}static _create(f,g){return new as(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fr extends So{constructor(f){K(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Fr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Fr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=as.fromJSON(f);return K(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:O}=f;if(!g||!O)return null;try{return as._create(O,g)}catch{return null}}}let go=(()=>{class D extends wo{constructor(){super("twitter.com")}static credential(g,O){return ai._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:O})}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:O,oauthTokenSecret:ie}=g;if(!O||!ie)return null;try{return D.credential(O,ie)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function jr(D,f){return es.apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(D,f){return Qe(D,"POST","/v1/accounts:signUp",ln(D,f))})).apply(this,arguments)}class er{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,O,ie=!1){return(0,d.Z)(function*(){const we=yield rt._fromIdTokenResponse(f,O,ie),It=Qr(O);return new er({user:we,providerId:It,_tokenResponse:O,operationType:g})})()}static _forOperation(f,g,O){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(O,!0);const ie=Qr(O);return new er({user:f,providerId:ie,_tokenResponse:O,operationType:g})})()}}function Qr(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function To(D){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(D){var f;const g=Di(D);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new er({user:g.currentUser,providerId:null,operationType:"signIn"});const O=yield jr(g,{returnSecureToken:!0}),ie=yield er._fromIdTokenResponse(g,"signIn",O,!0);return yield g._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class We extends B.ZR{constructor(f,g,O,ie){var we;super(g.code,g.message),this.operationType=O,this.user=ie,Object.setPrototypeOf(this,We.prototype),this.customData={appName:f.name,tenantId:null!==(we=f.tenantId)&&void 0!==we?we:void 0,_serverResponse:g.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(f,g,O,ie){return new We(f,g,O,ie)}}function je(D,f,g,O){return("reauthenticate"===f?g._getReauthenticationResolver(D):g._getIdTokenResponse(D)).catch(we=>{throw"auth/multi-factor-auth-required"===we.code?We._fromErrorAndOperation(D,we,f,O):we})}function Y(D){return new Set(D.map(({providerId:f})=>f).filter(f=>!!f))}function ot(D,f){return hn.apply(this,arguments)}function hn(){return hn=(0,d.Z)(function*(D,f){const g=(0,B.m9)(D);yield vr(!0,g,f);const{providerUserInfo:O}=yield function bn(D,f){return Zn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),ie=Y(O||[]);return g.providerData=g.providerData.filter(we=>ie.has(we.providerId)),ie.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),hn.apply(this,arguments)}function En(D,f){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(D,f,g=!1){const O=yield ke(D,f._linkToIdToken(D.auth,yield D.getIdToken()),g);return er._forOperation(D,"link",O)})).apply(this,arguments)}function vr(D,f,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(D,f,g){yield On(f);const ie=!1===D?"provider-already-linked":"no-such-provider";K(Y(f.providerData).has(g)===D,f.auth,ie)})).apply(this,arguments)}function _o(D,f){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(D,f,g=!1){const{auth:O}=D,ie="reauthenticate";try{const we=yield ke(D,je(O,ie,f,D),g);K(we.idToken,O,"internal-error");const It=Ze(we.idToken);K(It,O,"internal-error");const{sub:tn}=It;return K(D.uid===tn,O,"user-mismatch"),er._forOperation(D,ie,we)}catch(we){throw"auth/user-not-found"===we?.code&&ue(O,"user-mismatch"),we}})).apply(this,arguments)}function ts(D,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(D,f,g=!1){const O="signIn",ie=yield je(D,O,f),we=yield er._fromIdTokenResponse(D,O,ie);return g||(yield D._updateCurrentUser(we.user)),we})).apply(this,arguments)}function W(D,f){return j.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(D,f){return ts(Di(D),f)})).apply(this,arguments)}function v(D,f){return C.apply(this,arguments)}function C(){return(C=(0,d.Z)(function*(D,f){const g=(0,B.m9)(D);return yield vr(!1,g,f.providerId),En(g,f)})).apply(this,arguments)}function ee(D,f){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(D,f){return _o((0,B.m9)(D),f)})).apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(D,f){return Qe(D,"POST","/v1/accounts:signInWithCustomToken",ln(D,f))})).apply(this,arguments)}function Dn(D,f){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,d.Z)(function*(D,f){const g=Di(D),O=yield function ct(D,f){return Pt.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),ie=yield er._fromIdTokenResponse(g,"signIn",O);return yield g._updateCurrentUser(ie.user),ie}),Yn.apply(this,arguments)}class jn{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ei._fromServerResponse(f,g):"totpInfo"in g?Ui._fromServerResponse(f,g):ue(f,"internal-error")}}class Ei extends jn{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ei(g)}}class Ui extends jn{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Ui(g)}}function Tr(D,f,g){var O;K((null===(O=g.url)||void 0===O?void 0:O.length)>0,D,"invalid-continue-uri"),K(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(K(g.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(K(g.android.packageName.length>0,D,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Br(D,f,g){return wr.apply(this,arguments)}function wr(){return wr=(0,d.Z)(function*(D,f,g){var O;const ie=Di(D),we={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=ie._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const It=yield to(ie,we,"getOobCode",!0);g&&Tr(ie,It,g),yield lt(ie,It)}else g&&Tr(ie,we,g),yield lt(ie,we).catch(function(){var It=(0,d.Z)(function*(tn){if("auth/missing-recaptcha-token"!==tn.code)return Promise.reject(tn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Nn=yield to(ie,we,"getOobCode",!0);g&&Tr(ie,Nn,g),yield lt(ie,Nn)}});return function(tn){return It.apply(this,arguments)}}())}),wr.apply(this,arguments)}function ji(D,f,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(D,f,g){yield os((0,B.m9)(D),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ti(D,f){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,d.Z)(function*(D,f){yield function Xo(D,f){return ci.apply(this,arguments)}((0,B.m9)(D),{oobCode:f})}),Mo.apply(this,arguments)}function so(D,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(D,f){const g=(0,B.m9)(D),O=yield os(g,{oobCode:f}),ie=O.requestType;switch(K(ie,g,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(O.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(O.mfaInfo,g,"internal-error");default:K(O.email,g,"internal-error")}let we=null;return O.mfaInfo&&(we=jn._fromServerResponse(Di(g),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:we},operation:ie}})).apply(this,arguments)}function Ur(D,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(D,f){const{data:g}=yield so((0,B.m9)(D),f);return g.email})).apply(this,arguments)}function gs(D,f,g){return Es.apply(this,arguments)}function Es(){return Es=(0,d.Z)(function*(D,f,g){var O;const ie=Di(D),we={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let It;if(null!==(O=ie._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const ii=yield to(ie,we,"signUpPassword");It=jr(ie,ii)}else It=jr(ie,we).catch(function(){var ii=(0,d.Z)(function*(vi){if("auth/missing-recaptcha-token"===vi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const lr=yield to(ie,we,"signUpPassword");return jr(ie,lr)}return Promise.reject(vi)});return function(vi){return ii.apply(this,arguments)}}());const tn=yield It.catch(ii=>Promise.reject(ii)),Nn=yield er._fromIdTokenResponse(ie,"signIn",tn);return yield ie._updateCurrentUser(Nn.user),Nn}),Es.apply(this,arguments)}function Cs(D,f,g){return W((0,B.m9)(D),Yi.credential(f,g))}function Ns(D,f,g){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,d.Z)(function*(D,f,g){var O;const ie=Di(D),we={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function It(tn,Nn){K(Nn.handleCodeInApp,ie,"argument-error"),Nn&&Tr(ie,tn,Nn)}if(null!==(O=ie._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const tn=yield to(ie,we,"getOobCode",!0);It(tn,g),yield dn(ie,tn)}else It(we,g),yield dn(ie,we).catch(function(){var tn=(0,d.Z)(function*(Nn){if("auth/missing-recaptcha-token"!==Nn.code)return Promise.reject(Nn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ii=yield to(ie,we,"getOobCode",!0);It(ii,g),yield dn(ie,ii)}});return function(Nn){return tn.apply(this,arguments)}}())}),Bo.apply(this,arguments)}function Ks(D,f){const g=uo.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}function Zs(D,f,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(D,f,g){const O=(0,B.m9)(D),ie=Yi.credentialWithLink(f,g||ze());return K(ie._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),W(O,ie)})).apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:createAuthUri",ln(D,f))})).apply(this,arguments)}function ga(D,f){return _a.apply(this,arguments)}function _a(){return _a=(0,d.Z)(function*(D,f){const O={identifier:f,continueUri:vt()?ze():"http://localhost"},{signinMethods:ie}=yield function vl(D,f){return la.apply(this,arguments)}((0,B.m9)(D),O);return ie||[]}),_a.apply(this,arguments)}function Sa(D,f){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,d.Z)(function*(D,f){const g=(0,B.m9)(D),ie={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};f&&Tr(g.auth,ie,f);const{email:we}=yield function $o(D,f){return pt.apply(this,arguments)}(g.auth,ie);we!==D.email&&(yield D.reload())}),Ls.apply(this,arguments)}function va(D,f,g){return Os.apply(this,arguments)}function Os(){return Os=(0,d.Z)(function*(D,f,g){const O=(0,B.m9)(D),we={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:f};g&&Tr(O.auth,we,g);const{email:It}=yield function sn(D,f){return An.apply(this,arguments)}(O.auth,we);It!==D.email&&(yield D.reload())}),Os.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(D,f){return _n(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ls(D,f){return qs.apply(this,arguments)}function qs(){return qs=(0,d.Z)(function*(D,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const O=(0,B.m9)(D),we={idToken:yield O.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},It=yield ke(O,function ya(D,f){return Ys.apply(this,arguments)}(O.auth,we));O.displayName=It.displayName||null,O.photoURL=It.photoUrl||null;const tn=O.providerData.find(({providerId:Nn})=>"password"===Nn);tn&&(tn.displayName=O.displayName,tn.photoURL=O.photoURL),yield O._updateTokensIfNecessary(It)}),qs.apply(this,arguments)}function ta(D,f){return cs((0,B.m9)(D),f,null)}function _s(D,f){return cs((0,B.m9)(D),null,f)}function cs(D,f,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(D,f,g){const{auth:O}=D,we={idToken:yield D.getIdToken(),returnSecureToken:!0};f&&(we.email=f),g&&(we.password=g);const It=yield ke(D,Rr(O,we));yield D._updateTokensIfNecessary(It,!0)})).apply(this,arguments)}class Qi{constructor(f,g,O={}){this.isNewUser=f,this.providerId=g,this.profile=O}}class ko extends Qi{constructor(f,g,O,ie){super(f,g,O),this.username=ie}}class na extends Qi{constructor(f,g){super(f,"facebook.com",g)}}class Mi extends ko{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ba extends Qi{constructor(f,g){super(f,"google.com",g)}}class P extends ko{constructor(f,g,O){super(f,"twitter.com",g,O)}}function Q(D){const{user:f,_tokenResponse:g}=D;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Bs(D){var f,g;if(!D)return null;const{providerId:O}=D,ie=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},we=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!O&&D?.idToken){const It=null===(g=null===(f=Ze(D.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(It)return new Qi(we,"anonymous"!==It&&"custom"!==It?It:null)}if(!O)return null;switch(O){case"facebook.com":return new na(we,ie);case"github.com":return new Mi(we,ie);case"google.com":return new ba(we,ie);case"twitter.com":return new P(we,ie,D.screenName||null);case"custom":case"anonymous":return new Qi(we,null);default:return new Qi(we,O,ie)}}(g)}class or{constructor(f,g,O){this.type=f,this.credential=g,this.auth=O}static _fromIdtoken(f,g){return new or("enroll",f,g)}static _fromMfaPendingCredential(f){return new or("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,O;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return or._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(O=f.multiFactorSession)&&void 0!==O&&O.idToken)return or._fromIdtoken(f.multiFactorSession.idToken)}return null}}class zn{constructor(f,g,O){this.session=f,this.hints=g,this.signInResolver=O}static _fromError(f,g){const O=Di(f),ie=g.customData._serverResponse,we=(ie.mfaInfo||[]).map(tn=>jn._fromServerResponse(O,tn));K(ie.mfaPendingCredential,O,"internal-error");const It=or._fromMfaPendingCredential(ie.mfaPendingCredential);return new zn(It,we,function(){var tn=(0,d.Z)(function*(Nn){const ii=yield Nn._process(O,It);delete ie.mfaInfo,delete ie.mfaPendingCredential;const vi=Object.assign(Object.assign({},ie),{idToken:ii.idToken,refreshToken:ii.refreshToken});switch(g.operationType){case"signIn":const lr=yield er._fromIdTokenResponse(O,g.operationType,vi);return yield O._updateCurrentUser(lr.user),lr;case"reauthenticate":return K(g.user,O,"internal-error"),er._forOperation(g.user,g.operationType,vi);default:ue(O,"internal-error")}});return function(Nn){return tn.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,d.Z)(function*(){return g.signInResolver(f)})()}}function ao(D,f){var g;const O=(0,B.m9)(D),ie=f;return K(f.customData.operationType,O,"argument-error"),K(null===(g=ie.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,O,"argument-error"),zn._fromError(O,ie)}class ys{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(O=>jn._fromServerResponse(f.auth,O)))})}static _fromUser(f){return new ys(f)}getSession(){var f=this;return(0,d.Z)(function*(){return or._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var O=this;return(0,d.Z)(function*(){const ie=f,we=yield O.getSession(),It=yield ke(O.user,ie._process(O.user.auth,we,g));return yield O.user._updateTokensIfNecessary(It),O.user.reload()})()}unenroll(f){var g=this;return(0,d.Z)(function*(){const O="string"==typeof f?f:f.uid,ie=yield g.user.getIdToken();try{const we=yield ke(g.user,function Qs(D,f){return _n(D,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(D,f))}(g.user.auth,{idToken:ie,mfaEnrollmentId:O}));g.enrolledFactors=g.enrolledFactors.filter(({uid:It})=>It!==O),yield g.user._updateTokensIfNecessary(we),yield g.user.reload()}catch(we){throw we}})()}}const Rs=new WeakMap;function lc(D){const f=(0,B.m9)(D);return Rs.has(f)||Rs.set(f,ys._fromUser(f)),Rs.get(f)}const wa="__sak";class yl{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ds=(()=>{class D extends yl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,O)=>this.onStorageEvent(g,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rl(){const D=(0,B.z$)();return V(D)||bt(D)}()&&function Si(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const O of Object.keys(this.listeners)){const ie=this.storage.getItem(O),we=this.localCache[O];ie!==we&&g(O,we,ie)}}onStorageEvent(g,O=!1){if(!g.key)return void this.forAllChangedKeys((tn,Nn,ii)=>{this.notifyListeners(tn,ii)});const ie=g.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tn=this.storage.getItem(ie);if(g.newValue!==tn)null!==g.newValue?this.storage.setItem(ie,g.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===g.newValue&&!O)return}const we=()=>{const tn=this.storage.getItem(ie);!O&&this.localCache[ie]===tn||this.notifyListeners(ie,tn)},It=this.storage.getItem(ie);!function ti(){return(0,B.w1)()&&10===document.documentMode}()||It===g.newValue||g.newValue===g.oldValue?we():setTimeout(we,10)}notifyListeners(g,O){this.localCache[g]=O;const ie=this.listeners[g];if(ie)for(const we of Array.from(ie))we(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,O,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:O,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(O)}_removeListener(g,O){this.listeners[g]&&(this.listeners[g].delete(O),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,O){var ie=()=>super._set,we=this;return(0,d.Z)(function*(){yield ie().call(we,g,O),we.localCache[g]=JSON.stringify(O)})()}_get(g){var O=()=>super._get,ie=this;return(0,d.Z)(function*(){const we=yield O().call(ie,g);return ie.localCache[g]=JSON.stringify(we),we})()}_remove(g){var O=()=>super._remove,ie=this;return(0,d.Z)(function*(){yield O().call(ie,g),delete ie.localCache[g]})()}}return D.type="LOCAL",D})(),xa=(()=>{class D extends yl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,O){}_removeListener(g,O){}}return D.type="SESSION",D})();let In=(()=>{class D{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const O=this.receivers.find(we=>we.isListeningto(g));if(O)return O;const ie=new D(g);return this.receivers.push(ie),ie}isListeningto(g){return this.eventTarget===g}handleEvent(g){var O=this;return(0,d.Z)(function*(){const ie=g,{eventId:we,eventType:It,data:tn}=ie.data,Nn=O.handlersMap[It];if(!Nn?.size)return;ie.ports[0].postMessage({status:"ack",eventId:we,eventType:It});const ii=Array.from(Nn).map(function(){var lr=(0,d.Z)(function*(ha){return ha(ie.origin,tn)});return function(ha){return lr.apply(this,arguments)}}()),vi=yield function ol(D){return Promise.all(D.map(function(){var f=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(O){return{fulfilled:!1,reason:O}}});return function(g){return f.apply(this,arguments)}}()))}(ii);ie.ports[0].postMessage({status:"done",eventId:we,eventType:It,response:vi})})()}_subscribe(g,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(O)}_unsubscribe(g,O){this.handlersMap[g]&&O&&this.handlersMap[g].delete(O),(!O||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Mr(D="",f=10){let g="";for(let O=0;O<f;O++)g+=Math.floor(10*Math.random());return D+g}class Ds{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,O=50){var ie=this;return(0,d.Z)(function*(){const we=typeof MessageChannel<"u"?new MessageChannel:null;if(!we)throw new Error("connection_unavailable");let It,tn;return new Promise((Nn,ii)=>{const vi=Mr("",20);we.port1.start();const lr=setTimeout(()=>{ii(new Error("unsupported_event"))},O);tn={messageChannel:we,onMessage(ha){const aa=ha;if(aa.data.eventId===vi)switch(aa.data.status){case"ack":clearTimeout(lr),It=setTimeout(()=>{ii(new Error("timeout"))},3e3);break;case"done":clearTimeout(It),Nn(aa.data.response);break;default:clearTimeout(lr),clearTimeout(It),ii(new Error("invalid_response"))}}},ie.handlers.add(tn),we.port1.addEventListener("message",tn.onMessage),ie.target.postMessage({eventType:f,eventId:vi,data:g},[we.port2])}).finally(()=>{tn&&ie.removeMessageHandler(tn)})})()}}function ho(){return window}function li(){return typeof ho().WorkerGlobalScope<"u"&&"function"==typeof ho().importScripts}function Bn(){return(Bn=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const y="firebaseLocalStorageDb",I="firebaseLocalStorage",G="fbase_key";class he{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function et(D,f){return D.transaction([I],f?"readwrite":"readonly").objectStore(I)}function $t(){const D=indexedDB.open(y,1);return new Promise((f,g)=>{D.addEventListener("error",()=>{g(D.error)}),D.addEventListener("upgradeneeded",()=>{const O=D.result;try{O.createObjectStore(I,{keyPath:G})}catch(ie){g(ie)}}),D.addEventListener("success",(0,d.Z)(function*(){const O=D.result;O.objectStoreNames.contains(I)?f(O):(O.close(),yield function at(){const D=indexedDB.deleteDatabase(y);return new he(D).toPromise()}(),f(yield $t()))}))})}function an(D,f,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(D,f,g){const O=et(D,!0).put({[G]:f,value:g});return new he(O).toPromise()})).apply(this,arguments)}function Vi(){return(Vi=(0,d.Z)(function*(D,f){const g=et(D,!1).get(f),O=yield new he(g).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function Fn(D,f){const g=et(D,!0).delete(f);return new he(g).toPromise()}const Wn=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield $t()),g.db})()}_withRetries(g){var O=this;return(0,d.Z)(function*(){let ie=0;for(;;)try{const we=yield O._openDb();return yield g(we)}catch(we){if(ie++>3)throw we;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return li()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=In._getInstance(function R(){return li()?self:null}()),g.receiver._subscribe("keyChanged",function(){var O=(0,d.Z)(function*(ie,we){return{keyProcessed:(yield g._poll()).includes(we.key)}});return function(ie,we){return O.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var O=(0,d.Z)(function*(ie,we){return["keyChanged"]});return function(ie,we){return O.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var O,ie;if(g.activeServiceWorker=yield function Is(){return Bn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ds(g.activeServiceWorker);const we=yield g.sender._send("ping",{},800);we&&null!==(O=we[0])&&void 0!==O&&O.fulfilled&&null!==(ie=we[0])&&void 0!==ie&&ie.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var O=this;return(0,d.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Jt(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:g},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield $t();return yield an(g,wa,"1"),yield Fn(g,wa),!0}catch{}return!1})()}_withPendingWrite(g){var O=this;return(0,d.Z)(function*(){O.pendingWrites++;try{yield g()}finally{O.pendingWrites--}})()}_set(g,O){var ie=this;return(0,d.Z)(function*(){return ie._withPendingWrite((0,d.Z)(function*(){return yield ie._withRetries(we=>an(we,g,O)),ie.localCache[g]=O,ie.notifyServiceWorker(g)}))})()}_get(g){var O=this;return(0,d.Z)(function*(){const ie=yield O._withRetries(we=>function ri(D,f){return Vi.apply(this,arguments)}(we,g));return O.localCache[g]=ie,ie})()}_remove(g){var O=this;return(0,d.Z)(function*(){return O._withPendingWrite((0,d.Z)(function*(){return yield O._withRetries(ie=>Fn(ie,g)),delete O.localCache[g],O.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const O=yield g._withRetries(It=>{const tn=et(It,!1).getAll();return new he(tn).toPromise()});if(!O)return[];if(0!==g.pendingWrites)return[];const ie=[],we=new Set;for(const{fbase_key:It,value:tn}of O)we.add(It),JSON.stringify(g.localCache[It])!==JSON.stringify(tn)&&(g.notifyListeners(It,tn),ie.push(It));for(const It of Object.keys(g.localCache))g.localCache[It]&&!we.has(It)&&(g.notifyListeners(It,null),ie.push(It));return ie})()}notifyListeners(g,O){this.localCache[g]=O;const ie=this.listeners[g];if(ie)for(const we of Array.from(ie))we(O)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(O)}_removeListener(g,O){this.listeners[g]&&(this.listeners[g].delete(O),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),k=1e12;class w{constructor(f){this.auth=f,this.counter=k,this._widgets=new Map}render(f,g){const O=this.counter;return this._widgets.set(O,new N(f,this.auth.name,g||{})),this.counter++,O}reset(f){var g;const O=f||k;null===(g=this._widgets.get(O))||void 0===g||g.delete(),this._widgets.delete(O)}getResponse(f){var g;return(null===(g=this._widgets.get(f||k))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,d.Z)(function*(){var O;return null===(O=g._widgets.get(f||k))||void 0===O||O.execute(),""})()}}class N{constructor(f,g,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof f?document.getElementById(f):f;K(ie,"argument-error",{appName:g}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function X(D){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<D;O++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ye=Cr("rcb"),Te=new ht(3e4,6e4);class Cn{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=ho().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return K(function ui(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Rn(ho().grecaptcha)?Promise.resolve(ho().grecaptcha):new Promise((O,ie)=>{const we=ho().setTimeout(()=>{ie(De(f,"network-request-failed"))},Te.get());ho()[ye]=()=>{ho().clearTimeout(we),delete ho()[ye];const tn=ho().grecaptcha;if(!tn||!Rn(tn))return void ie(De(f,"internal-error"));const Nn=tn.render;tn.render=(ii,vi)=>{const lr=Nn(ii,vi);return this.counter++,lr},this.hostLanguage=g,O(tn)},gi(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ye,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(we),ie(De(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=ho().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class un{load(f){return(0,d.Z)(function*(){return new w(f)})()}clearedOneInstance(){}}const Un="recaptcha",oi={theme:"light",type:"image"};class Zi{constructor(f,g=Object.assign({},oi),O){this.parameters=g,this.type=Un,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Di(O),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof f?document.getElementById(f):f;K(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new un:new Cn,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),O=f.getAssertedRecaptcha();return O.getResponse(g)||new Promise(we=>{const It=tn=>{tn&&(f.tokenChangeListeners.delete(It),we(tn))};f.tokenChangeListeners.add(It),f.isInvisible&&O.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(O=>O(g)),"function"==typeof f)f(g);else if("string"==typeof f){const O=ho()[f];"function"==typeof O&&O(g)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const O=document.createElement("div");g.appendChild(O),g=O}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){K(vt()&&!li(),f.auth,"internal-error"),yield function mr(){let D=null;return new Promise(f=>{"complete"!==document.readyState?(D=()=>f(),window.addEventListener("load",D)):f()}).catch(f=>{throw D&&window.removeEventListener("load",D),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Lt(D){return Ct.apply(this,arguments)}(f.auth);K(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Uo{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Sr._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Nt(D,f,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(D,f,g){const O=Di(D),ie=yield ca(O,f,(0,B.m9)(g));return new Uo(ie,we=>W(O,we))})).apply(this,arguments)}function Xi(D,f,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(D,f,g){const O=(0,B.m9)(D);yield vr(!1,O,"phone");const ie=yield ca(O.auth,f,(0,B.m9)(g));return new Uo(ie,we=>v(O,we))})).apply(this,arguments)}function Ha(D,f,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,d.Z)(function*(D,f,g){const O=(0,B.m9)(D),ie=yield ca(O.auth,f,(0,B.m9)(g));return new Uo(ie,we=>ee(O,we))})).apply(this,arguments)}function ca(D,f,g){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,d.Z)(function*(D,f,g){var O;const ie=yield g.verify();try{let we;if(K("string"==typeof ie,D,"argument-error"),K(g.type===Un,D,"argument-error"),we="string"==typeof f?{phoneNumber:f}:f,"session"in we){const It=we.session;if("phoneNumber"in we)return K("enroll"===It.type,D,"internal-error"),(yield function vs(D,f){return _n(D,"POST","/v2/accounts/mfaEnrollment:start",ln(D,f))}(D,{idToken:It.credential,phoneEnrollmentInfo:{phoneNumber:we.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{K("signin"===It.type,D,"internal-error");const tn=(null===(O=we.multiFactorHint)||void 0===O?void 0:O.uid)||we.multiFactorUid;return K(tn,D,"missing-multi-factor-info"),(yield function Eo(D,f){return _n(D,"POST","/v2/accounts/mfaSignIn:start",ln(D,f))}(D,{mfaPendingCredential:It.credential,mfaEnrollmentId:tn,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:It}=yield function No(D,f){return Lo.apply(this,arguments)}(D,{phoneNumber:we.phoneNumber,recaptchaToken:ie});return It}}finally{g._reset()}}),Vo.apply(this,arguments)}function sl(D,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(D,f){yield En((0,B.m9)(D),f)})).apply(this,arguments)}let Nh=(()=>{class D{constructor(g){this.providerId=D.PROVIDER_ID,this.auth=Di(g)}verifyPhoneNumber(g,O){return ca(this.auth,g,(0,B.m9)(O))}static credential(g,O){return Sr._fromVerification(g,O)}static credentialFromResult(g){return D.credentialFromTaggedObject(g)}static credentialFromError(g){return D.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:O,temporaryProof:ie}=g;return O&&ie?Sr._fromTokenResponse(O,ie):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Aa(D,f){return f?Oe(f):(K(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Ss extends qo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Gi(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Gi(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Gi(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Xs(D){return ts(D.auth,new Ss(D),D.bypassAuthState)}function Pa(D){const{auth:f,user:g}=D;return K(g,f,"internal-error"),_o(g,new Ss(D),D.bypassAuthState)}function Ll(D){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(D){const{auth:f,user:g}=D;return K(g,f,"internal-error"),En(g,new Ss(D),D.bypassAuthState)})).apply(this,arguments)}class kd{constructor(f,g,O,ie,we=!1){this.auth=f,this.resolver=O,this.user=ie,this.bypassAuthState=we,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,d.Z)(function*(O,ie){f.pendingPromise={resolve:O,reject:ie};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(we){f.reject(we)}});return function(O,ie){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,d.Z)(function*(){const{urlResponse:O,sessionId:ie,postBody:we,tenantId:It,error:tn,type:Nn}=f;if(tn)return void g.reject(tn);const ii={auth:g.auth,requestUri:O,sessionId:ie,tenantId:It||void 0,postBody:we||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Nn)(ii))}catch(vi){g.reject(vi)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Xs;case"linkViaPopup":case"linkViaRedirect":return Ll;case"reauthViaPopup":case"reauthViaRedirect":return Pa;default:ue(this.auth,"internal-error")}}resolve(f){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cc=new ht(2e3,1e4);function us(D,f,g){return wl.apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(D,f,g){const O=Di(D);Ae(D,f,So);const ie=Aa(O,g);return new fc(O,"signInViaPopup",f,ie).executeNotNull()})).apply(this,arguments)}function da(D,f,g){return dc.apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(D,f,g){const O=(0,B.m9)(D);Ae(O.auth,f,So);const ie=Aa(O.auth,g);return new fc(O.auth,"reauthViaPopup",f,ie,O).executeNotNull()})).apply(this,arguments)}function uc(D,f,g){return hc.apply(this,arguments)}function hc(){return(hc=(0,d.Z)(function*(D,f,g){const O=(0,B.m9)(D);Ae(O.auth,f,So);const ie=Aa(O.auth,g);return new fc(O.auth,"linkViaPopup",f,ie,O).executeNotNull()})).apply(this,arguments)}let fc=(()=>{class D extends kd{constructor(g,O,ie,we,It){super(g,O,we,It),this.provider=ie,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const O=yield g.execute();return K(O,g.auth,"internal-error"),O})()}onExecution(){var g=this;return(0,d.Z)(function*(){Fe(1===g.filter.length,"Popup operations only handle one event");const O=Mr();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],O),g.authWindow.associatedEvent=O,g.resolver._originValidation(g.auth).catch(ie=>{g.reject(ie)}),g.resolver._isIframeWebStorageSupported(g.auth,ie=>{ie||g.reject(De(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const g=()=>{var O,ie;this.pollId=null!==(ie=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==ie&&ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,cc.get())};g()}}return D.currentPopupAction=null,D})();const zc="pendingRedirect",Fa=new Map;class Lh extends kd{constructor(f,g,O=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,O),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,d.Z)(function*(){let O=Fa.get(g.auth._key());if(!O){try{const we=(yield function Ou(D,f){return xl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;O=()=>Promise.resolve(we)}catch(ie){O=()=>Promise.reject(ie)}Fa.set(g.auth._key(),O)}return g.bypassAuthState||Fa.set(g.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,O=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(O,f);if("unknown"!==f.type){if(f.eventId){const ie=yield O.auth._redirectUserForId(f.eventId);if(ie)return O.user=ie,g().call(O,f);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function xl(){return(xl=(0,d.Z)(function*(D,f){const g=Ru(f),O=za(D);if(!(yield O._isAvailable()))return!1;const ie="true"===(yield O._get(g));return yield O._remove(g),ie})).apply(this,arguments)}function $c(D,f){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,d.Z)(function*(D,f){return za(D)._set(Ru(f),"true")})).apply(this,arguments)}function Bh(){Fa.clear()}function mc(D,f){Fa.set(D._key(),f)}function za(D){return Oe(D._redirectPersistence)}function Ru(D){return Vt(zc,D.config.apiKey,D.name)}function Wc(D,f,g){return function pc(D,f,g){return $a.apply(this,arguments)}(D,f,g)}function $a(){return($a=(0,d.Z)(function*(D,f,g){const O=Di(D);Ae(D,f,So),yield O._initializationPromise;const ie=Aa(O,g);return yield $c(ie,O),ie._openRedirect(O,f,"signInViaRedirect")})).apply(this,arguments)}function Od(D,f,g){return function Kc(D,f,g){return Bl.apply(this,arguments)}(D,f,g)}function Bl(){return(Bl=(0,d.Z)(function*(D,f,g){const O=(0,B.m9)(D);Ae(O.auth,f,So),yield O.auth._initializationPromise;const ie=Aa(O.auth,g);yield $c(ie,O.auth);const we=yield hs(O);return ie._openRedirect(O.auth,f,"reauthViaRedirect",we)})).apply(this,arguments)}function Zc(D,f,g){return function bs(D,f,g){return Ul.apply(this,arguments)}(D,f,g)}function Ul(){return(Ul=(0,d.Z)(function*(D,f,g){const O=(0,B.m9)(D);Ae(O.auth,f,So),yield O.auth._initializationPromise;const ie=Aa(O.auth,g);yield vr(!1,O,f.providerId),yield $c(ie,O.auth);const we=yield hs(O);return ie._openRedirect(O.auth,f,"linkViaRedirect",we)})).apply(this,arguments)}function ra(D,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(D,f){return yield Di(D)._initializationPromise,kr(D,f,!1)})).apply(this,arguments)}function kr(D,f){return al.apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(D,f,g=!1){const O=Di(D),ie=Aa(O,f),It=yield new Lh(O,ie,g).execute();return It&&!g&&(delete It.user._redirectEventId,yield O._persistUserIfCurrent(It.user),yield O._setRedirectUser(null,f)),It})).apply(this,arguments)}function hs(D){return Or.apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(D){const f=Mr(`${D.uid}:::`);return D._redirectEventId=f,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),f})).apply(this,arguments)}class La{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(f,O)&&(g=!0,this.sendToConsumer(f,O),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Rd(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gc(D);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var O;if(f.error&&!gc(f)){const ie=(null===(O=f.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";g.onError(De(this.auth,ie))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const O=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&O}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Us(f))}saveEventToCache(f){this.cachedEventUids.add(Us(f)),this.lastProcessedEventTime=Date.now()}}function Us(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(f=>f).join("-")}function gc({type:D,error:f}){return"unknown"===D&&"auth/no-auth-event"===f?.code}function ns(D){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(D,f={}){return _n(D,"GET","/v1/projects",f)})).apply(this,arguments)}const El=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Do=/^https?/;function Vl(){return(Vl=(0,d.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:f}=yield ns(D);for(const g of f)try{if(fo(g))return}catch{}ue(D,"unauthorized-domain")})).apply(this,arguments)}function fo(D){const f=ze(),{protocol:g,hostname:O}=new URL(f);if(D.startsWith("chrome-extension://")){const It=new URL(D);return""===It.hostname&&""===O?"chrome-extension:"===g&&D.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&It.hostname===O}if(!Do.test(g))return!1;if(El.test(D))return O===D;const ie=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(O)}const Cl=new ht(3e4,6e4);function Dl(){const D=ho().___jsl;if(D?.H)for(const f of Object.keys(D.H))if(D.H[f].r=D.H[f].r||[],D.H[f].L=D.H[f].L||[],D.H[f].r=[...D.H[f].L],D.CP)for(let g=0;g<D.CP.length;g++)D.CP[g]=null}let lo=null;const Hs=new ht(5e3,15e3),oa="__/auth/iframe",Za="emulator/auth/iframe",Ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Il(D){const f=D.config;K(f.authDomain,D,"auth-domain-config-required");const g=f.emulator?At(f,Za):`https://${D.config.authDomain}/${oa}`,O={apiKey:f.apiKey,appName:D.name,v:m.SDK_VERSION},ie=Fu.get(D.config.apiHost);ie&&(O.eid=ie);const we=D._getFrameworks();return we.length&&(O.fw=we.join(",")),`${g}?${(0,B.xO)(O).slice(1)}`}function T(){return T=(0,d.Z)(function*(D){const f=yield function Ka(D){return lo=lo||function Wa(D){return new Promise((f,g)=>{var O,ie,we;function It(){Dl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dl(),g(De(D,"network-request-failed"))},timeout:Cl.get()})}if(null!==(ie=null===(O=ho().gapi)||void 0===O?void 0:O.iframes)&&void 0!==ie&&ie.Iframe)f(gapi.iframes.getContext());else{if(null===(we=ho().gapi)||void 0===we||!we.load){const tn=Cr("iframefcb");return ho()[tn]=()=>{gapi.load?It():g(De(D,"network-request-failed"))},gi(`https://apis.google.com/js/api.js?onload=${tn}`).catch(Nn=>g(Nn))}It()}}).catch(f=>{throw lo=null,f})}(D),lo}(D),g=ho().gapi;return K(g,D,"internal-error"),f.open({where:document.body,url:Il(D),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ba,dontclear:!0},O=>new Promise(function(){var ie=(0,d.Z)(function*(we,It){yield O.restyle({setHideOnLeave:!1});const tn=De(D,"network-request-failed"),Nn=ho().setTimeout(()=>{It(tn)},Hs.get());function ii(){ho().clearTimeout(Nn),we(O)}O.ping(ii).then(ii,()=>{It(tn)})});return function(we,It){return ie.apply(this,arguments)}}()))}),T.apply(this,arguments)}const L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nn{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mi="__/auth/handler",Hi="emulator/auth/handler",Ni=encodeURIComponent("fac");function Ts(D,f,g,O,ie,we){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(D,f,g,O,ie,we){K(D.config.authDomain,D,"auth-domain-config-required"),K(D.config.apiKey,D,"invalid-api-key");const It={apiKey:D.config.apiKey,appName:D.name,authType:g,redirectUrl:O,v:m.SDK_VERSION,eventId:ie};if(f instanceof So){f.setDefaultLanguage(D.languageCode),It.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(It.customParameters=JSON.stringify(f.getCustomParameters()));for(const[vi,lr]of Object.entries(we||{}))It[vi]=lr}if(f instanceof wo){const vi=f.getScopes().filter(lr=>""!==lr);vi.length>0&&(It.scopes=vi.join(","))}D.tenantId&&(It.tid=D.tenantId);const tn=It;for(const vi of Object.keys(tn))void 0===tn[vi]&&delete tn[vi];const Nn=yield D._getAppCheckToken(),ii=Nn?`#${Ni}=${encodeURIComponent(Nn)}`:"";return`${function Ya({config:D}){return D.emulator?At(D,Hi):`https://${D.authDomain}/${mi}`}(D)}?${(0,B.xO)(tn).slice(1)}${ii}`})).apply(this,arguments)}const eo="webStorageSupport",sa=class zs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xa,this._completeRedirectFn=kr,this._overrideRedirectResult=mc}_openPopup(f,g,O,ie){var we=this;return(0,d.Z)(function*(){var It;Fe(null===(It=we.eventManagers[f._key()])||void 0===It?void 0:It.manager,"_initialize() not called before _openPopup()");const tn=yield Ts(f,g,O,ze(),ie);return function Kn(D,f,g,O=500,ie=600){const we=Math.max((window.screen.availHeight-ie)/2,0).toString(),It=Math.max((window.screen.availWidth-O)/2,0).toString();let tn="";const Nn=Object.assign(Object.assign({},L),{width:O.toString(),height:ie.toString(),top:we,left:It}),ii=(0,B.z$)().toLowerCase();g&&(tn=z(ii)?"_blank":g),H(ii)&&(f=f||"http://localhost",Nn.scrollbars="yes");const vi=Object.entries(Nn).reduce((ha,[aa,Bd])=>`${ha}${aa}=${Bd},`,"");if(function en(D=(0,B.z$)()){var f;return bt(D)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ii)&&"_self"!==tn)return function $n(D,f){const g=document.createElement("a");g.href=D,g.target=f;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(O)}(f||"",tn),new nn(null);const lr=window.open(f||"",tn,vi);K(lr,D,"popup-blocked");try{lr.focus()}catch{}return new nn(lr)}(f,tn,Mr())})()}_openRedirect(f,g,O,ie){var we=this;return(0,d.Z)(function*(){return yield we._originValidation(f),function ni(D){ho().location.href=D}(yield Ts(f,g,O,ze(),ie)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:ie,promise:we}=this.eventManagers[g];return ie?Promise.resolve(ie):(Fe(we,"If manager is not set, promise should be"),we)}const O=this.initAndGetManager(f);return this.eventManagers[g]={promise:O},O.catch(()=>{delete this.eventManagers[g]}),O}initAndGetManager(f){var g=this;return(0,d.Z)(function*(){const O=yield function Nu(D){return T.apply(this,arguments)}(f),ie=new La(f);return O.register("authEvent",we=>(K(we?.authEvent,f,"invalid-auth-event"),{status:ie.onEvent(we.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:ie},g.iframes[f._key()]=O,ie})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(eo,{type:eo},ie=>{var we;const It=null===(we=ie?.[0])||void 0===we?void 0:we[eo];void 0!==It&&g(!!It),ue(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ga(D){return Vl.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Mn()||V()||bt()}};class ka{constructor(f){this.factorId=f}_process(f,g,O){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,O);case"signin":return this._finalizeSignIn(f,g.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class Ea extends ka{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ea(f)}_finalizeEnroll(f,g,O){return function Wr(D,f){return _n(D,"POST","/v2/accounts/mfaEnrollment:finalize",ln(D,f))}(f,{idToken:g,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Ii(D,f){return _n(D,"POST","/v2/accounts/mfaSignIn:finalize",ln(D,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pd=(()=>{class D{constructor(){}static assertion(g){return Ea._fromCredential(g)}}return D.FACTOR_ID="phone",D})();var Sl="@firebase/auth";class rm{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(O=>{f(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jh=(0,B.Pz)("authIdTokenMaxAge")||300;let Hh=null;const sm=D=>function(){var f=(0,d.Z)(function*(g){const O=g&&(yield g.getIdTokenResult()),ie=O&&((new Date).getTime()-Date.parse(O.issuedAtTime))/1e3;if(ie&&ie>jh)return;const we=O?.token;Hh!==we&&(Hh=we,yield fetch(D,{method:we?"POST":"DELETE",headers:we?{Authorization:`Bearer ${we}`}:{}}))});return function(g){return f.apply(this,arguments)}}();function Ld(D=(0,m.getApp)()){const f=(0,m._getProvider)(D,"auth");if(f.isInitialized())return f.getImmediate();const g=function yo(D,f){const g=(0,m._getProvider)(D,"auth");if(g.isInitialized()){const ie=g.getImmediate(),we=g.getOptions();if((0,B.vZ)(we,f??{}))return ie;ue(ie,"already-initialized")}return g.initialize({options:f})}(D,{popupRedirectResolver:sa,persistence:[Wn,ds,xa]}),O=(0,B.Pz)("authTokenSyncURL");if(O){const we=sm(O);(function Qt(D,f,g){(0,B.m9)(D).beforeAuthStateChanged(f,g)})(g,we,()=>we(g.currentUser)),function Ye(D,f,g,O){(0,B.m9)(D).onIdTokenChanged(f,g,O)}(g,It=>we(It))}const ie=(0,B.q4)("auth");return ie&&hr(g,`http://${ie}`),g}!function Vh(D){(0,m._registerComponent)(new ae.wA("auth",(f,{options:g})=>{const O=f.getProvider("app").getImmediate(),ie=f.getProvider("heartbeat"),we=f.getProvider("app-check-internal"),{apiKey:It,authDomain:tn}=O.options;K(It&&!It.includes(":"),"invalid-api-key",{appName:O.name});const Nn={apiKey:It,authDomain:tn,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xi(D)},ii=new vo(O,ie,we,Nn);return function bo(D,f){const g=f?.persistence||[],O=(Array.isArray(g)?g:[g]).map(Oe);f?.errorMap&&D._updateErrorMap(f.errorMap),D._initializeWithPersistence(O,f?.popupRedirectResolver)}(ii,g),ii},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,O)=>{f.getProvider("auth-internal").initialize()})),(0,m._registerComponent)(new ae.wA("auth-internal",f=>{const g=Di(f.getProvider("auth").getImmediate());return new rm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,m.registerVersion)(Sl,"0.23.2",function Nd(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,m.registerVersion)(Sl,"0.23.2","esm2017")}("Browser")},2090:(gn,nt,E)=>{E.d(nt,{$s:()=>Oe,BH:()=>be,G6:()=>At,L:()=>Ee,LL:()=>rn,Pz:()=>De,Sg:()=>Ae,UG:()=>Ge,US:()=>ae,ZB:()=>me,ZR:()=>_n,aH:()=>ue,b$:()=>vt,eu:()=>qt,hl:()=>Rt,jU:()=>Fe,m9:()=>Vt,ne:()=>ke,pd:()=>Ze,q4:()=>Re,r3:()=>bn,ru:()=>ze,tV:()=>se,uI:()=>K,vZ:()=>Bt,w1:()=>kn,xO:()=>ft,xb:()=>pi,z$:()=>$e,zI:()=>Gt,zd:()=>st});const ne=function(Me){const oe=[];let H=0;for(let V=0;V<Me.length;V++){let z=Me.charCodeAt(V);z<128?oe[H++]=z:z<2048?(oe[H++]=z>>6|192,oe[H++]=63&z|128):55296==(64512&z)&&V+1<Me.length&&56320==(64512&Me.charCodeAt(V+1))?(z=65536+((1023&z)<<10)+(1023&Me.charCodeAt(++V)),oe[H++]=z>>18|240,oe[H++]=z>>12&63|128,oe[H++]=z>>6&63|128,oe[H++]=63&z|128):(oe[H++]=z>>12|224,oe[H++]=z>>6&63|128,oe[H++]=63&z|128)}return oe},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,oe){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let z=0;z<Me.length;z+=3){const le=Me[z],re=z+1<Me.length,ve=re?Me[z+1]:0,xt=z+2<Me.length,bt=xt?Me[z+2]:0;let ti=(15&ve)<<2|bt>>6,Mn=63&bt;xt||(Mn=64,re||(ti=64)),V.push(H[le>>2],H[(3&le)<<4|ve>>4],H[ti],H[Mn])}return V.join("")},encodeString(Me,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(Me):this.encodeByteArray(ne(Me),oe)},decodeString(Me,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(Me):function(Me){const oe=[];let H=0,V=0;for(;H<Me.length;){const z=Me[H++];if(z<128)oe[V++]=String.fromCharCode(z);else if(z>191&&z<224){const le=Me[H++];oe[V++]=String.fromCharCode((31&z)<<6|63&le)}else if(z>239&&z<365){const xt=((7&z)<<18|(63&Me[H++])<<12|(63&Me[H++])<<6|63&Me[H++])-65536;oe[V++]=String.fromCharCode(55296+(xt>>10)),oe[V++]=String.fromCharCode(56320+(1023&xt))}else{const le=Me[H++],re=Me[H++];oe[V++]=String.fromCharCode((15&z)<<12|(63&le)<<6|63&re)}}return oe.join("")}(this.decodeStringToByteArray(Me,oe))},decodeStringToByteArray(Me,oe){this.init_();const H=oe?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let z=0;z<Me.length;){const le=H[Me.charAt(z++)],ve=z<Me.length?H[Me.charAt(z)]:0;++z;const bt=z<Me.length?H[Me.charAt(z)]:64;++z;const en=z<Me.length?H[Me.charAt(z)]:64;if(++z,null==le||null==ve||null==bt||null==en)throw new Z;V.push(le<<2|ve>>4),64!==bt&&(V.push(ve<<4&240|bt>>2),64!==en&&V.push(bt<<6&192|en))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(Me){return function(Me){const oe=ne(Me);return ae.encodeByteArray(oe,!0)}(Me).replace(/\./g,"")},se=function(Me){try{return ae.decodeString(Me,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function me(Me,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return oe}for(const H in oe)!oe.hasOwnProperty(H)||!Xe(H)||(Me[H]=me(Me[H],oe[H]));return Me}function Xe(Me){return"__proto__"!==Me}const He=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if(typeof document>"u")return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=Me&&se(Me[1]);return oe&&JSON.parse(oe)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},Re=Me=>{var oe,H;return null===(H=null===(oe=He())||void 0===oe?void 0:oe.emulatorHosts)||void 0===H?void 0:H[Me]},ue=()=>{var Me;return null===(Me=He())||void 0===Me?void 0:Me.config},De=Me=>{var oe;return null===(oe=He())||void 0===oe?void 0:oe[`_${Me}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,H)=>{this.resolve=oe,this.reject=H})}wrapCallback(oe){return(H,V)=>{H?this.reject(H):this.resolve(V),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(H):oe(H,V))}}}function Ae(Me,oe){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=oe||"demo-project",z=Me.iat||0,le=Me.sub||Me.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:z,exp:z+3600,auth_time:z,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(re)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Ge(){var Me;const oe=null===(Me=He())||void 0===Me?void 0:Me.forceEnvironment;if("node"===oe)return!0;if("browser"===oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function ze(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kn(){const Me=$e();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function At(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rt(){try{return"object"==typeof indexedDB}catch{return!1}}function qt(){return new Promise((Me,oe)=>{try{let H=!0;const V="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(V);z.onsuccess=()=>{z.result.close(),H||self.indexedDB.deleteDatabase(V),Me(!0)},z.onupgradeneeded=()=>{H=!1},z.onerror=()=>{var le;oe((null===(le=z.error)||void 0===le?void 0:le.message)||"")}}catch(H){oe(H)}})}function Gt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _n extends Error{constructor(oe,H,V){super(H),this.code=oe,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(oe,H,V){this.service=oe,this.serviceName=H,this.errors=V}create(oe,...H){const V=H[0]||{},z=`${this.service}/${oe}`,le=this.errors[oe],re=le?function Mt(Me,oe){return Me.replace(Ke,(H,V)=>{const z=oe[V];return null!=z?String(z):`<${V}?>`})}(le,V):"Error";return new _n(z,`${this.serviceName}: ${re} (${z}).`,V)}}const Ke=/\{\$([^}]+)}/g;function bn(Me,oe){return Object.prototype.hasOwnProperty.call(Me,oe)}function pi(Me){for(const oe in Me)if(Object.prototype.hasOwnProperty.call(Me,oe))return!1;return!0}function Bt(Me,oe){if(Me===oe)return!0;const H=Object.keys(Me),V=Object.keys(oe);for(const z of H){if(!V.includes(z))return!1;const le=Me[z],re=oe[z];if(ce(le)&&ce(re)){if(!Bt(le,re))return!1}else if(le!==re)return!1}for(const z of V)if(!H.includes(z))return!1;return!0}function ce(Me){return null!==Me&&"object"==typeof Me}function ft(Me){const oe=[];for(const[H,V]of Object.entries(Me))Array.isArray(V)?V.forEach(z=>{oe.push(encodeURIComponent(H)+"="+encodeURIComponent(z))}):oe.push(encodeURIComponent(H)+"="+encodeURIComponent(V));return oe.length?"&"+oe.join("&"):""}function st(Me){const oe={};return Me.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[z,le]=V.split("=");oe[decodeURIComponent(z)]=decodeURIComponent(le)}}),oe}function Ze(Me){const oe=Me.indexOf("?");if(!oe)return"";const H=Me.indexOf("#",oe);return Me.substring(oe,H>0?H:void 0)}function ke(Me,oe){const H=new Ut(Me,oe);return H.subscribe.bind(H)}class Ut{constructor(oe,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{oe(this)}).catch(V=>{this.error(V)})}next(oe){this.forEachObserver(H=>{H.next(oe)})}error(oe){this.forEachObserver(H=>{H.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,H,V){let z;if(void 0===oe&&void 0===H&&void 0===V)throw new Error("Missing Observer.");z=function Kt(Me,oe){if("object"!=typeof Me||null===Me)return!1;for(const H of oe)if(H in Me&&"function"==typeof Me[H])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:H,complete:V},void 0===z.next&&(z.next=Wt),void 0===z.error&&(z.error=Wt),void 0===z.complete&&(z.complete=Wt);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),le}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,oe)}sendOne(oe,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{H(this.observers[oe])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wt(){}const Zt=1e3,Je=2,rt=144e5,Be=.5;function Oe(Me,oe=Zt,H=Je){const V=oe*Math.pow(H,Me),z=Math.round(Be*V*(Math.random()-.5)*2);return Math.min(rt,V+z)}function Vt(Me){return Me&&Me._delegate?Me._delegate:Me}},8854:(gn,nt,E)=>{E.d(nt,{q:()=>js});var d=E(1728),B=E(8410),m=E(6012),ne=E(6286),xe=E(430),ae=E(8467),Z=E(2223),se=(E(1692),E(2966),E(1217)),Ne=(E(727),E(6451),E(7579),E(829)),dt=E(4755);let Le=(()=>{class We{}return We.\u0275fac=function(Y){return new(Y||We)},We.\u0275mod=Z.oAB({type:We}),We.\u0275inj=Z.cJS({imports:[se.BQ,se.BQ]}),We})();E(706),E(2840),E(9401),E(2722);let rt=(()=>{class We{}return We.\u0275fac=function(Y){return new(Y||We)},We.\u0275mod=Z.oAB({type:We}),We.\u0275inj=Z.cJS({imports:[Ne.Q8,dt.ez,se.BQ,se.si,se.us,Le]}),We})();var Be=E(9383),Oe=E(2236);E(1591);let Rn=(()=>{class We{}return We.\u0275fac=function(Y){return new(Y||We)},We.\u0275mod=Z.oAB({type:We}),We.\u0275inj=Z.cJS({imports:[dt.ez,se.BQ,Oe.ZD,Oe.ZD,se.BQ]}),We})();var Hn=E(2659),fi=E(9002);let ms=(()=>{class We{}return We.\u0275fac=function(Y){return new(Y||We)},We.\u0275mod=Z.oAB({type:We}),We.\u0275inj=Z.cJS({imports:[se.BQ,dt.ez,Ne.Q8,se.BQ]}),We})();const qi={provide:new Z.OlP("mat-select-scroll-strategy"),deps:[fi.aV],useFactory:function Pr(We){return()=>We.scrollStrategies.reposition()}};let To=(()=>{class We{}return We.\u0275fac=function(Y){return new(Y||We)},We.\u0275mod=Z.oAB({type:We}),We.\u0275inj=Z.cJS({providers:[qi],imports:[dt.ez,fi.U8,se.Ng,se.BQ,Oe.ZD,ms,se.Ng,se.BQ]}),We})(),js=(()=>{class We{}return We.\u0275fac=function(Y){return new(Y||We)},We.\u0275mod=Z.oAB({type:We}),We.\u0275inj=Z.cJS({imports:[d.ot,B._r,m.QW,ne.Is,xe.Ps,ae.Cq,rt,Be.g0,Rn,Hn.Tx,To]}),We})()},8577:(gn,nt,E)=>{E.d(nt,{n:()=>xe});var d=E(2223),B=E(1762),m=E(3919),ne=E(5213);let xe=(()=>{class ae{constructor(_e,Ee,se){this.firestore=_e,this.userDataService=Ee,this.mainUserPageService=se,this.posts=[],this.pageSize=5,this.currentSize=0,this.collection=this.firestore.collection("Posts")}uploadPost(_e){const Ee=this.firestore.createId(),se=this.userDataService.getCurrentUserId();return this.collection.doc(Ee).set({comment:_e,creatorId:se,timestamp:new Date,postId:Ee}).then(()=>{this.mainUserPageService.addUserPost(se,Ee)})}uploadImagePost(_e,Ee,se){const de=this.userDataService.getCurrentUserId();return this.collection.doc(_e).set({comment:Ee,creatorId:this.userDataService.getCurrentUserId(),imageUrl:se,timestamp:new Date,postId:_e}).then(()=>{this.mainUserPageService.addUserPost(de,_e)})}deleteUserPosts(){this.collection.get().subscribe(_e=>{_e.forEach(Ee=>{const se=Ee.data(),de=Ee.id;se&&se.creatorId===this.userDataService.userInfo.userId&&(this.deleteCollection(de,"Likes"),this.deleteCollection(de,"PostComments"),this.collection.doc(de).delete().then(()=>{}).catch(me=>{console.error(`Error deleting document with ID ${de}`,me)}))})})}deleteCollection(_e,Ee){const se=this.firestore.firestore.batch();this.collection.doc(_e).collection(Ee).ref.get().then(de=>(de.forEach(me=>{se.delete(me.ref)}),se.commit()))}getCountOfDocuments(){this.collection.ref.get().then(_e=>{this.postsSize=_e.size})}getFirstPosts(){0===this.currentSize&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.pageSize).get().then(_e=>{_e.forEach(Ee=>{this.currentSize++,this.posts.push(Ee.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}getScrollPosts(){window.onscroll=()=>{window.pageYOffset+window.innerHeight>=document.documentElement.scrollHeight&&this.postsSize>this.currentSize&&this.postsSize>this.posts.length&&this.currentSize>0&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").startAfter(this.lastVisibleDoc).limit(this.pageSize).get().then(_e=>{_e.forEach(Ee=>{this.currentSize++,this.posts.push(Ee.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}}newGetPosts(_e){"add"===_e&&this.currentSize++,"delete"===_e&&this.currentSize--,this.posts=[],this.currentSize>0?(this.getCountOfDocuments(),this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.currentSize).get().then(Ee=>{this.currentSize=0,Ee.forEach(se=>{this.currentSize++,this.posts.push(se.data())}),this.lastVisibleDoc=Ee.docs[Ee.docs.length-1]})):this.getFirstPosts()}}return ae.\u0275fac=function(_e){return new(_e||ae)(d.LFG(B.ST),d.LFG(m.M),d.LFG(ne.v))},ae.\u0275prov=d.Yz7({token:ae,factory:ae.\u0275fac}),ae})()},1188:(gn,nt,E)=>{E.d(nt,{V:()=>m});var d=E(2223),B=E(8445);let m=(()=>{class ne{constructor(ae){this.storage=ae}getDataFromStorage(ae){return this.storage.ref(ae).getDownloadURL()}}return ne.\u0275fac=function(ae){return new(ae||ne)(d.LFG(B.Q1))},ne.\u0275prov=d.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},3919:(gn,nt,E)=>{E.d(nt,{M:()=>de});var d=E(1389),ae=(E(2090),E(6881),E(1877),E(4859),E(4004)),Z=E(2223),_e=E(1205),Ee=E(3676),se=E(1762);let de=(()=>{class me{constructor(Ne,dt,it){this.afAuth=Ne,this.router=dt,this.firestore=it,this.userHasProfile=!0,this.isLoggedIn=!1,this.collection=this.firestore.collection("Users")}getUpdatedUserProfile(){this.afAuth.currentUser.then(Ne=>{const dt=Ne?.uid;return this.firestore.collection("Users").doc(dt).get().pipe((0,ae.U)(it=>{const Le=it.data();this.userHasProfile=it.exists,it.exists&&(this.userInfo={userId:Le.userId,publicName:Le.publicName,description:Le.description,timestamp:Le.timestamp,imageUrl:Le.imageUrl})})).toPromise()}).catch(Ne=>{console.error("Error getting document:",Ne)})}checkLoginStatus(){this.afAuth.authState.subscribe(Ne=>{this.isLoggedIn=!!Ne,Ne&&(Ne.emailVerified?(this.getUpdatedUserProfile(),this.router.navigate(["userPage"])):(Ne.sendEmailVerification(),this.router.navigate(["emailVerification"])))})}getCurrentUserId(){const dt=(0,d.o)().currentUser;return dt?dt.uid:""}createUser(Ne,dt){this.collection.doc(this.getCurrentUserId()).set({publicName:Ne,description:dt,userId:this.getCurrentUserId(),timestamp:new Date}).then(()=>{this.getUpdatedUserProfile(),this.router.navigate(["userPage"])}).catch(it=>{console.error("Error writing document: ",it)})}resetUserName(){this.userInfo.publicName=""}deleteUser(){this.collection.doc(this.userInfo.userId).delete().then(()=>{this.getUpdatedUserProfile()}).catch(Ne=>{console.error("Error writing document: ",Ne)})}updateDocumentField(Ne,dt,it,Le){return this.firestore.collection(Ne).doc(dt).update({[it]:Le})}}return me.\u0275fac=function(Ne){return new(Ne||me)(Z.LFG(_e.zQ),Z.LFG(Ee.F0),Z.LFG(se.ST))},me.\u0275prov=Z.Yz7({token:me,factory:me.\u0275fac}),me})()},5213:(gn,nt,E)=>{E.d(nt,{v:()=>Ne});var d=E(8505),B=E(8746),m=E(3900),ne=E(9300),xe=E(9841),ae=E(5698),Z=E(1627),_e=E(2223),Ee=E(3919),se=E(1762),de=E(8445),me=E(6286),Xe=E(3676);let Ne=(()=>{class dt{constructor(Le,He,Re,yt,ue){this.userDataService=Le,this.firestore=He,this.storage=Re,this.dialogOpen=yt,this.router=ue,this.userPosts=0,this.userFriends=0,this.collectionUsers=this.firestore.collection("Users")}addUserPost(Le,He){this.collectionUsers.doc(Le).collection("UserPosts").doc(He).set({postId:He,creatorId:Le,timestamp:new Date}).then()}deleteUserPost(Le,He){this.collectionUsers.doc(Le).collection("UserPosts").doc(He).delete().then()}uploadUserImage(Le,He){const Re=`Users/${Le}/image`,yt=this.storage.ref(Re),ue=this.storage.upload(Re,He),De=this.dialogOpen.open(Z.R,{disableClose:!0,data:{info:"Upload progress",message:""}});ue.percentageChanges().pipe((0,d.b)(be=>{De.componentInstance.message={info:"Upload progress",message:`Upload progress: ${be?.toFixed(2)}%`}}),(0,B.x)(()=>De.close()),(0,m.w)(()=>ue.snapshotChanges()),(0,ne.h)(be=>"success"===be.state),(0,m.w)(()=>yt.getDownloadURL()),(0,m.w)(be=>this.collectionUsers.doc(Le).update({imageUrl:be}))).subscribe(()=>{this.userDataService.getUpdatedUserProfile()})}getCountOfValuePosts(Le){this.collectionUsers.doc(Le).collection("UserPosts").valueChanges().subscribe(He=>{this.userPosts=He.length})}getCountOfValueFriends(Le){this.collectionUsers.doc(Le).collection("UserFriends",He=>He.where("isFriend","==",!0)).valueChanges().subscribe(He=>{this.userFriends=He.length})}addToFriends(Le){const He=this.userDataService.getCurrentUserId();this.collectionUsers.doc(He).collection("UserFriends").doc(Le).set({friendId:Le,creatorId:He,timestamp:new Date,isFriend:!1}).then(()=>{this.checkIsFriend(Le)})}deleteFriend(Le){const He=this.userDataService.getCurrentUserId();this.deleteUserFriend(He,Le),this.deleteUserFriend(Le,He)}deleteUserFriend(Le,He){this.collectionUsers.doc(Le).collection("UserFriends").doc(He).delete().then(()=>this.checkIsFriend(He))}getFriendExistence(Le,He){return this.collectionUsers.doc(Le).collection("UserFriends").doc(He).get()}checkIsFriend(Le){const He=this.userDataService.getCurrentUserId(),Re=this.getFriendExistence(He,Le),yt=this.getFriendExistence(Le,He);(0,xe.a)([Re,yt]).pipe((0,ae.q)(1)).subscribe(([ue,De])=>{ue.exists&&De.exists&&(this.updateFriendsStatus(Le,He),this.updateFriendsStatus(He,Le))})}updateFriendsStatus(Le,He){this.collectionUsers.doc(Le).collection("UserFriends").doc(He).update({isFriend:!0}).then()}goToFriendPage(Le){const Re=Le===this.userDataService.getCurrentUserId();this.router.navigate([Re?"userPage":"friendPage"],{queryParams:Re?void 0:{friendId:Le}})}deleteSomeCollection(Le){const He=this.userDataService.getCurrentUserId();this.collectionUsers.doc(He).collection(Le).get().toPromise().then(Re=>{Re&&Re.forEach(yt=>{yt.ref.delete()})})}deleteUserPostsCollection(){this.deleteSomeCollection("UserPosts")}deleteUserFriendsCollection(){this.deleteSomeCollection("UserFriends")}}return dt.\u0275fac=function(Le){return new(Le||dt)(_e.LFG(Ee.M),_e.LFG(se.ST),_e.LFG(de.Q1),_e.LFG(me.uw),_e.LFG(Xe.F0))},dt.\u0275prov=_e.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})()},8099:(gn,nt,E)=>{E.d(nt,{f:()=>Le});var d=E(9401),B=E(9802),m=E(6286),ne=E(2223),xe=E(3919),ae=E(8577),Z=E(5213),_e=E(1205),Ee=E(3676),se=E(4755),de=E(1728),me=E(6012);function Xe(He,Re){1&He&&(ne.TgZ(0,"div")(1,"small",9),ne._uU(2,"Field cannot be empty"),ne.qZA()())}function Ne(He,Re){if(1&He&&(ne.ynx(0),ne._UZ(1,"input",8),ne.YNc(2,Xe,3,0,"div",3),ne.BQk()),2&He){const yt=ne.oxw();let ue;ne.xp6(2),ne.Q6J("ngIf",(null==(ue=yt.sidebarForm.get("textData"))?null:ue.invalid)&&(null==(ue=yt.sidebarForm.get("textData"))?null:ue.touched))}}function dt(He,Re){if(1&He){const yt=ne.EpF();ne.TgZ(0,"button",10),ne.NdJ("click",function(){ne.CHM(yt);const De=ne.oxw();return ne.KtG(De.deleteUser())}),ne._uU(1," Yes "),ne.qZA()}}function it(He,Re){if(1&He){const yt=ne.EpF();ne.TgZ(0,"button",10),ne.NdJ("click",function(){ne.CHM(yt);const De=ne.oxw();return ne.KtG(De.saveData())}),ne._uU(1," Save "),ne.qZA()}}let Le=(()=>{class He{constructor(yt,ue,De,be,Ae,$e,K,Ge){this.message=yt,this.dialogRef=ue,this.userDataService=De,this.postsDataService=be,this.userPageService=Ae,this.afAuth=$e,this.router=K,this.dialog=Ge,this.sidebarForm=new d.cw({textData:new d.NI("",[d.kI.required])})}saveData(){const yt=this.sidebarForm.get("textData");yt&&!yt.errors&&this.userDataService.updateDocumentField("Users",this.userDataService.userInfo.userId,this.message.field,yt.value).then(()=>{this.dialogRef.close(),this.postsDataService.newGetPosts(),this.userDataService.getUpdatedUserProfile()})}deleteUser(){const yt=this.afAuth.currentUser;yt&&yt.then(ue=>ue).then(ue=>ue?.delete()).then(()=>{this.dialogRef.close(),this.userDataService.deleteUser(),this.postsDataService.deleteUserPosts(),this.userPageService.deleteUserPostsCollection(),this.userPageService.deleteUserFriendsCollection(),this.router.navigate([""])}).catch(ue=>{this.dialog.open(B.S,{data:{info:"Error deleting account",message:ue.message}})})}closeClick(){this.dialogRef.close()}}return He.\u0275fac=function(yt){return new(yt||He)(ne.Y36(m.WI),ne.Y36(m.so),ne.Y36(xe.M),ne.Y36(ae.n),ne.Y36(Z.v),ne.Y36(_e.zQ),ne.Y36(Ee.F0),ne.Y36(m.uw))},He.\u0275cmp=ne.Xpm({type:He,selectors:[["app-change-data-modal"]],decls:15,vars:6,consts:[[1,"message"],[3,"formGroup"],[1,"message-text"],[4,"ngIf"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["formControlName","textData",1,"message-input"],[1,"error"],["mat-flat-button","","color","warn",3,"click"]],template:function(yt,ue){1&yt&&(ne.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),ne._uU(3),ne.qZA()(),ne.TgZ(4,"mat-card-content",0)(5,"form",1)(6,"div",2),ne._uU(7),ne.qZA(),ne.YNc(8,Ne,3,1,"ng-container",3),ne.TgZ(9,"div",4)(10,"button",5),ne.NdJ("click",function(){return ue.closeClick()}),ne._uU(11," Close "),ne.qZA(),ne._UZ(12,"span",6),ne.YNc(13,dt,2,0,"button",7),ne.YNc(14,it,2,0,"button",7),ne.qZA()()()()),2&yt&&(ne.xp6(3),ne.hij(" ",ue.message.info," "),ne.xp6(2),ne.Q6J("formGroup",ue.sidebarForm),ne.xp6(2),ne.Oqu(ue.message.message),ne.xp6(1),ne.Q6J("ngIf",!ue.message.yesButton),ne.xp6(5),ne.Q6J("ngIf",ue.message.yesButton),ne.xp6(1),ne.Q6J("ngIf",!ue.message.yesButton))},dependencies:[se.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,de.lW,me.a8,me.dn,me.dk,me.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.error[_ngcontent-%COMP%]{color:#f44336}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),He})()},9802:(gn,nt,E)=>{E.d(nt,{S:()=>Z});var d=E(6286),B=E(2223),m=E(4755),ne=E(1728),xe=E(6012);function ae(_e,Ee){if(1&_e){const se=B.EpF();B.TgZ(0,"button",6),B.NdJ("click",function(){B.CHM(se);const me=B.oxw();return B.KtG(me.buttonClick())}),B._uU(1),B.qZA()}if(2&_e){const se=B.oxw();B.xp6(1),B.hij(" ",se.message.nameButton," ")}}let Z=(()=>{class _e{constructor(se,de){this.message=se,this.dialog=de}buttonClick(){this.dialog.close(!0)}closeClick(){this.dialog.close()}}return _e.\u0275fac=function(se){return new(se||_e)(B.Y36(d.WI),B.Y36(d.so))},_e.\u0275cmp=B.Xpm({type:_e,selectors:[["app-info-modal"]],decls:12,vars:3,consts:[[1,"message"],[1,"message-text"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"]],template:function(se,de){1&se&&(B.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),B._uU(3),B.qZA()(),B.TgZ(4,"mat-card-content",0)(5,"div",1),B._uU(6),B.qZA(),B.TgZ(7,"div",2)(8,"button",3),B.NdJ("click",function(){return de.closeClick()}),B._uU(9," Close "),B.qZA(),B._UZ(10,"span",4),B.YNc(11,ae,2,1,"button",5),B.qZA()()()),2&se&&(B.xp6(3),B.hij(" ",de.message.info," "),B.xp6(3),B.Oqu(de.message.message),B.xp6(5),B.Q6J("ngIf",de.message.addButton))},dependencies:[m.O5,ne.lW,xe.a8,xe.dn,xe.dk,xe.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),_e})()},1627:(gn,nt,E)=>{E.d(nt,{R:()=>ae});var d=E(6286),B=E(2223),m=E(1728),ne=E(6012),xe=E(8467);let ae=(()=>{class Z{constructor(Ee,se){this.message=Ee,this.dialogRef=se}closeModal(){this.dialogRef.close()}}return Z.\u0275fac=function(Ee){return new(Ee||Z)(B.Y36(d.WI),B.Y36(d.so))},Z.\u0275cmp=B.Xpm({type:Z,selectors:[["app-loader"]],decls:11,vars:2,consts:[[1,"message"],[1,"message-loader"],[1,"message-text"],["mode","indeterminate","color","primary","diameter","32","strokeWidth","4"],["mat-flat-button","","color","warn",3,"click"]],template:function(Ee,se){1&Ee&&(B.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),B._uU(3),B.qZA()(),B.TgZ(4,"mat-card-content",0)(5,"div",1)(6,"div",2),B._uU(7),B.qZA(),B._UZ(8,"mat-progress-spinner",3),B.qZA(),B.TgZ(9,"button",4),B.NdJ("click",function(){return se.closeModal()}),B._uU(10,"Close"),B.qZA()()()),2&Ee&&(B.xp6(3),B.hij(" ",se.message.info," "),B.xp6(4),B.Oqu(se.message.message))},dependencies:[m.lW,ne.a8,ne.dn,ne.dk,ne.n5,xe.Ou],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.message-loader[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-text[_ngcontent-%COMP%]{padding:10px}"]}),Z})()},7655:(gn,nt,E)=>{var d=E(6550),B=E(3676),m=E(2223),ne=E(3919);let xe=(()=>{class R{constructor(_,I){this.router=_,this.userDataService=I}canActivate(_,I){return"/postFeed"!==I.url||!(!this.userDataService.userHasProfile||!this.userDataService.isLoggedIn)||(this.router.navigate([""]),!1)}}return R.\u0275fac=function(_){return new(_||R)(m.LFG(B.F0),m.LFG(ne.M))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var ae=E(9401);function Z(R,y){return _=>{const I=_.get(R)?.value,G=_.get(y)?.value;return I!==G?{fieldsMatch:!0}:null}}var _e=E(9802),Ee=E(8410),se=E(1205),de=E(6286),me=E(4755),Xe=E(1728),Ne=E(6012);function dt(R,y){1&R&&(m.TgZ(0,"div")(1,"small",13),m._uU(2,"Please, enter a valid email."),m.qZA()())}function it(R,y){if(1&R&&(m.TgZ(0,"div")(1,"small",13),m._uU(2),m.qZA()()),2&R){const _=m.oxw(2);m.xp6(2),m.hij(" The field must have at least ",_.minLength," characters. ")}}function Le(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"div",8),m._UZ(1,"input",9),m.YNc(2,dt,3,0,"div",10),m._UZ(3,"input",11),m.YNc(4,it,3,1,"div",10),m.TgZ(5,"button",12),m.NdJ("click",function(){m.CHM(_);const G=m.oxw();return m.KtG(G.onLoginSubmitClick())}),m._uU(6," Login "),m.qZA()()}if(2&R){const _=m.oxw();let I,G;m.xp6(2),m.Q6J("ngIf",(null==(I=_.authenticatorForm.get("login.loginEmail"))?null:I.invalid)&&(null==(I=_.authenticatorForm.get("login.loginEmail"))?null:I.touched)),m.xp6(2),m.Q6J("ngIf",(null==(G=_.authenticatorForm.get("login.loginPassword"))?null:G.invalid)&&(null==(G=_.authenticatorForm.get("login.loginPassword"))?null:G.touched))}}function He(R,y){1&R&&(m.TgZ(0,"div")(1,"small",13),m._uU(2,"Please, enter a valid email."),m.qZA()())}function Re(R,y){if(1&R&&(m.TgZ(0,"div")(1,"small",13),m._uU(2),m.qZA()()),2&R){const _=m.oxw(2);m.xp6(2),m.hij(" The field must have at least ",_.minLength," characters. ")}}function yt(R,y){if(1&R&&(m.TgZ(0,"small",13),m._uU(1),m.qZA()),2&R){const _=m.oxw(3);m.xp6(1),m.hij(" The field must have at least ",_.minLength," characters. ")}}function ue(R,y){1&R&&(m.TgZ(0,"small",13),m._uU(1,"Password must match "),m.qZA())}function De(R,y){if(1&R&&(m.TgZ(0,"div"),m.YNc(1,yt,2,1,"small",19),m.YNc(2,ue,2,0,"small",19),m.qZA()),2&R){const _=m.oxw(2);let I,G;m.xp6(1),m.Q6J("ngIf",null==(I=_.authenticatorForm.get("register.registerConfirmPassword"))?null:I.invalid),m.xp6(1),m.Q6J("ngIf",null==(G=_.authenticatorForm.get("register"))||null==G.errors?null:G.errors.fieldsMatch)}}function be(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"div",14),m._UZ(1,"input",15),m.YNc(2,He,3,0,"div",10),m._UZ(3,"input",16),m.YNc(4,Re,3,1,"div",10),m._UZ(5,"input",17),m.YNc(6,De,3,2,"div",10),m.TgZ(7,"button",18),m.NdJ("click",function(){m.CHM(_);const G=m.oxw();return m.KtG(G.onRegisterSubmitClick())}),m._uU(8," Create "),m.qZA()()}if(2&R){const _=m.oxw();let I,G,he;m.xp6(2),m.Q6J("ngIf",(null==(I=_.authenticatorForm.get("register.registerEmail"))?null:I.invalid)&&(null==(I=_.authenticatorForm.get("register.registerEmail"))?null:I.touched)),m.xp6(2),m.Q6J("ngIf",(null==(G=_.authenticatorForm.get("register.registerPassword"))?null:G.invalid)&&(null==(G=_.authenticatorForm.get("register.registerPassword"))?null:G.touched)),m.xp6(2),m.Q6J("ngIf",null==(he=_.authenticatorForm.get("register.registerConfirmPassword"))?null:he.touched)}}function Ae(R,y){1&R&&(m.TgZ(0,"div")(1,"small",13),m._uU(2,"Please, enter a valid email."),m.qZA()())}function $e(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"div",20),m._UZ(1,"input",21),m.YNc(2,Ae,3,0,"div",10),m.TgZ(3,"button",18),m.NdJ("click",function(){m.CHM(_);const G=m.oxw();return m.KtG(G.onResetClick())}),m._uU(4," Reset "),m.qZA()()}if(2&R){const _=m.oxw();let I;m.xp6(2),m.Q6J("ngIf",(null==(I=_.authenticatorForm.get("forgot.resetEmail"))?null:I.invalid)&&(null==(I=_.authenticatorForm.get("forgot.resetEmail"))?null:I.touched))}}var K=(()=>((K=K||{})[K.LOGIN=0]="LOGIN",K[K.REGISTER=1]="REGISTER",K[K.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",K))(),Ge=(()=>((Ge=Ge||{})[Ge.LOGIN=0]="LOGIN",Ge[Ge.REGISTER=1]="REGISTER",Ge[Ge.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Ge))();let Fe=(()=>{class R{constructor(_,I,G,he){this.bottomSheetRef=_,this.afAuth=I,this.router=G,this.dialog=he,this.state=K.LOGIN,this.minLength=3,this.authenticatorForm=new ae.cw({login:new ae.cw({loginEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),loginPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])}),register:new ae.cw({registerEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),registerPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)]),registerConfirmPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])},{validators:Z("registerPassword","registerConfirmPassword")}),forgot:new ae.cw({resetEmail:new ae.NI("",[ae.kI.required,ae.kI.email])})})}submitForm(_){switch(_.preventDefault(),this.submitState){case Ge.LOGIN:this.setLogin();break;case Ge.REGISTER:this.setRegister();break;case Ge.FORGOT_PASSWORD:this.setReset()}}setRegister(){const _=this.authenticatorForm.get("register");if(_&&_.valid){const{registerEmail:I,registerPassword:G}=_.value;this.afAuth.createUserWithEmailAndPassword(I,G).then(()=>{this.router.navigate(["emailVerification"]),this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(he=>{this.dialog.open(_e.S,{data:{info:"Account with this email already exists",message:he.message}})})}}onRegisterSubmitClick(){this.authenticatorForm.get("register.registerEmail")?.markAsTouched(),this.authenticatorForm.get("register.registerPassword")?.markAsTouched(),this.authenticatorForm.get("register.registerConfirmPassword")?.markAsTouched(),this.submitState=Ge.REGISTER}setLogin(){const _=this.authenticatorForm.get("login.loginEmail"),I=this.authenticatorForm.get("login.loginPassword");_&&I&&!_.errors&&!I.errors&&this.afAuth.signInWithEmailAndPassword(_.value,I.value).then(()=>{this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(G=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail or password",message:G.message}})})}onLoginSubmitClick(){this.authenticatorForm.get("login.loginEmail")?.markAsTouched(),this.authenticatorForm.get("login.loginPassword")?.markAsTouched(),this.submitState=Ge.LOGIN}setReset(){const _=this.authenticatorForm.get("forgot.resetEmail");_&&!_.errors&&this.afAuth.sendPasswordResetEmail(_.value).then(()=>{this.bottomSheetRef.dismiss(),this.dialog.open(_e.S,{data:{info:"Check your E-mail",message:"A link to change your password has been sent to your email."}}),this.authenticatorForm.reset()}).catch(()=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail",message:"The email address is badly formatted."}})})}onResetClick(){this.authenticatorForm.get("forgot.resetEmail")?.markAsTouched(),this.submitState=Ge.FORGOT_PASSWORD}onForgotPasswordButton(){this.state=K.FORGOT_PASSWORD}onCreateAccountButton(){this.state=K.REGISTER}onLoginButton(){this.state=K.LOGIN}isLoginState(){return this.state==K.LOGIN}isRegisterState(){return this.state==K.REGISTER}isForgotPasswordState(){return this.state==K.FORGOT_PASSWORD}getStateText(){switch(this.state){case K.LOGIN:return"Login";case K.REGISTER:return"Register";case K.FORGOT_PASSWORD:return"Forgot password"}}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(Ee.oL),m.Y36(se.zQ),m.Y36(B.F0),m.Y36(de.uw))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-authenticator"]],decls:17,vars:5,consts:[[1,"authenticator"],[1,"authenticator-content"],[3,"formGroup","submit"],["formGroupName","login",4,"ngIf"],["formGroupName","register",4,"ngIf"],["formGroupName","forgot",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["formGroupName","login"],["placeholder","Email","formControlName","loginEmail","autocomplete","email"],[4,"ngIf"],["placeholder","Password","type","password","formControlName","loginPassword","autocomplete","current-password"],["mat-flat-button","","color","warn","type","submit",3,"click"],[1,"error"],["formGroupName","register"],["placeholder","Email","formControlName","registerEmail","autocomplete","email"],["placeholder","Password","type","password","formControlName","registerPassword","autocomplete","new-password"],["placeholder","Confirm password","type","password","formControlName","registerConfirmPassword","autocomplete","new-password"],["mat-flat-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["formGroupName","forgot"],["placeholder","Email","formControlName","resetEmail","autocomplete","email"]],template:function(_,I){1&_&&(m.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),m._uU(4),m.qZA()(),m.TgZ(5,"mat-card-content")(6,"form",2),m.NdJ("submit",function(he){return I.submitForm(he)}),m.YNc(7,Le,7,2,"div",3),m.YNc(8,be,9,3,"div",4),m.YNc(9,$e,5,1,"div",5),m.qZA()(),m.TgZ(10,"mat-card-actions",6)(11,"button",7),m.NdJ("click",function(){return I.onForgotPasswordButton()}),m._uU(12," Forgot Password "),m.qZA(),m.TgZ(13,"button",7),m.NdJ("click",function(){return I.onCreateAccountButton()}),m._uU(14," Create an Account "),m.qZA(),m.TgZ(15,"button",7),m.NdJ("click",function(){return I.onLoginButton()}),m._uU(16,"Login"),m.qZA()()()()),2&_&&(m.xp6(4),m.Oqu(I.getStateText()),m.xp6(2),m.Q6J("formGroup",I.authenticatorForm),m.xp6(1),m.Q6J("ngIf",I.isLoginState()),m.xp6(1),m.Q6J("ngIf",I.isRegisterState()),m.xp6(1),m.Q6J("ngIf",I.isForgotPasswordState()))},dependencies:[me.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,ae.x0,Xe.lW,Ne.a8,Ne.hq,Ne.dn,Ne.dk,Ne.n5],styles:[".authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box}.authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid black;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}"]}),R})();var ze=E(1188);let vt=(()=>{class R{constructor(_,I,G){this.userDataService=_,this.loginSheet=I,this.storageService=G,this.backgroundStorage=""}ngOnInit(){this.storageService.getDataFromStorage("Background/home_background.jpg").subscribe(I=>this.backgroundStorage=`url(${I})`)}getIsLoggedIn(){return this.userDataService.isLoggedIn}onGetStartedClick(){this.loginSheet.open(Fe)}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(ne.M),m.Y36(Ee.ch),m.Y36(ze.V))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-home"]],decls:10,vars:3,consts:[[1,"home-page"],[1,"home-page-landing"],[1,"landing-left"],[1,"landing-left-content"],["mat-flat-button","",3,"disabled","click"]],template:function(_,I){1&_&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),m._uU(5,"Social Media App Platform"),m.qZA(),m.TgZ(6,"p"),m._uU(7,"Oh, hello, my precious friend!"),m.qZA(),m.TgZ(8,"button",4),m.NdJ("click",function(){return I.onGetStartedClick()}),m._uU(9," Get Started "),m.qZA()()()()()),2&_&&(m.xp6(1),m.Udp("background-image",I.backgroundStorage),m.xp6(7),m.Q6J("disabled",I.getIsLoggedIn()))},dependencies:[Xe.lW],styles:[".home-page[_ngcontent-%COMP%]{width:100%;height:100%}.home-page-landing[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:100vh}.landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}.landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}.landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}.landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}.landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:2em;padding:.5em;background-color:#f44336}.landing-left-content[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#dcdcdc}"]}),R})(),vn=(()=>{class R{constructor(_,I){this.afAuth=_,this.router=I,this.afAuth.authState.subscribe(G=>{G?.emailVerified&&this.router.navigate([""])})}onResendClick(){this.afAuth.currentUser.then(_=>{_?.sendEmailVerification()})}onRefreshClick(){window.location.reload()}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(se.zQ),m.Y36(B.F0))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-email-verification"]],decls:8,vars:0,consts:[[1,"email-verification"],[1,"buttons"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(_,I){1&_&&(m.TgZ(0,"mat-card",0)(1,"h1"),m._uU(2,"Your Email is not verified"),m.qZA(),m.TgZ(3,"mat-card-content",1)(4,"button",2),m.NdJ("click",function(){return I.onResendClick()}),m._uU(5," Resend Verification Email "),m.qZA(),m.TgZ(6,"button",3),m.NdJ("click",function(){return I.onRefreshClick()}),m._uU(7," Refresh "),m.qZA()()())},dependencies:[Xe.lW,Ne.a8,Ne.dn],styles:[".email-verification[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;text-align:center;justify-content:center}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px}"]}),R})();var kn=E(8505),ut=E(8746),ht=E(1627),At=E(8445),Rt=E(1762),qt=E(8577),Gt=E(430);function ln(R,y){1&R&&(m.TgZ(0,"div",9),m._UZ(1,"img",10),m.qZA())}const _n=function(R){return{error:R}};let rn=(()=>{class R{constructor(_,I,G,he,et,at,$t){this.storage=_,this.afAuth=I,this.firestore=G,this.userDataService=he,this.dialogCreatePost=et,this.dialogOpen=at,this.postsDataService=$t,this.collection=this.firestore.collection("Posts"),this.createPostForm=new ae.cw({message:new ae.NI("",[ae.kI.required])})}checkMessage(){return!(!this.createPostForm.get("message")?.invalid||!this.createPostForm.get("message")?.touched)}onPostClick(){const _=this.createPostForm.get("message");_?.markAsTouched(),!_?.errors&&(this.selectedImageFile?this.uploadImagePost(_?.value):this.uploadPost(_?.value),this.postsDataService.newGetPosts("add"))}uploadImagePost(_){const I=this.firestore.createId(),G=`Posts/${I}/image`,he=this.storage.ref(G),et=this.storage.upload(G,this.selectedImageFile),at=this.dialogOpen.open(ht.R,{disableClose:!0,data:{info:"Upload progress",message:""}});et.percentageChanges().pipe((0,kn.b)($t=>{at.componentInstance.message={info:"Upload progress",message:`Upload progress: ${$t?.toFixed(2)}%`}}),(0,ut.x)(()=>at.close())).subscribe(),et.snapshotChanges().subscribe($t=>{"success"===$t.state&&he.getDownloadURL().subscribe(an=>{this.postsDataService.uploadImagePost(I,_,an).then(()=>{this.dialogCreatePost.close()}).catch(Vn=>{console.error("Error writing document: ",Vn)})},an=>{console.error("Error getting image URL:",an)})})}uploadPost(_){this.postsDataService.uploadPost(_).then(()=>{this.dialogCreatePost.close()}).catch(I=>{console.error("Error writing document: ",I)})}photoSelected(_){if(this.selectedImageFile=_.files[0],!this.selectedImageFile)return;const I=new FileReader;I.readAsDataURL(this.selectedImageFile),I.addEventListener("loadend",G=>{const he=I.result.toString();document.getElementById("post-preview-image").src=he})}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(At.Q1),m.Y36(se.zQ),m.Y36(Rt.ST),m.Y36(ne.M),m.Y36(de.so),m.Y36(de.uw),m.Y36(qt.n))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-create-post"]],decls:16,vars:5,consts:[[3,"formGroup","submit"],["formControlName","message","placeholder","Type Message...",3,"ngClass"],["class","post-preview",4,"ngIf"],["align","end"],["type","button","mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["type","submit","mat-flat-button","","color","warn"],[1,"post-preview"],["id","post-preview-image"]],template:function(_,I){if(1&_){const G=m.EpF();m.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m._uU(3,"Create post"),m.qZA()(),m.TgZ(4,"form",0),m.NdJ("submit",function(){return I.onPostClick()}),m._UZ(5,"textarea",1),m.YNc(6,ln,2,0,"div",2),m.TgZ(7,"mat-card-actions",3)(8,"button",4)(9,"label",5)(10,"input",6,7),m.NdJ("change",function(){m.CHM(G);const et=m.MAs(11);return m.KtG(I.photoSelected(et))}),m.qZA(),m.TgZ(12,"mat-icon"),m._uU(13,"insert_photo"),m.qZA()()(),m.TgZ(14,"button",8),m._uU(15,"Post"),m.qZA()()()()}2&_&&(m.xp6(4),m.Q6J("formGroup",I.createPostForm),m.xp6(1),m.Q6J("ngClass",m.VKq(3,_n,I.checkMessage())),m.xp6(1),m.Q6J("ngIf",I.selectedImageFile))},dependencies:[me.mk,me.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Xe.lW,Ne.a8,Ne.hq,Ne.dk,Ne.n5,Gt.Hw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}.error[_ngcontent-%COMP%]::placeholder{color:red}.post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}.post-preview[_ngcontent-%COMP%]   #post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),R})();var Mt=E(5861),Ke=E(5213);let Qe=(()=>{class R{constructor(_,I,G,he,et){this.userDataService=_,this.firestore=I,this.storage=G,this.postDataService=he,this.mainUserPageService=et,this.likes=0,this.isLiked=!1,this.yourLikeId=null,this.creatorName="",this.creatorDescription="",this.creatorImage="",this.collectionUsers=this.firestore.collection("Users"),this.collectionPosts=this.firestore.collection("Posts")}deletePost(_){const I=this.userDataService.getCurrentUserId();this.collectionPosts.doc(_).delete().then(),this.mainUserPageService.deleteUserPost(I,_),this.postDataService.deleteCollection(_,"Likes"),this.postDataService.deleteCollection(_,"PostComments"),this.postDataService.newGetPosts("delete")}getCreatorInfo(_){this.collectionUsers.doc(_.creatorId).get().toPromise().then(I=>{const G=I.data();this.creatorName=G?.publicName||"",this.creatorDescription=G?.description||"",this.creatorImage=G?.imageUrl||""}).catch(I=>{console.error("Error when fetching creator information:",I)})}likeButton(_){this.yourLikeId?this.deleteLike(_):this.checkCollectionExistence(_).then(I=>{I?this.addLike(_):this.createLike(_)}).catch(I=>{console.error("Error checking if collection exists:",I)})}addLike(_){var I=this;return(0,Mt.Z)(function*(){const G=I.userDataService.getCurrentUserId(),he=I.firestore.createId();try{(yield I.searchDocumentsByCreatorId(G,_)).length<1&&(yield I.collectionPosts.doc(_).collection("Likes").doc(he).set({likeId:he,creatorId:G,timestamp:new Date}),I.isLiked=!0)}catch(et){console.error("Error when searching for documents:",et)}})()}createLike(_){var I=this;return(0,Mt.Z)(function*(){const G=I.firestore.createId();try{yield I.collectionPosts.doc(_).collection("Likes").doc(G).set({likeId:G,creatorId:I.userDataService.getCurrentUserId(),timestamp:new Date}),I.isLiked=!0}catch(he){console.error("Error when creating like:",he)}})()}listenToDocumentValueChanges(_,I){return this.collectionPosts.doc(_).collection(I).valueChanges()}getLikes(_){const I=_,he=this.userDataService.getCurrentUserId();this.listenToDocumentValueChanges(I,"Likes").subscribe(et=>{this.likes=et.length,et.find(at=>{at.creatorId==he&&(this.yourLikeId=at.likeId,this.isLiked=!0)})})}deleteLike(_){this.yourLikeId&&this.collectionPosts.doc(_).collection("Likes").doc(this.yourLikeId).delete().then(()=>{this.isLiked=!1,this.yourLikeId=null})}searchDocumentsByCreatorId(_,I){return this.collectionPosts.doc(I).collection("Likes").ref.where("creatorId","==",_).get().then(he=>he.docs.map(et=>et.data())).catch(he=>{throw he})}checkCollectionExistence(_){return this.collectionPosts.doc(_).collection("Likes").get().toPromise().then(G=>!G.empty).catch(G=>{throw G})}downloadFile(_){this.storage.ref(_).getDownloadURL().toPromise().then(G=>{const he=document.createElement("a");he.href=G,he.setAttribute("download",""),he.setAttribute("target","_blank"),document.body.appendChild(he),he.click(),document.body.removeChild(he)}).catch(G=>{console.error("Error when downloading file:",G)})}}return R.\u0275fac=function(_){return new(_||R)(m.LFG(ne.M),m.LFG(Rt.ST),m.LFG(At.Q1),m.LFG(qt.n),m.LFG(Ke.v))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})(),St=(()=>{class R{constructor(_,I){this.firestore=_,this.userDataService=I,this.comments=[],this.collection=this.firestore.collection("Posts")}getComments(_){this.listenToDocumentValueChanges("Posts",_,"PostComments").subscribe(et=>{this.comments.length===et.length&&this.comments.every(($t,an)=>$t.comment===et[an].comment)||(this.comments=et)})}listenToDocumentValueChanges(_,I,G){return this.firestore.collection(_).doc(I).collection(G,et=>et.orderBy("timestamp","desc")).valueChanges()}sendComment(_,I){const G=this.firestore.createId();this.collection.doc(I).collection("PostComments").doc(G).set({commentId:G,comment:_,creatorId:this.userDataService.userInfo.userId,creatorName:this.userDataService.userInfo.publicName,timestamp:new Date})}updateComment(_,I,G){this.collection.doc(I).collection("PostComments").doc(_.commentId).update({comment:G})}deleteComment(_,I){this.collection.doc(I).collection("PostComments").doc(_.commentId).delete()}isCommentCreator(_){return _.creatorId===this.userDataService.userInfo.userId}getUserInfoById(_){return this.firestore.collection("Users").doc(_).valueChanges()}}return R.\u0275fac=function(_){return new(_||R)(m.LFG(Rt.ST),m.LFG(ne.M))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})();var mt=E(2659);function jt(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"div",5),m.NdJ("click",function(){m.CHM(_);const G=m.oxw();return m.KtG(G.goToFriendPageClick())}),m._UZ(1,"img",6),m.TgZ(2,"div",7),m._uU(3),m.qZA()()}if(2&R){const _=m.oxw();m.xp6(1),m.s9C("src",_.userImageUrl,m.LSH),m.xp6(2),m.Oqu(_.userName)}}function Tt(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"div",8),m.NdJ("click",function(){m.CHM(_);const G=m.oxw();return m.KtG(G.goToFriendPageClick())}),m.TgZ(1,"div",7),m._uU(2),m.qZA(),m._UZ(3,"img",6),m.qZA()}if(2&R){const _=m.oxw();m.xp6(2),m.Oqu(_.userName),m.xp6(1),m.s9C("src",_.userImageUrl,m.LSH)}}function cn(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"button",11),m.NdJ("click",function(){m.CHM(_);const G=m.oxw(2);return m.KtG(G.chaneCommentClick())}),m._uU(1," Change "),m.qZA()}}function Xt(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"button",11),m.NdJ("click",function(){m.CHM(_);const G=m.oxw(2);return m.KtG(G.responseCommentClick())}),m._uU(1," Response "),m.qZA()}}function bn(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"button",12),m.NdJ("click",function(){m.CHM(_);const G=m.oxw(2);return m.KtG(G.deleteCommentClick())}),m._uU(1," Delete "),m.qZA()}}function Zn(R,y){if(1&R&&(m.YNc(0,cn,2,0,"button",9),m.YNc(1,Xt,2,0,"button",9),m.YNc(2,bn,2,0,"button",10)),2&R){const _=m.oxw();m.Q6J("ngIf",_.isCommentCreator()),m.xp6(1),m.Q6J("ngIf",!_.isCommentCreator()),m.xp6(1),m.Q6J("ngIf",_.isCommentCreator())}}const pi=function(R){return{comment:!0,"creator-comment":R}};let Gn=(()=>{class R{constructor(_,I,G){this.replyService=_,this.userPageService=I,this.dialog=G,this.chaneComment=new m.vpe,this.responseComment=new m.vpe,this.userName="",this.userImageUrl=""}ngOnInit(){this.replyService.getUserInfoById(this.commentData.creatorId).subscribe(_=>{this.userName=_?.publicName||"",this.userImageUrl=_?.imageUrl||""})}goToFriendPageClick(){this.userPageService.goToFriendPage(this.commentData.creatorId),this.dialog.closeAll()}isCommentCreator(){return this.replyService.isCommentCreator(this.commentData)}chaneCommentClick(){this.chaneComment.emit(this.commentData)}deleteCommentClick(){this.replyService.deleteComment(this.commentData,this.postId)}responseCommentClick(){this.responseComment.emit(this.userName)}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(St),m.Y36(Ke.v),m.Y36(de.uw))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-comment"]],inputs:{commentData:"commentData",postId:"postId"},outputs:{chaneComment:"chaneComment",responseComment:"responseComment"},decls:8,vars:7,consts:[["class","comment-header",3,"click",4,"ngIf"],["class","comment-header comment-header-creator",3,"click",4,"ngIf"],[3,"ngClass","matMenuTriggerFor"],["menu","matMenu"],["matMenuContent",""],[1,"comment-header",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment-name"],[1,"comment-header","comment-header-creator",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","delete","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(_,I){if(1&_&&(m.TgZ(0,"div"),m.YNc(1,jt,4,2,"div",0),m.YNc(2,Tt,4,2,"div",1),m.TgZ(3,"div",2),m._uU(4),m.qZA(),m.TgZ(5,"mat-menu",null,3),m.YNc(7,Zn,3,3,"ng-template",4),m.qZA()()),2&_){const G=m.MAs(6);m.xp6(1),m.Q6J("ngIf",!I.isCommentCreator()),m.xp6(1),m.Q6J("ngIf",I.isCommentCreator()),m.xp6(1),m.Q6J("ngClass",m.VKq(5,pi,I.isCommentCreator()))("matMenuTriggerFor",G),m.xp6(1),m.hij(" ",I.commentData.comment," ")}},dependencies:[me.mk,me.O5,mt.VK,mt.OP,mt.KA,mt.p6],styles:[".comment[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;word-wrap:break-word;border-radius:1em;background-color:#dcdcdc;padding:1em}.comment-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;cursor:pointer}.comment-header-creator[_ngcontent-%COMP%]{justify-content:flex-end}.comment-header[_ngcontent-%COMP%]:hover{color:#f44336}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:0 10px;width:30px;height:30px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}.mat-mdc-select-placeholder[_ngcontent-%COMP%]{color:#fff}.mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none!important}"]}),R})();const Bt=["commentInput"],ce=function(R){return{"comment-container":!0,"creator-comment-container":R}};function Ve(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"div",7)(1,"app-comment",8),m.NdJ("chaneComment",function(G){m.CHM(_);const he=m.oxw();return m.KtG(he.chaneComment(G))})("responseComment",function(G){m.CHM(_);const he=m.oxw();return m.KtG(he.responseComment(G))}),m.qZA()()}if(2&R){const _=y.$implicit,I=m.oxw();m.Q6J("ngClass",m.VKq(3,ce,I.isCommentCreator(_))),m.xp6(1),m.Q6J("postId",I.postId)("commentData",_)}}const ft=function(R){return{error:R}};let st=(()=>{class R{constructor(_,I,G){this.postId=_,this.userDataService=I,this.replyService=G,this.isChangeComment=!1,this.replyForm=new ae.cw({comment:new ae.NI("",[ae.kI.required])})}ngOnInit(){this.replyService.getComments(this.postId)}getPostComments(){return this.replyService.comments}onSendClick(){const _=this.replyForm.get("comment");_?.markAsTouched(),_&&!_.errors&&(this.isChangeComment?(this.replyService.updateComment(this.selectedComment,this.postId,_.value),this.isChangeComment=!1,_.reset()):(this.replyService.sendComment(_.value,this.postId),_.reset()))}checkComment(){return!(!this.replyForm.get("comment")?.invalid||!this.replyForm.get("comment")?.touched)}isCommentCreator(_){return this.replyService.isCommentCreator(_)}chaneComment(_){this.isChangeComment=!0,this.replyForm.get("comment")?.setValue(_.comment),this.commentInput.nativeElement.focus(),this.selectedComment=_}responseComment(_){this.replyForm.get("comment")?.setValue(`@${_}_`),this.commentInput.nativeElement.focus()}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(de.WI),m.Y36(ne.M),m.Y36(St))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-reply"]],viewQuery:function(_,I){if(1&_&&m.Gf(Bt,5),2&_){let G;m.iGM(G=m.CRH())&&(I.commentInput=G.first)}},features:[m._Bn([St])],decls:11,vars:5,consts:[[1,"comments"],[1,"reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"reply-action-bar",3,"formGroup","submit"],["type","submit","mat-flat-button","","color","primary"],["formControlName","comment","placeholder","Comment...",3,"ngClass"],["commentInput",""],[3,"ngClass"],[3,"postId","commentData","chaneComment","responseComment"]],template:function(_,I){1&_&&(m.TgZ(0,"mat-card",0)(1,"mat-card-header"),m._uU(2," Comments "),m.qZA(),m.TgZ(3,"mat-card-content",1),m.YNc(4,Ve,2,5,"div",2),m.qZA(),m.TgZ(5,"form",3),m.NdJ("submit",function(){return I.onSendClick()}),m.TgZ(6,"button",4)(7,"mat-icon"),m._uU(8,"send"),m.qZA()(),m._UZ(9,"input",5,6),m.qZA()()),2&_&&(m.xp6(4),m.Q6J("ngForOf",I.getPostComments()),m.xp6(1),m.Q6J("formGroup",I.replyForm),m.xp6(4),m.Q6J("ngClass",m.VKq(3,ft,I.checkComment())))},dependencies:[me.mk,me.sg,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Xe.lW,Ne.a8,Ne.dn,Ne.dk,Gt.Hw,Gn],styles:[".comments[_ngcontent-%COMP%]{padding:1em;height:100%;width:100%}.comments[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.reply-box[_ngcontent-%COMP%]{width:100%;height:350px;overflow:auto;min-width:500px;max-width:600px;padding:1em 1em 0;box-sizing:border-box;background-color:#eaeaea}.reply-action-bar[_ngcontent-%COMP%]{margin:1em 0 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;direction:rtl}.reply-action-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.reply-action-bar[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border-color:#f44336}.reply-action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:3em}.comment-container[_ngcontent-%COMP%]{display:flex}.creator-comment-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),R})();function Ze(R,y){if(1&R&&m._UZ(0,"img",9),2&R){const _=m.oxw();m.s9C("src",_.postData.imageUrl,m.LSH)}}function qe(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"mat-icon",5),m.NdJ("click",function(){m.CHM(_);const G=m.oxw();return m.KtG(G.downloadImageClick())}),m._uU(1," open_in_new "),m.qZA()}}function ke(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"mat-icon",5),m.NdJ("click",function(){m.CHM(_);const G=m.oxw();return m.KtG(G.deletePostClick())}),m._uU(1,"delete"),m.qZA()}}let Ut=(()=>{class R{constructor(_,I,G,he){this.dialog=_,this.userDataService=I,this.postService=G,this.mainUserPageService=he}ngOnInit(){this.postService.getCreatorInfo(this.postData),this.postService.getLikes(this.postData.postId)}getDate(){return this.postData.timestamp.toDate()}getCreatorName(){return this.postService.creatorName}getIsLiked(){return this.postService.isLiked}onReplyClick(){this.dialog.open(st,{data:this.postData.postId})}getLikes(){return this.postService.likes}onLikeClick(){this.postService.likeButton(this.postData.postId)}downloadImageClick(){this.postService.downloadFile(`Posts/${this.postData.postId}/image`)}checkDeleteButton(){return this.postData.creatorId===this.userDataService.userInfo.userId}deletePostClick(){this.dialog.open(_e.S,{data:{info:"Post deletion",message:"Do you really want to remove this post?",addButton:!0,nameButton:"Yes"}}).afterClosed().subscribe(I=>{I&&this.postService.deletePost(this.postData.postId)})}getUserImage(){return this.postService.creatorImage}goToFriendPageClick(){this.mainUserPageService.goToFriendPage(this.postData.creatorId)}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(de.uw),m.Y36(ne.M),m.Y36(Qe),m.Y36(Ke.v))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-post"]],inputs:{postData:"postData"},features:[m._Bn([Qe])],decls:21,vars:12,consts:[[1,"post"],[1,"creator-name",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment"],["class","image","mat-card-image","","alt","img",3,"src",4,"ngIf"],["color","warn",1,"action-item",3,"click"],[1,"likes"],[1,"likes-number"],["class","action-item","color","warn",3,"click",4,"ngIf"],["mat-card-image","","alt","img",1,"image",3,"src"]],template:function(_,I){1&_&&(m.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),m.NdJ("click",function(){return I.goToFriendPageClick()}),m._UZ(3,"img",2),m._uU(4),m.qZA(),m.TgZ(5,"mat-card-subtitle"),m._uU(6),m.ALo(7,"date"),m.qZA()(),m.TgZ(8,"mat-card-content",3),m._uU(9),m.qZA(),m.YNc(10,Ze,1,1,"img",4),m.TgZ(11,"mat-card-actions")(12,"mat-icon",5),m.NdJ("click",function(){return I.onReplyClick()}),m._uU(13," chat_bubble_outline "),m.qZA(),m.TgZ(14,"div",6)(15,"mat-icon",5),m.NdJ("click",function(){return I.onLikeClick()}),m._uU(16),m.qZA(),m.TgZ(17,"div",7),m._uU(18),m.qZA()(),m.YNc(19,qe,2,0,"mat-icon",8),m.YNc(20,ke,2,0,"mat-icon",8),m.qZA()()),2&_&&(m.xp6(3),m.s9C("src",I.getUserImage(),m.LSH),m.xp6(1),m.hij(" ",I.getCreatorName()," "),m.xp6(2),m.Oqu(m.xi3(7,9,I.getDate(),"MMM d, y, H:mm ")),m.xp6(3),m.hij(" ",I.postData.comment," "),m.xp6(1),m.Q6J("ngIf",I.postData.imageUrl),m.xp6(6),m.hij(" ",I.getIsLiked()?"favorite":"favorite_border","favorite_border "),m.xp6(2),m.Oqu(I.getLikes()),m.xp6(1),m.Q6J("ngIf",I.postData.imageUrl),m.xp6(1),m.Q6J("ngIf",I.checkDeleteButton()))},dependencies:[me.O5,Ne.a8,Ne.hq,Ne.dn,Ne.dk,Ne.G2,Ne.$j,Ne.n5,Gt.Hw,me.uU],styles:[".post[_ngcontent-%COMP%]{width:500px;margin-top:2em;background-color:#f1f1f1}.creator-name[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;display:flex;align-items:center}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin-right:10px;width:40px;height:40px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-name[_ngcontent-%COMP%]:hover{color:#f44336}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}.comment[_ngcontent-%COMP%]{padding:10px;margin:10px 10px 0;border-radius:1em;background-color:#c4c4c4}.image[_ngcontent-%COMP%]{margin:10px;height:auto}.likes[_ngcontent-%COMP%]{width:auto;display:flex;justify-content:center}.likes-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),R})();function on(R,y){1&R&&m._UZ(0,"app-post",4),2&R&&m.Q6J("postData",y.$implicit)}const Wt=[{path:"",component:vt},{path:"emailVerification",component:vn},{path:"userPage",loadChildren:()=>Promise.all([E.e(592),E.e(56)]).then(E.bind(E,56)).then(R=>R.MainUserPageModule)},{path:"friendPage",loadChildren:()=>Promise.all([E.e(592),E.e(991)]).then(E.bind(E,2991)).then(R=>R.FriendPageModule)},{path:"postFeed",component:(()=>{class R{constructor(_,I,G){this.dialog=_,this.postsDataService=I,this.storageService=G,this.limit=3,this.backgroundStorage=""}ngOnInit(){this.storageService.getDataFromStorage("Background/post-feed2.jpg").subscribe(I=>this.backgroundStorage=`url(${I})`),this.postsDataService.getCountOfDocuments(),this.postsDataService.getFirstPosts(),this.postsDataService.getScrollPosts()}getPosts(){return this.postsDataService.posts}onCreatePostClick(){this.dialog.open(rn)}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(de.uw),m.Y36(qt.n),m.Y36(ze.V))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-post-feed"]],decls:8,vars:3,consts:[[1,"news-line"],[1,"post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn",1,"post-button",3,"click"],[3,"postData"]],template:function(_,I){1&_&&(m.TgZ(0,"div",0)(1,"div",1),m.YNc(2,on,1,1,"app-post",2),m.qZA(),m.TgZ(3,"button",3),m.NdJ("click",function(){return I.onCreatePostClick()}),m.TgZ(4,"div"),m._uU(5,"Create post"),m.qZA(),m.TgZ(6,"mat-icon"),m._uU(7,"add"),m.qZA()()()),2&_&&(m.Udp("background-image",I.backgroundStorage),m.xp6(2),m.Q6J("ngForOf",I.getPosts()))},dependencies:[me.sg,Xe.cs,Gt.Hw,Ut],styles:[".news-line[_ngcontent-%COMP%]{display:flex;padding-top:5em;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}.post-button[_ngcontent-%COMP%]{width:10em;position:fixed;bottom:2em;right:2em}.post-feed[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}"]}),R})(),canActivate:[xe]},{path:"**",component:vt}];let On=(()=>{class R{}return R.\u0275fac=function(_){return new(_||R)},R.\u0275mod=m.oAB({type:R}),R.\u0275inj=m.cJS({providers:[xe],imports:[B.Bz.forRoot(Wt),B.Bz]}),R})();var Ie=E(1591);function Ht(R){return new m.vHH(3e3,!1)}function gi(R){switch(R.length){case 0:return new Ie.ZN;case 1:return R[0];default:return new Ie.ZE(R)}}function Cr(R,y,_=new Map,I=new Map){const G=[],he=[];let et=-1,at=null;if(y.forEach($t=>{const an=$t.get("offset"),Vn=an==et,ri=Vn&&at||new Map;$t.forEach((Vi,Fn)=>{let di=Fn,Oi=Vi;if("offset"!==Fn)switch(di=R.normalizePropertyName(di,G),Oi){case Ie.k1:Oi=_.get(Fn);break;case Ie.l3:Oi=I.get(Fn);break;default:Oi=R.normalizeStyleValue(Fn,di,Oi,G)}ri.set(di,Oi)}),Vn||he.push(ri),at=ri,et=an}),G.length)throw function en(R){return new m.vHH(3502,!1)}();return he}function Kr(R,y,_,I){switch(y){case"start":R.onStart(()=>I(_&&po(_,"start",R)));break;case"done":R.onDone(()=>I(_&&po(_,"done",R)));break;case"destroy":R.onDestroy(()=>I(_&&po(_,"destroy",R)))}}function po(R,y,_){const he=Zo(R.element,R.triggerName,R.fromState,R.toState,y||R.phaseName,_.totalTime??R.totalTime,!!_.disabled),et=R._data;return null!=et&&(he._data=et),he}function Zo(R,y,_,I,G="",he=0,et){return{element:R,triggerName:y,fromState:_,toState:I,phaseName:G,totalTime:he,disabled:!!et}}function $i(R,y,_){let I=R.get(y);return I||R.set(y,I=_),I}function to(R){const y=R.indexOf(":");return[R.substring(1,y),R.slice(y+1)]}const Gr=(()=>typeof document>"u"?null:document.documentElement)();function Zr(R){const y=R.parentNode||R.host||null;return y===Gr?null:y}let Di=null,Yo=!1;function Io(R,y){for(;y;){if(y===R)return!0;y=Zr(y)}return!1}function no(R,y,_){if(_)return Array.from(R.querySelectorAll(y));const I=R.querySelector(y);return I?[I]:[]}let Ms=(()=>{class R{validateStyleProperty(_){return function yo(R){Di||(Di=function hr(){return typeof document<"u"?document.body:null}()||{},Yo=!!Di.style&&"WebkitAppearance"in Di.style);let y=!0;return Di.style&&!function vo(R){return"ebkit"==R.substring(1,6)}(R)&&(y=R in Di.style,!y&&Yo&&(y="Webkit"+R.charAt(0).toUpperCase()+R.slice(1)in Di.style)),y}(_)}matchesElement(_,I){return!1}containsElement(_,I){return Io(_,I)}getParentElement(_){return Zr(_)}query(_,I,G){return no(_,I,G)}computeStyle(_,I,G){return G||""}animate(_,I,G,he,et,at=[],$t){return new Ie.ZN(G,he)}}return R.\u0275fac=function(_){return new(_||R)},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})(),qo=(()=>{class R{}return R.NOOP=new Ms,R})();const os=1e3,Qo="ng-enter",Xo="ng-leave",ci="ng-trigger",gr=".ng-trigger",Pi="ng-animating",Yr=".ng-animating";function cr(R){if("number"==typeof R)return R;const y=R.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:$o(parseFloat(y[1]),y[2])}function $o(R,y){return"s"===y?R*os:R}function pt(R,y,_){return R.hasOwnProperty("duration")?R:function lt(R,y,_){let G,he=0,et="";if("string"==typeof R){const at=R.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===at)return y.push(Ht()),{duration:0,delay:0,easing:""};G=$o(parseFloat(at[1]),at[2]);const $t=at[3];null!=$t&&(he=$o(parseFloat($t),at[4]));const an=at[5];an&&(et=an)}else G=R;if(!_){let at=!1,$t=y.length;G<0&&(y.push(function Sn(){return new m.vHH(3100,!1)}()),at=!0),he<0&&(y.push(function _i(){return new m.vHH(3101,!1)}()),at=!0),at&&y.splice($t,0,Ht())}return{duration:G,delay:he,easing:et}}(R,y,_)}function Ot(R,y={}){return Object.keys(R).forEach(_=>{y[_]=R[_]}),y}function dn(R){const y=new Map;return Object.keys(R).forEach(_=>{y.set(_,R[_])}),y}function An(R,y=new Map,_){if(_)for(let[I,G]of _)y.set(I,G);for(let[I,G]of R)y.set(I,G);return y}function Xn(R,y,_){y.forEach((I,G)=>{const he=No(G);_&&!_.has(G)&&_.set(G,R.style[he]),R.style[he]=I})}function hi(R,y){y.forEach((_,I)=>{const G=No(I);R.style[G]=""})}function _r(R){return Array.isArray(R)?1==R.length?R[0]:(0,Ie.vP)(R):R}const rr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gi(R){let y=[];if("string"==typeof R){let _;for(;_=rr.exec(R);)y.push(_[1]);rr.lastIndex=0}return y}function Vr(R,y,_){const I=R.toString(),G=I.replace(rr,(he,et)=>{let at=y[et];return null==at&&(_.push(function yi(R){return new m.vHH(3003,!1)}()),at=""),at.toString()});return G==I?R:G}function ro(R){const y=[];let _=R.next();for(;!_.done;)y.push(_.value),_=R.next();return y}const ai=/-+([a-z0-9])/g;function No(R){return R.replace(ai,(...y)=>y[1].toUpperCase())}function Ir(R,y,_){switch(y.type){case 7:return R.visitTrigger(y,_);case 0:return R.visitState(y,_);case 1:return R.visitTransition(y,_);case 2:return R.visitSequence(y,_);case 3:return R.visitGroup(y,_);case 4:return R.visitAnimate(y,_);case 5:return R.visitKeyframes(y,_);case 6:return R.visitStyle(y,_);case 8:return R.visitReference(y,_);case 9:return R.visitAnimateChild(y,_);case 10:return R.visitAnimateRef(y,_);case 11:return R.visitQuery(y,_);case 12:return R.visitStagger(y,_);default:throw function Zt(R){return new m.vHH(3004,!1)}()}}function ms(R,y){return window.getComputedStyle(R)[y]}const uo="*";function Bi(R,y){const _=[];return"string"==typeof R?R.split(/\s*,\s*/).forEach(I=>function Yi(R,y,_){if(":"==R[0]){const $t=function So(R,y){switch(R){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,I)=>parseFloat(I)>parseFloat(_);case":decrement":return(_,I)=>parseFloat(I)<parseFloat(_);default:return y.push(function ve(R){return new m.vHH(3016,!1)}()),"* => *"}}(R,_);if("function"==typeof $t)return void y.push($t);R=$t}const I=R.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==I||I.length<4)return _.push(function re(R){return new m.vHH(3015,!1)}()),y;const G=I[1],he=I[2],et=I[3];y.push(Jo(G,et));"<"==he[0]&&!(G==uo&&et==uo)&&y.push(Jo(et,G))}(I,_,y)):_.push(R),_}const wo=new Set(["true","1"]),qr=new Set(["false","0"]);function Jo(R,y){const _=wo.has(R)||qr.has(R),I=wo.has(y)||qr.has(y);return(G,he)=>{let et=R==uo||R==G,at=y==uo||y==he;return!et&&_&&"boolean"==typeof G&&(et=G?wo.has(R):qr.has(R)),!at&&I&&"boolean"==typeof he&&(at=he?wo.has(y):qr.has(y)),et&&at}}const ks=new RegExp("s*:selfs*,?","g");function Pr(R,y,_,I){return new qi(R).build(y,_,I)}class qi{constructor(y){this._driver=y}build(y,_,I){const G=new jr(_);return this._resetContextStyleTimingState(G),Ir(this,_r(y),G)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,_){let I=_.queryCount=0,G=_.depCount=0;const he=[],et=[];return"@"==y.name.charAt(0)&&_.errors.push(function rt(){return new m.vHH(3006,!1)}()),y.definitions.forEach(at=>{if(this._resetContextStyleTimingState(_),0==at.type){const $t=at,an=$t.name;an.toString().split(/\s*,\s*/).forEach(Vn=>{$t.name=Vn,he.push(this.visitState($t,_))}),$t.name=an}else if(1==at.type){const $t=this.visitTransition(at,_);I+=$t.queryCount,G+=$t.depCount,et.push($t)}else _.errors.push(function Be(){return new m.vHH(3007,!1)}())}),{type:7,name:y.name,states:he,transitions:et,queryCount:I,depCount:G,options:null}}visitState(y,_){const I=this.visitStyle(y.styles,_),G=y.options&&y.options.params||null;if(I.containsDynamicStyles){const he=new Set,et=G||{};I.styles.forEach(at=>{at instanceof Map&&at.forEach($t=>{Gi($t).forEach(an=>{et.hasOwnProperty(an)||he.add(an)})})}),he.size&&(ro(he.values()),_.errors.push(function Oe(R,y){return new m.vHH(3008,!1)}()))}return{type:0,name:y.name,style:I,options:G?{params:G}:null}}visitTransition(y,_){_.queryCount=0,_.depCount=0;const I=Ir(this,_r(y.animation),_);return{type:1,matchers:Bi(y.expr,_.errors),animation:I,queryCount:_.queryCount,depCount:_.depCount,options:Qr(y.options)}}visitSequence(y,_){return{type:2,steps:y.steps.map(I=>Ir(this,I,_)),options:Qr(y.options)}}visitGroup(y,_){const I=_.currentTime;let G=0;const he=y.steps.map(et=>{_.currentTime=I;const at=Ir(this,et,_);return G=Math.max(G,_.currentTime),at});return _.currentTime=G,{type:3,steps:he,options:Qr(y.options)}}visitAnimate(y,_){const I=function er(R,y){if(R.hasOwnProperty("duration"))return R;if("number"==typeof R)return To(pt(R,y).duration,0,"");const _=R;if(_.split(/\s+/).some(he=>"{"==he.charAt(0)&&"{"==he.charAt(1))){const he=To(0,0,"");return he.dynamic=!0,he.strValue=_,he}const G=pt(_,y);return To(G.duration,G.delay,G.easing)}(y.timings,_.errors);_.currentAnimateTimings=I;let G,he=y.styles?y.styles:(0,Ie.oB)({});if(5==he.type)G=this.visitKeyframes(he,_);else{let et=y.styles,at=!1;if(!et){at=!0;const an={};I.easing&&(an.easing=I.easing),et=(0,Ie.oB)(an)}_.currentTime+=I.duration+I.delay;const $t=this.visitStyle(et,_);$t.isEmptyStep=at,G=$t}return _.currentAnimateTimings=null,{type:4,timings:I,style:G,options:null}}visitStyle(y,_){const I=this._makeStyleAst(y,_);return this._validateStyleAst(I,_),I}_makeStyleAst(y,_){const I=[],G=Array.isArray(y.styles)?y.styles:[y.styles];for(let at of G)"string"==typeof at?at===Ie.l3?I.push(at):_.errors.push(new m.vHH(3002,!1)):I.push(dn(at));let he=!1,et=null;return I.forEach(at=>{if(at instanceof Map&&(at.has("easing")&&(et=at.get("easing"),at.delete("easing")),!he))for(let $t of at.values())if($t.toString().indexOf("{{")>=0){he=!0;break}}),{type:6,styles:I,easing:et,offset:y.offset,containsDynamicStyles:he,options:null}}_validateStyleAst(y,_){const I=_.currentAnimateTimings;let G=_.currentTime,he=_.currentTime;I&&he>0&&(he-=I.duration+I.delay),y.styles.forEach(et=>{"string"!=typeof et&&et.forEach((at,$t)=>{const an=_.collectedStyles.get(_.currentQuerySelector),Vn=an.get($t);let ri=!0;Vn&&(he!=G&&he>=Vn.startTime&&G<=Vn.endTime&&(_.errors.push(function Vt(R,y,_,I,G){return new m.vHH(3010,!1)}()),ri=!1),he=Vn.startTime),ri&&an.set($t,{startTime:he,endTime:G}),_.options&&function Dr(R,y,_){const I=y.params||{},G=Gi(R);G.length&&G.forEach(he=>{I.hasOwnProperty(he)||_.push(function Ri(R){return new m.vHH(3001,!1)}())})}(at,_.options,_.errors)})})}visitKeyframes(y,_){const I={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Me(){return new m.vHH(3011,!1)}()),I;let he=0;const et=[];let at=!1,$t=!1,an=0;const Vn=y.steps.map(Wn=>{const Eo=this._makeStyleAst(Wn,_);let Ii=null!=Eo.offset?Eo.offset:function es(R){if("string"==typeof R)return null;let y=null;if(Array.isArray(R))R.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const I=_;y=parseFloat(I.get("offset")),I.delete("offset")}});else if(R instanceof Map&&R.has("offset")){const _=R;y=parseFloat(_.get("offset")),_.delete("offset")}return y}(Eo.styles),Ar=0;return null!=Ii&&(he++,Ar=Eo.offset=Ii),$t=$t||Ar<0||Ar>1,at=at||Ar<an,an=Ar,et.push(Ar),Eo});$t&&_.errors.push(function oe(){return new m.vHH(3012,!1)}()),at&&_.errors.push(function H(){return new m.vHH(3200,!1)}());const ri=y.steps.length;let Vi=0;he>0&&he<ri?_.errors.push(function V(){return new m.vHH(3202,!1)}()):0==he&&(Vi=1/(ri-1));const Fn=ri-1,di=_.currentTime,Oi=_.currentAnimateTimings,Fi=Oi.duration;return Vn.forEach((Wn,Eo)=>{const Ii=Vi>0?Eo==Fn?1:Vi*Eo:et[Eo],Ar=Ii*Fi;_.currentTime=di+Oi.delay+Ar,Oi.duration=Ar,this._validateStyleAst(Wn,_),Wn.offset=Ii,I.styles.push(Wn)}),I}visitReference(y,_){return{type:8,animation:Ir(this,_r(y.animation),_),options:Qr(y.options)}}visitAnimateChild(y,_){return _.depCount++,{type:9,options:Qr(y.options)}}visitAnimateRef(y,_){return{type:10,animation:this.visitReference(y.animation,_),options:Qr(y.options)}}visitQuery(y,_){const I=_.currentQuerySelector,G=y.options||{};_.queryCount++,_.currentQuery=y;const[he,et]=function Fr(R){const y=!!R.split(/\s*,\s*/).find(_=>":self"==_);return y&&(R=R.replace(ks,"")),R=R.replace(/@\*/g,gr).replace(/@\w+/g,_=>gr+"-"+_.slice(1)).replace(/:animating/g,Yr),[R,y]}(y.selector);_.currentQuerySelector=I.length?I+" "+he:he,$i(_.collectedStyles,_.currentQuerySelector,new Map);const at=Ir(this,_r(y.animation),_);return _.currentQuery=null,_.currentQuerySelector=I,{type:11,selector:he,limit:G.limit||0,optional:!!G.optional,includeSelf:et,animation:at,originalSelector:y.selector,options:Qr(y.options)}}visitStagger(y,_){_.currentQuery||_.errors.push(function z(){return new m.vHH(3013,!1)}());const I="full"===y.timings?{duration:0,delay:0,easing:"full"}:pt(y.timings,_.errors,!0);return{type:12,animation:Ir(this,_r(y.animation),_),timings:I,options:null}}}class jr{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qr(R){return R?(R=Ot(R)).params&&(R.params=function go(R){return R?Ot(R):null}(R.params)):R={},R}function To(R,y,_){return{duration:R,delay:y,easing:_}}function js(R,y,_,I,G,he,et=null,at=!1){return{type:1,element:R,keyframes:y,preStyleProps:_,postStyleProps:I,duration:G,delay:he,totalTime:G+he,easing:et,subTimeline:at}}class We{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,_){let I=this._map.get(y);I||this._map.set(y,I=[]),I.push(..._)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const ot=new RegExp(":enter","g"),En=new RegExp(":leave","g");function bi(R,y,_,I,G,he=new Map,et=new Map,at,$t,an=[]){return(new vr).buildKeyframes(R,y,_,I,G,he,et,at,$t,an)}class vr{buildKeyframes(y,_,I,G,he,et,at,$t,an,Vn=[]){an=an||new We;const ri=new _o(y,_,an,G,he,Vn,[]);ri.options=$t;const Vi=$t.delay?cr($t.delay):0;ri.currentTimeline.delayNextStep(Vi),ri.currentTimeline.setStyles([et],null,ri.errors,$t),Ir(this,I,ri);const Fn=ri.timelines.filter(di=>di.containsAnimation());if(Fn.length&&at.size){let di;for(let Oi=Fn.length-1;Oi>=0;Oi--){const Fi=Fn[Oi];if(Fi.element===_){di=Fi;break}}di&&!di.allowOnlyTimelineStyles()&&di.setStyles([at],null,ri.errors,$t)}return Fn.length?Fn.map(di=>di.buildKeyframes()):[js(_,[],[],[],0,Vi,"",!1)]}visitTrigger(y,_){}visitState(y,_){}visitTransition(y,_){}visitAnimateChild(y,_){const I=_.subInstructions.get(_.element);if(I){const G=_.createSubContext(y.options),he=_.currentTimeline.currentTime,et=this._visitSubInstructions(I,G,G.options);he!=et&&_.transformIntoNewTimeline(et)}_.previousNode=y}visitAnimateRef(y,_){const I=_.createSubContext(y.options);I.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],_,I),this.visitReference(y.animation,I),_.transformIntoNewTimeline(I.currentTimeline.currentTime),_.previousNode=y}_applyAnimationRefDelays(y,_,I){for(const G of y){const he=G?.delay;if(he){const et="number"==typeof he?he:cr(Vr(he,G?.params??{},_.errors));I.delayNextStep(et)}}}_visitSubInstructions(y,_,I){let he=_.currentTimeline.currentTime;const et=null!=I.duration?cr(I.duration):null,at=null!=I.delay?cr(I.delay):null;return 0!==et&&y.forEach($t=>{const an=_.appendInstructionToTimeline($t,et,at);he=Math.max(he,an.duration+an.delay)}),he}visitReference(y,_){_.updateOptions(y.options,!0),Ir(this,y.animation,_),_.previousNode=y}visitSequence(y,_){const I=_.subContextCount;let G=_;const he=y.options;if(he&&(he.params||he.delay)&&(G=_.createSubContext(he),G.transformIntoNewTimeline(),null!=he.delay)){6==G.previousNode.type&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=yr);const et=cr(he.delay);G.delayNextStep(et)}y.steps.length&&(y.steps.forEach(et=>Ir(this,et,G)),G.currentTimeline.applyStylesToKeyframe(),G.subContextCount>I&&G.transformIntoNewTimeline()),_.previousNode=y}visitGroup(y,_){const I=[];let G=_.currentTimeline.currentTime;const he=y.options&&y.options.delay?cr(y.options.delay):0;y.steps.forEach(et=>{const at=_.createSubContext(y.options);he&&at.delayNextStep(he),Ir(this,et,at),G=Math.max(G,at.currentTimeline.currentTime),I.push(at.currentTimeline)}),I.forEach(et=>_.currentTimeline.mergeTimelineCollectedStyles(et)),_.transformIntoNewTimeline(G),_.previousNode=y}_visitTiming(y,_){if(y.dynamic){const I=y.strValue;return pt(_.params?Vr(I,_.params,_.errors):I,_.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,_){const I=_.currentAnimateTimings=this._visitTiming(y.timings,_),G=_.currentTimeline;I.delay&&(_.incrementTime(I.delay),G.snapshotCurrentStyles());const he=y.style;5==he.type?this.visitKeyframes(he,_):(_.incrementTime(I.duration),this.visitStyle(he,_),G.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=y}visitStyle(y,_){const I=_.currentTimeline,G=_.currentAnimateTimings;!G&&I.hasCurrentStyleProperties()&&I.forwardFrame();const he=G&&G.easing||y.easing;y.isEmptyStep?I.applyEmptyStep(he):I.setStyles(y.styles,he,_.errors,_.options),_.previousNode=y}visitKeyframes(y,_){const I=_.currentAnimateTimings,G=_.currentTimeline.duration,he=I.duration,at=_.createSubContext().currentTimeline;at.easing=I.easing,y.styles.forEach($t=>{at.forwardTime(($t.offset||0)*he),at.setStyles($t.styles,$t.easing,_.errors,_.options),at.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(at),_.transformIntoNewTimeline(G+he),_.previousNode=y}visitQuery(y,_){const I=_.currentTimeline.currentTime,G=y.options||{},he=G.delay?cr(G.delay):0;he&&(6===_.previousNode.type||0==I&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=yr);let et=I;const at=_.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!G.optional,_.errors);_.currentQueryTotal=at.length;let $t=null;at.forEach((an,Vn)=>{_.currentQueryIndex=Vn;const ri=_.createSubContext(y.options,an);he&&ri.delayNextStep(he),an===_.element&&($t=ri.currentTimeline),Ir(this,y.animation,ri),ri.currentTimeline.applyStylesToKeyframe(),et=Math.max(et,ri.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(et),$t&&(_.currentTimeline.mergeTimelineCollectedStyles($t),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=y}visitStagger(y,_){const I=_.parentContext,G=_.currentTimeline,he=y.timings,et=Math.abs(he.duration),at=et*(_.currentQueryTotal-1);let $t=et*_.currentQueryIndex;switch(he.duration<0?"reverse":he.easing){case"reverse":$t=at-$t;break;case"full":$t=I.currentStaggerTime}const Vn=_.currentTimeline;$t&&Vn.delayNextStep($t);const ri=Vn.currentTime;Ir(this,y.animation,_),_.previousNode=y,I.currentStaggerTime=G.currentTime-ri+(G.startTime-I.currentTimeline.startTime)}}const yr={};class _o{constructor(y,_,I,G,he,et,at,$t){this._driver=y,this.element=_,this.subInstructions=I,this._enterClassName=G,this._leaveClassName=he,this.errors=et,this.timelines=at,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=$t||new br(this._driver,_,0),at.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,_){if(!y)return;const I=y;let G=this.options;null!=I.duration&&(G.duration=cr(I.duration)),null!=I.delay&&(G.delay=cr(I.delay));const he=I.params;if(he){let et=G.params;et||(et=this.options.params={}),Object.keys(he).forEach(at=>{(!_||!et.hasOwnProperty(at))&&(et[at]=Vr(he[at],et,this.errors))})}}_copyOptions(){const y={};if(this.options){const _=this.options.params;if(_){const I=y.params={};Object.keys(_).forEach(G=>{I[G]=_[G]})}}return y}createSubContext(y=null,_,I){const G=_||this.element,he=new _o(this._driver,G,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(G,I||0));return he.previousNode=this.previousNode,he.currentAnimateTimings=this.currentAnimateTimings,he.options=this._copyOptions(),he.updateOptions(y),he.currentQueryIndex=this.currentQueryIndex,he.currentQueryTotal=this.currentQueryTotal,he.parentContext=this,this.subContextCount++,he}transformIntoNewTimeline(y){return this.previousNode=yr,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,_,I){const G={duration:_??y.duration,delay:this.currentTimeline.currentTime+(I??0)+y.delay,easing:""},he=new ts(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,G,y.stretchStartingKeyframe);return this.timelines.push(he),G}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,_,I,G,he,et){let at=[];if(G&&at.push(this.element),y.length>0){y=(y=y.replace(ot,"."+this._enterClassName)).replace(En,"."+this._leaveClassName);let an=this._driver.query(this.element,y,1!=I);0!==I&&(an=I<0?an.slice(an.length+I,an.length):an.slice(0,I)),at.push(...an)}return!he&&0==at.length&&et.push(function le(R){return new m.vHH(3014,!1)}()),at}}class br{constructor(y,_,I,G){this._driver=y,this.element=_,this.startTime=I,this._elementTimelineStylesLookup=G,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+y),_&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,_){return this.applyStylesToKeyframe(),new br(this._driver,y,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,_){this._localTimelineStyles.set(y,_),this._globalTimelineStyles.set(y,_),this._styleSummary.set(y,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[_,I]of this._globalTimelineStyles)this._backFill.set(_,I||Ie.l3),this._currentKeyframe.set(_,Ie.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,_,I,G){_&&this._previousKeyframe.set("easing",_);const he=G&&G.params||{},et=function W(R,y){const _=new Map;let I;return R.forEach(G=>{if("*"===G){I=I||y.keys();for(let he of I)_.set(he,Ie.l3)}else An(G,_)}),_}(y,this._globalTimelineStyles);for(let[at,$t]of et){const an=Vr($t,he,I);this._pendingStyles.set(at,an),this._localTimelineStyles.has(at)||this._backFill.set(at,this._globalTimelineStyles.get(at)??Ie.l3),this._updateStyle(at,an)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,_)=>{this._currentKeyframe.set(_,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,y)}))}snapshotCurrentStyles(){for(let[y,_]of this._localTimelineStyles)this._pendingStyles.set(y,_),this._updateStyle(y,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let _ in this._currentKeyframe)y.push(_);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((_,I)=>{const G=this._styleSummary.get(I);(!G||_.time>G.time)&&this._updateStyle(I,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,_=new Set,I=1===this._keyframes.size&&0===this.duration;let G=[];this._keyframes.forEach((at,$t)=>{const an=An(at,new Map,this._backFill);an.forEach((Vn,ri)=>{Vn===Ie.k1?y.add(ri):Vn===Ie.l3&&_.add(ri)}),I||an.set("offset",$t/this.duration),G.push(an)});const he=y.size?ro(y.values()):[],et=_.size?ro(_.values()):[];if(I){const at=G[0],$t=new Map(at);at.set("offset",0),$t.set("offset",1),G=[at,$t]}return js(this.element,G,he,et,this.duration,this.startTime,this.easing,!1)}}class ts extends br{constructor(y,_,I,G,he,et,at=!1){super(y,_,et.delay),this.keyframes=I,this.preStyleProps=G,this.postStyleProps=he,this._stretchStartingKeyframe=at,this.timings={duration:et.duration,delay:et.delay,easing:et.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:_,duration:I,easing:G}=this.timings;if(this._stretchStartingKeyframe&&_){const he=[],et=I+_,at=_/et,$t=An(y[0]);$t.set("offset",0),he.push($t);const an=An(y[0]);an.set("offset",xs(at)),he.push(an);const Vn=y.length-1;for(let ri=1;ri<=Vn;ri++){let Vi=An(y[ri]);const Fn=Vi.get("offset");Vi.set("offset",xs((_+Fn*I)/et)),he.push(Vi)}I=et,_=0,G="",y=he}return js(this.element,y,this.preStyleProps,this.postStyleProps,I,_,G,!0)}}function xs(R,y=3){const _=Math.pow(10,y-1);return Math.round(R*_)/_}class v{}const ee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ce extends v{normalizePropertyName(y,_){return No(y)}normalizeStyleValue(y,_,I,G){let he="";const et=I.toString().trim();if(ee.has(_)&&0!==I&&"0"!==I)if("number"==typeof I)he="px";else{const at=I.match(/^[+-]?[\d\.]+([a-z]*)$/);at&&0==at[1].length&&G.push(function Je(R,y){return new m.vHH(3005,!1)}())}return et+he}}function ct(R,y,_,I,G,he,et,at,$t,an,Vn,ri,Vi){return{type:0,element:R,triggerName:y,isRemovalTransition:G,fromState:_,fromStyles:he,toState:I,toStyles:et,timelines:at,queriedElements:$t,preStyleProps:an,postStyleProps:Vn,totalTime:ri,errors:Vi}}const Pt={};class Dn{constructor(y,_,I){this._triggerName=y,this.ast=_,this._stateStyles=I}match(y,_,I,G){return function jn(R,y,_,I,G){return R.some(he=>he(y,_,I,G))}(this.ast.matchers,y,_,I,G)}buildStyles(y,_,I){let G=this._stateStyles.get("*");return void 0!==y&&(G=this._stateStyles.get(y?.toString())||G),G?G.buildStyles(_,I):new Map}build(y,_,I,G,he,et,at,$t,an,Vn){const ri=[],Vi=this.ast.options&&this.ast.options.params||Pt,di=this.buildStyles(I,at&&at.params||Pt,ri),Oi=$t&&$t.params||Pt,Fi=this.buildStyles(G,Oi,ri),Wn=new Set,Eo=new Map,Ii=new Map,Ar="void"===G,fr={params:Ei(Oi,Vi),delay:this.ast.options?.delay},x=Vn?[]:bi(y,_,this.ast.animation,he,et,di,Fi,fr,an,ri);let k=0;if(x.forEach(N=>{k=Math.max(N.duration+N.delay,k)}),ri.length)return ct(_,this._triggerName,I,G,Ar,di,Fi,[],[],Eo,Ii,k,ri);x.forEach(N=>{const X=N.element,ye=$i(Eo,X,new Set);N.preStyleProps.forEach(Dt=>ye.add(Dt));const Te=$i(Ii,X,new Set);N.postStyleProps.forEach(Dt=>Te.add(Dt)),X!==_&&Wn.add(X)});const w=ro(Wn.values());return ct(_,this._triggerName,I,G,Ar,di,Fi,x,w,Eo,Ii,k)}}function Ei(R,y){const _=Ot(y);for(const I in R)R.hasOwnProperty(I)&&null!=R[I]&&(_[I]=R[I]);return _}class Ui{constructor(y,_,I){this.styles=y,this.defaultParams=_,this.normalizer=I}buildStyles(y,_){const I=new Map,G=Ot(this.defaultParams);return Object.keys(y).forEach(he=>{const et=y[he];null!==et&&(G[he]=et)}),this.styles.styles.forEach(he=>{"string"!=typeof he&&he.forEach((et,at)=>{et&&(et=Vr(et,G,_));const $t=this.normalizer.normalizePropertyName(at,_);et=this.normalizer.normalizeStyleValue(at,$t,et,_),I.set(at,et)})}),I}}class Br{constructor(y,_,I){this.name=y,this.ast=_,this._normalizer=I,this.transitionFactories=[],this.states=new Map,_.states.forEach(G=>{this.states.set(G.name,new Ui(G.style,G.options&&G.options.params||{},I))}),ji(this.states,"true","1"),ji(this.states,"false","0"),_.transitions.forEach(G=>{this.transitionFactories.push(new Dn(y,G,this.states))}),this.fallbackTransition=function wr(R,y,_){return new Dn(R,{type:1,animation:{type:2,steps:[],options:null},matchers:[(et,at)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,_,I,G){return this.transitionFactories.find(et=>et.match(y,_,I,G))||null}matchStyles(y,_,I){return this.fallbackTransition.buildStyles(y,_,I)}}function ji(R,y,_){R.has(y)?R.has(_)||R.set(_,R.get(y)):R.has(_)&&R.set(y,R.get(_))}const xr=new We;class Ti{constructor(y,_,I){this.bodyNode=y,this._driver=_,this._normalizer=I,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,_){const I=[],he=Pr(this._driver,_,I,[]);if(I.length)throw function ti(R){return new m.vHH(3503,!1)}();this._animations.set(y,he)}_buildPlayer(y,_,I){const G=y.element,he=Cr(this._normalizer,y.keyframes,_,I);return this._driver.animate(G,he,y.duration,y.delay,y.easing,[],!0)}create(y,_,I={}){const G=[],he=this._animations.get(y);let et;const at=new Map;if(he?(et=bi(this._driver,_,he,Qo,Xo,new Map,new Map,I,xr,G),et.forEach(Vn=>{const ri=$i(at,Vn.element,new Map);Vn.postStyleProps.forEach(Vi=>ri.set(Vi,null))})):(G.push(function Mn(){return new m.vHH(3300,!1)}()),et=[]),G.length)throw function Si(R){return new m.vHH(3504,!1)}();at.forEach((Vn,ri)=>{Vn.forEach((Vi,Fn)=>{Vn.set(Fn,this._driver.computeStyle(ri,Fn,Ie.l3))})});const an=gi(et.map(Vn=>{const ri=at.get(Vn.element);return this._buildPlayer(Vn,new Map,ri)}));return this._playersById.set(y,an),an.onDestroy(()=>this.destroy(y)),this.players.push(an),an}destroy(y){const _=this._getPlayer(y);_.destroy(),this._playersById.delete(y);const I=this.players.indexOf(_);I>=0&&this.players.splice(I,1)}_getPlayer(y){const _=this._playersById.get(y);if(!_)throw function xi(R){return new m.vHH(3301,!1)}();return _}listen(y,_,I,G){const he=Zo(_,"","","");return Kr(this._getPlayer(y),I,he,G),()=>{}}command(y,_,I,G){if("register"==I)return void this.register(y,G[0]);if("create"==I)return void this.create(y,_,G[0]||{});const he=this._getPlayer(y);switch(I){case"play":he.play();break;case"pause":he.pause();break;case"reset":he.reset();break;case"restart":he.restart();break;case"finish":he.finish();break;case"init":he.init();break;case"setPosition":he.setPosition(parseFloat(G[0]));break;case"destroy":this.destroy(y)}}}const Mo="ng-animate-queued",Nr="ng-animate-disabled",Es=[],Cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ns={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bo="__ng_removed";class Ks{get params(){return this.options.params}constructor(y,_=""){this.namespaceId=_;const I=y&&y.hasOwnProperty("value");if(this.value=function Sa(R){return R??null}(I?y.value:y),I){const he=Ot(y);delete he.value,this.options=he}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const _=y.params;if(_){const I=this.options.params;Object.keys(_).forEach(G=>{null==I[G]&&(I[G]=_[G])})}}}const Zs="void",Xr=new Ks(Zs);class vl{constructor(y,_,I){this.id=y,this.hostElement=_,this._engine=I,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,ls(_,this._hostClassName)}listen(y,_,I,G){if(!this._triggers.has(_))throw function Lt(R,y){return new m.vHH(3302,!1)}();if(null==I||0==I.length)throw function Ct(R){return new m.vHH(3303,!1)}();if(!function va(R){return"start"==R||"done"==R}(I))throw function yn(R,y){return new m.vHH(3400,!1)}();const he=$i(this._elementListeners,y,[]),et={name:_,phase:I,callback:G};he.push(et);const at=$i(this._engine.statesByElement,y,new Map);return at.has(_)||(ls(y,ci),ls(y,ci+"-"+_),at.set(_,Xr)),()=>{this._engine.afterFlush(()=>{const $t=he.indexOf(et);$t>=0&&he.splice($t,1),this._triggers.has(_)||at.delete(_)})}}register(y,_){return!this._triggers.has(y)&&(this._triggers.set(y,_),!0)}_getTrigger(y){const _=this._triggers.get(y);if(!_)throw function Qn(R){return new m.vHH(3401,!1)}();return _}trigger(y,_,I,G=!0){const he=this._getTrigger(_),et=new ga(this.id,_,y);let at=this._engine.statesByElement.get(y);at||(ls(y,ci),ls(y,ci+"-"+_),this._engine.statesByElement.set(y,at=new Map));let $t=at.get(_);const an=new Ks(I,this.id);if(!(I&&I.hasOwnProperty("value"))&&$t&&an.absorbOptions($t.options),at.set(_,an),$t||($t=Xr),an.value!==Zs&&$t.value===an.value){if(!function Ta(R,y){const _=Object.keys(R),I=Object.keys(y);if(_.length!=I.length)return!1;for(let G=0;G<_.length;G++){const he=_[G];if(!y.hasOwnProperty(he)||R[he]!==y[he])return!1}return!0}($t.params,an.params)){const Oi=[],Fi=he.matchStyles($t.value,$t.params,Oi),Wn=he.matchStyles(an.value,an.params,Oi);Oi.length?this._engine.reportError(Oi):this._engine.afterFlush(()=>{hi(y,Fi),Xn(y,Wn)})}return}const Vi=$i(this._engine.playersByElement,y,[]);Vi.forEach(Oi=>{Oi.namespaceId==this.id&&Oi.triggerName==_&&Oi.queued&&Oi.destroy()});let Fn=he.matchTransition($t.value,an.value,y,an.params),di=!1;if(!Fn){if(!G)return;Fn=he.fallbackTransition,di=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:_,transition:Fn,fromState:$t,toState:an,player:et,isFallbackTransition:di}),di||(ls(y,Mo),et.onStart(()=>{qs(y,Mo)})),et.onDone(()=>{let Oi=this.players.indexOf(et);Oi>=0&&this.players.splice(Oi,1);const Fi=this._engine.playersByElement.get(y);if(Fi){let Wn=Fi.indexOf(et);Wn>=0&&Fi.splice(Wn,1)}}),this.players.push(et),Vi.push(et),et}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(_=>_.delete(y)),this._elementListeners.forEach((_,I)=>{this._elementListeners.set(I,_.filter(G=>G.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const _=this._engine.playersByElement.get(y);_&&(_.forEach(I=>I.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,_){const I=this._engine.driver.query(y,gr,!0);I.forEach(G=>{if(G[Bo])return;const he=this._engine.fetchNamespacesByElement(G);he.size?he.forEach(et=>et.triggerLeaveAnimation(G,_,!1,!0)):this.clearElementCache(G)}),this._engine.afterFlushAnimationsDone(()=>I.forEach(G=>this.clearElementCache(G)))}triggerLeaveAnimation(y,_,I,G){const he=this._engine.statesByElement.get(y),et=new Map;if(he){const at=[];if(he.forEach(($t,an)=>{if(et.set(an,$t.value),this._triggers.has(an)){const Vn=this.trigger(y,an,Zs,G);Vn&&at.push(Vn)}}),at.length)return this._engine.markElementAsRemoved(this.id,y,!0,_,et),I&&gi(at).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const _=this._elementListeners.get(y),I=this._engine.statesByElement.get(y);if(_&&I){const G=new Set;_.forEach(he=>{const et=he.name;if(G.has(et))return;G.add(et);const $t=this._triggers.get(et).fallbackTransition,an=I.get(et)||Xr,Vn=new Ks(Zs),ri=new ga(this.id,et,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:et,transition:$t,fromState:an,toState:Vn,player:ri,isFallbackTransition:!0})})}}removeNode(y,_){const I=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,_),this.triggerLeaveAnimation(y,_,!0))return;let G=!1;if(I.totalAnimations){const he=I.players.length?I.playersByQueriedElement.get(y):[];if(he&&he.length)G=!0;else{let et=y;for(;et=et.parentNode;)if(I.statesByElement.get(et)){G=!0;break}}}if(this.prepareLeaveAnimationListeners(y),G)I.markElementAsRemoved(this.id,y,!1,_);else{const he=y[Bo];(!he||he===Cs)&&(I.afterFlush(()=>this.clearElementCache(y)),I.destroyInnerAnimations(y),I._onRemovalComplete(y,_))}}insertNode(y,_){ls(y,this._hostClassName)}drainQueuedTransitions(y){const _=[];return this._queue.forEach(I=>{const G=I.player;if(G.destroyed)return;const he=I.element,et=this._elementListeners.get(he);et&&et.forEach(at=>{if(at.name==I.triggerName){const $t=Zo(he,I.triggerName,I.fromState.value,I.toState.value);$t._data=y,Kr(I.player,at.phase,$t,at.callback)}}),G.markedForDestroy?this._engine.afterFlush(()=>{G.destroy()}):_.push(I)}),this._queue=[],_.sort((I,G)=>{const he=I.transition.ast.depCount,et=G.transition.ast.depCount;return 0==he||0==et?he-et:this._engine.driver.containsElement(I.element,G.element)?1:-1})}destroy(y){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let _=!1;return this._elementListeners.has(y)&&(_=!0),_=!!this._queue.find(I=>I.element===y)||_,_}}class la{_onRemovalComplete(y,_){this.onRemovalComplete(y,_)}constructor(y,_,I){this.bodyNode=y,this.driver=_,this._normalizer=I,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(G,he)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(_=>{_.players.forEach(I=>{I.queued&&y.push(I)})}),y}createNamespace(y,_){const I=new vl(y,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(I,_):(this.newHostElements.set(_,I),this.collectEnterElement(_)),this._namespaceLookup[y]=I}_balanceNamespaceList(y,_){const I=this._namespaceList,G=this.namespacesByHostElement;if(I.length-1>=0){let et=!1,at=this.driver.getParentElement(_);for(;at;){const $t=G.get(at);if($t){const an=I.indexOf($t);I.splice(an+1,0,y),et=!0;break}at=this.driver.getParentElement(at)}et||I.unshift(y)}else I.push(y);return G.set(_,y),y}register(y,_){let I=this._namespaceLookup[y];return I||(I=this.createNamespace(y,_)),I}registerTrigger(y,_,I){let G=this._namespaceLookup[y];G&&G.register(_,I)&&this.totalAnimations++}destroy(y,_){if(!y)return;const I=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(I.hostElement),delete this._namespaceLookup[y];const G=this._namespaceList.indexOf(I);G>=0&&this._namespaceList.splice(G,1)}),this.afterFlushAnimationsDone(()=>I.destroy(_))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const _=new Set,I=this.statesByElement.get(y);if(I)for(let G of I.values())if(G.namespaceId){const he=this._fetchNamespace(G.namespaceId);he&&_.add(he)}return _}trigger(y,_,I,G){if(Ls(_)){const he=this._fetchNamespace(y);if(he)return he.trigger(_,I,G),!0}return!1}insertNode(y,_,I,G){if(!Ls(_))return;const he=_[Bo];if(he&&he.setForRemoval){he.setForRemoval=!1,he.setForMove=!0;const et=this.collectedLeaveElements.indexOf(_);et>=0&&this.collectedLeaveElements.splice(et,1)}if(y){const et=this._fetchNamespace(y);et&&et.insertNode(_,I)}G&&this.collectEnterElement(_)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,_){_?this.disabledNodes.has(y)||(this.disabledNodes.add(y),ls(y,Nr)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),qs(y,Nr))}removeNode(y,_,I){if(Ls(_)){const G=y?this._fetchNamespace(y):null;G?G.removeNode(_,I):this.markElementAsRemoved(y,_,!1,I);const he=this.namespacesByHostElement.get(_);he&&he.id!==y&&he.removeNode(_,I)}else this._onRemovalComplete(_,I)}markElementAsRemoved(y,_,I,G,he){this.collectedLeaveElements.push(_),_[Bo]={namespaceId:y,setForRemoval:G,hasAnimation:I,removedBeforeQueried:!1,previousTriggersValues:he}}listen(y,_,I,G,he){return Ls(_)?this._fetchNamespace(y).listen(_,I,G,he):()=>{}}_buildInstruction(y,_,I,G,he){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,I,G,y.fromState.options,y.toState.options,_,he)}destroyInnerAnimations(y){let _=this.driver.query(y,gr,!0);_.forEach(I=>this.destroyActiveAnimationsForElement(I)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(y,Yr,!0),_.forEach(I=>this.finishActiveQueriedAnimationOnElement(I)))}destroyActiveAnimationsForElement(y){const _=this.playersByElement.get(y);_&&_.forEach(I=>{I.queued?I.markedForDestroy=!0:I.destroy()})}finishActiveQueriedAnimationOnElement(y){const _=this.playersByQueriedElement.get(y);_&&_.forEach(I=>I.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return gi(this.players).onDone(()=>y());y()})}processLeaveNode(y){const _=y[Bo];if(_&&_.setForRemoval){if(y[Bo]=Cs,_.namespaceId){this.destroyInnerAnimations(y);const I=this._fetchNamespace(_.namespaceId);I&&I.clearElementCache(y)}this._onRemovalComplete(y,_.setForRemoval)}y.classList?.contains(Nr)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(I=>{this.markElementAsDisabled(I,!1)})}flush(y=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((I,G)=>this._balanceNamespaceList(I,G)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let I=0;I<this.collectedEnterElements.length;I++)ls(this.collectedEnterElements[I],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const I=[];try{_=this._flushAnimations(I,y)}finally{for(let G=0;G<I.length;G++)I[G]()}}else for(let I=0;I<this.collectedLeaveElements.length;I++)this.processLeaveNode(this.collectedLeaveElements[I]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(I=>I()),this._flushFns=[],this._whenQuietFns.length){const I=this._whenQuietFns;this._whenQuietFns=[],_.length?gi(_).onDone(()=>{I.forEach(G=>G())}):I.forEach(G=>G())}}reportError(y){throw function Rn(R){return new m.vHH(3402,!1)}()}_flushAnimations(y,_){const I=new We,G=[],he=new Map,et=[],at=new Map,$t=new Map,an=new Map,Vn=new Set;this.disabledNodes.forEach(un=>{Vn.add(un);const Un=this.driver.query(un,".ng-animate-queued",!0);for(let oi=0;oi<Un.length;oi++)Vn.add(Un[oi])});const ri=this.bodyNode,Vi=Array.from(this.statesByElement.keys()),Fn=Ys(Vi,this.collectedEnterElements),di=new Map;let Oi=0;Fn.forEach((un,Un)=>{const oi=Qo+Oi++;di.set(Un,oi),un.forEach(Zi=>ls(Zi,oi))});const Fi=[],Wn=new Set,Eo=new Set;for(let un=0;un<this.collectedLeaveElements.length;un++){const Un=this.collectedLeaveElements[un],oi=Un[Bo];oi&&oi.setForRemoval&&(Fi.push(Un),Wn.add(Un),oi.hasAnimation?this.driver.query(Un,".ng-star-inserted",!0).forEach(Zi=>Wn.add(Zi)):Eo.add(Un))}const Ii=new Map,Ar=Ys(Vi,Array.from(Wn));Ar.forEach((un,Un)=>{const oi=Xo+Oi++;Ii.set(Un,oi),un.forEach(Zi=>ls(Zi,oi))}),y.push(()=>{Fn.forEach((un,Un)=>{const oi=di.get(Un);un.forEach(Zi=>qs(Zi,oi))}),Ar.forEach((un,Un)=>{const oi=Ii.get(Un);un.forEach(Zi=>qs(Zi,oi))}),Fi.forEach(un=>{this.processLeaveNode(un)})});const fr=[],x=[];for(let un=this._namespaceList.length-1;un>=0;un--)this._namespaceList[un].drainQueuedTransitions(_).forEach(oi=>{const Zi=oi.player,mr=oi.element;if(fr.push(Zi),this.collectedEnterElements.length){const Hr=mr[Bo];if(Hr&&Hr.setForMove){if(Hr.previousTriggersValues&&Hr.previousTriggersValues.has(oi.triggerName)){const ca=Hr.previousTriggersValues.get(oi.triggerName),Vo=this.statesByElement.get(oi.element);if(Vo&&Vo.has(oi.triggerName)){const sl=Vo.get(oi.triggerName);sl.value=ca,Vo.set(oi.triggerName,sl)}}return void Zi.destroy()}}const Uo=!ri||!this.driver.containsElement(ri,mr),Nt=Ii.get(mr),Co=di.get(mr),Xi=this._buildInstruction(oi,I,Co,Nt,Uo);if(Xi.errors&&Xi.errors.length)return void x.push(Xi);if(Uo)return Zi.onStart(()=>hi(mr,Xi.fromStyles)),Zi.onDestroy(()=>Xn(mr,Xi.toStyles)),void G.push(Zi);if(oi.isFallbackTransition)return Zi.onStart(()=>hi(mr,Xi.fromStyles)),Zi.onDestroy(()=>Xn(mr,Xi.toStyles)),void G.push(Zi);const bl=[];Xi.timelines.forEach(Hr=>{Hr.stretchStartingKeyframe=!0,this.disabledNodes.has(Hr.element)||bl.push(Hr)}),Xi.timelines=bl,I.append(mr,Xi.timelines),et.push({instruction:Xi,player:Zi,element:mr}),Xi.queriedElements.forEach(Hr=>$i(at,Hr,[]).push(Zi)),Xi.preStyleProps.forEach((Hr,ca)=>{if(Hr.size){let Vo=$t.get(ca);Vo||$t.set(ca,Vo=new Set),Hr.forEach((sl,Ma)=>Vo.add(Ma))}}),Xi.postStyleProps.forEach((Hr,ca)=>{let Vo=an.get(ca);Vo||an.set(ca,Vo=new Set),Hr.forEach((sl,Ma)=>Vo.add(Ma))})});if(x.length){const un=[];x.forEach(Un=>{un.push(function fi(R,y){return new m.vHH(3505,!1)}())}),fr.forEach(Un=>Un.destroy()),this.reportError(un)}const k=new Map,w=new Map;et.forEach(un=>{const Un=un.element;I.has(Un)&&(w.set(Un,Un),this._beforeAnimationBuild(un.player.namespaceId,un.instruction,k))}),G.forEach(un=>{const Un=un.element;this._getPreviousPlayers(Un,!1,un.namespaceId,un.triggerName,null).forEach(Zi=>{$i(k,Un,[]).push(Zi),Zi.destroy()})});const N=Fi.filter(un=>Bs(un,$t,an)),X=new Map;ya(X,this.driver,Eo,an,Ie.l3).forEach(un=>{Bs(un,$t,an)&&N.push(un)});const Te=new Map;Fn.forEach((un,Un)=>{ya(Te,this.driver,new Set(un),$t,Ie.k1)}),N.forEach(un=>{const Un=X.get(un),oi=Te.get(un);X.set(un,new Map([...Un?.entries()??[],...oi?.entries()??[]]))});const Dt=[],Cn=[],ui={};et.forEach(un=>{const{element:Un,player:oi,instruction:Zi}=un;if(I.has(Un)){if(Vn.has(Un))return oi.onDestroy(()=>Xn(Un,Zi.toStyles)),oi.disabled=!0,oi.overrideTotalTime(Zi.totalTime),void G.push(oi);let mr=ui;if(w.size>1){let Nt=Un;const Co=[];for(;Nt=Nt.parentNode;){const Xi=w.get(Nt);if(Xi){mr=Xi;break}Co.push(Nt)}Co.forEach(Xi=>w.set(Xi,mr))}const Uo=this._buildAnimation(oi.namespaceId,Zi,k,he,Te,X);if(oi.setRealPlayer(Uo),mr===ui)Dt.push(oi);else{const Nt=this.playersByElement.get(mr);Nt&&Nt.length&&(oi.parentPlayer=gi(Nt)),G.push(oi)}}else hi(Un,Zi.fromStyles),oi.onDestroy(()=>Xn(Un,Zi.toStyles)),Cn.push(oi),Vn.has(Un)&&G.push(oi)}),Cn.forEach(un=>{const Un=he.get(un.element);if(Un&&Un.length){const oi=gi(Un);un.setRealPlayer(oi)}}),G.forEach(un=>{un.parentPlayer?un.syncPlayerEvents(un.parentPlayer):un.destroy()});for(let un=0;un<Fi.length;un++){const Un=Fi[un],oi=Un[Bo];if(qs(Un,Xo),oi&&oi.hasAnimation)continue;let Zi=[];if(at.size){let Uo=at.get(Un);Uo&&Uo.length&&Zi.push(...Uo);let Nt=this.driver.query(Un,Yr,!0);for(let Co=0;Co<Nt.length;Co++){let Xi=at.get(Nt[Co]);Xi&&Xi.length&&Zi.push(...Xi)}}const mr=Zi.filter(Uo=>!Uo.destroyed);mr.length?ta(this,Un,mr):this.processLeaveNode(Un)}return Fi.length=0,Dt.forEach(un=>{this.players.push(un),un.onDone(()=>{un.destroy();const Un=this.players.indexOf(un);this.players.splice(Un,1)}),un.play()}),Dt}elementContainsData(y,_){let I=!1;const G=_[Bo];return G&&G.setForRemoval&&(I=!0),this.playersByElement.has(_)&&(I=!0),this.playersByQueriedElement.has(_)&&(I=!0),this.statesByElement.has(_)&&(I=!0),this._fetchNamespace(y).elementContainsData(_)||I}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,_,I,G,he){let et=[];if(_){const at=this.playersByQueriedElement.get(y);at&&(et=at)}else{const at=this.playersByElement.get(y);if(at){const $t=!he||he==Zs;at.forEach(an=>{an.queued||!$t&&an.triggerName!=G||et.push(an)})}}return(I||G)&&(et=et.filter(at=>!(I&&I!=at.namespaceId||G&&G!=at.triggerName))),et}_beforeAnimationBuild(y,_,I){const he=_.element,et=_.isRemovalTransition?void 0:y,at=_.isRemovalTransition?void 0:_.triggerName;for(const $t of _.timelines){const an=$t.element,Vn=an!==he,ri=$i(I,an,[]);this._getPreviousPlayers(an,Vn,et,at,_.toState).forEach(Fn=>{const di=Fn.getRealPlayer();di.beforeDestroy&&di.beforeDestroy(),Fn.destroy(),ri.push(Fn)})}hi(he,_.fromStyles)}_buildAnimation(y,_,I,G,he,et){const at=_.triggerName,$t=_.element,an=[],Vn=new Set,ri=new Set,Vi=_.timelines.map(di=>{const Oi=di.element;Vn.add(Oi);const Fi=Oi[Bo];if(Fi&&Fi.removedBeforeQueried)return new Ie.ZN(di.duration,di.delay);const Wn=Oi!==$t,Eo=function _s(R){const y=[];return cs(R,y),y}((I.get(Oi)||Es).map(k=>k.getRealPlayer())).filter(k=>!!k.element&&k.element===Oi),Ii=he.get(Oi),Ar=et.get(Oi),fr=Cr(this._normalizer,di.keyframes,Ii,Ar),x=this._buildPlayer(di,fr,Eo);if(di.subTimeline&&G&&ri.add(Oi),Wn){const k=new ga(y,at,Oi);k.setRealPlayer(x),an.push(k)}return x});an.forEach(di=>{$i(this.playersByQueriedElement,di.element,[]).push(di),di.onDone(()=>function _a(R,y,_){let I=R.get(y);if(I){if(I.length){const G=I.indexOf(_);I.splice(G,1)}0==I.length&&R.delete(y)}return I}(this.playersByQueriedElement,di.element,di))}),Vn.forEach(di=>ls(di,Pi));const Fn=gi(Vi);return Fn.onDestroy(()=>{Vn.forEach(di=>qs(di,Pi)),Xn($t,_.toStyles)}),ri.forEach(di=>{$i(G,di,[]).push(Fn)}),Fn}_buildPlayer(y,_,I){return _.length>0?this.driver.animate(y.element,_,y.duration,y.delay,y.easing,I):new Ie.ZN(y.duration,y.delay)}}class ga{constructor(y,_,I){this.namespaceId=y,this.triggerName=_,this.element=I,this._player=new Ie.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((_,I)=>{_.forEach(G=>Kr(y,I,void 0,G))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const _=this._player;_.triggerCallback&&y.onStart(()=>_.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,_){$i(this._queuedCallbacks,y,[]).push(_)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const _=this._player;_.triggerCallback&&_.triggerCallback(y)}}function Ls(R){return R&&1===R.nodeType}function Os(R,y){const _=R.style.display;return R.style.display=y??"none",_}function ya(R,y,_,I,G){const he=[];_.forEach($t=>he.push(Os($t)));const et=[];I.forEach(($t,an)=>{const Vn=new Map;$t.forEach(ri=>{const Vi=y.computeStyle(an,ri,G);Vn.set(ri,Vi),(!Vi||0==Vi.length)&&(an[Bo]=Ns,et.push(an))}),R.set(an,Vn)});let at=0;return _.forEach($t=>Os($t,he[at++])),et}function Ys(R,y){const _=new Map;if(R.forEach(at=>_.set(at,[])),0==y.length)return _;const I=1,G=new Set(y),he=new Map;function et(at){if(!at)return I;let $t=he.get(at);if($t)return $t;const an=at.parentNode;return $t=_.has(an)?an:G.has(an)?I:et(an),he.set(at,$t),$t}return y.forEach(at=>{const $t=et(at);$t!==I&&_.get($t).push(at)}),_}function ls(R,y){R.classList?.add(y)}function qs(R,y){R.classList?.remove(y)}function ta(R,y,_){gi(_).onDone(()=>R.processLeaveNode(y))}function cs(R,y){for(let _=0;_<R.length;_++){const I=R[_];I instanceof Ie.ZE?cs(I.players,y):y.push(I)}}function Bs(R,y,_){const I=_.get(R);if(!I)return!1;let G=y.get(R);return G?I.forEach(he=>G.add(he)):y.set(R,I),_.delete(R),!0}class Qi{constructor(y,_,I){this.bodyNode=y,this._driver=_,this._normalizer=I,this._triggerCache={},this.onRemovalComplete=(G,he)=>{},this._transitionEngine=new la(y,_,I),this._timelineEngine=new Ti(y,_,I),this._transitionEngine.onRemovalComplete=(G,he)=>this.onRemovalComplete(G,he)}registerTrigger(y,_,I,G,he){const et=y+"-"+G;let at=this._triggerCache[et];if(!at){const $t=[],Vn=Pr(this._driver,he,$t,[]);if($t.length)throw function kt(R,y){return new m.vHH(3404,!1)}();at=function Tr(R,y,_){return new Br(R,y,_)}(G,Vn,this._normalizer),this._triggerCache[et]=at}this._transitionEngine.registerTrigger(_,G,at)}register(y,_){this._transitionEngine.register(y,_)}destroy(y,_){this._transitionEngine.destroy(y,_)}onInsert(y,_,I,G){this._transitionEngine.insertNode(y,_,I,G)}onRemove(y,_,I){this._transitionEngine.removeNode(y,_,I)}disableAnimations(y,_){this._transitionEngine.markElementAsDisabled(y,_)}process(y,_,I,G){if("@"==I.charAt(0)){const[he,et]=to(I);this._timelineEngine.command(he,_,et,G)}else this._transitionEngine.trigger(y,_,I,G)}listen(y,_,I,G,he){if("@"==I.charAt(0)){const[et,at]=to(I);return this._timelineEngine.listen(et,_,at,he)}return this._transitionEngine.listen(y,_,I,G,he)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let na=(()=>{class R{constructor(_,I,G){this._element=_,this._startStyles=I,this._endStyles=G,this._state=0;let he=R.initialStylesByElement.get(_);he||R.initialStylesByElement.set(_,he=new Map),this._initialStyles=he}start(){this._state<1&&(this._startStyles&&Xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xn(this._element,this._initialStyles),this._endStyles&&(Xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(hi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hi(this._element,this._endStyles),this._endStyles=null),Xn(this._element,this._initialStyles),this._state=3)}}return R.initialStylesByElement=new WeakMap,R})();function Mi(R){let y=null;return R.forEach((_,I)=>{(function ba(R){return"display"===R||"position"===R})(I)&&(y=y||new Map,y.set(I,_))}),y}class P{constructor(y,_,I,G){this.element=y,this.keyframes=_,this.options=I,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=I.duration,this._delay=I.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const _=[];return y.forEach(I=>{_.push(Object.fromEntries(I))}),_}_triggerWebAnimation(y,_,I){return y.animate(this._convertKeyframesToObject(_),I)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((I,G)=>{"offset"!==G&&y.set(G,this._finished?I:ms(this.element,G))}),this.currentSnapshot=y}triggerCallback(y){const _="start"===y?this._onStartFns:this._onDoneFns;_.forEach(I=>I()),_.length=0}}class Q{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,_){return!1}containsElement(y,_){return Io(y,_)}getParentElement(y){return Zr(y)}query(y,_,I){return no(y,_,I)}computeStyle(y,_,I){return window.getComputedStyle(y)[_]}animate(y,_,I,G,he,et=[]){const $t={duration:I,delay:G,fill:0==G?"both":"forwards"};he&&($t.easing=he);const an=new Map,Vn=et.filter(Fn=>Fn instanceof P);(function oo(R,y){return 0===R||0===y})(I,G)&&Vn.forEach(Fn=>{Fn.currentSnapshot.forEach((di,Oi)=>an.set(Oi,di))});let ri=function pn(R){return R.length?R[0]instanceof Map?R:R.map(y=>dn(y)):[]}(_).map(Fn=>An(Fn));ri=function ar(R,y,_){if(_.size&&y.length){let I=y[0],G=[];if(_.forEach((he,et)=>{I.has(et)||G.push(et),I.set(et,he)}),G.length)for(let he=1;he<y.length;he++){let et=y[he];G.forEach(at=>et.set(at,ms(R,at)))}}return y}(y,ri,an);const Vi=function ko(R,y){let _=null,I=null;return Array.isArray(y)&&y.length?(_=Mi(y[0]),y.length>1&&(I=Mi(y[y.length-1]))):y instanceof Map&&(_=Mi(y)),_||I?new na(R,_,I):null}(y,ri);return new P(y,ri,$t,Vi)}}let U=(()=>{class R extends Ie._j{constructor(_,I){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(I.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(_){const I=this._nextAnimationId.toString();this._nextAnimationId++;const G=Array.isArray(_)?(0,Ie.vP)(_):_;return Qt(this._renderer,null,I,"register",[G]),new fe(I,this._renderer)}}return R.\u0275fac=function(_){return new(_||R)(m.LFG(m.FYo),m.LFG(me.K0))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})();class fe extends Ie.LC{constructor(y,_){super(),this._id=y,this._renderer=_}create(y,_){return new Ye(this._id,y,_||{},this._renderer)}}class Ye{constructor(y,_,I,G){this.id=y,this.element=_,this._renderer=G,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",I)}_listen(y,_){return this._renderer.listen(this.element,`@@${this.id}:${y}`,_)}_command(y,..._){return Qt(this._renderer,this.element,this.id,y,_)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Qt(R,y,_,I,G){return R.setProperty(y,`@@${_}:${I}`,G)}const qn="@.disabled";let Wi=(()=>{class R{constructor(_,I,G){this.delegate=_,this.engine=I,this._zone=G,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),I.onRemovalComplete=(he,et)=>{const at=et?.parentNode(he);at&&et.removeChild(at,he)}}createRenderer(_,I){const he=this.delegate.createRenderer(_,I);if(!(_&&I&&I.data&&I.data.animation)){let Vn=this._rendererCache.get(he);return Vn||(Vn=new Ai("",he,this.engine,()=>this._rendererCache.delete(he)),this._rendererCache.set(he,Vn)),Vn}const et=I.id,at=I.id+"-"+this._currentId;this._currentId++,this.engine.register(at,_);const $t=Vn=>{Array.isArray(Vn)?Vn.forEach($t):this.engine.registerTrigger(et,at,_,Vn.name,Vn)};return I.data.animation.forEach($t),new Ci(this,at,he,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,I,G){_>=0&&_<this._microtaskId?this._zone.run(()=>I(G)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(he=>{const[et,at]=he;et(at)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([I,G]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return R.\u0275fac=function(_){return new(_||R)(m.LFG(m.FYo),m.LFG(Qi),m.LFG(m.R0b))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})();class Ai{constructor(y,_,I,G){this.namespaceId=y,this.delegate=_,this.engine=I,this._onDestroy=G,this.destroyNode=this.delegate.destroyNode?he=>_.destroyNode(he):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,_){return this.delegate.createElement(y,_)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,_){this.delegate.appendChild(y,_),this.engine.onInsert(this.namespaceId,_,y,!1)}insertBefore(y,_,I,G=!0){this.delegate.insertBefore(y,_,I),this.engine.onInsert(this.namespaceId,_,y,G)}removeChild(y,_,I){this.engine.onRemove(this.namespaceId,_,this.delegate)}selectRootElement(y,_){return this.delegate.selectRootElement(y,_)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,_,I,G){this.delegate.setAttribute(y,_,I,G)}removeAttribute(y,_,I){this.delegate.removeAttribute(y,_,I)}addClass(y,_){this.delegate.addClass(y,_)}removeClass(y,_){this.delegate.removeClass(y,_)}setStyle(y,_,I,G){this.delegate.setStyle(y,_,I,G)}removeStyle(y,_,I){this.delegate.removeStyle(y,_,I)}setProperty(y,_,I){"@"==_.charAt(0)&&_==qn?this.disableAnimations(y,!!I):this.delegate.setProperty(y,_,I)}setValue(y,_){this.delegate.setValue(y,_)}listen(y,_,I){return this.delegate.listen(y,_,I)}disableAnimations(y,_){this.engine.disableAnimations(y,_)}}class Ci extends Ai{constructor(y,_,I,G,he){super(_,I,G,he),this.factory=y,this.namespaceId=_}setProperty(y,_,I){"@"==_.charAt(0)?"."==_.charAt(1)&&_==qn?this.disableAnimations(y,I=void 0===I||!!I):this.engine.process(this.namespaceId,y,_.slice(1),I):this.delegate.setProperty(y,_,I)}listen(y,_,I){if("@"==_.charAt(0)){const G=function ki(R){switch(R){case"body":return document.body;case"document":return document;case"window":return window;default:return R}}(y);let he=_.slice(1),et="";return"@"!=he.charAt(0)&&([he,et]=function or(R){const y=R.indexOf(".");return[R.substring(0,y),R.slice(y+1)]}(he)),this.engine.listen(this.namespaceId,G,he,et,at=>{this.factory.scheduleListenerCallback(at._data||-1,I,at)})}return this.delegate.listen(y,_,I)}}const Wr=[{provide:Ie._j,useClass:U},{provide:v,useFactory:function ao(){return new Ce}},{provide:Qi,useClass:(()=>{class R extends Qi{constructor(_,I,G,he){super(_.body,I,G)}ngOnDestroy(){this.flush()}}return R.\u0275fac=function(_){return new(_||R)(m.LFG(me.K0),m.LFG(qo),m.LFG(v),m.LFG(m.z2F))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})()},{provide:m.FYo,useFactory:function vs(R,y,_){return new Wi(R,y,_)},deps:[d.se,Qi,m.R0b]}],ia=[{provide:qo,useFactory:()=>new Q},{provide:m.QbO,useValue:"BrowserAnimations"},...Wr],Oo=[{provide:qo,useClass:Ms},{provide:m.QbO,useValue:"NoopAnimations"},...Wr];let Qs=(()=>{class R{static withConfig(_){return{ngModule:R,providers:_.disableAnimations?Oo:ia}}}return R.\u0275fac=function(_){return new(_||R)},R.\u0275mod=m.oAB({type:R}),R.\u0275inj=m.cJS({providers:ia,imports:[d.b2]}),R})();var wa=E(3144);const yl_firebaseConfig={apiKey:"AIzaSyCBFiqylI83kkUooQ5SKoyaA4AD4cJtW2I",authDomain:"socialmediafeed-72afc.firebaseapp.com",projectId:"socialmediafeed-72afc",storageBucket:"socialmediafeed-72afc.appspot.com",messagingSenderId:"708393762131",appId:"1:708393762131:web:6d451bd3a6d6149c4d35a6",measurementId:"G-VF9CFXKB75"};var rl=E(2011),wn=E(8854);function sr(R,y){1&R&&(m.TgZ(0,"div")(1,"small",6),m._uU(2,"Nickname field cannot be empty"),m.qZA()())}function xo(R,y){1&R&&(m.TgZ(0,"div")(1,"small",6),m._uU(2,"Description field cannot be empty"),m.qZA()())}const ds=function(R,y){return{active:R,idle:y}};let Jr=(()=>{class R{constructor(_){this.userDataService=_,this.profileForm=new ae.cw({nickname:new ae.NI("",[ae.kI.required]),description:new ae.NI("",[ae.kI.required])})}onContinueClick(){const _=this.profileForm.get("nickname"),I=this.profileForm.get("description");_?.markAsTouched(),I?.markAsTouched(),_&&I&&!_.errors&&!I.errors&&(this.userDataService.createUser(_.value,I.value),this.profileForm.reset())}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(ne.M))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:7,consts:[[1,"profile",3,"ngClass"],[1,"profile-content",3,"formGroup","submit"],["formControlName","nickname","placeholder","Nickname"],[4,"ngIf"],["formControlName","description","placeholder","Description"],["mat-flat-button","","color","warn","type","submit"],[1,"error"]],template:function(_,I){if(1&_&&(m.TgZ(0,"div",0)(1,"form",1),m.NdJ("submit",function(){return I.onContinueClick()}),m._UZ(2,"input",2),m.YNc(3,sr,3,0,"div",3),m._UZ(4,"textarea",4),m.YNc(5,xo,3,0,"div",3),m.TgZ(6,"button",5),m._uU(7,"Continue"),m.qZA()()()),2&_){let G,he;m.Q6J("ngClass",m.WLB(4,ds,I.show,!I.show)),m.xp6(1),m.Q6J("formGroup",I.profileForm),m.xp6(2),m.Q6J("ngIf",(null==(G=I.profileForm.get("nickname"))?null:G.invalid)&&(null==(G=I.profileForm.get("nickname"))?null:G.touched)),m.xp6(2),m.Q6J("ngIf",(null==(he=I.profileForm.get("description"))?null:he.invalid)&&(null==(he=I.profileForm.get("description"))?null:he.touched))}},dependencies:[me.mk,me.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Xe.lW],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;right:0;height:100vh;background-color:#313131;z-index:9;transition-duration:.5s;overflow:hidden}.profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box}.profile-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-top:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}"]}),R})();var xa=E(8099),ol=E(9383);let In=(()=>{class R{constructor(_,I,G){this.dialog=_,this.userDataService=I,this.router=G}ChangeNicknameClick(){this.dialog.open(xa.f,{data:{info:"Change Nickname",message:`Your current nickname - ${this.userDataService.userInfo.publicName}`,field:"publicName"}})}ChangeDescriptionClick(){this.dialog.open(xa.f,{data:{info:"Change Description",message:`Your current description - ${this.userDataService.userInfo.description}`,field:"description"}})}DeleteAccountClick(){this.dialog.open(xa.f,{data:{info:"Delete account",message:"Are you sure you want to delete your account? All your posts will be deleted",yesButton:!0}})}HomaPageClick(){this.router.navigate(["userPage"])}NewsClick(){this.router.navigate(["postFeed"])}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(de.uw),m.Y36(ne.M),m.Y36(B.F0))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-sidebar"]],decls:21,vars:1,consts:[[1,"sidebar"],["color","primary",3,"click"],["color","primary",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(_,I){if(1&_&&(m.TgZ(0,"div",0)(1,"mat-toolbar",1),m.NdJ("click",function(){return I.HomaPageClick()}),m.TgZ(2,"mat-icon"),m._uU(3,"home"),m.qZA(),m._uU(4,"Home"),m.qZA(),m.TgZ(5,"mat-toolbar",1),m.NdJ("click",function(){return I.NewsClick()}),m.TgZ(6,"mat-icon"),m._uU(7,"newspaper"),m.qZA(),m._uU(8,"News"),m.qZA(),m.TgZ(9,"mat-toolbar",2)(10,"mat-icon"),m._uU(11,"settings"),m.qZA(),m._uU(12," Settings "),m.qZA(),m.TgZ(13,"mat-menu",null,3)(15,"button",4),m.NdJ("click",function(){return I.ChangeNicknameClick()}),m._uU(16," Change nickname "),m.qZA(),m.TgZ(17,"button",4),m.NdJ("click",function(){return I.ChangeDescriptionClick()}),m._uU(18," Change description "),m.qZA(),m.TgZ(19,"button",5),m.NdJ("click",function(){return I.DeleteAccountClick()}),m._uU(20," Delete account "),m.qZA()()()),2&_){const G=m.MAs(14);m.xp6(9),m.Q6J("matMenuTriggerFor",G)}},dependencies:[Gt.Hw,ol.Ye,mt.VK,mt.OP,mt.p6],styles:[".sidebar[_ngcontent-%COMP%]{position:absolute;top:5em;left:0;height:5em;z-index:10}.mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;cursor:pointer;background-color:#0111a1cc}.mdc-list-item[_ngcontent-%COMP%]{width:200px;background-color:#fff}  .mat-mdc-menu-content{padding:0!important}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}"]}),R})();function Mr(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"div",8),m.NdJ("click",function(){m.CHM(_);const G=m.oxw(2);return m.KtG(G.onLoginClick())}),m._uU(1," Login "),m.qZA()}}function Ds(R,y){if(1&R&&(m.TgZ(0,"div",9),m._uU(1),m.qZA()),2&R){const _=m.oxw(2);m.xp6(1),m.hij(" Hello, ",_.getUserName()," ")}}function ho(R,y){if(1&R){const _=m.EpF();m.TgZ(0,"div",8),m.NdJ("click",function(){m.CHM(_);const G=m.oxw(2);return m.KtG(G.onLogoutClick())}),m._uU(1," Logout "),m.qZA()}}function ni(R,y){if(1&R&&(m.TgZ(0,"div",5),m.YNc(1,Mr,2,0,"div",6),m.YNc(2,Ds,2,1,"div",7),m.YNc(3,ho,2,0,"div",6),m.qZA()),2&R){const _=m.oxw();m.xp6(1),m.Q6J("ngIf",!_.getIsLoggedIn()),m.xp6(1),m.Q6J("ngIf",_.getIsLoggedIn()&&_.getUserHasProfile()),m.xp6(1),m.Q6J("ngIf",_.getIsLoggedIn())}}let li=(()=>{class R{constructor(_,I,G,he){this.userDataService=_,this.loginSheet=I,this.afAuth=G,this.router=he}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}getUserName(){return this.userDataService.userInfo?.publicName||""}onLoginClick(){this.loginSheet.open(Fe)}onLogoutClick(){this.router.navigate([""]),this.userDataService.resetUserName(),this.afAuth.signOut()}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(ne.M),m.Y36(Ee.ch),m.Y36(se.zQ),m.Y36(B.F0))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"nav-bar"],[1,"nav-bar-content"],[1,"nav-bar-left"],["target","_blank","href","https://www.instagram.com/vlladyaa/",1,"nav-bar-items","link"],["class","nav-bar-right",4,"ngIf"],[1,"nav-bar-right"],["class","nav-bar-items link",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[1,"nav-bar-items","link",3,"click"],[1,"nav-bar-items"]],template:function(_,I){1&_&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),m._uU(4,"Instagram"),m.qZA()(),m.YNc(5,ni,4,3,"div",4),m.qZA()()),2&_&&(m.xp6(5),m.Q6J("ngIf",void 0!==I.getIsLoggedIn()))},dependencies:[me.O5],styles:[".nav-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#00000080;height:5em;z-index:10}.nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}.nav-bar-left[_ngcontent-%COMP%], .nav-bar-right[_ngcontent-%COMP%]{opacity:1;display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;color:#fff;font-weight:900}.link[_ngcontent-%COMP%]{outline:none;text-decoration:none}.link[_ngcontent-%COMP%]:link, .link[_ngcontent-%COMP%]:visited{color:#fff}.link[_ngcontent-%COMP%]:hover{border-bottom:1px solid;background:#b4b4b4;padding:5px;border-radius:1em}.link[_ngcontent-%COMP%]:active{background:#ec6802;color:#fff}.nav-bar-left[_ngcontent-%COMP%]{font-size:1.5em}.nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),R})();function Is(R,y){1&R&&m._UZ(0,"app-sidebar")}let Bn=(()=>{class R{constructor(_,I){this.userDataService=_,this.location=I,this.title="SocialMediaProject",this.userDataService.checkLoginStatus()}checkUrl(){const _=this.location.path();return _.includes("postFeed")||_.includes("userPage")||_.includes("friendPage")}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}}return R.\u0275fac=function(_){return new(_||R)(m.Y36(ne.M),m.Y36(me.Ye))},R.\u0275cmp=m.Xpm({type:R,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"show"]],template:function(_,I){1&_&&(m._UZ(0,"app-navbar"),m.YNc(1,Is,1,0,"app-sidebar",0),m._UZ(2,"router-outlet")(3,"app-profile",1)),2&_&&(m.xp6(1),m.Q6J("ngIf",I.checkUrl()),m.xp6(2),m.Q6J("show",I.getIsLoggedIn()&&!I.getUserHasProfile()))},dependencies:[me.O5,B.lC,Jr,In,li]}),R})(),Jt=(()=>{class R{}return R.\u0275fac=function(_){return new(_||R)},R.\u0275mod=m.oAB({type:R,bootstrap:[Bn]}),R.\u0275inj=m.cJS({providers:[ne.M,qt.n],imports:[d.b2,On,Qs,rl.hO.initializeApp(yl_firebaseConfig),Rt.yb,At.TE,ae.UX,wa.JF,wn.q]}),R})();d.q6().bootstrapModule(Jt).catch(R=>console.error(R))},1135:(gn,nt,E)=>{E.d(nt,{X:()=>B});var d=E(7579);class B extends d.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const xe=super._subscribe(ne);return!xe.closed&&ne.next(this._value),xe}getValue(){const{hasError:ne,thrownError:xe,_value:ae}=this;if(ne)throw xe;return this._throwIfClosed(),ae}next(ne){super.next(this._value=ne)}}},9751:(gn,nt,E)=>{E.d(nt,{y:()=>_e});var d=E(930),B=E(727),m=E(8822),ne=E(9635),xe=E(2416),ae=E(576),Z=E(2806);let _e=(()=>{class me{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const dt=new me;return dt.source=this,dt.operator=Ne,dt}subscribe(Ne,dt,it){const Le=function de(me){return me&&me instanceof d.Lv||function se(me){return me&&(0,ae.m)(me.next)&&(0,ae.m)(me.error)&&(0,ae.m)(me.complete)}(me)&&(0,B.Nn)(me)}(Ne)?Ne:new d.Hp(Ne,dt,it);return(0,Z.x)(()=>{const{operator:He,source:Re}=this;Le.add(He?He.call(Le,Re):Re?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(dt){Ne.error(dt)}}forEach(Ne,dt){return new(dt=Ee(dt))((it,Le)=>{const He=new d.Hp({next:Re=>{try{Ne(Re)}catch(yt){Le(yt),He.unsubscribe()}},error:Le,complete:it});this.subscribe(He)})}_subscribe(Ne){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe(Ne)}[m.L](){return this}pipe(...Ne){return(0,ne.U)(Ne)(this)}toPromise(Ne){return new(Ne=Ee(Ne))((dt,it)=>{let Le;this.subscribe(He=>Le=He,He=>it(He),()=>dt(Le))})}}return me.create=Xe=>new me(Xe),me})();function Ee(me){var Xe;return null!==(Xe=me??xe.config.Promise)&&void 0!==Xe?Xe:Promise}},7579:(gn,nt,E)=>{E.d(nt,{x:()=>Z});var d=E(9751),B=E(727);const ne=(0,E(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=E(8737),ae=E(2806);let Z=(()=>{class Ee extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const me=new _e(this,this);return me.operator=de,me}_throwIfClosed(){if(this.closed)throw new ne}next(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(de)}})}error(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:me}=this;for(;me.length;)me.shift().error(de)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:me,isStopped:Xe,observers:Ne}=this;return me||Xe?B.Lc:(this.currentObservers=null,Ne.push(de),new B.w0(()=>{this.currentObservers=null,(0,xe.P)(Ne,de)}))}_checkFinalizedStatuses(de){const{hasError:me,thrownError:Xe,isStopped:Ne}=this;me?de.error(Xe):Ne&&de.complete()}asObservable(){const de=new d.y;return de.source=this,de}}return Ee.create=(se,de)=>new _e(se,de),Ee})();class _e extends Z{constructor(se,de){super(),this.destination=se,this.source=de}next(se){var de,me;null===(me=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===me||me.call(de,se)}error(se){var de,me;null===(me=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===me||me.call(de,se)}complete(){var se,de;null===(de=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===de||de.call(se)}_subscribe(se){var de,me;return null!==(me=null===(de=this.source)||void 0===de?void 0:de.subscribe(se))&&void 0!==me?me:B.Lc}}},930:(gn,nt,E)=>{E.d(nt,{Hp:()=>it,Lv:()=>me});var d=E(576),B=E(727),m=E(2416),ne=E(7849),xe=E(5032);const ae=Ee("C",void 0,void 0);function Ee(ue,De,be){return{kind:ue,value:De,error:be}}var se=E(3410),de=E(2806);class me extends B.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,B.Nn)(De)&&De.add(this)):this.destination=yt}static create(De,be,Ae){return new it(De,be,Ae)}next(De){this.isStopped?Re(function _e(ue){return Ee("N",ue,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Re(function Z(ue){return Ee("E",void 0,ue)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Re(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Ne(ue,De){return Xe.call(ue,De)}class dt{constructor(De){this.partialObserver=De}next(De){const{partialObserver:be}=this;if(be.next)try{be.next(De)}catch(Ae){Le(Ae)}}error(De){const{partialObserver:be}=this;if(be.error)try{be.error(De)}catch(Ae){Le(Ae)}else Le(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(be){Le(be)}}}class it extends me{constructor(De,be,Ae){let $e;if(super(),(0,d.m)(De)||!De)$e={next:De??void 0,error:be??void 0,complete:Ae??void 0};else{let K;this&&m.config.useDeprecatedNextContext?(K=Object.create(De),K.unsubscribe=()=>this.unsubscribe(),$e={next:De.next&&Ne(De.next,K),error:De.error&&Ne(De.error,K),complete:De.complete&&Ne(De.complete,K)}):$e=De}this.destination=new dt($e)}}function Le(ue){m.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(ue):(0,ne.h)(ue)}function Re(ue,De){const{onStoppedNotification:be}=m.config;be&&se.z.setTimeout(()=>be(ue,De))}const yt={closed:!0,next:xe.Z,error:function He(ue){throw ue},complete:xe.Z}},727:(gn,nt,E)=>{E.d(nt,{Lc:()=>ae,w0:()=>xe,Nn:()=>Z});var d=E(576);const m=(0,E(3888).d)(Ee=>function(de){Ee(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((me,Xe)=>`${Xe+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var ne=E(8737);class xe{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Ne of de)Ne.remove(this);else de.remove(this);const{initialTeardown:me}=this;if((0,d.m)(me))try{me()}catch(Ne){se=Ne instanceof m?Ne.errors:[Ne]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Ne of Xe)try{_e(Ne)}catch(dt){se=se??[],dt instanceof m?se=[...se,...dt.errors]:se.push(dt)}}if(se)throw new m(se)}}add(se){var de;if(se&&se!==this)if(this.closed)_e(se);else{if(se instanceof xe){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(se)}}_hasParent(se){const{_parentage:de}=this;return de===se||Array.isArray(de)&&de.includes(se)}_addParent(se){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(se),de):de?[de,se]:se}_removeParent(se){const{_parentage:de}=this;de===se?this._parentage=null:Array.isArray(de)&&(0,ne.P)(de,se)}remove(se){const{_finalizers:de}=this;de&&(0,ne.P)(de,se),se instanceof xe&&se._removeParent(this)}}xe.EMPTY=(()=>{const Ee=new xe;return Ee.closed=!0,Ee})();const ae=xe.EMPTY;function Z(Ee){return Ee instanceof xe||Ee&&"closed"in Ee&&(0,d.m)(Ee.remove)&&(0,d.m)(Ee.add)&&(0,d.m)(Ee.unsubscribe)}function _e(Ee){(0,d.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(gn,nt,E)=>{E.d(nt,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(gn,nt,E)=>{E.d(nt,{a:()=>se});var d=E(9751),B=E(4742),m=E(8996),ne=E(4671),xe=E(3268),ae=E(3269),Z=E(1810),_e=E(5403),Ee=E(9672);function se(...Xe){const Ne=(0,ae.yG)(Xe),dt=(0,ae.jO)(Xe),{args:it,keys:Le}=(0,B.D)(Xe);if(0===it.length)return(0,m.D)([],Ne);const He=new d.y(function de(Xe,Ne,dt=ne.y){return it=>{me(Ne,()=>{const{length:Le}=Xe,He=new Array(Le);let Re=Le,yt=Le;for(let ue=0;ue<Le;ue++)me(Ne,()=>{const De=(0,m.D)(Xe[ue],Ne);let be=!1;De.subscribe((0,_e.x)(it,Ae=>{He[ue]=Ae,be||(be=!0,yt--),yt||it.next(dt(He.slice()))},()=>{--Re||it.complete()}))},it)},it)}}(it,Ne,Le?Re=>(0,Z.n)(Le,Re):ne.y));return dt?He.pipe((0,xe.Z)(dt)):He}function me(Xe,Ne,dt){Xe?(0,Ee.f)(dt,Xe,Ne):Ne()}},7272:(gn,nt,E)=>{E.d(nt,{z:()=>xe});var d=E(8189),m=E(3269),ne=E(8996);function xe(...ae){return function B(){return(0,d.J)(1)}()((0,ne.D)(ae,(0,m.yG)(ae)))}},9770:(gn,nt,E)=>{E.d(nt,{P:()=>m});var d=E(9751),B=E(8421);function m(ne){return new d.y(xe=>{(0,B.Xf)(ne()).subscribe(xe)})}},515:(gn,nt,E)=>{E.d(nt,{E:()=>B});const B=new(E(9751).y)(xe=>xe.complete())},4128:(gn,nt,E)=>{E.d(nt,{D:()=>_e});var d=E(9751),B=E(4742),m=E(8421),ne=E(3269),xe=E(5403),ae=E(3268),Z=E(1810);function _e(...Ee){const se=(0,ne.jO)(Ee),{args:de,keys:me}=(0,B.D)(Ee),Xe=new d.y(Ne=>{const{length:dt}=de;if(!dt)return void Ne.complete();const it=new Array(dt);let Le=dt,He=dt;for(let Re=0;Re<dt;Re++){let yt=!1;(0,m.Xf)(de[Re]).subscribe((0,xe.x)(Ne,ue=>{yt||(yt=!0,He--),it[Re]=ue},()=>Le--,void 0,()=>{(!Le||!yt)&&(He||Ne.next(me?(0,Z.n)(me,it):it),Ne.complete())}))}});return se?Xe.pipe((0,ae.Z)(se)):Xe}},8996:(gn,nt,E)=>{E.d(nt,{D:()=>De});var d=E(8421),B=E(5363),m=E(9468),ae=E(9751),_e=E(2202),Ee=E(576),se=E(9672);function me(be,Ae){if(!be)throw new Error("Iterable cannot be null");return new ae.y($e=>{(0,se.f)($e,Ae,()=>{const K=be[Symbol.asyncIterator]();(0,se.f)($e,Ae,()=>{K.next().then(Ge=>{Ge.done?$e.complete():$e.next(Ge.value)})},0,!0)})})}var Xe=E(3670),Ne=E(8239),dt=E(1144),it=E(6495),Le=E(2206),He=E(4532),Re=E(3260);function De(be,Ae){return Ae?function ue(be,Ae){if(null!=be){if((0,Xe.c)(be))return function ne(be,Ae){return(0,d.Xf)(be).pipe((0,m.R)(Ae),(0,B.Q)(Ae))}(be,Ae);if((0,dt.z)(be))return function Z(be,Ae){return new ae.y($e=>{let K=0;return Ae.schedule(function(){K===be.length?$e.complete():($e.next(be[K++]),$e.closed||this.schedule())})})}(be,Ae);if((0,Ne.t)(be))return function xe(be,Ae){return(0,d.Xf)(be).pipe((0,m.R)(Ae),(0,B.Q)(Ae))}(be,Ae);if((0,Le.D)(be))return me(be,Ae);if((0,it.T)(be))return function de(be,Ae){return new ae.y($e=>{let K;return(0,se.f)($e,Ae,()=>{K=be[_e.h](),(0,se.f)($e,Ae,()=>{let Ge,Fe;try{({value:Ge,done:Fe}=K.next())}catch(ze){return void $e.error(ze)}Fe?$e.complete():$e.next(Ge)},0,!0)}),()=>(0,Ee.m)(K?.return)&&K.return()})}(be,Ae);if((0,Re.L)(be))return function yt(be,Ae){return me((0,Re.Q)(be),Ae)}(be,Ae)}throw(0,He.z)(be)}(be,Ae):(0,d.Xf)(be)}},8421:(gn,nt,E)=>{E.d(nt,{Xf:()=>Xe});var d=E(7582),B=E(1144),m=E(8239),ne=E(9751),xe=E(3670),ae=E(2206),Z=E(4532),_e=E(6495),Ee=E(3260),se=E(576),de=E(7849),me=E(8822);function Xe(ue){if(ue instanceof ne.y)return ue;if(null!=ue){if((0,xe.c)(ue))return function Ne(ue){return new ne.y(De=>{const be=ue[me.L]();if((0,se.m)(be.subscribe))return be.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,B.z)(ue))return function dt(ue){return new ne.y(De=>{for(let be=0;be<ue.length&&!De.closed;be++)De.next(ue[be]);De.complete()})}(ue);if((0,m.t)(ue))return function it(ue){return new ne.y(De=>{ue.then(be=>{De.closed||(De.next(be),De.complete())},be=>De.error(be)).then(null,de.h)})}(ue);if((0,ae.D)(ue))return He(ue);if((0,_e.T)(ue))return function Le(ue){return new ne.y(De=>{for(const be of ue)if(De.next(be),De.closed)return;De.complete()})}(ue);if((0,Ee.L)(ue))return function Re(ue){return He((0,Ee.Q)(ue))}(ue)}throw(0,Z.z)(ue)}function He(ue){return new ne.y(De=>{(function yt(ue,De){var be,Ae,$e,K;return(0,d.mG)(this,void 0,void 0,function*(){try{for(be=(0,d.KL)(ue);!(Ae=yield be.next()).done;)if(De.next(Ae.value),De.closed)return}catch(Ge){$e={error:Ge}}finally{try{Ae&&!Ae.done&&(K=be.return)&&(yield K.call(be))}finally{if($e)throw $e.error}}De.complete()})})(ue,De).catch(be=>De.error(be))})}},6451:(gn,nt,E)=>{E.d(nt,{T:()=>ae});var d=E(8189),B=E(8421),m=E(515),ne=E(3269),xe=E(8996);function ae(...Z){const _e=(0,ne.yG)(Z),Ee=(0,ne._6)(Z,1/0),se=Z;return se.length?1===se.length?(0,B.Xf)(se[0]):(0,d.J)(Ee)((0,xe.D)(se,_e)):m.E}},9646:(gn,nt,E)=>{E.d(nt,{of:()=>m});var d=E(3269),B=E(8996);function m(...ne){const xe=(0,d.yG)(ne);return(0,B.D)(ne,xe)}},2843:(gn,nt,E)=>{E.d(nt,{_:()=>m});var d=E(9751),B=E(576);function m(ne,xe){const ae=(0,B.m)(ne)?ne:()=>ne,Z=_e=>_e.error(ae());return new d.y(xe?_e=>xe.schedule(Z,0,_e):Z)}},5963:(gn,nt,E)=>{E.d(nt,{H:()=>xe});var d=E(9751),B=E(4986),m=E(3532);function xe(ae=0,Z,_e=B.P){let Ee=-1;return null!=Z&&((0,m.K)(Z)?_e=Z:Ee=Z),new d.y(se=>{let de=function ne(ae){return ae instanceof Date&&!isNaN(ae)}(ae)?+ae-_e.now():ae;de<0&&(de=0);let me=0;return _e.schedule(function(){se.closed||(se.next(me++),0<=Ee?this.schedule(void 0,Ee):se.complete())},de)})}},5403:(gn,nt,E)=>{E.d(nt,{x:()=>B});var d=E(930);function B(ne,xe,ae,Z,_e){return new m(ne,xe,ae,Z,_e)}class m extends d.Lv{constructor(xe,ae,Z,_e,Ee,se){super(xe),this.onFinalize=Ee,this.shouldUnsubscribe=se,this._next=ae?function(de){try{ae(de)}catch(me){xe.error(me)}}:super._next,this._error=_e?function(de){try{_e(de)}catch(me){xe.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(de){xe.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},262:(gn,nt,E)=>{E.d(nt,{K:()=>ne});var d=E(8421),B=E(5403),m=E(4482);function ne(xe){return(0,m.e)((ae,Z)=>{let se,_e=null,Ee=!1;_e=ae.subscribe((0,B.x)(Z,void 0,void 0,de=>{se=(0,d.Xf)(xe(de,ne(xe)(ae))),_e?(_e.unsubscribe(),_e=null,se.subscribe(Z)):Ee=!0})),Ee&&(_e.unsubscribe(),_e=null,se.subscribe(Z))})}},4351:(gn,nt,E)=>{E.d(nt,{b:()=>m});var d=E(5577),B=E(576);function m(ne,xe){return(0,B.m)(xe)?(0,d.z)(ne,xe,1):(0,d.z)(ne,1)}},8372:(gn,nt,E)=>{E.d(nt,{b:()=>ne});var d=E(4986),B=E(4482),m=E(5403);function ne(xe,ae=d.z){return(0,B.e)((Z,_e)=>{let Ee=null,se=null,de=null;const me=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const Ne=se;se=null,_e.next(Ne)}};function Xe(){const Ne=de+xe,dt=ae.now();if(dt<Ne)return Ee=this.schedule(void 0,Ne-dt),void _e.add(Ee);me()}Z.subscribe((0,m.x)(_e,Ne=>{se=Ne,de=ae.now(),Ee||(Ee=ae.schedule(Xe,xe),_e.add(Ee))},()=>{me(),_e.complete()},void 0,()=>{se=Ee=null}))})}},6590:(gn,nt,E)=>{E.d(nt,{d:()=>m});var d=E(4482),B=E(5403);function m(ne){return(0,d.e)((xe,ae)=>{let Z=!1;xe.subscribe((0,B.x)(ae,_e=>{Z=!0,ae.next(_e)},()=>{Z||ae.next(ne),ae.complete()}))})}},1884:(gn,nt,E)=>{E.d(nt,{x:()=>ne});var d=E(4671),B=E(4482),m=E(5403);function ne(ae,Z=d.y){return ae=ae??xe,(0,B.e)((_e,Ee)=>{let se,de=!0;_e.subscribe((0,m.x)(Ee,me=>{const Xe=Z(me);(de||!ae(se,Xe))&&(de=!1,se=Xe,Ee.next(me))}))})}function xe(ae,Z){return ae===Z}},9300:(gn,nt,E)=>{E.d(nt,{h:()=>m});var d=E(4482),B=E(5403);function m(ne,xe){return(0,d.e)((ae,Z)=>{let _e=0;ae.subscribe((0,B.x)(Z,Ee=>ne.call(xe,Ee,_e++)&&Z.next(Ee)))})}},8746:(gn,nt,E)=>{E.d(nt,{x:()=>B});var d=E(4482);function B(m){return(0,d.e)((ne,xe)=>{try{ne.subscribe(xe)}finally{xe.add(m)}})}},590:(gn,nt,E)=>{E.d(nt,{P:()=>Z});var d=E(6805),B=E(9300),m=E(5698),ne=E(6590),xe=E(8068),ae=E(4671);function Z(_e,Ee){const se=arguments.length>=2;return de=>de.pipe(_e?(0,B.h)((me,Xe)=>_e(me,Xe,de)):ae.y,(0,m.q)(1),se?(0,ne.d)(Ee):(0,xe.T)(()=>new d.K))}},4004:(gn,nt,E)=>{E.d(nt,{U:()=>m});var d=E(4482),B=E(5403);function m(ne,xe){return(0,d.e)((ae,Z)=>{let _e=0;ae.subscribe((0,B.x)(Z,Ee=>{Z.next(ne.call(xe,Ee,_e++))}))})}},9718:(gn,nt,E)=>{E.d(nt,{h:()=>B});var d=E(4004);function B(m){return(0,d.U)(()=>m)}},8189:(gn,nt,E)=>{E.d(nt,{J:()=>m});var d=E(5577),B=E(4671);function m(ne=1/0){return(0,d.z)(B.y,ne)}},5577:(gn,nt,E)=>{E.d(nt,{z:()=>_e});var d=E(4004),B=E(8421),m=E(4482),ne=E(9672),xe=E(5403),Z=E(576);function _e(Ee,se,de=1/0){return(0,Z.m)(se)?_e((me,Xe)=>(0,d.U)((Ne,dt)=>se(me,Ne,Xe,dt))((0,B.Xf)(Ee(me,Xe))),de):("number"==typeof se&&(de=se),(0,m.e)((me,Xe)=>function ae(Ee,se,de,me,Xe,Ne,dt,it){const Le=[];let He=0,Re=0,yt=!1;const ue=()=>{yt&&!Le.length&&!He&&se.complete()},De=Ae=>He<me?be(Ae):Le.push(Ae),be=Ae=>{Ne&&se.next(Ae),He++;let $e=!1;(0,B.Xf)(de(Ae,Re++)).subscribe((0,xe.x)(se,K=>{Xe?.(K),Ne?De(K):se.next(K)},()=>{$e=!0},void 0,()=>{if($e)try{for(He--;Le.length&&He<me;){const K=Le.shift();dt?(0,ne.f)(se,dt,()=>be(K)):be(K)}ue()}catch(K){se.error(K)}}))};return Ee.subscribe((0,xe.x)(se,De,()=>{yt=!0,ue()})),()=>{it?.()}}(me,Xe,Ee,de)))}},5363:(gn,nt,E)=>{E.d(nt,{Q:()=>ne});var d=E(9672),B=E(4482),m=E(5403);function ne(xe,ae=0){return(0,B.e)((Z,_e)=>{Z.subscribe((0,m.x)(_e,Ee=>(0,d.f)(_e,xe,()=>_e.next(Ee),ae),()=>(0,d.f)(_e,xe,()=>_e.complete(),ae),Ee=>(0,d.f)(_e,xe,()=>_e.error(Ee),ae)))})}},5026:(gn,nt,E)=>{E.d(nt,{R:()=>ne});var d=E(4482),B=E(5403);function ne(xe,ae){return(0,d.e)(function m(xe,ae,Z,_e,Ee){return(se,de)=>{let me=Z,Xe=ae,Ne=0;se.subscribe((0,B.x)(de,dt=>{const it=Ne++;Xe=me?xe(Xe,dt,it):(me=!0,dt),_e&&de.next(Xe)},Ee&&(()=>{me&&de.next(Xe),de.complete()})))}}(xe,ae,arguments.length>=2,!0))}},3099:(gn,nt,E)=>{E.d(nt,{B:()=>xe});var d=E(8421),B=E(7579),m=E(930),ne=E(4482);function xe(Z={}){const{connector:_e=(()=>new B.x),resetOnError:Ee=!0,resetOnComplete:se=!0,resetOnRefCountZero:de=!0}=Z;return me=>{let Xe,Ne,dt,it=0,Le=!1,He=!1;const Re=()=>{Ne?.unsubscribe(),Ne=void 0},yt=()=>{Re(),Xe=dt=void 0,Le=He=!1},ue=()=>{const De=Xe;yt(),De?.unsubscribe()};return(0,ne.e)((De,be)=>{it++,!He&&!Le&&Re();const Ae=dt=dt??_e();be.add(()=>{it--,0===it&&!He&&!Le&&(Ne=ae(ue,de))}),Ae.subscribe(be),!Xe&&it>0&&(Xe=new m.Hp({next:$e=>Ae.next($e),error:$e=>{He=!0,Re(),Ne=ae(yt,Ee,$e),Ae.error($e)},complete:()=>{Le=!0,Re(),Ne=ae(yt,se),Ae.complete()}}),(0,d.Xf)(De).subscribe(Xe))})(me)}}function ae(Z,_e,...Ee){if(!0===_e)return void Z();if(!1===_e)return;const se=new m.Hp({next:()=>{se.unsubscribe(),Z()}});return(0,d.Xf)(_e(...Ee)).subscribe(se)}},5684:(gn,nt,E)=>{E.d(nt,{T:()=>B});var d=E(9300);function B(m){return(0,d.h)((ne,xe)=>m<=xe)}},8675:(gn,nt,E)=>{E.d(nt,{O:()=>ne});var d=E(7272),B=E(3269),m=E(4482);function ne(...xe){const ae=(0,B.yG)(xe);return(0,m.e)((Z,_e)=>{(ae?(0,d.z)(xe,Z,ae):(0,d.z)(xe,Z)).subscribe(_e)})}},9468:(gn,nt,E)=>{E.d(nt,{R:()=>B});var d=E(4482);function B(m,ne=0){return(0,d.e)((xe,ae)=>{ae.add(m.schedule(()=>xe.subscribe(ae),ne))})}},3900:(gn,nt,E)=>{E.d(nt,{w:()=>ne});var d=E(8421),B=E(4482),m=E(5403);function ne(xe,ae){return(0,B.e)((Z,_e)=>{let Ee=null,se=0,de=!1;const me=()=>de&&!Ee&&_e.complete();Z.subscribe((0,m.x)(_e,Xe=>{Ee?.unsubscribe();let Ne=0;const dt=se++;(0,d.Xf)(xe(Xe,dt)).subscribe(Ee=(0,m.x)(_e,it=>_e.next(ae?ae(Xe,it,dt,Ne++):it),()=>{Ee=null,me()}))},()=>{de=!0,me()}))})}},5698:(gn,nt,E)=>{E.d(nt,{q:()=>ne});var d=E(515),B=E(4482),m=E(5403);function ne(xe){return xe<=0?()=>d.E:(0,B.e)((ae,Z)=>{let _e=0;ae.subscribe((0,m.x)(Z,Ee=>{++_e<=xe&&(Z.next(Ee),xe<=_e&&Z.complete())}))})}},2722:(gn,nt,E)=>{E.d(nt,{R:()=>xe});var d=E(4482),B=E(5403),m=E(8421),ne=E(5032);function xe(ae){return(0,d.e)((Z,_e)=>{(0,m.Xf)(ae).subscribe((0,B.x)(_e,()=>_e.complete(),ne.Z)),!_e.closed&&Z.subscribe(_e)})}},8505:(gn,nt,E)=>{E.d(nt,{b:()=>xe});var d=E(576),B=E(4482),m=E(5403),ne=E(4671);function xe(ae,Z,_e){const Ee=(0,d.m)(ae)||Z||_e?{next:ae,error:Z,complete:_e}:ae;return Ee?(0,B.e)((se,de)=>{var me;null===(me=Ee.subscribe)||void 0===me||me.call(Ee);let Xe=!0;se.subscribe((0,m.x)(de,Ne=>{var dt;null===(dt=Ee.next)||void 0===dt||dt.call(Ee,Ne),de.next(Ne)},()=>{var Ne;Xe=!1,null===(Ne=Ee.complete)||void 0===Ne||Ne.call(Ee),de.complete()},Ne=>{var dt;Xe=!1,null===(dt=Ee.error)||void 0===dt||dt.call(Ee,Ne),de.error(Ne)},()=>{var Ne,dt;Xe&&(null===(Ne=Ee.unsubscribe)||void 0===Ne||Ne.call(Ee)),null===(dt=Ee.finalize)||void 0===dt||dt.call(Ee)}))}):ne.y}},8068:(gn,nt,E)=>{E.d(nt,{T:()=>ne});var d=E(6805),B=E(4482),m=E(5403);function ne(ae=xe){return(0,B.e)((Z,_e)=>{let Ee=!1;Z.subscribe((0,m.x)(_e,se=>{Ee=!0,_e.next(se)},()=>Ee?_e.complete():_e.error(ae())))})}function xe(){return new d.K}},4408:(gn,nt,E)=>{E.d(nt,{o:()=>xe});var d=E(727);class B extends d.w0{constructor(Z,_e){super()}schedule(Z,_e=0){return this}}const m={setInterval(ae,Z,..._e){const{delegate:Ee}=m;return Ee?.setInterval?Ee.setInterval(ae,Z,..._e):setInterval(ae,Z,..._e)},clearInterval(ae){const{delegate:Z}=m;return(Z?.clearInterval||clearInterval)(ae)},delegate:void 0};var ne=E(8737);class xe extends B{constructor(Z,_e){super(Z,_e),this.scheduler=Z,this.work=_e,this.pending=!1}schedule(Z,_e=0){var Ee;if(this.closed)return this;this.state=Z;const se=this.id,de=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(de,se,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(de,this.id,_e),this}requestAsyncId(Z,_e,Ee=0){return m.setInterval(Z.flush.bind(Z,this),Ee)}recycleAsyncId(Z,_e,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return _e;null!=_e&&m.clearInterval(_e)}execute(Z,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Z,_e);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,_e){let se,Ee=!1;try{this.work(Z)}catch(de){Ee=!0,se=de||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Z,scheduler:_e}=this,{actions:Ee}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(Ee,this),null!=Z&&(this.id=this.recycleAsyncId(_e,Z,null)),this.delay=null,super.unsubscribe()}}}},7565:(gn,nt,E)=>{E.d(nt,{v:()=>m});var d=E(6063);class B{constructor(xe,ae=B.now){this.schedulerActionCtor=xe,this.now=ae}schedule(xe,ae=0,Z){return new this.schedulerActionCtor(this,xe).schedule(Z,ae)}}B.now=d.l.now;class m extends B{constructor(xe,ae=B.now){super(xe,ae),this.actions=[],this._active=!1}flush(xe){const{actions:ae}=this;if(this._active)return void ae.push(xe);let Z;this._active=!0;do{if(Z=xe.execute(xe.state,xe.delay))break}while(xe=ae.shift());if(this._active=!1,Z){for(;xe=ae.shift();)xe.unsubscribe();throw Z}}}},3101:(gn,nt,E)=>{E.d(nt,{E:()=>Ne});var d=E(4408);let m,B=1;const ne={};function xe(it){return it in ne&&(delete ne[it],!0)}const ae={setImmediate(it){const Le=B++;return ne[Le]=!0,m||(m=Promise.resolve()),m.then(()=>xe(Le)&&it()),Le},clearImmediate(it){xe(it)}},{setImmediate:_e,clearImmediate:Ee}=ae,se={setImmediate(...it){const{delegate:Le}=se;return(Le?.setImmediate||_e)(...it)},clearImmediate(it){const{delegate:Le}=se;return(Le?.clearImmediate||Ee)(it)},delegate:void 0};var me=E(7565);const Ne=new class Xe extends me.v{flush(Le){this._active=!0;const He=this._scheduled;this._scheduled=void 0;const{actions:Re}=this;let yt;Le=Le||Re.shift();do{if(yt=Le.execute(Le.state,Le.delay))break}while((Le=Re[0])&&Le.id===He&&Re.shift());if(this._active=!1,yt){for(;(Le=Re[0])&&Le.id===He&&Re.shift();)Le.unsubscribe();throw yt}}}(class de extends d.o{constructor(Le,He){super(Le,He),this.scheduler=Le,this.work=He}requestAsyncId(Le,He,Re=0){return null!==Re&&Re>0?super.requestAsyncId(Le,He,Re):(Le.actions.push(this),Le._scheduled||(Le._scheduled=se.setImmediate(Le.flush.bind(Le,void 0))))}recycleAsyncId(Le,He,Re=0){var yt;if(null!=Re?Re>0:this.delay>0)return super.recycleAsyncId(Le,He,Re);const{actions:ue}=Le;null!=He&&(null===(yt=ue[ue.length-1])||void 0===yt?void 0:yt.id)!==He&&(se.clearImmediate(He),Le._scheduled===He&&(Le._scheduled=void 0))}})},4986:(gn,nt,E)=>{E.d(nt,{P:()=>ne,z:()=>m});var d=E(4408);const m=new(E(7565).v)(d.o),ne=m},6063:(gn,nt,E)=>{E.d(nt,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(gn,nt,E)=>{E.d(nt,{z:()=>d});const d={setTimeout(B,m,...ne){const{delegate:xe}=d;return xe?.setTimeout?xe.setTimeout(B,m,...ne):setTimeout(B,m,...ne)},clearTimeout(B){const{delegate:m}=d;return(m?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(gn,nt,E)=>{E.d(nt,{h:()=>B});const B=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gn,nt,E)=>{E.d(nt,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(gn,nt,E)=>{E.d(nt,{K:()=>B});const B=(0,E(3888).d)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(gn,nt,E)=>{E.d(nt,{_6:()=>ae,jO:()=>ne,yG:()=>xe});var d=E(576),B=E(3532);function m(Z){return Z[Z.length-1]}function ne(Z){return(0,d.m)(m(Z))?Z.pop():void 0}function xe(Z){return(0,B.K)(m(Z))?Z.pop():void 0}function ae(Z,_e){return"number"==typeof m(Z)?Z.pop():_e}},4742:(gn,nt,E)=>{E.d(nt,{D:()=>xe});const{isArray:d}=Array,{getPrototypeOf:B,prototype:m,keys:ne}=Object;function xe(Z){if(1===Z.length){const _e=Z[0];if(d(_e))return{args:_e,keys:null};if(function ae(Z){return Z&&"object"==typeof Z&&B(Z)===m}(_e)){const Ee=ne(_e);return{args:Ee.map(se=>_e[se]),keys:Ee}}}return{args:Z,keys:null}}},8737:(gn,nt,E)=>{function d(B,m){if(B){const ne=B.indexOf(m);0<=ne&&B.splice(ne,1)}}E.d(nt,{P:()=>d})},3888:(gn,nt,E)=>{function d(B){const ne=B(xe=>{Error.call(xe),xe.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}E.d(nt,{d:()=>d})},1810:(gn,nt,E)=>{function d(B,m){return B.reduce((ne,xe,ae)=>(ne[xe]=m[ae],ne),{})}E.d(nt,{n:()=>d})},2806:(gn,nt,E)=>{E.d(nt,{O:()=>ne,x:()=>m});var d=E(2416);let B=null;function m(xe){if(d.config.useDeprecatedSynchronousErrorHandling){const ae=!B;if(ae&&(B={errorThrown:!1,error:null}),xe(),ae){const{errorThrown:Z,error:_e}=B;if(B=null,Z)throw _e}}else xe()}function ne(xe){d.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=xe)}},9672:(gn,nt,E)=>{function d(B,m,ne,xe=0,ae=!1){const Z=m.schedule(function(){ne(),ae?B.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(B.add(Z),!ae)return Z}E.d(nt,{f:()=>d})},4671:(gn,nt,E)=>{function d(B){return B}E.d(nt,{y:()=>d})},1144:(gn,nt,E)=>{E.d(nt,{z:()=>d});const d=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(gn,nt,E)=>{E.d(nt,{D:()=>B});var d=E(576);function B(m){return Symbol.asyncIterator&&(0,d.m)(m?.[Symbol.asyncIterator])}},576:(gn,nt,E)=>{function d(B){return"function"==typeof B}E.d(nt,{m:()=>d})},3670:(gn,nt,E)=>{E.d(nt,{c:()=>m});var d=E(8822),B=E(576);function m(ne){return(0,B.m)(ne[d.L])}},6495:(gn,nt,E)=>{E.d(nt,{T:()=>m});var d=E(2202),B=E(576);function m(ne){return(0,B.m)(ne?.[d.h])}},8239:(gn,nt,E)=>{E.d(nt,{t:()=>B});var d=E(576);function B(m){return(0,d.m)(m?.then)}},3260:(gn,nt,E)=>{E.d(nt,{L:()=>ne,Q:()=>m});var d=E(7582),B=E(576);function m(xe){return(0,d.FC)(this,arguments,function*(){const Z=xe.getReader();try{for(;;){const{value:_e,done:Ee}=yield(0,d.qq)(Z.read());if(Ee)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(_e)}}finally{Z.releaseLock()}})}function ne(xe){return(0,B.m)(xe?.getReader)}},3532:(gn,nt,E)=>{E.d(nt,{K:()=>B});var d=E(576);function B(m){return m&&(0,d.m)(m.schedule)}},4482:(gn,nt,E)=>{E.d(nt,{A:()=>B,e:()=>m});var d=E(576);function B(ne){return(0,d.m)(ne?.lift)}function m(ne){return xe=>{if(B(xe))return xe.lift(function(ae){try{return ne(ae,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(gn,nt,E)=>{E.d(nt,{Z:()=>ne});var d=E(4004);const{isArray:B}=Array;function ne(xe){return(0,d.U)(ae=>function m(xe,ae){return B(ae)?xe(...ae):xe(ae)}(xe,ae))}},5032:(gn,nt,E)=>{function d(){}E.d(nt,{Z:()=>d})},9635:(gn,nt,E)=>{E.d(nt,{U:()=>m,z:()=>B});var d=E(4671);function B(...ne){return m(ne)}function m(ne){return 0===ne.length?d.y:1===ne.length?ne[0]:function(ae){return ne.reduce((Z,_e)=>_e(Z),ae)}}},7849:(gn,nt,E)=>{E.d(nt,{h:()=>m});var d=E(2416),B=E(3410);function m(ne){B.z.setTimeout(()=>{const{onUnhandledError:xe}=d.config;if(!xe)throw ne;xe(ne)})}},4532:(gn,nt,E)=>{function d(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(nt,{z:()=>d})},1591:(gn,nt,E)=>{E.d(nt,{IO:()=>dt,LC:()=>B,SB:()=>Ee,X$:()=>ne,ZE:()=>Re,ZN:()=>He,_j:()=>d,eR:()=>de,jt:()=>xe,k1:()=>yt,l3:()=>m,oB:()=>_e,pV:()=>Xe,ru:()=>ae,vP:()=>Z});class d{}class B{}const m="*";function ne(ue,De){return{type:7,name:ue,definitions:De,options:{}}}function xe(ue,De=null){return{type:4,styles:De,timings:ue}}function ae(ue,De=null){return{type:3,steps:ue,options:De}}function Z(ue,De=null){return{type:2,steps:ue,options:De}}function _e(ue){return{type:6,styles:ue,offset:null}}function Ee(ue,De,be){return{type:0,name:ue,styles:De,options:be}}function de(ue,De,be=null){return{type:1,expr:ue,animation:De,options:be}}function Xe(ue=null){return{type:9,options:ue}}function dt(ue,De,be=null){return{type:11,selector:ue,animation:De,options:be}}function Le(ue){Promise.resolve().then(ue)}class He{constructor(De=0,be=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+be}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const be="start"==De?this._onStartFns:this._onDoneFns;be.forEach(Ae=>Ae()),be.length=0}}class Re{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let be=0,Ae=0,$e=0;const K=this.players.length;0==K?Le(()=>this._onFinish()):this.players.forEach(Ge=>{Ge.onDone(()=>{++be==K&&this._onFinish()}),Ge.onDestroy(()=>{++Ae==K&&this._onDestroy()}),Ge.onStart(()=>{++$e==K&&this._onStart()})}),this.totalTime=this.players.reduce((Ge,Fe)=>Math.max(Ge,Fe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const be=De*this.totalTime;this.players.forEach(Ae=>{const $e=Ae.totalTime?Math.min(1,be/Ae.totalTime):1;Ae.setPosition($e)})}getPosition(){const De=this.players.reduce((be,Ae)=>null===be||Ae.totalTime>be.totalTime?Ae:be,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const be="start"==De?this._onStartFns:this._onDoneFns;be.forEach(Ae=>Ae()),be.length=0}}const yt="!"},706:(gn,nt,E)=>{E.d(nt,{Em:()=>ut,X6:()=>ce,ic:()=>At,qV:()=>cn,qm:()=>Je,rt:()=>rt,tE:()=>Sn,yG:()=>Ve});var d=E(4755),B=E(2223),m=E(2966),ne=E(7579),xe=E(727),ae=E(1135),Z=E(9646),_e=E(2840),Ee=E(8505),se=E(8372),de=E(9300),me=E(4004),Xe=E(5698),Ne=E(5684),dt=E(1884),it=E(2722),Le=E(1692),He=E(829),Re=E(5537);class vn{constructor(Oe){this._items=Oe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne.x,this._typeaheadSubscription=xe.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Se=>Se.disabled,this._pressedLetters=[],this.tabOut=new ne.x,this.change=new ne.x,Oe instanceof B.n_E&&(this._itemChangesSubscription=Oe.changes.subscribe(Se=>{if(this._activeItem){const Vt=Se.toArray().indexOf(this._activeItem);Vt>-1&&Vt!==this._activeItemIndex&&(this._activeItemIndex=Vt)}}))}skipPredicate(Oe){return this._skipPredicateFn=Oe,this}withWrap(Oe=!0){return this._wrap=Oe,this}withVerticalOrientation(Oe=!0){return this._vertical=Oe,this}withHorizontalOrientation(Oe){return this._horizontal=Oe,this}withAllowedModifierKeys(Oe){return this._allowedModifierKeys=Oe,this}withTypeAhead(Oe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ee.b)(Se=>this._pressedLetters.push(Se)),(0,se.b)(Oe),(0,de.h)(()=>this._pressedLetters.length>0),(0,me.U)(()=>this._pressedLetters.join(""))).subscribe(Se=>{const wt=this._getItemsArray();for(let Vt=1;Vt<wt.length+1;Vt++){const Me=(this._activeItemIndex+Vt)%wt.length,oe=wt[Me];if(!this._skipPredicateFn(oe)&&0===oe.getLabel().toUpperCase().trim().indexOf(Se)){this.setActiveItem(Me);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Oe=!0){return this._homeAndEnd=Oe,this}withPageUpDown(Oe=!0,Se=10){return this._pageUpAndDown={enabled:Oe,delta:Se},this}setActiveItem(Oe){const Se=this._activeItem;this.updateActiveItem(Oe),this._activeItem!==Se&&this.change.next(this._activeItemIndex)}onKeydown(Oe){const Se=Oe.keyCode,Vt=["altKey","ctrlKey","metaKey","shiftKey"].every(Me=>!Oe[Me]||this._allowedModifierKeys.indexOf(Me)>-1);switch(Se){case _e.Mf:return void this.tabOut.next();case _e.JH:if(this._vertical&&Vt){this.setNextItemActive();break}return;case _e.LH:if(this._vertical&&Vt){this.setPreviousItemActive();break}return;case _e.SV:if(this._horizontal&&Vt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case _e.oh:if(this._horizontal&&Vt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case _e.Sd:if(this._homeAndEnd&&Vt){this.setFirstItemActive();break}return;case _e.uR:if(this._homeAndEnd&&Vt){this.setLastItemActive();break}return;case _e.Ku:if(this._pageUpAndDown.enabled&&Vt){const Me=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Me>0?Me:0,1);break}return;case _e.VM:if(this._pageUpAndDown.enabled&&Vt){const Me=this._activeItemIndex+this._pageUpAndDown.delta,oe=this._getItemsArray().length;this._setActiveItemByIndex(Me<oe?Me:oe-1,-1);break}return;default:return void((Vt||(0,_e.Vb)(Oe,"shiftKey"))&&(Oe.key&&1===Oe.key.length?this._letterKeyStream.next(Oe.key.toLocaleUpperCase()):(Se>=_e.A&&Se<=_e.Z||Se>=_e.xE&&Se<=_e.aO)&&this._letterKeyStream.next(String.fromCharCode(Se))))}this._pressedLetters=[],Oe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Oe){const Se=this._getItemsArray(),wt="number"==typeof Oe?Oe:Se.indexOf(Oe);this._activeItem=Se[wt]??null,this._activeItemIndex=wt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Oe){this._wrap?this._setActiveInWrapMode(Oe):this._setActiveInDefaultMode(Oe)}_setActiveInWrapMode(Oe){const Se=this._getItemsArray();for(let wt=1;wt<=Se.length;wt++){const Vt=(this._activeItemIndex+Oe*wt+Se.length)%Se.length;if(!this._skipPredicateFn(Se[Vt]))return void this.setActiveItem(Vt)}}_setActiveInDefaultMode(Oe){this._setActiveItemByIndex(this._activeItemIndex+Oe,Oe)}_setActiveItemByIndex(Oe,Se){const wt=this._getItemsArray();if(wt[Oe]){for(;this._skipPredicateFn(wt[Oe]);)if(!wt[Oe+=Se])return;this.setActiveItem(Oe)}}_getItemsArray(){return this._items instanceof B.n_E?this._items.toArray():this._items}}class ut extends vn{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Oe){return this._origin=Oe,this}setActiveItem(Oe){super.setActiveItem(Oe),this.activeItem&&this.activeItem.focus(this._origin)}}let At=(()=>{class Be{constructor(Se){this._platform=Se}isDisabled(Se){return Se.hasAttribute("disabled")}isVisible(Se){return function qt(Be){return!!(Be.offsetWidth||Be.offsetHeight||"function"==typeof Be.getClientRects&&Be.getClientRects().length)}(Se)&&"visible"===getComputedStyle(Se).visibility}isTabbable(Se){if(!this._platform.isBrowser)return!1;const wt=function Rt(Be){try{return Be.frameElement}catch{return null}}(function jt(Be){return Be.ownerDocument&&Be.ownerDocument.defaultView||window}(Se));if(wt&&(-1===Qe(wt)||!this.isVisible(wt)))return!1;let Vt=Se.nodeName.toLowerCase(),Me=Qe(Se);return Se.hasAttribute("contenteditable")?-1!==Me:!("iframe"===Vt||"object"===Vt||this._platform.WEBKIT&&this._platform.IOS&&!function St(Be){let Oe=Be.nodeName.toLowerCase(),Se="input"===Oe&&Be.type;return"text"===Se||"password"===Se||"select"===Oe||"textarea"===Oe}(Se))&&("audio"===Vt?!!Se.hasAttribute("controls")&&-1!==Me:"video"===Vt?-1!==Me&&(null!==Me||this._platform.FIREFOX||Se.hasAttribute("controls")):Se.tabIndex>=0)}isFocusable(Se,wt){return function mt(Be){return!function ln(Be){return function rn(Be){return"input"==Be.nodeName.toLowerCase()}(Be)&&"hidden"==Be.type}(Be)&&(function Gt(Be){let Oe=Be.nodeName.toLowerCase();return"input"===Oe||"select"===Oe||"button"===Oe||"textarea"===Oe}(Be)||function _n(Be){return function Mt(Be){return"a"==Be.nodeName.toLowerCase()}(Be)&&Be.hasAttribute("href")}(Be)||Be.hasAttribute("contenteditable")||Ke(Be))}(Se)&&!this.isDisabled(Se)&&(wt?.ignoreVisibility||this.isVisible(Se))}}return Be.\u0275fac=function(Se){return new(Se||Be)(B.LFG(m.t4))},Be.\u0275prov=B.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();function Ke(Be){if(!Be.hasAttribute("tabindex")||void 0===Be.tabIndex)return!1;let Oe=Be.getAttribute("tabindex");return!(!Oe||isNaN(parseInt(Oe,10)))}function Qe(Be){if(!Ke(Be))return null;const Oe=parseInt(Be.getAttribute("tabindex")||"",10);return isNaN(Oe)?-1:Oe}class Tt{get enabled(){return this._enabled}set enabled(Oe){this._enabled=Oe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Oe,this._startAnchor),this._toggleAnchorTabIndex(Oe,this._endAnchor))}constructor(Oe,Se,wt,Vt,Me=!1){this._element=Oe,this._checker=Se,this._ngZone=wt,this._document=Vt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Me||this.attachAnchors()}destroy(){const Oe=this._startAnchor,Se=this._endAnchor;Oe&&(Oe.removeEventListener("focus",this.startAnchorListener),Oe.remove()),Se&&(Se.removeEventListener("focus",this.endAnchorListener),Se.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Oe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusInitialElement(Oe)))})}focusFirstTabbableElementWhenReady(Oe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusFirstTabbableElement(Oe)))})}focusLastTabbableElementWhenReady(Oe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusLastTabbableElement(Oe)))})}_getRegionBoundary(Oe){const Se=this._element.querySelectorAll(`[cdk-focus-region-${Oe}], [cdkFocusRegion${Oe}], [cdk-focus-${Oe}]`);return"start"==Oe?Se.length?Se[0]:this._getFirstTabbableElement(this._element):Se.length?Se[Se.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Oe){const Se=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Se){if(!this._checker.isFocusable(Se)){const wt=this._getFirstTabbableElement(Se);return wt?.focus(Oe),!!wt}return Se.focus(Oe),!0}return this.focusFirstTabbableElement(Oe)}focusFirstTabbableElement(Oe){const Se=this._getRegionBoundary("start");return Se&&Se.focus(Oe),!!Se}focusLastTabbableElement(Oe){const Se=this._getRegionBoundary("end");return Se&&Se.focus(Oe),!!Se}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Oe){if(this._checker.isFocusable(Oe)&&this._checker.isTabbable(Oe))return Oe;const Se=Oe.children;for(let wt=0;wt<Se.length;wt++){const Vt=Se[wt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Se[wt]):null;if(Vt)return Vt}return null}_getLastTabbableElement(Oe){if(this._checker.isFocusable(Oe)&&this._checker.isTabbable(Oe))return Oe;const Se=Oe.children;for(let wt=Se.length-1;wt>=0;wt--){const Vt=Se[wt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Se[wt]):null;if(Vt)return Vt}return null}_createAnchor(){const Oe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Oe),Oe.classList.add("cdk-visually-hidden"),Oe.classList.add("cdk-focus-trap-anchor"),Oe.setAttribute("aria-hidden","true"),Oe}_toggleAnchorTabIndex(Oe,Se){Oe?Se.setAttribute("tabindex","0"):Se.removeAttribute("tabindex")}toggleAnchors(Oe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Oe,this._startAnchor),this._toggleAnchorTabIndex(Oe,this._endAnchor))}_executeOnStable(Oe){this._ngZone.isStable?Oe():this._ngZone.onStable.pipe((0,Xe.q)(1)).subscribe(Oe)}}let cn=(()=>{class Be{constructor(Se,wt,Vt){this._checker=Se,this._ngZone=wt,this._document=Vt}create(Se,wt=!1){return new Tt(Se,this._checker,this._ngZone,this._document,wt)}}return Be.\u0275fac=function(Se){return new(Se||Be)(B.LFG(At),B.LFG(B.R0b),B.LFG(d.K0))},Be.\u0275prov=B.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();function ce(Be){return 0===Be.buttons||0===Be.offsetX&&0===Be.offsetY}function Ve(Be){const Oe=Be.touches&&Be.touches[0]||Be.changedTouches&&Be.changedTouches[0];return!(!Oe||-1!==Oe.identifier||null!=Oe.radiusX&&1!==Oe.radiusX||null!=Oe.radiusY&&1!==Oe.radiusY)}const ft=new B.OlP("cdk-input-modality-detector-options"),st={ignoreKeys:[_e.zL,_e.jx,_e.b2,_e.MW,_e.JU]},qe=(0,m.i$)({passive:!0,capture:!0});let ke=(()=>{class Be{get mostRecentModality(){return this._modality.value}constructor(Se,wt,Vt,Me){this._platform=Se,this._mostRecentTarget=null,this._modality=new ae.X(null),this._lastTouchMs=0,this._onKeydown=oe=>{this._options?.ignoreKeys?.some(H=>H===oe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,m.sA)(oe))},this._onMousedown=oe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ce(oe)?"keyboard":"mouse"),this._mostRecentTarget=(0,m.sA)(oe))},this._onTouchstart=oe=>{Ve(oe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,m.sA)(oe))},this._options={...st,...Me},this.modalityDetected=this._modality.pipe((0,Ne.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,dt.x)()),Se.isBrowser&&wt.runOutsideAngular(()=>{Vt.addEventListener("keydown",this._onKeydown,qe),Vt.addEventListener("mousedown",this._onMousedown,qe),Vt.addEventListener("touchstart",this._onTouchstart,qe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qe),document.removeEventListener("mousedown",this._onMousedown,qe),document.removeEventListener("touchstart",this._onTouchstart,qe))}}return Be.\u0275fac=function(Se){return new(Se||Be)(B.LFG(m.t4),B.LFG(B.R0b),B.LFG(d.K0),B.LFG(ft,8))},Be.\u0275prov=B.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();const _t=new B.OlP("cdk-focus-monitor-default-options"),Ht=(0,m.i$)({passive:!0,capture:!0});let Sn=(()=>{class Be{constructor(Se,wt,Vt,Me,oe){this._ngZone=Se,this._platform=wt,this._inputModalityDetector=Vt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.x,this._rootNodeFocusAndBlurListener=H=>{for(let z=(0,m.sA)(H);z;z=z.parentElement)"focus"===H.type?this._onFocus(H,z):this._onBlur(H,z)},this._document=Me,this._detectionMode=oe?.detectionMode||0}monitor(Se,wt=!1){const Vt=(0,Le.fI)(Se);if(!this._platform.isBrowser||1!==Vt.nodeType)return(0,Z.of)(null);const Me=(0,m.kV)(Vt)||this._getDocument(),oe=this._elementInfo.get(Vt);if(oe)return wt&&(oe.checkChildren=!0),oe.subject;const H={checkChildren:wt,subject:new ne.x,rootNode:Me};return this._elementInfo.set(Vt,H),this._registerGlobalListeners(H),H.subject}stopMonitoring(Se){const wt=(0,Le.fI)(Se),Vt=this._elementInfo.get(wt);Vt&&(Vt.subject.complete(),this._setClasses(wt),this._elementInfo.delete(wt),this._removeGlobalListeners(Vt))}focusVia(Se,wt,Vt){const Me=(0,Le.fI)(Se);Me===this._getDocument().activeElement?this._getClosestElementsInfo(Me).forEach(([H,V])=>this._originChanged(H,wt,V)):(this._setOrigin(wt),"function"==typeof Me.focus&&Me.focus(Vt))}ngOnDestroy(){this._elementInfo.forEach((Se,wt)=>this.stopMonitoring(wt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Se){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Se)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Se&&this._isLastInteractionFromInputLabel(Se)?"mouse":"program"}_shouldBeAttributedToTouch(Se){return 1===this._detectionMode||!!Se?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Se,wt){Se.classList.toggle("cdk-focused",!!wt),Se.classList.toggle("cdk-touch-focused","touch"===wt),Se.classList.toggle("cdk-keyboard-focused","keyboard"===wt),Se.classList.toggle("cdk-mouse-focused","mouse"===wt),Se.classList.toggle("cdk-program-focused","program"===wt)}_setOrigin(Se,wt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Se,this._originFromTouchInteraction="touch"===Se&&wt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Se,wt){const Vt=this._elementInfo.get(wt),Me=(0,m.sA)(Se);!Vt||!Vt.checkChildren&&wt!==Me||this._originChanged(wt,this._getFocusOrigin(Me),Vt)}_onBlur(Se,wt){const Vt=this._elementInfo.get(wt);!Vt||Vt.checkChildren&&Se.relatedTarget instanceof Node&&wt.contains(Se.relatedTarget)||(this._setClasses(wt),this._emitOrigin(Vt,null))}_emitOrigin(Se,wt){Se.subject.observers.length&&this._ngZone.run(()=>Se.subject.next(wt))}_registerGlobalListeners(Se){if(!this._platform.isBrowser)return;const wt=Se.rootNode,Vt=this._rootNodeFocusListenerCount.get(wt)||0;Vt||this._ngZone.runOutsideAngular(()=>{wt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ht),wt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ht)}),this._rootNodeFocusListenerCount.set(wt,Vt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,it.R)(this._stopInputModalityDetector)).subscribe(Me=>{this._setOrigin(Me,!0)}))}_removeGlobalListeners(Se){const wt=Se.rootNode;if(this._rootNodeFocusListenerCount.has(wt)){const Vt=this._rootNodeFocusListenerCount.get(wt);Vt>1?this._rootNodeFocusListenerCount.set(wt,Vt-1):(wt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ht),wt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ht),this._rootNodeFocusListenerCount.delete(wt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Se,wt,Vt){this._setClasses(Se,wt),this._emitOrigin(Vt,wt),this._lastFocusOrigin=wt}_getClosestElementsInfo(Se){const wt=[];return this._elementInfo.forEach((Vt,Me)=>{(Me===Se||Vt.checkChildren&&Me.contains(Se))&&wt.push([Me,Vt])}),wt}_isLastInteractionFromInputLabel(Se){const{_mostRecentTarget:wt,mostRecentModality:Vt}=this._inputModalityDetector;if("mouse"!==Vt||!wt||wt===Se||"INPUT"!==Se.nodeName&&"TEXTAREA"!==Se.nodeName||Se.disabled)return!1;const Me=Se.labels;if(Me)for(let oe=0;oe<Me.length;oe++)if(Me[oe].contains(wt))return!0;return!1}}return Be.\u0275fac=function(Se){return new(Se||Be)(B.LFG(B.R0b),B.LFG(m.t4),B.LFG(ke),B.LFG(d.K0,8),B.LFG(_t,8))},Be.\u0275prov=B.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();const Ri="cdk-high-contrast-black-on-white",yi="cdk-high-contrast-white-on-black",Zt="cdk-high-contrast-active";let Je=(()=>{class Be{constructor(Se,wt){this._platform=Se,this._document=wt,this._breakpointSubscription=(0,B.f3M)(Re.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Se=this._document.createElement("div");Se.style.backgroundColor="rgb(1,2,3)",Se.style.position="absolute",this._document.body.appendChild(Se);const wt=this._document.defaultView||window,Vt=wt&&wt.getComputedStyle?wt.getComputedStyle(Se):null,Me=(Vt&&Vt.backgroundColor||"").replace(/ /g,"");switch(Se.remove(),Me){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Se=this._document.body.classList;Se.remove(Zt,Ri,yi),this._hasCheckedHighContrastMode=!0;const wt=this.getHighContrastMode();1===wt?Se.add(Zt,Ri):2===wt&&Se.add(Zt,yi)}}}return Be.\u0275fac=function(Se){return new(Se||Be)(B.LFG(m.t4),B.LFG(d.K0))},Be.\u0275prov=B.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),rt=(()=>{class Be{constructor(Se){Se._applyBodyHighContrastModeCssClasses()}}return Be.\u0275fac=function(Se){return new(Se||Be)(B.LFG(Je))},Be.\u0275mod=B.oAB({type:Be}),Be.\u0275inj=B.cJS({imports:[He.Q8]}),Be})()},8930:(gn,nt,E)=>{E.d(nt,{Is:()=>Z,vT:()=>Ee});var d=E(2223),B=E(4755);const m=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function ne(){return(0,d.f3M)(B.K0)}}),xe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Z=(()=>{class se{constructor(me){this.value="ltr",this.change=new d.vpe,me&&(this.value=function ae(se){const de=se?.toLowerCase()||"";return"auto"===de&&typeof navigator<"u"&&navigator?.language?xe.test(navigator.language)?"rtl":"ltr":"rtl"===de?"rtl":"ltr"}((me.body?me.body.dir:null)||(me.documentElement?me.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return se.\u0275fac=function(me){return new(me||se)(d.LFG(m,8))},se.\u0275prov=d.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Ee=(()=>{class se{}return se.\u0275fac=function(me){return new(me||se)},se.\u0275mod=d.oAB({type:se}),se.\u0275inj=d.cJS({}),se})()},1692:(gn,nt,E)=>{E.d(nt,{Eq:()=>xe,HM:()=>ae,Ig:()=>B,fI:()=>Z,su:()=>m});var d=E(2223);function B(Ee){return null!=Ee&&"false"!=`${Ee}`}function m(Ee,se=0){return function ne(Ee){return!isNaN(parseFloat(Ee))&&!isNaN(Number(Ee))}(Ee)?Number(Ee):se}function xe(Ee){return Array.isArray(Ee)?Ee:[Ee]}function ae(Ee){return null==Ee?"":"string"==typeof Ee?Ee:`${Ee}px`}function Z(Ee){return Ee instanceof d.SBq?Ee.nativeElement:Ee}},3223:(gn,nt,E)=>{E.d(nt,{LL:()=>it,Su:()=>K,Vq:()=>Ae,ib:()=>Ne});var d=E(706),B=E(9002),m=E(2966),ne=E(8023),xe=E(4755),ae=E(2223),Z=E(2840),_e=E(7579),Ee=E(9770),se=E(9646),de=E(8930),me=E(8675);function Xe(Ge,Fe){}class Ne{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let it=(()=>{class Ge extends ne.en{constructor(ze,vt,vn,kn,ut,ht,At,Rt){super(),this._elementRef=ze,this._focusTrapFactory=vt,this._config=kn,this._interactivityChecker=ut,this._ngZone=ht,this._overlayRef=At,this._focusMonitor=Rt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=qt=>{this._portalOutlet.hasAttached();const Gt=this._portalOutlet.attachDomPortal(qt);return this._contentAttached(),Gt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=vn}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ze){this._portalOutlet.hasAttached();const vt=this._portalOutlet.attachComponentPortal(ze);return this._contentAttached(),vt}attachTemplatePortal(ze){this._portalOutlet.hasAttached();const vt=this._portalOutlet.attachTemplatePortal(ze);return this._contentAttached(),vt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ze,vt){this._interactivityChecker.isFocusable(ze)||(ze.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const vn=()=>{ze.removeEventListener("blur",vn),ze.removeEventListener("mousedown",vn),ze.removeAttribute("tabindex")};ze.addEventListener("blur",vn),ze.addEventListener("mousedown",vn)})),ze.focus(vt)}_focusByCssSelector(ze,vt){let vn=this._elementRef.nativeElement.querySelector(ze);vn&&this._forceFocus(vn,vt)}_trapFocus(){const ze=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ze.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(vt=>{vt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ze=this._config.restoreFocus;let vt=null;if("string"==typeof ze?vt=this._document.querySelector(ze):"boolean"==typeof ze?vt=ze?this._elementFocusedBeforeDialogWasOpened:null:ze&&(vt=ze),this._config.restoreFocus&&vt&&"function"==typeof vt.focus){const vn=(0,m.ht)(),kn=this._elementRef.nativeElement;(!vn||vn===this._document.body||vn===kn||kn.contains(vn))&&(this._focusMonitor?(this._focusMonitor.focusVia(vt,this._closeInteractionType),this._closeInteractionType=null):vt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ze=this._elementRef.nativeElement,vt=(0,m.ht)();return ze===vt||ze.contains(vt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,m.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return Ge.\u0275fac=function(ze){return new(ze||Ge)(ae.Y36(ae.SBq),ae.Y36(d.qV),ae.Y36(xe.K0,8),ae.Y36(Ne),ae.Y36(d.ic),ae.Y36(ae.R0b),ae.Y36(B.Iu),ae.Y36(d.tE))},Ge.\u0275cmp=ae.Xpm({type:Ge,selectors:[["cdk-dialog-container"]],viewQuery:function(ze,vt){if(1&ze&&ae.Gf(ne.Pl,7),2&ze){let vn;ae.iGM(vn=ae.CRH())&&(vt._portalOutlet=vn.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ze,vt){2&ze&&ae.uIk("id",vt._config.id||null)("role",vt._config.role)("aria-modal",vt._config.ariaModal)("aria-labelledby",vt._config.ariaLabel?null:vt._ariaLabelledBy)("aria-label",vt._config.ariaLabel)("aria-describedby",vt._config.ariaDescribedBy||null)},features:[ae.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ze,vt){1&ze&&ae.YNc(0,Xe,0,0,"ng-template",0)},dependencies:[ne.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Ge})();class Le{constructor(Fe,ze){this.overlayRef=Fe,this.config=ze,this.closed=new _e.x,this.disableClose=ze.disableClose,this.backdropClick=Fe.backdropClick(),this.keydownEvents=Fe.keydownEvents(),this.outsidePointerEvents=Fe.outsidePointerEvents(),this.id=ze.id,this.keydownEvents.subscribe(vt=>{vt.keyCode===Z.hY&&!this.disableClose&&!(0,Z.Vb)(vt)&&(vt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Fe.detachments().subscribe(()=>{!1!==ze.closeOnOverlayDetachments&&this.close()})}close(Fe,ze){if(this.containerInstance){const vt=this.closed;this.containerInstance._closeInteractionType=ze?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),vt.next(Fe),vt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Fe="",ze=""){return this.overlayRef.updateSize({width:Fe,height:ze}),this}addPanelClass(Fe){return this.overlayRef.addPanelClass(Fe),this}removePanelClass(Fe){return this.overlayRef.removePanelClass(Fe),this}}const He=new ae.OlP("DialogScrollStrategy"),Re=new ae.OlP("DialogData"),yt=new ae.OlP("DefaultDialogConfig"),De={provide:He,deps:[B.aV],useFactory:function ue(Ge){return()=>Ge.scrollStrategies.block()}};let be=0,Ae=(()=>{class Ge{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ze,vt,vn,kn,ut,ht){this._overlay=ze,this._injector=vt,this._defaultOptions=vn,this._parentDialog=kn,this._overlayContainer=ut,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ee.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,me.O)(void 0))),this._scrollStrategy=ht}open(ze,vt){(vt={...this._defaultOptions||new Ne,...vt}).id=vt.id||"cdk-dialog-"+be++,vt.id&&this.getDialogById(vt.id);const kn=this._getOverlayConfig(vt),ut=this._overlay.create(kn),ht=new Le(ut,vt),At=this._attachContainer(ut,ht,vt);return ht.containerInstance=At,this._attachDialogContent(ze,ht,At,vt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ht),ht.closed.subscribe(()=>this._removeOpenDialog(ht,!0)),this.afterOpened.next(ht),ht}closeAll(){$e(this.openDialogs,ze=>ze.close())}getDialogById(ze){return this.openDialogs.find(vt=>vt.id===ze)}ngOnDestroy(){$e(this._openDialogsAtThisLevel,ze=>{!1===ze.config.closeOnDestroy&&this._removeOpenDialog(ze,!1)}),$e(this._openDialogsAtThisLevel,ze=>ze.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ze){const vt=new B.X_({positionStrategy:ze.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ze.scrollStrategy||this._scrollStrategy(),panelClass:ze.panelClass,hasBackdrop:ze.hasBackdrop,direction:ze.direction,minWidth:ze.minWidth,minHeight:ze.minHeight,maxWidth:ze.maxWidth,maxHeight:ze.maxHeight,width:ze.width,height:ze.height,disposeOnNavigation:ze.closeOnNavigation});return ze.backdropClass&&(vt.backdropClass=ze.backdropClass),vt}_attachContainer(ze,vt,vn){const kn=vn.injector||vn.viewContainerRef?.injector,ut=[{provide:Ne,useValue:vn},{provide:Le,useValue:vt},{provide:B.Iu,useValue:ze}];let ht;vn.container?"function"==typeof vn.container?ht=vn.container:(ht=vn.container.type,ut.push(...vn.container.providers(vn))):ht=it;const At=new ne.C5(ht,vn.viewContainerRef,ae.zs3.create({parent:kn||this._injector,providers:ut}),vn.componentFactoryResolver);return ze.attach(At).instance}_attachDialogContent(ze,vt,vn,kn){if(ze instanceof ae.Rgc){const ut=this._createInjector(kn,vt,vn,void 0);let ht={$implicit:kn.data,dialogRef:vt};kn.templateContext&&(ht={...ht,..."function"==typeof kn.templateContext?kn.templateContext():kn.templateContext}),vn.attachTemplatePortal(new ne.UE(ze,null,ht,ut))}else{const ut=this._createInjector(kn,vt,vn,this._injector),ht=vn.attachComponentPortal(new ne.C5(ze,kn.viewContainerRef,ut,kn.componentFactoryResolver));vt.componentInstance=ht.instance}}_createInjector(ze,vt,vn,kn){const ut=ze.injector||ze.viewContainerRef?.injector,ht=[{provide:Re,useValue:ze.data},{provide:Le,useValue:vt}];return ze.providers&&("function"==typeof ze.providers?ht.push(...ze.providers(vt,ze,vn)):ht.push(...ze.providers)),ze.direction&&(!ut||!ut.get(de.Is,null,{optional:!0}))&&ht.push({provide:de.Is,useValue:{value:ze.direction,change:(0,se.of)()}}),ae.zs3.create({parent:ut||kn,providers:ht})}_removeOpenDialog(ze,vt){const vn=this.openDialogs.indexOf(ze);vn>-1&&(this.openDialogs.splice(vn,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((kn,ut)=>{kn?ut.setAttribute("aria-hidden",kn):ut.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),vt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ze=this._overlayContainer.getContainerElement();if(ze.parentElement){const vt=ze.parentElement.children;for(let vn=vt.length-1;vn>-1;vn--){const kn=vt[vn];kn!==ze&&"SCRIPT"!==kn.nodeName&&"STYLE"!==kn.nodeName&&!kn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(kn,kn.getAttribute("aria-hidden")),kn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ze=this._parentDialog;return ze?ze._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return Ge.\u0275fac=function(ze){return new(ze||Ge)(ae.LFG(B.aV),ae.LFG(ae.zs3),ae.LFG(yt,8),ae.LFG(Ge,12),ae.LFG(B.Xj),ae.LFG(He))},Ge.\u0275prov=ae.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();function $e(Ge,Fe){let ze=Ge.length;for(;ze--;)Fe(Ge[ze])}let K=(()=>{class Ge{}return Ge.\u0275fac=function(ze){return new(ze||Ge)},Ge.\u0275mod=ae.oAB({type:Ge}),Ge.\u0275inj=ae.cJS({providers:[Ae,De],imports:[B.U8,ne.eL,d.rt,ne.eL]}),Ge})()},2840:(gn,nt,E)=>{E.d(nt,{A:()=>ln,JH:()=>yt,JU:()=>ae,K5:()=>xe,Ku:()=>Xe,LH:()=>He,L_:()=>me,MW:()=>Kt,Mf:()=>m,SV:()=>Re,Sd:()=>it,VM:()=>Ne,Vb:()=>bo,Z:()=>on,aO:()=>ht,b2:()=>yo,hY:()=>de,jx:()=>Z,oh:()=>Le,uR:()=>dt,xE:()=>$e,zL:()=>_e});const m=9,xe=13,ae=16,Z=17,_e=18,de=27,me=32,Xe=33,Ne=34,dt=35,it=36,Le=37,He=38,Re=39,yt=40,$e=48,ht=57,ln=65,on=90,Kt=91,yo=224;function bo(hr,...Io){return Io.length?Io.some(no=>hr[no]):hr.altKey||hr.shiftKey||hr.ctrlKey||hr.metaKey}},5537:(gn,nt,E)=>{E.d(nt,{Yg:()=>yt,u3:()=>De});var d=E(2223),B=E(1692),m=E(7579),ne=E(9841),xe=E(7272),ae=E(9751),Z=E(5698),_e=E(5684),Ee=E(8372),se=E(4004),de=E(8675),me=E(2722),Xe=E(2966);const dt=new Set;let it,Le=(()=>{class be{constructor($e,K){this._platform=$e,this._nonce=K,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Re}matchMedia($e){return(this._platform.WEBKIT||this._platform.BLINK)&&function He(be,Ae){if(!dt.has(be))try{it||(it=document.createElement("style"),Ae&&(it.nonce=Ae),it.setAttribute("type","text/css"),document.head.appendChild(it)),it.sheet&&(it.sheet.insertRule(`@media ${be} {body{ }}`,0),dt.add(be))}catch($e){console.error($e)}}($e,this._nonce),this._matchMedia($e)}}return be.\u0275fac=function($e){return new($e||be)(d.LFG(Xe.t4),d.LFG(d.Ojb,8))},be.\u0275prov=d.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Re(be){return{matches:"all"===be||""===be,media:be,addListener:()=>{},removeListener:()=>{}}}let yt=(()=>{class be{constructor($e,K){this._mediaMatcher=$e,this._zone=K,this._queries=new Map,this._destroySubject=new m.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched($e){return ue((0,B.Eq)($e)).some(Ge=>this._registerQuery(Ge).mql.matches)}observe($e){const Ge=ue((0,B.Eq)($e)).map(ze=>this._registerQuery(ze).observable);let Fe=(0,ne.a)(Ge);return Fe=(0,xe.z)(Fe.pipe((0,Z.q)(1)),Fe.pipe((0,_e.T)(1),(0,Ee.b)(0))),Fe.pipe((0,se.U)(ze=>{const vt={matches:!1,breakpoints:{}};return ze.forEach(({matches:vn,query:kn})=>{vt.matches=vt.matches||vn,vt.breakpoints[kn]=vn}),vt}))}_registerQuery($e){if(this._queries.has($e))return this._queries.get($e);const K=this._mediaMatcher.matchMedia($e),Fe={observable:new ae.y(ze=>{const vt=vn=>this._zone.run(()=>ze.next(vn));return K.addListener(vt),()=>{K.removeListener(vt)}}).pipe((0,de.O)(K),(0,se.U)(({matches:ze})=>({query:$e,matches:ze})),(0,me.R)(this._destroySubject)),mql:K};return this._queries.set($e,Fe),Fe}}return be.\u0275fac=function($e){return new($e||be)(d.LFG(Le),d.LFG(d.R0b))},be.\u0275prov=d.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function ue(be){return be.map(Ae=>Ae.split(",")).reduce((Ae,$e)=>Ae.concat($e)).map(Ae=>Ae.trim())}const De={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},829:(gn,nt,E)=>{E.d(nt,{Q8:()=>Ee,wD:()=>_e});var d=E(1692),B=E(2223),m=E(9751),ne=E(7579),xe=E(8372);let ae=(()=>{class se{create(me){return typeof MutationObserver>"u"?null:new MutationObserver(me)}}return se.\u0275fac=function(me){return new(me||se)},se.\u0275prov=B.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Z=(()=>{class se{constructor(me){this._mutationObserverFactory=me,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((me,Xe)=>this._cleanupObserver(Xe))}observe(me){const Xe=(0,d.fI)(me);return new m.y(Ne=>{const it=this._observeElement(Xe).subscribe(Ne);return()=>{it.unsubscribe(),this._unobserveElement(Xe)}})}_observeElement(me){if(this._observedElements.has(me))this._observedElements.get(me).count++;else{const Xe=new ne.x,Ne=this._mutationObserverFactory.create(dt=>Xe.next(dt));Ne&&Ne.observe(me,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(me,{observer:Ne,stream:Xe,count:1})}return this._observedElements.get(me).stream}_unobserveElement(me){this._observedElements.has(me)&&(this._observedElements.get(me).count--,this._observedElements.get(me).count||this._cleanupObserver(me))}_cleanupObserver(me){if(this._observedElements.has(me)){const{observer:Xe,stream:Ne}=this._observedElements.get(me);Xe&&Xe.disconnect(),Ne.complete(),this._observedElements.delete(me)}}}return se.\u0275fac=function(me){return new(me||se)(B.LFG(ae))},se.\u0275prov=B.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),_e=(()=>{class se{get disabled(){return this._disabled}set disabled(me){this._disabled=(0,d.Ig)(me),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(me){this._debounce=(0,d.su)(me),this._subscribe()}constructor(me,Xe,Ne){this._contentObserver=me,this._elementRef=Xe,this._ngZone=Ne,this.event=new B.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const me=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?me.pipe((0,xe.b)(this.debounce)):me).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return se.\u0275fac=function(me){return new(me||se)(B.Y36(Z),B.Y36(B.SBq),B.Y36(B.R0b))},se.\u0275dir=B.lG2({type:se,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),se})(),Ee=(()=>{class se{}return se.\u0275fac=function(me){return new(me||se)},se.\u0275mod=B.oAB({type:se}),se.\u0275inj=B.cJS({providers:[ae]}),se})()},9002:(gn,nt,E)=>{E.d(nt,{Iu:()=>ut,U8:()=>pi,X_:()=>be,Xj:()=>kn,aV:()=>mt});var d=E(2236),B=E(4755),m=E(2223),ne=E(1692),xe=E(2966),ae=E(9300),Z=E(5698),_e=E(2722),Ee=E(8930),se=E(8023),de=E(7579),me=E(727),Xe=E(6451);const Ne=(0,xe.Mq)();class dt{constructor(ce,Ve){this._viewportRuler=ce,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ve}attach(){}enable(){if(this._canBeEnabled()){const ce=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ce.style.left||"",this._previousHTMLStyles.top=ce.style.top||"",ce.style.left=(0,ne.HM)(-this._previousScrollPosition.left),ce.style.top=(0,ne.HM)(-this._previousScrollPosition.top),ce.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ce=this._document.documentElement,ft=ce.style,st=this._document.body.style,Ze=ft.scrollBehavior||"",qe=st.scrollBehavior||"";this._isEnabled=!1,ft.left=this._previousHTMLStyles.left,ft.top=this._previousHTMLStyles.top,ce.classList.remove("cdk-global-scrollblock"),Ne&&(ft.scrollBehavior=st.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ne&&(ft.scrollBehavior=Ze,st.scrollBehavior=qe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ve=this._document.body,ft=this._viewportRuler.getViewportSize();return Ve.scrollHeight>ft.height||Ve.scrollWidth>ft.width}}class Le{constructor(ce,Ve,ft,st){this._scrollDispatcher=ce,this._ngZone=Ve,this._viewportRuler=ft,this._config=st,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ce){this._overlayRef=ce}enable(){if(this._scrollSubscription)return;const ce=this._scrollDispatcher.scrolled(0).pipe((0,ae.h)(Ve=>!Ve||!this._overlayRef.overlayElement.contains(Ve.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ce.subscribe(()=>{const Ve=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ve-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ce.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class He{enable(){}disable(){}attach(){}}function Re(Bt,ce){return ce.some(Ve=>Bt.bottom<Ve.top||Bt.top>Ve.bottom||Bt.right<Ve.left||Bt.left>Ve.right)}function yt(Bt,ce){return ce.some(Ve=>Bt.top<Ve.top||Bt.bottom>Ve.bottom||Bt.left<Ve.left||Bt.right>Ve.right)}class ue{constructor(ce,Ve,ft,st){this._scrollDispatcher=ce,this._viewportRuler=Ve,this._ngZone=ft,this._config=st,this._scrollSubscription=null}attach(ce){this._overlayRef=ce}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ve=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ft,height:st}=this._viewportRuler.getViewportSize();Re(Ve,[{width:ft,height:st,bottom:st,right:ft,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let De=(()=>{class Bt{constructor(Ve,ft,st,Ze){this._scrollDispatcher=Ve,this._viewportRuler=ft,this._ngZone=st,this.noop=()=>new He,this.close=qe=>new Le(this._scrollDispatcher,this._ngZone,this._viewportRuler,qe),this.block=()=>new dt(this._viewportRuler,this._document),this.reposition=qe=>new ue(this._scrollDispatcher,this._viewportRuler,this._ngZone,qe),this._document=Ze}}return Bt.\u0275fac=function(Ve){return new(Ve||Bt)(m.LFG(d.mF),m.LFG(d.rL),m.LFG(m.R0b),m.LFG(B.K0))},Bt.\u0275prov=m.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})();class be{constructor(ce){if(this.scrollStrategy=new He,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ce){const Ve=Object.keys(ce);for(const ft of Ve)void 0!==ce[ft]&&(this[ft]=ce[ft])}}}class K{constructor(ce,Ve){this.connectionPair=ce,this.scrollableViewProperties=Ve}}let ze=(()=>{class Bt{constructor(Ve){this._attachedOverlays=[],this._document=Ve}ngOnDestroy(){this.detach()}add(Ve){this.remove(Ve),this._attachedOverlays.push(Ve)}remove(Ve){const ft=this._attachedOverlays.indexOf(Ve);ft>-1&&this._attachedOverlays.splice(ft,1),0===this._attachedOverlays.length&&this.detach()}}return Bt.\u0275fac=function(Ve){return new(Ve||Bt)(m.LFG(B.K0))},Bt.\u0275prov=m.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),vt=(()=>{class Bt extends ze{constructor(Ve,ft){super(Ve),this._ngZone=ft,this._keydownListener=st=>{const Ze=this._attachedOverlays;for(let qe=Ze.length-1;qe>-1;qe--)if(Ze[qe]._keydownEvents.observers.length>0){const ke=Ze[qe]._keydownEvents;this._ngZone?this._ngZone.run(()=>ke.next(st)):ke.next(st);break}}}add(Ve){super.add(Ve),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Bt.\u0275fac=function(Ve){return new(Ve||Bt)(m.LFG(B.K0),m.LFG(m.R0b,8))},Bt.\u0275prov=m.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),vn=(()=>{class Bt extends ze{constructor(Ve,ft,st){super(Ve),this._platform=ft,this._ngZone=st,this._cursorStyleIsSet=!1,this._pointerDownListener=Ze=>{this._pointerDownEventTarget=(0,xe.sA)(Ze)},this._clickListener=Ze=>{const qe=(0,xe.sA)(Ze),ke="click"===Ze.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:qe;this._pointerDownEventTarget=null;const Ut=this._attachedOverlays.slice();for(let on=Ut.length-1;on>-1;on--){const Kt=Ut[on];if(Kt._outsidePointerEvents.observers.length<1||!Kt.hasAttached())continue;if(Kt.overlayElement.contains(qe)||Kt.overlayElement.contains(ke))break;const Wt=Kt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Wt.next(Ze)):Wt.next(Ze)}}}add(Ve){if(super.add(Ve),!this._isAttached){const ft=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ft)):this._addEventListeners(ft),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ft.style.cursor,ft.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ve=this._document.body;Ve.removeEventListener("pointerdown",this._pointerDownListener,!0),Ve.removeEventListener("click",this._clickListener,!0),Ve.removeEventListener("auxclick",this._clickListener,!0),Ve.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ve.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ve){Ve.addEventListener("pointerdown",this._pointerDownListener,!0),Ve.addEventListener("click",this._clickListener,!0),Ve.addEventListener("auxclick",this._clickListener,!0),Ve.addEventListener("contextmenu",this._clickListener,!0)}}return Bt.\u0275fac=function(Ve){return new(Ve||Bt)(m.LFG(B.K0),m.LFG(xe.t4),m.LFG(m.R0b,8))},Bt.\u0275prov=m.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),kn=(()=>{class Bt{constructor(Ve,ft){this._platform=ft,this._document=Ve}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ve="cdk-overlay-container";if(this._platform.isBrowser||(0,xe.Oy)()){const st=this._document.querySelectorAll(`.${Ve}[platform="server"], .${Ve}[platform="test"]`);for(let Ze=0;Ze<st.length;Ze++)st[Ze].remove()}const ft=this._document.createElement("div");ft.classList.add(Ve),(0,xe.Oy)()?ft.setAttribute("platform","test"):this._platform.isBrowser||ft.setAttribute("platform","server"),this._document.body.appendChild(ft),this._containerElement=ft}}return Bt.\u0275fac=function(Ve){return new(Ve||Bt)(m.LFG(B.K0),m.LFG(xe.t4))},Bt.\u0275prov=m.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})();class ut{constructor(ce,Ve,ft,st,Ze,qe,ke,Ut,on,Kt=!1){this._portalOutlet=ce,this._host=Ve,this._pane=ft,this._config=st,this._ngZone=Ze,this._keyboardDispatcher=qe,this._document=ke,this._location=Ut,this._outsideClickDispatcher=on,this._animationsDisabled=Kt,this._backdropElement=null,this._backdropClick=new de.x,this._attachments=new de.x,this._detachments=new de.x,this._locationChanges=me.w0.EMPTY,this._backdropClickHandler=Wt=>this._backdropClick.next(Wt),this._backdropTransitionendHandler=Wt=>{this._disposeBackdrop(Wt.target)},this._keydownEvents=new de.x,this._outsidePointerEvents=new de.x,st.scrollStrategy&&(this._scrollStrategy=st.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=st.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ce){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ve=this._portalOutlet.attach(ce);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Z.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ve?.onDestroy&&Ve.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ve}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ce=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ce}dispose(){const ce=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ce&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ce){ce!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ce,this.hasAttached()&&(ce.attach(this),this.updatePosition()))}updateSize(ce){this._config={...this._config,...ce},this._updateElementSize()}setDirection(ce){this._config={...this._config,direction:ce},this._updateElementDirection()}addPanelClass(ce){this._pane&&this._toggleClasses(this._pane,ce,!0)}removePanelClass(ce){this._pane&&this._toggleClasses(this._pane,ce,!1)}getDirection(){const ce=this._config.direction;return ce?"string"==typeof ce?ce:ce.value:"ltr"}updateScrollStrategy(ce){ce!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ce,this.hasAttached()&&(ce.attach(this),ce.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ce=this._pane.style;ce.width=(0,ne.HM)(this._config.width),ce.height=(0,ne.HM)(this._config.height),ce.minWidth=(0,ne.HM)(this._config.minWidth),ce.minHeight=(0,ne.HM)(this._config.minHeight),ce.maxWidth=(0,ne.HM)(this._config.maxWidth),ce.maxHeight=(0,ne.HM)(this._config.maxHeight)}_togglePointerEvents(ce){this._pane.style.pointerEvents=ce?"":"none"}_attachBackdrop(){const ce="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ce)})}):this._backdropElement.classList.add(ce)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ce=this._backdropElement;if(ce){if(this._animationsDisabled)return void this._disposeBackdrop(ce);ce.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ce.addEventListener("transitionend",this._backdropTransitionendHandler)}),ce.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ce)},500))}}_toggleClasses(ce,Ve,ft){const st=(0,ne.Eq)(Ve||[]).filter(Ze=>!!Ze);st.length&&(ft?ce.classList.add(...st):ce.classList.remove(...st))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ce=this._ngZone.onStable.pipe((0,_e.R)((0,Xe.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ce.unsubscribe())})})}_disposeScrollStrategy(){const ce=this._scrollStrategy;ce&&(ce.disable(),ce.detach&&ce.detach())}_disposeBackdrop(ce){ce&&(ce.removeEventListener("click",this._backdropClickHandler),ce.removeEventListener("transitionend",this._backdropTransitionendHandler),ce.remove(),this._backdropElement===ce&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ht="cdk-overlay-connected-position-bounding-box",At=/([A-Za-z%]+)$/;class Rt{get positions(){return this._preferredPositions}constructor(ce,Ve,ft,st,Ze){this._viewportRuler=Ve,this._document=ft,this._platform=st,this._overlayContainer=Ze,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de.x,this._resizeSubscription=me.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ce)}attach(ce){this._validatePositions(),ce.hostElement.classList.add(ht),this._overlayRef=ce,this._boundingBox=ce.hostElement,this._pane=ce.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ce=this._originRect,Ve=this._overlayRect,ft=this._viewportRect,st=this._containerRect,Ze=[];let qe;for(let ke of this._preferredPositions){let Ut=this._getOriginPoint(ce,st,ke),on=this._getOverlayPoint(Ut,Ve,ke),Kt=this._getOverlayFit(on,Ve,ft,ke);if(Kt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ke,Ut);this._canFitWithFlexibleDimensions(Kt,on,ft)?Ze.push({position:ke,origin:Ut,overlayRect:Ve,boundingBoxRect:this._calculateBoundingBoxRect(Ut,ke)}):(!qe||qe.overlayFit.visibleArea<Kt.visibleArea)&&(qe={overlayFit:Kt,overlayPoint:on,originPoint:Ut,position:ke,overlayRect:Ve})}if(Ze.length){let ke=null,Ut=-1;for(const on of Ze){const Kt=on.boundingBoxRect.width*on.boundingBoxRect.height*(on.position.weight||1);Kt>Ut&&(Ut=Kt,ke=on)}return this._isPushed=!1,void this._applyPosition(ke.position,ke.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(qe.position,qe.originPoint);this._applyPosition(qe.position,qe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ht),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ce=this._lastPosition;if(ce){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ve=this._getOriginPoint(this._originRect,this._containerRect,ce);this._applyPosition(ce,Ve)}else this.apply()}withScrollableContainers(ce){return this._scrollables=ce,this}withPositions(ce){return this._preferredPositions=ce,-1===ce.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ce){return this._viewportMargin=ce,this}withFlexibleDimensions(ce=!0){return this._hasFlexibleDimensions=ce,this}withGrowAfterOpen(ce=!0){return this._growAfterOpen=ce,this}withPush(ce=!0){return this._canPush=ce,this}withLockedPosition(ce=!0){return this._positionLocked=ce,this}setOrigin(ce){return this._origin=ce,this}withDefaultOffsetX(ce){return this._offsetX=ce,this}withDefaultOffsetY(ce){return this._offsetY=ce,this}withTransformOriginOn(ce){return this._transformOriginSelector=ce,this}_getOriginPoint(ce,Ve,ft){let st,Ze;if("center"==ft.originX)st=ce.left+ce.width/2;else{const qe=this._isRtl()?ce.right:ce.left,ke=this._isRtl()?ce.left:ce.right;st="start"==ft.originX?qe:ke}return Ve.left<0&&(st-=Ve.left),Ze="center"==ft.originY?ce.top+ce.height/2:"top"==ft.originY?ce.top:ce.bottom,Ve.top<0&&(Ze-=Ve.top),{x:st,y:Ze}}_getOverlayPoint(ce,Ve,ft){let st,Ze;return st="center"==ft.overlayX?-Ve.width/2:"start"===ft.overlayX?this._isRtl()?-Ve.width:0:this._isRtl()?0:-Ve.width,Ze="center"==ft.overlayY?-Ve.height/2:"top"==ft.overlayY?0:-Ve.height,{x:ce.x+st,y:ce.y+Ze}}_getOverlayFit(ce,Ve,ft,st){const Ze=ln(Ve);let{x:qe,y:ke}=ce,Ut=this._getOffset(st,"x"),on=this._getOffset(st,"y");Ut&&(qe+=Ut),on&&(ke+=on);let On=0-ke,Ie=ke+Ze.height-ft.height,_t=this._subtractOverflows(Ze.width,0-qe,qe+Ze.width-ft.width),Ht=this._subtractOverflows(Ze.height,On,Ie),Sn=_t*Ht;return{visibleArea:Sn,isCompletelyWithinViewport:Ze.width*Ze.height===Sn,fitsInViewportVertically:Ht===Ze.height,fitsInViewportHorizontally:_t==Ze.width}}_canFitWithFlexibleDimensions(ce,Ve,ft){if(this._hasFlexibleDimensions){const st=ft.bottom-Ve.y,Ze=ft.right-Ve.x,qe=Gt(this._overlayRef.getConfig().minHeight),ke=Gt(this._overlayRef.getConfig().minWidth);return(ce.fitsInViewportVertically||null!=qe&&qe<=st)&&(ce.fitsInViewportHorizontally||null!=ke&&ke<=Ze)}return!1}_pushOverlayOnScreen(ce,Ve,ft){if(this._previousPushAmount&&this._positionLocked)return{x:ce.x+this._previousPushAmount.x,y:ce.y+this._previousPushAmount.y};const st=ln(Ve),Ze=this._viewportRect,qe=Math.max(ce.x+st.width-Ze.width,0),ke=Math.max(ce.y+st.height-Ze.height,0),Ut=Math.max(Ze.top-ft.top-ce.y,0),on=Math.max(Ze.left-ft.left-ce.x,0);let Kt=0,Wt=0;return Kt=st.width<=Ze.width?on||-qe:ce.x<this._viewportMargin?Ze.left-ft.left-ce.x:0,Wt=st.height<=Ze.height?Ut||-ke:ce.y<this._viewportMargin?Ze.top-ft.top-ce.y:0,this._previousPushAmount={x:Kt,y:Wt},{x:ce.x+Kt,y:ce.y+Wt}}_applyPosition(ce,Ve){if(this._setTransformOrigin(ce),this._setOverlayElementStyles(Ve,ce),this._setBoundingBoxStyles(Ve,ce),ce.panelClass&&this._addPanelClasses(ce.panelClass),this._lastPosition=ce,this._positionChanges.observers.length){const ft=this._getScrollVisibility(),st=new K(ce,ft);this._positionChanges.next(st)}this._isInitialRender=!1}_setTransformOrigin(ce){if(!this._transformOriginSelector)return;const Ve=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ft,st=ce.overlayY;ft="center"===ce.overlayX?"center":this._isRtl()?"start"===ce.overlayX?"right":"left":"start"===ce.overlayX?"left":"right";for(let Ze=0;Ze<Ve.length;Ze++)Ve[Ze].style.transformOrigin=`${ft} ${st}`}_calculateBoundingBoxRect(ce,Ve){const ft=this._viewportRect,st=this._isRtl();let Ze,qe,ke,Kt,Wt,On;if("top"===Ve.overlayY)qe=ce.y,Ze=ft.height-qe+this._viewportMargin;else if("bottom"===Ve.overlayY)ke=ft.height-ce.y+2*this._viewportMargin,Ze=ft.height-ke+this._viewportMargin;else{const Ie=Math.min(ft.bottom-ce.y+ft.top,ce.y),_t=this._lastBoundingBoxSize.height;Ze=2*Ie,qe=ce.y-Ie,Ze>_t&&!this._isInitialRender&&!this._growAfterOpen&&(qe=ce.y-_t/2)}if("end"===Ve.overlayX&&!st||"start"===Ve.overlayX&&st)On=ft.width-ce.x+this._viewportMargin,Kt=ce.x-this._viewportMargin;else if("start"===Ve.overlayX&&!st||"end"===Ve.overlayX&&st)Wt=ce.x,Kt=ft.right-ce.x;else{const Ie=Math.min(ft.right-ce.x+ft.left,ce.x),_t=this._lastBoundingBoxSize.width;Kt=2*Ie,Wt=ce.x-Ie,Kt>_t&&!this._isInitialRender&&!this._growAfterOpen&&(Wt=ce.x-_t/2)}return{top:qe,left:Wt,bottom:ke,right:On,width:Kt,height:Ze}}_setBoundingBoxStyles(ce,Ve){const ft=this._calculateBoundingBoxRect(ce,Ve);!this._isInitialRender&&!this._growAfterOpen&&(ft.height=Math.min(ft.height,this._lastBoundingBoxSize.height),ft.width=Math.min(ft.width,this._lastBoundingBoxSize.width));const st={};if(this._hasExactPosition())st.top=st.left="0",st.bottom=st.right=st.maxHeight=st.maxWidth="",st.width=st.height="100%";else{const Ze=this._overlayRef.getConfig().maxHeight,qe=this._overlayRef.getConfig().maxWidth;st.height=(0,ne.HM)(ft.height),st.top=(0,ne.HM)(ft.top),st.bottom=(0,ne.HM)(ft.bottom),st.width=(0,ne.HM)(ft.width),st.left=(0,ne.HM)(ft.left),st.right=(0,ne.HM)(ft.right),st.alignItems="center"===Ve.overlayX?"center":"end"===Ve.overlayX?"flex-end":"flex-start",st.justifyContent="center"===Ve.overlayY?"center":"bottom"===Ve.overlayY?"flex-end":"flex-start",Ze&&(st.maxHeight=(0,ne.HM)(Ze)),qe&&(st.maxWidth=(0,ne.HM)(qe))}this._lastBoundingBoxSize=ft,qt(this._boundingBox.style,st)}_resetBoundingBoxStyles(){qt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ce,Ve){const ft={},st=this._hasExactPosition(),Ze=this._hasFlexibleDimensions,qe=this._overlayRef.getConfig();if(st){const Kt=this._viewportRuler.getViewportScrollPosition();qt(ft,this._getExactOverlayY(Ve,ce,Kt)),qt(ft,this._getExactOverlayX(Ve,ce,Kt))}else ft.position="static";let ke="",Ut=this._getOffset(Ve,"x"),on=this._getOffset(Ve,"y");Ut&&(ke+=`translateX(${Ut}px) `),on&&(ke+=`translateY(${on}px)`),ft.transform=ke.trim(),qe.maxHeight&&(st?ft.maxHeight=(0,ne.HM)(qe.maxHeight):Ze&&(ft.maxHeight="")),qe.maxWidth&&(st?ft.maxWidth=(0,ne.HM)(qe.maxWidth):Ze&&(ft.maxWidth="")),qt(this._pane.style,ft)}_getExactOverlayY(ce,Ve,ft){let st={top:"",bottom:""},Ze=this._getOverlayPoint(Ve,this._overlayRect,ce);return this._isPushed&&(Ze=this._pushOverlayOnScreen(Ze,this._overlayRect,ft)),"bottom"===ce.overlayY?st.bottom=this._document.documentElement.clientHeight-(Ze.y+this._overlayRect.height)+"px":st.top=(0,ne.HM)(Ze.y),st}_getExactOverlayX(ce,Ve,ft){let qe,st={left:"",right:""},Ze=this._getOverlayPoint(Ve,this._overlayRect,ce);return this._isPushed&&(Ze=this._pushOverlayOnScreen(Ze,this._overlayRect,ft)),qe=this._isRtl()?"end"===ce.overlayX?"left":"right":"end"===ce.overlayX?"right":"left","right"===qe?st.right=this._document.documentElement.clientWidth-(Ze.x+this._overlayRect.width)+"px":st.left=(0,ne.HM)(Ze.x),st}_getScrollVisibility(){const ce=this._getOriginRect(),Ve=this._pane.getBoundingClientRect(),ft=this._scrollables.map(st=>st.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yt(ce,ft),isOriginOutsideView:Re(ce,ft),isOverlayClipped:yt(Ve,ft),isOverlayOutsideView:Re(Ve,ft)}}_subtractOverflows(ce,...Ve){return Ve.reduce((ft,st)=>ft-Math.max(st,0),ce)}_getNarrowedViewportRect(){const ce=this._document.documentElement.clientWidth,Ve=this._document.documentElement.clientHeight,ft=this._viewportRuler.getViewportScrollPosition();return{top:ft.top+this._viewportMargin,left:ft.left+this._viewportMargin,right:ft.left+ce-this._viewportMargin,bottom:ft.top+Ve-this._viewportMargin,width:ce-2*this._viewportMargin,height:Ve-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ce,Ve){return"x"===Ve?null==ce.offsetX?this._offsetX:ce.offsetX:null==ce.offsetY?this._offsetY:ce.offsetY}_validatePositions(){}_addPanelClasses(ce){this._pane&&(0,ne.Eq)(ce).forEach(Ve=>{""!==Ve&&-1===this._appliedPanelClasses.indexOf(Ve)&&(this._appliedPanelClasses.push(Ve),this._pane.classList.add(Ve))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ce=>{this._pane.classList.remove(ce)}),this._appliedPanelClasses=[])}_getOriginRect(){const ce=this._origin;if(ce instanceof m.SBq)return ce.nativeElement.getBoundingClientRect();if(ce instanceof Element)return ce.getBoundingClientRect();const Ve=ce.width||0,ft=ce.height||0;return{top:ce.y,bottom:ce.y+ft,left:ce.x,right:ce.x+Ve,height:ft,width:Ve}}}function qt(Bt,ce){for(let Ve in ce)ce.hasOwnProperty(Ve)&&(Bt[Ve]=ce[Ve]);return Bt}function Gt(Bt){if("number"!=typeof Bt&&null!=Bt){const[ce,Ve]=Bt.split(At);return Ve&&"px"!==Ve?null:parseFloat(ce)}return Bt||null}function ln(Bt){return{top:Math.floor(Bt.top),right:Math.floor(Bt.right),bottom:Math.floor(Bt.bottom),left:Math.floor(Bt.left),width:Math.floor(Bt.width),height:Math.floor(Bt.height)}}const Mt="cdk-global-overlay-wrapper";class Ke{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ce){const Ve=ce.getConfig();this._overlayRef=ce,this._width&&!Ve.width&&ce.updateSize({width:this._width}),this._height&&!Ve.height&&ce.updateSize({height:this._height}),ce.hostElement.classList.add(Mt),this._isDisposed=!1}top(ce=""){return this._bottomOffset="",this._topOffset=ce,this._alignItems="flex-start",this}left(ce=""){return this._xOffset=ce,this._xPosition="left",this}bottom(ce=""){return this._topOffset="",this._bottomOffset=ce,this._alignItems="flex-end",this}right(ce=""){return this._xOffset=ce,this._xPosition="right",this}start(ce=""){return this._xOffset=ce,this._xPosition="start",this}end(ce=""){return this._xOffset=ce,this._xPosition="end",this}width(ce=""){return this._overlayRef?this._overlayRef.updateSize({width:ce}):this._width=ce,this}height(ce=""){return this._overlayRef?this._overlayRef.updateSize({height:ce}):this._height=ce,this}centerHorizontally(ce=""){return this.left(ce),this._xPosition="center",this}centerVertically(ce=""){return this.top(ce),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ce=this._overlayRef.overlayElement.style,Ve=this._overlayRef.hostElement.style,ft=this._overlayRef.getConfig(),{width:st,height:Ze,maxWidth:qe,maxHeight:ke}=ft,Ut=!("100%"!==st&&"100vw"!==st||qe&&"100%"!==qe&&"100vw"!==qe),on=!("100%"!==Ze&&"100vh"!==Ze||ke&&"100%"!==ke&&"100vh"!==ke),Kt=this._xPosition,Wt=this._xOffset,On="rtl"===this._overlayRef.getConfig().direction;let Ie="",_t="",Ht="";Ut?Ht="flex-start":"center"===Kt?(Ht="center",On?_t=Wt:Ie=Wt):On?"left"===Kt||"end"===Kt?(Ht="flex-end",Ie=Wt):("right"===Kt||"start"===Kt)&&(Ht="flex-start",_t=Wt):"left"===Kt||"start"===Kt?(Ht="flex-start",Ie=Wt):("right"===Kt||"end"===Kt)&&(Ht="flex-end",_t=Wt),ce.position=this._cssPosition,ce.marginLeft=Ut?"0":Ie,ce.marginTop=on?"0":this._topOffset,ce.marginBottom=this._bottomOffset,ce.marginRight=Ut?"0":_t,Ve.justifyContent=Ht,Ve.alignItems=on?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ce=this._overlayRef.overlayElement.style,Ve=this._overlayRef.hostElement,ft=Ve.style;Ve.classList.remove(Mt),ft.justifyContent=ft.alignItems=ce.marginTop=ce.marginBottom=ce.marginLeft=ce.marginRight=ce.position="",this._overlayRef=null,this._isDisposed=!0}}let Qe=(()=>{class Bt{constructor(Ve,ft,st,Ze){this._viewportRuler=Ve,this._document=ft,this._platform=st,this._overlayContainer=Ze}global(){return new Ke}flexibleConnectedTo(Ve){return new Rt(Ve,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Bt.\u0275fac=function(Ve){return new(Ve||Bt)(m.LFG(d.rL),m.LFG(B.K0),m.LFG(xe.t4),m.LFG(kn))},Bt.\u0275prov=m.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),St=0,mt=(()=>{class Bt{constructor(Ve,ft,st,Ze,qe,ke,Ut,on,Kt,Wt,On,Ie){this.scrollStrategies=Ve,this._overlayContainer=ft,this._componentFactoryResolver=st,this._positionBuilder=Ze,this._keyboardDispatcher=qe,this._injector=ke,this._ngZone=Ut,this._document=on,this._directionality=Kt,this._location=Wt,this._outsideClickDispatcher=On,this._animationsModuleType=Ie}create(Ve){const ft=this._createHostElement(),st=this._createPaneElement(ft),Ze=this._createPortalOutlet(st),qe=new be(Ve);return qe.direction=qe.direction||this._directionality.value,new ut(Ze,ft,st,qe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ve){const ft=this._document.createElement("div");return ft.id="cdk-overlay-"+St++,ft.classList.add("cdk-overlay-pane"),Ve.appendChild(ft),ft}_createHostElement(){const Ve=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ve),Ve}_createPortalOutlet(Ve){return this._appRef||(this._appRef=this._injector.get(m.z2F)),new se.u0(Ve,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Bt.\u0275fac=function(Ve){return new(Ve||Bt)(m.LFG(De),m.LFG(kn),m.LFG(m._Vd),m.LFG(Qe),m.LFG(vt),m.LFG(m.zs3),m.LFG(m.R0b),m.LFG(B.K0),m.LFG(Ee.Is),m.LFG(B.Ye),m.LFG(vn),m.LFG(m.QbO,8))},Bt.\u0275prov=m.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})();const Zn={provide:new m.OlP("cdk-connected-overlay-scroll-strategy"),deps:[mt],useFactory:function bn(Bt){return()=>Bt.scrollStrategies.reposition()}};let pi=(()=>{class Bt{}return Bt.\u0275fac=function(Ve){return new(Ve||Bt)},Bt.\u0275mod=m.oAB({type:Bt}),Bt.\u0275inj=m.cJS({providers:[mt,Zn],imports:[Ee.vT,se.eL,d.Cl,d.Cl]}),Bt})()},2966:(gn,nt,E)=>{E.d(nt,{Mq:()=>Ne,Oy:()=>ue,ht:()=>Re,i$:()=>de,kV:()=>He,sA:()=>yt,t4:()=>ne});var d=E(2223),B=E(4755);let m;try{m=typeof Intl<"u"&&Intl.v8BreakIterator}catch{m=!1}let Ee,Xe,it,ne=(()=>{class De{constructor(Ae){this._platformId=Ae,this.isBrowser=this._platformId?(0,B.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!m)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return De.\u0275fac=function(Ae){return new(Ae||De)(d.LFG(d.Lbi))},De.\u0275prov=d.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();function de(De){return function se(){if(null==Ee&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ee=!0}))}finally{Ee=Ee||!1}return Ee}()?De:!!De.capture}function Ne(){if(null==Xe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xe=!1,Xe;if("scrollBehavior"in document.documentElement.style)Xe=!0;else{const De=Element.prototype.scrollTo;Xe=!!De&&!/\{\s*\[native code\]\s*\}/.test(De.toString())}}return Xe}function He(De){if(function Le(){if(null==it){const De=typeof document<"u"?document.head:null;it=!(!De||!De.createShadowRoot&&!De.attachShadow)}return it}()){const be=De.getRootNode?De.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&be instanceof ShadowRoot)return be}return null}function Re(){let De=typeof document<"u"&&document?document.activeElement:null;for(;De&&De.shadowRoot;){const be=De.shadowRoot.activeElement;if(be===De)break;De=be}return De}function yt(De){return De.composedPath?De.composedPath()[0]:De.target}function ue(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8023:(gn,nt,E)=>{E.d(nt,{C5:()=>se,Pl:()=>Re,UE:()=>de,eL:()=>ue,en:()=>Xe,u0:()=>dt});var d=E(2223),B=E(4755);class Ee{attach(Ae){return this._attachedHost=Ae,Ae.attach(this)}detach(){let Ae=this._attachedHost;null!=Ae&&(this._attachedHost=null,Ae.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ae){this._attachedHost=Ae}}class se extends Ee{constructor(Ae,$e,K,Ge,Fe){super(),this.component=Ae,this.viewContainerRef=$e,this.injector=K,this.componentFactoryResolver=Ge,this.projectableNodes=Fe}}class de extends Ee{constructor(Ae,$e,K,Ge){super(),this.templateRef=Ae,this.viewContainerRef=$e,this.context=K,this.injector=Ge}get origin(){return this.templateRef.elementRef}attach(Ae,$e=this.context){return this.context=$e,super.attach(Ae)}detach(){return this.context=void 0,super.detach()}}class me extends Ee{constructor(Ae){super(),this.element=Ae instanceof d.SBq?Ae.nativeElement:Ae}}class Xe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ae){return Ae instanceof se?(this._attachedPortal=Ae,this.attachComponentPortal(Ae)):Ae instanceof de?(this._attachedPortal=Ae,this.attachTemplatePortal(Ae)):this.attachDomPortal&&Ae instanceof me?(this._attachedPortal=Ae,this.attachDomPortal(Ae)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ae){this._disposeFn=Ae}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dt extends Xe{constructor(Ae,$e,K,Ge,Fe){super(),this.outletElement=Ae,this._componentFactoryResolver=$e,this._appRef=K,this._defaultInjector=Ge,this.attachDomPortal=ze=>{const vt=ze.element,vn=this._document.createComment("dom-portal");vt.parentNode.insertBefore(vn,vt),this.outletElement.appendChild(vt),this._attachedPortal=ze,super.setDisposeFn(()=>{vn.parentNode&&vn.parentNode.replaceChild(vt,vn)})},this._document=Fe}attachComponentPortal(Ae){const K=(Ae.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ae.component);let Ge;return Ae.viewContainerRef?(Ge=Ae.viewContainerRef.createComponent(K,Ae.viewContainerRef.length,Ae.injector||Ae.viewContainerRef.injector,Ae.projectableNodes||void 0),this.setDisposeFn(()=>Ge.destroy())):(Ge=K.create(Ae.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(Ge.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ge.hostView),Ge.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ge)),this._attachedPortal=Ae,Ge}attachTemplatePortal(Ae){let $e=Ae.viewContainerRef,K=$e.createEmbeddedView(Ae.templateRef,Ae.context,{injector:Ae.injector});return K.rootNodes.forEach(Ge=>this.outletElement.appendChild(Ge)),K.detectChanges(),this.setDisposeFn(()=>{let Ge=$e.indexOf(K);-1!==Ge&&$e.remove(Ge)}),this._attachedPortal=Ae,K}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ae){return Ae.hostView.rootNodes[0]}}let Re=(()=>{class be extends Xe{constructor($e,K,Ge){super(),this._componentFactoryResolver=$e,this._viewContainerRef=K,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=Fe=>{const ze=Fe.element,vt=this._document.createComment("dom-portal");Fe.setAttachedHost(this),ze.parentNode.insertBefore(vt,ze),this._getRootNode().appendChild(ze),this._attachedPortal=Fe,super.setDisposeFn(()=>{vt.parentNode&&vt.parentNode.replaceChild(ze,vt)})},this._document=Ge}get portal(){return this._attachedPortal}set portal($e){this.hasAttached()&&!$e&&!this._isInitialized||(this.hasAttached()&&super.detach(),$e&&super.attach($e),this._attachedPortal=$e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal($e){$e.setAttachedHost(this);const K=null!=$e.viewContainerRef?$e.viewContainerRef:this._viewContainerRef,Fe=($e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($e.component),ze=K.createComponent(Fe,K.length,$e.injector||K.injector,$e.projectableNodes||void 0);return K!==this._viewContainerRef&&this._getRootNode().appendChild(ze.hostView.rootNodes[0]),super.setDisposeFn(()=>ze.destroy()),this._attachedPortal=$e,this._attachedRef=ze,this.attached.emit(ze),ze}attachTemplatePortal($e){$e.setAttachedHost(this);const K=this._viewContainerRef.createEmbeddedView($e.templateRef,$e.context,{injector:$e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=$e,this._attachedRef=K,this.attached.emit(K),K}_getRootNode(){const $e=this._viewContainerRef.element.nativeElement;return $e.nodeType===$e.ELEMENT_NODE?$e:$e.parentNode}}return be.\u0275fac=function($e){return new($e||be)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(B.K0))},be.\u0275dir=d.lG2({type:be,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),be})(),ue=(()=>{class be{}return be.\u0275fac=function($e){return new($e||be)},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({}),be})()},2236:(gn,nt,E)=>{E.d(nt,{ZD:()=>ft,mF:()=>St,Cl:()=>st,rL:()=>Tt});var d=E(1692),B=E(2223),m=E(7579),ne=E(9646),xe=E(9751),ae=E(8421),Z=E(5577),_e=E(1144),Ee=E(576),se=E(3268);const de=["addListener","removeListener"],me=["addEventListener","removeEventListener"],Xe=["on","off"];function Ne(Ze,qe,ke,Ut){if((0,Ee.m)(ke)&&(Ut=ke,ke=void 0),Ut)return Ne(Ze,qe,ke).pipe((0,se.Z)(Ut));const[on,Kt]=function He(Ze){return(0,Ee.m)(Ze.addEventListener)&&(0,Ee.m)(Ze.removeEventListener)}(Ze)?me.map(Wt=>On=>Ze[Wt](qe,On,ke)):function it(Ze){return(0,Ee.m)(Ze.addListener)&&(0,Ee.m)(Ze.removeListener)}(Ze)?de.map(dt(Ze,qe)):function Le(Ze){return(0,Ee.m)(Ze.on)&&(0,Ee.m)(Ze.off)}(Ze)?Xe.map(dt(Ze,qe)):[];if(!on&&(0,_e.z)(Ze))return(0,Z.z)(Wt=>Ne(Wt,qe,ke))((0,ae.Xf)(Ze));if(!on)throw new TypeError("Invalid event target");return new xe.y(Wt=>{const On=(...Ie)=>Wt.next(1<Ie.length?Ie:Ie[0]);return on(On),()=>Kt(On)})}function dt(Ze,qe){return ke=>Ut=>Ze[ke](qe,Ut)}var Re=E(4408),yt=E(727);const ue={schedule(Ze){let qe=requestAnimationFrame,ke=cancelAnimationFrame;const{delegate:Ut}=ue;Ut&&(qe=Ut.requestAnimationFrame,ke=Ut.cancelAnimationFrame);const on=qe(Kt=>{ke=void 0,Ze(Kt)});return new yt.w0(()=>ke?.(on))},requestAnimationFrame(...Ze){const{delegate:qe}=ue;return(qe?.requestAnimationFrame||requestAnimationFrame)(...Ze)},cancelAnimationFrame(...Ze){const{delegate:qe}=ue;return(qe?.cancelAnimationFrame||cancelAnimationFrame)(...Ze)},delegate:void 0};var be=E(7565);new class Ae extends be.v{flush(qe){this._active=!0;const ke=this._scheduled;this._scheduled=void 0;const{actions:Ut}=this;let on;qe=qe||Ut.shift();do{if(on=qe.execute(qe.state,qe.delay))break}while((qe=Ut[0])&&qe.id===ke&&Ut.shift());if(this._active=!1,on){for(;(qe=Ut[0])&&qe.id===ke&&Ut.shift();)qe.unsubscribe();throw on}}}(class De extends Re.o{constructor(qe,ke){super(qe,ke),this.scheduler=qe,this.work=ke}requestAsyncId(qe,ke,Ut=0){return null!==Ut&&Ut>0?super.requestAsyncId(qe,ke,Ut):(qe.actions.push(this),qe._scheduled||(qe._scheduled=ue.requestAnimationFrame(()=>qe.flush(void 0))))}recycleAsyncId(qe,ke,Ut=0){var on;if(null!=Ut?Ut>0:this.delay>0)return super.recycleAsyncId(qe,ke,Ut);const{actions:Kt}=qe;null!=ke&&(null===(on=Kt[Kt.length-1])||void 0===on?void 0:on.id)!==ke&&(ue.cancelAnimationFrame(ke),qe._scheduled=void 0)}});E(3101);var Fe=E(4986),ze=E(4482),vt=E(5403),kn=E(5963);function ut(Ze,qe=Fe.z){return function vn(Ze){return(0,ze.e)((qe,ke)=>{let Ut=!1,on=null,Kt=null,Wt=!1;const On=()=>{if(Kt?.unsubscribe(),Kt=null,Ut){Ut=!1;const _t=on;on=null,ke.next(_t)}Wt&&ke.complete()},Ie=()=>{Kt=null,Wt&&ke.complete()};qe.subscribe((0,vt.x)(ke,_t=>{Ut=!0,on=_t,Kt||(0,ae.Xf)(Ze(_t)).subscribe(Kt=(0,vt.x)(ke,On,Ie))},()=>{Wt=!0,(!Ut||!Kt||Kt.closed)&&ke.complete()}))})}(()=>(0,kn.H)(Ze,qe))}var ht=E(9300),At=E(2966),Rt=E(4755),qt=E(8930);let St=(()=>{class Ze{constructor(ke,Ut,on){this._ngZone=ke,this._platform=Ut,this._scrolled=new m.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=on}register(ke){this.scrollContainers.has(ke)||this.scrollContainers.set(ke,ke.elementScrolled().subscribe(()=>this._scrolled.next(ke)))}deregister(ke){const Ut=this.scrollContainers.get(ke);Ut&&(Ut.unsubscribe(),this.scrollContainers.delete(ke))}scrolled(ke=20){return this._platform.isBrowser?new xe.y(Ut=>{this._globalSubscription||this._addGlobalListener();const on=ke>0?this._scrolled.pipe(ut(ke)).subscribe(Ut):this._scrolled.subscribe(Ut);return this._scrolledCount++,()=>{on.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ke,Ut)=>this.deregister(Ut)),this._scrolled.complete()}ancestorScrolled(ke,Ut){const on=this.getAncestorScrollContainers(ke);return this.scrolled(Ut).pipe((0,ht.h)(Kt=>!Kt||on.indexOf(Kt)>-1))}getAncestorScrollContainers(ke){const Ut=[];return this.scrollContainers.forEach((on,Kt)=>{this._scrollableContainsElement(Kt,ke)&&Ut.push(Kt)}),Ut}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ke,Ut){let on=(0,d.fI)(Ut),Kt=ke.getElementRef().nativeElement;do{if(on==Kt)return!0}while(on=on.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ne(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ze.\u0275fac=function(ke){return new(ke||Ze)(B.LFG(B.R0b),B.LFG(At.t4),B.LFG(Rt.K0,8))},Ze.\u0275prov=B.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),Tt=(()=>{class Ze{constructor(ke,Ut,on){this._platform=ke,this._change=new m.x,this._changeListener=Kt=>{this._change.next(Kt)},this._document=on,Ut.runOutsideAngular(()=>{if(ke.isBrowser){const Kt=this._getWindow();Kt.addEventListener("resize",this._changeListener),Kt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ke=this._getWindow();ke.removeEventListener("resize",this._changeListener),ke.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ke={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ke}getViewportRect(){const ke=this.getViewportScrollPosition(),{width:Ut,height:on}=this.getViewportSize();return{top:ke.top,left:ke.left,bottom:ke.top+on,right:ke.left+Ut,height:on,width:Ut}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ke=this._document,Ut=this._getWindow(),on=ke.documentElement,Kt=on.getBoundingClientRect();return{top:-Kt.top||ke.body.scrollTop||Ut.scrollY||on.scrollTop||0,left:-Kt.left||ke.body.scrollLeft||Ut.scrollX||on.scrollLeft||0}}change(ke=20){return ke>0?this._change.pipe(ut(ke)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ke=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ke.innerWidth,height:ke.innerHeight}:{width:0,height:0}}}return Ze.\u0275fac=function(ke){return new(ke||Ze)(B.LFG(At.t4),B.LFG(B.R0b),B.LFG(Rt.K0,8))},Ze.\u0275prov=B.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),ft=(()=>{class Ze{}return Ze.\u0275fac=function(ke){return new(ke||Ze)},Ze.\u0275mod=B.oAB({type:Ze}),Ze.\u0275inj=B.cJS({}),Ze})(),st=(()=>{class Ze{}return Ze.\u0275fac=function(ke){return new(ke||Ze)},Ze.\u0275mod=B.oAB({type:Ze}),Ze.\u0275inj=B.cJS({imports:[qt.vT,ft,qt.vT,ft]}),Ze})()},4755:(gn,nt,E)=>{E.d(nt,{Do:()=>it,EM:()=>wo,HT:()=>ne,JF:()=>Pr,K0:()=>ae,Mx:()=>Kr,NF:()=>ws,O5:()=>yo,PM:()=>uo,S$:()=>Xe,V_:()=>_e,Ye:()=>Le,b0:()=>dt,bD:()=>ps,ez:()=>ss,mk:()=>$i,q:()=>m,sg:()=>vo,tP:()=>Qo,uU:()=>Xn,w_:()=>xe});var d=E(2223);let B=null;function m(){return B}function ne(P){B||(B=P)}class xe{}const ae=new d.OlP("DocumentToken");let Z=(()=>{class P{historyGo(U){throw new Error("Not implemented")}}return P.\u0275fac=function(U){return new(U||P)},P.\u0275prov=d.Yz7({token:P,factory:function(){return(0,d.f3M)(Ee)},providedIn:"platform"}),P})();const _e=new d.OlP("Location Initialized");let Ee=(()=>{class P extends Z{constructor(){super(),this._doc=(0,d.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return m().getBaseHref(this._doc)}onPopState(U){const fe=m().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",U,!1),()=>fe.removeEventListener("popstate",U)}onHashChange(U){const fe=m().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",U,!1),()=>fe.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,fe,Ye){this._history.pushState(U,fe,Ye)}replaceState(U,fe,Ye){this._history.replaceState(U,fe,Ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return P.\u0275fac=function(U){return new(U||P)},P.\u0275prov=d.Yz7({token:P,factory:function(){return new P},providedIn:"platform"}),P})();function se(P,Q){if(0==P.length)return Q;if(0==Q.length)return P;let U=0;return P.endsWith("/")&&U++,Q.startsWith("/")&&U++,2==U?P+Q.substring(1):1==U?P+Q:P+"/"+Q}function de(P){const Q=P.match(/#|\?|$/),U=Q&&Q.index||P.length;return P.slice(0,U-("/"===P[U-1]?1:0))+P.slice(U)}function me(P){return P&&"?"!==P[0]?"?"+P:P}let Xe=(()=>{class P{historyGo(U){throw new Error("Not implemented")}}return P.\u0275fac=function(U){return new(U||P)},P.\u0275prov=d.Yz7({token:P,factory:function(){return(0,d.f3M)(dt)},providedIn:"root"}),P})();const Ne=new d.OlP("appBaseHref");let dt=(()=>{class P extends Xe{constructor(U,fe){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=fe??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return se(this._baseHref,U)}path(U=!1){const fe=this._platformLocation.pathname+me(this._platformLocation.search),Ye=this._platformLocation.hash;return Ye&&U?`${fe}${Ye}`:fe}pushState(U,fe,Ye,Qt){const fn=this.prepareExternalUrl(Ye+me(Qt));this._platformLocation.pushState(U,fe,fn)}replaceState(U,fe,Ye,Qt){const fn=this.prepareExternalUrl(Ye+me(Qt));this._platformLocation.replaceState(U,fe,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return P.\u0275fac=function(U){return new(U||P)(d.LFG(Z),d.LFG(Ne,8))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),it=(()=>{class P extends Xe{constructor(U,fe){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl(U){const fe=se(this._baseHref,U);return fe.length>0?"#"+fe:fe}pushState(U,fe,Ye,Qt){let fn=this.prepareExternalUrl(Ye+me(Qt));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.pushState(U,fe,fn)}replaceState(U,fe,Ye,Qt){let fn=this.prepareExternalUrl(Ye+me(Qt));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.replaceState(U,fe,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return P.\u0275fac=function(U){return new(U||P)(d.LFG(Z),d.LFG(Ne,8))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac}),P})(),Le=(()=>{class P{constructor(U){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const fe=this._locationStrategy.getBaseHref();this._basePath=function ue(P){if(new RegExp("^(https?:)?//").test(P)){const[,U]=P.split(/\/\/[^\/]+/);return U}return P}(de(yt(fe))),this._locationStrategy.onPopState(Ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ye.state,type:Ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,fe=""){return this.path()==this.normalize(U+me(fe))}normalize(U){return P.stripTrailingSlash(function Re(P,Q){if(!P||!Q.startsWith(P))return Q;const U=Q.substring(P.length);return""===U||["/",";","?","#"].includes(U[0])?U:Q}(this._basePath,yt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,fe="",Ye=null){this._locationStrategy.pushState(Ye,"",U,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+me(fe)),Ye)}replaceState(U,fe="",Ye=null){this._locationStrategy.replaceState(Ye,"",U,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+me(fe)),Ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)})),()=>{const fe=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(fe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",fe){this._urlChangeListeners.forEach(Ye=>Ye(U,fe))}subscribe(U,fe,Ye){return this._subject.subscribe({next:U,error:fe,complete:Ye})}}return P.normalizeQueryParams=me,P.joinWithSlash=se,P.stripTrailingSlash=de,P.\u0275fac=function(U){return new(U||P)(d.LFG(Xe))},P.\u0275prov=d.Yz7({token:P,factory:function(){return function He(){return new Le((0,d.LFG)(Xe))}()},providedIn:"root"}),P})();function yt(P){return P.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e))(),K=(()=>((K=K||{})[K.Narrow=0]="Narrow",K[K.Abbreviated=1]="Abbreviated",K[K.Wide=2]="Wide",K[K.Short=3]="Short",K))(),Ge=(()=>((Ge=Ge||{})[Ge.Short=0]="Short",Ge[Ge.Medium=1]="Medium",Ge[Ge.Long=2]="Long",Ge[Ge.Full=3]="Full",Ge))(),Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Group=1]="Group",Fe[Fe.List=2]="List",Fe[Fe.PercentSign=3]="PercentSign",Fe[Fe.PlusSign=4]="PlusSign",Fe[Fe.MinusSign=5]="MinusSign",Fe[Fe.Exponential=6]="Exponential",Fe[Fe.SuperscriptingExponent=7]="SuperscriptingExponent",Fe[Fe.PerMille=8]="PerMille",Fe[Fe.Infinity=9]="Infinity",Fe[Fe.NaN=10]="NaN",Fe[Fe.TimeSeparator=11]="TimeSeparator",Fe[Fe.CurrencyDecimal=12]="CurrencyDecimal",Fe[Fe.CurrencyGroup=13]="CurrencyGroup",Fe))();function qt(P,Q){return bn((0,d.cg1)(P)[d.wAp.DateFormat],Q)}function Gt(P,Q){return bn((0,d.cg1)(P)[d.wAp.TimeFormat],Q)}function ln(P,Q){return bn((0,d.cg1)(P)[d.wAp.DateTimeFormat],Q)}function _n(P,Q){const U=(0,d.cg1)(P),fe=U[d.wAp.NumberSymbols][Q];if(typeof fe>"u"){if(Q===Fe.CurrencyDecimal)return U[d.wAp.NumberSymbols][Fe.Decimal];if(Q===Fe.CurrencyGroup)return U[d.wAp.NumberSymbols][Fe.Group]}return fe}function jt(P){if(!P[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(P,Q){for(let U=Q;U>-1;U--)if(typeof P[U]<"u")return P[U];throw new Error("Locale data API: locale data undefined")}function Zn(P){const[Q,U]=P.split(":");return{hours:+Q,minutes:+U}}const ce=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ve={},ft=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var st=(()=>((st=st||{})[st.Short=0]="Short",st[st.ShortGMT=1]="ShortGMT",st[st.Long=2]="Long",st[st.Extended=3]="Extended",st))(),Ze=(()=>((Ze=Ze||{})[Ze.FullYear=0]="FullYear",Ze[Ze.Month=1]="Month",Ze[Ze.Date=2]="Date",Ze[Ze.Hours=3]="Hours",Ze[Ze.Minutes=4]="Minutes",Ze[Ze.Seconds=5]="Seconds",Ze[Ze.FractionalSeconds=6]="FractionalSeconds",Ze[Ze.Day=7]="Day",Ze))(),qe=(()=>((qe=qe||{})[qe.DayPeriods=0]="DayPeriods",qe[qe.Days=1]="Days",qe[qe.Months=2]="Months",qe[qe.Eras=3]="Eras",qe))();function ke(P,Q,U,fe){let Ye=function oe(P){if(V(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[Ye,Qt=1,fn=1]=P.split("-").map(qn=>+qn);return Ut(Ye,Qt-1,fn)}const U=parseFloat(P);if(!isNaN(P-U))return new Date(U);let fe;if(fe=P.match(ce))return function H(P){const Q=new Date(0);let U=0,fe=0;const Ye=P[8]?Q.setUTCFullYear:Q.setFullYear,Qt=P[8]?Q.setUTCHours:Q.setHours;P[9]&&(U=Number(P[9]+P[10]),fe=Number(P[9]+P[11])),Ye.call(Q,Number(P[1]),Number(P[2])-1,Number(P[3]));const fn=Number(P[4]||0)-U,qn=Number(P[5]||0)-fe,Wi=Number(P[6]||0),Ai=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return Qt.call(Q,fn,qn,Wi,Ai),Q}(fe)}const Q=new Date(P);if(!V(Q))throw new Error(`Unable to convert "${P}" into a date`);return Q}(P);Q=on(U,Q)||Q;let qn,fn=[];for(;Q;){if(qn=ft.exec(Q),!qn){fn.push(Q);break}{fn=fn.concat(qn.slice(1));const Ci=fn.pop();if(!Ci)break;Q=Ci}}let Wi=Ye.getTimezoneOffset();fe&&(Wi=wt(fe,Wi),Ye=function Me(P,Q,U){const fe=U?-1:1,Ye=P.getTimezoneOffset();return function Vt(P,Q){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+Q),P}(P,fe*(wt(Q,Ye)-Ye))}(Ye,fe,!0));let Ai="";return fn.forEach(Ci=>{const ki=function Se(P){if(Oe[P])return Oe[P];let Q;switch(P){case"G":case"GG":case"GGG":Q=Ht(qe.Eras,K.Abbreviated);break;case"GGGG":Q=Ht(qe.Eras,K.Wide);break;case"GGGGG":Q=Ht(qe.Eras,K.Narrow);break;case"y":Q=Ie(Ze.FullYear,1,0,!1,!0);break;case"yy":Q=Ie(Ze.FullYear,2,0,!0,!0);break;case"yyy":Q=Ie(Ze.FullYear,3,0,!1,!0);break;case"yyyy":Q=Ie(Ze.FullYear,4,0,!1,!0);break;case"Y":Q=Be(1);break;case"YY":Q=Be(2,!0);break;case"YYY":Q=Be(3);break;case"YYYY":Q=Be(4);break;case"M":case"L":Q=Ie(Ze.Month,1,1);break;case"MM":case"LL":Q=Ie(Ze.Month,2,1);break;case"MMM":Q=Ht(qe.Months,K.Abbreviated);break;case"MMMM":Q=Ht(qe.Months,K.Wide);break;case"MMMMM":Q=Ht(qe.Months,K.Narrow);break;case"LLL":Q=Ht(qe.Months,K.Abbreviated,$e.Standalone);break;case"LLLL":Q=Ht(qe.Months,K.Wide,$e.Standalone);break;case"LLLLL":Q=Ht(qe.Months,K.Narrow,$e.Standalone);break;case"w":Q=rt(1);break;case"ww":Q=rt(2);break;case"W":Q=rt(1,!0);break;case"d":Q=Ie(Ze.Date,1);break;case"dd":Q=Ie(Ze.Date,2);break;case"c":case"cc":Q=Ie(Ze.Day,1);break;case"ccc":Q=Ht(qe.Days,K.Abbreviated,$e.Standalone);break;case"cccc":Q=Ht(qe.Days,K.Wide,$e.Standalone);break;case"ccccc":Q=Ht(qe.Days,K.Narrow,$e.Standalone);break;case"cccccc":Q=Ht(qe.Days,K.Short,$e.Standalone);break;case"E":case"EE":case"EEE":Q=Ht(qe.Days,K.Abbreviated);break;case"EEEE":Q=Ht(qe.Days,K.Wide);break;case"EEEEE":Q=Ht(qe.Days,K.Narrow);break;case"EEEEEE":Q=Ht(qe.Days,K.Short);break;case"a":case"aa":case"aaa":Q=Ht(qe.DayPeriods,K.Abbreviated);break;case"aaaa":Q=Ht(qe.DayPeriods,K.Wide);break;case"aaaaa":Q=Ht(qe.DayPeriods,K.Narrow);break;case"b":case"bb":case"bbb":Q=Ht(qe.DayPeriods,K.Abbreviated,$e.Standalone,!0);break;case"bbbb":Q=Ht(qe.DayPeriods,K.Wide,$e.Standalone,!0);break;case"bbbbb":Q=Ht(qe.DayPeriods,K.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":Q=Ht(qe.DayPeriods,K.Abbreviated,$e.Format,!0);break;case"BBBB":Q=Ht(qe.DayPeriods,K.Wide,$e.Format,!0);break;case"BBBBB":Q=Ht(qe.DayPeriods,K.Narrow,$e.Format,!0);break;case"h":Q=Ie(Ze.Hours,1,-12);break;case"hh":Q=Ie(Ze.Hours,2,-12);break;case"H":Q=Ie(Ze.Hours,1);break;case"HH":Q=Ie(Ze.Hours,2);break;case"m":Q=Ie(Ze.Minutes,1);break;case"mm":Q=Ie(Ze.Minutes,2);break;case"s":Q=Ie(Ze.Seconds,1);break;case"ss":Q=Ie(Ze.Seconds,2);break;case"S":Q=Ie(Ze.FractionalSeconds,1);break;case"SS":Q=Ie(Ze.FractionalSeconds,2);break;case"SSS":Q=Ie(Ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=_i(st.Short);break;case"ZZZZZ":Q=_i(st.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=_i(st.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=_i(st.Long);break;default:return null}return Oe[P]=Q,Q}(Ci);Ai+=ki?ki(Ye,U,Wi):"''"===Ci?"'":Ci.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ai}function Ut(P,Q,U){const fe=new Date(0);return fe.setFullYear(P,Q,U),fe.setHours(0,0,0),fe}function on(P,Q){const U=function vt(P){return(0,d.cg1)(P)[d.wAp.LocaleId]}(P);if(Ve[U]=Ve[U]||{},Ve[U][Q])return Ve[U][Q];let fe="";switch(Q){case"shortDate":fe=qt(P,Ge.Short);break;case"mediumDate":fe=qt(P,Ge.Medium);break;case"longDate":fe=qt(P,Ge.Long);break;case"fullDate":fe=qt(P,Ge.Full);break;case"shortTime":fe=Gt(P,Ge.Short);break;case"mediumTime":fe=Gt(P,Ge.Medium);break;case"longTime":fe=Gt(P,Ge.Long);break;case"fullTime":fe=Gt(P,Ge.Full);break;case"short":const Ye=on(P,"shortTime"),Qt=on(P,"shortDate");fe=Kt(ln(P,Ge.Short),[Ye,Qt]);break;case"medium":const fn=on(P,"mediumTime"),qn=on(P,"mediumDate");fe=Kt(ln(P,Ge.Medium),[fn,qn]);break;case"long":const Wi=on(P,"longTime"),Ai=on(P,"longDate");fe=Kt(ln(P,Ge.Long),[Wi,Ai]);break;case"full":const Ci=on(P,"fullTime"),ki=on(P,"fullDate");fe=Kt(ln(P,Ge.Full),[Ci,ki])}return fe&&(Ve[U][Q]=fe),fe}function Kt(P,Q){return Q&&(P=P.replace(/\{([^}]+)}/g,function(U,fe){return null!=Q&&fe in Q?Q[fe]:U})),P}function Wt(P,Q,U="-",fe,Ye){let Qt="";(P<0||Ye&&P<=0)&&(Ye?P=1-P:(P=-P,Qt=U));let fn=String(P);for(;fn.length<Q;)fn="0"+fn;return fe&&(fn=fn.slice(fn.length-Q)),Qt+fn}function Ie(P,Q,U=0,fe=!1,Ye=!1){return function(Qt,fn){let qn=function _t(P,Q){switch(P){case Ze.FullYear:return Q.getFullYear();case Ze.Month:return Q.getMonth();case Ze.Date:return Q.getDate();case Ze.Hours:return Q.getHours();case Ze.Minutes:return Q.getMinutes();case Ze.Seconds:return Q.getSeconds();case Ze.FractionalSeconds:return Q.getMilliseconds();case Ze.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,Qt);if((U>0||qn>-U)&&(qn+=U),P===Ze.Hours)0===qn&&-12===U&&(qn=12);else if(P===Ze.FractionalSeconds)return function On(P,Q){return Wt(P,3).substring(0,Q)}(qn,Q);const Wi=_n(fn,Fe.MinusSign);return Wt(qn,Q,Wi,fe,Ye)}}function Ht(P,Q,U=$e.Format,fe=!1){return function(Ye,Qt){return function Sn(P,Q,U,fe,Ye,Qt){switch(U){case qe.Months:return function ut(P,Q,U){const fe=(0,d.cg1)(P),Qt=bn([fe[d.wAp.MonthsFormat],fe[d.wAp.MonthsStandalone]],Q);return bn(Qt,U)}(Q,Ye,fe)[P.getMonth()];case qe.Days:return function kn(P,Q,U){const fe=(0,d.cg1)(P),Qt=bn([fe[d.wAp.DaysFormat],fe[d.wAp.DaysStandalone]],Q);return bn(Qt,U)}(Q,Ye,fe)[P.getDay()];case qe.DayPeriods:const fn=P.getHours(),qn=P.getMinutes();if(Qt){const Ai=function Tt(P){const Q=(0,d.cg1)(P);return jt(Q),(Q[d.wAp.ExtraData][2]||[]).map(fe=>"string"==typeof fe?Zn(fe):[Zn(fe[0]),Zn(fe[1])])}(Q),Ci=function cn(P,Q,U){const fe=(0,d.cg1)(P);jt(fe);const Qt=bn([fe[d.wAp.ExtraData][0],fe[d.wAp.ExtraData][1]],Q)||[];return bn(Qt,U)||[]}(Q,Ye,fe),ki=Ai.findIndex(or=>{if(Array.isArray(or)){const[zn,ao]=or,vs=fn>=zn.hours&&qn>=zn.minutes,Wr=fn<ao.hours||fn===ao.hours&&qn<ao.minutes;if(zn.hours<ao.hours){if(vs&&Wr)return!0}else if(vs||Wr)return!0}else if(or.hours===fn&&or.minutes===qn)return!0;return!1});if(-1!==ki)return Ci[ki]}return function vn(P,Q,U){const fe=(0,d.cg1)(P),Qt=bn([fe[d.wAp.DayPeriodsFormat],fe[d.wAp.DayPeriodsStandalone]],Q);return bn(Qt,U)}(Q,Ye,fe)[fn<12?0:1];case qe.Eras:return function ht(P,Q){return bn((0,d.cg1)(P)[d.wAp.Eras],Q)}(Q,fe)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(Ye,Qt,P,Q,U,fe)}}function _i(P){return function(Q,U,fe){const Ye=-1*fe,Qt=_n(U,Fe.MinusSign),fn=Ye>0?Math.floor(Ye/60):Math.ceil(Ye/60);switch(P){case st.Short:return(Ye>=0?"+":"")+Wt(fn,2,Qt)+Wt(Math.abs(Ye%60),2,Qt);case st.ShortGMT:return"GMT"+(Ye>=0?"+":"")+Wt(fn,1,Qt);case st.Long:return"GMT"+(Ye>=0?"+":"")+Wt(fn,2,Qt)+":"+Wt(Math.abs(Ye%60),2,Qt);case st.Extended:return 0===fe?"Z":(Ye>=0?"+":"")+Wt(fn,2,Qt)+":"+Wt(Math.abs(Ye%60),2,Qt);default:throw new Error(`Unknown zone width "${P}"`)}}}const Ri=0,yi=4;function Je(P){return Ut(P.getFullYear(),P.getMonth(),P.getDate()+(yi-P.getDay()))}function rt(P,Q=!1){return function(U,fe){let Ye;if(Q){const Qt=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,fn=U.getDate();Ye=1+Math.floor((fn+Qt)/7)}else{const Qt=Je(U),fn=function Zt(P){const Q=Ut(P,Ri,1).getDay();return Ut(P,0,1+(Q<=yi?yi:yi+7)-Q)}(Qt.getFullYear()),qn=Qt.getTime()-fn.getTime();Ye=1+Math.round(qn/6048e5)}return Wt(Ye,P,_n(fe,Fe.MinusSign))}}function Be(P,Q=!1){return function(U,fe){return Wt(Je(U).getFullYear(),P,_n(fe,Fe.MinusSign),Q)}}const Oe={};function wt(P,Q){P=P.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(U)?Q:U}function V(P){return P instanceof Date&&!isNaN(P.valueOf())}function Kr(P,Q){Q=encodeURIComponent(Q);for(const U of P.split(";")){const fe=U.indexOf("="),[Ye,Qt]=-1==fe?[U,""]:[U.slice(0,fe),U.slice(fe+1)];if(Ye.trim()===Q)return decodeURIComponent(Qt)}return null}const po=/\s+/,Zo=[];let $i=(()=>{class P{constructor(U,fe,Ye,Qt){this._iterableDiffers=U,this._keyValueDiffers=fe,this._ngEl=Ye,this._renderer=Qt,this.initialClasses=Zo,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(po):Zo}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(po):U}ngDoCheck(){for(const fe of this.initialClasses)this._updateState(fe,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const fe of U)this._updateState(fe,!0);else if(null!=U)for(const fe of Object.keys(U))this._updateState(fe,!!U[fe]);this._applyStateDiff()}_updateState(U,fe){const Ye=this.stateMap.get(U);void 0!==Ye?(Ye.enabled!==fe&&(Ye.changed=!0,Ye.enabled=fe),Ye.touched=!0):this.stateMap.set(U,{enabled:fe,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const fe=U[0],Ye=U[1];Ye.changed?(this._toggleClass(fe,Ye.enabled),Ye.changed=!1):Ye.touched||(Ye.enabled&&this._toggleClass(fe,!1),this.stateMap.delete(fe)),Ye.touched=!1}}_toggleClass(U,fe){(U=U.trim()).length>0&&U.split(po).forEach(Ye=>{fe?this._renderer.addClass(this._ngEl.nativeElement,Ye):this._renderer.removeClass(this._ngEl.nativeElement,Ye)})}}return P.\u0275fac=function(U){return new(U||P)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),P})();class Zr{constructor(Q,U,fe,Ye){this.$implicit=Q,this.ngForOf=U,this.index=fe,this.count=Ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vo=(()=>{class P{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,fe,Ye){this._viewContainer=U,this._template=fe,this._differs=Ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const fe=this._viewContainer;U.forEachOperation((Ye,Qt,fn)=>{if(null==Ye.previousIndex)fe.createEmbeddedView(this._template,new Zr(Ye.item,this._ngForOf,-1,-1),null===fn?void 0:fn);else if(null==fn)fe.remove(null===Qt?void 0:Qt);else if(null!==Qt){const qn=fe.get(Qt);fe.move(qn,fn),Di(qn,Ye)}});for(let Ye=0,Qt=fe.length;Ye<Qt;Ye++){const qn=fe.get(Ye).context;qn.index=Ye,qn.count=Qt,qn.ngForOf=this._ngForOf}U.forEachIdentityChange(Ye=>{Di(fe.get(Ye.currentIndex),Ye)})}static ngTemplateContextGuard(U,fe){return!0}}return P.\u0275fac=function(U){return new(U||P)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function Di(P,Q){P.context.$implicit=Q.item}let yo=(()=>{class P{constructor(U,fe){this._viewContainer=U,this._context=new bo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){hr("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){hr("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,fe){return!0}}return P.\u0275fac=function(U){return new(U||P)(d.Y36(d.s_b),d.Y36(d.Rgc))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class bo{constructor(){this.$implicit=null,this.ngIf=null}}function hr(P,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,d.AaK)(Q)}'.`)}let Qo=(()=>{class P{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const fe=this._viewContainerRef;if(this._viewRef&&fe.remove(fe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ye,ngTemplateOutletContext:Qt,ngTemplateOutletInjector:fn}=this;this._viewRef=fe.createEmbeddedView(Ye,Qt,fn?{injector:fn}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(U){return new(U||P)(d.Y36(d.s_b))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),P})();const sn=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),An=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Xn=(()=>{class P{constructor(U,fe,Ye){this.locale=U,this.defaultTimezone=fe,this.defaultOptions=Ye}transform(U,fe,Ye,Qt){if(null==U||""===U||U!=U)return null;try{return ke(U,fe??this.defaultOptions?.dateFormat??"mediumDate",Qt||this.locale,Ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(fn){throw function ci(P,Q){return new d.vHH(2100,!1)}()}}}return P.\u0275fac=function(U){return new(U||P)(d.Y36(d.soG,16),d.Y36(sn,24),d.Y36(An,24))},P.\u0275pipe=d.Yjl({name:"date",type:P,pure:!0,standalone:!0}),P})(),ss=(()=>{class P{}return P.\u0275fac=function(U){return new(U||P)},P.\u0275mod=d.oAB({type:P}),P.\u0275inj=d.cJS({}),P})();const ps="browser",Vs="server";function ws(P){return P===ps}function uo(P){return P===Vs}let wo=(()=>{class P{}return P.\u0275prov=(0,d.Yz7)({token:P,providedIn:"root",factory:()=>new qr((0,d.LFG)(ae),window)}),P})();class qr{constructor(Q,U){this.document=Q,this.window=U,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const U=function As(P,Q){const U=P.getElementById(Q)||P.getElementsByName(Q)[0];if(U)return U;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const fe=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ye=fe.currentNode;for(;Ye;){const Qt=Ye.shadowRoot;if(Qt){const fn=Qt.getElementById(Q)||Qt.querySelector(`[name="${Q}"]`);if(fn)return fn}Ye=fe.nextNode()}}return null}(this.document,Q);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=Q)}}scrollToElement(Q){const U=Q.getBoundingClientRect(),fe=U.left+this.window.pageXOffset,Ye=U.top+this.window.pageYOffset,Qt=this.offset();this.window.scrollTo(fe-Qt[0],Ye-Qt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=Jo(this.window.history)||Jo(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Jo(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Pr{}},3144:(gn,nt,E)=>{E.d(nt,{JF:()=>Oe,eN:()=>Rt});var d=E(2223),B=E(9646),m=E(8996),ne=E(9751),xe=E(4351),ae=E(9300),Z=E(4004),_e=E(8746),Ee=E(3900),se=E(4755);class de{}class me{}class Xe{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(ve=>{const xt=ve.indexOf(":");if(xt>0){const bt=ve.slice(0,xt),kt=bt.toLowerCase(),en=ve.slice(xt+1).trim();this.maybeSetNormalizedName(bt,kt),this.headers.has(kt)?this.headers.get(kt).push(en):this.headers.set(kt,[en])}})}:()=>{this.headers=new Map,Object.entries(re).forEach(([ve,xt])=>{let bt;if(bt="string"==typeof xt?[xt]:"number"==typeof xt?[xt.toString()]:xt.map(kt=>kt.toString()),bt.length>0){const kt=ve.toLowerCase();this.headers.set(kt,bt),this.maybeSetNormalizedName(ve,kt)}})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const ve=this.headers.get(re.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,ve){return this.clone({name:re,value:ve,op:"a"})}set(re,ve){return this.clone({name:re,value:ve,op:"s"})}delete(re,ve){return this.clone({name:re,value:ve,op:"d"})}maybeSetNormalizedName(re,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,re)}init(){this.lazyInit&&(this.lazyInit instanceof Xe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(ve=>{this.headers.set(ve,re.headers.get(ve)),this.normalizedNames.set(ve,re.normalizedNames.get(ve))})}clone(re){const ve=new Xe;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof Xe?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([re]),ve}applyUpdate(re){const ve=re.name.toLowerCase();switch(re.op){case"a":case"s":let xt=re.value;if("string"==typeof xt&&(xt=[xt]),0===xt.length)return;this.maybeSetNormalizedName(re.name,ve);const bt=("a"===re.op?this.headers.get(ve):void 0)||[];bt.push(...xt),this.headers.set(ve,bt);break;case"d":const kt=re.value;if(kt){let en=this.headers.get(ve);if(!en)return;en=en.filter(ti=>-1===kt.indexOf(ti)),0===en.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,en)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>re(this.normalizedNames.get(ve),this.headers.get(ve)))}}class dt{encodeKey(re){return Re(re)}encodeValue(re){return Re(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const Le=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Re(le){return encodeURIComponent(le).replace(Le,(re,ve)=>He[ve]??re)}function yt(le){return`${le}`}class ue{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new dt,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function it(le,re){const ve=new Map;return le.length>0&&le.replace(/^\?/,"").split("&").forEach(bt=>{const kt=bt.indexOf("="),[en,ti]=-1==kt?[re.decodeKey(bt),""]:[re.decodeKey(bt.slice(0,kt)),re.decodeValue(bt.slice(kt+1))],Mn=ve.get(en)||[];Mn.push(ti),ve.set(en,Mn)}),ve}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(ve=>{const xt=re.fromObject[ve],bt=Array.isArray(xt)?xt.map(yt):[yt(xt)];this.map.set(ve,bt)})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const ve=this.map.get(re);return ve?ve[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,ve){return this.clone({param:re,value:ve,op:"a"})}appendAll(re){const ve=[];return Object.keys(re).forEach(xt=>{const bt=re[xt];Array.isArray(bt)?bt.forEach(kt=>{ve.push({param:xt,value:kt,op:"a"})}):ve.push({param:xt,value:bt,op:"a"})}),this.clone(ve)}set(re,ve){return this.clone({param:re,value:ve,op:"s"})}delete(re,ve){return this.clone({param:re,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const ve=this.encoder.encodeKey(re);return this.map.get(re).map(xt=>ve+"="+this.encoder.encodeValue(xt)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const ve=new ue({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(re),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const ve=("a"===re.op?this.map.get(re.param):void 0)||[];ve.push(yt(re.value)),this.map.set(re.param,ve);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let xt=this.map.get(re.param)||[];const bt=xt.indexOf(yt(re.value));-1!==bt&&xt.splice(bt,1),xt.length>0?this.map.set(re.param,xt):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class be{constructor(){this.map=new Map}set(re,ve){return this.map.set(re,ve),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}has(re){return this.map.has(re)}keys(){return this.map.keys()}}function $e(le){return typeof ArrayBuffer<"u"&&le instanceof ArrayBuffer}function K(le){return typeof Blob<"u"&&le instanceof Blob}function Ge(le){return typeof FormData<"u"&&le instanceof FormData}class ze{constructor(re,ve,xt,bt){let kt;if(this.url=ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function Ae(le){switch(le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||bt?(this.body=void 0!==xt?xt:null,kt=bt):kt=xt,kt&&(this.reportProgress=!!kt.reportProgress,this.withCredentials=!!kt.withCredentials,kt.responseType&&(this.responseType=kt.responseType),kt.headers&&(this.headers=kt.headers),kt.context&&(this.context=kt.context),kt.params&&(this.params=kt.params)),this.headers||(this.headers=new Xe),this.context||(this.context=new be),this.params){const en=this.params.toString();if(0===en.length)this.urlWithParams=ve;else{const ti=ve.indexOf("?");this.urlWithParams=ve+(-1===ti?"?":ti<ve.length-1?"&":"")+en}}else this.params=new ue,this.urlWithParams=ve}serializeBody(){return null===this.body?null:$e(this.body)||K(this.body)||Ge(this.body)||function Fe(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ge(this.body)?null:K(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){const ve=re.method||this.method,xt=re.url||this.url,bt=re.responseType||this.responseType,kt=void 0!==re.body?re.body:this.body,en=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,ti=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let Mn=re.headers||this.headers,Si=re.params||this.params;const xi=re.context??this.context;return void 0!==re.setHeaders&&(Mn=Object.keys(re.setHeaders).reduce((Lt,Ct)=>Lt.set(Ct,re.setHeaders[Ct]),Mn)),re.setParams&&(Si=Object.keys(re.setParams).reduce((Lt,Ct)=>Lt.set(Ct,re.setParams[Ct]),Si)),new ze(ve,xt,kt,{params:Si,headers:Mn,context:xi,reportProgress:ti,responseType:bt,withCredentials:en})}}var vt=(()=>((vt=vt||{})[vt.Sent=0]="Sent",vt[vt.UploadProgress=1]="UploadProgress",vt[vt.ResponseHeader=2]="ResponseHeader",vt[vt.DownloadProgress=3]="DownloadProgress",vt[vt.Response=4]="Response",vt[vt.User=5]="User",vt))();class vn{constructor(re,ve=200,xt="OK"){this.headers=re.headers||new Xe,this.status=void 0!==re.status?re.status:ve,this.statusText=re.statusText||xt,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class kn extends vn{constructor(re={}){super(re),this.type=vt.ResponseHeader}clone(re={}){return new kn({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class ut extends vn{constructor(re={}){super(re),this.type=vt.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new ut({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class ht extends vn{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function At(le,re){return{body:re,headers:le.headers,context:le.context,observe:le.observe,params:le.params,reportProgress:le.reportProgress,responseType:le.responseType,withCredentials:le.withCredentials}}let Rt=(()=>{class le{constructor(ve){this.handler=ve}request(ve,xt,bt={}){let kt;if(ve instanceof ze)kt=ve;else{let Mn,Si;Mn=bt.headers instanceof Xe?bt.headers:new Xe(bt.headers),bt.params&&(Si=bt.params instanceof ue?bt.params:new ue({fromObject:bt.params})),kt=new ze(ve,xt,void 0!==bt.body?bt.body:null,{headers:Mn,context:bt.context,params:Si,reportProgress:bt.reportProgress,responseType:bt.responseType||"json",withCredentials:bt.withCredentials})}const en=(0,B.of)(kt).pipe((0,xe.b)(Mn=>this.handler.handle(Mn)));if(ve instanceof ze||"events"===bt.observe)return en;const ti=en.pipe((0,ae.h)(Mn=>Mn instanceof ut));switch(bt.observe||"body"){case"body":switch(kt.responseType){case"arraybuffer":return ti.pipe((0,Z.U)(Mn=>{if(null!==Mn.body&&!(Mn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Mn.body}));case"blob":return ti.pipe((0,Z.U)(Mn=>{if(null!==Mn.body&&!(Mn.body instanceof Blob))throw new Error("Response is not a Blob.");return Mn.body}));case"text":return ti.pipe((0,Z.U)(Mn=>{if(null!==Mn.body&&"string"!=typeof Mn.body)throw new Error("Response is not a string.");return Mn.body}));default:return ti.pipe((0,Z.U)(Mn=>Mn.body))}case"response":return ti;default:throw new Error(`Unreachable: unhandled observe type ${bt.observe}}`)}}delete(ve,xt={}){return this.request("DELETE",ve,xt)}get(ve,xt={}){return this.request("GET",ve,xt)}head(ve,xt={}){return this.request("HEAD",ve,xt)}jsonp(ve,xt){return this.request("JSONP",ve,{params:(new ue).append(xt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,xt={}){return this.request("OPTIONS",ve,xt)}patch(ve,xt,bt={}){return this.request("PATCH",ve,At(bt,xt))}post(ve,xt,bt={}){return this.request("POST",ve,At(bt,xt))}put(ve,xt,bt={}){return this.request("PUT",ve,At(bt,xt))}}return le.\u0275fac=function(ve){return new(ve||le)(d.LFG(de))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();function qt(le,re){return re(le)}function Gt(le,re){return(ve,xt)=>re.intercept(ve,{handle:bt=>le(bt,xt)})}const _n=new d.OlP(""),rn=new d.OlP(""),Mt=new d.OlP("");function Ke(){let le=null;return(re,ve)=>{null===le&&(le=((0,d.f3M)(_n,{optional:!0})??[]).reduceRight(Gt,qt));const xt=(0,d.f3M)(d.HDt),bt=xt.add();return le(re,ve).pipe((0,_e.x)(()=>xt.remove(bt)))}}let Qe=(()=>{class le extends de{constructor(ve,xt){super(),this.backend=ve,this.injector=xt,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(ve){if(null===this.chain){const bt=Array.from(new Set([...this.injector.get(rn),...this.injector.get(Mt,[])]));this.chain=bt.reduceRight((kt,en)=>function ln(le,re,ve){return(xt,bt)=>ve.runInContext(()=>re(xt,kt=>le(kt,bt)))}(kt,en,this.injector),qt)}const xt=this.pendingTasks.add();return this.chain(ve,bt=>this.backend.handle(bt)).pipe((0,_e.x)(()=>this.pendingTasks.remove(xt)))}}return le.\u0275fac=function(ve){return new(ve||le)(d.LFG(me),d.LFG(d.lqb))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();const ce=/^\)\]\}',?\n/;let ft=(()=>{class le{constructor(ve){this.xhrFactory=ve}handle(ve){if("JSONP"===ve.method)throw new d.vHH(-2800,!1);const xt=this.xhrFactory;return(xt.\u0275loadImpl?(0,m.D)(xt.\u0275loadImpl()):(0,B.of)(null)).pipe((0,Ee.w)(()=>new ne.y(kt=>{const en=xt.build();if(en.open(ve.method,ve.urlWithParams),ve.withCredentials&&(en.withCredentials=!0),ve.headers.forEach((Rn,Hn)=>en.setRequestHeader(Rn,Hn.join(","))),ve.headers.has("Accept")||en.setRequestHeader("Accept","application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const Rn=ve.detectContentTypeHeader();null!==Rn&&en.setRequestHeader("Content-Type",Rn)}if(ve.responseType){const Rn=ve.responseType.toLowerCase();en.responseType="json"!==Rn?Rn:"text"}const ti=ve.serializeBody();let Mn=null;const Si=()=>{if(null!==Mn)return Mn;const Rn=en.statusText||"OK",Hn=new Xe(en.getAllResponseHeaders()),fi=function Ve(le){return"responseURL"in le&&le.responseURL?le.responseURL:/^X-Request-URL:/m.test(le.getAllResponseHeaders())?le.getResponseHeader("X-Request-URL"):null}(en)||ve.url;return Mn=new kn({headers:Hn,status:en.status,statusText:Rn,url:fi}),Mn},xi=()=>{let{headers:Rn,status:Hn,statusText:fi,url:ir}=Si(),gi=null;204!==Hn&&(gi=typeof en.response>"u"?en.responseText:en.response),0===Hn&&(Hn=gi?200:0);let Cr=Hn>=200&&Hn<300;if("json"===ve.responseType&&"string"==typeof gi){const Kr=gi;gi=gi.replace(ce,"");try{gi=""!==gi?JSON.parse(gi):null}catch(po){gi=Kr,Cr&&(Cr=!1,gi={error:po,text:gi})}}Cr?(kt.next(new ut({body:gi,headers:Rn,status:Hn,statusText:fi,url:ir||void 0})),kt.complete()):kt.error(new ht({error:gi,headers:Rn,status:Hn,statusText:fi,url:ir||void 0}))},Lt=Rn=>{const{url:Hn}=Si(),fi=new ht({error:Rn,status:en.status||0,statusText:en.statusText||"Unknown Error",url:Hn||void 0});kt.error(fi)};let Ct=!1;const yn=Rn=>{Ct||(kt.next(Si()),Ct=!0);let Hn={type:vt.DownloadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(Hn.total=Rn.total),"text"===ve.responseType&&en.responseText&&(Hn.partialText=en.responseText),kt.next(Hn)},Qn=Rn=>{let Hn={type:vt.UploadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(Hn.total=Rn.total),kt.next(Hn)};return en.addEventListener("load",xi),en.addEventListener("error",Lt),en.addEventListener("timeout",Lt),en.addEventListener("abort",Lt),ve.reportProgress&&(en.addEventListener("progress",yn),null!==ti&&en.upload&&en.upload.addEventListener("progress",Qn)),en.send(ti),kt.next({type:vt.Sent}),()=>{en.removeEventListener("error",Lt),en.removeEventListener("abort",Lt),en.removeEventListener("load",xi),en.removeEventListener("timeout",Lt),ve.reportProgress&&(en.removeEventListener("progress",yn),null!==ti&&en.upload&&en.upload.removeEventListener("progress",Qn)),en.readyState!==en.DONE&&en.abort()}})))}}return le.\u0275fac=function(ve){return new(ve||le)(d.LFG(se.JF))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();const st=new d.OlP("XSRF_ENABLED"),qe=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ut=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class on{}let Kt=(()=>{class le{constructor(ve,xt,bt){this.doc=ve,this.platform=xt,this.cookieName=bt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,se.Mx)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}}return le.\u0275fac=function(ve){return new(ve||le)(d.LFG(se.K0),d.LFG(d.Lbi),d.LFG(qe))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();function Wt(le,re){const ve=le.url.toLowerCase();if(!(0,d.f3M)(st)||"GET"===le.method||"HEAD"===le.method||ve.startsWith("http://")||ve.startsWith("https://"))return re(le);const xt=(0,d.f3M)(on).getToken(),bt=(0,d.f3M)(Ut);return null!=xt&&!le.headers.has(bt)&&(le=le.clone({headers:le.headers.set(bt,xt)})),re(le)}var Ie=(()=>((Ie=Ie||{})[Ie.Interceptors=0]="Interceptors",Ie[Ie.LegacyInterceptors=1]="LegacyInterceptors",Ie[Ie.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ie[Ie.NoXsrfProtection=3]="NoXsrfProtection",Ie[Ie.JsonpSupport=4]="JsonpSupport",Ie[Ie.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ie))();function _t(le,re){return{\u0275kind:le,\u0275providers:re}}function Ht(...le){const re=[Rt,ft,Qe,{provide:de,useExisting:Qe},{provide:me,useExisting:ft},{provide:rn,useValue:Wt,multi:!0},{provide:st,useValue:!0},{provide:on,useClass:Kt}];for(const ve of le)re.push(...ve.\u0275providers);return(0,d.MR2)(re)}const _i=new d.OlP("LEGACY_INTERCEPTOR_FN");let Oe=(()=>{class le{}return le.\u0275fac=function(ve){return new(ve||le)},le.\u0275mod=d.oAB({type:le}),le.\u0275inj=d.cJS({providers:[Ht(_t(Ie.LegacyInterceptors,[{provide:_i,useFactory:Ke},{provide:rn,useExisting:_i,multi:!0}]))]}),le})()},2223:(gn,nt,E)=>{E.d(nt,{$8M:()=>Ul,$WT:()=>Yr,$Z:()=>H_,AFp:()=>Hm,ALo:()=>hw,AaK:()=>me,BQk:()=>Ed,CHM:()=>xo,CRH:()=>Sw,D6c:()=>OD,EJc:()=>LC,EiD:()=>p_,EpF:()=>ug,F$t:()=>Th,F4k:()=>bu,FYo:()=>eu,FiY:()=>Ya,Gf:()=>Dw,GfV:()=>pf,GkF:()=>$f,Gpc:()=>dt,HDt:()=>qw,Hsn:()=>_v,Ikx:()=>Ph,JOm:()=>Oa,JVY:()=>py,JZr:()=>yt,KtG:()=>ds,L6k:()=>gy,LAX:()=>Gd,LFG:()=>Se,LSH:()=>Rm,Lbi:()=>cf,Lck:()=>CE,MAs:()=>gv,MMx:()=>Q0,MR2:()=>od,NdJ:()=>Fl,O4$:()=>k,Ojb:()=>D_,OlP:()=>mo,Oqu:()=>xg,P3R:()=>Jh,PXZ:()=>XC,Q6J:()=>ag,QGY:()=>Sh,QbO:()=>Iy,Qsj:()=>mf,R0b:()=>ja,RDi:()=>r_,Rgc:()=>Fg,SBq:()=>hd,Sil:()=>UC,Suo:()=>Iw,TTD:()=>Ls,TgZ:()=>Dh,Udp:()=>Uc,VKq:()=>ow,W1O:()=>kw,WFA:()=>Cd,WLB:()=>sw,X6Q:()=>sD,XFs:()=>st,Xpm:()=>no,Xts:()=>rd,Y36:()=>Oc,YKP:()=>Y0,YNc:()=>Nc,Yjl:()=>Xo,Yz7:()=>jt,Z0I:()=>bn,ZZ4:()=>d0,_Bn:()=>Z0,_UZ:()=>zf,_Vd:()=>dd,_c5:()=>xD,_uU:()=>Rv,aQg:()=>u0,c2e:()=>Yw,cJS:()=>cn,cg1:()=>Jf,d8E:()=>Su,dDg:()=>ZC,dqk:()=>Kt,eBb:()=>Cc,eFA:()=>dx,eJc:()=>Wb,ekj:()=>kh,eoX:()=>sx,f3M:()=>Vt,g9A:()=>qd,h0i:()=>em,hGG:()=>ED,hij:()=>Yf,iGM:()=>Cw,ifc:()=>xt,ip1:()=>Zw,jDz:()=>X0,kL8:()=>Zv,kcU:()=>N,lG2:()=>Qo,lqb:()=>Mc,lri:()=>rx,mCW:()=>Zu,n5z:()=>Kc,n_E:()=>Xv,oAB:()=>os,oxw:()=>Wf,pB0:()=>c_,q3G:()=>jo,q4F:()=>ep,qFp:()=>PD,qLn:()=>nu,qOj:()=>Up,qZA:()=>Pl,qzn:()=>nd,rWj:()=>ox,rg0:()=>la,s9C:()=>hg,sBO:()=>aD,s_b:()=>ey,soG:()=>ny,tb:()=>r0,tp0:()=>zs,uIk:()=>qp,vHH:()=>ue,vpe:()=>Hc,wAp:()=>Li,xi3:()=>fw,xp6:()=>U_,ynx:()=>xd,z2F:()=>im,z3N:()=>Zl,zSh:()=>Ql,zs3:()=>kc});var d=E(7579),B=E(727),m=E(1135),ne=E(9751),xe=E(6451),ae=E(9646),Z=E(3099),_e=E(3900),Ee=E(1884);function se(n){for(let i in n)if(n[i]===se)return i;throw Error("Could not find renamed property on target object.")}function de(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Xe(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Ne=se({__forward_ref__:se});function dt(n){return n.__forward_ref__=dt,n.toString=function(){return me(this())},n}function it(n){return Le(n)?n():n}function Le(n){return"function"==typeof n&&n.hasOwnProperty(Ne)&&n.__forward_ref__===dt}function He(n){return n&&!!n.\u0275providers}const yt="https://g.co/ng/security#xss";class ue extends Error{constructor(i,s){super(function De(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function be(n){return"string"==typeof n?n:null==n?"":String(n)}function Fe(n,i){throw new ue(-201,!1)}function Mt(n,i){null==n&&function Ke(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function jt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xt(n){return Zn(n,Bt)||Zn(n,Ve)}function bn(n){return null!==Xt(n)}function Zn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Gn(n){return n&&(n.hasOwnProperty(ce)||n.hasOwnProperty(ft))?n[ce]:null}const Bt=se({\u0275prov:se}),ce=se({\u0275inj:se}),Ve=se({ngInjectableDef:se}),ft=se({ngInjectorDef:se});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Ze;function ke(n){const i=Ze;return Ze=n,i}function Ut(n,i,s){const l=Xt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&st.Optional?null:void 0!==i?i:void Fe(me(n))}const Kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_t={},Ht="__NG_DI_FLAG__",Sn="ngTempTokenPath",Ri=/\n/gm,Zt="__source";let Je;function Be(n){const i=Je;return Je=n,i}function Oe(n,i=st.Default){if(void 0===Je)throw new ue(-203,!1);return null===Je?Ut(n,void 0,i):Je.get(n,i&st.Optional?null:void 0,i)}function Se(n,i=st.Default){return(function qe(){return Ze}()||Oe)(it(n),i)}function Vt(n,i=st.Default){return Se(n,Me(i))}function Me(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function oe(n){const i=[];for(let s=0;s<n.length;s++){const l=it(n[s]);if(Array.isArray(l)){if(0===l.length)throw new ue(900,!1);let c,h=st.Default;for(let b=0;b<l.length;b++){const S=l[b],F=V(S);"number"==typeof F?-1===F?c=S.token:h|=F:c=S}i.push(Se(c,h))}else i.push(Se(l))}return i}function H(n,i){return n[Ht]=i,n.prototype[Ht]=i,n}function V(n){return n[Ht]}function re(n){return{toString:n}.toString()}var ve=(()=>((ve=ve||{})[ve.OnPush=0]="OnPush",ve[ve.Default=1]="Default",ve))(),xt=(()=>{return(n=xt||(xt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",xt;var n})();const bt={},kt=[],en=se({\u0275cmp:se}),ti=se({\u0275dir:se}),Mn=se({\u0275pipe:se}),Si=se({\u0275mod:se}),xi=se({\u0275fac:se}),Lt=se({__NG_ELEMENT_ID__:se}),Ct=se({__NG_ENV_ID__:se});function yn(n,i,s){let l=n.length;for(;;){const c=n.indexOf(i,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||n.charCodeAt(c+h)<=32)return c}s=c+1}}function Qn(n,i,s){let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const h=s[l++],b=s[l++],S=s[l++];n.setAttribute(i,b,S,h)}else{const h=c,b=s[++l];Hn(h)?n.setProperty(i,h,b):n.setAttribute(i,h,b),l++}}return l}function Rn(n){return 3===n||4===n||6===n}function Hn(n){return 64===n.charCodeAt(0)}function fi(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||ir(n,s,c,null,-1===s||2===s?i[++l]:null)}}return n}function ir(n,i,s,l,c){let h=0,b=n.length;if(-1===i)b=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){b=-1;break}if(S>i){b=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===s){if(null===l)return void(null!==c&&(n[h+1]=c));if(l===n[h+1])return void(n[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==b&&(n.splice(b,0,i),h=b+1),n.splice(h++,0,s),null!==l&&n.splice(h++,0,l),null!==c&&n.splice(h++,0,c)}const gi="ng-template";function Cr(n,i,s){let l=0,c=!0;for(;l<n.length;){let h=n[l++];if("string"==typeof h&&c){const b=n[l++];if(s&&"class"===h&&-1!==yn(b.toLowerCase(),i,0))return!0}else{if(1===h){for(;l<n.length&&"string"==typeof(h=n[l++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function Kr(n){return 4===n.type&&n.value!==gi}function po(n,i,s){return i===(4!==n.type||s?n.value:gi)}function Zo(n,i,s){let l=4;const c=n.attrs||[],h=function vo(n){for(let i=0;i<n.length;i++)if(Rn(n[i]))return i;return n.length}(c);let b=!1;for(let S=0;S<i.length;S++){const F=i[S];if("number"!=typeof F){if(!b)if(4&l){if(l=2|1&l,""!==F&&!po(n,F,s)||""===F&&1===i.length){if($i(l))return!1;b=!0}}else{const q=8&l?F:i[++S];if(8&l&&null!==n.attrs){if(!Cr(n.attrs,q,s)){if($i(l))return!1;b=!0}continue}const Ue=to(8&l?"class":F,c,Kr(n),s);if(-1===Ue){if($i(l))return!1;b=!0;continue}if(""!==q){let Et;Et=Ue>h?"":c[Ue+1].toLowerCase();const zt=8&l?Et:null;if(zt&&-1!==yn(zt,q,0)||2&l&&q!==Et){if($i(l))return!1;b=!0}}}}else{if(!b&&!$i(l)&&!$i(F))return!1;if(b&&$i(F))continue;b=!1,l=F|1&l}}return $i(l)||b}function $i(n){return 0==(1&n)}function to(n,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let h=!1;for(;c<i.length;){const b=i[c];if(b===n)return c;if(3===b||6===b)h=!0;else{if(1===b||2===b){let S=i[++c];for(;"string"==typeof S;)S=i[++c];continue}if(4===b)break;if(0===b){c+=4;continue}}c+=h?1:2}return-1}return function Di(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function Gr(n,i,s=!1){for(let l=0;l<i.length;l++)if(Zo(n,i[l],s))return!0;return!1}function Yo(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function yo(n,i){return n?":not("+i.trim()+")":i}function bo(n){let i=n[0],s=1,l=2,c="",h=!1;for(;s<n.length;){let b=n[s];if("string"==typeof b)if(2&l){const S=n[++s];c+="["+b+(S.length>0?'="'+S+'"':"")+"]"}else 8&l?c+="."+b:4&l&&(c+=" "+b);else""!==c&&!$i(b)&&(i+=yo(h,c),c=""),l=b,h=h||!$i(l);s++}return""!==c&&(i+=yo(h,c)),i}function no(n){return re(()=>{const i=$o(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ve.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||xt.Emulated,styles:n.styles||kt,_:null,schemas:n.schemas||null,tView:null,id:""};pt(s);const l=n.dependencies;return s.directiveDefs=lt(l,!1),s.pipeDefs=lt(l,!0),s.id=function dn(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of s)i=Math.imul(31,i)+c.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function Ms(n){return ci(n)||gr(n)}function qo(n){return null!==n}function os(n){return re(()=>({type:n.type,bootstrap:n.bootstrap||kt,declarations:n.declarations||kt,imports:n.imports||kt,exports:n.exports||kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Rr(n,i){if(null==n)return bt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=l,i&&(i[c]=h)}return s}function Qo(n){return re(()=>{const i=$o(n);return pt(i),i})}function Xo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ci(n){return n[en]||null}function gr(n){return n[ti]||null}function Pi(n){return n[Mn]||null}function Yr(n){const i=ci(n)||gr(n)||Pi(n);return null!==i&&i.standalone}function cr(n,i){const s=n[Si]||null;if(!s&&!0===i)throw new Error(`Type ${me(n)} does not have '\u0275mod' property.`);return s}function $o(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rr(n.inputs,i),outputs:Rr(n.outputs)}}function pt(n){n.features?.forEach(i=>i(n))}function lt(n,i){if(!n)return null;const s=i?Pi:Ms;return()=>("function"==typeof n?n():n).map(l=>s(l)).filter(qo)}const pn=0,sn=1,An=2,Xn=3,hi=4,_r=5,Dr=6,rr=7,Gi=8,Vr=9,ro=10,ai=11,No=12,Lo=13,oo=14,ar=15,Ir=16,ms=17,ss=18,ps=19,Vs=20,Sr=21,dr=22,ws=23,uo=24,Bi=25,So=1,wo=2,qr=7,Jo=8,As=9,Pr=11;function qi(n){return Array.isArray(n)&&"object"==typeof n[So]}function Fr(n){return Array.isArray(n)&&!0===n[So]}function go(n){return 0!=(4&n.flags)}function jr(n){return n.componentOffset>-1}function es(n){return 1==(1&n.flags)}function er(n){return!!n.template}function Qr(n){return 0!=(512&n[An])}function ct(n,i){return n.hasOwnProperty(xi)?n[xi]:null}let Ui=Kt.WeakRef??class Ei{constructor(i){this.ref=i}deref(){return this.ref}},wr=0,ji=null,xr=!1;function Ti(n){const i=ji;return ji=n,i}class Mo{constructor(){this.id=wr++,this.ref=function Tr(n){return new Ui(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const l=s.producerNode.deref();if(void 0!==l&&s.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=xr;xr=!0;try{for(const[s,l]of this.consumers){const c=l.consumerNode.deref();void 0!==c&&c.trackingVersion===l.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),c?.producers.delete(this.id))}}finally{xr=i}}producerAccessed(){if(xr)throw new Error("");if(null===ji)return;let i=ji.producers.get(this.id);void 0===i?(i={consumerNode:ji.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ji.trackingVersion},ji.producers.set(this.id,i),this.consumers.set(ji.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=ji.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ji?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let Cs=null;function la(n){const i=Ti(null);try{return n()}finally{Ti(i)}}const ga=()=>{};class _a extends Mo{constructor(i,s,l){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=ga,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=Ti(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ga,this.watch(this.registerOnCleanup)}finally{Ti(i)}}cleanup(){this.cleanupFn()}}class Sa{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ls(){return va}function va(n){return n.type.prototype.ngOnChanges&&(n.setInput=ya),Os}function Os(){const n=ls(this),i=n?.current;if(i){const s=n.previous;if(s===bt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function ya(n,i,s,l){const c=this.declaredInputs[s],h=ls(n)||function qs(n,i){return n[Ys]=i}(n,{previous:bt,current:null}),b=h.current||(h.current={}),S=h.previous,F=S[c];b[c]=new Sa(F&&F.currentValue,i,S===bt),n[l]=i}Ls.ngInherit=!0;const Ys="__ngSimpleChanges__";function ls(n){return n[Ys]||null}const cs=function(n,i,s){},Ta="svg";function Qi(n){for(;Array.isArray(n);)n=n[pn];return n}function na(n,i){return Qi(i[n])}function Mi(n,i){return Qi(i[n.index])}function P(n,i){return n.data[i]}function Q(n,i){return n[i]}function U(n,i){const s=i[n];return qi(s)?s:s[pn]}function Ye(n){return 128==(128&n[An])}function fn(n,i){return null==i?null:n[i]}function qn(n){n[ms]=0}function Wi(n){1024&n[An]||(n[An]|=1024,Ci(n,1))}function Ai(n){1024&n[An]&&(n[An]&=-1025,Ci(n,-1))}function Ci(n,i){let s=n[Xn];if(null===s)return;s[_r]+=i;let l=s;for(s=s[Xn];null!==s&&(1===i&&1===l[_r]||-1===i&&0===l[_r]);)s[_r]+=i,l=s,s=s[Xn]}const zn={lFrame:di(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qs(){return zn.bindingsEnabled}function ys(){return null!==zn.skipHydrationRootTNode}function wn(){return zn.lFrame.lView}function sr(){return zn.lFrame.tView}function xo(n){return zn.lFrame.contextLView=n,n[Gi]}function ds(n){return zn.lFrame.contextLView=null,n}function Jr(){let n=xa();for(;null!==n&&64===n.type;)n=n.parent;return n}function xa(){return zn.lFrame.currentTNode}function In(n,i){const s=zn.lFrame;s.currentTNode=n,s.isParent=i}function Mr(){return zn.lFrame.isParent}function Ds(){zn.lFrame.isParent=!1}function Is(){const n=zn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function R(){return zn.lFrame.bindingIndex++}function G(n,i){const s=zn.lFrame;s.bindingIndex=s.bindingRootIndex=n,et(i)}function et(n){zn.lFrame.currentDirectiveIndex=n}function at(n){const i=zn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function $t(){return zn.lFrame.currentQueryIndex}function an(n){zn.lFrame.currentQueryIndex=n}function Vn(n){const i=n[sn];return 2===i.type?i.declTNode:1===i.type?n[Dr]:null}function ri(n,i,s){if(s&st.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||s&st.Host||(c=Vn(h),null===c||(h=h[oo],10&c.type))););if(null===c)return!1;i=c,n=h}const l=zn.lFrame=Fn();return l.currentTNode=i,l.lView=n,!0}function Vi(n){const i=Fn(),s=n[sn];zn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Fn(){const n=zn.lFrame,i=null===n?null:n.child;return null===i?di(n):i}function di(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Oi(){const n=zn.lFrame;return zn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Fi=Oi;function Wn(){const n=Oi();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ar(){return zn.lFrame.selectedIndex}function fr(n){zn.lFrame.selectedIndex=n}function x(){const n=zn.lFrame;return P(n.tView,n.selectedIndex)}function k(){zn.lFrame.currentNamespace=Ta}function N(){!function X(){zn.lFrame.currentNamespace=null}()}let Te=!0;function Dt(){return Te}function Cn(n){Te=n}function un(n,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:S,ngAfterViewInit:F,ngAfterViewChecked:q,ngOnDestroy:pe}=h;b&&(n.contentHooks??=[]).push(-s,b),S&&((n.contentHooks??=[]).push(s,S),(n.contentCheckHooks??=[]).push(s,S)),F&&(n.viewHooks??=[]).push(-s,F),q&&((n.viewHooks??=[]).push(s,q),(n.viewCheckHooks??=[]).push(s,q)),null!=pe&&(n.destroyHooks??=[]).push(s,pe)}}function Un(n,i,s){mr(n,i,3,s)}function oi(n,i,s,l){(3&n[An])===s&&mr(n,i,s,l)}function Zi(n,i){let s=n[An];(3&s)===i&&(s&=4095,s+=1,n[An]=s)}function mr(n,i,s,l){const h=l??-1,b=i.length-1;let S=0;for(let F=void 0!==l?65535&n[ms]:0;F<b;F++)if("number"==typeof i[F+1]){if(S=i[F],null!=l&&S>=l)break}else i[F]<0&&(n[ms]+=65536),(S<h||-1==h)&&(Nt(n,s,i,F),n[ms]=(4294901760&n[ms])+F+2),F++}function Uo(n,i){cs(4,n,i);const s=Ti(null);try{i.call(n)}finally{Ti(s),cs(5,n,i)}}function Nt(n,i,s,l){const c=s[l]<0,h=s[l+1],S=n[c?-s[l]:s[l]];c?n[An]>>12<n[ms]>>16&&(3&n[An])===i&&(n[An]+=4096,Uo(S,h)):Uo(S,h)}const Co=-1;class Xi{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Aa(n){return n!==Co}function Ss(n){return 32767&n}function Pa(n,i){let s=function Xs(n){return n>>16}(n),l=i;for(;s>0;)l=l[oo],s--;return l}let Ll=!0;function Ro(n){const i=Ll;return Ll=n,i}const cc=255,us=5;let wl=0;const da={};function uc(n,i){const s=fc(n,i);if(-1!==s)return s;const l=i[sn];l.firstCreatePass&&(n.injectorIndex=i.length,hc(l.data,n),hc(i,null),hc(l.blueprint,null));const c=zc(n,i),h=n.injectorIndex;if(Aa(c)){const b=Ss(c),S=Pa(c,i),F=S[sn].data;for(let q=0;q<8;q++)i[h+q]=S[b+q]|F[b+q]}return i[h+8]=c,h}function hc(n,i){n.push(0,0,0,0,0,0,0,0,i)}function fc(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function zc(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){if(l=bs(c),null===l)return Co;if(s++,c=c[oo],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return Co}function Fa(n,i,s){!function dc(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Lt)&&(l=s[Lt]),null==l&&(l=s[Lt]=wl++);const c=l&cc;i.data[n+(c>>us)]|=1<<c}(n,i,s)}function Ou(n,i,s){if(s&st.Optional||void 0!==n)return n;Fe()}function xl(n,i,s,l){if(s&st.Optional&&void 0===l&&(l=null),!(s&(st.Self|st.Host))){const c=n[Vr],h=ke(void 0);try{return c?c.get(i,l,s&st.Optional):Ut(i,l,s&st.Optional)}finally{ke(h)}}return Ou(l,0,s)}function $c(n,i,s,l=st.Default,c){if(null!==n){if(2048&i[An]&&!(l&st.Self)){const b=function Zc(n,i,s,l,c){let h=n,b=i;for(;null!==h&&null!==b&&2048&b[An]&&!(512&b[An]);){const S=Gc(h,b,s,l|st.Self,da);if(S!==da)return S;let F=h.parent;if(!F){const q=b[Vs];if(q){const pe=q.get(s,da,l);if(pe!==da)return pe}F=bs(b),b=b[oo]}h=F}return c}(n,i,s,l,da);if(b!==da)return b}const h=Gc(n,i,s,l,da);if(h!==da)return h}return xl(i,s,l,c)}function Gc(n,i,s,l,c){const h=function Ru(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Lt)?n[Lt]:void 0;return"number"==typeof i?i>=0?i&cc:Od:i}(s);if("function"==typeof h){if(!ri(i,n,l))return l&st.Host?Ou(c,0,l):xl(i,s,l,c);try{const b=h(l);if(null!=b||l&st.Optional)return b;Fe()}finally{Fi()}}else if("number"==typeof h){let b=null,S=fc(n,i),F=Co,q=l&st.Host?i[ar][Dr]:null;for((-1===S||l&st.SkipSelf)&&(F=-1===S?zc(n,i):i[S+8],F!==Co&&pc(l,!1)?(b=i[sn],S=Ss(F),i=Pa(F,i)):S=-1);-1!==S;){const pe=i[sn];if(Wc(h,S,pe.data)){const Ue=Bh(S,i,s,b,l,q);if(Ue!==da)return Ue}F=i[S+8],F!==Co&&pc(l,i[sn].data[S+8]===q)&&Wc(h,S,i)?(b=pe,S=Ss(F),i=Pa(F,i)):S=-1}}return c}function Bh(n,i,s,l,c,h){const b=i[sn],S=b.data[n+8],pe=mc(S,b,s,null==l?jr(S)&&Ll:l!=b&&0!=(3&S.type),c&st.Host&&h===S);return null!==pe?za(i,b,pe,S):da}function mc(n,i,s,l,c){const h=n.providerIndexes,b=i.data,S=1048575&h,F=n.directiveStart,pe=h>>20,Et=c?S+pe:n.directiveEnd;for(let zt=l?S:S+pe;zt<Et;zt++){const xn=b[zt];if(zt<F&&s===xn||zt>=F&&xn.type===s)return zt}if(c){const zt=b[F];if(zt&&er(zt)&&zt.type===s)return F}return null}function za(n,i,s,l){let c=n[s];const h=i.data;if(function bl(n){return n instanceof Xi}(c)){const b=c;b.resolving&&function $e(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ue(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ae(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():be(n)}(h[s]));const S=Ro(b.canSeeViewProviders);b.resolving=!0;const F=b.injectImpl?ke(b.injectImpl):null;ri(n,l,st.Default);try{c=n[s]=b.factory(void 0,h,n,l),i.firstCreatePass&&s>=l.directiveStart&&function ui(n,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const b=va(i);(s.preOrderHooks??=[]).push(n,b),(s.preOrderCheckHooks??=[]).push(n,b)}c&&(s.preOrderHooks??=[]).push(0-n,c),h&&((s.preOrderHooks??=[]).push(n,h),(s.preOrderCheckHooks??=[]).push(n,h))}(s,h[s],i)}finally{null!==F&&ke(F),Ro(S),b.resolving=!1,Fi()}}return c}function Wc(n,i,s){return!!(s[i+(n>>us)]&1<<n)}function pc(n,i){return!(n&st.Self||n&st.Host&&i)}class $a{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return $c(this._tNode,this._lView,i,Me(l),s)}}function Od(){return new $a(Jr(),wn())}function Kc(n){return re(()=>{const i=n.prototype.constructor,s=i[xi]||Bl(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const h=c[xi]||Bl(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Bl(n){return Le(n)?()=>{const i=Bl(it(n));return i&&i()}:ct(n)}function bs(n){const i=n[sn],s=i.type;return 2===s?i.declTNode:1===s?n[Dr]:null}function Ul(n){return function Lh(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const h=s[c];if(Rn(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(Jr(),n)}const Na="__parameters__";function Or(n,i,s){return re(()=>{const l=function hs(n){return function(...s){if(n){const l=n(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const b=new c(...h);return S.annotation=b,S;function S(F,q,pe){const Ue=F.hasOwnProperty(Na)?F[Na]:Object.defineProperty(F,Na,{value:[]})[Na];for(;Ue.length<=pe;)Ue.push(null);return(Ue[pe]=Ue[pe]||[]).push(b),F}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function Ka(n,i){n.forEach(s=>Array.isArray(s)?Ka(s,i):i(s))}function Hs(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function oa(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Za(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function T(n,i,s){let l=te(n,i);return l>=0?n[1|l]=s:(l=~l,function Il(n,i,s,l){let c=n.length;if(c==i)n.push(s,l);else if(1===c)n.push(l,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function L(n,i){const s=te(n,i);if(s>=0)return n[1|s]}function te(n,i){return function gt(n,i,s){let l=0,c=n.length>>s;for(;c!==l;){const h=l+(c-l>>1),b=n[h<<s];if(i===b)return h<<s;b>i?c=h:l=h+1}return~(c<<s)}(n,i,1)}const Ya=H(Or("Optional"),8),zs=H(Or("SkipSelf"),4);function Hl(n){return 128==(128&n.flags)}var Oa=(()=>((Oa=Oa||{})[Oa.Important=1]="Important",Oa[Oa.DashCase=2]="DashCase",Oa))();const Lg=/^>|^->|<!--|-->|--!>|<!-$/g,Bg=/(<|>)/,ay="\u200b$1\u200b";const am=new Map;let Ra=0;const tr="__ngContext__";function fa(n,i){qi(i)?(n[tr]=i[ps],function Bu(n){am.set(n[ps],n)}(i)):n[tr]=i}let zl;function zh(n,i){return zl(n,i)}function jd(n){const i=n[Xn];return Fr(i)?i[Xn]:i}function hm(n){return is(n[No])}function fm(n){return is(n[hi])}function is(n){for(;null!==n&&!Fr(n);)n=n[hi];return n}function $l(n,i,s,l,c){if(null!=l){let h,b=!1;Fr(l)?h=l:qi(l)&&(b=!0,l=l[pn]);const S=Qi(l);0===n&&null!==s?null==c?zr(i,s,S):Go(i,s,S,c||null,!0):1===n&&null!==s?Go(i,s,S,c||null,!0):2===n?function $u(n,i,s){const l=ed(n,i);l&&function Qg(n,i,s,l){n.removeChild(i,s,l)}(n,l,i,s)}(i,S,b):3===n&&i.destroyNode(S),null!=h&&function dy(n,i,s,l,c){const h=s[qr];h!==Qi(s)&&$l(i,n,l,h,c);for(let S=Pr;S<s.length;S++){const F=s[S];$d(F[sn],F,n,i,l,h)}}(i,n,h,s,c)}}function pm(n,i){return n.createComment(function Ml(n){return n.replace(Lg,i=>i.replace(Bg,ay))}(i))}function wc(n,i,s){return n.createElement(i,s)}function gm(n,i){const s=n[As],l=s.indexOf(i);Ai(i),s.splice(l,1)}function xc(n,i){if(n.length<=Pr)return;const s=Pr+i,l=n[s];if(l){const c=l[Ir];null!==c&&c!==n&&gm(c,l),i>0&&(n[s-1][hi]=l[hi]);const h=oa(n,Pr+i);!function cy(n,i){$d(n,i,i[ai],2,null,null),i[pn]=null,i[Dr]=null}(l[sn],l);const b=h[ss];null!==b&&b.detachView(h[sn]),l[Xn]=null,l[hi]=null,l[An]&=-129}return l}function $h(n,i){if(!(256&i[An])){const s=i[ai];i[ws]?.destroy(),i[uo]?.destroy(),s.destroyNode&&$d(n,i,s,3,null,null),function Gl(n){let i=n[No];if(!i)return ju(n[sn],n);for(;i;){let s=null;if(qi(i))s=i[No];else{const l=i[Pr];l&&(s=l)}if(!s){for(;i&&!i[hi]&&i!==n;)qi(i)&&ju(i[sn],i),i=i[Xn];null===i&&(i=n),qi(i)&&ju(i[sn],i),s=i&&i[hi]}i=s}}(i)}}function ju(n,i){if(!(256&i[An])){i[An]&=-129,i[An]|=256,function vm(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof Xi)){const h=s[l+1];if(Array.isArray(h))for(let b=0;b<h.length;b+=2){const S=c[h[b]],F=h[b+1];cs(4,S,F);try{F.call(S)}finally{cs(5,S,F)}}else{cs(4,c,h);try{h.call(c)}finally{cs(5,c,h)}}}}}(n,i),function _m(n,i){const s=n.cleanup,l=i[rr];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const b=s[h+3];b>=0?l[b]():l[-b].unsubscribe(),h+=2}else s[h].call(l[s[h+1]]);null!==l&&(i[rr]=null);const c=i[Sr];if(null!==c){i[Sr]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(n,i),1===i[sn].type&&i[ai].destroy();const s=i[Ir];if(null!==s&&Fr(i[Xn])){s!==i[Xn]&&gm(s,i);const l=i[ss];null!==l&&l.detachView(n)}!function Al(n){am.delete(n[ps])}(i)}}function ym(n,i,s){return function qg(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[pn];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:h}=n.data[l.directiveStart+c];if(h===xt.None||h===xt.Emulated)return null}return Mi(l,s)}}(n,i.parent,s)}function Go(n,i,s,l,c){n.insertBefore(i,s,l,c)}function zr(n,i,s){n.appendChild(i,s)}function bm(n,i,s,l,c){null!==l?Go(n,i,s,l,c):zr(n,i,s)}function ed(n,i){return n.parentNode(i)}function e_(n,i,s){return xm(n,i,s)}let Hu,Gu,Wu,Ku,xm=function wm(n,i,s){return 40&n.type?Mi(n,s):null};function Ec(n,i,s,l){const c=ym(n,l,i),h=i[ai],S=e_(l.parent||i[Dr],l,i);if(null!=c)if(Array.isArray(s))for(let F=0;F<s.length;F++)bm(h,c,s[F],S,!1);else bm(h,c,s,S,!1);void 0!==Hu&&Hu(h,l,i,s,c)}function Wl(n,i){if(null!==i){const s=i.type;if(3&s)return Mi(i,n);if(4&s)return Gh(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return Wl(n,l);{const c=n[i.index];return Fr(c)?Gh(-1,c):Qi(c)}}if(32&s)return zh(i,n)()||Qi(n[i.index]);{const l=zu(n,i);return null!==l?Array.isArray(l)?l[0]:Wl(jd(n[ar]),l):Wl(n,i.next)}}return null}function zu(n,i){return null!==i?n[ar][Dr].projection[i.projection]:null}function Gh(n,i){const s=Pr+n+1;if(s<i.length){const l=i[s],c=l[sn].firstChild;if(null!==c)return Wl(l,c)}return i[qr]}function Cm(n,i,s,l,c,h,b){for(;null!=s;){const S=l[s.index],F=s.type;if(b&&0===i&&(S&&fa(Qi(S),l),s.flags|=2),32!=(32&s.flags))if(8&F)Cm(n,i,s.child,l,c,h,!1),$l(i,n,c,S,h);else if(32&F){const q=zh(s,l);let pe;for(;pe=q();)$l(i,n,c,pe,h);$l(i,n,c,S,h)}else 16&F?n_(n,i,l,s,c,h):$l(i,n,c,S,h);s=b?s.projectionNext:s.next}}function $d(n,i,s,l,c,h){Cm(s,l,n.firstChild,i,c,h,!1)}function n_(n,i,s,l,c,h){const b=s[ar],F=b[Dr].projection[l.projection];if(Array.isArray(F))for(let q=0;q<F.length;q++)$l(i,n,c,F[q],h);else{let q=F;const pe=b[Xn];Hl(l)&&(q.flags|=128),Cm(n,i,q,pe,c,h,!0)}}function Wh(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function td(n,i,s){const{mergedAttrs:l,classes:c,styles:h}=s;null!==l&&Qn(n,i,l),null!==c&&Wh(n,i,c),null!==h&&function hy(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function Wo(n){return function Dm(){if(void 0===Gu&&(Gu=null,Kt.trustedTypes))try{Gu=Kt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gu}()?.createHTML(n)||n}function r_(n){Wu=n}function s_(n){return function Zh(){if(void 0===Ku&&(Ku=null,Kt.trustedTypes))try{Ku=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ku}()?.createScriptURL(n)||n}class cl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}class Tm extends cl{getTypeName(){return"HTML"}}class fy extends cl{getTypeName(){return"Style"}}class a_ extends cl{getTypeName(){return"Script"}}class Mm extends cl{getTypeName(){return"URL"}}class l_ extends cl{getTypeName(){return"ResourceURL"}}function Zl(n){return n instanceof cl?n.changingThisBreaksApplicationSecurity:n}function nd(n,i){const s=function my(n){return n instanceof cl&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${yt})`)}return s===i}function py(n){return new Tm(n)}function gy(n){return new fy(n)}function Cc(n){return new a_(n)}function Gd(n){return new Mm(n)}function c_(n){return new l_(n)}class u_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Wo(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Yl{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Wo(i),s}}const _y=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zu(n){return(n=String(n)).match(_y)?n:"unsafe:"+n}function Qa(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function dl(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const Dc=Qa("area,br,col,hr,img,wbr"),Ic=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wd=Qa("rp,rt"),Yh=dl(Dc,dl(Ic,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dl(Wd,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dl(Wd,Ic)),qh=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Am=dl(qh,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=Qa("script,style,template");class Yu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Yh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let c=0;c<l.length;c++){const h=l.item(c),b=h.name,S=b.toLowerCase();if(!Am.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let F=h.value;qh[S]&&(F=Zu(F)),this.buf.push(" ",b,'="',km(F),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Yh.hasOwnProperty(s)&&!Dc.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(km(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const id=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,by=/([^\#-~ |!])/g;function km(n){return n.replace(/&/g,"&amp;").replace(id,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(by,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xh;function p_(n,i){let s=null;try{Xh=Xh||function d_(n){const i=new Yl(n);return function h_(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch{return!1}}()?new u_(i):i}(n);let l=i?String(i):"";s=Xh.getInertBodyElement(l);let c=5,h=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=h,h=s.innerHTML,s=Xh.getInertBodyElement(l)}while(l!==h);return Wo((new Yu).sanitizeChildren(Om(s)||s))}finally{if(s){const l=Om(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Om(n){return"content"in n&&function qu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var jo=(()=>((jo=jo||{})[jo.NONE=0]="NONE",jo[jo.HTML=1]="HTML",jo[jo.STYLE=2]="STYLE",jo[jo.SCRIPT=3]="SCRIPT",jo[jo.URL=4]="URL",jo[jo.RESOURCE_URL=5]="RESOURCE_URL",jo))();function Rm(n){const i=Tc();return i?i.sanitize(jo.URL,n)||"":nd(n,"URL")?Zl(n):Zu(be(n))}function Pm(n){const i=Tc();if(i)return s_(i.sanitize(jo.RESOURCE_URL,n)||"");if(nd(n,"ResourceURL"))return s_(Zl(n));throw new ue(904,!1)}function Jh(n,i,s){return function __(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pm:Rm}(i,s)(n)}function Tc(){const n=wn();return n&&n[ro].sanitizer}class mo{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=jt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rd=new mo("ENVIRONMENT_INITIALIZER"),Qu=new mo("INJECTOR",-1),y_=new mo("INJECTOR_DEF_TYPES");class Lm{get(i,s=_t){if(s===_t){const l=new Error(`NullInjectorError: No provider for ${me(i)}!`);throw l.name="NullInjectorError",l}return s}}function od(n){return{\u0275providers:n}}function ef(...n){return{\u0275providers:Kd(0,n),\u0275fromNgModule:!0}}function Kd(n,...i){const s=[],l=new Set;let c;return Ka(i,h=>{const b=h;tf(b,s,[],l)&&(c||=[],c.push(b))}),void 0!==c&&Bm(c,s),s}function Bm(n,i){for(let s=0;s<n.length;s++){const{providers:c}=n[s];nf(c,h=>{i.push(h)})}}function tf(n,i,s,l){if(!(n=it(n)))return!1;let c=null,h=Gn(n);const b=!h&&ci(n);if(h||b){if(b&&!b.standalone)return!1;c=n}else{const F=n.ngModule;if(h=Gn(F),!h)return!1;c=F}const S=l.has(c);if(b){if(S)return!1;if(l.add(c),b.dependencies){const F="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const q of F)tf(q,i,s,l)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let q;l.add(c);try{Ka(h.imports,pe=>{tf(pe,i,s,l)&&(q||=[],q.push(pe))})}finally{}void 0!==q&&Bm(q,i)}if(!S){const q=ct(c)||(()=>new c);i.push({provide:c,useFactory:q,deps:kt},{provide:y_,useValue:c,multi:!0},{provide:rd,useValue:()=>Se(c),multi:!0})}const F=h.providers;null==F||S||nf(F,pe=>{i.push(pe)})}}return c!==n&&void 0!==n.providers}function nf(n,i){for(let s of n)He(s)&&(s=s.\u0275providers),Array.isArray(s)?nf(s,i):i(s)}const rf=se({provide:String,useValue:se});function Zd(n){return null!==n&&"object"==typeof n&&rf in n}function Xa(n){return"function"==typeof n}const Ql=new mo("Set Injector scope."),sf={},Yd={};let af;function ul(){return void 0===af&&(af=new Lm),af}class Mc{}class Vm extends Mc{get destroyed(){return this._destroyed}constructor(i,s,l,c){super(),this.parent=s,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jm(i,b=>this.processProvider(b)),this.records.set(Qu,Xl(void 0,this)),c.has("environment")&&this.records.set(Mc,Xl(void 0,this));const h=this.records.get(Ql);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(y_.multi,kt,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Be(this),l=ke(void 0);try{return i()}finally{Be(s),ke(l)}}get(i,s=_t,l=st.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Ct))return i[Ct](this);l=Me(l);const c=Be(this),h=ke(void 0);try{if(!(l&st.SkipSelf)){let S=this.records.get(i);if(void 0===S){const F=function C_(n){return"function"==typeof n||"object"==typeof n&&n instanceof mo}(i)&&Xt(i);S=F&&this.injectableDefInScope(F)?Xl(lf(i),sf):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(l&st.Self?ul():this.parent).get(i,s=l&st.Optional&&s===_t?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[Sn]=b[Sn]||[]).unshift(me(i)),c)throw b;return function z(n,i,s,l){const c=n[Sn];throw i[Zt]&&c.unshift(i[Zt]),n.message=function le(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=me(i);if(Array.isArray(i))c=i.map(me).join(" -> ");else if("object"==typeof i){let h=[];for(let b in i)if(i.hasOwnProperty(b)){let S=i[b];h.push(b+":"+("string"==typeof S?JSON.stringify(S):me(S)))}c=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${n.replace(Ri,"\n  ")}`}("\n"+n.message,c,s,l),n.ngTokenPath=c,n[Sn]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{ke(h),Be(c)}}resolveInjectorInitializers(){const i=Be(this),s=ke(void 0);try{const l=this.get(rd.multi,kt,st.Self);for(const c of l)c()}finally{Be(i),ke(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(me(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(i){let s=Xa(i=it(i))?i:it(i&&i.provide);const l=function w_(n){return Zd(n)?Xl(void 0,n.useValue):Xl(x_(n),sf)}(i);if(Xa(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Xl(void 0,sf,!0),c.factory=()=>oe(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===sf&&(s.value=Yd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=it(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function lf(n){const i=Xt(n),s=null!==i?i.factory:ct(n);if(null!==s)return s;if(n instanceof mo)throw new ue(204,!1);if(n instanceof Function)return function Ey(n){const i=n.length;if(i>0)throw Za(i,"?"),new ue(204,!1);const s=function pi(n){return n&&(n[Bt]||n[Ve])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ue(204,!1)}function x_(n,i,s){let l;if(Xa(n)){const c=it(n);return ct(c)||lf(c)}if(Zd(n))l=()=>it(n.useValue);else if(function ql(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...oe(n.deps||[]));else if(function Um(n){return!(!n||!n.useExisting)}(n))l=()=>Se(it(n.useExisting));else{const c=it(n&&(n.useClass||n.provide));if(!function E_(n){return!!n.deps}(n))return ct(c)||lf(c);l=()=>new c(...oe(n.deps))}return l}function Xl(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function jm(n,i){for(const s of n)Array.isArray(s)?jm(s,i):s&&He(s)?jm(s.\u0275providers,i):i(s)}const Hm=new mo("AppId",{providedIn:"root",factory:()=>sd}),sd="ng",qd=new mo("Platform Initializer"),cf=new mo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Iy=new mo("AnimationModuleType"),D_=new mo("CSP nonce",{providedIn:"root",factory:()=>function Kl(){if(void 0!==Wu)return Wu;if(typeof document<"u")return document;throw new ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uf=(n,i)=>null;function Km(n,i){return uf(n,i)}class T_{}class Qm{}class Ry{resolveComponentFactory(i){throw function M_(n){const i=Error(`No component factory found for ${me(n)}.`);return i.ngComponent=n,i}(i)}}let dd=(()=>{class n{}return n.NULL=new Ry,n})();function O_(){return ud(Jr(),wn())}function ud(n,i){return new hd(Mi(n,i))}let hd=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=O_,n})();function ff(n){return n instanceof hd?n.nativeElement:n}class eu{}let mf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Xm(){const n=wn(),s=U(Jr().index,n);return(qi(s)?s:n)[ai]}(),n})(),Jm=(()=>{class n{}return n.\u0275prov=jt({token:n,providedIn:"root",factory:()=>null}),n})();class pf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ep=new pf("16.0.5"),tp={};function tu(n){for(;n;){n[An]|=64;const i=jd(n);if(Qr(n)&&!i)return n;n=i}return null}function np(n){return n.ngOriginalError}class nu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&np(i);for(;s&&np(s);)s=np(s);return s||null}}const ip=new mo("",{providedIn:"root",factory:()=>!1});function hl(n){return n instanceof Function?n():n}class yf extends Mo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){tu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,l){const c=Ti(this);this.trackingVersion++;try{i(s,l)}finally{Ti(c)}}destroy(){this.trackingVersion++}}let ch=null;function bf(){return ch??=new yf,ch}function wf(n,i){return n[i]??bf()}function Jl(n,i){const s=bf();s.hasReadASignal&&(n[i]=ch,s.lView=n,ch=new yf)}const Ji={};function U_(n){xf(sr(),wn(),Ar()+n,!1)}function xf(n,i,s,l){if(!l)if(3==(3&i[An])){const h=n.preOrderCheckHooks;null!==h&&Un(i,h,s)}else{const h=n.preOrderHooks;null!==h&&oi(i,h,0,s)}fr(s)}function lp(n,i=null,s=null,l){const c=cp(n,i,s,l);return c.resolveInjectorInitializers(),c}function cp(n,i=null,s=null,l,c=new Set){const h=[s||kt,ef(n)];return l=l||("object"==typeof n?void 0:me(n)),new Vm(h,i||ul(),l||null,c)}let kc=(()=>{class n{static create(s,l){if(Array.isArray(s))return lp({name:""},l,s,"");{const c=s.name??"";return lp({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=_t,n.NULL=new Lm,n.\u0275prov=jt({token:n,providedIn:"any",factory:()=>Se(Qu)}),n.__NG_ELEMENT_ID__=-1,n})();function Oc(n,i=st.Default){const s=wn();return null===s?Se(n,i):$c(Jr(),s,it(n),i)}function H_(){throw new Error("invalid")}function Df(n,i,s,l,c,h,b,S,F,q,pe){const Ue=i.blueprint.slice();return Ue[pn]=c,Ue[An]=140|l,(null!==q||n&&2048&n[An])&&(Ue[An]|=2048),qn(Ue),Ue[Xn]=Ue[oo]=n,Ue[Gi]=s,Ue[ro]=b||n&&n[ro],Ue[ai]=S||n&&n[ai],Ue[Vr]=F||n&&n[Vr]||null,Ue[Dr]=h,Ue[ps]=function Ug(){return Ra++}(),Ue[dr]=pe,Ue[Vs]=q,Ue[ar]=2==i.type?n[ar]:Ue,Ue}function Rc(n,i,s,l,c){let h=n.data[i];if(null===h)h=function up(n,i,s,l,c){const h=xa(),b=Mr(),F=n.data[i]=function pp(n,i,s,l,c,h){let b=i?i.injectorIndex:-1,S=0;return ys()&&(S|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?h:h&&h.parent,s,i,l,c);return null===n.firstChild&&(n.firstChild=F),null!==h&&(b?null==h.child&&null!==F.parent&&(h.child=F):null===h.next&&(h.next=F,F.prev=h)),F}(n,i,s,l,c),function _(){return zn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=l,h.attrs=c;const b=function ol(){const n=zn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===b?-1:b.injectorIndex}return In(h,!0),h}function md(n,i,s,l){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function hp(n,i,s,l,c){const h=wf(i,ws),b=Ar(),S=2&l;try{if(fr(-1),S&&i.length>Bi&&xf(n,i,Bi,!1),cs(S?2:0,c),S)h.runInContext(s,l,c);else{const q=Ti(null);try{s(l,c)}finally{Ti(q)}}}finally{S&&null===i[ws]&&Jl(i,ws),fr(b),cs(S?3:1,c)}}function dh(n,i,s){if(go(i)){const l=Ti(null);try{const h=i.directiveEnd;for(let b=i.directiveStart;b<h;b++){const S=n.data[b];S.contentQueries&&S.contentQueries(1,s[b],b)}}finally{Ti(l)}}}function uh(n,i,s){Qs()&&(function W_(n,i,s,l){const c=s.directiveStart,h=s.directiveEnd;jr(s)&&function zy(n,i,s){const l=Mi(i,n),b=au(n,Df(n,pd(s),null,s.onPush?64:16,l,i,null,n[ro].rendererFactory.createRenderer(l,s),null,null,null));n[i.index]=b}(i,s,n.data[c+s.componentOffset]),n.firstCreatePass||uc(s,i),fa(l,i);const b=s.initialInputs;for(let S=c;S<h;S++){const F=n.data[S],q=za(i,n,S,s);fa(q,i),null!==b&&Dp(0,S-c,q,F,0,b),er(F)&&(U(s.index,i)[Gi]=za(i,n,S,s))}}(n,i,s,Mi(s,i)),64==(64&s.flags)&&yp(n,i,s))}function hh(n,i,s=Mi){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const b=l[h+1],S=-1===b?s(i,n):n[b];n[c++]=S}}}function pd(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Ol(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function Ol(n,i,s,l,c,h,b,S,F,q,pe){const Ue=Bi+l,Et=Ue+c,zt=function fp(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:Ji);return s}(Ue,Et),xn="function"==typeof q?q():q;return zt[sn]={type:n,blueprint:zt,template:s,queries:null,viewQuery:S,declTNode:i,data:zt.slice().fill(null,Ue),bindingStartIndex:Ue,expandoStartIndex:Et,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:F,consts:xn,incompleteFirstPass:!1,ssrId:pe}}let mp=n=>null;function If(n,i,s,l){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const h=n[c];null===l?Sf(s,i,c,h):l.hasOwnProperty(c)&&Sf(s,i,l[c],h)}return s}function Sf(n,i,s,l){n.hasOwnProperty(s)?n[s].push(i,l):n[s]=[i,l]}function Ua(n,i,s,l,c,h,b,S){const F=Mi(i,s);let pe,q=i.inputs;!S&&null!=q&&(pe=q[l])?(fh(n,s,pe,l,c),jr(i)&&function _p(n,i){const s=U(i,n);16&s[An]||(s[An]|=64)}(s,i.index)):3&i.type&&(l=function Uy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=b?b(c,i.value||"",l):c,h.setProperty(F,l,c))}function Tf(n,i,s,l){if(Qs()){const c=null===l?null:{"":-1},h=function jy(n,i){const s=n.directiveRegistry;let l=null,c=null;if(s)for(let h=0;h<s.length;h++){const b=s[h];if(Gr(i,b.selectors,!1))if(l||(l=[]),er(b))if(null!==b.findHostDirectiveDefs){const S=[];c=c||new Map,b.findHostDirectiveDefs(b,S,c),l.unshift(...S,b),bp(n,i,S.length)}else l.unshift(b),bp(n,i,0);else c=c||new Map,b.findHostDirectiveDefs?.(b,l,c),l.push(b)}return null===l?null:[l,c]}(n,s);let b,S;null===h?b=S=null:[b,S]=h,null!==b&&z_(n,i,s,b,c,S),c&&function Hy(n,i,s){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new ue(-301,!1);l.push(i[c],h)}}}(s,l,c)}s.mergedAttrs=fi(s.mergedAttrs,s.attrs)}function z_(n,i,s,l,c,h){for(let q=0;q<l.length;q++)Fa(uc(s,i),n,l[q].type);!function xp(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,l.length);for(let q=0;q<l.length;q++){const pe=l[q];pe.providersResolver&&pe.providersResolver(pe)}let b=!1,S=!1,F=md(n,i,l.length,null);for(let q=0;q<l.length;q++){const pe=l[q];s.mergedAttrs=fi(s.mergedAttrs,pe.hostAttrs),Ep(n,s,i,F,pe),wp(F,pe,c),null!==pe.contentQueries&&(s.flags|=4),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(s.flags|=64);const Ue=pe.type.prototype;!b&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),b=!0),!S&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),S=!0),F++}!function gp(n,i,s){const c=i.directiveEnd,h=n.data,b=i.attrs,S=[];let F=null,q=null;for(let pe=i.directiveStart;pe<c;pe++){const Ue=h[pe],Et=s?s.get(Ue):null,xn=Et?Et.outputs:null;F=If(Ue.inputs,pe,F,Et?Et.inputs:null),q=If(Ue.outputs,pe,q,xn);const Pn=null===F||null===b||Kr(i)?null:Sp(F,pe,b);S.push(Pn)}null!==F&&(F.hasOwnProperty("class")&&(i.flags|=8),F.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=F,i.outputs=q}(n,s,h)}function yp(n,i,s){const l=s.directiveStart,c=s.directiveEnd,h=s.index,b=function he(){return zn.lFrame.currentDirectiveIndex}();try{fr(h);for(let S=l;S<c;S++){const F=n.data[S],q=i[S];et(S),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Vy(F,q)}}finally{fr(-1),et(b)}}function Vy(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function bp(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function wp(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;er(i)&&(s[""]=n)}}function Ep(n,i,s,l,c){n.data[l]=c;const h=c.factory||(c.factory=ct(c.type)),b=new Xi(h,er(c),Oc);n.blueprint[l]=b,s[l]=b,function $_(n,i,s,l,c){const h=c.hostBindings;if(h){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const S=~i.index;(function G_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(b)!=S&&b.push(S),b.push(s,l,h)}}(n,i,l,md(n,s,c.hostVars,Ji),c)}function Ja(n,i,s,l,c,h){const b=Mi(n,i);!function Cp(n,i,s,l,c,h,b){if(null==h)n.removeAttribute(i,c,s);else{const S=null==b?be(h):b(h,l||"",c);n.setAttribute(i,c,S,s)}}(i[ai],b,h,n.value,s,l,c)}function Dp(n,i,s,l,c,h){const b=h[i];if(null!==b)for(let S=0;S<b.length;)Ip(l,s,b[S++],b[S++],b[S++])}function Ip(n,i,s,l,c){const h=Ti(null);try{null!==n.setInput?n.setInput(i,c,s,l):i[l]=c}finally{Ti(h)}}function Sp(n,i,s){let l=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===l&&(l=[]);const b=n[h];for(let S=0;S<b.length;S+=2)if(b[S]===i){l.push(h,b[S+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function Tp(n,i,s,l){return[n,!0,!1,i,null,0,l,s,null,null,null]}function K_(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l+1];if(-1!==h){const b=n.data[h];an(s[l]),b.contentQueries(2,i[h],h)}}}function au(n,i){return n[No]?n[Lo][hi]=i:n[No]=i,n[Lo]=i,i}function Mp(n,i,s){an(0);const l=Ti(null);try{i(n,s)}finally{Ti(l)}}function Y_(n){return n[rr]||(n[rr]=[])}function Mf(n){return n.cleanup||(n.cleanup=[])}function q_(n,i,s){return(null===n||er(n))&&(s=function ko(n){for(;Array.isArray(n);){if("object"==typeof n[So])return n;n=n[pn]}return null}(s[i.index])),s[ai]}function Af(n,i){const s=n[Vr],l=s?s.get(nu,null):null;l&&l.handleError(i)}function fh(n,i,s,l,c){for(let h=0;h<s.length;){const b=s[h++],S=s[h++];Ip(n.data[b],i[b],l,S,c)}}function lu(n,i){const s=U(i,n),l=s[sn];!function Q_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(l,s);const c=s[pn];null!==c&&null===s[dr]&&(s[dr]=Km(c,s[Vr])),mh(l,s,s[Gi])}function mh(n,i,s){Vi(i);try{const l=n.viewQuery;null!==l&&Mp(1,l,s);const c=n.template;null!==c&&hp(n,i,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&K_(n,i),n.staticViewQueries&&Mp(2,n.viewQuery,s);const h=n.components;null!==h&&function $y(n,i){for(let s=0;s<i.length;s++)lu(n,i[s])}(i,h)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[An]&=-5,Wn()}}let J_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,l,c){const h=typeof Zone>"u"?null:Zone.current,b=new _a(s,q=>{this.all.has(q)&&this.queue.set(q,h)},c);let S;this.all.add(b),b.notify();const F=()=>{b.cleanup(),S?.(),this.all.delete(b),this.queue.delete(b)};return S=l?.onDestroy(F),{destroy:F}}flush(){if(0!==this.queue.size)for(const[s,l]of this.queue)this.queue.delete(s),l?l.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=jt({token:n,providedIn:"root",factory:()=>new n}),n})();function kf(n,i,s){let l=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==i)for(let b=0;b<i.length;b++){const S=i[b];"number"==typeof S?h=S:1==h?c=Xe(c,S):2==h&&(l=Xe(l,S+": "+i[++b]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=c:n.classesWithoutHost=c}function ph(n,i,s,l,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&l.push(Qi(h)),Fr(h)){for(let S=Pr;S<h.length;S++){const F=h[S],q=F[sn].firstChild;null!==q&&ph(F[sn],F,q,l)}h[qr]!==h[pn]&&l.push(h[qr])}const b=s.type;if(8&b)ph(n,i,s.child,l);else if(32&b){const S=zh(s,i);let F;for(;F=S();)l.push(F)}else if(16&b){const S=zu(i,s);if(Array.isArray(S))l.push(...S);else{const F=jd(i[ar]);ph(F[sn],F,S,l,!0)}}s=c?s.projectionNext:s.next}return l}function cu(n,i,s,l=!0){const c=i[ro].rendererFactory;c.begin&&c.begin();try{Of(n,i,n.template,s)}catch(b){throw l&&Af(i,b),b}finally{c.end&&c.end(),i[ro].effectManager?.flush()}}function Of(n,i,s,l){const c=i[An];if(256!=(256&c)){i[ro].effectManager?.flush(),Vi(i);try{qn(i),function Jt(n){return zn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&hp(n,i,s,2,l);const b=3==(3&c);if(b){const q=n.preOrderCheckHooks;null!==q&&Un(i,q,null)}else{const q=n.preOrderHooks;null!==q&&oi(i,q,0,null),Zi(i,0)}if(function Gy(n){for(let i=hm(n);null!==i;i=fm(i)){if(!i[wo])continue;const s=i[As];for(let l=0;l<s.length;l++){Wi(s[l])}}}(i),function Rp(n){for(let i=hm(n);null!==i;i=fm(i))for(let s=Pr;s<i.length;s++){const l=i[s],c=l[sn];Ye(l)&&Of(c,l,c.template,l[Gi])}}(i),null!==n.contentQueries&&K_(n,i),b){const q=n.contentCheckHooks;null!==q&&Un(i,q)}else{const q=n.contentHooks;null!==q&&oi(i,q,1),Zi(i,1)}!function dp(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const l=wf(i,uo);try{for(let c=0;c<s.length;c++){const h=s[c];if(h<0)fr(~h);else{const b=h,S=s[++c],F=s[++c];G(S,b),l.runInContext(F,2,i[b])}}}finally{null===i[uo]&&Jl(i,uo),fr(-1)}}(n,i);const S=n.components;null!==S&&function Fp(n,i){for(let s=0;s<i.length;s++)Pp(n,i[s])}(i,S);const F=n.viewQuery;if(null!==F&&Mp(2,F,l),b){const q=n.viewCheckHooks;null!==q&&Un(i,q)}else{const q=n.viewHooks;null!==q&&oi(i,q,2),Zi(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[An]&=-73,Ai(i)}finally{Wn()}}}function Pp(n,i){const s=U(i,n);if(Ye(s)){const l=s[sn];80&s[An]?Of(l,s,l.template,s[Gi]):s[_r]>0&&Rf(s)}}function Rf(n){for(let l=hm(n);null!==l;l=fm(l))for(let c=Pr;c<l.length;c++){const h=l[c];if(Ye(h))if(1024&h[An]){const b=h[sn];Of(b,h,b.template,h[Gi])}else h[_r]>0&&Rf(h)}const s=n[sn].components;if(null!==s)for(let l=0;l<s.length;l++){const c=U(s[l],n);Ye(c)&&c[_r]>0&&Rf(c)}}class du{get rootNodes(){const i=this._lView,s=i[sn];return ph(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gi]}set context(i){this._lView[Gi]=i}get destroyed(){return 256==(256&this._lView[An])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Xn];if(Fr(i)){const s=i[Jo],l=s?s.indexOf(this):-1;l>-1&&(xc(i,l),oa(s,l))}this._attachedToViewContainer=!1}$h(this._lView[sn],this._lView)}onDestroy(i){!function ki(n,i){if(256==(256&n[An]))throw new ue(911,!1);null===n[Sr]&&(n[Sr]=[]),n[Sr].push(i)}(this._lView,i)}markForCheck(){tu(this._cdRefInjectingView||this._lView)}detach(){this._lView[An]&=-129}reattach(){this._lView[An]|=128}detectChanges(){cu(this._lView[sn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hd(n,i){$d(n,i,i[ai],2,null,null)}(this._lView[sn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i}}class Wy extends du{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;cu(i[sn],i,i[Gi],!1)}checkNoChanges(){}get context(){return null}}class ev extends dd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=ci(i);return new gd(s,this.ngModule)}}function Pf(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Np{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=Me(l);const c=this.injector.get(i,tp,l);return c!==tp||s===tp?c:this.parentInjector.get(i,s,l)}}class gd extends Qm{get inputs(){return Pf(this.componentDef.inputs)}get outputs(){return Pf(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function hr(n){return n.map(bo).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,c){let h=(c=c||this.ngModule)instanceof Mc?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const b=h?new Np(i,h):i,S=b.get(eu,null);if(null===S)throw new ue(407,!1);const pe={rendererFactory:S,sanitizer:b.get(Jm,null),effectManager:b.get(J_,null)},Ue=S.createRenderer(null,this.componentDef),Et=this.componentDef.selectors[0][0]||"div",zt=l?function ru(n,i,s,l){const h=l.get(ip,!1)||s===xt.ShadowDom,b=n.selectRootElement(i,h);return function ou(n){mp(n)}(b),b}(Ue,l,this.componentDef.encapsulation,b):wc(Ue,Et,function Ky(n){const i=n.toLowerCase();return"svg"===i?Ta:"math"===i?"math":null}(Et)),xn=this.componentDef.onPush?576:528,Pn=Ol(0,null,null,1,0,null,null,null,null,null,null),ei=Df(null,Pn,null,xn,null,null,pe,Ue,b,null,null);let wi,Tn;Vi(ei);try{const zi=this.componentDef;let Lr,Fo=null;zi.findHostDirectiveDefs?(Lr=[],Fo=new Map,zi.findHostDirectiveDefs(zi,Lr,Fo),Lr.push(zi)):Lr=[zi];const ac=function gh(n,i){const s=n[sn],l=Bi;return n[l]=i,Rc(s,l,2,"#host",null)}(ei,zt),Px=function Zy(n,i,s,l,c,h,b){const S=c[sn];!function Bp(n,i,s,l){for(const c of n)i.mergedAttrs=fi(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(kf(i,i.mergedAttrs,!0),null!==s&&td(l,s,i))}(l,n,i,b);let F=null;null!==i&&(F=Km(i,c[Vr]));const q=h.rendererFactory.createRenderer(i,s),pe=Df(c,pd(s),null,s.onPush?64:16,c[n.index],n,h,q,null,null,F);return S.firstCreatePass&&bp(S,n,l.length-1),au(c,pe),c[n.index]=pe}(ac,zt,zi,Lr,ei,pe,Ue);Tn=P(Pn,Bi),zt&&function uu(n,i,s,l){if(l)Qn(n,s,["ng-version",ep.full]);else{const{attrs:c,classes:h}=function Io(n){const i=[],s=[];let l=1,c=2;for(;l<n.length;){let h=n[l];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++l]):8===c&&s.push(h);else{if(!$i(c))break;c=h}l++}return{attrs:i,classes:s}}(i.selectors[0]);c&&Qn(n,s,c),h&&h.length>0&&Wh(n,s,h.join(" "))}}(Ue,zi,zt,l),void 0!==s&&function nv(n,i,s){const l=n.projection=[];for(let c=0;c<i.length;c++){const h=s[c];l.push(null!=h?Array.from(h):null)}}(Tn,this.ngContentSelectors,s),wi=function tv(n,i,s,l,c,h){const b=Jr(),S=c[sn],F=Mi(b,c);z_(S,c,b,s,null,l);for(let pe=0;pe<s.length;pe++)fa(za(c,S,b.directiveStart+pe,b),c);yp(S,c,b),F&&fa(F,c);const q=za(c,S,b.directiveStart+b.componentOffset,b);if(n[Gi]=c[Gi]=q,null!==h)for(const pe of h)pe(q,i);return dh(S,b,n),q}(Px,zi,Lr,Fo,ei,[Ff]),mh(Pn,ei,null)}finally{Wn()}return new Lp(this.componentType,wi,ud(Tn,ei),ei,Tn)}}class Lp extends T_{constructor(i,s,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Wy(c),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const h=this._rootLView;fh(h[sn],h,c,i,s),this.previousInputValues.set(i,s),tu(U(this._tNode.index,h))}}get injector(){return new $a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ff(){const n=Jr();un(wn()[sn],n)}function Up(n){let i=function iv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let c;if(er(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ue(903,!1);c=i.\u0275dir}if(c){if(s){l.push(c);const b=n;b.inputs=Vp(n.inputs),b.declaredInputs=Vp(n.declaredInputs),b.outputs=Vp(n.outputs);const S=c.hostBindings;S&&Hp(n,S);const F=c.viewQuery,q=c.contentQueries;if(F&&Nf(n,F),q&&jp(n,q),de(n.inputs,c.inputs),de(n.declaredInputs,c.declaredInputs),de(n.outputs,c.outputs),er(c)&&c.data.animation){const pe=n.data;pe.animation=(pe.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let b=0;b<h.length;b++){const S=h[b];S&&S.ngInherit&&S(n),S===Up&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Yy(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=fi(c.hostAttrs,s=fi(s,c.hostAttrs))}}(l)}function Vp(n){return n===bt?{}:n===kt?[]:n}function Nf(n,i){const s=n.viewQuery;n.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function jp(n,i){const s=n.contentQueries;n.contentQueries=s?(l,c,h)=>{i(l,c,h),s(l,c,h)}:i}function Hp(n,i){const s=n.hostBindings;n.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}function vh(n){return!!Yp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Rl(n,i,s){return n[i]=s}function ma(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function qp(n,i,s,l){const c=wn();return ma(c,R(),i)&&(sr(),Ja(x(),c,n,i,s,l)),qp}function _d(n,i,s,l){return ma(n,R(),s)?i+be(s)+l:Ji}function Nc(n,i,s,l,c,h,b,S){const F=wn(),q=sr(),pe=n+Bi,Ue=q.firstCreatePass?function tb(n,i,s,l,c,h,b,S,F){const q=i.consts,pe=Rc(i,n,4,b||null,fn(q,S));Tf(i,s,pe,fn(q,F)),un(i,pe);const Ue=pe.tView=Ol(2,pe,l,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,q,null);return null!==i.queries&&(i.queries.template(i,pe),Ue.queries=i.queries.embeddedTView(pe)),pe}(pe,q,F,i,s,l,c,h,b):q.data[pe];In(Ue,!1);const Et=Eh(q,F,Ue,n);Dt()&&Ec(q,F,Et,Ue),fa(Et,F),au(F,F[pe]=Tp(Et,F,Et,Ue)),es(Ue)&&uh(q,F,Ue),null!=b&&hh(F,Ue,S)}let Eh=function vu(n,i,s,l){return Cn(!0),i[ai].createComment("")};function gv(n){return Q(function ho(){return zn.lFrame.contextLView}(),Bi+n)}function ag(n,i,s){const l=wn();return ma(l,R(),i)&&Ua(sr(),x(),l,n,i,l[ai],s,!1),ag}function Ch(n,i,s,l,c){const b=c?"class":"style";fh(n,s,i.inputs[b],b,l)}function Dh(n,i,s,l){const c=wn(),h=sr(),b=Bi+n,S=c[ai],F=h.firstCreatePass?function lg(n,i,s,l,c,h){const b=i.consts,F=Rc(i,n,2,l,fn(b,c));return Tf(i,s,F,fn(b,h)),null!==F.attrs&&kf(F,F.attrs,!1),null!==F.mergedAttrs&&kf(F,F.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,F),F}(b,h,c,i,s,l):h.data[b],q=cg(h,c,F,S,i,n);c[b]=q;const pe=es(F);return In(F,!0),td(S,q,F),32!=(32&F.flags)&&Dt()&&Ec(h,c,q,F),0===function Wr(){return zn.lFrame.elementDepthCount}()&&fa(q,c),function ia(){zn.lFrame.elementDepthCount++}(),pe&&(uh(h,c,F),dh(h,F,c)),null!==l&&hh(c,F),Dh}function Pl(){let n=Jr();Mr()?Ds():(n=n.parent,In(n,!1));const i=n;(function Rs(n){return zn.skipHydrationRootTNode===n})(i)&&function rl(){zn.skipHydrationRootTNode=null}(),function Oo(){zn.lFrame.elementDepthCount--}();const s=sr();return s.firstCreatePass&&(un(s,n),go(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Vo(n){return 0!=(8&n.flags)}(i)&&Ch(s,i,wn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function sl(n){return 0!=(16&n.flags)}(i)&&Ch(s,i,wn(),i.stylesWithoutHost,!1),Pl}function zf(n,i,s,l){return Dh(n,i,s,l),Pl(),zf}let cg=(n,i,s,l,c,h)=>(Cn(!0),wc(l,c,function ye(){return zn.lFrame.currentNamespace}()));function xd(n,i,s){const l=wn(),c=sr(),h=n+Bi,b=c.firstCreatePass?function ib(n,i,s,l,c){const h=i.consts,b=fn(h,l),S=Rc(i,n,8,"ng-container",b);return null!==b&&kf(S,b,!0),Tf(i,s,S,fn(h,c)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,c,l,i,s):c.data[h];In(b,!0);const S=yu(c,l,b,n);return l[h]=S,Dt()&&Ec(c,l,S,b),fa(S,l),es(b)&&(uh(c,l,b),dh(c,b,l)),null!=s&&hh(l,b),xd}function Ed(){let n=Jr();const i=sr();return Mr()?Ds():(n=n.parent,In(n,!1)),i.firstCreatePass&&(un(i,n),go(n)&&i.queries.elementEnd(n)),Ed}function $f(n,i,s){return xd(n,i,s),Ed(),$f}let yu=(n,i,s,l)=>(Cn(!0),pm(i[ai],""));function ug(){return wn()}function Sh(n){return!!n&&"function"==typeof n.then}function bu(n){return!!n&&"function"==typeof n.subscribe}function Fl(n,i,s,l){const c=wn(),h=sr(),b=Jr();return Dd(h,c,c[ai],b,n,i,l),Fl}function Cd(n,i){const s=Jr(),l=wn(),c=sr();return Dd(c,l,q_(at(c.data),s,l),s,n,i),Cd}function Dd(n,i,s,l,c,h,b){const S=es(l),q=n.firstCreatePass&&Mf(n),pe=i[Gi],Ue=Y_(i);let Et=!0;if(3&l.type||b){const Pn=Mi(l,i),ei=b?b(Pn):Pn,wi=Ue.length,Tn=b?Lr=>b(Qi(Lr[l.index])):l.index;let zi=null;if(!b&&S&&(zi=function ob(n,i,s,l){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const b=c[h];if(b===s&&c[h+1]===l){const S=i[rr],F=c[h+2];return S.length>F?S[F]:null}"string"==typeof b&&(h+=2)}return null}(n,i,c,l.index)),null!==zi)(zi.__ngLastListenerFn__||zi).__ngNextListenerFn__=h,zi.__ngLastListenerFn__=h,Et=!1;else{h=ab(l,i,pe,h,!1);const Lr=s.listen(ei,c,h);Ue.push(h,Lr),q&&q.push(c,Tn,wi,wi+1)}}else h=ab(l,i,pe,h,!1);const zt=l.outputs;let xn;if(Et&&null!==zt&&(xn=zt[c])){const Pn=xn.length;if(Pn)for(let ei=0;ei<Pn;ei+=2){const Fo=i[xn[ei]][xn[ei+1]].subscribe(h),ac=Ue.length;Ue.push(h,Fo),q&&q.push(c,l.index,ac,-(ac+1))}}}function sb(n,i,s,l){try{return cs(6,i,s),!1!==s(l)}catch(c){return Af(n,c),!1}finally{cs(7,i,s)}}function ab(n,i,s,l,c){return function h(b){if(b===Function)return l;tu(n.componentOffset>-1?U(n.index,i):i);let F=sb(i,s,l,b),q=h.__ngNextListenerFn__;for(;q;)F=sb(i,s,q,b)&&F,q=q.__ngNextListenerFn__;return c&&!1===F&&b.preventDefault(),F}}function Wf(n=1){return function Eo(n){return(zn.lFrame.contextLView=function Ii(n,i){for(;n>0;)i=i[oo],n--;return i}(n,zn.lFrame.contextLView))[Gi]}(n)}function lb(n,i){let s=null;const l=function Zr(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===l?Gr(n,h,!0):Yo(l,h))return c}else s=c}return s}function Th(n){const i=wn()[ar][Dr];if(!i.projection){const l=i.projection=Za(n?n.length:1,null),c=l.slice();let h=i.child;for(;null!==h;){const b=n?lb(h,n):0;null!==b&&(c[b]?c[b].projectionNext=h:l[b]=h,c[b]=h),h=h.next}}}function _v(n,i=0,s){const l=wn(),c=sr(),h=Rc(c,Bi+n,16,null,s||null);null===h.projection&&(h.projection=i),Ds(),(!l[dr]||ys())&&32!=(32&h.flags)&&function t_(n,i,s){n_(i[ai],0,i,s,ym(n,s,i),e_(s.parent||i[Dr],s,i))}(c,l,h)}function hg(n,i,s){return wu(n,"",i,"",s),hg}function wu(n,i,s,l,c){const h=wn(),b=_d(h,i,s,l);return b!==Ji&&Ua(sr(),x(),h,n,b,h[ai],c,!1),wu}function Ah(n,i){return n<<17|i<<2}function nc(n){return n>>17&32767}function xu(n){return 2|n}function Id(n){return(131068&n)>>2}function Ev(n,i){return-131069&n|i<<2}function _g(n){return 1|n}function Eu(n,i,s,l,c){const h=n[s+1],b=null===i;let S=l?nc(h):Id(h),F=!1;for(;0!==S&&(!1===F||b);){const pe=n[S+1];Lc(n[S],i)&&(F=!0,n[S+1]=l?_g(pe):xu(pe)),S=l?nc(pe):Id(pe)}F&&(n[s+1]=l?xu(h):_g(h))}function Lc(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&te(n,i)>=0}function Uc(n,i,s){return pl(n,i,s,!1),Uc}function kh(n,i){return pl(n,i,null,!0),kh}function pl(n,i,s,l){const c=wn(),h=sr(),b=function y(n){const i=zn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);h.firstUpdatePass&&function pb(n,i,s,l){const c=n.data;if(null===c[s+1]){const h=c[Ar()],b=function mb(n,i){return i>=n.expandoStartIndex}(n,s);(function Ov(n,i){return 0!=(n.flags&(i?8:16))})(h,l)&&null===i&&!b&&(i=!1),i=function T0(n,i,s,l){const c=at(n);let h=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=Kf(s=bg(null,n,i,s,l),i.attrs,l),h=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==c)if(s=bg(c,n,i,s,l),null===h){let F=function M0(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Id(l))return n[nc(l)]}(n,i,l);void 0!==F&&Array.isArray(F)&&(F=bg(null,n,i,F[1],l),F=Kf(F,i.attrs,l),function gb(n,i,s,l){n[nc(s?i.classBindings:i.styleBindings)]=l}(n,i,l,F))}else h=function _b(n,i,s){let l;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)l=Kf(l,n[h].hostAttrs,s);return Kf(l,i.attrs,s)}(n,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,l),function Sd(n,i,s,l,c,h){let b=h?i.classBindings:i.styleBindings,S=nc(b),F=Id(b);n[l]=s;let pe,q=!1;if(Array.isArray(s)?(pe=s[1],(null===pe||te(s,pe)>0)&&(q=!0)):pe=s,c)if(0!==F){const Et=nc(n[S+1]);n[l+1]=Ah(Et,S),0!==Et&&(n[Et+1]=Ev(n[Et+1],l)),n[S+1]=function gg(n,i){return 131071&n|i<<17}(n[S+1],l)}else n[l+1]=Ah(S,0),0!==S&&(n[S+1]=Ev(n[S+1],l)),S=l;else n[l+1]=Ah(F,0),0===S?S=l:n[F+1]=Ev(n[F+1],l),F=l;q&&(n[l+1]=xu(n[l+1])),Eu(n,pe,l,!0),Eu(n,pe,l,!1),function ic(n,i,s,l,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&te(h,i)>=0&&(s[l+1]=_g(s[l+1]))}(i,pe,n,l,h),b=Ah(S,F),h?i.classBindings=b:i.styleBindings=b}(c,h,i,s,b,l)}}(h,n,b,l),i!==Ji&&ma(c,b,i)&&function Av(n,i,s,l,c,h,b,S){if(!(3&i.type))return;const F=n.data,q=F[S+1],pe=function I0(n){return 1==(1&n)}(q)?kv(F,i,s,c,Id(q),b):void 0;Zf(pe)||(Zf(h)||function xv(n){return 2==(2&n)}(q)&&(h=kv(F,null,s,c,S,b)),function uy(n,i,s,l,c){if(i)c?n.addClass(s,l):n.removeClass(s,l);else{let h=-1===l.indexOf("-")?void 0:Oa.DashCase;null==c?n.removeStyle(s,l,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Oa.Important),n.setStyle(s,l,c,h))}}(l,b,na(Ar(),s),c,h))}(h,h.data[Ar()],c,c[ai],n,c[b+1]=function bb(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=me(Zl(n)))),n}(i,s),l,b)}function bg(n,i,s,l,c){let h=null;const b=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<b&&(h=i[S],l=Kf(l,h.hostAttrs,c),h!==n);)S++;return null!==n&&(s.directiveStylingLast=S),l}function Kf(n,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const b=i[h];"number"==typeof b?c=b:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),T(n,b,!!s||i[++h]))}return void 0===n?null:n}function kv(n,i,s,l,c,h){const b=null===i;let S;for(;c>0;){const F=n[c],q=Array.isArray(F),pe=q?F[1]:F,Ue=null===pe;let Et=s[c+1];Et===Ji&&(Et=Ue?kt:void 0);let zt=Ue?L(Et,l):pe===l?Et:void 0;if(q&&!Zf(zt)&&(zt=L(F,l)),Zf(zt)&&(S=zt,b))return S;const xn=n[c+1];c=b?nc(xn):Id(xn)}if(null!==i){let F=h?i.residualClasses:i.residualStyles;null!=F&&(S=L(F,l))}return S}function Zf(n){return void 0!==n}function Rv(n,i=""){const s=wn(),l=sr(),c=n+Bi,h=l.firstCreatePass?Rc(l,c,1,i,null):l.data[c],b=wb(l,s,h,i,n);s[c]=b,Dt()&&Ec(l,s,b,h),In(h,!1)}let wb=(n,i,s,l,c)=>(Cn(!0),function Jc(n,i){return n.createText(i)}(i[ai],l));function xg(n){return Yf("",n,""),xg}function Yf(n,i,s){const l=wn(),c=_d(l,n,i,s);return c!==Ji&&function fl(n,i,s){const l=na(i,n);!function mm(n,i,s){n.setValue(i,s)}(n[ai],l,s)}(l,Ar(),c),Yf}function Ph(n,i,s){const l=wn();return ma(l,R(),i)&&Ua(sr(),x(),l,n,i,l[ai],s,!0),Ph}function Su(n,i,s){const l=wn();if(ma(l,R(),i)){const h=sr(),b=x();Ua(h,b,l,n,i,q_(at(h.data),b,l),s,!0)}return Su}const jc=void 0;var Mg=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cb(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Tu={};function Jf(n){const i=function Tb(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Ag(i);if(s)return s;const l=i.split("-")[0];if(s=Ag(l),s)return s;if("en"===l)return Mg;throw new ue(701,!1)}function Zv(n){return Jf(n)[Li.PluralCase]}function Ag(n){return n in Tu||(Tu[n]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[n]),Tu[n]}var Li=(()=>((Li=Li||{})[Li.LocaleId=0]="LocaleId",Li[Li.DayPeriodsFormat=1]="DayPeriodsFormat",Li[Li.DayPeriodsStandalone=2]="DayPeriodsStandalone",Li[Li.DaysFormat=3]="DaysFormat",Li[Li.DaysStandalone=4]="DaysStandalone",Li[Li.MonthsFormat=5]="MonthsFormat",Li[Li.MonthsStandalone=6]="MonthsStandalone",Li[Li.Eras=7]="Eras",Li[Li.FirstDayOfWeek=8]="FirstDayOfWeek",Li[Li.WeekendRange=9]="WeekendRange",Li[Li.DateFormat=10]="DateFormat",Li[Li.TimeFormat=11]="TimeFormat",Li[Li.DateTimeFormat=12]="DateTimeFormat",Li[Li.NumberSymbols=13]="NumberSymbols",Li[Li.NumberFormats=14]="NumberFormats",Li[Li.CurrencyCode=15]="CurrencyCode",Li[Li.CurrencySymbol=16]="CurrencySymbol",Li[Li.CurrencyName=17]="CurrencyName",Li[Li.Currencies=18]="Currencies",Li[Li.Directionality=19]="Directionality",Li[Li.PluralCase=20]="PluralCase",Li[Li.ExtraData=21]="ExtraData",Li))();const Mu="en-US";let u=Mu;function kb(n,i,s,l,c){if(n=it(n),Array.isArray(n))for(let h=0;h<n.length;h++)kb(n[h],i,s,l,c);else{const h=sr(),b=wn();let S=Xa(n)?n:it(n.provide),F=x_(n);const q=Jr(),pe=1048575&q.providerIndexes,Ue=q.directiveStart,Et=q.providerIndexes>>20;if(Xa(n)||!n.multi){const zt=new Xi(F,c,Oc),xn=Rb(S,i,c?pe:pe+Et,Ue);-1===xn?(Fa(uc(q,b),h,S),Ob(h,n,i.length),i.push(S),q.directiveStart++,q.directiveEnd++,c&&(q.providerIndexes+=1048576),s.push(zt),b.push(zt)):(s[xn]=zt,b[xn]=zt)}else{const zt=Rb(S,i,pe+Et,Ue),xn=Rb(S,i,pe,pe+Et),ei=xn>=0&&s[xn];if(c&&!ei||!c&&!(zt>=0&&s[zt])){Fa(uc(q,b),h,S);const wi=function EE(n,i,s,l,c){const h=new Xi(n,s,Oc);return h.multi=[],h.index=i,h.componentProviders=0,K0(h,c,l&&!s),h}(c?xE:wE,s.length,c,l,F);!c&&ei&&(s[xn].providerFactory=wi),Ob(h,n,i.length,0),i.push(S),q.directiveStart++,q.directiveEnd++,c&&(q.providerIndexes+=1048576),s.push(wi),b.push(wi)}else Ob(h,n,zt>-1?zt:xn,K0(s[c?xn:zt],F,!c&&l));!c&&l&&ei&&s[xn].componentProviders++}}}function Ob(n,i,s,l){const c=Xa(i),h=function b_(n){return!!n.useClass}(i);if(c||h){const F=(h?it(i.useClass):i).prototype.ngOnDestroy;if(F){const q=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const pe=q.indexOf(s);-1===pe?q.push(s,[l,F]):q[pe+1].push(l,F)}else q.push(s,F)}}}function K0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Rb(n,i,s,l){for(let c=s;c<l;c++)if(i[c]===n)return c;return-1}function wE(n,i,s,l){return Pb(this.multi,[])}function xE(n,i,s,l){const c=this.multi;let h;if(this.providerFactory){const b=this.providerFactory.componentProviders,S=za(s,s[sn],this.providerFactory.index,l);h=S.slice(0,b),Pb(c,h);for(let F=b;F<S.length;F++)h.push(S[F])}else h=[],Pb(c,h);return h}function Pb(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function Z0(n,i=[]){return s=>{s.providersResolver=(l,c)=>function bE(n,i,s){const l=sr();if(l.firstCreatePass){const c=er(n);kb(s,l.data,l.blueprint,c,!0),kb(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class em{}class Y0{}function CE(n,i){return new Fb(n,i??null,[])}class Fb extends em{constructor(i,s,l){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const c=cr(i);this._bootstrapComponents=hl(c.bootstrap),this._r3Injector=cp(i,s,[{provide:em,useValue:this},{provide:dd,useValue:this.componentFactoryResolver},...l],me(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Nb extends Y0{constructor(i){super(),this.moduleType=i}create(i){return new Fb(this.moduleType,i,[])}}class q0 extends em{constructor(i){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const s=new Vm([...i.providers,{provide:em,useValue:this},{provide:dd,useValue:this.componentFactoryResolver}],i.parent||ul(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Q0(n,i,s=null){return new q0({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let IE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=Kd(0,s.type),c=l.length>0?Q0([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=jt({token:n,providedIn:"environment",factory:()=>new n(Se(Mc))}),n})();function X0(n){n.getStandaloneInjector=i=>i.get(IE).getOrCreateStandaloneInjector(n)}function ow(n,i,s,l){return function aw(n,i,s,l,c,h){const b=i+s;return ma(n,b,c)?Rl(n,b+1,h?l.call(h,c):l(c)):Rg(n,b+1)}(wn(),Is(),n,i,s,l)}function sw(n,i,s,l,c){return lw(wn(),Is(),n,i,s,l,c)}function Rg(n,i){const s=n[i];return s===Ji?void 0:s}function lw(n,i,s,l,c,h,b){const S=i+s;return function Pc(n,i,s,l){const c=ma(n,i,s);return ma(n,i+1,l)||c}(n,S,c,h)?Rl(n,S+2,b?l.call(b,c,h):l(c,h)):Rg(n,S+2)}function hw(n,i){const s=sr();let l;const c=n+Bi;s.firstCreatePass?(l=function zE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(s.destroyHooks??=[]).push(c,l.onDestroy)):l=s.data[c];const h=l.factory||(l.factory=ct(l.type)),b=ke(Oc);try{const S=Ro(!1),F=h();return Ro(S),function nb(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,wn(),c,F),F}finally{ke(b)}}function fw(n,i,s,l){const c=n+Bi,h=wn(),b=Q(h,c);return function Pg(n,i){return n[sn].data[i].pure}(h,c)?lw(h,Is(),i,b.transform,s,l,b):b.transform(s,l)}function Bb(n){return i=>{setTimeout(n,void 0,i)}}const Hc=class ZE extends d.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let c=i,h=s||(()=>null),b=l;if(i&&"object"==typeof i){const F=i;c=F.next?.bind(F),h=F.error?.bind(F),b=F.complete?.bind(F)}this.__isAsync&&(h=Bb(h),c&&(c=Bb(c)),b&&(b=Bb(b)));const S=super.subscribe({next:c,error:h,complete:b});return i instanceof B.w0&&i.add(S),S}};function YE(){return this._results[Symbol.iterator]()}class Xv{get changes(){return this._changes||(this._changes=new Hc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=YE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const c=function lo(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Wa(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],h=i[l];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=XE,n})();const qE=Fg,QE=class extends qE{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,l){const c=this._declarationTContainer.tView,h=Df(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,s||null,l||null);h[Ir]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[ss];return null!==S&&(h[ss]=S.createEmbeddedView(c)),mh(c,h,i),new du(h)}};function XE(){return Jv(Jr(),wn())}function Jv(n,i){return 4&n.type?new QE(i,n,ud(n,i)):null}let ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=oC,n})();function oC(){return yw(Jr(),wn())}const sC=ey,_w=class extends sC{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return ud(this._hostTNode,this._hostLView)}get injector(){return new $a(this._hostTNode,this._hostLView)}get parentInjector(){const i=zc(this._hostTNode,this._hostLView);if(Aa(i)){const s=Pa(i,this._hostLView),l=Ss(i);return new $a(s[sn].data[l+8],s)}return new $a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=vw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(i,s,l){let c,h;"number"==typeof l?c=l:null!=l&&(c=l.index,h=l.injector);const S=i.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(S,c,false),S}createComponent(i,s,l,c,h){const b=i&&!function Dl(n){return"function"==typeof n}(i);let S;if(b)S=s;else{const Pn=s||{};S=Pn.index,l=Pn.injector,c=Pn.projectableNodes,h=Pn.environmentInjector||Pn.ngModuleRef}const F=b?i:new gd(ci(i)),q=l||this.parentInjector;if(!h&&null==F.ngModule){const ei=(b?q:this.parentInjector).get(Mc,null);ei&&(h=ei)}ci(F.componentType??{});const zt=F.create(q,c,null,h);return this.insertImpl(zt.hostView,S,false),zt}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,l){const c=i._lView,h=c[sn];if(function Qt(n){return Fr(n[Xn])}(c)){const F=this.indexOf(i);if(-1!==F)this.detach(F);else{const q=c[Xn],pe=new _w(q,q[Dr],q[Xn]);pe.detach(pe.indexOf(i))}}const b=this._adjustIndex(s),S=this._lContainer;if(function Zg(n,i,s,l){const c=Pr+l,h=s.length;l>0&&(s[c-1][hi]=i),l<h-Pr?(i[hi]=s[c],Hs(s,Pr+l,i)):(s.push(i),i[hi]=null),i[Xn]=s;const b=i[Ir];null!==b&&s!==b&&function Yg(n,i){const s=n[As];i[ar]!==i[Xn][Xn][ar]&&(n[wo]=!0),null===s?n[As]=[i]:s.push(i)}(b,i);const S=i[ss];null!==S&&S.insertView(n),i[An]|=128}(h,c,S,b),!l){const F=Gh(b,S),q=c[ai],pe=ed(q,S[qr]);null!==pe&&function Kg(n,i,s,l,c,h){l[pn]=c,l[Dr]=i,$d(n,l,s,1,c,h)}(h,S[Dr],q,c,pe,F)}return i.attachToViewContainerRef(),Hs(Vb(S),b,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=vw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=xc(this._lContainer,s);l&&(oa(Vb(this._lContainer),s),$h(l[sn],l))}detach(i){const s=this._adjustIndex(i,-1),l=xc(this._lContainer,s);return l&&null!=oa(Vb(this._lContainer),s)?new du(l):null}_adjustIndex(i,s=0){return i??this.length+s}};function vw(n){return n[Jo]}function Vb(n){return n[Jo]||(n[Jo]=[])}function yw(n,i){let s;const l=i[n.index];return Fr(l)?s=l:(s=Tp(l,i,null,n),i[n.index]=s,au(i,s)),bw(s,i,n,l),new _w(s,n,i)}let bw=function ww(n,i,s,l){if(n[qr])return;let c;c=8&s.type?Qi(l):function aC(n,i){const s=n[ai],l=s.createComment(""),c=Mi(i,n);return Go(s,ed(s,c),l,function Jg(n,i){return n.nextSibling(i)}(s,c),!1),l}(i,s),n[qr]=c};class jb{constructor(i){this.queryList=i,this.matches=null}clone(){return new jb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hb{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<l;h++){const b=s.getByIndex(h);c.push(this.queries[b.indexInDeclarationView].clone())}return new Hb(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Aw(i,s).matches&&this.queries[s].setDirty()}}class xw{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class zb{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new zb(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class $b{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new $b(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,s,dC(s,h)),this.matchTNodeWithReadOption(i,s,mc(s,i,h,!1,!1))}else l===Fg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,mc(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===hd||c===ey||c===Fg&&4&s.type)this.addMatch(s.index,-2);else{const h=mc(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function dC(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function hC(n,i,s,l){return-1===s?function uC(n,i){return 11&n.type?ud(n,i):4&n.type?Jv(n,i):null}(i,n):-2===s?function fC(n,i,s){return s===hd?ud(i,n):s===Fg?Jv(i,n):s===ey?yw(i,n):void 0}(n,i,l):za(n,n[sn],s,i)}function Ew(n,i,s,l){const c=i[ss].queries[l];if(null===c.matches){const h=n.data,b=s.matches,S=[];for(let F=0;F<b.length;F+=2){const q=b[F];S.push(q<0?null:hC(i,h[q],b[F+1],s.metadata.read))}c.matches=S}return c.matches}function Gb(n,i,s,l){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const b=Ew(n,i,c,s);for(let S=0;S<h.length;S+=2){const F=h[S];if(F>0)l.push(b[S/2]);else{const q=h[S+1],pe=i[-F];for(let Ue=Pr;Ue<pe.length;Ue++){const Et=pe[Ue];Et[Ir]===Et[Xn]&&Gb(Et[sn],Et,q,l)}if(null!==pe[As]){const Ue=pe[As];for(let Et=0;Et<Ue.length;Et++){const zt=Ue[Et];Gb(zt[sn],zt,q,l)}}}}}return l}function Cw(n){const i=wn(),s=sr(),l=$t();an(l+1);const c=Aw(s,l);if(n.dirty&&function fe(n){return 4==(4&n[An])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?Gb(s,i,l,[]):Ew(s,i,c,l);n.reset(h,ff),n.notifyOnChanges()}return!0}return!1}function Dw(n,i,s){const l=sr();l.firstCreatePass&&(Mw(l,new xw(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),Tw(l,wn(),i)}function Iw(n,i,s,l){const c=sr();if(c.firstCreatePass){const h=Jr();Mw(c,new xw(i,s,l),h.index),function pC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}Tw(c,wn(),s)}function Sw(){return function mC(n,i){return n[ss].queries[i].queryList}(wn(),$t())}function Tw(n,i,s){const l=new Xv(4==(4&s));(function By(n,i,s,l){const c=Y_(i);c.push(s),n.firstCreatePass&&Mf(n).push(l,c.length-1)})(n,i,l,l.destroy),null===i[ss]&&(i[ss]=new Hb),i[ss].queries.push(new jb(l))}function Mw(n,i,s){null===n.queries&&(n.queries=new zb),n.queries.track(new $b(i,s))}function Aw(n,i){return n.queries.getByIndex(i)}function kw(n,i){return Jv(n,i)}function Wb(n){return!!cr(n)}const Zw=new mo("Application Initializer");let Qb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l}),this.appInits=Vt(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const h=c();if(Sh(h))s.push(h);else if(bu(h)){const b=new Promise((S,F)=>{h.subscribe({complete:S,error:F})});s.push(b)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=jt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=jt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ny=new mo("LocaleId",{providedIn:"root",factory:()=>Vt(ny,st.Optional|st.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||Mu}()}),LC=new mo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new m.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=jt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let UC=(()=>{class n{compileModuleSync(s){return new Nb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),h=hl(cr(s).declarations).reduce((b,S)=>{const F=ci(S);return F&&b.push(new gd(F)),b},[]);return new BC(l,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=jt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HC=(()=>Promise.resolve(0))();function Xb(n){typeof Zone>"u"?HC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function Jw(...n){}class ja{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hc(!1),this.onMicrotaskEmpty=new Hc(!1),this.onStable=new Hc(!1),this.onError=new Hc(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function zC(){let n=Kt.requestAnimationFrame,i=Kt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function WC(n){const i=()=>{!function GC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Kt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Jb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,h,b,S)=>{try{return ex(n),s.invokeTask(c,h,b,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),tx(n)}},onInvoke:(s,l,c,h,b,S,F)=>{try{return ex(n),s.invoke(c,h,b,S,F)}finally{n.shouldCoalesceRunChangeDetection&&i(),tx(n)}},onHasTask:(s,l,c,h)=>{s.hasTask(c,h),l===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,e0(n),Jb(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ja.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(ja.isInAngularZone())throw new ue(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const h=this._inner,b=h.scheduleEventTask("NgZoneEvent: "+c,i,$C,Jw,Jw);try{return h.runTask(b,s,l)}finally{h.cancelTask(b)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const $C={};function Jb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ex(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tx(n){n._nesting--,Jb(n)}class KC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hc,this.onMicrotaskEmpty=new Hc,this.onStable=new Hc,this.onError=new Hc}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}const nx=new mo("",{providedIn:"root",factory:ix});function ix(){const n=Vt(ja);let i=!0;const s=new ne.y(c=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(i),c.complete()})}),l=new ne.y(c=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{ja.assertNotInAngularZone(),Xb(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,c.next(!0))})})});const b=n.onUnstable.subscribe(()=>{ja.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),b.unsubscribe()}});return(0,xe.T)(s,l.pipe((0,Z.B)()))}const rx=new mo(""),ox=new mo("");let t0,ZC=(()=>{class n{constructor(s,l,c){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function YC(n){t0=n}(c),c.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ja.assertNotInAngularZone(),Xb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xb(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Se(ja),Se(sx),Se(ox))},n.\u0275prov=jt({token:n,factory:n.\u0275fac}),n})(),sx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return t0?.findTestabilityInTree(this,s,l)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=jt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ku=null;const ax=new mo("AllowMultipleToken"),n0=new mo("PlatformDestroyListeners"),r0=new mo("appBootstrapListener");class XC{constructor(i,s){this.name=i,this.token=s}}function dx(n,i,s=[]){const l=`Platform: ${i}`,c=new mo(l);return(h=[])=>{let b=o0();if(!b||b.injector.get(ax,!1)){const S=[...s,...h,{provide:c,useValue:!0}];n?n(S):function JC(n){if(ku&&!ku.get(ax,!1))throw new ue(400,!1);(function lx(){!function Bo(n){Cs=n}(()=>{throw new ue(600,!1)})})(),ku=n;const i=n.get(hx);(function cx(n){n.get(qd,null)?.forEach(s=>s())})(n)}(function ux(n=[],i){return kc.create({name:i,providers:[{provide:Ql,useValue:"platform"},{provide:n0,useValue:new Set([()=>ku=null])},...n]})}(S,l))}return function tD(n){const i=o0();if(!i)throw new ue(401,!1);return i}()}}function o0(){return ku?.get(hx)??null}let hx=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const c=function nD(n="zone.js",i){return"noop"===n?new KC:"zone.js"===n?new ja(i):n}(l?.ngZone,function fx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return c.run(()=>{const h=function DE(n,i,s){return new Fb(n,i,s)}(s.moduleType,this.injector,function vx(n){return[{provide:ja,useFactory:n},{provide:rd,multi:!0,useFactory:()=>{const i=Vt(rD,{optional:!0});return()=>i.initialize()}},{provide:_x,useFactory:iD},{provide:nx,useFactory:ix}]}(()=>c)),b=h.injector.get(nu,null);return c.runOutsideAngular(()=>{const S=c.onError.subscribe({next:F=>{b.handleError(F)}});h.onDestroy(()=>{iy(this._modules,h),S.unsubscribe()})}),function mx(n,i,s){try{const l=s();return Sh(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(b,c,()=>{const S=h.injector.get(Qb);return S.runInitializers(),S.donePromise.then(()=>(function p(n){Mt(n,"Expected localeId to be defined"),"string"==typeof n&&(u=n.toLowerCase().replace(/_/g,"-"))}(h.injector.get(ny,Mu)||Mu),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,l=[]){const c=px({},l);return function qC(n,i,s){const l=new Nb(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const l=s.injector.get(im);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ue(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(n0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Se(kc))},n.\u0275prov=jt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function px(n,i){return Array.isArray(i)?i.reduce(px,n):{...n,...i}}let im=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(_x),this.zoneIsStable=Vt(nx),this.componentTypes=[],this.components=[],this.isStable=Vt(qw).hasPendingTasks.pipe((0,_e.w)(s=>s?(0,ae.of)(!1):this.zoneIsStable),(0,Ee.x)(),(0,Z.B)()),this._injector=Vt(Mc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const c=s instanceof Qm;if(!this._injector.get(Qb).done)throw!c&&Yr(s),new ue(405,!1);let b;b=c?s:this._injector.get(dd).resolveComponentFactory(s),this.componentTypes.push(b.componentType);const S=function QC(n){return n.isBoundToModule}(b)?void 0:this._injector.get(em),q=b.create(kc.NULL,[],l||b.selector,S),pe=q.location.nativeElement,Ue=q.injector.get(rx,null);return Ue?.registerApplication(pe),q.onDestroy(()=>{this.detachView(q.hostView),iy(this.components,q),Ue?.unregisterApplication(pe)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;iy(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(r0,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>iy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ue(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=jt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iy(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const _x=new mo("",{providedIn:"root",factory:()=>Vt(nu).handleError.bind(void 0)});function iD(){const n=Vt(ja),i=Vt(nu);return s=>n.runOutsideAngular(()=>i.handleError(s))}let rD=(()=>{class n{constructor(){this.zone=Vt(ja),this.applicationRef=Vt(im)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=jt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sD(){return!1}let aD=(()=>{class n{}return n.__NG_ELEMENT_ID__=lD,n})();function lD(n){return function cD(n,i,s){if(jr(n)&&!s){const l=U(n.index,i);return new du(l,l)}return 47&n.type?new du(i[ar],i):null}(Jr(),wn(),16==(16&n))}class xx{constructor(){}supports(i){return vh(i)}create(i){return new pD(i)}}const mD=(n,i)=>i;class pD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||mD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,h=null;for(;s||l;){const b=!l||s&&s.currentIndex<Cx(l,c,h)?s:l,S=Cx(b,c,h),F=b.currentIndex;if(b===l)c--,l=l._nextRemoved;else if(s=s._next,null==b.previousIndex)c++;else{h||(h=[]);const q=S-c,pe=F-c;if(q!=pe){for(let Et=0;Et<q;Et++){const zt=Et<h.length?h[Et]:h[Et]=0,xn=zt+Et;pe<=xn&&xn<q&&(h[Et]=zt+1)}h[b.previousIndex]=pe-q}}S!==F&&i(b,S,F)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!vh(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,b,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],b=this._trackByFn(S,h),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,h,b,S)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,b,S),l=!0),s=s._next}else c=0,function Zp(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,S=>{b=this._trackByFn(c,S),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,S,b,c)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,b,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new gD(s,l),h,c),i}_verifyReinsertion(i,s,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class gD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _D{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class Ex{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new _D,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cx(n,i,s){const l=n.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class Dx{constructor(){}supports(i){return i instanceof Map||Yp(i)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Yp(i)))throw new ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,b=c._next;return h&&(h._next=b),b&&(b._prev=h),c._next=null,c._prev=null,c}const l=new yD(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class yD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ix(){return new d0([new xx])}let d0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Ix()),deps:[[n,new zs,new Ya]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new ue(901,!1)}}return n.\u0275prov=jt({token:n,providedIn:"root",factory:Ix}),n})();function Sx(){return new u0([new Dx])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Sx()),deps:[[n,new zs,new Ya]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new ue(901,!1)}}return n.\u0275prov=jt({token:n,providedIn:"root",factory:Sx}),n})();const xD=dx(null,"core",[]);let ED=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Se(im))},n.\u0275mod=os({type:n}),n.\u0275inj=cn({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PD(n){const i=ci(n);if(!i)return null;const s=new gd(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone}}}},9401:(gn,nt,E)=>{E.d(nt,{Fj:()=>Ne,JJ:()=>pi,JL:()=>Gn,JU:()=>_e,NI:()=>bo,UX:()=>xs,_Y:()=>gr,cw:()=>oe,kI:()=>yt,sg:()=>_r,u:()=>No,x0:()=>rr});var d=E(2223),B=E(4755),m=E(8996),ne=E(4128),xe=E(4004);let ae=(()=>{class W{constructor(v,C){this._renderer=v,this._elementRef=C,this.onChange=ee=>{},this.onTouched=()=>{}}setProperty(v,C){this._renderer.setProperty(this._elementRef.nativeElement,v,C)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(d.Qsj),d.Y36(d.SBq))},W.\u0275dir=d.lG2({type:W}),W})(),Z=(()=>{class W extends ae{}return W.\u0275fac=function(){let j;return function(C){return(j||(j=d.n5z(W)))(C||W)}}(),W.\u0275dir=d.lG2({type:W,features:[d.qOj]}),W})();const _e=new d.OlP("NgValueAccessor"),de={provide:_e,useExisting:(0,d.Gpc)(()=>Ne),multi:!0},Xe=new d.OlP("CompositionEventMode");let Ne=(()=>{class W extends ae{constructor(v,C,ee){super(v,C),this._compositionMode=ee,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function me(){const W=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(v){this.setProperty("value",v??"")}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Xe,8))},W.\u0275dir=d.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,C){1&v&&d.NdJ("input",function(Ce){return C._handleInput(Ce.target.value)})("blur",function(){return C.onTouched()})("compositionstart",function(){return C._compositionStart()})("compositionend",function(Ce){return C._compositionEnd(Ce.target.value)})},features:[d._Bn([de]),d.qOj]}),W})();function dt(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function it(W){return null!=W&&"number"==typeof W.length}const Le=new d.OlP("NgValidators"),He=new d.OlP("NgAsyncValidators"),Re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yt{static min(j){return function ue(W){return j=>{if(dt(j.value)||dt(W))return null;const v=parseFloat(j.value);return!isNaN(v)&&v<W?{min:{min:W,actual:j.value}}:null}}(j)}static max(j){return function De(W){return j=>{if(dt(j.value)||dt(W))return null;const v=parseFloat(j.value);return!isNaN(v)&&v>W?{max:{max:W,actual:j.value}}:null}}(j)}static required(j){return function be(W){return dt(W.value)?{required:!0}:null}(j)}static requiredTrue(j){return function Ae(W){return!0===W.value?null:{required:!0}}(j)}static email(j){return function $e(W){return dt(W.value)||Re.test(W.value)?null:{email:!0}}(j)}static minLength(j){return function K(W){return j=>dt(j.value)||!it(j.value)?null:j.value.length<W?{minlength:{requiredLength:W,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function Ge(W){return j=>it(j.value)&&j.value.length>W?{maxlength:{requiredLength:W,actualLength:j.value.length}}:null}(j)}static pattern(j){return function Fe(W){if(!W)return ze;let j,v;return"string"==typeof W?(v="","^"!==W.charAt(0)&&(v+="^"),v+=W,"$"!==W.charAt(W.length-1)&&(v+="$"),j=new RegExp(v)):(v=W.toString(),j=W),C=>{if(dt(C.value))return null;const ee=C.value;return j.test(ee)?null:{pattern:{requiredPattern:v,actualValue:ee}}}}(j)}static nullValidator(j){return null}static compose(j){return Rt(j)}static composeAsync(j){return Gt(j)}}function ze(W){return null}function vt(W){return null!=W}function vn(W){return(0,d.QGY)(W)?(0,m.D)(W):W}function kn(W){let j={};return W.forEach(v=>{j=null!=v?{...j,...v}:j}),0===Object.keys(j).length?null:j}function ut(W,j){return j.map(v=>v(W))}function At(W){return W.map(j=>function ht(W){return!W.validate}(j)?j:v=>j.validate(v))}function Rt(W){if(!W)return null;const j=W.filter(vt);return 0==j.length?null:function(v){return kn(ut(v,j))}}function qt(W){return null!=W?Rt(At(W)):null}function Gt(W){if(!W)return null;const j=W.filter(vt);return 0==j.length?null:function(v){const C=ut(v,j).map(vn);return(0,ne.D)(C).pipe((0,xe.U)(kn))}}function ln(W){return null!=W?Gt(At(W)):null}function _n(W,j){return null===W?[j]:Array.isArray(W)?[...W,j]:[W,j]}function rn(W){return W._rawValidators}function Mt(W){return W._rawAsyncValidators}function Ke(W){return W?Array.isArray(W)?W:[W]:[]}function Qe(W,j){return Array.isArray(W)?W.includes(j):W===j}function St(W,j){const v=Ke(j);return Ke(W).forEach(ee=>{Qe(v,ee)||v.push(ee)}),v}function mt(W,j){return Ke(j).filter(v=>!Qe(W,v))}class jt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=qt(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,v){return!!this.control&&this.control.hasError(j,v)}getError(j,v){return this.control?this.control.getError(j,v):null}}class Tt extends jt{get formDirective(){return null}get path(){return null}}class cn extends jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xt{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pi=(()=>{class W extends Xt{constructor(v){super(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(cn,2))},W.\u0275dir=d.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,C){2&v&&d.ekj("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)},features:[d.qOj]}),W})(),Gn=(()=>{class W extends Xt{constructor(v){super(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Tt,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(v,C){2&v&&d.ekj("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)("ng-submitted",C.isSubmitted)},features:[d.qOj]}),W})();const _i="VALID",Ri="INVALID",yi="PENDING",Zt="DISABLED";function Je(W){return(Se(W)?W.validators:W)||null}function Be(W,j){return(Se(j)?j.asyncValidators:W)||null}function Se(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class Me{constructor(j,v){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(v)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===_i}get invalid(){return this.status===Ri}get pending(){return this.status==yi}get disabled(){return this.status===Zt}get enabled(){return this.status!==Zt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(St(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(St(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(mt(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(mt(j,this._rawAsyncValidators))}hasValidator(j){return Qe(this._rawValidators,j)}hasAsyncValidator(j){return Qe(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=yi,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const v=this._parentMarkedDirty(j.onlySelf);this.status=Zt,this.errors=null,this._forEachChild(C=>{C.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:v}),this._onDisabledChange.forEach(C=>C(!0))}enable(j={}){const v=this._parentMarkedDirty(j.onlySelf);this.status=_i,this._forEachChild(C=>{C.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:v}),this._onDisabledChange.forEach(C=>C(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_i||this.status===yi)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zt:_i}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=yi,this._hasOwnPendingAsyncValidator=!0;const v=vn(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(C=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(C,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,v={}){this.errors=j,this._updateControlsErrors(!1!==v.emitEvent)}get(j){let v=j;return null==v||(Array.isArray(v)||(v=v.split(".")),0===v.length)?null:v.reduce((C,ee)=>C&&C._find(ee),this)}getError(j,v){const C=v?this.get(v):this;return C&&C.errors?C.errors[j]:null}hasError(j,v){return!!this.getError(j,v)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Zt:this.errors?Ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yi)?yi:this._anyControlsHaveStatus(Ri)?Ri:_i}_anyControlsHaveStatus(j){return this._anyControls(v=>v.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Se(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function rt(W){return Array.isArray(W)?qt(W):W||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function Oe(W){return Array.isArray(W)?ln(W):W||null}(this._rawAsyncValidators)}}class oe extends Me{constructor(j,v,C){super(Je(v),Be(C,v)),this.controls=j,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,v){return this.controls[j]?this.controls[j]:(this.controls[j]=v,v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange),v)}addControl(j,v,C={}){this.registerControl(j,v),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}removeControl(j,v={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}setControl(j,v,C={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],v&&this.registerControl(j,v),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,v={}){(function Vt(W,j,v){W._forEachChild((C,ee)=>{if(void 0===v[ee])throw new d.vHH(1002,"")})})(this,0,j),Object.keys(j).forEach(C=>{(function wt(W,j,v){const C=W.controls;if(!(j?Object.keys(C):C).length)throw new d.vHH(1e3,"");if(!C[v])throw new d.vHH(1001,"")})(this,!0,C),this.controls[C].setValue(j[C],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(j,v={}){null!=j&&(Object.keys(j).forEach(C=>{const ee=this.controls[C];ee&&ee.patchValue(j[C],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(j={},v={}){this._forEachChild((C,ee)=>{C.reset(j[ee],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this._reduceChildren({},(j,v,C)=>(j[C]=v.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(v,C)=>!!C._syncPendingControls()||v);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(v=>{const C=this.controls[v];C&&j(C,v)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[v,C]of Object.entries(this.controls))if(this.contains(v)&&j(C))return!0;return!1}_reduceValue(){return this._reduceChildren({},(v,C,ee)=>((C.enabled||this.disabled)&&(v[ee]=C.value),v))}_reduceChildren(j,v){let C=j;return this._forEachChild((ee,Ce)=>{C=v(C,ee,Ce)}),C}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}const re=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ve}),ve="always";function xt(W,j){return[...j.path,W]}function bt(W,j,v=ve){Mn(W,j),j.valueAccessor.writeValue(W.value),(W.disabled||"always"===v)&&j.valueAccessor.setDisabledState?.(W.disabled),function xi(W,j){j.valueAccessor.registerOnChange(v=>{W._pendingValue=v,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Ct(W,j)})}(W,j),function yn(W,j){const v=(C,ee)=>{j.valueAccessor.writeValue(C),ee&&j.viewToModelUpdate(C)};W.registerOnChange(v),j._registerOnDestroy(()=>{W._unregisterOnChange(v)})}(W,j),function Lt(W,j){j.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Ct(W,j),"submit"!==W.updateOn&&W.markAsTouched()})}(W,j),function ti(W,j){if(j.valueAccessor.setDisabledState){const v=C=>{j.valueAccessor.setDisabledState(C)};W.registerOnDisabledChange(v),j._registerOnDestroy(()=>{W._unregisterOnDisabledChange(v)})}}(W,j)}function kt(W,j,v=!0){const C=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(C),j.valueAccessor.registerOnTouched(C)),Si(W,j),W&&(j._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function en(W,j){W.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(j)})}function Mn(W,j){const v=rn(W);null!==j.validator?W.setValidators(_n(v,j.validator)):"function"==typeof v&&W.setValidators([v]);const C=Mt(W);null!==j.asyncValidator?W.setAsyncValidators(_n(C,j.asyncValidator)):"function"==typeof C&&W.setAsyncValidators([C]);const ee=()=>W.updateValueAndValidity();en(j._rawValidators,ee),en(j._rawAsyncValidators,ee)}function Si(W,j){let v=!1;if(null!==W){if(null!==j.validator){const ee=rn(W);if(Array.isArray(ee)&&ee.length>0){const Ce=ee.filter(ct=>ct!==j.validator);Ce.length!==ee.length&&(v=!0,W.setValidators(Ce))}}if(null!==j.asyncValidator){const ee=Mt(W);if(Array.isArray(ee)&&ee.length>0){const Ce=ee.filter(ct=>ct!==j.asyncValidator);Ce.length!==ee.length&&(v=!0,W.setAsyncValidators(Ce))}}}const C=()=>{};return en(j._rawValidators,C),en(j._rawAsyncValidators,C),v}function Ct(W,j){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function Yo(W,j){const v=W.indexOf(j);v>-1&&W.splice(v,1)}function yo(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const bo=class extends Me{constructor(j=null,v,C){super(Je(v),Be(C,v)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Se(v)&&(v.nonNullable||v.initialValueIsDefault)&&(this.defaultValue=yo(j)?j.value:j)}setValue(j,v={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(C=>C(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(j,v={}){this.setValue(j,v)}reset(j=this.defaultValue,v={}){this._applyFormState(j),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){Yo(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){Yo(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){yo(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}};let no=(()=>{class W extends Tt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return W.\u0275fac=function(){let j;return function(C){return(j||(j=d.n5z(W)))(C||W)}}(),W.\u0275dir=d.lG2({type:W,features:[d.qOj]}),W})(),gr=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275dir=d.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),pt=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})();const sn=new d.OlP("NgModelWithFormControlWarning"),hi={provide:Tt,useExisting:(0,d.Gpc)(()=>_r)};let _r=(()=>{class W extends Tt{constructor(v,C,ee){super(),this.callSetDisabledState=ee,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(v),this._setAsyncValidators(C)}ngOnChanges(v){this._checkFormPresent(),v.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Si(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(v){const C=this.form.get(v.path);return bt(C,v,this.callSetDisabledState),C.updateValueAndValidity({emitEvent:!1}),this.directives.push(v),C}getControl(v){return this.form.get(v.path)}removeControl(v){kt(v.control||null,v,!1),function to(W,j){const v=W.indexOf(j);v>-1&&W.splice(v,1)}(this.directives,v)}addFormGroup(v){this._setUpFormContainer(v)}removeFormGroup(v){this._cleanUpFormContainer(v)}getFormGroup(v){return this.form.get(v.path)}addFormArray(v){this._setUpFormContainer(v)}removeFormArray(v){this._cleanUpFormContainer(v)}getFormArray(v){return this.form.get(v.path)}updateModel(v,C){this.form.get(v.path).setValue(C)}onSubmit(v){return this.submitted=!0,function Zo(W,j){W._syncPendingControls(),j.forEach(v=>{const C=v.control;"submit"===C.updateOn&&C._pendingChange&&(v.viewToModelUpdate(C._pendingValue),C._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(v),"dialog"===v?.target?.method}onReset(){this.resetForm()}resetForm(v=void 0){this.form.reset(v),this.submitted=!1}_updateDomValue(){this.directives.forEach(v=>{const C=v.control,ee=this.form.get(v.path);C!==ee&&(kt(C||null,v),(W=>W instanceof bo)(ee)&&(bt(ee,v,this.callSetDisabledState),v.control=ee))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(v){const C=this.form.get(v.path);(function Qn(W,j){Mn(W,j)})(C,v),C.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(v){if(this.form){const C=this.form.get(v.path);C&&function Rn(W,j){return Si(W,j)}(C,v)&&C.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mn(this.form,this),this._oldForm&&Si(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Le,10),d.Y36(He,10),d.Y36(re,8))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(v,C){1&v&&d.NdJ("submit",function(Ce){return C.onSubmit(Ce)})("reset",function(){return C.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([hi]),d.qOj,d.TTD]}),W})();const Dr={provide:Tt,useExisting:(0,d.Gpc)(()=>rr)};let rr=(()=>{class W extends no{constructor(v,C,ee){super(),this.name=null,this._parent=v,this._setValidators(C),this._setAsyncValidators(ee)}_checkParentType(){ro(this._parent)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Tt,13),d.Y36(Le,10),d.Y36(He,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d._Bn([Dr]),d.qOj]}),W})();const Gi={provide:Tt,useExisting:(0,d.Gpc)(()=>Vr)};let Vr=(()=>{class W extends Tt{constructor(v,C,ee){super(),this.name=null,this._parent=v,this._setValidators(C),this._setAsyncValidators(ee)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return xt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ro(this._parent)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Tt,13),d.Y36(Le,10),d.Y36(He,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d._Bn([Gi]),d.qOj]}),W})();function ro(W){return!(W instanceof rr||W instanceof _r||W instanceof Vr)}const ai={provide:cn,useExisting:(0,d.Gpc)(()=>No)};let No=(()=>{class W extends cn{set isDisabled(v){}constructor(v,C,ee,Ce,ct){super(),this._ngModelWarningConfig=ct,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=v,this._setValidators(C),this._setAsyncValidators(ee),this.valueAccessor=function $i(W,j){if(!j)return null;let v,C,ee;return Array.isArray(j),j.forEach(Ce=>{Ce.constructor===Ne?v=Ce:function po(W){return Object.getPrototypeOf(W.constructor)===Z}(Ce)?C=Ce:ee=Ce}),ee||C||v||null}(0,Ce)}ngOnChanges(v){this._added||this._setUpControl(),function Kr(W,j){if(!W.hasOwnProperty("model"))return!1;const v=W.model;return!!v.isFirstChange()||!Object.is(j,v.currentValue)}(v,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}get path(){return xt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(v){return new(v||W)(d.Y36(Tt,13),d.Y36(Le,10),d.Y36(He,10),d.Y36(_e,10),d.Y36(sn,8))},W.\u0275dir=d.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([ai]),d.qOj,d.TTD]}),W})(),Y=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({imports:[pt]}),W})(),xs=(()=>{class W{static withConfig(v){return{ngModule:W,providers:[{provide:sn,useValue:v.warnOnNgModelWithFormControl??"always"},{provide:re,useValue:v.callSetDisabledState??ve}]}}}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({imports:[Y]}),W})()},8410:(gn,nt,E)=>{E.d(nt,{_r:()=>He,ch:()=>be,oL:()=>ue});var d=E(3223),B=E(8023),m=E(2223),ne=E(1217),xe=E(706),ae=E(5537),Z=E(9002),_e=E(4755),Ee=E(1591),se=E(2840),de=E(7579),me=E(6451),Xe=E(9300),Ne=E(5698);function dt(Ae,$e){}const it={bottomSheetState:(0,Ee.X$)("state",[(0,Ee.SB)("void, hidden",(0,Ee.oB)({transform:"translateY(100%)"})),(0,Ee.SB)("visible",(0,Ee.oB)({transform:"translateY(0%)"})),(0,Ee.eR)("visible => void, visible => hidden",(0,Ee.ru)([(0,Ee.jt)(`${ne.mZ.COMPLEX} ${ne.yN.ACCELERATION_CURVE}`),(0,Ee.IO)("@*",(0,Ee.pV)(),{optional:!0})])),(0,Ee.eR)("void => visible",(0,Ee.ru)([(0,Ee.jt)(`${ne.mZ.EXITING} ${ne.yN.DECELERATION_CURVE}`),(0,Ee.IO)("@*",(0,Ee.pV)(),{optional:!0})]))])};let Le=(()=>{class Ae extends d.LL{constructor(K,Ge,Fe,ze,vt,vn,kn,ut,ht,At){super(K,Ge,Fe,ze,vt,vn,kn,At),this._changeDetectorRef=ht,this._animationState="void",this._animationStateChanged=new m.vpe,this._breakpointSubscription=ut.observe([ae.u3.Medium,ae.u3.Large,ae.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",ut.isMatched(ae.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",ut.isMatched(ae.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",ut.isMatched(ae.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(K){"visible"===K.toState&&this._trapFocus(),this._animationStateChanged.emit(K)}_onAnimationStart(K){this._animationStateChanged.emit(K)}_captureInitialFocus(){}_toggleClass(K,Ge){this._elementRef.nativeElement.classList.toggle(K,Ge)}}return Ae.\u0275fac=function(K){return new(K||Ae)(m.Y36(m.SBq),m.Y36(xe.qV),m.Y36(_e.K0,8),m.Y36(d.ib),m.Y36(xe.ic),m.Y36(m.R0b),m.Y36(Z.Iu),m.Y36(ae.Yg),m.Y36(m.sBO),m.Y36(xe.tE))},Ae.\u0275cmp=m.Xpm({type:Ae,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(K,Ge){1&K&&m.WFA("@state.start",function(ze){return Ge._onAnimationStart(ze)})("@state.done",function(ze){return Ge._onAnimationDone(ze)}),2&K&&(m.uIk("role",Ge._config.role)("aria-modal",Ge._config.ariaModal)("aria-label",Ge._config.ariaLabel),m.d8E("@state",Ge._animationState))},features:[m.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(K,Ge){1&K&&m.YNc(0,dt,0,0,"ng-template",0)},dependencies:[B.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[it.bottomSheetState]}}),Ae})(),He=(()=>{class Ae{}return Ae.\u0275fac=function(K){return new(K||Ae)},Ae.\u0275mod=m.oAB({type:Ae}),Ae.\u0275inj=m.cJS({imports:[d.Su,ne.BQ,B.eL,ne.BQ]}),Ae})();const Re=new m.OlP("MatBottomSheetData");class yt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class ue{get instance(){return this._ref.componentInstance}constructor($e,K,Ge){this._ref=$e,this._afterOpened=new de.x,this.containerInstance=Ge,this.disableClose=K.disableClose,Ge._animationStateChanged.pipe((0,Xe.h)(Fe=>"done"===Fe.phaseName&&"visible"===Fe.toState),(0,Ne.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ge._animationStateChanged.pipe((0,Xe.h)(Fe=>"done"===Fe.phaseName&&"hidden"===Fe.toState),(0,Ne.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),$e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,me.T)(this.backdropClick(),this.keydownEvents().pipe((0,Xe.h)(Fe=>Fe.keyCode===se.hY))).subscribe(Fe=>{!this.disableClose&&("keydown"!==Fe.type||!(0,se.Vb)(Fe))&&(Fe.preventDefault(),this.dismiss())})}dismiss($e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,Xe.h)(K=>"start"===K.phaseName),(0,Ne.q)(1)).subscribe(K=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},K.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=$e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const De=new m.OlP("mat-bottom-sheet-default-options");let be=(()=>{class Ae{get _openedBottomSheetRef(){const K=this._parentBottomSheet;return K?K._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(K){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=K:this._bottomSheetRefAtThisLevel=K}constructor(K,Ge,Fe,ze){this._overlay=K,this._parentBottomSheet=Fe,this._defaultOptions=ze,this._bottomSheetRefAtThisLevel=null,this._dialog=Ge.get(d.Vq)}open(K,Ge){const Fe={...this._defaultOptions||new yt,...Ge};let ze;return this._dialog.open(K,{...Fe,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Le,scrollStrategy:Fe.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:ze}),providers:(vt,vn,kn)=>(ze=new ue(vt,Fe,kn),[{provide:ue,useValue:ze},{provide:Re,useValue:Fe.data}])}),ze.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===ze&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>ze.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):ze.containerInstance.enter(),this._openedBottomSheetRef=ze,ze}dismiss(K){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(K)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return Ae.\u0275fac=function(K){return new(K||Ae)(m.LFG(Z.aV),m.LFG(m.zs3),m.LFG(Ae,12),m.LFG(De,8))},Ae.\u0275prov=m.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:He}),Ae})()},1728:(gn,nt,E)=>{E.d(nt,{cs:()=>qt,lW:()=>vn,ot:()=>Ke});var d=E(2966),B=E(2223),m=E(706),ne=E(1217),xe=E(4755),ae=E(1692);const Z=["mat-button",""],_e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ee=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],me=["mat-fab",""],He={capture:!0},Re=["focus","click","mouseenter","touchstart"],yt="mat-button-ripple-uninitialized";let ue=(()=>{class Qe{constructor(){this._document=(0,B.f3M)(xe.K0,{optional:!0}),this._animationMode=(0,B.f3M)(B.QbO,{optional:!0}),this._globalRippleOptions=(0,B.f3M)(ne.Y2,{optional:!0}),this._platform=(0,B.f3M)(d.t4),this._ngZone=(0,B.f3M)(B.R0b),this._onInteraction=mt=>{if(mt.target===this._document)return;const Tt=mt.target.closest(`[${yt}]`);Tt&&(Tt.removeAttribute(yt),this._appendRipple(Tt))},this._ngZone.runOutsideAngular(()=>{for(const mt of Re)this._document?.addEventListener(mt,this._onInteraction,He)})}ngOnDestroy(){for(const mt of Re)this._document?.removeEventListener(mt,this._onInteraction,He)}_appendRipple(mt){if(!this._document)return;const jt=this._document.createElement("span");jt.classList.add("mat-mdc-button-ripple");const Tt=new De(mt,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Tt.rippleConfig.centered=mt.hasAttribute("mat-icon-button"),new ne.IR(Tt,this._ngZone,jt,this._platform).setupTriggerEvents(mt),mt.append(jt)}_createMatRipple(mt){if(!this._document)return;mt.querySelector(".mat-mdc-button-ripple")?.remove(),mt.removeAttribute(yt);const jt=this._document.createElement("span");jt.classList.add("mat-mdc-button-ripple");const Tt=new ne.wG(new B.SBq(jt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Tt._isInitialized=!0,Tt.trigger=mt,mt.append(jt),Tt}}return Qe.\u0275fac=function(mt){return new(mt||Qe)},Qe.\u0275prov=B.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();class De{constructor(St,mt,jt){this._button=St,this._globalRippleOptions=mt,this._setRippleConfig(mt,jt)}_setRippleConfig(St,mt){this.rippleConfig=St||{},"NoopAnimations"===mt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const $e=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],K=(0,ne.pj)((0,ne.Id)((0,ne.Kr)(class{constructor(Qe){this._elementRef=Qe}})));let Ge=(()=>{class Qe extends K{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(mt){this._ripple=mt}constructor(mt,jt,Tt,cn){super(mt),this._platform=jt,this._ngZone=Tt,this._animationMode=cn,this._focusMonitor=(0,B.f3M)(m.tE),this._rippleLoader=(0,B.f3M)(ue),this._isFab=!1;const Xt=mt.nativeElement.classList;for(const bn of $e)this._hasHostAttributes(bn.selector)&&bn.mdcClasses.forEach(Zn=>{Xt.add(Zn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(mt="program",jt){mt?this._focusMonitor.focusVia(this._elementRef.nativeElement,mt,jt):this._elementRef.nativeElement.focus(jt)}_hasHostAttributes(...mt){return mt.some(jt=>this._elementRef.nativeElement.hasAttribute(jt))}}return Qe.\u0275fac=function(mt){B.$Z()},Qe.\u0275dir=B.lG2({type:Qe,features:[B.qOj,B.TTD]}),Qe})(),vn=(()=>{class Qe extends Ge{constructor(mt,jt,Tt,cn){super(mt,jt,Tt,cn)}}return Qe.\u0275fac=function(mt){return new(mt||Qe)(B.Y36(B.SBq),B.Y36(d.t4),B.Y36(B.R0b),B.Y36(B.QbO,8))},Qe.\u0275cmp=B.Xpm({type:Qe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(mt,jt){2&mt&&(B.uIk("disabled",jt.disabled||null),B.ekj("_mat-animation-noopable","NoopAnimations"===jt._animationMode)("mat-unthemed",!jt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[B.qOj],attrs:Z,ngContentSelectors:Ee,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(mt,jt){1&mt&&(B.F$t(_e),B._UZ(0,"span",0),B.Hsn(1),B.TgZ(2,"span",1),B.Hsn(3,1),B.qZA(),B.Hsn(4,2),B._UZ(5,"span",2)(6,"span",3)),2&mt&&B.ekj("mdc-button__ripple",!jt._isFab)("mdc-fab__ripple",jt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Qe})();const ut=new B.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:ht});function ht(){return{color:"accent"}}const At=ht();let qt=(()=>{class Qe extends Ge{get extended(){return this._extended}set extended(mt){this._extended=(0,ae.Ig)(mt)}constructor(mt,jt,Tt,cn,Xt){super(mt,jt,Tt,cn),this._options=Xt,this._isFab=!0,this._options=this._options||At,this.color=this.defaultColor=this._options.color||At.color}}return Qe.\u0275fac=function(mt){return new(mt||Qe)(B.Y36(B.SBq),B.Y36(d.t4),B.Y36(B.R0b),B.Y36(B.QbO,8),B.Y36(ut,8))},Qe.\u0275cmp=B.Xpm({type:Qe,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(mt,jt){2&mt&&(B.uIk("disabled",jt.disabled||null),B.ekj("_mat-animation-noopable","NoopAnimations"===jt._animationMode)("mat-unthemed",!jt.color)("mat-mdc-button-base",!0)("mdc-fab--extended",jt.extended)("mat-mdc-extended-fab",jt.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[B.qOj],attrs:me,ngContentSelectors:Ee,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(mt,jt){1&mt&&(B.F$t(_e),B._UZ(0,"span",0),B.Hsn(1),B.TgZ(2,"span",1),B.Hsn(3,1),B.qZA(),B.Hsn(4,2),B._UZ(5,"span",2)(6,"span",3)),2&mt&&B.ekj("mdc-button__ripple",!jt._isFab)("mdc-fab__ripple",jt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),Qe})(),Ke=(()=>{class Qe{}return Qe.\u0275fac=function(mt){return new(mt||Qe)},Qe.\u0275mod=B.oAB({type:Qe}),Qe.\u0275inj=B.cJS({imports:[ne.BQ,ne.si,ne.BQ]}),Qe})()},6012:(gn,nt,E)=>{E.d(nt,{$j:()=>Ne,G2:()=>He,QW:()=>$e,a8:()=>se,dk:()=>it,dn:()=>Xe,hq:()=>dt,n5:()=>de});var d=E(2223),B=E(4755),m=E(1217);const ne=["*"],Z=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],_e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Ee=new d.OlP("MAT_CARD_CONFIG");let se=(()=>{class K{constructor(Fe){this.appearance=Fe?.appearance||"raised"}}return K.\u0275fac=function(Fe){return new(Fe||K)(d.Y36(Ee,8))},K.\u0275cmp=d.Xpm({type:K,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(Fe,ze){2&Fe&&d.ekj("mat-mdc-card-outlined","outlined"===ze.appearance)("mdc-card--outlined","outlined"===ze.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ne,decls:1,vars:0,template:function(Fe,ze){1&Fe&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),K})(),de=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),K})(),Xe=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),K})(),Ne=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),K})(),dt=(()=>{class K{constructor(){this.align="start"}}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(Fe,ze){2&Fe&&d.ekj("mat-mdc-card-actions-align-end","end"===ze.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),K})(),it=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275cmp=d.Xpm({type:K,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:_e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(Fe,ze){1&Fe&&(d.F$t(Z),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),K})(),He=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),K})(),$e=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275mod=d.oAB({type:K}),K.\u0275inj=d.cJS({imports:[m.BQ,B.ez,m.BQ]}),K})()},1217:(gn,nt,E)=>{E.d(nt,{yN:()=>Le,mZ:()=>He,Y2:()=>Ve,BQ:()=>ue,Ng:()=>yi,us:()=>qe,wG:()=>ft,si:()=>st,IR:()=>Bt,pj:()=>K,Kr:()=>Ge,Id:()=>$e});var d=E(2223),B=E(706),m=E(8930),xe=E(4755),ae=E(2966),Z=E(1692);let Le=(()=>{class Zt{}return Zt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Zt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Zt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Zt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Zt})(),He=(()=>{class Zt{}return Zt.COMPLEX="375ms",Zt.ENTERING="225ms",Zt.EXITING="195ms",Zt})();const yt=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function Re(){return!0}});let ue=(()=>{class Zt{constructor(rt,Be,Oe){this._sanityChecks=Be,this._document=Oe,this._hasDoneGlobalChecks=!1,rt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(rt){return!(0,ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[rt])}}return Zt.\u0275fac=function(rt){return new(rt||Zt)(d.LFG(B.qm),d.LFG(yt,8),d.LFG(xe.K0))},Zt.\u0275mod=d.oAB({type:Zt}),Zt.\u0275inj=d.cJS({imports:[m.vT,m.vT]}),Zt})();function $e(Zt){return class extends Zt{get disabled(){return this._disabled}set disabled(Je){this._disabled=(0,Z.Ig)(Je)}constructor(...Je){super(...Je),this._disabled=!1}}}function K(Zt,Je){return class extends Zt{get color(){return this._color}set color(rt){const Be=rt||this.defaultColor;Be!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Be&&this._elementRef.nativeElement.classList.add(`mat-${Be}`),this._color=Be)}constructor(...rt){super(...rt),this.defaultColor=Je,this.color=Je}}}function Ge(Zt){return class extends Zt{get disableRipple(){return this._disableRipple}set disableRipple(Je){this._disableRipple=(0,Z.Ig)(Je)}constructor(...Je){super(...Je),this._disableRipple=!1}}}class jt{constructor(Je,rt,Be,Oe=!1){this._renderer=Je,this.element=rt,this.config=Be,this._animationForciblyDisabledThroughCss=Oe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tt=(0,ae.i$)({passive:!0,capture:!0});class cn{constructor(){this._events=new Map,this._delegateEventHandler=Je=>{const rt=(0,ae.sA)(Je);rt&&this._events.get(Je.type)?.forEach((Be,Oe)=>{(Oe===rt||Oe.contains(rt))&&Be.forEach(Se=>Se.handleEvent(Je))})}}addHandler(Je,rt,Be,Oe){const Se=this._events.get(rt);if(Se){const wt=Se.get(Be);wt?wt.add(Oe):Se.set(Be,new Set([Oe]))}else this._events.set(rt,new Map([[Be,new Set([Oe])]])),Je.runOutsideAngular(()=>{document.addEventListener(rt,this._delegateEventHandler,Tt)})}removeHandler(Je,rt,Be){const Oe=this._events.get(Je);if(!Oe)return;const Se=Oe.get(rt);Se&&(Se.delete(Be),0===Se.size&&Oe.delete(rt),0===Oe.size&&(this._events.delete(Je),document.removeEventListener(Je,this._delegateEventHandler,Tt)))}}const Xt={enterDuration:225,exitDuration:150},Zn=(0,ae.i$)({passive:!0,capture:!0}),pi=["mousedown","touchstart"],Gn=["mouseup","mouseleave","touchend","touchcancel"];class Bt{constructor(Je,rt,Be,Oe){this._target=Je,this._ngZone=rt,this._platform=Oe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Oe.isBrowser&&(this._containerElement=(0,Z.fI)(Be))}fadeInRipple(Je,rt,Be={}){const Oe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Se={...Xt,...Be.animation};Be.centered&&(Je=Oe.left+Oe.width/2,rt=Oe.top+Oe.height/2);const wt=Be.radius||function ce(Zt,Je,rt){const Be=Math.max(Math.abs(Zt-rt.left),Math.abs(Zt-rt.right)),Oe=Math.max(Math.abs(Je-rt.top),Math.abs(Je-rt.bottom));return Math.sqrt(Be*Be+Oe*Oe)}(Je,rt,Oe),Vt=Je-Oe.left,Me=rt-Oe.top,oe=Se.enterDuration,H=document.createElement("div");H.classList.add("mat-ripple-element"),H.style.left=Vt-wt+"px",H.style.top=Me-wt+"px",H.style.height=2*wt+"px",H.style.width=2*wt+"px",null!=Be.color&&(H.style.backgroundColor=Be.color),H.style.transitionDuration=`${oe}ms`,this._containerElement.appendChild(H);const V=window.getComputedStyle(H),le=V.transitionDuration,re="none"===V.transitionProperty||"0s"===le||"0s, 0s"===le||0===Oe.width&&0===Oe.height,ve=new jt(this,H,Be,re);H.style.transform="scale3d(1, 1, 1)",ve.state=0,Be.persistent||(this._mostRecentTransientRipple=ve);let xt=null;return!re&&(oe||Se.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const bt=()=>this._finishRippleTransition(ve),kt=()=>this._destroyRipple(ve);H.addEventListener("transitionend",bt),H.addEventListener("transitioncancel",kt),xt={onTransitionEnd:bt,onTransitionCancel:kt}}),this._activeRipples.set(ve,xt),(re||!oe)&&this._finishRippleTransition(ve),ve}fadeOutRipple(Je){if(2===Je.state||3===Je.state)return;const rt=Je.element,Be={...Xt,...Je.config.animation};rt.style.transitionDuration=`${Be.exitDuration}ms`,rt.style.opacity="0",Je.state=2,(Je._animationForciblyDisabledThroughCss||!Be.exitDuration)&&this._finishRippleTransition(Je)}fadeOutAll(){this._getActiveRipples().forEach(Je=>Je.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Je=>{Je.config.persistent||Je.fadeOut()})}setupTriggerEvents(Je){const rt=(0,Z.fI)(Je);!this._platform.isBrowser||!rt||rt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=rt,pi.forEach(Be=>{Bt._eventManager.addHandler(this._ngZone,Be,rt,this)}))}handleEvent(Je){"mousedown"===Je.type?this._onMousedown(Je):"touchstart"===Je.type?this._onTouchStart(Je):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Gn.forEach(rt=>{this._triggerElement.addEventListener(rt,this,Zn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Je){0===Je.state?this._startFadeOutTransition(Je):2===Je.state&&this._destroyRipple(Je)}_startFadeOutTransition(Je){const rt=Je===this._mostRecentTransientRipple,{persistent:Be}=Je.config;Je.state=1,!Be&&(!rt||!this._isPointerDown)&&Je.fadeOut()}_destroyRipple(Je){const rt=this._activeRipples.get(Je)??null;this._activeRipples.delete(Je),this._activeRipples.size||(this._containerRect=null),Je===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Je.state=3,null!==rt&&(Je.element.removeEventListener("transitionend",rt.onTransitionEnd),Je.element.removeEventListener("transitioncancel",rt.onTransitionCancel)),Je.element.remove()}_onMousedown(Je){const rt=(0,B.X6)(Je),Be=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!rt&&!Be&&(this._isPointerDown=!0,this.fadeInRipple(Je.clientX,Je.clientY,this._target.rippleConfig))}_onTouchStart(Je){if(!this._target.rippleDisabled&&!(0,B.yG)(Je)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const rt=Je.changedTouches;for(let Be=0;Be<rt.length;Be++)this.fadeInRipple(rt[Be].clientX,rt[Be].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Je=>{!Je.config.persistent&&(1===Je.state||Je.config.terminateOnPointerUp&&0===Je.state)&&Je.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Je=this._triggerElement;Je&&(pi.forEach(rt=>Bt._eventManager.removeHandler(rt,Je,this)),this._pointerUpEventsRegistered&&Gn.forEach(rt=>Je.removeEventListener(rt,this,Zn)))}}Bt._eventManager=new cn;const Ve=new d.OlP("mat-ripple-global-options");let ft=(()=>{class Zt{get disabled(){return this._disabled}set disabled(rt){rt&&this.fadeOutAllNonPersistent(),this._disabled=rt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(rt){this._trigger=rt,this._setupTriggerEventsIfEnabled()}constructor(rt,Be,Oe,Se,wt){this._elementRef=rt,this._animationMode=wt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Se||{},this._rippleRenderer=new Bt(this,Be,rt,Oe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(rt,Be=0,Oe){return"number"==typeof rt?this._rippleRenderer.fadeInRipple(rt,Be,{...this.rippleConfig,...Oe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...rt})}}return Zt.\u0275fac=function(rt){return new(rt||Zt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ae.t4),d.Y36(Ve,8),d.Y36(d.QbO,8))},Zt.\u0275dir=d.lG2({type:Zt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(rt,Be){2&rt&&d.ekj("mat-ripple-unbounded",Be.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Zt})(),st=(()=>{class Zt{}return Zt.\u0275fac=function(rt){return new(rt||Zt)},Zt.\u0275mod=d.oAB({type:Zt}),Zt.\u0275inj=d.cJS({imports:[ue,ue]}),Zt})(),qe=(()=>{class Zt{}return Zt.\u0275fac=function(rt){return new(rt||Zt)},Zt.\u0275mod=d.oAB({type:Zt}),Zt.\u0275inj=d.cJS({imports:[ue]}),Zt})(),yi=(()=>{class Zt{}return Zt.\u0275fac=function(rt){return new(rt||Zt)},Zt.\u0275mod=d.oAB({type:Zt}),Zt.\u0275inj=d.cJS({imports:[st,xe.ez,ue,qe]}),Zt})()},6286:(gn,nt,E)=>{E.d(nt,{Is:()=>St,WI:()=>vt,so:()=>Fe,uw:()=>Gt});var d=E(9002),B=E(4755),m=E(2223),ne=E(706),xe=E(3223),ae=E(1692),Z=E(8023),_e=E(7579),Ee=E(6451),se=E(9770),de=E(9300),me=E(5698),Xe=E(8675),Ne=E(2840),dt=E(1217);function Le(Tt,cn){}E(1591);class He{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Re="mdc-dialog--open",yt="mdc-dialog--opening",ue="mdc-dialog--closing";let Ae=(()=>{class Tt extends xe.LL{constructor(Xt,bn,Zn,pi,Gn,Bt,ce,Ve){super(Xt,bn,Zn,pi,Gn,Bt,ce,Ve),this._animationStateChanged=new m.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Xt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Xt})}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(m.Y36(m.SBq),m.Y36(ne.qV),m.Y36(B.K0,8),m.Y36(He),m.Y36(ne.ic),m.Y36(m.R0b),m.Y36(d.Iu),m.Y36(ne.tE))},Tt.\u0275cmp=m.Xpm({type:Tt,selectors:[["ng-component"]],features:[m.qOj],decls:0,vars:0,template:function(Xt,bn){},encapsulation:2}),Tt})();const $e="--mat-dialog-transition-duration";function K(Tt){return null==Tt?null:"number"==typeof Tt?Tt:Tt.endsWith("ms")?(0,ae.su)(Tt.substring(0,Tt.length-2)):Tt.endsWith("s")?1e3*(0,ae.su)(Tt.substring(0,Tt.length-1)):"0"===Tt?0:null}let Ge=(()=>{class Tt extends Ae{constructor(Xt,bn,Zn,pi,Gn,Bt,ce,Ve,ft){super(Xt,bn,Zn,pi,Gn,Bt,ce,ft),this._animationMode=Ve,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?K(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?K(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($e,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(yt,Re)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Re),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Re),this._animationsEnabled?(this._hostElement.style.setProperty($e,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ue)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(yt,ue)}_waitForAnimationToComplete(Xt,bn){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(bn,Xt)}_requestAnimationFrame(Xt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Xt):Xt()})}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(m.Y36(m.SBq),m.Y36(ne.qV),m.Y36(B.K0,8),m.Y36(He),m.Y36(ne.ic),m.Y36(m.R0b),m.Y36(d.Iu),m.Y36(m.QbO,8),m.Y36(ne.tE))},Tt.\u0275cmp=m.Xpm({type:Tt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(Xt,bn){2&Xt&&(m.Ikx("id",bn._config.id),m.uIk("aria-modal",bn._config.ariaModal)("role",bn._config.role)("aria-labelledby",bn._config.ariaLabel?null:bn._ariaLabelledBy)("aria-label",bn._config.ariaLabel)("aria-describedby",bn._config.ariaDescribedBy||null),m.ekj("_mat-animation-noopable",!bn._animationsEnabled))},features:[m.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Xt,bn){1&Xt&&(m.TgZ(0,"div",0)(1,"div",1),m.YNc(2,Le,0,0,"ng-template",2),m.qZA()())},dependencies:[Z.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),Tt})();class Fe{constructor(cn,Xt,bn){this._ref=cn,this._containerInstance=bn,this._afterOpened=new _e.x,this._beforeClosed=new _e.x,this._state=0,this.disableClose=Xt.disableClose,this.id=cn.id,bn._animationStateChanged.pipe((0,de.h)(Zn=>"opened"===Zn.state),(0,me.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),bn._animationStateChanged.pipe((0,de.h)(Zn=>"closed"===Zn.state),(0,me.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),cn.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ee.T)(this.backdropClick(),this.keydownEvents().pipe((0,de.h)(Zn=>Zn.keyCode===Ne.hY&&!this.disableClose&&!(0,Ne.Vb)(Zn)))).subscribe(Zn=>{this.disableClose||(Zn.preventDefault(),function ze(Tt,cn,Xt){Tt._closeInteractionType=cn,Tt.close(Xt)}(this,"keydown"===Zn.type?"keyboard":"mouse"))})}close(cn){this._result=cn,this._containerInstance._animationStateChanged.pipe((0,de.h)(Xt=>"closing"===Xt.state),(0,me.q)(1)).subscribe(Xt=>{this._beforeClosed.next(cn),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Xt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(cn){let Xt=this._ref.config.positionStrategy;return cn&&(cn.left||cn.right)?cn.left?Xt.left(cn.left):Xt.right(cn.right):Xt.centerHorizontally(),cn&&(cn.top||cn.bottom)?cn.top?Xt.top(cn.top):Xt.bottom(cn.bottom):Xt.centerVertically(),this._ref.updatePosition(),this}updateSize(cn="",Xt=""){return this._ref.updateSize(cn,Xt),this}addPanelClass(cn){return this._ref.addPanelClass(cn),this}removePanelClass(cn){return this._ref.removePanelClass(cn),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const vt=new m.OlP("MatMdcDialogData"),vn=new m.OlP("mat-mdc-dialog-default-options"),kn=new m.OlP("mat-mdc-dialog-scroll-strategy"),ht={provide:kn,deps:[d.aV],useFactory:function ut(Tt){return()=>Tt.scrollStrategies.block()}};let Rt=0,qt=(()=>{class Tt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Xt=this._parentDialog;return Xt?Xt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Xt,bn,Zn,pi,Gn,Bt,ce,Ve,ft,st){this._overlay=Xt,this._defaultOptions=Zn,this._parentDialog=pi,this._dialogRefConstructor=ce,this._dialogContainerType=Ve,this._dialogDataToken=ft,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=He,this.afterAllClosed=(0,se.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Xe.O)(void 0))),this._scrollStrategy=Bt,this._dialog=bn.get(xe.Vq)}open(Xt,bn){let Zn;(bn={...this._defaultOptions||new He,...bn}).id=bn.id||`${this._idPrefix}${Rt++}`,bn.scrollStrategy=bn.scrollStrategy||this._scrollStrategy();const pi=this._dialog.open(Xt,{...bn,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:bn},{provide:xe.ib,useValue:bn}]},templateContext:()=>({dialogRef:Zn}),providers:(Gn,Bt,ce)=>(Zn=new this._dialogRefConstructor(Gn,bn,ce),Zn.updatePosition(bn?.position),[{provide:this._dialogContainerType,useValue:ce},{provide:this._dialogDataToken,useValue:Bt.data},{provide:this._dialogRefConstructor,useValue:Zn}])});return Zn.componentInstance=pi.componentInstance,this.openDialogs.push(Zn),this.afterOpened.next(Zn),Zn.afterClosed().subscribe(()=>{const Gn=this.openDialogs.indexOf(Zn);Gn>-1&&(this.openDialogs.splice(Gn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Zn}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Xt){return this.openDialogs.find(bn=>bn.id===Xt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Xt){let bn=Xt.length;for(;bn--;)Xt[bn].close()}}return Tt.\u0275fac=function(Xt){m.$Z()},Tt.\u0275prov=m.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})(),Gt=(()=>{class Tt extends qt{constructor(Xt,bn,Zn,pi,Gn,Bt,ce,Ve){super(Xt,bn,pi,Bt,ce,Gn,Fe,Ge,vt,Ve),this._idPrefix="mat-mdc-dialog-"}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(m.LFG(d.aV),m.LFG(m.zs3),m.LFG(B.Ye,8),m.LFG(vn,8),m.LFG(kn),m.LFG(Tt,12),m.LFG(d.Xj),m.LFG(m.QbO,8))},Tt.\u0275prov=m.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})(),St=(()=>{class Tt{}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)},Tt.\u0275mod=m.oAB({type:Tt}),Tt.\u0275inj=m.cJS({providers:[Gt,ht],imports:[xe.Su,d.U8,Z.eL,dt.BQ,dt.BQ]}),Tt})()},430:(gn,nt,E)=>{E.d(nt,{Hw:()=>ln,Ps:()=>_n});var d=E(2223),B=E(1217),m=E(1692),ne=E(4755),xe=E(9646),ae=E(2843),Z=E(4128),_e=E(727),Ee=E(8505),se=E(4004),de=E(262),me=E(8746),Xe=E(3099),Ne=E(5698),dt=E(3144),it=E(6550);const Le=["*"];let He;function yt(rn){return function Re(){if(void 0===He&&(He=null,typeof window<"u")){const rn=window;void 0!==rn.trustedTypes&&(He=rn.trustedTypes.createPolicy("angular#components",{createHTML:Mt=>Mt}))}return He}()?.createHTML(rn)||rn}function ue(rn){return Error(`Unable to find icon with the name "${rn}"`)}function be(rn){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${rn}".`)}function Ae(rn){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${rn}".`)}class $e{constructor(Mt,Ke,Qe){this.url=Mt,this.svgText=Ke,this.options=Qe}}let K=(()=>{class rn{constructor(Ke,Qe,St,mt){this._httpClient=Ke,this._sanitizer=Qe,this._errorHandler=mt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=St}addSvgIcon(Ke,Qe,St){return this.addSvgIconInNamespace("",Ke,Qe,St)}addSvgIconLiteral(Ke,Qe,St){return this.addSvgIconLiteralInNamespace("",Ke,Qe,St)}addSvgIconInNamespace(Ke,Qe,St,mt){return this._addSvgIconConfig(Ke,Qe,new $e(St,null,mt))}addSvgIconResolver(Ke){return this._resolvers.push(Ke),this}addSvgIconLiteralInNamespace(Ke,Qe,St,mt){const jt=this._sanitizer.sanitize(d.q3G.HTML,St);if(!jt)throw Ae(St);const Tt=yt(jt);return this._addSvgIconConfig(Ke,Qe,new $e("",Tt,mt))}addSvgIconSet(Ke,Qe){return this.addSvgIconSetInNamespace("",Ke,Qe)}addSvgIconSetLiteral(Ke,Qe){return this.addSvgIconSetLiteralInNamespace("",Ke,Qe)}addSvgIconSetInNamespace(Ke,Qe,St){return this._addSvgIconSetConfig(Ke,new $e(Qe,null,St))}addSvgIconSetLiteralInNamespace(Ke,Qe,St){const mt=this._sanitizer.sanitize(d.q3G.HTML,Qe);if(!mt)throw Ae(Qe);const jt=yt(mt);return this._addSvgIconSetConfig(Ke,new $e("",jt,St))}registerFontClassAlias(Ke,Qe=Ke){return this._fontCssClassesByAlias.set(Ke,Qe),this}classNameForFontAlias(Ke){return this._fontCssClassesByAlias.get(Ke)||Ke}setDefaultFontSetClass(...Ke){return this._defaultFontSetClass=Ke,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ke){const Qe=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Ke);if(!Qe)throw be(Ke);const St=this._cachedIconsByUrl.get(Qe);return St?(0,xe.of)(ze(St)):this._loadSvgIconFromConfig(new $e(Ke,null)).pipe((0,Ee.b)(mt=>this._cachedIconsByUrl.set(Qe,mt)),(0,se.U)(mt=>ze(mt)))}getNamedSvgIcon(Ke,Qe=""){const St=vt(Qe,Ke);let mt=this._svgIconConfigs.get(St);if(mt)return this._getSvgFromConfig(mt);if(mt=this._getIconConfigFromResolvers(Qe,Ke),mt)return this._svgIconConfigs.set(St,mt),this._getSvgFromConfig(mt);const jt=this._iconSetConfigs.get(Qe);return jt?this._getSvgFromIconSetConfigs(Ke,jt):(0,ae._)(ue(St))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ke){return Ke.svgText?(0,xe.of)(ze(this._svgElementFromConfig(Ke))):this._loadSvgIconFromConfig(Ke).pipe((0,se.U)(Qe=>ze(Qe)))}_getSvgFromIconSetConfigs(Ke,Qe){const St=this._extractIconWithNameFromAnySet(Ke,Qe);if(St)return(0,xe.of)(St);const mt=Qe.filter(jt=>!jt.svgText).map(jt=>this._loadSvgIconSetFromConfig(jt).pipe((0,de.K)(Tt=>{const Xt=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,jt.url)} failed: ${Tt.message}`;return this._errorHandler.handleError(new Error(Xt)),(0,xe.of)(null)})));return(0,Z.D)(mt).pipe((0,se.U)(()=>{const jt=this._extractIconWithNameFromAnySet(Ke,Qe);if(!jt)throw ue(Ke);return jt}))}_extractIconWithNameFromAnySet(Ke,Qe){for(let St=Qe.length-1;St>=0;St--){const mt=Qe[St];if(mt.svgText&&mt.svgText.toString().indexOf(Ke)>-1){const jt=this._svgElementFromConfig(mt),Tt=this._extractSvgIconFromSet(jt,Ke,mt.options);if(Tt)return Tt}}return null}_loadSvgIconFromConfig(Ke){return this._fetchIcon(Ke).pipe((0,Ee.b)(Qe=>Ke.svgText=Qe),(0,se.U)(()=>this._svgElementFromConfig(Ke)))}_loadSvgIconSetFromConfig(Ke){return Ke.svgText?(0,xe.of)(null):this._fetchIcon(Ke).pipe((0,Ee.b)(Qe=>Ke.svgText=Qe))}_extractSvgIconFromSet(Ke,Qe,St){const mt=Ke.querySelector(`[id="${Qe}"]`);if(!mt)return null;const jt=mt.cloneNode(!0);if(jt.removeAttribute("id"),"svg"===jt.nodeName.toLowerCase())return this._setSvgAttributes(jt,St);if("symbol"===jt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(jt),St);const Tt=this._svgElementFromString(yt("<svg></svg>"));return Tt.appendChild(jt),this._setSvgAttributes(Tt,St)}_svgElementFromString(Ke){const Qe=this._document.createElement("DIV");Qe.innerHTML=Ke;const St=Qe.querySelector("svg");if(!St)throw Error("<svg> tag not found");return St}_toSvgElement(Ke){const Qe=this._svgElementFromString(yt("<svg></svg>")),St=Ke.attributes;for(let mt=0;mt<St.length;mt++){const{name:jt,value:Tt}=St[mt];"id"!==jt&&Qe.setAttribute(jt,Tt)}for(let mt=0;mt<Ke.childNodes.length;mt++)Ke.childNodes[mt].nodeType===this._document.ELEMENT_NODE&&Qe.appendChild(Ke.childNodes[mt].cloneNode(!0));return Qe}_setSvgAttributes(Ke,Qe){return Ke.setAttribute("fit",""),Ke.setAttribute("height","100%"),Ke.setAttribute("width","100%"),Ke.setAttribute("preserveAspectRatio","xMidYMid meet"),Ke.setAttribute("focusable","false"),Qe&&Qe.viewBox&&Ke.setAttribute("viewBox",Qe.viewBox),Ke}_fetchIcon(Ke){const{url:Qe,options:St}=Ke,mt=St?.withCredentials??!1;if(!this._httpClient)throw function De(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Qe)throw Error(`Cannot fetch icon from URL "${Qe}".`);const jt=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Qe);if(!jt)throw be(Qe);const Tt=this._inProgressUrlFetches.get(jt);if(Tt)return Tt;const cn=this._httpClient.get(jt,{responseType:"text",withCredentials:mt}).pipe((0,se.U)(Xt=>yt(Xt)),(0,me.x)(()=>this._inProgressUrlFetches.delete(jt)),(0,Xe.B)());return this._inProgressUrlFetches.set(jt,cn),cn}_addSvgIconConfig(Ke,Qe,St){return this._svgIconConfigs.set(vt(Ke,Qe),St),this}_addSvgIconSetConfig(Ke,Qe){const St=this._iconSetConfigs.get(Ke);return St?St.push(Qe):this._iconSetConfigs.set(Ke,[Qe]),this}_svgElementFromConfig(Ke){if(!Ke.svgElement){const Qe=this._svgElementFromString(Ke.svgText);this._setSvgAttributes(Qe,Ke.options),Ke.svgElement=Qe}return Ke.svgElement}_getIconConfigFromResolvers(Ke,Qe){for(let St=0;St<this._resolvers.length;St++){const mt=this._resolvers[St](Qe,Ke);if(mt)return vn(mt)?new $e(mt.url,null,mt.options):new $e(mt,null)}}}return rn.\u0275fac=function(Ke){return new(Ke||rn)(d.LFG(dt.eN,8),d.LFG(it.H7),d.LFG(ne.K0,8),d.LFG(d.qLn))},rn.\u0275prov=d.Yz7({token:rn,factory:rn.\u0275fac,providedIn:"root"}),rn})();function ze(rn){return rn.cloneNode(!0)}function vt(rn,Mt){return rn+":"+Mt}function vn(rn){return!(!rn.url||!rn.options)}const kn=(0,B.pj)(class{constructor(rn){this._elementRef=rn}}),ut=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),ht=new d.OlP("mat-icon-location",{providedIn:"root",factory:function At(){const rn=(0,d.f3M)(ne.K0),Mt=rn?rn.location:null;return{getPathname:()=>Mt?Mt.pathname+Mt.search:""}}}),Rt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qt=Rt.map(rn=>`[${rn}]`).join(", "),Gt=/^url\(['"]?#(.*?)['"]?\)$/;let ln=(()=>{class rn extends kn{get inline(){return this._inline}set inline(Ke){this._inline=(0,m.Ig)(Ke)}get svgIcon(){return this._svgIcon}set svgIcon(Ke){Ke!==this._svgIcon&&(Ke?this._updateSvgIcon(Ke):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ke)}get fontSet(){return this._fontSet}set fontSet(Ke){const Qe=this._cleanupFontValue(Ke);Qe!==this._fontSet&&(this._fontSet=Qe,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ke){const Qe=this._cleanupFontValue(Ke);Qe!==this._fontIcon&&(this._fontIcon=Qe,this._updateFontIconClasses())}constructor(Ke,Qe,St,mt,jt,Tt){super(Ke),this._iconRegistry=Qe,this._location=mt,this._errorHandler=jt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=_e.w0.EMPTY,Tt&&(Tt.color&&(this.color=this.defaultColor=Tt.color),Tt.fontSet&&(this.fontSet=Tt.fontSet)),St||Ke.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Ke){if(!Ke)return["",""];const Qe=Ke.split(":");switch(Qe.length){case 1:return["",Qe[0]];case 2:return Qe;default:throw Error(`Invalid icon name: "${Ke}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ke=this._elementsWithExternalReferences;if(Ke&&Ke.size){const Qe=this._location.getPathname();Qe!==this._previousPath&&(this._previousPath=Qe,this._prependPathToReferences(Qe))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ke){this._clearSvgElement();const Qe=this._location.getPathname();this._previousPath=Qe,this._cacheChildrenWithExternalReferences(Ke),this._prependPathToReferences(Qe),this._elementRef.nativeElement.appendChild(Ke)}_clearSvgElement(){const Ke=this._elementRef.nativeElement;let Qe=Ke.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Qe--;){const St=Ke.childNodes[Qe];(1!==St.nodeType||"svg"===St.nodeName.toLowerCase())&&St.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ke=this._elementRef.nativeElement,Qe=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(St=>St.length>0);this._previousFontSetClass.forEach(St=>Ke.classList.remove(St)),Qe.forEach(St=>Ke.classList.add(St)),this._previousFontSetClass=Qe,this.fontIcon!==this._previousFontIconClass&&!Qe.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ke.classList.remove(this._previousFontIconClass),this.fontIcon&&Ke.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ke){return"string"==typeof Ke?Ke.trim().split(" ")[0]:Ke}_prependPathToReferences(Ke){const Qe=this._elementsWithExternalReferences;Qe&&Qe.forEach((St,mt)=>{St.forEach(jt=>{mt.setAttribute(jt.name,`url('${Ke}#${jt.value}')`)})})}_cacheChildrenWithExternalReferences(Ke){const Qe=Ke.querySelectorAll(qt),St=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let mt=0;mt<Qe.length;mt++)Rt.forEach(jt=>{const Tt=Qe[mt],cn=Tt.getAttribute(jt),Xt=cn?cn.match(Gt):null;if(Xt){let bn=St.get(Tt);bn||(bn=[],St.set(Tt,bn)),bn.push({name:jt,value:Xt[1]})}})}_updateSvgIcon(Ke){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ke){const[Qe,St]=this._splitIconName(Ke);Qe&&(this._svgNamespace=Qe),St&&(this._svgName=St),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(St,Qe).pipe((0,Ne.q)(1)).subscribe(mt=>this._setSvgElement(mt),mt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Qe}:${St}! ${mt.message}`))})}}}return rn.\u0275fac=function(Ke){return new(Ke||rn)(d.Y36(d.SBq),d.Y36(K),d.$8M("aria-hidden"),d.Y36(ht),d.Y36(d.qLn),d.Y36(ut,8))},rn.\u0275cmp=d.Xpm({type:rn,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ke,Qe){2&Ke&&(d.uIk("data-mat-icon-type",Qe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Qe._svgName||Qe.fontIcon)("data-mat-icon-namespace",Qe._svgNamespace||Qe.fontSet)("fontIcon",Qe._usingFontIcon()?Qe.fontIcon:null),d.ekj("mat-icon-inline",Qe.inline)("mat-icon-no-color","primary"!==Qe.color&&"accent"!==Qe.color&&"warn"!==Qe.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:Le,decls:1,vars:0,template:function(Ke,Qe){1&Ke&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),rn})(),_n=(()=>{class rn{}return rn.\u0275fac=function(Ke){return new(Ke||rn)},rn.\u0275mod=d.oAB({type:rn}),rn.\u0275inj=d.cJS({imports:[B.BQ,B.BQ]}),rn})()},2659:(gn,nt,E)=>{E.d(nt,{VK:()=>Ve,KA:()=>cn,OP:()=>Ke,Tx:()=>Kt,p6:()=>on});var d=E(2223),B=E(706),m=E(1692),ne=E(2840),xe=E(7579),ae=E(6451),Z=E(727),_e=E(9646),Ee=E(3101),se=E(8675),de=E(3900),me=E(5698),Xe=E(2722),Ne=E(9300),dt=E(4986),it=E(7272),Le=E(4482),He=E(5403),Re=E(5032),ue=E(9718),De=E(5577),be=E(8421);function Ae(Wt,On){return On?Ie=>(0,it.z)(On.pipe((0,me.q)(1),function yt(){return(0,Le.e)((Wt,On)=>{Wt.subscribe((0,He.x)(On,Re.Z))})}()),Ie.pipe(Ae(Wt))):(0,De.z)((Ie,_t)=>(0,be.Xf)(Wt(Ie,_t)).pipe((0,me.q)(1),(0,ue.h)(Ie)))}var $e=E(5963);function K(Wt,On=dt.z){const Ie=(0,$e.H)(Wt,On);return Ae(()=>Ie)}var Ge=E(1217),Fe=E(4755),ze=E(8023),vt=E(1591),vn=E(8930),kn=E(9002),ut=E(2966),ht=E(2236);const At=["mat-menu-item",""];function Rt(Wt,On){1&Wt&&(d.O4$(),d.TgZ(0,"svg",3),d._UZ(1,"polygon",4),d.qZA())}const qt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Gt=["mat-icon, [matMenuItemIcon]","*"];function ln(Wt,On){if(1&Wt){const Ie=d.EpF();d.TgZ(0,"div",0),d.NdJ("keydown",function(Ht){d.CHM(Ie);const Sn=d.oxw();return d.KtG(Sn._handleKeydown(Ht))})("click",function(){d.CHM(Ie);const Ht=d.oxw();return d.KtG(Ht.closed.emit("click"))})("@transformMenu.start",function(Ht){d.CHM(Ie);const Sn=d.oxw();return d.KtG(Sn._onAnimationStart(Ht))})("@transformMenu.done",function(Ht){d.CHM(Ie);const Sn=d.oxw();return d.KtG(Sn._onAnimationDone(Ht))}),d.TgZ(1,"div",1),d.Hsn(2),d.qZA()()}if(2&Wt){const Ie=d.oxw();d.Q6J("id",Ie.panelId)("ngClass",Ie._classList)("@transformMenu",Ie._panelAnimationState),d.uIk("aria-label",Ie.ariaLabel||null)("aria-labelledby",Ie.ariaLabelledby||null)("aria-describedby",Ie.ariaDescribedby||null)}}const _n=["*"],rn=new d.OlP("MAT_MENU_PANEL"),Mt=(0,Ge.Kr)((0,Ge.Id)(class{}));let Ke=(()=>{class Wt extends Mt{constructor(Ie,_t,Ht,Sn,_i){super(),this._elementRef=Ie,this._document=_t,this._focusMonitor=Ht,this._parentMenu=Sn,this._changeDetectorRef=_i,this.role="menuitem",this._hovered=new xe.x,this._focused=new xe.x,this._highlighted=!1,this._triggersSubmenu=!1,Sn?.addItem?.(this)}focus(Ie,_t){this._focusMonitor&&Ie?this._focusMonitor.focusVia(this._getHostElement(),Ie,_t):this._getHostElement().focus(_t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Ie){this.disabled&&(Ie.preventDefault(),Ie.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Ie=this._elementRef.nativeElement.cloneNode(!0),_t=Ie.querySelectorAll("mat-icon, .material-icons");for(let Ht=0;Ht<_t.length;Ht++)_t[Ht].remove();return Ie.textContent?.trim()||""}_setHighlighted(Ie){this._highlighted=Ie,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Ie){this._triggersSubmenu=Ie,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return Wt.\u0275fac=function(Ie){return new(Ie||Wt)(d.Y36(d.SBq),d.Y36(Fe.K0),d.Y36(B.tE),d.Y36(rn,8),d.Y36(d.sBO))},Wt.\u0275cmp=d.Xpm({type:Wt,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(Ie,_t){1&Ie&&d.NdJ("click",function(Sn){return _t._checkDisabled(Sn)})("mouseenter",function(){return _t._handleMouseEnter()}),2&Ie&&(d.uIk("role",_t.role)("tabindex",_t._getTabIndex())("aria-disabled",_t.disabled)("disabled",_t.disabled||null),d.ekj("mat-mdc-menu-item-highlighted",_t._highlighted)("mat-mdc-menu-item-submenu-trigger",_t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[d.qOj],attrs:At,ngContentSelectors:Gt,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(Ie,_t){1&Ie&&(d.F$t(qt),d.Hsn(0),d.TgZ(1,"span",0),d.Hsn(2,1),d.qZA(),d._UZ(3,"div",1),d.YNc(4,Rt,2,0,"svg",2)),2&Ie&&(d.xp6(3),d.Q6J("matRippleDisabled",_t.disableRipple||_t.disabled)("matRippleTrigger",_t._getHostElement()),d.xp6(1),d.Q6J("ngIf",_t._triggersSubmenu))},dependencies:[Fe.O5,Ge.wG],encapsulation:2,changeDetection:0}),Wt})();const jt=new d.OlP("MatMenuContent");let Tt=(()=>{class Wt{constructor(Ie,_t,Ht,Sn,_i,Ri,yi){this._template=Ie,this._componentFactoryResolver=_t,this._appRef=Ht,this._injector=Sn,this._viewContainerRef=_i,this._document=Ri,this._changeDetectorRef=yi,this._attached=new xe.x}attach(Ie={}){this._portal||(this._portal=new ze.UE(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new ze.u0(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const _t=this._template.elementRef.nativeElement;_t.parentNode.insertBefore(this._outlet.outletElement,_t),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,Ie),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return Wt.\u0275fac=function(Ie){return new(Ie||Wt)(d.Y36(d.Rgc),d.Y36(d._Vd),d.Y36(d.z2F),d.Y36(d.zs3),d.Y36(d.s_b),d.Y36(Fe.K0),d.Y36(d.sBO))},Wt.\u0275dir=d.lG2({type:Wt}),Wt})(),cn=(()=>{class Wt extends Tt{}return Wt.\u0275fac=function(){let On;return function(_t){return(On||(On=d.n5z(Wt)))(_t||Wt)}}(),Wt.\u0275dir=d.lG2({type:Wt,selectors:[["ng-template","matMenuContent",""]],features:[d._Bn([{provide:jt,useExisting:Wt}]),d.qOj]}),Wt})();const Xt={transformMenu:(0,vt.X$)("transformMenu",[(0,vt.SB)("void",(0,vt.oB)({opacity:0,transform:"scale(0.8)"})),(0,vt.eR)("void => enter",(0,vt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,vt.oB)({opacity:1,transform:"scale(1)"}))),(0,vt.eR)("* => void",(0,vt.jt)("100ms 25ms linear",(0,vt.oB)({opacity:0})))]),fadeInItems:(0,vt.X$)("fadeInItems",[(0,vt.SB)("showing",(0,vt.oB)({opacity:1})),(0,vt.eR)("void => *",[(0,vt.oB)({opacity:0}),(0,vt.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pi=0;const Gn=new d.OlP("mat-menu-default-options",{providedIn:"root",factory:function Bt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ce=(()=>{class Wt{get xPosition(){return this._xPosition}set xPosition(Ie){this._xPosition=Ie,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Ie){this._yPosition=Ie,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(Ie){this._overlapTrigger=(0,m.Ig)(Ie)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ie){this._hasBackdrop=(0,m.Ig)(Ie)}set panelClass(Ie){const _t=this._previousPanelClass;_t&&_t.length&&_t.split(" ").forEach(Ht=>{this._classList[Ht]=!1}),this._previousPanelClass=Ie,Ie&&Ie.length&&(Ie.split(" ").forEach(Ht=>{this._classList[Ht]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(Ie){this.panelClass=Ie}constructor(Ie,_t,Ht,Sn){this._elementRef=Ie,this._ngZone=_t,this._changeDetectorRef=Sn,this._directDescendantItems=new d.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new xe.x,this.closed=new d.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+pi++,this.overlayPanelClass=Ht.overlayPanelClass||"",this._xPosition=Ht.xPosition,this._yPosition=Ht.yPosition,this.backdropClass=Ht.backdropClass,this._overlapTrigger=Ht.overlapTrigger,this._hasBackdrop=Ht.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new B.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,se.O)(this._directDescendantItems),(0,de.w)(Ie=>(0,ae.T)(...Ie.map(_t=>_t._focused)))).subscribe(Ie=>this._keyManager.updateActiveItem(Ie)),this._directDescendantItems.changes.subscribe(Ie=>{const _t=this._keyManager;if("enter"===this._panelAnimationState&&_t.activeItem?._hasFocus()){const Ht=Ie.toArray(),Sn=Math.max(0,Math.min(Ht.length-1,_t.activeItemIndex||0));Ht[Sn]&&!Ht[Sn].disabled?_t.setActiveItem(Sn):_t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,se.O)(this._directDescendantItems),(0,de.w)(_t=>(0,ae.T)(..._t.map(Ht=>Ht._hovered))))}addItem(Ie){}removeItem(Ie){}_handleKeydown(Ie){const _t=Ie.keyCode,Ht=this._keyManager;switch(_t){case ne.hY:(0,ne.Vb)(Ie)||(Ie.preventDefault(),this.closed.emit("keydown"));break;case ne.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case ne.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(_t===ne.LH||_t===ne.JH)&&Ht.setFocusOrigin("keyboard"),void Ht.onKeydown(Ie)}Ie.stopPropagation()}focusFirstItem(Ie="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,me.q)(1)).subscribe(()=>{let _t=null;if(this._directDescendantItems.length&&(_t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!_t||!_t.contains(document.activeElement)){const Ht=this._keyManager;Ht.setFocusOrigin(Ie).setFirstItemActive(),!Ht.activeItem&&_t&&_t.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Ie){const _t=Math.min(this._baseElevation+Ie,24),Ht=`${this._elevationPrefix}${_t}`,Sn=Object.keys(this._classList).find(_i=>_i.startsWith(this._elevationPrefix));(!Sn||Sn===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Ht]=!0,this._previousElevation=Ht)}setPositionClasses(Ie=this.xPosition,_t=this.yPosition){const Ht=this._classList;Ht["mat-menu-before"]="before"===Ie,Ht["mat-menu-after"]="after"===Ie,Ht["mat-menu-above"]="above"===_t,Ht["mat-menu-below"]="below"===_t,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Ie){this._animationDone.next(Ie),this._isAnimating=!1}_onAnimationStart(Ie){this._isAnimating=!0,"enter"===Ie.toState&&0===this._keyManager.activeItemIndex&&(Ie.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,se.O)(this._allItems)).subscribe(Ie=>{this._directDescendantItems.reset(Ie.filter(_t=>_t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return Wt.\u0275fac=function(Ie){return new(Ie||Wt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Gn),d.Y36(d.sBO))},Wt.\u0275dir=d.lG2({type:Wt,contentQueries:function(Ie,_t,Ht){if(1&Ie&&(d.Suo(Ht,jt,5),d.Suo(Ht,Ke,5),d.Suo(Ht,Ke,4)),2&Ie){let Sn;d.iGM(Sn=d.CRH())&&(_t.lazyContent=Sn.first),d.iGM(Sn=d.CRH())&&(_t._allItems=Sn),d.iGM(Sn=d.CRH())&&(_t.items=Sn)}},viewQuery:function(Ie,_t){if(1&Ie&&d.Gf(d.Rgc,5),2&Ie){let Ht;d.iGM(Ht=d.CRH())&&(_t.templateRef=Ht.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),Wt})(),Ve=(()=>{class Wt extends ce{constructor(Ie,_t,Ht,Sn){super(Ie,_t,Ht,Sn),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return Wt.\u0275fac=function(Ie){return new(Ie||Wt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Gn),d.Y36(d.sBO))},Wt.\u0275cmp=d.Xpm({type:Wt,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(Ie,_t){2&Ie&&d.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[d._Bn([{provide:rn,useExisting:Wt}]),d.qOj],ngContentSelectors:_n,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(Ie,_t){1&Ie&&(d.F$t(),d.YNc(0,ln,3,6,"ng-template"))},dependencies:[Fe.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:var(--mdc-shape-medium, 4px)}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Xt.transformMenu,Xt.fadeInItems]},changeDetection:0}),Wt})();const ft=new d.OlP("mat-menu-scroll-strategy"),Ze={provide:ft,deps:[kn.aV],useFactory:function st(Wt){return()=>Wt.scrollStrategies.reposition()}},qe=(0,ut.i$)({passive:!0});let Ut=(()=>{class Wt{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Ie){this.menu=Ie}get menu(){return this._menu}set menu(Ie){Ie!==this._menu&&(this._menu=Ie,this._menuCloseSubscription.unsubscribe(),Ie&&(this._menuCloseSubscription=Ie.close.subscribe(_t=>{this._destroyMenu(_t),("click"===_t||"tab"===_t)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(_t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Ie,_t,Ht,Sn,_i,Ri,yi,Zt,Je){this._overlay=Ie,this._element=_t,this._viewContainerRef=Ht,this._menuItemInstance=Ri,this._dir=yi,this._focusMonitor=Zt,this._ngZone=Je,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Z.w0.EMPTY,this._hoverSubscription=Z.w0.EMPTY,this._menuCloseSubscription=Z.w0.EMPTY,this._changeDetectorRef=(0,d.f3M)(d.sBO),this._handleTouchStart=rt=>{(0,B.yG)(rt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new d.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new d.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Sn,this._parentMaterialMenu=_i instanceof ce?_i:void 0,_t.nativeElement.addEventListener("touchstart",this._handleTouchStart,qe)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,qe),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Ie=this.menu;if(this._menuOpen||!Ie)return;const _t=this._createOverlay(Ie),Ht=_t.getConfig(),Sn=Ht.positionStrategy;this._setPosition(Ie,Sn),Ht.hasBackdrop=null==Ie.hasBackdrop?!this.triggersSubmenu():Ie.hasBackdrop,_t.attach(this._getPortal(Ie)),Ie.lazyContent&&Ie.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Ie),Ie instanceof ce&&(Ie._startAnimation(),Ie._directDescendantItems.changes.pipe((0,Xe.R)(Ie.close)).subscribe(()=>{Sn.withLockedPosition(!1).reapplyLastPosition(),Sn.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Ie,_t){this._focusMonitor&&Ie?this._focusMonitor.focusVia(this._element,Ie,_t):this._element.nativeElement.focus(_t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Ie){if(!this._overlayRef||!this.menuOpen)return;const _t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Ie||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,_t instanceof ce?(_t._resetAnimation(),_t.lazyContent?_t._animationDone.pipe((0,Ne.h)(Ht=>"void"===Ht.toState),(0,me.q)(1),(0,Xe.R)(_t.lazyContent._attached)).subscribe({next:()=>_t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),_t?.lazyContent?.detach())}_initMenu(Ie){Ie.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Ie.direction=this.dir,this._setMenuElevation(Ie),Ie.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Ie){if(Ie.setElevation){let _t=0,Ht=Ie.parentMenu;for(;Ht;)_t++,Ht=Ht.parentMenu;Ie.setElevation(_t)}}_setIsMenuOpen(Ie){Ie!==this._menuOpen&&(this._menuOpen=Ie,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Ie),this._changeDetectorRef.markForCheck())}_createOverlay(Ie){if(!this._overlayRef){const _t=this._getOverlayConfig(Ie);this._subscribeToPositions(Ie,_t.positionStrategy),this._overlayRef=this._overlay.create(_t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Ie){return new kn.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Ie.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Ie.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Ie,_t){Ie.setPositionClasses&&_t.positionChanges.subscribe(Ht=>{const Sn="start"===Ht.connectionPair.overlayX?"after":"before",_i="top"===Ht.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Ie.setPositionClasses(Sn,_i)):Ie.setPositionClasses(Sn,_i)})}_setPosition(Ie,_t){let[Ht,Sn]="before"===Ie.xPosition?["end","start"]:["start","end"],[_i,Ri]="above"===Ie.yPosition?["bottom","top"]:["top","bottom"],[yi,Zt]=[_i,Ri],[Je,rt]=[Ht,Sn],Be=0;if(this.triggersSubmenu()){if(rt=Ht="before"===Ie.xPosition?"start":"end",Sn=Je="end"===Ht?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Oe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Oe?Oe._getHostElement().offsetTop:0}Be="bottom"===_i?this._parentInnerPadding:-this._parentInnerPadding}}else Ie.overlapTrigger||(yi="top"===_i?"bottom":"top",Zt="top"===Ri?"bottom":"top");_t.withPositions([{originX:Ht,originY:yi,overlayX:Je,overlayY:_i,offsetY:Be},{originX:Sn,originY:yi,overlayX:rt,overlayY:_i,offsetY:Be},{originX:Ht,originY:Zt,overlayX:Je,overlayY:Ri,offsetY:-Be},{originX:Sn,originY:Zt,overlayX:rt,overlayY:Ri,offsetY:-Be}])}_menuClosingActions(){const Ie=this._overlayRef.backdropClick(),_t=this._overlayRef.detachments(),Ht=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_e.of)(),Sn=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ne.h)(_i=>_i!==this._menuItemInstance),(0,Ne.h)(()=>this._menuOpen)):(0,_e.of)();return(0,ae.T)(Ie,Ht,Sn,_t)}_handleMousedown(Ie){(0,B.X6)(Ie)||(this._openedBy=0===Ie.button?"mouse":void 0,this.triggersSubmenu()&&Ie.preventDefault())}_handleKeydown(Ie){const _t=Ie.keyCode;(_t===ne.K5||_t===ne.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(_t===ne.SV&&"ltr"===this.dir||_t===ne.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Ie){this.triggersSubmenu()?(Ie.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ne.h)(Ie=>Ie===this._menuItemInstance&&!Ie.disabled),K(0,Ee.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ce&&this.menu._isAnimating?this.menu._animationDone.pipe((0,me.q)(1),K(0,Ee.E),(0,Xe.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Ie){return(!this._portal||this._portal.templateRef!==Ie.templateRef)&&(this._portal=new ze.UE(Ie.templateRef,this._viewContainerRef)),this._portal}}return Wt.\u0275fac=function(Ie){return new(Ie||Wt)(d.Y36(kn.aV),d.Y36(d.SBq),d.Y36(d.s_b),d.Y36(ft),d.Y36(rn,8),d.Y36(Ke,10),d.Y36(vn.Is,8),d.Y36(B.tE),d.Y36(d.R0b))},Wt.\u0275dir=d.lG2({type:Wt,hostVars:3,hostBindings:function(Ie,_t){1&Ie&&d.NdJ("click",function(Sn){return _t._handleClick(Sn)})("mousedown",function(Sn){return _t._handleMousedown(Sn)})("keydown",function(Sn){return _t._handleKeydown(Sn)}),2&Ie&&d.uIk("aria-haspopup",_t.menu?"menu":null)("aria-expanded",_t.menuOpen)("aria-controls",_t.menuOpen?_t.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),Wt})(),on=(()=>{class Wt extends Ut{}return Wt.\u0275fac=function(){let On;return function(_t){return(On||(On=d.n5z(Wt)))(_t||Wt)}}(),Wt.\u0275dir=d.lG2({type:Wt,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[d.qOj]}),Wt})(),Kt=(()=>{class Wt{}return Wt.\u0275fac=function(Ie){return new(Ie||Wt)},Wt.\u0275mod=d.oAB({type:Wt}),Wt.\u0275inj=d.cJS({providers:[Ze],imports:[Fe.ez,Ge.si,Ge.BQ,kn.U8,ht.ZD,Ge.BQ]}),Wt})()},8467:(gn,nt,E)=>{E.d(nt,{Cq:()=>Ne,Ou:()=>me});var d=E(2223),B=E(1217),m=E(1692),ne=E(4755);const xe=["determinateSpinner"];function ae(dt,it){if(1&dt&&(d.O4$(),d.TgZ(0,"svg",11),d._UZ(1,"circle",12),d.qZA()),2&dt){const Le=d.oxw();d.uIk("viewBox",Le._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",Le._strokeCircumference(),"px")("stroke-dashoffset",Le._strokeCircumference()/2,"px")("stroke-width",Le._circleStrokeWidth(),"%"),d.uIk("r",Le._circleRadius())}}const Z=(0,B.pj)(class{constructor(dt){this._elementRef=dt}},"primary"),_e=new d.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ee(){return{diameter:se}}}),se=100;let me=(()=>{class dt extends Z{constructor(Le,He,Re){super(Le),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=se,this._noopAnimations="NoopAnimations"===He&&!!Re&&!Re._forceAnimations,Re&&(Re.color&&(this.color=this.defaultColor=Re.color),Re.diameter&&(this.diameter=Re.diameter),Re.strokeWidth&&(this.strokeWidth=Re.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Le){this._value=Math.max(0,Math.min(100,(0,m.su)(Le)))}get diameter(){return this._diameter}set diameter(Le){this._diameter=(0,m.su)(Le)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Le){this._strokeWidth=(0,m.su)(Le)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Le=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Le} ${Le}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return dt.\u0275fac=function(Le){return new(Le||dt)(d.Y36(d.SBq),d.Y36(d.QbO,8),d.Y36(_e))},dt.\u0275cmp=d.Xpm({type:dt,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Le,He){if(1&Le&&d.Gf(xe,5),2&Le){let Re;d.iGM(Re=d.CRH())&&(He._determinateCircle=Re.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(Le,He){2&Le&&(d.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===He.mode?He.value:null)("mode",He.mode),d.Udp("width",He.diameter,"px")("height",He.diameter,"px")("--mdc-circular-progress-size",He.diameter+"px")("--mdc-circular-progress-active-indicator-width",He.diameter+"px"),d.ekj("_mat-animation-noopable",He._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===He.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[d.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Le,He){if(1&Le&&(d.YNc(0,ae,2,8,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.O4$(),d.TgZ(4,"svg",3),d._UZ(5,"circle",4),d.qZA()(),d.kcU(),d.TgZ(6,"div",5)(7,"div",6)(8,"div",7),d.GkF(9,8),d.qZA(),d.TgZ(10,"div",9),d.GkF(11,8),d.qZA(),d.TgZ(12,"div",10),d.GkF(13,8),d.qZA()()()),2&Le){const Re=d.MAs(1);d.xp6(4),d.uIk("viewBox",He._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",He._strokeCircumference(),"px")("stroke-dashoffset",He._strokeDashOffset(),"px")("stroke-width",He._circleStrokeWidth(),"%"),d.uIk("r",He._circleRadius()),d.xp6(4),d.Q6J("ngTemplateOutlet",Re),d.xp6(2),d.Q6J("ngTemplateOutlet",Re),d.xp6(2),d.Q6J("ngTemplateOutlet",Re)}},dependencies:[ne.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),dt})(),Ne=(()=>{class dt{}return dt.\u0275fac=function(Le){return new(Le||dt)},dt.\u0275mod=d.oAB({type:dt}),dt.\u0275inj=d.cJS({imports:[ne.ez,B.BQ]}),dt})()},9383:(gn,nt,E)=>{E.d(nt,{Ye:()=>Ee,g0:()=>de});var d=E(2223),B=E(1217),m=E(2966),ne=E(4755);const xe=["*",[["mat-toolbar-row"]]],ae=["*","mat-toolbar-row"],Z=(0,B.pj)(class{constructor(me){this._elementRef=me}});let _e=(()=>{class me{}return me.\u0275fac=function(Ne){return new(Ne||me)},me.\u0275dir=d.lG2({type:me,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),me})(),Ee=(()=>{class me extends Z{constructor(Ne,dt,it){super(Ne),this._platform=dt,this._document=it}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return me.\u0275fac=function(Ne){return new(Ne||me)(d.Y36(d.SBq),d.Y36(m.t4),d.Y36(ne.K0))},me.\u0275cmp=d.Xpm({type:me,selectors:[["mat-toolbar"]],contentQueries:function(Ne,dt,it){if(1&Ne&&d.Suo(it,_e,5),2&Ne){let Le;d.iGM(Le=d.CRH())&&(dt._toolbarRows=Le)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ne,dt){2&Ne&&d.ekj("mat-toolbar-multiple-rows",dt._toolbarRows.length>0)("mat-toolbar-single-row",0===dt._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:ae,decls:2,vars:0,template:function(Ne,dt){1&Ne&&(d.F$t(xe),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),me})(),de=(()=>{class me{}return me.\u0275fac=function(Ne){return new(Ne||me)},me.\u0275mod=d.oAB({type:me}),me.\u0275inj=d.cJS({imports:[B.BQ,B.BQ]}),me})()},6550:(gn,nt,E)=>{E.d(nt,{Dx:()=>ce,H7:()=>Ri,b2:()=>bn,q6:()=>jt,se:()=>K});var d=E(2223),B=E(4755);class m extends B.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends m{static makeCurrent(){(0,B.HT)(new ne)}onAndCancel(H,V,z){return H.addEventListener(V,z),()=>{H.removeEventListener(V,z)}}dispatchEvent(H,V){H.dispatchEvent(V)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,V){return(V=V||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,V){return"window"===V?window:"document"===V?H:"body"===V?H.body:null}getBaseHref(H){const V=function ae(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==V?null:function _e(oe){Z=Z||document.createElement("a"),Z.setAttribute("href",oe);const H=Z.pathname;return"/"===H.charAt(0)?H:`/${H}`}(V)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,B.Mx)(document.cookie,H)}}let Z,xe=null,se=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(V){return new(V||oe)},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const de=new d.OlP("EventManagerPlugins");let me=(()=>{class oe{constructor(V,z){this._zone=z,this._eventNameToPlugin=new Map,V.forEach(le=>{le.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,z,le){return this._findPluginFor(z).addEventListener(V,z,le)}getZone(){return this._zone}_findPluginFor(V){let z=this._eventNameToPlugin.get(V);if(z)return z;if(z=this._plugins.find(re=>re.supports(V)),!z)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(V,z),z}}return oe.\u0275fac=function(V){return new(V||oe)(d.LFG(de),d.LFG(d.R0b))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class Xe{constructor(H){this._doc=H}}const Ne="ng-app-id";let dt=(()=>{class oe{constructor(V,z,le,re={}){this.doc=V,this.appId=z,this.nonce=le,this.platformId=re,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,B.PM)(re),this.resetHostNodes()}addStyles(V){for(const z of V)1===this.changeUsageCount(z,1)&&this.onStyleAdded(z)}removeStyles(V){for(const z of V)this.changeUsageCount(z,-1)<=0&&this.onStyleRemoved(z)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(z=>z.remove()),V.clear());for(const z of this.getAllStyles())this.onStyleRemoved(z);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const z of this.getAllStyles())this.addStyleToHost(V,z)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const z of this.hostNodes)this.addStyleToHost(z,V)}onStyleRemoved(V){const z=this.styleRef;z.get(V)?.elements?.forEach(le=>le.remove()),z.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${Ne}="${this.appId}"]`);if(V?.length){const z=new Map;return V.forEach(le=>{null!=le.textContent&&z.set(le.textContent,le)}),z}return null}changeUsageCount(V,z){const le=this.styleRef;if(le.has(V)){const re=le.get(V);return re.usage+=z,re.usage}return le.set(V,{usage:z,elements:[]}),z}getStyleElement(V,z){const le=this.styleNodesInDOM,re=le?.get(z);if(re?.parentNode===V)return le.delete(z),re.removeAttribute(Ne),re;{const ve=this.doc.createElement("style");return this.nonce&&ve.setAttribute("nonce",this.nonce),ve.textContent=z,this.platformIsServer&&ve.setAttribute(Ne,this.appId),ve}}addStyleToHost(V,z){const le=this.getStyleElement(V,z);V.appendChild(le);const re=this.styleRef,ve=re.get(z)?.elements;ve?ve.push(le):re.set(z,{elements:[le],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}}return oe.\u0275fac=function(V){return new(V||oe)(d.LFG(B.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Le=/%COMP%/g,De=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $e(oe,H){return H.map(V=>V.replace(Le,oe))}let K=(()=>{class oe{constructor(V,z,le,re,ve,xt,bt,kt=null){this.eventManager=V,this.sharedStylesHost=z,this.appId=le,this.removeStylesOnCompDestory=re,this.doc=ve,this.platformId=xt,this.ngZone=bt,this.nonce=kt,this.rendererByCompId=new Map,this.platformIsServer=(0,B.PM)(xt),this.defaultRenderer=new Ge(V,ve,bt,this.platformIsServer)}createRenderer(V,z){if(!V||!z)return this.defaultRenderer;this.platformIsServer&&z.encapsulation===d.ifc.ShadowDom&&(z={...z,encapsulation:d.ifc.Emulated});const le=this.getOrCreateRenderer(V,z);return le instanceof ut?le.applyToHost(V):le instanceof kn&&le.applyStyles(),le}getOrCreateRenderer(V,z){const le=this.rendererByCompId;let re=le.get(z.id);if(!re){const ve=this.doc,xt=this.ngZone,bt=this.eventManager,kt=this.sharedStylesHost,en=this.removeStylesOnCompDestory,ti=this.platformIsServer;switch(z.encapsulation){case d.ifc.Emulated:re=new ut(bt,kt,z,this.appId,en,ve,xt,ti);break;case d.ifc.ShadowDom:return new vn(bt,kt,V,z,ve,xt,this.nonce,ti);default:re=new kn(bt,kt,z,en,ve,xt,ti)}re.onDestroy=()=>le.delete(z.id),le.set(z.id,re)}return re}ngOnDestroy(){this.rendererByCompId.clear()}}return oe.\u0275fac=function(V){return new(V||oe)(d.LFG(me),d.LFG(dt),d.LFG(d.AFp),d.LFG(De),d.LFG(B.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class Ge{constructor(H,V,z,le){this.eventManager=H,this.doc=V,this.ngZone=z,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,V){return V?this.doc.createElementNS(it[V]||V,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,V){(vt(H)?H.content:H).appendChild(V)}insertBefore(H,V,z){H&&(vt(H)?H.content:H).insertBefore(V,z)}removeChild(H,V){H&&H.removeChild(V)}selectRootElement(H,V){let z="string"==typeof H?this.doc.querySelector(H):H;if(!z)throw new d.vHH(5104,!1);return V||(z.textContent=""),z}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,V,z,le){if(le){V=le+":"+V;const re=it[le];re?H.setAttributeNS(re,V,z):H.setAttribute(V,z)}else H.setAttribute(V,z)}removeAttribute(H,V,z){if(z){const le=it[z];le?H.removeAttributeNS(le,V):H.removeAttribute(`${z}:${V}`)}else H.removeAttribute(V)}addClass(H,V){H.classList.add(V)}removeClass(H,V){H.classList.remove(V)}setStyle(H,V,z,le){le&(d.JOm.DashCase|d.JOm.Important)?H.style.setProperty(V,z,le&d.JOm.Important?"important":""):H.style[V]=z}removeStyle(H,V,z){z&d.JOm.DashCase?H.style.removeProperty(V):H.style[V]=""}setProperty(H,V,z){H[V]=z}setValue(H,V){H.nodeValue=V}listen(H,V,z){if("string"==typeof H&&!(H=(0,B.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${V}`);return this.eventManager.addEventListener(H,V,this.decoratePreventDefault(z))}decoratePreventDefault(H){return V=>{if("__ngUnwrap__"===V)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(V)):H(V))&&V.preventDefault()}}}function vt(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class vn extends Ge{constructor(H,V,z,le,re,ve,xt,bt){super(H,re,ve,bt),this.sharedStylesHost=V,this.hostEl=z,this.shadowRoot=z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=$e(le.id,le.styles);for(const en of kt){const ti=document.createElement("style");xt&&ti.setAttribute("nonce",xt),ti.textContent=en,this.shadowRoot.appendChild(ti)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,V){return super.appendChild(this.nodeOrShadowRoot(H),V)}insertBefore(H,V,z){return super.insertBefore(this.nodeOrShadowRoot(H),V,z)}removeChild(H,V){return super.removeChild(this.nodeOrShadowRoot(H),V)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kn extends Ge{constructor(H,V,z,le,re,ve,xt,bt){super(H,re,ve,xt),this.sharedStylesHost=V,this.removeStylesOnCompDestory=le,this.rendererUsageCount=0,this.styles=bt?$e(bt,z.styles):z.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ut extends kn{constructor(H,V,z,le,re,ve,xt,bt){const kt=le+"-"+z.id;super(H,V,z,re,ve,xt,bt,kt),this.contentAttr=function be(oe){return"_ngcontent-%COMP%".replace(Le,oe)}(kt),this.hostAttr=function Ae(oe){return"_nghost-%COMP%".replace(Le,oe)}(kt)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,V){const z=super.createElement(H,V);return super.setAttribute(z,this.contentAttr,""),z}}let ht=(()=>{class oe extends Xe{constructor(V){super(V)}supports(V){return!0}addEventListener(V,z,le){return V.addEventListener(z,le,!1),()=>this.removeEventListener(V,z,le)}removeEventListener(V,z,le){return V.removeEventListener(z,le)}}return oe.\u0275fac=function(V){return new(V||oe)(d.LFG(B.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const At=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qt={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let Gt=(()=>{class oe extends Xe{constructor(V){super(V)}supports(V){return null!=oe.parseEventName(V)}addEventListener(V,z,le){const re=oe.parseEventName(z),ve=oe.eventCallback(re.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,B.q)().onAndCancel(V,re.domEventName,ve))}static parseEventName(V){const z=V.toLowerCase().split("."),le=z.shift();if(0===z.length||"keydown"!==le&&"keyup"!==le)return null;const re=oe._normalizeKey(z.pop());let ve="",xt=z.indexOf("code");if(xt>-1&&(z.splice(xt,1),ve="code."),At.forEach(kt=>{const en=z.indexOf(kt);en>-1&&(z.splice(en,1),ve+=kt+".")}),ve+=re,0!=z.length||0===re.length)return null;const bt={};return bt.domEventName=le,bt.fullKey=ve,bt}static matchEventFullKeyCode(V,z){let le=Rt[V.key]||V.key,re="";return z.indexOf("code.")>-1&&(le=V.code,re="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),At.forEach(ve=>{ve!==le&&(0,qt[ve])(V)&&(re+=ve+".")}),re+=le,re===z)}static eventCallback(V,z,le){return re=>{oe.matchEventFullKeyCode(re,V)&&le.runGuarded(()=>z(re))}}static _normalizeKey(V){return"esc"===V?"escape":V}}return oe.\u0275fac=function(V){return new(V||oe)(d.LFG(B.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const jt=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:B.bD},{provide:d.g9A,useValue:function Ke(){ne.makeCurrent()},multi:!0},{provide:B.K0,useFactory:function St(){return(0,d.RDi)(document),document},deps:[]}]),Tt=new d.OlP(""),cn=[{provide:d.rWj,useClass:class Ee{addToWindow(H){d.dqk.getAngularTestability=(z,le=!0)=>{const re=H.findTestabilityInTree(z,le);if(null==re)throw new d.vHH(5103,!1);return re},d.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(z=>{const le=d.dqk.getAllAngularTestabilities();let re=le.length,ve=!1;const xt=function(bt){ve=ve||bt,re--,0==re&&z(ve)};le.forEach(function(bt){bt.whenStable(xt)})})}findTestabilityInTree(H,V,z){return null==V?null:H.getTestability(V)??(z?(0,B.q)().isShadowRoot(V)?this.findTestabilityInTree(H,V.host,!0):this.findTestabilityInTree(H,V.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Xt=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Qe(){return new d.qLn},deps:[]},{provide:de,useClass:ht,multi:!0,deps:[B.K0,d.R0b,d.Lbi]},{provide:de,useClass:Gt,multi:!0,deps:[B.K0]},K,dt,me,{provide:d.FYo,useExisting:K},{provide:B.JF,useClass:se,deps:[]},[]];let bn=(()=>{class oe{constructor(V){}static withServerTransition(V){return{ngModule:oe,providers:[{provide:d.AFp,useValue:V.appId}]}}}return oe.\u0275fac=function(V){return new(V||oe)(d.LFG(Tt,12))},oe.\u0275mod=d.oAB({type:oe}),oe.\u0275inj=d.cJS({providers:[...Xt,...cn],imports:[B.ez,d.hGG]}),oe})(),ce=(()=>{class oe{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}}return oe.\u0275fac=function(V){return new(V||oe)(d.LFG(B.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:function(V){let z=null;return z=V?new V:function Bt(){return new ce((0,d.LFG)(B.K0))}(),z},providedIn:"root"}),oe})();typeof window<"u"&&window;let Ri=(()=>{class oe{}return oe.\u0275fac=function(V){return new(V||oe)},oe.\u0275prov=d.Yz7({token:oe,factory:function(V){let z=null;return z=V?new(V||oe):d.LFG(Zt),z},providedIn:"root"}),oe})(),Zt=(()=>{class oe extends Ri{constructor(V){super(),this._doc=V}sanitize(V,z){if(null==z)return null;switch(V){case d.q3G.NONE:return z;case d.q3G.HTML:return(0,d.qzn)(z,"HTML")?(0,d.z3N)(z):(0,d.EiD)(this._doc,String(z)).toString();case d.q3G.STYLE:return(0,d.qzn)(z,"Style")?(0,d.z3N)(z):z;case d.q3G.SCRIPT:if((0,d.qzn)(z,"Script"))return(0,d.z3N)(z);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(z,"URL")?(0,d.z3N)(z):(0,d.mCW)(String(z));case d.q3G.RESOURCE_URL:if((0,d.qzn)(z,"ResourceURL"))return(0,d.z3N)(z);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(V){return(0,d.JVY)(V)}bypassSecurityTrustStyle(V){return(0,d.L6k)(V)}bypassSecurityTrustScript(V){return(0,d.eBb)(V)}bypassSecurityTrustUrl(V){return(0,d.LAX)(V)}bypassSecurityTrustResourceUrl(V){return(0,d.pB0)(V)}}return oe.\u0275fac=function(V){return new(V||oe)(d.LFG(B.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:function(V){let z=null;return z=V?new V:function yi(oe){return new Zt(oe.get(B.K0))}(d.LFG(d.zs3)),z},providedIn:"root"}),oe})()},3676:(gn,nt,E)=>{E.d(nt,{gz:()=>An,F0:()=>Wr,Bz:()=>$t,lC:()=>ai});var d=E(2223),B=E(9751),m=E(576),xe=E(8996),ae=E(9646),Z=E(1135),_e=E(9841),Ee=E(6805),se=E(7272),de=E(9770),me=E(9635),Xe=E(2843),Ne=E(515),dt=E(727),it=E(4482),Le=E(5403);function He(){return(0,it.e)((x,k)=>{let w=null;x._refCount++;const N=(0,Le.x)(k,void 0,void 0,void 0,()=>{if(!x||x._refCount<=0||0<--x._refCount)return void(w=null);const X=x._connection,ye=w;w=null,X&&(!ye||X===ye)&&X.unsubscribe(),k.unsubscribe()});x.subscribe(N),N.closed||(w=x.connect())})}class Re extends B.y{constructor(k,w){super(),this.source=k,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,it.A)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new dt.w0;const w=this.getSubject();k.add(this.source.subscribe((0,Le.x)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),k.closed&&(this._connection=null,k=dt.w0.EMPTY)}return k}refCount(){return He()(this)}}var yt=E(7579),ue=E(4755),De=E(4004),be=E(3900),Ae=E(5698),$e=E(8675),K=E(9300),Ge=E(5577),Fe=E(590),ze=E(4351),vt=E(8505),vn=E(262),kn=E(5026),ut=E(6590);function ht(x){return x<=0?()=>Ne.E:(0,it.e)((k,w)=>{let N=[];k.subscribe((0,Le.x)(w,X=>{N.push(X),x<N.length&&N.shift()},()=>{for(const X of N)w.next(X);w.complete()},void 0,()=>{N=null}))})}var At=E(8068),Rt=E(4671),Gt=E(9718),ln=E(8746),_n=E(8189),rn=E(6550);const Mt="primary",Ke=Symbol("RouteTitle");class Qe{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const w=this.params[k];return Array.isArray(w)?w[0]:w}return null}getAll(k){if(this.has(k)){const w=this.params[k];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function St(x){return new Qe(x)}function mt(x,k,w){const N=w.path.split("/");if(N.length>x.length||"full"===w.pathMatch&&(k.hasChildren()||N.length<x.length))return null;const X={};for(let ye=0;ye<N.length;ye++){const Te=N[ye],Dt=x[ye];if(Te.startsWith(":"))X[Te.substring(1)]=Dt;else if(Te!==Dt.path)return null}return{consumed:x.slice(0,N.length),posParams:X}}function Tt(x,k){const w=x?Object.keys(x):void 0,N=k?Object.keys(k):void 0;if(!w||!N||w.length!=N.length)return!1;let X;for(let ye=0;ye<w.length;ye++)if(X=w[ye],!cn(x[X],k[X]))return!1;return!0}function cn(x,k){if(Array.isArray(x)&&Array.isArray(k)){if(x.length!==k.length)return!1;const w=[...x].sort(),N=[...k].sort();return w.every((X,ye)=>N[ye]===X)}return x===k}function Xt(x){return x.length>0?x[x.length-1]:null}function bn(x){return function ne(x){return!!x&&(x instanceof B.y||(0,m.m)(x.lift)&&(0,m.m)(x.subscribe))}(x)?x:(0,d.QGY)(x)?(0,xe.D)(Promise.resolve(x)):(0,ae.of)(x)}const Zn={exact:function ce(x,k,w){if(!Kt(x.segments,k.segments)||!Ze(x.segments,k.segments,w)||x.numberOfChildren!==k.numberOfChildren)return!1;for(const N in k.children)if(!x.children[N]||!ce(x.children[N],k.children[N],w))return!1;return!0},subset:ft},pi={exact:function Bt(x,k){return Tt(x,k)},subset:function Ve(x,k){return Object.keys(k).length<=Object.keys(x).length&&Object.keys(k).every(w=>cn(x[w],k[w]))},ignored:()=>!0};function Gn(x,k,w){return Zn[w.paths](x.root,k.root,w.matrixParams)&&pi[w.queryParams](x.queryParams,k.queryParams)&&!("exact"===w.fragment&&x.fragment!==k.fragment)}function ft(x,k,w){return st(x,k,k.segments,w)}function st(x,k,w,N){if(x.segments.length>w.length){const X=x.segments.slice(0,w.length);return!(!Kt(X,w)||k.hasChildren()||!Ze(X,w,N))}if(x.segments.length===w.length){if(!Kt(x.segments,w)||!Ze(x.segments,w,N))return!1;for(const X in k.children)if(!x.children[X]||!ft(x.children[X],k.children[X],N))return!1;return!0}{const X=w.slice(0,x.segments.length),ye=w.slice(x.segments.length);return!!(Kt(x.segments,X)&&Ze(x.segments,X,N)&&x.children[Mt])&&st(x.children[Mt],k,ye,N)}}function Ze(x,k,w){return k.every((N,X)=>pi[w](x[X].parameters,N.parameters))}class qe{constructor(k=new ke([],{}),w={},N=null){this.root=k,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return _t.serialize(this)}}class ke{constructor(k,w){this.segments=k,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ht(this)}}class Ut{constructor(k,w){this.path=k,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return Be(this)}}function Kt(x,k){return x.length===k.length&&x.every((w,N)=>w.path===k[N].path)}let On=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:function(){return new Ie},providedIn:"root"}),x})();class Ie{parse(k){const w=new re(k);return new qe(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(k){const w=`/${Sn(k.root,!0)}`,N=function Se(x){const k=Object.keys(x).map(w=>{const N=x[w];return Array.isArray(N)?N.map(X=>`${Ri(w)}=${Ri(X)}`).join("&"):`${Ri(w)}=${Ri(N)}`}).filter(w=>!!w);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${w}${N}${"string"==typeof k.fragment?`#${function yi(x){return encodeURI(x)}(k.fragment)}`:""}`}}const _t=new Ie;function Ht(x){return x.segments.map(k=>Be(k)).join("/")}function Sn(x,k){if(!x.hasChildren())return Ht(x);if(k){const w=x.children[Mt]?Sn(x.children[Mt],!1):"",N=[];return Object.entries(x.children).forEach(([X,ye])=>{X!==Mt&&N.push(`${X}:${Sn(ye,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function Wt(x,k){let w=[];return Object.entries(x.children).forEach(([N,X])=>{N===Mt&&(w=w.concat(k(X,N)))}),Object.entries(x.children).forEach(([N,X])=>{N!==Mt&&(w=w.concat(k(X,N)))}),w}(x,(N,X)=>X===Mt?[Sn(x.children[Mt],!1)]:[`${X}:${Sn(N,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[Mt]?`${Ht(x)}/${w[0]}`:`${Ht(x)}/(${w.join("//")})`}}function _i(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ri(x){return _i(x).replace(/%3B/gi,";")}function Zt(x){return _i(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(x){return decodeURIComponent(x)}function rt(x){return Je(x.replace(/\+/g,"%20"))}function Be(x){return`${Zt(x.path)}${function Oe(x){return Object.keys(x).map(k=>`;${Zt(k)}=${Zt(x[k])}`).join("")}(x.parameters)}`}const wt=/^[^\/()?;#]+/;function Vt(x){const k=x.match(wt);return k?k[0]:""}const Me=/^[^\/()?;=#]+/,H=/^[^=?&#]+/,z=/^[^&#]+/;class re{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(k.length>0||Object.keys(w).length>0)&&(N[Mt]=new ke(k,w)),N}parseSegment(){const k=Vt(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(k),new Ut(Je(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const w=function oe(x){const k=x.match(Me);return k?k[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const X=Vt(this.remaining);X&&(N=X,this.capture(N))}k[Je(w)]=Je(N)}parseQueryParam(k){const w=function V(x){const k=x.match(H);return k?k[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Te=function le(x){const k=x.match(z);return k?k[0]:""}(this.remaining);Te&&(N=Te,this.capture(N))}const X=rt(w),ye=rt(N);if(k.hasOwnProperty(X)){let Te=k[X];Array.isArray(Te)||(Te=[Te],k[X]=Te),Te.push(ye)}else k[X]=ye}parseParens(k){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Vt(this.remaining),X=this.remaining[N.length];if("/"!==X&&")"!==X&&";"!==X)throw new d.vHH(4010,!1);let ye;N.indexOf(":")>-1?(ye=N.slice(0,N.indexOf(":")),this.capture(ye),this.capture(":")):k&&(ye=Mt);const Te=this.parseChildren();w[ye]=1===Object.keys(Te).length?Te[Mt]:new ke([],Te),this.consumeOptional("//")}return w}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new d.vHH(4011,!1)}}function ve(x){return x.segments.length>0?new ke([],{[Mt]:x}):x}function xt(x){const k={};for(const N of Object.keys(x.children)){const ye=xt(x.children[N]);if(N===Mt&&0===ye.segments.length&&ye.hasChildren())for(const[Te,Dt]of Object.entries(ye.children))k[Te]=Dt;else(ye.segments.length>0||ye.hasChildren())&&(k[N]=ye)}return function bt(x){if(1===x.numberOfChildren&&x.children[Mt]){const k=x.children[Mt];return new ke(x.segments.concat(k.segments),k.children)}return x}(new ke(x.segments,k))}function kt(x){return x instanceof qe}function ti(x){let k;const X=ve(function w(ye){const Te={};for(const Cn of ye.children){const ui=w(Cn);Te[Cn.outlet]=ui}const Dt=new ke(ye.url,Te);return ye===x&&(k=Dt),Dt}(x.root));return k??X}function Mn(x,k,w,N){let X=x;for(;X.parent;)X=X.parent;if(0===k.length)return Lt(X,X,X,w,N);const ye=function Qn(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new yn(!0,0,x);let k=0,w=!1;const N=x.reduce((X,ye,Te)=>{if("object"==typeof ye&&null!=ye){if(ye.outlets){const Dt={};return Object.entries(ye.outlets).forEach(([Cn,ui])=>{Dt[Cn]="string"==typeof ui?ui.split("/"):ui}),[...X,{outlets:Dt}]}if(ye.segmentPath)return[...X,ye.segmentPath]}return"string"!=typeof ye?[...X,ye]:0===Te?(ye.split("/").forEach((Dt,Cn)=>{0==Cn&&"."===Dt||(0==Cn&&""===Dt?w=!0:".."===Dt?k++:""!=Dt&&X.push(Dt))}),X):[...X,ye]},[]);return new yn(w,k,N)}(k);if(ye.toRoot())return Lt(X,X,new ke([],{}),w,N);const Te=function Hn(x,k,w){if(x.isAbsolute)return new Rn(k,!0,0);if(!w)return new Rn(k,!1,NaN);if(null===w.parent)return new Rn(w,!0,0);const N=Si(x.commands[0])?0:1;return function fi(x,k,w){let N=x,X=k,ye=w;for(;ye>X;){if(ye-=X,N=N.parent,!N)throw new d.vHH(4005,!1);X=N.segments.length}return new Rn(N,!1,X-ye)}(w,w.segments.length-1+N,x.numberOfDoubleDots)}(ye,X,x),Dt=Te.processChildren?Cr(Te.segmentGroup,Te.index,ye.commands):gi(Te.segmentGroup,Te.index,ye.commands);return Lt(X,Te.segmentGroup,Dt,w,N)}function Si(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function xi(x){return"object"==typeof x&&null!=x&&x.outlets}function Lt(x,k,w,N,X){let Te,ye={};N&&Object.entries(N).forEach(([Cn,ui])=>{ye[Cn]=Array.isArray(ui)?ui.map(un=>`${un}`):`${ui}`}),Te=x===k?w:Ct(x,k,w);const Dt=ve(xt(Te));return new qe(Dt,ye,X)}function Ct(x,k,w){const N={};return Object.entries(x.children).forEach(([X,ye])=>{N[X]=ye===k?w:Ct(ye,k,w)}),new ke(x.segments,N)}class yn{constructor(k,w,N){if(this.isAbsolute=k,this.numberOfDoubleDots=w,this.commands=N,k&&N.length>0&&Si(N[0]))throw new d.vHH(4003,!1);const X=N.find(xi);if(X&&X!==Xt(N))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rn{constructor(k,w,N){this.segmentGroup=k,this.processChildren=w,this.index=N}}function gi(x,k,w){if(x||(x=new ke([],{})),0===x.segments.length&&x.hasChildren())return Cr(x,k,w);const N=function Kr(x,k,w){let N=0,X=k;const ye={match:!1,pathIndex:0,commandIndex:0};for(;X<x.segments.length;){if(N>=w.length)return ye;const Te=x.segments[X],Dt=w[N];if(xi(Dt))break;const Cn=`${Dt}`,ui=N<w.length-1?w[N+1]:null;if(X>0&&void 0===Cn)break;if(Cn&&ui&&"object"==typeof ui&&void 0===ui.outlets){if(!to(Cn,ui,Te))return ye;N+=2}else{if(!to(Cn,{},Te))return ye;N++}X++}return{match:!0,pathIndex:X,commandIndex:N}}(x,k,w),X=w.slice(N.commandIndex);if(N.match&&N.pathIndex<x.segments.length){const ye=new ke(x.segments.slice(0,N.pathIndex),{});return ye.children[Mt]=new ke(x.segments.slice(N.pathIndex),x.children),Cr(ye,0,X)}return N.match&&0===X.length?new ke(x.segments,{}):N.match&&!x.hasChildren()?po(x,k,w):N.match?Cr(x,0,X):po(x,k,w)}function Cr(x,k,w){if(0===w.length)return new ke(x.segments,{});{const N=function ir(x){return xi(x[0])?x[0].outlets:{[Mt]:x}}(w),X={};if(!N[Mt]&&x.children[Mt]&&1===x.numberOfChildren&&0===x.children[Mt].segments.length){const ye=Cr(x.children[Mt],k,w);return new ke(x.segments,ye.children)}return Object.entries(N).forEach(([ye,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(X[ye]=gi(x.children[ye],k,Te))}),Object.entries(x.children).forEach(([ye,Te])=>{void 0===N[ye]&&(X[ye]=Te)}),new ke(x.segments,X)}}function po(x,k,w){const N=x.segments.slice(0,k);let X=0;for(;X<w.length;){const ye=w[X];if(xi(ye)){const Cn=Zo(ye.outlets);return new ke(N,Cn)}if(0===X&&Si(w[0])){N.push(new Ut(x.segments[k].path,$i(w[0]))),X++;continue}const Te=xi(ye)?ye.outlets[Mt]:`${ye}`,Dt=X<w.length-1?w[X+1]:null;Te&&Dt&&Si(Dt)?(N.push(new Ut(Te,$i(Dt))),X+=2):(N.push(new Ut(Te,{})),X++)}return new ke(N,{})}function Zo(x){const k={};return Object.entries(x).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(k[w]=po(new ke([],{}),0,N))}),k}function $i(x){const k={};return Object.entries(x).forEach(([w,N])=>k[w]=`${N}`),k}function to(x,k,w){return x==w.path&&Tt(k,w.parameters)}const Gr="imperative";class Zr{constructor(k,w){this.id=k,this.url=w}}class vo extends Zr{constructor(k,w,N="imperative",X=null){super(k,w),this.type=0,this.navigationTrigger=N,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Di extends Zr{constructor(k,w,N){super(k,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yo extends Zr{constructor(k,w,N,X){super(k,w),this.reason=N,this.code=X,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yo extends Zr{constructor(k,w,N,X){super(k,w),this.reason=N,this.code=X,this.type=16}}class bo extends Zr{constructor(k,w,N,X){super(k,w),this.error=N,this.target=X,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hr extends Zr{constructor(k,w,N,X){super(k,w),this.urlAfterRedirects=N,this.state=X,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends Zr{constructor(k,w,N,X){super(k,w),this.urlAfterRedirects=N,this.state=X,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends Zr{constructor(k,w,N,X,ye){super(k,w),this.urlAfterRedirects=N,this.state=X,this.shouldActivate=ye,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zo extends Zr{constructor(k,w,N,X){super(k,w),this.urlAfterRedirects=N,this.state=X,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ms extends Zr{constructor(k,w,N,X){super(k,w),this.urlAfterRedirects=N,this.state=X,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qo{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class os{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class io{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(k,w,N){this.routerEvent=k,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yr,this.attachRef=null}}let Yr=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const X=this.getOrCreateContext(w);X.outlet=N,this.contexts.set(w,X)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Pi,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class cr{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const w=this.pathFromRoot(k);return w.length>1?w[w.length-2]:null}children(k){const w=$o(k,this._root);return w?w.children.map(N=>N.value):[]}firstChild(k){const w=$o(k,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(k){const w=pt(k,this._root);return w.length<2?[]:w[w.length-2].children.map(X=>X.value).filter(X=>X!==k)}pathFromRoot(k){return pt(k,this._root).map(w=>w.value)}}function $o(x,k){if(x===k.value)return k;for(const w of k.children){const N=$o(x,w);if(N)return N}return null}function pt(x,k){if(x===k.value)return[k];for(const w of k.children){const N=pt(x,w);if(N.length)return N.unshift(k),N}return[]}class lt{constructor(k,w){this.value=k,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ot(x){const k={};return x&&x.children.forEach(w=>k[w.value.outlet]=w),k}class dn extends cr{constructor(k,w){super(k),this.snapshot=w,rr(this,k)}toString(){return this.snapshot.toString()}}function pn(x,k){const w=function sn(x,k){const Te=new _r([],{},{},"",{},Mt,k,null,{});return new Dr("",new lt(Te,[]))}(0,k),N=new Z.X([new Ut("",{})]),X=new Z.X({}),ye=new Z.X({}),Te=new Z.X({}),Dt=new Z.X(""),Cn=new An(N,X,Te,Dt,ye,Mt,k,w.root);return Cn.snapshot=w.root,new dn(new lt(Cn,[]),w)}class An{constructor(k,w,N,X,ye,Te,Dt,Cn){this.urlSubject=k,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=X,this.dataSubject=ye,this.outlet=Te,this.component=Dt,this._futureSnapshot=Cn,this.title=this.dataSubject?.pipe((0,De.U)(ui=>ui[Ke]))??(0,ae.of)(void 0),this.url=k,this.params=w,this.queryParams=N,this.fragment=X,this.data=ye}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,De.U)(k=>St(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,De.U)(k=>St(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xn(x,k="emptyOnly"){const w=x.pathFromRoot;let N=0;if("always"!==k)for(N=w.length-1;N>=1;){const X=w[N],ye=w[N-1];if(X.routeConfig&&""===X.routeConfig.path)N--;else{if(ye.component)break;N--}}return function hi(x){return x.reduce((k,w)=>({params:{...k.params,...w.params},data:{...k.data,...w.data},resolve:{...w.data,...k.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class _r{get title(){return this.data?.[Ke]}constructor(k,w,N,X,ye,Te,Dt,Cn,ui){this.url=k,this.params=w,this.queryParams=N,this.fragment=X,this.data=ye,this.outlet=Te,this.component=Dt,this.routeConfig=Cn,this._resolve=ui}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dr extends cr{constructor(k,w){super(w),this.url=k,rr(this,w)}toString(){return Gi(this._root)}}function rr(x,k){k.value._routerState=x,k.children.forEach(w=>rr(x,w))}function Gi(x){const k=x.children.length>0?` { ${x.children.map(Gi).join(", ")} } `:"";return`${x.value}${k}`}function Vr(x){if(x.snapshot){const k=x.snapshot,w=x._futureSnapshot;x.snapshot=w,Tt(k.queryParams,w.queryParams)||x.queryParamsSubject.next(w.queryParams),k.fragment!==w.fragment&&x.fragmentSubject.next(w.fragment),Tt(k.params,w.params)||x.paramsSubject.next(w.params),function jt(x,k){if(x.length!==k.length)return!1;for(let w=0;w<x.length;++w)if(!Tt(x[w],k[w]))return!1;return!0}(k.url,w.url)||x.urlSubject.next(w.url),Tt(k.data,w.data)||x.dataSubject.next(w.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function ro(x,k){const w=Tt(x.params,k.params)&&function on(x,k){return Kt(x,k)&&x.every((w,N)=>Tt(w.parameters,k[N].parameters))}(x.url,k.url);return w&&!(!x.parent!=!k.parent)&&(!x.parent||ro(x.parent,k.parent))}let ai=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Yr),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Lo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:X}=w.name;if(N)return;this.isTrackedInParentContexts(X)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(X)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=w;const X=this.location,Te=w.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,Cn=new No(w,Dt,X.injector);this.activated=X.createComponent(Te,{index:X.length,injector:Cn,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275dir=d.lG2({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),x})();class No{constructor(k,w,N){this.route=k,this.childContexts=w,this.parent=N}get(k,w){return k===An?this.route:k===Yr?this.childContexts:this.parent.get(k,w)}}const Lo=new d.OlP("");let oo=(()=>{class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,X=(0,_e.a)([N.queryParams,N.params,N.data]).pipe((0,be.w)(([ye,Te,Dt],Cn)=>(Dt={...ye,...Te,...Dt},0===Cn?(0,ae.of)(Dt):Promise.resolve(Dt)))).subscribe(ye=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Te=(0,d.qFp)(N.component);if(Te)for(const{templateName:Dt}of Te.inputs)w.activatedComponentRef.setInput(Dt,ye[Dt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,X)}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac}),x})();function Ir(x,k,w){if(w&&x.shouldReuseRoute(k.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=k.value;const X=function ms(x,k,w){return k.children.map(N=>{for(const X of w.children)if(x.shouldReuseRoute(N.value,X.value.snapshot))return Ir(x,N,X);return Ir(x,N)})}(x,k,w);return new lt(N,X)}{if(x.shouldAttach(k.value)){const ye=x.retrieve(k.value);if(null!==ye){const Te=ye.route;return Te.value._futureSnapshot=k.value,Te.children=k.children.map(Dt=>Ir(x,Dt)),Te}}const N=function ss(x){return new An(new Z.X(x.url),new Z.X(x.params),new Z.X(x.queryParams),new Z.X(x.fragment),new Z.X(x.data),x.outlet,x.component,x)}(k.value),X=k.children.map(ye=>Ir(x,ye));return new lt(N,X)}}const ps="ngNavigationCancelingError";function Vs(x,k){const{redirectTo:w,navigationBehaviorOptions:N}=kt(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,X=Sr(!1,0,k);return X.url=w,X.navigationBehaviorOptions=N,X}function Sr(x,k,w){const N=new Error("NavigationCancelingError: "+(x||""));return N[ps]=!0,N.cancellationCode=k,w&&(N.url=w),N}function dr(x){return ws(x)&&kt(x.url)}function ws(x){return x&&x[ps]}let uo=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275cmp=d.Xpm({type:x,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(w,N){1&w&&d._UZ(0,"router-outlet")},dependencies:[ai],encapsulation:2}),x})();function as(x){const k=x.children&&x.children.map(as),w=k?{...x,children:k}:{...x};return!w.component&&!w.loadComponent&&(k||w.loadChildren)&&w.outlet&&w.outlet!==Mt&&(w.component=uo),w}function qi(x){return x.outlet||Mt}function go(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let k=x.parent;k;k=k.parent){const w=k.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class er{constructor(k,w,N,X,ye){this.routeReuseStrategy=k,this.futureState=w,this.currState=N,this.forwardEvent=X,this.inputBindingEnabled=ye}activate(k){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,k),Vr(this.futureState.root),this.activateChildRoutes(w,N,k)}deactivateChildRoutes(k,w,N){const X=Ot(w);k.children.forEach(ye=>{const Te=ye.value.outlet;this.deactivateRoutes(ye,X[Te],N),delete X[Te]}),Object.values(X).forEach(ye=>{this.deactivateRouteAndItsChildren(ye,N)})}deactivateRoutes(k,w,N){const X=k.value,ye=w?w.value:null;if(X===ye)if(X.component){const Te=N.getContext(X.outlet);Te&&this.deactivateChildRoutes(k,w,Te.children)}else this.deactivateChildRoutes(k,w,N);else ye&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(k,w){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,w):this.deactivateRouteAndOutlet(k,w)}detachAndStoreRouteSubtree(k,w){const N=w.getContext(k.value.outlet),X=N&&k.value.component?N.children:w,ye=Ot(k);for(const Te of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[Te],X);if(N&&N.outlet){const Te=N.outlet.detach(),Dt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:Te,route:k,contexts:Dt})}}deactivateRouteAndOutlet(k,w){const N=w.getContext(k.value.outlet),X=N&&k.value.component?N.children:w,ye=Ot(k);for(const Te of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[Te],X);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(k,w,N){const X=Ot(w);k.children.forEach(ye=>{this.activateRoutes(ye,X[ye.value.outlet],N),this.forwardEvent(new Xo(ye.value.snapshot))}),k.children.length&&this.forwardEvent(new Rr(k.value.snapshot))}activateRoutes(k,w,N){const X=k.value,ye=w?w.value:null;if(Vr(X),X===ye)if(X.component){const Te=N.getOrCreateContext(X.outlet);this.activateChildRoutes(k,w,Te.children)}else this.activateChildRoutes(k,w,N);else if(X.component){const Te=N.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const Dt=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Te.children.onOutletReAttached(Dt.contexts),Te.attachRef=Dt.componentRef,Te.route=Dt.route.value,Te.outlet&&Te.outlet.attach(Dt.componentRef,Dt.route.value),Vr(Dt.route.value),this.activateChildRoutes(k,null,Te.children)}else{const Dt=go(X.snapshot);Te.attachRef=null,Te.route=X,Te.injector=Dt,Te.outlet&&Te.outlet.activateWith(X,Te.injector),this.activateChildRoutes(k,null,Te.children)}}else this.activateChildRoutes(k,null,N)}}class Qr{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class To{constructor(k,w){this.component=k,this.route=w}}function js(x,k,w){const N=x._root;return Y(N,k?k._root:null,w,[N.value])}function je(x,k){const w=Symbol(),N=k.get(x,w);return N===w?"function"!=typeof x||(0,d.Z0I)(x)?k.get(x):x:N}function Y(x,k,w,N,X={canDeactivateChecks:[],canActivateChecks:[]}){const ye=Ot(k);return x.children.forEach(Te=>{(function ot(x,k,w,N,X={canDeactivateChecks:[],canActivateChecks:[]}){const ye=x.value,Te=k?k.value:null,Dt=w?w.getContext(x.value.outlet):null;if(Te&&ye.routeConfig===Te.routeConfig){const Cn=function hn(x,k,w){if("function"==typeof w)return w(x,k);switch(w){case"pathParamsChange":return!Kt(x.url,k.url);case"pathParamsOrQueryParamsChange":return!Kt(x.url,k.url)||!Tt(x.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ro(x,k)||!Tt(x.queryParams,k.queryParams);default:return!ro(x,k)}}(Te,ye,ye.routeConfig.runGuardsAndResolvers);Cn?X.canActivateChecks.push(new Qr(N)):(ye.data=Te.data,ye._resolvedData=Te._resolvedData),Y(x,k,ye.component?Dt?Dt.children:null:w,N,X),Cn&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&X.canDeactivateChecks.push(new To(Dt.outlet.component,Te))}else Te&&En(k,Dt,X),X.canActivateChecks.push(new Qr(N)),Y(x,null,ye.component?Dt?Dt.children:null:w,N,X)})(Te,ye[Te.value.outlet],w,N.concat([Te.value]),X),delete ye[Te.value.outlet]}),Object.entries(ye).forEach(([Te,Dt])=>En(Dt,w.getContext(Te),X)),X}function En(x,k,w){const N=Ot(x),X=x.value;Object.entries(N).forEach(([ye,Te])=>{En(Te,X.component?k?k.children.getContext(ye):null:k,w)}),w.canDeactivateChecks.push(new To(X.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,X))}function bi(x){return"function"==typeof x}function v(x){return x instanceof Ee.K||"EmptyError"===x?.name}const C=Symbol("INITIAL_VALUE");function ee(){return(0,be.w)(x=>(0,_e.a)(x.map(k=>k.pipe((0,Ae.q)(1),(0,$e.O)(C)))).pipe((0,De.U)(k=>{for(const w of k)if(!0!==w){if(w===C)return C;if(!1===w||w instanceof qe)return w}return!0}),(0,K.h)(k=>k!==C),(0,Ae.q)(1)))}function Br(x){return(0,me.z)((0,vt.b)(k=>{if(kt(k))throw Vs(0,k)}),(0,De.U)(k=>!0===k))}class ji{constructor(k){this.segmentGroup=k||null}}class xr{constructor(k){this.urlTree=k}}function Ti(x){return(0,Xe._)(new ji(x))}function Mo(x){return(0,Xe._)(new xr(x))}class Ur{constructor(k,w){this.urlSerializer=k,this.urlTree=w}noMatchError(k){return new d.vHH(4002,!1)}lineralizeSegments(k,w){let N=[],X=w.root;for(;;){if(N=N.concat(X.segments),0===X.numberOfChildren)return(0,ae.of)(N);if(X.numberOfChildren>1||!X.children[Mt])return(0,Xe._)(new d.vHH(4e3,!1));X=X.children[Mt]}}applyRedirectCommands(k,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),k,N)}applyRedirectCreateUrlTree(k,w,N,X){const ye=this.createSegmentGroup(k,w.root,N,X);return new qe(ye,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(k,w){const N={};return Object.entries(k).forEach(([X,ye])=>{if("string"==typeof ye&&ye.startsWith(":")){const Dt=ye.substring(1);N[X]=w[Dt]}else N[X]=ye}),N}createSegmentGroup(k,w,N,X){const ye=this.createSegments(k,w.segments,N,X);let Te={};return Object.entries(w.children).forEach(([Dt,Cn])=>{Te[Dt]=this.createSegmentGroup(k,Cn,N,X)}),new ke(ye,Te)}createSegments(k,w,N,X){return w.map(ye=>ye.path.startsWith(":")?this.findPosParam(k,ye,X):this.findOrReturn(ye,N))}findPosParam(k,w,N){const X=N[w.path.substring(1)];if(!X)throw new d.vHH(4001,!1);return X}findOrReturn(k,w){let N=0;for(const X of w){if(X.path===k.path)return w.splice(N),X;N++}return k}}const Ao={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gs(x,k,w,N,X){const ye=Es(x,k,w);return ye.matched?(N=function Bi(x,k){return x.providers&&!x._injector&&(x._injector=(0,d.MMx)(x.providers,k,`Route: ${x.path}`)),x._injector??k}(k,N),function wr(x,k,w,N){const X=k.canMatch;if(!X||0===X.length)return(0,ae.of)(!0);const ye=X.map(Te=>{const Dt=je(Te,x);return bn(function xs(x){return x&&bi(x.canMatch)}(Dt)?Dt.canMatch(k,w):x.runInContext(()=>Dt(k,w)))});return(0,ae.of)(ye).pipe(ee(),Br())}(N,k,w).pipe((0,De.U)(Te=>!0===Te?ye:{...Ao}))):(0,ae.of)(ye)}function Es(x,k,w){if(""===k.path)return"full"===k.pathMatch&&(x.hasChildren()||w.length>0)?{...Ao}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const X=(k.matcher||mt)(w,x,k);if(!X)return{...Ao};const ye={};Object.entries(X.posParams??{}).forEach(([Dt,Cn])=>{ye[Dt]=Cn.path});const Te=X.consumed.length>0?{...ye,...X.consumed[X.consumed.length-1].parameters}:ye;return{matched:!0,consumedSegments:X.consumed,remainingSegments:w.slice(X.consumed.length),parameters:Te,positionalParamSegments:X.posParams??{}}}function Cs(x,k,w,N){return w.length>0&&function Ks(x,k,w){return w.some(N=>Xr(x,k,N)&&qi(N)!==Mt)}(x,w,N)?{segmentGroup:new ke(k,Bo(N,new ke(w,x.children))),slicedSegments:[]}:0===w.length&&function Zs(x,k,w){return w.some(N=>Xr(x,k,N))}(x,w,N)?{segmentGroup:new ke(x.segments,Ns(x,0,w,N,x.children)),slicedSegments:w}:{segmentGroup:new ke(x.segments,x.children),slicedSegments:w}}function Ns(x,k,w,N,X){const ye={};for(const Te of N)if(Xr(x,w,Te)&&!X[qi(Te)]){const Dt=new ke([],{});ye[qi(Te)]=Dt}return{...X,...ye}}function Bo(x,k){const w={};w[Mt]=k;for(const N of x)if(""===N.path&&qi(N)!==Mt){const X=new ke([],{});w[qi(N)]=X}return w}function Xr(x,k,w){return(!(x.hasChildren()||k.length>0)||"full"!==w.pathMatch)&&""===w.path}class _a{constructor(k,w,N,X,ye,Te,Dt){this.injector=k,this.configLoader=w,this.rootComponentType=N,this.config=X,this.urlTree=ye,this.paramsInheritanceStrategy=Te,this.urlSerializer=Dt,this.allowRedirects=!0,this.applyRedirects=new Ur(this.urlSerializer,this.urlTree)}noMatchError(k){return new d.vHH(4002,!1)}recognize(){const k=Cs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,Mt).pipe((0,vn.K)(w=>{if(w instanceof xr)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof ji?this.noMatchError(w):w}),(0,De.U)(w=>{const N=new _r([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,{}),X=new lt(N,w),ye=new Dr("",X),Te=function en(x,k,w=null,N=null){return Mn(ti(x),k,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,ye.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(ye._root),{state:ye,tree:Te}}))}match(k){return this.processSegmentGroup(this.injector,this.config,k.root,Mt).pipe((0,vn.K)(N=>{throw N instanceof ji?this.noMatchError(N):N}))}inheritParamsAndData(k){const w=k.value,N=Xn(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),k.children.forEach(X=>this.inheritParamsAndData(X))}processSegmentGroup(k,w,N,X){return 0===N.segments.length&&N.hasChildren()?this.processChildren(k,w,N):this.processSegment(k,w,N,N.segments,X,!0)}processChildren(k,w,N){const X=[];for(const ye of Object.keys(N.children))"primary"===ye?X.unshift(ye):X.push(ye);return(0,xe.D)(X).pipe((0,ze.b)(ye=>{const Te=N.children[ye],Dt=function Fr(x,k){const w=x.filter(N=>qi(N)===k);return w.push(...x.filter(N=>qi(N)!==k)),w}(w,ye);return this.processSegmentGroup(k,Dt,Te,ye)}),(0,kn.R)((ye,Te)=>(ye.push(...Te),ye)),(0,ut.d)(null),function qt(x,k){const w=arguments.length>=2;return N=>N.pipe(x?(0,K.h)((X,ye)=>x(X,ye,N)):Rt.y,ht(1),w?(0,ut.d)(k):(0,At.T)(()=>new Ee.K))}(),(0,Ge.z)(ye=>{if(null===ye)return Ti(N);const Te=va(ye);return function Sa(x){x.sort((k,w)=>k.value.outlet===Mt?-1:w.value.outlet===Mt?1:k.value.outlet.localeCompare(w.value.outlet))}(Te),(0,ae.of)(Te)}))}processSegment(k,w,N,X,ye,Te){return(0,xe.D)(w).pipe((0,ze.b)(Dt=>this.processSegmentAgainstRoute(Dt._injector??k,w,Dt,N,X,ye,Te).pipe((0,vn.K)(Cn=>{if(Cn instanceof ji)return(0,ae.of)(null);throw Cn}))),(0,Fe.P)(Dt=>!!Dt),(0,vn.K)(Dt=>{if(v(Dt))return function la(x,k,w){return 0===k.length&&!x.children[w]}(N,X,ye)?(0,ae.of)([]):Ti(N);throw Dt}))}processSegmentAgainstRoute(k,w,N,X,ye,Te,Dt){return function vl(x,k,w,N){return!!(qi(x)===N||N!==Mt&&Xr(k,w,x))&&("**"===x.path||Es(k,x,w).matched)}(N,X,ye,Te)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(k,X,N,ye,Te,Dt):Dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,X,w,N,ye,Te):Ti(X):Ti(X)}expandSegmentAgainstRouteUsingRedirect(k,w,N,X,ye,Te){return"**"===X.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,N,X,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(k,w,N,X,ye,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,w,N,X){const ye=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?Mo(ye):this.applyRedirects.lineralizeSegments(N,ye).pipe((0,Ge.z)(Te=>{const Dt=new ke(Te,{});return this.processSegment(k,w,Dt,Te,X,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,w,N,X,ye,Te){const{matched:Dt,consumedSegments:Cn,remainingSegments:ui,positionalParamSegments:un}=Es(w,X,ye);if(!Dt)return Ti(w);const Un=this.applyRedirects.applyRedirectCommands(Cn,X.redirectTo,un);return X.redirectTo.startsWith("/")?Mo(Un):this.applyRedirects.lineralizeSegments(X,Un).pipe((0,Ge.z)(oi=>this.processSegment(k,N,w,oi.concat(ui),Te,!1)))}matchSegmentAgainstRoute(k,w,N,X,ye,Te){let Dt;if("**"===N.path){const Cn=X.length>0?Xt(X).parameters:{},ui=new _r(X,Cn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ya(N),qi(N),N.component??N._loadedComponent??null,N,Ys(N));Dt=(0,ae.of)({snapshot:ui,consumedSegments:[],remainingSegments:[]}),w.children={}}else Dt=gs(w,N,X,k).pipe((0,De.U)(({matched:Cn,consumedSegments:ui,remainingSegments:un,parameters:Un})=>Cn?{snapshot:new _r(ui,Un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ya(N),qi(N),N.component??N._loadedComponent??null,N,Ys(N)),consumedSegments:ui,remainingSegments:un}:null));return Dt.pipe((0,be.w)(Cn=>null===Cn?Ti(w):this.getChildConfig(k=N._injector??k,N,X).pipe((0,be.w)(({routes:ui})=>{const un=N._loadedInjector??k,{snapshot:Un,consumedSegments:oi,remainingSegments:Zi}=Cn,{segmentGroup:mr,slicedSegments:Uo}=Cs(w,oi,Zi,ui);if(0===Uo.length&&mr.hasChildren())return this.processChildren(un,ui,mr).pipe((0,De.U)(Co=>null===Co?null:[new lt(Un,Co)]));if(0===ui.length&&0===Uo.length)return(0,ae.of)([new lt(Un,[])]);const Nt=qi(N)===ye;return this.processSegment(un,ui,mr,Uo,Nt?Mt:ye,!0).pipe((0,De.U)(Co=>[new lt(Un,Co)]))}))))}getChildConfig(k,w,N){return w.children?(0,ae.of)({routes:w.children,injector:k}):w.loadChildren?void 0!==w._loadedRoutes?(0,ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Tr(x,k,w,N){const X=k.canLoad;if(void 0===X||0===X.length)return(0,ae.of)(!0);const ye=X.map(Te=>{const Dt=je(Te,x);return bn(function yr(x){return x&&bi(x.canLoad)}(Dt)?Dt.canLoad(k,w):x.runInContext(()=>Dt(k,w)))});return(0,ae.of)(ye).pipe(ee(),Br())}(k,w,N).pipe((0,Ge.z)(X=>X?this.configLoader.loadChildren(k,w).pipe((0,vt.b)(ye=>{w._loadedRoutes=ye.routes,w._loadedInjector=ye.injector})):function Nr(x){return(0,Xe._)(Sr(!1,3))}())):(0,ae.of)({routes:[],injector:k})}}function Ls(x){const k=x.value.routeConfig;return k&&""===k.path}function va(x){const k=[],w=new Set;for(const N of x){if(!Ls(N)){k.push(N);continue}const X=k.find(ye=>N.value.routeConfig===ye.value.routeConfig);void 0!==X?(X.children.push(...N.children),w.add(X)):k.push(N)}for(const N of w){const X=va(N.children);k.push(new lt(N.value,X))}return k.filter(N=>!w.has(N))}function ya(x){return x.data||{}}function Ys(x){return x.resolve||{}}function Bs(x){return"string"==typeof x.title||null===x.title}function Qi(x){return(0,be.w)(k=>{const w=x(k);return w?(0,xe.D)(w).pipe((0,De.U)(()=>k)):(0,ae.of)(k)})}const ko=new d.OlP("ROUTES");let na=(()=>{class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=bn(w.loadComponent()).pipe((0,De.U)(ba),(0,vt.b)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ye}),(0,ln.x)(()=>{this.componentLoaders.delete(w)})),X=new Re(N,()=>new yt.x).pipe(He());return this.componentLoaders.set(w,X),X}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ye=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,De.U)(Dt=>{this.onLoadEndListener&&this.onLoadEndListener(N);let Cn,ui;return Array.isArray(Dt)?ui=Dt:(Cn=Dt.create(w).injector,ui=Cn.get(ko,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:ui.map(as),injector:Cn}}),(0,ln.x)(()=>{this.childrenLoaders.delete(N)})),Te=new Re(ye,()=>new yt.x).pipe(He());return this.childrenLoaders.set(N,Te),Te}loadModuleFactoryOrRoutes(w){return bn(w()).pipe((0,De.U)(ba),(0,Ge.z)(N=>N instanceof d.YKP||Array.isArray(N)?(0,ae.of)(N):(0,xe.D)(this.compiler.compileModuleAsync(N))))}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function ba(x){return function Mi(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let P=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new yt.x,this.configLoader=(0,d.f3M)(na),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(On),this.rootContexts=(0,d.f3M)(Yr),this.inputBindingEnabled=null!==(0,d.f3M)(Lo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=X=>this.events.next(new os(X)),this.configLoader.onLoadStartListener=X=>this.events.next(new qo(X))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w){return this.transitions=new Z.X({id:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gr,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,K.h)(N=>0!==N.id),(0,De.U)(N=>({...N,extractedUrl:w.urlHandlingStrategy.extract(N.rawUrl)})),(0,be.w)(N=>{let X=!1,ye=!1;return(0,ae.of)(N).pipe((0,vt.b)(Te=>{this.currentNavigation={id:Te.id,initialUrl:Te.rawUrl,extractedUrl:Te.extractedUrl,trigger:Te.source,extras:Te.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,be.w)(Te=>{const Dt=w.browserUrlTree.toString(),Cn=!w.navigated||Te.extractedUrl.toString()!==Dt||Dt!==w.currentUrlTree.toString();if(!Cn&&"reload"!==(Te.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const un="";return this.events.next(new yo(Te.id,w.serializeUrl(N.rawUrl),un,0)),w.rawUrlTree=Te.rawUrl,Te.resolve(null),Ne.E}if(w.urlHandlingStrategy.shouldProcessUrl(Te.rawUrl))return Q(Te.source)&&(w.browserUrlTree=Te.extractedUrl),(0,ae.of)(Te).pipe((0,be.w)(un=>{const Un=this.transitions?.getValue();return this.events.next(new vo(un.id,this.urlSerializer.serialize(un.extractedUrl),un.source,un.restoredState)),Un!==this.transitions?.getValue()?Ne.E:Promise.resolve(un)}),function ls(x,k,w,N,X,ye){return(0,Ge.z)(Te=>function ga(x,k,w,N,X,ye,Te="emptyOnly"){return new _a(x,k,w,N,X,Te,ye).recognize()}(x,k,w,N,Te.extractedUrl,X,ye).pipe((0,De.U)(({state:Dt,tree:Cn})=>({...Te,targetSnapshot:Dt,urlAfterRedirects:Cn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,vt.b)(un=>{if(N.targetSnapshot=un.targetSnapshot,N.urlAfterRedirects=un.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:un.urlAfterRedirects},"eager"===w.urlUpdateStrategy){if(!un.extras.skipLocationChange){const oi=w.urlHandlingStrategy.merge(un.urlAfterRedirects,un.rawUrl);w.setBrowserUrl(oi,un)}w.browserUrlTree=un.urlAfterRedirects}const Un=new hr(un.id,this.urlSerializer.serialize(un.extractedUrl),this.urlSerializer.serialize(un.urlAfterRedirects),un.targetSnapshot);this.events.next(Un)}));if(Cn&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:un,extractedUrl:Un,source:oi,restoredState:Zi,extras:mr}=Te,Uo=new vo(un,this.urlSerializer.serialize(Un),oi,Zi);this.events.next(Uo);const Nt=pn(0,this.rootComponentType).snapshot;return N={...Te,targetSnapshot:Nt,urlAfterRedirects:Un,extras:{...mr,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(N)}{const un="";return this.events.next(new yo(Te.id,w.serializeUrl(N.extractedUrl),un,1)),w.rawUrlTree=Te.rawUrl,Te.resolve(null),Ne.E}}),(0,vt.b)(Te=>{const Dt=new Io(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Dt)}),(0,De.U)(Te=>N={...Te,guards:js(Te.targetSnapshot,Te.currentSnapshot,this.rootContexts)}),function Ce(x,k){return(0,Ge.z)(w=>{const{targetSnapshot:N,currentSnapshot:X,guards:{canActivateChecks:ye,canDeactivateChecks:Te}}=w;return 0===Te.length&&0===ye.length?(0,ae.of)({...w,guardsResult:!0}):function ct(x,k,w,N){return(0,xe.D)(x).pipe((0,Ge.z)(X=>function Ui(x,k,w,N,X){const ye=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!ye||0===ye.length)return(0,ae.of)(!0);const Te=ye.map(Dt=>{const Cn=go(k)??X,ui=je(Dt,Cn);return bn(function ts(x){return x&&bi(x.canDeactivate)}(ui)?ui.canDeactivate(x,k,w,N):Cn.runInContext(()=>ui(x,k,w,N))).pipe((0,Fe.P)())});return(0,ae.of)(Te).pipe(ee())}(X.component,X.route,w,k,N)),(0,Fe.P)(X=>!0!==X,!0))}(Te,N,X,x).pipe((0,Ge.z)(Dt=>Dt&&function vr(x){return"boolean"==typeof x}(Dt)?function Pt(x,k,w,N){return(0,xe.D)(k).pipe((0,ze.b)(X=>(0,se.z)(function Yn(x,k){return null!==x&&k&&k(new io(x)),(0,ae.of)(!0)}(X.route.parent,N),function Dn(x,k){return null!==x&&k&&k(new Qo(x)),(0,ae.of)(!0)}(X.route,N),function Ei(x,k,w){const N=k[k.length-1],ye=k.slice(0,k.length-1).reverse().map(Te=>function We(x){const k=x.routeConfig?x.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:x,guards:k}:null}(Te)).filter(Te=>null!==Te).map(Te=>(0,de.P)(()=>{const Dt=Te.guards.map(Cn=>{const ui=go(Te.node)??w,un=je(Cn,ui);return bn(function br(x){return x&&bi(x.canActivateChild)}(un)?un.canActivateChild(N,x):ui.runInContext(()=>un(N,x))).pipe((0,Fe.P)())});return(0,ae.of)(Dt).pipe(ee())}));return(0,ae.of)(ye).pipe(ee())}(x,X.path,w),function jn(x,k,w){const N=k.routeConfig?k.routeConfig.canActivate:null;if(!N||0===N.length)return(0,ae.of)(!0);const X=N.map(ye=>(0,de.P)(()=>{const Te=go(k)??w,Dt=je(ye,Te);return bn(function _o(x){return x&&bi(x.canActivate)}(Dt)?Dt.canActivate(k,x):Te.runInContext(()=>Dt(k,x))).pipe((0,Fe.P)())}));return(0,ae.of)(X).pipe(ee())}(x,X.route,w))),(0,Fe.P)(X=>!0!==X,!0))}(N,ye,x,k):(0,ae.of)(Dt)),(0,De.U)(Dt=>({...w,guardsResult:Dt})))})}(this.environmentInjector,Te=>this.events.next(Te)),(0,vt.b)(Te=>{if(N.guardsResult=Te.guardsResult,kt(Te.guardsResult))throw Vs(0,Te.guardsResult);const Dt=new no(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot,!!Te.guardsResult);this.events.next(Dt)}),(0,K.h)(Te=>!!Te.guardsResult||(w.restoreHistory(Te),this.cancelNavigationTransition(Te,"",3),!1)),Qi(Te=>{if(Te.guards.canActivateChecks.length)return(0,ae.of)(Te).pipe((0,vt.b)(Dt=>{const Cn=new zo(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(Cn)}),(0,be.w)(Dt=>{let Cn=!1;return(0,ae.of)(Dt).pipe(function qs(x,k){return(0,Ge.z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:X}}=w;if(!X.length)return(0,ae.of)(w);let ye=0;return(0,xe.D)(X).pipe((0,ze.b)(Te=>function ta(x,k,w,N){const X=x.routeConfig,ye=x._resolve;return void 0!==X?.title&&!Bs(X)&&(ye[Ke]=X.title),function _s(x,k,w,N){const X=function cs(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===X.length)return(0,ae.of)({});const ye={};return(0,xe.D)(X).pipe((0,Ge.z)(Te=>function Ta(x,k,w,N){const X=go(k)??N,ye=je(x,X);return bn(ye.resolve?ye.resolve(k,w):X.runInContext(()=>ye(k,w)))}(x[Te],k,w,N).pipe((0,Fe.P)(),(0,vt.b)(Dt=>{ye[Te]=Dt}))),ht(1),(0,Gt.h)(ye),(0,vn.K)(Te=>v(Te)?Ne.E:(0,Xe._)(Te)))}(ye,x,k,N).pipe((0,De.U)(Te=>(x._resolvedData=Te,x.data=Xn(x,w).resolve,X&&Bs(X)&&(x.data[Ke]=X.title),null)))}(Te.route,N,x,k)),(0,vt.b)(()=>ye++),ht(1),(0,Ge.z)(Te=>ye===X.length?(0,ae.of)(w):Ne.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,vt.b)({next:()=>Cn=!0,complete:()=>{Cn||(w.restoreHistory(Dt),this.cancelNavigationTransition(Dt,"",2))}}))}),(0,vt.b)(Dt=>{const Cn=new Ms(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(Cn)}))}),Qi(Te=>{const Dt=Cn=>{const ui=[];Cn.routeConfig?.loadComponent&&!Cn.routeConfig._loadedComponent&&ui.push(this.configLoader.loadComponent(Cn.routeConfig).pipe((0,vt.b)(un=>{Cn.component=un}),(0,De.U)(()=>{})));for(const un of Cn.children)ui.push(...Dt(un));return ui};return(0,_e.a)(Dt(Te.targetSnapshot.root)).pipe((0,ut.d)(),(0,Ae.q)(1))}),Qi(()=>this.afterPreactivation()),(0,De.U)(Te=>{const Dt=function ar(x,k,w){const N=Ir(x,k._root,w?w._root:void 0);return new dn(N,k)}(w.routeReuseStrategy,Te.targetSnapshot,Te.currentRouterState);return N={...Te,targetRouterState:Dt}}),(0,vt.b)(Te=>{w.currentUrlTree=Te.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(Te.urlAfterRedirects,Te.rawUrl),w.routerState=Te.targetRouterState,"deferred"===w.urlUpdateStrategy&&(Te.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,Te),w.browserUrlTree=Te.urlAfterRedirects)}),((x,k,w,N)=>(0,De.U)(X=>(new er(k,X.targetRouterState,X.currentRouterState,w,N).activate(x),X)))(this.rootContexts,w.routeReuseStrategy,Te=>this.events.next(Te),this.inputBindingEnabled),(0,Ae.q)(1),(0,vt.b)({next:Te=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new Di(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),w.titleStrategy?.updateTitle(Te.targetRouterState.snapshot),Te.resolve(!0)},complete:()=>{X=!0}}),(0,ln.x)(()=>{X||ye||this.cancelNavigationTransition(N,"",1),this.currentNavigation?.id===N.id&&(this.currentNavigation=null)}),(0,vn.K)(Te=>{if(ye=!0,ws(Te)){dr(Te)||(w.navigated=!0,w.restoreHistory(N,!0));const Dt=new Yo(N.id,this.urlSerializer.serialize(N.extractedUrl),Te.message,Te.cancellationCode);if(this.events.next(Dt),dr(Te)){const Cn=w.urlHandlingStrategy.merge(Te.url,w.rawUrlTree),ui={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||Q(N.source)};w.scheduleNavigation(Cn,Gr,null,ui,{resolve:N.resolve,reject:N.reject,promise:N.promise})}else N.resolve(!1)}else{w.restoreHistory(N,!0);const Dt=new bo(N.id,this.urlSerializer.serialize(N.extractedUrl),Te,N.targetSnapshot??void 0);this.events.next(Dt);try{N.resolve(w.errorHandler(Te))}catch(Cn){N.reject(Cn)}}return Ne.E}))}))}cancelNavigationTransition(w,N,X){const ye=new Yo(w.id,this.urlSerializer.serialize(w.extractedUrl),N,X);this.events.next(ye),w.resolve(!1)}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Q(x){return x!==Gr}let U=(()=>{class x{buildTitle(w){let N,X=w.root;for(;void 0!==X;)N=this.getResolvedTitleForRoute(X)??N,X=X.children.find(ye=>ye.outlet===Mt);return N}getResolvedTitleForRoute(w){return w.data[Ke]}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:function(){return(0,d.f3M)(fe)},providedIn:"root"}),x})(),fe=(()=>{class x extends U{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}}return x.\u0275fac=function(w){return new(w||x)(d.LFG(rn.Dx))},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Ye=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:function(){return(0,d.f3M)(fn)},providedIn:"root"}),x})();class Qt{shouldDetach(k){return!1}store(k,w){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,w){return k.routeConfig===w.routeConfig}}let fn=(()=>{class x extends Qt{}return x.\u0275fac=function(){let k;return function(N){return(k||(k=d.n5z(x)))(N||x)}}(),x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const qn=new d.OlP("",{providedIn:"root",factory:()=>({})});let Wi=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:function(){return(0,d.f3M)(Ai)},providedIn:"root"}),x})(),Ai=(()=>{class x{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();var Ci=(()=>((Ci=Ci||{})[Ci.COMPLETE=0]="COMPLETE",Ci[Ci.FAILED=1]="FAILED",Ci[Ci.REDIRECTING=2]="REDIRECTING",Ci))();function ki(x,k){x.events.pipe((0,K.h)(w=>w instanceof Di||w instanceof Yo||w instanceof bo||w instanceof yo),(0,De.U)(w=>w instanceof Di||w instanceof yo?Ci.COMPLETE:w instanceof Yo&&(0===w.code||1===w.code)?Ci.REDIRECTING:Ci.FAILED),(0,K.h)(w=>w!==Ci.REDIRECTING),(0,Ae.q)(1)).subscribe(()=>{k()})}function or(x){throw x}function zn(x,k,w){return k.parse("/")}const ao={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(qn,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||or,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Wi),this.routeReuseStrategy=(0,d.f3M)(Ye),this.titleStrategy=(0,d.f3M)(U),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(ko,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(P),this.urlSerializer=(0,d.f3M)(On),this.location=(0,d.f3M)(ue.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(Lo,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId??0},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gr,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,X){const ye={replaceUrl:!0},Te=X?.navigationId?X:null;if(X){const Cn={...X};delete Cn.navigationId,delete Cn.\u0275routerPageId,0!==Object.keys(Cn).length&&(ye.state=Cn)}const Dt=this.parseUrl(w);this.scheduleNavigation(Dt,N,Te,ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(as),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,N={}){const{relativeTo:X,queryParams:ye,fragment:Te,queryParamsHandling:Dt,preserveFragment:Cn}=N,ui=Cn?this.currentUrlTree.fragment:Te;let Un,un=null;switch(Dt){case"merge":un={...this.currentUrlTree.queryParams,...ye};break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=ye||null}null!==un&&(un=this.removeEmptyProps(un));try{Un=ti(X?X.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Un=this.currentUrlTree.root}return Mn(Un,w,un,ui??null)}navigateByUrl(w,N={skipLocationChange:!1}){const X=kt(w)?w:this.parseUrl(w),ye=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(ye,Gr,null,N)}navigate(w,N={skipLocationChange:!1}){return function ia(x){for(let k=0;k<x.length;k++)if(null==x[k])throw new d.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(X){N=this.malformedUriErrorHandler(X,this.urlSerializer,w)}return N}isActive(w,N){let X;if(X=!0===N?{...ao}:!1===N?{...vs}:N,kt(w))return Gn(this.currentUrlTree,w,X);const ye=this.parseUrl(w);return Gn(this.currentUrlTree,ye,X)}removeEmptyProps(w){return Object.keys(w).reduce((N,X)=>{const ye=w[X];return null!=ye&&(N[X]=ye),N},{})}scheduleNavigation(w,N,X,ye,Te){if(this.disposed)return Promise.resolve(!1);let Dt,Cn,ui;Te?(Dt=Te.resolve,Cn=Te.reject,ui=Te.promise):ui=new Promise((Un,oi)=>{Dt=Un,Cn=oi});const un=this.pendingTasks.add();return ki(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(un))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:ye,resolve:Dt,reject:Cn,promise:ui,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ui.catch(Un=>Promise.reject(Un))}setBrowserUrl(w,N){const X=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(X)||N.extras.replaceUrl){const Te={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(X,"",Te)}else{const ye={...N.extras.state,...this.generateNgRouterState(N.id,(this.browserPageId??0)+1)};this.location.go(X,"",ye)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ye?this.location.historyGo(ye):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ye&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class Rs{}let yl=(()=>{class x{constructor(w,N,X,ye,Te){this.router=w,this.injector=X,this.preloadingStrategy=ye,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,K.h)(w=>w instanceof Di),(0,ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const X=[];for(const ye of N){ye.providers&&!ye._injector&&(ye._injector=(0,d.MMx)(ye.providers,w,`Route: ${ye.path}`));const Te=ye._injector??w,Dt=ye._loadedInjector??Te;(ye.loadChildren&&!ye._loadedRoutes&&void 0===ye.canLoad||ye.loadComponent&&!ye._loadedComponent)&&X.push(this.preloadConfig(Te,ye)),(ye.children||ye._loadedRoutes)&&X.push(this.processRoutes(Dt,ye.children??ye._loadedRoutes))}return(0,xe.D)(X).pipe((0,_n.J)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let X;X=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,ae.of)(null);const ye=X.pipe((0,Ge.z)(Te=>null===Te?(0,ae.of)(void 0):(N._loadedRoutes=Te.routes,N._loadedInjector=Te.injector,this.processRoutes(Te.injector??w,Te.routes))));if(N.loadComponent&&!N._loadedComponent){const Te=this.loader.loadComponent(N);return(0,xe.D)([ye,Te]).pipe((0,_n.J)())}return ye})}}return x.\u0275fac=function(w){return new(w||x)(d.LFG(Wr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Rs),d.LFG(na))},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const rl=new d.OlP("");let wn=(()=>{class x{constructor(w,N,X,ye,Te={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=X,this.zone=ye,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration=Te.scrollPositionRestoration||"disabled",Te.anchorScrolling=Te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof vo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Di?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof yo&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ci&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ci(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return x.\u0275fac=function(w){d.$Z()},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac}),x})();function ds(x,k){return{\u0275kind:x,\u0275providers:k}}function Mr(){const x=(0,d.f3M)(d.zs3);return k=>{const w=x.get(d.z2F);if(k!==w.components[0])return;const N=x.get(Wr),X=x.get(Ds);1===x.get(ho)&&N.initialNavigation(),x.get(Bn,null,d.XFs.Optional)?.setUpPreloading(),x.get(rl,null,d.XFs.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),X.closed||(X.next(),X.complete(),X.unsubscribe())}}const Ds=new d.OlP("",{factory:()=>new yt.x}),ho=new d.OlP("",{providedIn:"root",factory:()=>1}),Bn=new d.OlP("");function Jt(x){return ds(0,[{provide:Bn,useExisting:yl},{provide:Rs,useExisting:x}])}const he=new d.OlP("ROUTER_FORROOT_GUARD"),et=[ue.Ye,{provide:On,useClass:Ie},Wr,Yr,{provide:An,useFactory:function xo(x){return x.routerState.root},deps:[Wr]},na,[]];function at(){return new d.PXZ("Router",Wr)}let $t=(()=>{class x{constructor(w){}static forRoot(w,N){return{ngModule:x,providers:[et,[],{provide:ko,multi:!0,useValue:w},{provide:he,useFactory:Vi,deps:[[Wr,new d.FiY,new d.tp0]]},{provide:qn,useValue:N||{}},N?.useHash?{provide:ue.S$,useClass:ue.Do}:{provide:ue.S$,useClass:ue.b0},{provide:rl,useFactory:()=>{const x=(0,d.f3M)(ue.EM),k=(0,d.f3M)(d.R0b),w=(0,d.f3M)(qn),N=(0,d.f3M)(P),X=(0,d.f3M)(On);return w.scrollOffset&&x.setOffset(w.scrollOffset),new wn(X,N,x,k,w)}},N?.preloadingStrategy?Jt(N.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:at},N?.initialNavigation?Fn(N):[],N?.bindToComponentInputs?ds(8,[oo,{provide:Lo,useExisting:oo}]).\u0275providers:[],[{provide:di,useFactory:Mr},{provide:d.tb,multi:!0,useExisting:di}]]}}static forChild(w){return{ngModule:x,providers:[{provide:ko,multi:!0,useValue:w}]}}}return x.\u0275fac=function(w){return new(w||x)(d.LFG(he,8))},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({}),x})();function Vi(x){return"guarded"}function Fn(x){return["disabled"===x.initialNavigation?ds(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const k=(0,d.f3M)(Wr);return()=>{k.setUpLocationChangeListener()}}},{provide:ho,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?ds(2,[{provide:ho,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:k=>{const w=k.get(ue.V_,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const X=k.get(Wr),ye=k.get(Ds);ki(X,()=>{N(!0)}),k.get(P).afterPreactivation=()=>(N(!0),ye.closed?(0,ae.of)(void 0):ye),X.initialNavigation()}))}}]).\u0275providers:[]]}const di=new d.OlP("")},3942:(gn,nt,E)=>{E.d(nt,{Z:()=>dt});var d=E(2090),B=E(4859),m=E(6881),ne=E(1877);class xe{constructor(Le,He){this._delegate=Le,this.firebase=He,(0,m._addComponent)(Le,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,m.deleteApp)(this._delegate)))}_getService(Le,He=m._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(Le);return!yt.isInitialized()&&"EXPLICIT"===(null===(Re=yt.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:He})}_removeServiceInstance(Le,He=m._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(He)}_addComponent(Le){(0,m._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,m._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Ee(){const it=function _e(it){const Le={},He={__esModule:!0,initializeApp:function ue($e,K={}){const Ge=m.initializeApp($e,K);if((0,d.r3)(Le,Ge.name))return Le[Ge.name];const Fe=new it(Ge,He);return Le[Ge.name]=Fe,Fe},app:yt,registerVersion:m.registerVersion,setLogLevel:m.setLogLevel,onLog:m.onLog,apps:null,SDK_VERSION:m.SDK_VERSION,INTERNAL:{registerComponent:function be($e){const K=$e.name,Ge=K.replace("-compat","");if(m._registerComponent($e)&&"PUBLIC"===$e.type){const Fe=(ze=yt())=>{if("function"!=typeof ze[Ge])throw Z.create("invalid-app-argument",{appName:K});return ze[Ge]()};void 0!==$e.serviceProps&&(0,d.ZB)(Fe,$e.serviceProps),He[Ge]=Fe,it.prototype[Ge]=function(...ze){return this._getService.bind(this,K).apply(this,$e.multipleInstances?ze:[])}}return"PUBLIC"===$e.type?He[Ge]:null},removeApp:function Re($e){delete Le[$e]},useAsService:function Ae($e,K){return"serverAuth"===K?null:K},modularAPIs:m}};function yt($e){if(!(0,d.r3)(Le,$e=$e||m._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:$e});return Le[$e]}return He.default=He,Object.defineProperty(He,"apps",{get:function De(){return Object.keys(Le).map($e=>Le[$e])}}),yt.App=it,He}(xe);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Le(He){(0,d.ZB)(it,He)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),it}(),de=new ne.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=se;!function Ne(it){(0,m.registerVersion)("@firebase/app-compat","0.2.12",it)}()},6881:(gn,nt,E)=>{E.r(nt),E.d(nt,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>_i,_DEFAULT_ENTRY_NAME:()=>st,_addComponent:()=>Ut,_addOrOverwriteComponent:()=>on,_apps:()=>qe,_clearComponents:()=>Ie,_components:()=>ke,_getProvider:()=>Wt,_registerComponent:()=>Kt,_removeServiceInstance:()=>On,deleteApp:()=>Je,getApp:()=>yi,getApps:()=>Zt,initializeApp:()=>Ri,onLog:()=>Oe,registerVersion:()=>Be,setLogLevel:()=>Se});var d=E(5861),B=E(4859),m=E(1877),ne=E(2090);const xe=(Lt,Ct)=>Ct.some(yn=>Lt instanceof yn);let ae,Z;const se=new WeakMap,de=new WeakMap,me=new WeakMap,Xe=new WeakMap,Ne=new WeakMap;let Le={get(Lt,Ct,yn){if(Lt instanceof IDBTransaction){if("done"===Ct)return de.get(Lt);if("objectStoreNames"===Ct)return Lt.objectStoreNames||me.get(Lt);if("store"===Ct)return yn.objectStoreNames[1]?void 0:yn.objectStore(yn.objectStoreNames[0])}return ue(Lt[Ct])},set:(Lt,Ct,yn)=>(Lt[Ct]=yn,!0),has:(Lt,Ct)=>Lt instanceof IDBTransaction&&("done"===Ct||"store"===Ct)||Ct in Lt};function yt(Lt){return"function"==typeof Lt?function Re(Lt){return Lt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Lt)?function(...Ct){return Lt.apply(De(this),Ct),ue(se.get(this))}:function(...Ct){return ue(Lt.apply(De(this),Ct))}:function(Ct,...yn){const Qn=Lt.call(De(this),Ct,...yn);return me.set(Qn,Ct.sort?Ct.sort():[Ct]),ue(Qn)}}(Lt):(Lt instanceof IDBTransaction&&function it(Lt){if(de.has(Lt))return;const Ct=new Promise((yn,Qn)=>{const Rn=()=>{Lt.removeEventListener("complete",Hn),Lt.removeEventListener("error",fi),Lt.removeEventListener("abort",fi)},Hn=()=>{yn(),Rn()},fi=()=>{Qn(Lt.error||new DOMException("AbortError","AbortError")),Rn()};Lt.addEventListener("complete",Hn),Lt.addEventListener("error",fi),Lt.addEventListener("abort",fi)});de.set(Lt,Ct)}(Lt),xe(Lt,function _e(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Lt,Le):Lt)}function ue(Lt){if(Lt instanceof IDBRequest)return function dt(Lt){const Ct=new Promise((yn,Qn)=>{const Rn=()=>{Lt.removeEventListener("success",Hn),Lt.removeEventListener("error",fi)},Hn=()=>{yn(ue(Lt.result)),Rn()},fi=()=>{Qn(Lt.error),Rn()};Lt.addEventListener("success",Hn),Lt.addEventListener("error",fi)});return Ct.then(yn=>{yn instanceof IDBCursor&&se.set(yn,Lt)}).catch(()=>{}),Ne.set(Ct,Lt),Ct}(Lt);if(Xe.has(Lt))return Xe.get(Lt);const Ct=yt(Lt);return Ct!==Lt&&(Xe.set(Lt,Ct),Ne.set(Ct,Lt)),Ct}const De=Lt=>Ne.get(Lt),$e=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],Ge=new Map;function Fe(Lt,Ct){if(!(Lt instanceof IDBDatabase)||Ct in Lt||"string"!=typeof Ct)return;if(Ge.get(Ct))return Ge.get(Ct);const yn=Ct.replace(/FromIndex$/,""),Qn=Ct!==yn,Rn=K.includes(yn);if(!(yn in(Qn?IDBIndex:IDBObjectStore).prototype)||!Rn&&!$e.includes(yn))return;const Hn=function(){var fi=(0,d.Z)(function*(ir,...gi){const Cr=this.transaction(ir,Rn?"readwrite":"readonly");let Kr=Cr.store;return Qn&&(Kr=Kr.index(gi.shift())),(yield Promise.all([Kr[yn](...gi),Rn&&Cr.done]))[0]});return function(gi){return fi.apply(this,arguments)}}();return Ge.set(Ct,Hn),Hn}!function He(Lt){Le=Lt(Le)}(Lt=>({...Lt,get:(Ct,yn,Qn)=>Fe(Ct,yn)||Lt.get(Ct,yn,Qn),has:(Ct,yn)=>!!Fe(Ct,yn)||Lt.has(Ct,yn)}));class ze{constructor(Ct){this.container=Ct}getPlatformInfoString(){return this.container.getProviders().map(yn=>{if(function vt(Lt){const Ct=Lt.getComponent();return"VERSION"===Ct?.type}(yn)){const Qn=yn.getImmediate();return`${Qn.library}/${Qn.version}`}return null}).filter(yn=>yn).join(" ")}}const vn="@firebase/app",ut=new m.Yd("@firebase/app"),st="[DEFAULT]",Ze={[vn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qe=new Map,ke=new Map;function Ut(Lt,Ct){try{Lt.container.addComponent(Ct)}catch(yn){ut.debug(`Component ${Ct.name} failed to register with FirebaseApp ${Lt.name}`,yn)}}function on(Lt,Ct){Lt.container.addOrOverwriteComponent(Ct)}function Kt(Lt){const Ct=Lt.name;if(ke.has(Ct))return ut.debug(`There were multiple attempts to register component ${Ct}.`),!1;ke.set(Ct,Lt);for(const yn of qe.values())Ut(yn,Lt);return!0}function Wt(Lt,Ct){const yn=Lt.container.getProvider("heartbeat").getImmediate({optional:!0});return yn&&yn.triggerHeartbeat(),Lt.container.getProvider(Ct)}function On(Lt,Ct,yn=st){Wt(Lt,Ct).clearInstance(yn)}function Ie(){ke.clear()}const Ht=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(Ct,yn,Qn){this._isDeleted=!1,this._options=Object.assign({},Ct),this._config=Object.assign({},yn),this._name=yn.name,this._automaticDataCollectionEnabled=yn.automaticDataCollectionEnabled,this._container=Qn,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ct){this._isDeleted=Ct}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const _i="9.22.2";function Ri(Lt,Ct={}){let yn=Lt;"object"!=typeof Ct&&(Ct={name:Ct});const Qn=Object.assign({name:st,automaticDataCollectionEnabled:!1},Ct),Rn=Qn.name;if("string"!=typeof Rn||!Rn)throw Ht.create("bad-app-name",{appName:String(Rn)});if(yn||(yn=(0,ne.aH)()),!yn)throw Ht.create("no-options");const Hn=qe.get(Rn);if(Hn){if((0,ne.vZ)(yn,Hn.options)&&(0,ne.vZ)(Qn,Hn.config))return Hn;throw Ht.create("duplicate-app",{appName:Rn})}const fi=new B.H0(Rn);for(const gi of ke.values())fi.addComponent(gi);const ir=new Sn(yn,Qn,fi);return qe.set(Rn,ir),ir}function yi(Lt=st){const Ct=qe.get(Lt);if(!Ct&&Lt===st&&(0,ne.aH)())return Ri();if(!Ct)throw Ht.create("no-app",{appName:Lt});return Ct}function Zt(){return Array.from(qe.values())}function Je(Lt){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(Lt){const Ct=Lt.name;qe.has(Ct)&&(qe.delete(Ct),yield Promise.all(Lt.container.getProviders().map(yn=>yn.delete())),Lt.isDeleted=!0)})).apply(this,arguments)}function Be(Lt,Ct,yn){var Qn;let Rn=null!==(Qn=Ze[Lt])&&void 0!==Qn?Qn:Lt;yn&&(Rn+=`-${yn}`);const Hn=Rn.match(/\s|\//),fi=Ct.match(/\s|\//);if(Hn||fi){const ir=[`Unable to register library "${Rn}" with version "${Ct}":`];return Hn&&ir.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),Hn&&fi&&ir.push("and"),fi&&ir.push(`version name "${Ct}" contains illegal characters (whitespace or "/")`),void ut.warn(ir.join(" "))}Kt(new B.wA(`${Rn}-version`,()=>({library:Rn,version:Ct}),"VERSION"))}function Oe(Lt,Ct){if(null!==Lt&&"function"!=typeof Lt)throw Ht.create("invalid-log-argument");(0,m.Am)(Lt,Ct)}function Se(Lt){(0,m.Ub)(Lt)}const wt="firebase-heartbeat-database",Vt=1,Me="firebase-heartbeat-store";let oe=null;function H(){return oe||(oe=function be(Lt,Ct,{blocked:yn,upgrade:Qn,blocking:Rn,terminated:Hn}={}){const fi=indexedDB.open(Lt,Ct),ir=ue(fi);return Qn&&fi.addEventListener("upgradeneeded",gi=>{Qn(ue(fi.result),gi.oldVersion,gi.newVersion,ue(fi.transaction),gi)}),yn&&fi.addEventListener("blocked",gi=>yn(gi.oldVersion,gi.newVersion,gi)),ir.then(gi=>{Hn&&gi.addEventListener("close",()=>Hn()),Rn&&gi.addEventListener("versionchange",Cr=>Rn(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),ir}(wt,Vt,{upgrade:(Lt,Ct)=>{0===Ct&&Lt.createObjectStore(Me)}}).catch(Lt=>{throw Ht.create("idb-open",{originalErrorMessage:Lt.message})})),oe}function z(){return(z=(0,d.Z)(function*(Lt){try{return yield(yield H()).transaction(Me).objectStore(Me).get(ve(Lt))}catch(Ct){if(Ct instanceof ne.ZR)ut.warn(Ct.message);else{const yn=Ht.create("idb-get",{originalErrorMessage:Ct?.message});ut.warn(yn.message)}}})).apply(this,arguments)}function le(Lt,Ct){return re.apply(this,arguments)}function re(){return(re=(0,d.Z)(function*(Lt,Ct){try{const Qn=(yield H()).transaction(Me,"readwrite");yield Qn.objectStore(Me).put(Ct,ve(Lt)),yield Qn.done}catch(yn){if(yn instanceof ne.ZR)ut.warn(yn.message);else{const Qn=Ht.create("idb-set",{originalErrorMessage:yn?.message});ut.warn(Qn.message)}}})).apply(this,arguments)}function ve(Lt){return`${Lt.name}!${Lt.options.appId}`}class kt{constructor(Ct){this.container=Ct,this._heartbeatsCache=null;const yn=this.container.getProvider("app").getImmediate();this._storage=new Mn(yn),this._heartbeatsCachePromise=this._storage.read().then(Qn=>(this._heartbeatsCache=Qn,Qn))}triggerHeartbeat(){var Ct=this;return(0,d.Z)(function*(){const Qn=Ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rn=en();if(null===Ct._heartbeatsCache&&(Ct._heartbeatsCache=yield Ct._heartbeatsCachePromise),Ct._heartbeatsCache.lastSentHeartbeatDate!==Rn&&!Ct._heartbeatsCache.heartbeats.some(Hn=>Hn.date===Rn))return Ct._heartbeatsCache.heartbeats.push({date:Rn,agent:Qn}),Ct._heartbeatsCache.heartbeats=Ct._heartbeatsCache.heartbeats.filter(Hn=>{const fi=new Date(Hn.date).valueOf();return Date.now()-fi<=2592e6}),Ct._storage.overwrite(Ct._heartbeatsCache)})()}getHeartbeatsHeader(){var Ct=this;return(0,d.Z)(function*(){if(null===Ct._heartbeatsCache&&(yield Ct._heartbeatsCachePromise),null===Ct._heartbeatsCache||0===Ct._heartbeatsCache.heartbeats.length)return"";const yn=en(),{heartbeatsToSend:Qn,unsentEntries:Rn}=function ti(Lt,Ct=1024){const yn=[];let Qn=Lt.slice();for(const Rn of Lt){const Hn=yn.find(fi=>fi.agent===Rn.agent);if(Hn){if(Hn.dates.push(Rn.date),Si(yn)>Ct){Hn.dates.pop();break}}else if(yn.push({agent:Rn.agent,dates:[Rn.date]}),Si(yn)>Ct){yn.pop();break}Qn=Qn.slice(1)}return{heartbeatsToSend:yn,unsentEntries:Qn}}(Ct._heartbeatsCache.heartbeats),Hn=(0,ne.L)(JSON.stringify({version:2,heartbeats:Qn}));return Ct._heartbeatsCache.lastSentHeartbeatDate=yn,Rn.length>0?(Ct._heartbeatsCache.heartbeats=Rn,yield Ct._storage.overwrite(Ct._heartbeatsCache)):(Ct._heartbeatsCache.heartbeats=[],Ct._storage.overwrite(Ct._heartbeatsCache)),Hn})()}}function en(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(Ct){this.app=Ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ct=this;return(0,d.Z)(function*(){return(yield Ct._canUseIndexedDBPromise)&&(yield function V(Lt){return z.apply(this,arguments)}(Ct.app))||{heartbeats:[]}})()}overwrite(Ct){var yn=this;return(0,d.Z)(function*(){var Qn;if(yield yn._canUseIndexedDBPromise){const Hn=yield yn.read();return le(yn.app,{lastSentHeartbeatDate:null!==(Qn=Ct.lastSentHeartbeatDate)&&void 0!==Qn?Qn:Hn.lastSentHeartbeatDate,heartbeats:Ct.heartbeats})}})()}add(Ct){var yn=this;return(0,d.Z)(function*(){var Qn;if(yield yn._canUseIndexedDBPromise){const Hn=yield yn.read();return le(yn.app,{lastSentHeartbeatDate:null!==(Qn=Ct.lastSentHeartbeatDate)&&void 0!==Qn?Qn:Hn.lastSentHeartbeatDate,heartbeats:[...Hn.heartbeats,...Ct.heartbeats]})}})()}}function Si(Lt){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Lt})).length}!function xi(Lt){Kt(new B.wA("platform-logger",Ct=>new ze(Ct),"PRIVATE")),Kt(new B.wA("heartbeat",Ct=>new kt(Ct),"PRIVATE")),Be(vn,"0.9.12",Lt),Be(vn,"0.9.12","esm2017"),Be("fire-js","")}("")},4859:(gn,nt,E)=>{E.d(nt,{H0:()=>_e,wA:()=>m});var d=E(5861),B=E(2090);class m{constructor(se,de,me){this.name=se,this.instanceFactory=de,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const ne="[DEFAULT]";class xe{constructor(se,de){this.name=se,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const de=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(de)){const me=new B.BH;if(this.instancesDeferred.set(de,me),this.isInitialized(de)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:de});Xe&&me.resolve(Xe)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(se){var de;const me=this.normalizeInstanceIdentifier(se?.identifier),Xe=null!==(de=se?.optional)&&void 0!==de&&de;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Ne){if(Xe)return null;throw Ne}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Z(Ee){return"EAGER"===Ee.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[de,me]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(de);try{const Ne=this.getOrInitializeService({instanceIdentifier:Xe});me.resolve(Ne)}catch{}}}}clearInstance(se=ne){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,d.Z)(function*(){const de=Array.from(se.instances.values());yield Promise.all([...de.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...de.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=ne){return this.instances.has(se)}getOptions(se=ne){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:de={}}=se,me=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:me,options:de});for(const[Ne,dt]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Ne)&&dt.resolve(Xe);return Xe}onInit(se,de){var me;const Xe=this.normalizeInstanceIdentifier(de),Ne=null!==(me=this.onInitCallbacks.get(Xe))&&void 0!==me?me:new Set;Ne.add(se),this.onInitCallbacks.set(Xe,Ne);const dt=this.instances.get(Xe);return dt&&se(dt,Xe),()=>{Ne.delete(se)}}invokeOnInitCallbacks(se,de){const me=this.onInitCallbacks.get(de);if(me)for(const Xe of me)try{Xe(se,de)}catch{}}getOrInitializeService({instanceIdentifier:se,options:de={}}){let me=this.instances.get(se);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=se,Ee===ne?void 0:Ee),options:de}),this.instances.set(se,me),this.instancesOptions.set(se,de),this.invokeOnInitCallbacks(me,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,me)}catch{}var Ee;return me||null}normalizeInstanceIdentifier(se=ne){return this.component?this.component.multipleInstances?se:ne:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const de=this.getProvider(se.name);if(de.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);de.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const de=new xe(se,this);return this.providers.set(se,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(gn,nt,E)=>{E.d(nt,{Am:()=>Ee,Ub:()=>_e,Yd:()=>Z,in:()=>B});const d=[];var B=(()=>((B=B||{})[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B))();const m={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ne=B.INFO,xe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ae=(se,de,...me)=>{if(de<se.logLevel)return;const Xe=(new Date).toISOString(),Ne=xe[de];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Ne](`[${Xe}]  ${se.name}:`,...me)};class Z{constructor(de){this.name=de,this._logLevel=ne,this._logHandler=ae,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in B))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?m[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...de),this._logHandler(this,B.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...de),this._logHandler(this,B.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,B.INFO,...de),this._logHandler(this,B.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,B.WARN,...de),this._logHandler(this,B.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...de),this._logHandler(this,B.ERROR,...de)}}function _e(se){d.forEach(de=>{de.setLogLevel(se)})}function Ee(se,de){for(const me of d){let Xe=null;de&&de.level&&(Xe=m[de.level]),me.userLogHandler=null===se?null:(Ne,dt,...it)=>{const Le=it.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");dt>=(Xe??Ne.logLevel)&&se({level:B[dt].toLowerCase(),message:Le,args:it,type:Ne.name})}}}},259:(gn,nt,E)=>{E.d(nt,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=E(6881);(0,d.registerVersion)("firebase","9.22.2","app")},9260:(gn,nt,E)=>{E.d(nt,{Z:()=>d.Z});var d=E(3942);d.Z.registerVersion("firebase","9.22.2","app-compat")},9568:(gn,nt,E)=>{E.r(nt);var d=E(5861),B=E(3942),m=E(1389),ne=E(2090),Z=(E(6881),E(1877),E(4859));function _e(){return window}function de(){return de=(0,d.Z)(function*(H,V,z){var le;const{BuildInfo:re}=_e();(0,m.as)(V.sessionId,"AuthEvent did not contain a session ID");const ve=yield function He(H){return Re.apply(this,arguments)}(V.sessionId),xt={};return(0,m.at)()?xt.ibi=re.packageName:(0,m.au)()?xt.apn=re.packageName:(0,m.av)(H,"operation-not-supported-in-this-environment"),re.displayName&&(xt.appDisplayName=re.displayName),xt.sessionId=ve,(0,m.aw)(H,z,V.type,void 0,null!==(le=V.eventId)&&void 0!==le?le:void 0,xt)}),de.apply(this,arguments)}function Xe(){return(Xe=(0,d.Z)(function*(H){const{BuildInfo:V}=_e(),z={};(0,m.at)()?z.iosBundleId=V.packageName:(0,m.au)()?z.androidPackageName=V.packageName:(0,m.av)(H,"operation-not-supported-in-this-environment"),yield(0,m.ax)(H,z)})).apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(H,V,z){const{cordova:le}=_e();let re=()=>{};try{yield new Promise((ve,xt)=>{let bt=null;function kt(){var Mn;ve();const Si=null===(Mn=le.plugins.browsertab)||void 0===Mn?void 0:Mn.close;"function"==typeof Si&&Si(),"function"==typeof z?.close&&z.close()}function en(){bt||(bt=window.setTimeout(()=>{xt((0,m.az)(H,"redirect-cancelled-by-user"))},2e3))}function ti(){"visible"===document?.visibilityState&&en()}V.addPassiveListener(kt),document.addEventListener("resume",en,!1),(0,m.au)()&&document.addEventListener("visibilitychange",ti,!1),re=()=>{V.removePassiveListener(kt),document.removeEventListener("resume",en,!1),document.removeEventListener("visibilitychange",ti,!1),bt&&window.clearTimeout(bt)}})}finally{re()}})).apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(H){const V=function yt(H){if((0,m.as)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const V=new ArrayBuffer(H.length),z=new Uint8Array(V);for(let le=0;le<H.length;le++)z[le]=H.charCodeAt(le);return z}(H),z=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(z)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class De extends m.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(V)),super.onEvent(V)}initialized(){var V=this;return(0,d.Z)(function*(){yield V.initPromise})()}}function $e(H){return K.apply(this,arguments)}function K(){return(K=(0,d.Z)(function*(H){const V=yield ze()._get(vt(H));return V&&(yield ze()._remove(vt(H))),V})).apply(this,arguments)}function Fe(){const H=[];for(let z=0;z<20;z++){const le=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return H.join("")}function ze(){return(0,m.aC)(m.b)}function vt(H){return(0,m.aD)("authEvent",H.config.apiKey,H.name)}function ut(H){if(!H?.includes("?"))return{};const[V,...z]=H.split("?");return(0,ne.zd)(z.join("?"))}const Rt=class At{constructor(){this._redirectPersistence=m.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=m.aE,this._overrideRedirectResult=m.aF}_initialize(V){var z=this;return(0,d.Z)(function*(){const le=V._key();let re=z.eventManagers.get(le);return re||(re=new De(V),z.eventManagers.set(le,re),z.attachCallbackListeners(V,re)),re})()}_openPopup(V){(0,m.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,z,le,re){var ve=this;return(0,d.Z)(function*(){!function Le(H){var V,z,le,re,ve,xt,bt,kt,en,ti;const Mn=_e();(0,m.aA)("function"==typeof(null===(V=Mn?.universalLinks)||void 0===V?void 0:V.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,m.aA)(typeof(null===(z=Mn?.BuildInfo)||void 0===z?void 0:z.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,m.aA)("function"==typeof(null===(ve=null===(re=null===(le=Mn?.cordova)||void 0===le?void 0:le.plugins)||void 0===re?void 0:re.browsertab)||void 0===ve?void 0:ve.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,m.aA)("function"==typeof(null===(kt=null===(bt=null===(xt=Mn?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===kt?void 0:kt.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,m.aA)("function"==typeof(null===(ti=null===(en=Mn?.cordova)||void 0===en?void 0:en.InAppBrowser)||void 0===ti?void 0:ti.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const xt=yield ve._initialize(V);yield xt.initialized(),xt.resetRedirect(),(0,m.aG)(),yield ve._originValidation(V);const bt=function be(H,V,z=null){return{type:V,eventId:z,urlResponse:null,sessionId:Fe(),postBody:null,tenantId:H.tenantId,error:(0,m.az)(H,"no-auth-event")}}(V,le,re);yield function Ae(H,V){return ze()._set(vt(H),V)}(V,bt);const kt=yield function se(H,V,z){return de.apply(this,arguments)}(V,bt,z),en=yield function Ne(H){const{cordova:V}=_e();return new Promise(z=>{V.plugins.browsertab.isAvailable(le=>{let re=null;le?V.plugins.browsertab.openUrl(H):re=V.InAppBrowser.open(H,(0,m.ay)()?"_blank":"_system","location=yes"),z(re)})})}(kt);return function dt(H,V,z){return it.apply(this,arguments)}(V,xt,en)})()}_isIframeWebStorageSupported(V,z){throw new Error("Method not implemented.")}_originValidation(V){const z=V._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function me(H){return Xe.apply(this,arguments)}(V)),this.originValidationPromises[z]}attachCallbackListeners(V,z){const{universalLinks:le,handleOpenURL:re,BuildInfo:ve}=_e(),xt=setTimeout((0,d.Z)(function*(){yield $e(V),z.onEvent(qt())}),500),bt=function(){var ti=(0,d.Z)(function*(Mn){clearTimeout(xt);const Si=yield $e(V);let xi=null;Si&&Mn?.url&&(xi=function Ge(H,V){var z,le;const re=function kn(H){const V=ut(H),z=V.link?decodeURIComponent(V.link):void 0,le=ut(z).link,re=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return ut(re).link||re||le||z||H}(V);if(re.includes("/__/auth/callback")){const ve=ut(re),xt=ve.firebaseError?function vn(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,bt=null===(le=null===(z=xt?.code)||void 0===z?void 0:z.split("auth/"))||void 0===le?void 0:le[1],kt=bt?(0,m.az)(bt):null;return kt?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:re,postBody:null}}return null}(Si,Mn.url)),z.onEvent(xi||qt())});return function(Si){return ti.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,bt);const kt=re,en=`${ve.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var ti=(0,d.Z)(function*(Mn){if(Mn.toLowerCase().startsWith(en)&&bt({url:Mn}),"function"==typeof kt)try{kt(Mn)}catch(Si){console.error(Si)}});return function(Mn){return ti.apply(this,arguments)}}()}};function qt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,m.az)("no-auth-event")}}function Mt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function Qe(H=(0,ne.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function cn(){try{const H=self.localStorage,V=m.aL();if(H)return H.setItem(V,"1"),H.removeItem(V),!function Tt(H=(0,ne.z$)()){return function mt(){return(0,ne.w1)()&&11===document?.documentMode}()||function jt(H=(0,ne.z$)()){return/Edge\/\d+/.test(H)}(H)}()||(0,ne.hl)()}catch{return Xt()&&(0,ne.hl)()}return!1}function Xt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return(function Ke(){return"http:"===Mt()||"https:"===Mt()}()||(0,ne.ru)()||Qe())&&!function St(){return(0,ne.b$)()||(0,ne.UG)()}()&&cn()&&!Xt()}function Zn(){return Qe()&&typeof document<"u"}function Gn(){return(Gn=(0,d.Z)(function*(){return!!Zn()&&new Promise(H=>{const V=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),H(!0)})})})).apply(this,arguments)}const ce={LOCAL:"local",NONE:"none",SESSION:"session"},Ve=m.aA,ft="persistence";function Ze(H){return qe.apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(H){yield H._initializationPromise;const V=Ut(),z=m.aD(ft,H.config.apiKey,H.name);V&&V.setItem(z,H._getPersistence())})).apply(this,arguments)}function Ut(){var H;try{return(null===(H=function Bt(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const on=m.aA;class Kt{constructor(){this.browserResolver=m.aC(m.k),this.cordovaResolver=m.aC(Rt),this.underlyingResolver=null,this._redirectPersistence=m.a,this._completeRedirectFn=m.aE,this._overrideRedirectResult=m.aF}_initialize(V){var z=this;return(0,d.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,z,le,re){var ve=this;return(0,d.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(V,z,le,re)})()}_openRedirect(V,z,le,re){var ve=this;return(0,d.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(V,z,le,re)})()}_isIframeWebStorageSupported(V,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,z)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Zn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return on(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,d.Z)(function*(){if(V.underlyingResolver)return;const z=yield function pi(){return Gn.apply(this,arguments)}();V.underlyingResolver=z?V.cordovaResolver:V.browserResolver})()}}function Wt(H){return H.unwrap()}function Ie(H){return Ht(H)}function Ht(H){const{_tokenResponse:V}=H instanceof ne.ZR?H.customData:H;if(!V)return null;if(!(H instanceof ne.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return m.P.credentialFromResult(H);const z=V.providerId;if(!z||z===m.p.PASSWORD)return null;let le;switch(z){case m.p.GOOGLE:le=m.V;break;case m.p.FACEBOOK:le=m.U;break;case m.p.GITHUB:le=m.W;break;case m.p.TWITTER:le=m.Z;break;default:const{oauthIdToken:re,oauthAccessToken:ve,oauthTokenSecret:xt,pendingToken:bt,nonce:kt}=V;return ve||xt||re||bt?bt?z.startsWith("saml.")?m.aO._create(z,bt):m.L._fromParams({providerId:z,signInMethod:z,pendingToken:bt,idToken:re,accessToken:ve}):new m.X(z).credential({idToken:re,accessToken:ve,rawNonce:kt}):null}return H instanceof ne.ZR?le.credentialFromError(H):le.credentialFromResult(H)}function Sn(H,V){return V.catch(z=>{throw z instanceof ne.ZR&&function _t(H,V){var z;const le=null===(z=V.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new yi(H,m.aq(H,V));else if(le){const re=Ht(V),ve=V;re&&(ve.credential=re,ve.tenantId=le.tenantId||void 0,ve.email=le.email||void 0,ve.phoneNumber=le.phoneNumber||void 0)}}(H,z),z}).then(z=>{const re=z.user;return{operationType:z.operationType,credential:Ie(z),additionalUserInfo:m.ao(z),user:Zt.getOrCreate(re)}})}function _i(H,V){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,d.Z)(function*(H,V){const z=yield V;return{verificationId:z.verificationId,confirm:le=>Sn(H,z.confirm(le))}})).apply(this,arguments)}class yi{constructor(V,z){this.resolver=z,this.auth=function On(H){return H.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return Sn(Wt(this.auth),this.resolver.resolveSignIn(V))}}class Zt{constructor(V){this._delegate=V,this.multiFactor=m.ar(V)}static getOrCreate(V){return Zt.USER_MAP.has(V)||Zt.USER_MAP.set(V,new Zt(V)),Zt.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var z=this;return(0,d.Z)(function*(){return Sn(z.auth,m.a0(z._delegate,V))})()}linkWithPhoneNumber(V,z){var le=this;return(0,d.Z)(function*(){return _i(le.auth,m.l(le._delegate,V,z))})()}linkWithPopup(V){var z=this;return(0,d.Z)(function*(){return Sn(z.auth,m.d(z._delegate,V,Kt))})()}linkWithRedirect(V){var z=this;return(0,d.Z)(function*(){return yield Ze(m.aH(z.auth)),m.g(z._delegate,V,Kt)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var z=this;return(0,d.Z)(function*(){return Sn(z.auth,m.a1(z._delegate,V))})()}reauthenticateWithPhoneNumber(V,z){return _i(this.auth,m.r(this._delegate,V,z))}reauthenticateWithPopup(V){return Sn(this.auth,m.e(this._delegate,V,Kt))}reauthenticateWithRedirect(V){var z=this;return(0,d.Z)(function*(){return yield Ze(m.aH(z.auth)),m.h(z._delegate,V,Kt)})()}sendEmailVerification(V){return m.ae(this._delegate,V)}unlink(V){var z=this;return(0,d.Z)(function*(){return yield m.an(z._delegate,V),z})()}updateEmail(V){return m.aj(this._delegate,V)}updatePassword(V){return m.ak(this._delegate,V)}updatePhoneNumber(V){return m.u(this._delegate,V)}updateProfile(V){return m.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,z){return m.af(this._delegate,V,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zt.USER_MAP=new WeakMap;const Je=m.aA;let rt=(()=>{class H{constructor(z,le){if(this.app=z,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=z.options;Je(re,"invalid-api-key",{appName:z.name}),Je(re,"invalid-api-key",{appName:z.name});const ve=typeof window<"u"?Kt:void 0;this._delegate=le.initialize({options:{persistence:Oe(re,z.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(m.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,le){m.I(this._delegate,z,le)}applyActionCode(z){return m.a5(this._delegate,z)}checkActionCode(z){return m.a6(this._delegate,z)}confirmPasswordReset(z,le){return m.a4(this._delegate,z,le)}createUserWithEmailAndPassword(z,le){var re=this;return(0,d.Z)(function*(){return Sn(re._delegate,m.a8(re._delegate,z,le))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return m.ad(this._delegate,z)}isSignInWithEmailLink(z){return m.ab(this._delegate,z)}getRedirectResult(){var z=this;return(0,d.Z)(function*(){Je(bn(),z._delegate,"operation-not-supported-in-this-environment");const le=yield m.j(z._delegate,Kt);return le?Sn(z._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function Gt(H,V){(0,m.aH)(H)._logFramework(V)}(this._delegate,z)}onAuthStateChanged(z,le,re){const{next:ve,error:xt,complete:bt}=Be(z,le,re);return this._delegate.onAuthStateChanged(ve,xt,bt)}onIdTokenChanged(z,le,re){const{next:ve,error:xt,complete:bt}=Be(z,le,re);return this._delegate.onIdTokenChanged(ve,xt,bt)}sendSignInLinkToEmail(z,le){return m.aa(this._delegate,z,le)}sendPasswordResetEmail(z,le){return m.a3(this._delegate,z,le||void 0)}setPersistence(z){var le=this;return(0,d.Z)(function*(){let re;switch(function st(H,V){Ve(Object.values(ce).includes(V),H,"invalid-persistence-type"),(0,ne.b$)()?Ve(V!==ce.SESSION,H,"unsupported-persistence-type"):(0,ne.UG)()?Ve(V===ce.NONE,H,"unsupported-persistence-type"):Xt()?Ve(V===ce.NONE||V===ce.LOCAL&&(0,ne.hl)(),H,"unsupported-persistence-type"):Ve(V===ce.NONE||cn(),H,"unsupported-persistence-type")}(le._delegate,z),z){case ce.SESSION:re=m.a;break;case ce.LOCAL:re=(yield m.aC(m.i)._isAvailable())?m.i:m.b;break;case ce.NONE:re=m.N;break;default:return m.av("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return Sn(this._delegate,m._(this._delegate))}signInWithCredential(z){return Sn(this._delegate,m.$(this._delegate,z))}signInWithCustomToken(z){return Sn(this._delegate,m.a2(this._delegate,z))}signInWithEmailAndPassword(z,le){return Sn(this._delegate,m.a9(this._delegate,z,le))}signInWithEmailLink(z,le){return Sn(this._delegate,m.ac(this._delegate,z,le))}signInWithPhoneNumber(z,le){return _i(this._delegate,m.s(this._delegate,z,le))}signInWithPopup(z){var le=this;return(0,d.Z)(function*(){return Je(bn(),le._delegate,"operation-not-supported-in-this-environment"),Sn(le._delegate,m.c(le._delegate,z,Kt))})()}signInWithRedirect(z){var le=this;return(0,d.Z)(function*(){return Je(bn(),le._delegate,"operation-not-supported-in-this-environment"),yield Ze(le._delegate),m.f(le._delegate,z,Kt)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return m.a7(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=ce,H})();function Be(H,V,z){let le=H;"function"!=typeof H&&({next:le,error:V,complete:z}=H);const re=le;return{next:xt=>re(xt&&Zt.getOrCreate(xt)),error:V,complete:z}}function Oe(H,V){const z=function ke(H,V){const z=Ut();if(!z)return[];const le=m.aD(ft,H,V);switch(z.getItem(le)){case ce.NONE:return[m.N];case ce.LOCAL:return[m.i,m.a];case ce.SESSION:return[m.a];default:return[]}}(H,V);if(typeof self<"u"&&!z.includes(m.i)&&z.push(m.i),typeof window<"u")for(const le of[m.b,m.a])z.includes(le)||z.push(le);return z.includes(m.N)||z.push(m.N),z}class Se{constructor(){this.providerId="phone",this._delegate=new m.P(Wt(B.Z.auth()))}static credential(V,z){return m.P.credential(V,z)}verifyPhoneNumber(V,z){return this._delegate.verifyPhoneNumber(V,z)}unwrap(){return this._delegate}}Se.PHONE_SIGN_IN_METHOD=m.P.PHONE_SIGN_IN_METHOD,Se.PROVIDER_ID=m.P.PROVIDER_ID;const wt=m.aA;class Vt{constructor(V,z,le=B.Z.app()){var re;wt(null===(re=le.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new m.R(V,z,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(H){H.INTERNAL.registerComponent(new Z.wA("auth-compat",V=>{const z=V.getProvider("app-compat").getImmediate(),le=V.getProvider("auth");return new rt(z,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:m.A.EMAIL_SIGNIN,PASSWORD_RESET:m.A.PASSWORD_RESET,RECOVER_EMAIL:m.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:m.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:m.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:m.A.VERIFY_EMAIL}},EmailAuthProvider:m.Q,FacebookAuthProvider:m.U,GithubAuthProvider:m.W,GoogleAuthProvider:m.V,OAuthProvider:m.X,SAMLAuthProvider:m.Y,PhoneAuthProvider:Se,PhoneMultiFactorGenerator:m.m,RecaptchaVerifier:Vt,TwitterAuthProvider:m.Z,Auth:rt,AuthCredential:m.J,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(gn,nt,E)=>{function d(m,ne,xe,ae,Z,_e,Ee){try{var se=m[_e](Ee),de=se.value}catch(me){return void xe(me)}se.done?ne(de):Promise.resolve(de).then(ae,Z)}function B(m){return function(){var ne=this,xe=arguments;return new Promise(function(ae,Z){var _e=m.apply(ne,xe);function Ee(de){d(_e,ae,Z,Ee,se,"next",de)}function se(de){d(_e,ae,Z,Ee,se,"throw",de)}Ee(void 0)})}}E.d(nt,{Z:()=>B})},7582:(gn,nt,E)=>{function ne(ut,ht){var At={};for(var Rt in ut)Object.prototype.hasOwnProperty.call(ut,Rt)&&ht.indexOf(Rt)<0&&(At[Rt]=ut[Rt]);if(null!=ut&&"function"==typeof Object.getOwnPropertySymbols){var qt=0;for(Rt=Object.getOwnPropertySymbols(ut);qt<Rt.length;qt++)ht.indexOf(Rt[qt])<0&&Object.prototype.propertyIsEnumerable.call(ut,Rt[qt])&&(At[Rt[qt]]=ut[Rt[qt]])}return At}function me(ut,ht,At,Rt){return new(At||(At=Promise))(function(Gt,ln){function _n(Ke){try{Mt(Rt.next(Ke))}catch(Qe){ln(Qe)}}function rn(Ke){try{Mt(Rt.throw(Ke))}catch(Qe){ln(Qe)}}function Mt(Ke){Ke.done?Gt(Ke.value):function qt(Gt){return Gt instanceof At?Gt:new At(function(ln){ln(Gt)})}(Ke.value).then(_n,rn)}Mt((Rt=Rt.apply(ut,ht||[])).next())})}function ue(ut){return this instanceof ue?(this.v=ut,this):new ue(ut)}function De(ut,ht,At){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qt,Rt=At.apply(ut,ht||[]),Gt=[];return qt={},ln("next"),ln("throw"),ln("return"),qt[Symbol.asyncIterator]=function(){return this},qt;function ln(St){Rt[St]&&(qt[St]=function(mt){return new Promise(function(jt,Tt){Gt.push([St,mt,jt,Tt])>1||_n(St,mt)})})}function _n(St,mt){try{!function rn(St){St.value instanceof ue?Promise.resolve(St.value.v).then(Mt,Ke):Qe(Gt[0][2],St)}(Rt[St](mt))}catch(jt){Qe(Gt[0][3],jt)}}function Mt(St){_n("next",St)}function Ke(St){_n("throw",St)}function Qe(St,mt){St(mt),Gt.shift(),Gt.length&&_n(Gt[0][0],Gt[0][1])}}function Ae(ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At,ht=ut[Symbol.asyncIterator];return ht?ht.call(ut):(ut=function it(ut){var ht="function"==typeof Symbol&&Symbol.iterator,At=ht&&ut[ht],Rt=0;if(At)return At.call(ut);if(ut&&"number"==typeof ut.length)return{next:function(){return ut&&Rt>=ut.length&&(ut=void 0),{value:ut&&ut[Rt++],done:!ut}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")}(ut),At={},Rt("next"),Rt("throw"),Rt("return"),At[Symbol.asyncIterator]=function(){return this},At);function Rt(Gt){At[Gt]=ut[Gt]&&function(ln){return new Promise(function(_n,rn){!function qt(Gt,ln,_n,rn){Promise.resolve(rn).then(function(Mt){Gt({value:Mt,done:_n})},ln)}(_n,rn,(ln=ut[Gt](ln)).done,ln.value)})}}}E.d(nt,{FC:()=>De,KL:()=>Ae,_T:()=>ne,mG:()=>me,qq:()=>ue})}},gn=>{gn(gn.s=7655)}]);