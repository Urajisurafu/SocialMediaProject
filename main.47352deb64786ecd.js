"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[179],{6217:(pn,it,E)=>{E.d(it,{nm:()=>Co});var d=E(4976);E(2223),E(259);var ue=E(5861),De=E(6881),be=E(4859),Me=E(2090),$e=E(1877);const K=new Map,Ge={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function ze(_t){return K.get(_t)||Object.assign({},Ge)}function _n(){return Fe}const kn="https://content-firebaseappcheck.googleapis.com/v1",kt="exchangeDebugToken",Pt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Gt{constructor(ct,Rt,rn,cn,nn){if(this.operation=ct,this.retryPolicy=Rt,this.getWaitDuration=rn,this.lowerBound=cn,this.upperBound=nn,this.pending=null,this.nextErrorWaitInterval=cn,cn>nn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ct){var Rt=this;return(0,ue.Z)(function*(){Rt.stop();try{Rt.pending=new Me.BH,yield function dn(_t){return new Promise(ct=>{setTimeout(ct,_t)})}(Rt.getNextRun(ct)),Rt.pending.resolve(),yield Rt.pending.promise,Rt.pending=new Me.BH,yield Rt.operation(),Rt.pending.resolve(),yield Rt.pending.promise,Rt.process(!0).catch(()=>{})}catch(rn){Rt.retryPolicy(rn)?Rt.process(!1).catch(()=>{}):Rt.stop()}})()}getNextRun(ct){if(ct)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Rt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Rt}}}const an=new Me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ke(_t){if(!ze(_t).activated)throw an.create("use-before-activation",{appName:_t.name})}function yt(_t,ct){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,ue.Z)(function*({url:_t,body:ct},Rt){const rn={"Content-Type":"application/json"},cn=Rt.getImmediate({optional:!0});if(cn){const Qi=yield cn.getHeartbeatsHeader();Qi&&(rn["X-Firebase-Client"]=Qi)}const nn={method:"POST",body:JSON.stringify(ct),headers:rn};let Rn,ii;try{Rn=yield fetch(_t,nn)}catch(Qi){throw an.create("fetch-network-error",{originalErrorMessage:Qi?.message})}if(200!==Rn.status)throw an.create("fetch-status-error",{httpStatus:Rn.status});try{ii=yield Rn.json()}catch(Qi){throw an.create("fetch-parse-error",{originalErrorMessage:Qi?.message})}const ui=ii.ttl.match(/^([\d.]+)(s)$/);if(!ui||!ui[2]||isNaN(Number(ui[1])))throw an.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ii.ttl}`});const kr=1e3*Number(ui[1]),or=Date.now();return{token:ii.token,expireTimeMillis:or+kr,issuedAtTimeMillis:or}})).apply(this,arguments)}function Jt(_t,ct){const{projectId:Rt,appId:rn,apiKey:cn}=_t.options;return{url:`${kn}/projects/${Rt}/apps/${rn}:${kt}?key=${cn}`,body:{debug_token:ct}}}const yn="firebase-app-check-database",Gn=1,ci="firebase-app-check-store";let Ut=null;function Ae(){return(Ae=(0,ue.Z)(function*(_t,ct){const rn=(yield function ce(){return Ut||(Ut=new Promise((_t,ct)=>{try{const Rt=indexedDB.open(yn,Gn);Rt.onsuccess=rn=>{_t(rn.target.result)},Rt.onerror=rn=>{var cn;ct(an.create("storage-open",{originalErrorMessage:null===(cn=rn.target.error)||void 0===cn?void 0:cn.message}))},Rt.onupgradeneeded=rn=>{0===rn.oldVersion&&rn.target.result.createObjectStore(ci,{keyPath:"compositeKey"})}}catch(Rt){ct(an.create("storage-open",{originalErrorMessage:Rt?.message}))}}),Ut)}()).transaction(ci,"readwrite"),nn=rn.objectStore(ci).put({compositeKey:_t,value:ct});return new Promise((Rn,ii)=>{nn.onsuccess=ui=>{Rn()},rn.onerror=ui=>{var kr;ii(an.create("storage-set",{originalErrorMessage:null===(kr=ui.target.error)||void 0===kr?void 0:kr.message}))}})})).apply(this,arguments)}const Kt=new $e.Yd("@firebase/app-check");function gt(_t,ct){return(0,Me.hl)()?function mt(_t,ct){return function Qe(_t,ct){return Ae.apply(this,arguments)}(function Mt(_t){return`${_t.options.appId}-${_t.name}`}(_t),ct)}(_t,ct).catch(Rt=>{Kt.warn(`Failed to write token to IndexedDB. Error: ${Rt}`)}):Promise.resolve()}function di(){return _n().enabled}function Si(){return mi.apply(this,arguments)}function mi(){return(mi=(0,ue.Z)(function*(){const _t=_n();if(_t.enabled&&_t.token)return _t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const et={error:"UNKNOWN_ERROR"};function st(_t){return Me.US.encodeString(JSON.stringify(_t),!1)}function Be(_t){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,ue.Z)(function*(_t,ct=!1){const Rt=_t.app;Ke(Rt);const rn=ze(Rt);let nn,cn=rn.token;if(cn&&!$(cn)&&(rn.token=void 0,cn=void 0),!cn){const ui=yield rn.cachedTokenPromise;ui&&($(ui)?cn=ui:yield gt(Rt,void 0))}if(!ct&&cn&&$(cn))return{token:cn.token};let ii,Rn=!1;if(di()){rn.exchangeTokenPromise||(rn.exchangeTokenPromise=yt(Jt(Rt,yield Si()),_t.heartbeatServiceProvider).finally(()=>{rn.exchangeTokenPromise=void 0}),Rn=!0);const ui=yield rn.exchangeTokenPromise;return yield gt(Rt,ui),rn.token=ui,{token:ui.token}}try{rn.exchangeTokenPromise||(rn.exchangeTokenPromise=rn.provider.getToken().finally(()=>{rn.exchangeTokenPromise=void 0}),Rn=!0),cn=yield ze(Rt).exchangeTokenPromise}catch(ui){"appCheck/throttled"===ui.code?Kt.warn(ui.message):Kt.error(ui),nn=ui}return cn?nn?ii=$(cn)?{token:cn.token,internalError:nn}:le(nn):(ii={token:cn.token},rn.token=cn,yield gt(Rt,cn)):ii=le(nn),Rn&&function U(_t,ct){const Rt=ze(_t).tokenObservers;for(const rn of Rt)try{"EXTERNAL"===rn.type&&null!=ct.error?rn.error(ct.error):rn.next(ct)}catch{}}(Rt,ii),ii})).apply(this,arguments)}function Ie(_t){return xt.apply(this,arguments)}function xt(){return(xt=(0,ue.Z)(function*(_t){const ct=_t.app;Ke(ct);const{provider:Rt}=ze(ct);if(di()){const rn=yield Si(),{token:cn}=yield yt(Jt(ct,rn),_t.heartbeatServiceProvider);return{token:cn}}{const{token:rn}=yield Rt.getToken();return{token:rn}}})).apply(this,arguments)}function Te(_t,ct){const Rt=ze(_t),rn=Rt.tokenObservers.filter(cn=>cn.next!==ct);0===rn.length&&Rt.tokenRefresher&&Rt.tokenRefresher.isRunning()&&Rt.tokenRefresher.stop(),Rt.tokenObservers=rn}function oe(_t){const{app:ct}=_t,Rt=ze(ct);let rn=Rt.tokenRefresher;rn||(rn=function H(_t){const{app:ct}=_t;return new Gt((0,ue.Z)(function*(){let rn;if(rn=ze(ct).token?yield Be(_t,!0):yield Be(_t),rn.error)throw rn.error;if(rn.internalError)throw rn.internalError}),()=>!0,()=>{const Rt=ze(ct);if(Rt.token){let rn=Rt.token.issuedAtTimeMillis+.5*(Rt.token.expireTimeMillis-Rt.token.issuedAtTimeMillis)+3e5;return rn=Math.min(rn,Rt.token.expireTimeMillis-3e5),Math.max(0,rn-Date.now())}return 0},Pt.RETRIAL_MIN_WAIT,Pt.RETRIAL_MAX_WAIT)}(_t),Rt.tokenRefresher=rn),!rn.isRunning()&&Rt.isTokenAutoRefreshEnabled&&rn.start()}function $(_t){return _t.expireTimeMillis-Date.now()>0}function le(_t){return{token:st(et),error:_t}}class re{constructor(ct,Rt){this.app=ct,this.heartbeatServiceProvider=Rt}_delete(){const{tokenObservers:ct}=ze(this.app);for(const Rt of ct)Te(this.app,Rt.next);return Promise.resolve()}}const es="app-check-internal";!function fo(){(0,De._registerComponent)(new be.wA("app-check",_t=>function ve(_t,ct){return new re(_t,ct)}(_t.getProvider("app").getImmediate(),_t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_t,ct,Rt)=>{_t.getProvider(es).initialize()})),(0,De._registerComponent)(new be.wA(es,_t=>function Et(_t){return{getToken:ct=>Be(_t,ct),getLimitedUseToken:()=>Ie(_t),addTokenListener:ct=>function jt(_t,ct,Rt,rn){const{app:cn}=_t,nn=ze(cn);if(nn.tokenObservers=[...nn.tokenObservers,{next:Rt,error:rn,type:ct}],nn.token&&$(nn.token)){const ii=nn.token;Promise.resolve().then(()=>{Rt({token:ii.token}),oe(_t)}).catch(()=>{})}nn.cachedTokenPromise.then(()=>oe(_t))}(_t,"INTERNAL",ct),removeTokenListener:ct=>Te(_t.app,ct)}}(_t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)("@firebase/app-check","0.8.0")}();class Co{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},1205:(pn,it,E)=>{E.d(it,{zQ:()=>kn,rT:()=>Fe,f7:()=>vt,L6:()=>K,_Q:()=>Ge,lh:()=>ze,Qv:()=>$e,nw:()=>_n});var d=E(2223),L=E(7579),g=E(9646),ne=E(9751),xe=E(8996),ae=E(6451),Z=E(5363),_e=E(3900),Ee=E(4004),se=E(6063);class de extends L.x{constructor(kt=1/0,Pt=1/0,Qt=se.l){super(),this._bufferSize=kt,this._windowTime=Pt,this._timestampProvider=Qt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Pt===1/0,this._bufferSize=Math.max(1,kt),this._windowTime=Math.max(1,Pt)}next(kt){const{isStopped:Pt,_buffer:Qt,_infiniteTimeWindow:Gt,_timestampProvider:dn,_windowTime:gn}=this;Pt||(Qt.push(kt),!Gt&&Qt.push(dn.now()+gn)),this._trimBuffer(),super.next(kt)}_subscribe(kt){this._throwIfClosed(),this._trimBuffer();const Pt=this._innerSubscribe(kt),{_infiniteTimeWindow:Qt,_buffer:Gt}=this,dn=Gt.slice();for(let gn=0;gn<dn.length&&!kt.closed;gn+=Qt?1:2)kt.next(dn[gn]);return this._checkFinalizedStatuses(kt),Pt}_trimBuffer(){const{_bufferSize:kt,_timestampProvider:Pt,_buffer:Qt,_infiniteTimeWindow:Gt}=this,dn=(Gt?1:2)*kt;if(kt<1/0&&dn<Qt.length&&Qt.splice(0,Qt.length-dn),!Gt){const gn=Pt.now();let an=0;for(let At=1;At<Qt.length&&Qt[At]<=gn;At+=2)an=At;an&&Qt.splice(0,an+1)}}}var fe=E(3099);function Je(ft,kt,Pt){let Qt,Gt=!1;return ft&&"object"==typeof ft?({bufferSize:Qt=1/0,windowTime:kt=1/0,refCount:Gt=!1,scheduler:Pt}=ft):Qt=ft??1/0,(0,fe.B)({connector:()=>new de(Qt,kt,Pt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Gt})}var Ne=E(590),ut=E(576);function rt(ft,kt){return(0,ut.m)(kt)?(0,_e.w)(()=>ft,kt):(0,_e.w)(()=>ft)}var Le=E(9468),He=E(9300),Re=E(4976),bt=E(2011),ue=E(4755),De=E(6217);E(9260);const $e=new d.OlP("angularfire2.auth.use-emulator"),K=new d.OlP("angularfire2.auth.settings"),Ge=new d.OlP("angularfire2.auth.tenant-id"),Fe=new d.OlP("angularfire2.auth.langugage-code"),ze=new d.OlP("angularfire2.auth.use-device-language"),vt=new d.OlP("angularfire.auth.persistence"),_n=(ft,kt,Pt,Qt,Gt,dn,gn,an)=>(0,bt.cc)(`${ft.name}.auth`,"AngularFireAuth",ft.name,()=>{const At=kt.runOutsideAngular(()=>ft.auth());if(Pt&&At.useEmulator(...Pt),Qt&&(At.tenantId=Qt),At.languageCode=Gt,dn&&At.useDeviceLanguage(),gn)for(const[Ke,Xe]of Object.entries(gn))At.settings[Ke]=Xe;return an&&At.setPersistence(an),At},[Pt,Qt,Gt,dn,gn,an]);let kn=(()=>{class ft{constructor(Pt,Qt,Gt,dn,gn,an,At,Ke,Xe,Ct,yt,Ht){const Tt=new L.x,un=(0,g.of)(void 0).pipe((0,Z.Q)(gn.outsideAngular),(0,_e.w)(()=>dn.runOutsideAngular(()=>Promise.resolve().then(E.bind(E,9568)))),(0,Ee.U)(()=>(0,bt.on)(Pt,dn,Qt)),(0,Ee.U)(Jt=>_n(Jt,dn,an,Ke,Xe,Ct,At,yt)),Je({bufferSize:1,refCount:!1}));if((0,ue.PM)(Gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,g.of)(null);else{un.pipe((0,Ne.P)()).subscribe();const yn=un.pipe((0,_e.w)(Hn=>Hn.getRedirectResult().then(Ut=>Ut,()=>null)),Re.iC,Je({bufferSize:1,refCount:!1})),Gn=un.pipe((0,_e.w)(Hn=>new ne.y(Ut=>({unsubscribe:dn.runOutsideAngular(()=>Hn.onAuthStateChanged(ce=>Ut.next(ce),ce=>Ut.error(ce),()=>Ut.complete()))})))),ci=un.pipe((0,_e.w)(Hn=>new ne.y(Ut=>({unsubscribe:dn.runOutsideAngular(()=>Hn.onIdTokenChanged(ce=>Ut.next(ce),ce=>Ut.error(ce),()=>Ut.complete()))}))));this.authState=yn.pipe(rt(Gn),(0,Le.R)(gn.outsideAngular),(0,Z.Q)(gn.insideAngular)),this.user=yn.pipe(rt(ci),(0,Le.R)(gn.outsideAngular),(0,Z.Q)(gn.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Hn=>Hn?(0,xe.D)(Hn.getIdToken()):(0,g.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Hn=>Hn?(0,xe.D)(Hn.getIdTokenResult()):(0,g.of)(null))),this.credential=(0,ae.T)(yn,Tt,this.authState.pipe((0,He.h)(Hn=>!Hn))).pipe((0,Ee.U)(Hn=>Hn?.user?Hn:null),(0,Le.R)(gn.outsideAngular),(0,Z.Q)(gn.insideAngular))}return(0,bt.pX)(this,un,dn,{spy:{apply:(Jt,yn,Gn)=>{(Jt.startsWith("signIn")||Jt.startsWith("createUser"))&&Gn.then(ci=>Tt.next(ci))}}})}}return ft.\u0275fac=function(Pt){return new(Pt||ft)(d.LFG(bt.Dh),d.LFG(bt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Re.HU),d.LFG($e,8),d.LFG(K,8),d.LFG(Ge,8),d.LFG(Fe,8),d.LFG(ze,8),d.LFG(vt,8),d.LFG(De.nm,8))},ft.\u0275prov=d.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"any"}),ft})()},1762:(pn,it,E)=>{E.d(it,{ST:()=>qv,yb:()=>Mu});var d=E(2223),L=E(4986),g=E(9751),ne=E(8996),xe=E(9646),ae=E(4976),Z=E(8675),_e=E(4482),Ee=E(5403);function se(){return(0,_e.e)((r,e)=>{let t,o=!1;r.subscribe((0,Ee.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var K,de=E(4004),fe=E(5026),Je=E(1884),Ne=E(9300),ut=E(2011),rt=E(4755),He=(E(9568),E(3942)),Re=E(5861),bt=E(6881),ue=E(4859),De=E(1877),be=E(2090),Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={},Ge=Ge||{},Fe=Me||self;function ze(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function vt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var kn="closure_uid_"+(1e9*Math.random()>>>0),ht=0;function ft(r,e,t){return r.call.apply(r.bind,arguments)}function kt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Pt(r,e,t){return(Pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:kt).apply(null,arguments)}function Qt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Gt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var m=Array(arguments.length-2),M=2;M<arguments.length;M++)m[M-2]=arguments[M];return e.prototype[a].apply(o,m)}}function dn(){this.s=this.s,this.o=this.o}dn.prototype.s=!1,dn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _n(r){Object.prototype.hasOwnProperty.call(r,kn)&&r[kn]||(r[kn]=++ht)}(this)},dn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const an=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function At(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Ke(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ze(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let m=0;m<u;m++)r[a+m]=o[m]}else r.push(o)}}function Xe(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var Ct=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Fe.addEventListener("test",()=>{},e),Fe.removeEventListener("test",()=>{},e)}catch{}return r}();function yt(r){return/^[\s\xa0]*$/.test(r)}function Ht(){var r=Fe.navigator;return r&&(r=r.userAgent)?r:""}function Tt(r){return-1!=Ht().indexOf(r)}function un(r){return un[" "](r),r}un[" "]=function(){};var mt,r,yn=Tt("Opera"),Gn=Tt("Trident")||Tt("MSIE"),ci=Tt("Edge"),Hn=ci||Gn,Ut=Tt("Gecko")&&!(-1!=Ht().toLowerCase().indexOf("webkit")&&!Tt("Edge"))&&!(Tt("Trident")||Tt("MSIE"))&&!Tt("Edge"),ce=-1!=Ht().toLowerCase().indexOf("webkit")&&!Tt("Edge");function Ve(){var r=Fe.document;return r?r.documentMode:void 0}e:{var at="",We=(r=Ht(),Ut?/rv:([^\);]+)(\)|;)/.exec(r):ci?/Edge\/([\d\.]+)/.exec(r):Gn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ce?/WebKit\/(\S+)/.exec(r):yn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(We&&(at=We?We[1]:""),Gn){var Qe=Ve();if(null!=Qe&&Qe>parseFloat(at)){mt=String(Qe);break e}}mt=at}var ln=Fe.document&&Gn&&(Ve()||parseInt(mt,10))||void 0;function Mt(r,e){if(Xe.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ut){e:{try{un(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Kt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Mt.$.h.call(this)}}Gt(Mt,Xe);var Kt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var An="closure_listenable_"+(1e6*Math.random()|0),ke=0;function gt(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++ke,this.fa=this.ia=!1}function $t(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function In(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Si(r){const e={};for(const t in r)e[t]=r[t];return e}const mi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yt(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<mi.length;u++)t=mi[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function et(r){this.src=r,this.g={},this.h=0}function st(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=an(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&($t(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Be(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}et.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var m=Be(r,e,o,a);return-1<m?(e=r[m],t||(e.ia=!1)):((e=new gt(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var Oe="closure_lm_"+(1e6*Math.random()|0),Ie={};function xt(r,e,t,o,a){if(o&&o.once)return oe(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)xt(r,e[u],t,o,a);return null}return t=Et(t),r&&r[An]?r.O(e,t,vt(o)?!!o.capture:!!o,a):jt(r,e,t,!1,o,a)}function jt(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var m=vt(a)?!!a.capture:!!a,M=re(r);if(M||(r[Oe]=M=new et(r)),(t=M.add(e,t,o,m,u)).proxy)return t;if(o=function Te(){const e=le;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Ct||(a=m),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent($(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function oe(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)oe(r,e[u],t,o,a);return null}return t=Et(t),r&&r[An]?r.P(e,t,vt(o)?!!o.capture:!!o,a):jt(r,e,t,!0,o,a)}function H(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)H(r,e[u],t,o,a);else o=vt(o)?!!o.capture:!!o,t=Et(t),r&&r[An]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Be(u=r.g[e],t,o,a))&&($t(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=re(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Be(e,t,o,a)),(t=-1<r?e[r]:null)&&U(t))}function U(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[An])st(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent($(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=re(e))?(st(t,r),0==t.h&&(t.src=null,e[Oe]=null)):$t(r)}}}function $(r){return r in Ie?Ie[r]:Ie[r]="on"+r}function le(r,e){if(r.fa)r=!0;else{e=new Mt(e,this);var t=r.listener,o=r.la||r.src;r.ia&&U(r),r=t.call(o,e)}return r}function re(r){return(r=r[Oe])instanceof et?r:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(r){return"function"==typeof r?r:(r[ve]||(r[ve]=function(e){return r.handleEvent(e)}),r[ve])}function wt(){dn.call(this),this.i=new et(this),this.S=this,this.J=null}function Ot(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new Xe(e,r);else if(e instanceof Xe)e.target=e.target||r;else{var a=e;Yt(e=new Xe(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var m=e.g=t[u];a=en(m,o,!0,e)&&a}if(a=en(m=e.g=r,o,!0,e)&&a,a=en(m,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=en(m=e.g=t[u],o,!1,e)&&a}function en(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.fa&&m.capture==t){var M=m.listener,G=m.la||m.src;m.ia&&st(r.i,m),a=!1!==M.call(G,o)&&a}}return a&&!o.defaultPrevented}Gt(wt,dn),wt.prototype[An]=!0,wt.prototype.removeEventListener=function(r,e,t,o){H(this,r,e,t,o)},wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)$t(t[o]);delete r.g[e],r.h--}}this.J=null},wt.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},wt.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var Xn=Fe.JSON.stringify;function Ci(){var r=ai;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Bt=new class Mn{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new It,r=>r.reset());class It{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Zn(r){Fe.setTimeout(()=>{throw r},0)}let On,Ln=!1,ai=new class bi{constructor(){this.h=this.g=null}add(e,t){const o=Bt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},Wi=()=>{const r=Fe.Promise.resolve(void 0);On=()=>{r.then(gi)}};var gi=()=>{for(var r;r=Ci();){try{r.h.call(r.g)}catch(t){Zn(t)}var e=Bt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ln=!1};function vr(r,e){wt.call(this),this.h=r||1,this.g=e||Fe,this.j=Pt(this.qb,this),this.l=Date.now()}function tr(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function vo(r,e,t){if("function"==typeof r)t&&(r=Pt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Pt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Fe.setTimeout(r,e||0)}function us(r){r.g=vo(()=>{r.g=null,r.i&&(r.i=!1,us(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Gt(vr,wt),(K=vr.prototype).ga=!1,K.T=null,K.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ot(this,"tick"),this.ga&&(tr(this),this.start()))}},K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},K.N=function(){vr.$.N.call(this),tr(this),delete this.g};class yr extends dn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:us(this)}N(){super.N(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(r){dn.call(this),this.h=r,this.g={}}Gt(oo,dn);var fr=[];function to(r,e,t,o){Array.isArray(t)||(t&&(fr[0]=t.toString()),t=fr);for(var a=0;a<t.length;a++){var u=xt(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function yo(r){In(r.g,function(e,t){this.g.hasOwnProperty(t)&&U(e)},r),r.g={}}function Ui(){this.g=!0}function so(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Co(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<a.length;m++)a[m]=""}}}return Xn(t)}catch{return e}}(r,t)+(o?" "+o:"")})}oo.prototype.N=function(){oo.$.N.call(this),yo(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ui.prototype.Ea=function(){this.g=!1},Ui.prototype.info=function(){};var Wr={},Ro=null;function Ts(){return Ro=Ro||new wt}function hs(r){Xe.call(this,Wr.Ta,r)}function Uo(r){const e=Ts();Ot(e,new hs(e))}function Hr(r,e){Xe.call(this,Wr.STAT_EVENT,r),this.stat=e}function mr(r){const e=Ts();Ot(e,new Hr(e,r))}function Vo(r,e){Xe.call(this,Wr.Ua,r),this.size=e}function fs(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){r()},e)}Wr.Ta="serverreachability",Gt(hs,Xe),Wr.STAT_EVENT="statevent",Gt(Hr,Xe),Wr.Ua="timingevent",Gt(Vo,Xe);var si={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Di(){}function Kr(){}Di.prototype.h=null;var Rt,Do={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _t(){Xe.call(this,"d")}function ct(){Xe.call(this,"c")}function rn(){}function cn(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new oo(this),this.P=Rn,this.V=new vr(r=Hn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nn}function nn(){this.i=null,this.g="",this.h=!1}Gt(_t,Xe),Gt(ct,Xe),Gt(rn,Di),rn.prototype.g=function(){return new XMLHttpRequest},rn.prototype.i=function(){return{}},Rt=new rn;var Rn=45e3,ii={},ui={};function kr(r,e,t){r.L=1,r.v=bo(ar(e)),r.s=t,r.S=!0,or(r,null)}function or(r,e){r.G=Date.now(),Io(r),r.A=ar(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Gi(t.i,"t",o),r.C=0,t=r.l.J,r.h=new nn,r.g=Oa(r.l,t?e:null,!r.s),0<r.O&&(r.M=new yr(Pt(r.Pa,r,r.g),r.O)),to(r.U,r.g,"readystatechange",r.nb),e=r.I?Si(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Uo(),function es(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var m="",M=u.split("&"),G=0;G<M.length;G++){var X=M[G].split("=");if(1<X.length){var ge=X[0];X=X[1];var nt=ge.split("_");m=2<=nt.length&&"type"==nt[1]?m+(ge+"=")+X+"&":m+(ge+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+m})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Qi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function $i(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=Zr(r,t),a==ui){4==e&&(r.o=4,mr(14),o=!1),so(r.j,r.m,null,"[Incomplete Response]");break}if(a==ii){r.o=4,mr(15),so(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}so(r.j,r.m,a,null),dr(r,a)}Qi(r)&&a!=ui&&a!=ii&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,mr(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sa(e),e.M=!0,mr(11))):(so(r.j,r.m,t,"[Invalid Chunked Response]"),Yr(r),pr(r))}function Zr(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?ui:(t=Number(e.substring(t,o)),isNaN(t)?ii:(o+=1)+t>e.length?ui:(e=e.slice(o,o+t),r.C=o+t,e))}function Io(r){r.Y=Date.now()+r.P,ri(r,r.P)}function ri(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=fs(Pt(r.lb,r),e)}function Yo(r){r.B&&(Fe.clearTimeout(r.B),r.B=null)}function pr(r){0==r.l.H||r.J||$s(r.l,r)}function Yr(r){Yo(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,tr(r.V),yo(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function dr(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||hn(t.i,r)))if(!r.K&&hn(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;pa(t),qr(t)}oa(t),mr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=fs(Pt(t.ib,t),6e3));if(1>=ot(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ao(t,11)}else if((r.K||t.g==r)&&pa(t),!yt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let X=a[e];if(t.V=X[0],X=X[1],2==t.H)if("c"==X[0]){t.K=X[1],t.pa=X[2];const ge=X[3];null!=ge&&(t.ra=ge,t.l.info("VER="+t.ra));const nt=X[4];null!=nt&&(t.Ga=nt,t.l.info("SVER="+t.Ga));const qt=X[5];null!=qt&&"number"==typeof qt&&0<qt&&(t.L=o=1.5*qt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const mn=r.g;if(mn){const Nn=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nn){var u=o.i;u.g||-1==Nn.indexOf("spdy")&&-1==Nn.indexOf("quic")&&-1==Nn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(vn(u,u.h),u.h=null))}if(o.F){const Yn=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yn&&(o.Da=Yn,Vi(o.I,o.F,Yn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var m=r;if((o=t).wa=qs(o,o.J?o.pa:null,o.Y),m.K){_i(o.i,m);var M=m,G=o.L;G&&M.setTimeout(G),M.B&&(Yo(M),Io(M)),o.g=m}else _l(o);0<t.j.length&&is(t)}else"stop"!=X[0]&&"close"!=X[0]||ao(t,7);else 3==t.H&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?ao(t,7):vs(t):"noop"!=X[0]&&t.h&&t.h.Aa(X),t.A=0)}Uo()}catch{}}function ts(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ze(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ms(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ze(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function qo(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ze(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(K=cn.prototype).setTimeout=function(r){this.P=r},K.nb=function(r){r=r.target;const e=this.M;e&&3==Er(r)?e.l():this.Pa(r)},K.Pa=function(r){try{if(r==this.g)e:{const ge=Er(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ge)&&(3!=ge||Hn||this.g&&(this.h.h||this.g.ja()||xi(this.g)))){this.J||4!=ge||7==e||Uo(),Yo(this);var t=this.g.da();this.ca=t;t:if(Qi(this)){var o=xi(this.g);r="";var a=o.length,u=4==Er(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),pr(this);var m="";break t}this.h.i=new Fe.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==t,function fo(r,e,t,o,a,u,m){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.W,ge,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var M,G=this.g;if((M=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yt(M)){var X=M;break t}}X=null}if(!(t=X)){this.i=!1,this.o=3,mr(12),Yr(this),pr(this);break e}so(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dr(this,t)}this.S?($i(this,ge,m),Hn&&this.i&&3==ge&&(to(this.U,this.V,"tick",this.mb),this.V.start())):(so(this.j,this.m,m,null),dr(this,m)),4==ge&&Yr(this),this.i&&!this.J&&(4==ge?$s(this.l,this):(this.i=!1,Io(this)))}else(function No(r){const e={};r=(r.g&&2<=Er(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(yt(r[o]))continue;var t=bn(r[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[a]||[];e[a]=u,u.push(t)}!function di(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<m.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),Yr(this),pr(this)}}}catch{}},K.mb=function(){if(this.g){var r=Er(this.g),e=this.g.ja();this.C<e.length&&(Yo(this),$i(this,r,e),this.i&&4!=r&&Io(this))}},K.cancel=function(){this.J=!0,Yr(this)},K.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function br(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Uo(),mr(17)),Yr(this),this.o=2,pr(this)):ri(this,this.Y-r)};var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof sr){this.h=r.h,ps(this,r.j),this.s=r.s,this.g=r.g,So(this,r.m),this.l=r.l;var e=r.i,t=new Mr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ti(this,t),this.o=r.o}else r&&(e=String(r).match(ms))?(this.h=!1,ps(this,e[1]||"",!0),this.s=Po(e[2]||""),this.g=Po(e[3]||"",!0),So(this,e[4]),this.l=Po(e[5]||"",!0),Ti(this,e[6]||"",!0),this.o=Po(e[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}function ar(r){return new sr(r)}function ps(r,e,t){r.j=t?Po(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function So(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ti(r,e,t){e instanceof Mr?(r.i=e,function Ho(r,e){e&&!r.j&&(po(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(ur(this,o),Gi(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=mo(e,gs)),r.i=new Mr(e,r.h))}function Vi(r,e,t){r.i.set(e,t)}function bo(r){return Vi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Po(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function mo(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,jo),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function jo(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}sr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(mo(e,As,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(mo(e,As,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(mo(t,"/"==t.charAt(0)?Br:ks,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",mo(t,Ki)),r.join("")};var As=/[#\/\?@]/g,ks=/[#\?:]/g,Br=/[#\?]/g,gs=/[#\?@]/g,Ki=/#/g;function Mr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function po(r){r.g||(r.g=new Map,r.h=0,r.i&&function Fs(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ur(r,e){po(r),e=go(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Fo(r,e){return po(r),e=go(r,e),r.g.has(e)}function Gi(r,e,t){ur(r,e),0<t.length&&(r.i=null,r.g.set(go(r,e),At(t)),r.h+=t.length)}function go(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ze(r){this.l=r||je,r=Fe.PerformanceNavigationTiming?0<(r=Fe.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Fe.g&&Fe.g.Ka&&Fe.g.Ka()&&Fe.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(K=Mr.prototype).add=function(r,e){po(this),this.i=null,r=go(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},K.forEach=function(r,e){po(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},K.ta=function(){po(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},K.Z=function(r){po(this);let e=[];if("string"==typeof r)Fo(this,r)&&(e=e.concat(this.g.get(go(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},K.set=function(r,e){return po(this),this.i=null,Fo(this,r=go(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},K.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),m=this.Z(o);for(o=0;o<m.length;o++){var a=u;""!==m[o]&&(a+="="+encodeURIComponent(String(m[o]))),r.push(a)}}return this.i=r.join("&")};var je=10;function Y(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ot(r){return r.h?1:r.g?r.g.size:0}function hn(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function vn(r,e){r.g?r.g.add(e):r.h=e}function _i(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function lr(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return At(r.i)}Ze.prototype.cancel=function(){if(this.i=lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Or=class{stringify(r){return Fe.JSON.stringify(r,void 0)}parse(r){return Fe.JSON.parse(r,void 0)}};function wo(){this.g=new Or}function Rr(r,e,t){const o=t||"";try{ts(r,function(a,u){let m=a;vt(a)&&(m=Xn(a)),e.push(o+u+"="+encodeURIComponent(m))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function _s(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function W(r){this.l=r.fc||null,this.j=r.ob||!1}function j(r,e){wt.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(W,Di),W.prototype.g=function(){return new j(this.l,this.j)},W.prototype.i=function(r){return function(){return r}}({}),Gt(j,wt);var v=0;function D(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function J(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ce(r)}function Ce(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(K=j.prototype).open=function(r,e){if(this.readyState!=v)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ce(this)},K.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,J(this)),this.readyState=v},K.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ce(this)),this.g&&(this.readyState=3,Ce(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},K.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?J(this):Ce(this),3==this.readyState&&D(this)}},K.Za=function(r){this.g&&(this.response=this.responseText=r,J(this))},K.Ya=function(r){this.g&&(this.response=r,J(this))},K.ka=function(){this.g&&J(this)},K.setRequestHeader=function(r,e){this.v.append(r,e)},K.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},K.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(j.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var dt=Fe.JSON.parse;function Nt(r){wt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=En,this.L=this.M=!1}Gt(Nt,wt);var En="",zn=/^https?$/i,Bn=["POST","PUT"];function Pi(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,wr(r),xr(r)}function wr(r){r.F||(r.F=!0,Ot(r,"complete"),Ot(r,"error"))}function Pr(r){if(r.h&&typeof Ge<"u"&&(!r.C[1]||4!=Er(r)||2!=r.da()))if(r.v&&4==Er(r))vo(r.La,0,r);else if(Ot(r,"readystatechange"),4==Er(r)){r.h=!1;try{const m=r.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===m){var a=String(r.I).match(ms)[1]||null;!a&&Fe.self&&Fe.self.location&&(a=Fe.self.location.protocol.slice(0,-1)),o=!zn.test(a?a.toLowerCase():"")}t=o}if(t)Ot(r,"complete"),Ot(r,"success");else{r.m=6;try{var u=2<Er(r)?r.g.statusText:""}catch{u=""}r.j=u+" ["+r.da()+"]",wr(r)}}finally{xr(r)}}}function xr(r,e){if(r.g){Ni(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Ot(r,"ready");try{t.onreadystatechange=o}catch{}}}function Ni(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Fe.clearTimeout(r.A),r.A=null)}function Er(r){return r.g?r.g.readyState:0}function xi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case En:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function no(r){let e="";return In(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Ur(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=no(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Vi(r,e,t))}function Fr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function xo(r){this.Ga=0,this.j=[],this.l=new Ui,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fr("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fr("baseRetryDelayMs",5e3,r),this.hb=Fr("retryDelaySeedMs",1e4,r),this.eb=Fr("forwardChannelMaxRetries",2,r),this.xa=Fr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ze(r&&r.concurrentRequestLimit),this.Ja=new wo,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vs(r){if(ys(r),3==r.H){var e=r.W++,t=ar(r.I);if(Vi(t,"SID",r.K),Vi(t,"RID",e),Vi(t,"TYPE","terminate"),Ea(r,t),(e=new cn(r,r.l,e)).L=2,e.v=bo(ar(t)),t=!1,Fe.navigator&&Fe.navigator.sendBeacon)try{t=Fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Oa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Io(e)}Ns(r)}function qr(r){r.g&&(sa(r),r.g.cancel(),r.g=null)}function ys(r){qr(r),r.u&&(Fe.clearTimeout(r.u),r.u=null),pa(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Fe.clearTimeout(r.m),r.m=null)}function is(r){if(!Y(r.i)&&!r.m){r.m=!0;var e=r.Na;On||Wi(),Ln||(On(),Ln=!0),ai.add(e,r),r.C=0}}function ra(r,e){var t;t=e?e.m:r.W++;const o=ar(r.I);Vi(o,"SID",r.K),Vi(o,"RID",t),Vi(o,"AID",r.V),Ea(r,o),r.o&&r.s&&Ur(o,r.o,r.s),t=new cn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Qr(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),vn(r.i,t),kr(t,o,e)}function Ea(r,e){r.na&&In(r.na,function(t,o){Vi(e,o,t)}),r.h&&ts({},function(t,o){Vi(e,o,t)})}function Qr(r,e,t){t=Math.min(r.j.length,t);var o=r.h?Pt(r.h.Va,r.h,r):null;e:{var a=r.j;let u=-1;for(;;){const m=["count="+t];-1==u?0<t?(u=a[0].g,m.push("ofs="+u)):u=0:m.push("ofs="+u);let M=!0;for(let G=0;G<t;G++){let X=a[G].g;const ge=a[G].map;if(X-=u,0>X)u=Math.max(0,a[G].g-100),M=!1;else try{Rr(ge,m,"req"+X+"_")}catch{o&&o(ge)}}if(M){o=m.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function _l(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;On||Wi(),Ln||(On(),Ln=!0),ai.add(e,r),r.A=0}}function oa(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=fs(Pt(r.Ma,r),aa(r,r.A)),r.A++,0))}function sa(r){null!=r.B&&(Fe.clearTimeout(r.B),r.B=null)}function ma(r){r.g=new cn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ar(r.wa);Vi(e,"RID","rpc"),Vi(e,"SID",r.K),Vi(e,"AID",r.V),Vi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Vi(e,"TO",r.qa),Vi(e,"TYPE","xmlhttp"),Ea(r,e),r.o&&r.s&&Ur(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=bo(ar(e)),t.s=null,t.S=!0,or(t,r)}function pa(r){null!=r.v&&(Fe.clearTimeout(r.v),r.v=null)}function $s(r,e){var t=null;if(r.g==e){pa(r),sa(r),r.g=null;var o=2}else{if(!hn(r.i,e))return;t=e.F,_i(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Ot(o=Ts(),new Vo(o,t)),is(r)}else _l(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function zs(r,e){return!(ot(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=fs(Pt(r.Na,r,e),aa(r,r.C)),r.C++,0)))}(r,e)||2==o&&oa(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:ao(r,5);break;case 4:ao(r,10);break;case 3:ao(r,6);break;default:ao(r,2)}}function aa(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function ao(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=Pt(r.pb,r);t||(t=new sr("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||ps(t,"https"),bo(t)),function ns(r,e){const t=new Ui;if(Fe.Image){const o=new Image;o.onload=Qt(_s,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Qt(_s,t,o,"TestLoadImage: error",!1,e),o.onabort=Qt(_s,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Qt(_s,t,o,"TestLoadImage: timeout",!1,e),Fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else mr(2);r.H=0,r.h&&r.h.za(e),Ns(r),ys(r)}function Ns(r){if(r.H=0,r.ma=[],r.h){const e=lr(r.i);(0!=e.length||0!=r.j.length)&&(Ke(r.ma,e),Ke(r.ma,r.j),r.i.i.length=0,At(r.j),r.j.length=0),r.h.ya()}}function qs(r,e,t){var o=t instanceof sr?ar(t):new sr(t);if(""!=o.g)e&&(o.g=e+"."+o.g),So(o,o.m);else{var a=Fe.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new sr(null);o&&ps(u,o),e&&(u.g=e),a&&So(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&Vi(o,t,e),Vi(o,"VER",r.ra),Ea(r,o),o}function Oa(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nt(t&&r.Ha&&!r.va?new W({ob:!0}):r.va)).Oa(r.J),e}function Ca(){}function Qs(){if(Gn&&!(10<=Number(ln)))throw Error("Environmental error: no available transport.")}function rs(r,e){wt.call(this),this.g=new xo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!yt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ls(this)}function zo(r){_t.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Da(){ct.call(this),this.status=1}function Ls(r){this.g=r}function To(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Gs(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],m=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;m=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(m<<7&4294967295|m>>>25))+((m=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((u=(e=t+((m=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((a=u+((m=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(m<<21&4294967295|m>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Ai(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(K=Nt.prototype).Oa=function(r){this.M=r},K.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rt.g(),this.C=function zr(r){return r.h||(r.h=r.i())}(this.u?this.u:Rt),this.g.onreadystatechange=Pt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void Pi(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=Fe.FormData&&r instanceof Fe.FormData,!(0<=an(Bn,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,m]of t)this.g.setRequestHeader(u,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ni(this),0<this.B&&((this.L=function wi(r){return Gn&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.ua,this)):this.A=vo(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Pi(this,u)}},K.ua=function(){typeof Ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))},K.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ot(this,"complete"),Ot(this,"abort"),xr(this))},K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xr(this,!0)),Nt.$.N.call(this)},K.La=function(){this.s||(this.G||this.v||this.l?Pr(this):this.kb())},K.kb=function(){Pr(this)},K.isActive=function(){return!!this.g},K.da=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},K.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},K.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),dt(e)}},K.Ia=function(){return this.m},K.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(K=xo.prototype).ra=8,K.H=1,K.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new cn(this,this.l,r);let u=this.s;if(this.U&&(u?(u=Si(u),Yt(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Qr(this,a,e),Vi(t=ar(this.I),"RID",r),Vi(t,"CVER",22),this.F&&Vi(t,"X-HTTP-Session-Id",this.F),Ea(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(no(u)))+"&"+e:this.o&&Ur(t,this.o,u)),vn(this.i,a),this.bb&&Vi(t,"TYPE","init"),this.P?(Vi(t,"$req",e),Vi(t,"SID","null"),a.aa=!0,kr(a,t,null)):kr(a,t,e),this.H=2}}else 3==this.H&&(r?ra(this,r):0==this.j.length||Y(this.i)||ra(this))},K.Ma=function(){if(this.u=null,ma(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=fs(Pt(this.jb,this),r)}},K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mr(10),qr(this),ma(this))},K.ib=function(){null!=this.v&&(this.v=null,qr(this),oa(this),mr(19))},K.pb=function(r){r?(this.l.info("Successfully pinged google.com"),mr(2)):(this.l.info("Failed to ping google.com"),mr(1))},K.isActive=function(){return!!this.h&&this.h.isActive(this)},(K=Ca.prototype).Ba=function(){},K.Aa=function(){},K.za=function(){},K.ya=function(){},K.isActive=function(){return!0},K.Va=function(){},Qs.prototype.g=function(r,e){return new rs(r,e)},Gt(rs,wt),rs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;mr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=qs(r,null,r.Y),is(r)},rs.prototype.close=function(){vs(this.g)},rs.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Xn(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&is(e)},rs.prototype.N=function(){this.g.h=null,delete this.j,vs(this.g),delete this.g,rs.$.N.call(this)},Gt(zo,_t),Gt(Da,ct),Gt(Ls,Ca),Ls.prototype.Ba=function(){Ot(this.g,"a")},Ls.prototype.Aa=function(r){Ot(this.g,new zo(r))},Ls.prototype.za=function(r){Ot(this.g,new Da)},Ls.prototype.ya=function(){Ot(this.g,"b")},Gt(To,function Xi(){this.blockSize=-1}),To.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},To.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)Gs(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){Gs(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){Gs(this,o),a=0;break}}this.h=a,this.i+=e},To.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var ga={};function R(r){return-128<=r&&128>r?function Jt(r,e){var t=ga;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Ai([0|e],0>e?-1:0)}):new Ai([0|r],0>r?-1:0)}function Q(r){if(isNaN(r)||!isFinite(r))return qe;if(0>r)return Mi(Q(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=he;return new Ai(e,0)}var he=4294967296,qe=R(0),Xt=R(1),fn=R(16777216);function Kn(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ji(r){return-1==r.h}function Mi(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Ai(t,~r.h).add(Xt)}function Ei(r,e){return r.add(Mi(e))}function Ii(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function nr(r,e){this.g=r,this.h=e}function Un(r,e){if(Kn(e))throw Error("division by zero");if(Kn(r))return new nr(qe,qe);if(ji(r))return e=Un(Mi(r),e),new nr(Mi(e.g),Mi(e.h));if(ji(e))return e=Un(r,Mi(e)),new nr(Mi(e.g),e.h);if(30<r.g.length){if(ji(r)||ji(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Xt,o=e;0>=o.X(r);)t=$r(t),o=$r(o);var a=os(t,1),u=os(o,1);for(o=os(o,2),t=os(t,2);!Kn(o);){var m=u.add(o);0>=m.X(r)&&(a=a.add(t),u=m),o=os(o,1),t=os(t,1)}return e=Ei(r,a.R(e)),new nr(a,e)}for(a=qe;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),m=(u=Q(t)).R(e);ji(m)||0<m.X(r);)m=(u=Q(t-=o)).R(e);Kn(u)&&(u=Xt),a=a.add(u),r=Ei(r,m)}return new nr(a,r)}function $r(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Ai(t,r.h)}function os(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Ai(a,r.h)}(K=Ai.prototype).ea=function(){if(ji(this))return-Mi(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:he+o)*e,e*=he}return r},K.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Kn(this))return"0";if(ji(this))return"-"+Mi(this).toString(r);for(var e=Q(Math.pow(r,6)),t=this,o="";;){var a=Un(t,e).g,u=((0<(t=Ei(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Kn(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},K.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},K.X=function(r){return ji(r=Ei(this,r))?-1:Kn(r)?0:1},K.abs=function(){return ji(this)?Mi(this):this},K.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),m=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=m>>>16,t[a]=(m&=65535)<<16|(u&=65535)}return new Ai(t,-2147483648&t[t.length-1]?-1:0)},K.R=function(r){if(Kn(this)||Kn(r))return qe;if(ji(this))return ji(r)?Mi(this).R(Mi(r)):Mi(Mi(this).R(r));if(ji(r))return Mi(this.R(Mi(r)));if(0>this.X(fn)&&0>r.X(fn))return Q(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,m=65535&this.D(o),M=r.D(a)>>>16,G=65535&r.D(a);t[2*o+2*a]+=m*G,Ii(t,2*o+2*a),t[2*o+2*a+1]+=u*G,Ii(t,2*o+2*a+1),t[2*o+2*a+1]+=m*M,Ii(t,2*o+2*a+1),t[2*o+2*a+2]+=u*M,Ii(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Ai(t,0)},K.gb=function(r){return Un(this,r).h},K.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Ai(t,this.h&r.h)},K.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Ai(t,this.h|r.h)},K.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Ai(t,this.h^r.h)},Qs.prototype.createWebChannel=Qs.prototype.g,rs.prototype.send=rs.prototype.u,rs.prototype.open=rs.prototype.m,rs.prototype.close=rs.prototype.close,si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,qi.COMPLETE="complete",Kr.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",wt.prototype.listen=wt.prototype.O,Nt.prototype.listenOnce=Nt.prototype.P,Nt.prototype.getLastError=Nt.prototype.Sa,Nt.prototype.getLastErrorCode=Nt.prototype.Ia,Nt.prototype.getStatus=Nt.prototype.da,Nt.prototype.getResponseJson=Nt.prototype.Wa,Nt.prototype.getResponseText=Nt.prototype.ja,Nt.prototype.send=Nt.prototype.ha,Nt.prototype.setWithCredentials=Nt.prototype.Oa,To.prototype.digest=To.prototype.l,To.prototype.reset=To.prototype.reset,To.prototype.update=To.prototype.j,Ai.prototype.add=Ai.prototype.add,Ai.prototype.multiply=Ai.prototype.R,Ai.prototype.modulo=Ai.prototype.gb,Ai.prototype.compare=Ai.prototype.X,Ai.prototype.toNumber=Ai.prototype.ea,Ai.prototype.toString=Ai.prototype.toString,Ai.prototype.getBits=Ai.prototype.D,Ai.fromNumber=Q,Ai.fromString=function B(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Mi(B(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Q(Math.pow(e,8)),o=qe,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),m=parseInt(r.substring(a,a+u),e);8>u?(u=Q(Math.pow(e,u)),o=o.R(u).add(Q(m))):o=(o=o.R(t)).add(Q(m))}return o};var Xr=$e.createWebChannelTransport=function(){return new Qs},Ia=$e.getStatEventTarget=function(){return Ts()},$o=$e.ErrorCode=si,Xs=$e.EventType=qi,ss=$e.Event=Wr,Es=$e.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nl=$e.FetchXmlHttpFactory=W,_a=$e.WebChannel=Kr,vl=$e.XhrIo=Nt,rl=$e.Md5=To,wn=$e.Integer=Ai;const ir="@firebase/firestore";class lo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lo.UNAUTHENTICATED=new lo(null),lo.GOOGLE_CREDENTIALS=new lo("google-credentials-uid"),lo.FIRST_PARTY=new lo("first-party-uid"),lo.MOCK_USER=new lo("mock-user");let as="9.22.2";const Jr=new De.Yd("@firebase/firestore");function Ra(){return Jr.logLevel}function Cn(r,...e){if(Jr.logLevel<=De.in.DEBUG){const t=e.map(co);Jr.debug(`Firestore (${as}): ${r}`,...t)}}function Dr(r,...e){if(Jr.logLevel<=De.in.ERROR){const t=e.map(co);Jr.error(`Firestore (${as}): ${r}`,...t)}}function Cs(r,...e){if(Jr.logLevel<=De.in.WARN){const t=e.map(co);Jr.warn(`Firestore (${as}): ${r}`,...t)}}function co(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Jn(r="Unexpected state"){const e=`FIRESTORE (${as}) INTERNAL ASSERTION FAILED: `+r;throw Dr(e),new Error(e)}function oi(r,e){r||Jn()}function y(r,e){return r}const p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class z{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class me{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lo.UNAUTHENTICATED))}shutdown(){}}class lt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lt{constructor(e){this.t=e,this.currentUser=lo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=X=>this.i!==a?(a=this.i,t(X)):Promise.resolve();let m=new z;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new z,e.enqueueRetryable(()=>u(this.currentUser))};const M=()=>{const X=m;e.enqueueRetryable((0,Re.Z)(function*(){yield X.promise,yield u(o.currentUser)}))},G=X=>{Cn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(X=>G(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?G(X):(Cn("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new z)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Cn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(oi("string"==typeof o.accessToken),new me(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oi(null===e||"string"==typeof e),new lo(e)}}class on{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=lo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Vn{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new on(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(lo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hi{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&Cn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.T;return this.T=u.token,Cn("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{Cn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):Cn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(oi("string"==typeof t.token),this.T=t.token,new qn(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fi(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class pi{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const a=fi(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[u]%62))}return o}}function ei(r,e){return r<e?-1:r>e?1:0}function Gr(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function Mo(r){return r+"\0"}class Zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zi.fromMillis(Date.now())}static fromDate(e){return Zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Zi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ei(this.nanoseconds,e.nanoseconds):ei(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wn(e)}static min(){return new Wn(new Zi(0,0))}static max(){return new Wn(new Zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Js{constructor(e,t,o){void 0===t?t=0:t>e.length&&Jn(),void 0===o?o=e.length-t:o>e.length-t&&Jn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Js.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Js?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),m=t.get(a);if(u<m)return-1;if(u>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fi extends Js{construct(e,t,o){return new Fi(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new C(p.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new Fi(t)}static emptyPath(){return new Fi([])}}const Nr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Js{construct(e,t,o){return new rr(e,t,o)}static isValidIdentifier(e){return Nr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new C(p.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let m=!1;for(;a<e.length;){const M=e[a];if("\\"===M){if(a+1===e.length)throw new C(p.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[a+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new C(p.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,a+=2}else"`"===M?(m=!m,a++):"."!==M||m?(o+=M,a++):(u(),a++)}if(u(),m)throw new C(p.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(t)}static emptyPath(){return new rr([])}}class w{constructor(e){this.path=e}static fromPath(e){return new w(Fi.fromString(e))}static fromName(e){return new w(Fi.fromString(e).popFirst(5))}static empty(){return new w(Fi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new w(new Fi(e.slice()))}}class O{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function x(r){return r.fields.find(e=>2===e.kind)}function F(r){return r.fields.filter(e=>2!==e.kind)}O.UNKNOWN_ID=-1;class ye{constructor(e,t){this.fieldPath=e,this.kind=t}}class tt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tt(0,Sn.min())}}function Zt(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=Wn.fromTimestamp(1e9===o?new Zi(t+1,0):new Zi(t,o));return new Sn(a,w.empty(),e)}function Dn(r){return new Sn(r.readTime,r.key,-1)}class Sn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Sn(Wn.min(),w.empty(),-1)}static max(){return new Sn(Wn.max(),w.empty(),-1)}}function vi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=w.comparator(r.documentKey,e.documentKey),0!==t?t:ei(r.largestBatchId,e.largestBatchId))}const Lr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Go{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _o(r){return gr.apply(this,arguments)}function gr(){return gr=(0,Re.Z)(function*(r){if(r.code!==p.FAILED_PRECONDITION||r.message!==Lr)throw r;Cn("LocalStore","Unexpectedly lost primary lease")}),gr.apply(this,arguments)}class Wt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Wt?t:Wt.resolve(t)}catch(t){return Wt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Wt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Wt.reject(t)}static resolve(e){return new Wt((t,o)=>{t(e)})}static reject(e){return new Wt((t,o)=>{o(e)})}static waitFor(e){return new Wt((t,o)=>{let a=0,u=0,m=!1;e.forEach(M=>{++a,M.next(()=>{++u,m&&u===a&&t()},G=>o(G))}),m=!0,u===a&&t()})}static or(e){let t=Wt.resolve(!1);for(const o of e)t=t.next(a=>a?Wt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new Wt((o,a)=>{const u=e.length,m=new Array(u);let M=0;for(let G=0;G<u;G++){const X=G;t(e[X]).next(ge=>{m[X]=ge,++M,M===u&&o(m)},ge=>a(ge))}})}static doWhile(e,t){return new Wt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class Ds{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new z,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new bs(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=yl(o.target.error);this.v.reject(new bs(e,a))}}static open(e,t,o,a){try{return new Ds(t,e.transaction(a,o))}catch(u){throw new bs(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Cn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ha(t)}}class Ir{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Ir.S((0,be.z$)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Cn("SimpleDb","Removing database:",e),Sa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,be.hl)())return!1;if(Ir.C())return!0;const e=(0,be.z$)(),t=Ir.S(e),o=0<t&&t<10,a=Ir.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,Re.Z)(function*(){return t.db||(Cn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=m=>{o(m.target.result)},u.onblocked=()=>{a(new bs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const M=m.target.error;a("VersionError"===M.name?new C(p.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new C(p.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new bs(e,M))},u.onupgradeneeded=m=>{Cn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.V.O(m.target.result,u.transaction,m.oldVersion,t.version).next(()=>{Cn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,Re.Z)(function*(){const m="readonly"===t;let M=0;for(;;){++M;try{u.db=yield u.$(e);const G=Ds.open(u.db,e,m?"readonly":"readwrite",o),X=a(G).next(ge=>(G.P(),ge)).catch(ge=>(G.abort(ge),Wt.reject(ge))).toPromise();return X.catch(()=>{}),yield G.R,X}catch(G){const X=G,ge="FirebaseError"!==X.name&&M<3;if(Cn("SimpleDb","Transaction failed with error:",X.message,"Retrying:",ge),u.close(),!ge)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class va{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Sa(this.L.delete())}}class bs extends C{constructor(e,t){super(p.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ws(r){return"IndexedDbTransactionError"===r.name}class Ha{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Cn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Cn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Sa(o)}add(e){return Cn("SimpleDb","ADD",this.store.name,e,e),Sa(this.store.add(e))}get(e){return Sa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Cn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Cn("SimpleDb","DELETE",this.store.name,e),Sa(this.store.delete(e))}count(){return Cn("SimpleDb","COUNT",this.store.name),Sa(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(m,M)=>{u.push(M)}).next(()=>u)}{const a=this.store.getAll(o.range);return new Wt((u,m)=>{a.onerror=M=>{m(M.target.error)},a.onsuccess=M=>{u(M.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Wt((a,u)=>{o.onerror=m=>{u(m.target.error)},o.onsuccess=m=>{a(m.target.result)}})}J(e,t){Cn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,m,M)=>M.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new Wt((o,a)=>{t.onerror=u=>{const m=yl(u.target.error);a(m)},t.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(M=>{M?m.continue():o()}):o()}})}W(e,t){const o=[];return new Wt((a,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const M=m.target.result;if(!M)return void a();const G=new va(M),X=t(M.primaryKey,M.value,G);if(X instanceof Wt){const ge=X.catch(nt=>(G.done(),Wt.reject(nt)));o.push(ge)}G.isDone?a():null===G.K?M.continue():M.continue(G.K)}}).next(()=>Wt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Sa(r){return new Wt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=yl(o.target.error);t(a)}})}let Ad=!1;function yl(r){const e=Ir.S((0,be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ad||(Ad=!0,setTimeout(()=>{throw o},0)),o}}return r}class Nh{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Cn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Re.Z)(function*(){t.task=null;try{Cn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){ws(o)?Cn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield _o(o)}yield t.et(6e4)}))}}class Ta{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Re.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return Wt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return Cn("IndexBackiller",`Processing collection: ${m}`),this.it(e,m,a).next(M=>{a-=M,o.add(m)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.rt(a,u)).next(M=>(Cn("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,t,M))).next(()=>m.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const m=Dn(u);vi(m,o)>0&&(o=m)}),new Sn(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Is=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Ws(r){return null==r}function Pa(r){return 0===r&&1/r==-1/0}function Ll(r){return"number"==typeof r&&Number.isInteger(r)&&!Pa(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Ao(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=lc(e)),e=kd(r.get(t),e);return lc(e)}function kd(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function lc(r){return r+"\x01\x01"}function ls(r){const e=r.length;if(oi(e>=2),2===e)return oi("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Fi.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const m=r.indexOf("\x01",u);switch((m<0||m>t)&&Jn(),r.charAt(m+1)){case"\x01":const M=r.substring(u,m);let G;0===a.length?G=M:(a+=M,G=a,a=""),o.push(G);break;case"\x10":a+=r.substring(u,m),a+="\0";break;case"\x11":a+=r.substring(u,m+1);break;default:Jn()}u=m+2}return new Fi(o)}const bl=["userId","batchId"];function la(r,e){return[r,Ao(e)]}function cc(r,e,t){return[r,Ao(e),t]}const dc={},uc=["prefixPath","collectionGroup","readTime","documentId"],hc=["prefixPath","collectionGroup","documentId"],Hc=["collectionGroup","readTime","prefixPath","documentId"],Fa=["canonicalId","targetId"],Lh=["targetId","path"],Ou=["path","targetId"],wl=["collectionId","parent"],zc=["indexId","uid"],$c=["uid","sequenceNumber"],Bh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fc=["indexId","uid","orderedDocumentKey"],za=["userId","collectionPath","documentId"],Ru=["userId","collectionPath","largestBatchId"],Gc=["userId","collectionGroup","largestBatchId"],mc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$a=[...mc,"documentOverlays"],Od=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wc=Od,Bl=[...Wc,"indexConfiguration","indexState","indexEntries"];class Kc extends Go{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function xs(r,e){const t=y(r);return Ir.M(t.ht,e)}function Ul(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ea(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Na(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Sr{constructor(e,t){this.comparator=e,this.root=t||cs.EMPTY}insert(e,t){return new Sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cs.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sl(this.root,e,this.comparator,!0)}}class sl{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cs{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??cs.RED,this.left=a??cs.EMPTY,this.right=u??cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new cs(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return cs.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jn();const e=this.left.check();if(e!==this.right.check())throw Jn();return e+(this.isRed()?0:1)}}cs.EMPTY=null,cs.RED=!0,cs.BLACK=!1,cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Jn()}get value(){throw Jn()}get color(){throw Jn()}get left(){throw Jn()}get right(){throw Jn()}copy(r,e,t,o,a){return this}insert(r,e,t){return new cs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zc(this.data.getIterator())}getIteratorFrom(e){return new Zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tr(this.comparator);return t.data=e,t}}class Zc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function La(r){return r.hasNext()?r.getNext():void 0}class Ps{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new Ps([])}unionWith(e){let t=new Tr(rr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gr(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class pc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pc("Invalid base64 string: "+a):a}}(e);return new Qo(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Qo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ei(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qo.EMPTY_BYTE_STRING=new Qo("");const Pu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(r){if(oi(!!r),"string"==typeof r){let e=0;const t=Pu.exec(r);if(oi(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Eo(r.seconds),nanos:Eo(r.nanos)}}function Eo(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ga(r){return"string"==typeof r?Qo.fromBase64String(r):Qo.fromUint8Array(r)}function Vl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uo(r){const e=r.mapValue.fields.__previous_value__;return Vl(e)?uo(e):e}function El(r){const e=xl(r.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}class Cl{constructor(e,t,o,a,u,m,M,G,X){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=M,this.longPollingOptions=G,this.useFetchStreams=X}}class Wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}const io={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ka={nullValue:"NULL_VALUE"};function Bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vl(r)?4:jn(r)?9007199254740991:10:Jn()}function ta(r,e){if(r===e)return!0;const t=Bs(r);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return El(r).isEqual(El(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=xl(o.timestampValue),m=xl(a.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ga(r.bytesValue).isEqual(Ga(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return Eo(o.geoPointValue.latitude)===Eo(a.geoPointValue.latitude)&&Eo(o.geoPointValue.longitude)===Eo(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Eo(o.integerValue)===Eo(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Eo(o.doubleValue),m=Eo(a.doubleValue);return u===m?Pa(u)===Pa(m):isNaN(u)&&isNaN(m)}return!1}(r,e);case 9:return Gr(r.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:return function(o,a){const u=o.mapValue.fields||{},m=a.mapValue.fields||{};if(Ul(u)!==Ul(m))return!1;for(const M in u)if(u.hasOwnProperty(M)&&(void 0===m[M]||!ta(u[M],m[M])))return!1;return!0}(r,e);default:return Jn()}var a}function Za(r,e){return void 0!==(r.values||[]).find(t=>ta(t,e))}function Ba(r,e){if(r===e)return 0;const t=Bs(r),o=Bs(e);if(t!==o)return ei(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return ei(r.booleanValue,e.booleanValue);case 2:return function(a,u){const m=Eo(a.integerValue||a.doubleValue),M=Eo(u.integerValue||u.doubleValue);return m<M?-1:m>M?1:m===M?0:isNaN(m)?isNaN(M)?0:-1:1}(r,e);case 3:return Fu(r.timestampValue,e.timestampValue);case 4:return Fu(El(r),El(e));case 5:return ei(r.stringValue,e.stringValue);case 6:return function(a,u){const m=Ga(a),M=Ga(u);return m.compareTo(M)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const m=a.split("/"),M=u.split("/");for(let G=0;G<m.length&&G<M.length;G++){const X=ei(m[G],M[G]);if(0!==X)return X}return ei(m.length,M.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const m=ei(Eo(a.latitude),Eo(u.latitude));return 0!==m?m:ei(Eo(a.longitude),Eo(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const m=a.values||[],M=u.values||[];for(let G=0;G<m.length&&G<M.length;++G){const X=Ba(m[G],M[G]);if(X)return X}return ei(m.length,M.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===io.mapValue&&u===io.mapValue)return 0;if(a===io.mapValue)return 1;if(u===io.mapValue)return-1;const m=a.fields||{},M=Object.keys(m),G=u.fields||{},X=Object.keys(G);M.sort(),X.sort();for(let ge=0;ge<M.length&&ge<X.length;++ge){const nt=ei(M[ge],X[ge]);if(0!==nt)return nt;const qt=Ba(m[M[ge]],G[X[ge]]);if(0!==qt)return qt}return ei(M.length,X.length)}(r.mapValue,e.mapValue);default:throw Jn()}}function Fu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ei(r,e);const t=xl(r),o=xl(e),a=ei(t.seconds,o.seconds);return 0!==a?a:ei(t.nanos,o.nanos)}function Dl(r){return Nu(r)}function Nu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=xl(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ga(r.bytesValue).toBase64():"referenceValue"in r?w.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const m of o.values||[])u?u=!1:a+=",",a+=Nu(m);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",m=!0;for(const M of a)m?m=!1:u+=",",u+=`${M}:${Nu(o.fields[M])}`;return u+"}"}(r.mapValue):Jn();var e}function N(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function te(r){return!!r&&"integerValue"in r}function Pe(r){return!!r&&"arrayValue"in r}function pt(r){return!!r&&"nullValue"in r}function Ft(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sn(r){return!!r&&"mapValue"in r}function $n(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ea(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=$n(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$n(r.arrayValue.values[t]);return e}return Object.assign({},r)}function jn(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function li(r){return"nullValue"in r?Ka:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?N(Wa.empty(),w.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Jn()}function Li(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?N(Wa.empty(),w.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?io:Jn()}function Oi(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ss(r,e){const t=Ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!sn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$n(t)}setAll(e){let t=rr.emptyPath(),o={},a=[];e.forEach((m,M)=>{if(!t.isImmediateParentOf(M)){const G=this.getFieldsMap(t);this.applyChanges(G,o,a),o={},a=[],t=M.popLast()}m?o[M.lastSegment()]=$n(m):a.push(M.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());sn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];sn(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){ea(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new Cr($n(this.value))}}function Ya(r){const e=[];return ea(r.fields,(t,o)=>{const a=new rr([t]);if(sn(o)){const u=Ya(o.mapValue).fields;if(0===u.length)e.push(a);else for(const m of u)e.push(a.child(m))}else e.push(a)}),new Ps(e)}class eo{constructor(e,t,o,a,u,m,M){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=m,this.documentState=M}static newInvalidDocument(e){return new eo(e,0,Wn.min(),Wn.min(),Wn.min(),Cr.empty(),0)}static newFoundDocument(e,t,o,a){return new eo(e,1,t,Wn.min(),o,a,0)}static newNoDocument(e,t){return new eo(e,2,t,Wn.min(),Wn.min(),Cr.empty(),0)}static newUnknownDocument(e,t){return new eo(e,3,t,Wn.min(),Wn.min(),Cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof eo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new eo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Us{constructor(e,t){this.position=e,this.inclusive=t}}function na(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],m=r.position[a];if(o=u.field.isKeyField()?w.comparator(w.fromName(m.referenceValue),t.key):Ba(m,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function Ma(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ta(r.position[t],e.position[t]))return!1;return!0}class ya{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Uh{}class _r extends Uh{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Hh(e,t,o):"array-contains"===t?new f(e,o):"in"===t?new _(e,o):"not-in"===t?new k(e,o):"array-contains-any"===t?new ie(e,o):new _r(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new sm(e,o):new Ld(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ba(t,this.value)):null!==t&&Bs(this.value)===Bs(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ro extends Uh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ro(e,t)}matches(e){return ca(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ca(r){return"and"===r.op}function Il(r){return"or"===r.op}function Fd(r){return rm(r)&&ca(r)}function rm(r){for(const e of r.filters)if(e instanceof ro)return!1;return!0}function Nd(r){if(r instanceof _r)return r.field.canonicalString()+r.op.toString()+Dl(r.value);if(Fd(r))return r.filters.map(e=>Nd(e)).join(",");{const e=r.filters.map(t=>Nd(t)).join(",");return`${r.op}(${e})`}}function Vh(r,e){return r instanceof _r?(t=r,(o=e)instanceof _r&&t.op===o.op&&t.field.isEqual(o.field)&&ta(t.value,o.value)):r instanceof ro?function(t,o){return o instanceof ro&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,m)=>a&&Vh(u,o.filters[m]),!0)}(r,e):void Jn();var t,o}function om(r,e){const t=r.filters.concat(e);return ro.create(t,r.op)}function jh(r){return r instanceof _r?`${(e=r).field.canonicalString()} ${e.op} ${Dl(e.value)}`:r instanceof ro?function(e){return e.op.toString()+" {"+e.getFilters().map(jh).join(" ,")+"}"}(r):"Filter";var e}class Hh extends _r{constructor(e,t,o){super(e,t,o),this.key=w.fromName(o.referenceValue)}matches(e){const t=w.comparator(e.key,this.key);return this.matchesComparison(t)}}class sm extends _r{constructor(e,t){super(e,"in",t),this.keys=I(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ld extends _r{constructor(e,t){super(e,"not-in",t),this.keys=I(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>w.fromName(o.referenceValue))}class f extends _r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pe(t)&&Za(t.arrayValue,this.value)}}class _ extends _r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Za(this.value.arrayValue,t)}}class k extends _r{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Za(this.value.arrayValue,t)}}class ie extends _r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pe(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Za(this.value.arrayValue,o))}}class we{constructor(e,t=null,o=[],a=[],u=null,m=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=m,this.endAt=M,this.dt=null}}function St(r,e=null,t=[],o=[],a=null,u=null,m=null){return new we(r,e,t,o,a,u,m)}function tn(r){const e=y(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Nd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),Ws(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Dl(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Dl(o)).join(",")),e.dt=t}return e.dt}function Fn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Pd(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ma(r.startAt,e.startAt)&&Ma(r.endAt,e.endAt)}function ti(r){return w.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function hi(r,e){return r.filters.filter(t=>t instanceof _r&&t.field.isEqual(e))}function cr(r,e,t){let o=Ka,a=!0;for(const u of hi(r,e)){let m=Ka,M=!0;switch(u.op){case"<":case"<=":m=li(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,M=!1;break;case"!=":case"not-in":m=Ka}Oi({value:o,inclusive:a},{value:m,inclusive:M})<0&&(o=m,a=M)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const m=t.position[u];Oi({value:o,inclusive:a},{value:m,inclusive:t.inclusive})<0&&(o=m,a=t.inclusive);break}return{value:o,inclusive:a}}function da(r,e,t){let o=io,a=!0;for(const u of hi(r,e)){let m=io,M=!0;switch(u.op){case">=":case">":m=Li(u.value),M=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,M=!1;break;case"!=":case"not-in":m=io}Ss({value:o,inclusive:a},{value:m,inclusive:M})>0&&(o=m,a=M)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const m=t.position[u];Ss({value:o,inclusive:a},{value:m,inclusive:t.inclusive})>0&&(o=m,a=t.inclusive);break}return{value:o,inclusive:a}}class ia{constructor(e,t=null,o=[],a=[],u=null,m="F",M=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=m,this.startAt=M,this.endAt=G,this.wt=null,this._t=null}}function Bd(r,e,t,o,a,u,m,M){return new ia(r,e,t,o,a,u,m,M)}function gc(r){return new ia(r)}function Lu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Ud(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Sl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jl(r){return null!==r.collectionGroup}function al(r){const e=y(r);if(null===e.wt){e.wt=[];const t=Sl(e),o=Ud(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new ya(t)),e.wt.push(new ya(rr.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ya(rr.keyField(),u))}}}return e.wt}function Vs(r){const e=y(r);if(!e._t)if("F"===e.limitType)e._t=St(e.path,e.collectionGroup,al(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of al(e))t.push(new ya(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Us(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Us(e.startAt.position,e.startAt.inclusive):null;e._t=St(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function _c(r,e){e.getFirstInequalityField(),Sl(r);const t=r.filters.concat([e]);return new ia(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function qa(r,e,t){return new ia(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function vc(r,e){return Fn(Vs(r),Vs(e))&&r.limitType===e.limitType}function Hl(r){return`${tn(Vs(r))}|lt:${r.limitType}`}function yc(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>jh(o)).join(", ")}]`),Ws(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Dl(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Dl(o)).join(",")),`Target(${t})`}(Vs(r))}; limitType=${r.limitType})`}function Aa(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):w.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of al(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,m){const M=na(a,u,m);return a.inclusive?M<=0:M<0}(t.startAt,al(t),o)||t.endAt&&!function(a,u,m){const M=na(a,u,m);return a.inclusive?M>=0:M>0}(t.endAt,al(t),o)));var t,o}function Lg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bg(r){return(e,t)=>{let o=!1;for(const a of al(r)){const u=ay(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function ay(r,e,t){const o=r.field.isKeyField()?w.comparator(e.key,t.key):function(a,u,m){const M=u.data.field(a),G=m.data.field(a);return null!==M&&null!==G?Ba(M,G):Jn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Jn()}}class Tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return Na(this.inner)}size(){return this.innerSize}}const am=new Sr(w.comparator);function ka(){return am}const Ug=new Sr(w.comparator);function Bu(...r){let e=Ug;for(const t of r)e=e.insert(t.key,t);return e}function lm(r){let e=Ug;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ml(){return Ks()}function Vg(){return Ks()}function Ks(){return new Tl(r=>r.toString(),(r,e)=>r.isEqual(e))}const cm=new Sr(w.comparator),jg=new Tr(w.comparator);function Ji(...r){let e=jg;for(const t of r)e=e.add(t);return e}const ua=new Tr(ei);function Yc(){return ua}function dm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pa(e)?"-0":e}}function um(r){return{integerValue:""+r}}function Hg(r,e){return Ll(e)?um(e):dm(r,e)}class Uu{constructor(){this._=void 0}}function ly(r,e,t){return r instanceof qc?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Vl(a)&&(a=uo(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Qc?Gg(r,e):r instanceof zl?zh(r,e):function(o,a){const u=$g(o,a),m=jd(u)+jd(o.gt);return te(u)&&te(o.gt)?um(m):dm(o.serializer,m)}(r,e)}function zg(r,e,t){return r instanceof Qc?Gg(r,e):r instanceof zl?zh(r,e):t}function $g(r,e){return r instanceof Vd?te(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class qc extends Uu{}class Qc extends Uu{constructor(e){super(),this.elements=e}}function Gg(r,e){const t=Wg(e);for(const o of r.elements)t.some(a=>ta(a,o))||t.push(o);return{arrayValue:{values:t}}}class zl extends Uu{constructor(e){super(),this.elements=e}}function zh(r,e){let t=Wg(e);for(const o of r.elements)t=t.filter(a=>!ta(a,o));return{arrayValue:{values:t}}}class Vd extends Uu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function jd(r){return Eo(r.integerValue||r.doubleValue)}function Wg(r){return Pe(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Vu{constructor(e,t){this.field=e,this.transform=t}}class fm{constructor(e,t){this.version=e,this.transformResults=t}}class Xo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xo}static exists(e){return new Xo(void 0,e)}static updateTime(e){return new Xo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $l(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Xc{}function mm(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new wc(r.key,Xo.none()):new Hd(r.key,r.data,Xo.none());{const t=r.data,o=Cr.empty();let a=new Tr(rr.comparator);for(let u of e.fields)if(!a.has(u)){let m=t.field(u);null===m&&u.length>1&&(u=u.popLast(),m=t.field(u)),null===m?o.delete(u):o.set(u,m),a=a.add(u)}return new Gl(r.key,o,new Ps(a.toArray()),Xo.none())}}function pm(r,e,t){r instanceof Hd?function(o,a,u){const m=o.value.clone(),M=Yg(o.fieldTransforms,a,u.transformResults);m.setAll(M),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Gl?function(o,a,u){if(!$l(o.precondition,a))return void a.convertToUnknownDocument(u.version);const m=Yg(o.fieldTransforms,a,u.transformResults),M=a.data;M.setAll(Zg(o)),M.setAll(m),a.convertToFoundDocument(u.version,M).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bc(r,e,t,o){return r instanceof Hd?function(a,u,m,M){if(!$l(a.precondition,u))return m;const G=a.value.clone(),X=gm(a.fieldTransforms,M,u);return G.setAll(X),u.convertToFoundDocument(u.version,G).setHasLocalMutations(),null}(r,e,t,o):r instanceof Gl?function(a,u,m,M){if(!$l(a.precondition,u))return m;const G=gm(a.fieldTransforms,M,u),X=u.data;return X.setAll(Zg(a)),X.setAll(G),u.convertToFoundDocument(u.version,X).setHasLocalMutations(),null===m?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ge=>ge.field))}(r,e,t,o):(m=t,$l(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m);var u,m}function cy(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=$g(o.transform,a||null);null!=u&&(null===t&&(t=Cr.empty()),t.set(o.field,u))}return t||null}function Kg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Gr(t,o,(a,u)=>function hm(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Qc&&o instanceof Qc||t instanceof zl&&o instanceof zl?Gr(t.elements,o.elements,ta):t instanceof Vd&&o instanceof Vd?ta(t.gt,o.gt):t instanceof qc&&o instanceof qc);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class Hd extends Xc{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gl extends Xc{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Yg(r,e,t){const o=new Map;oi(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],m=u.transform,M=e.data.field(u.field);o.set(u.field,zg(m,M,t[a]))}return o}function gm(r,e,t){const o=new Map;for(const a of r){const u=a.transform,m=t.data.field(a.field);o.set(a.field,ly(u,m,e))}return o}class wc extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ju{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&pm(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=bc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=bc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Vg();return this.mutations.forEach(a=>{const u=e.get(a.key),m=u.overlayedDocument;let M=this.applyToLocalView(m,u.mutatedFields);M=t.has(a.key)?null:M;const G=mm(m,M);null!==G&&o.set(a.key,G),m.isValidDocument()||m.convertToNoDocument(Wn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ji())}isEqual(e){return this.batchId===e.batchId&&Gr(this.mutations,e.mutations,(t,o)=>Kg(t,o))&&Gr(this.baseMutations,e.baseMutations,(t,o)=>Kg(t,o))}}class _m{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){oi(e.mutations.length===o.length);let a=cm;const u=e.mutations;for(let m=0;m<u.length;m++)a=a.insert(u[m].key,o[m].version);return new _m(e,t,o,a)}}class vm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wo,Vr;function bm(r){switch(r){default:return Jn();case p.CANCELLED:case p.UNKNOWN:case p.DEADLINE_EXCEEDED:case p.RESOURCE_EXHAUSTED:case p.INTERNAL:case p.UNAVAILABLE:case p.UNAUTHENTICATED:return!1;case p.INVALID_ARGUMENT:case p.NOT_FOUND:case p.ALREADY_EXISTS:case p.PERMISSION_DENIED:case p.FAILED_PRECONDITION:case p.ABORTED:case p.OUT_OF_RANGE:case p.UNIMPLEMENTED:case p.DATA_LOSS:return!0}}function Qg(r){if(void 0===r)return Dr("GRPC error has no .code"),p.UNKNOWN;switch(r){case Wo.OK:return p.OK;case Wo.CANCELLED:return p.CANCELLED;case Wo.UNKNOWN:return p.UNKNOWN;case Wo.DEADLINE_EXCEEDED:return p.DEADLINE_EXCEEDED;case Wo.RESOURCE_EXHAUSTED:return p.RESOURCE_EXHAUSTED;case Wo.INTERNAL:return p.INTERNAL;case Wo.UNAVAILABLE:return p.UNAVAILABLE;case Wo.UNAUTHENTICATED:return p.UNAUTHENTICATED;case Wo.INVALID_ARGUMENT:return p.INVALID_ARGUMENT;case Wo.NOT_FOUND:return p.NOT_FOUND;case Wo.ALREADY_EXISTS:return p.ALREADY_EXISTS;case Wo.PERMISSION_DENIED:return p.PERMISSION_DENIED;case Wo.FAILED_PRECONDITION:return p.FAILED_PRECONDITION;case Wo.ABORTED:return p.ABORTED;case Wo.OUT_OF_RANGE:return p.OUT_OF_RANGE;case Wo.UNIMPLEMENTED:return p.UNIMPLEMENTED;case Wo.DATA_LOSS:return p.DATA_LOSS;default:return Jn()}}(Vr=Wo||(Wo={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";class Xg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jc}static getOrCreateInstance(){return null===Jc&&(Jc=new Xg),Jc}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Jc=null;function Jg(){return new TextEncoder}const e_=new wn([4294967295,4294967295],0);function wm(r){const e=Jg().encode(r),t=new rl;return t.update(e),new Uint8Array(t.digest())}function xm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new wn([t,o],0),new wn([a,u],0)]}class Hu{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new zd(`Invalid padding: ${t}`);if(o<0)throw new zd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new zd(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new zd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=wn.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(wn.fromNumber(o)));return 1===a.compare(e_)&&(a=new wn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wm(e),[o,a]=xm(t);for(let u=0;u<this.hashCount;u++){const m=this.Et(o,a,u);if(!this.At(m))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new Hu(u,a,t);return o.forEach(M=>m.insert(M)),m}insert(e){if(0===this.It)return;const t=wm(e),[o,a]=xm(t);for(let u=0;u<this.hashCount;u++){const m=this.Et(o,a,u);this.Rt(m)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xc{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new xc(Wn.min(),a,new Sr(ei),ka(),Ji())}}class Wl{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Wl(o,t,Ji(),Ji(),Ji())}}class zu{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class Gh{constructor(e,t){this.targetId=e,this.Vt=t}}class $u{constructor(e,t,o=Qo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class Em{constructor(){this.St=0,this.Dt=t_(),this.Ct=Qo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ji(),t=Ji(),o=Ji();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:Jn()}}),new Wl(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=t_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ka(),this.zt=$d(),this.Wt=new Sr(ei)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:Jn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const m=u.target;if(ti(m))if(0===a){const M=new w(m.path);this.Yt(o,M,eo.newNoDocument(M,Wn.min()))}else oi(1===a);else{const M=this.ie(o);if(M!==a){const G=this.re(e,M);0!==G&&(this.ee(o),this.Wt=this.Wt.insert(o,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(X,ge,nt){var qt,mn,Nn,Yn,ni,er;const jr={localCacheCount:ge,existenceFilterCount:nt.count},zi=nt.unchangedNames;return zi&&(jr.bloomFilter={applied:0===X,hashCount:null!==(qt=zi?.hashCount)&&void 0!==qt?qt:0,bitmapLength:null!==(Yn=null===(Nn=null===(mn=zi?.bits)||void 0===mn?void 0:mn.bitmap)||void 0===Nn?void 0:Nn.length)&&void 0!==Yn?Yn:0,padding:null!==(er=null===(ni=zi?.bits)||void 0===ni?void 0:ni.padding)&&void 0!==er?er:0}),jr}(G,M,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:m=0},hashCount:M=0}=o;let G,X;try{G=Ga(u).toUint8Array()}catch(ge){if(ge instanceof pc)return Cs("Decoding the base64 bloom filter in existence filter failed ("+ge.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ge}try{X=new Hu(G,m,M)}catch(ge){return Cs(ge instanceof zd?"BloomFilter error: ":"Applying bloom filter failed: ",ge),1}return 0===X.It?1:a!==t-this.oe(e.targetId,X)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const m=this.Gt.ue(),M=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;t.vt(M)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,m)=>{const M=this.se(m);if(M){if(u.current&&ti(M.target)){const G=new w(M.target.path);null!==this.jt.get(G)||this.ae(m,G)||this.Yt(m,G,eo.newNoDocument(G,e))}u.Mt&&(t.set(m,u.Ot()),u.Ft())}});let o=Ji();this.zt.forEach((u,m)=>{let M=!0;m.forEachWhile(G=>{const X=this.se(G);return!X||"TargetPurposeLimboResolution"===X.purpose||(M=!1,!1)}),M&&(o=o.add(u))}),this.jt.forEach((u,m)=>m.setReadTime(e));const a=new xc(e,t,this.Wt,this.jt,o);return this.jt=ka(),this.zt=$d(),this.Wt=new Sr(ei),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Em,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Tr(ei),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Cn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Em),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function $d(){return new Sr(w.comparator)}function t_(){return new Sr(w.comparator)}const n_={asc:"ASCENDING",desc:"DESCENDING"},dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uy={and:"AND",or:"OR"};class hy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(r,e){return r.useProto3Json||Ws(e)?e:{value:e}}function ed(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Dm(r,e){return ed(r,e.toTimestamp())}function Ko(r){return oi(!!r),Wn.fromTimestamp(function(e){const t=xl(e);return new Zi(t.seconds,t.nanos)}(r))}function Im(r,e){return(t=r,new Fi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(r){const e=Fi.fromString(r);return oi(u_(e)),e}function Kh(r,e){return Im(r.databaseId,e.path)}function Al(r,e){const t=i_(e);if(t.get(1)!==r.databaseId.projectId)throw new C(p.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new C(p.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new w(Ku(t))}function Wu(r,e){return Im(r.databaseId,e)}function r_(r){const e=i_(r);return 4===e.length?Fi.emptyPath():Ku(e)}function Kl(r){return new Fi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ku(r){return oi(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Zh(r,e,t){return{name:Kh(r,e),fields:t.value.mapValue.fields}}function Sm(r,e,t){const o=Al(r,e.name),a=Ko(e.updateTime),u=e.createTime?Ko(e.createTime):Wn.min(),m=new Cr({mapValue:{fields:e.fields}}),M=eo.newFoundDocument(o,a,u,m);return t&&M.setHasCommittedMutations(),t?M.setHasCommittedMutations():M}function ll(r,e){let t;if(e instanceof Hd)t={update:Zh(r,e.key,e.value)};else if(e instanceof wc)t={delete:Kh(r,e.key)};else if(e instanceof Gl)t={update:Zh(r,e.key,e.data),updateMask:d_(e.fieldMask)};else{if(!(e instanceof $h))return Jn();t={verify:Kh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const m=u.transform;if(m instanceof qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Qc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof zl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vd)return{fieldPath:u.field.canonicalString(),increment:m.gt};throw Jn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Dm(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Jn()),t;var a}function Tm(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Xo.updateTime(Ko(a.updateTime)):void 0!==a.exists?Xo.exists(a.exists):Xo.none():Xo.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,m){let M=null;"setToServerValue"in m?(oi("REQUEST_TIME"===m.setToServerValue),M=new qc):"appendMissingElements"in m?M=new Qc(m.appendMissingElements.values||[]):"removeAllFromArray"in m?M=new zl(m.removeAllFromArray.values||[]):"increment"in m?M=new Vd(u,m.increment):Jn();const G=rr.fromServerFormat(m.fieldPath);return new Vu(G,M)}(r,a)):[];var a;if(e.update){const a=Al(r,e.update.name),u=new Cr({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new Ps((e.updateMask.fieldPaths||[]).map(X=>rr.fromServerFormat(X)));return new Gl(a,u,m,t,o)}return new Hd(a,u,t,o)}if(e.delete){const a=Al(r,e.delete);return new wc(a,t)}if(e.verify){const a=Al(r,e.verify);return new $h(a,t)}return Jn()}function a_(r,e){return{documents:[Wu(r,e.path)]}}function Mm(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Wu(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Wu(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(G){if(0!==G.length)return c_(ro.create(G,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(G){if(0!==G.length)return G.map(X=>{return{field:Ec((ge=X).field),direction:my(ge.dir)};var ge})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=Wh(r,e.limit);var M,G;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function l_(r){let e=r_(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){oi(1===o);const ge=t.from[0];ge.allDescendants?a=ge.collectionId:e=e.child(ge.collectionId)}let u=[];t.where&&(u=function(ge){const nt=td(ge);return nt instanceof ro&&Fd(nt)?nt.getFilters():[nt]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(ge=>{return new ya(Gd((nt=ge).field),function(qt){switch(qt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(nt.direction));var nt}));let M=null;t.limit&&(M=function(ge){let nt;return nt="object"==typeof ge?ge.value:ge,Ws(nt)?null:nt}(t.limit));let G=null;var ge;t.startAt&&(G=new Us((ge=t.startAt).values||[],!!ge.before));let X=null;return t.endAt&&(X=function(ge){return new Us(ge.values||[],!ge.before)}(t.endAt)),Bd(e,a,m,u,M,"F",G,X)}function td(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gd(e.unaryFilter.field);return _r.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Gd(e.unaryFilter.field);return _r.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gd(e.unaryFilter.field);return _r.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gd(e.unaryFilter.field);return _r.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Jn()}}(r):void 0!==r.fieldFilter?_r.create(Gd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return ro.create(e.compositeFilter.filters.map(t=>td(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Jn()}}(e.compositeFilter.op))}(r):Jn();var e}function my(r){return n_[r]}function py(r){return dy[r]}function gy(r){return uy[r]}function Ec(r){return{fieldPath:r.canonicalString()}}function Gd(r){return rr.fromServerFormat(r.fieldPath)}function c_(r){return r instanceof _r?function(e){if("=="===e.op){if(Ft(e.value))return{unaryFilter:{field:Ec(e.field),op:"IS_NAN"}};if(pt(e.value))return{unaryFilter:{field:Ec(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ft(e.value))return{unaryFilter:{field:Ec(e.field),op:"IS_NOT_NAN"}};if(pt(e.value))return{unaryFilter:{field:Ec(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ec(e.field),op:py(e.op),value:e.value}}}(r):r instanceof ro?function(e){const t=e.getFilters().map(o=>c_(o));return 1===t.length?t[0]:{compositeFilter:{op:gy(e.op),filters:t}}}(r):Jn()}function d_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Yl{constructor(e,t,o,a,u=Wn.min(),m=Wn.min(),M=Qo.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=M,this.expectedCount=G}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class h_{constructor(e){this.fe=e}}function Zu(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Qa(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Kh(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ed(a,u.version.toTimestamp()),createTime:ed(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:cl(e.version)};else{if(!e.isUnknownDocument())return Jn();o.unknownDocument={path:t.path.toArray(),version:cl(e.version)}}var a,u;return o}function Qa(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function cl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cc(r){const e=new Zi(r.seconds,r.nanoseconds);return Wn.fromTimestamp(e)}function Dc(r,e){const t=(e.baseMutations||[]).map(u=>Tm(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>Tm(r.fe,u)),a=Zi.fromMillis(e.localWriteTimeMs);return new ju(e.batchId,a,t,o)}function Wd(r){const e=Cc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Cc(r.lastLimboFreeSnapshotVersion):Wn.min();let o;var a;return void 0!==r.query.documents?(oi(1===(a=r.query).documents.length),o=Vs(gc(r_(a.documents[0])))):o=Vs(l_(r.query)),new Yl(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Qo.fromBase64String(r.resumeToken))}function vy(r,e){const t=cl(e.snapshotVersion),o=cl(e.lastLimboFreeSnapshotVersion);let a;a=ti(e.target)?a_(r.fe,e.target):Mm(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tn(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function f_(r){const e=l_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?qa(e,e.limit,"L"):e}function m_(r,e){return new vm(e.largestBatchId,Tm(r.fe,e.overlayMutation))}function Yh(r,e){const t=e.path.lastSegment();return[r,Ao(e.path.popLast()),t]}function qh(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:cl(o.readTime),documentKey:Ao(o.documentKey.path),largestBatchId:o.largestBatchId}}class m0{getBundleMetadata(e,t){return yy(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Cc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return yy(e).put({bundleId:(o=t).id,createTime:cl(Ko(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Am(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:f_(a.bundledQuery),readTime:Cc(a.readTime)};var a})}saveNamedQuery(e,t){return Am(e).put({name:(o=t).name,readTime:cl(Ko(o.readTime)),bundledQuery:o.bundledQuery});var o}}function yy(r){return xs(r,"bundles")}function Am(r){return xs(r,"namedQueries")}class Qh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qh(e,t.uid||"")}getOverlay(e,t){return Yu(e).get(Yh(this.userId,t)).next(o=>o?m_(this.serializer,o):null)}getOverlays(e,t){const o=Ml();return Wt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,m)=>{const M=new vm(t,m);a.push(this.we(e,M))}),Wt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(m=>a.add(Ao(m.getCollectionPath())));const u=[];return a.forEach(m=>{const M=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);u.push(Yu(e).J("collectionPathOverlayIndex",M))}),Wt.waitFor(u)}getOverlaysForCollection(e,t,o){const a=Ml(),u=Ao(t),m=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Yu(e).j("collectionPathOverlayIndex",m).next(M=>{for(const G of M){const X=m_(this.serializer,G);a.set(X.getKey(),X)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=Ml();let m;const M=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yu(e).X({index:"collectionGroupOverlayIndex",range:M},(G,X,ge)=>{const nt=m_(this.serializer,X);u.size()<a||nt.largestBatchId===m?(u.set(nt.getKey(),nt),m=nt.largestBatchId):ge.done()}).next(()=>u)}we(e,t){return Yu(e).put(function(o,a,u){const[m,M,G]=Yh(a,u.mutation.key);return{userId:a,collectionPath:M,documentId:G,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ll(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Yu(r){return xs(r,"documentOverlays")}class nd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Eo(e.integerValue));else if("doubleValue"in e){const o=Eo(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Pa(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ga(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?jn(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Jn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),w.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function by(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function km(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=by(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}nd.Ve=new nd;class Xh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=km(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=km(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class p_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Om{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class qu{constructor(){this.je=new Xh,this.ze=new p_(this.je),this.We=new Om(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Lo{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Lo(this.indexId,this.documentKey,this.arrayValue,o)}}function Ic(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=g_(r.arrayValue,e.arrayValue),0!==t?t:(t=g_(r.directionalValue,e.directionalValue),0!==t?t:w.comparator(r.documentKey,e.documentKey)))}function g_(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Rm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){oi(e.collectionGroup===this.collectionId);const t=x(e);if(void 0!==t&&!this.en(t))return!1;const o=F(e);let a=new Set,u=0,m=0;for(;u<o.length&&this.en(o[u]);++u)a=a.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const M=o[u];if(!this.nn(this.Ze,M)||!this.sn(this.Ye[m++],M))return!1}++u}for(;u<o.length;++u)if(m>=this.Ye.length||!this.sn(this.Ye[m++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pm(r){var e,t;if(oi(r instanceof _r||r instanceof ro),r instanceof _r){if(r instanceof _){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>_r.create(r.field,"==",u)))||[];return ro.create(a,"or")}return r}const o=r.filters.map(a=>Pm(a));return ro.create(o,r.op)}function wy(r){if(0===r.getFilters().length)return[];const e=Jh(Pm(r));return oi(__(e)),Fm(e)||Nm(e)?[e]:e.getFilters()}function Fm(r){return r instanceof _r}function Nm(r){return r instanceof ro&&Fd(r)}function __(r){return Fm(r)||Nm(r)||function(e){if(e instanceof ro&&Il(e)){for(const t of e.getFilters())if(!Fm(t)&&!Nm(t))return!1;return!0}return!1}(r)}function Jh(r){if(oi(r instanceof _r||r instanceof ro),r instanceof _r)return r;if(1===r.filters.length)return Jh(r.filters[0]);const e=r.filters.map(o=>Jh(o));let t=ro.create(e,r.op);return t=Sc(t),__(t)?t:(oi(t instanceof ro),oi(ca(t)),oi(t.filters.length>1),t.filters.reduce((o,a)=>v_(o,a)))}function v_(r,e){let t;return oi(r instanceof _r||r instanceof ro),oi(e instanceof _r||e instanceof ro),t=r instanceof _r?e instanceof _r?ro.create([r,e],"and"):xy(r,e):e instanceof _r?xy(e,r):function(o,a){if(oi(o.filters.length>0&&a.filters.length>0),ca(o)&&ca(a))return om(o,a.getFilters());const u=Il(o)?o:a,m=Il(o)?a:o,M=u.filters.map(G=>v_(G,m));return ro.create(M,"or")}(r,e),Sc(t)}function xy(r,e){if(ca(e))return om(e,r.getFilters());{const t=e.filters.map(o=>v_(r,o));return ro.create(t,"or")}}function Sc(r){if(oi(r instanceof _r||r instanceof ro),r instanceof _r)return r;const e=r.getFilters();if(1===e.length)return Sc(e[0]);if(rm(r))return r;const t=e.map(a=>Sc(a)),o=[];return t.forEach(a=>{a instanceof _r?o.push(a):a instanceof ro&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:ro.create(o,r.op)}class ho{constructor(){this.rn=new id}addToCollectionParentIndex(e,t){return this.rn.add(t),Wt.resolve()}getCollectionParents(e,t){return Wt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Wt.resolve()}deleteFieldIndex(e,t){return Wt.resolve()}getDocumentsMatchingTarget(e,t){return Wt.resolve(null)}getIndexType(e,t){return Wt.resolve(0)}getFieldIndexes(e,t){return Wt.resolve([])}getNextCollectionGroupToUpdate(e){return Wt.resolve(null)}getMinOffset(e,t){return Wt.resolve(Sn.min())}getMinOffsetFromCollectionGroup(e,t){return Wt.resolve(Sn.min())}updateCollectionGroup(e,t,o){return Wt.resolve()}updateIndexEntries(e,t){return Wt.resolve()}}class id{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new Tr(Fi.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Tr(Fi.comparator)).toArray()}}const Qu=new Uint8Array(0);class y_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new id,this.un=new Tl(o=>tn(o),(o,a)=>Fn(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:Ao(a)};return Lm(e).put(u)}return Wt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[Mo(t),""],!1,!0);return Lm(e).j(a).next(u=>{for(const m of u){if(m.collectionId!==t)break;o.push(ls(m.parent))}return o})}addFieldIndex(e,t){const o=ef(e),a={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var m;delete a.indexId;const u=o.add(a);if(t.indexState){const m=Kd(e);return u.next(M=>{m.put(qh(M,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=ef(e),a=Kd(e),u=rd(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=rd(e);let a=!0;const u=new Map;return Wt.forEach(this.cn(t),m=>this.an(e,m).next(M=>{a&&(a=!!M),u.set(m,M)})).next(()=>{if(a){let m=Ji();const M=[];return Wt.forEach(u,(G,X)=>{var ge;Cn("IndexedDbIndexManager",`Using index ${ge=G,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(zi=>`${zi.fieldPath}:${zi.kind}`).join(",")}`} to execute ${tn(t)}`);const nt=function(zi,ds){const Bo=x(ds);if(void 0===Bo)return null;for(const ko of hi(zi,Bo.fieldPath))switch(ko.op){case"array-contains-any":return ko.value.arrayValue.values||[];case"array-contains":return[ko.value]}return null}(X,G),qt=function(zi,ds){const Bo=new Map;for(const ko of F(ds))for(const fa of hi(zi,ko.fieldPath))switch(fa.op){case"==":case"in":Bo.set(ko.fieldPath.canonicalString(),fa.value);break;case"not-in":case"!=":return Bo.set(ko.fieldPath.canonicalString(),fa.value),Array.from(Bo.values())}return null}(X,G),mn=function(zi,ds){const Bo=[];let ko=!0;for(const fa of F(ds)){const gl=0===fa.kind?cr(zi,fa.fieldPath,zi.startAt):da(zi,fa.fieldPath,zi.startAt);Bo.push(gl.value),ko&&(ko=gl.inclusive)}return new Us(Bo,ko)}(X,G),Nn=function(zi,ds){const Bo=[];let ko=!0;for(const fa of F(ds)){const gl=0===fa.kind?da(zi,fa.fieldPath,zi.endAt):cr(zi,fa.fieldPath,zi.endAt);Bo.push(gl.value),ko&&(ko=gl.inclusive)}return new Us(Bo,ko)}(X,G),Yn=this.hn(G,X,mn),ni=this.hn(G,X,Nn),er=this.ln(G,X,qt),jr=this.fn(G.indexId,nt,Yn,mn.inclusive,ni,Nn.inclusive,er);return Wt.forEach(jr,zi=>o.H(zi,t.limit).next(ds=>{ds.forEach(Bo=>{const ko=w.fromSegments(Bo.documentKey);m.has(ko)||(m=m.add(ko),M.push(ko))})}))}).next(()=>M)}return Wt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wy(ro.create(e.filters,"and")).map(o=>St(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,m,M){const G=(null!=t?t.length:1)*Math.max(o.length,u.length),X=G/(null!=t?t.length:1),ge=[];for(let nt=0;nt<G;++nt){const qt=t?this.dn(t[nt/X]):Qu,mn=this.wn(e,qt,o[nt%X],a),Nn=this._n(e,qt,u[nt%X],m),Yn=M.map(ni=>this.wn(e,qt,ni,!0));ge.push(...this.createRange(mn,Nn,Yn))}return ge}wn(e,t,o,a){const u=new Lo(e,w.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new Lo(e,w.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Rm(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let m=null;for(const M of u)o.tn(M)&&(!m||M.fields.length>m.fields.length)&&(m=M);return m})}getIndexType(e,t){let o=2;const a=this.cn(t);return Wt.forEach(a,u=>this.an(e,u).next(m=>{m?0!==o&&m.fields.length<function(M){let G=new Tr(rr.comparator),X=!1;for(const ge of M.filters)for(const nt of ge.getFlattenedFilters())nt.field.isKeyField()||("array-contains"===nt.op||"array-contains-any"===nt.op?X=!0:G=G.add(nt.field));for(const ge of M.orderBy)ge.field.isKeyField()||(G=G.add(ge.field));return G.size+(X?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new qu;for(const a of F(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const m=o.He(a.kind);nd.Ve._e(u,m)}return o.Qe()}dn(e){const t=new qu;return nd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new qu;return nd.Ve._e(N(this.databaseId,t),o.He(function(a){const u=F(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new qu);let u=0;for(const m of F(e)){const M=o[u++];for(const G of a)if(this.yn(t,m.fieldPath)&&Pe(M))a=this.pn(a,m,M);else{const X=G.He(m.kind);nd.Ve._e(M,X)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const m of o.arrayValue.values||[])for(const M of a){const G=new qu;G.seed(M.Qe()),nd.Ve._e(m,G.He(t.kind)),u.push(G)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof _r&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=ef(e),a=Kd(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const m=[];return Wt.forEach(u,M=>a.get([M.indexId,this.uid]).next(G=>{m.push(function(X,ge){const nt=ge?new tt(ge.sequenceNumber,new Sn(Cc(ge.readTime),new w(ls(ge.documentKey)),ge.largestBatchId)):tt.empty(),qt=X.fields.map(([mn,Nn])=>new ye(rr.fromServerFormat(mn),Nn));return new O(X.indexId,X.collectionGroup,qt,nt)}(M,G))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:ei(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=ef(e),u=Kd(e);return this.Tn(e).next(m=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>Wt.forEach(M,G=>u.put(qh(G.indexId,this.user,m,o)))))}updateIndexEntries(e,t){const o=new Map;return Wt.forEach(t,(a,u)=>{const m=o.get(a.collectionGroup);return(m?Wt.resolve(m):this.getFieldIndexes(e,a.collectionGroup)).next(M=>(o.set(a.collectionGroup,M),Wt.forEach(M,G=>this.En(e,a,G).next(X=>{const ge=this.An(u,G);return X.isEqual(ge)?Wt.resolve():this.vn(e,u,G,X,ge)}))))})}Rn(e,t,o,a){return rd(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return rd(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=rd(e);let u=new Tr(Ic);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(m,M)=>{u=u.add(new Lo(o.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>u)}An(e,t){let o=new Tr(Ic);const a=this.mn(t,e);if(null==a)return o;const u=x(t);if(null!=u){const m=e.data.field(u.fieldPath);if(Pe(m))for(const M of m.arrayValue.values||[])o=o.add(new Lo(t.indexId,e.key,this.dn(M),a))}else o=o.add(new Lo(t.indexId,e.key,Qu,a));return o}vn(e,t,o,a,u){Cn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(M,G,X,ge,nt){const qt=M.getIterator(),mn=G.getIterator();let Nn=La(qt),Yn=La(mn);for(;Nn||Yn;){let ni=!1,er=!1;if(Nn&&Yn){const jr=X(Nn,Yn);jr<0?er=!0:jr>0&&(ni=!0)}else null!=Nn?er=!0:ni=!0;ni?(ge(Yn),Yn=La(mn)):er?(nt(Nn),Nn=La(qt)):(Nn=La(qt),Yn=La(mn))}}(a,u,Ic,M=>{m.push(this.Rn(e,t,o,M))},M=>{m.push(this.Pn(e,t,o,M))}),Wt.waitFor(m)}Tn(e){let t=1;return Kd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((m,M)=>Ic(m,M)).filter((m,M,G)=>!M||0!==Ic(m,G[M-1]));const a=[];a.push(e);for(const m of o){const M=Ic(m,e),G=Ic(m,t);if(0===M)a[0]=e.Je();else if(M>0&&G<0)a.push(m),a.push(m.Je());else if(G>0)break}a.push(t);const u=[];for(let m=0;m<a.length;m+=2){if(this.bn(a[m],a[m+1]))return[];u.push(IDBKeyRange.bound([a[m].indexId,this.uid,a[m].arrayValue,a[m].directionalValue,Qu,[]],[a[m+1].indexId,this.uid,a[m+1].arrayValue,a[m+1].directionalValue,Qu,[]]))}return u}bn(e,t){return Ic(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bm)}getMinOffset(e,t){return Wt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||Jn())).next(Bm)}}function Lm(r){return xs(r,"collectionParents")}function rd(r){return xs(r,"indexEntries")}function ef(r){return xs(r,"indexConfiguration")}function Kd(r){return xs(r,"indexState")}function Bm(r){oi(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;vi(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Sn(e.readTime,e.documentKey,t)}const tf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ba{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ba(e,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nf(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],m=IDBKeyRange.only(t.batchId);let M=0;const G=o.X({range:m},(ge,nt,qt)=>(M++,qt.delete()));u.push(G.next(()=>{oi(1===M)}));const X=[];for(const ge of t.mutations){const nt=cc(e,ge.key.path,t.batchId);u.push(a.delete(nt)),X.push(ge.key)}return Wt.waitFor(u).next(()=>X)}function rf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Jn();e=r.noDocument}return JSON.stringify(e).length}ba.DEFAULT_COLLECTION_PERCENTILE=10,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ba.DEFAULT=new ba(41943040,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ba.DISABLED=new ba(-1,0,0);class Zd{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){oi(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Zd(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ql(e).X({index:"userMutationsIndex",range:o},(a,u,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=Xa(e),m=ql(e);return m.add({}).next(M=>{oi("number"==typeof M);const G=new ju(M,t,o,a),X=function(qt,mn,Nn){const Yn=Nn.baseMutations.map(er=>ll(qt.fe,er)),ni=Nn.mutations.map(er=>ll(qt.fe,er));return{userId:mn,batchId:Nn.batchId,localWriteTimeMs:Nn.localWriteTime.toMillis(),baseMutations:Yn,mutations:ni}}(this.serializer,this.userId,G),ge=[];let nt=new Tr((qt,mn)=>ei(qt.canonicalString(),mn.canonicalString()));for(const qt of a){const mn=cc(this.userId,qt.key.path,M);nt=nt.add(qt.key.path.popLast()),ge.push(m.put(X)),ge.push(u.put(mn,dc))}return nt.forEach(qt=>{ge.push(this.indexManager.addToCollectionParentIndex(e,qt))}),e.addOnCommittedListener(()=>{this.Vn[M]=G.keys()}),Wt.waitFor(ge).next(()=>G)})}lookupMutationBatch(e,t){return ql(e).get(t).next(o=>o?(oi(o.userId===this.userId),Dc(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Wt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return ql(e).X({index:"userMutationsIndex",range:a},(m,M,G)=>{M.userId===this.userId&&(oi(M.batchId>=o),u=Dc(this.serializer,M)),G.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ql(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,m)=>{o=u.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ql(e).j("userMutationsIndex",t).next(o=>o.map(a=>Dc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=la(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return Xa(e).X({range:a},(m,M,G)=>{const[X,ge,nt]=m,qt=ls(ge);if(X===this.userId&&t.path.isEqual(qt))return ql(e).get(nt).next(mn=>{if(!mn)throw Jn();oi(mn.userId===this.userId),u.push(Dc(this.serializer,mn))});G.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Tr(ei);const a=[];return t.forEach(u=>{const m=la(this.userId,u.path),M=IDBKeyRange.lowerBound(m),G=Xa(e).X({range:M},(X,ge,nt)=>{const[qt,mn,Nn]=X,Yn=ls(mn);qt===this.userId&&u.path.isEqual(Yn)?o=o.add(Nn):nt.done()});a.push(G)}),Wt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=la(this.userId,o),m=IDBKeyRange.lowerBound(u);let M=new Tr(ei);return Xa(e).X({range:m},(G,X,ge)=>{const[nt,qt,mn]=G,Nn=ls(qt);nt===this.userId&&o.isPrefixOf(Nn)?Nn.length===a&&(M=M.add(mn)):ge.done()}).next(()=>this.Dn(e,M))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(ql(e).get(u).next(m=>{if(null===m)throw Jn();oi(m.userId===this.userId),o.push(Dc(this.serializer,m))}))}),Wt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return nf(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Wt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Wt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Xa(e).X({range:o},(u,m,M)=>{if(u[0]===this.userId){const G=ls(u[1]);a.push(G)}else M.done()}).next(()=>{oi(0===a.length)})})}containsKey(e,t){return Um(e,this.userId,t)}xn(e){return b_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Um(r,e,t){const o=la(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let m=!1;return Xa(r).X({range:u,Y:!0},(M,G,X)=>{const[ge,nt,qt]=M;ge===e&&nt===a&&(m=!0),X.done()}).next(()=>m)}function ql(r){return xs(r,"mutations")}function Xa(r){return xs(r,"documentMutations")}function b_(r){return xs(r,"mutationQueues")}class Ql{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ql(0)}static Mn(){return new Ql(-1)}}class sf{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new Ql(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Wn.fromTimestamp(new Zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(oi(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return Yd(e).X((m,M)=>{const G=Wd(M);G.sequenceNumber<=t&&null===o.get(G.targetId)&&(a++,u.push(this.removeTargetData(e,G)))}).next(()=>Wt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return Yd(e).X((o,a)=>{const u=Wd(a);t(u)})}$n(e){return af(e).get("targetGlobalKey").next(t=>(oi(null!==t),t))}On(e,t){return af(e).put("targetGlobalKey",t)}Fn(e,t){return Yd(e).put(vy(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=tn(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Yd(e).X({range:a,index:"queryTargetsIndex"},(m,M,G)=>{const X=Wd(M);Fn(t,X.target)&&(u=X,G.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=dl(e);return t.forEach(m=>{const M=Ao(m.path);a.push(u.put({targetId:o,path:M})),a.push(this.referenceDelegate.addReference(e,o,m))}),Wt.waitFor(a)}removeMatchingKeys(e,t,o){const a=dl(e);return Wt.forEach(t,u=>{const m=Ao(u.path);return Wt.waitFor([a.delete([o,m]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=dl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=dl(e);let u=Ji();return a.X({range:o,Y:!0},(m,M,G)=>{const X=ls(m[1]),ge=new w(X);u=u.add(ge)}).next(()=>u)}containsKey(e,t){const o=Ao(t.path),a=IDBKeyRange.bound([o],[Mo(o)],!1,!0);let u=0;return dl(e).X({index:"documentTargetsIndex",Y:!0,range:a},([m,M],G,X)=>{0!==m&&(u++,X.done())}).next(()=>u>0)}le(e,t){return Yd(e).get(t).next(o=>o?Wd(o):null)}}function Yd(r){return xs(r,"targets")}function af(r){return xs(r,"targetGlobal")}function dl(r){return xs(r,"targetDocuments")}function Tc([r,e],[t,o]){const a=ei(r,t);return 0===a?ei(e,o):a}class Vm{constructor(e){this.Ln=e,this.buffer=new Tr(Tc),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Tc(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lf{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Cn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Re.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ws(o)?Cn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield _o(o)}yield t.Qn(3e5)}))}}class Ey{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Wt.resolve(Is.ct);const o=new Vm(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Cn("LruGarbageCollector","Garbage collection skipped; disabled"),Wt.resolve(tf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Cn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tf):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,m,M,G,X;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(nt=>(nt>this.params.maximumSequenceNumbersToCollect?(Cn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${nt}`),a=this.params.maximumSequenceNumbersToCollect):a=nt,m=Date.now(),this.nthSequenceNumber(e,a))).next(nt=>(o=nt,M=Date.now(),this.removeTargets(e,o,t))).next(nt=>(u=nt,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(nt=>(X=Date.now(),Ra()<=De.in.DEBUG&&Cn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ge}ms\n\tDetermined least recently used ${a} in `+(M-m)+`ms\n\tRemoved ${u} targets in `+(G-M)+`ms\n\tRemoved ${nt} documents in `+(X-G)+`ms\nTotal Duration: ${X-ge}ms`),Wt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:nt})))}}class x_{constructor(e,t){this.db=e,this.garbageCollector=function w_(r,e){return new Ey(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return Xl(e,o)}removeReference(e,t,o){return Xl(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Xl(e,t)}Xn(e,t){return function(o,a){let u=!1;return b_(o).Z(m=>Um(o,m,a).next(M=>(M&&(u=!0),Wt.resolve(!M)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(m,M)=>{if(M<=t){const G=this.Xn(e,m).next(X=>{if(!X)return u++,o.getEntry(e,m).next(()=>(o.removeEntry(m,Wn.min()),dl(e).delete([0,Ao(m.path)])))});a.push(G)}}).next(()=>Wt.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Xl(e,t)}Yn(e,t){const o=dl(e);let a,u=Is.ct;return o.X({index:"documentTargetsIndex"},([m,M],{path:G,sequenceNumber:X})=>{0===m?(u!==Is.ct&&t(new w(ls(a)),u),u=X,a=G):u=Is.ct}).next(()=>{u!==Is.ct&&t(new w(ls(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xl(r,e){return dl(r).put((o=r.currentSequenceNumber,{targetId:0,path:Ao(e.path),sequenceNumber:o}));var o}class E_{constructor(){this.changes=new Tl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Wt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return od(e).put(o)}removeEntry(e,t,o){return od(e).delete(function(a,u){const m=a.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Qa(u),m[m.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=eo.newInvalidDocument(t);return od(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:eo.newInvalidDocument(t)};return od(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(a,u)=>{o={document:this.ts(t,u),size:rf(u)}}).next(()=>o)}getEntries(e,t){let o=ka();return this.ns(e,t,(a,u)=>{const m=this.ts(a,u);o=o.insert(a,m)}).next(()=>o)}ss(e,t){let o=ka(),a=new Sr(w.comparator);return this.ns(e,t,(u,m)=>{const M=this.ts(u,m);o=o.insert(u,M),a=a.insert(u,rf(m))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return Wt.resolve();let a=new Tr(Dy);t.forEach(G=>a=a.add(G));const u=IDBKeyRange.bound(qd(a.first()),qd(a.last())),m=a.getIterator();let M=m.getNext();return od(e).X({index:"documentKeyIndex",range:u},(G,X,ge)=>{const nt=w.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;M&&Dy(M,nt)<0;)o(M,null),M=m.getNext();M&&M.isEqual(nt)&&(o(M,X),M=m.hasNext()?m.getNext():null),M?ge.G(qd(M)):ge.done()}).next(()=>{for(;M;)o(M,null),M=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,m=[u.popLast().toArray(),u.lastSegment(),Qa(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],M=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return od(e).j(IDBKeyRange.bound(m,M,!0)).next(G=>{let X=ka();for(const ge of G){const nt=this.ts(w.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);nt.isFoundDocument()&&(Aa(t,nt)||a.has(nt.key))&&(X=X.insert(nt.key,nt))}return X})}getAllFromCollectionGroup(e,t,o,a){let u=ka();const m=cf(t,o),M=cf(t,Sn.max());return od(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,M,!0)},(G,X,ge)=>{const nt=this.ts(w.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);u=u.insert(nt.key,nt),u.size===a&&ge.done()}).next(()=>u)}newChangeBuffer(e){return new jm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hm(e).get("remoteDocumentGlobalKey").next(t=>(oi(!!t),t))}Zn(e,t){return Hm(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function _y(r,e){let t;if(e.document)t=Sm(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=w.fromSegments(e.noDocument.path),a=Cc(e.noDocument.readTime);t=eo.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Jn();{const o=w.fromSegments(e.unknownDocument.path),a=Cc(e.unknownDocument.version);t=eo.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new Zi(o[0],o[1]);return Wn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Wn.min()))return o}return eo.newInvalidDocument(e)}}function C_(r){return new Cy(r)}class jm extends E_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Tl(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new Tr((u,m)=>ei(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const M=this.us.get(u);if(t.push(this.os.removeEntry(e,u,M.readTime)),m.isValidDocument()){const G=Zu(this.os.serializer,m);a=a.add(u.path.popLast());const X=rf(G);o+=X-M.size,t.push(this.os.addEntry(e,u,G))}else if(o-=M.size,this.trackRemovals){const G=Zu(this.os.serializer,m.convertToNoDocument(Wn.min()));t.push(this.os.addEntry(e,u,G))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),Wt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,m)=>{this.us.set(u,{size:m,readTime:o.get(u).readTime})}),o))}}function Hm(r){return xs(r,"remoteDocumentGlobal")}function od(r){return xs(r,"remoteDocumentsV14")}function qd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cf(r,e){const t=e.documentKey.path.toArray();return[r,Qa(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Dy(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=ei(t[u],o[u]),a)return a;return a=ei(t.length,o.length),a||(a=ei(t[t.length-2],o[o.length-2]),a||ei(t[t.length-1],o[o.length-1]))}class Iy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D_{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&bc(o.mutation,a,Ps.empty(),Zi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Ji()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Ji()){const a=Ml();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let m=Bu();return u.forEach((M,G)=>{m=m.insert(M,G.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const o=Ml();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Ji()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((m,M)=>{t.set(m,M)})})}computeViews(e,t,o,a){let u=ka();const m=Ks(),M=Ks();return t.forEach((G,X)=>{const ge=o.get(X.key);a.has(X.key)&&(void 0===ge||ge.mutation instanceof Gl)?u=u.insert(X.key,X):void 0!==ge?(m.set(X.key,ge.mutation.getFieldMask()),bc(ge.mutation,X,ge.mutation.getFieldMask(),Zi.now())):m.set(X.key,Ps.empty())}),this.recalculateAndSaveOverlays(e,u).next(G=>(G.forEach((X,ge)=>m.set(X,ge)),t.forEach((X,ge)=>{var nt;return M.set(X,new Iy(ge,null!==(nt=m.get(X))&&void 0!==nt?nt:null))}),M))}recalculateAndSaveOverlays(e,t){const o=Ks();let a=new Sr((m,M)=>m-M),u=Ji();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const M of m)M.keys().forEach(G=>{const X=t.get(G);if(null===X)return;let ge=o.get(G)||Ps.empty();ge=M.applyToLocalView(X,ge),o.set(G,ge);const nt=(a.get(M.batchId)||Ji()).add(G);a=a.insert(M.batchId,nt)})}).next(()=>{const m=[],M=a.getReverseIterator();for(;M.hasNext();){const G=M.getNext(),X=G.key,ge=G.value,nt=Vg();ge.forEach(qt=>{if(!u.has(qt)){const mn=mm(t.get(qt),o.get(qt));null!==mn&&nt.set(qt,mn),u=u.add(qt)}}),m.push(this.documentOverlayCache.saveOverlays(e,X,nt))}return Wt.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return w.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const m=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):Wt.resolve(Ml());let M=-1,G=u;return m.next(X=>Wt.forEach(X,(ge,nt)=>(M<nt.largestBatchId&&(M=nt.largestBatchId),u.get(ge)?Wt.resolve():this.remoteDocumentCache.getEntry(e,ge).next(qt=>{G=G.insert(ge,qt)}))).next(()=>this.populateOverlays(e,X,u)).next(()=>this.computeViews(e,G,X,Ji())).next(ge=>({batchId:M,changes:lm(ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new w(t)).next(o=>{let a=Bu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=Bu();return this.indexManager.getCollectionParents(e,a).next(m=>Wt.forEach(m,M=>{const G=(X=t,ge=M.child(a),new ia(ge,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,ge;return this.getDocumentsMatchingCollectionQuery(e,G,o).next(X=>{X.forEach((ge,nt)=>{u=u.insert(ge,nt)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((M,G)=>{const X=G.getKey();null===u.get(X)&&(u=u.insert(X,eo.newInvalidDocument(X)))});let m=Bu();return u.forEach((M,G)=>{const X=a.get(M);void 0!==X&&bc(X.mutation,G,Ps.empty(),Zi.now()),Aa(t,G)&&(m=m.insert(M,G))}),m})}}class Sy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Wt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Ko(o.createTime)}),Wt.resolve()}getNamedQuery(e,t){return Wt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:f_(o.bundledQuery),readTime:Ko(o.readTime)}),Wt.resolve();var o}}class p0{constructor(){this.overlays=new Sr(w.comparator),this.ls=new Map}getOverlay(e,t){return Wt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ml();return Wt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),Wt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),Wt.resolve()}getOverlaysForCollection(e,t,o){const a=Ml(),u=t.length+1,m=new w(t.child("")),M=this.overlays.getIteratorFrom(m);for(;M.hasNext();){const G=M.getNext().value,X=G.getKey();if(!t.isPrefixOf(X.path))break;X.path.length===u&&G.largestBatchId>o&&a.set(G.getKey(),G)}return Wt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new Sr((X,ge)=>X-ge);const m=this.overlays.getIterator();for(;m.hasNext();){const X=m.getNext().value;if(X.getKey().getCollectionGroup()===t&&X.largestBatchId>o){let ge=u.get(X.largestBatchId);null===ge&&(ge=Ml(),u=u.insert(X.largestBatchId,ge)),ge.set(X.getKey(),X)}}const M=Ml(),G=u.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((X,ge)=>M.set(X,ge)),!(M.size()>=a)););return Wt.resolve(M)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const m=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new vm(t,o));let u=this.ls.get(t);void 0===u&&(u=Ji(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class I_{constructor(){this.fs=new Tr(Os.ds),this.ws=new Tr(Os._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Os(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Os(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new w(new Fi([])),o=new Os(t,e),a=new Os(t,e+1),u=[];return this.ws.forEachInRange([o,a],m=>{this.ys(m),u.push(m.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new w(new Fi([])),o=new Os(t,e),a=new Os(t,e+1);let u=Ji();return this.ws.forEachInRange([o,a],m=>{u=u.add(m.key)}),u}containsKey(e){const t=new Os(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Os{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return w.comparator(e.key,t.key)||ei(e.As,t.As)}static _s(e,t){return ei(e.As,t.As)||w.comparator(e.key,t.key)}}class Ty{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Tr(Os.ds)}checkEmpty(e){return Wt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const m=new ju(u,t,o,a);this.mutationQueue.push(m);for(const M of a)this.Rs=this.Rs.add(new Os(M.key,u)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return Wt.resolve(m)}lookupMutationBatch(e,t){return Wt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return Wt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Wt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Os(t,0),a=new Os(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],m=>{const M=this.Ps(m.As);u.push(M)}),Wt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Tr(ei);return t.forEach(a=>{const u=new Os(a,0),m=new Os(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,m],M=>{o=o.add(M.As)})}),Wt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;w.isDocumentKey(u)||(u=u.child(""));const m=new Os(new w(u),0);let M=new Tr(ei);return this.Rs.forEachWhile(G=>{const X=G.key.path;return!!o.isPrefixOf(X)&&(X.length===a&&(M=M.add(G.As)),!0)},m),Wt.resolve(this.Vs(M))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){oi(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Wt.forEach(t.mutations,a=>{const u=new Os(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Os(t,0),a=this.Rs.firstAfterOrEqual(o);return Wt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Wt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zm{constructor(e){this.Ds=e,this.docs=new Sr(w.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,m=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Wt.resolve(o?o.document.mutableCopy():eo.newInvalidDocument(t))}getEntries(e,t){let o=ka();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():eo.newInvalidDocument(a))}),Wt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=ka();const m=t.path,M=new w(m.child("")),G=this.docs.getIteratorFrom(M);for(;G.hasNext();){const{key:X,value:{document:ge}}=G.getNext();if(!m.isPrefixOf(X.path))break;X.path.length>m.length+1||vi(Dn(ge),o)<=0||(a.has(ge.key)||Aa(t,ge))&&(u=u.insert(ge.key,ge.mutableCopy()))}return Wt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){Jn()}Cs(e,t){return Wt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new $m(this)}getSize(e){return Wt.resolve(this.size)}}class $m extends E_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),Wt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xu{constructor(e){this.persistence=e,this.xs=new Tl(t=>tn(t),Fn),this.lastRemoteSnapshotVersion=Wn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new I_,this.targetCount=0,this.Ms=Ql.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),Wt.resolve()}getLastRemoteSnapshotVersion(e){return Wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Wt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Wt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Wt.resolve()}updateTargetData(e,t){return this.Fn(t),Wt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Wt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((m,M)=>{M.sequenceNumber<=t&&null===o.get(M.targetId)&&(this.xs.delete(m),u.push(this.removeMatchingKeysForTargetId(e,M.targetId)),a++)}),Wt.waitFor(u).next(()=>a)}getTargetCount(e){return Wt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Wt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Wt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(m=>{u.push(a.markPotentiallyOrphaned(e,m))}),Wt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Wt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Wt.resolve(o)}containsKey(e,t){return Wt.resolve(this.ks.containsKey(t))}}class Ju{constructor(e,t){this.$s={},this.overlays={},this.Os=new Is(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xu(this),this.indexManager=new ho,this.remoteDocumentCache=new zm(o=>this.referenceDelegate.Ls(o)),this.serializer=new h_(t),this.qs=new Sy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Ty(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Cn("MemoryPersistence","Starting transaction:",e);const a=new Gm(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return Wt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Gm extends Go{constructor(e){super(),this.currentSequenceNumber=e}}class Mc{constructor(e){this.persistence=e,this.Qs=new I_,this.js=null}static zs(e){return new Mc(e)}get Ws(){if(this.js)return this.js;throw Jn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Wt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Wt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Wt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wt.forEach(this.Ws,o=>{const a=w.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,Wn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Wt.or([()=>Wt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class eh{constructor(e){this.serializer=e}O(e,t,o,a){const u=new Ds("createOrUpgrade",t);var M;o<1&&a>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bl,{unique:!0}),M.createObjectStore("documentMutations"),Wm(e),function(M){M.createObjectStore("remoteDocuments")}(e));let m=Wt.resolve();return o<3&&a>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Wm(e)),m=m.next(()=>function(M){const G=M.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wn.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",X)}(u))),o<4&&a>=4&&(0!==o&&(m=m.next(()=>function(M,G){return G.store("mutations").j().next(X=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bl,{unique:!0});const ge=G.store("mutations"),nt=X.map(qt=>ge.put(qt));return Wt.waitFor(nt)})}(e,u))),m=m.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(m=m.next(()=>this.Ys(u))),o<6&&a>=6&&(m=m.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(m=m.next(()=>this.Zs(u))),o<8&&a>=8&&(m=m.next(()=>this.ti(e,u))),o<9&&a>=9&&(m=m.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(m=m.next(()=>this.ei(u))),o<11&&a>=11&&(m=m.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(m=m.next(()=>{!function(M){const G=M.createObjectStore("documentOverlays",{keyPath:za});G.createIndex("collectionPathOverlayIndex",Ru,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Gc,{unique:!1})}(e)})),o<13&&a>=13&&(m=m.next(()=>function(M){const G=M.createObjectStore("remoteDocumentsV14",{keyPath:uc});G.createIndex("documentKeyIndex",hc),G.createIndex("collectionGroupIndex",Hc)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(m=m.next(()=>this.si(e,u))),o<15&&a>=15&&(m=m.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:zc}).createIndex("sequenceNumberIndex",$c,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Bh}).createIndex("documentKeyIndex",fc,{unique:!1})}(e))),m}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=rf(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>Wt.forEach(a,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",m).next(M=>Wt.forEach(M,G=>{oi(G.userId===u.userId);const X=Dc(this.serializer,G);return nf(e,u.userId,X).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((m,M)=>{const G=new Fi(m),X=[0,Ao(G)];u.push(t.get(X).next(ge=>ge?Wt.resolve():t.put({targetId:0,path:Ao(G),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Wt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:wl});const o=t.store("collectionParents"),a=new id,u=m=>{if(a.add(m)){const M=m.lastSegment(),G=m.popLast();return o.put({collectionId:M,parent:Ao(G)})}};return t.store("remoteDocuments").X({Y:!0},(m,M)=>{const G=new Fi(m);return u(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([m,M,G],X)=>{const ge=ls(M);return u(ge.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=Wd(a),m=vy(this.serializer,u);return t.put(m)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,m)=>{const M=t.store("remoteDocumentsV14"),G=(X=m,X.document?new w(Fi.fromString(X.document.name).popFirst(5)):X.noDocument?w.fromSegments(X.noDocument.path):X.unknownDocument?w.fromSegments(X.unknownDocument.path):Jn()).path.toArray();var X;const ge={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};a.push(M.put(ge))}).next(()=>Wt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=C_(this.serializer),u=new Ju(Mc.zs,this.serializer.fe);return o.j().next(m=>{const M=new Map;return m.forEach(G=>{var X;let ge=null!==(X=M.get(G.userId))&&void 0!==X?X:Ji();Dc(this.serializer,G).keys().forEach(nt=>ge=ge.add(nt)),M.set(G.userId,ge)}),Wt.forEach(M,(G,X)=>{const ge=new lo(X),nt=Qh.de(this.serializer,ge),qt=u.getIndexManager(ge),mn=Zd.de(ge,this.serializer,qt,u.referenceDelegate);return new D_(a,mn,nt,qt).recalculateAndSaveOverlaysForDocumentKeys(new Kc(t,Is.ct),G).next()})})}}function Wm(r){r.createObjectStore("targetDocuments",{keyPath:Lh}).createIndex("documentTargetsIndex",Ou,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fa,{unique:!0}),r.createObjectStore("targetGlobal")}const th="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qd{constructor(e,t,o,a,u,m,M,G,X,ge,nt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=m,this.document=M,this.ri=X,this.oi=ge,this.ui=nt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=qt=>Promise.resolve(),!Qd.D())throw new C(p.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x_(this,a),this.di=t+"main",this.serializer=new h_(G),this.wi=new Ir(this.di,this.ui,new eh(this.serializer)),this.Bs=new sf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C_(this.serializer),this.qs=new m0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ge&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(p.FAILED_PRECONDITION,th);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Is(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,Re.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Re.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Re.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ws(e))return Cn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Cn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return df(e).get("owner").next(t=>Wt.resolve(this.Ri(t)))}Pi(e){return Xd(e).delete(this.clientId)}bi(){var e=this;return(0,Re.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=xs(o,"clientMetadata");return a.j().next(u=>{const m=e.Si(u,18e5),M=u.filter(G=>-1===m.indexOf(G));return Wt.forEach(M,G=>a.delete(G.clientId)).next(()=>M)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Wt.resolve(!0):df(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new C(p.FAILED_PRECONDITION,th);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xd(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Cn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Re.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Kc(t,Is.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Xd(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Zd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Cn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(m=this.ui)?Bl:14===m?Wc:13===m?Od:12===m?$a:11===m?mc:void Jn();var m;let M;return this.wi.runTransaction(e,a,u,G=>(M=new Kc(G,this.Os?this.Os.next():Is.ct),"readwrite-primary"===t?this.Ti(M).next(X=>!!X||this.Ei(M)).next(X=>{if(!X)throw Dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new C(p.FAILED_PRECONDITION,Lr);return o(M)}).next(X=>this.vi(M).next(()=>X)):this.Oi(M).next(()=>o(M)))).then(G=>(M.raiseOnCommittedEvent(),G))}Oi(e){return df(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new C(p.FAILED_PRECONDITION,th)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return df(e).put("owner",t)}static D(){return Ir.D()}Ai(e){const t=df(e);return t.get("owner").next(o=>this.Ri(o)?(Cn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Wt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Dr(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,be.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Cn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Dr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Dr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function df(r){return xs(r,"owner")}function Xd(r){return xs(r,"clientMetadata")}function nh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class uf{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=Ji(),a=Ji();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new uf(e,t.fromCache,o,a)}}class S_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Lu(t))return Wt.resolve(null);let o=Vs(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=qa(t,null,"F"),o=Vs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const m=Ji(...u);return this.Ui.getDocuments(e,m).next(M=>this.indexManager.getMinOffset(e,o).next(G=>{const X=this.ji(t,M);return this.zi(t,X,m,G.readTime)?this.Ki(e,qa(t,null,"F")):this.Wi(e,X,t,G)}))})))}Gi(e,t,o,a){return Lu(t)||a.isEqual(Wn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const m=this.ji(t,u);return this.zi(t,m,o,a)?this.Qi(e,t):(Ra()<=De.in.DEBUG&&Cn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yc(t)),this.Wi(e,m,t,Zt(a,-1)))})}ji(e,t){let o=new Tr(Bg(e));return t.forEach((a,u)=>{Aa(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return Ra()<=De.in.DEBUG&&Cn("QueryEngine","Using full collection scan to execute query:",yc(t)),this.Ui.getDocumentsMatchingQuery(e,t,Sn.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(m=>{u=u.insert(m.key,m)}),u))}}class My{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Sr(ei),this.Yi=new Tl(u=>tn(u),Fn),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Km(r,e,t,o){return new My(r,e,t,o)}function Zm(r,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,Re.Z)(function*(r,e){const t=y(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const m=[],M=[];let G=Ji();for(const X of a){m.push(X.batchId);for(const ge of X.mutations)G=G.add(ge.key)}for(const X of u){M.push(X.batchId);for(const ge of X.mutations)G=G.add(ge.key)}return t.localDocuments.getDocuments(o,G).next(X=>({er:X,removedBatchIds:m,addedBatchIds:M}))})})}),Ym.apply(this,arguments)}function ky(r){const e=y(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hf(r,e,t){let o=Ji(),a=Ji();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let m=ka();return t.forEach((M,G)=>{const X=u.get(M);G.isFoundDocument()!==X.isFoundDocument()&&(a=a.add(M)),G.isNoDocument()&&G.version.isEqual(Wn.min())?(e.removeEntry(M,G.readTime),m=m.insert(M,G)):!X.isValidDocument()||G.version.compareTo(X.version)>0||0===G.version.compareTo(X.version)&&X.hasPendingWrites?(e.addEntry(G),m=m.insert(M,G)):Cn("LocalStore","Ignoring outdated watch update for ",M,". Current version:",X.version," Watch version:",G.version)}),{nr:m,sr:a}})}function qm(r,e){const t=y(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Jd(r,e){const t=y(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,Wt.resolve(a)):t.Bs.allocateTargetId(o).next(m=>(a=new Yl(e,m,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function ad(r,e,t){return ih.apply(this,arguments)}function ih(){return ih=(0,Re.Z)(function*(r,e,t){const o=y(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,m=>o.persistence.referenceDelegate.removeTarget(m,a)))}catch(m){if(!ws(m))throw m;Cn("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),ih.apply(this,arguments)}function ld(r,e,t){const o=y(r);let a=Wn.min(),u=Ji();return o.persistence.runTransaction("Execute query","readonly",m=>function(M,G,X){const ge=y(M),nt=ge.Yi.get(X);return void 0!==nt?Wt.resolve(ge.Ji.get(nt)):ge.Bs.getTargetData(G,X)}(o,m,Vs(e)).next(M=>{if(M)return a=M.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(m,M.targetId).next(G=>{u=G})}).next(()=>o.Hi.getDocumentsMatchingQuery(m,e,t?a:Wn.min(),t?u:Ji())).next(M=>(M_(o,Lg(e),M),{documents:M,ir:u})))}function T_(r,e){const t=y(r),o=y(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(m=>m?m.target:null))}function Qm(r,e){const t=y(r),o=t.Xi.get(e)||Wn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Zt(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(M_(t,e,a),a))}function M_(r,e,t){let o=r.Xi.get(e)||Wn.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function k_(){return k_=(0,Re.Z)(function*(r,e,t,o){const a=y(r);let u=Ji(),m=ka();for(const X of t){const ge=e.rr(X.metadata.name);X.document&&(u=u.add(ge));const nt=e.ur(X);nt.setReadTime(e.cr(X.metadata.readTime)),m=m.insert(ge,nt)}const M=a.Zi.newChangeBuffer({trackRemovals:!0}),G=yield Jd(a,(X=o,Vs(gc(Fi.fromString(`__bundle__/docs/${X}`)))));var X;return a.persistence.runTransaction("Apply bundle documents","readwrite",X=>hf(X,M,m).next(ge=>(M.apply(X),ge)).next(ge=>a.Bs.removeMatchingKeysForTargetId(X,G.targetId).next(()=>a.Bs.addMatchingKeys(X,u,G.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(X,ge.nr,ge.sr)).next(()=>ge.nr)))}),k_.apply(this,arguments)}function Ry(r,e){return cd.apply(this,arguments)}function cd(){return cd=(0,Re.Z)(function*(r,e,t=Ji()){const o=yield Jd(r,Vs(f_(e.bundledQuery))),a=y(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const m=Ko(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return a.qs.saveNamedQuery(u,e);const M=o.withResumeToken(Qo.EMPTY_BYTE_STRING,m);return a.Ji=a.Ji.insert(M.targetId,M),a.Bs.updateTargetData(u,M).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),cd.apply(this,arguments)}function O_(r,e){return`firestore_clients_${r}_${e}`}function dd(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function ud(r,e){return`firestore_targets_${r}_${e}`}class ff{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,m="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(u=new C(a.error.code,a.error.message))),m?new ff(e,t,a.state,u):(Dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new C(o.error.code,o.error.message))),u?new eu(e,o.state,a):(Dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=Yc();for(let m=0;a&&m<o.activeTargetIds.length;++m)a=Ll(o.activeTargetIds[m]),u=u.add(o.activeTargetIds[m]);return a?new mf(e,u):(Dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xm{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xm(t.clientId,t.onlineState):(Dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jm{constructor(){this.activeTargetIds=Yc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pf{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Sr(ei),this.started=!1,this.yr=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=O_(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Jm),this.Tr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Re.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(O_(e.persistenceKey,a));if(u){const m=mf.ar(a,u);m&&(e.gr=e.gr.insert(m.clientId,m))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(ud(this.persistenceKey,e));if(o){const a=eu.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ud(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Cn("SharedClientState","READ",e,t),t}setItem(e,t){Cn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Cn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Cn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Re.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let m=Is.ct;if(null!=u)try{const M=JSON.parse(u);oi("number"==typeof M),m=M}catch(M){Dr("SharedClientState","Failed to read sequence number from WebStorage",M)}return m}(o.newValue);a!==Is.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new ff(this.currentUser,e,t,o),u=dd(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=dd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=ud(this.persistenceKey,e),u=new eu(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return mf.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return ff.ar(new lo(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return eu.ar(a,t)}br(e){return Xm.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Cn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),m=[],M=[];return u.forEach(G=>{a.has(G)||m.push(G)}),a.forEach(G=>{u.has(G)||M.push(G)}),this.syncEngine.Wr(m,M).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Yc();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class ep{constructor(){this.Hr=new Jm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tp{Yr(e){}shutdown(){}}class tu{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Cn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Cn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rh=null;function R_(){return null===rh?rh=268435456+Math.round(2147483648*Math.random()):rh++,"0x"+rh.toString(16)}const np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const js="WebChannelConnection";class P_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const m=R_(),M=this.To(e,t);Cn("RestConnection",`Sending RPC '${e}' ${m}:`,M,o);const G={};return this.Eo(G,a,u),this.Ao(e,M,G,o).then(X=>(Cn("RestConnection",`Received RPC '${e}' ${m}: `,X),X),X=>{throw Cs("RestConnection",`RPC '${e}' ${m} failed with error: `,X,"url: ",M,"request:",o),X})}vo(e,t,o,a,u,m){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+as,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${np[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=R_();return new Promise((m,M)=>{const G=new vl;G.setWithCredentials(!0),G.listenOnce(Xs.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case $o.NO_ERROR:const ge=G.getResponseJson();Cn(js,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ge)),m(ge);break;case $o.TIMEOUT:Cn(js,`RPC '${e}' ${u} timed out`),M(new C(p.DEADLINE_EXCEEDED,"Request time out"));break;case $o.HTTP_ERROR:const nt=G.getStatus();if(Cn(js,`RPC '${e}' ${u} failed with status:`,nt,"response text:",G.getResponseText()),nt>0){let qt=G.getResponseJson();Array.isArray(qt)&&(qt=qt[0]);const mn=qt?.error;if(mn&&mn.status&&mn.message){const Nn=function(Yn){const ni=Yn.toLowerCase().replace(/_/g,"-");return Object.values(p).indexOf(ni)>=0?ni:p.UNKNOWN}(mn.status);M(new C(Nn,mn.message))}else M(new C(p.UNKNOWN,"Server responded with status "+G.getStatus()))}else M(new C(p.UNAVAILABLE,"Connection failed."));break;default:Jn()}}finally{Cn(js,`RPC '${e}' ${u} completed.`)}});const X=JSON.stringify(a);Cn(js,`RPC '${e}' ${u} sending request:`,a),G.send(t,"POST",X,o,15)})}Ro(e,t,o){const a=R_(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Xr(),M=Ia(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&(G.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(G.xmlHttpFactory=new Nl({})),this.Eo(G.initMessageHeaders,t,o),G.encodeInitMessageHeaders=!0;const ge=u.join("");Cn(js,`Creating RPC '${e}' stream ${a}: ${ge}`,G);const nt=m.createWebChannel(ge,G);let qt=!1,mn=!1;const Nn=new nu({ro:ni=>{mn?Cn(js,`Not sending because RPC '${e}' stream ${a} is closed:`,ni):(qt||(Cn(js,`Opening RPC '${e}' stream ${a} transport.`),nt.open(),qt=!0),Cn(js,`RPC '${e}' stream ${a} sending:`,ni),nt.send(ni))},oo:()=>nt.close()}),Yn=(ni,er,jr)=>{ni.listen(er,zi=>{try{jr(zi)}catch(ds){setTimeout(()=>{throw ds},0)}})};return Yn(nt,_a.EventType.OPEN,()=>{mn||Cn(js,`RPC '${e}' stream ${a} transport opened.`)}),Yn(nt,_a.EventType.CLOSE,()=>{mn||(mn=!0,Cn(js,`RPC '${e}' stream ${a} transport closed`),Nn.wo())}),Yn(nt,_a.EventType.ERROR,ni=>{mn||(mn=!0,Cs(js,`RPC '${e}' stream ${a} transport errored:`,ni),Nn.wo(new C(p.UNAVAILABLE,"The operation could not be completed")))}),Yn(nt,_a.EventType.MESSAGE,ni=>{var er;if(!mn){const jr=ni.data[0];oi(!!jr);const ds=jr.error||(null===(er=jr[0])||void 0===er?void 0:er.error);if(ds){Cn(js,`RPC '${e}' stream ${a} received error:`,ds);const Bo=ds.status;let ko=function(gl){const Au=Wo[gl];if(void 0!==Au)return Qg(Au)}(Bo),fa=ds.message;void 0===ko&&(ko=p.INTERNAL,fa="Unknown error status: "+Bo+" with message "+ds.message),mn=!0,Nn.wo(new C(ko,fa)),nt.close()}else Cn(js,`RPC '${e}' stream ${a} received:`,jr),Nn._o(jr)}}),Yn(M,ss.STAT_EVENT,ni=>{ni.stat===Es.PROXY?Cn(js,`RPC '${e}' stream ${a} detected buffering proxy`):ni.stat===Es.NOPROXY&&Cn(js,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Nn.fo()},0),Nn}}function ip(){return typeof window<"u"?window:null}function gf(){return typeof document<"u"?document:null}function oh(r){return new hy(r,!0)}class rp{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&Cn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F_{constructor(e,t,o,a,u,m,M,G){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=M,this.listener=G,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new rp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Re.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Re.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,Re.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===p.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===p.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new C(p.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Re.Z)(function*(){e.state=0,e.start()}))}tu(e){return Cn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Cn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Py extends F_{constructor(e,t,o,a,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,m),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function s_(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:Jn(),a=e.targetChange.targetIds||[],u=function(G,X){return G.useProto3Json?(oi(void 0===X||"string"==typeof X),Qo.fromBase64String(X||"")):(oi(void 0===X||X instanceof Uint8Array),Qo.fromUint8Array(X||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,M=m&&function(G){const X=void 0===G.code?p.UNKNOWN:Qg(G.code);return new C(X,G.message||"")}(m);t=new $u(o,a,u,M||null)}else if("documentChange"in e){const o=e.documentChange,a=Al(r,o.document.name),u=Ko(o.document.updateTime),m=o.document.createTime?Ko(o.document.createTime):Wn.min(),M=new Cr({mapValue:{fields:o.document.fields}}),G=eo.newFoundDocument(a,u,m,M);t=new zu(o.targetIds||[],o.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const o=e.documentDelete,a=Al(r,o.document),u=o.readTime?Ko(o.readTime):Wn.min(),m=eo.newNoDocument(a,u);t=new zu([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,a=Al(r,o.document);t=new zu([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Jn();{const o=e.filter,{count:a=0,unchangedNames:u}=o,m=new qg(a,u);t=new Gh(o.targetId,m)}}var G;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return Wn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Wn.min():u.readTime?Ko(u.readTime):Wn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Kl(this.serializer),t.addTarget=function(a,u){let m;const M=u.target;if(m=ti(M)?{documents:a_(a,M)}:{query:Mm(a,M)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Gu(a,u.resumeToken);const G=Wh(a,u.expectedCount);null!==G&&(m.expectedCount=G)}else if(u.snapshotVersion.compareTo(Wn.min())>0){m.readTime=ed(a,u.snapshotVersion.toTimestamp());const G=Wh(a,u.expectedCount);null!==G&&(m.expectedCount=G)}return m}(this.serializer,e);const o=function Zl(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Kl(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fy extends F_{constructor(e,t,o,a,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,m),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(oi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function fy(r,e){return r&&r.length>0?(oi(void 0!==e),r.map(t=>function(o,a){let u=Ko(o.updateTime?o.updateTime:a);return u.isEqual(Wn.min())&&(u=Ko(a)),new fm(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ko(e.commitTime);return this.listener.cu(o,t)}return oi(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kl(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>ll(this.serializer,o))};this.Wo(t)}}class N_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new C(p.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new C(p.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.vo(e,t,o,u,m,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new C(p.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class L_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Dr(t),this.mu=!1):Cn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g0{constructor(e,t,o,a,u){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(M=>{o.enqueueAndForget((0,Re.Z)(function*(){var G;Jl(m)&&(Cn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,Re.Z)(function*(X){const ge=y(X);ge.vu.add(4),yield ah(ge),ge.bu.set("Unknown"),ge.vu.delete(4),yield sh(ge)}),function(X){return G.apply(this,arguments)})(m))}))}),this.bu=new L_(o,a)}}function sh(r){return B_.apply(this,arguments)}function B_(){return B_=(0,Re.Z)(function*(r){if(Jl(r))for(const e of r.Ru)yield e(!0)}),B_.apply(this,arguments)}function ah(r){return _f.apply(this,arguments)}function _f(){return _f=(0,Re.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),_f.apply(this,arguments)}function lh(r,e){const t=y(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),wf(t)?bf(t):md(t).Ko()&&yf(t,e))}function vf(r,e){const t=y(r),o=md(t);t.Au.delete(e),o.Ko()&&ch(t,e),0===t.Au.size&&(o.Ko()?o.jo():Jl(t)&&t.bu.set("Unknown"))}function yf(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}md(r).su(e)}function ch(r,e){r.Vu.qt(e),md(r).iu(e)}function bf(r){r.Vu=new Cm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),md(r).start(),r.bu.gu()}function wf(r){return Jl(r)&&!md(r).Uo()&&r.Au.size>0}function Jl(r){return 0===y(r).vu.size}function Yi(r){r.Vu=void 0}function U_(r){return xf.apply(this,arguments)}function xf(){return xf=(0,Re.Z)(function*(r){r.Au.forEach((e,t)=>{yf(r,e)})}),xf.apply(this,arguments)}function _0(r,e){return op.apply(this,arguments)}function op(){return op=(0,Re.Z)(function*(r,e){Yi(r),wf(r)?(r.bu.Iu(e),bf(r)):r.bu.set("Unknown")}),op.apply(this,arguments)}function V_(r,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,Re.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof $u&&2===e.state&&e.cause)try{yield(o=(0,Re.Z)(function*(a,u){const m=u.cause;for(const M of u.targetIds)a.Au.has(M)&&(yield a.remoteSyncer.rejectListen(M,m),a.Au.delete(M),a.Vu.removeTarget(M))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){Cn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ef(r,o)}else if(e instanceof zu?r.Vu.Ht(e):e instanceof Gh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Wn.min()))try{const o=yield ky(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const m=a.Vu.ce(u);return m.targetChanges.forEach((M,G)=>{if(M.resumeToken.approximateByteSize()>0){const X=a.Au.get(G);X&&a.Au.set(G,X.withResumeToken(M.resumeToken,u))}}),m.targetMismatches.forEach((M,G)=>{const X=a.Au.get(M);if(!X)return;a.Au.set(M,X.withResumeToken(Qo.EMPTY_BYTE_STRING,X.snapshotVersion)),ch(a,M);const ge=new Yl(X.target,M,G,X.sequenceNumber);yf(a,ge)}),a.remoteSyncer.applyRemoteEvent(m)}(r,t))}catch(o){Cn("RemoteStore","Failed to raise snapshot:",o),yield Ef(r,o)}var o}),sp.apply(this,arguments)}function Ef(r,e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Re.Z)(function*(r,e,t){if(!ws(e))throw e;r.vu.add(1),yield ah(r),r.bu.set("Offline"),t||(t=()=>ky(r.localStore)),r.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){Cn("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield sh(r)}))}),Cf.apply(this,arguments)}function j_(r,e){return e().catch(t=>Ef(r,t,e))}function hd(r){return ap.apply(this,arguments)}function ap(){return ap=(0,Re.Z)(function*(r){const e=y(r),t=kl(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ny(e);)try{const a=yield qm(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,v0(e,a)}catch(a){yield Ef(e,a)}lp(e)&&cp(e)}),ap.apply(this,arguments)}function Ny(r){return Jl(r)&&r.Eu.length<10}function v0(r,e){r.Eu.push(e);const t=kl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function lp(r){return Jl(r)&&!kl(r).Uo()&&r.Eu.length>0}function cp(r){kl(r).start()}function Ac(r){return kc.apply(this,arguments)}function kc(){return kc=(0,Re.Z)(function*(r){kl(r).hu()}),kc.apply(this,arguments)}function H_(r){return dp.apply(this,arguments)}function dp(){return dp=(0,Re.Z)(function*(r){const e=kl(r);for(const t of r.Eu)e.uu(t.mutations)}),dp.apply(this,arguments)}function Df(r,e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,Re.Z)(function*(r,e,t){const o=r.Eu.shift(),a=_m.from(o,e,t);yield j_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield hd(r)}),Oc.apply(this,arguments)}function up(r,e){return fd.apply(this,arguments)}function fd(){return fd=(0,Re.Z)(function*(r,e){var t;e&&kl(r).ou&&(yield(t=(0,Re.Z)(function*(o,a){if(bm(u=a.code)&&u!==p.ABORTED){const m=o.Eu.shift();kl(o).Qo(),yield j_(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,a)),yield hd(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),lp(r)&&cp(r)}),fd.apply(this,arguments)}function hp(r,e){return dh.apply(this,arguments)}function dh(){return dh=(0,Re.Z)(function*(r,e){const t=y(r);t.asyncQueue.verifyOperationInProgress(),Cn("RemoteStore","RemoteStore received new credentials");const o=Jl(t);t.vu.add(3),yield ah(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield sh(t)}),dh.apply(this,arguments)}function uh(r,e){return hh.apply(this,arguments)}function hh(){return hh=(0,Re.Z)(function*(r,e){const t=y(r);e?(t.vu.delete(2),yield sh(t)):e||(t.vu.add(2),yield ah(t),t.bu.set("Unknown"))}),hh.apply(this,arguments)}function md(r){return r.Su||(r.Su=function(e,t,o){const a=y(e);return a.fu(),new Py(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:U_.bind(null,r),ao:_0.bind(null,r),nu:V_.bind(null,r)}),r.Ru.push(function(){var e=(0,Re.Z)(function*(t){t?(r.Su.Qo(),wf(r)?bf(r):r.bu.set("Unknown")):(yield r.Su.stop(),Yi(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function kl(r){return r.Du||(r.Du=function(e,t,o){const a=y(e);return a.fu(),new Fy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:Ac.bind(null,r),ao:up.bind(null,r),au:H_.bind(null,r),cu:Df.bind(null,r)}),r.Ru.push(function(){var e=(0,Re.Z)(function*(t){t?(r.Du.Qo(),yield hd(r)):(yield r.Du.stop(),r.Eu.length>0&&(Cn("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class fp{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new z,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,o,a,u){const m=Date.now()+o,M=new fp(e,t,m,a,u);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(p.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ru(r,e){if(Dr("AsyncQueue",`${e}: ${r}`),ws(r))return new C(p.UNAVAILABLE,`${e}: ${r}`);throw r}class ou{constructor(e){this.comparator=e?(t,o)=>e(t,o)||w.comparator(t.key,o.key):(t,o)=>w.comparator(t.key,o.key),this.keyedMap=Bu(),this.sortedSet=new Sr(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ou;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class mp{constructor(){this.Cu=new Sr(w.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Jn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class su{constructor(e,t,o,a,u,m,M,G,X){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=M,this.excludesMetadataChanges=G,this.hasCachedResults=X}static fromInitialDocuments(e,t,o,a,u){const m=[];return t.forEach(M=>{m.push({type:0,doc:M})}),new su(e,t,ou.emptySet(t),m,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class Ly{constructor(){this.Nu=void 0,this.listeners=[]}}class By{constructor(){this.queries=new Tl(e=>Hl(e),vc),this.onlineState="Unknown",this.ku=new Set}}function pp(r,e){return If.apply(this,arguments)}function If(){return If=(0,Re.Z)(function*(r,e){const t=y(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new Ly),a)try{u.Nu=yield t.onListen(o)}catch(m){const M=ru(m,`Initialization of query '${yc(e.query)}' failed`);return void e.onError(M)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&_p(t)}),If.apply(this,arguments)}function Sf(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,Re.Z)(function*(r,e){const t=y(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const m=u.listeners.indexOf(e);m>=0&&(u.listeners.splice(m,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),gp.apply(this,arguments)}function Uy(r,e){const t=y(r);let o=!1;for(const a of e){const m=t.queries.get(a.query);if(m){for(const M of m.listeners)M.$u(a)&&(o=!0);m.Nu=a}}o&&_p(t)}function Ua(r,e,t){const o=y(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function _p(r){r.ku.forEach(e=>{e.next()})}class vp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new su(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class y0{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Tf{constructor(e){this.serializer=e}rr(e){return Al(this.serializer,e)}ur(e){return e.metadata.exists?Sm(this.serializer,e.document,!1):eo.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ko(e)}}class z_{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Fi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Tf(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const m of a.metadata.queries){const M=(t.get(m)||Ji()).add(u);t.set(m,M)}}return t}complete(){var e=this;return(0,Re.Z)(function*(){const t=yield function A_(r,e,t,o){return k_.apply(this,arguments)}(e.localStore,new Tf(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield Ry(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class G_{constructor(e){this.key=e}}class W_{constructor(e){this.key=e}}class yp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ji(),this.mutatedKeys=Ji(),this.tc=Bg(e),this.ec=new ou(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new mp,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,m=a,M=!1;const G="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,X="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ge,nt)=>{const qt=a.get(ge),mn=Aa(this.query,nt)?nt:null,Nn=!!qt&&this.mutatedKeys.has(qt.key),Yn=!!mn&&(mn.hasLocalMutations||this.mutatedKeys.has(mn.key)&&mn.hasCommittedMutations);let ni=!1;qt&&mn?qt.data.isEqual(mn.data)?Nn!==Yn&&(o.track({type:3,doc:mn}),ni=!0):this.rc(qt,mn)||(o.track({type:2,doc:mn}),ni=!0,(G&&this.tc(mn,G)>0||X&&this.tc(mn,X)<0)&&(M=!0)):!qt&&mn?(o.track({type:0,doc:mn}),ni=!0):qt&&!mn&&(o.track({type:1,doc:qt}),ni=!0,(G||X)&&(M=!0)),ni&&(mn?(m=m.add(mn),u=Yn?u.add(ge):u.delete(ge)):(m=m.delete(ge),u=u.delete(ge)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ge="F"===this.query.limitType?m.last():m.first();m=m.delete(ge.key),u=u.delete(ge.key),o.track({type:1,doc:ge})}return{ec:m,ic:o,zi:M,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((X,ge)=>function(nt,qt){const mn=Nn=>{switch(Nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jn()}};return mn(nt)-mn(qt)}(X.type,ge.type)||this.tc(X.doc,ge.doc)),this.oc(o);const m=t?this.uc():[],M=0===this.Zu.size&&this.current?1:0,G=M!==this.Xu;return this.Xu=M,0!==u.length||G?{snapshot:new su(this.query,e.ec,a,u,e.mutatedKeys,0===M,G,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:m}:{cc:m}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new mp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ji(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new W_(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new G_(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Ji();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return su.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vy{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class jy{constructor(e){this.key=e,this.fc=!1}}class bp{constructor(e,t,o,a,u,m){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.dc={},this.wc=new Tl(M=>Hl(M),vc),this._c=new Map,this.mc=new Set,this.gc=new Sr(w.comparator),this.yc=new Map,this.Ic=new I_,this.Tc={},this.Ec=new Map,this.Ac=Ql.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Hy(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,Re.Z)(function*(r,e){const t=pd(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const m=yield Jd(t.localStore,Vs(e)),M=t.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,a=yield xp(t,e,o,"current"===M,m.resumeToken),t.isPrimaryClient&&lh(t.remoteStore,m)}return a}),wp.apply(this,arguments)}function xp(r,e,t,o,a){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Re.Z)(function*(r,e,t,o,a){r.Rc=(nt,qt,mn)=>{return(Nn=(0,Re.Z)(function*(Yn,ni,er,jr){let zi=ni.view.sc(er);zi.zi&&(zi=yield ld(Yn.localStore,ni.query,!1).then(({documents:ko})=>ni.view.sc(ko,zi)));const ds=jr&&jr.targetChanges.get(ni.targetId),Bo=ni.view.applyChanges(zi,Yn.isPrimaryClient,ds);return mh(Yn,ni.targetId,Bo.cc),Bo.snapshot}),function(Yn,ni,er,jr){return Nn.apply(this,arguments)})(r,nt,qt,mn);var Nn};const u=yield ld(r.localStore,e,!0),m=new yp(e,u.ir),M=m.sc(u.documents),G=Wl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),X=m.applyChanges(M,r.isPrimaryClient,G);mh(r,t,X.cc);const ge=new Vy(e,t,m);return r.wc.set(e,ge),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),X.snapshot}),Ep.apply(this,arguments)}function zy(r,e){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,Re.Z)(function*(r,e){const t=y(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!vc(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ad(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),vf(t.remoteStore,o.targetId),lu(t,o.targetId)}).catch(_o))):(lu(t,o.targetId),yield ad(t.localStore,o.targetId,!0))}),Ja.apply(this,arguments)}function Dp(){return Dp=(0,Re.Z)(function*(r,e,t){const o=Lp(r);try{const a=yield function(u,m){const M=y(u),G=Zi.now(),X=m.reduce((qt,mn)=>qt.add(mn.key),Ji());let ge,nt;return M.persistence.runTransaction("Locally write mutations","readwrite",qt=>{let mn=ka(),Nn=Ji();return M.Zi.getEntries(qt,X).next(Yn=>{mn=Yn,mn.forEach((ni,er)=>{er.isValidDocument()||(Nn=Nn.add(ni))})}).next(()=>M.localDocuments.getOverlayedDocuments(qt,mn)).next(Yn=>{ge=Yn;const ni=[];for(const er of m){const jr=cy(er,ge.get(er.key).overlayedDocument);null!=jr&&ni.push(new Gl(er.key,jr,Ya(jr.value.mapValue),Xo.exists(!0)))}return M.mutationQueue.addMutationBatch(qt,G,ni,m)}).next(Yn=>{nt=Yn;const ni=Yn.applyToLocalDocumentSet(ge,Nn);return M.documentOverlayCache.saveOverlays(qt,Yn.batchId,ni)})}).then(()=>({batchId:nt.batchId,changes:lm(ge)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,m,M){let G=u.Tc[u.currentUser.toKey()];G||(G=new Sr(ei)),G=G.insert(m,M),u.Tc[u.currentUser.toKey()]=G}(o,a.batchId,t),yield ec(o,a.changes),yield hd(o.remoteStore)}catch(a){const u=ru(a,"Failed to persist write");t.reject(u)}}),Dp.apply(this,arguments)}function Ip(r,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Re.Z)(function*(r,e){const t=y(r);try{const o=yield function Oy(r,e){const t=y(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const M=[];e.targetChanges.forEach((ge,nt)=>{const qt=a.get(nt);if(!qt)return;M.push(t.Bs.removeMatchingKeys(u,ge.removedDocuments,nt).next(()=>t.Bs.addMatchingKeys(u,ge.addedDocuments,nt)));let mn=qt.withSequenceNumber(u.currentSequenceNumber);var Nn,Yn,ni;null!==e.targetMismatches.get(nt)?mn=mn.withResumeToken(Qo.EMPTY_BYTE_STRING,Wn.min()).withLastLimboFreeSnapshotVersion(Wn.min()):ge.resumeToken.approximateByteSize()>0&&(mn=mn.withResumeToken(ge.resumeToken,o)),a=a.insert(nt,mn),Yn=mn,ni=ge,(0===(Nn=qt).resumeToken.approximateByteSize()||Yn.snapshotVersion.toMicroseconds()-Nn.snapshotVersion.toMicroseconds()>=3e8||ni.addedDocuments.size+ni.modifiedDocuments.size+ni.removedDocuments.size>0)&&M.push(t.Bs.updateTargetData(u,mn))});let G=ka(),X=Ji();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(u,ge))}),M.push(hf(u,m,e.documentUpdates).next(ge=>{G=ge.nr,X=ge.sr})),!o.isEqual(Wn.min())){const ge=t.Bs.getLastRemoteSnapshotVersion(u).next(nt=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));M.push(ge)}return Wt.waitFor(M).next(()=>m.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,G,X)).next(()=>G)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const m=t.yc.get(u);m&&(oi(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?m.fc=!0:a.modifiedDocuments.size>0?oi(m.fc):a.removedDocuments.size>0&&(oi(m.fc),m.fc=!1))}),yield ec(t,o,e)}catch(o){yield _o(o)}}),Sp.apply(this,arguments)}function Tp(r,e,t){const o=y(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,m)=>{const M=m.view.Mu(e);M.snapshot&&a.push(M.snapshot)}),function(u,m){const M=y(u);M.onlineState=m;let G=!1;M.queries.forEach((X,ge)=>{for(const nt of ge.listeners)nt.Mu(m)&&(G=!0)}),G&&_p(M)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function K_(r,e,t){return au.apply(this,arguments)}function au(){return au=(0,Re.Z)(function*(r,e,t){const o=y(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let m=new Sr(w.comparator);m=m.insert(u,eo.newNoDocument(u,Wn.min()));const M=Ji().add(u),G=new xc(Wn.min(),new Map,new Sr(ei),m,M);yield Ip(o,G),o.gc=o.gc.remove(u),o.yc.delete(e),Ap(o)}else yield ad(o.localStore,e,!1).then(()=>lu(o,e,t)).catch(_o)}),au.apply(this,arguments)}function Mp(r,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Re.Z)(function*(r,e){const t=y(r),o=e.batch.batchId;try{const a=yield function Ay(r,e){const t=y(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(m,M,G,X){const ge=G.batch,nt=ge.keys();let qt=Wt.resolve();return nt.forEach(mn=>{qt=qt.next(()=>X.getEntry(M,mn)).next(Nn=>{const Yn=G.docVersions.get(mn);oi(null!==Yn),Nn.version.compareTo(Yn)<0&&(ge.applyToRemoteDocument(Nn,G),Nn.isValidDocument()&&(Nn.setReadTime(G.commitVersion),X.addEntry(Nn)))})}),qt.next(()=>m.mutationQueue.removeMutationBatch(M,ge))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let M=Ji();for(let G=0;G<m.mutationResults.length;++G)m.mutationResults[G].transformResults.length>0&&(M=M.add(m.batch.mutations[G].key));return M}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);hl(t,o,null),fh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield ec(t,a)}catch(a){yield _o(a)}}),Z_.apply(this,arguments)}function Y_(r,e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,Re.Z)(function*(r,e,t){const o=y(r);try{const a=yield function(u,m){const M=y(u);return M.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let X;return M.mutationQueue.lookupMutationBatch(G,m).next(ge=>(oi(null!==ge),X=ge.keys(),M.mutationQueue.removeMutationBatch(G,ge))).next(()=>M.mutationQueue.performConsistencyCheck(G)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(G,X,m)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,X)).next(()=>M.localDocuments.getDocuments(G,X))})}(o.localStore,e);hl(o,e,t),fh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield ec(o,a)}catch(a){yield _o(a)}}),Mf.apply(this,arguments)}function Af(){return Af=(0,Re.Z)(function*(r,e){const t=y(r);Jl(t.remoteStore)||Cn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const m=y(u);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>m.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=ru(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Af.apply(this,arguments)}function fh(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function hl(r,e,t){const o=y(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function lu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||Q_(r,o)})}function Q_(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(vf(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ap(r))}function mh(r,e,t){for(const o of t)o instanceof G_?(r.Ic.addReference(o.key,e),$y(r,o)):o instanceof W_?(Cn("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||Q_(r,o.key)):Jn()}function $y(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(Cn("SyncEngine","New document in limbo: "+t),r.mc.add(o),Ap(r))}function Ap(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new w(Fi.fromString(e)),o=r.Ac.next();r.yc.set(o,new jy(t)),r.gc=r.gc.insert(t,o),lh(r.remoteStore,new Yl(Vs(gc(t.path)),o,"TargetPurposeLimboResolution",Is.ct))}}function ec(r,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,Re.Z)(function*(r,e,t){const o=y(r),a=[],u=[],m=[];var M;o.wc.isEmpty()||(o.wc.forEach((M,G)=>{m.push(o.Rc(G,e,t).then(X=>{if((X||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,X?.fromCache?"not-current":"current"),X){a.push(X);const ge=uf.Li(G.targetId,X);u.push(ge)}}))}),yield Promise.all(m),o.dc.nu(a),yield(M=(0,Re.Z)(function*(G,X){const ge=y(G);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>Wt.forEach(X,qt=>Wt.forEach(qt.Fi,mn=>ge.persistence.referenceDelegate.addReference(nt,qt.targetId,mn)).next(()=>Wt.forEach(qt.Bi,mn=>ge.persistence.referenceDelegate.removeReference(nt,qt.targetId,mn)))))}catch(nt){if(!ws(nt))throw nt;Cn("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of X){const qt=nt.targetId;if(!nt.fromCache){const mn=ge.Ji.get(qt),Yn=mn.withLastLimboFreeSnapshotVersion(mn.snapshotVersion);ge.Ji=ge.Ji.insert(qt,Yn)}}}),function(G,X){return M.apply(this,arguments)})(o.localStore,u))}),X_.apply(this,arguments)}function J_(r,e){return kp.apply(this,arguments)}function kp(){return kp=(0,Re.Z)(function*(r,e){const t=y(r);if(!t.currentUser.isEqual(e)){Cn("SyncEngine","User change. New user:",e.toKey());const o=yield Zm(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(m=>{m.forEach(M=>{M.reject(new C(p.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ec(t,o.er)}var a}),kp.apply(this,arguments)}function kf(r,e){const t=y(r),o=t.yc.get(e);if(o&&o.fc)return Ji().add(o.key);{let a=Ji();const u=t._c.get(e);if(!u)return a;for(const m of u){const M=t.wc.get(m);a=a.unionWith(M.view.nc)}return a}}function ph(r,e){return cu.apply(this,arguments)}function cu(){return cu=(0,Re.Z)(function*(r,e){const t=y(r),o=yield ld(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&mh(t,e.targetId,a.cc),a}),cu.apply(this,arguments)}function b0(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Re.Z)(function*(r,e){const t=y(r);return Qm(t.localStore,e).then(o=>ec(t,o))}),Op.apply(this,arguments)}function Of(r,e,t,o){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Re.Z)(function*(r,e,t,o){const a=y(r),u=yield function(m,M){const G=y(m),X=y(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",ge=>X.Sn(ge,M).next(nt=>nt?G.localDocuments.getDocuments(ge,nt):Wt.resolve(null)))}(a.localStore,e);var M;null!==u?("pending"===t?yield hd(a.remoteStore):"acknowledged"===t||"rejected"===t?(hl(a,e,o||null),fh(a,e),M=e,y(y(a.localStore).mutationQueue).Cn(M)):Jn(),yield ec(a,u)):Cn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rp.apply(this,arguments)}function Pp(){return Pp=(0,Re.Z)(function*(r,e){const t=y(r);if(pd(t),Lp(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Rf(t,o.toArray());t.vc=!0,yield uh(t.remoteStore,!0);for(const u of a)lh(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,m)=>{t.sharedClientState.isLocalQueryTarget(m)?o.push(m):a=a.then(()=>(lu(t,m),ad(t.localStore,m,!0))),vf(t.remoteStore,m)}),yield a,yield Rf(t,o),function(u){const m=y(u);m.yc.forEach((M,G)=>{vf(m.remoteStore,G)}),m.Ic.Ts(),m.yc=new Map,m.gc=new Sr(w.comparator)}(t),t.vc=!1,yield uh(t.remoteStore,!1)}}),Pp.apply(this,arguments)}function Rf(r,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Re.Z)(function*(r,e,t){const o=y(r),a=[],u=[];for(const m of e){let M;const G=o._c.get(m);if(G&&0!==G.length){M=yield Jd(o.localStore,Vs(G[0]));for(const X of G){const ge=o.wc.get(X),nt=yield ph(o,ge);nt.snapshot&&u.push(nt.snapshot)}}else{const X=yield T_(o.localStore,m);M=yield Jd(o.localStore,X),yield xp(o,du(X),m,!1,M.resumeToken)}a.push(M)}return o.dc.nu(u),a}),Fp.apply(this,arguments)}function du(r){return Bd(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Wy(r){const e=y(r);return y(y(e.localStore).persistence).$i()}function ev(r,e,t,o){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,Re.Z)(function*(r,e,t,o){const a=y(r);if(a.vc)return void Cn("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const m=yield Qm(a.localStore,Lg(u[0])),M=xc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Qo.EMPTY_BYTE_STRING);yield ec(a,m,M);break}case"rejected":yield ad(a.localStore,e,!0),lu(a,e,o);break;default:Jn()}}),Pf.apply(this,arguments)}function Ky(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,Re.Z)(function*(r,e,t){const o=pd(r);if(o.vc){for(const a of e){if(o._c.has(a)){Cn("SyncEngine","Adding an already active target "+a);continue}const u=yield T_(o.localStore,a),m=yield Jd(o.localStore,u);yield xp(o,du(u),m.targetId,!1,m.resumeToken),lh(o.remoteStore,m)}for(const a of t)o._c.has(a)&&(yield ad(o.localStore,a,!1).then(()=>{vf(o.remoteStore,a),lu(o,a)}).catch(_o))}}),Np.apply(this,arguments)}function pd(r){const e=y(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ip.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K_.bind(null,e),e.dc.nu=Uy.bind(null,e.eventManager),e.dc.Pc=Ua.bind(null,e.eventManager),e}function Lp(r){const e=y(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y_.bind(null,e),e}class gh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.serializer=oh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Km(this.persistence,new S_,e.initialUser,this.serializer)}createPersistence(e){return new Ju(Mc.zs,this.serializer)}createSharedClientState(e){return new ep}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends gh{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Re.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Lp(o.Vc.syncEngine),yield hd(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Km(this.persistence,new S_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new lf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Ta(t,this.persistence);return new Nh(e.asyncQueue,o)}createPersistence(e){const t=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new Qd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ip(),gf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ep}}class tv extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Re.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof pf&&(o.sharedClientState.syncEngine={jr:Of.bind(null,a),zr:ev.bind(null,a),Wr:Ky.bind(null,a),$i:Wy.bind(null,a),Qr:b0.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,Re.Z)(function*(m){yield function Gy(r,e){return Pp.apply(this,arguments)}(o.Vc.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ip();if(!pf.D(t))throw new C(p.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class uu{initialize(e,t){var o=this;return(0,Re.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Tp(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=J_.bind(null,o.syncEngine),yield uh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new By}createDatastore(e){const t=oh(e.databaseInfo.databaseId),o=new P_(e.databaseInfo);return new N_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=M=>Tp(this.syncEngine,M,0),m=tu.D()?new tu:new tp,new g0(t,o,a,u,m);var t,o,a,u,m}createSyncEngine(e,t){return function(o,a,u,m,M,G,X){const ge=new bp(o,a,u,m,M,G);return X&&(ge.vc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(t){const o=y(t);Cn("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ah(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nv(r,e=10240){let t=0;return{read:()=>(0,Re.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new z,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Re.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Re.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new y0(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Re.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,Re.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Up{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new C(p.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,Re.Z)(function*(u,m){const M=y(u),G=Kl(M.serializer)+"/documents",X={documents:m.map(mn=>Kh(M.serializer,mn))},ge=yield M.vo("BatchGetDocuments",G,X,m.length),nt=new Map;ge.forEach(mn=>{const Nn=function o_(r,e){return"found"in e?function(t,o){oi(!!o.found);const a=Al(t,o.found.name),u=Ko(o.found.updateTime),m=o.found.createTime?Ko(o.found.createTime):Wn.min(),M=new Cr({mapValue:{fields:o.found.fields}});return eo.newFoundDocument(a,u,m,M)}(r,e):"missing"in e?function(t,o){oi(!!o.missing),oi(!!o.readTime);const a=Al(t,o.missing),u=Ko(o.readTime);return eo.newNoDocument(a,u)}(r,e):Jn()}(M.serializer,mn);nt.set(Nn.key.toString(),Nn)});const qt=[];return m.forEach(mn=>{const Nn=nt.get(mn.toString());oi(!!Nn),qt.push(Nn)}),qt}),function(u,m){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new wc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=w.fromPath(a);e.mutations.push(new $h(u,e.precondition(u)))}),yield(o=(0,Re.Z)(function*(a,u){const m=y(a),M=Kl(m.serializer)+"/documents",G={writes:u.map(X=>ll(m.serializer,X))};yield m.Io("Commit",M,G)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jn();t=Wn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new C(p.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Wn.min())?Xo.exists(!1):Xo.updateTime(t):Xo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wn.min()))throw new C(p.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xo.updateTime(t)}return Xo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yy{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new rp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Re.Z)(function*(){const t=new Up(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Ws(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bm(t)}return!1}}class Vp{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=lo.UNAUTHENTICATED,this.clientId=pi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,Re.Z)(function*(M){Cn("FirestoreClient","Received user=",M.uid),yield u.authCredentialListener(M),u.user=M});return function(M){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(Cn("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(p.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new z;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=ru(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Nf(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,Re.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Cn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Re.Z)(function*(u){o.isEqual(u)||(yield Zm(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),jp.apply(this,arguments)}function Hp(r,e){return zp.apply(this,arguments)}function zp(){return zp=(0,Re.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield $p(r);Cn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>hp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>hp(e.remoteStore,u)),r._onlineComponents=e}),zp.apply(this,arguments)}function rv(r){return"FirebaseError"===r.name?r.code===p.FAILED_PRECONDITION||r.code===p.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function $p(r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Re.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Cn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rv(t))throw t;Cs("Error using user provided cache. Falling back to memory cache: "+t),yield Nf(r,new gh)}}else Cn("FirestoreClient","Using default OfflineComponentProvider"),yield Nf(r,new gh);return r._offlineComponents}),Gp.apply(this,arguments)}function _h(r){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,Re.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Cn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hp(r,r._uninitializedComponentsProvider._online)):(Cn("FirestoreClient","Using default OnlineComponentProvider"),yield Hp(r,new uu))),r._onlineComponents}),Lf.apply(this,arguments)}function ov(r){return $p(r).then(e=>e.persistence)}function Wp(r){return $p(r).then(e=>e.localStore)}function Kp(r){return _h(r).then(e=>e.remoteStore)}function sv(r){return _h(r).then(e=>e.syncEngine)}function hu(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Re.Z)(function*(r){const e=yield _h(r),t=e.eventManager;return t.onListen=Hy.bind(null,e.syncEngine),t.onUnlisten=zy.bind(null,e.syncEngine),t}),Zp.apply(this,arguments)}function fu(r,e,t={}){const o=new z;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(a,u,m,M,G){const X=new Ff({next:nt=>{u.enqueueAndForget(()=>Sf(a,ge));const qt=nt.docs.has(m);!qt&&nt.fromCache?G.reject(new C(p.UNAVAILABLE,"Failed to get document because the client is offline.")):qt&&nt.fromCache&&M&&"server"===M.source?G.reject(new C(p.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(nt)},error:nt=>G.reject(nt)}),ge=new vp(gc(m.path),X,{includeMetadataChanges:!0,Ku:!0});return pp(a,ge)}(yield hu(r),r.asyncQueue,e,t,o)})),o.promise}function Rc(r,e,t={}){const o=new z;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(a,u,m,M,G){const X=new Ff({next:nt=>{u.enqueueAndForget(()=>Sf(a,ge)),nt.fromCache&&"server"===M.source?G.reject(new C(p.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(nt)},error:nt=>G.reject(nt)}),ge=new vp(m,X,{includeMetadataChanges:!0,Ku:!0});return pp(a,ge)}(yield hu(r),r.asyncQueue,e,t,o)})),o.promise}function gd(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const _d=new Map;function Pc(r,e,t){if(!t)throw new C(p.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vd(r,e,t,o){if(!0===e&&!0===o)throw new C(p.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function yd(r){if(!w.isDocumentKey(r))throw new C(p.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bd(r){if(w.isDocumentKey(r))throw new C(p.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tc(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Jn()}function hr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new C(p.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tc(r);throw new C(p.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Qp(r,e){if(e<=0)throw new C(p.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Xp{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new C(p.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(p.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gd(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new C(p.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new C(p.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new C(p.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(p.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(p.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ye;switch(t.type){case"firstParty":return new Vn(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new C(p.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_d.get(e);t&&(Cn("ComponentProvider","Removing Datastore"),_d.delete(e),t.terminate())}(this),Promise.resolve()}}class Zo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}}class Zs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class fl extends Zs{constructor(e,t,o){super(e,t,gc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new w(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function eg(r,e,...t){if(r=(0,be.m9)(r),Pc("collection","path",e),r instanceof pu){const o=Fi.fromString(e,...t);return bd(o),new fl(r,null,o)}{if(!(r instanceof Zo||r instanceof fl))throw new C(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Fi.fromString(e,...t));return bd(o),new fl(r.firestore,null,o)}}function gu(r,e,...t){if(r=(0,be.m9)(r),1===arguments.length&&(e=pi.A()),Pc("doc","path",e),r instanceof pu){const o=Fi.fromString(e,...t);return yd(o),new Zo(r,null,new w(o))}{if(!(r instanceof Zo||r instanceof fl))throw new C(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Fi.fromString(e,...t));return yd(o),new Zo(r.firestore,r instanceof fl?r.converter:null,new w(o))}}function lv(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),(r instanceof Zo||r instanceof fl)&&(e instanceof Zo||e instanceof fl)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function cv(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),r instanceof Zs&&e instanceof Zs&&r.firestore===e.firestore&&vc(r._query,e._query)&&r.converter===e.converter}class x0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new rp(this,"async_queue_retry"),this.Xc=()=>{const t=gf();t&&Cn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=gf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new z;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ws(t))throw t;Cn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Dr("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=fp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&Jn()}verifyOperationInProgress(){}sa(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class Qy{constructor(){this._progressObserver={},this._taskCompletionResolver=new z,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jo extends pu{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new x0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()}}function Rs(r){return r._firestoreClient||dv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function dv(r){var e,t,o;const a=r._freezeSettings(),u=(M=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Cl(r._databaseId,M,r._persistenceKey,(X=a).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,gd(X.experimentalLongPollingOptions),X.useFetchStreams));var M,X;r._firestoreClient=new Vp(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Uf(r,e,t){const o=new z;return r.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield Nf(r,t),yield Hp(r,e),o.resolve()}catch(a){const u=a;if(!rv(u))throw u;Cs("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function fv(r){if(r._initialized||r._terminated)throw new C(p.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(Qo.fromBase64String(e))}catch(t){throw new C(p.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(Qo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(p.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._methodName=e}}class jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(p.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(p.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ei(this._lat,e._lat)||ei(this._long,e._long)}}const eb=/^__.*__$/;class rg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hd(e,this.data,t,this.fieldTransforms)}}class mv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function og(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jn()}}class Hf{constructor(e,t,o,a,u,m){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(og(this.ca)&&eb.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class tb{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||oh(e)}ya(e,t,o,a=!1){return new Hf({ca:e,methodName:t,ga:o,path:rr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fc(r){const e=r._freezeSettings(),t=oh(r._databaseId);return new tb(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Eh(r,e,t,o,a,u={}){const m=r.ya(u.merge||u.mergeFields?2:0,e,t,a);dg("Data must be an object, but it was:",m,o);const M=zf(o,m);let G,X;if(u.merge)G=new Ps(m.fieldMask),X=m.fieldTransforms;else if(u.mergeFields){const ge=[];for(const nt of u.mergeFields){const qt=Ih(e,nt,t);if(!m.contains(qt))throw new C(p.INVALID_ARGUMENT,`Field '${qt}' is specified in your field mask but missing from your input data.`);$f(ge,qt)||ge.push(qt)}G=new Ps(ge),X=m.fieldTransforms.filter(nt=>G.covers(nt.field))}else G=null,X=m.fieldTransforms;return new rg(new Cr(M),G,X)}class vu extends _u{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vu}}function pv(r,e,t){return new Hf({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends _u{_toFieldTransform(e){return new Vu(e.path,new qc)}isEqual(e){return e instanceof sg}}class nb extends _u{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Rl(u,t)),a=new Qc(o);return new Vu(e.path,a)}isEqual(e){return this===e}}class gv extends _u{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Rl(u,t)),a=new zl(o);return new Vu(e.path,a)}isEqual(e){return this===e}}class ag extends _u{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Vd(e.serializer,Hg(e.serializer,this.Ia));return new Vu(e.path,t)}isEqual(e){return this===e}}function Ch(r,e,t,o){const a=r.ya(1,e,t);dg("Data must be an object, but it was:",a,o);const u=[],m=Cr.empty();ea(o,(G,X)=>{const ge=wd(e,G,t);X=(0,be.m9)(X);const nt=a.da(ge);if(X instanceof vu)u.push(ge);else{const qt=Rl(X,nt);null!=qt&&(u.push(ge),m.set(ge,qt))}});const M=new Ps(u);return new mv(m,M,a.fieldTransforms)}function lg(r,e,t,o,a,u){const m=r.ya(1,e,t),M=[Ih(e,o,t)],G=[a];if(u.length%2!=0)throw new C(p.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let qt=0;qt<u.length;qt+=2)M.push(Ih(e,u[qt])),G.push(u[qt+1]);const X=[],ge=Cr.empty();for(let qt=M.length-1;qt>=0;--qt)if(!$f(X,M[qt])){const mn=M[qt];let Nn=G[qt];Nn=(0,be.m9)(Nn);const Yn=m.da(mn);if(Nn instanceof vu)X.push(mn);else{const ni=Rl(Nn,Yn);null!=ni&&(X.push(mn),ge.set(mn,ni))}}const nt=new Ps(X);return new mv(ge,nt,m.fieldTransforms)}function Dh(r,e,t,o=!1){return Rl(t,r.ya(o?4:3,e))}function Rl(r,e){if(cg(r=(0,be.m9)(r)))return dg("Unsupported field value:",e,r),zf(r,e);if(r instanceof _u)return function(t,o){if(!og(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const m of t){let M=Rl(m,o.wa(u));null==M&&(M={nullValue:"NULL_VALUE"}),a.push(M),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hg(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Zi.fromDate(t);return{timestampValue:ed(o.serializer,a)}}if(t instanceof Zi){const a=new Zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ed(o.serializer,a)}}if(t instanceof jf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tl)return{bytesValue:Gu(o.serializer,t._byteString)};if(t instanceof Zo){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Im(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${tc(t)}`)}(r,e)}function zf(r,e){const t={};return Na(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(r,(o,a)=>{const u=Rl(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function cg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zi||r instanceof jf||r instanceof tl||r instanceof Zo||r instanceof _u)}function dg(r,e,t){if(!cg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=tc(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Ih(r,e,t){if((e=(0,be.m9)(e))instanceof nl)return e._internalPath;if("string"==typeof e)return wd(r,e);throw xd("Field path arguments must be of type string or ",r,!1,void 0,t)}const ib=new RegExp("[~\\*/\\[\\]]");function wd(r,e,t){if(e.search(ib)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new nl(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function xd(r,e,t,o,a){const u=o&&!o.isEmpty(),m=void 0!==a;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let G="";return(u||m)&&(G+=" (found",u&&(G+=` in field ${o}`),m&&(G+=` in document ${a}`),G+=")"),new C(p.INVALID_ARGUMENT,M+r+G)}function $f(r,e){return r.some(t=>t.isEqual(e))}class yu{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rb extends yu{data(){return super.data()}}function Gf(r,e){return"string"==typeof e?wd(r,e):e instanceof nl?e._internalPath:e._delegate._internalPath}function ug(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new C(p.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sh{}class bu extends Sh{}function Pl(r,e,...t){let o=[];e instanceof Sh&&o.push(e),o=o.concat(t),function(a){const u=a.filter(M=>M instanceof Cd).length,m=a.filter(M=>M instanceof Ed).length;if(u>1||u>0&&m>0)throw new C(p.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Ed extends bu{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Ed(e,t,o)}_apply(e){const t=this._parse(e);return Ah(e._query,t),new Zs(e.firestore,e.converter,_c(e._query,t))}_parse(e){const t=Fc(e.firestore);return function(a,u,m,M,G,X,ge){let nt;if(G.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new C(p.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){pg(ge,X);const qt=[];for(const mn of ge)qt.push(mg(M,a,mn));nt={arrayValue:{values:qt}}}else nt=mg(M,a,ge)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||pg(ge,X),nt=Dh(m,"where",ge,"in"===X||"not-in"===X);return _r.create(G,X,nt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Cd extends Sh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cd(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:ro.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const m=a.getFlattenedFilters();for(const M of m)Ah(u,M),u=_c(u,M)}(e._query,t),new Zs(e.firestore,e.converter,_c(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wf extends bu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wf(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new C(p.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new C(p.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new ya(a,u);return function(M,G){if(null===Ud(M)){const X=Sl(M);null!==X&&nc(0,X,G.field)}}(o,m),m}(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new ia(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Th extends bu{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Th(e,t,o)}_apply(e){return new Zs(e.firestore,e.converter,qa(e._query,this._limit,this._limitType))}}class wu extends bu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new wu(e,t,o)}_apply(e){const t=fg(e,this.type,this._docOrFields,this._inclusive);return new Zs(e.firestore,e.converter,(a=t,new ia((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class Mh extends bu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Mh(e,t,o)}_apply(e){const t=fg(e,this.type,this._docOrFields,this._inclusive);return new Zs(e.firestore,e.converter,(a=t,new ia((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function fg(r,e,t,o){if(t[0]=(0,be.m9)(t[0]),t[0]instanceof yu)return function(a,u,m,M,G){if(!M)throw new C(p.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const X=[];for(const ge of al(a))if(ge.field.isKeyField())X.push(N(u,M.key));else{const nt=M.data.field(ge.field);if(Vl(nt))throw new C(p.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const qt=ge.field.canonicalString();throw new C(p.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${qt}' (used as the orderBy) does not exist.`)}X.push(nt)}return new Us(X,G)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Fc(r.firestore);return function(u,m,M,G,X,ge){const nt=u.explicitOrderBy;if(X.length>nt.length)throw new C(p.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const qt=[];for(let mn=0;mn<X.length;mn++){const Nn=X[mn];if(nt[mn].field.isKeyField()){if("string"!=typeof Nn)throw new C(p.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Nn}`);if(!jl(u)&&-1!==Nn.indexOf("/"))throw new C(p.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Nn}' contains a slash.`);const Yn=u.path.child(Fi.fromString(Nn));if(!w.isDocumentKey(Yn))throw new C(p.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Yn}' is not because it contains an odd number of segments.`);const ni=new w(Yn);qt.push(N(m,ni))}else{const Yn=Dh(M,G,Nn);qt.push(Yn)}}return new Us(qt,ge)}(r._query,r.firestore._databaseId,a,e,t,o)}}function mg(r,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new C(p.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jl(e)&&-1!==t.indexOf("/"))throw new C(p.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Fi.fromString(t));if(!w.isDocumentKey(o))throw new C(p.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return N(r,new w(o))}if(t instanceof Zo)return N(r,t._key);throw new C(p.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(t)}.`)}function pg(r,e){if(!Array.isArray(r)||0===r.length)throw new C(p.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ah(r,e){if(e.isInequality()){const o=Sl(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new C(p.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Ud(r);null!==u&&nc(0,a,u)}const t=function(o,a){for(const u of o)for(const m of u.getFlattenedFilters())if(a.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new C(p.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nc(r,e,t){if(!t.isEqual(e))throw new C(p.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gg{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Eo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ea(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new jf(Eo(e.latitude),Eo(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=uo(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const t=xl(e);return new Zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Fi.fromString(e);oi(u_(o));const a=new Wa(o.get(1),o.get(3)),u=new w(o.popFirst(5));return a.isEqual(t)||Dr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function xu(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Dd extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}class Id{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends yu{constructor(e,t,o,a,u,m){super(e,t,o,a,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Eu extends ic{data(e={}){return super.data(e)}}class Nc{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Id(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Eu(this._firestore,this._userDataWriter,o.key,o,new Id(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(p.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new Eu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Id(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>a||3!==m.type).map(m=>{const M=new Eu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Id(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,X=-1;return 0!==m.type&&(G=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),X=u.indexOf(m.doc.key)),{type:Hs(m.type),doc:M,oldIndex:G,newIndex:X}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hs(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jn()}}function vg(r,e){return r instanceof ic&&e instanceof ic?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Nc&&e instanceof Nc&&r._firestore===e._firestore&&cv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Lc extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}function Sv(r,e,t){r=hr(r,Zo);const o=hr(r.firestore,Jo),a=xu(r.converter,e,t);return Bc(o,[Eh(Fc(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Xo.none())])}function Tv(r,e,t,...o){r=hr(r,Zo);const a=hr(r.firestore,Jo),u=Fc(a);let m;return m="string"==typeof(e=(0,be.m9)(e))||e instanceof nl?lg(u,"updateDoc",r._key,e,t,o):Ch(u,"updateDoc",r._key,e),Bc(a,[m.toMutation(r._key,Xo.exists(!0))])}function yg(r,...e){var t,o,a;r=(0,be.m9)(r);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||tg(e[m])||(u=e[m],m++);const M={includeMetadataChanges:u.includeMetadataChanges};if(tg(e[m])){const nt=e[m];e[m]=null===(t=nt.next)||void 0===t?void 0:t.bind(nt),e[m+1]=null===(o=nt.error)||void 0===o?void 0:o.bind(nt),e[m+2]=null===(a=nt.complete)||void 0===a?void 0:a.bind(nt)}let G,X,ge;if(r instanceof Zo)X=hr(r.firestore,Jo),ge=gc(r._key.path),G={next:nt=>{e[m]&&e[m](kh(X,r,nt))},error:e[m+1],complete:e[m+2]};else{const nt=hr(r,Zs);X=hr(nt.firestore,Jo),ge=nt._query;const qt=new Lc(X);G={next:mn=>{e[m]&&e[m](new Nc(X,qt,nt,mn))},error:e[m+1],complete:e[m+2]},ug(r._query)}return function(nt,qt,mn,Nn){const Yn=new Ff(Nn),ni=new vp(qt,Yn,mn);return nt.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return pp(yield hu(nt),ni)})),()=>{Yn.Dc(),nt.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return Sf(yield hu(nt),ni)}))}}(Rs(X),ge,M,G)}function Bc(r,e){return function(t,o){const a=new z;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function Cp(r,e,t){return Dp.apply(this,arguments)}(yield sv(t),o,a)})),a.promise}(Rs(r),e)}function kh(r,e,t){const o=t.docs.get(e._key),a=new Lc(r);return new ic(r,a,e._key,o,new Id(t.hasPendingWrites,t.fromCache),e.converter)}const vb={maxAttempts:5};class wg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fc(e)}set(e,t,o){this._verifyNotCommitted();const a=Uc(e,this._firestore),u=xu(a.converter,t,o),m=Eh(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(m.toMutation(a._key,Xo.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=Uc(e,this._firestore);let m;return m="string"==typeof(t=(0,be.m9)(t))||t instanceof nl?lg(this._dataReader,"WriteBatch.update",u._key,t,o,a):Ch(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(m.toMutation(u._key,Xo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uc(e,this._firestore);return this._mutations=this._mutations.concat(new wc(t._key,Xo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(p.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uc(r,e){if((r=(0,be.m9)(r)).firestore!==e)throw new C(p.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class yb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fc(e)}get(e){const t=Uc(e,this._firestore),o=new Dd(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Jn();const u=a[0];if(u.isFoundDocument())return new yu(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new yu(this._firestore,o,t._key,null,t.converter);throw Jn()})}set(e,t,o){const a=Uc(e,this._firestore),u=xu(a.converter,t,o),m=Eh(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,m),this}update(e,t,o,...a){const u=Uc(e,this._firestore);let m;return m="string"==typeof(t=(0,be.m9)(t))||t instanceof nl?lg(this._dataReader,"Transaction.update",u._key,t,o,a):Ch(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,m),this}delete(e){const t=Uc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uc(e,this._firestore),o=new Lc(this._firestore);return super.get(e).then(a=>new ic(this._firestore,o,t._key,a._document,new Id(!1,!1),t.converter))}}function qf(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new C("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Eg(){if(typeof Uint8Array>"u")throw new C("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if(!function Rd(){return typeof atob<"u"}())throw new C("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){as=bt.SDK_VERSION,(0,bt._registerComponent)(new ue.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),m=new Jo(new Lt(t.getProvider("auth-internal")),new Hi(t.getProvider("app-check-internal")),function(M,G){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new C(p.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(M.options.projectId,G)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(ir,"3.12.2",r),(0,bt.registerVersion)(ir,"3.12.2","esm2017")}();class Du{constructor(e){this._delegate=e}static fromBase64String(e){return Cg(),new Du(tl.fromBase64String(e))}static fromUint8Array(e){return Eg(),new Du(tl.fromUint8Array(e))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return Eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qf(r){return function Fv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Nv{enableIndexedDbPersistence(e,t){return function ng(r,e){fv(r=hr(r,Jo));const t=Rs(r);if(t._uninitializedComponentsProvider)throw new C(p.FAILED_PRECONDITION,"SDK cache is already specified.");Cs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new uu;return Uf(t,a,new Bp(a,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yh(r){fv(r=hr(r,Jo));const e=Rs(r);if(e._uninitializedComponentsProvider)throw new C(p.FAILED_PRECONDITION,"SDK cache is already specified.");Cs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new uu;return Uf(e,o,new tv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Vf(r){if(r._initialized&&!r._terminated)throw new C(p.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new z;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(t=(0,Re.Z)(function*(o){if(!Ir.D())return Promise.resolve();const a=o+"main";yield Ir.delete(a)}),function(o){return t.apply(this,arguments)})(nh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Jp(r,e,t,o={}){var a;const u=(r=hr(r,pu))._getSettings(),m=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==m&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:m,ssl:!1})),o.mockUserToken){let M,G;if("string"==typeof o.mockUserToken)M=o.mockUserToken,G=lo.MOCK_USER;else{M=(0,be.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const X=o.mockUserToken.sub||o.mockUserToken.user_id;if(!X)throw new C(p.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new lo(X)}r._authCredentials=new lt(new me(M,G))}}(this._delegate,e,t,o)}enableNetwork(){return function bh(r){return function Yp(r){return r.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!0),function(o){const a=y(o);return a.vu.delete(0),sh(a)}(t)}))}(Rs(r=hr(r,Jo)))}(this._delegate)}disableNetwork(){return function hv(r){return function qy(r){return r.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!1),(o=(0,Re.Z)(function*(a){const u=y(a);u.vu.add(0),yield ah(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(Rs(r=hr(r,Jo)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,vd("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uv(r){return function(e){const t=new z;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function q_(r,e){return Af.apply(this,arguments)}(yield sv(e),t)})),t.promise}(Rs(r=hr(r,Jo)))}(this._delegate)}onSnapshotsInSync(e){return function S0(r,e){return function Bf(r,e){const t=new Ff(e);return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return o=yield hu(r),a=t,y(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return o=yield hu(r),a=t,void y(o).ku.delete(a);var o,a}))}}(Rs(r=hr(r,Jo)),tg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new C("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iu(this,eg(this._delegate,e))}catch(t){throw wa(t,"collection()","Firestore.collection()")}}doc(e){try{return new il(this,gu(this._delegate,e))}catch(t){throw wa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xa(this,function av(r,e){if(r=hr(r,pu),Pc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new C(p.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zs(r,null,(t=e,new ia(Fi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw wa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Av(r,e,t){r=hr(r,Jo);const o=Object.assign(Object.assign({},vb),t);return function(a){if(a.maxAttempts<1)throw new C(p.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,m){const M=new z;return a.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const G=yield function vh(r){return _h(r).then(e=>e.datastore)}(a);new Yy(a.asyncQueue,G,m,u,M).run()})),M.promise}(Rs(r),a=>e(new yb(r,a)),o)}(this._delegate,t=>e(new Lv(this,t)))}batch(){return Rs(this._delegate),new Bv(new wg(this._delegate,e=>Bc(this._delegate,e)))}loadBundle(e){return function wh(r,e){const t=Rs(r=hr(r,Jo)),o=new Qy;return function el(r,e,t,o){const a=function(u,m){let M;return M="string"==typeof u?Jg().encode(u):u,G=function(G,X){if(G instanceof Uint8Array)return nv(G,X);if(G instanceof ArrayBuffer)return nv(new Uint8Array(G),X);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new iv(G,m);var G}(t,oh(e));r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function w0(r,e,t){const o=y(r);var a;(a=(0,Re.Z)(function*(u,m,M){try{const G=yield m.getMetadata();if(yield function(qt,mn){const Nn=y(qt),Yn=Ko(mn.createTime);return Nn.persistence.runTransaction("hasNewerBundle","readonly",ni=>Nn.qs.getBundleMetadata(ni,mn.id)).then(ni=>!!ni&&ni.createTime.compareTo(Yn)>=0)}(u.localStore,G))return yield m.close(),M._completeWith({taskState:"Success",documentsLoaded:(qt=G).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);M._updateProgress($_(G));const X=new z_(G,u.localStore,m.serializer);let ge=yield m.bc();for(;ge;){const qt=yield X.zu(ge);qt&&M._updateProgress(qt),ge=yield m.bc()}const nt=yield X.complete();return yield ec(u,nt.Ju,void 0),yield function(qt,mn){const Nn=y(qt);return Nn.persistence.runTransaction("Save bundle","readwrite",Yn=>Nn.qs.saveBundleMetadata(Yn,mn))}(u.localStore,G),M._completeWith(nt.progress),Promise.resolve(nt.Hu)}catch(G){return Cs("SyncEngine",`Loading bundle failed with ${G}`),M._failWith(G),Promise.resolve(new Set)}var qt}),function(u,m,M){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield sv(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xy(r,e){return function qp(r,e){return r.asyncQueue.enqueue((0,Re.Z)(function*(){return function(t,o){const a=y(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield Wp(r),e)}))}(Rs(r=hr(r,Jo)),e).then(t=>t?new Zs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new xa(this,t):null)}}class Xf extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(new tl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return il.forKey(t,this.firestore,null)}}class Lv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}get(e){const t=Td(e);return this._delegate.get(t).then(o=>new Oh(this._firestore,new ic(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=Td(e);return o?(qf("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Td(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Td(e);return this._delegate.delete(t),this}}class Bv{constructor(e){this._delegate=e}set(e,t,o){const a=Td(e);return o?(qf("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Td(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Td(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sd{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Eu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rh(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Sd.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new Sd(e,new Xf(e),t),a.set(t,u)),u}}Sd.INSTANCES=new WeakMap;class il{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}static forPath(e,t,o){if(e.length%2!=0)throw new C("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new il(t,new Zo(t._delegate,o,new w(e)))}static forKey(e,t,o){return new il(t,new Zo(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Iu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iu(this.firestore,eg(this._delegate,e))}catch(t){throw wa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,be.m9)(e))instanceof Zo&&lv(this._delegate,e)}set(e,t){t=qf("DocumentReference.set",t);try{return t?Sv(this._delegate,e,t):Sv(this._delegate,e)}catch(o){throw wa(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Tv(this._delegate,e):Tv(this._delegate,e,t,...o)}catch(a){throw wa(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Mv(r){return Bc(hr(r.firestore,Jo),[new wc(r._key,Xo.none())])}(this._delegate)}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Oh(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return yg(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Cv(r){r=hr(r,Zo);const e=hr(r.firestore,Jo),t=Rs(e),o=new Lc(e);return function Ol(r,e){const t=new z;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(o=(0,Re.Z)(function*(a,u,m){try{const M=yield function(G,X){const ge=y(G);return ge.persistence.runTransaction("read document","readonly",nt=>ge.localDocuments.getDocument(nt,X))}(a,u);M.isFoundDocument()?m.resolve(M):M.isNoDocument()?m.resolve(null):m.reject(new C(p.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const G=ru(M,`Failed to get document '${u} from cache`);m.reject(G)}}),function(a,u,m){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new ic(e,o,r._key,a,new Id(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function db(r){r=hr(r,Zo);const e=hr(r.firestore,Jo);return fu(Rs(e),r._key,{source:"server"}).then(t=>kh(e,r,t))}(this._delegate):function cb(r){r=hr(r,Zo);const e=hr(r.firestore,Jo);return fu(Rs(e),r._key).then(t=>kh(e,r,t))}(this._delegate),t.then(o=>new Oh(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new il(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function wa(r,e,t){return r.message=r.message.replace(e,t),r}function Uv(r){for(const e of r)if("object"==typeof e&&!Qf(e))return e;return{}}function Vv(r,e){var t,o;let a;return a=Qf(r[0])?r[0]:Qf(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Oh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new il(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vg(this._delegate,e._delegate)}}class Rh extends Oh{data(e){const t=this._delegate.data(e);return function V(r,e){r||Jn()}(void 0!==t),t}}class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}where(e,t,o){try{return new xa(this.firestore,Pl(this._delegate,function ob(r,e,t){const o=e,a=Gf("where",r);return Ed._create(a,o,t)}(e,t,o)))}catch(a){throw wa(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xa(this.firestore,Pl(this._delegate,function lb(r,e="asc"){const t=e,o=Gf("orderBy",r);return Wf._create(o,t)}(e,t)))}catch(o){throw wa(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xa(this.firestore,Pl(this._delegate,function _v(r){return Qp("limit",r),Th._create("limit",r,"F")}(e)))}catch(t){throw wa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xa(this.firestore,Pl(this._delegate,function hg(r){return Qp("limitToLast",r),Th._create("limitToLast",r,"L")}(e)))}catch(t){throw wa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xa(this.firestore,Pl(this._delegate,function vv(...r){return wu._create("startAt",r,!0)}(...e)))}catch(t){throw wa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xa(this.firestore,Pl(this._delegate,function yv(...r){return wu._create("startAfter",r,!1)}(...e)))}catch(t){throw wa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xa(this.firestore,Pl(this._delegate,function bv(...r){return Mh._create("endBefore",r,!1)}(...e)))}catch(t){throw wa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xa(this.firestore,Pl(this._delegate,function wv(...r){return Mh._create("endAt",r,!0)}(...e)))}catch(t){throw wa(t,"endAt()","Query.endAt()")}}isEqual(e){return cv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Iv(r){r=hr(r,Zs);const e=hr(r.firestore,Jo),t=Rs(e),o=new Lc(e);return function ha(r,e){const t=new z;return r.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(o=(0,Re.Z)(function*(a,u,m){try{const M=yield ld(a,u,!0),G=new yp(u,M.ir),X=G.sc(M.documents),ge=G.applyChanges(X,!1);m.resolve(ge.snapshot)}catch(M){const G=ru(M,`Failed to execute query '${u} against cache`);m.reject(G)}}),function(a,u,m){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Nc(e,o,r,a))}(this._delegate):"server"===e?.source?function Cu(r){r=hr(r,Zs);const e=hr(r.firestore,Jo),t=Rs(e),o=new Lc(e);return Rc(t,r._query,{source:"server"}).then(a=>new Nc(e,o,r,a))}(this._delegate):function Dv(r){r=hr(r,Zs);const e=hr(r.firestore,Jo),t=Rs(e),o=new Lc(e);return ug(r._query),Rc(t,r._query).then(a=>new Nc(e,o,r,a))}(this._delegate),t.then(o=>new Ig(this.firestore,new Nc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Ig(this.firestore,new Nc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return yg(this._delegate,t,o)}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}class Eb{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ig{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Eb(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Rh(this._firestore,o))})}isEqual(e){return vg(this._delegate,e._delegate)}}class Iu extends xa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new il(this.firestore,e):null}doc(e){try{return new il(this.firestore,void 0===e?gu(this._delegate):gu(this._delegate,e))}catch(t){throw wa(t,"doc()","CollectionReference.doc()")}}add(e){return function ub(r,e){const t=hr(r.firestore,Jo),o=gu(r),a=xu(r.converter,e);return Bc(t,[Eh(Fc(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,Xo.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new il(this.firestore,t))}isEqual(e){return lv(this._delegate,e._delegate)}withConverter(e){return new Iu(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function Td(r){return hr(r,Zo)}class Sg{constructor(...e){this._delegate=new nl(...e)}static documentId(){return new Sg(rr.keyField().canonicalString())}isEqual(e){return(e=(0,be.m9)(e))instanceof nl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Md{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Zf(){return new sg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Md(e)}static delete(){const e=function kv(){return new vu("deleteField")}();return e._methodName="FieldValue.delete",new Md(e)}static arrayUnion(...e){const t=function bb(...r){return new nb("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Md(t)}static arrayRemove(...e){const t=function Ov(...r){return new gv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Md(t)}static increment(e){const t=function Rv(r){return new ag("increment",r)}(e);return t._methodName="FieldValue.increment",new Md(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jv={Firestore:Dg,GeoPoint:jf,Timestamp:Zi,Blob:Du,Transaction:Lv,WriteBatch:Bv,DocumentReference:il,DocumentSnapshot:Oh,Query:xa,QueryDocumentSnapshot:Rh,QuerySnapshot:Ig,CollectionReference:Iu,FieldPath:Sg,FieldValue:Md,setLogLevel:function xb(r){!function ol(r){Jr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function zv(r){(function Hv(r,e){r.INTERNAL.registerComponent(new ue.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},jv)))})(r,(e,t)=>new Dg(e,t,new Nv)),r.registerVersion("@firebase/firestore-compat","0.3.11")}(He.Z);var oc=E(1205),$v=E(6217),Gv=E(9260);function Tg(r,e){return function Wv(r,e=L.z){return new g.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(r,e)}function Ph(r,e){return Tg(r,e).pipe((0,de.U)(t=>({payload:t,type:"query"})))}function Su(r,e){return Ph(r,e).pipe((0,Z.O)(void 0),se(),(0,de.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,M)=>{const G=a.find(ge=>ge.doc.ref.isEqual(m.ref)),X=t?.payload.docs.find(ge=>ge.ref.isEqual(m.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(m.metadata)||!G&&X&&JSON.stringify(X.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:m}})}),u}))}function Vc(r,e,t){return Su(r,t).pipe((0,fe.R)((o,a)=>function Cb(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function Tu(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Mg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,Je.x)(),(0,de.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Mg(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function Db(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Jf{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Su(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,de.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Z.O)(void 0),se(),(0,Ne.h)(([o,a])=>a.length>0||!o),(0,de.U)(([o,a])=>a),ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Db(e);return Vc(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ae.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(ae.iC)}add(e){return this.ref.add(e)}doc(e){return new Ib(this.ref.doc(e),this.afs)}}class Ib{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=Yv(o,t);return new Jf(a,u,this.afs)}snapshotChanges(){return function Kv(r,e){return Tg(r,e).pipe((0,Z.O)(void 0),se(),(0,de.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,de.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(ae.iC)}}class Zv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Su(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Ne.h)(t=>t.length>0),ae.iC):Su(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Db(e);return Vc(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ae.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(ae.iC)}}const Ag=new d.OlP("angularfire2.enableFirestorePersistence"),Sb=new d.OlP("angularfire2.firestore.persistenceSettings"),Ri=new d.OlP("angularfire2.firestore.settings"),Tb=new d.OlP("angularfire2.firestore.use-emulator");function Yv(r,e=(t=>t)){return{query:e(r),ref:r}}let qv=(()=>{class r{constructor(t,o,a,u,m,M,G,X,ge,nt,qt,mn,Nn,Yn,ni,er,jr){this.schedulers=G;const zi=(0,ut.on)(t,M,o),ds=ge;nt&&(0,oc.nw)(zi,M,qt,Nn,Yn,ni,mn,er),[this.firestore,this.persistenceEnabled$]=(0,ut.cc)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const Bo=M.runOutsideAngular(()=>zi.firestore());if(u&&Bo.settings(u),ds&&Bo.useEmulator(...ds),a&&!(0,rt.PM)(m)){const ko=()=>{try{return(0,ne.D)(Bo.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(fa){return typeof console<"u"&&console.warn(fa),(0,xe.of)(!1)}};return[Bo,M.runOutsideAngular(ko)]}return[Bo,(0,xe.of)(!1)]},[u,ds,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:m}=Yv(a,o),M=this.schedulers.ngZone.run(()=>u);return new Jf(M,m,this)}collectionGroup(t,o){const a=o||(m=>m),u=this.firestore.collectionGroup(t);return new Zv(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new Ib(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(ut.Dh),d.LFG(ut.xv,8),d.LFG(Ag,8),d.LFG(Ri,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ae.HU),d.LFG(Sb,8),d.LFG(Tb,8),d.LFG(oc.zQ,8),d.LFG(oc.Qv,8),d.LFG(oc.L6,8),d.LFG(oc._Q,8),d.LFG(oc.rT,8),d.LFG(oc.lh,8),d.LFG(oc.f7,8),d.LFG($v.nm,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Mu=(()=>{class r{constructor(){Gv.Z.registerVersion("angularfire",ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Ag,useValue:!0},{provide:Sb,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[qv]}),r})()},8445:(pn,it,E)=>{E.d(it,{Q1:()=>ns,TE:()=>j});var d=E(9751),L=E(9646),g=E(8996),ne=E(8372),xe=E(4004),ae=E(3900),Z=E(4976),_e=E(2223),Ee=E(2011),se=E(3942),de=E(5861),fe=E(6881),Je=E(2090),Ne=E(4859);const ut="firebasestorage.googleapis.com",rt="storageBucket";class bt extends Je.ZR{constructor(D,J,Ce=0){super(De(D),`Firebase Storage: ${J} (${De(D)})`),this.status_=Ce,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(D){this.status_=D}_codeEquals(D){return De(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ue=(()=>((ue=ue||{}).UNKNOWN="unknown",ue.OBJECT_NOT_FOUND="object-not-found",ue.BUCKET_NOT_FOUND="bucket-not-found",ue.PROJECT_NOT_FOUND="project-not-found",ue.QUOTA_EXCEEDED="quota-exceeded",ue.UNAUTHENTICATED="unauthenticated",ue.UNAUTHORIZED="unauthorized",ue.UNAUTHORIZED_APP="unauthorized-app",ue.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ue.INVALID_CHECKSUM="invalid-checksum",ue.CANCELED="canceled",ue.INVALID_EVENT_NAME="invalid-event-name",ue.INVALID_URL="invalid-url",ue.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ue.NO_DEFAULT_BUCKET="no-default-bucket",ue.CANNOT_SLICE_BLOB="cannot-slice-blob",ue.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ue.NO_DOWNLOAD_URL="no-download-url",ue.INVALID_ARGUMENT="invalid-argument",ue.INVALID_ARGUMENT_COUNT="invalid-argument-count",ue.APP_DELETED="app-deleted",ue.INVALID_ROOT_OPERATION="invalid-root-operation",ue.INVALID_FORMAT="invalid-format",ue.INTERNAL_ERROR="internal-error",ue.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ue))();function De(v){return"storage/"+v}function be(){return new bt(ue.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ze(){return new bt(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vt(){return new bt(ue.CANCELED,"User canceled the upload/download.")}function ft(){return new bt(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Gt(v){return new bt(ue.INVALID_ARGUMENT,v)}function dn(){return new bt(ue.APP_DELETED,"The Firebase app was deleted.")}function gn(v){return new bt(ue.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function an(v,D){return new bt(ue.INVALID_FORMAT,"String does not match format '"+v+"': "+D)}function At(v){throw new bt(ue.INTERNAL_ERROR,"Internal error: "+v)}class Ke{constructor(D,J){this.bucket=D,this.path_=J}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,J){let Ce;try{Ce=Ke.makeFromUrl(D,J)}catch{return new Ke(D,"")}if(""===Ce.path)return Ce;throw function kn(v){return new bt(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(D)}static makeFromUrl(D,J){let Ce=null;const dt="([A-Za-z0-9.\\-_]+)",zn=new RegExp("^gs://"+dt+"(/(.*))?$","i");function wi(Fr){Fr.path_=decodeURIComponent(Fr.path)}const wr=J.replace(/[.]/g,"\\."),Ur=[{regex:zn,indices:{bucket:1,path:3},postModify:function Nt(Fr){"/"===Fr.path.charAt(Fr.path.length-1)&&(Fr.path_=Fr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wr}/v[A-Za-z0-9_]+/b/${dt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:wi},{regex:new RegExp(`^https?://${J===ut?"(?:storage.googleapis.com|storage.cloud.google.com)":J}/${dt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:wi}];for(let Fr=0;Fr<Ur.length;Fr++){const xo=Ur[Fr],vs=xo.regex.exec(D);if(vs){let ys=vs[xo.indices.path];ys||(ys=""),Ce=new Ke(vs[xo.indices.bucket],ys),xo.postModify(Ce);break}}if(null==Ce)throw function _n(v){return new bt(ue.INVALID_URL,"Invalid URL '"+v+"'.")}(D);return Ce}}class Xe{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function Jt(v){return"string"==typeof v||v instanceof String}function yn(v){return Gn()&&v instanceof Blob}function Gn(){return typeof Blob<"u"&&!(0,Je.UG)()}function ci(v,D,J,Ce){if(Ce<D)throw Gt(`Invalid value for '${v}'. Expected ${D} or greater.`);if(Ce>J)throw Gt(`Invalid value for '${v}'. Expected ${J} or less.`)}function Hn(v,D,J){let Ce=D;return null==J&&(Ce=`https://${D}`),`${J}://${Ce}/v0${v}`}function Ut(v){const D=encodeURIComponent;let J="?";for(const Ce in v)v.hasOwnProperty(Ce)&&(J=J+(D(Ce)+"=")+D(v[Ce])+"&");return J=J.slice(0,-1),J}var ce=(()=>((ce=ce||{})[ce.NO_ERROR=0]="NO_ERROR",ce[ce.NETWORK_ERROR=1]="NETWORK_ERROR",ce[ce.ABORT=2]="ABORT",ce))();function Ve(v,D){const J=v>=500&&v<600,dt=-1!==[408,429].indexOf(v),Nt=-1!==D.indexOf(v);return J||dt||Nt}class mt{constructor(D,J,Ce,dt,Nt,En,zn,Bn,wi,Pi,wr,Pr=!0){this.url_=D,this.method_=J,this.headers_=Ce,this.body_=dt,this.successCodes_=Nt,this.additionalRetryCodes_=En,this.callback_=zn,this.errorCallback_=Bn,this.timeout_=wi,this.progressCallback_=Pi,this.connectionFactory_=wr,this.retry=Pr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((xr,Ni)=>{this.resolve_=xr,this.reject_=Ni,this.start_()})}start_(){const J=(Ce,dt)=>{const Nt=this.resolve_,En=this.reject_,zn=dt.connection;if(dt.wasSuccessCode)try{const Bn=this.callback_(zn,zn.getResponse());!function Ht(v){return void 0!==v}(Bn)?Nt():Nt(Bn)}catch(Bn){En(Bn)}else if(null!==zn){const Bn=be();Bn.serverResponse=zn.getErrorText(),En(this.errorCallback_?this.errorCallback_(zn,Bn):Bn)}else En(dt.canceled?this.appDelete_?dn():vt():ze())};this.canceled_?J(0,new at(!1,null,!0)):this.backoffId_=function Ct(v,D,J){let Ce=1,dt=null,Nt=null,En=!1,zn=0;function Bn(){return 2===zn}let wi=!1;function Pi(...xi){wi||(wi=!0,D.apply(null,xi))}function wr(xi){dt=setTimeout(()=>{dt=null,v(xr,Bn())},xi)}function Pr(){Nt&&clearTimeout(Nt)}function xr(xi,...No){if(wi)return void Pr();if(xi)return Pr(),void Pi.call(null,xi,...No);if(Bn()||En)return Pr(),void Pi.call(null,xi,...No);let Ur;Ce<64&&(Ce*=2),1===zn?(zn=2,Ur=0):Ur=1e3*(Ce+Math.random()),wr(Ur)}let Ni=!1;function Er(xi){Ni||(Ni=!0,Pr(),!wi&&(null!==dt?(xi||(zn=2),clearTimeout(dt),wr(0)):xi||(zn=1)))}return wr(0),Nt=setTimeout(()=>{En=!0,Er(!0)},J),Er}((Ce,dt)=>{if(dt)return void Ce(!1,new at(!1,null,!0));const Nt=this.connectionFactory_();this.pendingConnection_=Nt;const En=zn=>{null!==this.progressCallback_&&this.progressCallback_(zn.loaded,zn.lengthComputable?zn.total:-1)};null!==this.progressCallback_&&Nt.addUploadProgressListener(En),Nt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Nt.removeUploadProgressListener(En),this.pendingConnection_=null;const zn=Nt.getErrorCode()===ce.NO_ERROR,Bn=Nt.getStatus();if(!zn||Ve(Bn,this.additionalRetryCodes_)&&this.retry){const Pi=Nt.getErrorCode()===ce.ABORT;return void Ce(!1,new at(!1,null,Pi))}const wi=-1!==this.successCodes_.indexOf(Bn);Ce(!0,new at(wi,Nt))})},J,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function yt(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class at{constructor(D,J,Ce){this.wasSuccessCode=D,this.connection=J,this.canceled=!!Ce}}function Kt(...v){const D=function Mt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==D){const J=new D;for(let Ce=0;Ce<v.length;Ce++)J.append(v[Ce]);return J.getBlob()}if(Gn())return new Blob(v);throw new bt(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const gt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $t{constructor(D,J){this.data=D,this.contentType=J||null}}function In(v,D){switch(v){case gt.RAW:return new $t(di(D));case gt.BASE64:case gt.BASE64URL:return new $t(mi(v,D));case gt.DATA_URL:return new $t(function et(v){const D=new Yt(v);return D.base64?mi(gt.BASE64,D.rest):function Si(v){let D;try{D=decodeURIComponent(v)}catch{throw an(gt.DATA_URL,"Malformed data URL.")}return di(D)}(D.rest)}(D),function st(v){return new Yt(v).contentType}(D))}throw be()}function di(v){const D=[];for(let J=0;J<v.length;J++){let Ce=v.charCodeAt(J);Ce<=127?D.push(Ce):Ce<=2047?D.push(192|Ce>>6,128|63&Ce):55296==(64512&Ce)?J<v.length-1&&56320==(64512&v.charCodeAt(J+1))?(Ce=65536|(1023&Ce)<<10|1023&v.charCodeAt(++J),D.push(240|Ce>>18,128|Ce>>12&63,128|Ce>>6&63,128|63&Ce)):D.push(239,191,189):56320==(64512&Ce)?D.push(239,191,189):D.push(224|Ce>>12,128|Ce>>6&63,128|63&Ce)}return new Uint8Array(D)}function mi(v,D){switch(v){case gt.BASE64:{const dt=-1!==D.indexOf("-"),Nt=-1!==D.indexOf("_");if(dt||Nt)throw an(v,"Invalid character '"+(dt?"-":"_")+"' found: is it base64url encoded?");break}case gt.BASE64URL:{const dt=-1!==D.indexOf("+"),Nt=-1!==D.indexOf("/");if(dt||Nt)throw an(v,"Invalid character '"+(dt?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let J;try{J=function ke(v){if(typeof atob>"u")throw function Qt(v){return new bt(ue.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(D)}catch(dt){throw dt.message.includes("polyfill")?dt:an(v,"Invalid character found")}const Ce=new Uint8Array(J.length);for(let dt=0;dt<J.length;dt++)Ce[dt]=J.charCodeAt(dt);return Ce}class Yt{constructor(D){this.base64=!1,this.contentType=null;const J=D.match(/^data:([^,]+)?,/);if(null===J)throw an(gt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ce=J[1]||null;null!=Ce&&(this.base64=function Be(v,D){return v.length>=D.length&&v.substring(v.length-D.length)===D}(Ce,";base64"),this.contentType=this.base64?Ce.substring(0,Ce.length-7):Ce),this.rest=D.substring(D.indexOf(",")+1)}}class Oe{constructor(D,J){let Ce=0,dt="";yn(D)?(this.data_=D,Ce=D.size,dt=D.type):D instanceof ArrayBuffer?(J?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),Ce=this.data_.length):D instanceof Uint8Array&&(J?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),Ce=D.length),this.size_=Ce,this.type_=dt}size(){return this.size_}type(){return this.type_}slice(D,J){if(yn(this.data_)){const dt=function An(v,D,J){return v.webkitSlice?v.webkitSlice(D,J):v.mozSlice?v.mozSlice(D,J):v.slice?v.slice(D,J):null}(this.data_,D,J);return null===dt?null:new Oe(dt)}{const Ce=new Uint8Array(this.data_.buffer,D,J-D);return new Oe(Ce,!0)}}static getBlob(...D){if(Gn()){const J=D.map(Ce=>Ce instanceof Oe?Ce.data_:Ce);return new Oe(Kt.apply(null,J))}{const J=D.map(En=>Jt(En)?In(gt.RAW,En).data:En.data_);let Ce=0;J.forEach(En=>{Ce+=En.byteLength});const dt=new Uint8Array(Ce);let Nt=0;return J.forEach(En=>{for(let zn=0;zn<En.length;zn++)dt[Nt++]=En[zn]}),new Oe(dt,!0)}}uploadData(){return this.data_}}function Ie(v){let D;try{D=JSON.parse(v)}catch{return null}return function un(v){return"object"==typeof v&&!Array.isArray(v)}(D)?D:null}function Te(v){const D=v.lastIndexOf("/",v.length-2);return-1===D?v:v.slice(D+1)}function oe(v,D){return D}class H{constructor(D,J,Ce,dt){this.server=D,this.local=J||D,this.writable=!!Ce,this.xform=dt||oe}}let U=null;function le(){if(U)return U;const v=[];v.push(new H("bucket")),v.push(new H("generation")),v.push(new H("metageneration")),v.push(new H("name","fullPath",!0));const J=new H("name");J.xform=function D(Nt,En){return function $(v){return!Jt(v)||v.length<2?v:Te(v)}(En)},v.push(J);const dt=new H("size");return dt.xform=function Ce(Nt,En){return void 0!==En?Number(En):En},v.push(dt),v.push(new H("timeCreated")),v.push(new H("updated")),v.push(new H("md5Hash",null,!0)),v.push(new H("cacheControl",null,!0)),v.push(new H("contentDisposition",null,!0)),v.push(new H("contentEncoding",null,!0)),v.push(new H("contentLanguage",null,!0)),v.push(new H("contentType",null,!0)),v.push(new H("metadata","customMetadata",!0)),U=v,U}function Et(v,D,J){const Ce=Ie(D);return null===Ce?null:function ve(v,D,J){const Ce={type:"file"},dt=J.length;for(let Nt=0;Nt<dt;Nt++){const En=J[Nt];Ce[En.local]=En.xform(Ce,D[En.server])}return function re(v,D){Object.defineProperty(v,"ref",{get:function J(){const Nt=new Ke(v.bucket,v.fullPath);return D._makeStorageReference(Nt)}})}(Ce,v),Ce}(v,Ce,J)}function Ot(v,D){const J={},Ce=D.length;for(let dt=0;dt<Ce;dt++){const Nt=D[dt];Nt.writable&&(J[Nt.server]=v[Nt.local])}return JSON.stringify(J)}const en="prefixes",Xn="items";class bi{constructor(D,J,Ce,dt){this.url=D,this.method=J,this.handler=Ce,this.timeout=dt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bt(v){if(!v)throw be()}function It(v,D){return function J(Ce,dt){const Nt=Et(v,dt,D);return Bt(null!==Nt),Nt}}function On(v){return function D(J,Ce){let dt;return dt=401===J.getStatus()?J.getErrorText().includes("Firebase App Check token is invalid")?function Ge(){return new bt(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function K(){return new bt(ue.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===J.getStatus()?function $e(v){return new bt(ue.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===J.getStatus()?function Fe(v){return new bt(ue.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):Ce,dt.status=J.getStatus(),dt.serverResponse=Ce.serverResponse,dt}}function Ln(v){const D=On(v);return function J(Ce,dt){let Nt=D(Ce,dt);return 404===Ce.getStatus()&&(Nt=function Me(v){return new bt(ue.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),Nt.serverResponse=dt.serverResponse,Nt}}function ai(v,D,J){const dt=Hn(D.fullServerUrl(),v.host,v._protocol),En=v.maxOperationRetryTime,zn=new bi(dt,"GET",It(v,J),En);return zn.errorHandler=Ln(D),zn}function Wi(v,D,J,Ce,dt){const Nt={};Nt.prefix=D.isRoot?"":D.path+"/",J&&J.length>0&&(Nt.delimiter=J),Ce&&(Nt.pageToken=Ce),dt&&(Nt.maxResults=dt);const zn=Hn(D.bucketOnlyServerUrl(),v.host,v._protocol),wi=v.maxOperationRetryTime,Pi=new bi(zn,"GET",function bn(v,D){return function J(Ce,dt){const Nt=function Ci(v,D,J){const Ce=Ie(J);return null===Ce?null:function Mn(v,D,J){const Ce={prefixes:[],items:[],nextPageToken:J.nextPageToken};if(J[en])for(const dt of J[en]){const Nt=dt.replace(/\/$/,""),En=v._makeStorageReference(new Ke(D,Nt));Ce.prefixes.push(En)}if(J[Xn])for(const dt of J[Xn]){const Nt=v._makeStorageReference(new Ke(D,dt.name));Ce.items.push(Nt)}return Ce}(v,D,Ce)}(v,D,dt);return Bt(null!==Nt),Nt}}(v,D.bucket),wi);return Pi.urlParams=Nt,Pi.errorHandler=On(D),Pi}function yr(v,D,J){const Ce=Object.assign({},J);return Ce.fullPath=v.path,Ce.size=D.size(),Ce.contentType||(Ce.contentType=function us(v,D){return v&&v.contentType||D&&D.type()||"application/octet-stream"}(null,D)),Ce}class fr{constructor(D,J,Ce,dt){this.current=D,this.total=J,this.finalized=!!Ce,this.metadata=dt||null}}function to(v,D){let J=null;try{J=v.getResponseHeader("X-Goog-Upload-Status")}catch{Bt(!1)}return Bt(!!J&&-1!==(D||["active"]).indexOf(J)),J}const so={STATE_CHANGED:"state_changed"},br={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Co(v){switch(v){case"running":case"pausing":case"canceling":return br.RUNNING;case"paused":return br.PAUSED;case"success":return br.SUCCESS;case"canceled":return br.CANCELED;default:return br.ERROR}}class Wr{constructor(D,J,Ce){if(function Tt(v){return"function"==typeof v}(D)||null!=J||null!=Ce)this.next=D,this.error=J??void 0,this.complete=Ce??void 0;else{const Nt=D;this.next=Nt.next,this.error=Nt.error,this.complete=Nt.complete}}}function Ro(v){return(...D)=>{Promise.resolve().then(()=>v(...D))}}let Ts=null;class hs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ce.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ce.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ce.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,J,Ce,dt){if(this.sent_)throw At("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(J,D,!0),void 0!==dt)for(const Nt in dt)dt.hasOwnProperty(Nt)&&this.xhr_.setRequestHeader(Nt,dt[Nt].toString());return void 0!==Ce?this.xhr_.send(Ce):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw At("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw At("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw At("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw At("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}class Uo extends hs{initXhr(){this.xhr_.responseType="text"}}function Hr(){return Ts?Ts():new Uo}class qi{constructor(D,J,Ce=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=J,this._metadata=Ce,this._mappings=le(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=dt=>{if(this._request=void 0,this._chunkMultiplier=1,dt._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Nt=this.isExponentialBackoffExpired();if(Ve(dt.status,[])){if(!Nt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();dt=ze()}this._error=dt,this._transition("error")}},this._metadataErrorHandler=dt=>{this._request=void 0,dt._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=dt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((dt,Nt)=>{this._resolve=dt,this._reject=Nt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const D=this._transferred;return J=>this._updateProgress(D+J)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([J,Ce])=>{switch(this._state){case"running":D(J,Ce);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,J)=>{const Ce=function yo(v,D,J,Ce,dt){const Nt=D.bucketOnlyServerUrl(),En=yr(D,Ce,dt),zn={name:En.fullPath},Bn=Hn(Nt,v.host,v._protocol),Pi={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ce.size()}`,"X-Goog-Upload-Header-Content-Type":En.contentType,"Content-Type":"application/json; charset=utf-8"},wr=Ot(En,J),Ni=new bi(Bn,"POST",function xr(Er){let xi;to(Er);try{xi=Er.getResponseHeader("X-Goog-Upload-URL")}catch{Bt(!1)}return Bt(Jt(xi)),xi},v.maxUploadRetryTime);return Ni.urlParams=zn,Ni.headers=Pi,Ni.body=wr,Ni.errorHandler=On(D),Ni}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),dt=this._ref.storage._makeRequest(Ce,Hr,D,J);this._request=dt,dt.getPromise().then(Nt=>{this._request=void 0,this._uploadUrl=Nt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((J,Ce)=>{const dt=function Ui(v,D,J,Ce){const Bn=new bi(J,"POST",function Nt(wi){const Pi=to(wi,["active","final"]);let wr=null;try{wr=wi.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bt(!1)}wr||Bt(!1);const Pr=Number(wr);return Bt(!isNaN(Pr)),new fr(Pr,Ce.size(),"final"===Pi)},v.maxUploadRetryTime);return Bn.headers={"X-Goog-Upload-Command":"query"},Bn.errorHandler=On(D),Bn}(this._ref.storage,this._ref._location,D,this._blob),Nt=this._ref.storage._makeRequest(dt,Hr,J,Ce);this._request=Nt,Nt.getPromise().then(En=>{this._request=void 0,this._updateProgress(En.current),this._needToFetchStatus=!1,En.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,J=new fr(this._transferred,this._blob.size()),Ce=this._uploadUrl;this._resolveToken((dt,Nt)=>{let En;try{En=function fo(v,D,J,Ce,dt,Nt,En,zn){const Bn=new fr(0,0);if(En?(Bn.current=En.current,Bn.total=En.total):(Bn.current=0,Bn.total=Ce.size()),Ce.size()!==Bn.total)throw function kt(){return new bt(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const wi=Bn.total-Bn.current;let Pi=wi;dt>0&&(Pi=Math.min(Pi,dt));const wr=Bn.current;let xr="";xr=0===Pi?"finalize":wi===Pi?"upload, finalize":"upload";const Ni={"X-Goog-Upload-Command":xr,"X-Goog-Upload-Offset":`${Bn.current}`},Er=Ce.slice(wr,wr+Pi);if(null===Er)throw ft();const Ur=new bi(J,"POST",function xi(Fr,xo){const vs=to(Fr,["active","final"]),qr=Bn.current+Pi,ys=Ce.size();let is;return is="final"===vs?It(D,Nt)(Fr,xo):null,new fr(qr,ys,"final"===vs,is)},D.maxUploadRetryTime);return Ur.headers=Ni,Ur.body=Er.uploadData(),Ur.progressCallback=zn||null,Ur.errorHandler=On(v),Ur}(this._ref._location,this._ref.storage,Ce,this._blob,D,this._mappings,J,this._makeProgressCallback())}catch(Bn){return this._error=Bn,void this._transition("error")}const zn=this._ref.storage._makeRequest(En,Hr,dt,Nt,!1);this._request=zn,zn.getPromise().then(Bn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Bn.current),Bn.finalized?(this._metadata=Bn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,J)=>{const Ce=ai(this._ref.storage,this._ref._location,this._mappings),dt=this._ref.storage._makeRequest(Ce,Hr,D,J);this._request=dt,dt.getPromise().then(Nt=>{this._request=void 0,this._metadata=Nt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,J)=>{const Ce=function oo(v,D,J,Ce,dt){const Nt=D.bucketOnlyServerUrl(),En={"X-Goog-Upload-Protocol":"multipart"},Bn=function zn(){let Ur="";for(let Fr=0;Fr<2;Fr++)Ur+=Math.random().toString().slice(2);return Ur}();En["Content-Type"]="multipart/related; boundary="+Bn;const wi=yr(D,Ce,dt),Pi=Ot(wi,J),xr=Oe.getBlob("--"+Bn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Pi+"\r\n--"+Bn+"\r\nContent-Type: "+wi.contentType+"\r\n\r\n",Ce,"\r\n--"+Bn+"--");if(null===xr)throw ft();const Ni={name:wi.fullPath},Er=Hn(Nt,v.host,v._protocol),No=v.maxUploadRetryTime,no=new bi(Er,"POST",It(v,J),No);return no.urlParams=Ni,no.headers=En,no.body=xr.uploadData(),no.errorHandler=On(D),no}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),dt=this._ref.storage._makeRequest(Ce,Hr,D,J);this._request=dt,dt.getPromise().then(Nt=>{this._request=void 0,this._metadata=Nt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const J=this._transferred;this._transferred=D,this._transferred!==J&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const J="paused"===this._state;this._state=D,J&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=vt(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=Co(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,J,Ce,dt){const Nt=new Wr(J||void 0,Ce||void 0,dt||void 0);return this._addObserver(Nt),()=>{this._removeObserver(Nt)}}then(D,J){return this._promise.then(D,J)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const J=this._observers.indexOf(D);-1!==J&&this._observers.splice(J,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(J=>{this._notifyObserver(J)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(Co(this._state)){case br.SUCCESS:Ro(this._resolve.bind(null,this.snapshot))();break;case br.CANCELED:case br.ERROR:Ro(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(Co(this._state)){case br.RUNNING:case br.PAUSED:D.next&&Ro(D.next.bind(D,this.snapshot))();break;case br.SUCCESS:D.complete&&Ro(D.complete.bind(D))();break;default:D.error&&Ro(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class Di{constructor(D,J){this._service=D,this._location=J instanceof Ke?J:Ke.makeFromUrl(J,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,J){return new Di(D,J)}get root(){const D=new Ke(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Te(this._location.path)}get storage(){return this._service}get parent(){const D=function xt(v){if(0===v.length)return null;const D=v.lastIndexOf("/");return-1===D?"":v.slice(0,D)}(this._location.path);if(null===D)return null;const J=new Ke(this._location.bucket,D);return new Di(this._service,J)}_throwIfRoot(D){if(""===this._location.path)throw gn(D)}}function rn(v,D,J){return cn.apply(this,arguments)}function cn(){return(cn=(0,de.Z)(function*(v,D,J){const dt=yield nn(v,{pageToken:J});D.prefixes.push(...dt.prefixes),D.items.push(...dt.items),null!=dt.nextPageToken&&(yield rn(v,D,dt.nextPageToken))})).apply(this,arguments)}function nn(v,D){null!=D&&"number"==typeof D.maxResults&&ci("options.maxResults",1,1e3,D.maxResults);const J=D||{},Ce=Wi(v.storage,v._location,"/",J.pageToken,J.maxResults);return v.storage.makeRequestWithTokens(Ce,Hr)}function ui(v){v._throwIfRoot("getDownloadURL");const D=function vr(v,D,J){const dt=Hn(D.fullServerUrl(),v.host,v._protocol),En=v.maxOperationRetryTime,zn=new bi(dt,"GET",function Zn(v,D){return function J(Ce,dt){const Nt=Et(v,dt,D);return Bt(null!==Nt),function wt(v,D,J,Ce){const dt=Ie(D);if(null===dt||!Jt(dt.downloadTokens))return null;const Nt=dt.downloadTokens;if(0===Nt.length)return null;const En=encodeURIComponent;return Nt.split(",").map(wi=>{const wr=v.fullPath;return Hn("/b/"+En(v.bucket)+"/o/"+En(wr),J,Ce)+Ut({alt:"media",token:wi})})[0]}(Nt,dt,v.host,v._protocol)}}(v,J),En);return zn.errorHandler=Ln(D),zn}(v.storage,v._location,le());return v.storage.makeRequestWithTokens(D,Hr).then(J=>{if(null===J)throw function Pt(){return new bt(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return J})}function or(v,D){const J=function jt(v,D){const J=D.split("/").filter(Ce=>Ce.length>0).join("/");return 0===v.length?J:v+"/"+J}(v._location.path,D),Ce=new Ke(v._location.bucket,J);return new Di(v.storage,Ce)}function Zr(v,D){if(v instanceof pr){const J=v;if(null==J._bucket)throw function ht(){return new bt(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rt+"' property when initializing the app?")}();const Ce=new Di(J,J._bucket);return null!=D?Zr(Ce,D):Ce}return void 0!==D?or(v,D):v}function Io(v,D){if(D&&function Qi(v){return/^[A-Za-z]+:\/\//.test(v)}(D)){if(v instanceof pr)return function $i(v,D){return new Di(v,D)}(v,D);throw Gt("To use ref(service, url), the first argument must be a Storage instance.")}return Zr(v,D)}function ri(v,D){const J=D?.[rt];return null==J?null:Ke.makeFromBucketSpec(J,v)}class pr{constructor(D,J,Ce,dt,Nt){this.app=D,this._authProvider=J,this._appCheckProvider=Ce,this._url=dt,this._firebaseVersion=Nt,this._bucket=null,this._host=ut,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=dt?Ke.makeFromBucketSpec(dt,this._host):ri(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?Ke.makeFromBucketSpec(this._url,D):ri(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){ci("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){ci("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,de.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const J=D._authProvider.getImmediate({optional:!0});if(J){const Ce=yield J.getToken();if(null!==Ce)return Ce.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,de.Z)(function*(){const J=D._appCheckProvider.getImmediate({optional:!0});return J?(yield J.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new Di(this,D)}_makeRequest(D,J,Ce,dt,Nt=!0){if(this._deleted)return new Xe(dn());{const En=function ln(v,D,J,Ce,dt,Nt,En=!0){const zn=Ut(v.urlParams),Bn=v.url+zn,wi=Object.assign({},v.headers);return function Ae(v,D){D&&(v["X-Firebase-GMPID"]=D)}(wi,D),function We(v,D){null!==D&&D.length>0&&(v.Authorization="Firebase "+D)}(wi,J),function Qe(v,D){v["X-Firebase-Storage-Version"]="webjs/"+(D??"AppManager")}(wi,Nt),function Vt(v,D){null!==D&&(v["X-Firebase-AppCheck"]=D)}(wi,Ce),new mt(Bn,v.method,wi,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,dt,En)}(D,this._appId,Ce,dt,J,this._firebaseVersion,Nt);return this._requests.add(En),En.getPromise().then(()=>this._requests.delete(En),()=>this._requests.delete(En)),En}}makeRequestWithTokens(D,J){var Ce=this;return(0,de.Z)(function*(){const[dt,Nt]=yield Promise.all([Ce._getAuthToken(),Ce._getAppCheckToken()]);return Ce._makeRequest(D,J,dt,Nt).getPromise()})()}}const Yr="@firebase/storage";function bo(v,D){return Io(v=(0,Je.m9)(v),D)}function Br(v,{instanceIdentifier:D}){const J=v.getProvider("app").getImmediate(),Ce=v.getProvider("auth-internal"),dt=v.getProvider("app-check-internal");return new pr(J,Ce,dt,D,fe.SDK_VERSION)}!function gs(){(0,fe._registerComponent)(new Ne.wA("storage",Br,"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(Yr,"0.11.2",""),(0,fe.registerVersion)(Yr,"0.11.2","esm2017")}();class Ki{constructor(D,J,Ce){this._delegate=D,this.task=J,this.ref=Ce}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Mr{constructor(D,J){this._delegate=D,this._ref=J,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ki(this._delegate.snapshot,this,this._ref)}then(D,J){return this._delegate.then(Ce=>{if(D)return D(new Ki(Ce,this,this._ref))},J)}on(D,J,Ce,dt){let Nt;return J&&(Nt="function"==typeof J?En=>J(new Ki(En,this,this._ref)):{next:J.next?En=>J.next(new Ki(En,this,this._ref)):void 0,complete:J.complete||void 0,error:J.error||void 0}),this._delegate.on(D,Nt,Ce||void 0,dt||void 0)}}class po{constructor(D,J){this._delegate=D,this._service=J}get prefixes(){return this._delegate.prefixes.map(D=>new ur(D,this._service))}get items(){return this._delegate.items.map(D=>new ur(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ur{constructor(D,J){this._delegate=D,this.storage=J}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const J=function Po(v,D){return or(v,D)}(this._delegate,D);return new ur(J,this.storage)}get root(){return new ur(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new ur(D,this.storage)}put(D,J){return this._throwIfRoot("put"),new Mr(function Fs(v,D,J){return function _t(v,D,J){return v._throwIfRoot("uploadBytesResumable"),new qi(v,new Oe(D),J)}(v=(0,Je.m9)(v),D,J)}(this._delegate,D,J),this)}putString(D,J=gt.RAW,Ce){this._throwIfRoot("putString");const dt=In(J,D),Nt=Object.assign({},Ce);return null==Nt.contentType&&null!=dt.contentType&&(Nt.contentType=dt.contentType),new Mr(new qi(this._delegate,new Oe(dt.data,!0),Nt),this)}listAll(){return function So(v){return function Rt(v){const D={prefixes:[],items:[]};return rn(v,D).then(()=>D)}(v=(0,Je.m9)(v))}(this._delegate).then(D=>new po(D,this.storage))}list(D){return function ps(v,D){return nn(v=(0,Je.m9)(v),D)}(this._delegate,D||void 0).then(J=>new po(J,this.storage))}getMetadata(){return function sr(v){return function Rn(v){v._throwIfRoot("getMetadata");const D=ai(v.storage,v._location,le());return v.storage.makeRequestWithTokens(D,Hr)}(v=(0,Je.m9)(v))}(this._delegate)}updateMetadata(D){return function ar(v,D){return function ii(v,D){v._throwIfRoot("updateMetadata");const J=function tr(v,D,J,Ce){const Nt=Hn(D.fullServerUrl(),v.host,v._protocol),zn=Ot(J,Ce),wi=v.maxOperationRetryTime,Pi=new bi(Nt,"PATCH",It(v,Ce),wi);return Pi.headers={"Content-Type":"application/json; charset=utf-8"},Pi.body=zn,Pi.errorHandler=Ln(D),Pi}(v.storage,v._location,D,le());return v.storage.makeRequestWithTokens(J,Hr)}(v=(0,Je.m9)(v),D)}(this._delegate,D)}getDownloadURL(){return function Ti(v){return ui(v=(0,Je.m9)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Vi(v){return function kr(v){v._throwIfRoot("deleteObject");const D=function vo(v,D){const Ce=Hn(D.fullServerUrl(),v.host,v._protocol),zn=new bi(Ce,"DELETE",function En(Bn,wi){},v.maxOperationRetryTime);return zn.successCodes=[200,204],zn.errorHandler=Ln(D),zn}(v.storage,v._location);return v.storage.makeRequestWithTokens(D,Hr)}(v=(0,Je.m9)(v))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw gn(D)}}class Fo{constructor(D,J){this.app=D,this._delegate=J}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(Gi(D))throw Gt("ref() expected a child path but got a URL, use refFromURL instead.");return new ur(bo(this._delegate,D),this)}refFromURL(D){if(!Gi(D))throw Gt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ke.makeFromUrl(D,this._delegate.host)}catch{throw Gt("refFromUrl() expected a valid full URL but got an invalid one.")}return new ur(bo(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,J,Ce={}){!function jo(v,D,J,Ce={}){!function Yo(v,D,J,Ce={}){v.host=`${D}:${J}`,v._protocol="http";const{mockUserToken:dt}=Ce;dt&&(v._overrideAuthToken="string"==typeof dt?dt:(0,Je.Sg)(dt,v.app.options.projectId))}(v,D,J,Ce)}(this._delegate,D,J,Ce)}}function Gi(v){return/^[A-Za-z]+:\/\//.test(v)}function Ze(v,{instanceIdentifier:D}){const J=v.getProvider("app-compat").getImmediate(),Ce=v.getProvider("storage").getImmediate({identifier:D});return new Fo(J,Ce)}!function je(v){const D={TaskState:br,TaskEvent:so,StringFormat:gt,Storage:Fo,Reference:ur};v.INTERNAL.registerComponent(new Ne.wA("storage-compat",Ze,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.2")}(se.Z);var Y=E(6217),ot=E(9260);function vn(v){const D=function hn(v){return new d.y(D=>{const J=En=>D.next(En);J(v.snapshot);const Nt=v.on("state_changed",J);return v.then(En=>{J(En),D.complete()},En=>{J(v.snapshot),(En=>{D.error(En)})(En)}),function(){Nt()}}).pipe((0,ne.b)(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,xe.U)(J=>J.bytesTransferred/J.totalBytes*100))}}function _i(v){return{getDownloadURL:()=>(0,L.of)(void 0).pipe(Z.fc,(0,ae.w)(()=>v.getDownloadURL()),Z.iC),getMetadata:()=>(0,L.of)(void 0).pipe(Z.fc,(0,ae.w)(()=>v.getMetadata()),Z.iC),delete:()=>(0,g.D)(v.delete()),child:D=>_i(v.child(D)),updateMetadata:D=>(0,g.D)(v.updateMetadata(D)),put:(D,J)=>vn(v.put(D,J)),putString:(D,J,Ce)=>vn(v.putString(D,J,Ce)),list:D=>(0,g.D)(v.list(D)),listAll:()=>(0,g.D)(v.listAll())}}const lr=new _e.OlP("angularfire2.storageBucket"),Or=new _e.OlP("angularfire2.storage.maxUploadRetryTime"),wo=new _e.OlP("angularfire2.storage.maxOperationRetryTime"),Rr=new _e.OlP("angularfire2.storage.use-emulator");let ns=(()=>{class v{constructor(J,Ce,dt,Nt,En,zn,Bn,wi,Pi,wr){const Pr=(0,Ee.on)(J,En,Ce);this.storage=(0,Ee.cc)(`${Pr.name}.storage.${dt}`,"AngularFireStorage",Pr.name,()=>{const xr=En.runOutsideAngular(()=>Pr.storage(dt||void 0)),Ni=Pi;return Ni&&xr.useEmulator(...Ni),Bn&&xr.setMaxUploadRetryTime(Bn),wi&&xr.setMaxOperationRetryTime(wi),xr},[Bn,wi])}ref(J){return _i(this.storage.ref(J))}refFromURL(J){return _i(this.storage.refFromURL(J))}upload(J,Ce,dt){return _i(this.storage.ref(J)).put(Ce,dt)}}return v.\u0275fac=function(J){return new(J||v)(_e.LFG(Ee.Dh),_e.LFG(Ee.xv,8),_e.LFG(lr,8),_e.LFG(_e.Lbi),_e.LFG(_e.R0b),_e.LFG(Z.HU),_e.LFG(Or,8),_e.LFG(wo,8),_e.LFG(Rr,8),_e.LFG(Y.nm,8))},v.\u0275prov=_e.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),W=(()=>{class v{}return v.\u0275fac=function(J){return new(J||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({}),v})(),j=(()=>{class v{constructor(){ot.Z.registerVersion("angularfire",Z.q4.full,"gcs-compat")}}return v.\u0275fac=function(J){return new(J||v)},v.\u0275mod=_e.oAB({type:v}),v.\u0275inj=_e.cJS({providers:[ns],imports:[W]}),v})()},2011:(pn,it,E)=>{E.d(it,{Dh:()=>_e,GT:()=>ae,cc:()=>Ne,hO:()=>Je,on:()=>se,pX:()=>xe,xv:()=>Ee});var d=E(2223),L=E(9260),g=E(4976);pn=E.hmd(pn);const ne=["ngOnDestroy"],xe=(He,Re,bt,ue={})=>new Proxy(He,{get:(De,be)=>bt.runOutsideAngular(()=>{var Me;if(He[be])return!(null===(Me=ue?.spy)||void 0===Me)&&Me.get&&ue.spy.get(be,He[be]),He[be];if(ne.indexOf(be)>-1)return()=>{};const $e=Re.toPromise().then(K=>{const Ge=K&&K[be];return"function"==typeof Ge?Ge.bind(K):Ge&&Ge.then?Ge.then(Fe=>bt.run(()=>Fe)):bt.run(()=>Ge)});return new Proxy(()=>{},{get:(K,Ge)=>$e[Ge],apply:(K,Ge,Fe)=>$e.then(ze=>{var vt;const _n=ze&&ze(...Fe);return!(null===(vt=ue?.spy)||void 0===vt)&&vt.apply&&ue.spy.apply(be,Fe,_n),_n})})})}),ae=(He,Re)=>{Re.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(ue=>{Object.defineProperty(He.prototype,ue,Object.getOwnPropertyDescriptor(bt.prototype||bt,ue))})})};class Z{constructor(Re){return Re}}const _e=new d.OlP("angularfire2.app.options"),Ee=new d.OlP("angularfire2.app.name");function se(He,Re,bt){const De="object"==typeof bt&&bt||{};De.name=De.name||"string"==typeof bt&&bt||"[DEFAULT]";const Me=L.Z.apps.filter($e=>$e&&$e.name===De.name)[0]||Re.runOutsideAngular(()=>L.Z.initializeApp(He,De));try{JSON.stringify(He)!==JSON.stringify(Me.options)&&de("error",`${Me.name} Firebase App already initialized with different options${pn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Z(Me)}const de=(He,...Re)=>{(0,d.X6Q)()&&typeof console<"u"&&console[He](...Re)},fe={provide:Z,useFactory:se,deps:[_e,d.R0b,[new d.FiY,Ee]]};let Je=(()=>{class He{constructor(bt){L.Z.registerVersion("angularfire",g.q4.full,"core"),L.Z.registerVersion("angularfire",g.q4.full,"app-compat"),L.Z.registerVersion("angular",d.q4F.full,bt.toString())}static initializeApp(bt,ue){return{ngModule:He,providers:[{provide:_e,useValue:bt},{provide:Ee,useValue:ue}]}}}return He.\u0275fac=function(bt){return new(bt||He)(d.LFG(d.Lbi))},He.\u0275mod=d.oAB({type:He}),He.\u0275inj=d.cJS({providers:[fe]}),He})();function Ne(He,Re,bt,ue,De){const[,be,Me]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===He)||[];if(be)return function ut(He,Re){try{return He.toString()===Re.toString()}catch{return He===Re}}(De,Me)||(Le("error",`${Re} was already initialized on the ${bt} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:De,was:Me})),be;{const $e=ue();return globalThis.\u0275AngularfireInstanceCache.push([He,$e,De]),$e}}const rt=!!pn.hot,Le=(He,...Re)=>{(0,d.X6Q)()&&typeof console<"u"&&console[He](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(pn,it,E)=>{E.d(it,{q4:()=>cs,iC:()=>Ba,fc:()=>ta,HU:()=>Wa,vb:()=>Vl,JM:()=>Ga});var d=E(2223),L=E(259),g=E(5861),ne=E(6881),xe=E(2090),ae=E(4859),Z=E(1877);const _e=(T,N)=>N.some(te=>T instanceof te);let Ee,se;const Je=new WeakMap,Ne=new WeakMap,ut=new WeakMap,rt=new WeakMap,Le=new WeakMap;let bt={get(T,N,te){if(T instanceof IDBTransaction){if("done"===N)return Ne.get(T);if("objectStoreNames"===N)return T.objectStoreNames||ut.get(T);if("store"===N)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Me(T[N])},set:(T,N,te)=>(T[N]=te,!0),has:(T,N)=>T instanceof IDBTransaction&&("done"===N||"store"===N)||N in T};function be(T){return"function"==typeof T?function De(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...N){return T.apply($e(this),N),Me(Je.get(this))}:function(...N){return Me(T.apply($e(this),N))}:function(N,...te){const Pe=T.call($e(this),N,...te);return ut.set(Pe,N.sort?N.sort():[N]),Me(Pe)}}(T):(T instanceof IDBTransaction&&function Re(T){if(Ne.has(T))return;const N=new Promise((te,Pe)=>{const pt=()=>{T.removeEventListener("complete",Ft),T.removeEventListener("error",sn),T.removeEventListener("abort",sn)},Ft=()=>{te(),pt()},sn=()=>{Pe(T.error||new DOMException("AbortError","AbortError")),pt()};T.addEventListener("complete",Ft),T.addEventListener("error",sn),T.addEventListener("abort",sn)});Ne.set(T,N)}(T),_e(T,function de(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,bt):T)}function Me(T){if(T instanceof IDBRequest)return function He(T){const N=new Promise((te,Pe)=>{const pt=()=>{T.removeEventListener("success",Ft),T.removeEventListener("error",sn)},Ft=()=>{te(Me(T.result)),pt()},sn=()=>{Pe(T.error),pt()};T.addEventListener("success",Ft),T.addEventListener("error",sn)});return N.then(te=>{te instanceof IDBCursor&&Je.set(te,T)}).catch(()=>{}),Le.set(N,T),N}(T);if(rt.has(T))return rt.get(T);const N=be(T);return N!==T&&(rt.set(T,N),Le.set(N,T)),N}const $e=T=>Le.get(T),Fe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],vt=new Map;function _n(T,N){if(!(T instanceof IDBDatabase)||N in T||"string"!=typeof N)return;if(vt.get(N))return vt.get(N);const te=N.replace(/FromIndex$/,""),Pe=N!==te,pt=ze.includes(te);if(!(te in(Pe?IDBIndex:IDBObjectStore).prototype)||!pt&&!Fe.includes(te))return;const Ft=function(){var sn=(0,g.Z)(function*($n,...jn){const li=this.transaction($n,pt?"readwrite":"readonly");let Li=li.store;return Pe&&(Li=Li.index(jn.shift())),(yield Promise.all([Li[te](...jn),pt&&li.done]))[0]});return function(jn){return sn.apply(this,arguments)}}();return vt.set(N,Ft),Ft}!function ue(T){bt=T(bt)}(T=>({...T,get:(N,te,Pe)=>_n(N,te)||T.get(N,te,Pe),has:(N,te)=>!!_n(N,te)||T.has(N,te)}));const kn="@firebase/installations",ht="0.6.4",ft=1e4,kt=`w:${ht}`,Pt="FIS_v2",Qt="https://firebaseinstallations.googleapis.com/v1",Gt=36e5,At=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(T){return T instanceof xe.ZR&&T.code.includes("request-failed")}function Xe({projectId:T}){return`${Qt}/projects/${T}/installations`}function Ct(T){return{token:T.token,requestStatus:2,expiresIn:Gn(T.expiresIn),creationTime:Date.now()}}function yt(T,N){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,g.Z)(function*(T,N){const Pe=(yield N.json()).error;return At.create("request-failed",{requestName:T,serverCode:Pe.code,serverMessage:Pe.message,serverStatus:Pe.status})})).apply(this,arguments)}function Tt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Jt(T){return yn.apply(this,arguments)}function yn(){return(yn=(0,g.Z)(function*(T){const N=yield T();return N.status>=500&&N.status<600?T():N})).apply(this,arguments)}function Gn(T){return Number(T.replace("s","000"))}function Ut(){return(Ut=(0,g.Z)(function*({appConfig:T,heartbeatServiceProvider:N},{fid:te}){const Pe=Xe(T),pt=Tt(T),Ft=N.getImmediate({optional:!0});if(Ft){const li=yield Ft.getHeartbeatsHeader();li&&pt.append("x-firebase-client",li)}const $n={method:"POST",headers:pt,body:JSON.stringify({fid:te,authVersion:Pt,appId:T.appId,sdkVersion:kt})},jn=yield Jt(()=>fetch(Pe,$n));if(jn.ok){const li=yield jn.json();return{fid:li.fid||te,registrationStatus:2,refreshToken:li.refreshToken,authToken:Ct(li.authToken)}}throw yield yt("Create Installation",jn)})).apply(this,arguments)}function ce(T){return new Promise(N=>{setTimeout(N,T)})}const mt=/^[cdef][\w-]{21}$/,at="";function We(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const te=function Qe(T){return function Ve(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return mt.test(te)?te:at}catch{return at}}function Ae(T){return`${T.appName}!${T.appId}`}const Vt=new Map;function ln(T,N){const te=Ae(T);An(te,N),function ke(T,N){const te=function $t(){return!gt&&"BroadcastChannel"in self&&(gt=new BroadcastChannel("[Firebase] FID Change"),gt.onmessage=T=>{An(T.data.key,T.data.fid)}),gt}();te&&te.postMessage({key:T,fid:N}),function In(){0===Vt.size&&gt&&(gt.close(),gt=null)}()}(te,N)}function An(T,N){const te=Vt.get(T);if(te)for(const Pe of te)Pe(N)}let gt=null;const di="firebase-installations-database",Si=1,mi="firebase-installations-store";let Yt=null;function et(){return Yt||(Yt=function K(T,N,{blocked:te,upgrade:Pe,blocking:pt,terminated:Ft}={}){const sn=indexedDB.open(T,N),$n=Me(sn);return Pe&&sn.addEventListener("upgradeneeded",jn=>{Pe(Me(sn.result),jn.oldVersion,jn.newVersion,Me(sn.transaction))}),te&&sn.addEventListener("blocked",()=>te()),$n.then(jn=>{Ft&&jn.addEventListener("close",()=>Ft()),pt&&jn.addEventListener("versionchange",()=>pt())}).catch(()=>{}),$n}(di,Si,{upgrade:(T,N)=>{0===N&&T.createObjectStore(mi)}})),Yt}function st(T,N){return Be.apply(this,arguments)}function Be(){return(Be=(0,g.Z)(function*(T,N){const te=Ae(T),pt=(yield et()).transaction(mi,"readwrite"),Ft=pt.objectStore(mi),sn=yield Ft.get(te);return yield Ft.put(N,te),yield pt.done,(!sn||sn.fid!==N.fid)&&ln(T,N.fid),N})).apply(this,arguments)}function Oe(T){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,g.Z)(function*(T){const N=Ae(T),Pe=(yield et()).transaction(mi,"readwrite");yield Pe.objectStore(mi).delete(N),yield Pe.done})).apply(this,arguments)}function xt(T,N){return jt.apply(this,arguments)}function jt(){return(jt=(0,g.Z)(function*(T,N){const te=Ae(T),pt=(yield et()).transaction(mi,"readwrite"),Ft=pt.objectStore(mi),sn=yield Ft.get(te),$n=N(sn);return void 0===$n?yield Ft.delete(te):yield Ft.put($n,te),yield pt.done,$n&&(!sn||sn.fid!==$n.fid)&&ln(T,$n.fid),$n})).apply(this,arguments)}function Te(T){return oe.apply(this,arguments)}function oe(){return oe=(0,g.Z)(function*(T){let N;const te=yield xt(T.appConfig,Pe=>{const pt=function H(T){return wt(T||{fid:We(),registrationStatus:0})}(Pe),Ft=function U(T,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(At.create("app-offline"))};const te={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},Pe=function $(T,N){return le.apply(this,arguments)}(T,te);return{installationEntry:te,registrationPromise:Pe}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:re(T)}:{installationEntry:N}}(T,pt);return N=Ft.registrationPromise,Ft.installationEntry});return te.fid===at?{installationEntry:yield N}:{installationEntry:te,registrationPromise:N}}),oe.apply(this,arguments)}function le(){return le=(0,g.Z)(function*(T,N){try{const te=yield function Hn(T,N){return Ut.apply(this,arguments)}(T,N);return st(T.appConfig,te)}catch(te){throw Ke(te)&&409===te.customData.serverCode?yield Oe(T.appConfig):yield st(T.appConfig,{fid:N.fid,registrationStatus:0}),te}}),le.apply(this,arguments)}function re(T){return ve.apply(this,arguments)}function ve(){return(ve=(0,g.Z)(function*(T){let N=yield Et(T.appConfig);for(;1===N.registrationStatus;)yield ce(100),N=yield Et(T.appConfig);if(0===N.registrationStatus){const{installationEntry:te,registrationPromise:Pe}=yield Te(T);return Pe||te}return N})).apply(this,arguments)}function Et(T){return xt(T,N=>{if(!N)throw At.create("installation-not-found");return wt(N)})}function wt(T){return function Ot(T){return 1===T.registrationStatus&&T.registrationTime+ft<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Xn(){return(Xn=(0,g.Z)(function*({appConfig:T,heartbeatServiceProvider:N},te){const Pe=function Mn(T,{fid:N}){return`${Xe(T)}/${N}/authTokens:generate`}(T,te),pt=function un(T,{refreshToken:N}){const te=Tt(T);return te.append("Authorization",function ci(T){return`${Pt} ${T}`}(N)),te}(T,te),Ft=N.getImmediate({optional:!0});if(Ft){const li=yield Ft.getHeartbeatsHeader();li&&pt.append("x-firebase-client",li)}const $n={method:"POST",headers:pt,body:JSON.stringify({installation:{sdkVersion:kt,appId:T.appId}})},jn=yield Jt(()=>fetch(Pe,$n));if(jn.ok)return Ct(yield jn.json());throw yield yt("Generate Auth Token",jn)})).apply(this,arguments)}function Ci(T){return bi.apply(this,arguments)}function bi(){return bi=(0,g.Z)(function*(T,N=!1){let te;const Pe=yield xt(T.appConfig,Ft=>{if(!Ln(Ft))throw At.create("not-registered");const sn=Ft.authToken;if(!N&&function ai(T){return 2===T.requestStatus&&!function Wi(T){const N=Date.now();return N<T.creationTime||T.creationTime+T.expiresIn<N+Gt}(T)}(sn))return Ft;if(1===sn.requestStatus)return te=function Bt(T,N){return It.apply(this,arguments)}(T,N),Ft;{if(!navigator.onLine)throw At.create("app-offline");const $n=function gi(T){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:N})}(Ft);return te=function Zn(T,N){return On.apply(this,arguments)}(T,$n),$n}});return te?yield te:Pe.authToken}),bi.apply(this,arguments)}function It(){return(It=(0,g.Z)(function*(T,N){let te=yield bn(T.appConfig);for(;1===te.authToken.requestStatus;)yield ce(100),te=yield bn(T.appConfig);const Pe=te.authToken;return 0===Pe.requestStatus?Ci(T,N):Pe})).apply(this,arguments)}function bn(T){return xt(T,N=>{if(!Ln(N))throw At.create("not-registered");return function vr(T){return 1===T.requestStatus&&T.requestTime+ft<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function On(){return On=(0,g.Z)(function*(T,N){try{const te=yield function en(T,N){return Xn.apply(this,arguments)}(T,N),Pe=Object.assign(Object.assign({},N),{authToken:te});return yield st(T.appConfig,Pe),te}catch(te){if(!Ke(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Pe=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield st(T.appConfig,Pe)}else yield Oe(T.appConfig);throw te}}),On.apply(this,arguments)}function Ln(T){return void 0!==T&&2===T.registrationStatus}function vo(){return(vo=(0,g.Z)(function*(T){const N=T,{installationEntry:te,registrationPromise:Pe}=yield Te(N);return Pe?Pe.catch(console.error):Ci(N).catch(console.error),te.fid})).apply(this,arguments)}function yr(){return yr=(0,g.Z)(function*(T,N=!1){const te=T;return yield function oo(T){return fr.apply(this,arguments)}(te),(yield Ci(te,N)).token}),yr.apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(T){const{registrationPromise:N}=yield Te(T);N&&(yield N)})).apply(this,arguments)}function Wr(T){return At.create("missing-app-config-values",{valueName:T})}const Ro="installations",hs=T=>{const N=T.getProvider("app").getImmediate(),te=function Co(T){if(!T||!T.options)throw Wr("App Configuration");if(!T.name)throw Wr("App Name");const N=["projectId","apiKey","appId"];for(const te of N)if(!T.options[te])throw Wr(te);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(N);return{app:N,appConfig:te,heartbeatServiceProvider:(0,ne._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Uo=T=>{const N=T.getProvider("app").getImmediate(),te=(0,ne._getProvider)(N,Ro).getImmediate();return{getId:()=>function tr(T){return vo.apply(this,arguments)}(te),getToken:pt=>function us(T){return yr.apply(this,arguments)}(te,pt)}};(function Hr(){(0,ne._registerComponent)(new ae.wA(Ro,hs,"PUBLIC")),(0,ne._registerComponent)(new ae.wA("installations-internal",Uo,"PRIVATE"))})(),(0,ne.registerVersion)(kn,ht),(0,ne.registerVersion)(kn,ht,"esm2017");const mr="@firebase/remote-config",Di=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yo{constructor(N,te,Pe,pt){this.client=N,this.storage=te,this.storageCache=Pe,this.logger=pt}isCachedDataFresh(N,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Pe=Date.now()-te,pt=Pe<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${pt}.`),pt}fetch(N){var te=this;return(0,g.Z)(function*(){const[Pe,pt]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(pt&&te.isCachedDataFresh(N.cacheMaxAgeMillis,Pe))return pt;N.eTag=pt&&pt.eTag;const Ft=yield te.client.fetch(N),sn=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ft.status&&sn.push(te.storage.setLastSuccessfulFetchResponse(Ft)),yield Promise.all(sn),Ft})()}}function pr(T=navigator){return T.languages&&T.languages[0]||T.language}class Yr{constructor(N,te,Pe,pt,Ft,sn){this.firebaseInstallations=N,this.sdkVersion=te,this.namespace=Pe,this.projectId=pt,this.apiKey=Ft,this.appId=sn}fetch(N){var te=this;return(0,g.Z)(function*(){const[Pe,pt]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),sn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},jn={sdk_version:te.sdkVersion,app_instance_id:Pe,app_instance_id_token:pt,app_id:te.appId,language_code:pr()},li={method:"POST",headers:$n,body:JSON.stringify(jn)},Li=fetch(sn,li),Oi=new Promise((na,Ma)=>{N.signal.addEventListener(()=>{const ya=new Error("The operation was aborted.");ya.name="AbortError",Ma(ya)})});let Ss;try{yield Promise.race([Li,Oi]),Ss=yield Li}catch(na){let Ma="fetch-client-network";throw"AbortError"===na?.name&&(Ma="fetch-timeout"),Di.create(Ma,{originalErrorMessage:na?.message})}let Cr=Ss.status;const Ya=Ss.headers.get("ETag")||void 0;let eo,Us;if(200===Ss.status){let na;try{na=yield Ss.json()}catch(Ma){throw Di.create("fetch-client-parse",{originalErrorMessage:Ma?.message})}eo=na.entries,Us=na.state}if("INSTANCE_STATE_UNSPECIFIED"===Us?Cr=500:"NO_CHANGE"===Us?Cr=304:("NO_TEMPLATE"===Us||"EMPTY_CONFIG"===Us)&&(eo={}),304!==Cr&&200!==Cr)throw Di.create("fetch-status",{httpStatus:Cr});return{status:Cr,eTag:Ya,config:eo}})()}}class Ms{constructor(N,te){this.client=N,this.storage=te}fetch(N){var te=this;return(0,g.Z)(function*(){const Pe=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(N,Pe)})()}attemptFetch(N,{throttleEndTimeMillis:te,backoffCount:Pe}){var pt=this;return(0,g.Z)(function*(){yield function dr(T,N){return new Promise((te,Pe)=>{const pt=Math.max(N-Date.now(),0),Ft=setTimeout(te,pt);T.addEventListener(()=>{clearTimeout(Ft),Pe(Di.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,te);try{const Ft=yield pt.client.fetch(N);return yield pt.storage.deleteThrottleMetadata(),Ft}catch(Ft){if(!function qo(T){if(!(T instanceof xe.ZR&&T.customData))return!1;const N=Number(T.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ft))throw Ft;const sn={throttleEndTimeMillis:Date.now()+(0,xe.$s)(Pe),backoffCount:Pe+1};return yield pt.storage.setThrottleMetadata(sn),pt.attemptFetch(N,sn)}})()}}class Fs{constructor(N,te,Pe,pt,Ft){this.app=N,this._client=te,this._storageCache=Pe,this._storage=pt,this._logger=Ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sr(T,N){const te=T.target.error||void 0;return Di.create(N,{originalErrorMessage:te&&te?.message})}const ar="app_namespace_store";class Vi{constructor(N,te,Pe,pt=function Ti(){return new Promise((T,N)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=Pe=>{N(sr(Pe,"storage-open"))},te.onsuccess=Pe=>{T(Pe.target.result)},te.onupgradeneeded=Pe=>{0===Pe.oldVersion&&Pe.target.result.createObjectStore(ar,{keyPath:"compositeKey"})}}catch(te){N(Di.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=N,this.appName=te,this.namespace=Pe,this.openDbPromise=pt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var te=this;return(0,g.Z)(function*(){const Pe=yield te.openDbPromise;return new Promise((pt,Ft)=>{const $n=Pe.transaction([ar],"readonly").objectStore(ar),jn=te.createCompositeKey(N);try{const li=$n.get(jn);li.onerror=Li=>{Ft(sr(Li,"storage-get"))},li.onsuccess=Li=>{const Oi=Li.target.result;pt(Oi?Oi.value:void 0)}}catch(li){Ft(Di.create("storage-get",{originalErrorMessage:li?.message}))}})})()}set(N,te){var Pe=this;return(0,g.Z)(function*(){const pt=yield Pe.openDbPromise;return new Promise((Ft,sn)=>{const jn=pt.transaction([ar],"readwrite").objectStore(ar),li=Pe.createCompositeKey(N);try{const Li=jn.put({compositeKey:li,value:te});Li.onerror=Oi=>{sn(sr(Oi,"storage-set"))},Li.onsuccess=()=>{Ft()}}catch(Li){sn(Di.create("storage-set",{originalErrorMessage:Li?.message}))}})})()}delete(N){var te=this;return(0,g.Z)(function*(){const Pe=yield te.openDbPromise;return new Promise((pt,Ft)=>{const $n=Pe.transaction([ar],"readwrite").objectStore(ar),jn=te.createCompositeKey(N);try{const li=$n.delete(jn);li.onerror=Li=>{Ft(sr(Li,"storage-delete"))},li.onsuccess=()=>{pt()}}catch(li){Ft(Di.create("storage-delete",{originalErrorMessage:li?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class bo{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,g.Z)(function*(){const te=N.storage.getLastFetchStatus(),Pe=N.storage.getLastSuccessfulFetchTimestampMillis(),pt=N.storage.getActiveConfig(),Ft=yield te;Ft&&(N.lastFetchStatus=Ft);const sn=yield Pe;sn&&(N.lastSuccessfulFetchTimestampMillis=sn);const $n=yield pt;$n&&(N.activeConfig=$n)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function As(){return ks.apply(this,arguments)}function ks(){return(ks=(0,g.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function Po(){(0,ne._registerComponent)(new ae.wA("remote-config",function T(N,{instanceIdentifier:te}){const Pe=N.getProvider("app").getImmediate(),pt=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Di.create("registration-window");if(!(0,xe.hl)())throw Di.create("indexed-db-unavailable");const{projectId:Ft,apiKey:sn,appId:$n}=Pe.options;if(!Ft)throw Di.create("registration-project-id");if(!sn)throw Di.create("registration-api-key");if(!$n)throw Di.create("registration-app-id");const jn=new Vi($n,Pe.name,te=te||"firebase"),li=new bo(jn),Li=new Z.Yd(mr);Li.logLevel=Z.in.ERROR;const Oi=new Yr(pt,ne.SDK_VERSION,te,Ft,sn,$n),Ss=new Ms(Oi,jn),Cr=new Yo(Ss,jn,li,Li),Ya=new Fs(Pe,Cr,li,jn,Li);return function Rn(T){const N=(0,xe.m9)(T);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(mr,"0.4.4"),(0,ne.registerVersion)(mr,"0.4.4","esm2017")}();const Br=(T,N)=>N.some(te=>T instanceof te);let gs,Ki;const ur=new WeakMap,Fo=new WeakMap,Gi=new WeakMap,go=new WeakMap,Ho=new WeakMap;let je={get(T,N,te){if(T instanceof IDBTransaction){if("done"===N)return Fo.get(T);if("objectStoreNames"===N)return T.objectStoreNames||Gi.get(T);if("store"===N)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return vn(T[N])},set:(T,N,te)=>(T[N]=te,!0),has:(T,N)=>T instanceof IDBTransaction&&("done"===N||"store"===N)||N in T};function hn(T){return"function"==typeof T?function ot(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function po(){return Ki||(Ki=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...N){return T.apply(_i(this),N),vn(ur.get(this))}:function(...N){return vn(T.apply(_i(this),N))}:function(N,...te){const Pe=T.call(_i(this),N,...te);return Gi.set(Pe,N.sort?N.sort():[N]),vn(Pe)}}(T):(T instanceof IDBTransaction&&function Ze(T){if(Fo.has(T))return;const N=new Promise((te,Pe)=>{const pt=()=>{T.removeEventListener("complete",Ft),T.removeEventListener("error",sn),T.removeEventListener("abort",sn)},Ft=()=>{te(),pt()},sn=()=>{Pe(T.error||new DOMException("AbortError","AbortError")),pt()};T.addEventListener("complete",Ft),T.addEventListener("error",sn),T.addEventListener("abort",sn)});Fo.set(T,N)}(T),Br(T,function Mr(){return gs||(gs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,je):T)}function vn(T){if(T instanceof IDBRequest)return function Ys(T){const N=new Promise((te,Pe)=>{const pt=()=>{T.removeEventListener("success",Ft),T.removeEventListener("error",sn)},Ft=()=>{te(vn(T.result)),pt()},sn=()=>{Pe(T.error),pt()};T.addEventListener("success",Ft),T.addEventListener("error",sn)});return N.then(te=>{te instanceof IDBCursor&&ur.set(te,T)}).catch(()=>{}),Ho.set(N,T),N}(T);if(go.has(T))return go.get(T);const N=hn(T);return N!==T&&(go.set(T,N),Ho.set(N,T)),N}const _i=T=>Ho.get(T);function lr(T,N,{blocked:te,upgrade:Pe,blocking:pt,terminated:Ft}={}){const sn=indexedDB.open(T,N),$n=vn(sn);return Pe&&sn.addEventListener("upgradeneeded",jn=>{Pe(vn(sn.result),jn.oldVersion,jn.newVersion,vn(sn.transaction))}),te&&sn.addEventListener("blocked",()=>te()),$n.then(jn=>{Ft&&jn.addEventListener("close",()=>Ft()),pt&&jn.addEventListener("versionchange",()=>pt())}).catch(()=>{}),$n}function Or(T,{blocked:N}={}){const te=indexedDB.deleteDatabase(T);return N&&te.addEventListener("blocked",()=>N()),vn(te).then(()=>{})}const wo=["get","getKey","getAll","getAllKeys","count"],Rr=["put","add","delete","clear"],ns=new Map;function _s(T,N){if(!(T instanceof IDBDatabase)||N in T||"string"!=typeof N)return;if(ns.get(N))return ns.get(N);const te=N.replace(/FromIndex$/,""),Pe=N!==te,pt=Rr.includes(te);if(!(te in(Pe?IDBIndex:IDBObjectStore).prototype)||!pt&&!wo.includes(te))return;const Ft=function(){var sn=(0,g.Z)(function*($n,...jn){const li=this.transaction($n,pt?"readwrite":"readonly");let Li=li.store;return Pe&&(Li=Li.index(jn.shift())),(yield Promise.all([Li[te](...jn),pt&&li.done]))[0]});return function(jn){return sn.apply(this,arguments)}}();return ns.set(N,Ft),Ft}!function Y(T){je=T(je)}(T=>({...T,get:(N,te,Pe)=>_s(N,te)||T.get(N,te,Pe),has:(N,te)=>!!_s(N,te)||T.has(N,te)}));const W="/firebase-messaging-sw.js",j="/firebase-cloud-messaging-push-scope",v="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",D="https://fcmregistrations.googleapis.com/v1",J="google.c.a.c_id",Ce="google.c.a.c_l",dt="google.c.a.ts";var zn=(()=>((zn=zn||{}).PUSH_RECEIVED="push-received",zn.NOTIFICATION_CLICKED="notification-clicked",zn))();function Bn(T){const N=new Uint8Array(T);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wi(T){const te=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(te),pt=new Uint8Array(Pe.length);for(let Ft=0;Ft<Pe.length;++Ft)pt[Ft]=Pe.charCodeAt(Ft);return pt}const Pi="fcm_token_details_db",wr=5,Pr="fcm_token_object_Store";function Ni(){return Ni=(0,g.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ft=>Ft.name).includes(Pi))return null;let N=null;return(yield lr(Pi,wr,{upgrade:(Pe=(0,g.Z)(function*(pt,Ft,sn,$n){var jn;if(Ft<2||!pt.objectStoreNames.contains(Pr))return;const li=$n.objectStore(Pr),Li=yield li.index("fcmSenderId").get(T);if(yield li.clear(),Li)if(2===Ft){const Oi=Li;if(!Oi.auth||!Oi.p256dh||!Oi.endpoint)return;N={token:Oi.fcmToken,createTime:null!==(jn=Oi.createTime)&&void 0!==jn?jn:Date.now(),subscriptionOptions:{auth:Oi.auth,p256dh:Oi.p256dh,endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:"string"==typeof Oi.vapidKey?Oi.vapidKey:Bn(Oi.vapidKey)}}}else if(3===Ft){const Oi=Li;N={token:Oi.fcmToken,createTime:Oi.createTime,subscriptionOptions:{auth:Bn(Oi.auth),p256dh:Bn(Oi.p256dh),endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:Bn(Oi.vapidKey)}}}else if(4===Ft){const Oi=Li;N={token:Oi.fcmToken,createTime:Oi.createTime,subscriptionOptions:{auth:Bn(Oi.auth),p256dh:Bn(Oi.p256dh),endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:Bn(Oi.vapidKey)}}}}),function(Ft,sn,$n,jn){return Pe.apply(this,arguments)})})).close(),yield Or(Pi),yield Or("fcm_vapid_details_db"),yield Or("undefined"),function Er(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:N}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var Pe}),Ni.apply(this,arguments)}const xi="firebase-messaging-database",No=1,no="firebase-messaging-store";let Ur=null;function Fr(){return Ur||(Ur=lr(xi,No,{upgrade:(T,N)=>{0===N&&T.createObjectStore(no)}})),Ur}function xo(T){return vs.apply(this,arguments)}function vs(){return vs=(0,g.Z)(function*(T){const N=ra(T),Pe=yield(yield Fr()).transaction(no).objectStore(no).get(N);if(Pe)return Pe;{const pt=yield function xr(T){return Ni.apply(this,arguments)}(T.appConfig.senderId);if(pt)return yield qr(T,pt),pt}}),vs.apply(this,arguments)}function qr(T,N){return ys.apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(T,N){const te=ra(T),pt=(yield Fr()).transaction(no,"readwrite");return yield pt.objectStore(no).put(N,te),yield pt.done,N})).apply(this,arguments)}function zs(){return(zs=(0,g.Z)(function*(T){const N=ra(T),Pe=(yield Fr()).transaction(no,"readwrite");yield Pe.objectStore(no).delete(N),yield Pe.done})).apply(this,arguments)}function ra({appConfig:T}){return T.appId}const Qr=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _l(T,N){return oa.apply(this,arguments)}function oa(){return(oa=(0,g.Z)(function*(T,N){const te=yield ao(T),Pe=qs(N),pt={method:"POST",headers:te,body:JSON.stringify(Pe)};let Ft;try{Ft=yield(yield fetch(aa(T.appConfig),pt)).json()}catch(sn){throw Qr.create("token-subscribe-failed",{errorInfo:sn?.toString()})}if(Ft.error)throw Qr.create("token-subscribe-failed",{errorInfo:Ft.error.message});if(!Ft.token)throw Qr.create("token-subscribe-no-token");return Ft.token})).apply(this,arguments)}function ma(){return(ma=(0,g.Z)(function*(T,N){const te=yield ao(T),Pe=qs(N.subscriptionOptions),pt={method:"PATCH",headers:te,body:JSON.stringify(Pe)};let Ft;try{Ft=yield(yield fetch(`${aa(T.appConfig)}/${N.token}`,pt)).json()}catch(sn){throw Qr.create("token-update-failed",{errorInfo:sn?.toString()})}if(Ft.error)throw Qr.create("token-update-failed",{errorInfo:Ft.error.message});if(!Ft.token)throw Qr.create("token-update-no-token");return Ft.token})).apply(this,arguments)}function pa(T,N){return $s.apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(T,N){const Pe={method:"DELETE",headers:yield ao(T)};try{const Ft=yield(yield fetch(`${aa(T.appConfig)}/${N}`,Pe)).json();if(Ft.error)throw Qr.create("token-unsubscribe-failed",{errorInfo:Ft.error.message})}catch(pt){throw Qr.create("token-unsubscribe-failed",{errorInfo:pt?.toString()})}})).apply(this,arguments)}function aa({projectId:T}){return`${D}/projects/${T}/registrations`}function ao(T){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,g.Z)(function*({appConfig:T,installations:N}){const te=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function qs({p256dh:T,auth:N,endpoint:te,vapidKey:Pe}){const pt={web:{endpoint:te,auth:N,p256dh:T}};return Pe!==v&&(pt.web.applicationPubKey=Pe),pt}const Oa=6048e5;function Qs(){return Qs=(0,g.Z)(function*(T){const N=yield function Gs(T,N){return Ai.apply(this,arguments)}(T.swRegistration,T.vapidKey),te={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:N.endpoint,auth:Bn(N.getKey("auth")),p256dh:Bn(N.getKey("p256dh"))},Pe=yield xo(T.firebaseDependencies);if(Pe){if(function ga(T,N){return N.vapidKey===T.vapidKey&&N.endpoint===T.endpoint&&N.auth===T.auth&&N.p256dh===T.p256dh}(Pe.subscriptionOptions,te))return Date.now()>=Pe.createTime+Oa?function Da(T,N){return Ls.apply(this,arguments)}(T,{token:Pe.token,createTime:Date.now(),subscriptionOptions:te}):Pe.token;try{yield pa(T.firebaseDependencies,Pe.token)}catch(pt){console.warn(pt)}return Xi(T.firebaseDependencies,te)}return Xi(T.firebaseDependencies,te)}),Qs.apply(this,arguments)}function zo(){return zo=(0,g.Z)(function*(T){const N=yield xo(T.firebaseDependencies);N&&(yield pa(T.firebaseDependencies,N.token),yield function is(T){return zs.apply(this,arguments)}(T.firebaseDependencies));const te=yield T.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),zo.apply(this,arguments)}function Ls(){return Ls=(0,g.Z)(function*(T,N){try{const te=yield function sa(T,N){return ma.apply(this,arguments)}(T.firebaseDependencies,N),Pe=Object.assign(Object.assign({},N),{token:te,createTime:Date.now()});return yield qr(T.firebaseDependencies,Pe),te}catch(te){throw yield function rs(T){return zo.apply(this,arguments)}(T),te}}),Ls.apply(this,arguments)}function Xi(T,N){return To.apply(this,arguments)}function To(){return(To=(0,g.Z)(function*(T,N){const Pe={token:yield _l(T,N),createTime:Date.now(),subscriptionOptions:N};return yield qr(T,Pe),Pe.token})).apply(this,arguments)}function Ai(){return(Ai=(0,g.Z)(function*(T,N){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wi(N)})})).apply(this,arguments)}function R(T){const N={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Q(T,N){if(!N.notification)return;T.notification={};const te=N.notification.title;te&&(T.notification.title=te);const Pe=N.notification.body;Pe&&(T.notification.body=Pe);const pt=N.notification.image;pt&&(T.notification.image=pt);const Ft=N.notification.icon;Ft&&(T.notification.icon=Ft)}(N,T),function B(T,N){N.data&&(T.data=N.data)}(N,T),function he(T,N){var te,Pe,pt,Ft,sn;if(!(N.fcmOptions||null!==(te=N.notification)&&void 0!==te&&te.click_action))return;T.fcmOptions={};const $n=null!==(pt=null===(Pe=N.fcmOptions)||void 0===Pe?void 0:Pe.link)&&void 0!==pt?pt:null===(Ft=N.notification)||void 0===Ft?void 0:Ft.click_action;$n&&(T.fcmOptions.link=$n);const jn=null===(sn=N.fcmOptions)||void 0===sn?void 0:sn.analytics_label;jn&&(T.fcmOptions.analyticsLabel=jn)}(N,T),N}function Xt(T,N){const te=[];for(let Pe=0;Pe<T.length;Pe++)te.push(T.charAt(Pe)),Pe<N.length&&te.push(N.charAt(Pe));return te.join("")}function Kn(T){return Qr.create("missing-app-config-values",{valueName:T})}Xt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ji{constructor(N,te,Pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pt=function fn(T){if(!T||!T.options)throw Kn("App Configuration Object");if(!T.name)throw Kn("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:te}=T;for(const Pe of N)if(!te[Pe])throw Kn(Pe);return{appName:T.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:pt,installations:te,analyticsProvider:Pe}}_delete(){return Promise.resolve()}}function Ei(){return(Ei=(0,g.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(W,{scope:j}),T.swRegistration.update().catch(()=>{})}catch(N){throw Qr.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function nr(){return(nr=(0,g.Z)(function*(T,N){if(!N&&!T.swRegistration&&(yield function Mi(T){return Ei.apply(this,arguments)}(T)),N||!T.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Qr.create("invalid-sw-registration");T.swRegistration=N}})).apply(this,arguments)}function $r(){return($r=(0,g.Z)(function*(T,N){N?T.vapidKey=N:T.vapidKey||(T.vapidKey=v)})).apply(this,arguments)}function Xr(){return Xr=(0,g.Z)(function*(T,N){if(!navigator)throw Qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qr.create("permission-blocked");return yield function Un(T,N){return $r.apply(this,arguments)}(T,N?.vapidKey),yield function Ii(T,N){return nr.apply(this,arguments)}(T,N?.serviceWorkerRegistration),function Ca(T){return Qs.apply(this,arguments)}(T)}),Xr.apply(this,arguments)}function $o(){return($o=(0,g.Z)(function*(T,N,te){const Pe=function Xs(T){switch(T){case zn.NOTIFICATION_CLICKED:return"notification_open";case zn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:te[J],message_name:te[Ce],message_time:te[dt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Es(){return Es=(0,g.Z)(function*(T,N){const te=N.data;if(!te.isFirebaseMessaging)return;T.onMessageHandler&&te.messageType===zn.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(R(te)):T.onMessageHandler.next(R(te)));const Pe=te.data;(function qe(T){return"object"==typeof T&&!!T&&J in T})(Pe)&&"1"===Pe["google.c.a.e"]&&(yield function Ia(T,N,te){return $o.apply(this,arguments)}(T,te.messageType,Pe))}),Es.apply(this,arguments)}const Nl="@firebase/messaging",vl=T=>{const N=new ji(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function ss(T,N){return Es.apply(this,arguments)}(N,te)),N},rl=T=>{const N=T.getProvider("messaging").getImmediate();return{getToken:Pe=>function os(T,N){return Xr.apply(this,arguments)}(N,Pe)}};function ir(){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wn(){(0,ne._registerComponent)(new ae.wA("messaging",vl,"PUBLIC")),(0,ne._registerComponent)(new ae.wA("messaging-internal",rl,"PRIVATE")),(0,ne.registerVersion)(Nl,"0.12.4"),(0,ne.registerVersion)(Nl,"0.12.4","esm2017")}();const Jn="analytics",oi="firebase_id",V="origin",y=6e4,p="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",C="https://www.googletagmanager.com/gtag/js",z=new Z.Yd("@firebase/analytics"),Ye=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lt(T){if(!T.startsWith(C)){const N=Ye.create("invalid-gtag-resource",{gtagURL:T});return z.warn(N.message),""}return T}function Lt(T){return Promise.all(T.map(N=>N.catch(te=>te)))}function ki(){return(ki=(0,g.Z)(function*(T,N,te,Pe,pt,Ft){const sn=Pe[pt];try{if(sn)yield N[sn];else{const jn=(yield Lt(te)).find(li=>li.measurementId===pt);jn&&(yield N[jn.appId])}}catch($n){z.error($n)}T("config",pt,Ft)})).apply(this,arguments)}function pi(){return(pi=(0,g.Z)(function*(T,N,te,Pe,pt){try{let Ft=[];if(pt&&pt.send_to){let sn=pt.send_to;Array.isArray(sn)||(sn=[sn]);const $n=yield Lt(te);for(const jn of sn){const li=$n.find(Oi=>Oi.measurementId===jn),Li=li&&N[li.appId];if(!Li){Ft=[];break}Ft.push(Li)}}0===Ft.length&&(Ft=Object.values(N)),yield Promise.all(Ft),T("event",Pe,pt||{})}catch(Ft){z.error(Ft)}})).apply(this,arguments)}const Zi=30,Fi=new class Js{constructor(N={},te=1e3){this.throttleMetadata=N,this.intervalMillis=te}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,te){this.throttleMetadata[N]=te}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Nr(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function w(){return(w=(0,g.Z)(function*(T){var N;const{appId:te,apiKey:Pe}=T,pt={method:"GET",headers:Nr(Pe)},Ft=p.replace("{app-id}",te),sn=yield fetch(Ft,pt);if(200!==sn.status&&304!==sn.status){let $n="";try{const jn=yield sn.json();null!==(N=jn.error)&&void 0!==N&&N.message&&($n=jn.error.message)}catch{}throw Ye.create("config-fetch-failed",{httpStatus:sn.status,responseMessage:$n})}return sn.json()})).apply(this,arguments)}function x(){return(x=(0,g.Z)(function*(T,N=Fi,te){const{appId:Pe,apiKey:pt,measurementId:Ft}=T.options;if(!Pe)throw Ye.create("no-app-id");if(!pt){if(Ft)return{measurementId:Ft,appId:Pe};throw Ye.create("no-api-key")}const sn=N.getThrottleMetadata(Pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$n=new tt;return setTimeout((0,g.Z)(function*(){$n.abort()}),void 0!==te?te:y),F({appId:Pe,apiKey:pt,measurementId:Ft},sn,$n,N)})).apply(this,arguments)}function F(T,N,te){return ee.apply(this,arguments)}function ee(){return ee=(0,g.Z)(function*(T,{throttleEndTimeMillis:N,backoffCount:te},Pe,pt=Fi){var Ft;const{appId:sn,measurementId:$n}=T;try{yield function ye(T,N){return new Promise((te,Pe)=>{const pt=Math.max(N-Date.now(),0),Ft=setTimeout(te,pt);T.addEventListener(()=>{clearTimeout(Ft),Pe(Ye.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(Pe,N)}catch(jn){if($n)return z.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$n} provided in the "measurementId" field in the local Firebase config. [${jn?.message}]`),{appId:sn,measurementId:$n};throw jn}try{const jn=yield function rr(T){return w.apply(this,arguments)}(T);return pt.deleteThrottleMetadata(sn),jn}catch(jn){const li=jn;if(!function Se(T){if(!(T instanceof xe.ZR&&T.customData))return!1;const N=Number(T.customData.httpStatus);return 429===N||500===N||503===N||504===N}(li)){if(pt.deleteThrottleMetadata(sn),$n)return z.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$n} provided in the "measurementId" field in the local Firebase config. [${li?.message}]`),{appId:sn,measurementId:$n};throw jn}const Li=503===Number(null===(Ft=li?.customData)||void 0===Ft?void 0:Ft.httpStatus)?(0,xe.$s)(te,pt.intervalMillis,Zi):(0,xe.$s)(te,pt.intervalMillis),Oi={throttleEndTimeMillis:Date.now()+Li,backoffCount:te+1};return pt.setThrottleMetadata(sn,Oi),z.debug(`Calling attemptFetch again in ${Li} millis`),F(T,Oi,Pe,pt)}}),ee.apply(this,arguments)}class tt{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let Zt,ws;function Sn(){return(Sn=(0,g.Z)(function*(T,N,te,Pe,pt){if(pt&&pt.global)T("event",te,Pe);else{const Ft=yield N;T("event",te,Object.assign(Object.assign({},Pe),{send_to:Ft}))}})).apply(this,arguments)}function yl(){return(yl=(0,g.Z)(function*(){if(!(0,xe.hl)())return z.warn(Ye.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(T){return z.warn(Ye.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ta(){return Ta=(0,g.Z)(function*(T,N,te,Pe,pt,Ft,sn){var $n;const jn=function O(T){return x.apply(this,arguments)}(T);jn.then(Cr=>{te[Cr.measurementId]=Cr.appId,T.options.measurementId&&Cr.measurementId!==T.options.measurementId&&z.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cr=>z.error(Cr)),N.push(jn);const li=function Ad(){return yl.apply(this,arguments)}().then(Cr=>{if(Cr)return Pe.getId()}),[Li,Oi]=yield Promise.all([jn,li]);(function Mo(T){const N=window.document.getElementsByTagName("script");for(const te of Object.values(N))if(te.src&&te.src.includes(C)&&te.src.includes(T))return te;return null})(Ft)||function Vn(T,N){const te=function on(T,N){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(T,N)),te}("firebase-js-sdk-policy",{createScriptURL:lt}),Pe=document.createElement("script"),pt=`${C}?l=${T}&id=${N}`;Pe.src=te?te?.createScriptURL(pt):pt,Pe.async=!0,document.head.appendChild(Pe)}(Ft,Li.measurementId),ws&&(pt("consent","default",ws),function Ha(T){ws=T}(void 0)),pt("js",new Date);const Ss=null!==($n=sn?.config)&&void 0!==$n?$n:{};return Ss[V]="firebase",Ss.update=!0,null!=Oi&&(Ss[oi]=Oi),pt("config",Li.measurementId,Ss),Zt&&(pt("set",Zt),function Sa(T){Zt=T}(void 0)),Li.measurementId}),Ta.apply(this,arguments)}class Is{constructor(N){this.app=N}_delete(){return delete Ws[this.app.options.appId],Promise.resolve()}}let Ws={},Pa=[];const Ll={};let lc,ls,Ao="dataLayer",bl=!1;function dc(T,N,te){!function cc(){const T=[];if((0,xe.ru)()&&T.push("This is a browser extension environment."),(0,xe.zI)()||T.push("Cookies are not available."),T.length>0){const N=T.map((Pe,pt)=>`(${pt+1}) ${Pe}`).join(" "),te=Ye.create("invalid-analytics-context",{errorInfo:N});z.warn(te.message)}}();const Pe=T.options.appId;if(!Pe)throw Ye.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Ye.create("no-api-key");z.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ws[Pe])throw Ye.create("already-exists",{id:Pe});if(!bl){!function qn(T){let N=[];Array.isArray(window[T])?N=window[T]:window[T]=N}(Ao);const{wrappedGtag:Ft,gtagCore:sn}=function Gr(T,N,te,Pe,pt){let Ft=function(...sn){window[Pe].push(arguments)};return window[pt]&&"function"==typeof window[pt]&&(Ft=window[pt]),window[pt]=function ei(T,N,te,Pe){function Ft(){return Ft=(0,g.Z)(function*(sn,...$n){try{if("event"===sn){const[jn,li]=$n;yield function fi(T,N,te,Pe,pt){return pi.apply(this,arguments)}(T,N,te,jn,li)}else if("config"===sn){const[jn,li]=$n;yield function Hi(T,N,te,Pe,pt,Ft){return ki.apply(this,arguments)}(T,N,te,Pe,jn,li)}else if("consent"===sn){const[jn]=$n;T("consent","update",jn)}else if("get"===sn){const[jn,li,Li]=$n;T("get",jn,li,Li)}else if("set"===sn){const[jn]=$n;T("set",jn)}else T(sn,...$n)}catch(jn){z.error(jn)}}),Ft.apply(this,arguments)}return function pt(sn){return Ft.apply(this,arguments)}}(Ft,T,N,te),{gtagCore:Ft,wrappedGtag:window[pt]}}(Ws,Pa,Ll,Ao,"gtag");ls=Ft,lc=sn,bl=!0}return Ws[Pe]=function Nh(T,N,te,Pe,pt,Ft,sn){return Ta.apply(this,arguments)}(T,Pa,Ll,N,lc,Ao,te),new Is(T)}function Hc(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,g.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}const Gc="@firebase/analytics";!function $a(){(0,ne._registerComponent)(new ae.wA(Jn,(N,{options:te})=>dc(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,ne._registerComponent)(new ae.wA("analytics-internal",function T(N){try{const te=N.getProvider(Jn).getImmediate();return{logEvent:(Pe,pt,Ft)=>function za(T,N,te,Pe){T=(0,xe.m9)(T),function Dn(T,N,te,Pe,pt){return Sn.apply(this,arguments)}(ls,Ws[T.app.options.appId],N,te,Pe).catch(pt=>z.error(pt))}(te,Pe,pt,Ft)}}catch(te){throw Ye.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,ne.registerVersion)(Gc,"0.10.0"),(0,ne.registerVersion)(Gc,"0.10.0","esm2017")}();var Od=E(4408),Bl=E(7565);const xs=new class Kc extends Bl.v{}(class Wc extends Od.o{constructor(N,te){super(N,te),this.scheduler=N,this.work=te}schedule(N,te=0){return te>0?super.schedule(N,te):(this.delay=te,this.state=N,this.scheduler.flush(this),this)}execute(N,te){return te>0||this.closed?super.execute(N,te):this._execute(N,te)}requestAsyncId(N,te,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(N,te,Pe):(N.flush(this),0)}});var ea=E(4986),Na=E(8505),Sr=E(5363),sl=E(9468);const cs=new d.GfV("7.6.1"),Tr="__angularfire_symbol__analyticsIsSupportedValue",Zc="__angularfire_symbol__analyticsIsSupported",La="__angularfire_symbol__remoteConfigIsSupportedValue",Ps="__angularfire_symbol__remoteConfigIsSupported",pc="__angularfire_symbol__messagingIsSupportedValue",Rd="__angularfire_symbol__messagingIsSupported";function Ga(T,N,te){if(N){if(1===N.length)return N[0];const Ft=N.filter(sn=>sn.app===te);if(1===Ft.length)return Ft[0]}return te.container.getProvider(T).getImmediate({optional:!0})}globalThis[Zc]||(globalThis[Zc]=Hc().then(T=>globalThis[Tr]=T).catch(()=>globalThis[Tr]=!1)),globalThis[Rd]||(globalThis[Rd]=ir().then(T=>globalThis[pc]=T).catch(()=>globalThis[pc]=!1)),globalThis[Ps]||(globalThis[Ps]=As().then(T=>globalThis[La]=T).catch(()=>globalThis[La]=!1));const Vl=(T,N)=>{const te=N?[N]:(0,L.C6)(),Pe=[];return te.forEach(pt=>{pt.container.getProvider(T).instances.forEach(sn=>{Pe.includes(sn)||Pe.push(sn)})}),Pe};function uo(){}class El{constructor(N,te=xs){this.zone=N,this.delegate=te}now(){return this.delegate.now()}schedule(N,te,Pe){const pt=this.zone;return this.delegate.schedule(function(sn){pt.runGuarded(()=>{N.apply(this,[sn])})},te,Pe)}}class Cl{constructor(N){this.zone=N,this.task=null}call(N,te){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo)),te.pipe((0,Na.b)({next:Pe,complete:Pe,error:Pe})).subscribe(N).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wa=(()=>{class T{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=te.run(()=>new El(Zone.current,ea.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(te){return new(te||T)(d.LFG(d.R0b))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function io(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function ta(T){return T.pipe((0,Sr.Q)(io().outsideAngular))}function Ba(T){return io(),function Fu(T){return function(te){return(te=te.lift(new Cl(T.ngZone))).pipe((0,sl.R)(T.outsideAngular),(0,Sr.Q)(T.insideAngular))}}(io())(T)}},1389:(pn,it,E)=>{E.d(it,{$:()=>W,A:()=>de,D:()=>Ne,I:()=>br,J:()=>hs,L:()=>ri,N:()=>xt,P:()=>Nh,Q:()=>Vi,R:()=>Go,U:()=>jo,V:()=>As,W:()=>ks,X:()=>mo,Y:()=>Mr,Z:()=>po,_:()=>Ho,a:()=>Ra,a0:()=>v,a1:()=>J,a2:()=>En,a3:()=>Pr,a4:()=>Ni,a5:()=>xi,a6:()=>no,a7:()=>Fr,a8:()=>vs,a9:()=>ys,aA:()=>K,aB:()=>La,aC:()=>Oe,aD:()=>jt,aE:()=>Sr,aF:()=>fc,aG:()=>Bh,aH:()=>Ui,aL:()=>Dr,aO:()=>gs,aa:()=>is,ab:()=>ra,ac:()=>Ea,ad:()=>sa,ae:()=>pa,af:()=>aa,ai:()=>Oa,aj:()=>Qs,ak:()=>rs,an:()=>ot,ao:()=>Q,aq:()=>$r,ar:()=>Nl,as:()=>Fe,at:()=>wt,au:()=>re,av:()=>ue,aw:()=>Ss,ax:()=>Qo,ay:()=>Ot,az:()=>De,b:()=>as,c:()=>ls,d:()=>dc,e:()=>la,f:()=>Gc,g:()=>Kc,h:()=>Od,i:()=>Wn,j:()=>ea,k:()=>na,l:()=>Ir,m:()=>Pd,o:()=>Ld,p:()=>_e,r:()=>bs,s:()=>Wt,u:()=>Ad});var d=E(5861),L=E(2090),g=E(6881),ne=E(7582),xe=E(1877),ae=E(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ut=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new xe.Yd("@firebase/auth");function bt(I,...f){He.logLevel<=xe.in.ERROR&&He.error(`Auth (${g.SDK_VERSION}): ${I}`,...f)}function ue(I,...f){throw $e(I,...f)}function De(I,...f){return $e(I,...f)}function be(I,f,_){const k=Object.assign(Object.assign({},ut()),{[f]:_});return new L.LL("auth","Firebase",k).create(f,{appName:I.name})}function Me(I,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&ue(I,"argument-error"),be(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(I,...f){if("string"!=typeof I){const _=f[0],k=[...f.slice(1)];return k[0]&&(k[0].appName=I.name),I._errorFactory.create(_,...k)}return rt.create(I,...f)}function K(I,f,..._){if(!I)throw $e(f,..._)}function Ge(I){const f="INTERNAL ASSERTION FAILED: "+I;throw bt(f),new Error(f)}function Fe(I,f){I||Ge(f)}function ze(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function vt(){return"http:"===_n()||"https:"===_n()}function _n(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ft{constructor(f,_){this.shortDelay=f,this.longDelay=_,Fe(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kt(I,f){Fe(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class Pt{static initialize(f,_,k){this.fetchImpl=f,_&&(this.headersImpl=_),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Gt=new ft(3e4,6e4);function dn(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function gn(I,f,_,k){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(I,f,_,k,ie={}){return At(I,ie,(0,d.Z)(function*(){let we={},St={};k&&("GET"===f?St=k:we={body:JSON.stringify(k)});const tn=(0,L.xO)(Object.assign({key:I.config.apiKey},St)).slice(1),Fn=yield I._getAdditionalHeaders();return Fn["Content-Type"]="application/json",I.languageCode&&(Fn["X-Firebase-Locale"]=I.languageCode),Pt.fetch()(yt(I,I.config.apiHost,_,tn),Object.assign({method:f,headers:Fn,referrerPolicy:"no-referrer"},we))}))})).apply(this,arguments)}function At(I,f,_){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,d.Z)(function*(I,f,_){I._canInitEmulator=!1;const k=Object.assign(Object.assign({},Qt),f);try{const ie=new Ht(I),we=yield Promise.race([_(),ie.promise]);ie.clearNetworkTimeout();const St=yield we.json();if("needConfirmation"in St)throw Tt(I,"account-exists-with-different-credential",St);if(we.ok&&!("errorMessage"in St))return St;{const tn=we.ok?St.errorMessage:St.error.message,[Fn,ti]=tn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fn)throw Tt(I,"credential-already-in-use",St);if("EMAIL_EXISTS"===Fn)throw Tt(I,"email-already-in-use",St);if("USER_DISABLED"===Fn)throw Tt(I,"user-disabled",St);const hi=k[Fn]||Fn.toLowerCase().replace(/[_\s]+/g,"-");if(ti)throw be(I,hi,ti);ue(I,hi)}}catch(ie){if(ie instanceof L.ZR)throw ie;ue(I,"network-request-failed",{message:String(ie)})}})).apply(this,arguments)}function Xe(I,f,_,k){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(I,f,_,k,ie={}){const we=yield gn(I,f,_,k,ie);return"mfaPendingCredential"in we&&ue(I,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function yt(I,f,_,k){const ie=`${f}${_}?${k}`;return I.config.emulator?kt(I.config,ie):`${I.config.apiScheme}://${ie}`}class Ht{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,k)=>{this.timer=setTimeout(()=>k(De(this.auth,"network-request-failed")),Gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tt(I,f,_){const k={appName:I.name};_.email&&(k.email=_.email),_.phoneNumber&&(k.phoneNumber=_.phoneNumber);const ie=De(I,f,k);return ie.customData._tokenResponse=_,ie}function Jt(){return(Jt=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ut(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function mt(){return(mt=(0,d.Z)(function*(I,f=!1){const _=(0,L.m9)(I),k=yield _.getIdToken(f),ie=We(k);K(ie&&ie.exp&&ie.auth_time&&ie.iat,_.auth,"internal-error");const we="object"==typeof ie.firebase?ie.firebase:void 0,St=we?.sign_in_provider;return{claims:ie,token:k,authTime:Ut(at(ie.auth_time)),issuedAtTime:Ut(at(ie.iat)),expirationTime:Ut(at(ie.exp)),signInProvider:St||null,signInSecondFactor:we?.sign_in_second_factor||null}})).apply(this,arguments)}function at(I){return 1e3*Number(I)}function We(I){const[f,_,k]=I.split(".");if(void 0===f||void 0===_||void 0===k)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,L.tV)(_);return ie?JSON.parse(ie):(bt("Failed to decode base64 JWT payload"),null)}catch(ie){return bt("Caught error parsing JWT payload as JSON",ie?.toString()),null}}function Ae(I,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(I,f,_=!1){if(_)return f;try{return yield f}catch(k){throw k instanceof L.ZR&&function ln({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(k)&&I.auth.currentUser===I&&(yield I.auth.signOut()),k}})).apply(this,arguments)}class Mt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const ie=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const k=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),k)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&f.schedule(!0))}f.schedule()})()}}class Kt{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ut(this.lastLoginAt),this.creationTime=Ut(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(I){return ke.apply(this,arguments)}function ke(){return ke=(0,d.Z)(function*(I){var f;const _=I.auth,k=yield I.getIdToken(),ie=yield Ae(I,function ci(I,f){return Hn.apply(this,arguments)}(_,{idToken:k}));K(ie?.users.length,_,"internal-error");const we=ie.users[0];I._notifyReloadListener(we);const St=null!==(f=we.providerUserInfo)&&void 0!==f&&f.length?function di(I){return I.map(f=>{var{providerId:_}=f,k=(0,ne._T)(f,["providerId"]);return{providerId:_,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}(we.providerUserInfo):[],tn=function In(I,f){return[...I.filter(k=>!f.some(ie=>ie.providerId===k.providerId)),...f]}(I.providerData,St),hi=!!I.isAnonymous&&!(I.email&&we.passwordHash||tn?.length),cr={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:tn,metadata:new Kt(we.createdAt,we.lastLoginAt),isAnonymous:hi};Object.assign(I,cr)}),ke.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(I){const f=(0,L.m9)(I);yield An(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(I,f){const _=yield At(I,{},(0,d.Z)(function*(){const k=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:ie,apiKey:we}=I.config,St=yt(I,ie,"/v1/token",`key=${we}`),tn=yield I._getAdditionalHeaders();return tn["Content-Type"]="application/x-www-form-urlencoded",Pt.fetch()(St,{method:"POST",headers:tn,body:k})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){K(f.idToken,"internal-error"),K(typeof f.idToken<"u","internal-error"),K(typeof f.refreshToken<"u","internal-error");const _="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Qe(I){const f=We(I);return K(f,"internal-error"),K(typeof f.exp<"u","internal-error"),K(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}getToken(f,_=!1){var k=this;return(0,d.Z)(function*(){return K(!k.accessToken||k.refreshToken,f,"user-token-expired"),_||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(f,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var k=this;return(0,d.Z)(function*(){const{accessToken:ie,refreshToken:we,expiresIn:St}=yield function Si(I,f){return mi.apply(this,arguments)}(f,_);k.updateTokensAndExpiration(ie,we,Number(St))})()}updateTokensAndExpiration(f,_,k){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(f,_){const{refreshToken:k,accessToken:ie,expirationTime:we}=_,St=new Yt;return k&&(K("string"==typeof k,"internal-error",{appName:f}),St.refreshToken=k),ie&&(K("string"==typeof ie,"internal-error",{appName:f}),St.accessToken=ie),we&&(K("number"==typeof we,"internal-error",{appName:f}),St.expirationTime=we),St}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function et(I,f){K("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class st{constructor(f){var{uid:_,auth:k,stsTokenManager:ie}=f,we=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=k,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new Kt(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,d.Z)(function*(){const k=yield Ae(_,_.stsTokenManager.getToken(_.auth,f));return K(k,_.auth,"internal-error"),_.accessToken!==k&&(_.accessToken=k,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),k})()}getIdTokenResult(f){return function Ve(I){return mt.apply(this,arguments)}(this,f)}reload(){return function gt(I){return $t.apply(this,arguments)}(this)}_assign(f){this!==f&&(K(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const _=new st(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(f){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var k=this;return(0,d.Z)(function*(){let ie=!1;f.idToken&&f.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(f),ie=!0),_&&(yield An(k)),yield k.auth._persistUserIfCurrent(k),ie&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var f=this;return(0,d.Z)(function*(){const _=yield f.getIdToken();return yield Ae(f,function un(I,f){return Jt.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var k,ie,we,St,tn,Fn,ti,hi;const cr=null!==(k=_.displayName)&&void 0!==k?k:void 0,da=null!==(ie=_.email)&&void 0!==ie?ie:void 0,ia=null!==(we=_.phoneNumber)&&void 0!==we?we:void 0,Bd=null!==(St=_.photoURL)&&void 0!==St?St:void 0,gc=null!==(tn=_.tenantId)&&void 0!==tn?tn:void 0,Lu=null!==(Fn=_._redirectEventId)&&void 0!==Fn?Fn:void 0,Ud=null!==(ti=_.createdAt)&&void 0!==ti?ti:void 0,Sl=null!==(hi=_.lastLoginAt)&&void 0!==hi?hi:void 0,{uid:jl,emailVerified:al,isAnonymous:Vs,providerData:_c,stsTokenManager:qa}=_;K(jl&&qa,f,"internal-error");const vc=Yt.fromJSON(this.name,qa);K("string"==typeof jl,f,"internal-error"),et(cr,f.name),et(da,f.name),K("boolean"==typeof al,f,"internal-error"),K("boolean"==typeof Vs,f,"internal-error"),et(ia,f.name),et(Bd,f.name),et(gc,f.name),et(Lu,f.name),et(Ud,f.name),et(Sl,f.name);const Hl=new st({uid:jl,auth:f,email:da,emailVerified:al,displayName:cr,isAnonymous:Vs,photoURL:Bd,phoneNumber:ia,tenantId:gc,stsTokenManager:vc,createdAt:Ud,lastLoginAt:Sl});return _c&&Array.isArray(_c)&&(Hl.providerData=_c.map(yc=>Object.assign({},yc))),Lu&&(Hl._redirectEventId=Lu),Hl}static _fromIdTokenResponse(f,_,k=!1){return(0,d.Z)(function*(){const ie=new Yt;ie.updateFromServerResponse(_);const we=new st({uid:_.localId,auth:f,stsTokenManager:ie,isAnonymous:k});return yield An(we),we})()}}const Be=new Map;function Oe(I){Fe(I instanceof Function,"Expected a class definition");let f=Be.get(I);return f?(Fe(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,Be.set(I,f),f)}const xt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,k){var ie=this;return(0,d.Z)(function*(){ie.storage[_]=k})()}_get(_){var k=this;return(0,d.Z)(function*(){const ie=k.storage[_];return void 0===ie?null:ie})()}_remove(_){var k=this;return(0,d.Z)(function*(){delete k.storage[_]})()}_addListener(_,k){}_removeListener(_,k){}}return I.type="NONE",I})();function jt(I,f,_){return`firebase:${I}:${f}:${_}`}class Te{constructor(f,_,k){this.persistence=f,this.auth=_,this.userKey=k;const{config:ie,name:we}=this.auth;this.fullUserKey=jt(this.userKey,ie.apiKey,we),this.fullPersistenceKey=jt("persistence",ie.apiKey,we),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?st._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,d.Z)(function*(){if(_.persistence===f)return;const k=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,k?_.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,k="authUser"){return(0,d.Z)(function*(){if(!_.length)return new Te(Oe(xt),f,k);const ie=(yield Promise.all(_.map(function(){var ti=(0,d.Z)(function*(hi){if(yield hi._isAvailable())return hi});return function(hi){return ti.apply(this,arguments)}}()))).filter(ti=>ti);let we=ie[0]||Oe(xt);const St=jt(k,f.config.apiKey,f.name);let tn=null;for(const ti of _)try{const hi=yield ti._get(St);if(hi){const cr=st._fromJSON(f,hi);ti!==we&&(tn=cr),we=ti;break}}catch{}const Fn=ie.filter(ti=>ti._shouldAllowMigration);return we._shouldAllowMigration&&Fn.length?(we=Fn[0],tn&&(yield we._set(St,tn.toJSON())),yield Promise.all(_.map(function(){var ti=(0,d.Z)(function*(hi){if(hi!==we)try{yield hi._remove(St)}catch{}});return function(hi){return ti.apply(this,arguments)}}())),new Te(we,f,k)):new Te(we,f,k)})()}}function oe(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(le(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(H(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ve(f))return"Blackberry";if(Et(f))return"Webos";if(U(f))return"Safari";if((f.includes("chrome/")||$(f))&&!f.includes("edge/"))return"Chrome";if(re(f))return"Android";{const k=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function H(I=(0,L.z$)()){return/firefox\//i.test(I)}function U(I=(0,L.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function $(I=(0,L.z$)()){return/crios\//i.test(I)}function le(I=(0,L.z$)()){return/iemobile/i.test(I)}function re(I=(0,L.z$)()){return/android/i.test(I)}function ve(I=(0,L.z$)()){return/blackberry/i.test(I)}function Et(I=(0,L.z$)()){return/webos/i.test(I)}function wt(I=(0,L.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ot(I=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Mn(I=(0,L.z$)()){return wt(I)||re(I)||Et(I)||ve(I)||/windows phone/i.test(I)||le(I)}function bi(I,f=[]){let _;switch(I){case"Browser":_=oe((0,L.z$)());break;case"Worker":_=`${oe((0,L.z$)())}-${I}`;break;default:_=I}const k=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${g.SDK_VERSION}/${k}`}function It(){return(It=(0,d.Z)(function*(I){return(yield gn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bn(I,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(I,f){return gn(I,"GET","/v2/recaptchaConfig",dn(I,f))})).apply(this,arguments)}function On(I){return void 0!==I&&void 0!==I.getResponse}function Ln(I){return void 0!==I&&void 0!==I.enterprise}class ai{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function gi(I){return new Promise((f,_)=>{const k=document.createElement("script");k.setAttribute("src",I),k.onload=f,k.onerror=ie=>{const we=De("internal-error");we.customData=ie,_(we)},k.type="text/javascript",k.charset="UTF-8",function Wi(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(k)})}function vr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class yr{constructor(f){this.type="recaptcha-enterprise",this.auth=Ui(f)}verify(f="verify",_=!1){var k=this;return(0,d.Z)(function*(){function we(){return we=(0,d.Z)(function*(tn){if(!_){if(null==tn.tenantId&&null!=tn._agentRecaptchaConfig)return tn._agentRecaptchaConfig.siteKey;if(null!=tn.tenantId&&void 0!==tn._tenantRecaptchaConfigs[tn.tenantId])return tn._tenantRecaptchaConfigs[tn.tenantId].siteKey}return new Promise(function(){var Fn=(0,d.Z)(function*(ti,hi){bn(tn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(cr=>{if(void 0!==cr.recaptchaKey){const da=new ai(cr);return null==tn.tenantId?tn._agentRecaptchaConfig=da:tn._tenantRecaptchaConfigs[tn.tenantId]=da,ti(da.siteKey)}hi(new Error("recaptcha Enterprise site key undefined"))}).catch(cr=>{hi(cr)})});return function(ti,hi){return Fn.apply(this,arguments)}}())}),we.apply(this,arguments)}function St(tn,Fn,ti){const hi=window.grecaptcha;Ln(hi)?hi.enterprise.ready(()=>{hi.enterprise.execute(tn,{action:f}).then(cr=>{Fn(cr)}).catch(()=>{Fn("NO_RECAPTCHA")})}):ti(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((tn,Fn)=>{(function ie(tn){return we.apply(this,arguments)})(k.auth).then(ti=>{if(!_&&Ln(window.grecaptcha))St(ti,tn,Fn);else{if(typeof window>"u")return void Fn(new Error("RecaptchaVerifier is only supported in browser"));gi("https://www.google.com/recaptcha/enterprise.js?render="+ti).then(()=>{St(ti,tn,Fn)}).catch(hi=>{Fn(hi)})}}).catch(ti=>{Fn(ti)})})})()}}function oo(I,f,_){return fr.apply(this,arguments)}function fr(){return(fr=(0,d.Z)(function*(I,f,_,k=!1){const ie=new yr(I);let we;try{we=yield ie.verify(_)}catch{we=yield ie.verify(_,!0)}const St=Object.assign({},f);return Object.assign(St,k?{captchaResp:we}:{captchaResponse:we}),Object.assign(St,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(St,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),St})).apply(this,arguments)}class to{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const k=we=>new Promise((St,tn)=>{try{St(f(we))}catch(Fn){tn(Fn)}});k.onAbort=_,this.queue.push(k);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===f)return;const k=[];try{for(const ie of _.queue)yield ie(f),ie.onAbort&&k.push(ie.onAbort)}catch(ie){k.reverse();for(const we of k)try{we()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:ie?.message})}})()}}class yo{constructor(f,_,k,ie){this.app=f,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=k,this.config=ie,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new es(this),this.idTokenSubscription=new es(this),this.beforeStateQueue=new to(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=ie.sdkClientVersion}_initializeWithPersistence(f,_){var k=this;return _&&(this._popupRedirectResolver=Oe(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var ie,we;if(!k._deleted&&(k.persistenceManager=yield Te.create(k,f),!k._deleted)){if(null!==(ie=k._popupRedirectResolver)&&void 0!==ie&&ie._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(_),k.lastNotifiedUid=(null===(we=k.currentUser)||void 0===we?void 0:we.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUser(f){var _=this;return(0,d.Z)(function*(){var k;const ie=yield _.assertedPersistence.getCurrentUser();let we=ie,St=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const tn=null===(k=_.redirectUser)||void 0===k?void 0:k._redirectEventId,Fn=we?._redirectEventId,ti=yield _.tryRedirectSignIn(f);(!tn||tn===Fn)&&ti?.user&&(we=ti.user,St=!0)}if(!we)return _.directlySetCurrentUser(null);if(!we._redirectEventId){if(St)try{yield _.beforeStateQueue.runMiddleware(we)}catch(tn){we=ie,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(tn))}return we?_.reloadAndSetCurrentUserOrClear(we):_.directlySetCurrentUser(null)}return K(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===we._redirectEventId?_.directlySetCurrentUser(we):_.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(f){var _=this;return(0,d.Z)(function*(){let k=null;try{k=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch{yield _._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,d.Z)(function*(){try{yield An(f)}catch(k){if("auth/network-request-failed"!==k?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ht(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,d.Z)(function*(){const k=f?(0,L.m9)(f):null;return k&&K(k.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(k&&k._clone(_))})()}_updateCurrentUser(f,_=!1){var k=this;return(0,d.Z)(function*(){if(!k._deleted)return f&&K(k.tenantId===f.tenantId,k,"tenant-id-mismatch"),_||(yield k.beforeStateQueue.runMiddleware(f)),k.queue((0,d.Z)(function*(){yield k.directlySetCurrentUser(f),k.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(Oe(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const _=yield bn(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),k=new ai(_);null==f.tenantId?f._agentRecaptchaConfig=k:f._tenantRecaptchaConfigs[f.tenantId]=k,k.emailPasswordEnabled&&new yr(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,_,k){return this.registerStateListener(this.authStateSubscription,f,_,k)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,k){return this.registerStateListener(this.idTokenSubscription,f,_,k)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var k=this;return(0,d.Z)(function*(){const ie=yield k.getOrInitRedirectPersistenceManager(_);return null===f?ie.removeCurrentUser():ie.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const k=f&&Oe(f)||_._popupRedirectResolver;K(k,_,"argument-error"),_.redirectPersistenceManager=yield Te.create(_,[Oe(k._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,d.Z)(function*(){var k,ie;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(k=_._currentUser)||void 0===k?void 0:k._redirectEventId)===f?_._currentUser:(null===(ie=_.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,d.Z)(function*(){if(f===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,k,ie){if(this._deleted)return()=>{};const we="function"==typeof _?_:_.next.bind(_),St=this._isInitialized?Promise.resolve():this._initializationPromise;return K(St,this,"internal-error"),St.then(()=>we(this.currentUser)),"function"==typeof _?f.addObserver(_,k,ie):f.addObserver(_)}directlySetCurrentUser(f){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var _;const k={"X-Client-Version":f.clientVersion};f.app.options.appId&&(k["X-Firebase-gmpid"]=f.app.options.appId);const ie=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();ie&&(k["X-Firebase-Client"]=ie);const we=yield f._getAppCheckToken();return we&&(k["X-Firebase-AppCheck"]=we),k})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var _;const k=yield null===(_=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return k?.error&&function Re(I,...f){He.logLevel<=xe.in.WARN&&He.warn(`Auth (${g.SDK_VERSION}): ${I}`,...f)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function Ui(I){return(0,L.m9)(I)}class es{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function br(I,f,_){const k=Ui(I);K(k._canInitEmulator,k,"emulator-config-failed"),K(/^https?:\/\//.test(f),k,"invalid-emulator-scheme");const ie=!!_?.disableWarnings,we=Co(f),{host:St,port:tn}=function Wr(I){const f=Co(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!_)return{host:"",port:null};const k=_[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(k);if(ie){const we=ie[1];return{host:we,port:Ro(k.substr(we.length+1))}}{const[we,St]=k.split(":");return{host:we,port:Ro(St)}}}(f);k.config.emulator={url:`${we}//${St}${null===tn?"":`:${tn}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:St,port:tn,protocol:we.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function Ts(){function I(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Co(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function Ro(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class hs{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return Ge("not implemented")}_getIdTokenResponse(f){return Ge("not implemented")}_linkToIdToken(f,_){return Ge("not implemented")}_getReauthenticationResolver(f){return Ge("not implemented")}}function Uo(I,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:resetPassword",dn(I,f))})).apply(this,arguments)}function mr(I,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:update",dn(I,f))})).apply(this,arguments)}function qi(I,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,d.Z)(function*(I,f){return Xe(I,"POST","/v1/accounts:signInWithPassword",dn(I,f))})).apply(this,arguments)}function zr(I,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:sendOobCode",dn(I,f))})).apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(I,f){return zr(I,f)})).apply(this,arguments)}function ct(I,f){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)(function*(I,f){return zr(I,f)})).apply(this,arguments)}function rn(I,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(I,f){return zr(I,f)})).apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(I,f){return zr(I,f)})).apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(I,f){return Xe(I,"POST","/v1/accounts:signInWithEmailLink",dn(I,f))})).apply(this,arguments)}function or(){return(or=(0,d.Z)(function*(I,f){return Xe(I,"POST","/v1/accounts:signInWithEmailLink",dn(I,f))})).apply(this,arguments)}class Qi extends hs{constructor(f,_,k,ie=null){super("password",k),this._email=f,this._password=_,this._tenantId=ie}static _fromEmailAndPassword(f,_){return new Qi(f,_,"password")}static _fromEmailAndCode(f,_,k=null){return new Qi(f,_,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,d.Z)(function*(){var k;switch(_.signInMethod){case"password":const ie={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=f._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const we=yield oo(f,ie,"signInWithPassword");return qi(f,we)}return qi(f,ie).catch(function(){var we=(0,d.Z)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const tn=yield oo(f,ie,"signInWithPassword");return qi(f,tn)}return Promise.reject(St)});return function(St){return we.apply(this,arguments)}}());case"emailLink":return function ii(I,f){return ui.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:ue(f,"internal-error")}})()}_linkToIdToken(f,_){var k=this;return(0,d.Z)(function*(){switch(k.signInMethod){case"password":return mr(f,{idToken:_,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function kr(I,f){return or.apply(this,arguments)}(f,{idToken:_,email:k._email,oobCode:k._password});default:ue(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function $i(I,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(I,f){return Xe(I,"POST","/v1/accounts:signInWithIdp",dn(I,f))})).apply(this,arguments)}class ri extends hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new ri(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):ue("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:k,signInMethod:ie}=_,we=(0,ne._T)(_,["providerId","signInMethod"]);if(!k||!ie)return null;const St=new ri(k,ie);return St.idToken=we.idToken||void 0,St.accessToken=we.accessToken||void 0,St.secret=we.secret,St.nonce=we.nonce,St.pendingToken=we.pendingToken||null,St}_getIdTokenResponse(f){return $i(f,this.buildRequest())}_linkToIdToken(f,_){const k=this.buildRequest();return k.idToken=_,$i(f,k)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,$i(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,L.xO)(_)}return f}}function pr(){return(pr=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:sendVerificationCode",dn(I,f))})).apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(I,f){return Xe(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,f))})).apply(this,arguments)}function Ms(){return(Ms=(0,d.Z)(function*(I,f){const _=yield Xe(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,f));if(_.temporaryProof)throw Tt(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ts={USER_NOT_FOUND:"user-not-found"};function Fs(){return(Fs=(0,d.Z)(function*(I,f){return Xe(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ts)})).apply(this,arguments)}class sr extends hs{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new sr({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new sr({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function Yr(I,f){return dr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function qo(I,f){return Ms.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ms(I,f){return Fs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:k,verificationCode:ie}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:k,code:ie}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:k,phoneNumber:ie,temporaryProof:we}=f;return k||_||ie||we?new sr({verificationId:_,verificationCode:k,phoneNumber:ie,temporaryProof:we}):null}}class So{constructor(f){var _,k,ie,we,St,tn;const Fn=(0,L.zd)((0,L.pd)(f)),ti=null!==(_=Fn.apiKey)&&void 0!==_?_:null,hi=null!==(k=Fn.oobCode)&&void 0!==k?k:null,cr=function ar(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=Fn.mode)&&void 0!==ie?ie:null);K(ti&&hi&&cr,"argument-error"),this.apiKey=ti,this.operation=cr,this.code=hi,this.continueUrl=null!==(we=Fn.continueUrl)&&void 0!==we?we:null,this.languageCode=null!==(St=Fn.languageCode)&&void 0!==St?St:null,this.tenantId=null!==(tn=Fn.tenantId)&&void 0!==tn?tn:null}static parseLink(f){const _=function ps(I){const f=(0,L.zd)((0,L.pd)(I)).link,_=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,k=(0,L.zd)((0,L.pd)(I)).deep_link_id;return(k?(0,L.zd)((0,L.pd)(k)).link:null)||k||_||f||I}(f);try{return new So(_)}catch{return null}}}let Vi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,k){return Qi._fromEmailAndPassword(_,k)}static credentialWithLink(_,k){const ie=So.parseLink(k);return K(ie,"argument-error"),Qi._fromEmailAndCode(_,ie.code,ie.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class bo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Po extends bo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class mo extends Po{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return K("providerId"in _&&"signInMethod"in _,"argument-error"),ri._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return K(f.idToken||f.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return mo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return mo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:k,oauthTokenSecret:ie,pendingToken:we,nonce:St,providerId:tn}=f;if(!k&&!ie&&!_&&!we||!tn)return null;try{return new mo(tn)._credential({idToken:_,accessToken:k,nonce:St,pendingToken:we})}catch{return null}}}let jo=(()=>{class I extends Po{constructor(){super("facebook.com")}static credential(_){return ri._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),As=(()=>{class I extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(_,k){return ri._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:k})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:k,oauthAccessToken:ie}=_;if(!k&&!ie)return null;try{return I.credential(k,ie)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),ks=(()=>{class I extends Po{constructor(){super("github.com")}static credential(_){return ri._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class gs extends hs{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return $i(f,this.buildRequest())}_linkToIdToken(f,_){const k=this.buildRequest();return k.idToken=_,$i(f,k)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,$i(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:k,signInMethod:ie,pendingToken:we}=_;return k&&ie&&we&&k===ie?new gs(k,we):null}static _create(f,_){return new gs(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends bo{constructor(f){K(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Mr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Mr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=gs.fromJSON(f);return K(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:k}=f;if(!_||!k)return null;try{return gs._create(k,_)}catch{return null}}}let po=(()=>{class I extends Po{constructor(){super("twitter.com")}static credential(_,k){return ri._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:k})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:k,oauthTokenSecret:ie}=_;if(!k||!ie)return null;try{return I.credential(k,ie)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ur(I,f){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(I,f){return Xe(I,"POST","/v1/accounts:signUp",dn(I,f))})).apply(this,arguments)}class Gi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,k,ie=!1){return(0,d.Z)(function*(){const we=yield st._fromIdTokenResponse(f,k,ie),St=go(k);return new Gi({user:we,providerId:St,_tokenResponse:k,operationType:_})})()}static _forOperation(f,_,k){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(k,!0);const ie=go(k);return new Gi({user:f,providerId:ie,_tokenResponse:k,operationType:_})})()}}function go(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ho(I){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(I){var f;const _=Ui(I);if(yield _._initializationPromise,null!==(f=_.currentUser)&&void 0!==f&&f.isAnonymous)return new Gi({user:_.currentUser,providerId:null,operationType:"signIn"});const k=yield ur(_,{returnSecureToken:!0}),ie=yield Gi._fromIdTokenResponse(_,"signIn",k,!0);return yield _._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class Ze extends L.ZR{constructor(f,_,k,ie){var we;super(_.code,_.message),this.operationType=k,this.user=ie,Object.setPrototypeOf(this,Ze.prototype),this.customData={appName:f.name,tenantId:null!==(we=f.tenantId)&&void 0!==we?we:void 0,_serverResponse:_.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(f,_,k,ie){return new Ze(f,_,k,ie)}}function je(I,f,_,k){return("reauthenticate"===f?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(we=>{throw"auth/multi-factor-auth-required"===we.code?Ze._fromErrorAndOperation(I,we,f,k):we})}function Y(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function ot(I,f){return hn.apply(this,arguments)}function hn(){return hn=(0,d.Z)(function*(I,f){const _=(0,L.m9)(I);yield lr(!0,_,f);const{providerUserInfo:k}=yield function yn(I,f){return Gn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),ie=Y(k||[]);return _.providerData=_.providerData.filter(we=>ie.has(we.providerId)),ie.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),hn.apply(this,arguments)}function vn(I,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(I,f,_=!1){const k=yield Ae(I,f._linkToIdToken(I.auth,yield I.getIdToken()),_);return Gi._forOperation(I,"link",k)})).apply(this,arguments)}function lr(I,f,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(I,f,_){yield An(f);const ie=!1===I?"provider-already-linked":"no-such-provider";K(Y(f.providerData).has(_)===I,f.auth,ie)})).apply(this,arguments)}function wo(I,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(I,f,_=!1){const{auth:k}=I,ie="reauthenticate";try{const we=yield Ae(I,je(k,ie,f,I),_);K(we.idToken,k,"internal-error");const St=We(we.idToken);K(St,k,"internal-error");const{sub:tn}=St;return K(I.uid===tn,k,"user-mismatch"),Gi._forOperation(I,ie,we)}catch(we){throw"auth/user-not-found"===we?.code&&ue(k,"user-mismatch"),we}})).apply(this,arguments)}function ns(I,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(I,f,_=!1){const k="signIn",ie=yield je(I,k,f),we=yield Gi._fromIdTokenResponse(I,k,ie);return _||(yield I._updateCurrentUser(we.user)),we})).apply(this,arguments)}function W(I,f){return j.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(I,f){return ns(Ui(I),f)})).apply(this,arguments)}function v(I,f){return D.apply(this,arguments)}function D(){return(D=(0,d.Z)(function*(I,f){const _=(0,L.m9)(I);return yield lr(!1,_,f.providerId),vn(_,f)})).apply(this,arguments)}function J(I,f){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(I,f){return wo((0,L.m9)(I),f)})).apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(I,f){return Xe(I,"POST","/v1/accounts:signInWithCustomToken",dn(I,f))})).apply(this,arguments)}function En(I,f){return zn.apply(this,arguments)}function zn(){return zn=(0,d.Z)(function*(I,f){const _=Ui(I),k=yield function dt(I,f){return Nt.apply(this,arguments)}(_,{token:f,returnSecureToken:!0}),ie=yield Gi._fromIdTokenResponse(_,"signIn",k);return yield _._updateCurrentUser(ie.user),ie}),zn.apply(this,arguments)}class Bn{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?wi._fromServerResponse(f,_):"totpInfo"in _?Pi._fromServerResponse(f,_):ue(f,"internal-error")}}class wi extends Bn{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new wi(_)}}class Pi extends Bn{constructor(f){super("totp",f)}static _fromServerResponse(f,_){return new Pi(_)}}function wr(I,f,_){var k;K((null===(k=_.url)||void 0===k?void 0:k.length)>0,I,"invalid-continue-uri"),K(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(K(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(K(_.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function Pr(I,f,_){return xr.apply(this,arguments)}function xr(){return xr=(0,d.Z)(function*(I,f,_){var k;const ie=Ui(I),we={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=ie._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const St=yield oo(ie,we,"getOobCode",!0);_&&wr(ie,St,_),yield ct(ie,St)}else _&&wr(ie,we,_),yield ct(ie,we).catch(function(){var St=(0,d.Z)(function*(tn){if("auth/missing-recaptcha-token"!==tn.code)return Promise.reject(tn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Fn=yield oo(ie,we,"getOobCode",!0);_&&wr(ie,Fn,_),yield ct(ie,Fn)}});return function(tn){return St.apply(this,arguments)}}())}),xr.apply(this,arguments)}function Ni(I,f,_){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(I,f,_){yield Uo((0,L.m9)(I),{oobCode:f,newPassword:_})})).apply(this,arguments)}function xi(I,f){return No.apply(this,arguments)}function No(){return No=(0,d.Z)(function*(I,f){yield function fs(I,f){return si.apply(this,arguments)}((0,L.m9)(I),{oobCode:f})}),No.apply(this,arguments)}function no(I,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(I,f){const _=(0,L.m9)(I),k=yield Uo(_,{oobCode:f}),ie=k.requestType;switch(K(ie,_,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(k.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(k.mfaInfo,_,"internal-error");default:K(k.email,_,"internal-error")}let we=null;return k.mfaInfo&&(we=Bn._fromServerResponse(Ui(_),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:we},operation:ie}})).apply(this,arguments)}function Fr(I,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(I,f){const{data:_}=yield no((0,L.m9)(I),f);return _.email})).apply(this,arguments)}function vs(I,f,_){return qr.apply(this,arguments)}function qr(){return qr=(0,d.Z)(function*(I,f,_){var k;const ie=Ui(I),we={returnSecureToken:!0,email:f,password:_,clientType:"CLIENT_TYPE_WEB"};let St;if(null!==(k=ie._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const ti=yield oo(ie,we,"signUpPassword");St=ur(ie,ti)}else St=ur(ie,we).catch(function(){var ti=(0,d.Z)(function*(hi){if("auth/missing-recaptcha-token"===hi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const cr=yield oo(ie,we,"signUpPassword");return ur(ie,cr)}return Promise.reject(hi)});return function(hi){return ti.apply(this,arguments)}}());const tn=yield St.catch(ti=>Promise.reject(ti)),Fn=yield Gi._fromIdTokenResponse(ie,"signIn",tn);return yield ie._updateCurrentUser(Fn.user),Fn}),qr.apply(this,arguments)}function ys(I,f,_){return W((0,L.m9)(I),Vi.credential(f,_))}function is(I,f,_){return zs.apply(this,arguments)}function zs(){return zs=(0,d.Z)(function*(I,f,_){var k;const ie=Ui(I),we={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function St(tn,Fn){K(Fn.handleCodeInApp,ie,"argument-error"),Fn&&wr(ie,tn,Fn)}if(null!==(k=ie._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const tn=yield oo(ie,we,"getOobCode",!0);St(tn,_),yield rn(ie,tn)}else St(we,_),yield rn(ie,we).catch(function(){var tn=(0,d.Z)(function*(Fn){if("auth/missing-recaptcha-token"!==Fn.code)return Promise.reject(Fn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ti=yield oo(ie,we,"getOobCode",!0);St(ti,_),yield rn(ie,ti)}});return function(Fn){return tn.apply(this,arguments)}}())}),zs.apply(this,arguments)}function ra(I,f){const _=So.parseLink(f);return"EMAIL_SIGNIN"===_?.operation}function Ea(I,f,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(I,f,_){const k=(0,L.m9)(I),ie=Vi.credentialWithLink(f,_||ze());return K(ie._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),W(k,ie)})).apply(this,arguments)}function oa(){return(oa=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:createAuthUri",dn(I,f))})).apply(this,arguments)}function sa(I,f){return ma.apply(this,arguments)}function ma(){return ma=(0,d.Z)(function*(I,f){const k={identifier:f,continueUri:vt()?ze():"http://localhost"},{signinMethods:ie}=yield function _l(I,f){return oa.apply(this,arguments)}((0,L.m9)(I),k);return ie||[]}),ma.apply(this,arguments)}function pa(I,f){return $s.apply(this,arguments)}function $s(){return $s=(0,d.Z)(function*(I,f){const _=(0,L.m9)(I),ie={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&wr(_.auth,ie,f);const{email:we}=yield function Do(I,f){return _t.apply(this,arguments)}(_.auth,ie);we!==I.email&&(yield I.reload())}),$s.apply(this,arguments)}function aa(I,f,_){return ao.apply(this,arguments)}function ao(){return ao=(0,d.Z)(function*(I,f,_){const k=(0,L.m9)(I),we={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};_&&wr(k.auth,we,_);const{email:St}=yield function nn(I,f){return Rn.apply(this,arguments)}(k.auth,we);St!==I.email&&(yield I.reload())}),ao.apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(I,f){return gn(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Oa(I,f){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,d.Z)(function*(I,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const k=(0,L.m9)(I),we={idToken:yield k.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},St=yield Ae(k,function Ns(I,f){return qs.apply(this,arguments)}(k.auth,we));k.displayName=St.displayName||null,k.photoURL=St.photoUrl||null;const tn=k.providerData.find(({providerId:Fn})=>"password"===Fn);tn&&(tn.displayName=k.displayName,tn.photoURL=k.photoURL),yield k._updateTokensIfNecessary(St)}),Ca.apply(this,arguments)}function Qs(I,f){return zo((0,L.m9)(I),f,null)}function rs(I,f){return zo((0,L.m9)(I),null,f)}function zo(I,f,_){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(I,f,_){const{auth:k}=I,we={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(we.email=f),_&&(we.password=_);const St=yield Ae(I,mr(k,we));yield I._updateTokensIfNecessary(St,!0)})).apply(this,arguments)}class Xi{constructor(f,_,k={}){this.isNewUser=f,this.providerId=_,this.profile=k}}class To extends Xi{constructor(f,_,k,ie){super(f,_,k),this.username=ie}}class Gs extends Xi{constructor(f,_){super(f,"facebook.com",_)}}class Ai extends To{constructor(f,_){super(f,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ga extends Xi{constructor(f,_){super(f,"google.com",_)}}class R extends To{constructor(f,_,k){super(f,"twitter.com",_,k)}}function Q(I){const{user:f,_tokenResponse:_}=I;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ls(I){var f,_;if(!I)return null;const{providerId:k}=I,ie=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},we=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!k&&I?.idToken){const St=null===(_=null===(f=We(I.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(St)return new Xi(we,"anonymous"!==St&&"custom"!==St?St:null)}if(!k)return null;switch(k){case"facebook.com":return new Gs(we,ie);case"github.com":return new Ai(we,ie);case"google.com":return new ga(we,ie);case"twitter.com":return new R(we,ie,I.screenName||null);case"custom":case"anonymous":return new Xi(we,null);default:return new Xi(we,k,ie)}}(_)}class nr{constructor(f,_,k){this.type=f,this.credential=_,this.auth=k}static _fromIdtoken(f,_){return new nr("enroll",f,_)}static _fromMfaPendingCredential(f){return new nr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,k;if(f?.multiFactorSession){if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.pendingCredential)return nr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(k=f.multiFactorSession)&&void 0!==k&&k.idToken)return nr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Un{constructor(f,_,k){this.session=f,this.hints=_,this.signInResolver=k}static _fromError(f,_){const k=Ui(f),ie=_.customData._serverResponse,we=(ie.mfaInfo||[]).map(tn=>Bn._fromServerResponse(k,tn));K(ie.mfaPendingCredential,k,"internal-error");const St=nr._fromMfaPendingCredential(ie.mfaPendingCredential);return new Un(St,we,function(){var tn=(0,d.Z)(function*(Fn){const ti=yield Fn._process(k,St);delete ie.mfaInfo,delete ie.mfaPendingCredential;const hi=Object.assign(Object.assign({},ie),{idToken:ti.idToken,refreshToken:ti.refreshToken});switch(_.operationType){case"signIn":const cr=yield Gi._fromIdTokenResponse(k,_.operationType,hi);return yield k._updateCurrentUser(cr.user),cr;case"reauthenticate":return K(_.user,k,"internal-error"),Gi._forOperation(_.user,_.operationType,hi);default:ue(k,"internal-error")}});return function(Fn){return tn.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,d.Z)(function*(){return _.signInResolver(f)})()}}function $r(I,f){var _;const k=(0,L.m9)(I),ie=f;return K(f.customData.operationType,k,"argument-error"),K(null===(_=ie.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,k,"argument-error"),Un._fromError(k,ie)}class ss{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(k=>Bn._fromServerResponse(f.auth,k)))})}static _fromUser(f){return new ss(f)}getSession(){var f=this;return(0,d.Z)(function*(){return nr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,_){var k=this;return(0,d.Z)(function*(){const ie=f,we=yield k.getSession(),St=yield Ae(k.user,ie._process(k.user.auth,we,_));return yield k.user._updateTokensIfNecessary(St),k.user.reload()})()}unenroll(f){var _=this;return(0,d.Z)(function*(){const k="string"==typeof f?f:f.uid,ie=yield _.user.getIdToken();try{const we=yield Ae(_.user,function Xs(I,f){return gn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(I,f))}(_.user.auth,{idToken:ie,mfaEnrollmentId:k}));_.enrolledFactors=_.enrolledFactors.filter(({uid:St})=>St!==k),yield _.user._updateTokensIfNecessary(we),yield _.user.reload()}catch(we){throw we}})()}}const Es=new WeakMap;function Nl(I){const f=(0,L.m9)(I);return Es.has(f)||Es.set(f,ss._fromUser(f)),Es.get(f)}const _a="__sak";class vl{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const as=(()=>{class I extends vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,k)=>this.onStorageEvent(_,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rl(){const I=(0,L.z$)();return U(I)||wt(I)}()&&function Ci(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const k of Object.keys(this.listeners)){const ie=this.storage.getItem(k),we=this.localCache[k];ie!==we&&_(k,we,ie)}}onStorageEvent(_,k=!1){if(!_.key)return void this.forAllChangedKeys((tn,Fn,ti)=>{this.notifyListeners(tn,ti)});const ie=_.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tn=this.storage.getItem(ie);if(_.newValue!==tn)null!==_.newValue?this.storage.setItem(ie,_.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===_.newValue&&!k)return}const we=()=>{const tn=this.storage.getItem(ie);!k&&this.localCache[ie]===tn||this.notifyListeners(ie,tn)},St=this.storage.getItem(ie);!function Xn(){return(0,L.w1)()&&10===document.documentMode}()||St===_.newValue||_.newValue===_.oldValue?we():setTimeout(we,10)}notifyListeners(_,k){this.localCache[_]=k;const ie=this.listeners[_];if(ie)for(const we of Array.from(ie))we(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,k,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:k,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(k)}_removeListener(_,k){this.listeners[_]&&(this.listeners[_].delete(k),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,k){var ie=()=>super._set,we=this;return(0,d.Z)(function*(){yield ie().call(we,_,k),we.localCache[_]=JSON.stringify(k)})()}_get(_){var k=()=>super._get,ie=this;return(0,d.Z)(function*(){const we=yield k().call(ie,_);return ie.localCache[_]=JSON.stringify(we),we})()}_remove(_){var k=()=>super._remove,ie=this;return(0,d.Z)(function*(){yield k().call(ie,_),delete ie.localCache[_]})()}}return I.type="LOCAL",I})(),Ra=(()=>{class I extends vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,k){}_removeListener(_,k){}}return I.type="SESSION",I})();let Cn=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const k=this.receivers.find(we=>we.isListeningto(_));if(k)return k;const ie=new I(_);return this.receivers.push(ie),ie}isListeningto(_){return this.eventTarget===_}handleEvent(_){var k=this;return(0,d.Z)(function*(){const ie=_,{eventId:we,eventType:St,data:tn}=ie.data,Fn=k.handlersMap[St];if(!Fn?.size)return;ie.ports[0].postMessage({status:"ack",eventId:we,eventType:St});const ti=Array.from(Fn).map(function(){var cr=(0,d.Z)(function*(da){return da(ie.origin,tn)});return function(da){return cr.apply(this,arguments)}}()),hi=yield function ol(I){return Promise.all(I.map(function(){var f=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(k){return{fulfilled:!1,reason:k}}});return function(_){return f.apply(this,arguments)}}()))}(ti);ie.ports[0].postMessage({status:"done",eventId:we,eventType:St,response:hi})})()}_subscribe(_,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(k)}_unsubscribe(_,k){this.handlersMap[_]&&k&&this.handlersMap[_].delete(k),(!k||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Dr(I="",f=10){let _="";for(let k=0;k<f;k++)_+=Math.floor(10*Math.random());return I+_}class Cs{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,k=50){var ie=this;return(0,d.Z)(function*(){const we=typeof MessageChannel<"u"?new MessageChannel:null;if(!we)throw new Error("connection_unavailable");let St,tn;return new Promise((Fn,ti)=>{const hi=Dr("",20);we.port1.start();const cr=setTimeout(()=>{ti(new Error("unsupported_event"))},k);tn={messageChannel:we,onMessage(da){const ia=da;if(ia.data.eventId===hi)switch(ia.data.status){case"ack":clearTimeout(cr),St=setTimeout(()=>{ti(new Error("timeout"))},3e3);break;case"done":clearTimeout(St),Fn(ia.data.response);break;default:clearTimeout(cr),clearTimeout(St),ti(new Error("invalid_response"))}}},ie.handlers.add(tn),we.port1.addEventListener("message",tn.onMessage),ie.target.postMessage({eventType:f,eventId:hi,data:_},[we.port2])}).finally(()=>{tn&&ie.removeMessageHandler(tn)})})()}}function co(){return window}function oi(){return typeof co().WorkerGlobalScope<"u"&&"function"==typeof co().importScripts}function y(){return(y=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const z="firebaseLocalStorageDb",Ye="firebaseLocalStorage",lt="fbase_key";class Lt{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function on(I,f){return I.transaction([Ye],f?"readwrite":"readonly").objectStore(Ye)}function qn(){const I=indexedDB.open(z,1);return new Promise((f,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const k=I.result;try{k.createObjectStore(Ye,{keyPath:lt})}catch(ie){_(ie)}}),I.addEventListener("success",(0,d.Z)(function*(){const k=I.result;k.objectStoreNames.contains(Ye)?f(k):(k.close(),yield function Vn(){const I=indexedDB.deleteDatabase(z);return new Lt(I).toPromise()}(),f(yield qn()))}))})}function Hi(I,f,_){return ki.apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(I,f,_){const k=on(I,!0).put({[lt]:f,value:_});return new Lt(k).toPromise()})).apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(I,f){const _=on(I,!1).get(f),k=yield new Lt(_).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function ei(I,f){const _=on(I,!0).delete(f);return new Lt(_).toPromise()}const Wn=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield qn()),_.db})()}_withRetries(_){var k=this;return(0,d.Z)(function*(){let ie=0;for(;;)try{const we=yield k._openDb();return yield _(we)}catch(we){if(ie++>3)throw we;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return oi()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=Cn._getInstance(function C(){return oi()?self:null}()),_.receiver._subscribe("keyChanged",function(){var k=(0,d.Z)(function*(ie,we){return{keyProcessed:(yield _._poll()).includes(we.key)}});return function(ie,we){return k.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var k=(0,d.Z)(function*(ie,we){return["keyChanged"]});return function(ie,we){return k.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var k,ie;if(_.activeServiceWorker=yield function V(){return y.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Cs(_.activeServiceWorker);const we=yield _.sender._send("ping",{},800);we&&null!==(k=we[0])&&void 0!==k&&k.fulfilled&&null!==(ie=we[0])&&void 0!==ie&&ie.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var k=this;return(0,d.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function p(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:_},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield qn();return yield Hi(_,_a,"1"),yield ei(_,_a),!0}catch{}return!1})()}_withPendingWrite(_){var k=this;return(0,d.Z)(function*(){k.pendingWrites++;try{yield _()}finally{k.pendingWrites--}})()}_set(_,k){var ie=this;return(0,d.Z)(function*(){return ie._withPendingWrite((0,d.Z)(function*(){return yield ie._withRetries(we=>Hi(we,_,k)),ie.localCache[_]=k,ie.notifyServiceWorker(_)}))})()}_get(_){var k=this;return(0,d.Z)(function*(){const ie=yield k._withRetries(we=>function fi(I,f){return pi.apply(this,arguments)}(we,_));return k.localCache[_]=ie,ie})()}_remove(_){var k=this;return(0,d.Z)(function*(){return k._withPendingWrite((0,d.Z)(function*(){return yield k._withRetries(ie=>ei(ie,_)),delete k.localCache[_],k.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const k=yield _._withRetries(St=>{const tn=on(St,!1).getAll();return new Lt(tn).toPromise()});if(!k)return[];if(0!==_.pendingWrites)return[];const ie=[],we=new Set;for(const{fbase_key:St,value:tn}of k)we.add(St),JSON.stringify(_.localCache[St])!==JSON.stringify(tn)&&(_.notifyListeners(St,tn),ie.push(St));for(const St of Object.keys(_.localCache))_.localCache[St]&&!we.has(St)&&(_.notifyListeners(St,null),ie.push(St));return ie})()}notifyListeners(_,k){this.localCache[_]=k;const ie=this.listeners[_];if(ie)for(const we of Array.from(ie))we(k)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(k)}_removeListener(_,k){this.listeners[_]&&(this.listeners[_].delete(k),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),O=1e12;class x{constructor(f){this.auth=f,this.counter=O,this._widgets=new Map}render(f,_){const k=this.counter;return this._widgets.set(k,new F(f,this.auth.name,_||{})),this.counter++,k}reset(f){var _;const k=f||O;null===(_=this._widgets.get(k))||void 0===_||_.delete(),this._widgets.delete(k)}getResponse(f){var _;return(null===(_=this._widgets.get(f||O))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,d.Z)(function*(){var k;return null===(k=_._widgets.get(f||O))||void 0===k||k.execute(),""})()}}class F{constructor(f,_,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof f?document.getElementById(f):f;K(ie,"argument-error",{appName:_}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ee(I){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<I;k++)f.push(_.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ye=vr("rcb"),Se=new ft(3e4,6e4);class Zt{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=co().grecaptcha)||void 0===f||!f.render)}load(f,_=""){return K(function Dn(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),f,"argument-error"),this.shouldResolveImmediately(_)&&On(co().grecaptcha)?Promise.resolve(co().grecaptcha):new Promise((k,ie)=>{const we=co().setTimeout(()=>{ie(De(f,"network-request-failed"))},Se.get());co()[ye]=()=>{co().clearTimeout(we),delete co()[ye];const tn=co().grecaptcha;if(!tn||!On(tn))return void ie(De(f,"internal-error"));const Fn=tn.render;tn.render=(ti,hi)=>{const cr=Fn(ti,hi);return this.counter++,cr},this.hostLanguage=_,k(tn)},gi(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ye,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(we),ie(De(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!(null===(_=co().grecaptcha)||void 0===_||!_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sn{load(f){return(0,d.Z)(function*(){return new x(f)})()}clearedOneInstance(){}}const vi="recaptcha",Lr={theme:"light",type:"image"};class Go{constructor(f,_=Object.assign({},Lr),k){this.parameters=_,this.type=vi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ui(k),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof f?document.getElementById(f):f;K(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sn:new Zt,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const _=yield f.render(),k=f.getAssertedRecaptcha();return k.getResponse(_)||new Promise(we=>{const St=tn=>{tn&&(f.tokenChangeListeners.delete(St),we(tn))};f.tokenChangeListeners.add(St),f.isInvisible&&k.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(k=>k(_)),"function"==typeof f)f(_);else if("string"==typeof f){const k=co()[f];"function"==typeof k&&k(_)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const k=document.createElement("div");_.appendChild(k),_=k}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){K(vt()&&!oi(),f.auth,"internal-error"),yield function _o(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function Bt(I){return It.apply(this,arguments)}(f.auth);K(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gr{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=sr._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function Wt(I,f,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(I,f,_){const k=Ui(I),ie=yield Ha(k,f,(0,L.m9)(_));return new gr(ie,we=>W(k,we))})).apply(this,arguments)}function Ir(I,f,_){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(I,f,_){const k=(0,L.m9)(I);yield lr(!1,k,"phone");const ie=yield Ha(k.auth,f,(0,L.m9)(_));return new gr(ie,we=>v(k,we))})).apply(this,arguments)}function bs(I,f,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(I,f,_){const k=(0,L.m9)(I),ie=yield Ha(k.auth,f,(0,L.m9)(_));return new gr(ie,we=>J(k,we))})).apply(this,arguments)}function Ha(I,f,_){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,d.Z)(function*(I,f,_){var k;const ie=yield _.verify();try{let we;if(K("string"==typeof ie,I,"argument-error"),K(_.type===vi,I,"argument-error"),we="string"==typeof f?{phoneNumber:f}:f,"session"in we){const St=we.session;if("phoneNumber"in we)return K("enroll"===St.type,I,"internal-error"),(yield function os(I,f){return gn(I,"POST","/v2/accounts/mfaEnrollment:start",dn(I,f))}(I,{idToken:St.credential,phoneEnrollmentInfo:{phoneNumber:we.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{K("signin"===St.type,I,"internal-error");const tn=(null===(k=we.multiFactorHint)||void 0===k?void 0:k.uid)||we.multiFactorUid;return K(tn,I,"missing-multi-factor-info"),(yield function Js(I,f){return gn(I,"POST","/v2/accounts/mfaSignIn:start",dn(I,f))}(I,{mfaPendingCredential:St.credential,mfaEnrollmentId:tn,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:St}=yield function Yo(I,f){return pr.apply(this,arguments)}(I,{phoneNumber:we.phoneNumber,recaptchaToken:ie});return St}}finally{_._reset()}}),Sa.apply(this,arguments)}function Ad(I,f){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(I,f){yield vn((0,L.m9)(I),f)})).apply(this,arguments)}let Nh=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=Ui(_)}verifyPhoneNumber(_,k){return Ha(this.auth,_,(0,L.m9)(k))}static credential(_,k){return sr._fromVerification(_,k)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:k,temporaryProof:ie}=_;return k&&ie?sr._fromTokenResponse(k,ie):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ta(I,f){return f?Oe(f):(K(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Is extends hs{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return $i(f,this._buildIdpRequest())}_linkToIdToken(f,_){return $i(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return $i(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Ws(I){return ns(I.auth,new Is(I),I.bypassAuthState)}function Pa(I){const{auth:f,user:_}=I;return K(_,f,"internal-error"),wo(_,new Is(I),I.bypassAuthState)}function Ll(I){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(I){const{auth:f,user:_}=I;return K(_,f,"internal-error"),vn(_,new Is(I),I.bypassAuthState)})).apply(this,arguments)}class kd{constructor(f,_,k,ie,we=!1){this.auth=f,this.resolver=k,this.user=ie,this.bypassAuthState=we,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,d.Z)(function*(k,ie){f.pendingPromise={resolve:k,reject:ie};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(we){f.reject(we)}});return function(k,ie){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,d.Z)(function*(){const{urlResponse:k,sessionId:ie,postBody:we,tenantId:St,error:tn,type:Fn}=f;if(tn)return void _.reject(tn);const ti={auth:_.auth,requestUri:k,sessionId:ie,tenantId:St||void 0,postBody:we||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Fn)(ti))}catch(hi){_.reject(hi)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ws;case"linkViaPopup":case"linkViaRedirect":return Ll;case"reauthViaPopup":case"reauthViaRedirect":return Pa;default:ue(this.auth,"internal-error")}}resolve(f){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lc=new ft(2e3,1e4);function ls(I,f,_){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(I,f,_){const k=Ui(I);Me(I,f,bo);const ie=Ta(k,_);return new hc(k,"signInViaPopup",f,ie).executeNotNull()})).apply(this,arguments)}function la(I,f,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,d.Z)(function*(I,f,_){const k=(0,L.m9)(I);Me(k.auth,f,bo);const ie=Ta(k.auth,_);return new hc(k.auth,"reauthViaPopup",f,ie,k).executeNotNull()})).apply(this,arguments)}function dc(I,f,_){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(I,f,_){const k=(0,L.m9)(I);Me(k.auth,f,bo);const ie=Ta(k.auth,_);return new hc(k.auth,"linkViaPopup",f,ie,k).executeNotNull()})).apply(this,arguments)}let hc=(()=>{class I extends kd{constructor(_,k,ie,we,St){super(_,k,we,St),this.provider=ie,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const k=yield _.execute();return K(k,_.auth,"internal-error"),k})()}onExecution(){var _=this;return(0,d.Z)(function*(){Fe(1===_.filter.length,"Popup operations only handle one event");const k=Dr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],k),_.authWindow.associatedEvent=k,_.resolver._originValidation(_.auth).catch(ie=>{_.reject(ie)}),_.resolver._isIframeWebStorageSupported(_.auth,ie=>{ie||_.reject(De(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var k,ie;this.pollId=null!==(ie=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==ie&&ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,lc.get())};_()}}return I.currentPopupAction=null,I})();const Hc="pendingRedirect",Fa=new Map;class Lh extends kd{constructor(f,_,k=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,k),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,d.Z)(function*(){let k=Fa.get(_.auth._key());if(!k){try{const we=(yield function Ou(I,f){return wl.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;k=()=>Promise.resolve(we)}catch(ie){k=()=>Promise.reject(ie)}Fa.set(_.auth._key(),k)}return _.bypassAuthState||Fa.set(_.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,k=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return _().call(k,f);if("unknown"!==f.type){if(f.eventId){const ie=yield k.auth._redirectUserForId(f.eventId);if(ie)return k.user=ie,_().call(k,f);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function wl(){return(wl=(0,d.Z)(function*(I,f){const _=Ru(f),k=za(I);if(!(yield k._isAvailable()))return!1;const ie="true"===(yield k._get(_));return yield k._remove(_),ie})).apply(this,arguments)}function zc(I,f){return $c.apply(this,arguments)}function $c(){return($c=(0,d.Z)(function*(I,f){return za(I)._set(Ru(f),"true")})).apply(this,arguments)}function Bh(){Fa.clear()}function fc(I,f){Fa.set(I._key(),f)}function za(I){return Oe(I._redirectPersistence)}function Ru(I){return jt(Hc,I.config.apiKey,I.name)}function Gc(I,f,_){return function mc(I,f,_){return $a.apply(this,arguments)}(I,f,_)}function $a(){return($a=(0,d.Z)(function*(I,f,_){const k=Ui(I);Me(I,f,bo),yield k._initializationPromise;const ie=Ta(k,_);return yield zc(ie,k),ie._openRedirect(k,f,"signInViaRedirect")})).apply(this,arguments)}function Od(I,f,_){return function Wc(I,f,_){return Bl.apply(this,arguments)}(I,f,_)}function Bl(){return(Bl=(0,d.Z)(function*(I,f,_){const k=(0,L.m9)(I);Me(k.auth,f,bo),yield k.auth._initializationPromise;const ie=Ta(k.auth,_);yield zc(ie,k.auth);const we=yield cs(k);return ie._openRedirect(k.auth,f,"reauthViaRedirect",we)})).apply(this,arguments)}function Kc(I,f,_){return function xs(I,f,_){return Ul.apply(this,arguments)}(I,f,_)}function Ul(){return(Ul=(0,d.Z)(function*(I,f,_){const k=(0,L.m9)(I);Me(k.auth,f,bo),yield k.auth._initializationPromise;const ie=Ta(k.auth,_);yield lr(!1,k,f.providerId),yield zc(ie,k.auth);const we=yield cs(k);return ie._openRedirect(k.auth,f,"linkViaRedirect",we)})).apply(this,arguments)}function ea(I,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(I,f){return yield Ui(I)._initializationPromise,Sr(I,f,!1)})).apply(this,arguments)}function Sr(I,f){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(I,f,_=!1){const k=Ui(I),ie=Ta(k,f),St=yield new Lh(k,ie,_).execute();return St&&!_&&(delete St.user._redirectEventId,yield k._persistUserIfCurrent(St.user),yield k._setRedirectUser(null,f)),St})).apply(this,arguments)}function cs(I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(I){const f=Dr(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class La{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(f,k)&&(_=!0,this.sendToConsumer(f,k),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Rd(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pc(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var k;if(f.error&&!pc(f)){const ie=(null===(k=f.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";_.onError(De(this.auth,ie))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const k=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&k}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ps(f))}saveEventToCache(f){this.cachedEventUids.add(Ps(f)),this.lastProcessedEventTime=Date.now()}}function Ps(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function pc({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function Qo(I){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(I,f={}){return gn(I,"GET","/v1/projects",f)})).apply(this,arguments)}const xl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eo=/^https?/;function Vl(){return(Vl=(0,d.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield Qo(I);for(const _ of f)try{if(uo(_))return}catch{}ue(I,"unauthorized-domain")})).apply(this,arguments)}function uo(I){const f=ze(),{protocol:_,hostname:k}=new URL(f);if(I.startsWith("chrome-extension://")){const St=new URL(I);return""===St.hostname&&""===k?"chrome-extension:"===_&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&St.hostname===k}if(!Eo.test(_))return!1;if(xl.test(I))return k===I;const ie=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(k)}const El=new ft(3e4,6e4);function Cl(){const I=co().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let io=null;const Bs=new ft(5e3,15e3),ta="__/auth/iframe",Za="emulator/auth/iframe",Ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dl(I){const f=I.config;K(f.authDomain,I,"auth-domain-config-required");const _=f.emulator?kt(f,Za):`https://${I.config.authDomain}/${ta}`,k={apiKey:f.apiKey,appName:I.name,v:g.SDK_VERSION},ie=Fu.get(I.config.apiHost);ie&&(k.eid=ie);const we=I._getFrameworks();return we.length&&(k.fw=we.join(",")),`${_}?${(0,L.xO)(k).slice(1)}`}function T(){return T=(0,d.Z)(function*(I){const f=yield function Ka(I){return io=io||function Wa(I){return new Promise((f,_)=>{var k,ie,we;function St(){Cl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Cl(),_(De(I,"network-request-failed"))},timeout:El.get()})}if(null!==(ie=null===(k=co().gapi)||void 0===k?void 0:k.iframes)&&void 0!==ie&&ie.Iframe)f(gapi.iframes.getContext());else{if(null===(we=co().gapi)||void 0===we||!we.load){const tn=vr("iframefcb");return co()[tn]=()=>{gapi.load?St():_(De(I,"network-request-failed"))},gi(`https://apis.google.com/js/api.js?onload=${tn}`).catch(Fn=>_(Fn))}St()}}).catch(f=>{throw io=null,f})}(I),io}(I),_=co().gapi;return K(_,I,"internal-error"),f.open({where:document.body,url:Dl(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ba,dontclear:!0},k=>new Promise(function(){var ie=(0,d.Z)(function*(we,St){yield k.restyle({setHideOnLeave:!1});const tn=De(I,"network-request-failed"),Fn=co().setTimeout(()=>{St(tn)},Bs.get());function ti(){co().clearTimeout(Fn),we(k)}k.ping(ti).then(ti,()=>{St(tn)})});return function(we,St){return ie.apply(this,arguments)}}()))}),T.apply(this,arguments)}const N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sn{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const li="__/auth/handler",Li="emulator/auth/handler",Oi=encodeURIComponent("fac");function Ss(I,f,_,k,ie,we){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(I,f,_,k,ie,we){K(I.config.authDomain,I,"auth-domain-config-required"),K(I.config.apiKey,I,"invalid-api-key");const St={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:k,v:g.SDK_VERSION,eventId:ie};if(f instanceof bo){f.setDefaultLanguage(I.languageCode),St.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||(St.customParameters=JSON.stringify(f.getCustomParameters()));for(const[hi,cr]of Object.entries(we||{}))St[hi]=cr}if(f instanceof Po){const hi=f.getScopes().filter(cr=>""!==cr);hi.length>0&&(St.scopes=hi.join(","))}I.tenantId&&(St.tid=I.tenantId);const tn=St;for(const hi of Object.keys(tn))void 0===tn[hi]&&delete tn[hi];const Fn=yield I._getAppCheckToken(),ti=Fn?`#${Oi}=${encodeURIComponent(Fn)}`:"";return`${function Ya({config:I}){return I.emulator?kt(I,Li):`https://${I.authDomain}/${li}`}(I)}?${(0,L.xO)(tn).slice(1)}${ti}`})).apply(this,arguments)}const eo="webStorageSupport",na=class Us{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ra,this._completeRedirectFn=Sr,this._overrideRedirectResult=fc}_openPopup(f,_,k,ie){var we=this;return(0,d.Z)(function*(){var St;Fe(null===(St=we.eventManagers[f._key()])||void 0===St?void 0:St.manager,"_initialize() not called before _openPopup()");const tn=yield Ss(f,_,k,ze(),ie);return function $n(I,f,_,k=500,ie=600){const we=Math.max((window.screen.availHeight-ie)/2,0).toString(),St=Math.max((window.screen.availWidth-k)/2,0).toString();let tn="";const Fn=Object.assign(Object.assign({},N),{width:k.toString(),height:ie.toString(),top:we,left:St}),ti=(0,L.z$)().toLowerCase();_&&(tn=$(ti)?"_blank":_),H(ti)&&(f=f||"http://localhost",Fn.scrollbars="yes");const hi=Object.entries(Fn).reduce((da,[ia,Bd])=>`${da}${ia}=${Bd},`,"");if(function en(I=(0,L.z$)()){var f;return wt(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ti)&&"_self"!==tn)return function jn(I,f){const _=document.createElement("a");_.href=I,_.target=f;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(k)}(f||"",tn),new sn(null);const cr=window.open(f||"",tn,hi);K(cr,I,"popup-blocked");try{cr.focus()}catch{}return new sn(cr)}(f,tn,Dr())})()}_openRedirect(f,_,k,ie){var we=this;return(0,d.Z)(function*(){return yield we._originValidation(f),function Jn(I){co().location.href=I}(yield Ss(f,_,k,ze(),ie)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:ie,promise:we}=this.eventManagers[_];return ie?Promise.resolve(ie):(Fe(we,"If manager is not set, promise should be"),we)}const k=this.initAndGetManager(f);return this.eventManagers[_]={promise:k},k.catch(()=>{delete this.eventManagers[_]}),k}initAndGetManager(f){var _=this;return(0,d.Z)(function*(){const k=yield function Nu(I){return T.apply(this,arguments)}(f),ie=new La(f);return k.register("authEvent",we=>(K(we?.authEvent,f,"invalid-auth-event"),{status:ie.onEvent(we.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:ie},_.iframes[f._key()]=k,ie})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(eo,{type:eo},ie=>{var we;const St=null===(we=ie?.[0])||void 0===we?void 0:we[eo];void 0!==St&&_(!!St),ue(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ga(I){return Vl.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return Mn()||U()||wt()}};class Ma{constructor(f){this.factorId=f}_process(f,_,k){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,k);case"signin":return this._finalizeSignIn(f,_.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class ya extends Ma{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ya(f)}_finalizeEnroll(f,_,k){return function Xr(I,f){return gn(I,"POST","/v2/accounts/mfaEnrollment:finalize",dn(I,f))}(f,{idToken:_,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function Fi(I,f){return gn(I,"POST","/v2/accounts/mfaSignIn:finalize",dn(I,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pd=(()=>{class I{constructor(){}static assertion(_){return ya._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Il="@firebase/auth";class rm{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(k=>{f(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);_&&(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jh=(0,L.Pz)("authIdTokenMaxAge")||300;let Hh=null;const sm=I=>function(){var f=(0,d.Z)(function*(_){const k=_&&(yield _.getIdTokenResult()),ie=k&&((new Date).getTime()-Date.parse(k.issuedAtTime))/1e3;if(ie&&ie>jh)return;const we=k?.token;Hh!==we&&(Hh=we,yield fetch(I,{method:we?"POST":"DELETE",headers:we?{Authorization:`Bearer ${we}`}:{}}))});return function(_){return f.apply(this,arguments)}}();function Ld(I=(0,g.getApp)()){const f=(0,g._getProvider)(I,"auth");if(f.isInitialized())return f.getImmediate();const _=function fo(I,f){const _=(0,g._getProvider)(I,"auth");if(_.isInitialized()){const ie=_.getImmediate(),we=_.getOptions();if((0,L.vZ)(we,f??{}))return ie;ue(ie,"already-initialized")}return _.initialize({options:f})}(I,{popupRedirectResolver:na,persistence:[Wn,as,Ra]}),k=(0,L.Pz)("authTokenSyncURL");if(k){const we=sm(k);(function Xt(I,f,_){(0,L.m9)(I).beforeAuthStateChanged(f,_)})(_,we,()=>we(_.currentUser)),function qe(I,f,_,k){(0,L.m9)(I).onIdTokenChanged(f,_,k)}(_,St=>we(St))}const ie=(0,L.q4)("auth");return ie&&br(_,`http://${ie}`),_}!function Vh(I){(0,g._registerComponent)(new ae.wA("auth",(f,{options:_})=>{const k=f.getProvider("app").getImmediate(),ie=f.getProvider("heartbeat"),we=f.getProvider("app-check-internal"),{apiKey:St,authDomain:tn}=k.options;K(St&&!St.includes(":"),"invalid-api-key",{appName:k.name});const Fn={apiKey:St,authDomain:tn,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bi(I)},ti=new yo(k,ie,we,Fn);return function so(I,f){const _=f?.persistence||[],k=(Array.isArray(_)?_:[_]).map(Oe);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(k,f?.popupRedirectResolver)}(ti,_),ti},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,k)=>{f.getProvider("auth-internal").initialize()})),(0,g._registerComponent)(new ae.wA("auth-internal",f=>{const _=Ui(f.getProvider("auth").getImmediate());return new rm(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,g.registerVersion)(Il,"0.23.2",function Nd(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,g.registerVersion)(Il,"0.23.2","esm2017")}("Browser")},2090:(pn,it,E)=>{E.d(it,{$s:()=>Oe,BH:()=>be,G6:()=>kt,L:()=>Ee,LL:()=>an,Pz:()=>De,Sg:()=>Me,UG:()=>Ge,US:()=>ae,ZB:()=>fe,ZR:()=>gn,aH:()=>ue,b$:()=>vt,eu:()=>Qt,hl:()=>Pt,jU:()=>Fe,m9:()=>jt,ne:()=>Ae,pd:()=>We,q4:()=>Re,r3:()=>yn,ru:()=>ze,tV:()=>se,uI:()=>K,vZ:()=>Ut,w1:()=>kn,xO:()=>mt,xb:()=>ci,z$:()=>$e,zI:()=>Gt,zd:()=>at});const ne=function(Te){const oe=[];let H=0;for(let U=0;U<Te.length;U++){let $=Te.charCodeAt(U);$<128?oe[H++]=$:$<2048?(oe[H++]=$>>6|192,oe[H++]=63&$|128):55296==(64512&$)&&U+1<Te.length&&56320==(64512&Te.charCodeAt(U+1))?($=65536+((1023&$)<<10)+(1023&Te.charCodeAt(++U)),oe[H++]=$>>18|240,oe[H++]=$>>12&63|128,oe[H++]=$>>6&63|128,oe[H++]=63&$|128):(oe[H++]=$>>12|224,oe[H++]=$>>6&63|128,oe[H++]=63&$|128)}return oe},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Te,oe){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let $=0;$<Te.length;$+=3){const le=Te[$],re=$+1<Te.length,ve=re?Te[$+1]:0,Et=$+2<Te.length,wt=Et?Te[$+2]:0;let Xn=(15&ve)<<2|wt>>6,Mn=63&wt;Et||(Mn=64,re||(Xn=64)),U.push(H[le>>2],H[(3&le)<<4|ve>>4],H[Xn],H[Mn])}return U.join("")},encodeString(Te,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(Te):this.encodeByteArray(ne(Te),oe)},decodeString(Te,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(Te):function(Te){const oe=[];let H=0,U=0;for(;H<Te.length;){const $=Te[H++];if($<128)oe[U++]=String.fromCharCode($);else if($>191&&$<224){const le=Te[H++];oe[U++]=String.fromCharCode((31&$)<<6|63&le)}else if($>239&&$<365){const Et=((7&$)<<18|(63&Te[H++])<<12|(63&Te[H++])<<6|63&Te[H++])-65536;oe[U++]=String.fromCharCode(55296+(Et>>10)),oe[U++]=String.fromCharCode(56320+(1023&Et))}else{const le=Te[H++],re=Te[H++];oe[U++]=String.fromCharCode((15&$)<<12|(63&le)<<6|63&re)}}return oe.join("")}(this.decodeStringToByteArray(Te,oe))},decodeStringToByteArray(Te,oe){this.init_();const H=oe?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let $=0;$<Te.length;){const le=H[Te.charAt($++)],ve=$<Te.length?H[Te.charAt($)]:0;++$;const wt=$<Te.length?H[Te.charAt($)]:64;++$;const en=$<Te.length?H[Te.charAt($)]:64;if(++$,null==le||null==ve||null==wt||null==en)throw new Z;U.push(le<<2|ve>>4),64!==wt&&(U.push(ve<<4&240|wt>>2),64!==en&&U.push(wt<<6&192|en))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(Te){return function(Te){const oe=ne(Te);return ae.encodeByteArray(oe,!0)}(Te).replace(/\./g,"")},se=function(Te){try{return ae.decodeString(Te,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function fe(Te,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return oe}for(const H in oe)!oe.hasOwnProperty(H)||!Je(H)||(Te[H]=fe(Te[H],oe[H]));return Te}function Je(Te){return"__proto__"!==Te}const He=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Te=process.env.__FIREBASE_DEFAULTS__;return Te?JSON.parse(Te):void 0})()||(()=>{if(typeof document>"u")return;let Te;try{Te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=Te&&se(Te[1]);return oe&&JSON.parse(oe)})()}catch(Te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Te}`)}},Re=Te=>{var oe,H;return null===(H=null===(oe=He())||void 0===oe?void 0:oe.emulatorHosts)||void 0===H?void 0:H[Te]},ue=()=>{var Te;return null===(Te=He())||void 0===Te?void 0:Te.config},De=Te=>{var oe;return null===(oe=He())||void 0===oe?void 0:oe[`_${Te}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,H)=>{this.resolve=oe,this.reject=H})}wrapCallback(oe){return(H,U)=>{H?this.reject(H):this.resolve(U),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(H):oe(H,U))}}}function Me(Te,oe){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=oe||"demo-project",$=Te.iat||0,le=Te.sub||Te.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:$,exp:$+3600,auth_time:$,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(re)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Ge(){var Te;const oe=null===(Te=He())||void 0===Te?void 0:Te.forceEnvironment;if("node"===oe)return!0;if("browser"===oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function ze(){const Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kn(){const Te=$e();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function kt(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pt(){try{return"object"==typeof indexedDB}catch{return!1}}function Qt(){return new Promise((Te,oe)=>{try{let H=!0;const U="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(U);$.onsuccess=()=>{$.result.close(),H||self.indexedDB.deleteDatabase(U),Te(!0)},$.onupgradeneeded=()=>{H=!1},$.onerror=()=>{var le;oe((null===(le=$.error)||void 0===le?void 0:le.message)||"")}}catch(H){oe(H)}})}function Gt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class gn extends Error{constructor(oe,H,U){super(H),this.code=oe,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}}class an{constructor(oe,H,U){this.service=oe,this.serviceName=H,this.errors=U}create(oe,...H){const U=H[0]||{},$=`${this.service}/${oe}`,le=this.errors[oe],re=le?function At(Te,oe){return Te.replace(Ke,(H,U)=>{const $=oe[U];return null!=$?String($):`<${U}?>`})}(le,U):"Error";return new gn($,`${this.serviceName}: ${re} (${$}).`,U)}}const Ke=/\{\$([^}]+)}/g;function yn(Te,oe){return Object.prototype.hasOwnProperty.call(Te,oe)}function ci(Te){for(const oe in Te)if(Object.prototype.hasOwnProperty.call(Te,oe))return!1;return!0}function Ut(Te,oe){if(Te===oe)return!0;const H=Object.keys(Te),U=Object.keys(oe);for(const $ of H){if(!U.includes($))return!1;const le=Te[$],re=oe[$];if(ce(le)&&ce(re)){if(!Ut(le,re))return!1}else if(le!==re)return!1}for(const $ of U)if(!H.includes($))return!1;return!0}function ce(Te){return null!==Te&&"object"==typeof Te}function mt(Te){const oe=[];for(const[H,U]of Object.entries(Te))Array.isArray(U)?U.forEach($=>{oe.push(encodeURIComponent(H)+"="+encodeURIComponent($))}):oe.push(encodeURIComponent(H)+"="+encodeURIComponent(U));return oe.length?"&"+oe.join("&"):""}function at(Te){const oe={};return Te.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[$,le]=U.split("=");oe[decodeURIComponent($)]=decodeURIComponent(le)}}),oe}function We(Te){const oe=Te.indexOf("?");if(!oe)return"";const H=Te.indexOf("#",oe);return Te.substring(oe,H>0?H:void 0)}function Ae(Te,oe){const H=new Vt(Te,oe);return H.subscribe.bind(H)}class Vt{constructor(oe,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{oe(this)}).catch(U=>{this.error(U)})}next(oe){this.forEachObserver(H=>{H.next(oe)})}error(oe){this.forEachObserver(H=>{H.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,H,U){let $;if(void 0===oe&&void 0===H&&void 0===U)throw new Error("Missing Observer.");$=function Mt(Te,oe){if("object"!=typeof Te||null===Te)return!1;for(const H of oe)if(H in Te&&"function"==typeof Te[H])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:H,complete:U},void 0===$.next&&($.next=Kt),void 0===$.error&&($.error=Kt),void 0===$.complete&&($.complete=Kt);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),le}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,oe)}sendOne(oe,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{H(this.observers[oe])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}const Yt=1e3,et=2,st=144e5,Be=.5;function Oe(Te,oe=Yt,H=et){const U=oe*Math.pow(H,Te),$=Math.round(Be*U*(Math.random()-.5)*2);return Math.min(st,U+$)}function jt(Te){return Te&&Te._delegate?Te._delegate:Te}},8854:(pn,it,E)=>{E.d(it,{q:()=>Ys});var d=E(1728),L=E(8410),g=E(6012),ne=E(6286),xe=E(430),ae=E(8467),Z=E(2223),se=(E(1692),E(2966),E(1217)),Ne=(E(727),E(6451),E(7579),E(829)),ut=E(4755);let Le=(()=>{class Ze{}return Ze.\u0275fac=function(Y){return new(Y||Ze)},Ze.\u0275mod=Z.oAB({type:Ze}),Ze.\u0275inj=Z.cJS({imports:[se.BQ,se.BQ]}),Ze})();E(706),E(2840),E(9401),E(2722);let st=(()=>{class Ze{}return Ze.\u0275fac=function(Y){return new(Y||Ze)},Ze.\u0275mod=Z.oAB({type:Ze}),Ze.\u0275inj=Z.cJS({imports:[Ne.Q8,ut.ez,se.BQ,se.si,se.us,Le]}),Ze})();var Be=E(9383),Oe=E(2236);E(1591);let On=(()=>{class Ze{}return Ze.\u0275fac=function(Y){return new(Y||Ze)},Ze.\u0275mod=Z.oAB({type:Ze}),Ze.\u0275inj=Z.cJS({imports:[ut.ez,se.BQ,Oe.ZD,Oe.ZD,se.BQ]}),Ze})();var Ln=E(2659),ai=E(9002);let Ms=(()=>{class Ze{}return Ze.\u0275fac=function(Y){return new(Y||Ze)},Ze.\u0275mod=Z.oAB({type:Ze}),Ze.\u0275inj=Z.cJS({imports:[se.BQ,ut.ez,Ne.Q8,se.BQ]}),Ze})();const Ki={provide:new Z.OlP("mat-select-scroll-strategy"),deps:[ai.aV],useFactory:function Br(Ze){return()=>Ze.scrollStrategies.reposition()}};let Ho=(()=>{class Ze{}return Ze.\u0275fac=function(Y){return new(Y||Ze)},Ze.\u0275mod=Z.oAB({type:Ze}),Ze.\u0275inj=Z.cJS({providers:[Ki],imports:[ut.ez,ai.U8,se.Ng,se.BQ,Oe.ZD,Ms,se.Ng,se.BQ]}),Ze})(),Ys=(()=>{class Ze{}return Ze.\u0275fac=function(Y){return new(Y||Ze)},Ze.\u0275mod=Z.oAB({type:Ze}),Ze.\u0275inj=Z.cJS({imports:[d.ot,L._r,g.QW,ne.Is,xe.Ps,ae.Cq,st,Be.g0,On,Ln.Tx,Ho]}),Ze})()},8577:(pn,it,E)=>{E.d(it,{n:()=>xe});var d=E(2223),L=E(1762),g=E(3919),ne=E(5213);let xe=(()=>{class ae{constructor(_e,Ee,se){this.firestore=_e,this.userDataService=Ee,this.mainUserPageService=se,this.posts=[],this.pageSize=5,this.currentSize=0,this.collection=this.firestore.collection("Posts")}uploadPost(_e){const Ee=this.firestore.createId(),se=this.userDataService.getCurrentUserId();return this.collection.doc(Ee).set({comment:_e,creatorId:se,timestamp:new Date,postId:Ee}).then(()=>{this.mainUserPageService.addUserPost(se,Ee)})}uploadImagePost(_e,Ee,se){const de=this.userDataService.getCurrentUserId();return this.collection.doc(_e).set({comment:Ee,creatorId:this.userDataService.getCurrentUserId(),imageUrl:se,timestamp:new Date,postId:_e}).then(()=>{this.mainUserPageService.addUserPost(de,_e)})}deleteUserPosts(){this.collection.get().subscribe(_e=>{_e.forEach(Ee=>{const se=Ee.data(),de=Ee.id;se&&se.creatorId===this.userDataService.userInfo.userId&&(this.deleteCollection(de,"Likes"),this.deleteCollection(de,"PostComments"),this.collection.doc(de).delete().then(()=>{}).catch(fe=>{console.error(`Error deleting document with ID ${de}`,fe)}))})})}deleteCollection(_e,Ee){const se=this.firestore.firestore.batch();this.collection.doc(_e).collection(Ee).ref.get().then(de=>(de.forEach(fe=>{se.delete(fe.ref)}),se.commit()))}getCountOfDocuments(){this.collection.ref.get().then(_e=>{this.postsSize=_e.size})}getFirstPosts(){0===this.currentSize&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.pageSize).get().then(_e=>{_e.forEach(Ee=>{this.currentSize++,this.posts.push(Ee.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}getScrollPosts(){window.onscroll=()=>{window.pageYOffset+window.innerHeight>=document.documentElement.scrollHeight&&this.postsSize>this.currentSize&&this.postsSize>this.posts.length&&this.currentSize>0&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").startAfter(this.lastVisibleDoc).limit(this.pageSize).get().then(_e=>{_e.forEach(Ee=>{this.currentSize++,this.posts.push(Ee.data())}),this.lastVisibleDoc=_e.docs[_e.docs.length-1]})}}newGetPosts(_e){"add"===_e&&this.currentSize++,"delete"===_e&&this.currentSize--,this.posts=[],this.currentSize>0?(this.getCountOfDocuments(),this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.currentSize).get().then(Ee=>{this.currentSize=0,Ee.forEach(se=>{this.currentSize++,this.posts.push(se.data())}),this.lastVisibleDoc=Ee.docs[Ee.docs.length-1]})):this.getFirstPosts()}}return ae.\u0275fac=function(_e){return new(_e||ae)(d.LFG(L.ST),d.LFG(g.M),d.LFG(ne.v))},ae.\u0275prov=d.Yz7({token:ae,factory:ae.\u0275fac}),ae})()},1188:(pn,it,E)=>{E.d(it,{V:()=>g});var d=E(2223),L=E(8445);let g=(()=>{class ne{constructor(ae){this.storage=ae}getDataFromStorage(ae){return this.storage.ref(ae).getDownloadURL()}}return ne.\u0275fac=function(ae){return new(ae||ne)(d.LFG(L.Q1))},ne.\u0275prov=d.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},3919:(pn,it,E)=>{E.d(it,{M:()=>de});var d=E(1389),ae=(E(2090),E(6881),E(1877),E(4859),E(4004)),Z=E(2223),_e=E(1205),Ee=E(3676),se=E(1762);let de=(()=>{class fe{constructor(Ne,ut,rt){this.afAuth=Ne,this.router=ut,this.firestore=rt,this.userHasProfile=!0,this.isLoggedIn=!1,this.collection=this.firestore.collection("Users")}getUpdatedUserProfile(){this.afAuth.currentUser.then(Ne=>{const ut=Ne?.uid;return this.firestore.collection("Users").doc(ut).get().pipe((0,ae.U)(rt=>{const Le=rt.data();this.userHasProfile=rt.exists,rt.exists&&(this.userInfo={userId:Le.userId,publicName:Le.publicName,description:Le.description,timestamp:Le.timestamp,imageUrl:Le.imageUrl})})).toPromise()}).catch(Ne=>{console.error("Error getting document:",Ne)})}checkLoginStatus(){this.afAuth.authState.subscribe(Ne=>{this.isLoggedIn=!!Ne,Ne&&(Ne.emailVerified?(this.getUpdatedUserProfile(),this.router.navigate(["userPage"])):(Ne.sendEmailVerification(),this.router.navigate(["emailVerification"])))})}getCurrentUserId(){const ut=(0,d.o)().currentUser;return ut?ut.uid:""}createUser(Ne,ut){this.collection.doc(this.getCurrentUserId()).set({publicName:Ne,description:ut,userId:this.getCurrentUserId(),timestamp:new Date}).then(()=>{this.getUpdatedUserProfile(),this.router.navigate(["userPage"])}).catch(rt=>{console.error("Error writing document: ",rt)})}resetUserName(){this.userInfo.publicName=""}deleteUser(){this.collection.doc(this.userInfo.userId).delete().then(()=>{this.getUpdatedUserProfile()}).catch(Ne=>{console.error("Error writing document: ",Ne)})}updateDocumentField(Ne,ut,rt,Le){return this.firestore.collection(Ne).doc(ut).update({[rt]:Le})}}return fe.\u0275fac=function(Ne){return new(Ne||fe)(Z.LFG(_e.zQ),Z.LFG(Ee.F0),Z.LFG(se.ST))},fe.\u0275prov=Z.Yz7({token:fe,factory:fe.\u0275fac}),fe})()},5213:(pn,it,E)=>{E.d(it,{v:()=>Ne});var d=E(8505),L=E(8746),g=E(3900),ne=E(9300),xe=E(9841),ae=E(5698),Z=E(1627),_e=E(2223),Ee=E(3919),se=E(1762),de=E(8445),fe=E(6286),Je=E(3676);let Ne=(()=>{class ut{constructor(Le,He,Re,bt,ue){this.userDataService=Le,this.firestore=He,this.storage=Re,this.dialogOpen=bt,this.router=ue,this.userPosts=0,this.userFriends=0,this.collectionUsers=this.firestore.collection("Users")}addUserPost(Le,He){this.collectionUsers.doc(Le).collection("UserPosts").doc(He).set({postId:He,creatorId:Le,timestamp:new Date}).then()}deleteUserPost(Le,He){this.collectionUsers.doc(Le).collection("UserPosts").doc(He).delete().then()}uploadUserImage(Le,He){const Re=`Users/${Le}/image`,bt=this.storage.ref(Re),ue=this.storage.upload(Re,He),De=this.dialogOpen.open(Z.R,{disableClose:!0,data:{info:"Upload progress",message:""}});ue.percentageChanges().pipe((0,d.b)(be=>{De.componentInstance.message={info:"Upload progress",message:`Upload progress: ${be?.toFixed(2)}%`}}),(0,L.x)(()=>De.close()),(0,g.w)(()=>ue.snapshotChanges()),(0,ne.h)(be=>"success"===be.state),(0,g.w)(()=>bt.getDownloadURL()),(0,g.w)(be=>this.collectionUsers.doc(Le).update({imageUrl:be}))).subscribe(()=>{this.userDataService.getUpdatedUserProfile()})}getCountOfValuePosts(Le){this.collectionUsers.doc(Le).collection("UserPosts").valueChanges().subscribe(He=>{this.userPosts=He.length})}getCountOfValueFriends(Le){this.collectionUsers.doc(Le).collection("UserFriends",He=>He.where("isFriend","==",!0)).valueChanges().subscribe(He=>{this.userFriends=He.length})}addToFriends(Le){const He=this.userDataService.getCurrentUserId();this.collectionUsers.doc(He).collection("UserFriends").doc(Le).set({friendId:Le,creatorId:He,timestamp:new Date,isFriend:!1}).then(()=>{this.checkIsFriend(Le)})}deleteFriend(Le){const He=this.userDataService.getCurrentUserId();this.deleteUserFriend(He,Le),this.deleteUserFriend(Le,He)}deleteUserFriend(Le,He){this.collectionUsers.doc(Le).collection("UserFriends").doc(He).delete().then(()=>this.checkIsFriend(He))}getFriendExistence(Le,He){return this.collectionUsers.doc(Le).collection("UserFriends").doc(He).get()}checkIsFriend(Le){const He=this.userDataService.getCurrentUserId(),Re=this.getFriendExistence(He,Le),bt=this.getFriendExistence(Le,He);(0,xe.a)([Re,bt]).pipe((0,ae.q)(1)).subscribe(([ue,De])=>{ue.exists&&De.exists&&(this.updateFriendsStatus(Le,He),this.updateFriendsStatus(He,Le))})}updateFriendsStatus(Le,He){this.collectionUsers.doc(Le).collection("UserFriends").doc(He).update({isFriend:!0}).then()}goToFriendPage(Le){const Re=Le===this.userDataService.getCurrentUserId();this.router.navigate([Re?"userPage":"friendPage"],{queryParams:Re?void 0:{friendId:Le}})}deleteSomeCollection(Le){const He=this.userDataService.getCurrentUserId();this.collectionUsers.doc(He).collection(Le).get().toPromise().then(Re=>{Re&&Re.forEach(bt=>{bt.ref.delete()})})}deleteUserPostsCollection(){this.deleteSomeCollection("UserPosts")}deleteUserFriendsCollection(){this.deleteSomeCollection("UserFriends")}}return ut.\u0275fac=function(Le){return new(Le||ut)(_e.LFG(Ee.M),_e.LFG(se.ST),_e.LFG(de.Q1),_e.LFG(fe.uw),_e.LFG(Je.F0))},ut.\u0275prov=_e.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})()},8099:(pn,it,E)=>{E.d(it,{f:()=>Le});var d=E(9401),L=E(9802),g=E(6286),ne=E(2223),xe=E(3919),ae=E(8577),Z=E(5213),_e=E(1205),Ee=E(3676),se=E(4755),de=E(1728),fe=E(6012);function Je(He,Re){1&He&&(ne.TgZ(0,"div")(1,"small",9),ne._uU(2,"Field cannot be empty"),ne.qZA()())}function Ne(He,Re){if(1&He&&(ne.ynx(0),ne._UZ(1,"input",8),ne.YNc(2,Je,3,0,"div",3),ne.BQk()),2&He){const bt=ne.oxw();let ue;ne.xp6(2),ne.Q6J("ngIf",(null==(ue=bt.sidebarForm.get("textData"))?null:ue.invalid)&&(null==(ue=bt.sidebarForm.get("textData"))?null:ue.touched))}}function ut(He,Re){if(1&He){const bt=ne.EpF();ne.TgZ(0,"button",10),ne.NdJ("click",function(){ne.CHM(bt);const De=ne.oxw();return ne.KtG(De.deleteUser())}),ne._uU(1," Yes "),ne.qZA()}}function rt(He,Re){if(1&He){const bt=ne.EpF();ne.TgZ(0,"button",10),ne.NdJ("click",function(){ne.CHM(bt);const De=ne.oxw();return ne.KtG(De.saveData())}),ne._uU(1," Save "),ne.qZA()}}let Le=(()=>{class He{constructor(bt,ue,De,be,Me,$e,K,Ge){this.message=bt,this.dialogRef=ue,this.userDataService=De,this.postsDataService=be,this.userPageService=Me,this.afAuth=$e,this.router=K,this.dialog=Ge,this.sidebarForm=new d.cw({textData:new d.NI("",[d.kI.required])})}saveData(){const bt=this.sidebarForm.get("textData");bt&&!bt.errors&&this.userDataService.updateDocumentField("Users",this.userDataService.userInfo.userId,this.message.field,bt.value).then(()=>{this.dialogRef.close(),this.postsDataService.newGetPosts(),this.userDataService.getUpdatedUserProfile()})}deleteUser(){const bt=this.afAuth.currentUser;bt&&bt.then(ue=>ue).then(ue=>ue?.delete()).then(()=>{this.dialogRef.close(),this.userDataService.deleteUser(),this.postsDataService.deleteUserPosts(),this.userPageService.deleteUserPostsCollection(),this.userPageService.deleteUserFriendsCollection(),this.router.navigate([""])}).catch(ue=>{this.dialog.open(L.S,{data:{info:"Error deleting account",message:ue.message}})})}closeClick(){this.dialogRef.close()}}return He.\u0275fac=function(bt){return new(bt||He)(ne.Y36(g.WI),ne.Y36(g.so),ne.Y36(xe.M),ne.Y36(ae.n),ne.Y36(Z.v),ne.Y36(_e.zQ),ne.Y36(Ee.F0),ne.Y36(g.uw))},He.\u0275cmp=ne.Xpm({type:He,selectors:[["app-change-data-modal"]],decls:15,vars:6,consts:[[1,"message"],[3,"formGroup"],[1,"message-text"],[4,"ngIf"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["formControlName","textData",1,"message-input"],[1,"error"],["mat-flat-button","","color","warn",3,"click"]],template:function(bt,ue){1&bt&&(ne.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),ne._uU(3),ne.qZA()(),ne.TgZ(4,"mat-card-content",0)(5,"form",1)(6,"div",2),ne._uU(7),ne.qZA(),ne.YNc(8,Ne,3,1,"ng-container",3),ne.TgZ(9,"div",4)(10,"button",5),ne.NdJ("click",function(){return ue.closeClick()}),ne._uU(11," Close "),ne.qZA(),ne._UZ(12,"span",6),ne.YNc(13,ut,2,0,"button",7),ne.YNc(14,rt,2,0,"button",7),ne.qZA()()()()),2&bt&&(ne.xp6(3),ne.hij(" ",ue.message.info," "),ne.xp6(2),ne.Q6J("formGroup",ue.sidebarForm),ne.xp6(2),ne.Oqu(ue.message.message),ne.xp6(1),ne.Q6J("ngIf",!ue.message.yesButton),ne.xp6(5),ne.Q6J("ngIf",ue.message.yesButton),ne.xp6(1),ne.Q6J("ngIf",!ue.message.yesButton))},dependencies:[se.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,de.lW,fe.a8,fe.dn,fe.dk,fe.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.error[_ngcontent-%COMP%]{color:#f44336}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),He})()},9802:(pn,it,E)=>{E.d(it,{S:()=>Z});var d=E(6286),L=E(2223),g=E(4755),ne=E(1728),xe=E(6012);function ae(_e,Ee){if(1&_e){const se=L.EpF();L.TgZ(0,"button",6),L.NdJ("click",function(){L.CHM(se);const fe=L.oxw();return L.KtG(fe.buttonClick())}),L._uU(1),L.qZA()}if(2&_e){const se=L.oxw();L.xp6(1),L.hij(" ",se.message.nameButton," ")}}let Z=(()=>{class _e{constructor(se,de){this.message=se,this.dialog=de}buttonClick(){this.dialog.close(!0)}closeClick(){this.dialog.close()}}return _e.\u0275fac=function(se){return new(se||_e)(L.Y36(d.WI),L.Y36(d.so))},_e.\u0275cmp=L.Xpm({type:_e,selectors:[["app-info-modal"]],decls:12,vars:3,consts:[[1,"message"],[1,"message-text"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"]],template:function(se,de){1&se&&(L.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),L._uU(3),L.qZA()(),L.TgZ(4,"mat-card-content",0)(5,"div",1),L._uU(6),L.qZA(),L.TgZ(7,"div",2)(8,"button",3),L.NdJ("click",function(){return de.closeClick()}),L._uU(9," Close "),L.qZA(),L._UZ(10,"span",4),L.YNc(11,ae,2,1,"button",5),L.qZA()()()),2&se&&(L.xp6(3),L.hij(" ",de.message.info," "),L.xp6(3),L.Oqu(de.message.message),L.xp6(5),L.Q6J("ngIf",de.message.addButton))},dependencies:[g.O5,ne.lW,xe.a8,xe.dn,xe.dk,xe.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),_e})()},1627:(pn,it,E)=>{E.d(it,{R:()=>ae});var d=E(6286),L=E(2223),g=E(1728),ne=E(6012),xe=E(8467);let ae=(()=>{class Z{constructor(Ee,se){this.message=Ee,this.dialogRef=se}closeModal(){this.dialogRef.close()}}return Z.\u0275fac=function(Ee){return new(Ee||Z)(L.Y36(d.WI),L.Y36(d.so))},Z.\u0275cmp=L.Xpm({type:Z,selectors:[["app-loader"]],decls:11,vars:2,consts:[[1,"message"],[1,"message-loader"],[1,"message-text"],["mode","indeterminate","color","primary","diameter","32","strokeWidth","4"],["mat-flat-button","","color","warn",3,"click"]],template:function(Ee,se){1&Ee&&(L.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),L._uU(3),L.qZA()(),L.TgZ(4,"mat-card-content",0)(5,"div",1)(6,"div",2),L._uU(7),L.qZA(),L._UZ(8,"mat-progress-spinner",3),L.qZA(),L.TgZ(9,"button",4),L.NdJ("click",function(){return se.closeModal()}),L._uU(10,"Close"),L.qZA()()()),2&Ee&&(L.xp6(3),L.hij(" ",se.message.info," "),L.xp6(4),L.Oqu(se.message.message))},dependencies:[g.lW,ne.a8,ne.dn,ne.dk,ne.n5,xe.Ou],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.message-loader[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-text[_ngcontent-%COMP%]{padding:10px}"]}),Z})()},7655:(pn,it,E)=>{var d=E(6550),L=E(3676),g=E(2223),ne=E(3919);let xe=(()=>{class V{constructor(p,C){this.router=p,this.userDataService=C}canActivate(p,C){return"/postFeed"!==C.url||!(!this.userDataService.userHasProfile||!this.userDataService.isLoggedIn)||(this.router.navigate([""]),!1)}}return V.\u0275fac=function(p){return new(p||V)(g.LFG(L.F0),g.LFG(ne.M))},V.\u0275prov=g.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();var ae=E(9401);function Z(V,y){return p=>{const C=p.get(V)?.value,z=p.get(y)?.value;return C!==z?{fieldsMatch:!0}:null}}var _e=E(9802),Ee=E(8410),se=E(1205),de=E(6286),fe=E(4755),Je=E(1728),Ne=E(6012);function ut(V,y){1&V&&(g.TgZ(0,"div")(1,"small",13),g._uU(2,"Please, enter a valid email."),g.qZA()())}function rt(V,y){if(1&V&&(g.TgZ(0,"div")(1,"small",13),g._uU(2),g.qZA()()),2&V){const p=g.oxw(2);g.xp6(2),g.hij(" The field must have at least ",p.minLength," characters. ")}}function Le(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"div",8),g._UZ(1,"input",9),g.YNc(2,ut,3,0,"div",10),g._UZ(3,"input",11),g.YNc(4,rt,3,1,"div",10),g.TgZ(5,"button",12),g.NdJ("click",function(){g.CHM(p);const z=g.oxw();return g.KtG(z.onLoginSubmitClick())}),g._uU(6," Login "),g.qZA()()}if(2&V){const p=g.oxw();let C,z;g.xp6(2),g.Q6J("ngIf",(null==(C=p.authenticatorForm.get("login.loginEmail"))?null:C.invalid)&&(null==(C=p.authenticatorForm.get("login.loginEmail"))?null:C.touched)),g.xp6(2),g.Q6J("ngIf",(null==(z=p.authenticatorForm.get("login.loginPassword"))?null:z.invalid)&&(null==(z=p.authenticatorForm.get("login.loginPassword"))?null:z.touched))}}function He(V,y){1&V&&(g.TgZ(0,"div")(1,"small",13),g._uU(2,"Please, enter a valid email."),g.qZA()())}function Re(V,y){if(1&V&&(g.TgZ(0,"div")(1,"small",13),g._uU(2),g.qZA()()),2&V){const p=g.oxw(2);g.xp6(2),g.hij(" The field must have at least ",p.minLength," characters. ")}}function bt(V,y){if(1&V&&(g.TgZ(0,"small",13),g._uU(1),g.qZA()),2&V){const p=g.oxw(3);g.xp6(1),g.hij(" The field must have at least ",p.minLength," characters. ")}}function ue(V,y){1&V&&(g.TgZ(0,"small",13),g._uU(1,"Password must match "),g.qZA())}function De(V,y){if(1&V&&(g.TgZ(0,"div"),g.YNc(1,bt,2,1,"small",19),g.YNc(2,ue,2,0,"small",19),g.qZA()),2&V){const p=g.oxw(2);let C,z;g.xp6(1),g.Q6J("ngIf",null==(C=p.authenticatorForm.get("register.registerConfirmPassword"))?null:C.invalid),g.xp6(1),g.Q6J("ngIf",null==(z=p.authenticatorForm.get("register"))||null==z.errors?null:z.errors.fieldsMatch)}}function be(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"div",14),g._UZ(1,"input",15),g.YNc(2,He,3,0,"div",10),g._UZ(3,"input",16),g.YNc(4,Re,3,1,"div",10),g._UZ(5,"input",17),g.YNc(6,De,3,2,"div",10),g.TgZ(7,"button",18),g.NdJ("click",function(){g.CHM(p);const z=g.oxw();return g.KtG(z.onRegisterSubmitClick())}),g._uU(8," Create "),g.qZA()()}if(2&V){const p=g.oxw();let C,z,me;g.xp6(2),g.Q6J("ngIf",(null==(C=p.authenticatorForm.get("register.registerEmail"))?null:C.invalid)&&(null==(C=p.authenticatorForm.get("register.registerEmail"))?null:C.touched)),g.xp6(2),g.Q6J("ngIf",(null==(z=p.authenticatorForm.get("register.registerPassword"))?null:z.invalid)&&(null==(z=p.authenticatorForm.get("register.registerPassword"))?null:z.touched)),g.xp6(2),g.Q6J("ngIf",null==(me=p.authenticatorForm.get("register.registerConfirmPassword"))?null:me.touched)}}function Me(V,y){1&V&&(g.TgZ(0,"div")(1,"small",13),g._uU(2,"Please, enter a valid email."),g.qZA()())}function $e(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"div",20),g._UZ(1,"input",21),g.YNc(2,Me,3,0,"div",10),g.TgZ(3,"button",18),g.NdJ("click",function(){g.CHM(p);const z=g.oxw();return g.KtG(z.onResetClick())}),g._uU(4," Reset "),g.qZA()()}if(2&V){const p=g.oxw();let C;g.xp6(2),g.Q6J("ngIf",(null==(C=p.authenticatorForm.get("forgot.resetEmail"))?null:C.invalid)&&(null==(C=p.authenticatorForm.get("forgot.resetEmail"))?null:C.touched))}}var K=(()=>((K=K||{})[K.LOGIN=0]="LOGIN",K[K.REGISTER=1]="REGISTER",K[K.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",K))(),Ge=(()=>((Ge=Ge||{})[Ge.LOGIN=0]="LOGIN",Ge[Ge.REGISTER=1]="REGISTER",Ge[Ge.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Ge))();let Fe=(()=>{class V{constructor(p,C,z,me){this.bottomSheetRef=p,this.afAuth=C,this.router=z,this.dialog=me,this.state=K.LOGIN,this.minLength=3,this.authenticatorForm=new ae.cw({login:new ae.cw({loginEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),loginPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])}),register:new ae.cw({registerEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),registerPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)]),registerConfirmPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])},{validators:Z("registerPassword","registerConfirmPassword")}),forgot:new ae.cw({resetEmail:new ae.NI("",[ae.kI.required,ae.kI.email])})})}submitForm(p){switch(p.preventDefault(),this.submitState){case Ge.LOGIN:this.setLogin();break;case Ge.REGISTER:this.setRegister();break;case Ge.FORGOT_PASSWORD:this.setReset()}}setRegister(){const p=this.authenticatorForm.get("register");if(p&&p.valid){const{registerEmail:C,registerPassword:z}=p.value;this.afAuth.createUserWithEmailAndPassword(C,z).then(()=>{this.router.navigate(["emailVerification"]),this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(me=>{this.dialog.open(_e.S,{data:{info:"Account with this email already exists",message:me.message}})})}}onRegisterSubmitClick(){this.authenticatorForm.get("register.registerEmail")?.markAsTouched(),this.authenticatorForm.get("register.registerPassword")?.markAsTouched(),this.authenticatorForm.get("register.registerConfirmPassword")?.markAsTouched(),this.submitState=Ge.REGISTER}setLogin(){const p=this.authenticatorForm.get("login.loginEmail"),C=this.authenticatorForm.get("login.loginPassword");p&&C&&!p.errors&&!C.errors&&this.afAuth.signInWithEmailAndPassword(p.value,C.value).then(()=>{this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(z=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail or password",message:z.message}})})}onLoginSubmitClick(){this.authenticatorForm.get("login.loginEmail")?.markAsTouched(),this.authenticatorForm.get("login.loginPassword")?.markAsTouched(),this.submitState=Ge.LOGIN}setReset(){const p=this.authenticatorForm.get("forgot.resetEmail");p&&!p.errors&&this.afAuth.sendPasswordResetEmail(p.value).then(()=>{this.bottomSheetRef.dismiss(),this.dialog.open(_e.S,{data:{info:"Check your E-mail",message:"A link to change your password has been sent to your email."}}),this.authenticatorForm.reset()}).catch(()=>{this.dialog.open(_e.S,{data:{info:"Invalid E-mail",message:"The email address is badly formatted."}})})}onResetClick(){this.authenticatorForm.get("forgot.resetEmail")?.markAsTouched(),this.submitState=Ge.FORGOT_PASSWORD}onForgotPasswordButton(){this.state=K.FORGOT_PASSWORD}onCreateAccountButton(){this.state=K.REGISTER}onLoginButton(){this.state=K.LOGIN}isLoginState(){return this.state==K.LOGIN}isRegisterState(){return this.state==K.REGISTER}isForgotPasswordState(){return this.state==K.FORGOT_PASSWORD}getStateText(){switch(this.state){case K.LOGIN:return"Login";case K.REGISTER:return"Register";case K.FORGOT_PASSWORD:return"Forgot password"}}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(Ee.oL),g.Y36(se.zQ),g.Y36(L.F0),g.Y36(de.uw))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-authenticator"]],decls:17,vars:5,consts:[[1,"authenticator"],[1,"authenticator-content"],[3,"formGroup","submit"],["formGroupName","login",4,"ngIf"],["formGroupName","register",4,"ngIf"],["formGroupName","forgot",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["formGroupName","login"],["placeholder","Email","formControlName","loginEmail","autocomplete","email"],[4,"ngIf"],["placeholder","Password","type","password","formControlName","loginPassword","autocomplete","current-password"],["mat-flat-button","","color","warn","type","submit",3,"click"],[1,"error"],["formGroupName","register"],["placeholder","Email","formControlName","registerEmail","autocomplete","email"],["placeholder","Password","type","password","formControlName","registerPassword","autocomplete","new-password"],["placeholder","Confirm password","type","password","formControlName","registerConfirmPassword","autocomplete","new-password"],["mat-flat-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["formGroupName","forgot"],["placeholder","Email","formControlName","resetEmail","autocomplete","email"]],template:function(p,C){1&p&&(g.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),g._uU(4),g.qZA()(),g.TgZ(5,"mat-card-content")(6,"form",2),g.NdJ("submit",function(me){return C.submitForm(me)}),g.YNc(7,Le,7,2,"div",3),g.YNc(8,be,9,3,"div",4),g.YNc(9,$e,5,1,"div",5),g.qZA()(),g.TgZ(10,"mat-card-actions",6)(11,"button",7),g.NdJ("click",function(){return C.onForgotPasswordButton()}),g._uU(12," Forgot Password "),g.qZA(),g.TgZ(13,"button",7),g.NdJ("click",function(){return C.onCreateAccountButton()}),g._uU(14," Create an Account "),g.qZA(),g.TgZ(15,"button",7),g.NdJ("click",function(){return C.onLoginButton()}),g._uU(16,"Login"),g.qZA()()()()),2&p&&(g.xp6(4),g.Oqu(C.getStateText()),g.xp6(2),g.Q6J("formGroup",C.authenticatorForm),g.xp6(1),g.Q6J("ngIf",C.isLoginState()),g.xp6(1),g.Q6J("ngIf",C.isRegisterState()),g.xp6(1),g.Q6J("ngIf",C.isForgotPasswordState()))},dependencies:[fe.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,ae.x0,Je.lW,Ne.a8,Ne.hq,Ne.dn,Ne.dk,Ne.n5],styles:[".authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box}.authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid black;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}"]}),V})();var ze=E(1188);let vt=(()=>{class V{constructor(p,C,z){this.userDataService=p,this.loginSheet=C,this.storageService=z,this.backgroundStorage=""}ngOnInit(){this.storageService.getDataFromStorage("Background/home_background.jpg").subscribe(C=>this.backgroundStorage=`url(${C})`)}getIsLoggedIn(){return this.userDataService.isLoggedIn}onGetStartedClick(){this.loginSheet.open(Fe)}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(ne.M),g.Y36(Ee.ch),g.Y36(ze.V))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-home"]],decls:10,vars:3,consts:[[1,"home-page"],[1,"home-page-landing"],[1,"landing-left"],[1,"landing-left-content"],["mat-flat-button","",3,"disabled","click"]],template:function(p,C){1&p&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),g._uU(5,"Social Media App Platform"),g.qZA(),g.TgZ(6,"p"),g._uU(7,"Oh, hello, my precious friend!"),g.qZA(),g.TgZ(8,"button",4),g.NdJ("click",function(){return C.onGetStartedClick()}),g._uU(9," Get Started "),g.qZA()()()()()),2&p&&(g.xp6(1),g.Udp("background-image",C.backgroundStorage),g.xp6(7),g.Q6J("disabled",C.getIsLoggedIn()))},dependencies:[Je.lW],styles:[".home-page[_ngcontent-%COMP%]{width:100%;height:100%}.home-page-landing[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:100vh}.landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}.landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}.landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}.landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}.landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:2em;padding:.5em;background-color:#f44336}.landing-left-content[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#dcdcdc}"]}),V})(),_n=(()=>{class V{constructor(p,C){this.afAuth=p,this.router=C,this.afAuth.authState.subscribe(z=>{z?.emailVerified&&this.router.navigate([""])})}onResendClick(){this.afAuth.currentUser.then(p=>{p?.sendEmailVerification()})}onRefreshClick(){window.location.reload()}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(se.zQ),g.Y36(L.F0))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-email-verification"]],decls:8,vars:0,consts:[[1,"email-verification"],[1,"buttons"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(p,C){1&p&&(g.TgZ(0,"mat-card",0)(1,"h1"),g._uU(2,"Your Email is not verified"),g.qZA(),g.TgZ(3,"mat-card-content",1)(4,"button",2),g.NdJ("click",function(){return C.onResendClick()}),g._uU(5," Resend Verification Email "),g.qZA(),g.TgZ(6,"button",3),g.NdJ("click",function(){return C.onRefreshClick()}),g._uU(7," Refresh "),g.qZA()()())},dependencies:[Je.lW,Ne.a8,Ne.dn],styles:[".email-verification[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;text-align:center;justify-content:center}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px}"]}),V})();var kn=E(8505),ht=E(8746),ft=E(1627),kt=E(8445),Pt=E(1762),Qt=E(8577),Gt=E(430);function dn(V,y){1&V&&(g.TgZ(0,"div",9),g._UZ(1,"img",10),g.qZA())}const gn=function(V){return{error:V}};let an=(()=>{class V{constructor(p,C,z,me,Ye,lt,Lt){this.storage=p,this.afAuth=C,this.firestore=z,this.userDataService=me,this.dialogCreatePost=Ye,this.dialogOpen=lt,this.postsDataService=Lt,this.collection=this.firestore.collection("Posts"),this.createPostForm=new ae.cw({message:new ae.NI("",[ae.kI.required])})}checkMessage(){return!(!this.createPostForm.get("message")?.invalid||!this.createPostForm.get("message")?.touched)}onPostClick(){const p=this.createPostForm.get("message");p?.markAsTouched(),!p?.errors&&(this.selectedImageFile?this.uploadImagePost(p?.value):this.uploadPost(p?.value),this.postsDataService.newGetPosts("add"))}uploadImagePost(p){const C=this.firestore.createId(),z=`Posts/${C}/image`,me=this.storage.ref(z),Ye=this.storage.upload(z,this.selectedImageFile),lt=this.dialogOpen.open(ft.R,{disableClose:!0,data:{info:"Upload progress",message:""}});Ye.percentageChanges().pipe((0,kn.b)(Lt=>{lt.componentInstance.message={info:"Upload progress",message:`Upload progress: ${Lt?.toFixed(2)}%`}}),(0,ht.x)(()=>lt.close())).subscribe(),Ye.snapshotChanges().subscribe(Lt=>{"success"===Lt.state&&me.getDownloadURL().subscribe(on=>{this.postsDataService.uploadImagePost(C,p,on).then(()=>{this.dialogCreatePost.close()}).catch(Vn=>{console.error("Error writing document: ",Vn)})},on=>{console.error("Error getting image URL:",on)})})}uploadPost(p){this.postsDataService.uploadPost(p).then(()=>{this.dialogCreatePost.close()}).catch(C=>{console.error("Error writing document: ",C)})}photoSelected(p){if(this.selectedImageFile=p.files[0],!this.selectedImageFile)return;const C=new FileReader;C.readAsDataURL(this.selectedImageFile),C.addEventListener("loadend",z=>{const me=C.result.toString();document.getElementById("post-preview-image").src=me})}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(kt.Q1),g.Y36(se.zQ),g.Y36(Pt.ST),g.Y36(ne.M),g.Y36(de.so),g.Y36(de.uw),g.Y36(Qt.n))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-create-post"]],decls:16,vars:5,consts:[[3,"formGroup","submit"],["formControlName","message","placeholder","Type Message...",3,"ngClass"],["class","post-preview",4,"ngIf"],["align","end"],["type","button","mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["type","submit","mat-flat-button","","color","warn"],[1,"post-preview"],["id","post-preview-image"]],template:function(p,C){if(1&p){const z=g.EpF();g.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),g._uU(3,"Create post"),g.qZA()(),g.TgZ(4,"form",0),g.NdJ("submit",function(){return C.onPostClick()}),g._UZ(5,"textarea",1),g.YNc(6,dn,2,0,"div",2),g.TgZ(7,"mat-card-actions",3)(8,"button",4)(9,"label",5)(10,"input",6,7),g.NdJ("change",function(){g.CHM(z);const Ye=g.MAs(11);return g.KtG(C.photoSelected(Ye))}),g.qZA(),g.TgZ(12,"mat-icon"),g._uU(13,"insert_photo"),g.qZA()()(),g.TgZ(14,"button",8),g._uU(15,"Post"),g.qZA()()()()}2&p&&(g.xp6(4),g.Q6J("formGroup",C.createPostForm),g.xp6(1),g.Q6J("ngClass",g.VKq(3,gn,C.checkMessage())),g.xp6(1),g.Q6J("ngIf",C.selectedImageFile))},dependencies:[fe.mk,fe.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Je.lW,Ne.a8,Ne.hq,Ne.dk,Ne.n5,Gt.Hw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}.error[_ngcontent-%COMP%]::placeholder{color:red}.post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}.post-preview[_ngcontent-%COMP%]   #post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),V})();var At=E(5213);let Ke=(()=>{class V{constructor(p,C,z,me,Ye){this.userDataService=p,this.firestore=C,this.storage=z,this.postDataService=me,this.mainUserPageService=Ye,this.likes=0,this.isLiked=!1,this.yourLikeId=null,this.creatorName="",this.creatorDescription="",this.collectionUsers=this.firestore.collection("Users"),this.collectionPosts=this.firestore.collection("Posts")}deletePost(p){const C=this.userDataService.getCurrentUserId();this.collectionPosts.doc(p).delete().then(),this.mainUserPageService.deleteUserPost(C,p),this.postDataService.deleteCollection(p,"Likes"),this.postDataService.deleteCollection(p,"PostComments"),this.postDataService.newGetPosts("delete")}getCreatorInfo(p){this.collectionUsers.doc(p.creatorId).get().subscribe(C=>{const z=C.data();this.creatorName=z?.publicName||"",this.creatorDescription=z?.description||""})}likeButton(p){this.yourLikeId?this.deleteLike(p):this.checkCollectionExistence(p).then(C=>{C?this.addLike(p):this.createLike(p)}).catch(C=>{console.error("Error checking if collection exists:",C)})}addLike(p){const C=this.userDataService.getCurrentUserId(),z=this.firestore.createId();this.searchDocumentsByCreatorId(C,p).then(me=>{me.length<1&&this.collectionPosts.doc(p).collection("Likes").doc(z).set({likeId:z,creatorId:this.userDataService.getCurrentUserId(),timestamp:new Date}).then(()=>this.isLiked=!0)}).catch(me=>{console.error("Error when searching for documents:",me)})}createLike(p){const C=this.firestore.createId();this.collectionPosts.doc(p).collection("Likes").doc(C).set({likeId:C,creatorId:this.userDataService.getCurrentUserId(),timestamp:new Date}).then(()=>this.isLiked=!0)}listenToDocumentValueChanges(p,C){return this.collectionPosts.doc(p).collection(C).valueChanges()}getLikes(p){const C=p,me=this.userDataService.getCurrentUserId();this.listenToDocumentValueChanges(C,"Likes").subscribe(Ye=>{this.likes=Ye.length,Ye.find(lt=>{lt.creatorId==me&&(this.yourLikeId=lt.likeId,this.isLiked=!0)})})}deleteLike(p){this.yourLikeId&&this.collectionPosts.doc(p).collection("Likes").doc(this.yourLikeId).delete().then(()=>{this.isLiked=!1,this.yourLikeId=null})}searchDocumentsByCreatorId(p,C){return new Promise((z,me)=>{this.collectionPosts.doc(C).collection("Likes").ref.where("creatorId","==",p).get().then(lt=>{const Lt=[];lt.forEach(on=>{Lt.push(on.data())}),z(Lt)}).catch(lt=>{me(lt)})})}checkCollectionExistence(p){return new Promise((C,z)=>{this.collectionPosts.doc(p).collection("Likes").get().subscribe(Ye=>{C(!Ye.empty)},Ye=>{z(Ye)})})}downloadFile(p){this.storage.ref(p).getDownloadURL().subscribe(z=>{const me=document.createElement("a");me.href=z,me.setAttribute("download",""),me.setAttribute("target","_blank"),document.body.appendChild(me),me.click(),document.body.removeChild(me)})}}return V.\u0275fac=function(p){return new(p||V)(g.LFG(ne.M),g.LFG(Pt.ST),g.LFG(kt.Q1),g.LFG(Qt.n),g.LFG(At.v))},V.\u0275prov=g.Yz7({token:V,factory:V.\u0275fac}),V})(),Xe=(()=>{class V{constructor(p,C){this.firestore=p,this.userDataService=C,this.comments=[],this.collection=this.firestore.collection("Posts")}getComments(p){this.listenToDocumentValueChanges("Posts",p,"PostComments").subscribe(Ye=>{this.comments.length===Ye.length&&this.comments.every((Lt,on)=>Lt.comment===Ye[on].comment)||(this.comments=Ye)})}listenToDocumentValueChanges(p,C,z){return this.firestore.collection(p).doc(C).collection(z,Ye=>Ye.orderBy("timestamp","desc")).valueChanges()}sendComment(p,C){const z=this.firestore.createId();this.collection.doc(C).collection("PostComments").doc(z).set({commentId:z,comment:p,creatorId:this.userDataService.userInfo.userId,creatorName:this.userDataService.userInfo.publicName,timestamp:new Date})}updateComment(p,C,z){this.collection.doc(C).collection("PostComments").doc(p.commentId).update({comment:z})}deleteComment(p,C){this.collection.doc(C).collection("PostComments").doc(p.commentId).delete()}isCommentCreator(p){return p.creatorId===this.userDataService.userInfo.userId}getUserInfoById(p){return this.firestore.collection("Users").doc(p).valueChanges()}}return V.\u0275fac=function(p){return new(p||V)(g.LFG(Pt.ST),g.LFG(ne.M))},V.\u0275prov=g.Yz7({token:V,factory:V.\u0275fac}),V})();var Ct=E(2659);function yt(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"button",6),g.NdJ("click",function(){g.CHM(p);const z=g.oxw(2);return g.KtG(z.chaneCommentClick())}),g._uU(1," Change "),g.qZA()}}function Ht(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"button",6),g.NdJ("click",function(){g.CHM(p);const z=g.oxw(2);return g.KtG(z.responseCommentClick())}),g._uU(1," Response "),g.qZA()}}function Tt(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"button",7),g.NdJ("click",function(){g.CHM(p);const z=g.oxw(2);return g.KtG(z.deleteCommentClick())}),g._uU(1," Delete "),g.qZA()}}function un(V,y){if(1&V&&(g.YNc(0,yt,2,0,"button",4),g.YNc(1,Ht,2,0,"button",4),g.YNc(2,Tt,2,0,"button",5)),2&V){const p=g.oxw();g.Q6J("ngIf",p.isCommentCreator()),g.xp6(1),g.Q6J("ngIf",!p.isCommentCreator()),g.xp6(1),g.Q6J("ngIf",p.isCommentCreator())}}const Jt=function(V){return{comment:!0,"creator-comment":V}};let yn=(()=>{class V{constructor(p){this.replyService=p,this.chaneComment=new g.vpe,this.responseComment=new g.vpe,this.userName=""}ngOnInit(){this.replyService.getUserInfoById(this.commentData.creatorId).subscribe(p=>{this.userName=p?.publicName||""})}isCommentCreator(){return this.replyService.isCommentCreator(this.commentData)}chaneCommentClick(){this.chaneComment.emit(this.commentData)}deleteCommentClick(){this.replyService.deleteComment(this.commentData,this.postId)}responseCommentClick(){this.responseComment.emit(this.userName)}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(Xe))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-comment"]],inputs:{commentData:"commentData",postId:"postId"},outputs:{chaneComment:"chaneComment",responseComment:"responseComment"},decls:8,vars:6,consts:[[1,"comment-name"],[3,"ngClass","matMenuTriggerFor"],["menu","matMenu"],["matMenuContent",""],["mat-menu-item","",3,"click",4,"ngIf"],["class","delete","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(p,C){if(1&p&&(g.TgZ(0,"div")(1,"div",0),g._uU(2),g.qZA(),g.TgZ(3,"div",1),g._uU(4),g.qZA(),g.TgZ(5,"mat-menu",null,2),g.YNc(7,un,3,3,"ng-template",3),g.qZA()()),2&p){const z=g.MAs(6);g.xp6(2),g.Oqu(C.userName),g.xp6(1),g.Q6J("ngClass",g.VKq(4,Jt,C.isCommentCreator()))("matMenuTriggerFor",z),g.xp6(1),g.hij(" ",C.commentData.comment," ")}},dependencies:[fe.mk,fe.O5,Ct.VK,Ct.OP,Ct.KA,Ct.p6],styles:[".comment[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;word-wrap:break-word;border-radius:1em;background-color:#dcdcdc;padding:1em}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}.mat-mdc-select-placeholder[_ngcontent-%COMP%]{color:#fff}.mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none!important}"]}),V})();const Gn=["commentInput"],ci=function(V){return{"comment-container":!0,"creator-comment-container":V}};function Hn(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"div",7)(1,"app-comment",8),g.NdJ("chaneComment",function(z){g.CHM(p);const me=g.oxw();return g.KtG(me.chaneComment(z))})("responseComment",function(z){g.CHM(p);const me=g.oxw();return g.KtG(me.responseComment(z))}),g.qZA()()}if(2&V){const p=y.$implicit,C=g.oxw();g.Q6J("ngClass",g.VKq(3,ci,C.isCommentCreator(p))),g.xp6(1),g.Q6J("postId",C.postId)("commentData",p)}}const Ut=function(V){return{error:V}};let ce=(()=>{class V{constructor(p,C,z){this.postId=p,this.userDataService=C,this.replyService=z,this.isChangeComment=!1,this.replyForm=new ae.cw({comment:new ae.NI("",[ae.kI.required])})}ngOnInit(){this.replyService.getComments(this.postId)}getPostComments(){return this.replyService.comments}onSendClick(){const p=this.replyForm.get("comment");p?.markAsTouched(),p&&!p.errors&&(this.isChangeComment?(this.replyService.updateComment(this.selectedComment,this.postId,p.value),this.isChangeComment=!1,p.reset()):(this.replyService.sendComment(p.value,this.postId),p.reset()))}checkComment(){return!(!this.replyForm.get("comment")?.invalid||!this.replyForm.get("comment")?.touched)}isCommentCreator(p){return this.replyService.isCommentCreator(p)}chaneComment(p){this.isChangeComment=!0,this.replyForm.get("comment")?.setValue(p.comment),this.commentInput.nativeElement.focus(),this.selectedComment=p}responseComment(p){this.replyForm.get("comment")?.setValue(`@${p}_`),this.commentInput.nativeElement.focus()}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(de.WI),g.Y36(ne.M),g.Y36(Xe))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-reply"]],viewQuery:function(p,C){if(1&p&&g.Gf(Gn,5),2&p){let z;g.iGM(z=g.CRH())&&(C.commentInput=z.first)}},features:[g._Bn([Xe])],decls:11,vars:5,consts:[[1,"comments"],[1,"reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"reply-action-bar",3,"formGroup","submit"],["type","submit","mat-flat-button","","color","primary"],["formControlName","comment","placeholder","Comment...",3,"ngClass"],["commentInput",""],[3,"ngClass"],[3,"postId","commentData","chaneComment","responseComment"]],template:function(p,C){1&p&&(g.TgZ(0,"mat-card",0)(1,"mat-card-header"),g._uU(2," Comments "),g.qZA(),g.TgZ(3,"mat-card-content",1),g.YNc(4,Hn,2,5,"div",2),g.qZA(),g.TgZ(5,"form",3),g.NdJ("submit",function(){return C.onSendClick()}),g.TgZ(6,"button",4)(7,"mat-icon"),g._uU(8,"send"),g.qZA()(),g._UZ(9,"input",5,6),g.qZA()()),2&p&&(g.xp6(4),g.Q6J("ngForOf",C.getPostComments()),g.xp6(1),g.Q6J("formGroup",C.replyForm),g.xp6(4),g.Q6J("ngClass",g.VKq(3,Ut,C.checkComment())))},dependencies:[fe.mk,fe.sg,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Je.lW,Ne.a8,Ne.dn,Ne.dk,Gt.Hw,yn],styles:[".comments[_ngcontent-%COMP%]{padding:1em;height:100%;width:100%}.comments[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.reply-box[_ngcontent-%COMP%]{width:100%;height:350px;overflow:auto;min-width:500px;max-width:600px;padding:1em 1em 0;box-sizing:border-box;background-color:#eaeaea}.reply-action-bar[_ngcontent-%COMP%]{margin:1em 0 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;direction:rtl}.reply-action-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.reply-action-bar[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border-color:#f44336}.reply-action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:3em}.comment-container[_ngcontent-%COMP%]{display:flex}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}"]}),V})();function Ve(V,y){if(1&V&&g._UZ(0,"img",8),2&V){const p=g.oxw();g.s9C("src",p.postData.imageUrl,g.LSH)}}function mt(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"mat-icon",4),g.NdJ("click",function(){g.CHM(p);const z=g.oxw();return g.KtG(z.downloadImageClick())}),g._uU(1," open_in_new "),g.qZA()}}function at(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"mat-icon",4),g.NdJ("click",function(){g.CHM(p);const z=g.oxw();return g.KtG(z.deletePostClick())}),g._uU(1,"delete"),g.qZA()}}let We=(()=>{class V{constructor(p,C,z,me){this.dialog=p,this.userDataService=C,this.postService=z,this.mainUserPageService=me}ngOnInit(){this.postService.getCreatorInfo(this.postData),this.postService.getLikes(this.postData.postId)}getDate(){return this.postData.timestamp.toDate()}getCreatorName(){return this.postService.creatorName}getIsLiked(){return this.postService.isLiked}onReplyClick(){this.dialog.open(ce,{data:this.postData.postId})}getLikes(){return this.postService.likes}onLikeClick(){this.postService.likeButton(this.postData.postId)}downloadImageClick(){this.postService.downloadFile(`Posts/${this.postData.postId}/image`)}checkDeleteButton(){return this.postData.creatorId===this.userDataService.userInfo.userId}deletePostClick(){this.dialog.open(_e.S,{data:{info:"Post deletion",message:"Do you really want to remove this post?",addButton:!0,nameButton:"Yes"}}).afterClosed().subscribe(C=>{C&&this.postService.deletePost(this.postData.postId)})}goToFriendPageClick(){this.mainUserPageService.goToFriendPage(this.postData.creatorId)}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(de.uw),g.Y36(ne.M),g.Y36(Ke),g.Y36(At.v))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-post"]],inputs:{postData:"postData"},features:[g._Bn([Ke])],decls:20,vars:11,consts:[[1,"post"],[1,"creator-name",3,"click"],[1,"comment"],["class","image","mat-card-image","","alt","img",3,"src",4,"ngIf"],["color","warn",1,"action-item",3,"click"],[1,"likes"],[1,"likes-number"],["class","action-item","color","warn",3,"click",4,"ngIf"],["mat-card-image","","alt","img",1,"image",3,"src"]],template:function(p,C){1&p&&(g.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),g.NdJ("click",function(){return C.goToFriendPageClick()}),g._uU(3),g.qZA(),g.TgZ(4,"mat-card-subtitle"),g._uU(5),g.ALo(6,"date"),g.qZA()(),g.TgZ(7,"mat-card-content",2),g._uU(8),g.qZA(),g.YNc(9,Ve,1,1,"img",3),g.TgZ(10,"mat-card-actions")(11,"mat-icon",4),g.NdJ("click",function(){return C.onReplyClick()}),g._uU(12," chat_bubble_outline "),g.qZA(),g.TgZ(13,"div",5)(14,"mat-icon",4),g.NdJ("click",function(){return C.onLikeClick()}),g._uU(15),g.qZA(),g.TgZ(16,"div",6),g._uU(17),g.qZA()(),g.YNc(18,mt,2,0,"mat-icon",7),g.YNc(19,at,2,0,"mat-icon",7),g.qZA()()),2&p&&(g.xp6(3),g.Oqu(C.getCreatorName()),g.xp6(2),g.Oqu(g.xi3(6,8,C.getDate(),"MMM d, y, H:mm ")),g.xp6(3),g.hij(" ",C.postData.comment," "),g.xp6(1),g.Q6J("ngIf",C.postData.imageUrl),g.xp6(6),g.hij(" ",C.getIsLiked()?"favorite":"favorite_border","favorite_border "),g.xp6(2),g.Oqu(C.getLikes()),g.xp6(1),g.Q6J("ngIf",C.postData.imageUrl),g.xp6(1),g.Q6J("ngIf",C.checkDeleteButton()))},dependencies:[fe.O5,Ne.a8,Ne.hq,Ne.dn,Ne.dk,Ne.G2,Ne.$j,Ne.n5,Gt.Hw,fe.uU],styles:[".post[_ngcontent-%COMP%]{width:500px;margin-top:2em;background-color:#f1f1f1}.creator-name[_ngcontent-%COMP%]{cursor:pointer;font-size:24px}.creator-name[_ngcontent-%COMP%]:hover{color:#f44336}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}.comment[_ngcontent-%COMP%]{padding:10px;margin:10px 10px 0;border-radius:1em;background-color:#c4c4c4}.image[_ngcontent-%COMP%]{margin:10px;height:auto}.likes[_ngcontent-%COMP%]{width:auto;display:flex;justify-content:center}.likes-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),V})();function Qe(V,y){1&V&&g._UZ(0,"app-post",4),2&V&&g.Q6J("postData",y.$implicit)}const Vt=[{path:"",component:vt},{path:"emailVerification",component:_n},{path:"userPage",loadChildren:()=>Promise.all([E.e(592),E.e(56)]).then(E.bind(E,56)).then(V=>V.MainUserPageModule)},{path:"friendPage",loadChildren:()=>Promise.all([E.e(592),E.e(991)]).then(E.bind(E,2991)).then(V=>V.FriendPageModule)},{path:"postFeed",component:(()=>{class V{constructor(p,C,z){this.dialog=p,this.postsDataService=C,this.storageService=z,this.limit=3,this.backgroundStorage=""}ngOnInit(){this.storageService.getDataFromStorage("Background/post-feed2.jpg").subscribe(C=>this.backgroundStorage=`url(${C})`),this.postsDataService.getCountOfDocuments(),this.postsDataService.getFirstPosts(),this.postsDataService.getScrollPosts()}getPosts(){return this.postsDataService.posts}onCreatePostClick(){this.dialog.open(an)}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(de.uw),g.Y36(Qt.n),g.Y36(ze.V))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-post-feed"]],decls:8,vars:3,consts:[[1,"news-line"],[1,"post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn",1,"post-button",3,"click"],[3,"postData"]],template:function(p,C){1&p&&(g.TgZ(0,"div",0)(1,"div",1),g.YNc(2,Qe,1,1,"app-post",2),g.qZA(),g.TgZ(3,"button",3),g.NdJ("click",function(){return C.onCreatePostClick()}),g.TgZ(4,"div"),g._uU(5,"Create post"),g.qZA(),g.TgZ(6,"mat-icon"),g._uU(7,"add"),g.qZA()()()),2&p&&(g.Udp("background-image",C.backgroundStorage),g.xp6(2),g.Q6J("ngForOf",C.getPosts()))},dependencies:[fe.sg,Je.cs,Gt.Hw,We],styles:[".news-line[_ngcontent-%COMP%]{display:flex;padding-top:5em;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}.post-button[_ngcontent-%COMP%]{width:10em;position:fixed;bottom:2em;right:2em}.post-feed[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}"]}),V})(),canActivate:[xe]},{path:"**",component:vt}];let ln=(()=>{class V{}return V.\u0275fac=function(p){return new(p||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({providers:[xe],imports:[L.Bz.forRoot(Vt),L.Bz]}),V})();var Mt=E(1591);function An(V){return new g.vHH(3e3,!1)}function Ln(V){switch(V.length){case 0:return new Mt.ZN;case 1:return V[0];default:return new Mt.ZE(V)}}function ai(V,y,p=new Map,C=new Map){const z=[],me=[];let Ye=-1,lt=null;if(y.forEach(Lt=>{const on=Lt.get("offset"),Vn=on==Ye,qn=Vn&&lt||new Map;Lt.forEach((Hi,ki)=>{let fi=ki,pi=Hi;if("offset"!==ki)switch(fi=V.normalizePropertyName(fi,z),pi){case Mt.k1:pi=p.get(ki);break;case Mt.l3:pi=C.get(ki);break;default:pi=V.normalizeStyleValue(ki,fi,pi,z)}qn.set(fi,pi)}),Vn||me.push(qn),lt=qn,Ye=on}),z.length)throw function Et(V){return new g.vHH(3502,!1)}();return me}function Wi(V,y,p,C){switch(y){case"start":V.onStart(()=>C(p&&gi(p,"start",V)));break;case"done":V.onDone(()=>C(p&&gi(p,"done",V)));break;case"destroy":V.onDestroy(()=>C(p&&gi(p,"destroy",V)))}}function gi(V,y,p){const me=vr(V.element,V.triggerName,V.fromState,V.toState,y||V.phaseName,p.totalTime??V.totalTime,!!p.disabled),Ye=V._data;return null!=Ye&&(me._data=Ye),me}function vr(V,y,p,C,z="",me=0,Ye){return{element:V,triggerName:y,fromState:p,toState:C,phaseName:z,totalTime:me,disabled:!!Ye}}function tr(V,y,p){let C=V.get(y);return C||V.set(y,C=p),C}function vo(V){const y=V.indexOf(":");return[V.substring(1,y),V.slice(y+1)]}const us=(()=>typeof document>"u"?null:document.documentElement)();function yr(V){const y=V.parentNode||V.host||null;return y===us?null:y}let fr=null,to=!1;function fo(V,y){for(;y;){if(y===V)return!0;y=yr(y)}return!1}function so(V,y,p){if(p)return Array.from(V.querySelectorAll(y));const C=V.querySelector(y);return C?[C]:[]}let Co=(()=>{class V{validateStyleProperty(p){return function yo(V){fr||(fr=function es(){return typeof document<"u"?document.body:null}()||{},to=!!fr.style&&"WebkitAppearance"in fr.style);let y=!0;return fr.style&&!function oo(V){return"ebkit"==V.substring(1,6)}(V)&&(y=V in fr.style,!y&&to&&(y="Webkit"+V.charAt(0).toUpperCase()+V.slice(1)in fr.style)),y}(p)}matchesElement(p,C){return!1}containsElement(p,C){return fo(p,C)}getParentElement(p){return yr(p)}query(p,C,z){return so(p,C,z)}computeStyle(p,C,z){return z||""}animate(p,C,z,me,Ye,lt=[],Lt){return new Mt.ZN(z,me)}}return V.\u0275fac=function(p){return new(p||V)},V.\u0275prov=g.Yz7({token:V,factory:V.\u0275fac}),V})(),Wr=(()=>{class V{}return V.NOOP=new Co,V})();const Ro=1e3,Uo="ng-enter",Hr="ng-leave",mr="ng-trigger",Vo=".ng-trigger",fs="ng-animating",si=".ng-animating";function qi(V){if("number"==typeof V)return V;const y=V.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Di(parseFloat(y[1]),y[2])}function Di(V,y){return"s"===y?V*Ro:V}function zr(V,y,p){return V.hasOwnProperty("duration")?V:function Kr(V,y,p){let z,me=0,Ye="";if("string"==typeof V){const lt=V.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===lt)return y.push(An()),{duration:0,delay:0,easing:""};z=Di(parseFloat(lt[1]),lt[2]);const Lt=lt[3];null!=Lt&&(me=Di(parseFloat(Lt),lt[4]));const on=lt[5];on&&(Ye=on)}else z=V;if(!p){let lt=!1,Lt=y.length;z<0&&(y.push(function ke(){return new g.vHH(3100,!1)}()),lt=!0),me<0&&(y.push(function gt(){return new g.vHH(3101,!1)}()),lt=!0),lt&&y.splice(Lt,0,An())}return{duration:z,delay:me,easing:Ye}}(V,y,p)}function Do(V,y={}){return Object.keys(V).forEach(p=>{y[p]=V[p]}),y}function _t(V){const y=new Map;return Object.keys(V).forEach(p=>{y.set(p,V[p])}),y}function rn(V,y=new Map,p){if(p)for(let[C,z]of p)y.set(C,z);for(let[C,z]of V)y.set(C,z);return y}function cn(V,y,p){y.forEach((C,z)=>{const me=Zr(z);p&&!p.has(z)&&p.set(z,V.style[me]),V.style[me]=C})}function nn(V,y){y.forEach((p,C)=>{const z=Zr(C);V.style[z]=""})}function Rn(V){return Array.isArray(V)?1==V.length?V[0]:(0,Mt.vP)(V):V}const ui=new RegExp("{{\\s*(.+?)\\s*}}","g");function kr(V){let y=[];if("string"==typeof V){let p;for(;p=ui.exec(V);)y.push(p[1]);ui.lastIndex=0}return y}function or(V,y,p){const C=V.toString(),z=C.replace(ui,(me,Ye)=>{let lt=y[Ye];return null==lt&&(p.push(function In(V){return new g.vHH(3003,!1)}()),lt=""),lt.toString()});return z==C?V:z}function Qi(V){const y=[];let p=V.next();for(;!p.done;)y.push(p.value),p=V.next();return y}const $i=/-+([a-z0-9])/g;function Zr(V){return V.replace($i,(...y)=>y[1].toUpperCase())}function pr(V,y,p){switch(y.type){case 7:return V.visitTrigger(y,p);case 0:return V.visitState(y,p);case 1:return V.visitTransition(y,p);case 2:return V.visitSequence(y,p);case 3:return V.visitGroup(y,p);case 4:return V.visitAnimate(y,p);case 5:return V.visitKeyframes(y,p);case 6:return V.visitStyle(y,p);case 8:return V.visitReference(y,p);case 9:return V.visitAnimateChild(y,p);case 10:return V.visitAnimateRef(y,p);case 11:return V.visitQuery(y,p);case 12:return V.visitStagger(y,p);default:throw function di(V){return new g.vHH(3004,!1)}()}}function Yr(V,y){return window.getComputedStyle(V)[y]}const sr="*";function ar(V,y){const p=[];return"string"==typeof V?V.split(/\s*,\s*/).forEach(C=>function ps(V,y,p){if(":"==V[0]){const Lt=function So(V,y){switch(V){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(p,C)=>parseFloat(C)>parseFloat(p);case":decrement":return(p,C)=>parseFloat(C)<parseFloat(p);default:return y.push(function $(V){return new g.vHH(3016,!1)}()),"* => *"}}(V,p);if("function"==typeof Lt)return void y.push(Lt);V=Lt}const C=V.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return p.push(function U(V){return new g.vHH(3015,!1)}()),y;const z=C[1],me=C[2],Ye=C[3];y.push(bo(z,Ye));"<"==me[0]&&!(z==sr&&Ye==sr)&&y.push(bo(Ye,z))}(C,p,y)):p.push(V),p}const Ti=new Set(["true","1"]),Vi=new Set(["false","0"]);function bo(V,y){const p=Ti.has(V)||Vi.has(V),C=Ti.has(y)||Vi.has(y);return(z,me)=>{let Ye=V==sr||V==z,lt=y==sr||y==me;return!Ye&&p&&"boolean"==typeof z&&(Ye=z?Ti.has(V):Vi.has(V)),!lt&&C&&"boolean"==typeof me&&(lt=me?Ti.has(y):Vi.has(y)),Ye&&lt}}const mo=new RegExp("s*:selfs*,?","g");function jo(V,y,p,C){return new ks(V).build(y,p,C)}class ks{constructor(y){this._driver=y}build(y,p,C){const z=new Ki(p);return this._resetContextStyleTimingState(z),pr(this,Rn(y),z)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,p){let C=p.queryCount=0,z=p.depCount=0;const me=[],Ye=[];return"@"==y.name.charAt(0)&&p.errors.push(function mi(){return new g.vHH(3006,!1)}()),y.definitions.forEach(lt=>{if(this._resetContextStyleTimingState(p),0==lt.type){const Lt=lt,on=Lt.name;on.toString().split(/\s*,\s*/).forEach(Vn=>{Lt.name=Vn,me.push(this.visitState(Lt,p))}),Lt.name=on}else if(1==lt.type){const Lt=this.visitTransition(lt,p);C+=Lt.queryCount,z+=Lt.depCount,Ye.push(Lt)}else p.errors.push(function Yt(){return new g.vHH(3007,!1)}())}),{type:7,name:y.name,states:me,transitions:Ye,queryCount:C,depCount:z,options:null}}visitState(y,p){const C=this.visitStyle(y.styles,p),z=y.options&&y.options.params||null;if(C.containsDynamicStyles){const me=new Set,Ye=z||{};C.styles.forEach(lt=>{lt instanceof Map&&lt.forEach(Lt=>{kr(Lt).forEach(on=>{Ye.hasOwnProperty(on)||me.add(on)})})}),me.size&&(Qi(me.values()),p.errors.push(function et(V,y){return new g.vHH(3008,!1)}()))}return{type:0,name:y.name,style:C,options:z?{params:z}:null}}visitTransition(y,p){p.queryCount=0,p.depCount=0;const C=pr(this,Rn(y.animation),p);return{type:1,matchers:ar(y.expr,p.errors),animation:C,queryCount:p.queryCount,depCount:p.depCount,options:ur(y.options)}}visitSequence(y,p){return{type:2,steps:y.steps.map(C=>pr(this,C,p)),options:ur(y.options)}}visitGroup(y,p){const C=p.currentTime;let z=0;const me=y.steps.map(Ye=>{p.currentTime=C;const lt=pr(this,Ye,p);return z=Math.max(z,p.currentTime),lt});return p.currentTime=z,{type:3,steps:me,options:ur(y.options)}}visitAnimate(y,p){const C=function po(V,y){if(V.hasOwnProperty("duration"))return V;if("number"==typeof V)return Fo(zr(V,y).duration,0,"");const p=V;if(p.split(/\s+/).some(me=>"{"==me.charAt(0)&&"{"==me.charAt(1))){const me=Fo(0,0,"");return me.dynamic=!0,me.strValue=p,me}const z=zr(p,y);return Fo(z.duration,z.delay,z.easing)}(y.timings,p.errors);p.currentAnimateTimings=C;let z,me=y.styles?y.styles:(0,Mt.oB)({});if(5==me.type)z=this.visitKeyframes(me,p);else{let Ye=y.styles,lt=!1;if(!Ye){lt=!0;const on={};C.easing&&(on.easing=C.easing),Ye=(0,Mt.oB)(on)}p.currentTime+=C.duration+C.delay;const Lt=this.visitStyle(Ye,p);Lt.isEmptyStep=lt,z=Lt}return p.currentAnimateTimings=null,{type:4,timings:C,style:z,options:null}}visitStyle(y,p){const C=this._makeStyleAst(y,p);return this._validateStyleAst(C,p),C}_makeStyleAst(y,p){const C=[],z=Array.isArray(y.styles)?y.styles:[y.styles];for(let lt of z)"string"==typeof lt?lt===Mt.l3?C.push(lt):p.errors.push(new g.vHH(3002,!1)):C.push(_t(lt));let me=!1,Ye=null;return C.forEach(lt=>{if(lt instanceof Map&&(lt.has("easing")&&(Ye=lt.get("easing"),lt.delete("easing")),!me))for(let Lt of lt.values())if(Lt.toString().indexOf("{{")>=0){me=!0;break}}),{type:6,styles:C,easing:Ye,offset:y.offset,containsDynamicStyles:me,options:null}}_validateStyleAst(y,p){const C=p.currentAnimateTimings;let z=p.currentTime,me=p.currentTime;C&&me>0&&(me-=C.duration+C.delay),y.styles.forEach(Ye=>{"string"!=typeof Ye&&Ye.forEach((lt,Lt)=>{const on=p.collectedStyles.get(p.currentQuerySelector),Vn=on.get(Lt);let qn=!0;Vn&&(me!=z&&me>=Vn.startTime&&z<=Vn.endTime&&(p.errors.push(function Oe(V,y,p,C,z){return new g.vHH(3010,!1)}()),qn=!1),me=Vn.startTime),qn&&on.set(Lt,{startTime:me,endTime:z}),p.options&&function ii(V,y,p){const C=y.params||{},z=kr(V);z.length&&z.forEach(me=>{C.hasOwnProperty(me)||p.push(function $t(V){return new g.vHH(3001,!1)}())})}(lt,p.options,p.errors)})})}visitKeyframes(y,p){const C={type:5,styles:[],options:null};if(!p.currentAnimateTimings)return p.errors.push(function Ie(){return new g.vHH(3011,!1)}()),C;let me=0;const Ye=[];let lt=!1,Lt=!1,on=0;const Vn=y.steps.map(Gr=>{const Mo=this._makeStyleAst(Gr,p);let Zi=null!=Mo.offset?Mo.offset:function Mr(V){if("string"==typeof V)return null;let y=null;if(Array.isArray(V))V.forEach(p=>{if(p instanceof Map&&p.has("offset")){const C=p;y=parseFloat(C.get("offset")),C.delete("offset")}});else if(V instanceof Map&&V.has("offset")){const p=V;y=parseFloat(p.get("offset")),p.delete("offset")}return y}(Mo.styles),Wn=0;return null!=Zi&&(me++,Wn=Mo.offset=Zi),Lt=Lt||Wn<0||Wn>1,lt=lt||Wn<on,on=Wn,Ye.push(Wn),Mo});Lt&&p.errors.push(function xt(){return new g.vHH(3012,!1)}()),lt&&p.errors.push(function jt(){return new g.vHH(3200,!1)}());const qn=y.steps.length;let Hi=0;me>0&&me<qn?p.errors.push(function Te(){return new g.vHH(3202,!1)}()):0==me&&(Hi=1/(qn-1));const ki=qn-1,fi=p.currentTime,pi=p.currentAnimateTimings,ei=pi.duration;return Vn.forEach((Gr,Mo)=>{const Zi=Hi>0?Mo==ki?1:Hi*Mo:Ye[Mo],Wn=Zi*ei;p.currentTime=fi+pi.delay+Wn,pi.duration=Wn,this._validateStyleAst(Gr,p),Gr.offset=Zi,C.styles.push(Gr)}),C}visitReference(y,p){return{type:8,animation:pr(this,Rn(y.animation),p),options:ur(y.options)}}visitAnimateChild(y,p){return p.depCount++,{type:9,options:ur(y.options)}}visitAnimateRef(y,p){return{type:10,animation:this.visitReference(y.animation,p),options:ur(y.options)}}visitQuery(y,p){const C=p.currentQuerySelector,z=y.options||{};p.queryCount++,p.currentQuery=y;const[me,Ye]=function Br(V){const y=!!V.split(/\s*,\s*/).find(p=>":self"==p);return y&&(V=V.replace(mo,"")),V=V.replace(/@\*/g,Vo).replace(/@\w+/g,p=>Vo+"-"+p.slice(1)).replace(/:animating/g,si),[V,y]}(y.selector);p.currentQuerySelector=C.length?C+" "+me:me,tr(p.collectedStyles,p.currentQuerySelector,new Map);const lt=pr(this,Rn(y.animation),p);return p.currentQuery=null,p.currentQuerySelector=C,{type:11,selector:me,limit:z.limit||0,optional:!!z.optional,includeSelf:Ye,animation:lt,originalSelector:y.selector,options:ur(y.options)}}visitStagger(y,p){p.currentQuery||p.errors.push(function oe(){return new g.vHH(3013,!1)}());const C="full"===y.timings?{duration:0,delay:0,easing:"full"}:zr(y.timings,p.errors,!0);return{type:12,animation:pr(this,Rn(y.animation),p),timings:C,options:null}}}class Ki{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ur(V){return V?(V=Do(V)).params&&(V.params=function gs(V){return V?Do(V):null}(V.params)):V={},V}function Fo(V,y,p){return{duration:V,delay:y,easing:p}}function Gi(V,y,p,C,z,me,Ye=null,lt=!1){return{type:1,element:V,keyframes:y,preStyleProps:p,postStyleProps:C,duration:z,delay:me,totalTime:z+me,easing:Ye,subTimeline:lt}}class go{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,p){let C=this._map.get(y);C||this._map.set(y,C=[]),C.push(...p)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Ze=new RegExp(":enter","g"),Y=new RegExp(":leave","g");function ot(V,y,p,C,z,me=new Map,Ye=new Map,lt,Lt,on=[]){return(new hn).buildKeyframes(V,y,p,C,z,me,Ye,lt,Lt,on)}class hn{buildKeyframes(y,p,C,z,me,Ye,lt,Lt,on,Vn=[]){on=on||new go;const qn=new _i(y,p,on,z,me,Vn,[]);qn.options=Lt;const Hi=Lt.delay?qi(Lt.delay):0;qn.currentTimeline.delayNextStep(Hi),qn.currentTimeline.setStyles([Ye],null,qn.errors,Lt),pr(this,C,qn);const ki=qn.timelines.filter(fi=>fi.containsAnimation());if(ki.length&&lt.size){let fi;for(let pi=ki.length-1;pi>=0;pi--){const ei=ki[pi];if(ei.element===p){fi=ei;break}}fi&&!fi.allowOnlyTimelineStyles()&&fi.setStyles([lt],null,qn.errors,Lt)}return ki.length?ki.map(fi=>fi.buildKeyframes()):[Gi(p,[],[],[],0,Hi,"",!1)]}visitTrigger(y,p){}visitState(y,p){}visitTransition(y,p){}visitAnimateChild(y,p){const C=p.subInstructions.get(p.element);if(C){const z=p.createSubContext(y.options),me=p.currentTimeline.currentTime,Ye=this._visitSubInstructions(C,z,z.options);me!=Ye&&p.transformIntoNewTimeline(Ye)}p.previousNode=y}visitAnimateRef(y,p){const C=p.createSubContext(y.options);C.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],p,C),this.visitReference(y.animation,C),p.transformIntoNewTimeline(C.currentTimeline.currentTime),p.previousNode=y}_applyAnimationRefDelays(y,p,C){for(const z of y){const me=z?.delay;if(me){const Ye="number"==typeof me?me:qi(or(me,z?.params??{},p.errors));C.delayNextStep(Ye)}}}_visitSubInstructions(y,p,C){let me=p.currentTimeline.currentTime;const Ye=null!=C.duration?qi(C.duration):null,lt=null!=C.delay?qi(C.delay):null;return 0!==Ye&&y.forEach(Lt=>{const on=p.appendInstructionToTimeline(Lt,Ye,lt);me=Math.max(me,on.duration+on.delay)}),me}visitReference(y,p){p.updateOptions(y.options,!0),pr(this,y.animation,p),p.previousNode=y}visitSequence(y,p){const C=p.subContextCount;let z=p;const me=y.options;if(me&&(me.params||me.delay)&&(z=p.createSubContext(me),z.transformIntoNewTimeline(),null!=me.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=vn);const Ye=qi(me.delay);z.delayNextStep(Ye)}y.steps.length&&(y.steps.forEach(Ye=>pr(this,Ye,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>C&&z.transformIntoNewTimeline()),p.previousNode=y}visitGroup(y,p){const C=[];let z=p.currentTimeline.currentTime;const me=y.options&&y.options.delay?qi(y.options.delay):0;y.steps.forEach(Ye=>{const lt=p.createSubContext(y.options);me&&lt.delayNextStep(me),pr(this,Ye,lt),z=Math.max(z,lt.currentTimeline.currentTime),C.push(lt.currentTimeline)}),C.forEach(Ye=>p.currentTimeline.mergeTimelineCollectedStyles(Ye)),p.transformIntoNewTimeline(z),p.previousNode=y}_visitTiming(y,p){if(y.dynamic){const C=y.strValue;return zr(p.params?or(C,p.params,p.errors):C,p.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,p){const C=p.currentAnimateTimings=this._visitTiming(y.timings,p),z=p.currentTimeline;C.delay&&(p.incrementTime(C.delay),z.snapshotCurrentStyles());const me=y.style;5==me.type?this.visitKeyframes(me,p):(p.incrementTime(C.duration),this.visitStyle(me,p),z.applyStylesToKeyframe()),p.currentAnimateTimings=null,p.previousNode=y}visitStyle(y,p){const C=p.currentTimeline,z=p.currentAnimateTimings;!z&&C.hasCurrentStyleProperties()&&C.forwardFrame();const me=z&&z.easing||y.easing;y.isEmptyStep?C.applyEmptyStep(me):C.setStyles(y.styles,me,p.errors,p.options),p.previousNode=y}visitKeyframes(y,p){const C=p.currentAnimateTimings,z=p.currentTimeline.duration,me=C.duration,lt=p.createSubContext().currentTimeline;lt.easing=C.easing,y.styles.forEach(Lt=>{lt.forwardTime((Lt.offset||0)*me),lt.setStyles(Lt.styles,Lt.easing,p.errors,p.options),lt.applyStylesToKeyframe()}),p.currentTimeline.mergeTimelineCollectedStyles(lt),p.transformIntoNewTimeline(z+me),p.previousNode=y}visitQuery(y,p){const C=p.currentTimeline.currentTime,z=y.options||{},me=z.delay?qi(z.delay):0;me&&(6===p.previousNode.type||0==C&&p.currentTimeline.hasCurrentStyleProperties())&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=vn);let Ye=C;const lt=p.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!z.optional,p.errors);p.currentQueryTotal=lt.length;let Lt=null;lt.forEach((on,Vn)=>{p.currentQueryIndex=Vn;const qn=p.createSubContext(y.options,on);me&&qn.delayNextStep(me),on===p.element&&(Lt=qn.currentTimeline),pr(this,y.animation,qn),qn.currentTimeline.applyStylesToKeyframe(),Ye=Math.max(Ye,qn.currentTimeline.currentTime)}),p.currentQueryIndex=0,p.currentQueryTotal=0,p.transformIntoNewTimeline(Ye),Lt&&(p.currentTimeline.mergeTimelineCollectedStyles(Lt),p.currentTimeline.snapshotCurrentStyles()),p.previousNode=y}visitStagger(y,p){const C=p.parentContext,z=p.currentTimeline,me=y.timings,Ye=Math.abs(me.duration),lt=Ye*(p.currentQueryTotal-1);let Lt=Ye*p.currentQueryIndex;switch(me.duration<0?"reverse":me.easing){case"reverse":Lt=lt-Lt;break;case"full":Lt=C.currentStaggerTime}const Vn=p.currentTimeline;Lt&&Vn.delayNextStep(Lt);const qn=Vn.currentTime;pr(this,y.animation,p),p.previousNode=y,C.currentStaggerTime=z.currentTime-qn+(z.startTime-C.currentTimeline.startTime)}}const vn={};class _i{constructor(y,p,C,z,me,Ye,lt,Lt){this._driver=y,this.element=p,this.subInstructions=C,this._enterClassName=z,this._leaveClassName=me,this.errors=Ye,this.timelines=lt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Lt||new lr(this._driver,p,0),lt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,p){if(!y)return;const C=y;let z=this.options;null!=C.duration&&(z.duration=qi(C.duration)),null!=C.delay&&(z.delay=qi(C.delay));const me=C.params;if(me){let Ye=z.params;Ye||(Ye=this.options.params={}),Object.keys(me).forEach(lt=>{(!p||!Ye.hasOwnProperty(lt))&&(Ye[lt]=or(me[lt],Ye,this.errors))})}}_copyOptions(){const y={};if(this.options){const p=this.options.params;if(p){const C=y.params={};Object.keys(p).forEach(z=>{C[z]=p[z]})}}return y}createSubContext(y=null,p,C){const z=p||this.element,me=new _i(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,C||0));return me.previousNode=this.previousNode,me.currentAnimateTimings=this.currentAnimateTimings,me.options=this._copyOptions(),me.updateOptions(y),me.currentQueryIndex=this.currentQueryIndex,me.currentQueryTotal=this.currentQueryTotal,me.parentContext=this,this.subContextCount++,me}transformIntoNewTimeline(y){return this.previousNode=vn,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,p,C){const z={duration:p??y.duration,delay:this.currentTimeline.currentTime+(C??0)+y.delay,easing:""},me=new Or(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,z,y.stretchStartingKeyframe);return this.timelines.push(me),z}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,p,C,z,me,Ye){let lt=[];if(z&&lt.push(this.element),y.length>0){y=(y=y.replace(Ze,"."+this._enterClassName)).replace(Y,"."+this._leaveClassName);let on=this._driver.query(this.element,y,1!=C);0!==C&&(on=C<0?on.slice(on.length+C,on.length):on.slice(0,C)),lt.push(...on)}return!me&&0==lt.length&&Ye.push(function H(V){return new g.vHH(3014,!1)}()),lt}}class lr{constructor(y,p,C,z){this._driver=y,this.element=p,this.startTime=C,this._elementTimelineStylesLookup=z,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(p),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(p,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const p=1===this._keyframes.size&&this._pendingStyles.size;this.duration||p?(this.forwardTime(this.currentTime+y),p&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,p){return this.applyStylesToKeyframe(),new lr(this._driver,y,p||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,p){this._localTimelineStyles.set(y,p),this._globalTimelineStyles.set(y,p),this._styleSummary.set(y,{time:this.currentTime,value:p})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[p,C]of this._globalTimelineStyles)this._backFill.set(p,C||Mt.l3),this._currentKeyframe.set(p,Mt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,p,C,z){p&&this._previousKeyframe.set("easing",p);const me=z&&z.params||{},Ye=function Rr(V,y){const p=new Map;let C;return V.forEach(z=>{if("*"===z){C=C||y.keys();for(let me of C)p.set(me,Mt.l3)}else rn(z,p)}),p}(y,this._globalTimelineStyles);for(let[lt,Lt]of Ye){const on=or(Lt,me,C);this._pendingStyles.set(lt,on),this._localTimelineStyles.has(lt)||this._backFill.set(lt,this._globalTimelineStyles.get(lt)??Mt.l3),this._updateStyle(lt,on)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,p)=>{this._currentKeyframe.set(p,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,p)=>{this._currentKeyframe.has(p)||this._currentKeyframe.set(p,y)}))}snapshotCurrentStyles(){for(let[y,p]of this._localTimelineStyles)this._pendingStyles.set(y,p),this._updateStyle(y,p)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let p in this._currentKeyframe)y.push(p);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((p,C)=>{const z=this._styleSummary.get(C);(!z||p.time>z.time)&&this._updateStyle(C,p.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,p=new Set,C=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((lt,Lt)=>{const on=rn(lt,new Map,this._backFill);on.forEach((Vn,qn)=>{Vn===Mt.k1?y.add(qn):Vn===Mt.l3&&p.add(qn)}),C||on.set("offset",Lt/this.duration),z.push(on)});const me=y.size?Qi(y.values()):[],Ye=p.size?Qi(p.values()):[];if(C){const lt=z[0],Lt=new Map(lt);lt.set("offset",0),Lt.set("offset",1),z=[lt,Lt]}return Gi(this.element,z,me,Ye,this.duration,this.startTime,this.easing,!1)}}class Or extends lr{constructor(y,p,C,z,me,Ye,lt=!1){super(y,p,Ye.delay),this.keyframes=C,this.preStyleProps=z,this.postStyleProps=me,this._stretchStartingKeyframe=lt,this.timings={duration:Ye.duration,delay:Ye.delay,easing:Ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:p,duration:C,easing:z}=this.timings;if(this._stretchStartingKeyframe&&p){const me=[],Ye=C+p,lt=p/Ye,Lt=rn(y[0]);Lt.set("offset",0),me.push(Lt);const on=rn(y[0]);on.set("offset",wo(lt)),me.push(on);const Vn=y.length-1;for(let qn=1;qn<=Vn;qn++){let Hi=rn(y[qn]);const ki=Hi.get("offset");Hi.set("offset",wo((p+ki*C)/Ye)),me.push(Hi)}C=Ye,p=0,z="",y=me}return Gi(this.element,y,this.preStyleProps,this.postStyleProps,C,p,z,!0)}}function wo(V,y=3){const p=Math.pow(10,y-1);return Math.round(V*p)/p}class _s{}const j=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class v extends _s{normalizePropertyName(y,p){return Zr(y)}normalizeStyleValue(y,p,C,z){let me="";const Ye=C.toString().trim();if(j.has(p)&&0!==C&&"0"!==C)if("number"==typeof C)me="px";else{const lt=C.match(/^[+-]?[\d\.]+([a-z]*)$/);lt&&0==lt[1].length&&z.push(function Si(V,y){return new g.vHH(3005,!1)}())}return Ye+me}}function D(V,y,p,C,z,me,Ye,lt,Lt,on,Vn,qn,Hi){return{type:0,element:V,triggerName:y,isRemovalTransition:z,fromState:p,fromStyles:me,toState:C,toStyles:Ye,timelines:lt,queriedElements:Lt,preStyleProps:on,postStyleProps:Vn,totalTime:qn,errors:Hi}}const J={};class Ce{constructor(y,p,C){this._triggerName=y,this.ast=p,this._stateStyles=C}match(y,p,C,z){return function Nt(V,y,p,C,z){return V.some(me=>me(y,p,C,z))}(this.ast.matchers,y,p,C,z)}buildStyles(y,p,C){let z=this._stateStyles.get("*");return void 0!==y&&(z=this._stateStyles.get(y?.toString())||z),z?z.buildStyles(p,C):new Map}build(y,p,C,z,me,Ye,lt,Lt,on,Vn){const qn=[],Hi=this.ast.options&&this.ast.options.params||J,fi=this.buildStyles(C,lt&&lt.params||J,qn),pi=Lt&&Lt.params||J,ei=this.buildStyles(z,pi,qn),Gr=new Set,Mo=new Map,Zi=new Map,Wn="void"===z,Js={params:En(pi,Hi),delay:this.ast.options?.delay},Fi=Vn?[]:ot(y,p,this.ast.animation,me,Ye,fi,ei,Js,on,qn);let Nr=0;if(Fi.forEach(w=>{Nr=Math.max(w.duration+w.delay,Nr)}),qn.length)return D(p,this._triggerName,C,z,Wn,fi,ei,[],[],Mo,Zi,Nr,qn);Fi.forEach(w=>{const O=w.element,x=tr(Mo,O,new Set);w.preStyleProps.forEach(ee=>x.add(ee));const F=tr(Zi,O,new Set);w.postStyleProps.forEach(ee=>F.add(ee)),O!==p&&Gr.add(O)});const rr=Qi(Gr.values());return D(p,this._triggerName,C,z,Wn,fi,ei,Fi,rr,Mo,Zi,Nr)}}function En(V,y){const p=Do(y);for(const C in V)V.hasOwnProperty(C)&&null!=V[C]&&(p[C]=V[C]);return p}class zn{constructor(y,p,C){this.styles=y,this.defaultParams=p,this.normalizer=C}buildStyles(y,p){const C=new Map,z=Do(this.defaultParams);return Object.keys(y).forEach(me=>{const Ye=y[me];null!==Ye&&(z[me]=Ye)}),this.styles.styles.forEach(me=>{"string"!=typeof me&&me.forEach((Ye,lt)=>{Ye&&(Ye=or(Ye,z,p));const Lt=this.normalizer.normalizePropertyName(lt,p);Ye=this.normalizer.normalizeStyleValue(lt,Lt,Ye,p),C.set(lt,Ye)})}),C}}class wi{constructor(y,p,C){this.name=y,this.ast=p,this._normalizer=C,this.transitionFactories=[],this.states=new Map,p.states.forEach(z=>{this.states.set(z.name,new zn(z.style,z.options&&z.options.params||{},C))}),wr(this.states,"true","1"),wr(this.states,"false","0"),p.transitions.forEach(z=>{this.transitionFactories.push(new Ce(y,z,this.states))}),this.fallbackTransition=function Pi(V,y,p){return new Ce(V,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ye,lt)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,p,C,z){return this.transitionFactories.find(Ye=>Ye.match(y,p,C,z))||null}matchStyles(y,p,C){return this.fallbackTransition.buildStyles(y,p,C)}}function wr(V,y,p){V.has(y)?V.has(p)||V.set(p,V.get(y)):V.has(p)&&V.set(y,V.get(p))}const Pr=new go;class xr{constructor(y,p,C){this.bodyNode=y,this._driver=p,this._normalizer=C,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,p){const C=[],me=jo(this._driver,p,C,[]);if(C.length)throw function wt(V){return new g.vHH(3503,!1)}();this._animations.set(y,me)}_buildPlayer(y,p,C){const z=y.element,me=ai(this._normalizer,y.keyframes,p,C);return this._driver.animate(z,me,y.duration,y.delay,y.easing,[],!0)}create(y,p,C={}){const z=[],me=this._animations.get(y);let Ye;const lt=new Map;if(me?(Ye=ot(this._driver,p,me,Uo,Hr,new Map,new Map,C,Pr,z),Ye.forEach(Vn=>{const qn=tr(lt,Vn.element,new Map);Vn.postStyleProps.forEach(Hi=>qn.set(Hi,null))})):(z.push(function Ot(){return new g.vHH(3300,!1)}()),Ye=[]),z.length)throw function en(V){return new g.vHH(3504,!1)}();lt.forEach((Vn,qn)=>{Vn.forEach((Hi,ki)=>{Vn.set(ki,this._driver.computeStyle(qn,ki,Mt.l3))})});const on=Ln(Ye.map(Vn=>{const qn=lt.get(Vn.element);return this._buildPlayer(Vn,new Map,qn)}));return this._playersById.set(y,on),on.onDestroy(()=>this.destroy(y)),this.players.push(on),on}destroy(y){const p=this._getPlayer(y);p.destroy(),this._playersById.delete(y);const C=this.players.indexOf(p);C>=0&&this.players.splice(C,1)}_getPlayer(y){const p=this._playersById.get(y);if(!p)throw function Xn(V){return new g.vHH(3301,!1)}();return p}listen(y,p,C,z){const me=vr(p,"","","");return Wi(this._getPlayer(y),C,me,z),()=>{}}command(y,p,C,z){if("register"==C)return void this.register(y,z[0]);if("create"==C)return void this.create(y,p,z[0]||{});const me=this._getPlayer(y);switch(C){case"play":me.play();break;case"pause":me.pause();break;case"reset":me.reset();break;case"restart":me.restart();break;case"finish":me.finish();break;case"init":me.init();break;case"setPosition":me.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(y)}}}const Ni="ng-animate-queued",xi="ng-animate-disabled",Fr=[],xo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qr="__ng_removed";class ys{get params(){return this.options.params}constructor(y,p=""){this.namespaceId=p;const C=y&&y.hasOwnProperty("value");if(this.value=function oa(V){return V??null}(C?y.value:y),C){const me=Do(y);delete me.value,this.options=me}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const p=y.params;if(p){const C=this.options.params;Object.keys(p).forEach(z=>{null==C[z]&&(C[z]=p[z])})}}}const is="void",zs=new ys(is);class ra{constructor(y,p,C){this.id=y,this.hostElement=p,this._engine=C,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,ao(p,this._hostClassName)}listen(y,p,C,z){if(!this._triggers.has(p))throw function Mn(V,y){return new g.vHH(3302,!1)}();if(null==C||0==C.length)throw function Ci(V){return new g.vHH(3303,!1)}();if(!function ma(V){return"start"==V||"done"==V}(C))throw function bi(V,y){return new g.vHH(3400,!1)}();const me=tr(this._elementListeners,y,[]),Ye={name:p,phase:C,callback:z};me.push(Ye);const lt=tr(this._engine.statesByElement,y,new Map);return lt.has(p)||(ao(y,mr),ao(y,mr+"-"+p),lt.set(p,zs)),()=>{this._engine.afterFlush(()=>{const Lt=me.indexOf(Ye);Lt>=0&&me.splice(Lt,1),this._triggers.has(p)||lt.delete(p)})}}register(y,p){return!this._triggers.has(y)&&(this._triggers.set(y,p),!0)}_getTrigger(y){const p=this._triggers.get(y);if(!p)throw function Bt(V){return new g.vHH(3401,!1)}();return p}trigger(y,p,C,z=!0){const me=this._getTrigger(p),Ye=new Qr(this.id,p,y);let lt=this._engine.statesByElement.get(y);lt||(ao(y,mr),ao(y,mr+"-"+p),this._engine.statesByElement.set(y,lt=new Map));let Lt=lt.get(p);const on=new ys(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&Lt&&on.absorbOptions(Lt.options),lt.set(p,on),Lt||(Lt=zs),on.value!==is&&Lt.value===on.value){if(!function Qs(V,y){const p=Object.keys(V),C=Object.keys(y);if(p.length!=C.length)return!1;for(let z=0;z<p.length;z++){const me=p[z];if(!y.hasOwnProperty(me)||V[me]!==y[me])return!1}return!0}(Lt.params,on.params)){const pi=[],ei=me.matchStyles(Lt.value,Lt.params,pi),Gr=me.matchStyles(on.value,on.params,pi);pi.length?this._engine.reportError(pi):this._engine.afterFlush(()=>{nn(y,ei),cn(y,Gr)})}return}const Hi=tr(this._engine.playersByElement,y,[]);Hi.forEach(pi=>{pi.namespaceId==this.id&&pi.triggerName==p&&pi.queued&&pi.destroy()});let ki=me.matchTransition(Lt.value,on.value,y,on.params),fi=!1;if(!ki){if(!z)return;ki=me.fallbackTransition,fi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:p,transition:ki,fromState:Lt,toState:on,player:Ye,isFallbackTransition:fi}),fi||(ao(y,Ni),Ye.onStart(()=>{Ns(y,Ni)})),Ye.onDone(()=>{let pi=this.players.indexOf(Ye);pi>=0&&this.players.splice(pi,1);const ei=this._engine.playersByElement.get(y);if(ei){let Gr=ei.indexOf(Ye);Gr>=0&&ei.splice(Gr,1)}}),this.players.push(Ye),Hi.push(Ye),Ye}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(p=>p.delete(y)),this._elementListeners.forEach((p,C)=>{this._elementListeners.set(C,p.filter(z=>z.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const p=this._engine.playersByElement.get(y);p&&(p.forEach(C=>C.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,p){const C=this._engine.driver.query(y,Vo,!0);C.forEach(z=>{if(z[qr])return;const me=this._engine.fetchNamespacesByElement(z);me.size?me.forEach(Ye=>Ye.triggerLeaveAnimation(z,p,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>C.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(y,p,C,z){const me=this._engine.statesByElement.get(y),Ye=new Map;if(me){const lt=[];if(me.forEach((Lt,on)=>{if(Ye.set(on,Lt.value),this._triggers.has(on)){const Vn=this.trigger(y,on,is,z);Vn&&lt.push(Vn)}}),lt.length)return this._engine.markElementAsRemoved(this.id,y,!0,p,Ye),C&&Ln(lt).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const p=this._elementListeners.get(y),C=this._engine.statesByElement.get(y);if(p&&C){const z=new Set;p.forEach(me=>{const Ye=me.name;if(z.has(Ye))return;z.add(Ye);const Lt=this._triggers.get(Ye).fallbackTransition,on=C.get(Ye)||zs,Vn=new ys(is),qn=new Qr(this.id,Ye,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Ye,transition:Lt,fromState:on,toState:Vn,player:qn,isFallbackTransition:!0})})}}removeNode(y,p){const C=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,p),this.triggerLeaveAnimation(y,p,!0))return;let z=!1;if(C.totalAnimations){const me=C.players.length?C.playersByQueriedElement.get(y):[];if(me&&me.length)z=!0;else{let Ye=y;for(;Ye=Ye.parentNode;)if(C.statesByElement.get(Ye)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(y),z)C.markElementAsRemoved(this.id,y,!1,p);else{const me=y[qr];(!me||me===xo)&&(C.afterFlush(()=>this.clearElementCache(y)),C.destroyInnerAnimations(y),C._onRemovalComplete(y,p))}}insertNode(y,p){ao(y,this._hostClassName)}drainQueuedTransitions(y){const p=[];return this._queue.forEach(C=>{const z=C.player;if(z.destroyed)return;const me=C.element,Ye=this._elementListeners.get(me);Ye&&Ye.forEach(lt=>{if(lt.name==C.triggerName){const Lt=vr(me,C.triggerName,C.fromState.value,C.toState.value);Lt._data=y,Wi(C.player,lt.phase,Lt,lt.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):p.push(C)}),this._queue=[],p.sort((C,z)=>{const me=C.transition.ast.depCount,Ye=z.transition.ast.depCount;return 0==me||0==Ye?me-Ye:this._engine.driver.containsElement(C.element,z.element)?1:-1})}destroy(y){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let p=!1;return this._elementListeners.has(y)&&(p=!0),p=!!this._queue.find(C=>C.element===y)||p,p}}class Ea{_onRemovalComplete(y,p){this.onRemovalComplete(y,p)}constructor(y,p,C){this.bodyNode=y,this.driver=p,this._normalizer=C,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,me)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(p=>{p.players.forEach(C=>{C.queued&&y.push(C)})}),y}createNamespace(y,p){const C=new ra(y,p,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,p)?this._balanceNamespaceList(C,p):(this.newHostElements.set(p,C),this.collectEnterElement(p)),this._namespaceLookup[y]=C}_balanceNamespaceList(y,p){const C=this._namespaceList,z=this.namespacesByHostElement;if(C.length-1>=0){let Ye=!1,lt=this.driver.getParentElement(p);for(;lt;){const Lt=z.get(lt);if(Lt){const on=C.indexOf(Lt);C.splice(on+1,0,y),Ye=!0;break}lt=this.driver.getParentElement(lt)}Ye||C.unshift(y)}else C.push(y);return z.set(p,y),y}register(y,p){let C=this._namespaceLookup[y];return C||(C=this.createNamespace(y,p)),C}registerTrigger(y,p,C){let z=this._namespaceLookup[y];z&&z.register(p,C)&&this.totalAnimations++}destroy(y,p){if(!y)return;const C=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(C.hostElement),delete this._namespaceLookup[y];const z=this._namespaceList.indexOf(C);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>C.destroy(p))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const p=new Set,C=this.statesByElement.get(y);if(C)for(let z of C.values())if(z.namespaceId){const me=this._fetchNamespace(z.namespaceId);me&&p.add(me)}return p}trigger(y,p,C,z){if(sa(p)){const me=this._fetchNamespace(y);if(me)return me.trigger(p,C,z),!0}return!1}insertNode(y,p,C,z){if(!sa(p))return;const me=p[qr];if(me&&me.setForRemoval){me.setForRemoval=!1,me.setForMove=!0;const Ye=this.collectedLeaveElements.indexOf(p);Ye>=0&&this.collectedLeaveElements.splice(Ye,1)}if(y){const Ye=this._fetchNamespace(y);Ye&&Ye.insertNode(p,C)}z&&this.collectEnterElement(p)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,p){p?this.disabledNodes.has(y)||(this.disabledNodes.add(y),ao(y,xi)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Ns(y,xi))}removeNode(y,p,C){if(sa(p)){const z=y?this._fetchNamespace(y):null;z?z.removeNode(p,C):this.markElementAsRemoved(y,p,!1,C);const me=this.namespacesByHostElement.get(p);me&&me.id!==y&&me.removeNode(p,C)}else this._onRemovalComplete(p,C)}markElementAsRemoved(y,p,C,z,me){this.collectedLeaveElements.push(p),p[qr]={namespaceId:y,setForRemoval:z,hasAnimation:C,removedBeforeQueried:!1,previousTriggersValues:me}}listen(y,p,C,z,me){return sa(p)?this._fetchNamespace(y).listen(p,C,z,me):()=>{}}_buildInstruction(y,p,C,z,me){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,C,z,y.fromState.options,y.toState.options,p,me)}destroyInnerAnimations(y){let p=this.driver.query(y,Vo,!0);p.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(p=this.driver.query(y,si,!0),p.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(y){const p=this.playersByElement.get(y);p&&p.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(y){const p=this.playersByQueriedElement.get(y);p&&p.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Ln(this.players).onDone(()=>y());y()})}processLeaveNode(y){const p=y[qr];if(p&&p.setForRemoval){if(y[qr]=xo,p.namespaceId){this.destroyInnerAnimations(y);const C=this._fetchNamespace(p.namespaceId);C&&C.clearElementCache(y)}this._onRemovalComplete(y,p.setForRemoval)}y.classList?.contains(xi)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(C=>{this.markElementAsDisabled(C,!1)})}flush(y=-1){let p=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,z)=>this._balanceNamespaceList(C,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)ao(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{p=this._flushAnimations(C,y)}finally{for(let z=0;z<C.length;z++)C[z]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],p.length?Ln(p).onDone(()=>{C.forEach(z=>z())}):C.forEach(z=>z())}}reportError(y){throw function It(V){return new g.vHH(3402,!1)}()}_flushAnimations(y,p){const C=new go,z=[],me=new Map,Ye=[],lt=new Map,Lt=new Map,on=new Map,Vn=new Set;this.disabledNodes.forEach(tt=>{Vn.add(tt);const Zt=this.driver.query(tt,".ng-animate-queued",!0);for(let Dn=0;Dn<Zt.length;Dn++)Vn.add(Zt[Dn])});const qn=this.bodyNode,Hi=Array.from(this.statesByElement.keys()),ki=aa(Hi,this.collectedEnterElements),fi=new Map;let pi=0;ki.forEach((tt,Zt)=>{const Dn=Uo+pi++;fi.set(Zt,Dn),tt.forEach(Sn=>ao(Sn,Dn))});const ei=[],Gr=new Set,Mo=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const Zt=this.collectedLeaveElements[tt],Dn=Zt[qr];Dn&&Dn.setForRemoval&&(ei.push(Zt),Gr.add(Zt),Dn.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(Sn=>Gr.add(Sn)):Mo.add(Zt))}const Zi=new Map,Wn=aa(Hi,Array.from(Gr));Wn.forEach((tt,Zt)=>{const Dn=Hr+pi++;Zi.set(Zt,Dn),tt.forEach(Sn=>ao(Sn,Dn))}),y.push(()=>{ki.forEach((tt,Zt)=>{const Dn=fi.get(Zt);tt.forEach(Sn=>Ns(Sn,Dn))}),Wn.forEach((tt,Zt)=>{const Dn=Zi.get(Zt);tt.forEach(Sn=>Ns(Sn,Dn))}),ei.forEach(tt=>{this.processLeaveNode(tt)})});const Js=[],Fi=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(p).forEach(Dn=>{const Sn=Dn.player,vi=Dn.element;if(Js.push(Sn),this.collectedEnterElements.length){const Ir=vi[qr];if(Ir&&Ir.setForMove){if(Ir.previousTriggersValues&&Ir.previousTriggersValues.has(Dn.triggerName)){const va=Ir.previousTriggersValues.get(Dn.triggerName),bs=this.statesByElement.get(Dn.element);if(bs&&bs.has(Dn.triggerName)){const ws=bs.get(Dn.triggerName);ws.value=va,bs.set(Dn.triggerName,ws)}}return void Sn.destroy()}}const Lr=!qn||!this.driver.containsElement(qn,vi),Go=Zi.get(vi),_o=fi.get(vi),gr=this._buildInstruction(Dn,C,_o,Go,Lr);if(gr.errors&&gr.errors.length)return void Fi.push(gr);if(Lr)return Sn.onStart(()=>nn(vi,gr.fromStyles)),Sn.onDestroy(()=>cn(vi,gr.toStyles)),void z.push(Sn);if(Dn.isFallbackTransition)return Sn.onStart(()=>nn(vi,gr.fromStyles)),Sn.onDestroy(()=>cn(vi,gr.toStyles)),void z.push(Sn);const Wt=[];gr.timelines.forEach(Ir=>{Ir.stretchStartingKeyframe=!0,this.disabledNodes.has(Ir.element)||Wt.push(Ir)}),gr.timelines=Wt,C.append(vi,gr.timelines),Ye.push({instruction:gr,player:Sn,element:vi}),gr.queriedElements.forEach(Ir=>tr(lt,Ir,[]).push(Sn)),gr.preStyleProps.forEach((Ir,va)=>{if(Ir.size){let bs=Lt.get(va);bs||Lt.set(va,bs=new Set),Ir.forEach((ws,Ha)=>bs.add(Ha))}}),gr.postStyleProps.forEach((Ir,va)=>{let bs=on.get(va);bs||on.set(va,bs=new Set),Ir.forEach((ws,Ha)=>bs.add(Ha))})});if(Fi.length){const tt=[];Fi.forEach(Zt=>{tt.push(function Zn(V,y){return new g.vHH(3505,!1)}())}),Js.forEach(Zt=>Zt.destroy()),this.reportError(tt)}const Nr=new Map,rr=new Map;Ye.forEach(tt=>{const Zt=tt.element;C.has(Zt)&&(rr.set(Zt,Zt),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,Nr))}),z.forEach(tt=>{const Zt=tt.element;this._getPreviousPlayers(Zt,!1,tt.namespaceId,tt.triggerName,null).forEach(Sn=>{tr(Nr,Zt,[]).push(Sn),Sn.destroy()})});const w=ei.filter(tt=>rs(tt,Lt,on)),O=new Map;$s(O,this.driver,Mo,on,Mt.l3).forEach(tt=>{rs(tt,Lt,on)&&w.push(tt)});const F=new Map;ki.forEach((tt,Zt)=>{$s(F,this.driver,new Set(tt),Lt,Mt.k1)}),w.forEach(tt=>{const Zt=O.get(tt),Dn=F.get(tt);O.set(tt,new Map([...Zt?.entries()??[],...Dn?.entries()??[]]))});const ee=[],ye=[],Se={};Ye.forEach(tt=>{const{element:Zt,player:Dn,instruction:Sn}=tt;if(C.has(Zt)){if(Vn.has(Zt))return Dn.onDestroy(()=>cn(Zt,Sn.toStyles)),Dn.disabled=!0,Dn.overrideTotalTime(Sn.totalTime),void z.push(Dn);let vi=Se;if(rr.size>1){let Go=Zt;const _o=[];for(;Go=Go.parentNode;){const gr=rr.get(Go);if(gr){vi=gr;break}_o.push(Go)}_o.forEach(gr=>rr.set(gr,vi))}const Lr=this._buildAnimation(Dn.namespaceId,Sn,Nr,me,F,O);if(Dn.setRealPlayer(Lr),vi===Se)ee.push(Dn);else{const Go=this.playersByElement.get(vi);Go&&Go.length&&(Dn.parentPlayer=Ln(Go)),z.push(Dn)}}else nn(Zt,Sn.fromStyles),Dn.onDestroy(()=>cn(Zt,Sn.toStyles)),ye.push(Dn),Vn.has(Zt)&&z.push(Dn)}),ye.forEach(tt=>{const Zt=me.get(tt.element);if(Zt&&Zt.length){const Dn=Ln(Zt);tt.setRealPlayer(Dn)}}),z.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<ei.length;tt++){const Zt=ei[tt],Dn=Zt[qr];if(Ns(Zt,Hr),Dn&&Dn.hasAnimation)continue;let Sn=[];if(lt.size){let Lr=lt.get(Zt);Lr&&Lr.length&&Sn.push(...Lr);let Go=this.driver.query(Zt,si,!0);for(let _o=0;_o<Go.length;_o++){let gr=lt.get(Go[_o]);gr&&gr.length&&Sn.push(...gr)}}const vi=Sn.filter(Lr=>!Lr.destroyed);vi.length?qs(this,Zt,vi):this.processLeaveNode(Zt)}return ei.length=0,ee.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const Zt=this.players.indexOf(tt);this.players.splice(Zt,1)}),tt.play()}),ee}elementContainsData(y,p){let C=!1;const z=p[qr];return z&&z.setForRemoval&&(C=!0),this.playersByElement.has(p)&&(C=!0),this.playersByQueriedElement.has(p)&&(C=!0),this.statesByElement.has(p)&&(C=!0),this._fetchNamespace(y).elementContainsData(p)||C}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,p,C,z,me){let Ye=[];if(p){const lt=this.playersByQueriedElement.get(y);lt&&(Ye=lt)}else{const lt=this.playersByElement.get(y);if(lt){const Lt=!me||me==is;lt.forEach(on=>{on.queued||!Lt&&on.triggerName!=z||Ye.push(on)})}}return(C||z)&&(Ye=Ye.filter(lt=>!(C&&C!=lt.namespaceId||z&&z!=lt.triggerName))),Ye}_beforeAnimationBuild(y,p,C){const me=p.element,Ye=p.isRemovalTransition?void 0:y,lt=p.isRemovalTransition?void 0:p.triggerName;for(const Lt of p.timelines){const on=Lt.element,Vn=on!==me,qn=tr(C,on,[]);this._getPreviousPlayers(on,Vn,Ye,lt,p.toState).forEach(ki=>{const fi=ki.getRealPlayer();fi.beforeDestroy&&fi.beforeDestroy(),ki.destroy(),qn.push(ki)})}nn(me,p.fromStyles)}_buildAnimation(y,p,C,z,me,Ye){const lt=p.triggerName,Lt=p.element,on=[],Vn=new Set,qn=new Set,Hi=p.timelines.map(fi=>{const pi=fi.element;Vn.add(pi);const ei=pi[qr];if(ei&&ei.removedBeforeQueried)return new Mt.ZN(fi.duration,fi.delay);const Gr=pi!==Lt,Mo=function Oa(V){const y=[];return Ca(V,y),y}((C.get(pi)||Fr).map(Nr=>Nr.getRealPlayer())).filter(Nr=>!!Nr.element&&Nr.element===pi),Zi=me.get(pi),Wn=Ye.get(pi),Js=ai(this._normalizer,fi.keyframes,Zi,Wn),Fi=this._buildPlayer(fi,Js,Mo);if(fi.subTimeline&&z&&qn.add(pi),Gr){const Nr=new Qr(y,lt,pi);Nr.setRealPlayer(Fi),on.push(Nr)}return Fi});on.forEach(fi=>{tr(this.playersByQueriedElement,fi.element,[]).push(fi),fi.onDone(()=>function _l(V,y,p){let C=V.get(y);if(C){if(C.length){const z=C.indexOf(p);C.splice(z,1)}0==C.length&&V.delete(y)}return C}(this.playersByQueriedElement,fi.element,fi))}),Vn.forEach(fi=>ao(fi,fs));const ki=Ln(Hi);return ki.onDestroy(()=>{Vn.forEach(fi=>Ns(fi,fs)),cn(Lt,p.toStyles)}),qn.forEach(fi=>{tr(z,fi,[]).push(ki)}),ki}_buildPlayer(y,p,C){return p.length>0?this.driver.animate(y.element,p,y.duration,y.delay,y.easing,C):new Mt.ZN(y.duration,y.delay)}}class Qr{constructor(y,p,C){this.namespaceId=y,this.triggerName=p,this.element=C,this._player=new Mt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((p,C)=>{p.forEach(z=>Wi(y,C,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const p=this._player;p.triggerCallback&&y.onStart(()=>p.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,p){tr(this._queuedCallbacks,y,[]).push(p)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const p=this._player;p.triggerCallback&&p.triggerCallback(y)}}function sa(V){return V&&1===V.nodeType}function pa(V,y){const p=V.style.display;return V.style.display=y??"none",p}function $s(V,y,p,C,z){const me=[];p.forEach(Lt=>me.push(pa(Lt)));const Ye=[];C.forEach((Lt,on)=>{const Vn=new Map;Lt.forEach(qn=>{const Hi=y.computeStyle(on,qn,z);Vn.set(qn,Hi),(!Hi||0==Hi.length)&&(on[qr]=vs,Ye.push(on))}),V.set(on,Vn)});let lt=0;return p.forEach(Lt=>pa(Lt,me[lt++])),Ye}function aa(V,y){const p=new Map;if(V.forEach(lt=>p.set(lt,[])),0==y.length)return p;const C=1,z=new Set(y),me=new Map;function Ye(lt){if(!lt)return C;let Lt=me.get(lt);if(Lt)return Lt;const on=lt.parentNode;return Lt=p.has(on)?on:z.has(on)?C:Ye(on),me.set(lt,Lt),Lt}return y.forEach(lt=>{const Lt=Ye(lt);Lt!==C&&p.get(Lt).push(lt)}),p}function ao(V,y){V.classList?.add(y)}function Ns(V,y){V.classList?.remove(y)}function qs(V,y,p){Ln(p).onDone(()=>V.processLeaveNode(y))}function Ca(V,y){for(let p=0;p<V.length;p++){const C=V[p];C instanceof Mt.ZE?Ca(C.players,y):y.push(C)}}function rs(V,y,p){const C=p.get(V);if(!C)return!1;let z=y.get(V);return z?C.forEach(me=>z.add(me)):y.set(V,C),p.delete(V),!0}class zo{constructor(y,p,C){this.bodyNode=y,this._driver=p,this._normalizer=C,this._triggerCache={},this.onRemovalComplete=(z,me)=>{},this._transitionEngine=new Ea(y,p,C),this._timelineEngine=new xr(y,p,C),this._transitionEngine.onRemovalComplete=(z,me)=>this.onRemovalComplete(z,me)}registerTrigger(y,p,C,z,me){const Ye=y+"-"+z;let lt=this._triggerCache[Ye];if(!lt){const Lt=[],Vn=jo(this._driver,me,Lt,[]);if(Lt.length)throw function ve(V,y){return new g.vHH(3404,!1)}();lt=function Bn(V,y,p){return new wi(V,y,p)}(z,Vn,this._normalizer),this._triggerCache[Ye]=lt}this._transitionEngine.registerTrigger(p,z,lt)}register(y,p){this._transitionEngine.register(y,p)}destroy(y,p){this._transitionEngine.destroy(y,p)}onInsert(y,p,C,z){this._transitionEngine.insertNode(y,p,C,z)}onRemove(y,p,C){this._transitionEngine.removeNode(y,p,C)}disableAnimations(y,p){this._transitionEngine.markElementAsDisabled(y,p)}process(y,p,C,z){if("@"==C.charAt(0)){const[me,Ye]=vo(C);this._timelineEngine.command(me,p,Ye,z)}else this._transitionEngine.trigger(y,p,C,z)}listen(y,p,C,z,me){if("@"==C.charAt(0)){const[Ye,lt]=vo(C);return this._timelineEngine.listen(Ye,p,lt,me)}return this._transitionEngine.listen(y,p,C,z,me)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ls=(()=>{class V{constructor(p,C,z){this._element=p,this._startStyles=C,this._endStyles=z,this._state=0;let me=V.initialStylesByElement.get(p);me||V.initialStylesByElement.set(p,me=new Map),this._initialStyles=me}start(){this._state<1&&(this._startStyles&&cn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cn(this._element,this._initialStyles),this._endStyles&&(cn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(V.initialStylesByElement.delete(this._element),this._startStyles&&(nn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nn(this._element,this._endStyles),this._endStyles=null),cn(this._element,this._initialStyles),this._state=3)}}return V.initialStylesByElement=new WeakMap,V})();function Xi(V){let y=null;return V.forEach((p,C)=>{(function To(V){return"display"===V||"position"===V})(C)&&(y=y||new Map,y.set(C,p))}),y}class Gs{constructor(y,p,C,z){this.element=y,this.keyframes=p,this.options=C,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const p=[];return y.forEach(C=>{p.push(Object.fromEntries(C))}),p}_triggerWebAnimation(y,p,C){return y.animate(this._convertKeyframesToObject(p),C)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((C,z)=>{"offset"!==z&&y.set(z,this._finished?C:Yr(this.element,z))}),this.currentSnapshot=y}triggerCallback(y){const p="start"===y?this._onStartFns:this._onDoneFns;p.forEach(C=>C()),p.length=0}}class Ai{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,p){return!1}containsElement(y,p){return fo(y,p)}getParentElement(y){return yr(y)}query(y,p,C){return so(y,p,C)}computeStyle(y,p,C){return window.getComputedStyle(y)[p]}animate(y,p,C,z,me,Ye=[]){const Lt={duration:C,delay:z,fill:0==z?"both":"forwards"};me&&(Lt.easing=me);const on=new Map,Vn=Ye.filter(ki=>ki instanceof Gs);(function ri(V,y){return 0===V||0===y})(C,z)&&Vn.forEach(ki=>{ki.currentSnapshot.forEach((fi,pi)=>on.set(pi,fi))});let qn=function ct(V){return V.length?V[0]instanceof Map?V:V.map(y=>_t(y)):[]}(p).map(ki=>rn(ki));qn=function Yo(V,y,p){if(p.size&&y.length){let C=y[0],z=[];if(p.forEach((me,Ye)=>{C.has(Ye)||z.push(Ye),C.set(Ye,me)}),z.length)for(let me=1;me<y.length;me++){let Ye=y[me];z.forEach(lt=>Ye.set(lt,Yr(V,lt)))}}return y}(y,qn,on);const Hi=function Da(V,y){let p=null,C=null;return Array.isArray(y)&&y.length?(p=Xi(y[0]),y.length>1&&(C=Xi(y[y.length-1]))):y instanceof Map&&(p=Xi(y)),p||C?new Ls(V,p,C):null}(y,qn);return new Gs(y,qn,Lt,Hi)}}let ga=(()=>{class V extends Mt._j{constructor(p,C){super(),this._nextAnimationId=0,this._renderer=p.createRenderer(C.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(p){const C=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(p)?(0,Mt.vP)(p):p;return B(this._renderer,null,C,"register",[z]),new R(C,this._renderer)}}return V.\u0275fac=function(p){return new(p||V)(g.LFG(g.FYo),g.LFG(fe.K0))},V.\u0275prov=g.Yz7({token:V,factory:V.\u0275fac}),V})();class R extends Mt.LC{constructor(y,p){super(),this._id=y,this._renderer=p}create(y,p){return new Q(this._id,y,p||{},this._renderer)}}class Q{constructor(y,p,C,z){this.id=y,this.element=p,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",C)}_listen(y,p){return this._renderer.listen(this.element,`@@${this.id}:${y}`,p)}_command(y,...p){return B(this._renderer,this.element,this.id,y,p)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function B(V,y,p,C,z){return V.setProperty(y,`@@${p}:${C}`,z)}const qe="@.disabled";let Xt=(()=>{class V{constructor(p,C,z){this.delegate=p,this.engine=C,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),C.onRemovalComplete=(me,Ye)=>{const lt=Ye?.parentNode(me);lt&&Ye.removeChild(lt,me)}}createRenderer(p,C){const me=this.delegate.createRenderer(p,C);if(!(p&&C&&C.data&&C.data.animation)){let Vn=this._rendererCache.get(me);return Vn||(Vn=new fn("",me,this.engine,()=>this._rendererCache.delete(me)),this._rendererCache.set(me,Vn)),Vn}const Ye=C.id,lt=C.id+"-"+this._currentId;this._currentId++,this.engine.register(lt,p);const Lt=Vn=>{Array.isArray(Vn)?Vn.forEach(Lt):this.engine.registerTrigger(Ye,lt,p,Vn.name,Vn)};return C.data.animation.forEach(Lt),new Kn(this,lt,me,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(p,C,z){p>=0&&p<this._microtaskId?this._zone.run(()=>C(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(me=>{const[Ye,lt]=me;Ye(lt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return V.\u0275fac=function(p){return new(p||V)(g.LFG(g.FYo),g.LFG(zo),g.LFG(g.R0b))},V.\u0275prov=g.Yz7({token:V,factory:V.\u0275fac}),V})();class fn{constructor(y,p,C,z){this.namespaceId=y,this.delegate=p,this.engine=C,this._onDestroy=z,this.destroyNode=this.delegate.destroyNode?me=>p.destroyNode(me):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,p){return this.delegate.createElement(y,p)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,p){this.delegate.appendChild(y,p),this.engine.onInsert(this.namespaceId,p,y,!1)}insertBefore(y,p,C,z=!0){this.delegate.insertBefore(y,p,C),this.engine.onInsert(this.namespaceId,p,y,z)}removeChild(y,p,C){this.engine.onRemove(this.namespaceId,p,this.delegate)}selectRootElement(y,p){return this.delegate.selectRootElement(y,p)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,p,C,z){this.delegate.setAttribute(y,p,C,z)}removeAttribute(y,p,C){this.delegate.removeAttribute(y,p,C)}addClass(y,p){this.delegate.addClass(y,p)}removeClass(y,p){this.delegate.removeClass(y,p)}setStyle(y,p,C,z){this.delegate.setStyle(y,p,C,z)}removeStyle(y,p,C){this.delegate.removeStyle(y,p,C)}setProperty(y,p,C){"@"==p.charAt(0)&&p==qe?this.disableAnimations(y,!!C):this.delegate.setProperty(y,p,C)}setValue(y,p){this.delegate.setValue(y,p)}listen(y,p,C){return this.delegate.listen(y,p,C)}disableAnimations(y,p){this.engine.disableAnimations(y,p)}}class Kn extends fn{constructor(y,p,C,z,me){super(p,C,z,me),this.factory=y,this.namespaceId=p}setProperty(y,p,C){"@"==p.charAt(0)?"."==p.charAt(1)&&p==qe?this.disableAnimations(y,C=void 0===C||!!C):this.engine.process(this.namespaceId,y,p.slice(1),C):this.delegate.setProperty(y,p,C)}listen(y,p,C){if("@"==p.charAt(0)){const z=function ji(V){switch(V){case"body":return document.body;case"document":return document;case"window":return window;default:return V}}(y);let me=p.slice(1),Ye="";return"@"!=me.charAt(0)&&([me,Ye]=function Mi(V){const y=V.indexOf(".");return[V.substring(0,y),V.slice(y+1)]}(me)),this.engine.listen(this.namespaceId,z,me,Ye,lt=>{this.factory.scheduleListenerCallback(lt._data||-1,C,lt)})}return this.delegate.listen(y,p,C)}}const Un=[{provide:Mt._j,useClass:ga},{provide:_s,useFactory:function Ii(){return new v}},{provide:zo,useClass:(()=>{class V extends zo{constructor(p,C,z,me){super(p.body,C,z)}ngOnDestroy(){this.flush()}}return V.\u0275fac=function(p){return new(p||V)(g.LFG(fe.K0),g.LFG(Wr),g.LFG(_s),g.LFG(g.z2F))},V.\u0275prov=g.Yz7({token:V,factory:V.\u0275fac}),V})()},{provide:g.FYo,useFactory:function nr(V,y,p){return new Xt(V,y,p)},deps:[d.se,zo,g.R0b]}],$r=[{provide:Wr,useFactory:()=>new Ai},{provide:g.QbO,useValue:"BrowserAnimations"},...Un],os=[{provide:Wr,useClass:Co},{provide:g.QbO,useValue:"NoopAnimations"},...Un];let Xr=(()=>{class V{static withConfig(p){return{ngModule:V,providers:p.disableAnimations?os:$r}}}return V.\u0275fac=function(p){return new(p||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({providers:$r,imports:[d.b2]}),V})();var ss=E(3144);const Es_firebaseConfig={apiKey:"AIzaSyCBFiqylI83kkUooQ5SKoyaA4AD4cJtW2I",authDomain:"socialmediafeed-72afc.firebaseapp.com",projectId:"socialmediafeed-72afc",storageBucket:"socialmediafeed-72afc.appspot.com",messagingSenderId:"708393762131",appId:"1:708393762131:web:6d451bd3a6d6149c4d35a6",measurementId:"G-VF9CFXKB75"};var Nl=E(2011),_a=E(8854);function vl(V,y){1&V&&(g.TgZ(0,"div")(1,"small",6),g._uU(2,"Nickname field cannot be empty"),g.qZA()())}function rl(V,y){1&V&&(g.TgZ(0,"div")(1,"small",6),g._uU(2,"Description field cannot be empty"),g.qZA()())}const wn=function(V,y){return{active:V,idle:y}};let ir=(()=>{class V{constructor(p){this.userDataService=p,this.profileForm=new ae.cw({nickname:new ae.NI("",[ae.kI.required]),description:new ae.NI("",[ae.kI.required])})}onContinueClick(){const p=this.profileForm.get("nickname"),C=this.profileForm.get("description");p?.markAsTouched(),C?.markAsTouched(),p&&C&&!p.errors&&!C.errors&&(this.userDataService.createUser(p.value,C.value),this.profileForm.reset())}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(ne.M))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:7,consts:[[1,"profile",3,"ngClass"],[1,"profile-content",3,"formGroup","submit"],["formControlName","nickname","placeholder","Nickname"],[4,"ngIf"],["formControlName","description","placeholder","Description"],["mat-flat-button","","color","warn","type","submit"],[1,"error"]],template:function(p,C){if(1&p&&(g.TgZ(0,"div",0)(1,"form",1),g.NdJ("submit",function(){return C.onContinueClick()}),g._UZ(2,"input",2),g.YNc(3,vl,3,0,"div",3),g._UZ(4,"textarea",4),g.YNc(5,rl,3,0,"div",3),g.TgZ(6,"button",5),g._uU(7,"Continue"),g.qZA()()()),2&p){let z,me;g.Q6J("ngClass",g.WLB(4,wn,C.show,!C.show)),g.xp6(1),g.Q6J("formGroup",C.profileForm),g.xp6(2),g.Q6J("ngIf",(null==(z=C.profileForm.get("nickname"))?null:z.invalid)&&(null==(z=C.profileForm.get("nickname"))?null:z.touched)),g.xp6(2),g.Q6J("ngIf",(null==(me=C.profileForm.get("description"))?null:me.invalid)&&(null==(me=C.profileForm.get("description"))?null:me.touched))}},dependencies:[fe.mk,fe.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Je.lW],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;right:0;height:100vh;background-color:#313131;z-index:9;transition-duration:.5s;overflow:hidden}.profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box}.profile-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-top:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}"]}),V})();var lo=E(8099),as=E(9383);let Jr=(()=>{class V{constructor(p,C,z){this.dialog=p,this.userDataService=C,this.router=z}ChangeNicknameClick(){this.dialog.open(lo.f,{data:{info:"Change Nickname",message:`Your current nickname - ${this.userDataService.userInfo.publicName}`,field:"publicName"}})}ChangeDescriptionClick(){this.dialog.open(lo.f,{data:{info:"Change Description",message:`Your current description - ${this.userDataService.userInfo.description}`,field:"description"}})}DeleteAccountClick(){this.dialog.open(lo.f,{data:{info:"Delete account",message:"Are you sure you want to delete your account? All your posts will be deleted",yesButton:!0}})}HomaPageClick(){this.router.navigate(["userPage"])}NewsClick(){this.router.navigate(["postFeed"])}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(de.uw),g.Y36(ne.M),g.Y36(L.F0))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-sidebar"]],decls:21,vars:1,consts:[[1,"sidebar"],["color","primary",3,"click"],["color","primary",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(p,C){if(1&p&&(g.TgZ(0,"div",0)(1,"mat-toolbar",1),g.NdJ("click",function(){return C.HomaPageClick()}),g.TgZ(2,"mat-icon"),g._uU(3,"home"),g.qZA(),g._uU(4,"Home"),g.qZA(),g.TgZ(5,"mat-toolbar",1),g.NdJ("click",function(){return C.NewsClick()}),g.TgZ(6,"mat-icon"),g._uU(7,"newspaper"),g.qZA(),g._uU(8,"News"),g.qZA(),g.TgZ(9,"mat-toolbar",2)(10,"mat-icon"),g._uU(11,"settings"),g.qZA(),g._uU(12," Settings "),g.qZA(),g.TgZ(13,"mat-menu",null,3)(15,"button",4),g.NdJ("click",function(){return C.ChangeNicknameClick()}),g._uU(16," Change nickname "),g.qZA(),g.TgZ(17,"button",4),g.NdJ("click",function(){return C.ChangeDescriptionClick()}),g._uU(18," Change description "),g.qZA(),g.TgZ(19,"button",5),g.NdJ("click",function(){return C.DeleteAccountClick()}),g._uU(20," Delete account "),g.qZA()()()),2&p){const z=g.MAs(14);g.xp6(9),g.Q6J("matMenuTriggerFor",z)}},dependencies:[Gt.Hw,as.Ye,Ct.VK,Ct.OP,Ct.p6],styles:[".sidebar[_ngcontent-%COMP%]{position:absolute;top:5em;left:0;height:5em;z-index:10}.mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;cursor:pointer;background-color:#0111a1cc}.mdc-list-item[_ngcontent-%COMP%]{width:200px;background-color:#fff}  .mat-mdc-menu-content{padding:0!important}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}"]}),V})();function Ra(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"div",8),g.NdJ("click",function(){g.CHM(p);const z=g.oxw(2);return g.KtG(z.onLoginClick())}),g._uU(1," Login "),g.qZA()}}function ol(V,y){if(1&V&&(g.TgZ(0,"div",9),g._uU(1),g.qZA()),2&V){const p=g.oxw(2);g.xp6(1),g.hij(" Hello, ",p.getUserName()," ")}}function Cn(V,y){if(1&V){const p=g.EpF();g.TgZ(0,"div",8),g.NdJ("click",function(){g.CHM(p);const z=g.oxw(2);return g.KtG(z.onLogoutClick())}),g._uU(1," Logout "),g.qZA()}}function Dr(V,y){if(1&V&&(g.TgZ(0,"div",5),g.YNc(1,Ra,2,0,"div",6),g.YNc(2,ol,2,1,"div",7),g.YNc(3,Cn,2,0,"div",6),g.qZA()),2&V){const p=g.oxw();g.xp6(1),g.Q6J("ngIf",!p.getIsLoggedIn()),g.xp6(1),g.Q6J("ngIf",p.getIsLoggedIn()&&p.getUserHasProfile()),g.xp6(1),g.Q6J("ngIf",p.getIsLoggedIn())}}let Cs=(()=>{class V{constructor(p,C,z,me){this.userDataService=p,this.loginSheet=C,this.afAuth=z,this.router=me}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}getUserName(){return this.userDataService.userInfo?.publicName||""}onLoginClick(){this.loginSheet.open(Fe)}onLogoutClick(){this.router.navigate([""]),this.userDataService.resetUserName(),this.afAuth.signOut()}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(ne.M),g.Y36(Ee.ch),g.Y36(se.zQ),g.Y36(L.F0))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"nav-bar"],[1,"nav-bar-content"],[1,"nav-bar-left"],["target","_blank","href","https://www.instagram.com/vlladyaa/",1,"nav-bar-items","link"],["class","nav-bar-right",4,"ngIf"],[1,"nav-bar-right"],["class","nav-bar-items link",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[1,"nav-bar-items","link",3,"click"],[1,"nav-bar-items"]],template:function(p,C){1&p&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),g._uU(4,"Instagram"),g.qZA()(),g.YNc(5,Dr,4,3,"div",4),g.qZA()()),2&p&&(g.xp6(5),g.Q6J("ngIf",void 0!==C.getIsLoggedIn()))},dependencies:[fe.O5],styles:[".nav-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#00000080;height:5em;z-index:10}.nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}.nav-bar-left[_ngcontent-%COMP%], .nav-bar-right[_ngcontent-%COMP%]{opacity:1;display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;color:#fff;font-weight:900}.link[_ngcontent-%COMP%]{outline:none;text-decoration:none}.link[_ngcontent-%COMP%]:link, .link[_ngcontent-%COMP%]:visited{color:#fff}.link[_ngcontent-%COMP%]:hover{border-bottom:1px solid;background:#b4b4b4;padding:5px;border-radius:1em}.link[_ngcontent-%COMP%]:active{background:#ec6802;color:#fff}.nav-bar-left[_ngcontent-%COMP%]{font-size:1.5em}.nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),V})();function co(V,y){1&V&&g._UZ(0,"app-sidebar")}let Jn=(()=>{class V{constructor(p,C){this.userDataService=p,this.location=C,this.title="SocialMediaProject",this.userDataService.checkLoginStatus()}checkUrl(){const p=this.location.path();return p.includes("postFeed")||p.includes("userPage")||p.includes("friendPage")}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}}return V.\u0275fac=function(p){return new(p||V)(g.Y36(ne.M),g.Y36(fe.Ye))},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"show"]],template:function(p,C){1&p&&(g._UZ(0,"app-navbar"),g.YNc(1,co,1,0,"app-sidebar",0),g._UZ(2,"router-outlet")(3,"app-profile",1)),2&p&&(g.xp6(1),g.Q6J("ngIf",C.checkUrl()),g.xp6(2),g.Q6J("show",C.getIsLoggedIn()&&!C.getUserHasProfile()))},dependencies:[fe.O5,L.lC,ir,Jr,Cs]}),V})(),oi=(()=>{class V{}return V.\u0275fac=function(p){return new(p||V)},V.\u0275mod=g.oAB({type:V,bootstrap:[Jn]}),V.\u0275inj=g.cJS({providers:[ne.M,Qt.n],imports:[d.b2,ln,Xr,Nl.hO.initializeApp(Es_firebaseConfig),Pt.yb,kt.TE,ae.UX,ss.JF,_a.q]}),V})();d.q6().bootstrapModule(oi).catch(V=>console.error(V))},1135:(pn,it,E)=>{E.d(it,{X:()=>L});var d=E(7579);class L extends d.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const xe=super._subscribe(ne);return!xe.closed&&ne.next(this._value),xe}getValue(){const{hasError:ne,thrownError:xe,_value:ae}=this;if(ne)throw xe;return this._throwIfClosed(),ae}next(ne){super.next(this._value=ne)}}},9751:(pn,it,E)=>{E.d(it,{y:()=>_e});var d=E(930),L=E(727),g=E(8822),ne=E(9635),xe=E(2416),ae=E(576),Z=E(2806);let _e=(()=>{class fe{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const ut=new fe;return ut.source=this,ut.operator=Ne,ut}subscribe(Ne,ut,rt){const Le=function de(fe){return fe&&fe instanceof d.Lv||function se(fe){return fe&&(0,ae.m)(fe.next)&&(0,ae.m)(fe.error)&&(0,ae.m)(fe.complete)}(fe)&&(0,L.Nn)(fe)}(Ne)?Ne:new d.Hp(Ne,ut,rt);return(0,Z.x)(()=>{const{operator:He,source:Re}=this;Le.add(He?He.call(Le,Re):Re?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(ut){Ne.error(ut)}}forEach(Ne,ut){return new(ut=Ee(ut))((rt,Le)=>{const He=new d.Hp({next:Re=>{try{Ne(Re)}catch(bt){Le(bt),He.unsubscribe()}},error:Le,complete:rt});this.subscribe(He)})}_subscribe(Ne){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(Ne)}[g.L](){return this}pipe(...Ne){return(0,ne.U)(Ne)(this)}toPromise(Ne){return new(Ne=Ee(Ne))((ut,rt)=>{let Le;this.subscribe(He=>Le=He,He=>rt(He),()=>ut(Le))})}}return fe.create=Je=>new fe(Je),fe})();function Ee(fe){var Je;return null!==(Je=fe??xe.config.Promise)&&void 0!==Je?Je:Promise}},7579:(pn,it,E)=>{E.d(it,{x:()=>Z});var d=E(9751),L=E(727);const ne=(0,E(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=E(8737),ae=E(2806);let Z=(()=>{class Ee extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const fe=new _e(this,this);return fe.operator=de,fe}_throwIfClosed(){if(this.closed)throw new ne}next(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(de)}})}error(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:fe}=this;for(;fe.length;)fe.shift().error(de)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:fe,isStopped:Je,observers:Ne}=this;return fe||Je?L.Lc:(this.currentObservers=null,Ne.push(de),new L.w0(()=>{this.currentObservers=null,(0,xe.P)(Ne,de)}))}_checkFinalizedStatuses(de){const{hasError:fe,thrownError:Je,isStopped:Ne}=this;fe?de.error(Je):Ne&&de.complete()}asObservable(){const de=new d.y;return de.source=this,de}}return Ee.create=(se,de)=>new _e(se,de),Ee})();class _e extends Z{constructor(se,de){super(),this.destination=se,this.source=de}next(se){var de,fe;null===(fe=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===fe||fe.call(de,se)}error(se){var de,fe;null===(fe=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===fe||fe.call(de,se)}complete(){var se,de;null===(de=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===de||de.call(se)}_subscribe(se){var de,fe;return null!==(fe=null===(de=this.source)||void 0===de?void 0:de.subscribe(se))&&void 0!==fe?fe:L.Lc}}},930:(pn,it,E)=>{E.d(it,{Hp:()=>rt,Lv:()=>fe});var d=E(576),L=E(727),g=E(2416),ne=E(7849),xe=E(5032);const ae=Ee("C",void 0,void 0);function Ee(ue,De,be){return{kind:ue,value:De,error:be}}var se=E(3410),de=E(2806);class fe extends L.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,L.Nn)(De)&&De.add(this)):this.destination=bt}static create(De,be,Me){return new rt(De,be,Me)}next(De){this.isStopped?Re(function _e(ue){return Ee("N",ue,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Re(function Z(ue){return Ee("E",void 0,ue)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Re(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Ne(ue,De){return Je.call(ue,De)}class ut{constructor(De){this.partialObserver=De}next(De){const{partialObserver:be}=this;if(be.next)try{be.next(De)}catch(Me){Le(Me)}}error(De){const{partialObserver:be}=this;if(be.error)try{be.error(De)}catch(Me){Le(Me)}else Le(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(be){Le(be)}}}class rt extends fe{constructor(De,be,Me){let $e;if(super(),(0,d.m)(De)||!De)$e={next:De??void 0,error:be??void 0,complete:Me??void 0};else{let K;this&&g.config.useDeprecatedNextContext?(K=Object.create(De),K.unsubscribe=()=>this.unsubscribe(),$e={next:De.next&&Ne(De.next,K),error:De.error&&Ne(De.error,K),complete:De.complete&&Ne(De.complete,K)}):$e=De}this.destination=new ut($e)}}function Le(ue){g.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(ue):(0,ne.h)(ue)}function Re(ue,De){const{onStoppedNotification:be}=g.config;be&&se.z.setTimeout(()=>be(ue,De))}const bt={closed:!0,next:xe.Z,error:function He(ue){throw ue},complete:xe.Z}},727:(pn,it,E)=>{E.d(it,{Lc:()=>ae,w0:()=>xe,Nn:()=>Z});var d=E(576);const g=(0,E(3888).d)(Ee=>function(de){Ee(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((fe,Je)=>`${Je+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var ne=E(8737);class xe{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Ne of de)Ne.remove(this);else de.remove(this);const{initialTeardown:fe}=this;if((0,d.m)(fe))try{fe()}catch(Ne){se=Ne instanceof g?Ne.errors:[Ne]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Ne of Je)try{_e(Ne)}catch(ut){se=se??[],ut instanceof g?se=[...se,...ut.errors]:se.push(ut)}}if(se)throw new g(se)}}add(se){var de;if(se&&se!==this)if(this.closed)_e(se);else{if(se instanceof xe){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(se)}}_hasParent(se){const{_parentage:de}=this;return de===se||Array.isArray(de)&&de.includes(se)}_addParent(se){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(se),de):de?[de,se]:se}_removeParent(se){const{_parentage:de}=this;de===se?this._parentage=null:Array.isArray(de)&&(0,ne.P)(de,se)}remove(se){const{_finalizers:de}=this;de&&(0,ne.P)(de,se),se instanceof xe&&se._removeParent(this)}}xe.EMPTY=(()=>{const Ee=new xe;return Ee.closed=!0,Ee})();const ae=xe.EMPTY;function Z(Ee){return Ee instanceof xe||Ee&&"closed"in Ee&&(0,d.m)(Ee.remove)&&(0,d.m)(Ee.add)&&(0,d.m)(Ee.unsubscribe)}function _e(Ee){(0,d.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(pn,it,E)=>{E.d(it,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(pn,it,E)=>{E.d(it,{a:()=>se});var d=E(9751),L=E(4742),g=E(8996),ne=E(4671),xe=E(3268),ae=E(3269),Z=E(1810),_e=E(5403),Ee=E(9672);function se(...Je){const Ne=(0,ae.yG)(Je),ut=(0,ae.jO)(Je),{args:rt,keys:Le}=(0,L.D)(Je);if(0===rt.length)return(0,g.D)([],Ne);const He=new d.y(function de(Je,Ne,ut=ne.y){return rt=>{fe(Ne,()=>{const{length:Le}=Je,He=new Array(Le);let Re=Le,bt=Le;for(let ue=0;ue<Le;ue++)fe(Ne,()=>{const De=(0,g.D)(Je[ue],Ne);let be=!1;De.subscribe((0,_e.x)(rt,Me=>{He[ue]=Me,be||(be=!0,bt--),bt||rt.next(ut(He.slice()))},()=>{--Re||rt.complete()}))},rt)},rt)}}(rt,Ne,Le?Re=>(0,Z.n)(Le,Re):ne.y));return ut?He.pipe((0,xe.Z)(ut)):He}function fe(Je,Ne,ut){Je?(0,Ee.f)(ut,Je,Ne):Ne()}},7272:(pn,it,E)=>{E.d(it,{z:()=>xe});var d=E(8189),g=E(3269),ne=E(8996);function xe(...ae){return function L(){return(0,d.J)(1)}()((0,ne.D)(ae,(0,g.yG)(ae)))}},9770:(pn,it,E)=>{E.d(it,{P:()=>g});var d=E(9751),L=E(8421);function g(ne){return new d.y(xe=>{(0,L.Xf)(ne()).subscribe(xe)})}},515:(pn,it,E)=>{E.d(it,{E:()=>L});const L=new(E(9751).y)(xe=>xe.complete())},4128:(pn,it,E)=>{E.d(it,{D:()=>_e});var d=E(9751),L=E(4742),g=E(8421),ne=E(3269),xe=E(5403),ae=E(3268),Z=E(1810);function _e(...Ee){const se=(0,ne.jO)(Ee),{args:de,keys:fe}=(0,L.D)(Ee),Je=new d.y(Ne=>{const{length:ut}=de;if(!ut)return void Ne.complete();const rt=new Array(ut);let Le=ut,He=ut;for(let Re=0;Re<ut;Re++){let bt=!1;(0,g.Xf)(de[Re]).subscribe((0,xe.x)(Ne,ue=>{bt||(bt=!0,He--),rt[Re]=ue},()=>Le--,void 0,()=>{(!Le||!bt)&&(He||Ne.next(fe?(0,Z.n)(fe,rt):rt),Ne.complete())}))}});return se?Je.pipe((0,ae.Z)(se)):Je}},8996:(pn,it,E)=>{E.d(it,{D:()=>De});var d=E(8421),L=E(5363),g=E(9468),ae=E(9751),_e=E(2202),Ee=E(576),se=E(9672);function fe(be,Me){if(!be)throw new Error("Iterable cannot be null");return new ae.y($e=>{(0,se.f)($e,Me,()=>{const K=be[Symbol.asyncIterator]();(0,se.f)($e,Me,()=>{K.next().then(Ge=>{Ge.done?$e.complete():$e.next(Ge.value)})},0,!0)})})}var Je=E(3670),Ne=E(8239),ut=E(1144),rt=E(6495),Le=E(2206),He=E(4532),Re=E(3260);function De(be,Me){return Me?function ue(be,Me){if(null!=be){if((0,Je.c)(be))return function ne(be,Me){return(0,d.Xf)(be).pipe((0,g.R)(Me),(0,L.Q)(Me))}(be,Me);if((0,ut.z)(be))return function Z(be,Me){return new ae.y($e=>{let K=0;return Me.schedule(function(){K===be.length?$e.complete():($e.next(be[K++]),$e.closed||this.schedule())})})}(be,Me);if((0,Ne.t)(be))return function xe(be,Me){return(0,d.Xf)(be).pipe((0,g.R)(Me),(0,L.Q)(Me))}(be,Me);if((0,Le.D)(be))return fe(be,Me);if((0,rt.T)(be))return function de(be,Me){return new ae.y($e=>{let K;return(0,se.f)($e,Me,()=>{K=be[_e.h](),(0,se.f)($e,Me,()=>{let Ge,Fe;try{({value:Ge,done:Fe}=K.next())}catch(ze){return void $e.error(ze)}Fe?$e.complete():$e.next(Ge)},0,!0)}),()=>(0,Ee.m)(K?.return)&&K.return()})}(be,Me);if((0,Re.L)(be))return function bt(be,Me){return fe((0,Re.Q)(be),Me)}(be,Me)}throw(0,He.z)(be)}(be,Me):(0,d.Xf)(be)}},8421:(pn,it,E)=>{E.d(it,{Xf:()=>Je});var d=E(7582),L=E(1144),g=E(8239),ne=E(9751),xe=E(3670),ae=E(2206),Z=E(4532),_e=E(6495),Ee=E(3260),se=E(576),de=E(7849),fe=E(8822);function Je(ue){if(ue instanceof ne.y)return ue;if(null!=ue){if((0,xe.c)(ue))return function Ne(ue){return new ne.y(De=>{const be=ue[fe.L]();if((0,se.m)(be.subscribe))return be.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,L.z)(ue))return function ut(ue){return new ne.y(De=>{for(let be=0;be<ue.length&&!De.closed;be++)De.next(ue[be]);De.complete()})}(ue);if((0,g.t)(ue))return function rt(ue){return new ne.y(De=>{ue.then(be=>{De.closed||(De.next(be),De.complete())},be=>De.error(be)).then(null,de.h)})}(ue);if((0,ae.D)(ue))return He(ue);if((0,_e.T)(ue))return function Le(ue){return new ne.y(De=>{for(const be of ue)if(De.next(be),De.closed)return;De.complete()})}(ue);if((0,Ee.L)(ue))return function Re(ue){return He((0,Ee.Q)(ue))}(ue)}throw(0,Z.z)(ue)}function He(ue){return new ne.y(De=>{(function bt(ue,De){var be,Me,$e,K;return(0,d.mG)(this,void 0,void 0,function*(){try{for(be=(0,d.KL)(ue);!(Me=yield be.next()).done;)if(De.next(Me.value),De.closed)return}catch(Ge){$e={error:Ge}}finally{try{Me&&!Me.done&&(K=be.return)&&(yield K.call(be))}finally{if($e)throw $e.error}}De.complete()})})(ue,De).catch(be=>De.error(be))})}},6451:(pn,it,E)=>{E.d(it,{T:()=>ae});var d=E(8189),L=E(8421),g=E(515),ne=E(3269),xe=E(8996);function ae(...Z){const _e=(0,ne.yG)(Z),Ee=(0,ne._6)(Z,1/0),se=Z;return se.length?1===se.length?(0,L.Xf)(se[0]):(0,d.J)(Ee)((0,xe.D)(se,_e)):g.E}},9646:(pn,it,E)=>{E.d(it,{of:()=>g});var d=E(3269),L=E(8996);function g(...ne){const xe=(0,d.yG)(ne);return(0,L.D)(ne,xe)}},2843:(pn,it,E)=>{E.d(it,{_:()=>g});var d=E(9751),L=E(576);function g(ne,xe){const ae=(0,L.m)(ne)?ne:()=>ne,Z=_e=>_e.error(ae());return new d.y(xe?_e=>xe.schedule(Z,0,_e):Z)}},5963:(pn,it,E)=>{E.d(it,{H:()=>xe});var d=E(9751),L=E(4986),g=E(3532);function xe(ae=0,Z,_e=L.P){let Ee=-1;return null!=Z&&((0,g.K)(Z)?_e=Z:Ee=Z),new d.y(se=>{let de=function ne(ae){return ae instanceof Date&&!isNaN(ae)}(ae)?+ae-_e.now():ae;de<0&&(de=0);let fe=0;return _e.schedule(function(){se.closed||(se.next(fe++),0<=Ee?this.schedule(void 0,Ee):se.complete())},de)})}},5403:(pn,it,E)=>{E.d(it,{x:()=>L});var d=E(930);function L(ne,xe,ae,Z,_e){return new g(ne,xe,ae,Z,_e)}class g extends d.Lv{constructor(xe,ae,Z,_e,Ee,se){super(xe),this.onFinalize=Ee,this.shouldUnsubscribe=se,this._next=ae?function(de){try{ae(de)}catch(fe){xe.error(fe)}}:super._next,this._error=_e?function(de){try{_e(de)}catch(fe){xe.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(de){xe.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},262:(pn,it,E)=>{E.d(it,{K:()=>ne});var d=E(8421),L=E(5403),g=E(4482);function ne(xe){return(0,g.e)((ae,Z)=>{let se,_e=null,Ee=!1;_e=ae.subscribe((0,L.x)(Z,void 0,void 0,de=>{se=(0,d.Xf)(xe(de,ne(xe)(ae))),_e?(_e.unsubscribe(),_e=null,se.subscribe(Z)):Ee=!0})),Ee&&(_e.unsubscribe(),_e=null,se.subscribe(Z))})}},4351:(pn,it,E)=>{E.d(it,{b:()=>g});var d=E(5577),L=E(576);function g(ne,xe){return(0,L.m)(xe)?(0,d.z)(ne,xe,1):(0,d.z)(ne,1)}},8372:(pn,it,E)=>{E.d(it,{b:()=>ne});var d=E(4986),L=E(4482),g=E(5403);function ne(xe,ae=d.z){return(0,L.e)((Z,_e)=>{let Ee=null,se=null,de=null;const fe=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const Ne=se;se=null,_e.next(Ne)}};function Je(){const Ne=de+xe,ut=ae.now();if(ut<Ne)return Ee=this.schedule(void 0,Ne-ut),void _e.add(Ee);fe()}Z.subscribe((0,g.x)(_e,Ne=>{se=Ne,de=ae.now(),Ee||(Ee=ae.schedule(Je,xe),_e.add(Ee))},()=>{fe(),_e.complete()},void 0,()=>{se=Ee=null}))})}},6590:(pn,it,E)=>{E.d(it,{d:()=>g});var d=E(4482),L=E(5403);function g(ne){return(0,d.e)((xe,ae)=>{let Z=!1;xe.subscribe((0,L.x)(ae,_e=>{Z=!0,ae.next(_e)},()=>{Z||ae.next(ne),ae.complete()}))})}},1884:(pn,it,E)=>{E.d(it,{x:()=>ne});var d=E(4671),L=E(4482),g=E(5403);function ne(ae,Z=d.y){return ae=ae??xe,(0,L.e)((_e,Ee)=>{let se,de=!0;_e.subscribe((0,g.x)(Ee,fe=>{const Je=Z(fe);(de||!ae(se,Je))&&(de=!1,se=Je,Ee.next(fe))}))})}function xe(ae,Z){return ae===Z}},9300:(pn,it,E)=>{E.d(it,{h:()=>g});var d=E(4482),L=E(5403);function g(ne,xe){return(0,d.e)((ae,Z)=>{let _e=0;ae.subscribe((0,L.x)(Z,Ee=>ne.call(xe,Ee,_e++)&&Z.next(Ee)))})}},8746:(pn,it,E)=>{E.d(it,{x:()=>L});var d=E(4482);function L(g){return(0,d.e)((ne,xe)=>{try{ne.subscribe(xe)}finally{xe.add(g)}})}},590:(pn,it,E)=>{E.d(it,{P:()=>Z});var d=E(6805),L=E(9300),g=E(5698),ne=E(6590),xe=E(8068),ae=E(4671);function Z(_e,Ee){const se=arguments.length>=2;return de=>de.pipe(_e?(0,L.h)((fe,Je)=>_e(fe,Je,de)):ae.y,(0,g.q)(1),se?(0,ne.d)(Ee):(0,xe.T)(()=>new d.K))}},4004:(pn,it,E)=>{E.d(it,{U:()=>g});var d=E(4482),L=E(5403);function g(ne,xe){return(0,d.e)((ae,Z)=>{let _e=0;ae.subscribe((0,L.x)(Z,Ee=>{Z.next(ne.call(xe,Ee,_e++))}))})}},9718:(pn,it,E)=>{E.d(it,{h:()=>L});var d=E(4004);function L(g){return(0,d.U)(()=>g)}},8189:(pn,it,E)=>{E.d(it,{J:()=>g});var d=E(5577),L=E(4671);function g(ne=1/0){return(0,d.z)(L.y,ne)}},5577:(pn,it,E)=>{E.d(it,{z:()=>_e});var d=E(4004),L=E(8421),g=E(4482),ne=E(9672),xe=E(5403),Z=E(576);function _e(Ee,se,de=1/0){return(0,Z.m)(se)?_e((fe,Je)=>(0,d.U)((Ne,ut)=>se(fe,Ne,Je,ut))((0,L.Xf)(Ee(fe,Je))),de):("number"==typeof se&&(de=se),(0,g.e)((fe,Je)=>function ae(Ee,se,de,fe,Je,Ne,ut,rt){const Le=[];let He=0,Re=0,bt=!1;const ue=()=>{bt&&!Le.length&&!He&&se.complete()},De=Me=>He<fe?be(Me):Le.push(Me),be=Me=>{Ne&&se.next(Me),He++;let $e=!1;(0,L.Xf)(de(Me,Re++)).subscribe((0,xe.x)(se,K=>{Je?.(K),Ne?De(K):se.next(K)},()=>{$e=!0},void 0,()=>{if($e)try{for(He--;Le.length&&He<fe;){const K=Le.shift();ut?(0,ne.f)(se,ut,()=>be(K)):be(K)}ue()}catch(K){se.error(K)}}))};return Ee.subscribe((0,xe.x)(se,De,()=>{bt=!0,ue()})),()=>{rt?.()}}(fe,Je,Ee,de)))}},5363:(pn,it,E)=>{E.d(it,{Q:()=>ne});var d=E(9672),L=E(4482),g=E(5403);function ne(xe,ae=0){return(0,L.e)((Z,_e)=>{Z.subscribe((0,g.x)(_e,Ee=>(0,d.f)(_e,xe,()=>_e.next(Ee),ae),()=>(0,d.f)(_e,xe,()=>_e.complete(),ae),Ee=>(0,d.f)(_e,xe,()=>_e.error(Ee),ae)))})}},5026:(pn,it,E)=>{E.d(it,{R:()=>ne});var d=E(4482),L=E(5403);function ne(xe,ae){return(0,d.e)(function g(xe,ae,Z,_e,Ee){return(se,de)=>{let fe=Z,Je=ae,Ne=0;se.subscribe((0,L.x)(de,ut=>{const rt=Ne++;Je=fe?xe(Je,ut,rt):(fe=!0,ut),_e&&de.next(Je)},Ee&&(()=>{fe&&de.next(Je),de.complete()})))}}(xe,ae,arguments.length>=2,!0))}},3099:(pn,it,E)=>{E.d(it,{B:()=>xe});var d=E(8421),L=E(7579),g=E(930),ne=E(4482);function xe(Z={}){const{connector:_e=(()=>new L.x),resetOnError:Ee=!0,resetOnComplete:se=!0,resetOnRefCountZero:de=!0}=Z;return fe=>{let Je,Ne,ut,rt=0,Le=!1,He=!1;const Re=()=>{Ne?.unsubscribe(),Ne=void 0},bt=()=>{Re(),Je=ut=void 0,Le=He=!1},ue=()=>{const De=Je;bt(),De?.unsubscribe()};return(0,ne.e)((De,be)=>{rt++,!He&&!Le&&Re();const Me=ut=ut??_e();be.add(()=>{rt--,0===rt&&!He&&!Le&&(Ne=ae(ue,de))}),Me.subscribe(be),!Je&&rt>0&&(Je=new g.Hp({next:$e=>Me.next($e),error:$e=>{He=!0,Re(),Ne=ae(bt,Ee,$e),Me.error($e)},complete:()=>{Le=!0,Re(),Ne=ae(bt,se),Me.complete()}}),(0,d.Xf)(De).subscribe(Je))})(fe)}}function ae(Z,_e,...Ee){if(!0===_e)return void Z();if(!1===_e)return;const se=new g.Hp({next:()=>{se.unsubscribe(),Z()}});return(0,d.Xf)(_e(...Ee)).subscribe(se)}},5684:(pn,it,E)=>{E.d(it,{T:()=>L});var d=E(9300);function L(g){return(0,d.h)((ne,xe)=>g<=xe)}},8675:(pn,it,E)=>{E.d(it,{O:()=>ne});var d=E(7272),L=E(3269),g=E(4482);function ne(...xe){const ae=(0,L.yG)(xe);return(0,g.e)((Z,_e)=>{(ae?(0,d.z)(xe,Z,ae):(0,d.z)(xe,Z)).subscribe(_e)})}},9468:(pn,it,E)=>{E.d(it,{R:()=>L});var d=E(4482);function L(g,ne=0){return(0,d.e)((xe,ae)=>{ae.add(g.schedule(()=>xe.subscribe(ae),ne))})}},3900:(pn,it,E)=>{E.d(it,{w:()=>ne});var d=E(8421),L=E(4482),g=E(5403);function ne(xe,ae){return(0,L.e)((Z,_e)=>{let Ee=null,se=0,de=!1;const fe=()=>de&&!Ee&&_e.complete();Z.subscribe((0,g.x)(_e,Je=>{Ee?.unsubscribe();let Ne=0;const ut=se++;(0,d.Xf)(xe(Je,ut)).subscribe(Ee=(0,g.x)(_e,rt=>_e.next(ae?ae(Je,rt,ut,Ne++):rt),()=>{Ee=null,fe()}))},()=>{de=!0,fe()}))})}},5698:(pn,it,E)=>{E.d(it,{q:()=>ne});var d=E(515),L=E(4482),g=E(5403);function ne(xe){return xe<=0?()=>d.E:(0,L.e)((ae,Z)=>{let _e=0;ae.subscribe((0,g.x)(Z,Ee=>{++_e<=xe&&(Z.next(Ee),xe<=_e&&Z.complete())}))})}},2722:(pn,it,E)=>{E.d(it,{R:()=>xe});var d=E(4482),L=E(5403),g=E(8421),ne=E(5032);function xe(ae){return(0,d.e)((Z,_e)=>{(0,g.Xf)(ae).subscribe((0,L.x)(_e,()=>_e.complete(),ne.Z)),!_e.closed&&Z.subscribe(_e)})}},8505:(pn,it,E)=>{E.d(it,{b:()=>xe});var d=E(576),L=E(4482),g=E(5403),ne=E(4671);function xe(ae,Z,_e){const Ee=(0,d.m)(ae)||Z||_e?{next:ae,error:Z,complete:_e}:ae;return Ee?(0,L.e)((se,de)=>{var fe;null===(fe=Ee.subscribe)||void 0===fe||fe.call(Ee);let Je=!0;se.subscribe((0,g.x)(de,Ne=>{var ut;null===(ut=Ee.next)||void 0===ut||ut.call(Ee,Ne),de.next(Ne)},()=>{var Ne;Je=!1,null===(Ne=Ee.complete)||void 0===Ne||Ne.call(Ee),de.complete()},Ne=>{var ut;Je=!1,null===(ut=Ee.error)||void 0===ut||ut.call(Ee,Ne),de.error(Ne)},()=>{var Ne,ut;Je&&(null===(Ne=Ee.unsubscribe)||void 0===Ne||Ne.call(Ee)),null===(ut=Ee.finalize)||void 0===ut||ut.call(Ee)}))}):ne.y}},8068:(pn,it,E)=>{E.d(it,{T:()=>ne});var d=E(6805),L=E(4482),g=E(5403);function ne(ae=xe){return(0,L.e)((Z,_e)=>{let Ee=!1;Z.subscribe((0,g.x)(_e,se=>{Ee=!0,_e.next(se)},()=>Ee?_e.complete():_e.error(ae())))})}function xe(){return new d.K}},4408:(pn,it,E)=>{E.d(it,{o:()=>xe});var d=E(727);class L extends d.w0{constructor(Z,_e){super()}schedule(Z,_e=0){return this}}const g={setInterval(ae,Z,..._e){const{delegate:Ee}=g;return Ee?.setInterval?Ee.setInterval(ae,Z,..._e):setInterval(ae,Z,..._e)},clearInterval(ae){const{delegate:Z}=g;return(Z?.clearInterval||clearInterval)(ae)},delegate:void 0};var ne=E(8737);class xe extends L{constructor(Z,_e){super(Z,_e),this.scheduler=Z,this.work=_e,this.pending=!1}schedule(Z,_e=0){var Ee;if(this.closed)return this;this.state=Z;const se=this.id,de=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(de,se,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(de,this.id,_e),this}requestAsyncId(Z,_e,Ee=0){return g.setInterval(Z.flush.bind(Z,this),Ee)}recycleAsyncId(Z,_e,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return _e;null!=_e&&g.clearInterval(_e)}execute(Z,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Z,_e);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,_e){let se,Ee=!1;try{this.work(Z)}catch(de){Ee=!0,se=de||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Z,scheduler:_e}=this,{actions:Ee}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(Ee,this),null!=Z&&(this.id=this.recycleAsyncId(_e,Z,null)),this.delay=null,super.unsubscribe()}}}},7565:(pn,it,E)=>{E.d(it,{v:()=>g});var d=E(6063);class L{constructor(xe,ae=L.now){this.schedulerActionCtor=xe,this.now=ae}schedule(xe,ae=0,Z){return new this.schedulerActionCtor(this,xe).schedule(Z,ae)}}L.now=d.l.now;class g extends L{constructor(xe,ae=L.now){super(xe,ae),this.actions=[],this._active=!1}flush(xe){const{actions:ae}=this;if(this._active)return void ae.push(xe);let Z;this._active=!0;do{if(Z=xe.execute(xe.state,xe.delay))break}while(xe=ae.shift());if(this._active=!1,Z){for(;xe=ae.shift();)xe.unsubscribe();throw Z}}}},3101:(pn,it,E)=>{E.d(it,{E:()=>Ne});var d=E(4408);let g,L=1;const ne={};function xe(rt){return rt in ne&&(delete ne[rt],!0)}const ae={setImmediate(rt){const Le=L++;return ne[Le]=!0,g||(g=Promise.resolve()),g.then(()=>xe(Le)&&rt()),Le},clearImmediate(rt){xe(rt)}},{setImmediate:_e,clearImmediate:Ee}=ae,se={setImmediate(...rt){const{delegate:Le}=se;return(Le?.setImmediate||_e)(...rt)},clearImmediate(rt){const{delegate:Le}=se;return(Le?.clearImmediate||Ee)(rt)},delegate:void 0};var fe=E(7565);const Ne=new class Je extends fe.v{flush(Le){this._active=!0;const He=this._scheduled;this._scheduled=void 0;const{actions:Re}=this;let bt;Le=Le||Re.shift();do{if(bt=Le.execute(Le.state,Le.delay))break}while((Le=Re[0])&&Le.id===He&&Re.shift());if(this._active=!1,bt){for(;(Le=Re[0])&&Le.id===He&&Re.shift();)Le.unsubscribe();throw bt}}}(class de extends d.o{constructor(Le,He){super(Le,He),this.scheduler=Le,this.work=He}requestAsyncId(Le,He,Re=0){return null!==Re&&Re>0?super.requestAsyncId(Le,He,Re):(Le.actions.push(this),Le._scheduled||(Le._scheduled=se.setImmediate(Le.flush.bind(Le,void 0))))}recycleAsyncId(Le,He,Re=0){var bt;if(null!=Re?Re>0:this.delay>0)return super.recycleAsyncId(Le,He,Re);const{actions:ue}=Le;null!=He&&(null===(bt=ue[ue.length-1])||void 0===bt?void 0:bt.id)!==He&&(se.clearImmediate(He),Le._scheduled===He&&(Le._scheduled=void 0))}})},4986:(pn,it,E)=>{E.d(it,{P:()=>ne,z:()=>g});var d=E(4408);const g=new(E(7565).v)(d.o),ne=g},6063:(pn,it,E)=>{E.d(it,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(pn,it,E)=>{E.d(it,{z:()=>d});const d={setTimeout(L,g,...ne){const{delegate:xe}=d;return xe?.setTimeout?xe.setTimeout(L,g,...ne):setTimeout(L,g,...ne)},clearTimeout(L){const{delegate:g}=d;return(g?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(pn,it,E)=>{E.d(it,{h:()=>L});const L=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pn,it,E)=>{E.d(it,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(pn,it,E)=>{E.d(it,{K:()=>L});const L=(0,E(3888).d)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(pn,it,E)=>{E.d(it,{_6:()=>ae,jO:()=>ne,yG:()=>xe});var d=E(576),L=E(3532);function g(Z){return Z[Z.length-1]}function ne(Z){return(0,d.m)(g(Z))?Z.pop():void 0}function xe(Z){return(0,L.K)(g(Z))?Z.pop():void 0}function ae(Z,_e){return"number"==typeof g(Z)?Z.pop():_e}},4742:(pn,it,E)=>{E.d(it,{D:()=>xe});const{isArray:d}=Array,{getPrototypeOf:L,prototype:g,keys:ne}=Object;function xe(Z){if(1===Z.length){const _e=Z[0];if(d(_e))return{args:_e,keys:null};if(function ae(Z){return Z&&"object"==typeof Z&&L(Z)===g}(_e)){const Ee=ne(_e);return{args:Ee.map(se=>_e[se]),keys:Ee}}}return{args:Z,keys:null}}},8737:(pn,it,E)=>{function d(L,g){if(L){const ne=L.indexOf(g);0<=ne&&L.splice(ne,1)}}E.d(it,{P:()=>d})},3888:(pn,it,E)=>{function d(L){const ne=L(xe=>{Error.call(xe),xe.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}E.d(it,{d:()=>d})},1810:(pn,it,E)=>{function d(L,g){return L.reduce((ne,xe,ae)=>(ne[xe]=g[ae],ne),{})}E.d(it,{n:()=>d})},2806:(pn,it,E)=>{E.d(it,{O:()=>ne,x:()=>g});var d=E(2416);let L=null;function g(xe){if(d.config.useDeprecatedSynchronousErrorHandling){const ae=!L;if(ae&&(L={errorThrown:!1,error:null}),xe(),ae){const{errorThrown:Z,error:_e}=L;if(L=null,Z)throw _e}}else xe()}function ne(xe){d.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=xe)}},9672:(pn,it,E)=>{function d(L,g,ne,xe=0,ae=!1){const Z=g.schedule(function(){ne(),ae?L.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(L.add(Z),!ae)return Z}E.d(it,{f:()=>d})},4671:(pn,it,E)=>{function d(L){return L}E.d(it,{y:()=>d})},1144:(pn,it,E)=>{E.d(it,{z:()=>d});const d=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(pn,it,E)=>{E.d(it,{D:()=>L});var d=E(576);function L(g){return Symbol.asyncIterator&&(0,d.m)(g?.[Symbol.asyncIterator])}},576:(pn,it,E)=>{function d(L){return"function"==typeof L}E.d(it,{m:()=>d})},3670:(pn,it,E)=>{E.d(it,{c:()=>g});var d=E(8822),L=E(576);function g(ne){return(0,L.m)(ne[d.L])}},6495:(pn,it,E)=>{E.d(it,{T:()=>g});var d=E(2202),L=E(576);function g(ne){return(0,L.m)(ne?.[d.h])}},8239:(pn,it,E)=>{E.d(it,{t:()=>L});var d=E(576);function L(g){return(0,d.m)(g?.then)}},3260:(pn,it,E)=>{E.d(it,{L:()=>ne,Q:()=>g});var d=E(7582),L=E(576);function g(xe){return(0,d.FC)(this,arguments,function*(){const Z=xe.getReader();try{for(;;){const{value:_e,done:Ee}=yield(0,d.qq)(Z.read());if(Ee)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(_e)}}finally{Z.releaseLock()}})}function ne(xe){return(0,L.m)(xe?.getReader)}},3532:(pn,it,E)=>{E.d(it,{K:()=>L});var d=E(576);function L(g){return g&&(0,d.m)(g.schedule)}},4482:(pn,it,E)=>{E.d(it,{A:()=>L,e:()=>g});var d=E(576);function L(ne){return(0,d.m)(ne?.lift)}function g(ne){return xe=>{if(L(xe))return xe.lift(function(ae){try{return ne(ae,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(pn,it,E)=>{E.d(it,{Z:()=>ne});var d=E(4004);const{isArray:L}=Array;function ne(xe){return(0,d.U)(ae=>function g(xe,ae){return L(ae)?xe(...ae):xe(ae)}(xe,ae))}},5032:(pn,it,E)=>{function d(){}E.d(it,{Z:()=>d})},9635:(pn,it,E)=>{E.d(it,{U:()=>g,z:()=>L});var d=E(4671);function L(...ne){return g(ne)}function g(ne){return 0===ne.length?d.y:1===ne.length?ne[0]:function(ae){return ne.reduce((Z,_e)=>_e(Z),ae)}}},7849:(pn,it,E)=>{E.d(it,{h:()=>g});var d=E(2416),L=E(3410);function g(ne){L.z.setTimeout(()=>{const{onUnhandledError:xe}=d.config;if(!xe)throw ne;xe(ne)})}},4532:(pn,it,E)=>{function d(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(it,{z:()=>d})},1591:(pn,it,E)=>{E.d(it,{IO:()=>ut,LC:()=>L,SB:()=>Ee,X$:()=>ne,ZE:()=>Re,ZN:()=>He,_j:()=>d,eR:()=>de,jt:()=>xe,k1:()=>bt,l3:()=>g,oB:()=>_e,pV:()=>Je,ru:()=>ae,vP:()=>Z});class d{}class L{}const g="*";function ne(ue,De){return{type:7,name:ue,definitions:De,options:{}}}function xe(ue,De=null){return{type:4,styles:De,timings:ue}}function ae(ue,De=null){return{type:3,steps:ue,options:De}}function Z(ue,De=null){return{type:2,steps:ue,options:De}}function _e(ue){return{type:6,styles:ue,offset:null}}function Ee(ue,De,be){return{type:0,name:ue,styles:De,options:be}}function de(ue,De,be=null){return{type:1,expr:ue,animation:De,options:be}}function Je(ue=null){return{type:9,options:ue}}function ut(ue,De,be=null){return{type:11,selector:ue,animation:De,options:be}}function Le(ue){Promise.resolve().then(ue)}class He{constructor(De=0,be=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+be}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const be="start"==De?this._onStartFns:this._onDoneFns;be.forEach(Me=>Me()),be.length=0}}class Re{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let be=0,Me=0,$e=0;const K=this.players.length;0==K?Le(()=>this._onFinish()):this.players.forEach(Ge=>{Ge.onDone(()=>{++be==K&&this._onFinish()}),Ge.onDestroy(()=>{++Me==K&&this._onDestroy()}),Ge.onStart(()=>{++$e==K&&this._onStart()})}),this.totalTime=this.players.reduce((Ge,Fe)=>Math.max(Ge,Fe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const be=De*this.totalTime;this.players.forEach(Me=>{const $e=Me.totalTime?Math.min(1,be/Me.totalTime):1;Me.setPosition($e)})}getPosition(){const De=this.players.reduce((be,Me)=>null===be||Me.totalTime>be.totalTime?Me:be,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const be="start"==De?this._onStartFns:this._onDoneFns;be.forEach(Me=>Me()),be.length=0}}const bt="!"},706:(pn,it,E)=>{E.d(it,{Em:()=>ht,X6:()=>ce,ic:()=>kt,qV:()=>un,qm:()=>et,rt:()=>st,tE:()=>In,yG:()=>Ve});var d=E(4755),L=E(2223),g=E(2966),ne=E(7579),xe=E(727),ae=E(1135),Z=E(9646),_e=E(2840),Ee=E(8505),se=E(8372),de=E(9300),fe=E(4004),Je=E(5698),Ne=E(5684),ut=E(1884),rt=E(2722),Le=E(1692),He=E(829),Re=E(5537);class _n{constructor(Oe){this._items=Oe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne.x,this._typeaheadSubscription=xe.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ie=>Ie.disabled,this._pressedLetters=[],this.tabOut=new ne.x,this.change=new ne.x,Oe instanceof L.n_E&&(this._itemChangesSubscription=Oe.changes.subscribe(Ie=>{if(this._activeItem){const jt=Ie.toArray().indexOf(this._activeItem);jt>-1&&jt!==this._activeItemIndex&&(this._activeItemIndex=jt)}}))}skipPredicate(Oe){return this._skipPredicateFn=Oe,this}withWrap(Oe=!0){return this._wrap=Oe,this}withVerticalOrientation(Oe=!0){return this._vertical=Oe,this}withHorizontalOrientation(Oe){return this._horizontal=Oe,this}withAllowedModifierKeys(Oe){return this._allowedModifierKeys=Oe,this}withTypeAhead(Oe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ee.b)(Ie=>this._pressedLetters.push(Ie)),(0,se.b)(Oe),(0,de.h)(()=>this._pressedLetters.length>0),(0,fe.U)(()=>this._pressedLetters.join(""))).subscribe(Ie=>{const xt=this._getItemsArray();for(let jt=1;jt<xt.length+1;jt++){const Te=(this._activeItemIndex+jt)%xt.length,oe=xt[Te];if(!this._skipPredicateFn(oe)&&0===oe.getLabel().toUpperCase().trim().indexOf(Ie)){this.setActiveItem(Te);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Oe=!0){return this._homeAndEnd=Oe,this}withPageUpDown(Oe=!0,Ie=10){return this._pageUpAndDown={enabled:Oe,delta:Ie},this}setActiveItem(Oe){const Ie=this._activeItem;this.updateActiveItem(Oe),this._activeItem!==Ie&&this.change.next(this._activeItemIndex)}onKeydown(Oe){const Ie=Oe.keyCode,jt=["altKey","ctrlKey","metaKey","shiftKey"].every(Te=>!Oe[Te]||this._allowedModifierKeys.indexOf(Te)>-1);switch(Ie){case _e.Mf:return void this.tabOut.next();case _e.JH:if(this._vertical&&jt){this.setNextItemActive();break}return;case _e.LH:if(this._vertical&&jt){this.setPreviousItemActive();break}return;case _e.SV:if(this._horizontal&&jt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case _e.oh:if(this._horizontal&&jt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case _e.Sd:if(this._homeAndEnd&&jt){this.setFirstItemActive();break}return;case _e.uR:if(this._homeAndEnd&&jt){this.setLastItemActive();break}return;case _e.Ku:if(this._pageUpAndDown.enabled&&jt){const Te=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Te>0?Te:0,1);break}return;case _e.VM:if(this._pageUpAndDown.enabled&&jt){const Te=this._activeItemIndex+this._pageUpAndDown.delta,oe=this._getItemsArray().length;this._setActiveItemByIndex(Te<oe?Te:oe-1,-1);break}return;default:return void((jt||(0,_e.Vb)(Oe,"shiftKey"))&&(Oe.key&&1===Oe.key.length?this._letterKeyStream.next(Oe.key.toLocaleUpperCase()):(Ie>=_e.A&&Ie<=_e.Z||Ie>=_e.xE&&Ie<=_e.aO)&&this._letterKeyStream.next(String.fromCharCode(Ie))))}this._pressedLetters=[],Oe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Oe){const Ie=this._getItemsArray(),xt="number"==typeof Oe?Oe:Ie.indexOf(Oe);this._activeItem=Ie[xt]??null,this._activeItemIndex=xt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Oe){this._wrap?this._setActiveInWrapMode(Oe):this._setActiveInDefaultMode(Oe)}_setActiveInWrapMode(Oe){const Ie=this._getItemsArray();for(let xt=1;xt<=Ie.length;xt++){const jt=(this._activeItemIndex+Oe*xt+Ie.length)%Ie.length;if(!this._skipPredicateFn(Ie[jt]))return void this.setActiveItem(jt)}}_setActiveInDefaultMode(Oe){this._setActiveItemByIndex(this._activeItemIndex+Oe,Oe)}_setActiveItemByIndex(Oe,Ie){const xt=this._getItemsArray();if(xt[Oe]){for(;this._skipPredicateFn(xt[Oe]);)if(!xt[Oe+=Ie])return;this.setActiveItem(Oe)}}_getItemsArray(){return this._items instanceof L.n_E?this._items.toArray():this._items}}class ht extends _n{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Oe){return this._origin=Oe,this}setActiveItem(Oe){super.setActiveItem(Oe),this.activeItem&&this.activeItem.focus(this._origin)}}let kt=(()=>{class Be{constructor(Ie){this._platform=Ie}isDisabled(Ie){return Ie.hasAttribute("disabled")}isVisible(Ie){return function Qt(Be){return!!(Be.offsetWidth||Be.offsetHeight||"function"==typeof Be.getClientRects&&Be.getClientRects().length)}(Ie)&&"visible"===getComputedStyle(Ie).visibility}isTabbable(Ie){if(!this._platform.isBrowser)return!1;const xt=function Pt(Be){try{return Be.frameElement}catch{return null}}(function Ht(Be){return Be.ownerDocument&&Be.ownerDocument.defaultView||window}(Ie));if(xt&&(-1===Xe(xt)||!this.isVisible(xt)))return!1;let jt=Ie.nodeName.toLowerCase(),Te=Xe(Ie);return Ie.hasAttribute("contenteditable")?-1!==Te:!("iframe"===jt||"object"===jt||this._platform.WEBKIT&&this._platform.IOS&&!function Ct(Be){let Oe=Be.nodeName.toLowerCase(),Ie="input"===Oe&&Be.type;return"text"===Ie||"password"===Ie||"select"===Oe||"textarea"===Oe}(Ie))&&("audio"===jt?!!Ie.hasAttribute("controls")&&-1!==Te:"video"===jt?-1!==Te&&(null!==Te||this._platform.FIREFOX||Ie.hasAttribute("controls")):Ie.tabIndex>=0)}isFocusable(Ie,xt){return function yt(Be){return!function dn(Be){return function an(Be){return"input"==Be.nodeName.toLowerCase()}(Be)&&"hidden"==Be.type}(Be)&&(function Gt(Be){let Oe=Be.nodeName.toLowerCase();return"input"===Oe||"select"===Oe||"button"===Oe||"textarea"===Oe}(Be)||function gn(Be){return function At(Be){return"a"==Be.nodeName.toLowerCase()}(Be)&&Be.hasAttribute("href")}(Be)||Be.hasAttribute("contenteditable")||Ke(Be))}(Ie)&&!this.isDisabled(Ie)&&(xt?.ignoreVisibility||this.isVisible(Ie))}}return Be.\u0275fac=function(Ie){return new(Ie||Be)(L.LFG(g.t4))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();function Ke(Be){if(!Be.hasAttribute("tabindex")||void 0===Be.tabIndex)return!1;let Oe=Be.getAttribute("tabindex");return!(!Oe||isNaN(parseInt(Oe,10)))}function Xe(Be){if(!Ke(Be))return null;const Oe=parseInt(Be.getAttribute("tabindex")||"",10);return isNaN(Oe)?-1:Oe}class Tt{get enabled(){return this._enabled}set enabled(Oe){this._enabled=Oe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Oe,this._startAnchor),this._toggleAnchorTabIndex(Oe,this._endAnchor))}constructor(Oe,Ie,xt,jt,Te=!1){this._element=Oe,this._checker=Ie,this._ngZone=xt,this._document=jt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Te||this.attachAnchors()}destroy(){const Oe=this._startAnchor,Ie=this._endAnchor;Oe&&(Oe.removeEventListener("focus",this.startAnchorListener),Oe.remove()),Ie&&(Ie.removeEventListener("focus",this.endAnchorListener),Ie.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Oe){return new Promise(Ie=>{this._executeOnStable(()=>Ie(this.focusInitialElement(Oe)))})}focusFirstTabbableElementWhenReady(Oe){return new Promise(Ie=>{this._executeOnStable(()=>Ie(this.focusFirstTabbableElement(Oe)))})}focusLastTabbableElementWhenReady(Oe){return new Promise(Ie=>{this._executeOnStable(()=>Ie(this.focusLastTabbableElement(Oe)))})}_getRegionBoundary(Oe){const Ie=this._element.querySelectorAll(`[cdk-focus-region-${Oe}], [cdkFocusRegion${Oe}], [cdk-focus-${Oe}]`);return"start"==Oe?Ie.length?Ie[0]:this._getFirstTabbableElement(this._element):Ie.length?Ie[Ie.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Oe){const Ie=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ie){if(!this._checker.isFocusable(Ie)){const xt=this._getFirstTabbableElement(Ie);return xt?.focus(Oe),!!xt}return Ie.focus(Oe),!0}return this.focusFirstTabbableElement(Oe)}focusFirstTabbableElement(Oe){const Ie=this._getRegionBoundary("start");return Ie&&Ie.focus(Oe),!!Ie}focusLastTabbableElement(Oe){const Ie=this._getRegionBoundary("end");return Ie&&Ie.focus(Oe),!!Ie}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Oe){if(this._checker.isFocusable(Oe)&&this._checker.isTabbable(Oe))return Oe;const Ie=Oe.children;for(let xt=0;xt<Ie.length;xt++){const jt=Ie[xt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ie[xt]):null;if(jt)return jt}return null}_getLastTabbableElement(Oe){if(this._checker.isFocusable(Oe)&&this._checker.isTabbable(Oe))return Oe;const Ie=Oe.children;for(let xt=Ie.length-1;xt>=0;xt--){const jt=Ie[xt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ie[xt]):null;if(jt)return jt}return null}_createAnchor(){const Oe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Oe),Oe.classList.add("cdk-visually-hidden"),Oe.classList.add("cdk-focus-trap-anchor"),Oe.setAttribute("aria-hidden","true"),Oe}_toggleAnchorTabIndex(Oe,Ie){Oe?Ie.setAttribute("tabindex","0"):Ie.removeAttribute("tabindex")}toggleAnchors(Oe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Oe,this._startAnchor),this._toggleAnchorTabIndex(Oe,this._endAnchor))}_executeOnStable(Oe){this._ngZone.isStable?Oe():this._ngZone.onStable.pipe((0,Je.q)(1)).subscribe(Oe)}}let un=(()=>{class Be{constructor(Ie,xt,jt){this._checker=Ie,this._ngZone=xt,this._document=jt}create(Ie,xt=!1){return new Tt(Ie,this._checker,this._ngZone,this._document,xt)}}return Be.\u0275fac=function(Ie){return new(Ie||Be)(L.LFG(kt),L.LFG(L.R0b),L.LFG(d.K0))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();function ce(Be){return 0===Be.buttons||0===Be.offsetX&&0===Be.offsetY}function Ve(Be){const Oe=Be.touches&&Be.touches[0]||Be.changedTouches&&Be.changedTouches[0];return!(!Oe||-1!==Oe.identifier||null!=Oe.radiusX&&1!==Oe.radiusX||null!=Oe.radiusY&&1!==Oe.radiusY)}const mt=new L.OlP("cdk-input-modality-detector-options"),at={ignoreKeys:[_e.zL,_e.jx,_e.b2,_e.MW,_e.JU]},Qe=(0,g.i$)({passive:!0,capture:!0});let Ae=(()=>{class Be{get mostRecentModality(){return this._modality.value}constructor(Ie,xt,jt,Te){this._platform=Ie,this._mostRecentTarget=null,this._modality=new ae.X(null),this._lastTouchMs=0,this._onKeydown=oe=>{this._options?.ignoreKeys?.some(H=>H===oe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.sA)(oe))},this._onMousedown=oe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ce(oe)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.sA)(oe))},this._onTouchstart=oe=>{Ve(oe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.sA)(oe))},this._options={...at,...Te},this.modalityDetected=this._modality.pipe((0,Ne.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ut.x)()),Ie.isBrowser&&xt.runOutsideAngular(()=>{jt.addEventListener("keydown",this._onKeydown,Qe),jt.addEventListener("mousedown",this._onMousedown,Qe),jt.addEventListener("touchstart",this._onTouchstart,Qe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qe),document.removeEventListener("mousedown",this._onMousedown,Qe),document.removeEventListener("touchstart",this._onTouchstart,Qe))}}return Be.\u0275fac=function(Ie){return new(Ie||Be)(L.LFG(g.t4),L.LFG(L.R0b),L.LFG(d.K0),L.LFG(mt,8))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();const gt=new L.OlP("cdk-focus-monitor-default-options"),$t=(0,g.i$)({passive:!0,capture:!0});let In=(()=>{class Be{constructor(Ie,xt,jt,Te,oe){this._ngZone=Ie,this._platform=xt,this._inputModalityDetector=jt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.x,this._rootNodeFocusAndBlurListener=H=>{for(let $=(0,g.sA)(H);$;$=$.parentElement)"focus"===H.type?this._onFocus(H,$):this._onBlur(H,$)},this._document=Te,this._detectionMode=oe?.detectionMode||0}monitor(Ie,xt=!1){const jt=(0,Le.fI)(Ie);if(!this._platform.isBrowser||1!==jt.nodeType)return(0,Z.of)(null);const Te=(0,g.kV)(jt)||this._getDocument(),oe=this._elementInfo.get(jt);if(oe)return xt&&(oe.checkChildren=!0),oe.subject;const H={checkChildren:xt,subject:new ne.x,rootNode:Te};return this._elementInfo.set(jt,H),this._registerGlobalListeners(H),H.subject}stopMonitoring(Ie){const xt=(0,Le.fI)(Ie),jt=this._elementInfo.get(xt);jt&&(jt.subject.complete(),this._setClasses(xt),this._elementInfo.delete(xt),this._removeGlobalListeners(jt))}focusVia(Ie,xt,jt){const Te=(0,Le.fI)(Ie);Te===this._getDocument().activeElement?this._getClosestElementsInfo(Te).forEach(([H,U])=>this._originChanged(H,xt,U)):(this._setOrigin(xt),"function"==typeof Te.focus&&Te.focus(jt))}ngOnDestroy(){this._elementInfo.forEach((Ie,xt)=>this.stopMonitoring(xt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ie){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ie)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ie&&this._isLastInteractionFromInputLabel(Ie)?"mouse":"program"}_shouldBeAttributedToTouch(Ie){return 1===this._detectionMode||!!Ie?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ie,xt){Ie.classList.toggle("cdk-focused",!!xt),Ie.classList.toggle("cdk-touch-focused","touch"===xt),Ie.classList.toggle("cdk-keyboard-focused","keyboard"===xt),Ie.classList.toggle("cdk-mouse-focused","mouse"===xt),Ie.classList.toggle("cdk-program-focused","program"===xt)}_setOrigin(Ie,xt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ie,this._originFromTouchInteraction="touch"===Ie&&xt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ie,xt){const jt=this._elementInfo.get(xt),Te=(0,g.sA)(Ie);!jt||!jt.checkChildren&&xt!==Te||this._originChanged(xt,this._getFocusOrigin(Te),jt)}_onBlur(Ie,xt){const jt=this._elementInfo.get(xt);!jt||jt.checkChildren&&Ie.relatedTarget instanceof Node&&xt.contains(Ie.relatedTarget)||(this._setClasses(xt),this._emitOrigin(jt,null))}_emitOrigin(Ie,xt){Ie.subject.observers.length&&this._ngZone.run(()=>Ie.subject.next(xt))}_registerGlobalListeners(Ie){if(!this._platform.isBrowser)return;const xt=Ie.rootNode,jt=this._rootNodeFocusListenerCount.get(xt)||0;jt||this._ngZone.runOutsideAngular(()=>{xt.addEventListener("focus",this._rootNodeFocusAndBlurListener,$t),xt.addEventListener("blur",this._rootNodeFocusAndBlurListener,$t)}),this._rootNodeFocusListenerCount.set(xt,jt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,rt.R)(this._stopInputModalityDetector)).subscribe(Te=>{this._setOrigin(Te,!0)}))}_removeGlobalListeners(Ie){const xt=Ie.rootNode;if(this._rootNodeFocusListenerCount.has(xt)){const jt=this._rootNodeFocusListenerCount.get(xt);jt>1?this._rootNodeFocusListenerCount.set(xt,jt-1):(xt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$t),xt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$t),this._rootNodeFocusListenerCount.delete(xt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ie,xt,jt){this._setClasses(Ie,xt),this._emitOrigin(jt,xt),this._lastFocusOrigin=xt}_getClosestElementsInfo(Ie){const xt=[];return this._elementInfo.forEach((jt,Te)=>{(Te===Ie||jt.checkChildren&&Te.contains(Ie))&&xt.push([Te,jt])}),xt}_isLastInteractionFromInputLabel(Ie){const{_mostRecentTarget:xt,mostRecentModality:jt}=this._inputModalityDetector;if("mouse"!==jt||!xt||xt===Ie||"INPUT"!==Ie.nodeName&&"TEXTAREA"!==Ie.nodeName||Ie.disabled)return!1;const Te=Ie.labels;if(Te)for(let oe=0;oe<Te.length;oe++)if(Te[oe].contains(xt))return!0;return!1}}return Be.\u0275fac=function(Ie){return new(Ie||Be)(L.LFG(L.R0b),L.LFG(g.t4),L.LFG(Ae),L.LFG(d.K0,8),L.LFG(gt,8))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();const Si="cdk-high-contrast-black-on-white",mi="cdk-high-contrast-white-on-black",Yt="cdk-high-contrast-active";let et=(()=>{class Be{constructor(Ie,xt){this._platform=Ie,this._document=xt,this._breakpointSubscription=(0,L.f3M)(Re.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ie=this._document.createElement("div");Ie.style.backgroundColor="rgb(1,2,3)",Ie.style.position="absolute",this._document.body.appendChild(Ie);const xt=this._document.defaultView||window,jt=xt&&xt.getComputedStyle?xt.getComputedStyle(Ie):null,Te=(jt&&jt.backgroundColor||"").replace(/ /g,"");switch(Ie.remove(),Te){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ie=this._document.body.classList;Ie.remove(Yt,Si,mi),this._hasCheckedHighContrastMode=!0;const xt=this.getHighContrastMode();1===xt?Ie.add(Yt,Si):2===xt&&Ie.add(Yt,mi)}}}return Be.\u0275fac=function(Ie){return new(Ie||Be)(L.LFG(g.t4),L.LFG(d.K0))},Be.\u0275prov=L.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),st=(()=>{class Be{constructor(Ie){Ie._applyBodyHighContrastModeCssClasses()}}return Be.\u0275fac=function(Ie){return new(Ie||Be)(L.LFG(et))},Be.\u0275mod=L.oAB({type:Be}),Be.\u0275inj=L.cJS({imports:[He.Q8]}),Be})()},8930:(pn,it,E)=>{E.d(it,{Is:()=>Z,vT:()=>Ee});var d=E(2223),L=E(4755);const g=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function ne(){return(0,d.f3M)(L.K0)}}),xe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Z=(()=>{class se{constructor(fe){this.value="ltr",this.change=new d.vpe,fe&&(this.value=function ae(se){const de=se?.toLowerCase()||"";return"auto"===de&&typeof navigator<"u"&&navigator?.language?xe.test(navigator.language)?"rtl":"ltr":"rtl"===de?"rtl":"ltr"}((fe.body?fe.body.dir:null)||(fe.documentElement?fe.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return se.\u0275fac=function(fe){return new(fe||se)(d.LFG(g,8))},se.\u0275prov=d.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Ee=(()=>{class se{}return se.\u0275fac=function(fe){return new(fe||se)},se.\u0275mod=d.oAB({type:se}),se.\u0275inj=d.cJS({}),se})()},1692:(pn,it,E)=>{E.d(it,{Eq:()=>xe,HM:()=>ae,Ig:()=>L,fI:()=>Z,su:()=>g});var d=E(2223);function L(Ee){return null!=Ee&&"false"!=`${Ee}`}function g(Ee,se=0){return function ne(Ee){return!isNaN(parseFloat(Ee))&&!isNaN(Number(Ee))}(Ee)?Number(Ee):se}function xe(Ee){return Array.isArray(Ee)?Ee:[Ee]}function ae(Ee){return null==Ee?"":"string"==typeof Ee?Ee:`${Ee}px`}function Z(Ee){return Ee instanceof d.SBq?Ee.nativeElement:Ee}},3223:(pn,it,E)=>{E.d(it,{LL:()=>rt,Su:()=>K,Vq:()=>Me,ib:()=>Ne});var d=E(706),L=E(9002),g=E(2966),ne=E(8023),xe=E(4755),ae=E(2223),Z=E(2840),_e=E(7579),Ee=E(9770),se=E(9646),de=E(8930),fe=E(8675);function Je(Ge,Fe){}class Ne{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let rt=(()=>{class Ge extends ne.en{constructor(ze,vt,_n,kn,ht,ft,kt,Pt){super(),this._elementRef=ze,this._focusTrapFactory=vt,this._config=kn,this._interactivityChecker=ht,this._ngZone=ft,this._overlayRef=kt,this._focusMonitor=Pt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Qt=>{this._portalOutlet.hasAttached();const Gt=this._portalOutlet.attachDomPortal(Qt);return this._contentAttached(),Gt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=_n}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ze){this._portalOutlet.hasAttached();const vt=this._portalOutlet.attachComponentPortal(ze);return this._contentAttached(),vt}attachTemplatePortal(ze){this._portalOutlet.hasAttached();const vt=this._portalOutlet.attachTemplatePortal(ze);return this._contentAttached(),vt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ze,vt){this._interactivityChecker.isFocusable(ze)||(ze.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const _n=()=>{ze.removeEventListener("blur",_n),ze.removeEventListener("mousedown",_n),ze.removeAttribute("tabindex")};ze.addEventListener("blur",_n),ze.addEventListener("mousedown",_n)})),ze.focus(vt)}_focusByCssSelector(ze,vt){let _n=this._elementRef.nativeElement.querySelector(ze);_n&&this._forceFocus(_n,vt)}_trapFocus(){const ze=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ze.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(vt=>{vt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ze=this._config.restoreFocus;let vt=null;if("string"==typeof ze?vt=this._document.querySelector(ze):"boolean"==typeof ze?vt=ze?this._elementFocusedBeforeDialogWasOpened:null:ze&&(vt=ze),this._config.restoreFocus&&vt&&"function"==typeof vt.focus){const _n=(0,g.ht)(),kn=this._elementRef.nativeElement;(!_n||_n===this._document.body||_n===kn||kn.contains(_n))&&(this._focusMonitor?(this._focusMonitor.focusVia(vt,this._closeInteractionType),this._closeInteractionType=null):vt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ze=this._elementRef.nativeElement,vt=(0,g.ht)();return ze===vt||ze.contains(vt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,g.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return Ge.\u0275fac=function(ze){return new(ze||Ge)(ae.Y36(ae.SBq),ae.Y36(d.qV),ae.Y36(xe.K0,8),ae.Y36(Ne),ae.Y36(d.ic),ae.Y36(ae.R0b),ae.Y36(L.Iu),ae.Y36(d.tE))},Ge.\u0275cmp=ae.Xpm({type:Ge,selectors:[["cdk-dialog-container"]],viewQuery:function(ze,vt){if(1&ze&&ae.Gf(ne.Pl,7),2&ze){let _n;ae.iGM(_n=ae.CRH())&&(vt._portalOutlet=_n.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ze,vt){2&ze&&ae.uIk("id",vt._config.id||null)("role",vt._config.role)("aria-modal",vt._config.ariaModal)("aria-labelledby",vt._config.ariaLabel?null:vt._ariaLabelledBy)("aria-label",vt._config.ariaLabel)("aria-describedby",vt._config.ariaDescribedBy||null)},features:[ae.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ze,vt){1&ze&&ae.YNc(0,Je,0,0,"ng-template",0)},dependencies:[ne.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Ge})();class Le{constructor(Fe,ze){this.overlayRef=Fe,this.config=ze,this.closed=new _e.x,this.disableClose=ze.disableClose,this.backdropClick=Fe.backdropClick(),this.keydownEvents=Fe.keydownEvents(),this.outsidePointerEvents=Fe.outsidePointerEvents(),this.id=ze.id,this.keydownEvents.subscribe(vt=>{vt.keyCode===Z.hY&&!this.disableClose&&!(0,Z.Vb)(vt)&&(vt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Fe.detachments().subscribe(()=>{!1!==ze.closeOnOverlayDetachments&&this.close()})}close(Fe,ze){if(this.containerInstance){const vt=this.closed;this.containerInstance._closeInteractionType=ze?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),vt.next(Fe),vt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Fe="",ze=""){return this.overlayRef.updateSize({width:Fe,height:ze}),this}addPanelClass(Fe){return this.overlayRef.addPanelClass(Fe),this}removePanelClass(Fe){return this.overlayRef.removePanelClass(Fe),this}}const He=new ae.OlP("DialogScrollStrategy"),Re=new ae.OlP("DialogData"),bt=new ae.OlP("DefaultDialogConfig"),De={provide:He,deps:[L.aV],useFactory:function ue(Ge){return()=>Ge.scrollStrategies.block()}};let be=0,Me=(()=>{class Ge{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ze,vt,_n,kn,ht,ft){this._overlay=ze,this._injector=vt,this._defaultOptions=_n,this._parentDialog=kn,this._overlayContainer=ht,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ee.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,fe.O)(void 0))),this._scrollStrategy=ft}open(ze,vt){(vt={...this._defaultOptions||new Ne,...vt}).id=vt.id||"cdk-dialog-"+be++,vt.id&&this.getDialogById(vt.id);const kn=this._getOverlayConfig(vt),ht=this._overlay.create(kn),ft=new Le(ht,vt),kt=this._attachContainer(ht,ft,vt);return ft.containerInstance=kt,this._attachDialogContent(ze,ft,kt,vt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ft),ft.closed.subscribe(()=>this._removeOpenDialog(ft,!0)),this.afterOpened.next(ft),ft}closeAll(){$e(this.openDialogs,ze=>ze.close())}getDialogById(ze){return this.openDialogs.find(vt=>vt.id===ze)}ngOnDestroy(){$e(this._openDialogsAtThisLevel,ze=>{!1===ze.config.closeOnDestroy&&this._removeOpenDialog(ze,!1)}),$e(this._openDialogsAtThisLevel,ze=>ze.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ze){const vt=new L.X_({positionStrategy:ze.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ze.scrollStrategy||this._scrollStrategy(),panelClass:ze.panelClass,hasBackdrop:ze.hasBackdrop,direction:ze.direction,minWidth:ze.minWidth,minHeight:ze.minHeight,maxWidth:ze.maxWidth,maxHeight:ze.maxHeight,width:ze.width,height:ze.height,disposeOnNavigation:ze.closeOnNavigation});return ze.backdropClass&&(vt.backdropClass=ze.backdropClass),vt}_attachContainer(ze,vt,_n){const kn=_n.injector||_n.viewContainerRef?.injector,ht=[{provide:Ne,useValue:_n},{provide:Le,useValue:vt},{provide:L.Iu,useValue:ze}];let ft;_n.container?"function"==typeof _n.container?ft=_n.container:(ft=_n.container.type,ht.push(..._n.container.providers(_n))):ft=rt;const kt=new ne.C5(ft,_n.viewContainerRef,ae.zs3.create({parent:kn||this._injector,providers:ht}),_n.componentFactoryResolver);return ze.attach(kt).instance}_attachDialogContent(ze,vt,_n,kn){if(ze instanceof ae.Rgc){const ht=this._createInjector(kn,vt,_n,void 0);let ft={$implicit:kn.data,dialogRef:vt};kn.templateContext&&(ft={...ft,..."function"==typeof kn.templateContext?kn.templateContext():kn.templateContext}),_n.attachTemplatePortal(new ne.UE(ze,null,ft,ht))}else{const ht=this._createInjector(kn,vt,_n,this._injector),ft=_n.attachComponentPortal(new ne.C5(ze,kn.viewContainerRef,ht,kn.componentFactoryResolver));vt.componentInstance=ft.instance}}_createInjector(ze,vt,_n,kn){const ht=ze.injector||ze.viewContainerRef?.injector,ft=[{provide:Re,useValue:ze.data},{provide:Le,useValue:vt}];return ze.providers&&("function"==typeof ze.providers?ft.push(...ze.providers(vt,ze,_n)):ft.push(...ze.providers)),ze.direction&&(!ht||!ht.get(de.Is,null,{optional:!0}))&&ft.push({provide:de.Is,useValue:{value:ze.direction,change:(0,se.of)()}}),ae.zs3.create({parent:ht||kn,providers:ft})}_removeOpenDialog(ze,vt){const _n=this.openDialogs.indexOf(ze);_n>-1&&(this.openDialogs.splice(_n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((kn,ht)=>{kn?ht.setAttribute("aria-hidden",kn):ht.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),vt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ze=this._overlayContainer.getContainerElement();if(ze.parentElement){const vt=ze.parentElement.children;for(let _n=vt.length-1;_n>-1;_n--){const kn=vt[_n];kn!==ze&&"SCRIPT"!==kn.nodeName&&"STYLE"!==kn.nodeName&&!kn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(kn,kn.getAttribute("aria-hidden")),kn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ze=this._parentDialog;return ze?ze._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return Ge.\u0275fac=function(ze){return new(ze||Ge)(ae.LFG(L.aV),ae.LFG(ae.zs3),ae.LFG(bt,8),ae.LFG(Ge,12),ae.LFG(L.Xj),ae.LFG(He))},Ge.\u0275prov=ae.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();function $e(Ge,Fe){let ze=Ge.length;for(;ze--;)Fe(Ge[ze])}let K=(()=>{class Ge{}return Ge.\u0275fac=function(ze){return new(ze||Ge)},Ge.\u0275mod=ae.oAB({type:Ge}),Ge.\u0275inj=ae.cJS({providers:[Me,De],imports:[L.U8,ne.eL,d.rt,ne.eL]}),Ge})()},2840:(pn,it,E)=>{E.d(it,{A:()=>dn,JH:()=>bt,JU:()=>ae,K5:()=>xe,Ku:()=>Je,LH:()=>He,L_:()=>fe,MW:()=>Mt,Mf:()=>g,SV:()=>Re,Sd:()=>rt,VM:()=>Ne,Vb:()=>so,Z:()=>ln,aO:()=>ft,b2:()=>fo,hY:()=>de,jx:()=>Z,oh:()=>Le,uR:()=>ut,xE:()=>$e,zL:()=>_e});const g=9,xe=13,ae=16,Z=17,_e=18,de=27,fe=32,Je=33,Ne=34,ut=35,rt=36,Le=37,He=38,Re=39,bt=40,$e=48,ft=57,dn=65,ln=90,Mt=91,fo=224;function so(br,...Co){return Co.length?Co.some(Wr=>br[Wr]):br.altKey||br.shiftKey||br.ctrlKey||br.metaKey}},5537:(pn,it,E)=>{E.d(it,{Yg:()=>bt,u3:()=>De});var d=E(2223),L=E(1692),g=E(7579),ne=E(9841),xe=E(7272),ae=E(9751),Z=E(5698),_e=E(5684),Ee=E(8372),se=E(4004),de=E(8675),fe=E(2722),Je=E(2966);const ut=new Set;let rt,Le=(()=>{class be{constructor($e,K){this._platform=$e,this._nonce=K,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Re}matchMedia($e){return(this._platform.WEBKIT||this._platform.BLINK)&&function He(be,Me){if(!ut.has(be))try{rt||(rt=document.createElement("style"),Me&&(rt.nonce=Me),rt.setAttribute("type","text/css"),document.head.appendChild(rt)),rt.sheet&&(rt.sheet.insertRule(`@media ${be} {body{ }}`,0),ut.add(be))}catch($e){console.error($e)}}($e,this._nonce),this._matchMedia($e)}}return be.\u0275fac=function($e){return new($e||be)(d.LFG(Je.t4),d.LFG(d.Ojb,8))},be.\u0275prov=d.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Re(be){return{matches:"all"===be||""===be,media:be,addListener:()=>{},removeListener:()=>{}}}let bt=(()=>{class be{constructor($e,K){this._mediaMatcher=$e,this._zone=K,this._queries=new Map,this._destroySubject=new g.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched($e){return ue((0,L.Eq)($e)).some(Ge=>this._registerQuery(Ge).mql.matches)}observe($e){const Ge=ue((0,L.Eq)($e)).map(ze=>this._registerQuery(ze).observable);let Fe=(0,ne.a)(Ge);return Fe=(0,xe.z)(Fe.pipe((0,Z.q)(1)),Fe.pipe((0,_e.T)(1),(0,Ee.b)(0))),Fe.pipe((0,se.U)(ze=>{const vt={matches:!1,breakpoints:{}};return ze.forEach(({matches:_n,query:kn})=>{vt.matches=vt.matches||_n,vt.breakpoints[kn]=_n}),vt}))}_registerQuery($e){if(this._queries.has($e))return this._queries.get($e);const K=this._mediaMatcher.matchMedia($e),Fe={observable:new ae.y(ze=>{const vt=_n=>this._zone.run(()=>ze.next(_n));return K.addListener(vt),()=>{K.removeListener(vt)}}).pipe((0,de.O)(K),(0,se.U)(({matches:ze})=>({query:$e,matches:ze})),(0,fe.R)(this._destroySubject)),mql:K};return this._queries.set($e,Fe),Fe}}return be.\u0275fac=function($e){return new($e||be)(d.LFG(Le),d.LFG(d.R0b))},be.\u0275prov=d.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function ue(be){return be.map(Me=>Me.split(",")).reduce((Me,$e)=>Me.concat($e)).map(Me=>Me.trim())}const De={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},829:(pn,it,E)=>{E.d(it,{Q8:()=>Ee,wD:()=>_e});var d=E(1692),L=E(2223),g=E(9751),ne=E(7579),xe=E(8372);let ae=(()=>{class se{create(fe){return typeof MutationObserver>"u"?null:new MutationObserver(fe)}}return se.\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=L.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Z=(()=>{class se{constructor(fe){this._mutationObserverFactory=fe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((fe,Je)=>this._cleanupObserver(Je))}observe(fe){const Je=(0,d.fI)(fe);return new g.y(Ne=>{const rt=this._observeElement(Je).subscribe(Ne);return()=>{rt.unsubscribe(),this._unobserveElement(Je)}})}_observeElement(fe){if(this._observedElements.has(fe))this._observedElements.get(fe).count++;else{const Je=new ne.x,Ne=this._mutationObserverFactory.create(ut=>Je.next(ut));Ne&&Ne.observe(fe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(fe,{observer:Ne,stream:Je,count:1})}return this._observedElements.get(fe).stream}_unobserveElement(fe){this._observedElements.has(fe)&&(this._observedElements.get(fe).count--,this._observedElements.get(fe).count||this._cleanupObserver(fe))}_cleanupObserver(fe){if(this._observedElements.has(fe)){const{observer:Je,stream:Ne}=this._observedElements.get(fe);Je&&Je.disconnect(),Ne.complete(),this._observedElements.delete(fe)}}}return se.\u0275fac=function(fe){return new(fe||se)(L.LFG(ae))},se.\u0275prov=L.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),_e=(()=>{class se{get disabled(){return this._disabled}set disabled(fe){this._disabled=(0,d.Ig)(fe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(fe){this._debounce=(0,d.su)(fe),this._subscribe()}constructor(fe,Je,Ne){this._contentObserver=fe,this._elementRef=Je,this._ngZone=Ne,this.event=new L.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const fe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?fe.pipe((0,xe.b)(this.debounce)):fe).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return se.\u0275fac=function(fe){return new(fe||se)(L.Y36(Z),L.Y36(L.SBq),L.Y36(L.R0b))},se.\u0275dir=L.lG2({type:se,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),se})(),Ee=(()=>{class se{}return se.\u0275fac=function(fe){return new(fe||se)},se.\u0275mod=L.oAB({type:se}),se.\u0275inj=L.cJS({providers:[ae]}),se})()},9002:(pn,it,E)=>{E.d(it,{Iu:()=>ht,U8:()=>ci,X_:()=>be,Xj:()=>kn,aV:()=>yt});var d=E(2236),L=E(4755),g=E(2223),ne=E(1692),xe=E(2966),ae=E(9300),Z=E(5698),_e=E(2722),Ee=E(8930),se=E(8023),de=E(7579),fe=E(727),Je=E(6451);const Ne=(0,xe.Mq)();class ut{constructor(ce,Ve){this._viewportRuler=ce,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ve}attach(){}enable(){if(this._canBeEnabled()){const ce=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ce.style.left||"",this._previousHTMLStyles.top=ce.style.top||"",ce.style.left=(0,ne.HM)(-this._previousScrollPosition.left),ce.style.top=(0,ne.HM)(-this._previousScrollPosition.top),ce.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ce=this._document.documentElement,mt=ce.style,at=this._document.body.style,We=mt.scrollBehavior||"",Qe=at.scrollBehavior||"";this._isEnabled=!1,mt.left=this._previousHTMLStyles.left,mt.top=this._previousHTMLStyles.top,ce.classList.remove("cdk-global-scrollblock"),Ne&&(mt.scrollBehavior=at.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ne&&(mt.scrollBehavior=We,at.scrollBehavior=Qe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ve=this._document.body,mt=this._viewportRuler.getViewportSize();return Ve.scrollHeight>mt.height||Ve.scrollWidth>mt.width}}class Le{constructor(ce,Ve,mt,at){this._scrollDispatcher=ce,this._ngZone=Ve,this._viewportRuler=mt,this._config=at,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ce){this._overlayRef=ce}enable(){if(this._scrollSubscription)return;const ce=this._scrollDispatcher.scrolled(0).pipe((0,ae.h)(Ve=>!Ve||!this._overlayRef.overlayElement.contains(Ve.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ce.subscribe(()=>{const Ve=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ve-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ce.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class He{enable(){}disable(){}attach(){}}function Re(Ut,ce){return ce.some(Ve=>Ut.bottom<Ve.top||Ut.top>Ve.bottom||Ut.right<Ve.left||Ut.left>Ve.right)}function bt(Ut,ce){return ce.some(Ve=>Ut.top<Ve.top||Ut.bottom>Ve.bottom||Ut.left<Ve.left||Ut.right>Ve.right)}class ue{constructor(ce,Ve,mt,at){this._scrollDispatcher=ce,this._viewportRuler=Ve,this._ngZone=mt,this._config=at,this._scrollSubscription=null}attach(ce){this._overlayRef=ce}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ve=this._overlayRef.overlayElement.getBoundingClientRect(),{width:mt,height:at}=this._viewportRuler.getViewportSize();Re(Ve,[{width:mt,height:at,bottom:at,right:mt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let De=(()=>{class Ut{constructor(Ve,mt,at,We){this._scrollDispatcher=Ve,this._viewportRuler=mt,this._ngZone=at,this.noop=()=>new He,this.close=Qe=>new Le(this._scrollDispatcher,this._ngZone,this._viewportRuler,Qe),this.block=()=>new ut(this._viewportRuler,this._document),this.reposition=Qe=>new ue(this._scrollDispatcher,this._viewportRuler,this._ngZone,Qe),this._document=We}}return Ut.\u0275fac=function(Ve){return new(Ve||Ut)(g.LFG(d.mF),g.LFG(d.rL),g.LFG(g.R0b),g.LFG(L.K0))},Ut.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})();class be{constructor(ce){if(this.scrollStrategy=new He,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ce){const Ve=Object.keys(ce);for(const mt of Ve)void 0!==ce[mt]&&(this[mt]=ce[mt])}}}class K{constructor(ce,Ve){this.connectionPair=ce,this.scrollableViewProperties=Ve}}let ze=(()=>{class Ut{constructor(Ve){this._attachedOverlays=[],this._document=Ve}ngOnDestroy(){this.detach()}add(Ve){this.remove(Ve),this._attachedOverlays.push(Ve)}remove(Ve){const mt=this._attachedOverlays.indexOf(Ve);mt>-1&&this._attachedOverlays.splice(mt,1),0===this._attachedOverlays.length&&this.detach()}}return Ut.\u0275fac=function(Ve){return new(Ve||Ut)(g.LFG(L.K0))},Ut.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})(),vt=(()=>{class Ut extends ze{constructor(Ve,mt){super(Ve),this._ngZone=mt,this._keydownListener=at=>{const We=this._attachedOverlays;for(let Qe=We.length-1;Qe>-1;Qe--)if(We[Qe]._keydownEvents.observers.length>0){const Ae=We[Qe]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ae.next(at)):Ae.next(at);break}}}add(Ve){super.add(Ve),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Ut.\u0275fac=function(Ve){return new(Ve||Ut)(g.LFG(L.K0),g.LFG(g.R0b,8))},Ut.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})(),_n=(()=>{class Ut extends ze{constructor(Ve,mt,at){super(Ve),this._platform=mt,this._ngZone=at,this._cursorStyleIsSet=!1,this._pointerDownListener=We=>{this._pointerDownEventTarget=(0,xe.sA)(We)},this._clickListener=We=>{const Qe=(0,xe.sA)(We),Ae="click"===We.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Qe;this._pointerDownEventTarget=null;const Vt=this._attachedOverlays.slice();for(let ln=Vt.length-1;ln>-1;ln--){const Mt=Vt[ln];if(Mt._outsidePointerEvents.observers.length<1||!Mt.hasAttached())continue;if(Mt.overlayElement.contains(Qe)||Mt.overlayElement.contains(Ae))break;const Kt=Mt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Kt.next(We)):Kt.next(We)}}}add(Ve){if(super.add(Ve),!this._isAttached){const mt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(mt)):this._addEventListeners(mt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=mt.style.cursor,mt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ve=this._document.body;Ve.removeEventListener("pointerdown",this._pointerDownListener,!0),Ve.removeEventListener("click",this._clickListener,!0),Ve.removeEventListener("auxclick",this._clickListener,!0),Ve.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ve.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ve){Ve.addEventListener("pointerdown",this._pointerDownListener,!0),Ve.addEventListener("click",this._clickListener,!0),Ve.addEventListener("auxclick",this._clickListener,!0),Ve.addEventListener("contextmenu",this._clickListener,!0)}}return Ut.\u0275fac=function(Ve){return new(Ve||Ut)(g.LFG(L.K0),g.LFG(xe.t4),g.LFG(g.R0b,8))},Ut.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})(),kn=(()=>{class Ut{constructor(Ve,mt){this._platform=mt,this._document=Ve}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ve="cdk-overlay-container";if(this._platform.isBrowser||(0,xe.Oy)()){const at=this._document.querySelectorAll(`.${Ve}[platform="server"], .${Ve}[platform="test"]`);for(let We=0;We<at.length;We++)at[We].remove()}const mt=this._document.createElement("div");mt.classList.add(Ve),(0,xe.Oy)()?mt.setAttribute("platform","test"):this._platform.isBrowser||mt.setAttribute("platform","server"),this._document.body.appendChild(mt),this._containerElement=mt}}return Ut.\u0275fac=function(Ve){return new(Ve||Ut)(g.LFG(L.K0),g.LFG(xe.t4))},Ut.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})();class ht{constructor(ce,Ve,mt,at,We,Qe,Ae,Vt,ln,Mt=!1){this._portalOutlet=ce,this._host=Ve,this._pane=mt,this._config=at,this._ngZone=We,this._keyboardDispatcher=Qe,this._document=Ae,this._location=Vt,this._outsideClickDispatcher=ln,this._animationsDisabled=Mt,this._backdropElement=null,this._backdropClick=new de.x,this._attachments=new de.x,this._detachments=new de.x,this._locationChanges=fe.w0.EMPTY,this._backdropClickHandler=Kt=>this._backdropClick.next(Kt),this._backdropTransitionendHandler=Kt=>{this._disposeBackdrop(Kt.target)},this._keydownEvents=new de.x,this._outsidePointerEvents=new de.x,at.scrollStrategy&&(this._scrollStrategy=at.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=at.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ce){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ve=this._portalOutlet.attach(ce);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Z.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ve?.onDestroy&&Ve.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ve}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ce=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ce}dispose(){const ce=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ce&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ce){ce!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ce,this.hasAttached()&&(ce.attach(this),this.updatePosition()))}updateSize(ce){this._config={...this._config,...ce},this._updateElementSize()}setDirection(ce){this._config={...this._config,direction:ce},this._updateElementDirection()}addPanelClass(ce){this._pane&&this._toggleClasses(this._pane,ce,!0)}removePanelClass(ce){this._pane&&this._toggleClasses(this._pane,ce,!1)}getDirection(){const ce=this._config.direction;return ce?"string"==typeof ce?ce:ce.value:"ltr"}updateScrollStrategy(ce){ce!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ce,this.hasAttached()&&(ce.attach(this),ce.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ce=this._pane.style;ce.width=(0,ne.HM)(this._config.width),ce.height=(0,ne.HM)(this._config.height),ce.minWidth=(0,ne.HM)(this._config.minWidth),ce.minHeight=(0,ne.HM)(this._config.minHeight),ce.maxWidth=(0,ne.HM)(this._config.maxWidth),ce.maxHeight=(0,ne.HM)(this._config.maxHeight)}_togglePointerEvents(ce){this._pane.style.pointerEvents=ce?"":"none"}_attachBackdrop(){const ce="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ce)})}):this._backdropElement.classList.add(ce)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ce=this._backdropElement;if(ce){if(this._animationsDisabled)return void this._disposeBackdrop(ce);ce.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ce.addEventListener("transitionend",this._backdropTransitionendHandler)}),ce.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ce)},500))}}_toggleClasses(ce,Ve,mt){const at=(0,ne.Eq)(Ve||[]).filter(We=>!!We);at.length&&(mt?ce.classList.add(...at):ce.classList.remove(...at))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ce=this._ngZone.onStable.pipe((0,_e.R)((0,Je.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ce.unsubscribe())})})}_disposeScrollStrategy(){const ce=this._scrollStrategy;ce&&(ce.disable(),ce.detach&&ce.detach())}_disposeBackdrop(ce){ce&&(ce.removeEventListener("click",this._backdropClickHandler),ce.removeEventListener("transitionend",this._backdropTransitionendHandler),ce.remove(),this._backdropElement===ce&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ft="cdk-overlay-connected-position-bounding-box",kt=/([A-Za-z%]+)$/;class Pt{get positions(){return this._preferredPositions}constructor(ce,Ve,mt,at,We){this._viewportRuler=Ve,this._document=mt,this._platform=at,this._overlayContainer=We,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de.x,this._resizeSubscription=fe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ce)}attach(ce){this._validatePositions(),ce.hostElement.classList.add(ft),this._overlayRef=ce,this._boundingBox=ce.hostElement,this._pane=ce.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ce=this._originRect,Ve=this._overlayRect,mt=this._viewportRect,at=this._containerRect,We=[];let Qe;for(let Ae of this._preferredPositions){let Vt=this._getOriginPoint(ce,at,Ae),ln=this._getOverlayPoint(Vt,Ve,Ae),Mt=this._getOverlayFit(ln,Ve,mt,Ae);if(Mt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ae,Vt);this._canFitWithFlexibleDimensions(Mt,ln,mt)?We.push({position:Ae,origin:Vt,overlayRect:Ve,boundingBoxRect:this._calculateBoundingBoxRect(Vt,Ae)}):(!Qe||Qe.overlayFit.visibleArea<Mt.visibleArea)&&(Qe={overlayFit:Mt,overlayPoint:ln,originPoint:Vt,position:Ae,overlayRect:Ve})}if(We.length){let Ae=null,Vt=-1;for(const ln of We){const Mt=ln.boundingBoxRect.width*ln.boundingBoxRect.height*(ln.position.weight||1);Mt>Vt&&(Vt=Mt,Ae=ln)}return this._isPushed=!1,void this._applyPosition(Ae.position,Ae.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Qe.position,Qe.originPoint);this._applyPosition(Qe.position,Qe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ft),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ce=this._lastPosition;if(ce){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ve=this._getOriginPoint(this._originRect,this._containerRect,ce);this._applyPosition(ce,Ve)}else this.apply()}withScrollableContainers(ce){return this._scrollables=ce,this}withPositions(ce){return this._preferredPositions=ce,-1===ce.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ce){return this._viewportMargin=ce,this}withFlexibleDimensions(ce=!0){return this._hasFlexibleDimensions=ce,this}withGrowAfterOpen(ce=!0){return this._growAfterOpen=ce,this}withPush(ce=!0){return this._canPush=ce,this}withLockedPosition(ce=!0){return this._positionLocked=ce,this}setOrigin(ce){return this._origin=ce,this}withDefaultOffsetX(ce){return this._offsetX=ce,this}withDefaultOffsetY(ce){return this._offsetY=ce,this}withTransformOriginOn(ce){return this._transformOriginSelector=ce,this}_getOriginPoint(ce,Ve,mt){let at,We;if("center"==mt.originX)at=ce.left+ce.width/2;else{const Qe=this._isRtl()?ce.right:ce.left,Ae=this._isRtl()?ce.left:ce.right;at="start"==mt.originX?Qe:Ae}return Ve.left<0&&(at-=Ve.left),We="center"==mt.originY?ce.top+ce.height/2:"top"==mt.originY?ce.top:ce.bottom,Ve.top<0&&(We-=Ve.top),{x:at,y:We}}_getOverlayPoint(ce,Ve,mt){let at,We;return at="center"==mt.overlayX?-Ve.width/2:"start"===mt.overlayX?this._isRtl()?-Ve.width:0:this._isRtl()?0:-Ve.width,We="center"==mt.overlayY?-Ve.height/2:"top"==mt.overlayY?0:-Ve.height,{x:ce.x+at,y:ce.y+We}}_getOverlayFit(ce,Ve,mt,at){const We=dn(Ve);let{x:Qe,y:Ae}=ce,Vt=this._getOffset(at,"x"),ln=this._getOffset(at,"y");Vt&&(Qe+=Vt),ln&&(Ae+=ln);let An=0-Ae,ke=Ae+We.height-mt.height,gt=this._subtractOverflows(We.width,0-Qe,Qe+We.width-mt.width),$t=this._subtractOverflows(We.height,An,ke),In=gt*$t;return{visibleArea:In,isCompletelyWithinViewport:We.width*We.height===In,fitsInViewportVertically:$t===We.height,fitsInViewportHorizontally:gt==We.width}}_canFitWithFlexibleDimensions(ce,Ve,mt){if(this._hasFlexibleDimensions){const at=mt.bottom-Ve.y,We=mt.right-Ve.x,Qe=Gt(this._overlayRef.getConfig().minHeight),Ae=Gt(this._overlayRef.getConfig().minWidth);return(ce.fitsInViewportVertically||null!=Qe&&Qe<=at)&&(ce.fitsInViewportHorizontally||null!=Ae&&Ae<=We)}return!1}_pushOverlayOnScreen(ce,Ve,mt){if(this._previousPushAmount&&this._positionLocked)return{x:ce.x+this._previousPushAmount.x,y:ce.y+this._previousPushAmount.y};const at=dn(Ve),We=this._viewportRect,Qe=Math.max(ce.x+at.width-We.width,0),Ae=Math.max(ce.y+at.height-We.height,0),Vt=Math.max(We.top-mt.top-ce.y,0),ln=Math.max(We.left-mt.left-ce.x,0);let Mt=0,Kt=0;return Mt=at.width<=We.width?ln||-Qe:ce.x<this._viewportMargin?We.left-mt.left-ce.x:0,Kt=at.height<=We.height?Vt||-Ae:ce.y<this._viewportMargin?We.top-mt.top-ce.y:0,this._previousPushAmount={x:Mt,y:Kt},{x:ce.x+Mt,y:ce.y+Kt}}_applyPosition(ce,Ve){if(this._setTransformOrigin(ce),this._setOverlayElementStyles(Ve,ce),this._setBoundingBoxStyles(Ve,ce),ce.panelClass&&this._addPanelClasses(ce.panelClass),this._lastPosition=ce,this._positionChanges.observers.length){const mt=this._getScrollVisibility(),at=new K(ce,mt);this._positionChanges.next(at)}this._isInitialRender=!1}_setTransformOrigin(ce){if(!this._transformOriginSelector)return;const Ve=this._boundingBox.querySelectorAll(this._transformOriginSelector);let mt,at=ce.overlayY;mt="center"===ce.overlayX?"center":this._isRtl()?"start"===ce.overlayX?"right":"left":"start"===ce.overlayX?"left":"right";for(let We=0;We<Ve.length;We++)Ve[We].style.transformOrigin=`${mt} ${at}`}_calculateBoundingBoxRect(ce,Ve){const mt=this._viewportRect,at=this._isRtl();let We,Qe,Ae,Mt,Kt,An;if("top"===Ve.overlayY)Qe=ce.y,We=mt.height-Qe+this._viewportMargin;else if("bottom"===Ve.overlayY)Ae=mt.height-ce.y+2*this._viewportMargin,We=mt.height-Ae+this._viewportMargin;else{const ke=Math.min(mt.bottom-ce.y+mt.top,ce.y),gt=this._lastBoundingBoxSize.height;We=2*ke,Qe=ce.y-ke,We>gt&&!this._isInitialRender&&!this._growAfterOpen&&(Qe=ce.y-gt/2)}if("end"===Ve.overlayX&&!at||"start"===Ve.overlayX&&at)An=mt.width-ce.x+this._viewportMargin,Mt=ce.x-this._viewportMargin;else if("start"===Ve.overlayX&&!at||"end"===Ve.overlayX&&at)Kt=ce.x,Mt=mt.right-ce.x;else{const ke=Math.min(mt.right-ce.x+mt.left,ce.x),gt=this._lastBoundingBoxSize.width;Mt=2*ke,Kt=ce.x-ke,Mt>gt&&!this._isInitialRender&&!this._growAfterOpen&&(Kt=ce.x-gt/2)}return{top:Qe,left:Kt,bottom:Ae,right:An,width:Mt,height:We}}_setBoundingBoxStyles(ce,Ve){const mt=this._calculateBoundingBoxRect(ce,Ve);!this._isInitialRender&&!this._growAfterOpen&&(mt.height=Math.min(mt.height,this._lastBoundingBoxSize.height),mt.width=Math.min(mt.width,this._lastBoundingBoxSize.width));const at={};if(this._hasExactPosition())at.top=at.left="0",at.bottom=at.right=at.maxHeight=at.maxWidth="",at.width=at.height="100%";else{const We=this._overlayRef.getConfig().maxHeight,Qe=this._overlayRef.getConfig().maxWidth;at.height=(0,ne.HM)(mt.height),at.top=(0,ne.HM)(mt.top),at.bottom=(0,ne.HM)(mt.bottom),at.width=(0,ne.HM)(mt.width),at.left=(0,ne.HM)(mt.left),at.right=(0,ne.HM)(mt.right),at.alignItems="center"===Ve.overlayX?"center":"end"===Ve.overlayX?"flex-end":"flex-start",at.justifyContent="center"===Ve.overlayY?"center":"bottom"===Ve.overlayY?"flex-end":"flex-start",We&&(at.maxHeight=(0,ne.HM)(We)),Qe&&(at.maxWidth=(0,ne.HM)(Qe))}this._lastBoundingBoxSize=mt,Qt(this._boundingBox.style,at)}_resetBoundingBoxStyles(){Qt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ce,Ve){const mt={},at=this._hasExactPosition(),We=this._hasFlexibleDimensions,Qe=this._overlayRef.getConfig();if(at){const Mt=this._viewportRuler.getViewportScrollPosition();Qt(mt,this._getExactOverlayY(Ve,ce,Mt)),Qt(mt,this._getExactOverlayX(Ve,ce,Mt))}else mt.position="static";let Ae="",Vt=this._getOffset(Ve,"x"),ln=this._getOffset(Ve,"y");Vt&&(Ae+=`translateX(${Vt}px) `),ln&&(Ae+=`translateY(${ln}px)`),mt.transform=Ae.trim(),Qe.maxHeight&&(at?mt.maxHeight=(0,ne.HM)(Qe.maxHeight):We&&(mt.maxHeight="")),Qe.maxWidth&&(at?mt.maxWidth=(0,ne.HM)(Qe.maxWidth):We&&(mt.maxWidth="")),Qt(this._pane.style,mt)}_getExactOverlayY(ce,Ve,mt){let at={top:"",bottom:""},We=this._getOverlayPoint(Ve,this._overlayRect,ce);return this._isPushed&&(We=this._pushOverlayOnScreen(We,this._overlayRect,mt)),"bottom"===ce.overlayY?at.bottom=this._document.documentElement.clientHeight-(We.y+this._overlayRect.height)+"px":at.top=(0,ne.HM)(We.y),at}_getExactOverlayX(ce,Ve,mt){let Qe,at={left:"",right:""},We=this._getOverlayPoint(Ve,this._overlayRect,ce);return this._isPushed&&(We=this._pushOverlayOnScreen(We,this._overlayRect,mt)),Qe=this._isRtl()?"end"===ce.overlayX?"left":"right":"end"===ce.overlayX?"right":"left","right"===Qe?at.right=this._document.documentElement.clientWidth-(We.x+this._overlayRect.width)+"px":at.left=(0,ne.HM)(We.x),at}_getScrollVisibility(){const ce=this._getOriginRect(),Ve=this._pane.getBoundingClientRect(),mt=this._scrollables.map(at=>at.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bt(ce,mt),isOriginOutsideView:Re(ce,mt),isOverlayClipped:bt(Ve,mt),isOverlayOutsideView:Re(Ve,mt)}}_subtractOverflows(ce,...Ve){return Ve.reduce((mt,at)=>mt-Math.max(at,0),ce)}_getNarrowedViewportRect(){const ce=this._document.documentElement.clientWidth,Ve=this._document.documentElement.clientHeight,mt=this._viewportRuler.getViewportScrollPosition();return{top:mt.top+this._viewportMargin,left:mt.left+this._viewportMargin,right:mt.left+ce-this._viewportMargin,bottom:mt.top+Ve-this._viewportMargin,width:ce-2*this._viewportMargin,height:Ve-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ce,Ve){return"x"===Ve?null==ce.offsetX?this._offsetX:ce.offsetX:null==ce.offsetY?this._offsetY:ce.offsetY}_validatePositions(){}_addPanelClasses(ce){this._pane&&(0,ne.Eq)(ce).forEach(Ve=>{""!==Ve&&-1===this._appliedPanelClasses.indexOf(Ve)&&(this._appliedPanelClasses.push(Ve),this._pane.classList.add(Ve))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ce=>{this._pane.classList.remove(ce)}),this._appliedPanelClasses=[])}_getOriginRect(){const ce=this._origin;if(ce instanceof g.SBq)return ce.nativeElement.getBoundingClientRect();if(ce instanceof Element)return ce.getBoundingClientRect();const Ve=ce.width||0,mt=ce.height||0;return{top:ce.y,bottom:ce.y+mt,left:ce.x,right:ce.x+Ve,height:mt,width:Ve}}}function Qt(Ut,ce){for(let Ve in ce)ce.hasOwnProperty(Ve)&&(Ut[Ve]=ce[Ve]);return Ut}function Gt(Ut){if("number"!=typeof Ut&&null!=Ut){const[ce,Ve]=Ut.split(kt);return Ve&&"px"!==Ve?null:parseFloat(ce)}return Ut||null}function dn(Ut){return{top:Math.floor(Ut.top),right:Math.floor(Ut.right),bottom:Math.floor(Ut.bottom),left:Math.floor(Ut.left),width:Math.floor(Ut.width),height:Math.floor(Ut.height)}}const At="cdk-global-overlay-wrapper";class Ke{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ce){const Ve=ce.getConfig();this._overlayRef=ce,this._width&&!Ve.width&&ce.updateSize({width:this._width}),this._height&&!Ve.height&&ce.updateSize({height:this._height}),ce.hostElement.classList.add(At),this._isDisposed=!1}top(ce=""){return this._bottomOffset="",this._topOffset=ce,this._alignItems="flex-start",this}left(ce=""){return this._xOffset=ce,this._xPosition="left",this}bottom(ce=""){return this._topOffset="",this._bottomOffset=ce,this._alignItems="flex-end",this}right(ce=""){return this._xOffset=ce,this._xPosition="right",this}start(ce=""){return this._xOffset=ce,this._xPosition="start",this}end(ce=""){return this._xOffset=ce,this._xPosition="end",this}width(ce=""){return this._overlayRef?this._overlayRef.updateSize({width:ce}):this._width=ce,this}height(ce=""){return this._overlayRef?this._overlayRef.updateSize({height:ce}):this._height=ce,this}centerHorizontally(ce=""){return this.left(ce),this._xPosition="center",this}centerVertically(ce=""){return this.top(ce),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ce=this._overlayRef.overlayElement.style,Ve=this._overlayRef.hostElement.style,mt=this._overlayRef.getConfig(),{width:at,height:We,maxWidth:Qe,maxHeight:Ae}=mt,Vt=!("100%"!==at&&"100vw"!==at||Qe&&"100%"!==Qe&&"100vw"!==Qe),ln=!("100%"!==We&&"100vh"!==We||Ae&&"100%"!==Ae&&"100vh"!==Ae),Mt=this._xPosition,Kt=this._xOffset,An="rtl"===this._overlayRef.getConfig().direction;let ke="",gt="",$t="";Vt?$t="flex-start":"center"===Mt?($t="center",An?gt=Kt:ke=Kt):An?"left"===Mt||"end"===Mt?($t="flex-end",ke=Kt):("right"===Mt||"start"===Mt)&&($t="flex-start",gt=Kt):"left"===Mt||"start"===Mt?($t="flex-start",ke=Kt):("right"===Mt||"end"===Mt)&&($t="flex-end",gt=Kt),ce.position=this._cssPosition,ce.marginLeft=Vt?"0":ke,ce.marginTop=ln?"0":this._topOffset,ce.marginBottom=this._bottomOffset,ce.marginRight=Vt?"0":gt,Ve.justifyContent=$t,Ve.alignItems=ln?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ce=this._overlayRef.overlayElement.style,Ve=this._overlayRef.hostElement,mt=Ve.style;Ve.classList.remove(At),mt.justifyContent=mt.alignItems=ce.marginTop=ce.marginBottom=ce.marginLeft=ce.marginRight=ce.position="",this._overlayRef=null,this._isDisposed=!0}}let Xe=(()=>{class Ut{constructor(Ve,mt,at,We){this._viewportRuler=Ve,this._document=mt,this._platform=at,this._overlayContainer=We}global(){return new Ke}flexibleConnectedTo(Ve){return new Pt(Ve,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Ut.\u0275fac=function(Ve){return new(Ve||Ut)(g.LFG(d.rL),g.LFG(L.K0),g.LFG(xe.t4),g.LFG(kn))},Ut.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})(),Ct=0,yt=(()=>{class Ut{constructor(Ve,mt,at,We,Qe,Ae,Vt,ln,Mt,Kt,An,ke){this.scrollStrategies=Ve,this._overlayContainer=mt,this._componentFactoryResolver=at,this._positionBuilder=We,this._keyboardDispatcher=Qe,this._injector=Ae,this._ngZone=Vt,this._document=ln,this._directionality=Mt,this._location=Kt,this._outsideClickDispatcher=An,this._animationsModuleType=ke}create(Ve){const mt=this._createHostElement(),at=this._createPaneElement(mt),We=this._createPortalOutlet(at),Qe=new be(Ve);return Qe.direction=Qe.direction||this._directionality.value,new ht(We,mt,at,Qe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ve){const mt=this._document.createElement("div");return mt.id="cdk-overlay-"+Ct++,mt.classList.add("cdk-overlay-pane"),Ve.appendChild(mt),mt}_createHostElement(){const Ve=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ve),Ve}_createPortalOutlet(Ve){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new se.u0(Ve,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Ut.\u0275fac=function(Ve){return new(Ve||Ut)(g.LFG(De),g.LFG(kn),g.LFG(g._Vd),g.LFG(Xe),g.LFG(vt),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(L.K0),g.LFG(Ee.Is),g.LFG(L.Ye),g.LFG(_n),g.LFG(g.QbO,8))},Ut.\u0275prov=g.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})();const Gn={provide:new g.OlP("cdk-connected-overlay-scroll-strategy"),deps:[yt],useFactory:function yn(Ut){return()=>Ut.scrollStrategies.reposition()}};let ci=(()=>{class Ut{}return Ut.\u0275fac=function(Ve){return new(Ve||Ut)},Ut.\u0275mod=g.oAB({type:Ut}),Ut.\u0275inj=g.cJS({providers:[yt,Gn],imports:[Ee.vT,se.eL,d.Cl,d.Cl]}),Ut})()},2966:(pn,it,E)=>{E.d(it,{Mq:()=>Ne,Oy:()=>ue,ht:()=>Re,i$:()=>de,kV:()=>He,sA:()=>bt,t4:()=>ne});var d=E(2223),L=E(4755);let g;try{g=typeof Intl<"u"&&Intl.v8BreakIterator}catch{g=!1}let Ee,Je,rt,ne=(()=>{class De{constructor(Me){this._platformId=Me,this.isBrowser=this._platformId?(0,L.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return De.\u0275fac=function(Me){return new(Me||De)(d.LFG(d.Lbi))},De.\u0275prov=d.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();function de(De){return function se(){if(null==Ee&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ee=!0}))}finally{Ee=Ee||!1}return Ee}()?De:!!De.capture}function Ne(){if(null==Je){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Je=!1,Je;if("scrollBehavior"in document.documentElement.style)Je=!0;else{const De=Element.prototype.scrollTo;Je=!!De&&!/\{\s*\[native code\]\s*\}/.test(De.toString())}}return Je}function He(De){if(function Le(){if(null==rt){const De=typeof document<"u"?document.head:null;rt=!(!De||!De.createShadowRoot&&!De.attachShadow)}return rt}()){const be=De.getRootNode?De.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&be instanceof ShadowRoot)return be}return null}function Re(){let De=typeof document<"u"&&document?document.activeElement:null;for(;De&&De.shadowRoot;){const be=De.shadowRoot.activeElement;if(be===De)break;De=be}return De}function bt(De){return De.composedPath?De.composedPath()[0]:De.target}function ue(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8023:(pn,it,E)=>{E.d(it,{C5:()=>se,Pl:()=>Re,UE:()=>de,eL:()=>ue,en:()=>Je,u0:()=>ut});var d=E(2223),L=E(4755);class Ee{attach(Me){return this._attachedHost=Me,Me.attach(this)}detach(){let Me=this._attachedHost;null!=Me&&(this._attachedHost=null,Me.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Me){this._attachedHost=Me}}class se extends Ee{constructor(Me,$e,K,Ge,Fe){super(),this.component=Me,this.viewContainerRef=$e,this.injector=K,this.componentFactoryResolver=Ge,this.projectableNodes=Fe}}class de extends Ee{constructor(Me,$e,K,Ge){super(),this.templateRef=Me,this.viewContainerRef=$e,this.context=K,this.injector=Ge}get origin(){return this.templateRef.elementRef}attach(Me,$e=this.context){return this.context=$e,super.attach(Me)}detach(){return this.context=void 0,super.detach()}}class fe extends Ee{constructor(Me){super(),this.element=Me instanceof d.SBq?Me.nativeElement:Me}}class Je{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Me){return Me instanceof se?(this._attachedPortal=Me,this.attachComponentPortal(Me)):Me instanceof de?(this._attachedPortal=Me,this.attachTemplatePortal(Me)):this.attachDomPortal&&Me instanceof fe?(this._attachedPortal=Me,this.attachDomPortal(Me)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Me){this._disposeFn=Me}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ut extends Je{constructor(Me,$e,K,Ge,Fe){super(),this.outletElement=Me,this._componentFactoryResolver=$e,this._appRef=K,this._defaultInjector=Ge,this.attachDomPortal=ze=>{const vt=ze.element,_n=this._document.createComment("dom-portal");vt.parentNode.insertBefore(_n,vt),this.outletElement.appendChild(vt),this._attachedPortal=ze,super.setDisposeFn(()=>{_n.parentNode&&_n.parentNode.replaceChild(vt,_n)})},this._document=Fe}attachComponentPortal(Me){const K=(Me.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Me.component);let Ge;return Me.viewContainerRef?(Ge=Me.viewContainerRef.createComponent(K,Me.viewContainerRef.length,Me.injector||Me.viewContainerRef.injector,Me.projectableNodes||void 0),this.setDisposeFn(()=>Ge.destroy())):(Ge=K.create(Me.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(Ge.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ge.hostView),Ge.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ge)),this._attachedPortal=Me,Ge}attachTemplatePortal(Me){let $e=Me.viewContainerRef,K=$e.createEmbeddedView(Me.templateRef,Me.context,{injector:Me.injector});return K.rootNodes.forEach(Ge=>this.outletElement.appendChild(Ge)),K.detectChanges(),this.setDisposeFn(()=>{let Ge=$e.indexOf(K);-1!==Ge&&$e.remove(Ge)}),this._attachedPortal=Me,K}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Me){return Me.hostView.rootNodes[0]}}let Re=(()=>{class be extends Je{constructor($e,K,Ge){super(),this._componentFactoryResolver=$e,this._viewContainerRef=K,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=Fe=>{const ze=Fe.element,vt=this._document.createComment("dom-portal");Fe.setAttachedHost(this),ze.parentNode.insertBefore(vt,ze),this._getRootNode().appendChild(ze),this._attachedPortal=Fe,super.setDisposeFn(()=>{vt.parentNode&&vt.parentNode.replaceChild(ze,vt)})},this._document=Ge}get portal(){return this._attachedPortal}set portal($e){this.hasAttached()&&!$e&&!this._isInitialized||(this.hasAttached()&&super.detach(),$e&&super.attach($e),this._attachedPortal=$e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal($e){$e.setAttachedHost(this);const K=null!=$e.viewContainerRef?$e.viewContainerRef:this._viewContainerRef,Fe=($e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($e.component),ze=K.createComponent(Fe,K.length,$e.injector||K.injector,$e.projectableNodes||void 0);return K!==this._viewContainerRef&&this._getRootNode().appendChild(ze.hostView.rootNodes[0]),super.setDisposeFn(()=>ze.destroy()),this._attachedPortal=$e,this._attachedRef=ze,this.attached.emit(ze),ze}attachTemplatePortal($e){$e.setAttachedHost(this);const K=this._viewContainerRef.createEmbeddedView($e.templateRef,$e.context,{injector:$e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=$e,this._attachedRef=K,this.attached.emit(K),K}_getRootNode(){const $e=this._viewContainerRef.element.nativeElement;return $e.nodeType===$e.ELEMENT_NODE?$e:$e.parentNode}}return be.\u0275fac=function($e){return new($e||be)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(L.K0))},be.\u0275dir=d.lG2({type:be,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),be})(),ue=(()=>{class be{}return be.\u0275fac=function($e){return new($e||be)},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({}),be})()},2236:(pn,it,E)=>{E.d(it,{ZD:()=>mt,mF:()=>Ct,Cl:()=>at,rL:()=>Tt});var d=E(1692),L=E(2223),g=E(7579),ne=E(9646),xe=E(9751),ae=E(8421),Z=E(5577),_e=E(1144),Ee=E(576),se=E(3268);const de=["addListener","removeListener"],fe=["addEventListener","removeEventListener"],Je=["on","off"];function Ne(We,Qe,Ae,Vt){if((0,Ee.m)(Ae)&&(Vt=Ae,Ae=void 0),Vt)return Ne(We,Qe,Ae).pipe((0,se.Z)(Vt));const[ln,Mt]=function He(We){return(0,Ee.m)(We.addEventListener)&&(0,Ee.m)(We.removeEventListener)}(We)?fe.map(Kt=>An=>We[Kt](Qe,An,Ae)):function rt(We){return(0,Ee.m)(We.addListener)&&(0,Ee.m)(We.removeListener)}(We)?de.map(ut(We,Qe)):function Le(We){return(0,Ee.m)(We.on)&&(0,Ee.m)(We.off)}(We)?Je.map(ut(We,Qe)):[];if(!ln&&(0,_e.z)(We))return(0,Z.z)(Kt=>Ne(Kt,Qe,Ae))((0,ae.Xf)(We));if(!ln)throw new TypeError("Invalid event target");return new xe.y(Kt=>{const An=(...ke)=>Kt.next(1<ke.length?ke:ke[0]);return ln(An),()=>Mt(An)})}function ut(We,Qe){return Ae=>Vt=>We[Ae](Qe,Vt)}var Re=E(4408),bt=E(727);const ue={schedule(We){let Qe=requestAnimationFrame,Ae=cancelAnimationFrame;const{delegate:Vt}=ue;Vt&&(Qe=Vt.requestAnimationFrame,Ae=Vt.cancelAnimationFrame);const ln=Qe(Mt=>{Ae=void 0,We(Mt)});return new bt.w0(()=>Ae?.(ln))},requestAnimationFrame(...We){const{delegate:Qe}=ue;return(Qe?.requestAnimationFrame||requestAnimationFrame)(...We)},cancelAnimationFrame(...We){const{delegate:Qe}=ue;return(Qe?.cancelAnimationFrame||cancelAnimationFrame)(...We)},delegate:void 0};var be=E(7565);new class Me extends be.v{flush(Qe){this._active=!0;const Ae=this._scheduled;this._scheduled=void 0;const{actions:Vt}=this;let ln;Qe=Qe||Vt.shift();do{if(ln=Qe.execute(Qe.state,Qe.delay))break}while((Qe=Vt[0])&&Qe.id===Ae&&Vt.shift());if(this._active=!1,ln){for(;(Qe=Vt[0])&&Qe.id===Ae&&Vt.shift();)Qe.unsubscribe();throw ln}}}(class De extends Re.o{constructor(Qe,Ae){super(Qe,Ae),this.scheduler=Qe,this.work=Ae}requestAsyncId(Qe,Ae,Vt=0){return null!==Vt&&Vt>0?super.requestAsyncId(Qe,Ae,Vt):(Qe.actions.push(this),Qe._scheduled||(Qe._scheduled=ue.requestAnimationFrame(()=>Qe.flush(void 0))))}recycleAsyncId(Qe,Ae,Vt=0){var ln;if(null!=Vt?Vt>0:this.delay>0)return super.recycleAsyncId(Qe,Ae,Vt);const{actions:Mt}=Qe;null!=Ae&&(null===(ln=Mt[Mt.length-1])||void 0===ln?void 0:ln.id)!==Ae&&(ue.cancelAnimationFrame(Ae),Qe._scheduled=void 0)}});E(3101);var Fe=E(4986),ze=E(4482),vt=E(5403),kn=E(5963);function ht(We,Qe=Fe.z){return function _n(We){return(0,ze.e)((Qe,Ae)=>{let Vt=!1,ln=null,Mt=null,Kt=!1;const An=()=>{if(Mt?.unsubscribe(),Mt=null,Vt){Vt=!1;const gt=ln;ln=null,Ae.next(gt)}Kt&&Ae.complete()},ke=()=>{Mt=null,Kt&&Ae.complete()};Qe.subscribe((0,vt.x)(Ae,gt=>{Vt=!0,ln=gt,Mt||(0,ae.Xf)(We(gt)).subscribe(Mt=(0,vt.x)(Ae,An,ke))},()=>{Kt=!0,(!Vt||!Mt||Mt.closed)&&Ae.complete()}))})}(()=>(0,kn.H)(We,Qe))}var ft=E(9300),kt=E(2966),Pt=E(4755),Qt=E(8930);let Ct=(()=>{class We{constructor(Ae,Vt,ln){this._ngZone=Ae,this._platform=Vt,this._scrolled=new g.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ln}register(Ae){this.scrollContainers.has(Ae)||this.scrollContainers.set(Ae,Ae.elementScrolled().subscribe(()=>this._scrolled.next(Ae)))}deregister(Ae){const Vt=this.scrollContainers.get(Ae);Vt&&(Vt.unsubscribe(),this.scrollContainers.delete(Ae))}scrolled(Ae=20){return this._platform.isBrowser?new xe.y(Vt=>{this._globalSubscription||this._addGlobalListener();const ln=Ae>0?this._scrolled.pipe(ht(Ae)).subscribe(Vt):this._scrolled.subscribe(Vt);return this._scrolledCount++,()=>{ln.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ae,Vt)=>this.deregister(Vt)),this._scrolled.complete()}ancestorScrolled(Ae,Vt){const ln=this.getAncestorScrollContainers(Ae);return this.scrolled(Vt).pipe((0,ft.h)(Mt=>!Mt||ln.indexOf(Mt)>-1))}getAncestorScrollContainers(Ae){const Vt=[];return this.scrollContainers.forEach((ln,Mt)=>{this._scrollableContainsElement(Mt,Ae)&&Vt.push(Mt)}),Vt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ae,Vt){let ln=(0,d.fI)(Vt),Mt=Ae.getElementRef().nativeElement;do{if(ln==Mt)return!0}while(ln=ln.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ne(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return We.\u0275fac=function(Ae){return new(Ae||We)(L.LFG(L.R0b),L.LFG(kt.t4),L.LFG(Pt.K0,8))},We.\u0275prov=L.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),Tt=(()=>{class We{constructor(Ae,Vt,ln){this._platform=Ae,this._change=new g.x,this._changeListener=Mt=>{this._change.next(Mt)},this._document=ln,Vt.runOutsideAngular(()=>{if(Ae.isBrowser){const Mt=this._getWindow();Mt.addEventListener("resize",this._changeListener),Mt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ae=this._getWindow();Ae.removeEventListener("resize",this._changeListener),Ae.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ae={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ae}getViewportRect(){const Ae=this.getViewportScrollPosition(),{width:Vt,height:ln}=this.getViewportSize();return{top:Ae.top,left:Ae.left,bottom:Ae.top+ln,right:Ae.left+Vt,height:ln,width:Vt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ae=this._document,Vt=this._getWindow(),ln=Ae.documentElement,Mt=ln.getBoundingClientRect();return{top:-Mt.top||Ae.body.scrollTop||Vt.scrollY||ln.scrollTop||0,left:-Mt.left||Ae.body.scrollLeft||Vt.scrollX||ln.scrollLeft||0}}change(Ae=20){return Ae>0?this._change.pipe(ht(Ae)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ae=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ae.innerWidth,height:Ae.innerHeight}:{width:0,height:0}}}return We.\u0275fac=function(Ae){return new(Ae||We)(L.LFG(kt.t4),L.LFG(L.R0b),L.LFG(Pt.K0,8))},We.\u0275prov=L.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),mt=(()=>{class We{}return We.\u0275fac=function(Ae){return new(Ae||We)},We.\u0275mod=L.oAB({type:We}),We.\u0275inj=L.cJS({}),We})(),at=(()=>{class We{}return We.\u0275fac=function(Ae){return new(Ae||We)},We.\u0275mod=L.oAB({type:We}),We.\u0275inj=L.cJS({imports:[Qt.vT,mt,Qt.vT,mt]}),We})()},4755:(pn,it,E)=>{E.d(it,{Do:()=>rt,EM:()=>Po,HT:()=>ne,JF:()=>Br,K0:()=>ae,Mx:()=>tr,NF:()=>ps,O5:()=>fo,PM:()=>So,S$:()=>Je,V_:()=>_e,Ye:()=>Le,b0:()=>ut,bD:()=>ms,ez:()=>ts,mk:()=>yr,q:()=>g,sg:()=>yo,tP:()=>Vo,uU:()=>ii,w_:()=>xe});var d=E(2223);let L=null;function g(){return L}function ne(R){L||(L=R)}class xe{}const ae=new d.OlP("DocumentToken");let Z=(()=>{class R{historyGo(B){throw new Error("Not implemented")}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275prov=d.Yz7({token:R,factory:function(){return(0,d.f3M)(Ee)},providedIn:"platform"}),R})();const _e=new d.OlP("Location Initialized");let Ee=(()=>{class R extends Z{constructor(){super(),this._doc=(0,d.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(B){const he=g().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",B,!1),()=>he.removeEventListener("popstate",B)}onHashChange(B){const he=g().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",B,!1),()=>he.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,he,qe){this._history.pushState(B,he,qe)}replaceState(B,he,qe){this._history.replaceState(B,he,qe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275prov=d.Yz7({token:R,factory:function(){return new R},providedIn:"platform"}),R})();function se(R,Q){if(0==R.length)return Q;if(0==Q.length)return R;let B=0;return R.endsWith("/")&&B++,Q.startsWith("/")&&B++,2==B?R+Q.substring(1):1==B?R+Q:R+"/"+Q}function de(R){const Q=R.match(/#|\?|$/),B=Q&&Q.index||R.length;return R.slice(0,B-("/"===R[B-1]?1:0))+R.slice(B)}function fe(R){return R&&"?"!==R[0]?"?"+R:R}let Je=(()=>{class R{historyGo(B){throw new Error("Not implemented")}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275prov=d.Yz7({token:R,factory:function(){return(0,d.f3M)(ut)},providedIn:"root"}),R})();const Ne=new d.OlP("appBaseHref");let ut=(()=>{class R extends Je{constructor(B,he){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=he??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return se(this._baseHref,B)}path(B=!1){const he=this._platformLocation.pathname+fe(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&B?`${he}${qe}`:he}pushState(B,he,qe,Xt){const fn=this.prepareExternalUrl(qe+fe(Xt));this._platformLocation.pushState(B,he,fn)}replaceState(B,he,qe,Xt){const fn=this.prepareExternalUrl(qe+fe(Xt));this._platformLocation.replaceState(B,he,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return R.\u0275fac=function(B){return new(B||R)(d.LFG(Z),d.LFG(Ne,8))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),rt=(()=>{class R extends Je{constructor(B,he){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let he=this._platformLocation.hash;return null==he&&(he="#"),he.length>0?he.substring(1):he}prepareExternalUrl(B){const he=se(this._baseHref,B);return he.length>0?"#"+he:he}pushState(B,he,qe,Xt){let fn=this.prepareExternalUrl(qe+fe(Xt));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.pushState(B,he,fn)}replaceState(B,he,qe,Xt){let fn=this.prepareExternalUrl(qe+fe(Xt));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.replaceState(B,he,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return R.\u0275fac=function(B){return new(B||R)(d.LFG(Z),d.LFG(Ne,8))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac}),R})(),Le=(()=>{class R{constructor(B){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const he=this._locationStrategy.getBaseHref();this._basePath=function ue(R){if(new RegExp("^(https?:)?//").test(R)){const[,B]=R.split(/\/\/[^\/]+/);return B}return R}(de(bt(he))),this._locationStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,he=""){return this.path()==this.normalize(B+fe(he))}normalize(B){return R.stripTrailingSlash(function Re(R,Q){if(!R||!Q.startsWith(R))return Q;const B=Q.substring(R.length);return""===B||["/",";","?","#"].includes(B[0])?B:Q}(this._basePath,bt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,he="",qe=null){this._locationStrategy.pushState(qe,"",B,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+fe(he)),qe)}replaceState(B,he="",qe=null){this._locationStrategy.replaceState(qe,"",B,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+fe(he)),qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(he=>{this._notifyUrlChangeListeners(he.url,he.state)})),()=>{const he=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(he,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",he){this._urlChangeListeners.forEach(qe=>qe(B,he))}subscribe(B,he,qe){return this._subject.subscribe({next:B,error:he,complete:qe})}}return R.normalizeQueryParams=fe,R.joinWithSlash=se,R.stripTrailingSlash=de,R.\u0275fac=function(B){return new(B||R)(d.LFG(Je))},R.\u0275prov=d.Yz7({token:R,factory:function(){return function He(){return new Le((0,d.LFG)(Je))}()},providedIn:"root"}),R})();function bt(R){return R.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e))(),K=(()=>((K=K||{})[K.Narrow=0]="Narrow",K[K.Abbreviated=1]="Abbreviated",K[K.Wide=2]="Wide",K[K.Short=3]="Short",K))(),Ge=(()=>((Ge=Ge||{})[Ge.Short=0]="Short",Ge[Ge.Medium=1]="Medium",Ge[Ge.Long=2]="Long",Ge[Ge.Full=3]="Full",Ge))(),Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Group=1]="Group",Fe[Fe.List=2]="List",Fe[Fe.PercentSign=3]="PercentSign",Fe[Fe.PlusSign=4]="PlusSign",Fe[Fe.MinusSign=5]="MinusSign",Fe[Fe.Exponential=6]="Exponential",Fe[Fe.SuperscriptingExponent=7]="SuperscriptingExponent",Fe[Fe.PerMille=8]="PerMille",Fe[Fe.Infinity=9]="Infinity",Fe[Fe.NaN=10]="NaN",Fe[Fe.TimeSeparator=11]="TimeSeparator",Fe[Fe.CurrencyDecimal=12]="CurrencyDecimal",Fe[Fe.CurrencyGroup=13]="CurrencyGroup",Fe))();function Qt(R,Q){return yn((0,d.cg1)(R)[d.wAp.DateFormat],Q)}function Gt(R,Q){return yn((0,d.cg1)(R)[d.wAp.TimeFormat],Q)}function dn(R,Q){return yn((0,d.cg1)(R)[d.wAp.DateTimeFormat],Q)}function gn(R,Q){const B=(0,d.cg1)(R),he=B[d.wAp.NumberSymbols][Q];if(typeof he>"u"){if(Q===Fe.CurrencyDecimal)return B[d.wAp.NumberSymbols][Fe.Decimal];if(Q===Fe.CurrencyGroup)return B[d.wAp.NumberSymbols][Fe.Group]}return he}function Ht(R){if(!R[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yn(R,Q){for(let B=Q;B>-1;B--)if(typeof R[B]<"u")return R[B];throw new Error("Locale data API: locale data undefined")}function Gn(R){const[Q,B]=R.split(":");return{hours:+Q,minutes:+B}}const ce=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ve={},mt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var at=(()=>((at=at||{})[at.Short=0]="Short",at[at.ShortGMT=1]="ShortGMT",at[at.Long=2]="Long",at[at.Extended=3]="Extended",at))(),We=(()=>((We=We||{})[We.FullYear=0]="FullYear",We[We.Month=1]="Month",We[We.Date=2]="Date",We[We.Hours=3]="Hours",We[We.Minutes=4]="Minutes",We[We.Seconds=5]="Seconds",We[We.FractionalSeconds=6]="FractionalSeconds",We[We.Day=7]="Day",We))(),Qe=(()=>((Qe=Qe||{})[Qe.DayPeriods=0]="DayPeriods",Qe[Qe.Days=1]="Days",Qe[Qe.Months=2]="Months",Qe[Qe.Eras=3]="Eras",Qe))();function Ae(R,Q,B,he){let qe=function oe(R){if(U(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[qe,Xt=1,fn=1]=R.split("-").map(Kn=>+Kn);return Vt(qe,Xt-1,fn)}const B=parseFloat(R);if(!isNaN(R-B))return new Date(B);let he;if(he=R.match(ce))return function H(R){const Q=new Date(0);let B=0,he=0;const qe=R[8]?Q.setUTCFullYear:Q.setFullYear,Xt=R[8]?Q.setUTCHours:Q.setHours;R[9]&&(B=Number(R[9]+R[10]),he=Number(R[9]+R[11])),qe.call(Q,Number(R[1]),Number(R[2])-1,Number(R[3]));const fn=Number(R[4]||0)-B,Kn=Number(R[5]||0)-he,ji=Number(R[6]||0),Mi=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Xt.call(Q,fn,Kn,ji,Mi),Q}(he)}const Q=new Date(R);if(!U(Q))throw new Error(`Unable to convert "${R}" into a date`);return Q}(R);Q=ln(B,Q)||Q;let Kn,fn=[];for(;Q;){if(Kn=mt.exec(Q),!Kn){fn.push(Q);break}{fn=fn.concat(Kn.slice(1));const Ei=fn.pop();if(!Ei)break;Q=Ei}}let ji=qe.getTimezoneOffset();he&&(ji=xt(he,ji),qe=function Te(R,Q,B){const he=B?-1:1,qe=R.getTimezoneOffset();return function jt(R,Q){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+Q),R}(R,he*(xt(Q,qe)-qe))}(qe,he,!0));let Mi="";return fn.forEach(Ei=>{const Ii=function Ie(R){if(Oe[R])return Oe[R];let Q;switch(R){case"G":case"GG":case"GGG":Q=$t(Qe.Eras,K.Abbreviated);break;case"GGGG":Q=$t(Qe.Eras,K.Wide);break;case"GGGGG":Q=$t(Qe.Eras,K.Narrow);break;case"y":Q=ke(We.FullYear,1,0,!1,!0);break;case"yy":Q=ke(We.FullYear,2,0,!0,!0);break;case"yyy":Q=ke(We.FullYear,3,0,!1,!0);break;case"yyyy":Q=ke(We.FullYear,4,0,!1,!0);break;case"Y":Q=Be(1);break;case"YY":Q=Be(2,!0);break;case"YYY":Q=Be(3);break;case"YYYY":Q=Be(4);break;case"M":case"L":Q=ke(We.Month,1,1);break;case"MM":case"LL":Q=ke(We.Month,2,1);break;case"MMM":Q=$t(Qe.Months,K.Abbreviated);break;case"MMMM":Q=$t(Qe.Months,K.Wide);break;case"MMMMM":Q=$t(Qe.Months,K.Narrow);break;case"LLL":Q=$t(Qe.Months,K.Abbreviated,$e.Standalone);break;case"LLLL":Q=$t(Qe.Months,K.Wide,$e.Standalone);break;case"LLLLL":Q=$t(Qe.Months,K.Narrow,$e.Standalone);break;case"w":Q=st(1);break;case"ww":Q=st(2);break;case"W":Q=st(1,!0);break;case"d":Q=ke(We.Date,1);break;case"dd":Q=ke(We.Date,2);break;case"c":case"cc":Q=ke(We.Day,1);break;case"ccc":Q=$t(Qe.Days,K.Abbreviated,$e.Standalone);break;case"cccc":Q=$t(Qe.Days,K.Wide,$e.Standalone);break;case"ccccc":Q=$t(Qe.Days,K.Narrow,$e.Standalone);break;case"cccccc":Q=$t(Qe.Days,K.Short,$e.Standalone);break;case"E":case"EE":case"EEE":Q=$t(Qe.Days,K.Abbreviated);break;case"EEEE":Q=$t(Qe.Days,K.Wide);break;case"EEEEE":Q=$t(Qe.Days,K.Narrow);break;case"EEEEEE":Q=$t(Qe.Days,K.Short);break;case"a":case"aa":case"aaa":Q=$t(Qe.DayPeriods,K.Abbreviated);break;case"aaaa":Q=$t(Qe.DayPeriods,K.Wide);break;case"aaaaa":Q=$t(Qe.DayPeriods,K.Narrow);break;case"b":case"bb":case"bbb":Q=$t(Qe.DayPeriods,K.Abbreviated,$e.Standalone,!0);break;case"bbbb":Q=$t(Qe.DayPeriods,K.Wide,$e.Standalone,!0);break;case"bbbbb":Q=$t(Qe.DayPeriods,K.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":Q=$t(Qe.DayPeriods,K.Abbreviated,$e.Format,!0);break;case"BBBB":Q=$t(Qe.DayPeriods,K.Wide,$e.Format,!0);break;case"BBBBB":Q=$t(Qe.DayPeriods,K.Narrow,$e.Format,!0);break;case"h":Q=ke(We.Hours,1,-12);break;case"hh":Q=ke(We.Hours,2,-12);break;case"H":Q=ke(We.Hours,1);break;case"HH":Q=ke(We.Hours,2);break;case"m":Q=ke(We.Minutes,1);break;case"mm":Q=ke(We.Minutes,2);break;case"s":Q=ke(We.Seconds,1);break;case"ss":Q=ke(We.Seconds,2);break;case"S":Q=ke(We.FractionalSeconds,1);break;case"SS":Q=ke(We.FractionalSeconds,2);break;case"SSS":Q=ke(We.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=di(at.Short);break;case"ZZZZZ":Q=di(at.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=di(at.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=di(at.Long);break;default:return null}return Oe[R]=Q,Q}(Ei);Mi+=Ii?Ii(qe,B,ji):"''"===Ei?"'":Ei.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Mi}function Vt(R,Q,B){const he=new Date(0);return he.setFullYear(R,Q,B),he.setHours(0,0,0),he}function ln(R,Q){const B=function vt(R){return(0,d.cg1)(R)[d.wAp.LocaleId]}(R);if(Ve[B]=Ve[B]||{},Ve[B][Q])return Ve[B][Q];let he="";switch(Q){case"shortDate":he=Qt(R,Ge.Short);break;case"mediumDate":he=Qt(R,Ge.Medium);break;case"longDate":he=Qt(R,Ge.Long);break;case"fullDate":he=Qt(R,Ge.Full);break;case"shortTime":he=Gt(R,Ge.Short);break;case"mediumTime":he=Gt(R,Ge.Medium);break;case"longTime":he=Gt(R,Ge.Long);break;case"fullTime":he=Gt(R,Ge.Full);break;case"short":const qe=ln(R,"shortTime"),Xt=ln(R,"shortDate");he=Mt(dn(R,Ge.Short),[qe,Xt]);break;case"medium":const fn=ln(R,"mediumTime"),Kn=ln(R,"mediumDate");he=Mt(dn(R,Ge.Medium),[fn,Kn]);break;case"long":const ji=ln(R,"longTime"),Mi=ln(R,"longDate");he=Mt(dn(R,Ge.Long),[ji,Mi]);break;case"full":const Ei=ln(R,"fullTime"),Ii=ln(R,"fullDate");he=Mt(dn(R,Ge.Full),[Ei,Ii])}return he&&(Ve[B][Q]=he),he}function Mt(R,Q){return Q&&(R=R.replace(/\{([^}]+)}/g,function(B,he){return null!=Q&&he in Q?Q[he]:B})),R}function Kt(R,Q,B="-",he,qe){let Xt="";(R<0||qe&&R<=0)&&(qe?R=1-R:(R=-R,Xt=B));let fn=String(R);for(;fn.length<Q;)fn="0"+fn;return he&&(fn=fn.slice(fn.length-Q)),Xt+fn}function ke(R,Q,B=0,he=!1,qe=!1){return function(Xt,fn){let Kn=function gt(R,Q){switch(R){case We.FullYear:return Q.getFullYear();case We.Month:return Q.getMonth();case We.Date:return Q.getDate();case We.Hours:return Q.getHours();case We.Minutes:return Q.getMinutes();case We.Seconds:return Q.getSeconds();case We.FractionalSeconds:return Q.getMilliseconds();case We.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Xt);if((B>0||Kn>-B)&&(Kn+=B),R===We.Hours)0===Kn&&-12===B&&(Kn=12);else if(R===We.FractionalSeconds)return function An(R,Q){return Kt(R,3).substring(0,Q)}(Kn,Q);const ji=gn(fn,Fe.MinusSign);return Kt(Kn,Q,ji,he,qe)}}function $t(R,Q,B=$e.Format,he=!1){return function(qe,Xt){return function In(R,Q,B,he,qe,Xt){switch(B){case Qe.Months:return function ht(R,Q,B){const he=(0,d.cg1)(R),Xt=yn([he[d.wAp.MonthsFormat],he[d.wAp.MonthsStandalone]],Q);return yn(Xt,B)}(Q,qe,he)[R.getMonth()];case Qe.Days:return function kn(R,Q,B){const he=(0,d.cg1)(R),Xt=yn([he[d.wAp.DaysFormat],he[d.wAp.DaysStandalone]],Q);return yn(Xt,B)}(Q,qe,he)[R.getDay()];case Qe.DayPeriods:const fn=R.getHours(),Kn=R.getMinutes();if(Xt){const Mi=function Tt(R){const Q=(0,d.cg1)(R);return Ht(Q),(Q[d.wAp.ExtraData][2]||[]).map(he=>"string"==typeof he?Gn(he):[Gn(he[0]),Gn(he[1])])}(Q),Ei=function un(R,Q,B){const he=(0,d.cg1)(R);Ht(he);const Xt=yn([he[d.wAp.ExtraData][0],he[d.wAp.ExtraData][1]],Q)||[];return yn(Xt,B)||[]}(Q,qe,he),Ii=Mi.findIndex(nr=>{if(Array.isArray(nr)){const[Un,$r]=nr,os=fn>=Un.hours&&Kn>=Un.minutes,Xr=fn<$r.hours||fn===$r.hours&&Kn<$r.minutes;if(Un.hours<$r.hours){if(os&&Xr)return!0}else if(os||Xr)return!0}else if(nr.hours===fn&&nr.minutes===Kn)return!0;return!1});if(-1!==Ii)return Ei[Ii]}return function _n(R,Q,B){const he=(0,d.cg1)(R),Xt=yn([he[d.wAp.DayPeriodsFormat],he[d.wAp.DayPeriodsStandalone]],Q);return yn(Xt,B)}(Q,qe,he)[fn<12?0:1];case Qe.Eras:return function ft(R,Q){return yn((0,d.cg1)(R)[d.wAp.Eras],Q)}(Q,he)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(qe,Xt,R,Q,B,he)}}function di(R){return function(Q,B,he){const qe=-1*he,Xt=gn(B,Fe.MinusSign),fn=qe>0?Math.floor(qe/60):Math.ceil(qe/60);switch(R){case at.Short:return(qe>=0?"+":"")+Kt(fn,2,Xt)+Kt(Math.abs(qe%60),2,Xt);case at.ShortGMT:return"GMT"+(qe>=0?"+":"")+Kt(fn,1,Xt);case at.Long:return"GMT"+(qe>=0?"+":"")+Kt(fn,2,Xt)+":"+Kt(Math.abs(qe%60),2,Xt);case at.Extended:return 0===he?"Z":(qe>=0?"+":"")+Kt(fn,2,Xt)+":"+Kt(Math.abs(qe%60),2,Xt);default:throw new Error(`Unknown zone width "${R}"`)}}}const Si=0,mi=4;function et(R){return Vt(R.getFullYear(),R.getMonth(),R.getDate()+(mi-R.getDay()))}function st(R,Q=!1){return function(B,he){let qe;if(Q){const Xt=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,fn=B.getDate();qe=1+Math.floor((fn+Xt)/7)}else{const Xt=et(B),fn=function Yt(R){const Q=Vt(R,Si,1).getDay();return Vt(R,0,1+(Q<=mi?mi:mi+7)-Q)}(Xt.getFullYear()),Kn=Xt.getTime()-fn.getTime();qe=1+Math.round(Kn/6048e5)}return Kt(qe,R,gn(he,Fe.MinusSign))}}function Be(R,Q=!1){return function(B,he){return Kt(et(B).getFullYear(),R,gn(he,Fe.MinusSign),Q)}}const Oe={};function xt(R,Q){R=R.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(B)?Q:B}function U(R){return R instanceof Date&&!isNaN(R.valueOf())}function tr(R,Q){Q=encodeURIComponent(Q);for(const B of R.split(";")){const he=B.indexOf("="),[qe,Xt]=-1==he?[B,""]:[B.slice(0,he),B.slice(he+1)];if(qe.trim()===Q)return decodeURIComponent(Xt)}return null}const vo=/\s+/,us=[];let yr=(()=>{class R{constructor(B,he,qe,Xt){this._iterableDiffers=B,this._keyValueDiffers=he,this._ngEl=qe,this._renderer=Xt,this.initialClasses=us,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(vo):us}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(vo):B}ngDoCheck(){for(const he of this.initialClasses)this._updateState(he,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const he of B)this._updateState(he,!0);else if(null!=B)for(const he of Object.keys(B))this._updateState(he,!!B[he]);this._applyStateDiff()}_updateState(B,he){const qe=this.stateMap.get(B);void 0!==qe?(qe.enabled!==he&&(qe.changed=!0,qe.enabled=he),qe.touched=!0):this.stateMap.set(B,{enabled:he,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const he=B[0],qe=B[1];qe.changed?(this._toggleClass(he,qe.enabled),qe.changed=!1):qe.touched||(qe.enabled&&this._toggleClass(he,!1),this.stateMap.delete(he)),qe.touched=!1}}_toggleClass(B,he){(B=B.trim()).length>0&&B.split(vo).forEach(qe=>{he?this._renderer.addClass(this._ngEl.nativeElement,qe):this._renderer.removeClass(this._ngEl.nativeElement,qe)})}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class to{constructor(Q,B,he,qe){this.$implicit=Q,this.ngForOf=B,this.index=he,this.count=qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yo=(()=>{class R{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,he,qe){this._viewContainer=B,this._template=he,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const he=this._viewContainer;B.forEachOperation((qe,Xt,fn)=>{if(null==qe.previousIndex)he.createEmbeddedView(this._template,new to(qe.item,this._ngForOf,-1,-1),null===fn?void 0:fn);else if(null==fn)he.remove(null===Xt?void 0:Xt);else if(null!==Xt){const Kn=he.get(Xt);he.move(Kn,fn),Ui(Kn,qe)}});for(let qe=0,Xt=he.length;qe<Xt;qe++){const Kn=he.get(qe).context;Kn.index=qe,Kn.count=Xt,Kn.ngForOf=this._ngForOf}B.forEachIdentityChange(qe=>{Ui(he.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(B,he){return!0}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function Ui(R,Q){R.context.$implicit=Q.item}let fo=(()=>{class R{constructor(B,he){this._viewContainer=B,this._context=new so,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){br("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){br("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,he){return!0}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.s_b),d.Y36(d.Rgc))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class so{constructor(){this.$implicit=null,this.ngIf=null}}function br(R,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,d.AaK)(Q)}'.`)}let Vo=(()=>{class R{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const he=this._viewContainerRef;if(this._viewRef&&he.remove(he.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:qe,ngTemplateOutletContext:Xt,ngTemplateOutletInjector:fn}=this;this._viewRef=he.createEmbeddedView(qe,Xt,fn?{injector:fn}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.s_b))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),R})();const nn=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Rn=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ii=(()=>{class R{constructor(B,he,qe){this.locale=B,this.defaultTimezone=he,this.defaultOptions=qe}transform(B,he,qe,Xt){if(null==B||""===B||B!=B)return null;try{return Ae(B,he??this.defaultOptions?.dateFormat??"mediumDate",Xt||this.locale,qe??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(fn){throw function si(R,Q){return new d.vHH(2100,!1)}()}}}return R.\u0275fac=function(B){return new(B||R)(d.Y36(d.soG,16),d.Y36(nn,24),d.Y36(Rn,24))},R.\u0275pipe=d.Yjl({name:"date",type:R,pure:!0,standalone:!0}),R})(),ts=(()=>{class R{}return R.\u0275fac=function(B){return new(B||R)},R.\u0275mod=d.oAB({type:R}),R.\u0275inj=d.cJS({}),R})();const ms="browser",Fs="server";function ps(R){return R===ms}function So(R){return R===Fs}let Po=(()=>{class R{}return R.\u0275prov=(0,d.Yz7)({token:R,providedIn:"root",factory:()=>new mo((0,d.LFG)(ae),window)}),R})();class mo{constructor(Q,B){this.document=Q,this.window=B,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const B=function As(R,Q){const B=R.getElementById(Q)||R.getElementsByName(Q)[0];if(B)return B;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const he=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let qe=he.currentNode;for(;qe;){const Xt=qe.shadowRoot;if(Xt){const fn=Xt.getElementById(Q)||Xt.querySelector(`[name="${Q}"]`);if(fn)return fn}qe=he.nextNode()}}return null}(this.document,Q);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=Q)}}scrollToElement(Q){const B=Q.getBoundingClientRect(),he=B.left+this.window.pageXOffset,qe=B.top+this.window.pageYOffset,Xt=this.offset();this.window.scrollTo(he-Xt[0],qe-Xt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=jo(this.window.history)||jo(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jo(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Br{}},3144:(pn,it,E)=>{E.d(it,{JF:()=>Oe,eN:()=>Pt});var d=E(2223),L=E(9646),g=E(8996),ne=E(9751),xe=E(4351),ae=E(9300),Z=E(4004),_e=E(8746),Ee=E(3900),se=E(4755);class de{}class fe{}class Je{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(ve=>{const Et=ve.indexOf(":");if(Et>0){const wt=ve.slice(0,Et),Ot=wt.toLowerCase(),en=ve.slice(Et+1).trim();this.maybeSetNormalizedName(wt,Ot),this.headers.has(Ot)?this.headers.get(Ot).push(en):this.headers.set(Ot,[en])}})}:()=>{this.headers=new Map,Object.entries(re).forEach(([ve,Et])=>{let wt;if(wt="string"==typeof Et?[Et]:"number"==typeof Et?[Et.toString()]:Et.map(Ot=>Ot.toString()),wt.length>0){const Ot=ve.toLowerCase();this.headers.set(Ot,wt),this.maybeSetNormalizedName(ve,Ot)}})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const ve=this.headers.get(re.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,ve){return this.clone({name:re,value:ve,op:"a"})}set(re,ve){return this.clone({name:re,value:ve,op:"s"})}delete(re,ve){return this.clone({name:re,value:ve,op:"d"})}maybeSetNormalizedName(re,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,re)}init(){this.lazyInit&&(this.lazyInit instanceof Je?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(ve=>{this.headers.set(ve,re.headers.get(ve)),this.normalizedNames.set(ve,re.normalizedNames.get(ve))})}clone(re){const ve=new Je;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof Je?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([re]),ve}applyUpdate(re){const ve=re.name.toLowerCase();switch(re.op){case"a":case"s":let Et=re.value;if("string"==typeof Et&&(Et=[Et]),0===Et.length)return;this.maybeSetNormalizedName(re.name,ve);const wt=("a"===re.op?this.headers.get(ve):void 0)||[];wt.push(...Et),this.headers.set(ve,wt);break;case"d":const Ot=re.value;if(Ot){let en=this.headers.get(ve);if(!en)return;en=en.filter(Xn=>-1===Ot.indexOf(Xn)),0===en.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,en)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>re(this.normalizedNames.get(ve),this.headers.get(ve)))}}class ut{encodeKey(re){return Re(re)}encodeValue(re){return Re(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const Le=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Re(le){return encodeURIComponent(le).replace(Le,(re,ve)=>He[ve]??re)}function bt(le){return`${le}`}class ue{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new ut,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rt(le,re){const ve=new Map;return le.length>0&&le.replace(/^\?/,"").split("&").forEach(wt=>{const Ot=wt.indexOf("="),[en,Xn]=-1==Ot?[re.decodeKey(wt),""]:[re.decodeKey(wt.slice(0,Ot)),re.decodeValue(wt.slice(Ot+1))],Mn=ve.get(en)||[];Mn.push(Xn),ve.set(en,Mn)}),ve}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(ve=>{const Et=re.fromObject[ve],wt=Array.isArray(Et)?Et.map(bt):[bt(Et)];this.map.set(ve,wt)})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const ve=this.map.get(re);return ve?ve[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,ve){return this.clone({param:re,value:ve,op:"a"})}appendAll(re){const ve=[];return Object.keys(re).forEach(Et=>{const wt=re[Et];Array.isArray(wt)?wt.forEach(Ot=>{ve.push({param:Et,value:Ot,op:"a"})}):ve.push({param:Et,value:wt,op:"a"})}),this.clone(ve)}set(re,ve){return this.clone({param:re,value:ve,op:"s"})}delete(re,ve){return this.clone({param:re,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const ve=this.encoder.encodeKey(re);return this.map.get(re).map(Et=>ve+"="+this.encoder.encodeValue(Et)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const ve=new ue({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(re),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const ve=("a"===re.op?this.map.get(re.param):void 0)||[];ve.push(bt(re.value)),this.map.set(re.param,ve);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let Et=this.map.get(re.param)||[];const wt=Et.indexOf(bt(re.value));-1!==wt&&Et.splice(wt,1),Et.length>0?this.map.set(re.param,Et):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class be{constructor(){this.map=new Map}set(re,ve){return this.map.set(re,ve),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}has(re){return this.map.has(re)}keys(){return this.map.keys()}}function $e(le){return typeof ArrayBuffer<"u"&&le instanceof ArrayBuffer}function K(le){return typeof Blob<"u"&&le instanceof Blob}function Ge(le){return typeof FormData<"u"&&le instanceof FormData}class ze{constructor(re,ve,Et,wt){let Ot;if(this.url=ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function Me(le){switch(le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||wt?(this.body=void 0!==Et?Et:null,Ot=wt):Ot=Et,Ot&&(this.reportProgress=!!Ot.reportProgress,this.withCredentials=!!Ot.withCredentials,Ot.responseType&&(this.responseType=Ot.responseType),Ot.headers&&(this.headers=Ot.headers),Ot.context&&(this.context=Ot.context),Ot.params&&(this.params=Ot.params)),this.headers||(this.headers=new Je),this.context||(this.context=new be),this.params){const en=this.params.toString();if(0===en.length)this.urlWithParams=ve;else{const Xn=ve.indexOf("?");this.urlWithParams=ve+(-1===Xn?"?":Xn<ve.length-1?"&":"")+en}}else this.params=new ue,this.urlWithParams=ve}serializeBody(){return null===this.body?null:$e(this.body)||K(this.body)||Ge(this.body)||function Fe(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ge(this.body)?null:K(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){const ve=re.method||this.method,Et=re.url||this.url,wt=re.responseType||this.responseType,Ot=void 0!==re.body?re.body:this.body,en=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,Xn=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let Mn=re.headers||this.headers,Ci=re.params||this.params;const bi=re.context??this.context;return void 0!==re.setHeaders&&(Mn=Object.keys(re.setHeaders).reduce((Bt,It)=>Bt.set(It,re.setHeaders[It]),Mn)),re.setParams&&(Ci=Object.keys(re.setParams).reduce((Bt,It)=>Bt.set(It,re.setParams[It]),Ci)),new ze(ve,Et,Ot,{params:Ci,headers:Mn,context:bi,reportProgress:Xn,responseType:wt,withCredentials:en})}}var vt=(()=>((vt=vt||{})[vt.Sent=0]="Sent",vt[vt.UploadProgress=1]="UploadProgress",vt[vt.ResponseHeader=2]="ResponseHeader",vt[vt.DownloadProgress=3]="DownloadProgress",vt[vt.Response=4]="Response",vt[vt.User=5]="User",vt))();class _n{constructor(re,ve=200,Et="OK"){this.headers=re.headers||new Je,this.status=void 0!==re.status?re.status:ve,this.statusText=re.statusText||Et,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class kn extends _n{constructor(re={}){super(re),this.type=vt.ResponseHeader}clone(re={}){return new kn({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class ht extends _n{constructor(re={}){super(re),this.type=vt.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new ht({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class ft extends _n{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function kt(le,re){return{body:re,headers:le.headers,context:le.context,observe:le.observe,params:le.params,reportProgress:le.reportProgress,responseType:le.responseType,withCredentials:le.withCredentials}}let Pt=(()=>{class le{constructor(ve){this.handler=ve}request(ve,Et,wt={}){let Ot;if(ve instanceof ze)Ot=ve;else{let Mn,Ci;Mn=wt.headers instanceof Je?wt.headers:new Je(wt.headers),wt.params&&(Ci=wt.params instanceof ue?wt.params:new ue({fromObject:wt.params})),Ot=new ze(ve,Et,void 0!==wt.body?wt.body:null,{headers:Mn,context:wt.context,params:Ci,reportProgress:wt.reportProgress,responseType:wt.responseType||"json",withCredentials:wt.withCredentials})}const en=(0,L.of)(Ot).pipe((0,xe.b)(Mn=>this.handler.handle(Mn)));if(ve instanceof ze||"events"===wt.observe)return en;const Xn=en.pipe((0,ae.h)(Mn=>Mn instanceof ht));switch(wt.observe||"body"){case"body":switch(Ot.responseType){case"arraybuffer":return Xn.pipe((0,Z.U)(Mn=>{if(null!==Mn.body&&!(Mn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Mn.body}));case"blob":return Xn.pipe((0,Z.U)(Mn=>{if(null!==Mn.body&&!(Mn.body instanceof Blob))throw new Error("Response is not a Blob.");return Mn.body}));case"text":return Xn.pipe((0,Z.U)(Mn=>{if(null!==Mn.body&&"string"!=typeof Mn.body)throw new Error("Response is not a string.");return Mn.body}));default:return Xn.pipe((0,Z.U)(Mn=>Mn.body))}case"response":return Xn;default:throw new Error(`Unreachable: unhandled observe type ${wt.observe}}`)}}delete(ve,Et={}){return this.request("DELETE",ve,Et)}get(ve,Et={}){return this.request("GET",ve,Et)}head(ve,Et={}){return this.request("HEAD",ve,Et)}jsonp(ve,Et){return this.request("JSONP",ve,{params:(new ue).append(Et,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,Et={}){return this.request("OPTIONS",ve,Et)}patch(ve,Et,wt={}){return this.request("PATCH",ve,kt(wt,Et))}post(ve,Et,wt={}){return this.request("POST",ve,kt(wt,Et))}put(ve,Et,wt={}){return this.request("PUT",ve,kt(wt,Et))}}return le.\u0275fac=function(ve){return new(ve||le)(d.LFG(de))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();function Qt(le,re){return re(le)}function Gt(le,re){return(ve,Et)=>re.intercept(ve,{handle:wt=>le(wt,Et)})}const gn=new d.OlP(""),an=new d.OlP(""),At=new d.OlP("");function Ke(){let le=null;return(re,ve)=>{null===le&&(le=((0,d.f3M)(gn,{optional:!0})??[]).reduceRight(Gt,Qt));const Et=(0,d.f3M)(d.HDt),wt=Et.add();return le(re,ve).pipe((0,_e.x)(()=>Et.remove(wt)))}}let Xe=(()=>{class le extends de{constructor(ve,Et){super(),this.backend=ve,this.injector=Et,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(ve){if(null===this.chain){const wt=Array.from(new Set([...this.injector.get(an),...this.injector.get(At,[])]));this.chain=wt.reduceRight((Ot,en)=>function dn(le,re,ve){return(Et,wt)=>ve.runInContext(()=>re(Et,Ot=>le(Ot,wt)))}(Ot,en,this.injector),Qt)}const Et=this.pendingTasks.add();return this.chain(ve,wt=>this.backend.handle(wt)).pipe((0,_e.x)(()=>this.pendingTasks.remove(Et)))}}return le.\u0275fac=function(ve){return new(ve||le)(d.LFG(fe),d.LFG(d.lqb))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();const ce=/^\)\]\}',?\n/;let mt=(()=>{class le{constructor(ve){this.xhrFactory=ve}handle(ve){if("JSONP"===ve.method)throw new d.vHH(-2800,!1);const Et=this.xhrFactory;return(Et.\u0275loadImpl?(0,g.D)(Et.\u0275loadImpl()):(0,L.of)(null)).pipe((0,Ee.w)(()=>new ne.y(Ot=>{const en=Et.build();if(en.open(ve.method,ve.urlWithParams),ve.withCredentials&&(en.withCredentials=!0),ve.headers.forEach((On,Ln)=>en.setRequestHeader(On,Ln.join(","))),ve.headers.has("Accept")||en.setRequestHeader("Accept","application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const On=ve.detectContentTypeHeader();null!==On&&en.setRequestHeader("Content-Type",On)}if(ve.responseType){const On=ve.responseType.toLowerCase();en.responseType="json"!==On?On:"text"}const Xn=ve.serializeBody();let Mn=null;const Ci=()=>{if(null!==Mn)return Mn;const On=en.statusText||"OK",Ln=new Je(en.getAllResponseHeaders()),ai=function Ve(le){return"responseURL"in le&&le.responseURL?le.responseURL:/^X-Request-URL:/m.test(le.getAllResponseHeaders())?le.getResponseHeader("X-Request-URL"):null}(en)||ve.url;return Mn=new kn({headers:Ln,status:en.status,statusText:On,url:ai}),Mn},bi=()=>{let{headers:On,status:Ln,statusText:ai,url:Wi}=Ci(),gi=null;204!==Ln&&(gi=typeof en.response>"u"?en.responseText:en.response),0===Ln&&(Ln=gi?200:0);let vr=Ln>=200&&Ln<300;if("json"===ve.responseType&&"string"==typeof gi){const tr=gi;gi=gi.replace(ce,"");try{gi=""!==gi?JSON.parse(gi):null}catch(vo){gi=tr,vr&&(vr=!1,gi={error:vo,text:gi})}}vr?(Ot.next(new ht({body:gi,headers:On,status:Ln,statusText:ai,url:Wi||void 0})),Ot.complete()):Ot.error(new ft({error:gi,headers:On,status:Ln,statusText:ai,url:Wi||void 0}))},Bt=On=>{const{url:Ln}=Ci(),ai=new ft({error:On,status:en.status||0,statusText:en.statusText||"Unknown Error",url:Ln||void 0});Ot.error(ai)};let It=!1;const bn=On=>{It||(Ot.next(Ci()),It=!0);let Ln={type:vt.DownloadProgress,loaded:On.loaded};On.lengthComputable&&(Ln.total=On.total),"text"===ve.responseType&&en.responseText&&(Ln.partialText=en.responseText),Ot.next(Ln)},Zn=On=>{let Ln={type:vt.UploadProgress,loaded:On.loaded};On.lengthComputable&&(Ln.total=On.total),Ot.next(Ln)};return en.addEventListener("load",bi),en.addEventListener("error",Bt),en.addEventListener("timeout",Bt),en.addEventListener("abort",Bt),ve.reportProgress&&(en.addEventListener("progress",bn),null!==Xn&&en.upload&&en.upload.addEventListener("progress",Zn)),en.send(Xn),Ot.next({type:vt.Sent}),()=>{en.removeEventListener("error",Bt),en.removeEventListener("abort",Bt),en.removeEventListener("load",bi),en.removeEventListener("timeout",Bt),ve.reportProgress&&(en.removeEventListener("progress",bn),null!==Xn&&en.upload&&en.upload.removeEventListener("progress",Zn)),en.readyState!==en.DONE&&en.abort()}})))}}return le.\u0275fac=function(ve){return new(ve||le)(d.LFG(se.JF))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();const at=new d.OlP("XSRF_ENABLED"),Qe=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Vt=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ln{}let Mt=(()=>{class le{constructor(ve,Et,wt){this.doc=ve,this.platform=Et,this.cookieName=wt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,se.Mx)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}}return le.\u0275fac=function(ve){return new(ve||le)(d.LFG(se.K0),d.LFG(d.Lbi),d.LFG(Qe))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();function Kt(le,re){const ve=le.url.toLowerCase();if(!(0,d.f3M)(at)||"GET"===le.method||"HEAD"===le.method||ve.startsWith("http://")||ve.startsWith("https://"))return re(le);const Et=(0,d.f3M)(ln).getToken(),wt=(0,d.f3M)(Vt);return null!=Et&&!le.headers.has(wt)&&(le=le.clone({headers:le.headers.set(wt,Et)})),re(le)}var ke=(()=>((ke=ke||{})[ke.Interceptors=0]="Interceptors",ke[ke.LegacyInterceptors=1]="LegacyInterceptors",ke[ke.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ke[ke.NoXsrfProtection=3]="NoXsrfProtection",ke[ke.JsonpSupport=4]="JsonpSupport",ke[ke.RequestsMadeViaParent=5]="RequestsMadeViaParent",ke))();function gt(le,re){return{\u0275kind:le,\u0275providers:re}}function $t(...le){const re=[Pt,mt,Xe,{provide:de,useExisting:Xe},{provide:fe,useExisting:mt},{provide:an,useValue:Kt,multi:!0},{provide:at,useValue:!0},{provide:ln,useClass:Mt}];for(const ve of le)re.push(...ve.\u0275providers);return(0,d.MR2)(re)}const di=new d.OlP("LEGACY_INTERCEPTOR_FN");let Oe=(()=>{class le{}return le.\u0275fac=function(ve){return new(ve||le)},le.\u0275mod=d.oAB({type:le}),le.\u0275inj=d.cJS({providers:[$t(gt(ke.LegacyInterceptors,[{provide:di,useFactory:Ke},{provide:an,useExisting:di,multi:!0}]))]}),le})()},2223:(pn,it,E)=>{E.d(it,{$8M:()=>Ul,$WT:()=>zr,$Z:()=>H_,AFp:()=>Hm,ALo:()=>hw,AaK:()=>fe,BQk:()=>xd,CHM:()=>lo,CRH:()=>Sw,D6c:()=>OD,EJc:()=>LC,EiD:()=>p_,EpF:()=>ug,F$t:()=>Th,F4k:()=>bu,FYo:()=>eu,FiY:()=>Ya,Gf:()=>Dw,GfV:()=>pf,GkF:()=>$f,Gpc:()=>ut,HDt:()=>qw,Hsn:()=>_v,Ikx:()=>Ph,JOm:()=>Aa,JVY:()=>py,JZr:()=>bt,KtG:()=>as,L6k:()=>gy,LAX:()=>Gd,LFG:()=>Ie,LSH:()=>Rm,Lbi:()=>cf,Lck:()=>CE,MAs:()=>gv,MMx:()=>Q0,MR2:()=>rd,NdJ:()=>Pl,O4$:()=>O,Ojb:()=>D_,OlP:()=>ho,Oqu:()=>xg,P3R:()=>Jh,PXZ:()=>XC,Q6J:()=>ag,QGY:()=>Sh,QbO:()=>Iy,Qsj:()=>mf,R0b:()=>ja,RDi:()=>r_,Rgc:()=>Fg,SBq:()=>ud,Sil:()=>UC,Suo:()=>Iw,TTD:()=>$s,TgZ:()=>Dh,Udp:()=>Bc,VKq:()=>ow,W1O:()=>kw,WFA:()=>Ed,WLB:()=>sw,X6Q:()=>sD,XFs:()=>at,Xpm:()=>Wr,Xts:()=>id,Y36:()=>kc,YKP:()=>Y0,YNc:()=>Fc,Yjl:()=>fs,Yz7:()=>Ht,Z0I:()=>yn,ZZ4:()=>d0,_Bn:()=>Z0,_UZ:()=>zf,_Vd:()=>cd,_c5:()=>xD,_uU:()=>Rv,aQg:()=>u0,c2e:()=>Yw,cJS:()=>un,cg1:()=>Jf,d8E:()=>Su,dDg:()=>ZC,dqk:()=>Mt,eBb:()=>Ec,eFA:()=>dx,eJc:()=>Wb,ekj:()=>kh,eoX:()=>sx,f3M:()=>jt,g9A:()=>qd,h0i:()=>em,hGG:()=>ED,hij:()=>Yf,iGM:()=>Cw,ifc:()=>Et,ip1:()=>Zw,jDz:()=>X0,kL8:()=>Zv,kcU:()=>F,lG2:()=>Vo,lqb:()=>Tc,lri:()=>rx,mCW:()=>Zu,n5z:()=>Wc,n_E:()=>Xv,oAB:()=>Uo,oxw:()=>Wf,pB0:()=>c_,q3G:()=>Lo,q4F:()=>ep,qFp:()=>PD,qLn:()=>nu,qOj:()=>Up,qZA:()=>Rl,qzn:()=>td,rWj:()=>ox,rg0:()=>oa,s9C:()=>hg,sBO:()=>aD,s_b:()=>ey,soG:()=>ny,tb:()=>r0,tp0:()=>Us,uIk:()=>qp,vHH:()=>ue,vpe:()=>jc,wAp:()=>Ri,xi3:()=>fw,xp6:()=>U_,ynx:()=>wd,z2F:()=>im,z3N:()=>Zl,zSh:()=>Ql,zs3:()=>Ac});var d=E(7579),L=E(727),g=E(1135),ne=E(9751),xe=E(6451),ae=E(9646),Z=E(3099),_e=E(3900),Ee=E(1884);function se(n){for(let i in n)if(n[i]===se)return i;throw Error("Could not find renamed property on target object.")}function de(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Je(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Ne=se({__forward_ref__:se});function ut(n){return n.__forward_ref__=ut,n.toString=function(){return fe(this())},n}function rt(n){return Le(n)?n():n}function Le(n){return"function"==typeof n&&n.hasOwnProperty(Ne)&&n.__forward_ref__===ut}function He(n){return n&&!!n.\u0275providers}const bt="https://g.co/ng/security#xss";class ue extends Error{constructor(i,s){super(function De(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function be(n){return"string"==typeof n?n:null==n?"":String(n)}function Fe(n,i){throw new ue(-201,!1)}function At(n,i){null==n&&function Ke(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function un(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jt(n){return Gn(n,Ut)||Gn(n,Ve)}function yn(n){return null!==Jt(n)}function Gn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Hn(n){return n&&(n.hasOwnProperty(ce)||n.hasOwnProperty(mt))?n[ce]:null}const Ut=se({\u0275prov:se}),ce=se({\u0275inj:se}),Ve=se({ngInjectableDef:se}),mt=se({ngInjectorDef:se});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let We;function Ae(n){const i=We;return We=n,i}function Vt(n,i,s){const l=Jt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&at.Optional?null:void 0!==i?i:void Fe(fe(n))}const Mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gt={},$t="__NG_DI_FLAG__",In="ngTempTokenPath",Si=/\n/gm,Yt="__source";let et;function Be(n){const i=et;return et=n,i}function Oe(n,i=at.Default){if(void 0===et)throw new ue(-203,!1);return null===et?Vt(n,void 0,i):et.get(n,i&at.Optional?null:void 0,i)}function Ie(n,i=at.Default){return(function Qe(){return We}()||Oe)(rt(n),i)}function jt(n,i=at.Default){return Ie(n,Te(i))}function Te(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function oe(n){const i=[];for(let s=0;s<n.length;s++){const l=rt(n[s]);if(Array.isArray(l)){if(0===l.length)throw new ue(900,!1);let c,h=at.Default;for(let b=0;b<l.length;b++){const S=l[b],P=U(S);"number"==typeof P?-1===P?c=S.token:h|=P:c=S}i.push(Ie(c,h))}else i.push(Ie(l))}return i}function H(n,i){return n[$t]=i,n.prototype[$t]=i,n}function U(n){return n[$t]}function re(n){return{toString:n}.toString()}var ve=(()=>((ve=ve||{})[ve.OnPush=0]="OnPush",ve[ve.Default=1]="Default",ve))(),Et=(()=>{return(n=Et||(Et={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Et;var n})();const wt={},Ot=[],en=se({\u0275cmp:se}),Xn=se({\u0275dir:se}),Mn=se({\u0275pipe:se}),Ci=se({\u0275mod:se}),bi=se({\u0275fac:se}),Bt=se({__NG_ELEMENT_ID__:se}),It=se({__NG_ENV_ID__:se});function bn(n,i,s){let l=n.length;for(;;){const c=n.indexOf(i,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||n.charCodeAt(c+h)<=32)return c}s=c+1}}function Zn(n,i,s){let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const h=s[l++],b=s[l++],S=s[l++];n.setAttribute(i,b,S,h)}else{const h=c,b=s[++l];Ln(h)?n.setProperty(i,h,b):n.setAttribute(i,h,b),l++}}return l}function On(n){return 3===n||4===n||6===n}function Ln(n){return 64===n.charCodeAt(0)}function ai(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||Wi(n,s,c,null,-1===s||2===s?i[++l]:null)}}return n}function Wi(n,i,s,l,c){let h=0,b=n.length;if(-1===i)b=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){b=-1;break}if(S>i){b=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===s){if(null===l)return void(null!==c&&(n[h+1]=c));if(l===n[h+1])return void(n[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==b&&(n.splice(b,0,i),h=b+1),n.splice(h++,0,s),null!==l&&n.splice(h++,0,l),null!==c&&n.splice(h++,0,c)}const gi="ng-template";function vr(n,i,s){let l=0,c=!0;for(;l<n.length;){let h=n[l++];if("string"==typeof h&&c){const b=n[l++];if(s&&"class"===h&&-1!==bn(b.toLowerCase(),i,0))return!0}else{if(1===h){for(;l<n.length&&"string"==typeof(h=n[l++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function tr(n){return 4===n.type&&n.value!==gi}function vo(n,i,s){return i===(4!==n.type||s?n.value:gi)}function us(n,i,s){let l=4;const c=n.attrs||[],h=function yo(n){for(let i=0;i<n.length;i++)if(On(n[i]))return i;return n.length}(c);let b=!1;for(let S=0;S<i.length;S++){const P=i[S];if("number"!=typeof P){if(!b)if(4&l){if(l=2|1&l,""!==P&&!vo(n,P,s)||""===P&&1===i.length){if(yr(l))return!1;b=!0}}else{const q=8&l?P:i[++S];if(8&l&&null!==n.attrs){if(!vr(n.attrs,q,s)){if(yr(l))return!1;b=!0}continue}const Ue=oo(8&l?"class":P,c,tr(n),s);if(-1===Ue){if(yr(l))return!1;b=!0;continue}if(""!==q){let Dt;Dt=Ue>h?"":c[Ue+1].toLowerCase();const zt=8&l?Dt:null;if(zt&&-1!==bn(zt,q,0)||2&l&&q!==Dt){if(yr(l))return!1;b=!0}}}}else{if(!b&&!yr(l)&&!yr(P))return!1;if(b&&yr(P))continue;b=!1,l=P|1&l}}return yr(l)||b}function yr(n){return 0==(1&n)}function oo(n,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let h=!1;for(;c<i.length;){const b=i[c];if(b===n)return c;if(3===b||6===b)h=!0;else{if(1===b||2===b){let S=i[++c];for(;"string"==typeof S;)S=i[++c];continue}if(4===b)break;if(0===b){c+=4;continue}}c+=h?1:2}return-1}return function Ui(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function fr(n,i,s=!1){for(let l=0;l<i.length;l++)if(us(n,i[l],s))return!0;return!1}function es(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function fo(n,i){return n?":not("+i.trim()+")":i}function so(n){let i=n[0],s=1,l=2,c="",h=!1;for(;s<n.length;){let b=n[s];if("string"==typeof b)if(2&l){const S=n[++s];c+="["+b+(S.length>0?'="'+S+'"':"")+"]"}else 8&l?c+="."+b:4&l&&(c+=" "+b);else""!==c&&!yr(b)&&(i+=fo(h,c),c=""),l=b,h=h||!yr(l);s++}return""!==c&&(i+=fo(h,c)),i}function Wr(n){return re(()=>{const i=Do(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ve.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Et.Emulated,styles:n.styles||Ot,_:null,schemas:n.schemas||null,tView:null,id:""};_t(s);const l=n.dependencies;return s.directiveDefs=ct(l,!1),s.pipeDefs=ct(l,!0),s.id=function rn(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of s)i=Math.imul(31,i)+c.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function Ts(n){return si(n)||qi(n)}function hs(n){return null!==n}function Uo(n){return re(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mr(n,i){if(null==n)return wt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=l,i&&(i[c]=h)}return s}function Vo(n){return re(()=>{const i=Do(n);return _t(i),i})}function fs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function si(n){return n[en]||null}function qi(n){return n[Xn]||null}function Di(n){return n[Mn]||null}function zr(n){const i=si(n)||qi(n)||Di(n);return null!==i&&i.standalone}function Kr(n,i){const s=n[Ci]||null;if(!s&&!0===i)throw new Error(`Type ${fe(n)} does not have '\u0275mod' property.`);return s}function Do(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mr(n.inputs,i),outputs:mr(n.outputs)}}function _t(n){n.features?.forEach(i=>i(n))}function ct(n,i){if(!n)return null;const s=i?Di:Ts;return()=>("function"==typeof n?n():n).map(l=>s(l)).filter(hs)}const cn=0,nn=1,Rn=2,ii=3,ui=4,kr=5,or=6,Qi=7,$i=8,Zr=9,Io=10,ri=11,Yo=12,pr=13,Yr=14,dr=15,qo=16,Ms=17,ts=18,ms=19,Fs=20,sr=21,ar=22,ps=23,So=24,Ti=25,bo=1,Po=2,mo=7,jo=8,As=9,Br=11;function Ki(n){return Array.isArray(n)&&"object"==typeof n[bo]}function Mr(n){return Array.isArray(n)&&!0===n[bo]}function po(n){return 0!=(4&n.flags)}function ur(n){return n.componentOffset>-1}function Fo(n){return 1==(1&n.flags)}function Gi(n){return!!n.template}function go(n){return 0!=(512&n[Rn])}function dt(n,i){return n.hasOwnProperty(bi)?n[bi]:null}let Pi=Mt.WeakRef??class wi{constructor(i){this.ref=i}deref(){return this.ref}},xr=0,Ni=null,Er=!1;function xi(n){const i=Ni;return Ni=n,i}class No{constructor(){this.id=xr++,this.ref=function wr(n){return new Pi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const l=s.producerNode.deref();if(void 0!==l&&s.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Er;Er=!0;try{for(const[s,l]of this.consumers){const c=l.consumerNode.deref();void 0!==c&&c.trackingVersion===l.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),c?.producers.delete(this.id))}}finally{Er=i}}producerAccessed(){if(Er)throw new Error("");if(null===Ni)return;let i=Ni.producers.get(this.id);void 0===i?(i={consumerNode:Ni.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ni.trackingVersion},Ni.producers.set(this.id,i),this.consumers.set(Ni.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Ni.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ni?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let ys=null;function oa(n){const i=xi(null);try{return n()}finally{xi(i)}}const sa=()=>{};class ma extends No{constructor(i,s,l){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=sa,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=xi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=sa,this.watch(this.registerOnCleanup)}finally{xi(i)}}cleanup(){this.cleanupFn()}}class pa{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function $s(){return aa}function aa(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ns),ao}function ao(){const n=Oa(this),i=n?.current;if(i){const s=n.previous;if(s===wt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function Ns(n,i,s,l){const c=this.declaredInputs[s],h=Oa(n)||function Ca(n,i){return n[qs]=i}(n,{previous:wt,current:null}),b=h.current||(h.current={}),S=h.previous,P=S[c];b[c]=new pa(P&&P.currentValue,i,S===wt),n[l]=i}$s.ngInherit=!0;const qs="__ngSimpleChanges__";function Oa(n){return n[qs]||null}const zo=function(n,i,s){},Da="svg";function Xi(n){for(;Array.isArray(n);)n=n[cn];return n}function Gs(n,i){return Xi(i[n])}function Ai(n,i){return Xi(i[n.index])}function R(n,i){return n.data[i]}function Q(n,i){return n[i]}function B(n,i){const s=i[n];return Ki(s)?s:s[cn]}function qe(n){return 128==(128&n[Rn])}function fn(n,i){return null==i?null:n[i]}function Kn(n){n[Ms]=0}function ji(n){1024&n[Rn]||(n[Rn]|=1024,Ei(n,1))}function Mi(n){1024&n[Rn]&&(n[Rn]&=-1025,Ei(n,-1))}function Ei(n,i){let s=n[ii];if(null===s)return;s[kr]+=i;let l=s;for(s=s[ii];null!==s&&(1===i&&1===l[kr]||-1===i&&0===l[kr]);)s[kr]+=i,l=s,s=s[ii]}const Un={lFrame:Gr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xs(){return Un.bindingsEnabled}function ss(){return null!==Un.skipHydrationRootTNode}function wn(){return Un.lFrame.lView}function ir(){return Un.lFrame.tView}function lo(n){return Un.lFrame.contextLView=n,n[$i]}function as(n){return Un.lFrame.contextLView=null,n}function Jr(){let n=Ra();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ra(){return Un.lFrame.currentTNode}function Cn(n,i){const s=Un.lFrame;s.currentTNode=n,s.isParent=i}function Dr(){return Un.lFrame.isParent}function Cs(){Un.lFrame.isParent=!1}function V(){const n=Un.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function C(){return Un.lFrame.bindingIndex++}function lt(n,i){const s=Un.lFrame;s.bindingIndex=s.bindingRootIndex=n,on(i)}function on(n){Un.lFrame.currentDirectiveIndex=n}function Vn(n){const i=Un.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function qn(){return Un.lFrame.currentQueryIndex}function Hi(n){Un.lFrame.currentQueryIndex=n}function ki(n){const i=n[nn];return 2===i.type?i.declTNode:1===i.type?n[or]:null}function fi(n,i,s){if(s&at.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||s&at.Host||(c=ki(h),null===c||(h=h[Yr],10&c.type))););if(null===c)return!1;i=c,n=h}const l=Un.lFrame=ei();return l.currentTNode=i,l.lView=n,!0}function pi(n){const i=ei(),s=n[nn];Un.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function ei(){const n=Un.lFrame,i=null===n?null:n.child;return null===i?Gr(n):i}function Gr(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Mo(){const n=Un.lFrame;return Un.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Zi=Mo;function Wn(){const n=Mo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Nr(){return Un.lFrame.selectedIndex}function rr(n){Un.lFrame.selectedIndex=n}function w(){const n=Un.lFrame;return R(n.tView,n.selectedIndex)}function O(){Un.lFrame.currentNamespace=Da}function F(){!function ee(){Un.lFrame.currentNamespace=null}()}let Se=!0;function tt(){return Se}function Zt(n){Se=n}function Sn(n,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:q,ngOnDestroy:pe}=h;b&&(n.contentHooks??=[]).push(-s,b),S&&((n.contentHooks??=[]).push(s,S),(n.contentCheckHooks??=[]).push(s,S)),P&&(n.viewHooks??=[]).push(-s,P),q&&((n.viewHooks??=[]).push(s,q),(n.viewCheckHooks??=[]).push(s,q)),null!=pe&&(n.destroyHooks??=[]).push(s,pe)}}function vi(n,i,s){_o(n,i,3,s)}function Lr(n,i,s,l){(3&n[Rn])===s&&_o(n,i,s,l)}function Go(n,i){let s=n[Rn];(3&s)===i&&(s&=4095,s+=1,n[Rn]=s)}function _o(n,i,s,l){const h=l??-1,b=i.length-1;let S=0;for(let P=void 0!==l?65535&n[Ms]:0;P<b;P++)if("number"==typeof i[P+1]){if(S=i[P],null!=l&&S>=l)break}else i[P]<0&&(n[Ms]+=65536),(S<h||-1==h)&&(Wt(n,s,i,P),n[Ms]=(4294901760&n[Ms])+P+2),P++}function gr(n,i){zo(4,n,i);const s=xi(null);try{i.call(n)}finally{xi(s),zo(5,n,i)}}function Wt(n,i,s,l){const c=s[l]<0,h=s[l+1],S=n[c?-s[l]:s[l]];c?n[Rn]>>12<n[Ms]>>16&&(3&n[Rn])===i&&(n[Rn]+=4096,gr(S,h)):gr(S,h)}const Ds=-1;class Ir{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Ta(n){return n!==Ds}function Is(n){return 32767&n}function Pa(n,i){let s=function Ws(n){return n>>16}(n),l=i;for(;s>0;)l=l[Yr],s--;return l}let Ll=!0;function Ao(n){const i=Ll;return Ll=n,i}const lc=255,ls=5;let bl=0;const la={};function dc(n,i){const s=hc(n,i);if(-1!==s)return s;const l=i[nn];l.firstCreatePass&&(n.injectorIndex=i.length,uc(l.data,n),uc(i,null),uc(l.blueprint,null));const c=Hc(n,i),h=n.injectorIndex;if(Ta(c)){const b=Is(c),S=Pa(c,i),P=S[nn].data;for(let q=0;q<8;q++)i[h+q]=S[b+q]|P[b+q]}return i[h+8]=c,h}function uc(n,i){n.push(0,0,0,0,0,0,0,0,i)}function hc(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Hc(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){if(l=xs(c),null===l)return Ds;if(s++,c=c[Yr],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return Ds}function Fa(n,i,s){!function cc(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Bt)&&(l=s[Bt]),null==l&&(l=s[Bt]=bl++);const c=l&lc;i.data[n+(c>>ls)]|=1<<c}(n,i,s)}function Ou(n,i,s){if(s&at.Optional||void 0!==n)return n;Fe()}function wl(n,i,s,l){if(s&at.Optional&&void 0===l&&(l=null),!(s&(at.Self|at.Host))){const c=n[Zr],h=Ae(void 0);try{return c?c.get(i,l,s&at.Optional):Vt(i,l,s&at.Optional)}finally{Ae(h)}}return Ou(l,0,s)}function zc(n,i,s,l=at.Default,c){if(null!==n){if(2048&i[Rn]&&!(l&at.Self)){const b=function Kc(n,i,s,l,c){let h=n,b=i;for(;null!==h&&null!==b&&2048&b[Rn]&&!(512&b[Rn]);){const S=$c(h,b,s,l|at.Self,la);if(S!==la)return S;let P=h.parent;if(!P){const q=b[Fs];if(q){const pe=q.get(s,la,l);if(pe!==la)return pe}P=xs(b),b=b[Yr]}h=P}return c}(n,i,s,l,la);if(b!==la)return b}const h=$c(n,i,s,l,la);if(h!==la)return h}return wl(i,s,l,c)}function $c(n,i,s,l,c){const h=function Ru(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Bt)?n[Bt]:void 0;return"number"==typeof i?i>=0?i&lc:Od:i}(s);if("function"==typeof h){if(!fi(i,n,l))return l&at.Host?Ou(c,0,l):wl(i,s,l,c);try{const b=h(l);if(null!=b||l&at.Optional)return b;Fe()}finally{Zi()}}else if("number"==typeof h){let b=null,S=hc(n,i),P=Ds,q=l&at.Host?i[dr][or]:null;for((-1===S||l&at.SkipSelf)&&(P=-1===S?Hc(n,i):i[S+8],P!==Ds&&mc(l,!1)?(b=i[nn],S=Is(P),i=Pa(P,i)):S=-1);-1!==S;){const pe=i[nn];if(Gc(h,S,pe.data)){const Ue=Bh(S,i,s,b,l,q);if(Ue!==la)return Ue}P=i[S+8],P!==Ds&&mc(l,i[nn].data[S+8]===q)&&Gc(h,S,i)?(b=pe,S=Is(P),i=Pa(P,i)):S=-1}}return c}function Bh(n,i,s,l,c,h){const b=i[nn],S=b.data[n+8],pe=fc(S,b,s,null==l?ur(S)&&Ll:l!=b&&0!=(3&S.type),c&at.Host&&h===S);return null!==pe?za(i,b,pe,S):la}function fc(n,i,s,l,c){const h=n.providerIndexes,b=i.data,S=1048575&h,P=n.directiveStart,pe=h>>20,Dt=c?S+pe:n.directiveEnd;for(let zt=l?S:S+pe;zt<Dt;zt++){const xn=b[zt];if(zt<P&&s===xn||zt>=P&&xn.type===s)return zt}if(c){const zt=b[P];if(zt&&Gi(zt)&&zt.type===s)return P}return null}function za(n,i,s,l){let c=n[s];const h=i.data;if(function va(n){return n instanceof Ir}(c)){const b=c;b.resolving&&function $e(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ue(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():be(n)}(h[s]));const S=Ao(b.canSeeViewProviders);b.resolving=!0;const P=b.injectImpl?Ae(b.injectImpl):null;fi(n,l,at.Default);try{c=n[s]=b.factory(void 0,h,n,l),i.firstCreatePass&&s>=l.directiveStart&&function Dn(n,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const b=aa(i);(s.preOrderHooks??=[]).push(n,b),(s.preOrderCheckHooks??=[]).push(n,b)}c&&(s.preOrderHooks??=[]).push(0-n,c),h&&((s.preOrderHooks??=[]).push(n,h),(s.preOrderCheckHooks??=[]).push(n,h))}(s,h[s],i)}finally{null!==P&&Ae(P),Ao(S),b.resolving=!1,Zi()}}return c}function Gc(n,i,s){return!!(s[i+(n>>ls)]&1<<n)}function mc(n,i){return!(n&at.Self||n&at.Host&&i)}class $a{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return zc(this._tNode,this._lView,i,Te(l),s)}}function Od(){return new $a(Jr(),wn())}function Wc(n){return re(()=>{const i=n.prototype.constructor,s=i[bi]||Bl(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const h=c[bi]||Bl(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Bl(n){return Le(n)?()=>{const i=Bl(rt(n));return i&&i()}:dt(n)}function xs(n){const i=n[nn],s=i.type;return 2===s?i.declTNode:1===s?n[or]:null}function Ul(n){return function Lh(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const h=s[c];if(On(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(Jr(),n)}const Na="__parameters__";function Tr(n,i,s){return re(()=>{const l=function cs(n){return function(...s){if(n){const l=n(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const b=new c(...h);return S.annotation=b,S;function S(P,q,pe){const Ue=P.hasOwnProperty(Na)?P[Na]:Object.defineProperty(P,Na,{value:[]})[Na];for(;Ue.length<=pe;)Ue.push(null);return(Ue[pe]=Ue[pe]||[]).push(b),P}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function Ka(n,i){n.forEach(s=>Array.isArray(s)?Ka(s,i):i(s))}function Bs(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function ta(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Za(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function T(n,i,s){let l=te(n,i);return l>=0?n[1|l]=s:(l=~l,function Dl(n,i,s,l){let c=n.length;if(c==i)n.push(s,l);else if(1===c)n.push(l,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function N(n,i){const s=te(n,i);if(s>=0)return n[1|s]}function te(n,i){return function pt(n,i,s){let l=0,c=n.length>>s;for(;c!==l;){const h=l+(c-l>>1),b=n[h<<s];if(i===b)return h<<s;b>i?c=h:l=h+1}return~(c<<s)}(n,i,1)}const Ya=H(Tr("Optional"),8),Us=H(Tr("SkipSelf"),4);function Hl(n){return 128==(128&n.flags)}var Aa=(()=>((Aa=Aa||{})[Aa.Important=1]="Important",Aa[Aa.DashCase=2]="DashCase",Aa))();const Lg=/^>|^->|<!--|-->|--!>|<!-$/g,Bg=/(<|>)/,ay="\u200b$1\u200b";const am=new Map;let ka=0;const Ji="__ngContext__";function ua(n,i){Ki(i)?(n[Ji]=i[ms],function Bu(n){am.set(n[ms],n)}(i)):n[Ji]=i}let zl;function zh(n,i){return zl(n,i)}function jd(n){const i=n[ii];return Mr(i)?i[ii]:i}function hm(n){return Xo(n[Yo])}function fm(n){return Xo(n[ui])}function Xo(n){for(;null!==n&&!Mr(n);)n=n[ui];return n}function $l(n,i,s,l,c){if(null!=l){let h,b=!1;Mr(l)?h=l:Ki(l)&&(b=!0,l=l[cn]);const S=Xi(l);0===n&&null!==s?null==c?Vr(i,s,S):Wo(i,s,S,c||null,!0):1===n&&null!==s?Wo(i,s,S,c||null,!0):2===n?function $u(n,i,s){const l=Jc(n,i);l&&function Qg(n,i,s,l){n.removeChild(i,s,l)}(n,l,i,s)}(i,S,b):3===n&&i.destroyNode(S),null!=h&&function dy(n,i,s,l,c){const h=s[mo];h!==Xi(s)&&$l(i,n,l,h,c);for(let S=Br;S<s.length;S++){const P=s[S];$d(P[nn],P,n,i,l,h)}}(i,n,h,s,c)}}function pm(n,i){return n.createComment(function Tl(n){return n.replace(Lg,i=>i.replace(Bg,ay))}(i))}function bc(n,i,s){return n.createElement(i,s)}function gm(n,i){const s=n[As],l=s.indexOf(i);Mi(i),s.splice(l,1)}function wc(n,i){if(n.length<=Br)return;const s=Br+i,l=n[s];if(l){const c=l[qo];null!==c&&c!==n&&gm(c,l),i>0&&(n[s-1][ui]=l[ui]);const h=ta(n,Br+i);!function cy(n,i){$d(n,i,i[ri],2,null,null),i[cn]=null,i[or]=null}(l[nn],l);const b=h[ts];null!==b&&b.detachView(h[nn]),l[ii]=null,l[ui]=null,l[Rn]&=-129}return l}function $h(n,i){if(!(256&i[Rn])){const s=i[ri];i[ps]?.destroy(),i[So]?.destroy(),s.destroyNode&&$d(n,i,s,3,null,null),function Gl(n){let i=n[Yo];if(!i)return ju(n[nn],n);for(;i;){let s=null;if(Ki(i))s=i[Yo];else{const l=i[Br];l&&(s=l)}if(!s){for(;i&&!i[ui]&&i!==n;)Ki(i)&&ju(i[nn],i),i=i[ii];null===i&&(i=n),Ki(i)&&ju(i[nn],i),s=i&&i[ui]}i=s}}(i)}}function ju(n,i){if(!(256&i[Rn])){i[Rn]&=-129,i[Rn]|=256,function vm(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof Ir)){const h=s[l+1];if(Array.isArray(h))for(let b=0;b<h.length;b+=2){const S=c[h[b]],P=h[b+1];zo(4,S,P);try{P.call(S)}finally{zo(5,S,P)}}else{zo(4,c,h);try{h.call(c)}finally{zo(5,c,h)}}}}}(n,i),function _m(n,i){const s=n.cleanup,l=i[Qi];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const b=s[h+3];b>=0?l[b]():l[-b].unsubscribe(),h+=2}else s[h].call(l[s[h+1]]);null!==l&&(i[Qi]=null);const c=i[sr];if(null!==c){i[sr]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(n,i),1===i[nn].type&&i[ri].destroy();const s=i[qo];if(null!==s&&Mr(i[ii])){s!==i[ii]&&gm(s,i);const l=i[ts];null!==l&&l.detachView(n)}!function Ml(n){am.delete(n[ms])}(i)}}function ym(n,i,s){return function qg(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[cn];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:h}=n.data[l.directiveStart+c];if(h===Et.None||h===Et.Emulated)return null}return Ai(l,s)}}(n,i.parent,s)}function Wo(n,i,s,l,c){n.insertBefore(i,s,l,c)}function Vr(n,i,s){n.appendChild(i,s)}function bm(n,i,s,l,c){null!==l?Wo(n,i,s,l,c):Vr(n,i,s)}function Jc(n,i){return n.parentNode(i)}function e_(n,i,s){return xm(n,i,s)}let Hu,Gu,Wu,Ku,xm=function wm(n,i,s){return 40&n.type?Ai(n,s):null};function xc(n,i,s,l){const c=ym(n,l,i),h=i[ri],S=e_(l.parent||i[or],l,i);if(null!=c)if(Array.isArray(s))for(let P=0;P<s.length;P++)bm(h,c,s[P],S,!1);else bm(h,c,s,S,!1);void 0!==Hu&&Hu(h,l,i,s,c)}function Wl(n,i){if(null!==i){const s=i.type;if(3&s)return Ai(i,n);if(4&s)return Gh(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return Wl(n,l);{const c=n[i.index];return Mr(c)?Gh(-1,c):Xi(c)}}if(32&s)return zh(i,n)()||Xi(n[i.index]);{const l=zu(n,i);return null!==l?Array.isArray(l)?l[0]:Wl(jd(n[dr]),l):Wl(n,i.next)}}return null}function zu(n,i){return null!==i?n[dr][or].projection[i.projection]:null}function Gh(n,i){const s=Br+n+1;if(s<i.length){const l=i[s],c=l[nn].firstChild;if(null!==c)return Wl(l,c)}return i[mo]}function Cm(n,i,s,l,c,h,b){for(;null!=s;){const S=l[s.index],P=s.type;if(b&&0===i&&(S&&ua(Xi(S),l),s.flags|=2),32!=(32&s.flags))if(8&P)Cm(n,i,s.child,l,c,h,!1),$l(i,n,c,S,h);else if(32&P){const q=zh(s,l);let pe;for(;pe=q();)$l(i,n,c,pe,h);$l(i,n,c,S,h)}else 16&P?n_(n,i,l,s,c,h):$l(i,n,c,S,h);s=b?s.projectionNext:s.next}}function $d(n,i,s,l,c,h){Cm(s,l,n.firstChild,i,c,h,!1)}function n_(n,i,s,l,c,h){const b=s[dr],P=b[or].projection[l.projection];if(Array.isArray(P))for(let q=0;q<P.length;q++)$l(i,n,c,P[q],h);else{let q=P;const pe=b[ii];Hl(l)&&(q.flags|=128),Cm(n,i,q,pe,c,h,!0)}}function Wh(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function ed(n,i,s){const{mergedAttrs:l,classes:c,styles:h}=s;null!==l&&Zn(n,i,l),null!==c&&Wh(n,i,c),null!==h&&function hy(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function Ko(n){return function Dm(){if(void 0===Gu&&(Gu=null,Mt.trustedTypes))try{Gu=Mt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gu}()?.createHTML(n)||n}function r_(n){Wu=n}function s_(n){return function Zh(){if(void 0===Ku&&(Ku=null,Mt.trustedTypes))try{Ku=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ku}()?.createScriptURL(n)||n}class ll{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bt})`}}class Tm extends ll{getTypeName(){return"HTML"}}class fy extends ll{getTypeName(){return"Style"}}class a_ extends ll{getTypeName(){return"Script"}}class Mm extends ll{getTypeName(){return"URL"}}class l_ extends ll{getTypeName(){return"ResourceURL"}}function Zl(n){return n instanceof ll?n.changingThisBreaksApplicationSecurity:n}function td(n,i){const s=function my(n){return n instanceof ll&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${bt})`)}return s===i}function py(n){return new Tm(n)}function gy(n){return new fy(n)}function Ec(n){return new a_(n)}function Gd(n){return new Mm(n)}function c_(n){return new l_(n)}class u_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Ko(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Yl{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Ko(i),s}}const _y=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zu(n){return(n=String(n)).match(_y)?n:"unsafe:"+n}function Qa(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function cl(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const Cc=Qa("area,br,col,hr,img,wbr"),Dc=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wd=Qa("rp,rt"),Yh=cl(Cc,cl(Dc,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl(Wd,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cl(Wd,Dc)),qh=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Am=cl(qh,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=Qa("script,style,template");class Yu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Yh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let c=0;c<l.length;c++){const h=l.item(c),b=h.name,S=b.toLowerCase();if(!Am.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let P=h.value;qh[S]&&(P=Zu(P)),this.buf.push(" ",b,'="',km(P),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Yh.hasOwnProperty(s)&&!Cc.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(km(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const nd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,by=/([^\#-~ |!])/g;function km(n){return n.replace(/&/g,"&amp;").replace(nd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(by,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xh;function p_(n,i){let s=null;try{Xh=Xh||function d_(n){const i=new Yl(n);return function h_(){try{return!!(new window.DOMParser).parseFromString(Ko(""),"text/html")}catch{return!1}}()?new u_(i):i}(n);let l=i?String(i):"";s=Xh.getInertBodyElement(l);let c=5,h=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=h,h=s.innerHTML,s=Xh.getInertBodyElement(l)}while(l!==h);return Ko((new Yu).sanitizeChildren(Om(s)||s))}finally{if(s){const l=Om(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Om(n){return"content"in n&&function qu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Lo=(()=>((Lo=Lo||{})[Lo.NONE=0]="NONE",Lo[Lo.HTML=1]="HTML",Lo[Lo.STYLE=2]="STYLE",Lo[Lo.SCRIPT=3]="SCRIPT",Lo[Lo.URL=4]="URL",Lo[Lo.RESOURCE_URL=5]="RESOURCE_URL",Lo))();function Rm(n){const i=Sc();return i?i.sanitize(Lo.URL,n)||"":td(n,"URL")?Zl(n):Zu(be(n))}function Pm(n){const i=Sc();if(i)return s_(i.sanitize(Lo.RESOURCE_URL,n)||"");if(td(n,"ResourceURL"))return s_(Zl(n));throw new ue(904,!1)}function Jh(n,i,s){return function __(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pm:Rm}(i,s)(n)}function Sc(){const n=wn();return n&&n[Io].sanitizer}class ho{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ht({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const id=new ho("ENVIRONMENT_INITIALIZER"),Qu=new ho("INJECTOR",-1),y_=new ho("INJECTOR_DEF_TYPES");class Lm{get(i,s=gt){if(s===gt){const l=new Error(`NullInjectorError: No provider for ${fe(i)}!`);throw l.name="NullInjectorError",l}return s}}function rd(n){return{\u0275providers:n}}function ef(...n){return{\u0275providers:Kd(0,n),\u0275fromNgModule:!0}}function Kd(n,...i){const s=[],l=new Set;let c;return Ka(i,h=>{const b=h;tf(b,s,[],l)&&(c||=[],c.push(b))}),void 0!==c&&Bm(c,s),s}function Bm(n,i){for(let s=0;s<n.length;s++){const{providers:c}=n[s];nf(c,h=>{i.push(h)})}}function tf(n,i,s,l){if(!(n=rt(n)))return!1;let c=null,h=Hn(n);const b=!h&&si(n);if(h||b){if(b&&!b.standalone)return!1;c=n}else{const P=n.ngModule;if(h=Hn(P),!h)return!1;c=P}const S=l.has(c);if(b){if(S)return!1;if(l.add(c),b.dependencies){const P="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const q of P)tf(q,i,s,l)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let q;l.add(c);try{Ka(h.imports,pe=>{tf(pe,i,s,l)&&(q||=[],q.push(pe))})}finally{}void 0!==q&&Bm(q,i)}if(!S){const q=dt(c)||(()=>new c);i.push({provide:c,useFactory:q,deps:Ot},{provide:y_,useValue:c,multi:!0},{provide:id,useValue:()=>Ie(c),multi:!0})}const P=h.providers;null==P||S||nf(P,pe=>{i.push(pe)})}}return c!==n&&void 0!==n.providers}function nf(n,i){for(let s of n)He(s)&&(s=s.\u0275providers),Array.isArray(s)?nf(s,i):i(s)}const rf=se({provide:String,useValue:se});function Zd(n){return null!==n&&"object"==typeof n&&rf in n}function Xa(n){return"function"==typeof n}const Ql=new ho("Set Injector scope."),sf={},Yd={};let af;function dl(){return void 0===af&&(af=new Lm),af}class Tc{}class Vm extends Tc{get destroyed(){return this._destroyed}constructor(i,s,l,c){super(),this.parent=s,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jm(i,b=>this.processProvider(b)),this.records.set(Qu,Xl(void 0,this)),c.has("environment")&&this.records.set(Tc,Xl(void 0,this));const h=this.records.get(Ql);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(y_.multi,Ot,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Be(this),l=Ae(void 0);try{return i()}finally{Be(s),Ae(l)}}get(i,s=gt,l=at.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(It))return i[It](this);l=Te(l);const c=Be(this),h=Ae(void 0);try{if(!(l&at.SkipSelf)){let S=this.records.get(i);if(void 0===S){const P=function C_(n){return"function"==typeof n||"object"==typeof n&&n instanceof ho}(i)&&Jt(i);S=P&&this.injectableDefInScope(P)?Xl(lf(i),sf):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(l&at.Self?dl():this.parent).get(i,s=l&at.Optional&&s===gt?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[In]=b[In]||[]).unshift(fe(i)),c)throw b;return function $(n,i,s,l){const c=n[In];throw i[Yt]&&c.unshift(i[Yt]),n.message=function le(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=fe(i);if(Array.isArray(i))c=i.map(fe).join(" -> ");else if("object"==typeof i){let h=[];for(let b in i)if(i.hasOwnProperty(b)){let S=i[b];h.push(b+":"+("string"==typeof S?JSON.stringify(S):fe(S)))}c=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${n.replace(Si,"\n  ")}`}("\n"+n.message,c,s,l),n.ngTokenPath=c,n[In]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{Ae(h),Be(c)}}resolveInjectorInitializers(){const i=Be(this),s=Ae(void 0);try{const l=this.get(id.multi,Ot,at.Self);for(const c of l)c()}finally{Be(i),Ae(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(fe(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(i){let s=Xa(i=rt(i))?i:rt(i&&i.provide);const l=function w_(n){return Zd(n)?Xl(void 0,n.useValue):Xl(x_(n),sf)}(i);if(Xa(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Xl(void 0,sf,!0),c.factory=()=>oe(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===sf&&(s.value=Yd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=rt(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function lf(n){const i=Jt(n),s=null!==i?i.factory:dt(n);if(null!==s)return s;if(n instanceof ho)throw new ue(204,!1);if(n instanceof Function)return function Ey(n){const i=n.length;if(i>0)throw Za(i,"?"),new ue(204,!1);const s=function ci(n){return n&&(n[Ut]||n[Ve])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ue(204,!1)}function x_(n,i,s){let l;if(Xa(n)){const c=rt(n);return dt(c)||lf(c)}if(Zd(n))l=()=>rt(n.useValue);else if(function ql(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...oe(n.deps||[]));else if(function Um(n){return!(!n||!n.useExisting)}(n))l=()=>Ie(rt(n.useExisting));else{const c=rt(n&&(n.useClass||n.provide));if(!function E_(n){return!!n.deps}(n))return dt(c)||lf(c);l=()=>new c(...oe(n.deps))}return l}function Xl(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function jm(n,i){for(const s of n)Array.isArray(s)?jm(s,i):s&&He(s)?jm(s.\u0275providers,i):i(s)}const Hm=new ho("AppId",{providedIn:"root",factory:()=>od}),od="ng",qd=new ho("Platform Initializer"),cf=new ho("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Iy=new ho("AnimationModuleType"),D_=new ho("CSP nonce",{providedIn:"root",factory:()=>function Kl(){if(void 0!==Wu)return Wu;if(typeof document<"u")return document;throw new ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uf=(n,i)=>null;function Km(n,i){return uf(n,i)}class T_{}class Qm{}class Ry{resolveComponentFactory(i){throw function M_(n){const i=Error(`No component factory found for ${fe(n)}.`);return i.ngComponent=n,i}(i)}}let cd=(()=>{class n{}return n.NULL=new Ry,n})();function O_(){return dd(Jr(),wn())}function dd(n,i){return new ud(Ai(n,i))}let ud=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=O_,n})();function ff(n){return n instanceof ud?n.nativeElement:n}class eu{}let mf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Xm(){const n=wn(),s=B(Jr().index,n);return(Ki(s)?s:n)[ri]}(),n})(),Jm=(()=>{class n{}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:()=>null}),n})();class pf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ep=new pf("16.0.5"),tp={};function tu(n){for(;n;){n[Rn]|=64;const i=jd(n);if(go(n)&&!i)return n;n=i}return null}function np(n){return n.ngOriginalError}class nu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&np(i);for(;s&&np(s);)s=np(s);return s||null}}const ip=new ho("",{providedIn:"root",factory:()=>!1});function ul(n){return n instanceof Function?n():n}class yf extends No{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){tu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,l){const c=xi(this);this.trackingVersion++;try{i(s,l)}finally{xi(c)}}destroy(){this.trackingVersion++}}let ch=null;function bf(){return ch??=new yf,ch}function wf(n,i){return n[i]??bf()}function Jl(n,i){const s=bf();s.hasReadASignal&&(n[i]=ch,s.lView=n,ch=new yf)}const Yi={};function U_(n){xf(ir(),wn(),Nr()+n,!1)}function xf(n,i,s,l){if(!l)if(3==(3&i[Rn])){const h=n.preOrderCheckHooks;null!==h&&vi(i,h,s)}else{const h=n.preOrderHooks;null!==h&&Lr(i,h,0,s)}rr(s)}function lp(n,i=null,s=null,l){const c=cp(n,i,s,l);return c.resolveInjectorInitializers(),c}function cp(n,i=null,s=null,l,c=new Set){const h=[s||Ot,ef(n)];return l=l||("object"==typeof n?void 0:fe(n)),new Vm(h,i||dl(),l||null,c)}let Ac=(()=>{class n{static create(s,l){if(Array.isArray(s))return lp({name:""},l,s,"");{const c=s.name??"";return lp({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=gt,n.NULL=new Lm,n.\u0275prov=Ht({token:n,providedIn:"any",factory:()=>Ie(Qu)}),n.__NG_ELEMENT_ID__=-1,n})();function kc(n,i=at.Default){const s=wn();return null===s?Ie(n,i):zc(Jr(),s,rt(n),i)}function H_(){throw new Error("invalid")}function Df(n,i,s,l,c,h,b,S,P,q,pe){const Ue=i.blueprint.slice();return Ue[cn]=c,Ue[Rn]=140|l,(null!==q||n&&2048&n[Rn])&&(Ue[Rn]|=2048),Kn(Ue),Ue[ii]=Ue[Yr]=n,Ue[$i]=s,Ue[Io]=b||n&&n[Io],Ue[ri]=S||n&&n[ri],Ue[Zr]=P||n&&n[Zr]||null,Ue[or]=h,Ue[ms]=function Ug(){return ka++}(),Ue[ar]=pe,Ue[Fs]=q,Ue[dr]=2==i.type?n[dr]:Ue,Ue}function Oc(n,i,s,l,c){let h=n.data[i];if(null===h)h=function up(n,i,s,l,c){const h=Ra(),b=Dr(),P=n.data[i]=function pp(n,i,s,l,c,h){let b=i?i.injectorIndex:-1,S=0;return ss()&&(S|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?h:h&&h.parent,s,i,l,c);return null===n.firstChild&&(n.firstChild=P),null!==h&&(b?null==h.child&&null!==P.parent&&(h.child=P):null===h.next&&(h.next=P,P.prev=h)),P}(n,i,s,l,c),function me(){return Un.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=l,h.attrs=c;const b=function ol(){const n=Un.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===b?-1:b.injectorIndex}return Cn(h,!0),h}function fd(n,i,s,l){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function hp(n,i,s,l,c){const h=wf(i,ps),b=Nr(),S=2&l;try{if(rr(-1),S&&i.length>Ti&&xf(n,i,Ti,!1),zo(S?2:0,c),S)h.runInContext(s,l,c);else{const q=xi(null);try{s(l,c)}finally{xi(q)}}}finally{S&&null===i[ps]&&Jl(i,ps),rr(b),zo(S?3:1,c)}}function dh(n,i,s){if(po(i)){const l=xi(null);try{const h=i.directiveEnd;for(let b=i.directiveStart;b<h;b++){const S=n.data[b];S.contentQueries&&S.contentQueries(1,s[b],b)}}finally{xi(l)}}}function uh(n,i,s){Xs()&&(function W_(n,i,s,l){const c=s.directiveStart,h=s.directiveEnd;ur(s)&&function zy(n,i,s){const l=Ai(i,n),b=au(n,Df(n,md(s),null,s.onPush?64:16,l,i,null,n[Io].rendererFactory.createRenderer(l,s),null,null,null));n[i.index]=b}(i,s,n.data[c+s.componentOffset]),n.firstCreatePass||dc(s,i),ua(l,i);const b=s.initialInputs;for(let S=c;S<h;S++){const P=n.data[S],q=za(i,n,S,s);ua(q,i),null!==b&&Dp(0,S-c,q,P,0,b),Gi(P)&&(B(s.index,i)[$i]=za(i,n,S,s))}}(n,i,s,Ai(s,i)),64==(64&s.flags)&&yp(n,i,s))}function hh(n,i,s=Ai){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const b=l[h+1],S=-1===b?s(i,n):n[b];n[c++]=S}}}function md(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=kl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function kl(n,i,s,l,c,h,b,S,P,q,pe){const Ue=Ti+l,Dt=Ue+c,zt=function fp(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:Yi);return s}(Ue,Dt),xn="function"==typeof q?q():q;return zt[nn]={type:n,blueprint:zt,template:s,queries:null,viewQuery:S,declTNode:i,data:zt.slice().fill(null,Ue),bindingStartIndex:Ue,expandoStartIndex:Dt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:P,consts:xn,incompleteFirstPass:!1,ssrId:pe}}let mp=n=>null;function If(n,i,s,l){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const h=n[c];null===l?Sf(s,i,c,h):l.hasOwnProperty(c)&&Sf(s,i,l[c],h)}return s}function Sf(n,i,s,l){n.hasOwnProperty(s)?n[s].push(i,l):n[s]=[i,l]}function Ua(n,i,s,l,c,h,b,S){const P=Ai(i,s);let pe,q=i.inputs;!S&&null!=q&&(pe=q[l])?(fh(n,s,pe,l,c),ur(i)&&function _p(n,i){const s=B(i,n);16&s[Rn]||(s[Rn]|=64)}(s,i.index)):3&i.type&&(l=function Uy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=b?b(c,i.value||"",l):c,h.setProperty(P,l,c))}function Tf(n,i,s,l){if(Xs()){const c=null===l?null:{"":-1},h=function jy(n,i){const s=n.directiveRegistry;let l=null,c=null;if(s)for(let h=0;h<s.length;h++){const b=s[h];if(fr(i,b.selectors,!1))if(l||(l=[]),Gi(b))if(null!==b.findHostDirectiveDefs){const S=[];c=c||new Map,b.findHostDirectiveDefs(b,S,c),l.unshift(...S,b),bp(n,i,S.length)}else l.unshift(b),bp(n,i,0);else c=c||new Map,b.findHostDirectiveDefs?.(b,l,c),l.push(b)}return null===l?null:[l,c]}(n,s);let b,S;null===h?b=S=null:[b,S]=h,null!==b&&z_(n,i,s,b,c,S),c&&function Hy(n,i,s){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new ue(-301,!1);l.push(i[c],h)}}}(s,l,c)}s.mergedAttrs=ai(s.mergedAttrs,s.attrs)}function z_(n,i,s,l,c,h){for(let q=0;q<l.length;q++)Fa(dc(s,i),n,l[q].type);!function xp(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,l.length);for(let q=0;q<l.length;q++){const pe=l[q];pe.providersResolver&&pe.providersResolver(pe)}let b=!1,S=!1,P=fd(n,i,l.length,null);for(let q=0;q<l.length;q++){const pe=l[q];s.mergedAttrs=ai(s.mergedAttrs,pe.hostAttrs),Ep(n,s,i,P,pe),wp(P,pe,c),null!==pe.contentQueries&&(s.flags|=4),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(s.flags|=64);const Ue=pe.type.prototype;!b&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),b=!0),!S&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),S=!0),P++}!function gp(n,i,s){const c=i.directiveEnd,h=n.data,b=i.attrs,S=[];let P=null,q=null;for(let pe=i.directiveStart;pe<c;pe++){const Ue=h[pe],Dt=s?s.get(Ue):null,xn=Dt?Dt.outputs:null;P=If(Ue.inputs,pe,P,Dt?Dt.inputs:null),q=If(Ue.outputs,pe,q,xn);const Pn=null===P||null===b||tr(i)?null:Sp(P,pe,b);S.push(Pn)}null!==P&&(P.hasOwnProperty("class")&&(i.flags|=8),P.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=P,i.outputs=q}(n,s,h)}function yp(n,i,s){const l=s.directiveStart,c=s.directiveEnd,h=s.index,b=function Lt(){return Un.lFrame.currentDirectiveIndex}();try{rr(h);for(let S=l;S<c;S++){const P=n.data[S],q=i[S];on(S),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Vy(P,q)}}finally{rr(-1),on(b)}}function Vy(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function bp(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function wp(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;Gi(i)&&(s[""]=n)}}function Ep(n,i,s,l,c){n.data[l]=c;const h=c.factory||(c.factory=dt(c.type)),b=new Ir(h,Gi(c),kc);n.blueprint[l]=b,s[l]=b,function $_(n,i,s,l,c){const h=c.hostBindings;if(h){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const S=~i.index;(function G_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(b)!=S&&b.push(S),b.push(s,l,h)}}(n,i,l,fd(n,s,c.hostVars,Yi),c)}function Ja(n,i,s,l,c,h){const b=Ai(n,i);!function Cp(n,i,s,l,c,h,b){if(null==h)n.removeAttribute(i,c,s);else{const S=null==b?be(h):b(h,l||"",c);n.setAttribute(i,c,S,s)}}(i[ri],b,h,n.value,s,l,c)}function Dp(n,i,s,l,c,h){const b=h[i];if(null!==b)for(let S=0;S<b.length;)Ip(l,s,b[S++],b[S++],b[S++])}function Ip(n,i,s,l,c){const h=xi(null);try{null!==n.setInput?n.setInput(i,c,s,l):i[l]=c}finally{xi(h)}}function Sp(n,i,s){let l=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===l&&(l=[]);const b=n[h];for(let S=0;S<b.length;S+=2)if(b[S]===i){l.push(h,b[S+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function Tp(n,i,s,l){return[n,!0,!1,i,null,0,l,s,null,null,null]}function K_(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l+1];if(-1!==h){const b=n.data[h];Hi(s[l]),b.contentQueries(2,i[h],h)}}}function au(n,i){return n[Yo]?n[pr][ui]=i:n[Yo]=i,n[pr]=i,i}function Mp(n,i,s){Hi(0);const l=xi(null);try{i(n,s)}finally{xi(l)}}function Y_(n){return n[Qi]||(n[Qi]=[])}function Mf(n){return n.cleanup||(n.cleanup=[])}function q_(n,i,s){return(null===n||Gi(n))&&(s=function To(n){for(;Array.isArray(n);){if("object"==typeof n[bo])return n;n=n[cn]}return null}(s[i.index])),s[ri]}function Af(n,i){const s=n[Zr],l=s?s.get(nu,null):null;l&&l.handleError(i)}function fh(n,i,s,l,c){for(let h=0;h<s.length;){const b=s[h++],S=s[h++];Ip(n.data[b],i[b],l,S,c)}}function lu(n,i){const s=B(i,n),l=s[nn];!function Q_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(l,s);const c=s[cn];null!==c&&null===s[ar]&&(s[ar]=Km(c,s[Zr])),mh(l,s,s[$i])}function mh(n,i,s){pi(i);try{const l=n.viewQuery;null!==l&&Mp(1,l,s);const c=n.template;null!==c&&hp(n,i,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&K_(n,i),n.staticViewQueries&&Mp(2,n.viewQuery,s);const h=n.components;null!==h&&function $y(n,i){for(let s=0;s<i.length;s++)lu(n,i[s])}(i,h)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[Rn]&=-5,Wn()}}let J_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,l,c){const h=typeof Zone>"u"?null:Zone.current,b=new ma(s,q=>{this.all.has(q)&&this.queue.set(q,h)},c);let S;this.all.add(b),b.notify();const P=()=>{b.cleanup(),S?.(),this.all.delete(b),this.queue.delete(b)};return S=l?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[s,l]of this.queue)this.queue.delete(s),l?l.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:()=>new n}),n})();function kf(n,i,s){let l=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==i)for(let b=0;b<i.length;b++){const S=i[b];"number"==typeof S?h=S:1==h?c=Je(c,S):2==h&&(l=Je(l,S+": "+i[++b]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=c:n.classesWithoutHost=c}function ph(n,i,s,l,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&l.push(Xi(h)),Mr(h)){for(let S=Br;S<h.length;S++){const P=h[S],q=P[nn].firstChild;null!==q&&ph(P[nn],P,q,l)}h[mo]!==h[cn]&&l.push(h[mo])}const b=s.type;if(8&b)ph(n,i,s.child,l);else if(32&b){const S=zh(s,i);let P;for(;P=S();)l.push(P)}else if(16&b){const S=zu(i,s);if(Array.isArray(S))l.push(...S);else{const P=jd(i[dr]);ph(P[nn],P,S,l,!0)}}s=c?s.projectionNext:s.next}return l}function cu(n,i,s,l=!0){const c=i[Io].rendererFactory;c.begin&&c.begin();try{Of(n,i,n.template,s)}catch(b){throw l&&Af(i,b),b}finally{c.end&&c.end(),i[Io].effectManager?.flush()}}function Of(n,i,s,l){const c=i[Rn];if(256!=(256&c)){i[Io].effectManager?.flush(),pi(i);try{Kn(i),function p(n){return Un.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&hp(n,i,s,2,l);const b=3==(3&c);if(b){const q=n.preOrderCheckHooks;null!==q&&vi(i,q,null)}else{const q=n.preOrderHooks;null!==q&&Lr(i,q,0,null),Go(i,0)}if(function Gy(n){for(let i=hm(n);null!==i;i=fm(i)){if(!i[Po])continue;const s=i[As];for(let l=0;l<s.length;l++){ji(s[l])}}}(i),function Rp(n){for(let i=hm(n);null!==i;i=fm(i))for(let s=Br;s<i.length;s++){const l=i[s],c=l[nn];qe(l)&&Of(c,l,c.template,l[$i])}}(i),null!==n.contentQueries&&K_(n,i),b){const q=n.contentCheckHooks;null!==q&&vi(i,q)}else{const q=n.contentHooks;null!==q&&Lr(i,q,1),Go(i,1)}!function dp(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const l=wf(i,So);try{for(let c=0;c<s.length;c++){const h=s[c];if(h<0)rr(~h);else{const b=h,S=s[++c],P=s[++c];lt(S,b),l.runInContext(P,2,i[b])}}}finally{null===i[So]&&Jl(i,So),rr(-1)}}(n,i);const S=n.components;null!==S&&function Fp(n,i){for(let s=0;s<i.length;s++)Pp(n,i[s])}(i,S);const P=n.viewQuery;if(null!==P&&Mp(2,P,l),b){const q=n.viewCheckHooks;null!==q&&vi(i,q)}else{const q=n.viewHooks;null!==q&&Lr(i,q,2),Go(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Rn]&=-73,Mi(i)}finally{Wn()}}}function Pp(n,i){const s=B(i,n);if(qe(s)){const l=s[nn];80&s[Rn]?Of(l,s,l.template,s[$i]):s[kr]>0&&Rf(s)}}function Rf(n){for(let l=hm(n);null!==l;l=fm(l))for(let c=Br;c<l.length;c++){const h=l[c];if(qe(h))if(1024&h[Rn]){const b=h[nn];Of(b,h,b.template,h[$i])}else h[kr]>0&&Rf(h)}const s=n[nn].components;if(null!==s)for(let l=0;l<s.length;l++){const c=B(s[l],n);qe(c)&&c[kr]>0&&Rf(c)}}class du{get rootNodes(){const i=this._lView,s=i[nn];return ph(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$i]}set context(i){this._lView[$i]=i}get destroyed(){return 256==(256&this._lView[Rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ii];if(Mr(i)){const s=i[jo],l=s?s.indexOf(this):-1;l>-1&&(wc(i,l),ta(s,l))}this._attachedToViewContainer=!1}$h(this._lView[nn],this._lView)}onDestroy(i){!function Ii(n,i){if(256==(256&n[Rn]))throw new ue(911,!1);null===n[sr]&&(n[sr]=[]),n[sr].push(i)}(this._lView,i)}markForCheck(){tu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rn]&=-129}reattach(){this._lView[Rn]|=128}detectChanges(){cu(this._lView[nn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hd(n,i){$d(n,i,i[ri],2,null,null)}(this._lView[nn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i}}class Wy extends du{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;cu(i[nn],i,i[$i],!1)}checkNoChanges(){}get context(){return null}}class ev extends cd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=si(i);return new pd(s,this.ngModule)}}function Pf(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Np{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=Te(l);const c=this.injector.get(i,tp,l);return c!==tp||s===tp?c:this.parentInjector.get(i,s,l)}}class pd extends Qm{get inputs(){return Pf(this.componentDef.inputs)}get outputs(){return Pf(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function br(n){return n.map(so).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,c){let h=(c=c||this.ngModule)instanceof Tc?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const b=h?new Np(i,h):i,S=b.get(eu,null);if(null===S)throw new ue(407,!1);const pe={rendererFactory:S,sanitizer:b.get(Jm,null),effectManager:b.get(J_,null)},Ue=S.createRenderer(null,this.componentDef),Dt=this.componentDef.selectors[0][0]||"div",zt=l?function ru(n,i,s,l){const h=l.get(ip,!1)||s===Et.ShadowDom,b=n.selectRootElement(i,h);return function ou(n){mp(n)}(b),b}(Ue,l,this.componentDef.encapsulation,b):bc(Ue,Dt,function Ky(n){const i=n.toLowerCase();return"svg"===i?Da:"math"===i?"math":null}(Dt)),xn=this.componentDef.onPush?576:528,Pn=kl(0,null,null,1,0,null,null,null,null,null,null),Qn=Df(null,Pn,null,xn,null,null,pe,Ue,b,null,null);let yi,Tn;pi(Qn);try{const Bi=this.componentDef;let Ar,Oo=null;Bi.findHostDirectiveDefs?(Ar=[],Oo=new Map,Bi.findHostDirectiveDefs(Bi,Ar,Oo),Ar.push(Bi)):Ar=[Bi];const ac=function gh(n,i){const s=n[nn],l=Ti;return n[l]=i,Oc(s,l,2,"#host",null)}(Qn,zt),Px=function Zy(n,i,s,l,c,h,b){const S=c[nn];!function Bp(n,i,s,l){for(const c of n)i.mergedAttrs=ai(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(kf(i,i.mergedAttrs,!0),null!==s&&ed(l,s,i))}(l,n,i,b);let P=null;null!==i&&(P=Km(i,c[Zr]));const q=h.rendererFactory.createRenderer(i,s),pe=Df(c,md(s),null,s.onPush?64:16,c[n.index],n,h,q,null,null,P);return S.firstCreatePass&&bp(S,n,l.length-1),au(c,pe),c[n.index]=pe}(ac,zt,Bi,Ar,Qn,pe,Ue);Tn=R(Pn,Ti),zt&&function uu(n,i,s,l){if(l)Zn(n,s,["ng-version",ep.full]);else{const{attrs:c,classes:h}=function Co(n){const i=[],s=[];let l=1,c=2;for(;l<n.length;){let h=n[l];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++l]):8===c&&s.push(h);else{if(!yr(c))break;c=h}l++}return{attrs:i,classes:s}}(i.selectors[0]);c&&Zn(n,s,c),h&&h.length>0&&Wh(n,s,h.join(" "))}}(Ue,Bi,zt,l),void 0!==s&&function nv(n,i,s){const l=n.projection=[];for(let c=0;c<i.length;c++){const h=s[c];l.push(null!=h?Array.from(h):null)}}(Tn,this.ngContentSelectors,s),yi=function tv(n,i,s,l,c,h){const b=Jr(),S=c[nn],P=Ai(b,c);z_(S,c,b,s,null,l);for(let pe=0;pe<s.length;pe++)ua(za(c,S,b.directiveStart+pe,b),c);yp(S,c,b),P&&ua(P,c);const q=za(c,S,b.directiveStart+b.componentOffset,b);if(n[$i]=c[$i]=q,null!==h)for(const pe of h)pe(q,i);return dh(S,b,n),q}(Px,Bi,Ar,Oo,Qn,[Ff]),mh(Pn,Qn,null)}finally{Wn()}return new Lp(this.componentType,yi,dd(Tn,Qn),Qn,Tn)}}class Lp extends T_{constructor(i,s,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Wy(c),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const h=this._rootLView;fh(h[nn],h,c,i,s),this.previousInputValues.set(i,s),tu(B(this._tNode.index,h))}}get injector(){return new $a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ff(){const n=Jr();Sn(wn()[nn],n)}function Up(n){let i=function iv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let c;if(Gi(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ue(903,!1);c=i.\u0275dir}if(c){if(s){l.push(c);const b=n;b.inputs=Vp(n.inputs),b.declaredInputs=Vp(n.declaredInputs),b.outputs=Vp(n.outputs);const S=c.hostBindings;S&&Hp(n,S);const P=c.viewQuery,q=c.contentQueries;if(P&&Nf(n,P),q&&jp(n,q),de(n.inputs,c.inputs),de(n.declaredInputs,c.declaredInputs),de(n.outputs,c.outputs),Gi(c)&&c.data.animation){const pe=n.data;pe.animation=(pe.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let b=0;b<h.length;b++){const S=h[b];S&&S.ngInherit&&S(n),S===Up&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Yy(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=ai(c.hostAttrs,s=ai(s,c.hostAttrs))}}(l)}function Vp(n){return n===wt?{}:n===Ot?[]:n}function Nf(n,i){const s=n.viewQuery;n.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function jp(n,i){const s=n.contentQueries;n.contentQueries=s?(l,c,h)=>{i(l,c,h),s(l,c,h)}:i}function Hp(n,i){const s=n.hostBindings;n.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}function vh(n){return!!Yp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ol(n,i,s){return n[i]=s}function ha(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function qp(n,i,s,l){const c=wn();return ha(c,C(),i)&&(ir(),Ja(w(),c,n,i,s,l)),qp}function gd(n,i,s,l){return ha(n,C(),s)?i+be(s)+l:Yi}function Fc(n,i,s,l,c,h,b,S){const P=wn(),q=ir(),pe=n+Ti,Ue=q.firstCreatePass?function tb(n,i,s,l,c,h,b,S,P){const q=i.consts,pe=Oc(i,n,4,b||null,fn(q,S));Tf(i,s,pe,fn(q,P)),Sn(i,pe);const Ue=pe.tView=kl(2,pe,l,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,q,null);return null!==i.queries&&(i.queries.template(i,pe),Ue.queries=i.queries.embeddedTView(pe)),pe}(pe,q,P,i,s,l,c,h,b):q.data[pe];Cn(Ue,!1);const Dt=Eh(q,P,Ue,n);tt()&&xc(q,P,Dt,Ue),ua(Dt,P),au(P,P[pe]=Tp(Dt,P,Dt,Ue)),Fo(Ue)&&uh(q,P,Ue),null!=b&&hh(P,Ue,S)}let Eh=function vu(n,i,s,l){return Zt(!0),i[ri].createComment("")};function gv(n){return Q(function co(){return Un.lFrame.contextLView}(),Ti+n)}function ag(n,i,s){const l=wn();return ha(l,C(),i)&&Ua(ir(),w(),l,n,i,l[ri],s,!1),ag}function Ch(n,i,s,l,c){const b=c?"class":"style";fh(n,s,i.inputs[b],b,l)}function Dh(n,i,s,l){const c=wn(),h=ir(),b=Ti+n,S=c[ri],P=h.firstCreatePass?function lg(n,i,s,l,c,h){const b=i.consts,P=Oc(i,n,2,l,fn(b,c));return Tf(i,s,P,fn(b,h)),null!==P.attrs&&kf(P,P.attrs,!1),null!==P.mergedAttrs&&kf(P,P.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,P),P}(b,h,c,i,s,l):h.data[b],q=cg(h,c,P,S,i,n);c[b]=q;const pe=Fo(P);return Cn(P,!0),ed(S,q,P),32!=(32&P.flags)&&tt()&&xc(h,c,q,P),0===function Xr(){return Un.lFrame.elementDepthCount}()&&ua(q,c),function Ia(){Un.lFrame.elementDepthCount++}(),pe&&(uh(h,c,P),dh(h,P,c)),null!==l&&hh(c,P),Dh}function Rl(){let n=Jr();Dr()?Cs():(n=n.parent,Cn(n,!1));const i=n;(function Es(n){return Un.skipHydrationRootTNode===n})(i)&&function rl(){Un.skipHydrationRootTNode=null}(),function $o(){Un.lFrame.elementDepthCount--}();const s=ir();return s.firstCreatePass&&(Sn(s,n),po(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Sa(n){return 0!=(8&n.flags)}(i)&&Ch(s,i,wn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ad(n){return 0!=(16&n.flags)}(i)&&Ch(s,i,wn(),i.stylesWithoutHost,!1),Rl}function zf(n,i,s,l){return Dh(n,i,s,l),Rl(),zf}let cg=(n,i,s,l,c,h)=>(Zt(!0),bc(l,c,function ye(){return Un.lFrame.currentNamespace}()));function wd(n,i,s){const l=wn(),c=ir(),h=n+Ti,b=c.firstCreatePass?function ib(n,i,s,l,c){const h=i.consts,b=fn(h,l),S=Oc(i,n,8,"ng-container",b);return null!==b&&kf(S,b,!0),Tf(i,s,S,fn(h,c)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,c,l,i,s):c.data[h];Cn(b,!0);const S=yu(c,l,b,n);return l[h]=S,tt()&&xc(c,l,S,b),ua(S,l),Fo(b)&&(uh(c,l,b),dh(c,b,l)),null!=s&&hh(l,b),wd}function xd(){let n=Jr();const i=ir();return Dr()?Cs():(n=n.parent,Cn(n,!1)),i.firstCreatePass&&(Sn(i,n),po(n)&&i.queries.elementEnd(n)),xd}function $f(n,i,s){return wd(n,i,s),xd(),$f}let yu=(n,i,s,l)=>(Zt(!0),pm(i[ri],""));function ug(){return wn()}function Sh(n){return!!n&&"function"==typeof n.then}function bu(n){return!!n&&"function"==typeof n.subscribe}function Pl(n,i,s,l){const c=wn(),h=ir(),b=Jr();return Cd(h,c,c[ri],b,n,i,l),Pl}function Ed(n,i){const s=Jr(),l=wn(),c=ir();return Cd(c,l,q_(Vn(c.data),s,l),s,n,i),Ed}function Cd(n,i,s,l,c,h,b){const S=Fo(l),q=n.firstCreatePass&&Mf(n),pe=i[$i],Ue=Y_(i);let Dt=!0;if(3&l.type||b){const Pn=Ai(l,i),Qn=b?b(Pn):Pn,yi=Ue.length,Tn=b?Ar=>b(Xi(Ar[l.index])):l.index;let Bi=null;if(!b&&S&&(Bi=function ob(n,i,s,l){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const b=c[h];if(b===s&&c[h+1]===l){const S=i[Qi],P=c[h+2];return S.length>P?S[P]:null}"string"==typeof b&&(h+=2)}return null}(n,i,c,l.index)),null!==Bi)(Bi.__ngLastListenerFn__||Bi).__ngNextListenerFn__=h,Bi.__ngLastListenerFn__=h,Dt=!1;else{h=ab(l,i,pe,h,!1);const Ar=s.listen(Qn,c,h);Ue.push(h,Ar),q&&q.push(c,Tn,yi,yi+1)}}else h=ab(l,i,pe,h,!1);const zt=l.outputs;let xn;if(Dt&&null!==zt&&(xn=zt[c])){const Pn=xn.length;if(Pn)for(let Qn=0;Qn<Pn;Qn+=2){const Oo=i[xn[Qn]][xn[Qn+1]].subscribe(h),ac=Ue.length;Ue.push(h,Oo),q&&q.push(c,l.index,ac,-(ac+1))}}}function sb(n,i,s,l){try{return zo(6,i,s),!1!==s(l)}catch(c){return Af(n,c),!1}finally{zo(7,i,s)}}function ab(n,i,s,l,c){return function h(b){if(b===Function)return l;tu(n.componentOffset>-1?B(n.index,i):i);let P=sb(i,s,l,b),q=h.__ngNextListenerFn__;for(;q;)P=sb(i,s,q,b)&&P,q=q.__ngNextListenerFn__;return c&&!1===P&&b.preventDefault(),P}}function Wf(n=1){return function Js(n){return(Un.lFrame.contextLView=function Fi(n,i){for(;n>0;)i=i[Yr],n--;return i}(n,Un.lFrame.contextLView))[$i]}(n)}function lb(n,i){let s=null;const l=function to(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===l?fr(n,h,!0):es(l,h))return c}else s=c}return s}function Th(n){const i=wn()[dr][or];if(!i.projection){const l=i.projection=Za(n?n.length:1,null),c=l.slice();let h=i.child;for(;null!==h;){const b=n?lb(h,n):0;null!==b&&(c[b]?c[b].projectionNext=h:l[b]=h,c[b]=h),h=h.next}}}function _v(n,i=0,s){const l=wn(),c=ir(),h=Oc(c,Ti+n,16,null,s||null);null===h.projection&&(h.projection=i),Cs(),(!l[ar]||ss())&&32!=(32&h.flags)&&function t_(n,i,s){n_(i[ri],0,i,s,ym(n,s,i),e_(s.parent||i[or],s,i))}(c,l,h)}function hg(n,i,s){return wu(n,"",i,"",s),hg}function wu(n,i,s,l,c){const h=wn(),b=gd(h,i,s,l);return b!==Yi&&Ua(ir(),w(),h,n,b,h[ri],c,!1),wu}function Ah(n,i){return n<<17|i<<2}function nc(n){return n>>17&32767}function xu(n){return 2|n}function Dd(n){return(131068&n)>>2}function Ev(n,i){return-131069&n|i<<2}function _g(n){return 1|n}function Eu(n,i,s,l,c){const h=n[s+1],b=null===i;let S=l?nc(h):Dd(h),P=!1;for(;0!==S&&(!1===P||b);){const pe=n[S+1];Nc(n[S],i)&&(P=!0,n[S+1]=l?_g(pe):xu(pe)),S=l?nc(pe):Dd(pe)}P&&(n[s+1]=l?xu(h):_g(h))}function Nc(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&te(n,i)>=0}function Bc(n,i,s){return ml(n,i,s,!1),Bc}function kh(n,i){return ml(n,i,null,!0),kh}function ml(n,i,s,l){const c=wn(),h=ir(),b=function z(n){const i=Un.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);h.firstUpdatePass&&function pb(n,i,s,l){const c=n.data;if(null===c[s+1]){const h=c[Nr()],b=function mb(n,i){return i>=n.expandoStartIndex}(n,s);(function Ov(n,i){return 0!=(n.flags&(i?8:16))})(h,l)&&null===i&&!b&&(i=!1),i=function T0(n,i,s,l){const c=Vn(n);let h=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=Kf(s=bg(null,n,i,s,l),i.attrs,l),h=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==c)if(s=bg(c,n,i,s,l),null===h){let P=function M0(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Dd(l))return n[nc(l)]}(n,i,l);void 0!==P&&Array.isArray(P)&&(P=bg(null,n,i,P[1],l),P=Kf(P,i.attrs,l),function gb(n,i,s,l){n[nc(s?i.classBindings:i.styleBindings)]=l}(n,i,l,P))}else h=function _b(n,i,s){let l;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)l=Kf(l,n[h].hostAttrs,s);return Kf(l,i.attrs,s)}(n,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,l),function Id(n,i,s,l,c,h){let b=h?i.classBindings:i.styleBindings,S=nc(b),P=Dd(b);n[l]=s;let pe,q=!1;if(Array.isArray(s)?(pe=s[1],(null===pe||te(s,pe)>0)&&(q=!0)):pe=s,c)if(0!==P){const Dt=nc(n[S+1]);n[l+1]=Ah(Dt,S),0!==Dt&&(n[Dt+1]=Ev(n[Dt+1],l)),n[S+1]=function gg(n,i){return 131071&n|i<<17}(n[S+1],l)}else n[l+1]=Ah(S,0),0!==S&&(n[S+1]=Ev(n[S+1],l)),S=l;else n[l+1]=Ah(P,0),0===S?S=l:n[P+1]=Ev(n[P+1],l),P=l;q&&(n[l+1]=xu(n[l+1])),Eu(n,pe,l,!0),Eu(n,pe,l,!1),function ic(n,i,s,l,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&te(h,i)>=0&&(s[l+1]=_g(s[l+1]))}(i,pe,n,l,h),b=Ah(S,P),h?i.classBindings=b:i.styleBindings=b}(c,h,i,s,b,l)}}(h,n,b,l),i!==Yi&&ha(c,b,i)&&function Av(n,i,s,l,c,h,b,S){if(!(3&i.type))return;const P=n.data,q=P[S+1],pe=function I0(n){return 1==(1&n)}(q)?kv(P,i,s,c,Dd(q),b):void 0;Zf(pe)||(Zf(h)||function xv(n){return 2==(2&n)}(q)&&(h=kv(P,null,s,c,S,b)),function uy(n,i,s,l,c){if(i)c?n.addClass(s,l):n.removeClass(s,l);else{let h=-1===l.indexOf("-")?void 0:Aa.DashCase;null==c?n.removeStyle(s,l,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Aa.Important),n.setStyle(s,l,c,h))}}(l,b,Gs(Nr(),s),c,h))}(h,h.data[Nr()],c,c[ri],n,c[b+1]=function bb(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=fe(Zl(n)))),n}(i,s),l,b)}function bg(n,i,s,l,c){let h=null;const b=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<b&&(h=i[S],l=Kf(l,h.hostAttrs,c),h!==n);)S++;return null!==n&&(s.directiveStylingLast=S),l}function Kf(n,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const b=i[h];"number"==typeof b?c=b:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),T(n,b,!!s||i[++h]))}return void 0===n?null:n}function kv(n,i,s,l,c,h){const b=null===i;let S;for(;c>0;){const P=n[c],q=Array.isArray(P),pe=q?P[1]:P,Ue=null===pe;let Dt=s[c+1];Dt===Yi&&(Dt=Ue?Ot:void 0);let zt=Ue?N(Dt,l):pe===l?Dt:void 0;if(q&&!Zf(zt)&&(zt=N(P,l)),Zf(zt)&&(S=zt,b))return S;const xn=n[c+1];c=b?nc(xn):Dd(xn)}if(null!==i){let P=h?i.residualClasses:i.residualStyles;null!=P&&(S=N(P,l))}return S}function Zf(n){return void 0!==n}function Rv(n,i=""){const s=wn(),l=ir(),c=n+Ti,h=l.firstCreatePass?Oc(l,c,1,i,null):l.data[c],b=wb(l,s,h,i,n);s[c]=b,tt()&&xc(l,s,b,h),Cn(h,!1)}let wb=(n,i,s,l,c)=>(Zt(!0),function Xc(n,i){return n.createText(i)}(i[ri],l));function xg(n){return Yf("",n,""),xg}function Yf(n,i,s){const l=wn(),c=gd(l,n,i,s);return c!==Yi&&function hl(n,i,s){const l=Gs(i,n);!function mm(n,i,s){n.setValue(i,s)}(n[ri],l,s)}(l,Nr(),c),Yf}function Ph(n,i,s){const l=wn();return ha(l,C(),i)&&Ua(ir(),w(),l,n,i,l[ri],s,!0),Ph}function Su(n,i,s){const l=wn();if(ha(l,C(),i)){const h=ir(),b=w();Ua(h,b,l,n,i,q_(Vn(h.data),b,l),s,!0)}return Su}const Vc=void 0;var Mg=["en",[["a","p"],["AM","PM"],Vc],[["AM","PM"],Vc,Vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vc,"{1} 'at' {0}",Vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cb(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Tu={};function Jf(n){const i=function Tb(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Ag(i);if(s)return s;const l=i.split("-")[0];if(s=Ag(l),s)return s;if("en"===l)return Mg;throw new ue(701,!1)}function Zv(n){return Jf(n)[Ri.PluralCase]}function Ag(n){return n in Tu||(Tu[n]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[n]),Tu[n]}var Ri=(()=>((Ri=Ri||{})[Ri.LocaleId=0]="LocaleId",Ri[Ri.DayPeriodsFormat=1]="DayPeriodsFormat",Ri[Ri.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ri[Ri.DaysFormat=3]="DaysFormat",Ri[Ri.DaysStandalone=4]="DaysStandalone",Ri[Ri.MonthsFormat=5]="MonthsFormat",Ri[Ri.MonthsStandalone=6]="MonthsStandalone",Ri[Ri.Eras=7]="Eras",Ri[Ri.FirstDayOfWeek=8]="FirstDayOfWeek",Ri[Ri.WeekendRange=9]="WeekendRange",Ri[Ri.DateFormat=10]="DateFormat",Ri[Ri.TimeFormat=11]="TimeFormat",Ri[Ri.DateTimeFormat=12]="DateTimeFormat",Ri[Ri.NumberSymbols=13]="NumberSymbols",Ri[Ri.NumberFormats=14]="NumberFormats",Ri[Ri.CurrencyCode=15]="CurrencyCode",Ri[Ri.CurrencySymbol=16]="CurrencySymbol",Ri[Ri.CurrencyName=17]="CurrencyName",Ri[Ri.Currencies=18]="Currencies",Ri[Ri.Directionality=19]="Directionality",Ri[Ri.PluralCase=20]="PluralCase",Ri[Ri.ExtraData=21]="ExtraData",Ri))();const Mu="en-US";let u=Mu;function kb(n,i,s,l,c){if(n=rt(n),Array.isArray(n))for(let h=0;h<n.length;h++)kb(n[h],i,s,l,c);else{const h=ir(),b=wn();let S=Xa(n)?n:rt(n.provide),P=x_(n);const q=Jr(),pe=1048575&q.providerIndexes,Ue=q.directiveStart,Dt=q.providerIndexes>>20;if(Xa(n)||!n.multi){const zt=new Ir(P,c,kc),xn=Rb(S,i,c?pe:pe+Dt,Ue);-1===xn?(Fa(dc(q,b),h,S),Ob(h,n,i.length),i.push(S),q.directiveStart++,q.directiveEnd++,c&&(q.providerIndexes+=1048576),s.push(zt),b.push(zt)):(s[xn]=zt,b[xn]=zt)}else{const zt=Rb(S,i,pe+Dt,Ue),xn=Rb(S,i,pe,pe+Dt),Qn=xn>=0&&s[xn];if(c&&!Qn||!c&&!(zt>=0&&s[zt])){Fa(dc(q,b),h,S);const yi=function EE(n,i,s,l,c){const h=new Ir(n,s,kc);return h.multi=[],h.index=i,h.componentProviders=0,K0(h,c,l&&!s),h}(c?xE:wE,s.length,c,l,P);!c&&Qn&&(s[xn].providerFactory=yi),Ob(h,n,i.length,0),i.push(S),q.directiveStart++,q.directiveEnd++,c&&(q.providerIndexes+=1048576),s.push(yi),b.push(yi)}else Ob(h,n,zt>-1?zt:xn,K0(s[c?xn:zt],P,!c&&l));!c&&l&&Qn&&s[xn].componentProviders++}}}function Ob(n,i,s,l){const c=Xa(i),h=function b_(n){return!!n.useClass}(i);if(c||h){const P=(h?rt(i.useClass):i).prototype.ngOnDestroy;if(P){const q=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const pe=q.indexOf(s);-1===pe?q.push(s,[l,P]):q[pe+1].push(l,P)}else q.push(s,P)}}}function K0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Rb(n,i,s,l){for(let c=s;c<l;c++)if(i[c]===n)return c;return-1}function wE(n,i,s,l){return Pb(this.multi,[])}function xE(n,i,s,l){const c=this.multi;let h;if(this.providerFactory){const b=this.providerFactory.componentProviders,S=za(s,s[nn],this.providerFactory.index,l);h=S.slice(0,b),Pb(c,h);for(let P=b;P<S.length;P++)h.push(S[P])}else h=[],Pb(c,h);return h}function Pb(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function Z0(n,i=[]){return s=>{s.providersResolver=(l,c)=>function bE(n,i,s){const l=ir();if(l.firstCreatePass){const c=Gi(n);kb(s,l.data,l.blueprint,c,!0),kb(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class em{}class Y0{}function CE(n,i){return new Fb(n,i??null,[])}class Fb extends em{constructor(i,s,l){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const c=Kr(i);this._bootstrapComponents=ul(c.bootstrap),this._r3Injector=cp(i,s,[{provide:em,useValue:this},{provide:cd,useValue:this.componentFactoryResolver},...l],fe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Nb extends Y0{constructor(i){super(),this.moduleType=i}create(i){return new Fb(this.moduleType,i,[])}}class q0 extends em{constructor(i){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const s=new Vm([...i.providers,{provide:em,useValue:this},{provide:cd,useValue:this.componentFactoryResolver}],i.parent||dl(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Q0(n,i,s=null){return new q0({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let IE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=Kd(0,s.type),c=l.length>0?Q0([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ht({token:n,providedIn:"environment",factory:()=>new n(Ie(Tc))}),n})();function X0(n){n.getStandaloneInjector=i=>i.get(IE).getOrCreateStandaloneInjector(n)}function ow(n,i,s,l){return function aw(n,i,s,l,c,h){const b=i+s;return ha(n,b,c)?Ol(n,b+1,h?l.call(h,c):l(c)):Rg(n,b+1)}(wn(),V(),n,i,s,l)}function sw(n,i,s,l,c){return lw(wn(),V(),n,i,s,l,c)}function Rg(n,i){const s=n[i];return s===Yi?void 0:s}function lw(n,i,s,l,c,h,b){const S=i+s;return function Rc(n,i,s,l){const c=ha(n,i,s);return ha(n,i+1,l)||c}(n,S,c,h)?Ol(n,S+2,b?l.call(b,c,h):l(c,h)):Rg(n,S+2)}function hw(n,i){const s=ir();let l;const c=n+Ti;s.firstCreatePass?(l=function zE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(s.destroyHooks??=[]).push(c,l.onDestroy)):l=s.data[c];const h=l.factory||(l.factory=dt(l.type)),b=Ae(kc);try{const S=Ao(!1),P=h();return Ao(S),function nb(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,wn(),c,P),P}finally{Ae(b)}}function fw(n,i,s,l){const c=n+Ti,h=wn(),b=Q(h,c);return function Pg(n,i){return n[nn].data[i].pure}(h,c)?lw(h,V(),i,b.transform,s,l,b):b.transform(s,l)}function Bb(n){return i=>{setTimeout(n,void 0,i)}}const jc=class ZE extends d.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let c=i,h=s||(()=>null),b=l;if(i&&"object"==typeof i){const P=i;c=P.next?.bind(P),h=P.error?.bind(P),b=P.complete?.bind(P)}this.__isAsync&&(h=Bb(h),c&&(c=Bb(c)),b&&(b=Bb(b)));const S=super.subscribe({next:c,error:h,complete:b});return i instanceof L.w0&&i.add(S),S}};function YE(){return this._results[Symbol.iterator]()}class Xv{get changes(){return this._changes||(this._changes=new jc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=YE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const c=function io(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Wa(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],h=i[l];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=XE,n})();const qE=Fg,QE=class extends qE{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,l){const c=this._declarationTContainer.tView,h=Df(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,s||null,l||null);h[qo]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[ts];return null!==S&&(h[ts]=S.createEmbeddedView(c)),mh(c,h,i),new du(h)}};function XE(){return Jv(Jr(),wn())}function Jv(n,i){return 4&n.type?new QE(i,n,dd(n,i)):null}let ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=oC,n})();function oC(){return yw(Jr(),wn())}const sC=ey,_w=class extends sC{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return dd(this._hostTNode,this._hostLView)}get injector(){return new $a(this._hostTNode,this._hostLView)}get parentInjector(){const i=Hc(this._hostTNode,this._hostLView);if(Ta(i)){const s=Pa(i,this._hostLView),l=Is(i);return new $a(s[nn].data[l+8],s)}return new $a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=vw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Br}createEmbeddedView(i,s,l){let c,h;"number"==typeof l?c=l:null!=l&&(c=l.index,h=l.injector);const S=i.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(S,c,false),S}createComponent(i,s,l,c,h){const b=i&&!function Cl(n){return"function"==typeof n}(i);let S;if(b)S=s;else{const Pn=s||{};S=Pn.index,l=Pn.injector,c=Pn.projectableNodes,h=Pn.environmentInjector||Pn.ngModuleRef}const P=b?i:new pd(si(i)),q=l||this.parentInjector;if(!h&&null==P.ngModule){const Qn=(b?q:this.parentInjector).get(Tc,null);Qn&&(h=Qn)}si(P.componentType??{});const zt=P.create(q,c,null,h);return this.insertImpl(zt.hostView,S,false),zt}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,l){const c=i._lView,h=c[nn];if(function Xt(n){return Mr(n[ii])}(c)){const P=this.indexOf(i);if(-1!==P)this.detach(P);else{const q=c[ii],pe=new _w(q,q[or],q[ii]);pe.detach(pe.indexOf(i))}}const b=this._adjustIndex(s),S=this._lContainer;if(function Zg(n,i,s,l){const c=Br+l,h=s.length;l>0&&(s[c-1][ui]=i),l<h-Br?(i[ui]=s[c],Bs(s,Br+l,i)):(s.push(i),i[ui]=null),i[ii]=s;const b=i[qo];null!==b&&s!==b&&function Yg(n,i){const s=n[As];i[dr]!==i[ii][ii][dr]&&(n[Po]=!0),null===s?n[As]=[i]:s.push(i)}(b,i);const S=i[ts];null!==S&&S.insertView(n),i[Rn]|=128}(h,c,S,b),!l){const P=Gh(b,S),q=c[ri],pe=Jc(q,S[mo]);null!==pe&&function Kg(n,i,s,l,c,h){l[cn]=c,l[or]=i,$d(n,l,s,1,c,h)}(h,S[or],q,c,pe,P)}return i.attachToViewContainerRef(),Bs(Vb(S),b,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=vw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=wc(this._lContainer,s);l&&(ta(Vb(this._lContainer),s),$h(l[nn],l))}detach(i){const s=this._adjustIndex(i,-1),l=wc(this._lContainer,s);return l&&null!=ta(Vb(this._lContainer),s)?new du(l):null}_adjustIndex(i,s=0){return i??this.length+s}};function vw(n){return n[jo]}function Vb(n){return n[jo]||(n[jo]=[])}function yw(n,i){let s;const l=i[n.index];return Mr(l)?s=l:(s=Tp(l,i,null,n),i[n.index]=s,au(i,s)),bw(s,i,n,l),new _w(s,n,i)}let bw=function ww(n,i,s,l){if(n[mo])return;let c;c=8&s.type?Xi(l):function aC(n,i){const s=n[ri],l=s.createComment(""),c=Ai(i,n);return Wo(s,Jc(s,c),l,function Jg(n,i){return n.nextSibling(i)}(s,c),!1),l}(i,s),n[mo]=c};class jb{constructor(i){this.queryList=i,this.matches=null}clone(){return new jb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hb{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<l;h++){const b=s.getByIndex(h);c.push(this.queries[b.indexInDeclarationView].clone())}return new Hb(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Aw(i,s).matches&&this.queries[s].setDirty()}}class xw{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class zb{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new zb(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class $b{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new $b(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,s,dC(s,h)),this.matchTNodeWithReadOption(i,s,fc(s,i,h,!1,!1))}else l===Fg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,fc(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===ud||c===ey||c===Fg&&4&s.type)this.addMatch(s.index,-2);else{const h=fc(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function dC(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function hC(n,i,s,l){return-1===s?function uC(n,i){return 11&n.type?dd(n,i):4&n.type?Jv(n,i):null}(i,n):-2===s?function fC(n,i,s){return s===ud?dd(i,n):s===Fg?Jv(i,n):s===ey?yw(i,n):void 0}(n,i,l):za(n,n[nn],s,i)}function Ew(n,i,s,l){const c=i[ts].queries[l];if(null===c.matches){const h=n.data,b=s.matches,S=[];for(let P=0;P<b.length;P+=2){const q=b[P];S.push(q<0?null:hC(i,h[q],b[P+1],s.metadata.read))}c.matches=S}return c.matches}function Gb(n,i,s,l){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const b=Ew(n,i,c,s);for(let S=0;S<h.length;S+=2){const P=h[S];if(P>0)l.push(b[S/2]);else{const q=h[S+1],pe=i[-P];for(let Ue=Br;Ue<pe.length;Ue++){const Dt=pe[Ue];Dt[qo]===Dt[ii]&&Gb(Dt[nn],Dt,q,l)}if(null!==pe[As]){const Ue=pe[As];for(let Dt=0;Dt<Ue.length;Dt++){const zt=Ue[Dt];Gb(zt[nn],zt,q,l)}}}}}return l}function Cw(n){const i=wn(),s=ir(),l=qn();Hi(l+1);const c=Aw(s,l);if(n.dirty&&function he(n){return 4==(4&n[Rn])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?Gb(s,i,l,[]):Ew(s,i,c,l);n.reset(h,ff),n.notifyOnChanges()}return!0}return!1}function Dw(n,i,s){const l=ir();l.firstCreatePass&&(Mw(l,new xw(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),Tw(l,wn(),i)}function Iw(n,i,s,l){const c=ir();if(c.firstCreatePass){const h=Jr();Mw(c,new xw(i,s,l),h.index),function pC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}Tw(c,wn(),s)}function Sw(){return function mC(n,i){return n[ts].queries[i].queryList}(wn(),qn())}function Tw(n,i,s){const l=new Xv(4==(4&s));(function By(n,i,s,l){const c=Y_(i);c.push(s),n.firstCreatePass&&Mf(n).push(l,c.length-1)})(n,i,l,l.destroy),null===i[ts]&&(i[ts]=new Hb),i[ts].queries.push(new jb(l))}function Mw(n,i,s){null===n.queries&&(n.queries=new zb),n.queries.track(new $b(i,s))}function Aw(n,i){return n.queries.getByIndex(i)}function kw(n,i){return Jv(n,i)}function Wb(n){return!!Kr(n)}const Zw=new ho("Application Initializer");let Qb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l}),this.appInits=jt(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const h=c();if(Sh(h))s.push(h);else if(bu(h)){const b=new Promise((S,P)=>{h.subscribe({complete:S,error:P})});s.push(b)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ny=new ho("LocaleId",{providedIn:"root",factory:()=>jt(ny,at.Optional|at.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||Mu}()}),LC=new ho("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new g.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let UC=(()=>{class n{compileModuleSync(s){return new Nb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),h=ul(Kr(s).declarations).reduce((b,S)=>{const P=si(S);return P&&b.push(new pd(P)),b},[]);return new BC(l,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HC=(()=>Promise.resolve(0))();function Xb(n){typeof Zone>"u"?HC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function Jw(...n){}class ja{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jc(!1),this.onMicrotaskEmpty=new jc(!1),this.onStable=new jc(!1),this.onError=new jc(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function zC(){let n=Mt.requestAnimationFrame,i=Mt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function WC(n){const i=()=>{!function GC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Jb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,h,b,S)=>{try{return ex(n),s.invokeTask(c,h,b,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),tx(n)}},onInvoke:(s,l,c,h,b,S,P)=>{try{return ex(n),s.invoke(c,h,b,S,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),tx(n)}},onHasTask:(s,l,c,h)=>{s.hasTask(c,h),l===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,e0(n),Jb(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ja.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(ja.isInAngularZone())throw new ue(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const h=this._inner,b=h.scheduleEventTask("NgZoneEvent: "+c,i,$C,Jw,Jw);try{return h.runTask(b,s,l)}finally{h.cancelTask(b)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const $C={};function Jb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ex(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tx(n){n._nesting--,Jb(n)}class KC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jc,this.onMicrotaskEmpty=new jc,this.onStable=new jc,this.onError=new jc}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}const nx=new ho("",{providedIn:"root",factory:ix});function ix(){const n=jt(ja);let i=!0;const s=new ne.y(c=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(i),c.complete()})}),l=new ne.y(c=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{ja.assertNotInAngularZone(),Xb(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,c.next(!0))})})});const b=n.onUnstable.subscribe(()=>{ja.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),b.unsubscribe()}});return(0,xe.T)(s,l.pipe((0,Z.B)()))}const rx=new ho(""),ox=new ho("");let t0,ZC=(()=>{class n{constructor(s,l,c){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function YC(n){t0=n}(c),c.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ja.assertNotInAngularZone(),Xb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xb(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Ie(ja),Ie(sx),Ie(ox))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac}),n})(),sx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return t0?.findTestabilityInTree(this,s,l)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ku=null;const ax=new ho("AllowMultipleToken"),n0=new ho("PlatformDestroyListeners"),r0=new ho("appBootstrapListener");class XC{constructor(i,s){this.name=i,this.token=s}}function dx(n,i,s=[]){const l=`Platform: ${i}`,c=new ho(l);return(h=[])=>{let b=o0();if(!b||b.injector.get(ax,!1)){const S=[...s,...h,{provide:c,useValue:!0}];n?n(S):function JC(n){if(ku&&!ku.get(ax,!1))throw new ue(400,!1);(function lx(){!function zs(n){ys=n}(()=>{throw new ue(600,!1)})})(),ku=n;const i=n.get(hx);(function cx(n){n.get(qd,null)?.forEach(s=>s())})(n)}(function ux(n=[],i){return Ac.create({name:i,providers:[{provide:Ql,useValue:"platform"},{provide:n0,useValue:new Set([()=>ku=null])},...n]})}(S,l))}return function tD(n){const i=o0();if(!i)throw new ue(401,!1);return i}()}}function o0(){return ku?.get(hx)??null}let hx=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const c=function nD(n="zone.js",i){return"noop"===n?new KC:"zone.js"===n?new ja(i):n}(l?.ngZone,function fx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return c.run(()=>{const h=function DE(n,i,s){return new Fb(n,i,s)}(s.moduleType,this.injector,function vx(n){return[{provide:ja,useFactory:n},{provide:id,multi:!0,useFactory:()=>{const i=jt(rD,{optional:!0});return()=>i.initialize()}},{provide:_x,useFactory:iD},{provide:nx,useFactory:ix}]}(()=>c)),b=h.injector.get(nu,null);return c.runOutsideAngular(()=>{const S=c.onError.subscribe({next:P=>{b.handleError(P)}});h.onDestroy(()=>{iy(this._modules,h),S.unsubscribe()})}),function mx(n,i,s){try{const l=s();return Sh(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(b,c,()=>{const S=h.injector.get(Qb);return S.runInitializers(),S.donePromise.then(()=>(function m(n){At(n,"Expected localeId to be defined"),"string"==typeof n&&(u=n.toLowerCase().replace(/_/g,"-"))}(h.injector.get(ny,Mu)||Mu),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,l=[]){const c=px({},l);return function qC(n,i,s){const l=new Nb(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const l=s.injector.get(im);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ue(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(n0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Ie(Ac))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function px(n,i){return Array.isArray(i)?i.reduce(px,n):{...n,...i}}let im=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=jt(_x),this.zoneIsStable=jt(nx),this.componentTypes=[],this.components=[],this.isStable=jt(qw).hasPendingTasks.pipe((0,_e.w)(s=>s?(0,ae.of)(!1):this.zoneIsStable),(0,Ee.x)(),(0,Z.B)()),this._injector=jt(Tc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const c=s instanceof Qm;if(!this._injector.get(Qb).done)throw!c&&zr(s),new ue(405,!1);let b;b=c?s:this._injector.get(cd).resolveComponentFactory(s),this.componentTypes.push(b.componentType);const S=function QC(n){return n.isBoundToModule}(b)?void 0:this._injector.get(em),q=b.create(Ac.NULL,[],l||b.selector,S),pe=q.location.nativeElement,Ue=q.injector.get(rx,null);return Ue?.registerApplication(pe),q.onDestroy(()=>{this.detachView(q.hostView),iy(this.components,q),Ue?.unregisterApplication(pe)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;iy(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(r0,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>iy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ue(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iy(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const _x=new ho("",{providedIn:"root",factory:()=>jt(nu).handleError.bind(void 0)});function iD(){const n=jt(ja),i=jt(nu);return s=>n.runOutsideAngular(()=>i.handleError(s))}let rD=(()=>{class n{constructor(){this.zone=jt(ja),this.applicationRef=jt(im)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sD(){return!1}let aD=(()=>{class n{}return n.__NG_ELEMENT_ID__=lD,n})();function lD(n){return function cD(n,i,s){if(ur(n)&&!s){const l=B(n.index,i);return new du(l,l)}return 47&n.type?new du(i[dr],i):null}(Jr(),wn(),16==(16&n))}class xx{constructor(){}supports(i){return vh(i)}create(i){return new pD(i)}}const mD=(n,i)=>i;class pD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||mD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,h=null;for(;s||l;){const b=!l||s&&s.currentIndex<Cx(l,c,h)?s:l,S=Cx(b,c,h),P=b.currentIndex;if(b===l)c--,l=l._nextRemoved;else if(s=s._next,null==b.previousIndex)c++;else{h||(h=[]);const q=S-c,pe=P-c;if(q!=pe){for(let Dt=0;Dt<q;Dt++){const zt=Dt<h.length?h[Dt]:h[Dt]=0,xn=zt+Dt;pe<=xn&&xn<q&&(h[Dt]=zt+1)}h[b.previousIndex]=pe-q}}S!==P&&i(b,S,P)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!vh(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,b,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],b=this._trackByFn(S,h),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,h,b,S)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,b,S),l=!0),s=s._next}else c=0,function Zp(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,S=>{b=this._trackByFn(c,S),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,S,b,c)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,b,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new gD(s,l),h,c),i}_verifyReinsertion(i,s,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class gD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _D{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class Ex{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new _D,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cx(n,i,s){const l=n.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class Dx{constructor(){}supports(i){return i instanceof Map||Yp(i)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Yp(i)))throw new ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,b=c._next;return h&&(h._next=b),b&&(b._prev=h),c._next=null,c._prev=null,c}const l=new yD(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class yD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ix(){return new d0([new xx])}let d0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Ix()),deps:[[n,new Us,new Ya]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new ue(901,!1)}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:Ix}),n})();function Sx(){return new u0([new Dx])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||Sx()),deps:[[n,new Us,new Ya]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new ue(901,!1)}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:Sx}),n})();const xD=dx(null,"core",[]);let ED=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Ie(im))},n.\u0275mod=Uo({type:n}),n.\u0275inj=un({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PD(n){const i=si(n);if(!i)return null;const s=new pd(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone}}}},9401:(pn,it,E)=>{E.d(it,{Fj:()=>Ne,JJ:()=>ci,JL:()=>Hn,JU:()=>_e,NI:()=>so,UX:()=>_s,_Y:()=>qi,cw:()=>oe,kI:()=>bt,sg:()=>kr,u:()=>Yo,x0:()=>Qi});var d=E(2223),L=E(4755),g=E(8996),ne=E(4128),xe=E(4004);let ae=(()=>{class W{constructor(v,D){this._renderer=v,this._elementRef=D,this.onChange=J=>{},this.onTouched=()=>{}}setProperty(v,D){this._renderer.setProperty(this._elementRef.nativeElement,v,D)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(d.Qsj),d.Y36(d.SBq))},W.\u0275dir=d.lG2({type:W}),W})(),Z=(()=>{class W extends ae{}return W.\u0275fac=function(){let j;return function(D){return(j||(j=d.n5z(W)))(D||W)}}(),W.\u0275dir=d.lG2({type:W,features:[d.qOj]}),W})();const _e=new d.OlP("NgValueAccessor"),de={provide:_e,useExisting:(0,d.Gpc)(()=>Ne),multi:!0},Je=new d.OlP("CompositionEventMode");let Ne=(()=>{class W extends ae{constructor(v,D,J){super(v,D),this._compositionMode=J,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fe(){const W=(0,L.q)()?(0,L.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(v){this.setProperty("value",v??"")}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Je,8))},W.\u0275dir=d.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,D){1&v&&d.NdJ("input",function(Ce){return D._handleInput(Ce.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(Ce){return D._compositionEnd(Ce.target.value)})},features:[d._Bn([de]),d.qOj]}),W})();function ut(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function rt(W){return null!=W&&"number"==typeof W.length}const Le=new d.OlP("NgValidators"),He=new d.OlP("NgAsyncValidators"),Re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bt{static min(j){return function ue(W){return j=>{if(ut(j.value)||ut(W))return null;const v=parseFloat(j.value);return!isNaN(v)&&v<W?{min:{min:W,actual:j.value}}:null}}(j)}static max(j){return function De(W){return j=>{if(ut(j.value)||ut(W))return null;const v=parseFloat(j.value);return!isNaN(v)&&v>W?{max:{max:W,actual:j.value}}:null}}(j)}static required(j){return function be(W){return ut(W.value)?{required:!0}:null}(j)}static requiredTrue(j){return function Me(W){return!0===W.value?null:{required:!0}}(j)}static email(j){return function $e(W){return ut(W.value)||Re.test(W.value)?null:{email:!0}}(j)}static minLength(j){return function K(W){return j=>ut(j.value)||!rt(j.value)?null:j.value.length<W?{minlength:{requiredLength:W,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function Ge(W){return j=>rt(j.value)&&j.value.length>W?{maxlength:{requiredLength:W,actualLength:j.value.length}}:null}(j)}static pattern(j){return function Fe(W){if(!W)return ze;let j,v;return"string"==typeof W?(v="","^"!==W.charAt(0)&&(v+="^"),v+=W,"$"!==W.charAt(W.length-1)&&(v+="$"),j=new RegExp(v)):(v=W.toString(),j=W),D=>{if(ut(D.value))return null;const J=D.value;return j.test(J)?null:{pattern:{requiredPattern:v,actualValue:J}}}}(j)}static nullValidator(j){return null}static compose(j){return Pt(j)}static composeAsync(j){return Gt(j)}}function ze(W){return null}function vt(W){return null!=W}function _n(W){return(0,d.QGY)(W)?(0,g.D)(W):W}function kn(W){let j={};return W.forEach(v=>{j=null!=v?{...j,...v}:j}),0===Object.keys(j).length?null:j}function ht(W,j){return j.map(v=>v(W))}function kt(W){return W.map(j=>function ft(W){return!W.validate}(j)?j:v=>j.validate(v))}function Pt(W){if(!W)return null;const j=W.filter(vt);return 0==j.length?null:function(v){return kn(ht(v,j))}}function Qt(W){return null!=W?Pt(kt(W)):null}function Gt(W){if(!W)return null;const j=W.filter(vt);return 0==j.length?null:function(v){const D=ht(v,j).map(_n);return(0,ne.D)(D).pipe((0,xe.U)(kn))}}function dn(W){return null!=W?Gt(kt(W)):null}function gn(W,j){return null===W?[j]:Array.isArray(W)?[...W,j]:[W,j]}function an(W){return W._rawValidators}function At(W){return W._rawAsyncValidators}function Ke(W){return W?Array.isArray(W)?W:[W]:[]}function Xe(W,j){return Array.isArray(W)?W.includes(j):W===j}function Ct(W,j){const v=Ke(j);return Ke(W).forEach(J=>{Xe(v,J)||v.push(J)}),v}function yt(W,j){return Ke(j).filter(v=>!Xe(W,v))}class Ht{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=Qt(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,v){return!!this.control&&this.control.hasError(j,v)}getError(j,v){return this.control?this.control.getError(j,v):null}}class Tt extends Ht{get formDirective(){return null}get path(){return null}}class un extends Ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jt{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ci=(()=>{class W extends Jt{constructor(v){super(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(un,2))},W.\u0275dir=d.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,D){2&v&&d.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)},features:[d.qOj]}),W})(),Hn=(()=>{class W extends Jt{constructor(v){super(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Tt,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(v,D){2&v&&d.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)("ng-submitted",D.isSubmitted)},features:[d.qOj]}),W})();const di="VALID",Si="INVALID",mi="PENDING",Yt="DISABLED";function et(W){return(Ie(W)?W.validators:W)||null}function Be(W,j){return(Ie(j)?j.asyncValidators:W)||null}function Ie(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class Te{constructor(j,v){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(v)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===di}get invalid(){return this.status===Si}get pending(){return this.status==mi}get disabled(){return this.status===Yt}get enabled(){return this.status!==Yt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(Ct(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Ct(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(yt(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(yt(j,this._rawAsyncValidators))}hasValidator(j){return Xe(this._rawValidators,j)}hasAsyncValidator(j){return Xe(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=mi,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const v=this._parentMarkedDirty(j.onlySelf);this.status=Yt,this.errors=null,this._forEachChild(D=>{D.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:v}),this._onDisabledChange.forEach(D=>D(!0))}enable(j={}){const v=this._parentMarkedDirty(j.onlySelf);this.status=di,this._forEachChild(D=>{D.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:v}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===di||this.status===mi)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yt:di}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=mi,this._hasOwnPendingAsyncValidator=!0;const v=_n(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,v={}){this.errors=j,this._updateControlsErrors(!1!==v.emitEvent)}get(j){let v=j;return null==v||(Array.isArray(v)||(v=v.split(".")),0===v.length)?null:v.reduce((D,J)=>D&&D._find(J),this)}getError(j,v){const D=v?this.get(v):this;return D&&D.errors?D.errors[j]:null}hasError(j,v){return!!this.getError(j,v)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Yt:this.errors?Si:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mi)?mi:this._anyControlsHaveStatus(Si)?Si:di}_anyControlsHaveStatus(j){return this._anyControls(v=>v.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Ie(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function st(W){return Array.isArray(W)?Qt(W):W||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function Oe(W){return Array.isArray(W)?dn(W):W||null}(this._rawAsyncValidators)}}class oe extends Te{constructor(j,v,D){super(et(v),Be(D,v)),this.controls=j,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,v){return this.controls[j]?this.controls[j]:(this.controls[j]=v,v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange),v)}addControl(j,v,D={}){this.registerControl(j,v),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(j,v={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}setControl(j,v,D={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],v&&this.registerControl(j,v),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,v={}){(function jt(W,j,v){W._forEachChild((D,J)=>{if(void 0===v[J])throw new d.vHH(1002,"")})})(this,0,j),Object.keys(j).forEach(D=>{(function xt(W,j,v){const D=W.controls;if(!(j?Object.keys(D):D).length)throw new d.vHH(1e3,"");if(!D[v])throw new d.vHH(1001,"")})(this,!0,D),this.controls[D].setValue(j[D],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(j,v={}){null!=j&&(Object.keys(j).forEach(D=>{const J=this.controls[D];J&&J.patchValue(j[D],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(j={},v={}){this._forEachChild((D,J)=>{D.reset(j[J],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this._reduceChildren({},(j,v,D)=>(j[D]=v.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(v,D)=>!!D._syncPendingControls()||v);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(v=>{const D=this.controls[v];D&&j(D,v)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[v,D]of Object.entries(this.controls))if(this.contains(v)&&j(D))return!0;return!1}_reduceValue(){return this._reduceChildren({},(v,D,J)=>((D.enabled||this.disabled)&&(v[J]=D.value),v))}_reduceChildren(j,v){let D=j;return this._forEachChild((J,Ce)=>{D=v(D,J,Ce)}),D}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}const re=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ve}),ve="always";function Et(W,j){return[...j.path,W]}function wt(W,j,v=ve){Mn(W,j),j.valueAccessor.writeValue(W.value),(W.disabled||"always"===v)&&j.valueAccessor.setDisabledState?.(W.disabled),function bi(W,j){j.valueAccessor.registerOnChange(v=>{W._pendingValue=v,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&It(W,j)})}(W,j),function bn(W,j){const v=(D,J)=>{j.valueAccessor.writeValue(D),J&&j.viewToModelUpdate(D)};W.registerOnChange(v),j._registerOnDestroy(()=>{W._unregisterOnChange(v)})}(W,j),function Bt(W,j){j.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&It(W,j),"submit"!==W.updateOn&&W.markAsTouched()})}(W,j),function Xn(W,j){if(j.valueAccessor.setDisabledState){const v=D=>{j.valueAccessor.setDisabledState(D)};W.registerOnDisabledChange(v),j._registerOnDestroy(()=>{W._unregisterOnDisabledChange(v)})}}(W,j)}function Ot(W,j,v=!0){const D=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(D),j.valueAccessor.registerOnTouched(D)),Ci(W,j),W&&(j._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function en(W,j){W.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(j)})}function Mn(W,j){const v=an(W);null!==j.validator?W.setValidators(gn(v,j.validator)):"function"==typeof v&&W.setValidators([v]);const D=At(W);null!==j.asyncValidator?W.setAsyncValidators(gn(D,j.asyncValidator)):"function"==typeof D&&W.setAsyncValidators([D]);const J=()=>W.updateValueAndValidity();en(j._rawValidators,J),en(j._rawAsyncValidators,J)}function Ci(W,j){let v=!1;if(null!==W){if(null!==j.validator){const J=an(W);if(Array.isArray(J)&&J.length>0){const Ce=J.filter(dt=>dt!==j.validator);Ce.length!==J.length&&(v=!0,W.setValidators(Ce))}}if(null!==j.asyncValidator){const J=At(W);if(Array.isArray(J)&&J.length>0){const Ce=J.filter(dt=>dt!==j.asyncValidator);Ce.length!==J.length&&(v=!0,W.setAsyncValidators(Ce))}}}const D=()=>{};return en(j._rawValidators,D),en(j._rawAsyncValidators,D),v}function It(W,j){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function es(W,j){const v=W.indexOf(j);v>-1&&W.splice(v,1)}function fo(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const so=class extends Te{constructor(j=null,v,D){super(et(v),Be(D,v)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ie(v)&&(v.nonNullable||v.initialValueIsDefault)&&(this.defaultValue=fo(j)?j.value:j)}setValue(j,v={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(j,v={}){this.setValue(j,v)}reset(j=this.defaultValue,v={}){this._applyFormState(j),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){es(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){es(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){fo(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}};let Wr=(()=>{class W extends Tt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Et(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return W.\u0275fac=function(){let j;return function(D){return(j||(j=d.n5z(W)))(D||W)}}(),W.\u0275dir=d.lG2({type:W,features:[d.qOj]}),W})(),qi=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275dir=d.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),_t=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})();const nn=new d.OlP("NgModelWithFormControlWarning"),ui={provide:Tt,useExisting:(0,d.Gpc)(()=>kr)};let kr=(()=>{class W extends Tt{constructor(v,D,J){super(),this.callSetDisabledState=J,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(v),this._setAsyncValidators(D)}ngOnChanges(v){this._checkFormPresent(),v.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ci(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(v){const D=this.form.get(v.path);return wt(D,v,this.callSetDisabledState),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(v),D}getControl(v){return this.form.get(v.path)}removeControl(v){Ot(v.control||null,v,!1),function oo(W,j){const v=W.indexOf(j);v>-1&&W.splice(v,1)}(this.directives,v)}addFormGroup(v){this._setUpFormContainer(v)}removeFormGroup(v){this._cleanUpFormContainer(v)}getFormGroup(v){return this.form.get(v.path)}addFormArray(v){this._setUpFormContainer(v)}removeFormArray(v){this._cleanUpFormContainer(v)}getFormArray(v){return this.form.get(v.path)}updateModel(v,D){this.form.get(v.path).setValue(D)}onSubmit(v){return this.submitted=!0,function us(W,j){W._syncPendingControls(),j.forEach(v=>{const D=v.control;"submit"===D.updateOn&&D._pendingChange&&(v.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(v),"dialog"===v?.target?.method}onReset(){this.resetForm()}resetForm(v=void 0){this.form.reset(v),this.submitted=!1}_updateDomValue(){this.directives.forEach(v=>{const D=v.control,J=this.form.get(v.path);D!==J&&(Ot(D||null,v),(W=>W instanceof so)(J)&&(wt(J,v,this.callSetDisabledState),v.control=J))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(v){const D=this.form.get(v.path);(function Zn(W,j){Mn(W,j)})(D,v),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(v){if(this.form){const D=this.form.get(v.path);D&&function On(W,j){return Ci(W,j)}(D,v)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mn(this.form,this),this._oldForm&&Ci(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Le,10),d.Y36(He,10),d.Y36(re,8))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(v,D){1&v&&d.NdJ("submit",function(Ce){return D.onSubmit(Ce)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ui]),d.qOj,d.TTD]}),W})();const or={provide:Tt,useExisting:(0,d.Gpc)(()=>Qi)};let Qi=(()=>{class W extends Wr{constructor(v,D,J){super(),this.name=null,this._parent=v,this._setValidators(D),this._setAsyncValidators(J)}_checkParentType(){Io(this._parent)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Tt,13),d.Y36(Le,10),d.Y36(He,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d._Bn([or]),d.qOj]}),W})();const $i={provide:Tt,useExisting:(0,d.Gpc)(()=>Zr)};let Zr=(()=>{class W extends Tt{constructor(v,D,J){super(),this.name=null,this._parent=v,this._setValidators(D),this._setAsyncValidators(J)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Et(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Io(this._parent)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Tt,13),d.Y36(Le,10),d.Y36(He,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d._Bn([$i]),d.qOj]}),W})();function Io(W){return!(W instanceof Qi||W instanceof kr||W instanceof Zr)}const ri={provide:un,useExisting:(0,d.Gpc)(()=>Yo)};let Yo=(()=>{class W extends un{set isDisabled(v){}constructor(v,D,J,Ce,dt){super(),this._ngModelWarningConfig=dt,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=v,this._setValidators(D),this._setAsyncValidators(J),this.valueAccessor=function yr(W,j){if(!j)return null;let v,D,J;return Array.isArray(j),j.forEach(Ce=>{Ce.constructor===Ne?v=Ce:function vo(W){return Object.getPrototypeOf(W.constructor)===Z}(Ce)?D=Ce:J=Ce}),J||D||v||null}(0,Ce)}ngOnChanges(v){this._added||this._setUpControl(),function tr(W,j){if(!W.hasOwnProperty("model"))return!1;const v=W.model;return!!v.isFirstChange()||!Object.is(j,v.currentValue)}(v,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}get path(){return Et(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(v){return new(v||W)(d.Y36(Tt,13),d.Y36(Le,10),d.Y36(He,10),d.Y36(_e,10),d.Y36(nn,8))},W.\u0275dir=d.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([ri]),d.qOj,d.TTD]}),W})(),Y=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({imports:[_t]}),W})(),_s=(()=>{class W{static withConfig(v){return{ngModule:W,providers:[{provide:nn,useValue:v.warnOnNgModelWithFormControl??"always"},{provide:re,useValue:v.callSetDisabledState??ve}]}}}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({imports:[Y]}),W})()},8410:(pn,it,E)=>{E.d(it,{_r:()=>He,ch:()=>be,oL:()=>ue});var d=E(3223),L=E(8023),g=E(2223),ne=E(1217),xe=E(706),ae=E(5537),Z=E(9002),_e=E(4755),Ee=E(1591),se=E(2840),de=E(7579),fe=E(6451),Je=E(9300),Ne=E(5698);function ut(Me,$e){}const rt={bottomSheetState:(0,Ee.X$)("state",[(0,Ee.SB)("void, hidden",(0,Ee.oB)({transform:"translateY(100%)"})),(0,Ee.SB)("visible",(0,Ee.oB)({transform:"translateY(0%)"})),(0,Ee.eR)("visible => void, visible => hidden",(0,Ee.ru)([(0,Ee.jt)(`${ne.mZ.COMPLEX} ${ne.yN.ACCELERATION_CURVE}`),(0,Ee.IO)("@*",(0,Ee.pV)(),{optional:!0})])),(0,Ee.eR)("void => visible",(0,Ee.ru)([(0,Ee.jt)(`${ne.mZ.EXITING} ${ne.yN.DECELERATION_CURVE}`),(0,Ee.IO)("@*",(0,Ee.pV)(),{optional:!0})]))])};let Le=(()=>{class Me extends d.LL{constructor(K,Ge,Fe,ze,vt,_n,kn,ht,ft,kt){super(K,Ge,Fe,ze,vt,_n,kn,kt),this._changeDetectorRef=ft,this._animationState="void",this._animationStateChanged=new g.vpe,this._breakpointSubscription=ht.observe([ae.u3.Medium,ae.u3.Large,ae.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",ht.isMatched(ae.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",ht.isMatched(ae.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",ht.isMatched(ae.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(K){"visible"===K.toState&&this._trapFocus(),this._animationStateChanged.emit(K)}_onAnimationStart(K){this._animationStateChanged.emit(K)}_captureInitialFocus(){}_toggleClass(K,Ge){this._elementRef.nativeElement.classList.toggle(K,Ge)}}return Me.\u0275fac=function(K){return new(K||Me)(g.Y36(g.SBq),g.Y36(xe.qV),g.Y36(_e.K0,8),g.Y36(d.ib),g.Y36(xe.ic),g.Y36(g.R0b),g.Y36(Z.Iu),g.Y36(ae.Yg),g.Y36(g.sBO),g.Y36(xe.tE))},Me.\u0275cmp=g.Xpm({type:Me,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(K,Ge){1&K&&g.WFA("@state.start",function(ze){return Ge._onAnimationStart(ze)})("@state.done",function(ze){return Ge._onAnimationDone(ze)}),2&K&&(g.uIk("role",Ge._config.role)("aria-modal",Ge._config.ariaModal)("aria-label",Ge._config.ariaLabel),g.d8E("@state",Ge._animationState))},features:[g.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(K,Ge){1&K&&g.YNc(0,ut,0,0,"ng-template",0)},dependencies:[L.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[rt.bottomSheetState]}}),Me})(),He=(()=>{class Me{}return Me.\u0275fac=function(K){return new(K||Me)},Me.\u0275mod=g.oAB({type:Me}),Me.\u0275inj=g.cJS({imports:[d.Su,ne.BQ,L.eL,ne.BQ]}),Me})();const Re=new g.OlP("MatBottomSheetData");class bt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class ue{get instance(){return this._ref.componentInstance}constructor($e,K,Ge){this._ref=$e,this._afterOpened=new de.x,this.containerInstance=Ge,this.disableClose=K.disableClose,Ge._animationStateChanged.pipe((0,Je.h)(Fe=>"done"===Fe.phaseName&&"visible"===Fe.toState),(0,Ne.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ge._animationStateChanged.pipe((0,Je.h)(Fe=>"done"===Fe.phaseName&&"hidden"===Fe.toState),(0,Ne.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),$e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,Je.h)(Fe=>Fe.keyCode===se.hY))).subscribe(Fe=>{!this.disableClose&&("keydown"!==Fe.type||!(0,se.Vb)(Fe))&&(Fe.preventDefault(),this.dismiss())})}dismiss($e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,Je.h)(K=>"start"===K.phaseName),(0,Ne.q)(1)).subscribe(K=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},K.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=$e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const De=new g.OlP("mat-bottom-sheet-default-options");let be=(()=>{class Me{get _openedBottomSheetRef(){const K=this._parentBottomSheet;return K?K._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(K){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=K:this._bottomSheetRefAtThisLevel=K}constructor(K,Ge,Fe,ze){this._overlay=K,this._parentBottomSheet=Fe,this._defaultOptions=ze,this._bottomSheetRefAtThisLevel=null,this._dialog=Ge.get(d.Vq)}open(K,Ge){const Fe={...this._defaultOptions||new bt,...Ge};let ze;return this._dialog.open(K,{...Fe,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Le,scrollStrategy:Fe.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:ze}),providers:(vt,_n,kn)=>(ze=new ue(vt,Fe,kn),[{provide:ue,useValue:ze},{provide:Re,useValue:Fe.data}])}),ze.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===ze&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>ze.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):ze.containerInstance.enter(),this._openedBottomSheetRef=ze,ze}dismiss(K){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(K)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return Me.\u0275fac=function(K){return new(K||Me)(g.LFG(Z.aV),g.LFG(g.zs3),g.LFG(Me,12),g.LFG(De,8))},Me.\u0275prov=g.Yz7({token:Me,factory:Me.\u0275fac,providedIn:He}),Me})()},1728:(pn,it,E)=>{E.d(it,{cs:()=>Qt,lW:()=>_n,ot:()=>Ke});var d=E(2966),L=E(2223),g=E(706),ne=E(1217),xe=E(4755),ae=E(1692);const Z=["mat-button",""],_e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ee=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],fe=["mat-fab",""],He={capture:!0},Re=["focus","click","mouseenter","touchstart"],bt="mat-button-ripple-uninitialized";let ue=(()=>{class Xe{constructor(){this._document=(0,L.f3M)(xe.K0,{optional:!0}),this._animationMode=(0,L.f3M)(L.QbO,{optional:!0}),this._globalRippleOptions=(0,L.f3M)(ne.Y2,{optional:!0}),this._platform=(0,L.f3M)(d.t4),this._ngZone=(0,L.f3M)(L.R0b),this._onInteraction=yt=>{if(yt.target===this._document)return;const Tt=yt.target.closest(`[${bt}]`);Tt&&(Tt.removeAttribute(bt),this._appendRipple(Tt))},this._ngZone.runOutsideAngular(()=>{for(const yt of Re)this._document?.addEventListener(yt,this._onInteraction,He)})}ngOnDestroy(){for(const yt of Re)this._document?.removeEventListener(yt,this._onInteraction,He)}_appendRipple(yt){if(!this._document)return;const Ht=this._document.createElement("span");Ht.classList.add("mat-mdc-button-ripple");const Tt=new De(yt,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Tt.rippleConfig.centered=yt.hasAttribute("mat-icon-button"),new ne.IR(Tt,this._ngZone,Ht,this._platform).setupTriggerEvents(yt),yt.append(Ht)}_createMatRipple(yt){if(!this._document)return;yt.querySelector(".mat-mdc-button-ripple")?.remove(),yt.removeAttribute(bt);const Ht=this._document.createElement("span");Ht.classList.add("mat-mdc-button-ripple");const Tt=new ne.wG(new L.SBq(Ht),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Tt._isInitialized=!0,Tt.trigger=yt,yt.append(Ht),Tt}}return Xe.\u0275fac=function(yt){return new(yt||Xe)},Xe.\u0275prov=L.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})();class De{constructor(Ct,yt,Ht){this._button=Ct,this._globalRippleOptions=yt,this._setRippleConfig(yt,Ht)}_setRippleConfig(Ct,yt){this.rippleConfig=Ct||{},"NoopAnimations"===yt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const $e=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],K=(0,ne.pj)((0,ne.Id)((0,ne.Kr)(class{constructor(Xe){this._elementRef=Xe}})));let Ge=(()=>{class Xe extends K{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(yt){this._ripple=yt}constructor(yt,Ht,Tt,un){super(yt),this._platform=Ht,this._ngZone=Tt,this._animationMode=un,this._focusMonitor=(0,L.f3M)(g.tE),this._rippleLoader=(0,L.f3M)(ue),this._isFab=!1;const Jt=yt.nativeElement.classList;for(const yn of $e)this._hasHostAttributes(yn.selector)&&yn.mdcClasses.forEach(Gn=>{Jt.add(Gn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(yt="program",Ht){yt?this._focusMonitor.focusVia(this._elementRef.nativeElement,yt,Ht):this._elementRef.nativeElement.focus(Ht)}_hasHostAttributes(...yt){return yt.some(Ht=>this._elementRef.nativeElement.hasAttribute(Ht))}}return Xe.\u0275fac=function(yt){L.$Z()},Xe.\u0275dir=L.lG2({type:Xe,features:[L.qOj,L.TTD]}),Xe})(),_n=(()=>{class Xe extends Ge{constructor(yt,Ht,Tt,un){super(yt,Ht,Tt,un)}}return Xe.\u0275fac=function(yt){return new(yt||Xe)(L.Y36(L.SBq),L.Y36(d.t4),L.Y36(L.R0b),L.Y36(L.QbO,8))},Xe.\u0275cmp=L.Xpm({type:Xe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(yt,Ht){2&yt&&(L.uIk("disabled",Ht.disabled||null),L.ekj("_mat-animation-noopable","NoopAnimations"===Ht._animationMode)("mat-unthemed",!Ht.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[L.qOj],attrs:Z,ngContentSelectors:Ee,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(yt,Ht){1&yt&&(L.F$t(_e),L._UZ(0,"span",0),L.Hsn(1),L.TgZ(2,"span",1),L.Hsn(3,1),L.qZA(),L.Hsn(4,2),L._UZ(5,"span",2)(6,"span",3)),2&yt&&L.ekj("mdc-button__ripple",!Ht._isFab)("mdc-fab__ripple",Ht._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Xe})();const ht=new L.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:ft});function ft(){return{color:"accent"}}const kt=ft();let Qt=(()=>{class Xe extends Ge{get extended(){return this._extended}set extended(yt){this._extended=(0,ae.Ig)(yt)}constructor(yt,Ht,Tt,un,Jt){super(yt,Ht,Tt,un),this._options=Jt,this._isFab=!0,this._options=this._options||kt,this.color=this.defaultColor=this._options.color||kt.color}}return Xe.\u0275fac=function(yt){return new(yt||Xe)(L.Y36(L.SBq),L.Y36(d.t4),L.Y36(L.R0b),L.Y36(L.QbO,8),L.Y36(ht,8))},Xe.\u0275cmp=L.Xpm({type:Xe,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(yt,Ht){2&yt&&(L.uIk("disabled",Ht.disabled||null),L.ekj("_mat-animation-noopable","NoopAnimations"===Ht._animationMode)("mat-unthemed",!Ht.color)("mat-mdc-button-base",!0)("mdc-fab--extended",Ht.extended)("mat-mdc-extended-fab",Ht.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[L.qOj],attrs:fe,ngContentSelectors:Ee,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(yt,Ht){1&yt&&(L.F$t(_e),L._UZ(0,"span",0),L.Hsn(1),L.TgZ(2,"span",1),L.Hsn(3,1),L.qZA(),L.Hsn(4,2),L._UZ(5,"span",2)(6,"span",3)),2&yt&&L.ekj("mdc-button__ripple",!Ht._isFab)("mdc-fab__ripple",Ht._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),Xe})(),Ke=(()=>{class Xe{}return Xe.\u0275fac=function(yt){return new(yt||Xe)},Xe.\u0275mod=L.oAB({type:Xe}),Xe.\u0275inj=L.cJS({imports:[ne.BQ,ne.si,ne.BQ]}),Xe})()},6012:(pn,it,E)=>{E.d(it,{$j:()=>Ne,G2:()=>He,QW:()=>$e,a8:()=>se,dk:()=>rt,dn:()=>Je,hq:()=>ut,n5:()=>de});var d=E(2223),L=E(4755),g=E(1217);const ne=["*"],Z=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],_e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Ee=new d.OlP("MAT_CARD_CONFIG");let se=(()=>{class K{constructor(Fe){this.appearance=Fe?.appearance||"raised"}}return K.\u0275fac=function(Fe){return new(Fe||K)(d.Y36(Ee,8))},K.\u0275cmp=d.Xpm({type:K,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(Fe,ze){2&Fe&&d.ekj("mat-mdc-card-outlined","outlined"===ze.appearance)("mdc-card--outlined","outlined"===ze.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ne,decls:1,vars:0,template:function(Fe,ze){1&Fe&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),K})(),de=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),K})(),Je=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),K})(),Ne=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),K})(),ut=(()=>{class K{constructor(){this.align="start"}}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(Fe,ze){2&Fe&&d.ekj("mat-mdc-card-actions-align-end","end"===ze.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),K})(),rt=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275cmp=d.Xpm({type:K,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:_e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(Fe,ze){1&Fe&&(d.F$t(Z),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),K})(),He=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275dir=d.lG2({type:K,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),K})(),$e=(()=>{class K{}return K.\u0275fac=function(Fe){return new(Fe||K)},K.\u0275mod=d.oAB({type:K}),K.\u0275inj=d.cJS({imports:[g.BQ,L.ez,g.BQ]}),K})()},1217:(pn,it,E)=>{E.d(it,{yN:()=>Le,mZ:()=>He,Y2:()=>Ve,BQ:()=>ue,Ng:()=>mi,us:()=>Qe,wG:()=>mt,si:()=>at,IR:()=>Ut,pj:()=>K,Kr:()=>Ge,Id:()=>$e});var d=E(2223),L=E(706),g=E(8930),xe=E(4755),ae=E(2966),Z=E(1692);let Le=(()=>{class Yt{}return Yt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Yt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Yt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Yt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Yt})(),He=(()=>{class Yt{}return Yt.COMPLEX="375ms",Yt.ENTERING="225ms",Yt.EXITING="195ms",Yt})();const bt=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function Re(){return!0}});let ue=(()=>{class Yt{constructor(st,Be,Oe){this._sanityChecks=Be,this._document=Oe,this._hasDoneGlobalChecks=!1,st._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(st){return!(0,ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[st])}}return Yt.\u0275fac=function(st){return new(st||Yt)(d.LFG(L.qm),d.LFG(bt,8),d.LFG(xe.K0))},Yt.\u0275mod=d.oAB({type:Yt}),Yt.\u0275inj=d.cJS({imports:[g.vT,g.vT]}),Yt})();function $e(Yt){return class extends Yt{get disabled(){return this._disabled}set disabled(et){this._disabled=(0,Z.Ig)(et)}constructor(...et){super(...et),this._disabled=!1}}}function K(Yt,et){return class extends Yt{get color(){return this._color}set color(st){const Be=st||this.defaultColor;Be!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Be&&this._elementRef.nativeElement.classList.add(`mat-${Be}`),this._color=Be)}constructor(...st){super(...st),this.defaultColor=et,this.color=et}}}function Ge(Yt){return class extends Yt{get disableRipple(){return this._disableRipple}set disableRipple(et){this._disableRipple=(0,Z.Ig)(et)}constructor(...et){super(...et),this._disableRipple=!1}}}class Ht{constructor(et,st,Be,Oe=!1){this._renderer=et,this.element=st,this.config=Be,this._animationForciblyDisabledThroughCss=Oe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tt=(0,ae.i$)({passive:!0,capture:!0});class un{constructor(){this._events=new Map,this._delegateEventHandler=et=>{const st=(0,ae.sA)(et);st&&this._events.get(et.type)?.forEach((Be,Oe)=>{(Oe===st||Oe.contains(st))&&Be.forEach(Ie=>Ie.handleEvent(et))})}}addHandler(et,st,Be,Oe){const Ie=this._events.get(st);if(Ie){const xt=Ie.get(Be);xt?xt.add(Oe):Ie.set(Be,new Set([Oe]))}else this._events.set(st,new Map([[Be,new Set([Oe])]])),et.runOutsideAngular(()=>{document.addEventListener(st,this._delegateEventHandler,Tt)})}removeHandler(et,st,Be){const Oe=this._events.get(et);if(!Oe)return;const Ie=Oe.get(st);Ie&&(Ie.delete(Be),0===Ie.size&&Oe.delete(st),0===Oe.size&&(this._events.delete(et),document.removeEventListener(et,this._delegateEventHandler,Tt)))}}const Jt={enterDuration:225,exitDuration:150},Gn=(0,ae.i$)({passive:!0,capture:!0}),ci=["mousedown","touchstart"],Hn=["mouseup","mouseleave","touchend","touchcancel"];class Ut{constructor(et,st,Be,Oe){this._target=et,this._ngZone=st,this._platform=Oe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Oe.isBrowser&&(this._containerElement=(0,Z.fI)(Be))}fadeInRipple(et,st,Be={}){const Oe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ie={...Jt,...Be.animation};Be.centered&&(et=Oe.left+Oe.width/2,st=Oe.top+Oe.height/2);const xt=Be.radius||function ce(Yt,et,st){const Be=Math.max(Math.abs(Yt-st.left),Math.abs(Yt-st.right)),Oe=Math.max(Math.abs(et-st.top),Math.abs(et-st.bottom));return Math.sqrt(Be*Be+Oe*Oe)}(et,st,Oe),jt=et-Oe.left,Te=st-Oe.top,oe=Ie.enterDuration,H=document.createElement("div");H.classList.add("mat-ripple-element"),H.style.left=jt-xt+"px",H.style.top=Te-xt+"px",H.style.height=2*xt+"px",H.style.width=2*xt+"px",null!=Be.color&&(H.style.backgroundColor=Be.color),H.style.transitionDuration=`${oe}ms`,this._containerElement.appendChild(H);const U=window.getComputedStyle(H),le=U.transitionDuration,re="none"===U.transitionProperty||"0s"===le||"0s, 0s"===le||0===Oe.width&&0===Oe.height,ve=new Ht(this,H,Be,re);H.style.transform="scale3d(1, 1, 1)",ve.state=0,Be.persistent||(this._mostRecentTransientRipple=ve);let Et=null;return!re&&(oe||Ie.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wt=()=>this._finishRippleTransition(ve),Ot=()=>this._destroyRipple(ve);H.addEventListener("transitionend",wt),H.addEventListener("transitioncancel",Ot),Et={onTransitionEnd:wt,onTransitionCancel:Ot}}),this._activeRipples.set(ve,Et),(re||!oe)&&this._finishRippleTransition(ve),ve}fadeOutRipple(et){if(2===et.state||3===et.state)return;const st=et.element,Be={...Jt,...et.config.animation};st.style.transitionDuration=`${Be.exitDuration}ms`,st.style.opacity="0",et.state=2,(et._animationForciblyDisabledThroughCss||!Be.exitDuration)&&this._finishRippleTransition(et)}fadeOutAll(){this._getActiveRipples().forEach(et=>et.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(et=>{et.config.persistent||et.fadeOut()})}setupTriggerEvents(et){const st=(0,Z.fI)(et);!this._platform.isBrowser||!st||st===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=st,ci.forEach(Be=>{Ut._eventManager.addHandler(this._ngZone,Be,st,this)}))}handleEvent(et){"mousedown"===et.type?this._onMousedown(et):"touchstart"===et.type?this._onTouchStart(et):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Hn.forEach(st=>{this._triggerElement.addEventListener(st,this,Gn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(et){0===et.state?this._startFadeOutTransition(et):2===et.state&&this._destroyRipple(et)}_startFadeOutTransition(et){const st=et===this._mostRecentTransientRipple,{persistent:Be}=et.config;et.state=1,!Be&&(!st||!this._isPointerDown)&&et.fadeOut()}_destroyRipple(et){const st=this._activeRipples.get(et)??null;this._activeRipples.delete(et),this._activeRipples.size||(this._containerRect=null),et===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),et.state=3,null!==st&&(et.element.removeEventListener("transitionend",st.onTransitionEnd),et.element.removeEventListener("transitioncancel",st.onTransitionCancel)),et.element.remove()}_onMousedown(et){const st=(0,L.X6)(et),Be=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!st&&!Be&&(this._isPointerDown=!0,this.fadeInRipple(et.clientX,et.clientY,this._target.rippleConfig))}_onTouchStart(et){if(!this._target.rippleDisabled&&!(0,L.yG)(et)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const st=et.changedTouches;for(let Be=0;Be<st.length;Be++)this.fadeInRipple(st[Be].clientX,st[Be].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(et=>{!et.config.persistent&&(1===et.state||et.config.terminateOnPointerUp&&0===et.state)&&et.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const et=this._triggerElement;et&&(ci.forEach(st=>Ut._eventManager.removeHandler(st,et,this)),this._pointerUpEventsRegistered&&Hn.forEach(st=>et.removeEventListener(st,this,Gn)))}}Ut._eventManager=new un;const Ve=new d.OlP("mat-ripple-global-options");let mt=(()=>{class Yt{get disabled(){return this._disabled}set disabled(st){st&&this.fadeOutAllNonPersistent(),this._disabled=st,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(st){this._trigger=st,this._setupTriggerEventsIfEnabled()}constructor(st,Be,Oe,Ie,xt){this._elementRef=st,this._animationMode=xt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ie||{},this._rippleRenderer=new Ut(this,Be,st,Oe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(st,Be=0,Oe){return"number"==typeof st?this._rippleRenderer.fadeInRipple(st,Be,{...this.rippleConfig,...Oe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...st})}}return Yt.\u0275fac=function(st){return new(st||Yt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ae.t4),d.Y36(Ve,8),d.Y36(d.QbO,8))},Yt.\u0275dir=d.lG2({type:Yt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(st,Be){2&st&&d.ekj("mat-ripple-unbounded",Be.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Yt})(),at=(()=>{class Yt{}return Yt.\u0275fac=function(st){return new(st||Yt)},Yt.\u0275mod=d.oAB({type:Yt}),Yt.\u0275inj=d.cJS({imports:[ue,ue]}),Yt})(),Qe=(()=>{class Yt{}return Yt.\u0275fac=function(st){return new(st||Yt)},Yt.\u0275mod=d.oAB({type:Yt}),Yt.\u0275inj=d.cJS({imports:[ue]}),Yt})(),mi=(()=>{class Yt{}return Yt.\u0275fac=function(st){return new(st||Yt)},Yt.\u0275mod=d.oAB({type:Yt}),Yt.\u0275inj=d.cJS({imports:[at,xe.ez,ue,Qe]}),Yt})()},6286:(pn,it,E)=>{E.d(it,{Is:()=>Ct,WI:()=>vt,so:()=>Fe,uw:()=>Gt});var d=E(9002),L=E(4755),g=E(2223),ne=E(706),xe=E(3223),ae=E(1692),Z=E(8023),_e=E(7579),Ee=E(6451),se=E(9770),de=E(9300),fe=E(5698),Je=E(8675),Ne=E(2840),ut=E(1217);function Le(Tt,un){}E(1591);class He{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Re="mdc-dialog--open",bt="mdc-dialog--opening",ue="mdc-dialog--closing";let Me=(()=>{class Tt extends xe.LL{constructor(Jt,yn,Gn,ci,Hn,Ut,ce,Ve){super(Jt,yn,Gn,ci,Hn,Ut,ce,Ve),this._animationStateChanged=new g.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Jt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Jt})}}return Tt.\u0275fac=function(Jt){return new(Jt||Tt)(g.Y36(g.SBq),g.Y36(ne.qV),g.Y36(L.K0,8),g.Y36(He),g.Y36(ne.ic),g.Y36(g.R0b),g.Y36(d.Iu),g.Y36(ne.tE))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["ng-component"]],features:[g.qOj],decls:0,vars:0,template:function(Jt,yn){},encapsulation:2}),Tt})();const $e="--mat-dialog-transition-duration";function K(Tt){return null==Tt?null:"number"==typeof Tt?Tt:Tt.endsWith("ms")?(0,ae.su)(Tt.substring(0,Tt.length-2)):Tt.endsWith("s")?1e3*(0,ae.su)(Tt.substring(0,Tt.length-1)):"0"===Tt?0:null}let Ge=(()=>{class Tt extends Me{constructor(Jt,yn,Gn,ci,Hn,Ut,ce,Ve,mt){super(Jt,yn,Gn,ci,Hn,Ut,ce,mt),this._animationMode=Ve,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?K(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?K(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($e,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(bt,Re)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Re),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Re),this._animationsEnabled?(this._hostElement.style.setProperty($e,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ue)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(bt,ue)}_waitForAnimationToComplete(Jt,yn){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(yn,Jt)}_requestAnimationFrame(Jt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Jt):Jt()})}}return Tt.\u0275fac=function(Jt){return new(Jt||Tt)(g.Y36(g.SBq),g.Y36(ne.qV),g.Y36(L.K0,8),g.Y36(He),g.Y36(ne.ic),g.Y36(g.R0b),g.Y36(d.Iu),g.Y36(g.QbO,8),g.Y36(ne.tE))},Tt.\u0275cmp=g.Xpm({type:Tt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(Jt,yn){2&Jt&&(g.Ikx("id",yn._config.id),g.uIk("aria-modal",yn._config.ariaModal)("role",yn._config.role)("aria-labelledby",yn._config.ariaLabel?null:yn._ariaLabelledBy)("aria-label",yn._config.ariaLabel)("aria-describedby",yn._config.ariaDescribedBy||null),g.ekj("_mat-animation-noopable",!yn._animationsEnabled))},features:[g.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Jt,yn){1&Jt&&(g.TgZ(0,"div",0)(1,"div",1),g.YNc(2,Le,0,0,"ng-template",2),g.qZA()())},dependencies:[Z.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),Tt})();class Fe{constructor(un,Jt,yn){this._ref=un,this._containerInstance=yn,this._afterOpened=new _e.x,this._beforeClosed=new _e.x,this._state=0,this.disableClose=Jt.disableClose,this.id=un.id,yn._animationStateChanged.pipe((0,de.h)(Gn=>"opened"===Gn.state),(0,fe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),yn._animationStateChanged.pipe((0,de.h)(Gn=>"closed"===Gn.state),(0,fe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),un.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ee.T)(this.backdropClick(),this.keydownEvents().pipe((0,de.h)(Gn=>Gn.keyCode===Ne.hY&&!this.disableClose&&!(0,Ne.Vb)(Gn)))).subscribe(Gn=>{this.disableClose||(Gn.preventDefault(),function ze(Tt,un,Jt){Tt._closeInteractionType=un,Tt.close(Jt)}(this,"keydown"===Gn.type?"keyboard":"mouse"))})}close(un){this._result=un,this._containerInstance._animationStateChanged.pipe((0,de.h)(Jt=>"closing"===Jt.state),(0,fe.q)(1)).subscribe(Jt=>{this._beforeClosed.next(un),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Jt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(un){let Jt=this._ref.config.positionStrategy;return un&&(un.left||un.right)?un.left?Jt.left(un.left):Jt.right(un.right):Jt.centerHorizontally(),un&&(un.top||un.bottom)?un.top?Jt.top(un.top):Jt.bottom(un.bottom):Jt.centerVertically(),this._ref.updatePosition(),this}updateSize(un="",Jt=""){return this._ref.updateSize(un,Jt),this}addPanelClass(un){return this._ref.addPanelClass(un),this}removePanelClass(un){return this._ref.removePanelClass(un),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const vt=new g.OlP("MatMdcDialogData"),_n=new g.OlP("mat-mdc-dialog-default-options"),kn=new g.OlP("mat-mdc-dialog-scroll-strategy"),ft={provide:kn,deps:[d.aV],useFactory:function ht(Tt){return()=>Tt.scrollStrategies.block()}};let Pt=0,Qt=(()=>{class Tt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Jt=this._parentDialog;return Jt?Jt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Jt,yn,Gn,ci,Hn,Ut,ce,Ve,mt,at){this._overlay=Jt,this._defaultOptions=Gn,this._parentDialog=ci,this._dialogRefConstructor=ce,this._dialogContainerType=Ve,this._dialogDataToken=mt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e.x,this._afterOpenedAtThisLevel=new _e.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=He,this.afterAllClosed=(0,se.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Je.O)(void 0))),this._scrollStrategy=Ut,this._dialog=yn.get(xe.Vq)}open(Jt,yn){let Gn;(yn={...this._defaultOptions||new He,...yn}).id=yn.id||`${this._idPrefix}${Pt++}`,yn.scrollStrategy=yn.scrollStrategy||this._scrollStrategy();const ci=this._dialog.open(Jt,{...yn,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:yn},{provide:xe.ib,useValue:yn}]},templateContext:()=>({dialogRef:Gn}),providers:(Hn,Ut,ce)=>(Gn=new this._dialogRefConstructor(Hn,yn,ce),Gn.updatePosition(yn?.position),[{provide:this._dialogContainerType,useValue:ce},{provide:this._dialogDataToken,useValue:Ut.data},{provide:this._dialogRefConstructor,useValue:Gn}])});return Gn.componentInstance=ci.componentInstance,this.openDialogs.push(Gn),this.afterOpened.next(Gn),Gn.afterClosed().subscribe(()=>{const Hn=this.openDialogs.indexOf(Gn);Hn>-1&&(this.openDialogs.splice(Hn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Gn}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Jt){return this.openDialogs.find(yn=>yn.id===Jt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Jt){let yn=Jt.length;for(;yn--;)Jt[yn].close()}}return Tt.\u0275fac=function(Jt){g.$Z()},Tt.\u0275prov=g.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})(),Gt=(()=>{class Tt extends Qt{constructor(Jt,yn,Gn,ci,Hn,Ut,ce,Ve){super(Jt,yn,ci,Ut,ce,Hn,Fe,Ge,vt,Ve),this._idPrefix="mat-mdc-dialog-"}}return Tt.\u0275fac=function(Jt){return new(Jt||Tt)(g.LFG(d.aV),g.LFG(g.zs3),g.LFG(L.Ye,8),g.LFG(_n,8),g.LFG(kn),g.LFG(Tt,12),g.LFG(d.Xj),g.LFG(g.QbO,8))},Tt.\u0275prov=g.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})(),Ct=(()=>{class Tt{}return Tt.\u0275fac=function(Jt){return new(Jt||Tt)},Tt.\u0275mod=g.oAB({type:Tt}),Tt.\u0275inj=g.cJS({providers:[Gt,ft],imports:[xe.Su,d.U8,Z.eL,ut.BQ,ut.BQ]}),Tt})()},430:(pn,it,E)=>{E.d(it,{Hw:()=>dn,Ps:()=>gn});var d=E(2223),L=E(1217),g=E(1692),ne=E(4755),xe=E(9646),ae=E(2843),Z=E(4128),_e=E(727),Ee=E(8505),se=E(4004),de=E(262),fe=E(8746),Je=E(3099),Ne=E(5698),ut=E(3144),rt=E(6550);const Le=["*"];let He;function bt(an){return function Re(){if(void 0===He&&(He=null,typeof window<"u")){const an=window;void 0!==an.trustedTypes&&(He=an.trustedTypes.createPolicy("angular#components",{createHTML:At=>At}))}return He}()?.createHTML(an)||an}function ue(an){return Error(`Unable to find icon with the name "${an}"`)}function be(an){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${an}".`)}function Me(an){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${an}".`)}class $e{constructor(At,Ke,Xe){this.url=At,this.svgText=Ke,this.options=Xe}}let K=(()=>{class an{constructor(Ke,Xe,Ct,yt){this._httpClient=Ke,this._sanitizer=Xe,this._errorHandler=yt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ct}addSvgIcon(Ke,Xe,Ct){return this.addSvgIconInNamespace("",Ke,Xe,Ct)}addSvgIconLiteral(Ke,Xe,Ct){return this.addSvgIconLiteralInNamespace("",Ke,Xe,Ct)}addSvgIconInNamespace(Ke,Xe,Ct,yt){return this._addSvgIconConfig(Ke,Xe,new $e(Ct,null,yt))}addSvgIconResolver(Ke){return this._resolvers.push(Ke),this}addSvgIconLiteralInNamespace(Ke,Xe,Ct,yt){const Ht=this._sanitizer.sanitize(d.q3G.HTML,Ct);if(!Ht)throw Me(Ct);const Tt=bt(Ht);return this._addSvgIconConfig(Ke,Xe,new $e("",Tt,yt))}addSvgIconSet(Ke,Xe){return this.addSvgIconSetInNamespace("",Ke,Xe)}addSvgIconSetLiteral(Ke,Xe){return this.addSvgIconSetLiteralInNamespace("",Ke,Xe)}addSvgIconSetInNamespace(Ke,Xe,Ct){return this._addSvgIconSetConfig(Ke,new $e(Xe,null,Ct))}addSvgIconSetLiteralInNamespace(Ke,Xe,Ct){const yt=this._sanitizer.sanitize(d.q3G.HTML,Xe);if(!yt)throw Me(Xe);const Ht=bt(yt);return this._addSvgIconSetConfig(Ke,new $e("",Ht,Ct))}registerFontClassAlias(Ke,Xe=Ke){return this._fontCssClassesByAlias.set(Ke,Xe),this}classNameForFontAlias(Ke){return this._fontCssClassesByAlias.get(Ke)||Ke}setDefaultFontSetClass(...Ke){return this._defaultFontSetClass=Ke,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ke){const Xe=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Ke);if(!Xe)throw be(Ke);const Ct=this._cachedIconsByUrl.get(Xe);return Ct?(0,xe.of)(ze(Ct)):this._loadSvgIconFromConfig(new $e(Ke,null)).pipe((0,Ee.b)(yt=>this._cachedIconsByUrl.set(Xe,yt)),(0,se.U)(yt=>ze(yt)))}getNamedSvgIcon(Ke,Xe=""){const Ct=vt(Xe,Ke);let yt=this._svgIconConfigs.get(Ct);if(yt)return this._getSvgFromConfig(yt);if(yt=this._getIconConfigFromResolvers(Xe,Ke),yt)return this._svgIconConfigs.set(Ct,yt),this._getSvgFromConfig(yt);const Ht=this._iconSetConfigs.get(Xe);return Ht?this._getSvgFromIconSetConfigs(Ke,Ht):(0,ae._)(ue(Ct))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ke){return Ke.svgText?(0,xe.of)(ze(this._svgElementFromConfig(Ke))):this._loadSvgIconFromConfig(Ke).pipe((0,se.U)(Xe=>ze(Xe)))}_getSvgFromIconSetConfigs(Ke,Xe){const Ct=this._extractIconWithNameFromAnySet(Ke,Xe);if(Ct)return(0,xe.of)(Ct);const yt=Xe.filter(Ht=>!Ht.svgText).map(Ht=>this._loadSvgIconSetFromConfig(Ht).pipe((0,de.K)(Tt=>{const Jt=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Ht.url)} failed: ${Tt.message}`;return this._errorHandler.handleError(new Error(Jt)),(0,xe.of)(null)})));return(0,Z.D)(yt).pipe((0,se.U)(()=>{const Ht=this._extractIconWithNameFromAnySet(Ke,Xe);if(!Ht)throw ue(Ke);return Ht}))}_extractIconWithNameFromAnySet(Ke,Xe){for(let Ct=Xe.length-1;Ct>=0;Ct--){const yt=Xe[Ct];if(yt.svgText&&yt.svgText.toString().indexOf(Ke)>-1){const Ht=this._svgElementFromConfig(yt),Tt=this._extractSvgIconFromSet(Ht,Ke,yt.options);if(Tt)return Tt}}return null}_loadSvgIconFromConfig(Ke){return this._fetchIcon(Ke).pipe((0,Ee.b)(Xe=>Ke.svgText=Xe),(0,se.U)(()=>this._svgElementFromConfig(Ke)))}_loadSvgIconSetFromConfig(Ke){return Ke.svgText?(0,xe.of)(null):this._fetchIcon(Ke).pipe((0,Ee.b)(Xe=>Ke.svgText=Xe))}_extractSvgIconFromSet(Ke,Xe,Ct){const yt=Ke.querySelector(`[id="${Xe}"]`);if(!yt)return null;const Ht=yt.cloneNode(!0);if(Ht.removeAttribute("id"),"svg"===Ht.nodeName.toLowerCase())return this._setSvgAttributes(Ht,Ct);if("symbol"===Ht.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ht),Ct);const Tt=this._svgElementFromString(bt("<svg></svg>"));return Tt.appendChild(Ht),this._setSvgAttributes(Tt,Ct)}_svgElementFromString(Ke){const Xe=this._document.createElement("DIV");Xe.innerHTML=Ke;const Ct=Xe.querySelector("svg");if(!Ct)throw Error("<svg> tag not found");return Ct}_toSvgElement(Ke){const Xe=this._svgElementFromString(bt("<svg></svg>")),Ct=Ke.attributes;for(let yt=0;yt<Ct.length;yt++){const{name:Ht,value:Tt}=Ct[yt];"id"!==Ht&&Xe.setAttribute(Ht,Tt)}for(let yt=0;yt<Ke.childNodes.length;yt++)Ke.childNodes[yt].nodeType===this._document.ELEMENT_NODE&&Xe.appendChild(Ke.childNodes[yt].cloneNode(!0));return Xe}_setSvgAttributes(Ke,Xe){return Ke.setAttribute("fit",""),Ke.setAttribute("height","100%"),Ke.setAttribute("width","100%"),Ke.setAttribute("preserveAspectRatio","xMidYMid meet"),Ke.setAttribute("focusable","false"),Xe&&Xe.viewBox&&Ke.setAttribute("viewBox",Xe.viewBox),Ke}_fetchIcon(Ke){const{url:Xe,options:Ct}=Ke,yt=Ct?.withCredentials??!1;if(!this._httpClient)throw function De(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Xe)throw Error(`Cannot fetch icon from URL "${Xe}".`);const Ht=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Xe);if(!Ht)throw be(Xe);const Tt=this._inProgressUrlFetches.get(Ht);if(Tt)return Tt;const un=this._httpClient.get(Ht,{responseType:"text",withCredentials:yt}).pipe((0,se.U)(Jt=>bt(Jt)),(0,fe.x)(()=>this._inProgressUrlFetches.delete(Ht)),(0,Je.B)());return this._inProgressUrlFetches.set(Ht,un),un}_addSvgIconConfig(Ke,Xe,Ct){return this._svgIconConfigs.set(vt(Ke,Xe),Ct),this}_addSvgIconSetConfig(Ke,Xe){const Ct=this._iconSetConfigs.get(Ke);return Ct?Ct.push(Xe):this._iconSetConfigs.set(Ke,[Xe]),this}_svgElementFromConfig(Ke){if(!Ke.svgElement){const Xe=this._svgElementFromString(Ke.svgText);this._setSvgAttributes(Xe,Ke.options),Ke.svgElement=Xe}return Ke.svgElement}_getIconConfigFromResolvers(Ke,Xe){for(let Ct=0;Ct<this._resolvers.length;Ct++){const yt=this._resolvers[Ct](Xe,Ke);if(yt)return _n(yt)?new $e(yt.url,null,yt.options):new $e(yt,null)}}}return an.\u0275fac=function(Ke){return new(Ke||an)(d.LFG(ut.eN,8),d.LFG(rt.H7),d.LFG(ne.K0,8),d.LFG(d.qLn))},an.\u0275prov=d.Yz7({token:an,factory:an.\u0275fac,providedIn:"root"}),an})();function ze(an){return an.cloneNode(!0)}function vt(an,At){return an+":"+At}function _n(an){return!(!an.url||!an.options)}const kn=(0,L.pj)(class{constructor(an){this._elementRef=an}}),ht=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),ft=new d.OlP("mat-icon-location",{providedIn:"root",factory:function kt(){const an=(0,d.f3M)(ne.K0),At=an?an.location:null;return{getPathname:()=>At?At.pathname+At.search:""}}}),Pt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Qt=Pt.map(an=>`[${an}]`).join(", "),Gt=/^url\(['"]?#(.*?)['"]?\)$/;let dn=(()=>{class an extends kn{get inline(){return this._inline}set inline(Ke){this._inline=(0,g.Ig)(Ke)}get svgIcon(){return this._svgIcon}set svgIcon(Ke){Ke!==this._svgIcon&&(Ke?this._updateSvgIcon(Ke):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ke)}get fontSet(){return this._fontSet}set fontSet(Ke){const Xe=this._cleanupFontValue(Ke);Xe!==this._fontSet&&(this._fontSet=Xe,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ke){const Xe=this._cleanupFontValue(Ke);Xe!==this._fontIcon&&(this._fontIcon=Xe,this._updateFontIconClasses())}constructor(Ke,Xe,Ct,yt,Ht,Tt){super(Ke),this._iconRegistry=Xe,this._location=yt,this._errorHandler=Ht,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=_e.w0.EMPTY,Tt&&(Tt.color&&(this.color=this.defaultColor=Tt.color),Tt.fontSet&&(this.fontSet=Tt.fontSet)),Ct||Ke.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Ke){if(!Ke)return["",""];const Xe=Ke.split(":");switch(Xe.length){case 1:return["",Xe[0]];case 2:return Xe;default:throw Error(`Invalid icon name: "${Ke}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ke=this._elementsWithExternalReferences;if(Ke&&Ke.size){const Xe=this._location.getPathname();Xe!==this._previousPath&&(this._previousPath=Xe,this._prependPathToReferences(Xe))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ke){this._clearSvgElement();const Xe=this._location.getPathname();this._previousPath=Xe,this._cacheChildrenWithExternalReferences(Ke),this._prependPathToReferences(Xe),this._elementRef.nativeElement.appendChild(Ke)}_clearSvgElement(){const Ke=this._elementRef.nativeElement;let Xe=Ke.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Xe--;){const Ct=Ke.childNodes[Xe];(1!==Ct.nodeType||"svg"===Ct.nodeName.toLowerCase())&&Ct.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ke=this._elementRef.nativeElement,Xe=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ct=>Ct.length>0);this._previousFontSetClass.forEach(Ct=>Ke.classList.remove(Ct)),Xe.forEach(Ct=>Ke.classList.add(Ct)),this._previousFontSetClass=Xe,this.fontIcon!==this._previousFontIconClass&&!Xe.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ke.classList.remove(this._previousFontIconClass),this.fontIcon&&Ke.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ke){return"string"==typeof Ke?Ke.trim().split(" ")[0]:Ke}_prependPathToReferences(Ke){const Xe=this._elementsWithExternalReferences;Xe&&Xe.forEach((Ct,yt)=>{Ct.forEach(Ht=>{yt.setAttribute(Ht.name,`url('${Ke}#${Ht.value}')`)})})}_cacheChildrenWithExternalReferences(Ke){const Xe=Ke.querySelectorAll(Qt),Ct=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let yt=0;yt<Xe.length;yt++)Pt.forEach(Ht=>{const Tt=Xe[yt],un=Tt.getAttribute(Ht),Jt=un?un.match(Gt):null;if(Jt){let yn=Ct.get(Tt);yn||(yn=[],Ct.set(Tt,yn)),yn.push({name:Ht,value:Jt[1]})}})}_updateSvgIcon(Ke){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ke){const[Xe,Ct]=this._splitIconName(Ke);Xe&&(this._svgNamespace=Xe),Ct&&(this._svgName=Ct),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ct,Xe).pipe((0,Ne.q)(1)).subscribe(yt=>this._setSvgElement(yt),yt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Xe}:${Ct}! ${yt.message}`))})}}}return an.\u0275fac=function(Ke){return new(Ke||an)(d.Y36(d.SBq),d.Y36(K),d.$8M("aria-hidden"),d.Y36(ft),d.Y36(d.qLn),d.Y36(ht,8))},an.\u0275cmp=d.Xpm({type:an,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ke,Xe){2&Ke&&(d.uIk("data-mat-icon-type",Xe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Xe._svgName||Xe.fontIcon)("data-mat-icon-namespace",Xe._svgNamespace||Xe.fontSet)("fontIcon",Xe._usingFontIcon()?Xe.fontIcon:null),d.ekj("mat-icon-inline",Xe.inline)("mat-icon-no-color","primary"!==Xe.color&&"accent"!==Xe.color&&"warn"!==Xe.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:Le,decls:1,vars:0,template:function(Ke,Xe){1&Ke&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),an})(),gn=(()=>{class an{}return an.\u0275fac=function(Ke){return new(Ke||an)},an.\u0275mod=d.oAB({type:an}),an.\u0275inj=d.cJS({imports:[L.BQ,L.BQ]}),an})()},2659:(pn,it,E)=>{E.d(it,{VK:()=>Ve,KA:()=>un,OP:()=>Ke,Tx:()=>Mt,p6:()=>ln});var d=E(2223),L=E(706),g=E(1692),ne=E(2840),xe=E(7579),ae=E(6451),Z=E(727),_e=E(9646),Ee=E(3101),se=E(8675),de=E(3900),fe=E(5698),Je=E(2722),Ne=E(9300),ut=E(4986),rt=E(7272),Le=E(4482),He=E(5403),Re=E(5032),ue=E(9718),De=E(5577),be=E(8421);function Me(Kt,An){return An?ke=>(0,rt.z)(An.pipe((0,fe.q)(1),function bt(){return(0,Le.e)((Kt,An)=>{Kt.subscribe((0,He.x)(An,Re.Z))})}()),ke.pipe(Me(Kt))):(0,De.z)((ke,gt)=>(0,be.Xf)(Kt(ke,gt)).pipe((0,fe.q)(1),(0,ue.h)(ke)))}var $e=E(5963);function K(Kt,An=ut.z){const ke=(0,$e.H)(Kt,An);return Me(()=>ke)}var Ge=E(1217),Fe=E(4755),ze=E(8023),vt=E(1591),_n=E(8930),kn=E(9002),ht=E(2966),ft=E(2236);const kt=["mat-menu-item",""];function Pt(Kt,An){1&Kt&&(d.O4$(),d.TgZ(0,"svg",3),d._UZ(1,"polygon",4),d.qZA())}const Qt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Gt=["mat-icon, [matMenuItemIcon]","*"];function dn(Kt,An){if(1&Kt){const ke=d.EpF();d.TgZ(0,"div",0),d.NdJ("keydown",function($t){d.CHM(ke);const In=d.oxw();return d.KtG(In._handleKeydown($t))})("click",function(){d.CHM(ke);const $t=d.oxw();return d.KtG($t.closed.emit("click"))})("@transformMenu.start",function($t){d.CHM(ke);const In=d.oxw();return d.KtG(In._onAnimationStart($t))})("@transformMenu.done",function($t){d.CHM(ke);const In=d.oxw();return d.KtG(In._onAnimationDone($t))}),d.TgZ(1,"div",1),d.Hsn(2),d.qZA()()}if(2&Kt){const ke=d.oxw();d.Q6J("id",ke.panelId)("ngClass",ke._classList)("@transformMenu",ke._panelAnimationState),d.uIk("aria-label",ke.ariaLabel||null)("aria-labelledby",ke.ariaLabelledby||null)("aria-describedby",ke.ariaDescribedby||null)}}const gn=["*"],an=new d.OlP("MAT_MENU_PANEL"),At=(0,Ge.Kr)((0,Ge.Id)(class{}));let Ke=(()=>{class Kt extends At{constructor(ke,gt,$t,In,di){super(),this._elementRef=ke,this._document=gt,this._focusMonitor=$t,this._parentMenu=In,this._changeDetectorRef=di,this.role="menuitem",this._hovered=new xe.x,this._focused=new xe.x,this._highlighted=!1,this._triggersSubmenu=!1,In?.addItem?.(this)}focus(ke,gt){this._focusMonitor&&ke?this._focusMonitor.focusVia(this._getHostElement(),ke,gt):this._getHostElement().focus(gt),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ke){this.disabled&&(ke.preventDefault(),ke.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ke=this._elementRef.nativeElement.cloneNode(!0),gt=ke.querySelectorAll("mat-icon, .material-icons");for(let $t=0;$t<gt.length;$t++)gt[$t].remove();return ke.textContent?.trim()||""}_setHighlighted(ke){this._highlighted=ke,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ke){this._triggersSubmenu=ke,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return Kt.\u0275fac=function(ke){return new(ke||Kt)(d.Y36(d.SBq),d.Y36(Fe.K0),d.Y36(L.tE),d.Y36(an,8),d.Y36(d.sBO))},Kt.\u0275cmp=d.Xpm({type:Kt,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(ke,gt){1&ke&&d.NdJ("click",function(In){return gt._checkDisabled(In)})("mouseenter",function(){return gt._handleMouseEnter()}),2&ke&&(d.uIk("role",gt.role)("tabindex",gt._getTabIndex())("aria-disabled",gt.disabled)("disabled",gt.disabled||null),d.ekj("mat-mdc-menu-item-highlighted",gt._highlighted)("mat-mdc-menu-item-submenu-trigger",gt._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[d.qOj],attrs:kt,ngContentSelectors:Gt,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ke,gt){1&ke&&(d.F$t(Qt),d.Hsn(0),d.TgZ(1,"span",0),d.Hsn(2,1),d.qZA(),d._UZ(3,"div",1),d.YNc(4,Pt,2,0,"svg",2)),2&ke&&(d.xp6(3),d.Q6J("matRippleDisabled",gt.disableRipple||gt.disabled)("matRippleTrigger",gt._getHostElement()),d.xp6(1),d.Q6J("ngIf",gt._triggersSubmenu))},dependencies:[Fe.O5,Ge.wG],encapsulation:2,changeDetection:0}),Kt})();const Ht=new d.OlP("MatMenuContent");let Tt=(()=>{class Kt{constructor(ke,gt,$t,In,di,Si,mi){this._template=ke,this._componentFactoryResolver=gt,this._appRef=$t,this._injector=In,this._viewContainerRef=di,this._document=Si,this._changeDetectorRef=mi,this._attached=new xe.x}attach(ke={}){this._portal||(this._portal=new ze.UE(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new ze.u0(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const gt=this._template.elementRef.nativeElement;gt.parentNode.insertBefore(this._outlet.outletElement,gt),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,ke),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return Kt.\u0275fac=function(ke){return new(ke||Kt)(d.Y36(d.Rgc),d.Y36(d._Vd),d.Y36(d.z2F),d.Y36(d.zs3),d.Y36(d.s_b),d.Y36(Fe.K0),d.Y36(d.sBO))},Kt.\u0275dir=d.lG2({type:Kt}),Kt})(),un=(()=>{class Kt extends Tt{}return Kt.\u0275fac=function(){let An;return function(gt){return(An||(An=d.n5z(Kt)))(gt||Kt)}}(),Kt.\u0275dir=d.lG2({type:Kt,selectors:[["ng-template","matMenuContent",""]],features:[d._Bn([{provide:Ht,useExisting:Kt}]),d.qOj]}),Kt})();const Jt={transformMenu:(0,vt.X$)("transformMenu",[(0,vt.SB)("void",(0,vt.oB)({opacity:0,transform:"scale(0.8)"})),(0,vt.eR)("void => enter",(0,vt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,vt.oB)({opacity:1,transform:"scale(1)"}))),(0,vt.eR)("* => void",(0,vt.jt)("100ms 25ms linear",(0,vt.oB)({opacity:0})))]),fadeInItems:(0,vt.X$)("fadeInItems",[(0,vt.SB)("showing",(0,vt.oB)({opacity:1})),(0,vt.eR)("void => *",[(0,vt.oB)({opacity:0}),(0,vt.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ci=0;const Hn=new d.OlP("mat-menu-default-options",{providedIn:"root",factory:function Ut(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ce=(()=>{class Kt{get xPosition(){return this._xPosition}set xPosition(ke){this._xPosition=ke,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ke){this._yPosition=ke,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(ke){this._overlapTrigger=(0,g.Ig)(ke)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ke){this._hasBackdrop=(0,g.Ig)(ke)}set panelClass(ke){const gt=this._previousPanelClass;gt&&gt.length&&gt.split(" ").forEach($t=>{this._classList[$t]=!1}),this._previousPanelClass=ke,ke&&ke.length&&(ke.split(" ").forEach($t=>{this._classList[$t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(ke){this.panelClass=ke}constructor(ke,gt,$t,In){this._elementRef=ke,this._ngZone=gt,this._changeDetectorRef=In,this._directDescendantItems=new d.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new xe.x,this.closed=new d.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+ci++,this.overlayPanelClass=$t.overlayPanelClass||"",this._xPosition=$t.xPosition,this._yPosition=$t.yPosition,this.backdropClass=$t.backdropClass,this._overlapTrigger=$t.overlapTrigger,this._hasBackdrop=$t.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new L.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,se.O)(this._directDescendantItems),(0,de.w)(ke=>(0,ae.T)(...ke.map(gt=>gt._focused)))).subscribe(ke=>this._keyManager.updateActiveItem(ke)),this._directDescendantItems.changes.subscribe(ke=>{const gt=this._keyManager;if("enter"===this._panelAnimationState&&gt.activeItem?._hasFocus()){const $t=ke.toArray(),In=Math.max(0,Math.min($t.length-1,gt.activeItemIndex||0));$t[In]&&!$t[In].disabled?gt.setActiveItem(In):gt.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,se.O)(this._directDescendantItems),(0,de.w)(gt=>(0,ae.T)(...gt.map($t=>$t._hovered))))}addItem(ke){}removeItem(ke){}_handleKeydown(ke){const gt=ke.keyCode,$t=this._keyManager;switch(gt){case ne.hY:(0,ne.Vb)(ke)||(ke.preventDefault(),this.closed.emit("keydown"));break;case ne.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case ne.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(gt===ne.LH||gt===ne.JH)&&$t.setFocusOrigin("keyboard"),void $t.onKeydown(ke)}ke.stopPropagation()}focusFirstItem(ke="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,fe.q)(1)).subscribe(()=>{let gt=null;if(this._directDescendantItems.length&&(gt=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!gt||!gt.contains(document.activeElement)){const $t=this._keyManager;$t.setFocusOrigin(ke).setFirstItemActive(),!$t.activeItem&&gt&&gt.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ke){const gt=Math.min(this._baseElevation+ke,24),$t=`${this._elevationPrefix}${gt}`,In=Object.keys(this._classList).find(di=>di.startsWith(this._elevationPrefix));(!In||In===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[$t]=!0,this._previousElevation=$t)}setPositionClasses(ke=this.xPosition,gt=this.yPosition){const $t=this._classList;$t["mat-menu-before"]="before"===ke,$t["mat-menu-after"]="after"===ke,$t["mat-menu-above"]="above"===gt,$t["mat-menu-below"]="below"===gt,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ke){this._animationDone.next(ke),this._isAnimating=!1}_onAnimationStart(ke){this._isAnimating=!0,"enter"===ke.toState&&0===this._keyManager.activeItemIndex&&(ke.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,se.O)(this._allItems)).subscribe(ke=>{this._directDescendantItems.reset(ke.filter(gt=>gt._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return Kt.\u0275fac=function(ke){return new(ke||Kt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Hn),d.Y36(d.sBO))},Kt.\u0275dir=d.lG2({type:Kt,contentQueries:function(ke,gt,$t){if(1&ke&&(d.Suo($t,Ht,5),d.Suo($t,Ke,5),d.Suo($t,Ke,4)),2&ke){let In;d.iGM(In=d.CRH())&&(gt.lazyContent=In.first),d.iGM(In=d.CRH())&&(gt._allItems=In),d.iGM(In=d.CRH())&&(gt.items=In)}},viewQuery:function(ke,gt){if(1&ke&&d.Gf(d.Rgc,5),2&ke){let $t;d.iGM($t=d.CRH())&&(gt.templateRef=$t.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),Kt})(),Ve=(()=>{class Kt extends ce{constructor(ke,gt,$t,In){super(ke,gt,$t,In),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return Kt.\u0275fac=function(ke){return new(ke||Kt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Hn),d.Y36(d.sBO))},Kt.\u0275cmp=d.Xpm({type:Kt,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(ke,gt){2&ke&&d.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[d._Bn([{provide:an,useExisting:Kt}]),d.qOj],ngContentSelectors:gn,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(ke,gt){1&ke&&(d.F$t(),d.YNc(0,dn,3,6,"ng-template"))},dependencies:[Fe.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:var(--mdc-shape-medium, 4px)}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Jt.transformMenu,Jt.fadeInItems]},changeDetection:0}),Kt})();const mt=new d.OlP("mat-menu-scroll-strategy"),We={provide:mt,deps:[kn.aV],useFactory:function at(Kt){return()=>Kt.scrollStrategies.reposition()}},Qe=(0,ht.i$)({passive:!0});let Vt=(()=>{class Kt{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ke){this.menu=ke}get menu(){return this._menu}set menu(ke){ke!==this._menu&&(this._menu=ke,this._menuCloseSubscription.unsubscribe(),ke&&(this._menuCloseSubscription=ke.close.subscribe(gt=>{this._destroyMenu(gt),("click"===gt||"tab"===gt)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(gt)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ke,gt,$t,In,di,Si,mi,Yt,et){this._overlay=ke,this._element=gt,this._viewContainerRef=$t,this._menuItemInstance=Si,this._dir=mi,this._focusMonitor=Yt,this._ngZone=et,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Z.w0.EMPTY,this._hoverSubscription=Z.w0.EMPTY,this._menuCloseSubscription=Z.w0.EMPTY,this._changeDetectorRef=(0,d.f3M)(d.sBO),this._handleTouchStart=st=>{(0,L.yG)(st)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new d.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new d.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=In,this._parentMaterialMenu=di instanceof ce?di:void 0,gt.nativeElement.addEventListener("touchstart",this._handleTouchStart,Qe)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Qe),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ke=this.menu;if(this._menuOpen||!ke)return;const gt=this._createOverlay(ke),$t=gt.getConfig(),In=$t.positionStrategy;this._setPosition(ke,In),$t.hasBackdrop=null==ke.hasBackdrop?!this.triggersSubmenu():ke.hasBackdrop,gt.attach(this._getPortal(ke)),ke.lazyContent&&ke.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ke),ke instanceof ce&&(ke._startAnimation(),ke._directDescendantItems.changes.pipe((0,Je.R)(ke.close)).subscribe(()=>{In.withLockedPosition(!1).reapplyLastPosition(),In.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ke,gt){this._focusMonitor&&ke?this._focusMonitor.focusVia(this._element,ke,gt):this._element.nativeElement.focus(gt)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ke){if(!this._overlayRef||!this.menuOpen)return;const gt=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ke||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,gt instanceof ce?(gt._resetAnimation(),gt.lazyContent?gt._animationDone.pipe((0,Ne.h)($t=>"void"===$t.toState),(0,fe.q)(1),(0,Je.R)(gt.lazyContent._attached)).subscribe({next:()=>gt.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),gt?.lazyContent?.detach())}_initMenu(ke){ke.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ke.direction=this.dir,this._setMenuElevation(ke),ke.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ke){if(ke.setElevation){let gt=0,$t=ke.parentMenu;for(;$t;)gt++,$t=$t.parentMenu;ke.setElevation(gt)}}_setIsMenuOpen(ke){ke!==this._menuOpen&&(this._menuOpen=ke,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ke),this._changeDetectorRef.markForCheck())}_createOverlay(ke){if(!this._overlayRef){const gt=this._getOverlayConfig(ke);this._subscribeToPositions(ke,gt.positionStrategy),this._overlayRef=this._overlay.create(gt),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ke){return new kn.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ke.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ke.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ke,gt){ke.setPositionClasses&&gt.positionChanges.subscribe($t=>{const In="start"===$t.connectionPair.overlayX?"after":"before",di="top"===$t.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ke.setPositionClasses(In,di)):ke.setPositionClasses(In,di)})}_setPosition(ke,gt){let[$t,In]="before"===ke.xPosition?["end","start"]:["start","end"],[di,Si]="above"===ke.yPosition?["bottom","top"]:["top","bottom"],[mi,Yt]=[di,Si],[et,st]=[$t,In],Be=0;if(this.triggersSubmenu()){if(st=$t="before"===ke.xPosition?"start":"end",In=et="end"===$t?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Oe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Oe?Oe._getHostElement().offsetTop:0}Be="bottom"===di?this._parentInnerPadding:-this._parentInnerPadding}}else ke.overlapTrigger||(mi="top"===di?"bottom":"top",Yt="top"===Si?"bottom":"top");gt.withPositions([{originX:$t,originY:mi,overlayX:et,overlayY:di,offsetY:Be},{originX:In,originY:mi,overlayX:st,overlayY:di,offsetY:Be},{originX:$t,originY:Yt,overlayX:et,overlayY:Si,offsetY:-Be},{originX:In,originY:Yt,overlayX:st,overlayY:Si,offsetY:-Be}])}_menuClosingActions(){const ke=this._overlayRef.backdropClick(),gt=this._overlayRef.detachments(),$t=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_e.of)(),In=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ne.h)(di=>di!==this._menuItemInstance),(0,Ne.h)(()=>this._menuOpen)):(0,_e.of)();return(0,ae.T)(ke,$t,In,gt)}_handleMousedown(ke){(0,L.X6)(ke)||(this._openedBy=0===ke.button?"mouse":void 0,this.triggersSubmenu()&&ke.preventDefault())}_handleKeydown(ke){const gt=ke.keyCode;(gt===ne.K5||gt===ne.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(gt===ne.SV&&"ltr"===this.dir||gt===ne.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ke){this.triggersSubmenu()?(ke.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ne.h)(ke=>ke===this._menuItemInstance&&!ke.disabled),K(0,Ee.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ce&&this.menu._isAnimating?this.menu._animationDone.pipe((0,fe.q)(1),K(0,Ee.E),(0,Je.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ke){return(!this._portal||this._portal.templateRef!==ke.templateRef)&&(this._portal=new ze.UE(ke.templateRef,this._viewContainerRef)),this._portal}}return Kt.\u0275fac=function(ke){return new(ke||Kt)(d.Y36(kn.aV),d.Y36(d.SBq),d.Y36(d.s_b),d.Y36(mt),d.Y36(an,8),d.Y36(Ke,10),d.Y36(_n.Is,8),d.Y36(L.tE),d.Y36(d.R0b))},Kt.\u0275dir=d.lG2({type:Kt,hostVars:3,hostBindings:function(ke,gt){1&ke&&d.NdJ("click",function(In){return gt._handleClick(In)})("mousedown",function(In){return gt._handleMousedown(In)})("keydown",function(In){return gt._handleKeydown(In)}),2&ke&&d.uIk("aria-haspopup",gt.menu?"menu":null)("aria-expanded",gt.menuOpen)("aria-controls",gt.menuOpen?gt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),Kt})(),ln=(()=>{class Kt extends Vt{}return Kt.\u0275fac=function(){let An;return function(gt){return(An||(An=d.n5z(Kt)))(gt||Kt)}}(),Kt.\u0275dir=d.lG2({type:Kt,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[d.qOj]}),Kt})(),Mt=(()=>{class Kt{}return Kt.\u0275fac=function(ke){return new(ke||Kt)},Kt.\u0275mod=d.oAB({type:Kt}),Kt.\u0275inj=d.cJS({providers:[We],imports:[Fe.ez,Ge.si,Ge.BQ,kn.U8,ft.ZD,Ge.BQ]}),Kt})()},8467:(pn,it,E)=>{E.d(it,{Cq:()=>Ne,Ou:()=>fe});var d=E(2223),L=E(1217),g=E(1692),ne=E(4755);const xe=["determinateSpinner"];function ae(ut,rt){if(1&ut&&(d.O4$(),d.TgZ(0,"svg",11),d._UZ(1,"circle",12),d.qZA()),2&ut){const Le=d.oxw();d.uIk("viewBox",Le._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",Le._strokeCircumference(),"px")("stroke-dashoffset",Le._strokeCircumference()/2,"px")("stroke-width",Le._circleStrokeWidth(),"%"),d.uIk("r",Le._circleRadius())}}const Z=(0,L.pj)(class{constructor(ut){this._elementRef=ut}},"primary"),_e=new d.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ee(){return{diameter:se}}}),se=100;let fe=(()=>{class ut extends Z{constructor(Le,He,Re){super(Le),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=se,this._noopAnimations="NoopAnimations"===He&&!!Re&&!Re._forceAnimations,Re&&(Re.color&&(this.color=this.defaultColor=Re.color),Re.diameter&&(this.diameter=Re.diameter),Re.strokeWidth&&(this.strokeWidth=Re.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Le){this._value=Math.max(0,Math.min(100,(0,g.su)(Le)))}get diameter(){return this._diameter}set diameter(Le){this._diameter=(0,g.su)(Le)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Le){this._strokeWidth=(0,g.su)(Le)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Le=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Le} ${Le}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return ut.\u0275fac=function(Le){return new(Le||ut)(d.Y36(d.SBq),d.Y36(d.QbO,8),d.Y36(_e))},ut.\u0275cmp=d.Xpm({type:ut,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Le,He){if(1&Le&&d.Gf(xe,5),2&Le){let Re;d.iGM(Re=d.CRH())&&(He._determinateCircle=Re.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(Le,He){2&Le&&(d.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===He.mode?He.value:null)("mode",He.mode),d.Udp("width",He.diameter,"px")("height",He.diameter,"px")("--mdc-circular-progress-size",He.diameter+"px")("--mdc-circular-progress-active-indicator-width",He.diameter+"px"),d.ekj("_mat-animation-noopable",He._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===He.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[d.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Le,He){if(1&Le&&(d.YNc(0,ae,2,8,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.O4$(),d.TgZ(4,"svg",3),d._UZ(5,"circle",4),d.qZA()(),d.kcU(),d.TgZ(6,"div",5)(7,"div",6)(8,"div",7),d.GkF(9,8),d.qZA(),d.TgZ(10,"div",9),d.GkF(11,8),d.qZA(),d.TgZ(12,"div",10),d.GkF(13,8),d.qZA()()()),2&Le){const Re=d.MAs(1);d.xp6(4),d.uIk("viewBox",He._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",He._strokeCircumference(),"px")("stroke-dashoffset",He._strokeDashOffset(),"px")("stroke-width",He._circleStrokeWidth(),"%"),d.uIk("r",He._circleRadius()),d.xp6(4),d.Q6J("ngTemplateOutlet",Re),d.xp6(2),d.Q6J("ngTemplateOutlet",Re),d.xp6(2),d.Q6J("ngTemplateOutlet",Re)}},dependencies:[ne.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),ut})(),Ne=(()=>{class ut{}return ut.\u0275fac=function(Le){return new(Le||ut)},ut.\u0275mod=d.oAB({type:ut}),ut.\u0275inj=d.cJS({imports:[ne.ez,L.BQ]}),ut})()},9383:(pn,it,E)=>{E.d(it,{Ye:()=>Ee,g0:()=>de});var d=E(2223),L=E(1217),g=E(2966),ne=E(4755);const xe=["*",[["mat-toolbar-row"]]],ae=["*","mat-toolbar-row"],Z=(0,L.pj)(class{constructor(fe){this._elementRef=fe}});let _e=(()=>{class fe{}return fe.\u0275fac=function(Ne){return new(Ne||fe)},fe.\u0275dir=d.lG2({type:fe,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),fe})(),Ee=(()=>{class fe extends Z{constructor(Ne,ut,rt){super(Ne),this._platform=ut,this._document=rt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return fe.\u0275fac=function(Ne){return new(Ne||fe)(d.Y36(d.SBq),d.Y36(g.t4),d.Y36(ne.K0))},fe.\u0275cmp=d.Xpm({type:fe,selectors:[["mat-toolbar"]],contentQueries:function(Ne,ut,rt){if(1&Ne&&d.Suo(rt,_e,5),2&Ne){let Le;d.iGM(Le=d.CRH())&&(ut._toolbarRows=Le)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ne,ut){2&Ne&&d.ekj("mat-toolbar-multiple-rows",ut._toolbarRows.length>0)("mat-toolbar-single-row",0===ut._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:ae,decls:2,vars:0,template:function(Ne,ut){1&Ne&&(d.F$t(xe),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),fe})(),de=(()=>{class fe{}return fe.\u0275fac=function(Ne){return new(Ne||fe)},fe.\u0275mod=d.oAB({type:fe}),fe.\u0275inj=d.cJS({imports:[L.BQ,L.BQ]}),fe})()},6550:(pn,it,E)=>{E.d(it,{Dx:()=>ce,H7:()=>Si,b2:()=>yn,q6:()=>Ht,se:()=>K});var d=E(2223),L=E(4755);class g extends L.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends g{static makeCurrent(){(0,L.HT)(new ne)}onAndCancel(H,U,$){return H.addEventListener(U,$),()=>{H.removeEventListener(U,$)}}dispatchEvent(H,U){H.dispatchEvent(U)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,U){return(U=U||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,U){return"window"===U?window:"document"===U?H:"body"===U?H.body:null}getBaseHref(H){const U=function ae(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==U?null:function _e(oe){Z=Z||document.createElement("a"),Z.setAttribute("href",oe);const H=Z.pathname;return"/"===H.charAt(0)?H:`/${H}`}(U)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,L.Mx)(document.cookie,H)}}let Z,xe=null,se=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(U){return new(U||oe)},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const de=new d.OlP("EventManagerPlugins");let fe=(()=>{class oe{constructor(U,$){this._zone=$,this._eventNameToPlugin=new Map,U.forEach(le=>{le.manager=this}),this._plugins=U.slice().reverse()}addEventListener(U,$,le){return this._findPluginFor($).addEventListener(U,$,le)}getZone(){return this._zone}_findPluginFor(U){let $=this._eventNameToPlugin.get(U);if($)return $;if($=this._plugins.find(re=>re.supports(U)),!$)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(U,$),$}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(de),d.LFG(d.R0b))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class Je{constructor(H){this._doc=H}}const Ne="ng-app-id";let ut=(()=>{class oe{constructor(U,$,le,re={}){this.doc=U,this.appId=$,this.nonce=le,this.platformId=re,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,L.PM)(re),this.resetHostNodes()}addStyles(U){for(const $ of U)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(U){for(const $ of U)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const U=this.styleNodesInDOM;U&&(U.forEach($=>$.remove()),U.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(U){this.hostNodes.add(U);for(const $ of this.getAllStyles())this.addStyleToHost(U,$)}removeHost(U){this.hostNodes.delete(U)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(U){for(const $ of this.hostNodes)this.addStyleToHost($,U)}onStyleRemoved(U){const $=this.styleRef;$.get(U)?.elements?.forEach(le=>le.remove()),$.delete(U)}collectServerRenderedStyles(){const U=this.doc.head?.querySelectorAll(`style[${Ne}="${this.appId}"]`);if(U?.length){const $=new Map;return U.forEach(le=>{null!=le.textContent&&$.set(le.textContent,le)}),$}return null}changeUsageCount(U,$){const le=this.styleRef;if(le.has(U)){const re=le.get(U);return re.usage+=$,re.usage}return le.set(U,{usage:$,elements:[]}),$}getStyleElement(U,$){const le=this.styleNodesInDOM,re=le?.get($);if(re?.parentNode===U)return le.delete($),re.removeAttribute(Ne),re;{const ve=this.doc.createElement("style");return this.nonce&&ve.setAttribute("nonce",this.nonce),ve.textContent=$,this.platformIsServer&&ve.setAttribute(Ne,this.appId),ve}}addStyleToHost(U,$){const le=this.getStyleElement(U,$);U.appendChild(le);const re=this.styleRef,ve=re.get($)?.elements;ve?ve.push(le):re.set($,{elements:[le],usage:1})}resetHostNodes(){const U=this.hostNodes;U.clear(),U.add(this.doc.head)}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Le=/%COMP%/g,De=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $e(oe,H){return H.map(U=>U.replace(Le,oe))}let K=(()=>{class oe{constructor(U,$,le,re,ve,Et,wt,Ot=null){this.eventManager=U,this.sharedStylesHost=$,this.appId=le,this.removeStylesOnCompDestory=re,this.doc=ve,this.platformId=Et,this.ngZone=wt,this.nonce=Ot,this.rendererByCompId=new Map,this.platformIsServer=(0,L.PM)(Et),this.defaultRenderer=new Ge(U,ve,wt,this.platformIsServer)}createRenderer(U,$){if(!U||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===d.ifc.ShadowDom&&($={...$,encapsulation:d.ifc.Emulated});const le=this.getOrCreateRenderer(U,$);return le instanceof ht?le.applyToHost(U):le instanceof kn&&le.applyStyles(),le}getOrCreateRenderer(U,$){const le=this.rendererByCompId;let re=le.get($.id);if(!re){const ve=this.doc,Et=this.ngZone,wt=this.eventManager,Ot=this.sharedStylesHost,en=this.removeStylesOnCompDestory,Xn=this.platformIsServer;switch($.encapsulation){case d.ifc.Emulated:re=new ht(wt,Ot,$,this.appId,en,ve,Et,Xn);break;case d.ifc.ShadowDom:return new _n(wt,Ot,U,$,ve,Et,this.nonce,Xn);default:re=new kn(wt,Ot,$,en,ve,Et,Xn)}re.onDestroy=()=>le.delete($.id),le.set($.id,re)}return re}ngOnDestroy(){this.rendererByCompId.clear()}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(fe),d.LFG(ut),d.LFG(d.AFp),d.LFG(De),d.LFG(L.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class Ge{constructor(H,U,$,le){this.eventManager=H,this.doc=U,this.ngZone=$,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,U){return U?this.doc.createElementNS(rt[U]||U,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,U){(vt(H)?H.content:H).appendChild(U)}insertBefore(H,U,$){H&&(vt(H)?H.content:H).insertBefore(U,$)}removeChild(H,U){H&&H.removeChild(U)}selectRootElement(H,U){let $="string"==typeof H?this.doc.querySelector(H):H;if(!$)throw new d.vHH(5104,!1);return U||($.textContent=""),$}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,U,$,le){if(le){U=le+":"+U;const re=rt[le];re?H.setAttributeNS(re,U,$):H.setAttribute(U,$)}else H.setAttribute(U,$)}removeAttribute(H,U,$){if($){const le=rt[$];le?H.removeAttributeNS(le,U):H.removeAttribute(`${$}:${U}`)}else H.removeAttribute(U)}addClass(H,U){H.classList.add(U)}removeClass(H,U){H.classList.remove(U)}setStyle(H,U,$,le){le&(d.JOm.DashCase|d.JOm.Important)?H.style.setProperty(U,$,le&d.JOm.Important?"important":""):H.style[U]=$}removeStyle(H,U,$){$&d.JOm.DashCase?H.style.removeProperty(U):H.style[U]=""}setProperty(H,U,$){H[U]=$}setValue(H,U){H.nodeValue=U}listen(H,U,$){if("string"==typeof H&&!(H=(0,L.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${U}`);return this.eventManager.addEventListener(H,U,this.decoratePreventDefault($))}decoratePreventDefault(H){return U=>{if("__ngUnwrap__"===U)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(U)):H(U))&&U.preventDefault()}}}function vt(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class _n extends Ge{constructor(H,U,$,le,re,ve,Et,wt){super(H,re,ve,wt),this.sharedStylesHost=U,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ot=$e(le.id,le.styles);for(const en of Ot){const Xn=document.createElement("style");Et&&Xn.setAttribute("nonce",Et),Xn.textContent=en,this.shadowRoot.appendChild(Xn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,U){return super.appendChild(this.nodeOrShadowRoot(H),U)}insertBefore(H,U,$){return super.insertBefore(this.nodeOrShadowRoot(H),U,$)}removeChild(H,U){return super.removeChild(this.nodeOrShadowRoot(H),U)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kn extends Ge{constructor(H,U,$,le,re,ve,Et,wt){super(H,re,ve,Et),this.sharedStylesHost=U,this.removeStylesOnCompDestory=le,this.rendererUsageCount=0,this.styles=wt?$e(wt,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ht extends kn{constructor(H,U,$,le,re,ve,Et,wt){const Ot=le+"-"+$.id;super(H,U,$,re,ve,Et,wt,Ot),this.contentAttr=function be(oe){return"_ngcontent-%COMP%".replace(Le,oe)}(Ot),this.hostAttr=function Me(oe){return"_nghost-%COMP%".replace(Le,oe)}(Ot)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,U){const $=super.createElement(H,U);return super.setAttribute($,this.contentAttr,""),$}}let ft=(()=>{class oe extends Je{constructor(U){super(U)}supports(U){return!0}addEventListener(U,$,le){return U.addEventListener($,le,!1),()=>this.removeEventListener(U,$,le)}removeEventListener(U,$,le){return U.removeEventListener($,le)}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const kt=["alt","control","meta","shift"],Pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qt={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let Gt=(()=>{class oe extends Je{constructor(U){super(U)}supports(U){return null!=oe.parseEventName(U)}addEventListener(U,$,le){const re=oe.parseEventName($),ve=oe.eventCallback(re.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,L.q)().onAndCancel(U,re.domEventName,ve))}static parseEventName(U){const $=U.toLowerCase().split("."),le=$.shift();if(0===$.length||"keydown"!==le&&"keyup"!==le)return null;const re=oe._normalizeKey($.pop());let ve="",Et=$.indexOf("code");if(Et>-1&&($.splice(Et,1),ve="code."),kt.forEach(Ot=>{const en=$.indexOf(Ot);en>-1&&($.splice(en,1),ve+=Ot+".")}),ve+=re,0!=$.length||0===re.length)return null;const wt={};return wt.domEventName=le,wt.fullKey=ve,wt}static matchEventFullKeyCode(U,$){let le=Pt[U.key]||U.key,re="";return $.indexOf("code.")>-1&&(le=U.code,re="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),kt.forEach(ve=>{ve!==le&&(0,Qt[ve])(U)&&(re+=ve+".")}),re+=le,re===$)}static eventCallback(U,$,le){return re=>{oe.matchEventFullKeyCode(re,U)&&le.runGuarded(()=>$(re))}}static _normalizeKey(U){return"esc"===U?"escape":U}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Ht=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:L.bD},{provide:d.g9A,useValue:function Ke(){ne.makeCurrent()},multi:!0},{provide:L.K0,useFactory:function Ct(){return(0,d.RDi)(document),document},deps:[]}]),Tt=new d.OlP(""),un=[{provide:d.rWj,useClass:class Ee{addToWindow(H){d.dqk.getAngularTestability=($,le=!0)=>{const re=H.findTestabilityInTree($,le);if(null==re)throw new d.vHH(5103,!1);return re},d.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push($=>{const le=d.dqk.getAllAngularTestabilities();let re=le.length,ve=!1;const Et=function(wt){ve=ve||wt,re--,0==re&&$(ve)};le.forEach(function(wt){wt.whenStable(Et)})})}findTestabilityInTree(H,U,$){return null==U?null:H.getTestability(U)??($?(0,L.q)().isShadowRoot(U)?this.findTestabilityInTree(H,U.host,!0):this.findTestabilityInTree(H,U.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Jt=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Xe(){return new d.qLn},deps:[]},{provide:de,useClass:ft,multi:!0,deps:[L.K0,d.R0b,d.Lbi]},{provide:de,useClass:Gt,multi:!0,deps:[L.K0]},K,ut,fe,{provide:d.FYo,useExisting:K},{provide:L.JF,useClass:se,deps:[]},[]];let yn=(()=>{class oe{constructor(U){}static withServerTransition(U){return{ngModule:oe,providers:[{provide:d.AFp,useValue:U.appId}]}}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(Tt,12))},oe.\u0275mod=d.oAB({type:oe}),oe.\u0275inj=d.cJS({providers:[...Jt,...un],imports:[L.ez,d.hGG]}),oe})(),ce=(()=>{class oe{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:function(U){let $=null;return $=U?new U:function Ut(){return new ce((0,d.LFG)(L.K0))}(),$},providedIn:"root"}),oe})();typeof window<"u"&&window;let Si=(()=>{class oe{}return oe.\u0275fac=function(U){return new(U||oe)},oe.\u0275prov=d.Yz7({token:oe,factory:function(U){let $=null;return $=U?new(U||oe):d.LFG(Yt),$},providedIn:"root"}),oe})(),Yt=(()=>{class oe extends Si{constructor(U){super(),this._doc=U}sanitize(U,$){if(null==$)return null;switch(U){case d.q3G.NONE:return $;case d.q3G.HTML:return(0,d.qzn)($,"HTML")?(0,d.z3N)($):(0,d.EiD)(this._doc,String($)).toString();case d.q3G.STYLE:return(0,d.qzn)($,"Style")?(0,d.z3N)($):$;case d.q3G.SCRIPT:if((0,d.qzn)($,"Script"))return(0,d.z3N)($);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)($,"URL")?(0,d.z3N)($):(0,d.mCW)(String($));case d.q3G.RESOURCE_URL:if((0,d.qzn)($,"ResourceURL"))return(0,d.z3N)($);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(U){return(0,d.JVY)(U)}bypassSecurityTrustStyle(U){return(0,d.L6k)(U)}bypassSecurityTrustScript(U){return(0,d.eBb)(U)}bypassSecurityTrustUrl(U){return(0,d.LAX)(U)}bypassSecurityTrustResourceUrl(U){return(0,d.pB0)(U)}}return oe.\u0275fac=function(U){return new(U||oe)(d.LFG(L.K0))},oe.\u0275prov=d.Yz7({token:oe,factory:function(U){let $=null;return $=U?new U:function mi(oe){return new Yt(oe.get(L.K0))}(d.LFG(d.zs3)),$},providedIn:"root"}),oe})()},3676:(pn,it,E)=>{E.d(it,{gz:()=>Rn,F0:()=>Xr,Bz:()=>qn,lC:()=>ri});var d=E(2223),L=E(9751),g=E(576),xe=E(8996),ae=E(9646),Z=E(1135),_e=E(9841),Ee=E(6805),se=E(7272),de=E(9770),fe=E(9635),Je=E(2843),Ne=E(515),ut=E(727),rt=E(4482),Le=E(5403);function He(){return(0,rt.e)((w,O)=>{let x=null;w._refCount++;const F=(0,Le.x)(O,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(x=null);const ee=w._connection,ye=x;x=null,ee&&(!ye||ee===ye)&&ee.unsubscribe(),O.unsubscribe()});w.subscribe(F),F.closed||(x=w.connect())})}class Re extends L.y{constructor(O,x){super(),this.source=O,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,rt.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new ut.w0;const x=this.getSubject();O.add(this.source.subscribe((0,Le.x)(x,void 0,()=>{this._teardown(),x.complete()},F=>{this._teardown(),x.error(F)},()=>this._teardown()))),O.closed&&(this._connection=null,O=ut.w0.EMPTY)}return O}refCount(){return He()(this)}}var bt=E(7579),ue=E(4755),De=E(4004),be=E(3900),Me=E(5698),$e=E(8675),K=E(9300),Ge=E(5577),Fe=E(590),ze=E(4351),vt=E(8505),_n=E(262),kn=E(5026),ht=E(6590);function ft(w){return w<=0?()=>Ne.E:(0,rt.e)((O,x)=>{let F=[];O.subscribe((0,Le.x)(x,ee=>{F.push(ee),w<F.length&&F.shift()},()=>{for(const ee of F)x.next(ee);x.complete()},void 0,()=>{F=null}))})}var kt=E(8068),Pt=E(4671),Gt=E(9718),dn=E(8746),gn=E(8189),an=E(6550);const At="primary",Ke=Symbol("RouteTitle");class Xe{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const x=this.params[O];return Array.isArray(x)?x[0]:x}return null}getAll(O){if(this.has(O)){const x=this.params[O];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function Ct(w){return new Xe(w)}function yt(w,O,x){const F=x.path.split("/");if(F.length>w.length||"full"===x.pathMatch&&(O.hasChildren()||F.length<w.length))return null;const ee={};for(let ye=0;ye<F.length;ye++){const Se=F[ye],tt=w[ye];if(Se.startsWith(":"))ee[Se.substring(1)]=tt;else if(Se!==tt.path)return null}return{consumed:w.slice(0,F.length),posParams:ee}}function Tt(w,O){const x=w?Object.keys(w):void 0,F=O?Object.keys(O):void 0;if(!x||!F||x.length!=F.length)return!1;let ee;for(let ye=0;ye<x.length;ye++)if(ee=x[ye],!un(w[ee],O[ee]))return!1;return!0}function un(w,O){if(Array.isArray(w)&&Array.isArray(O)){if(w.length!==O.length)return!1;const x=[...w].sort(),F=[...O].sort();return x.every((ee,ye)=>F[ye]===ee)}return w===O}function Jt(w){return w.length>0?w[w.length-1]:null}function yn(w){return function ne(w){return!!w&&(w instanceof L.y||(0,g.m)(w.lift)&&(0,g.m)(w.subscribe))}(w)?w:(0,d.QGY)(w)?(0,xe.D)(Promise.resolve(w)):(0,ae.of)(w)}const Gn={exact:function ce(w,O,x){if(!Mt(w.segments,O.segments)||!We(w.segments,O.segments,x)||w.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!w.children[F]||!ce(w.children[F],O.children[F],x))return!1;return!0},subset:mt},ci={exact:function Ut(w,O){return Tt(w,O)},subset:function Ve(w,O){return Object.keys(O).length<=Object.keys(w).length&&Object.keys(O).every(x=>un(w[x],O[x]))},ignored:()=>!0};function Hn(w,O,x){return Gn[x.paths](w.root,O.root,x.matrixParams)&&ci[x.queryParams](w.queryParams,O.queryParams)&&!("exact"===x.fragment&&w.fragment!==O.fragment)}function mt(w,O,x){return at(w,O,O.segments,x)}function at(w,O,x,F){if(w.segments.length>x.length){const ee=w.segments.slice(0,x.length);return!(!Mt(ee,x)||O.hasChildren()||!We(ee,x,F))}if(w.segments.length===x.length){if(!Mt(w.segments,x)||!We(w.segments,x,F))return!1;for(const ee in O.children)if(!w.children[ee]||!mt(w.children[ee],O.children[ee],F))return!1;return!0}{const ee=x.slice(0,w.segments.length),ye=x.slice(w.segments.length);return!!(Mt(w.segments,ee)&&We(w.segments,ee,F)&&w.children[At])&&at(w.children[At],O,ye,F)}}function We(w,O,x){return O.every((F,ee)=>ci[x](w[ee].parameters,F.parameters))}class Qe{constructor(O=new Ae([],{}),x={},F=null){this.root=O,this.queryParams=x,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return gt.serialize(this)}}class Ae{constructor(O,x){this.segments=O,this.children=x,this.parent=null,Object.values(x).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class Vt{constructor(O,x){this.path=O,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=Ct(this.parameters)),this._parameterMap}toString(){return Be(this)}}function Mt(w,O){return w.length===O.length&&w.every((x,F)=>x.path===O[F].path)}let An=(()=>{class w{}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return new ke},providedIn:"root"}),w})();class ke{parse(O){const x=new re(O);return new Qe(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(O){const x=`/${In(O.root,!0)}`,F=function Ie(w){const O=Object.keys(w).map(x=>{const F=w[x];return Array.isArray(F)?F.map(ee=>`${Si(x)}=${Si(ee)}`).join("&"):`${Si(x)}=${Si(F)}`}).filter(x=>!!x);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${x}${F}${"string"==typeof O.fragment?`#${function mi(w){return encodeURI(w)}(O.fragment)}`:""}`}}const gt=new ke;function $t(w){return w.segments.map(O=>Be(O)).join("/")}function In(w,O){if(!w.hasChildren())return $t(w);if(O){const x=w.children[At]?In(w.children[At],!1):"",F=[];return Object.entries(w.children).forEach(([ee,ye])=>{ee!==At&&F.push(`${ee}:${In(ye,!1)}`)}),F.length>0?`${x}(${F.join("//")})`:x}{const x=function Kt(w,O){let x=[];return Object.entries(w.children).forEach(([F,ee])=>{F===At&&(x=x.concat(O(ee,F)))}),Object.entries(w.children).forEach(([F,ee])=>{F!==At&&(x=x.concat(O(ee,F)))}),x}(w,(F,ee)=>ee===At?[In(w.children[At],!1)]:[`${ee}:${In(F,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[At]?`${$t(w)}/${x[0]}`:`${$t(w)}/(${x.join("//")})`}}function di(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Si(w){return di(w).replace(/%3B/gi,";")}function Yt(w){return di(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function et(w){return decodeURIComponent(w)}function st(w){return et(w.replace(/\+/g,"%20"))}function Be(w){return`${Yt(w.path)}${function Oe(w){return Object.keys(w).map(O=>`;${Yt(O)}=${Yt(w[O])}`).join("")}(w.parameters)}`}const xt=/^[^\/()?;#]+/;function jt(w){const O=w.match(xt);return O?O[0]:""}const Te=/^[^\/()?;=#]+/,H=/^[^=?&#]+/,$=/^[^&#]+/;class re{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(x).length>0)&&(F[At]=new Ae(O,x)),F}parseSegment(){const O=jt(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(O),new Vt(et(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const x=function oe(w){const O=w.match(Te);return O?O[0]:""}(this.remaining);if(!x)return;this.capture(x);let F="";if(this.consumeOptional("=")){const ee=jt(this.remaining);ee&&(F=ee,this.capture(F))}O[et(x)]=et(F)}parseQueryParam(O){const x=function U(w){const O=w.match(H);return O?O[0]:""}(this.remaining);if(!x)return;this.capture(x);let F="";if(this.consumeOptional("=")){const Se=function le(w){const O=w.match($);return O?O[0]:""}(this.remaining);Se&&(F=Se,this.capture(F))}const ee=st(x),ye=st(F);if(O.hasOwnProperty(ee)){let Se=O[ee];Array.isArray(Se)||(Se=[Se],O[ee]=Se),Se.push(ye)}else O[ee]=ye}parseParens(O){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=jt(this.remaining),ee=this.remaining[F.length];if("/"!==ee&&")"!==ee&&";"!==ee)throw new d.vHH(4010,!1);let ye;F.indexOf(":")>-1?(ye=F.slice(0,F.indexOf(":")),this.capture(ye),this.capture(":")):O&&(ye=At);const Se=this.parseChildren();x[ye]=1===Object.keys(Se).length?Se[At]:new Ae([],Se),this.consumeOptional("//")}return x}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new d.vHH(4011,!1)}}function ve(w){return w.segments.length>0?new Ae([],{[At]:w}):w}function Et(w){const O={};for(const F of Object.keys(w.children)){const ye=Et(w.children[F]);if(F===At&&0===ye.segments.length&&ye.hasChildren())for(const[Se,tt]of Object.entries(ye.children))O[Se]=tt;else(ye.segments.length>0||ye.hasChildren())&&(O[F]=ye)}return function wt(w){if(1===w.numberOfChildren&&w.children[At]){const O=w.children[At];return new Ae(w.segments.concat(O.segments),O.children)}return w}(new Ae(w.segments,O))}function Ot(w){return w instanceof Qe}function Xn(w){let O;const ee=ve(function x(ye){const Se={};for(const Zt of ye.children){const Dn=x(Zt);Se[Zt.outlet]=Dn}const tt=new Ae(ye.url,Se);return ye===w&&(O=tt),tt}(w.root));return O??ee}function Mn(w,O,x,F){let ee=w;for(;ee.parent;)ee=ee.parent;if(0===O.length)return Bt(ee,ee,ee,x,F);const ye=function Zn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new bn(!0,0,w);let O=0,x=!1;const F=w.reduce((ee,ye,Se)=>{if("object"==typeof ye&&null!=ye){if(ye.outlets){const tt={};return Object.entries(ye.outlets).forEach(([Zt,Dn])=>{tt[Zt]="string"==typeof Dn?Dn.split("/"):Dn}),[...ee,{outlets:tt}]}if(ye.segmentPath)return[...ee,ye.segmentPath]}return"string"!=typeof ye?[...ee,ye]:0===Se?(ye.split("/").forEach((tt,Zt)=>{0==Zt&&"."===tt||(0==Zt&&""===tt?x=!0:".."===tt?O++:""!=tt&&ee.push(tt))}),ee):[...ee,ye]},[]);return new bn(x,O,F)}(O);if(ye.toRoot())return Bt(ee,ee,new Ae([],{}),x,F);const Se=function Ln(w,O,x){if(w.isAbsolute)return new On(O,!0,0);if(!x)return new On(O,!1,NaN);if(null===x.parent)return new On(x,!0,0);const F=Ci(w.commands[0])?0:1;return function ai(w,O,x){let F=w,ee=O,ye=x;for(;ye>ee;){if(ye-=ee,F=F.parent,!F)throw new d.vHH(4005,!1);ee=F.segments.length}return new On(F,!1,ee-ye)}(x,x.segments.length-1+F,w.numberOfDoubleDots)}(ye,ee,w),tt=Se.processChildren?vr(Se.segmentGroup,Se.index,ye.commands):gi(Se.segmentGroup,Se.index,ye.commands);return Bt(ee,Se.segmentGroup,tt,x,F)}function Ci(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function bi(w){return"object"==typeof w&&null!=w&&w.outlets}function Bt(w,O,x,F,ee){let Se,ye={};F&&Object.entries(F).forEach(([Zt,Dn])=>{ye[Zt]=Array.isArray(Dn)?Dn.map(Sn=>`${Sn}`):`${Dn}`}),Se=w===O?x:It(w,O,x);const tt=ve(Et(Se));return new Qe(tt,ye,ee)}function It(w,O,x){const F={};return Object.entries(w.children).forEach(([ee,ye])=>{F[ee]=ye===O?x:It(ye,O,x)}),new Ae(w.segments,F)}class bn{constructor(O,x,F){if(this.isAbsolute=O,this.numberOfDoubleDots=x,this.commands=F,O&&F.length>0&&Ci(F[0]))throw new d.vHH(4003,!1);const ee=F.find(bi);if(ee&&ee!==Jt(F))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class On{constructor(O,x,F){this.segmentGroup=O,this.processChildren=x,this.index=F}}function gi(w,O,x){if(w||(w=new Ae([],{})),0===w.segments.length&&w.hasChildren())return vr(w,O,x);const F=function tr(w,O,x){let F=0,ee=O;const ye={match:!1,pathIndex:0,commandIndex:0};for(;ee<w.segments.length;){if(F>=x.length)return ye;const Se=w.segments[ee],tt=x[F];if(bi(tt))break;const Zt=`${tt}`,Dn=F<x.length-1?x[F+1]:null;if(ee>0&&void 0===Zt)break;if(Zt&&Dn&&"object"==typeof Dn&&void 0===Dn.outlets){if(!oo(Zt,Dn,Se))return ye;F+=2}else{if(!oo(Zt,{},Se))return ye;F++}ee++}return{match:!0,pathIndex:ee,commandIndex:F}}(w,O,x),ee=x.slice(F.commandIndex);if(F.match&&F.pathIndex<w.segments.length){const ye=new Ae(w.segments.slice(0,F.pathIndex),{});return ye.children[At]=new Ae(w.segments.slice(F.pathIndex),w.children),vr(ye,0,ee)}return F.match&&0===ee.length?new Ae(w.segments,{}):F.match&&!w.hasChildren()?vo(w,O,x):F.match?vr(w,0,ee):vo(w,O,x)}function vr(w,O,x){if(0===x.length)return new Ae(w.segments,{});{const F=function Wi(w){return bi(w[0])?w[0].outlets:{[At]:w}}(x),ee={};if(!F[At]&&w.children[At]&&1===w.numberOfChildren&&0===w.children[At].segments.length){const ye=vr(w.children[At],O,x);return new Ae(w.segments,ye.children)}return Object.entries(F).forEach(([ye,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(ee[ye]=gi(w.children[ye],O,Se))}),Object.entries(w.children).forEach(([ye,Se])=>{void 0===F[ye]&&(ee[ye]=Se)}),new Ae(w.segments,ee)}}function vo(w,O,x){const F=w.segments.slice(0,O);let ee=0;for(;ee<x.length;){const ye=x[ee];if(bi(ye)){const Zt=us(ye.outlets);return new Ae(F,Zt)}if(0===ee&&Ci(x[0])){F.push(new Vt(w.segments[O].path,yr(x[0]))),ee++;continue}const Se=bi(ye)?ye.outlets[At]:`${ye}`,tt=ee<x.length-1?x[ee+1]:null;Se&&tt&&Ci(tt)?(F.push(new Vt(Se,yr(tt))),ee+=2):(F.push(new Vt(Se,{})),ee++)}return new Ae(F,{})}function us(w){const O={};return Object.entries(w).forEach(([x,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(O[x]=vo(new Ae([],{}),0,F))}),O}function yr(w){const O={};return Object.entries(w).forEach(([x,F])=>O[x]=`${F}`),O}function oo(w,O,x){return w==x.path&&Tt(O,x.parameters)}const fr="imperative";class to{constructor(O,x){this.id=O,this.url=x}}class yo extends to{constructor(O,x,F="imperative",ee=null){super(O,x),this.type=0,this.navigationTrigger=F,this.restoredState=ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ui extends to{constructor(O,x,F){super(O,x),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class es extends to{constructor(O,x,F,ee){super(O,x),this.reason=F,this.code=ee,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fo extends to{constructor(O,x,F,ee){super(O,x),this.reason=F,this.code=ee,this.type=16}}class so extends to{constructor(O,x,F,ee){super(O,x),this.error=F,this.target=ee,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class br extends to{constructor(O,x,F,ee){super(O,x),this.urlAfterRedirects=F,this.state=ee,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends to{constructor(O,x,F,ee){super(O,x),this.urlAfterRedirects=F,this.state=ee,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr extends to{constructor(O,x,F,ee,ye){super(O,x),this.urlAfterRedirects=F,this.state=ee,this.shouldActivate=ye,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ro extends to{constructor(O,x,F,ee){super(O,x),this.urlAfterRedirects=F,this.state=ee,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ts extends to{constructor(O,x,F,ee){super(O,x),this.urlAfterRedirects=F,this.state=ee,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uo{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(O,x,F){this.routerEvent=O,this.position=x,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Di{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zr,this.attachRef=null}}let zr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(x,F){const ee=this.getOrCreateContext(x);ee.outlet=F,this.contexts.set(x,ee)}onChildOutletDestroyed(x){const F=this.getContext(x);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let F=this.getContext(x);return F||(F=new Di,this.contexts.set(x,F)),F}getContext(x){return this.contexts.get(x)||null}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Kr{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const x=this.pathFromRoot(O);return x.length>1?x[x.length-2]:null}children(O){const x=Do(O,this._root);return x?x.children.map(F=>F.value):[]}firstChild(O){const x=Do(O,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(O){const x=_t(O,this._root);return x.length<2?[]:x[x.length-2].children.map(ee=>ee.value).filter(ee=>ee!==O)}pathFromRoot(O){return _t(O,this._root).map(x=>x.value)}}function Do(w,O){if(w===O.value)return O;for(const x of O.children){const F=Do(w,x);if(F)return F}return null}function _t(w,O){if(w===O.value)return[O];for(const x of O.children){const F=_t(w,x);if(F.length)return F.unshift(O),F}return[]}class ct{constructor(O,x){this.value=O,this.children=x}toString(){return`TreeNode(${this.value})`}}function Rt(w){const O={};return w&&w.children.forEach(x=>O[x.value.outlet]=x),O}class rn extends Kr{constructor(O,x){super(O),this.snapshot=x,Qi(this,O)}toString(){return this.snapshot.toString()}}function cn(w,O){const x=function nn(w,O){const Se=new kr([],{},{},"",{},At,O,null,{});return new or("",new ct(Se,[]))}(0,O),F=new Z.X([new Vt("",{})]),ee=new Z.X({}),ye=new Z.X({}),Se=new Z.X({}),tt=new Z.X(""),Zt=new Rn(F,ee,Se,tt,ye,At,O,x.root);return Zt.snapshot=x.root,new rn(new ct(Zt,[]),x)}class Rn{constructor(O,x,F,ee,ye,Se,tt,Zt){this.urlSubject=O,this.paramsSubject=x,this.queryParamsSubject=F,this.fragmentSubject=ee,this.dataSubject=ye,this.outlet=Se,this.component=tt,this._futureSnapshot=Zt,this.title=this.dataSubject?.pipe((0,De.U)(Dn=>Dn[Ke]))??(0,ae.of)(void 0),this.url=O,this.params=x,this.queryParams=F,this.fragment=ee,this.data=ye}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,De.U)(O=>Ct(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,De.U)(O=>Ct(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ii(w,O="emptyOnly"){const x=w.pathFromRoot;let F=0;if("always"!==O)for(F=x.length-1;F>=1;){const ee=x[F],ye=x[F-1];if(ee.routeConfig&&""===ee.routeConfig.path)F--;else{if(ye.component)break;F--}}return function ui(w){return w.reduce((O,x)=>({params:{...O.params,...x.params},data:{...O.data,...x.data},resolve:{...x.data,...O.resolve,...x.routeConfig?.data,...x._resolvedData}}),{params:{},data:{},resolve:{}})}(x.slice(F))}class kr{get title(){return this.data?.[Ke]}constructor(O,x,F,ee,ye,Se,tt,Zt,Dn){this.url=O,this.params=x,this.queryParams=F,this.fragment=ee,this.data=ye,this.outlet=Se,this.component=tt,this.routeConfig=Zt,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class or extends Kr{constructor(O,x){super(x),this.url=O,Qi(this,x)}toString(){return $i(this._root)}}function Qi(w,O){O.value._routerState=w,O.children.forEach(x=>Qi(w,x))}function $i(w){const O=w.children.length>0?` { ${w.children.map($i).join(", ")} } `:"";return`${w.value}${O}`}function Zr(w){if(w.snapshot){const O=w.snapshot,x=w._futureSnapshot;w.snapshot=x,Tt(O.queryParams,x.queryParams)||w.queryParamsSubject.next(x.queryParams),O.fragment!==x.fragment&&w.fragmentSubject.next(x.fragment),Tt(O.params,x.params)||w.paramsSubject.next(x.params),function Ht(w,O){if(w.length!==O.length)return!1;for(let x=0;x<w.length;++x)if(!Tt(w[x],O[x]))return!1;return!0}(O.url,x.url)||w.urlSubject.next(x.url),Tt(O.data,x.data)||w.dataSubject.next(x.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Io(w,O){const x=Tt(w.params,O.params)&&function ln(w,O){return Mt(w,O)&&w.every((x,F)=>Tt(x.parameters,O[F].parameters))}(w.url,O.url);return x&&!(!w.parent!=!O.parent)&&(!w.parent||Io(w.parent,O.parent))}let ri=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(zr),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(pr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(x){if(x.name){const{firstChange:F,previousValue:ee}=x.name;if(F)return;this.isTrackedInParentContexts(ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ee)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(x){return this.parentContexts.getContext(x)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const x=this.parentContexts.getContext(this.name);x?.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,F){this.activated=x,this._activatedRoute=F,this.location.insert(x.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,F){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=x;const ee=this.location,Se=x.snapshot.component,tt=this.parentContexts.getOrCreateContext(this.name).children,Zt=new Yo(x,tt,ee.injector);this.activated=ee.createComponent(Se,{index:ee.length,injector:Zt,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275dir=d.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),w})();class Yo{constructor(O,x,F){this.route=O,this.childContexts=x,this.parent=F}get(O,x){return O===Rn?this.route:O===zr?this.childContexts:this.parent.get(O,x)}}const pr=new d.OlP("");let Yr=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(x){this.unsubscribeFromRouteData(x),this.subscribeToRouteData(x)}unsubscribeFromRouteData(x){this.outletDataSubscriptions.get(x)?.unsubscribe(),this.outletDataSubscriptions.delete(x)}subscribeToRouteData(x){const{activatedRoute:F}=x,ee=(0,_e.a)([F.queryParams,F.params,F.data]).pipe((0,be.w)(([ye,Se,tt],Zt)=>(tt={...ye,...Se,...tt},0===Zt?(0,ae.of)(tt):Promise.resolve(tt)))).subscribe(ye=>{if(!x.isActivated||!x.activatedComponentRef||x.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(x);const Se=(0,d.qFp)(F.component);if(Se)for(const{templateName:tt}of Se.inputs)x.activatedComponentRef.setInput(tt,ye[tt]);else this.unsubscribeFromRouteData(x)});this.outletDataSubscriptions.set(x,ee)}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})();function qo(w,O,x){if(x&&w.shouldReuseRoute(O.value,x.value.snapshot)){const F=x.value;F._futureSnapshot=O.value;const ee=function Ms(w,O,x){return O.children.map(F=>{for(const ee of x.children)if(w.shouldReuseRoute(F.value,ee.value.snapshot))return qo(w,F,ee);return qo(w,F)})}(w,O,x);return new ct(F,ee)}{if(w.shouldAttach(O.value)){const ye=w.retrieve(O.value);if(null!==ye){const Se=ye.route;return Se.value._futureSnapshot=O.value,Se.children=O.children.map(tt=>qo(w,tt)),Se}}const F=function ts(w){return new Rn(new Z.X(w.url),new Z.X(w.params),new Z.X(w.queryParams),new Z.X(w.fragment),new Z.X(w.data),w.outlet,w.component,w)}(O.value),ee=O.children.map(ye=>qo(w,ye));return new ct(F,ee)}}const ms="ngNavigationCancelingError";function Fs(w,O){const{redirectTo:x,navigationBehaviorOptions:F}=Ot(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,ee=sr(!1,0,O);return ee.url=x,ee.navigationBehaviorOptions=F,ee}function sr(w,O,x){const F=new Error("NavigationCancelingError: "+(w||""));return F[ms]=!0,F.cancellationCode=O,x&&(F.url=x),F}function ar(w){return ps(w)&&Ot(w.url)}function ps(w){return w&&w[ms]}let So=(()=>{class w{}return w.\u0275fac=function(x){return new(x||w)},w.\u0275cmp=d.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(x,F){1&x&&d._UZ(0,"router-outlet")},dependencies:[ri],encapsulation:2}),w})();function gs(w){const O=w.children&&w.children.map(gs),x=O?{...w,children:O}:{...w};return!x.component&&!x.loadComponent&&(O||x.loadChildren)&&x.outlet&&x.outlet!==At&&(x.component=So),x}function Ki(w){return w.outlet||At}function po(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let O=w.parent;O;O=O.parent){const x=O.routeConfig;if(x?._loadedInjector)return x._loadedInjector;if(x?._injector)return x._injector}return null}class Gi{constructor(O,x,F,ee,ye){this.routeReuseStrategy=O,this.futureState=x,this.currState=F,this.forwardEvent=ee,this.inputBindingEnabled=ye}activate(O){const x=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,F,O),Zr(this.futureState.root),this.activateChildRoutes(x,F,O)}deactivateChildRoutes(O,x,F){const ee=Rt(x);O.children.forEach(ye=>{const Se=ye.value.outlet;this.deactivateRoutes(ye,ee[Se],F),delete ee[Se]}),Object.values(ee).forEach(ye=>{this.deactivateRouteAndItsChildren(ye,F)})}deactivateRoutes(O,x,F){const ee=O.value,ye=x?x.value:null;if(ee===ye)if(ee.component){const Se=F.getContext(ee.outlet);Se&&this.deactivateChildRoutes(O,x,Se.children)}else this.deactivateChildRoutes(O,x,F);else ye&&this.deactivateRouteAndItsChildren(x,F)}deactivateRouteAndItsChildren(O,x){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,x):this.deactivateRouteAndOutlet(O,x)}detachAndStoreRouteSubtree(O,x){const F=x.getContext(O.value.outlet),ee=F&&O.value.component?F.children:x,ye=Rt(O);for(const Se of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[Se],ee);if(F&&F.outlet){const Se=F.outlet.detach(),tt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Se,route:O,contexts:tt})}}deactivateRouteAndOutlet(O,x){const F=x.getContext(O.value.outlet),ee=F&&O.value.component?F.children:x,ye=Rt(O);for(const Se of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[Se],ee);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(O,x,F){const ee=Rt(x);O.children.forEach(ye=>{this.activateRoutes(ye,ee[ye.value.outlet],F),this.forwardEvent(new fs(ye.value.snapshot))}),O.children.length&&this.forwardEvent(new mr(O.value.snapshot))}activateRoutes(O,x,F){const ee=O.value,ye=x?x.value:null;if(Zr(ee),ee===ye)if(ee.component){const Se=F.getOrCreateContext(ee.outlet);this.activateChildRoutes(O,x,Se.children)}else this.activateChildRoutes(O,x,F);else if(ee.component){const Se=F.getOrCreateContext(ee.outlet);if(this.routeReuseStrategy.shouldAttach(ee.snapshot)){const tt=this.routeReuseStrategy.retrieve(ee.snapshot);this.routeReuseStrategy.store(ee.snapshot,null),Se.children.onOutletReAttached(tt.contexts),Se.attachRef=tt.componentRef,Se.route=tt.route.value,Se.outlet&&Se.outlet.attach(tt.componentRef,tt.route.value),Zr(tt.route.value),this.activateChildRoutes(O,null,Se.children)}else{const tt=po(ee.snapshot);Se.attachRef=null,Se.route=ee,Se.injector=tt,Se.outlet&&Se.outlet.activateWith(ee,Se.injector),this.activateChildRoutes(O,null,Se.children)}}else this.activateChildRoutes(O,null,F)}}class go{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Ho{constructor(O,x){this.component=O,this.route=x}}function Ys(w,O,x){const F=w._root;return Y(F,O?O._root:null,x,[F.value])}function je(w,O){const x=Symbol(),F=O.get(w,x);return F===x?"function"!=typeof w||(0,d.Z0I)(w)?O.get(w):w:F}function Y(w,O,x,F,ee={canDeactivateChecks:[],canActivateChecks:[]}){const ye=Rt(O);return w.children.forEach(Se=>{(function ot(w,O,x,F,ee={canDeactivateChecks:[],canActivateChecks:[]}){const ye=w.value,Se=O?O.value:null,tt=x?x.getContext(w.value.outlet):null;if(Se&&ye.routeConfig===Se.routeConfig){const Zt=function hn(w,O,x){if("function"==typeof x)return x(w,O);switch(x){case"pathParamsChange":return!Mt(w.url,O.url);case"pathParamsOrQueryParamsChange":return!Mt(w.url,O.url)||!Tt(w.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Io(w,O)||!Tt(w.queryParams,O.queryParams);default:return!Io(w,O)}}(Se,ye,ye.routeConfig.runGuardsAndResolvers);Zt?ee.canActivateChecks.push(new go(F)):(ye.data=Se.data,ye._resolvedData=Se._resolvedData),Y(w,O,ye.component?tt?tt.children:null:x,F,ee),Zt&&tt&&tt.outlet&&tt.outlet.isActivated&&ee.canDeactivateChecks.push(new Ho(tt.outlet.component,Se))}else Se&&vn(O,tt,ee),ee.canActivateChecks.push(new go(F)),Y(w,null,ye.component?tt?tt.children:null:x,F,ee)})(Se,ye[Se.value.outlet],x,F.concat([Se.value]),ee),delete ye[Se.value.outlet]}),Object.entries(ye).forEach(([Se,tt])=>vn(tt,x.getContext(Se),ee)),ee}function vn(w,O,x){const F=Rt(w),ee=w.value;Object.entries(F).forEach(([ye,Se])=>{vn(Se,ee.component?O?O.children.getContext(ye):null:O,x)}),x.canDeactivateChecks.push(new Ho(ee.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,ee))}function _i(w){return"function"==typeof w}function v(w){return w instanceof Ee.K||"EmptyError"===w?.name}const D=Symbol("INITIAL_VALUE");function J(){return(0,be.w)(w=>(0,_e.a)(w.map(O=>O.pipe((0,Me.q)(1),(0,$e.O)(D)))).pipe((0,De.U)(O=>{for(const x of O)if(!0!==x){if(x===D)return D;if(!1===x||x instanceof Qe)return x}return!0}),(0,K.h)(O=>O!==D),(0,Me.q)(1)))}function Pr(w){return(0,fe.z)((0,vt.b)(O=>{if(Ot(O))throw Fs(0,O)}),(0,De.U)(O=>!0===O))}class Ni{constructor(O){this.segmentGroup=O||null}}class Er{constructor(O){this.urlTree=O}}function xi(w){return(0,Je._)(new Ni(w))}function No(w){return(0,Je._)(new Er(w))}class Fr{constructor(O,x){this.urlSerializer=O,this.urlTree=x}noMatchError(O){return new d.vHH(4002,!1)}lineralizeSegments(O,x){let F=[],ee=x.root;for(;;){if(F=F.concat(ee.segments),0===ee.numberOfChildren)return(0,ae.of)(F);if(ee.numberOfChildren>1||!ee.children[At])return(0,Je._)(new d.vHH(4e3,!1));ee=ee.children[At]}}applyRedirectCommands(O,x,F){return this.applyRedirectCreateUrlTree(x,this.urlSerializer.parse(x),O,F)}applyRedirectCreateUrlTree(O,x,F,ee){const ye=this.createSegmentGroup(O,x.root,F,ee);return new Qe(ye,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(O,x){const F={};return Object.entries(O).forEach(([ee,ye])=>{if("string"==typeof ye&&ye.startsWith(":")){const tt=ye.substring(1);F[ee]=x[tt]}else F[ee]=ye}),F}createSegmentGroup(O,x,F,ee){const ye=this.createSegments(O,x.segments,F,ee);let Se={};return Object.entries(x.children).forEach(([tt,Zt])=>{Se[tt]=this.createSegmentGroup(O,Zt,F,ee)}),new Ae(ye,Se)}createSegments(O,x,F,ee){return x.map(ye=>ye.path.startsWith(":")?this.findPosParam(O,ye,ee):this.findOrReturn(ye,F))}findPosParam(O,x,F){const ee=F[x.path.substring(1)];if(!ee)throw new d.vHH(4001,!1);return ee}findOrReturn(O,x){let F=0;for(const ee of x){if(ee.path===O.path)return x.splice(F),ee;F++}return O}}const xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vs(w,O,x,F,ee){const ye=qr(w,O,x);return ye.matched?(F=function Ti(w,O){return w.providers&&!w._injector&&(w._injector=(0,d.MMx)(w.providers,O,`Route: ${w.path}`)),w._injector??O}(O,F),function xr(w,O,x,F){const ee=O.canMatch;if(!ee||0===ee.length)return(0,ae.of)(!0);const ye=ee.map(Se=>{const tt=je(Se,w);return yn(function _s(w){return w&&_i(w.canMatch)}(tt)?tt.canMatch(O,x):w.runInContext(()=>tt(O,x)))});return(0,ae.of)(ye).pipe(J(),Pr())}(F,O,x).pipe((0,De.U)(Se=>!0===Se?ye:{...xo}))):(0,ae.of)(ye)}function qr(w,O,x){if(""===O.path)return"full"===O.pathMatch&&(w.hasChildren()||x.length>0)?{...xo}:{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const ee=(O.matcher||yt)(x,w,O);if(!ee)return{...xo};const ye={};Object.entries(ee.posParams??{}).forEach(([tt,Zt])=>{ye[tt]=Zt.path});const Se=ee.consumed.length>0?{...ye,...ee.consumed[ee.consumed.length-1].parameters}:ye;return{matched:!0,consumedSegments:ee.consumed,remainingSegments:x.slice(ee.consumed.length),parameters:Se,positionalParamSegments:ee.posParams??{}}}function ys(w,O,x,F){return x.length>0&&function ra(w,O,x){return x.some(F=>Qr(w,O,F)&&Ki(F)!==At)}(w,x,F)?{segmentGroup:new Ae(O,zs(F,new Ae(x,w.children))),slicedSegments:[]}:0===x.length&&function Ea(w,O,x){return x.some(F=>Qr(w,O,F))}(w,x,F)?{segmentGroup:new Ae(w.segments,is(w,0,x,F,w.children)),slicedSegments:x}:{segmentGroup:new Ae(w.segments,w.children),slicedSegments:x}}function is(w,O,x,F,ee){const ye={};for(const Se of F)if(Qr(w,x,Se)&&!ee[Ki(Se)]){const tt=new Ae([],{});ye[Ki(Se)]=tt}return{...ee,...ye}}function zs(w,O){const x={};x[At]=O;for(const F of w)if(""===F.path&&Ki(F)!==At){const ee=new Ae([],{});x[Ki(F)]=ee}return x}function Qr(w,O,x){return(!(w.hasChildren()||O.length>0)||"full"!==x.pathMatch)&&""===x.path}class ma{constructor(O,x,F,ee,ye,Se,tt){this.injector=O,this.configLoader=x,this.rootComponentType=F,this.config=ee,this.urlTree=ye,this.paramsInheritanceStrategy=Se,this.urlSerializer=tt,this.allowRedirects=!0,this.applyRedirects=new Fr(this.urlSerializer,this.urlTree)}noMatchError(O){return new d.vHH(4002,!1)}recognize(){const O=ys(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,At).pipe((0,_n.K)(x=>{if(x instanceof Er)return this.allowRedirects=!1,this.urlTree=x.urlTree,this.match(x.urlTree);throw x instanceof Ni?this.noMatchError(x):x}),(0,De.U)(x=>{const F=new kr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),ee=new ct(F,x),ye=new or("",ee),Se=function en(w,O,x=null,F=null){return Mn(Xn(w),O,x,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Se.queryParams=this.urlTree.queryParams,ye.url=this.urlSerializer.serialize(Se),this.inheritParamsAndData(ye._root),{state:ye,tree:Se}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,At).pipe((0,_n.K)(F=>{throw F instanceof Ni?this.noMatchError(F):F}))}inheritParamsAndData(O){const x=O.value,F=ii(x,this.paramsInheritanceStrategy);x.params=Object.freeze(F.params),x.data=Object.freeze(F.data),O.children.forEach(ee=>this.inheritParamsAndData(ee))}processSegmentGroup(O,x,F,ee){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,x,F):this.processSegment(O,x,F,F.segments,ee,!0)}processChildren(O,x,F){const ee=[];for(const ye of Object.keys(F.children))"primary"===ye?ee.unshift(ye):ee.push(ye);return(0,xe.D)(ee).pipe((0,ze.b)(ye=>{const Se=F.children[ye],tt=function Mr(w,O){const x=w.filter(F=>Ki(F)===O);return x.push(...w.filter(F=>Ki(F)!==O)),x}(x,ye);return this.processSegmentGroup(O,tt,Se,ye)}),(0,kn.R)((ye,Se)=>(ye.push(...Se),ye)),(0,ht.d)(null),function Qt(w,O){const x=arguments.length>=2;return F=>F.pipe(w?(0,K.h)((ee,ye)=>w(ee,ye,F)):Pt.y,ft(1),x?(0,ht.d)(O):(0,kt.T)(()=>new Ee.K))}(),(0,Ge.z)(ye=>{if(null===ye)return xi(F);const Se=aa(ye);return function pa(w){w.sort((O,x)=>O.value.outlet===At?-1:x.value.outlet===At?1:O.value.outlet.localeCompare(x.value.outlet))}(Se),(0,ae.of)(Se)}))}processSegment(O,x,F,ee,ye,Se){return(0,xe.D)(x).pipe((0,ze.b)(tt=>this.processSegmentAgainstRoute(tt._injector??O,x,tt,F,ee,ye,Se).pipe((0,_n.K)(Zt=>{if(Zt instanceof Ni)return(0,ae.of)(null);throw Zt}))),(0,Fe.P)(tt=>!!tt),(0,_n.K)(tt=>{if(v(tt))return function oa(w,O,x){return 0===O.length&&!w.children[x]}(F,ee,ye)?(0,ae.of)([]):xi(F);throw tt}))}processSegmentAgainstRoute(O,x,F,ee,ye,Se,tt){return function _l(w,O,x,F){return!!(Ki(w)===F||F!==At&&Qr(O,x,w))&&("**"===w.path||qr(O,w,x).matched)}(F,ee,ye,Se)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(O,ee,F,ye,Se,tt):tt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,ee,x,F,ye,Se):xi(ee):xi(ee)}expandSegmentAgainstRouteUsingRedirect(O,x,F,ee,ye,Se){return"**"===ee.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,ee,Se):this.expandRegularSegmentAgainstRouteUsingRedirect(O,x,F,ee,ye,Se)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,x,F,ee){const ye=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?No(ye):this.applyRedirects.lineralizeSegments(F,ye).pipe((0,Ge.z)(Se=>{const tt=new Ae(Se,{});return this.processSegment(O,x,tt,Se,ee,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,x,F,ee,ye,Se){const{matched:tt,consumedSegments:Zt,remainingSegments:Dn,positionalParamSegments:Sn}=qr(x,ee,ye);if(!tt)return xi(x);const vi=this.applyRedirects.applyRedirectCommands(Zt,ee.redirectTo,Sn);return ee.redirectTo.startsWith("/")?No(vi):this.applyRedirects.lineralizeSegments(ee,vi).pipe((0,Ge.z)(Lr=>this.processSegment(O,F,x,Lr.concat(Dn),Se,!1)))}matchSegmentAgainstRoute(O,x,F,ee,ye,Se){let tt;if("**"===F.path){const Zt=ee.length>0?Jt(ee).parameters:{},Dn=new kr(ee,Zt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ns(F),Ki(F),F.component??F._loadedComponent??null,F,qs(F));tt=(0,ae.of)({snapshot:Dn,consumedSegments:[],remainingSegments:[]}),x.children={}}else tt=vs(x,F,ee,O).pipe((0,De.U)(({matched:Zt,consumedSegments:Dn,remainingSegments:Sn,parameters:vi})=>Zt?{snapshot:new kr(Dn,vi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ns(F),Ki(F),F.component??F._loadedComponent??null,F,qs(F)),consumedSegments:Dn,remainingSegments:Sn}:null));return tt.pipe((0,be.w)(Zt=>null===Zt?xi(x):this.getChildConfig(O=F._injector??O,F,ee).pipe((0,be.w)(({routes:Dn})=>{const Sn=F._loadedInjector??O,{snapshot:vi,consumedSegments:Lr,remainingSegments:Go}=Zt,{segmentGroup:_o,slicedSegments:gr}=ys(x,Lr,Go,Dn);if(0===gr.length&&_o.hasChildren())return this.processChildren(Sn,Dn,_o).pipe((0,De.U)(Ds=>null===Ds?null:[new ct(vi,Ds)]));if(0===Dn.length&&0===gr.length)return(0,ae.of)([new ct(vi,[])]);const Wt=Ki(F)===ye;return this.processSegment(Sn,Dn,_o,gr,Wt?At:ye,!0).pipe((0,De.U)(Ds=>[new ct(vi,Ds)]))}))))}getChildConfig(O,x,F){return x.children?(0,ae.of)({routes:x.children,injector:O}):x.loadChildren?void 0!==x._loadedRoutes?(0,ae.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):function wr(w,O,x,F){const ee=O.canLoad;if(void 0===ee||0===ee.length)return(0,ae.of)(!0);const ye=ee.map(Se=>{const tt=je(Se,w);return yn(function Or(w){return w&&_i(w.canLoad)}(tt)?tt.canLoad(O,x):w.runInContext(()=>tt(O,x)))});return(0,ae.of)(ye).pipe(J(),Pr())}(O,x,F).pipe((0,Ge.z)(ee=>ee?this.configLoader.loadChildren(O,x).pipe((0,vt.b)(ye=>{x._loadedRoutes=ye.routes,x._loadedInjector=ye.injector})):function Ur(w){return(0,Je._)(sr(!1,3))}())):(0,ae.of)({routes:[],injector:O})}}function $s(w){const O=w.value.routeConfig;return O&&""===O.path}function aa(w){const O=[],x=new Set;for(const F of w){if(!$s(F)){O.push(F);continue}const ee=O.find(ye=>F.value.routeConfig===ye.value.routeConfig);void 0!==ee?(ee.children.push(...F.children),x.add(ee)):O.push(F)}for(const F of x){const ee=aa(F.children);O.push(new ct(F.value,ee))}return O.filter(F=>!x.has(F))}function Ns(w){return w.data||{}}function qs(w){return w.resolve||{}}function Ls(w){return"string"==typeof w.title||null===w.title}function Xi(w){return(0,be.w)(O=>{const x=w(O);return x?(0,xe.D)(x).pipe((0,De.U)(()=>O)):(0,ae.of)(O)})}const To=new d.OlP("ROUTES");let Gs=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(x){if(this.componentLoaders.get(x))return this.componentLoaders.get(x);if(x._loadedComponent)return(0,ae.of)(x._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(x);const F=yn(x.loadComponent()).pipe((0,De.U)(ga),(0,vt.b)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(x),x._loadedComponent=ye}),(0,dn.x)(()=>{this.componentLoaders.delete(x)})),ee=new Re(F,()=>new bt.x).pipe(He());return this.componentLoaders.set(x,ee),ee}loadChildren(x,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,ae.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ye=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,De.U)(tt=>{this.onLoadEndListener&&this.onLoadEndListener(F);let Zt,Dn;return Array.isArray(tt)?Dn=tt:(Zt=tt.create(x).injector,Dn=Zt.get(To,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:Dn.map(gs),injector:Zt}}),(0,dn.x)(()=>{this.childrenLoaders.delete(F)})),Se=new Re(ye,()=>new bt.x).pipe(He());return this.childrenLoaders.set(F,Se),Se}loadModuleFactoryOrRoutes(x){return yn(x()).pipe((0,De.U)(ga),(0,Ge.z)(F=>F instanceof d.YKP||Array.isArray(F)?(0,ae.of)(F):(0,xe.D)(this.compiler.compileModuleAsync(F))))}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ga(w){return function Ai(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let R=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new bt.x,this.configLoader=(0,d.f3M)(Gs),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(An),this.rootContexts=(0,d.f3M)(zr),this.inputBindingEnabled=null!==(0,d.f3M)(pr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ee=>this.events.next(new Uo(ee)),this.configLoader.onLoadStartListener=ee=>this.events.next(new hs(ee))}complete(){this.transitions?.complete()}handleNavigationRequest(x){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...x,id:F})}setupNavigations(x){return this.transitions=new Z.X({id:0,currentUrlTree:x.currentUrlTree,currentRawUrl:x.currentUrlTree,extractedUrl:x.urlHandlingStrategy.extract(x.currentUrlTree),urlAfterRedirects:x.urlHandlingStrategy.extract(x.currentUrlTree),rawUrl:x.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fr,restoredState:null,currentSnapshot:x.routerState.snapshot,targetSnapshot:null,currentRouterState:x.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,K.h)(F=>0!==F.id),(0,De.U)(F=>({...F,extractedUrl:x.urlHandlingStrategy.extract(F.rawUrl)})),(0,be.w)(F=>{let ee=!1,ye=!1;return(0,ae.of)(F).pipe((0,vt.b)(Se=>{this.currentNavigation={id:Se.id,initialUrl:Se.rawUrl,extractedUrl:Se.extractedUrl,trigger:Se.source,extras:Se.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,be.w)(Se=>{const tt=x.browserUrlTree.toString(),Zt=!x.navigated||Se.extractedUrl.toString()!==tt||tt!==x.currentUrlTree.toString();if(!Zt&&"reload"!==(Se.extras.onSameUrlNavigation??x.onSameUrlNavigation)){const Sn="";return this.events.next(new fo(Se.id,x.serializeUrl(F.rawUrl),Sn,0)),x.rawUrlTree=Se.rawUrl,Se.resolve(null),Ne.E}if(x.urlHandlingStrategy.shouldProcessUrl(Se.rawUrl))return Q(Se.source)&&(x.browserUrlTree=Se.extractedUrl),(0,ae.of)(Se).pipe((0,be.w)(Sn=>{const vi=this.transitions?.getValue();return this.events.next(new yo(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),Sn.source,Sn.restoredState)),vi!==this.transitions?.getValue()?Ne.E:Promise.resolve(Sn)}),function Oa(w,O,x,F,ee,ye){return(0,Ge.z)(Se=>function sa(w,O,x,F,ee,ye,Se="emptyOnly"){return new ma(w,O,x,F,ee,Se,ye).recognize()}(w,O,x,F,Se.extractedUrl,ee,ye).pipe((0,De.U)(({state:tt,tree:Zt})=>({...Se,targetSnapshot:tt,urlAfterRedirects:Zt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,x.config,this.urlSerializer,x.paramsInheritanceStrategy),(0,vt.b)(Sn=>{if(F.targetSnapshot=Sn.targetSnapshot,F.urlAfterRedirects=Sn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Sn.urlAfterRedirects},"eager"===x.urlUpdateStrategy){if(!Sn.extras.skipLocationChange){const Lr=x.urlHandlingStrategy.merge(Sn.urlAfterRedirects,Sn.rawUrl);x.setBrowserUrl(Lr,Sn)}x.browserUrlTree=Sn.urlAfterRedirects}const vi=new br(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(vi)}));if(Zt&&x.urlHandlingStrategy.shouldProcessUrl(x.rawUrlTree)){const{id:Sn,extractedUrl:vi,source:Lr,restoredState:Go,extras:_o}=Se,gr=new yo(Sn,this.urlSerializer.serialize(vi),Lr,Go);this.events.next(gr);const Wt=cn(0,this.rootComponentType).snapshot;return F={...Se,targetSnapshot:Wt,urlAfterRedirects:vi,extras:{..._o,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(F)}{const Sn="";return this.events.next(new fo(Se.id,x.serializeUrl(F.extractedUrl),Sn,1)),x.rawUrlTree=Se.rawUrl,Se.resolve(null),Ne.E}}),(0,vt.b)(Se=>{const tt=new Co(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(tt)}),(0,De.U)(Se=>F={...Se,guards:Ys(Se.targetSnapshot,Se.currentSnapshot,this.rootContexts)}),function Ce(w,O){return(0,Ge.z)(x=>{const{targetSnapshot:F,currentSnapshot:ee,guards:{canActivateChecks:ye,canDeactivateChecks:Se}}=x;return 0===Se.length&&0===ye.length?(0,ae.of)({...x,guardsResult:!0}):function dt(w,O,x,F){return(0,xe.D)(w).pipe((0,Ge.z)(ee=>function Pi(w,O,x,F,ee){const ye=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ye||0===ye.length)return(0,ae.of)(!0);const Se=ye.map(tt=>{const Zt=po(O)??ee,Dn=je(tt,Zt);return yn(function ns(w){return w&&_i(w.canDeactivate)}(Dn)?Dn.canDeactivate(w,O,x,F):Zt.runInContext(()=>Dn(w,O,x,F))).pipe((0,Fe.P)())});return(0,ae.of)(Se).pipe(J())}(ee.component,ee.route,x,O,F)),(0,Fe.P)(ee=>!0!==ee,!0))}(Se,F,ee,w).pipe((0,Ge.z)(tt=>tt&&function lr(w){return"boolean"==typeof w}(tt)?function Nt(w,O,x,F){return(0,xe.D)(O).pipe((0,ze.b)(ee=>(0,se.z)(function zn(w,O){return null!==w&&O&&O(new Hr(w)),(0,ae.of)(!0)}(ee.route.parent,F),function En(w,O){return null!==w&&O&&O(new Vo(w)),(0,ae.of)(!0)}(ee.route,F),function wi(w,O,x){const F=O[O.length-1],ye=O.slice(0,O.length-1).reverse().map(Se=>function Ze(w){const O=w.routeConfig?w.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:w,guards:O}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,de.P)(()=>{const tt=Se.guards.map(Zt=>{const Dn=po(Se.node)??x,Sn=je(Zt,Dn);return yn(function Rr(w){return w&&_i(w.canActivateChild)}(Sn)?Sn.canActivateChild(F,w):Dn.runInContext(()=>Sn(F,w))).pipe((0,Fe.P)())});return(0,ae.of)(tt).pipe(J())}));return(0,ae.of)(ye).pipe(J())}(w,ee.path,x),function Bn(w,O,x){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,ae.of)(!0);const ee=F.map(ye=>(0,de.P)(()=>{const Se=po(O)??x,tt=je(ye,Se);return yn(function wo(w){return w&&_i(w.canActivate)}(tt)?tt.canActivate(O,w):Se.runInContext(()=>tt(O,w))).pipe((0,Fe.P)())}));return(0,ae.of)(ee).pipe(J())}(w,ee.route,x))),(0,Fe.P)(ee=>!0!==ee,!0))}(F,ye,w,O):(0,ae.of)(tt)),(0,De.U)(tt=>({...x,guardsResult:tt})))})}(this.environmentInjector,Se=>this.events.next(Se)),(0,vt.b)(Se=>{if(F.guardsResult=Se.guardsResult,Ot(Se.guardsResult))throw Fs(0,Se.guardsResult);const tt=new Wr(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot,!!Se.guardsResult);this.events.next(tt)}),(0,K.h)(Se=>!!Se.guardsResult||(x.restoreHistory(Se),this.cancelNavigationTransition(Se,"",3),!1)),Xi(Se=>{if(Se.guards.canActivateChecks.length)return(0,ae.of)(Se).pipe((0,vt.b)(tt=>{const Zt=new Ro(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(Zt)}),(0,be.w)(tt=>{let Zt=!1;return(0,ae.of)(tt).pipe(function Ca(w,O){return(0,Ge.z)(x=>{const{targetSnapshot:F,guards:{canActivateChecks:ee}}=x;if(!ee.length)return(0,ae.of)(x);let ye=0;return(0,xe.D)(ee).pipe((0,ze.b)(Se=>function Qs(w,O,x,F){const ee=w.routeConfig,ye=w._resolve;return void 0!==ee?.title&&!Ls(ee)&&(ye[Ke]=ee.title),function rs(w,O,x,F){const ee=function zo(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===ee.length)return(0,ae.of)({});const ye={};return(0,xe.D)(ee).pipe((0,Ge.z)(Se=>function Da(w,O,x,F){const ee=po(O)??F,ye=je(w,ee);return yn(ye.resolve?ye.resolve(O,x):ee.runInContext(()=>ye(O,x)))}(w[Se],O,x,F).pipe((0,Fe.P)(),(0,vt.b)(tt=>{ye[Se]=tt}))),ft(1),(0,Gt.h)(ye),(0,_n.K)(Se=>v(Se)?Ne.E:(0,Je._)(Se)))}(ye,w,O,F).pipe((0,De.U)(Se=>(w._resolvedData=Se,w.data=ii(w,x).resolve,ee&&Ls(ee)&&(w.data[Ke]=ee.title),null)))}(Se.route,F,w,O)),(0,vt.b)(()=>ye++),ft(1),(0,Ge.z)(Se=>ye===ee.length?(0,ae.of)(x):Ne.E))})}(x.paramsInheritanceStrategy,this.environmentInjector),(0,vt.b)({next:()=>Zt=!0,complete:()=>{Zt||(x.restoreHistory(tt),this.cancelNavigationTransition(tt,"",2))}}))}),(0,vt.b)(tt=>{const Zt=new Ts(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(Zt)}))}),Xi(Se=>{const tt=Zt=>{const Dn=[];Zt.routeConfig?.loadComponent&&!Zt.routeConfig._loadedComponent&&Dn.push(this.configLoader.loadComponent(Zt.routeConfig).pipe((0,vt.b)(Sn=>{Zt.component=Sn}),(0,De.U)(()=>{})));for(const Sn of Zt.children)Dn.push(...tt(Sn));return Dn};return(0,_e.a)(tt(Se.targetSnapshot.root)).pipe((0,ht.d)(),(0,Me.q)(1))}),Xi(()=>this.afterPreactivation()),(0,De.U)(Se=>{const tt=function dr(w,O,x){const F=qo(w,O._root,x?x._root:void 0);return new rn(F,O)}(x.routeReuseStrategy,Se.targetSnapshot,Se.currentRouterState);return F={...Se,targetRouterState:tt}}),(0,vt.b)(Se=>{x.currentUrlTree=Se.urlAfterRedirects,x.rawUrlTree=x.urlHandlingStrategy.merge(Se.urlAfterRedirects,Se.rawUrl),x.routerState=Se.targetRouterState,"deferred"===x.urlUpdateStrategy&&(Se.extras.skipLocationChange||x.setBrowserUrl(x.rawUrlTree,Se),x.browserUrlTree=Se.urlAfterRedirects)}),((w,O,x,F)=>(0,De.U)(ee=>(new Gi(O,ee.targetRouterState,ee.currentRouterState,x,F).activate(w),ee)))(this.rootContexts,x.routeReuseStrategy,Se=>this.events.next(Se),this.inputBindingEnabled),(0,Me.q)(1),(0,vt.b)({next:Se=>{ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,x.navigated=!0,this.events.next(new Ui(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(x.currentUrlTree))),x.titleStrategy?.updateTitle(Se.targetRouterState.snapshot),Se.resolve(!0)},complete:()=>{ee=!0}}),(0,dn.x)(()=>{ee||ye||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),(0,_n.K)(Se=>{if(ye=!0,ps(Se)){ar(Se)||(x.navigated=!0,x.restoreHistory(F,!0));const tt=new es(F.id,this.urlSerializer.serialize(F.extractedUrl),Se.message,Se.cancellationCode);if(this.events.next(tt),ar(Se)){const Zt=x.urlHandlingStrategy.merge(Se.url,x.rawUrlTree),Dn={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===x.urlUpdateStrategy||Q(F.source)};x.scheduleNavigation(Zt,fr,null,Dn,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{x.restoreHistory(F,!0);const tt=new so(F.id,this.urlSerializer.serialize(F.extractedUrl),Se,F.targetSnapshot??void 0);this.events.next(tt);try{F.resolve(x.errorHandler(Se))}catch(Zt){F.reject(Zt)}}return Ne.E}))}))}cancelNavigationTransition(x,F,ee){const ye=new es(x.id,this.urlSerializer.serialize(x.extractedUrl),F,ee);this.events.next(ye),x.resolve(!1)}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Q(w){return w!==fr}let B=(()=>{class w{buildTitle(x){let F,ee=x.root;for(;void 0!==ee;)F=this.getResolvedTitleForRoute(ee)??F,ee=ee.children.find(ye=>ye.outlet===At);return F}getResolvedTitleForRoute(x){return x.data[Ke]}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(he)},providedIn:"root"}),w})(),he=(()=>{class w extends B{constructor(x){super(),this.title=x}updateTitle(x){const F=this.buildTitle(x);void 0!==F&&this.title.setTitle(F)}}return w.\u0275fac=function(x){return new(x||w)(d.LFG(an.Dx))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),qe=(()=>{class w{}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(fn)},providedIn:"root"}),w})();class Xt{shouldDetach(O){return!1}store(O,x){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,x){return O.routeConfig===x.routeConfig}}let fn=(()=>{class w extends Xt{}return w.\u0275fac=function(){let O;return function(F){return(O||(O=d.n5z(w)))(F||w)}}(),w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Kn=new d.OlP("",{providedIn:"root",factory:()=>({})});let ji=(()=>{class w{}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Mi)},providedIn:"root"}),w})(),Mi=(()=>{class w{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,F){return x}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();var Ei=(()=>((Ei=Ei||{})[Ei.COMPLETE=0]="COMPLETE",Ei[Ei.FAILED=1]="FAILED",Ei[Ei.REDIRECTING=2]="REDIRECTING",Ei))();function Ii(w,O){w.events.pipe((0,K.h)(x=>x instanceof Ui||x instanceof es||x instanceof so||x instanceof fo),(0,De.U)(x=>x instanceof Ui||x instanceof fo?Ei.COMPLETE:x instanceof es&&(0===x.code||1===x.code)?Ei.REDIRECTING:Ei.FAILED),(0,K.h)(x=>x!==Ei.REDIRECTING),(0,Me.q)(1)).subscribe(()=>{O()})}function nr(w){throw w}function Un(w,O,x){return O.parse("/")}const $r={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},os={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xr=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Kn,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||nr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Un,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(ji),this.routeReuseStrategy=(0,d.f3M)(qe),this.titleStrategy=(0,d.f3M)(B),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(To,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(R),this.urlSerializer=(0,d.f3M)(An),this.location=(0,d.f3M)(ue.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(pr,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(x=>{this.lastSuccessfulId=x.id,this.currentPageId=this.browserPageId??0},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}resetRootComponentType(x){this.routerState.root.component=x,this.navigationTransitions.rootComponentType=x}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const x=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fr,x)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const F="popstate"===x.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(x.url,F,x.state)},0)}))}navigateToSyncWithBrowser(x,F,ee){const ye={replaceUrl:!0},Se=ee?.navigationId?ee:null;if(ee){const Zt={...ee};delete Zt.navigationId,delete Zt.\u0275routerPageId,0!==Object.keys(Zt).length&&(ye.state=Zt)}const tt=this.parseUrl(x);this.scheduleNavigation(tt,F,Se,ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(x){this.config=x.map(gs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,F={}){const{relativeTo:ee,queryParams:ye,fragment:Se,queryParamsHandling:tt,preserveFragment:Zt}=F,Dn=Zt?this.currentUrlTree.fragment:Se;let vi,Sn=null;switch(tt){case"merge":Sn={...this.currentUrlTree.queryParams,...ye};break;case"preserve":Sn=this.currentUrlTree.queryParams;break;default:Sn=ye||null}null!==Sn&&(Sn=this.removeEmptyProps(Sn));try{vi=Xn(ee?ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof x[0]||!x[0].startsWith("/"))&&(x=[]),vi=this.currentUrlTree.root}return Mn(vi,x,Sn,Dn??null)}navigateByUrl(x,F={skipLocationChange:!1}){const ee=Ot(x)?x:this.parseUrl(x),ye=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(ye,fr,null,F)}navigate(x,F={skipLocationChange:!1}){return function Ia(w){for(let O=0;O<w.length;O++)if(null==w[O])throw new d.vHH(4008,!1)}(x),this.navigateByUrl(this.createUrlTree(x,F),F)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let F;try{F=this.urlSerializer.parse(x)}catch(ee){F=this.malformedUriErrorHandler(ee,this.urlSerializer,x)}return F}isActive(x,F){let ee;if(ee=!0===F?{...$r}:!1===F?{...os}:F,Ot(x))return Hn(this.currentUrlTree,x,ee);const ye=this.parseUrl(x);return Hn(this.currentUrlTree,ye,ee)}removeEmptyProps(x){return Object.keys(x).reduce((F,ee)=>{const ye=x[ee];return null!=ye&&(F[ee]=ye),F},{})}scheduleNavigation(x,F,ee,ye,Se){if(this.disposed)return Promise.resolve(!1);let tt,Zt,Dn;Se?(tt=Se.resolve,Zt=Se.reject,Dn=Se.promise):Dn=new Promise((vi,Lr)=>{tt=vi,Zt=Lr});const Sn=this.pendingTasks.add();return Ii(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Sn))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:x,extras:ye,resolve:tt,reject:Zt,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(vi=>Promise.reject(vi))}setBrowserUrl(x,F){const ee=this.urlSerializer.serialize(x);if(this.location.isCurrentPathEqualTo(ee)||F.extras.replaceUrl){const Se={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(ee,"",Se)}else{const ye={...F.extras.state,...this.generateNgRouterState(F.id,(this.browserPageId??0)+1)};this.location.go(ee,"",ye)}}restoreHistory(x,F=!1){if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ye?this.location.historyGo(ye):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ye&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(x,F){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:F}:{navigationId:x}}}return w.\u0275fac=function(x){return new(x||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Es{}let vl=(()=>{class w{constructor(x,F,ee,ye,Se){this.router=x,this.injector=ee,this.preloadingStrategy=ye,this.loader=Se}setUpPreloading(){this.subscription=this.router.events.pipe((0,K.h)(x=>x instanceof Ui),(0,ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,F){const ee=[];for(const ye of F){ye.providers&&!ye._injector&&(ye._injector=(0,d.MMx)(ye.providers,x,`Route: ${ye.path}`));const Se=ye._injector??x,tt=ye._loadedInjector??Se;(ye.loadChildren&&!ye._loadedRoutes&&void 0===ye.canLoad||ye.loadComponent&&!ye._loadedComponent)&&ee.push(this.preloadConfig(Se,ye)),(ye.children||ye._loadedRoutes)&&ee.push(this.processRoutes(tt,ye.children??ye._loadedRoutes))}return(0,xe.D)(ee).pipe((0,gn.J)())}preloadConfig(x,F){return this.preloadingStrategy.preload(F,()=>{let ee;ee=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(x,F):(0,ae.of)(null);const ye=ee.pipe((0,Ge.z)(Se=>null===Se?(0,ae.of)(void 0):(F._loadedRoutes=Se.routes,F._loadedInjector=Se.injector,this.processRoutes(Se.injector??x,Se.routes))));if(F.loadComponent&&!F._loadedComponent){const Se=this.loader.loadComponent(F);return(0,xe.D)([ye,Se]).pipe((0,gn.J)())}return ye})}}return w.\u0275fac=function(x){return new(x||w)(d.LFG(Xr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Es),d.LFG(Gs))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const rl=new d.OlP("");let wn=(()=>{class w{constructor(x,F,ee,ye,Se={}){this.urlSerializer=x,this.transitions=F,this.viewportScroller=ee,this.zone=ye,this.options=Se,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Se.scrollPositionRestoration=Se.scrollPositionRestoration||"disabled",Se.anchorScrolling=Se.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof yo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof Ui?(this.lastId=x.id,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.urlAfterRedirects).fragment)):x instanceof fo&&0===x.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof si&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new si(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return w.\u0275fac=function(x){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})();function as(w,O){return{\u0275kind:w,\u0275providers:O}}function Dr(){const w=(0,d.f3M)(d.zs3);return O=>{const x=w.get(d.z2F);if(O!==x.components[0])return;const F=w.get(Xr),ee=w.get(Cs);1===w.get(co)&&F.initialNavigation(),w.get(y,null,d.XFs.Optional)?.setUpPreloading(),w.get(rl,null,d.XFs.Optional)?.init(),F.resetRootComponentType(x.componentTypes[0]),ee.closed||(ee.next(),ee.complete(),ee.unsubscribe())}}const Cs=new d.OlP("",{factory:()=>new bt.x}),co=new d.OlP("",{providedIn:"root",factory:()=>1}),y=new d.OlP("");function p(w){return as(0,[{provide:y,useExisting:vl},{provide:Es,useExisting:w}])}const Lt=new d.OlP("ROUTER_FORROOT_GUARD"),on=[ue.Ye,{provide:An,useClass:ke},Xr,zr,{provide:Rn,useFactory:function lo(w){return w.routerState.root},deps:[Xr]},Gs,[]];function Vn(){return new d.PXZ("Router",Xr)}let qn=(()=>{class w{constructor(x){}static forRoot(x,F){return{ngModule:w,providers:[on,[],{provide:To,multi:!0,useValue:x},{provide:Lt,useFactory:pi,deps:[[Xr,new d.FiY,new d.tp0]]},{provide:Kn,useValue:F||{}},F?.useHash?{provide:ue.S$,useClass:ue.Do}:{provide:ue.S$,useClass:ue.b0},{provide:rl,useFactory:()=>{const w=(0,d.f3M)(ue.EM),O=(0,d.f3M)(d.R0b),x=(0,d.f3M)(Kn),F=(0,d.f3M)(R),ee=(0,d.f3M)(An);return x.scrollOffset&&w.setOffset(x.scrollOffset),new wn(ee,F,w,O,x)}},F?.preloadingStrategy?p(F.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Vn},F?.initialNavigation?ei(F):[],F?.bindToComponentInputs?as(8,[Yr,{provide:pr,useExisting:Yr}]).\u0275providers:[],[{provide:Gr,useFactory:Dr},{provide:d.tb,multi:!0,useExisting:Gr}]]}}static forChild(x){return{ngModule:w,providers:[{provide:To,multi:!0,useValue:x}]}}}return w.\u0275fac=function(x){return new(x||w)(d.LFG(Lt,8))},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({}),w})();function pi(w){return"guarded"}function ei(w){return["disabled"===w.initialNavigation?as(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const O=(0,d.f3M)(Xr);return()=>{O.setUpLocationChangeListener()}}},{provide:co,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?as(2,[{provide:co,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:O=>{const x=O.get(ue.V_,Promise.resolve());return()=>x.then(()=>new Promise(F=>{const ee=O.get(Xr),ye=O.get(Cs);Ii(ee,()=>{F(!0)}),O.get(R).afterPreactivation=()=>(F(!0),ye.closed?(0,ae.of)(void 0):ye),ee.initialNavigation()}))}}]).\u0275providers:[]]}const Gr=new d.OlP("")},3942:(pn,it,E)=>{E.d(it,{Z:()=>ut});var d=E(2090),L=E(4859),g=E(6881),ne=E(1877);class xe{constructor(Le,He){this._delegate=Le,this.firebase=He,(0,g._addComponent)(Le,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(Le,He=g._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(Le);return!bt.isInitialized()&&"EXPLICIT"===(null===(Re=bt.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:He})}_removeServiceInstance(Le,He=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(He)}_addComponent(Le){(0,g._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,g._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Ee(){const rt=function _e(rt){const Le={},He={__esModule:!0,initializeApp:function ue($e,K={}){const Ge=g.initializeApp($e,K);if((0,d.r3)(Le,Ge.name))return Le[Ge.name];const Fe=new rt(Ge,He);return Le[Ge.name]=Fe,Fe},app:bt,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function be($e){const K=$e.name,Ge=K.replace("-compat","");if(g._registerComponent($e)&&"PUBLIC"===$e.type){const Fe=(ze=bt())=>{if("function"!=typeof ze[Ge])throw Z.create("invalid-app-argument",{appName:K});return ze[Ge]()};void 0!==$e.serviceProps&&(0,d.ZB)(Fe,$e.serviceProps),He[Ge]=Fe,rt.prototype[Ge]=function(...ze){return this._getService.bind(this,K).apply(this,$e.multipleInstances?ze:[])}}return"PUBLIC"===$e.type?He[Ge]:null},removeApp:function Re($e){delete Le[$e]},useAsService:function Me($e,K){return"serverAuth"===K?null:K},modularAPIs:g}};function bt($e){if(!(0,d.r3)(Le,$e=$e||g._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:$e});return Le[$e]}return He.default=He,Object.defineProperty(He,"apps",{get:function De(){return Object.keys(Le).map($e=>Le[$e])}}),bt.App=rt,He}(xe);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Le(He){(0,d.ZB)(rt,He)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),rt}(),de=new ne.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ut=se;!function Ne(rt){(0,g.registerVersion)("@firebase/app-compat","0.2.12",rt)}()},6881:(pn,it,E)=>{E.r(it),E.d(it,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>Vt,_addOrOverwriteComponent:()=>ln,_apps:()=>Qe,_clearComponents:()=>ke,_components:()=>Ae,_getProvider:()=>Kt,_registerComponent:()=>Mt,_removeServiceInstance:()=>An,deleteApp:()=>et,getApp:()=>mi,getApps:()=>Yt,initializeApp:()=>Si,onLog:()=>Oe,registerVersion:()=>Be,setLogLevel:()=>Ie});var d=E(5861),L=E(4859),g=E(1877),ne=E(2090);const xe=(Bt,It)=>It.some(bn=>Bt instanceof bn);let ae,Z;const se=new WeakMap,de=new WeakMap,fe=new WeakMap,Je=new WeakMap,Ne=new WeakMap;let Le={get(Bt,It,bn){if(Bt instanceof IDBTransaction){if("done"===It)return de.get(Bt);if("objectStoreNames"===It)return Bt.objectStoreNames||fe.get(Bt);if("store"===It)return bn.objectStoreNames[1]?void 0:bn.objectStore(bn.objectStoreNames[0])}return ue(Bt[It])},set:(Bt,It,bn)=>(Bt[It]=bn,!0),has:(Bt,It)=>Bt instanceof IDBTransaction&&("done"===It||"store"===It)||It in Bt};function bt(Bt){return"function"==typeof Bt?function Re(Bt){return Bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Bt)?function(...It){return Bt.apply(De(this),It),ue(se.get(this))}:function(...It){return ue(Bt.apply(De(this),It))}:function(It,...bn){const Zn=Bt.call(De(this),It,...bn);return fe.set(Zn,It.sort?It.sort():[It]),ue(Zn)}}(Bt):(Bt instanceof IDBTransaction&&function rt(Bt){if(de.has(Bt))return;const It=new Promise((bn,Zn)=>{const On=()=>{Bt.removeEventListener("complete",Ln),Bt.removeEventListener("error",ai),Bt.removeEventListener("abort",ai)},Ln=()=>{bn(),On()},ai=()=>{Zn(Bt.error||new DOMException("AbortError","AbortError")),On()};Bt.addEventListener("complete",Ln),Bt.addEventListener("error",ai),Bt.addEventListener("abort",ai)});de.set(Bt,It)}(Bt),xe(Bt,function _e(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Bt,Le):Bt)}function ue(Bt){if(Bt instanceof IDBRequest)return function ut(Bt){const It=new Promise((bn,Zn)=>{const On=()=>{Bt.removeEventListener("success",Ln),Bt.removeEventListener("error",ai)},Ln=()=>{bn(ue(Bt.result)),On()},ai=()=>{Zn(Bt.error),On()};Bt.addEventListener("success",Ln),Bt.addEventListener("error",ai)});return It.then(bn=>{bn instanceof IDBCursor&&se.set(bn,Bt)}).catch(()=>{}),Ne.set(It,Bt),It}(Bt);if(Je.has(Bt))return Je.get(Bt);const It=bt(Bt);return It!==Bt&&(Je.set(Bt,It),Ne.set(It,Bt)),It}const De=Bt=>Ne.get(Bt),$e=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],Ge=new Map;function Fe(Bt,It){if(!(Bt instanceof IDBDatabase)||It in Bt||"string"!=typeof It)return;if(Ge.get(It))return Ge.get(It);const bn=It.replace(/FromIndex$/,""),Zn=It!==bn,On=K.includes(bn);if(!(bn in(Zn?IDBIndex:IDBObjectStore).prototype)||!On&&!$e.includes(bn))return;const Ln=function(){var ai=(0,d.Z)(function*(Wi,...gi){const vr=this.transaction(Wi,On?"readwrite":"readonly");let tr=vr.store;return Zn&&(tr=tr.index(gi.shift())),(yield Promise.all([tr[bn](...gi),On&&vr.done]))[0]});return function(gi){return ai.apply(this,arguments)}}();return Ge.set(It,Ln),Ln}!function He(Bt){Le=Bt(Le)}(Bt=>({...Bt,get:(It,bn,Zn)=>Fe(It,bn)||Bt.get(It,bn,Zn),has:(It,bn)=>!!Fe(It,bn)||Bt.has(It,bn)}));class ze{constructor(It){this.container=It}getPlatformInfoString(){return this.container.getProviders().map(bn=>{if(function vt(Bt){const It=Bt.getComponent();return"VERSION"===It?.type}(bn)){const Zn=bn.getImmediate();return`${Zn.library}/${Zn.version}`}return null}).filter(bn=>bn).join(" ")}}const _n="@firebase/app",ht=new g.Yd("@firebase/app"),at="[DEFAULT]",We={[_n]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qe=new Map,Ae=new Map;function Vt(Bt,It){try{Bt.container.addComponent(It)}catch(bn){ht.debug(`Component ${It.name} failed to register with FirebaseApp ${Bt.name}`,bn)}}function ln(Bt,It){Bt.container.addOrOverwriteComponent(It)}function Mt(Bt){const It=Bt.name;if(Ae.has(It))return ht.debug(`There were multiple attempts to register component ${It}.`),!1;Ae.set(It,Bt);for(const bn of Qe.values())Vt(bn,Bt);return!0}function Kt(Bt,It){const bn=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return bn&&bn.triggerHeartbeat(),Bt.container.getProvider(It)}function An(Bt,It,bn=at){Kt(Bt,It).clearInstance(bn)}function ke(){Ae.clear()}const $t=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor(It,bn,Zn){this._isDeleted=!1,this._options=Object.assign({},It),this._config=Object.assign({},bn),this._name=bn.name,this._automaticDataCollectionEnabled=bn.automaticDataCollectionEnabled,this._container=Zn,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(It){this.checkDestroyed(),this._automaticDataCollectionEnabled=It}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(It){this._isDeleted=It}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}const di="9.22.2";function Si(Bt,It={}){let bn=Bt;"object"!=typeof It&&(It={name:It});const Zn=Object.assign({name:at,automaticDataCollectionEnabled:!1},It),On=Zn.name;if("string"!=typeof On||!On)throw $t.create("bad-app-name",{appName:String(On)});if(bn||(bn=(0,ne.aH)()),!bn)throw $t.create("no-options");const Ln=Qe.get(On);if(Ln){if((0,ne.vZ)(bn,Ln.options)&&(0,ne.vZ)(Zn,Ln.config))return Ln;throw $t.create("duplicate-app",{appName:On})}const ai=new L.H0(On);for(const gi of Ae.values())ai.addComponent(gi);const Wi=new In(bn,Zn,ai);return Qe.set(On,Wi),Wi}function mi(Bt=at){const It=Qe.get(Bt);if(!It&&Bt===at&&(0,ne.aH)())return Si();if(!It)throw $t.create("no-app",{appName:Bt});return It}function Yt(){return Array.from(Qe.values())}function et(Bt){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(Bt){const It=Bt.name;Qe.has(It)&&(Qe.delete(It),yield Promise.all(Bt.container.getProviders().map(bn=>bn.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function Be(Bt,It,bn){var Zn;let On=null!==(Zn=We[Bt])&&void 0!==Zn?Zn:Bt;bn&&(On+=`-${bn}`);const Ln=On.match(/\s|\//),ai=It.match(/\s|\//);if(Ln||ai){const Wi=[`Unable to register library "${On}" with version "${It}":`];return Ln&&Wi.push(`library name "${On}" contains illegal characters (whitespace or "/")`),Ln&&ai&&Wi.push("and"),ai&&Wi.push(`version name "${It}" contains illegal characters (whitespace or "/")`),void ht.warn(Wi.join(" "))}Mt(new L.wA(`${On}-version`,()=>({library:On,version:It}),"VERSION"))}function Oe(Bt,It){if(null!==Bt&&"function"!=typeof Bt)throw $t.create("invalid-log-argument");(0,g.Am)(Bt,It)}function Ie(Bt){(0,g.Ub)(Bt)}const xt="firebase-heartbeat-database",jt=1,Te="firebase-heartbeat-store";let oe=null;function H(){return oe||(oe=function be(Bt,It,{blocked:bn,upgrade:Zn,blocking:On,terminated:Ln}={}){const ai=indexedDB.open(Bt,It),Wi=ue(ai);return Zn&&ai.addEventListener("upgradeneeded",gi=>{Zn(ue(ai.result),gi.oldVersion,gi.newVersion,ue(ai.transaction),gi)}),bn&&ai.addEventListener("blocked",gi=>bn(gi.oldVersion,gi.newVersion,gi)),Wi.then(gi=>{Ln&&gi.addEventListener("close",()=>Ln()),On&&gi.addEventListener("versionchange",vr=>On(vr.oldVersion,vr.newVersion,vr))}).catch(()=>{}),Wi}(xt,jt,{upgrade:(Bt,It)=>{0===It&&Bt.createObjectStore(Te)}}).catch(Bt=>{throw $t.create("idb-open",{originalErrorMessage:Bt.message})})),oe}function $(){return($=(0,d.Z)(function*(Bt){try{return yield(yield H()).transaction(Te).objectStore(Te).get(ve(Bt))}catch(It){if(It instanceof ne.ZR)ht.warn(It.message);else{const bn=$t.create("idb-get",{originalErrorMessage:It?.message});ht.warn(bn.message)}}})).apply(this,arguments)}function le(Bt,It){return re.apply(this,arguments)}function re(){return(re=(0,d.Z)(function*(Bt,It){try{const Zn=(yield H()).transaction(Te,"readwrite");yield Zn.objectStore(Te).put(It,ve(Bt)),yield Zn.done}catch(bn){if(bn instanceof ne.ZR)ht.warn(bn.message);else{const Zn=$t.create("idb-set",{originalErrorMessage:bn?.message});ht.warn(Zn.message)}}})).apply(this,arguments)}function ve(Bt){return`${Bt.name}!${Bt.options.appId}`}class Ot{constructor(It){this.container=It,this._heartbeatsCache=null;const bn=this.container.getProvider("app").getImmediate();this._storage=new Mn(bn),this._heartbeatsCachePromise=this._storage.read().then(Zn=>(this._heartbeatsCache=Zn,Zn))}triggerHeartbeat(){var It=this;return(0,d.Z)(function*(){const Zn=It.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),On=en();if(null===It._heartbeatsCache&&(It._heartbeatsCache=yield It._heartbeatsCachePromise),It._heartbeatsCache.lastSentHeartbeatDate!==On&&!It._heartbeatsCache.heartbeats.some(Ln=>Ln.date===On))return It._heartbeatsCache.heartbeats.push({date:On,agent:Zn}),It._heartbeatsCache.heartbeats=It._heartbeatsCache.heartbeats.filter(Ln=>{const ai=new Date(Ln.date).valueOf();return Date.now()-ai<=2592e6}),It._storage.overwrite(It._heartbeatsCache)})()}getHeartbeatsHeader(){var It=this;return(0,d.Z)(function*(){if(null===It._heartbeatsCache&&(yield It._heartbeatsCachePromise),null===It._heartbeatsCache||0===It._heartbeatsCache.heartbeats.length)return"";const bn=en(),{heartbeatsToSend:Zn,unsentEntries:On}=function Xn(Bt,It=1024){const bn=[];let Zn=Bt.slice();for(const On of Bt){const Ln=bn.find(ai=>ai.agent===On.agent);if(Ln){if(Ln.dates.push(On.date),Ci(bn)>It){Ln.dates.pop();break}}else if(bn.push({agent:On.agent,dates:[On.date]}),Ci(bn)>It){bn.pop();break}Zn=Zn.slice(1)}return{heartbeatsToSend:bn,unsentEntries:Zn}}(It._heartbeatsCache.heartbeats),Ln=(0,ne.L)(JSON.stringify({version:2,heartbeats:Zn}));return It._heartbeatsCache.lastSentHeartbeatDate=bn,On.length>0?(It._heartbeatsCache.heartbeats=On,yield It._storage.overwrite(It._heartbeatsCache)):(It._heartbeatsCache.heartbeats=[],It._storage.overwrite(It._heartbeatsCache)),Ln})()}}function en(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(It){this.app=It,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var It=this;return(0,d.Z)(function*(){return(yield It._canUseIndexedDBPromise)&&(yield function U(Bt){return $.apply(this,arguments)}(It.app))||{heartbeats:[]}})()}overwrite(It){var bn=this;return(0,d.Z)(function*(){var Zn;if(yield bn._canUseIndexedDBPromise){const Ln=yield bn.read();return le(bn.app,{lastSentHeartbeatDate:null!==(Zn=It.lastSentHeartbeatDate)&&void 0!==Zn?Zn:Ln.lastSentHeartbeatDate,heartbeats:It.heartbeats})}})()}add(It){var bn=this;return(0,d.Z)(function*(){var Zn;if(yield bn._canUseIndexedDBPromise){const Ln=yield bn.read();return le(bn.app,{lastSentHeartbeatDate:null!==(Zn=It.lastSentHeartbeatDate)&&void 0!==Zn?Zn:Ln.lastSentHeartbeatDate,heartbeats:[...Ln.heartbeats,...It.heartbeats]})}})()}}function Ci(Bt){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function bi(Bt){Mt(new L.wA("platform-logger",It=>new ze(It),"PRIVATE")),Mt(new L.wA("heartbeat",It=>new Ot(It),"PRIVATE")),Be(_n,"0.9.12",Bt),Be(_n,"0.9.12","esm2017"),Be("fire-js","")}("")},4859:(pn,it,E)=>{E.d(it,{H0:()=>_e,wA:()=>g});var d=E(5861),L=E(2090);class g{constructor(se,de,fe){this.name=se,this.instanceFactory=de,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const ne="[DEFAULT]";class xe{constructor(se,de){this.name=se,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const de=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(de)){const fe=new L.BH;if(this.instancesDeferred.set(de,fe),this.isInitialized(de)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:de});Je&&fe.resolve(Je)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(se){var de;const fe=this.normalizeInstanceIdentifier(se?.identifier),Je=null!==(de=se?.optional)&&void 0!==de&&de;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(Ne){if(Je)return null;throw Ne}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Z(Ee){return"EAGER"===Ee.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[de,fe]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(de);try{const Ne=this.getOrInitializeService({instanceIdentifier:Je});fe.resolve(Ne)}catch{}}}}clearInstance(se=ne){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,d.Z)(function*(){const de=Array.from(se.instances.values());yield Promise.all([...de.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...de.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=ne){return this.instances.has(se)}getOptions(se=ne){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:de={}}=se,fe=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:fe,options:de});for(const[Ne,ut]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(Ne)&&ut.resolve(Je);return Je}onInit(se,de){var fe;const Je=this.normalizeInstanceIdentifier(de),Ne=null!==(fe=this.onInitCallbacks.get(Je))&&void 0!==fe?fe:new Set;Ne.add(se),this.onInitCallbacks.set(Je,Ne);const ut=this.instances.get(Je);return ut&&se(ut,Je),()=>{Ne.delete(se)}}invokeOnInitCallbacks(se,de){const fe=this.onInitCallbacks.get(de);if(fe)for(const Je of fe)try{Je(se,de)}catch{}}getOrInitializeService({instanceIdentifier:se,options:de={}}){let fe=this.instances.get(se);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=se,Ee===ne?void 0:Ee),options:de}),this.instances.set(se,fe),this.instancesOptions.set(se,de),this.invokeOnInitCallbacks(fe,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,fe)}catch{}var Ee;return fe||null}normalizeInstanceIdentifier(se=ne){return this.component?this.component.multipleInstances?se:ne:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const de=this.getProvider(se.name);if(de.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);de.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const de=new xe(se,this);return this.providers.set(se,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(pn,it,E)=>{E.d(it,{Am:()=>Ee,Ub:()=>_e,Yd:()=>Z,in:()=>L});const d=[];var L=(()=>((L=L||{})[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L))();const g={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},ne=L.INFO,xe={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ae=(se,de,...fe)=>{if(de<se.logLevel)return;const Je=(new Date).toISOString(),Ne=xe[de];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Ne](`[${Je}]  ${se.name}:`,...fe)};class Z{constructor(de){this.name=de,this._logLevel=ne,this._logHandler=ae,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in L))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?g[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...de),this._logHandler(this,L.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...de),this._logHandler(this,L.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,L.INFO,...de),this._logHandler(this,L.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,L.WARN,...de),this._logHandler(this,L.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...de),this._logHandler(this,L.ERROR,...de)}}function _e(se){d.forEach(de=>{de.setLogLevel(se)})}function Ee(se,de){for(const fe of d){let Je=null;de&&de.level&&(Je=g[de.level]),fe.userLogHandler=null===se?null:(Ne,ut,...rt)=>{const Le=rt.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");ut>=(Je??Ne.logLevel)&&se({level:L[ut].toLowerCase(),message:Le,args:rt,type:Ne.name})}}}},259:(pn,it,E)=>{E.d(it,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=E(6881);(0,d.registerVersion)("firebase","9.22.2","app")},9260:(pn,it,E)=>{E.d(it,{Z:()=>d.Z});var d=E(3942);d.Z.registerVersion("firebase","9.22.2","app-compat")},9568:(pn,it,E)=>{E.r(it);var d=E(5861),L=E(3942),g=E(1389),ne=E(2090),Z=(E(6881),E(1877),E(4859));function _e(){return window}function de(){return de=(0,d.Z)(function*(H,U,$){var le;const{BuildInfo:re}=_e();(0,g.as)(U.sessionId,"AuthEvent did not contain a session ID");const ve=yield function He(H){return Re.apply(this,arguments)}(U.sessionId),Et={};return(0,g.at)()?Et.ibi=re.packageName:(0,g.au)()?Et.apn=re.packageName:(0,g.av)(H,"operation-not-supported-in-this-environment"),re.displayName&&(Et.appDisplayName=re.displayName),Et.sessionId=ve,(0,g.aw)(H,$,U.type,void 0,null!==(le=U.eventId)&&void 0!==le?le:void 0,Et)}),de.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(H){const{BuildInfo:U}=_e(),$={};(0,g.at)()?$.iosBundleId=U.packageName:(0,g.au)()?$.androidPackageName=U.packageName:(0,g.av)(H,"operation-not-supported-in-this-environment"),yield(0,g.ax)(H,$)})).apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(H,U,$){const{cordova:le}=_e();let re=()=>{};try{yield new Promise((ve,Et)=>{let wt=null;function Ot(){var Mn;ve();const Ci=null===(Mn=le.plugins.browsertab)||void 0===Mn?void 0:Mn.close;"function"==typeof Ci&&Ci(),"function"==typeof $?.close&&$.close()}function en(){wt||(wt=window.setTimeout(()=>{Et((0,g.az)(H,"redirect-cancelled-by-user"))},2e3))}function Xn(){"visible"===document?.visibilityState&&en()}U.addPassiveListener(Ot),document.addEventListener("resume",en,!1),(0,g.au)()&&document.addEventListener("visibilitychange",Xn,!1),re=()=>{U.removePassiveListener(Ot),document.removeEventListener("resume",en,!1),document.removeEventListener("visibilitychange",Xn,!1),wt&&window.clearTimeout(wt)}})}finally{re()}})).apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(H){const U=function bt(H){if((0,g.as)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const U=new ArrayBuffer(H.length),$=new Uint8Array(U);for(let le=0;le<H.length;le++)$[le]=H.charCodeAt(le);return $}(H),$=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array($)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class De extends g.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach($=>$(U)),super.onEvent(U)}initialized(){var U=this;return(0,d.Z)(function*(){yield U.initPromise})()}}function $e(H){return K.apply(this,arguments)}function K(){return(K=(0,d.Z)(function*(H){const U=yield ze()._get(vt(H));return U&&(yield ze()._remove(vt(H))),U})).apply(this,arguments)}function Fe(){const H=[];for(let $=0;$<20;$++){const le=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return H.join("")}function ze(){return(0,g.aC)(g.b)}function vt(H){return(0,g.aD)("authEvent",H.config.apiKey,H.name)}function ht(H){if(!H?.includes("?"))return{};const[U,...$]=H.split("?");return(0,ne.zd)($.join("?"))}const Pt=class kt{constructor(){this._redirectPersistence=g.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=g.aE,this._overrideRedirectResult=g.aF}_initialize(U){var $=this;return(0,d.Z)(function*(){const le=U._key();let re=$.eventManagers.get(le);return re||(re=new De(U),$.eventManagers.set(le,re),$.attachCallbackListeners(U,re)),re})()}_openPopup(U){(0,g.av)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,$,le,re){var ve=this;return(0,d.Z)(function*(){!function Le(H){var U,$,le,re,ve,Et,wt,Ot,en,Xn;const Mn=_e();(0,g.aA)("function"==typeof(null===(U=Mn?.universalLinks)||void 0===U?void 0:U.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,g.aA)(typeof(null===($=Mn?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,g.aA)("function"==typeof(null===(ve=null===(re=null===(le=Mn?.cordova)||void 0===le?void 0:le.plugins)||void 0===re?void 0:re.browsertab)||void 0===ve?void 0:ve.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aA)("function"==typeof(null===(Ot=null===(wt=null===(Et=Mn?.cordova)||void 0===Et?void 0:Et.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===Ot?void 0:Ot.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aA)("function"==typeof(null===(Xn=null===(en=Mn?.cordova)||void 0===en?void 0:en.InAppBrowser)||void 0===Xn?void 0:Xn.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const Et=yield ve._initialize(U);yield Et.initialized(),Et.resetRedirect(),(0,g.aG)(),yield ve._originValidation(U);const wt=function be(H,U,$=null){return{type:U,eventId:$,urlResponse:null,sessionId:Fe(),postBody:null,tenantId:H.tenantId,error:(0,g.az)(H,"no-auth-event")}}(U,le,re);yield function Me(H,U){return ze()._set(vt(H),U)}(U,wt);const Ot=yield function se(H,U,$){return de.apply(this,arguments)}(U,wt,$),en=yield function Ne(H){const{cordova:U}=_e();return new Promise($=>{U.plugins.browsertab.isAvailable(le=>{let re=null;le?U.plugins.browsertab.openUrl(H):re=U.InAppBrowser.open(H,(0,g.ay)()?"_blank":"_system","location=yes"),$(re)})})}(Ot);return function ut(H,U,$){return rt.apply(this,arguments)}(U,Et,en)})()}_isIframeWebStorageSupported(U,$){throw new Error("Method not implemented.")}_originValidation(U){const $=U._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function fe(H){return Je.apply(this,arguments)}(U)),this.originValidationPromises[$]}attachCallbackListeners(U,$){const{universalLinks:le,handleOpenURL:re,BuildInfo:ve}=_e(),Et=setTimeout((0,d.Z)(function*(){yield $e(U),$.onEvent(Qt())}),500),wt=function(){var Xn=(0,d.Z)(function*(Mn){clearTimeout(Et);const Ci=yield $e(U);let bi=null;Ci&&Mn?.url&&(bi=function Ge(H,U){var $,le;const re=function kn(H){const U=ht(H),$=U.link?decodeURIComponent(U.link):void 0,le=ht($).link,re=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return ht(re).link||re||le||$||H}(U);if(re.includes("/__/auth/callback")){const ve=ht(re),Et=ve.firebaseError?function _n(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,wt=null===(le=null===($=Et?.code)||void 0===$?void 0:$.split("auth/"))||void 0===le?void 0:le[1],Ot=wt?(0,g.az)(wt):null;return Ot?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Ot,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:re,postBody:null}}return null}(Ci,Mn.url)),$.onEvent(bi||Qt())});return function(Ci){return Xn.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,wt);const Ot=re,en=`${ve.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var Xn=(0,d.Z)(function*(Mn){if(Mn.toLowerCase().startsWith(en)&&wt({url:Mn}),"function"==typeof Ot)try{Ot(Mn)}catch(Ci){console.error(Ci)}});return function(Mn){return Xn.apply(this,arguments)}}()}};function Qt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,g.az)("no-auth-event")}}function At(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function Xe(H=(0,ne.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function un(){try{const H=self.localStorage,U=g.aL();if(H)return H.setItem(U,"1"),H.removeItem(U),!function Tt(H=(0,ne.z$)()){return function yt(){return(0,ne.w1)()&&11===document?.documentMode}()||function Ht(H=(0,ne.z$)()){return/Edge\/\d+/.test(H)}(H)}()||(0,ne.hl)()}catch{return Jt()&&(0,ne.hl)()}return!1}function Jt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function Ke(){return"http:"===At()||"https:"===At()}()||(0,ne.ru)()||Xe())&&!function Ct(){return(0,ne.b$)()||(0,ne.UG)()}()&&un()&&!Jt()}function Gn(){return Xe()&&typeof document<"u"}function Hn(){return(Hn=(0,d.Z)(function*(){return!!Gn()&&new Promise(H=>{const U=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),H(!0)})})})).apply(this,arguments)}const ce={LOCAL:"local",NONE:"none",SESSION:"session"},Ve=g.aA,mt="persistence";function We(H){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(H){yield H._initializationPromise;const U=Vt(),$=g.aD(mt,H.config.apiKey,H.name);U&&U.setItem($,H._getPersistence())})).apply(this,arguments)}function Vt(){var H;try{return(null===(H=function Ut(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const ln=g.aA;class Mt{constructor(){this.browserResolver=g.aC(g.k),this.cordovaResolver=g.aC(Pt),this.underlyingResolver=null,this._redirectPersistence=g.a,this._completeRedirectFn=g.aE,this._overrideRedirectResult=g.aF}_initialize(U){var $=this;return(0,d.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,$,le,re){var ve=this;return(0,d.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(U,$,le,re)})()}_openRedirect(U,$,le,re){var ve=this;return(0,d.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(U,$,le,re)})()}_isIframeWebStorageSupported(U,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,$)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return Gn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ln(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,d.Z)(function*(){if(U.underlyingResolver)return;const $=yield function ci(){return Hn.apply(this,arguments)}();U.underlyingResolver=$?U.cordovaResolver:U.browserResolver})()}}function Kt(H){return H.unwrap()}function ke(H){return $t(H)}function $t(H){const{_tokenResponse:U}=H instanceof ne.ZR?H.customData:H;if(!U)return null;if(!(H instanceof ne.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return g.P.credentialFromResult(H);const $=U.providerId;if(!$||$===g.p.PASSWORD)return null;let le;switch($){case g.p.GOOGLE:le=g.V;break;case g.p.FACEBOOK:le=g.U;break;case g.p.GITHUB:le=g.W;break;case g.p.TWITTER:le=g.Z;break;default:const{oauthIdToken:re,oauthAccessToken:ve,oauthTokenSecret:Et,pendingToken:wt,nonce:Ot}=U;return ve||Et||re||wt?wt?$.startsWith("saml.")?g.aO._create($,wt):g.L._fromParams({providerId:$,signInMethod:$,pendingToken:wt,idToken:re,accessToken:ve}):new g.X($).credential({idToken:re,accessToken:ve,rawNonce:Ot}):null}return H instanceof ne.ZR?le.credentialFromError(H):le.credentialFromResult(H)}function In(H,U){return U.catch($=>{throw $ instanceof ne.ZR&&function gt(H,U){var $;const le=null===($=U.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===U?.code)U.resolver=new mi(H,g.aq(H,U));else if(le){const re=$t(U),ve=U;re&&(ve.credential=re,ve.tenantId=le.tenantId||void 0,ve.email=le.email||void 0,ve.phoneNumber=le.phoneNumber||void 0)}}(H,$),$}).then($=>{const re=$.user;return{operationType:$.operationType,credential:ke($),additionalUserInfo:g.ao($),user:Yt.getOrCreate(re)}})}function di(H,U){return Si.apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(H,U){const $=yield U;return{verificationId:$.verificationId,confirm:le=>In(H,$.confirm(le))}})).apply(this,arguments)}class mi{constructor(U,$){this.resolver=$,this.auth=function An(H){return H.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return In(Kt(this.auth),this.resolver.resolveSignIn(U))}}class Yt{constructor(U){this._delegate=U,this.multiFactor=g.ar(U)}static getOrCreate(U){return Yt.USER_MAP.has(U)||Yt.USER_MAP.set(U,new Yt(U)),Yt.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var $=this;return(0,d.Z)(function*(){return In($.auth,g.a0($._delegate,U))})()}linkWithPhoneNumber(U,$){var le=this;return(0,d.Z)(function*(){return di(le.auth,g.l(le._delegate,U,$))})()}linkWithPopup(U){var $=this;return(0,d.Z)(function*(){return In($.auth,g.d($._delegate,U,Mt))})()}linkWithRedirect(U){var $=this;return(0,d.Z)(function*(){return yield We(g.aH($.auth)),g.g($._delegate,U,Mt)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var $=this;return(0,d.Z)(function*(){return In($.auth,g.a1($._delegate,U))})()}reauthenticateWithPhoneNumber(U,$){return di(this.auth,g.r(this._delegate,U,$))}reauthenticateWithPopup(U){return In(this.auth,g.e(this._delegate,U,Mt))}reauthenticateWithRedirect(U){var $=this;return(0,d.Z)(function*(){return yield We(g.aH($.auth)),g.h($._delegate,U,Mt)})()}sendEmailVerification(U){return g.ae(this._delegate,U)}unlink(U){var $=this;return(0,d.Z)(function*(){return yield g.an($._delegate,U),$})()}updateEmail(U){return g.aj(this._delegate,U)}updatePassword(U){return g.ak(this._delegate,U)}updatePhoneNumber(U){return g.u(this._delegate,U)}updateProfile(U){return g.ai(this._delegate,U)}verifyBeforeUpdateEmail(U,$){return g.af(this._delegate,U,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yt.USER_MAP=new WeakMap;const et=g.aA;let st=(()=>{class H{constructor($,le){if(this.app=$,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=$.options;et(re,"invalid-api-key",{appName:$.name}),et(re,"invalid-api-key",{appName:$.name});const ve=typeof window<"u"?Mt:void 0;this._delegate=le.initialize({options:{persistence:Oe(re,$.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(g.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,le){g.I(this._delegate,$,le)}applyActionCode($){return g.a5(this._delegate,$)}checkActionCode($){return g.a6(this._delegate,$)}confirmPasswordReset($,le){return g.a4(this._delegate,$,le)}createUserWithEmailAndPassword($,le){var re=this;return(0,d.Z)(function*(){return In(re._delegate,g.a8(re._delegate,$,le))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return g.ad(this._delegate,$)}isSignInWithEmailLink($){return g.ab(this._delegate,$)}getRedirectResult(){var $=this;return(0,d.Z)(function*(){et(yn(),$._delegate,"operation-not-supported-in-this-environment");const le=yield g.j($._delegate,Mt);return le?In($._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Gt(H,U){(0,g.aH)(H)._logFramework(U)}(this._delegate,$)}onAuthStateChanged($,le,re){const{next:ve,error:Et,complete:wt}=Be($,le,re);return this._delegate.onAuthStateChanged(ve,Et,wt)}onIdTokenChanged($,le,re){const{next:ve,error:Et,complete:wt}=Be($,le,re);return this._delegate.onIdTokenChanged(ve,Et,wt)}sendSignInLinkToEmail($,le){return g.aa(this._delegate,$,le)}sendPasswordResetEmail($,le){return g.a3(this._delegate,$,le||void 0)}setPersistence($){var le=this;return(0,d.Z)(function*(){let re;switch(function at(H,U){Ve(Object.values(ce).includes(U),H,"invalid-persistence-type"),(0,ne.b$)()?Ve(U!==ce.SESSION,H,"unsupported-persistence-type"):(0,ne.UG)()?Ve(U===ce.NONE,H,"unsupported-persistence-type"):Jt()?Ve(U===ce.NONE||U===ce.LOCAL&&(0,ne.hl)(),H,"unsupported-persistence-type"):Ve(U===ce.NONE||un(),H,"unsupported-persistence-type")}(le._delegate,$),$){case ce.SESSION:re=g.a;break;case ce.LOCAL:re=(yield g.aC(g.i)._isAvailable())?g.i:g.b;break;case ce.NONE:re=g.N;break;default:return g.av("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return In(this._delegate,g._(this._delegate))}signInWithCredential($){return In(this._delegate,g.$(this._delegate,$))}signInWithCustomToken($){return In(this._delegate,g.a2(this._delegate,$))}signInWithEmailAndPassword($,le){return In(this._delegate,g.a9(this._delegate,$,le))}signInWithEmailLink($,le){return In(this._delegate,g.ac(this._delegate,$,le))}signInWithPhoneNumber($,le){return di(this._delegate,g.s(this._delegate,$,le))}signInWithPopup($){var le=this;return(0,d.Z)(function*(){return et(yn(),le._delegate,"operation-not-supported-in-this-environment"),In(le._delegate,g.c(le._delegate,$,Mt))})()}signInWithRedirect($){var le=this;return(0,d.Z)(function*(){return et(yn(),le._delegate,"operation-not-supported-in-this-environment"),yield We(le._delegate),g.f(le._delegate,$,Mt)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return g.a7(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=ce,H})();function Be(H,U,$){let le=H;"function"!=typeof H&&({next:le,error:U,complete:$}=H);const re=le;return{next:Et=>re(Et&&Yt.getOrCreate(Et)),error:U,complete:$}}function Oe(H,U){const $=function Ae(H,U){const $=Vt();if(!$)return[];const le=g.aD(mt,H,U);switch($.getItem(le)){case ce.NONE:return[g.N];case ce.LOCAL:return[g.i,g.a];case ce.SESSION:return[g.a];default:return[]}}(H,U);if(typeof self<"u"&&!$.includes(g.i)&&$.push(g.i),typeof window<"u")for(const le of[g.b,g.a])$.includes(le)||$.push(le);return $.includes(g.N)||$.push(g.N),$}class Ie{constructor(){this.providerId="phone",this._delegate=new g.P(Kt(L.Z.auth()))}static credential(U,$){return g.P.credential(U,$)}verifyPhoneNumber(U,$){return this._delegate.verifyPhoneNumber(U,$)}unwrap(){return this._delegate}}Ie.PHONE_SIGN_IN_METHOD=g.P.PHONE_SIGN_IN_METHOD,Ie.PROVIDER_ID=g.P.PROVIDER_ID;const xt=g.aA;class jt{constructor(U,$,le=L.Z.app()){var re;xt(null===(re=le.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new g.R(U,$,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(H){H.INTERNAL.registerComponent(new Z.wA("auth-compat",U=>{const $=U.getProvider("app-compat").getImmediate(),le=U.getProvider("auth");return new st($,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:g.A.EMAIL_SIGNIN,PASSWORD_RESET:g.A.PASSWORD_RESET,RECOVER_EMAIL:g.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:g.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:g.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:g.A.VERIFY_EMAIL}},EmailAuthProvider:g.Q,FacebookAuthProvider:g.U,GithubAuthProvider:g.W,GoogleAuthProvider:g.V,OAuthProvider:g.X,SAMLAuthProvider:g.Y,PhoneAuthProvider:Ie,PhoneMultiFactorGenerator:g.m,RecaptchaVerifier:jt,TwitterAuthProvider:g.Z,Auth:st,AuthCredential:g.J,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.4.2")}(L.Z)},5861:(pn,it,E)=>{function d(g,ne,xe,ae,Z,_e,Ee){try{var se=g[_e](Ee),de=se.value}catch(fe){return void xe(fe)}se.done?ne(de):Promise.resolve(de).then(ae,Z)}function L(g){return function(){var ne=this,xe=arguments;return new Promise(function(ae,Z){var _e=g.apply(ne,xe);function Ee(de){d(_e,ae,Z,Ee,se,"next",de)}function se(de){d(_e,ae,Z,Ee,se,"throw",de)}Ee(void 0)})}}E.d(it,{Z:()=>L})},7582:(pn,it,E)=>{function ne(ht,ft){var kt={};for(var Pt in ht)Object.prototype.hasOwnProperty.call(ht,Pt)&&ft.indexOf(Pt)<0&&(kt[Pt]=ht[Pt]);if(null!=ht&&"function"==typeof Object.getOwnPropertySymbols){var Qt=0;for(Pt=Object.getOwnPropertySymbols(ht);Qt<Pt.length;Qt++)ft.indexOf(Pt[Qt])<0&&Object.prototype.propertyIsEnumerable.call(ht,Pt[Qt])&&(kt[Pt[Qt]]=ht[Pt[Qt]])}return kt}function fe(ht,ft,kt,Pt){return new(kt||(kt=Promise))(function(Gt,dn){function gn(Ke){try{At(Pt.next(Ke))}catch(Xe){dn(Xe)}}function an(Ke){try{At(Pt.throw(Ke))}catch(Xe){dn(Xe)}}function At(Ke){Ke.done?Gt(Ke.value):function Qt(Gt){return Gt instanceof kt?Gt:new kt(function(dn){dn(Gt)})}(Ke.value).then(gn,an)}At((Pt=Pt.apply(ht,ft||[])).next())})}function ue(ht){return this instanceof ue?(this.v=ht,this):new ue(ht)}function De(ht,ft,kt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qt,Pt=kt.apply(ht,ft||[]),Gt=[];return Qt={},dn("next"),dn("throw"),dn("return"),Qt[Symbol.asyncIterator]=function(){return this},Qt;function dn(Ct){Pt[Ct]&&(Qt[Ct]=function(yt){return new Promise(function(Ht,Tt){Gt.push([Ct,yt,Ht,Tt])>1||gn(Ct,yt)})})}function gn(Ct,yt){try{!function an(Ct){Ct.value instanceof ue?Promise.resolve(Ct.value.v).then(At,Ke):Xe(Gt[0][2],Ct)}(Pt[Ct](yt))}catch(Ht){Xe(Gt[0][3],Ht)}}function At(Ct){gn("next",Ct)}function Ke(Ct){gn("throw",Ct)}function Xe(Ct,yt){Ct(yt),Gt.shift(),Gt.length&&gn(Gt[0][0],Gt[0][1])}}function Me(ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var kt,ft=ht[Symbol.asyncIterator];return ft?ft.call(ht):(ht=function rt(ht){var ft="function"==typeof Symbol&&Symbol.iterator,kt=ft&&ht[ft],Pt=0;if(kt)return kt.call(ht);if(ht&&"number"==typeof ht.length)return{next:function(){return ht&&Pt>=ht.length&&(ht=void 0),{value:ht&&ht[Pt++],done:!ht}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}(ht),kt={},Pt("next"),Pt("throw"),Pt("return"),kt[Symbol.asyncIterator]=function(){return this},kt);function Pt(Gt){kt[Gt]=ht[Gt]&&function(dn){return new Promise(function(gn,an){!function Qt(Gt,dn,gn,an){Promise.resolve(an).then(function(At){Gt({value:At,done:gn})},dn)}(gn,an,(dn=ht[Gt](dn)).done,dn.value)})}}}E.d(it,{FC:()=>De,KL:()=>Me,_T:()=>ne,mG:()=>fe,qq:()=>ue})}},pn=>{pn(pn.s=7655)}]);