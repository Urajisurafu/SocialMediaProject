"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[179],{6217:(gn,ot,y)=>{y.d(ot,{nm:()=>uo});var l=y(4976);y(2223),y(259);var fe=y(5861),we=y(6881),me=y(4859),ge=y(2090),Ve=y(1877);const Z=new Map,qe={activated:!1,tokenObservers:[]},je={initialized:!1,enabled:!1};function Xe(Dt){return Z.get(Dt)||Object.assign({},qe)}function yn(){return je}const An="https://content-firebaseappcheck.googleapis.com/v1",Bt="exchangeDebugToken",Ht={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Yt{constructor(gt,jt,hn,_n,mn){if(this.operation=gt,this.retryPolicy=jt,this.getWaitDuration=hn,this.lowerBound=_n,this.upperBound=mn,this.pending=null,this.nextErrorWaitInterval=_n,_n>mn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(gt){var jt=this;return(0,fe.Z)(function*(){jt.stop();try{jt.pending=new ge.BH,yield function sn(Dt){return new Promise(gt=>{setTimeout(gt,Dt)})}(jt.getNextRun(gt)),jt.pending.resolve(),yield jt.pending.promise,jt.pending=new ge.BH,yield jt.operation(),jt.pending.resolve(),yield jt.pending.promise,jt.process(!0).catch(()=>{})}catch(hn){jt.retryPolicy(hn)?jt.process(!1).catch(()=>{}):jt.stop()}})()}getNextRun(gt){if(gt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const jt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),jt}}}const on=new ge.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Je(Dt){if(!Xe(Dt).activated)throw on.create("use-before-activation",{appName:Dt.name})}function Et(Dt,gt){return nt.apply(this,arguments)}function nt(){return(nt=(0,fe.Z)(function*({url:Dt,body:gt},jt){const hn={"Content-Type":"application/json"},_n=jt.getImmediate({optional:!0});if(_n){const ir=yield _n.getHeartbeatsHeader();ir&&(hn["X-Firebase-Client"]=ir)}const mn={method:"POST",body:JSON.stringify(gt),headers:hn};let Pn,ai;try{Pn=yield fetch(Dt,mn)}catch(ir){throw on.create("fetch-network-error",{originalErrorMessage:ir?.message})}if(200!==Pn.status)throw on.create("fetch-status-error",{httpStatus:Pn.status});try{ai=yield Pn.json()}catch(ir){throw on.create("fetch-parse-error",{originalErrorMessage:ir?.message})}const bi=ai.ttl.match(/^([\d.]+)(s)$/);if(!bi||!bi[2]||isNaN(Number(bi[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ai.ttl}`});const Fr=1e3*Number(bi[1]),Pi=Date.now();return{token:ai.token,expireTimeMillis:Pi+Fr,issuedAtTimeMillis:Pi}})).apply(this,arguments)}function Ce(Dt,gt){const{projectId:jt,appId:hn,apiKey:_n}=Dt.options;return{url:`${An}/projects/${jt}/apps/${hn}:${Bt}?key=${_n}`,body:{debug_token:gt}}}const De="firebase-app-check-database",Tt=1,rn="firebase-app-check-store";let It=null;function cn(){return(cn=(0,fe.Z)(function*(Dt,gt){const hn=(yield function he(){return It||(It=new Promise((Dt,gt)=>{try{const jt=indexedDB.open(De,Tt);jt.onsuccess=hn=>{Dt(hn.target.result)},jt.onerror=hn=>{var _n;gt(on.create("storage-open",{originalErrorMessage:null===(_n=hn.target.error)||void 0===_n?void 0:_n.message}))},jt.onupgradeneeded=hn=>{0===hn.oldVersion&&hn.target.result.createObjectStore(rn,{keyPath:"compositeKey"})}}catch(jt){gt(on.create("storage-open",{originalErrorMessage:jt?.message}))}}),It)}()).transaction(rn,"readwrite"),mn=hn.objectStore(rn).put({compositeKey:Dt,value:gt});return new Promise((Pn,ai)=>{mn.onsuccess=bi=>{Pn()},hn.onerror=bi=>{var Fr;ai(on.create("storage-set",{originalErrorMessage:null===(Fr=bi.target.error)||void 0===Fr?void 0:Fr.message}))}})})).apply(this,arguments)}const dn=new Ve.Yd("@firebase/app-check");function kt(Dt,gt){return(0,ge.hl)()?function at(Dt,gt){return function qt(Dt,gt){return cn.apply(this,arguments)}(function En(Dt){return`${Dt.options.appId}-${Dt.name}`}(Dt),gt)}(Dt,gt).catch(jt=>{dn.warn(`Failed to write token to IndexedDB. Error: ${jt}`)}):Promise.resolve()}function hi(){return yn().enabled}function Ei(){return gi.apply(this,arguments)}function gi(){return(gi=(0,fe.Z)(function*(){const Dt=yn();if(Dt.enabled&&Dt.token)return Dt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const lt={error:"UNKNOWN_ERROR"};function ut(Dt){return ge.US.encodeString(JSON.stringify(Dt),!1)}function Ze(Dt){return He.apply(this,arguments)}function He(){return(He=(0,fe.Z)(function*(Dt,gt=!1){const jt=Dt.app;Je(jt);const hn=Xe(jt);let mn,_n=hn.token;if(_n&&!$(_n)&&(hn.token=void 0,_n=void 0),!_n){const bi=yield hn.cachedTokenPromise;bi&&($(bi)?_n=bi:yield kt(jt,void 0))}if(!gt&&_n&&$(_n))return{token:_n.token};let ai,Pn=!1;if(hi()){hn.exchangeTokenPromise||(hn.exchangeTokenPromise=Et(Ce(jt,yield Ei()),Dt.heartbeatServiceProvider).finally(()=>{hn.exchangeTokenPromise=void 0}),Pn=!0);const bi=yield hn.exchangeTokenPromise;return yield kt(jt,bi),hn.token=bi,{token:bi.token}}try{hn.exchangeTokenPromise||(hn.exchangeTokenPromise=hn.provider.getToken().finally(()=>{hn.exchangeTokenPromise=void 0}),Pn=!0),_n=yield Xe(jt).exchangeTokenPromise}catch(bi){"appCheck/throttled"===bi.code?dn.warn(bi.message):dn.error(bi),mn=bi}return _n?mn?ai=$(_n)?{token:_n.token,internalError:mn}:de(mn):(ai={token:_n.token},hn.token=_n,yield kt(jt,_n)):ai=de(mn),Pn&&function j(Dt,gt){const jt=Xe(Dt).tokenObservers;for(const hn of jt)try{"EXTERNAL"===hn.type&&null!=gt.error?hn.error(gt.error):hn.next(gt)}catch{}}(jt,ai),ai})).apply(this,arguments)}function Re(Dt){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,fe.Z)(function*(Dt){const gt=Dt.app;Je(gt);const{provider:jt}=Xe(gt);if(hi()){const hn=yield Ei(),{token:_n}=yield Et(Ce(gt,hn),Dt.heartbeatServiceProvider);return{token:_n}}{const{token:hn}=yield jt.getToken();return{token:hn}}})).apply(this,arguments)}function Be(Dt,gt){const jt=Xe(Dt),hn=jt.tokenObservers.filter(_n=>_n.next!==gt);0===hn.length&&jt.tokenRefresher&&jt.tokenRefresher.isRunning()&&jt.tokenRefresher.stop(),jt.tokenObservers=hn}function le(Dt){const{app:gt}=Dt,jt=Xe(gt);let hn=jt.tokenRefresher;hn||(hn=function z(Dt){const{app:gt}=Dt;return new Yt((0,fe.Z)(function*(){let hn;if(hn=Xe(gt).token?yield Ze(Dt,!0):yield Ze(Dt),hn.error)throw hn.error;if(hn.internalError)throw hn.internalError}),()=>!0,()=>{const jt=Xe(gt);if(jt.token){let hn=jt.token.issuedAtTimeMillis+.5*(jt.token.expireTimeMillis-jt.token.issuedAtTimeMillis)+3e5;return hn=Math.min(hn,jt.token.expireTimeMillis-3e5),Math.max(0,hn-Date.now())}return 0},Ht.RETRIAL_MIN_WAIT,Ht.RETRIAL_MAX_WAIT)}(Dt),jt.tokenRefresher=hn),!hn.isRunning()&&jt.isTokenAutoRefreshEnabled&&hn.start()}function $(Dt){return Dt.expireTimeMillis-Date.now()>0}function de(Dt){return{token:ut(lt),error:Dt}}class ce{constructor(gt,jt){this.app=gt,this.heartbeatServiceProvider=jt}_delete(){const{tokenObservers:gt}=Xe(this.app);for(const jt of gt)Be(this.app,jt.next);return Promise.resolve()}}const Zo="app-check-internal";!function po(){(0,we._registerComponent)(new me.wA("app-check",Dt=>function Te(Dt,gt){return new ce(Dt,gt)}(Dt.getProvider("app").getImmediate(),Dt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Dt,gt,jt)=>{Dt.getProvider(Zo).initialize()})),(0,we._registerComponent)(new me.wA(Zo,Dt=>function Fe(Dt){return{getToken:gt=>Ze(Dt,gt),getLimitedUseToken:()=>Re(Dt),addTokenListener:gt=>function Gt(Dt,gt,jt,hn){const{app:_n}=Dt,mn=Xe(_n);if(mn.tokenObservers=[...mn.tokenObservers,{next:jt,error:hn,type:gt}],mn.token&&$(mn.token)){const ai=mn.token;Promise.resolve().then(()=>{jt({token:ai.token}),le(Dt)}).catch(()=>{})}mn.cachedTokenPromise.then(()=>le(Dt))}(Dt,"INTERNAL",gt),removeTokenListener:gt=>Be(Dt.app,gt)}}(Dt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.8.0")}();class uo{constructor(){return(0,l.vb)("app-check")}}typeof window<"u"&&window},1205:(gn,ot,y)=>{y.d(ot,{zQ:()=>An,rT:()=>je,f7:()=>Ct,L6:()=>Z,_Q:()=>qe,lh:()=>Xe,Qv:()=>Ve,nw:()=>yn});var l=y(2223),C=y(7579),p=y(9646),X=y(9751),B=y(8996),ae=y(6451),W=y(5363),ye=y(3900),Se=y(4004),oe=y(6063);class ue extends C.x{constructor(Bt=1/0,Ht=1/0,en=oe.l){super(),this._bufferSize=Bt,this._windowTime=Ht,this._timestampProvider=en,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ht===1/0,this._bufferSize=Math.max(1,Bt),this._windowTime=Math.max(1,Ht)}next(Bt){const{isStopped:Ht,_buffer:en,_infiniteTimeWindow:Yt,_timestampProvider:sn,_windowTime:bn}=this;Ht||(en.push(Bt),!Yt&&en.push(sn.now()+bn)),this._trimBuffer(),super.next(Bt)}_subscribe(Bt){this._throwIfClosed(),this._trimBuffer();const Ht=this._innerSubscribe(Bt),{_infiniteTimeWindow:en,_buffer:Yt}=this,sn=Yt.slice();for(let bn=0;bn<sn.length&&!Bt.closed;bn+=en?1:2)Bt.next(sn[bn]);return this._checkFinalizedStatuses(Bt),Ht}_trimBuffer(){const{_bufferSize:Bt,_timestampProvider:Ht,_buffer:en,_infiniteTimeWindow:Yt}=this,sn=(Yt?1:2)*Bt;if(Bt<1/0&&sn<en.length&&en.splice(0,en.length-sn),!Yt){const bn=Ht.now();let on=0;for(let Ft=1;Ft<en.length&&en[Ft]<=bn;Ft+=2)on=Ft;on&&en.splice(0,on+1)}}}var pe=y(3099);function Le(bt,Bt,Ht){let en,Yt=!1;return bt&&"object"==typeof bt?({bufferSize:en=1/0,windowTime:Bt=1/0,refCount:Yt=!1,scheduler:Ht}=bt):en=bt??1/0,(0,pe.B)({connector:()=>new ue(en,Bt,Ht),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Yt})}var Pe=y(590),et=y(576);function We(bt,Bt){return(0,et.m)(Bt)?(0,ye.w)(()=>bt,Bt):(0,ye.w)(()=>bt)}var Ye=y(9468),$e=y(9300),ke=y(4976),wt=y(2011),fe=y(4755),we=y(6217);y(9260);const Ve=new l.OlP("angularfire2.auth.use-emulator"),Z=new l.OlP("angularfire2.auth.settings"),qe=new l.OlP("angularfire2.auth.tenant-id"),je=new l.OlP("angularfire2.auth.langugage-code"),Xe=new l.OlP("angularfire2.auth.use-device-language"),Ct=new l.OlP("angularfire.auth.persistence"),yn=(bt,Bt,Ht,en,Yt,sn,bn,on)=>(0,wt.cc)(`${bt.name}.auth`,"AngularFireAuth",bt.name,()=>{const Ft=Bt.runOutsideAngular(()=>bt.auth());if(Ht&&Ft.useEmulator(...Ht),en&&(Ft.tenantId=en),Ft.languageCode=Yt,sn&&Ft.useDeviceLanguage(),bn)for(const[Je,ct]of Object.entries(bn))Ft.settings[Je]=ct;return on&&Ft.setPersistence(on),Ft},[Ht,en,Yt,sn,bn,on]);let An=(()=>{class bt{constructor(Ht,en,Yt,sn,bn,on,Ft,Je,ct,Rt,Et,nt){const ft=new C.x,Ee=(0,p.of)(void 0).pipe((0,W.Q)(bn.outsideAngular),(0,ye.w)(()=>sn.runOutsideAngular(()=>Promise.resolve().then(y.bind(y,9568)))),(0,Se.U)(()=>(0,wt.on)(Ht,sn,en)),(0,Se.U)(Ce=>yn(Ce,sn,on,Je,ct,Rt,Ft,Et)),Le({bufferSize:1,refCount:!1}));if((0,fe.PM)(Yt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,p.of)(null);else{Ee.pipe((0,Pe.P)()).subscribe();const De=Ee.pipe((0,ye.w)(an=>an.getRedirectResult().then(It=>It,()=>null)),ke.iC,Le({bufferSize:1,refCount:!1})),Tt=Ee.pipe((0,ye.w)(an=>new X.y(It=>({unsubscribe:sn.runOutsideAngular(()=>an.onAuthStateChanged(he=>It.next(he),he=>It.error(he),()=>It.complete()))})))),rn=Ee.pipe((0,ye.w)(an=>new X.y(It=>({unsubscribe:sn.runOutsideAngular(()=>an.onIdTokenChanged(he=>It.next(he),he=>It.error(he),()=>It.complete()))}))));this.authState=De.pipe(We(Tt),(0,Ye.R)(bn.outsideAngular),(0,W.Q)(bn.insideAngular)),this.user=De.pipe(We(rn),(0,Ye.R)(bn.outsideAngular),(0,W.Q)(bn.insideAngular)),this.idToken=this.user.pipe((0,ye.w)(an=>an?(0,B.D)(an.getIdToken()):(0,p.of)(null))),this.idTokenResult=this.user.pipe((0,ye.w)(an=>an?(0,B.D)(an.getIdTokenResult()):(0,p.of)(null))),this.credential=(0,ae.T)(De,ft,this.authState.pipe((0,$e.h)(an=>!an))).pipe((0,Se.U)(an=>an?.user?an:null),(0,Ye.R)(bn.outsideAngular),(0,W.Q)(bn.insideAngular))}return(0,wt.pX)(this,Ee,sn,{spy:{apply:(Ce,De,Tt)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&Tt.then(rn=>ft.next(rn))}}})}}return bt.\u0275fac=function(Ht){return new(Ht||bt)(l.LFG(wt.Dh),l.LFG(wt.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ke.HU),l.LFG(Ve,8),l.LFG(Z,8),l.LFG(qe,8),l.LFG(je,8),l.LFG(Xe,8),l.LFG(Ct,8),l.LFG(we.nm,8))},bt.\u0275prov=l.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"any"}),bt})()},1762:(gn,ot,y)=>{y.d(ot,{ST:()=>qv,yb:()=>Su});var l=y(2223),C=y(4986),p=y(9751),X=y(8996),B=y(9646),ae=y(4976),W=y(8675),ye=y(4482),Se=y(5403);function oe(){return(0,ye.e)((r,e)=>{let t,o=!1;r.subscribe((0,Se.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var Z,ue=y(4004),pe=y(5026),Le=y(1884),Pe=y(9300),et=y(2011),We=y(4755),$e=(y(9568),y(3942)),ke=y(5861),wt=y(6881),fe=y(4859),we=y(1877),me=y(2090),ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={},qe=qe||{},je=ge||self;function Xe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Ct(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var An="closure_uid_"+(1e9*Math.random()>>>0),vt=0;function bt(r,e,t){return r.call.apply(r.bind,arguments)}function Bt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ht(r,e,t){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:Bt).apply(null,arguments)}function en(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Yt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var f=Array(arguments.length-2),S=2;S<arguments.length;S++)f[S-2]=arguments[S];return e.prototype[a].apply(o,f)}}function sn(){this.s=this.s,this.o=this.o}sn.prototype.s=!1,sn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function yn(r){Object.prototype.hasOwnProperty.call(r,An)&&r[An]||(r[An]=++vt)}(this)},sn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const on=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Ft(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Je(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Xe(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let f=0;f<u;f++)r[a+f]=o[f]}else r.push(o)}}function ct(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var Rt=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{je.addEventListener("test",()=>{},e),je.removeEventListener("test",()=>{},e)}catch{}return r}();function Et(r){return/^[\s\xa0]*$/.test(r)}function nt(){var r=je.navigator;return r&&(r=r.userAgent)?r:""}function ft(r){return-1!=nt().indexOf(r)}function Ee(r){return Ee[" "](r),r}Ee[" "]=function(){};var at,r,De=ft("Opera"),Tt=ft("Trident")||ft("MSIE"),rn=ft("Edge"),an=rn||Tt,It=ft("Gecko")&&!(-1!=nt().toLowerCase().indexOf("webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),he=-1!=nt().toLowerCase().indexOf("webkit")&&!ft("Edge");function ze(){var r=je.document;return r?r.documentMode:void 0}e:{var ht="",At=(r=nt(),It?/rv:([^\);]+)(\)|;)/.exec(r):rn?/Edge\/([\d\.]+)/.exec(r):Tt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):he?/WebKit\/(\S+)/.exec(r):De?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(At&&(ht=At?At[1]:""),Tt){var qt=ze();if(null!=qt&&qt>parseFloat(ht)){at=String(qt);break e}}at=ht}var ri=je.document&&Tt&&(ze()||parseInt(at,10))||void 0;function En(r,e){if(ct.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(It){e:{try{Ee(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:dn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&En.$.h.call(this)}}Yt(En,ct);var dn={2:"touch",3:"pen",4:"mouse"};En.prototype.h=function(){En.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function kt(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++Ke,this.fa=this.ia=!1}function Kt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Sn(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Ei(r){const e={};for(const t in r)e[t]=r[t];return e}const gi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<gi.length;u++)t=gi[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function lt(r){this.src=r,this.g={},this.h=0}function ut(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=on(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(Kt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ze(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}lt.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var f=Ze(r,e,o,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new kt(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var He="closure_lm_"+(1e6*Math.random()|0),Re={};function Mt(r,e,t,o,a){if(o&&o.once)return le(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Mt(r,e[u],t,o,a);return null}return t=Fe(t),r&&r[Hn]?r.O(e,t,Ct(o)?!!o.capture:!!o,a):Gt(r,e,t,!1,o,a)}function Gt(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var f=Ct(a)?!!a.capture:!!a,S=ce(r);if(S||(r[He]=S=new lt(r)),(t=S.add(e,t,o,f,u)).proxy)return t;if(o=function Be(){const e=de;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Rt||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent($(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function le(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)le(r,e[u],t,o,a);return null}return t=Fe(t),r&&r[Hn]?r.P(e,t,Ct(o)?!!o.capture:!!o,a):Gt(r,e,t,!0,o,a)}function z(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)z(r,e[u],t,o,a);else o=Ct(o)?!!o.capture:!!o,t=Fe(t),r&&r[Hn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ze(u=r.g[e],t,o,a))&&(Kt(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=ce(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ze(e,t,o,a)),(t=-1<r?e[r]:null)&&j(t))}function j(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hn])ut(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent($(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ce(e))?(ut(t,r),0==t.h&&(t.src=null,e[He]=null)):Kt(r)}}}function $(r){return r in Re?Re[r]:Re[r]="on"+r}function de(r,e){if(r.fa)r=!0;else{e=new En(e,this);var t=r.listener,o=r.la||r.src;r.ia&&j(r),r=t.call(o,e)}return r}function ce(r){return(r=r[He])instanceof lt?r:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(r){return"function"==typeof r?r:(r[Te]||(r[Te]=function(e){return r.handleEvent(e)}),r[Te])}function Ue(){sn.call(this),this.i=new lt(this),this.S=this,this.J=null}function Y(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new ct(e,r);else if(e instanceof ct)e.target=e.target||r;else{var a=e;Xt(e=new ct(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var f=e.g=t[u];a=Ie(f,o,!0,e)&&a}if(a=Ie(f=e.g=r,o,!0,e)&&a,a=Ie(f,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=Ie(f=e.g=t[u],o,!1,e)&&a}function Ie(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var f=e[u];if(f&&!f.fa&&f.capture==t){var S=f.listener,G=f.la||f.src;f.ia&&ut(r.i,f),a=!1!==S.call(G,o)&&a}}return a&&!o.defaultPrevented}Yt(Ue,sn),Ue.prototype[Hn]=!0,Ue.prototype.removeEventListener=function(r,e,t,o){z(this,r,e,t,o)},Ue.prototype.N=function(){if(Ue.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Kt(t[o]);delete r.g[e],r.h--}}this.J=null},Ue.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Ue.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var yt=je.JSON.stringify;function jn(){var r=di;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Pt=new class Vt{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new St,r=>r.reset());class St{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Vn(r){je.setTimeout(()=>{throw r},0)}let Rn,zn=!1,di=new class ti{constructor(){this.h=this.g=null}add(e,t){const o=Pt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},Ji=()=>{const r=je.Promise.resolve(void 0);Rn=()=>{r.then(_i)}};var _i=()=>{for(var r;r=jn();){try{r.h.call(r.g)}catch(t){Vn(t)}var e=Pt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}zn=!1};function vr(r,e){Ue.call(this),this.h=r||1,this.g=e||je,this.j=Ht(this.qb,this),this.l=Date.now()}function eo(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Oo(r,e,t){if("function"==typeof r)t&&(r=Ht(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ht(r.handleEvent,r)}return 2147483647<Number(e)?-1:je.setTimeout(r,e||0)}function ds(r){r.g=Oo(()=>{r.g=null,r.i&&(r.i=!1,ds(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Yt(vr,Ue),(Z=vr.prototype).ga=!1,Z.T=null,Z.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Y(this,"tick"),this.ga&&(eo(this),this.start()))}},Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Z.N=function(){vr.$.N.call(this),eo(this),delete this.g};class br extends sn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ds(this)}N(){super.N(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(r){sn.call(this),this.h=r,this.g={}}Yt(Kr,sn);var zr=[];function Zr(r,e,t,o){Array.isArray(t)||(t&&(zr[0]=t.toString()),t=zr);for(var a=0;a<t.length;a++){var u=Mt(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function to(r){Sn(r.g,function(e,t){this.g.hasOwnProperty(t)&&j(e)},r),r.g={}}function Ri(){this.g=!0}function Yr(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uo(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<a.length;f++)a[f]=""}}}return yt(t)}catch{return e}}(r,t)+(o?" "+o:"")})}Kr.prototype.N=function(){Kr.$.N.call(this),to(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ri.prototype.Ea=function(){this.g=!1},Ri.prototype.info=function(){};var jr={},xo=null;function Cs(){return xo=xo||new Ue}function no(r){ct.call(this,jr.Ta,r)}function jo(r){const e=Cs();Y(e,new no(e))}function Hr(r,e){ct.call(this,jr.STAT_EVENT,r),this.stat=e}function Cr(r){const e=Cs();Y(e,new Hr(e,r))}function Ro(r,e){ct.call(this,jr.Ua,r),this.size=e}function us(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){r()},e)}jr.Ta="serverreachability",Yt(no,ct),jr.STAT_EVENT="statevent",Yt(Hr,ct),jr.Ua="timingevent",Yt(Ro,ct);var mi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yi(){}function hr(){}yi.prototype.h=null;var jt,Eo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dt(){ct.call(this,"d")}function gt(){ct.call(this,"c")}function hn(){}function _n(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new Kr(this),this.P=Pn,this.V=new vr(r=an?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mn}function mn(){this.i=null,this.g="",this.h=!1}Yt(Dt,ct),Yt(gt,ct),Yt(hn,yi),hn.prototype.g=function(){return new XMLHttpRequest},hn.prototype.i=function(){return{}},jt=new hn;var Pn=45e3,ai={},bi={};function Fr(r,e,t){r.L=1,r.v=Io(or(e)),r.s=t,r.S=!0,Pi(r,null)}function Pi(r,e){r.G=Date.now(),Co(r),r.A=or(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Gi(t.i,"t",o),r.C=0,t=r.l.J,r.h=new mn,r.g=ba(r.l,t?e:null,!r.s),0<r.O&&(r.M=new br(Ht(r.Pa,r,r.g),r.O)),Zr(r.U,r.g,"readystatechange",r.nb),e=r.I?Ei(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),jo(),function Zo(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var f="",S=u.split("&"),G=0;G<S.length;G++){var te=S[G].split("=");if(1<te.length){var xe=te[0];te=te[1];var dt=xe.split("_");f=2<=dt.length&&"type"==dt[1]?f+(xe+"=")+te+"&":f+(xe+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function ir(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Wi(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=ho(r,t),a==bi){4==e&&(r.o=4,Cr(14),o=!1),Yr(r.j,r.m,null,"[Incomplete Response]");break}if(a==ai){r.o=4,Cr(15),Yr(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}Yr(r.j,r.m,a,null),rr(r,a)}ir(r)&&a!=bi&&a!=ai&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Cr(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Oa(e),e.M=!0,Cr(11))):(Yr(r.j,r.m,t,"[Invalid Chunked Response]"),Nr(r),Po(r))}function ho(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?bi:(t=Number(e.substring(t,o)),isNaN(t)?ai:(o+=1)+t>e.length?bi:(e=e.slice(o,o+t),r.C=o+t,e))}function Co(r){r.Y=Date.now()+r.P,ci(r,r.P)}function ci(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=us(Ht(r.lb,r),e)}function ns(r){r.B&&(je.clearTimeout(r.B),r.B=null)}function Po(r){0==r.l.H||r.J||ta(r.l,r)}function Nr(r){ns(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,eo(r.V),to(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function rr(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||q(t.i,r)))if(!r.K&&q(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;va(t),Is(t)}Fs(t),Cr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=us(Ht(t.ib,t),6e3));if(1>=it(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else gs(t,11)}else if((r.K||t.g==r)&&va(t),!Et(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let te=a[e];if(t.V=te[0],te=te[1],2==t.H)if("c"==te[0]){t.K=te[1],t.pa=te[2];const xe=te[3];null!=xe&&(t.ra=xe,t.l.info("VER="+t.ra));const dt=te[4];null!=dt&&(t.Ga=dt,t.l.info("SVER="+t.Ga));const Jt=te[5];null!=Jt&&"number"==typeof Jt&&0<Jt&&(t.L=o=1.5*Jt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const vn=r.g;if(vn){const Bn=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bn){var u=o.i;u.g||-1==Bn.indexOf("spdy")&&-1==Bn.indexOf("quic")&&-1==Bn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(st(u,u.h),u.h=null))}if(o.F){const Jn=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jn&&(o.Da=Jn,Ki(o.I,o.F,Jn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((o=t).wa=na(o,o.J?o.pa:null,o.Y),f.K){ln(o.i,f);var S=f,G=o.L;G&&S.setTimeout(G),S.B&&(ns(S),Co(S)),o.g=f}else Ps(o);0<t.j.length&&ps(t)}else"stop"!=te[0]&&"close"!=te[0]||gs(t,7);else 3==t.H&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?gs(t,7):Qo(t):"noop"!=te[0]&&t.h&&t.h.Aa(te),t.A=0)}jo()}catch{}}function Do(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Xe(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ds(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Xe(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ho(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Xe(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(Z=_n.prototype).setTimeout=function(r){this.P=r},Z.nb=function(r){r=r.target;const e=this.M;e&&3==pr(r)?e.l():this.Pa(r)},Z.Pa=function(r){try{if(r==this.g)e:{const xe=pr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>xe)&&(3!=xe||an||this.g&&(this.h.h||this.g.ja()||fi(this.g)))){this.J||4!=xe||7==e||jo(),ns(this);var t=this.g.da();this.ca=t;t:if(ir(this)){var o=fi(this.g);r="";var a=o.length,u=4==pr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),Po(this);var f="";break t}this.h.i=new je.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function po(r,e,t,o,a,u,f){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.W,xe,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,G=this.g;if((S=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(S)){var te=S;break t}}te=null}if(!(t=te)){this.i=!1,this.o=3,Cr(12),Nr(this),Po(this);break e}Yr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rr(this,t)}this.S?(Wi(this,xe,f),an&&this.i&&3==xe&&(Zr(this.U,this.V,"tick",this.mb),this.V.start())):(Yr(this.j,this.m,f,null),rr(this,f)),4==xe&&Nr(this),this.i&&!this.J&&(4==xe?ta(this.l,this):(this.i=!1,Co(this)))}else(function vo(r){const e={};r=(r.g&&2<=pr(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(Et(r[o]))continue;var t=wn(r[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[a]||[];e[a]=u,u.push(t)}!function hi(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Cr(12)):(this.o=0,Cr(13)),Nr(this),Po(this)}}}catch{}},Z.mb=function(){if(this.g){var r=pr(this.g),e=this.g.ja();this.C<e.length&&(ns(this),Wi(this,r,e),this.i&&4!=r&&Co(this))}},Z.cancel=function(){this.J=!0,Nr(this)},Z.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function er(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(jo(),Cr(17)),Nr(this),this.o=2,Po(this)):ci(this,this.Y-r)};var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof dr){this.h=r.h,Yo(this,r.j),this.s=r.s,this.g=r.g,go(this,r.m),this.l=r.l;var e=r.i,t=new Tr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ki(this,t),this.o=r.o}else r&&(e=String(r).match(Fo))?(this.h=!1,Yo(this,e[1]||"",!0),this.s=zo(e[2]||""),this.g=zo(e[3]||"",!0),go(this,e[4]),this.l=zo(e[5]||"",!0),ki(this,e[6]||"",!0),this.o=zo(e[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}function or(r){return new dr(r)}function Yo(r,e,t){r.j=t?zo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function go(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ki(r,e,t){e instanceof Tr?(r.i=e,function _o(r,e){e&&!r.j&&(fo(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(Lr(this,o),Gi(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=mo(e,No)),r.i=new Tr(e,r.h))}function Ki(r,e,t){r.i.set(e,t)}function Io(r){return Ki(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function zo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function mo(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,is),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function is(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}dr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(mo(e,$o,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(mo(e,$o,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(mo(t,"/"==t.charAt(0)?Ir:hs,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",mo(t,Zi)),r.join("")};var $o=/[#\/\?@]/g,hs=/[#\?:]/g,Ir=/[#\?]/g,No=/[#\?@]/g,Zi=/#/g;function Tr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function fo(r){r.g||(r.g=new Map,r.h=0,r.i&&function Os(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Lr(r,e){fo(r),e=Lo(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function qo(r,e){return fo(r),e=Lo(r,e),r.g.has(e)}function Gi(r,e,t){Lr(r,e),0<t.length&&(r.i=null,r.g.set(Lo(r,e),Ft(t)),r.h+=t.length)}function Lo(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ms(r){this.l=r||fs,r=je.PerformanceNavigationTiming?0<(r=je.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(je.g&&je.g.Ka&&je.g.Ka()&&je.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Z=Tr.prototype).add=function(r,e){fo(this),this.i=null,r=Lo(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Z.forEach=function(r,e){fo(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},Z.ta=function(){fo(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},Z.Z=function(r){fo(this);let e=[];if("string"==typeof r)qo(this,r)&&(e=e.concat(this.g.get(Lo(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Z.set=function(r,e){return fo(this),this.i=null,qo(this,r=Lo(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Z.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var a=u;""!==f[o]&&(a+="="+encodeURIComponent(String(f[o]))),r.push(a)}}return this.i=r.join("&")};var fs=10;function tt(r){return!!r.h||!!r.g&&r.g.size>=r.j}function it(r){return r.h?1:r.g?r.g.size:0}function q(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function st(r,e){r.g?r.g.add(e):r.h=e}function ln(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function On(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Ft(r.i)}ms.prototype.cancel=function(){if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Fi=class{stringify(r){return je.JSON.stringify(r,void 0)}parse(r){return je.JSON.parse(r,void 0)}};function kr(){this.g=new Fi}function Ar(r,e,t){const o=t||"";try{Do(r,function(a,u){let f=a;Ct(a)&&(f=yt(a)),e.push(o+u+"="+encodeURIComponent(f))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function mr(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function K(r){this.l=r.fc||null,this.j=r.ob||!1}function H(r,e){Ue.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=b,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(K,yi),K.prototype.g=function(){return new H(this.l,this.j)},K.prototype.i=function(r){return function(){return r}}({}),Yt(H,Ue);var b=0;function D(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ie(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Oe(r)}function Oe(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Z=H.prototype).open=function(r,e){if(this.readyState!=b)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Oe(this)},Z.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ie(this)),this.readyState=b},Z.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Oe(this)),this.g&&(this.readyState=3,Oe(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Z.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ie(this):Oe(this),3==this.readyState&&D(this)}},Z.Za=function(r){this.g&&(this.response=this.responseText=r,ie(this))},Z.Ya=function(r){this.g&&(this.response=r,ie(this))},Z.ka=function(){this.g&&ie(this)},Z.setRequestHeader=function(r,e){this.v.append(r,e)},Z.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Z.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(H.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var _t=je.JSON.parse;function $t(r){Ue.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Tn,this.L=this.M=!1}Yt($t,Ue);var Tn="",Kn=/^https?$/i,$n=["POST","PUT"];function Ai(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,yr(r),fr(r)}function yr(r){r.F||(r.F=!0,Y(r,"complete"),Y(r,"error"))}function Or(r){if(r.h&&typeof qe<"u"&&(!r.C[1]||4!=pr(r)||2!=r.da()))if(r.v&&4==pr(r))Oo(r.La,0,r);else if(Y(r,"readystatechange"),4==pr(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===f){var a=String(r.I).match(Fo)[1]||null;!a&&je.self&&je.self.location&&(a=je.self.location.protocol.slice(0,-1)),o=!Kn.test(a?a.toLowerCase():"")}t=o}if(t)Y(r,"complete"),Y(r,"success");else{r.m=6;try{var u=2<pr(r)?r.g.statusText:""}catch{u=""}r.j=u+" ["+r.da()+"]",yr(r)}}finally{fr(r)}}}function fr(r,e){if(r.g){Ni(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Y(r,"ready");try{t.onreadystatechange=o}catch{}}}function Ni(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(je.clearTimeout(r.A),r.A=null)}function pr(r){return r.g?r.g.readyState:0}function fi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Tn:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Rr(r){let e="";return Sn(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Mr(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Rr(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ki(r,e,t))}function Pr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function To(r){this.Ga=0,this.j=[],this.l=new Ri,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pr("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pr("baseRetryDelayMs",5e3,r),this.hb=Pr("retryDelaySeedMs",1e4,r),this.eb=Pr("forwardChannelMaxRetries",2,r),this.xa=Pr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new ms(r&&r.concurrentRequestLimit),this.Ja=new kr,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qo(r){if(Rs(r),3==r.H){var e=r.W++,t=or(r.I);if(Ki(t,"SID",r.K),Ki(t,"RID",e),Ki(t,"TYPE","terminate"),ga(r,t),(e=new _n(r,r.l,e)).L=2,e.v=Io(or(t)),t=!1,je.navigator&&je.navigator.sendBeacon)try{t=je.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&je.Image&&((new Image).src=e.v,t=!0),t||(e.g=ba(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Co(e)}Ia(r)}function Is(r){r.g&&(Oa(r),r.g.cancel(),r.g=null)}function Rs(r){Is(r),r.u&&(je.clearTimeout(r.u),r.u=null),va(r),r.i.cancel(),r.m&&("number"==typeof r.m&&je.clearTimeout(r.m),r.m=null)}function ps(r){if(!tt(r.i)&&!r.m){r.m=!0;var e=r.Na;Rn||Ji(),zn||(Rn(),zn=!0),di.add(e,r),r.C=0}}function ea(r,e){var t;t=e?e.m:r.W++;const o=or(r.I);Ki(o,"SID",r.K),Ki(o,"RID",t),Ki(o,"AID",r.V),ga(r,o),r.o&&r.s&&Mr(o,r.o,r.s),t=new _n(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=qr(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),st(r.i,t),Fr(t,o,e)}function ga(r,e){r.na&&Sn(r.na,function(t,o){Ki(e,o,t)}),r.h&&Do({},function(t,o){Ki(e,o,t)})}function qr(r,e,t){t=Math.min(r.j.length,t);var o=r.h?Ht(r.h.Va,r.h,r):null;e:{var a=r.j;let u=-1;for(;;){const f=["count="+t];-1==u?0<t?(u=a[0].g,f.push("ofs="+u)):u=0:f.push("ofs="+u);let S=!0;for(let G=0;G<t;G++){let te=a[G].g;const xe=a[G].map;if(te-=u,0>te)u=Math.max(0,a[G].g-100),S=!1;else try{Ar(xe,f,"req"+te+"_")}catch{o&&o(xe)}}if(S){o=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function Ps(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Rn||Ji(),zn||(Rn(),zn=!0),di.add(e,r),r.A=0}}function Fs(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=us(Ht(r.Ma,r),ca(r,r.A)),r.A++,0))}function Oa(r){null!=r.B&&(je.clearTimeout(r.B),r.B=null)}function _a(r){r.g=new _n(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=or(r.wa);Ki(e,"RID","rpc"),Ki(e,"SID",r.K),Ki(e,"AID",r.V),Ki(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Ki(e,"TO",r.qa),Ki(e,"TYPE","xmlhttp"),ga(r,e),r.o&&r.s&&Mr(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Io(or(e)),t.s=null,t.S=!0,Pi(t,r)}function va(r){null!=r.v&&(je.clearTimeout(r.v),r.v=null)}function ta(r,e){var t=null;if(r.g==e){va(r),Oa(r),r.g=null;var o=2}else{if(!q(r.i,e))return;t=e.F,ln(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Y(o=Cs(),new Ro(o,t)),ps(r)}else Ps(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function aa(r,e){return!(it(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=us(Ht(r.Na,r,e),ca(r,r.C)),r.C++,0)))}(r,e)||2==o&&Fs(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:gs(r,5);break;case 4:gs(r,10);break;case 3:gs(r,6);break;default:gs(r,2)}}function ca(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function gs(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=Ht(r.pb,r);t||(t=new dr("//www.google.com/images/cleardot.gif"),je.location&&"http"==je.location.protocol||Yo(t,"https"),Io(t)),function io(r,e){const t=new Ri;if(je.Image){const o=new Image;o.onload=en(mr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=en(mr,t,o,"TestLoadImage: error",!1,e),o.onabort=en(mr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=en(mr,t,o,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Cr(2);r.H=0,r.h&&r.h.za(e),Ia(r),Rs(r)}function Ia(r){if(r.H=0,r.ma=[],r.h){const e=On(r.i);(0!=e.length||0!=r.j.length)&&(Je(r.ma,e),Je(r.ma,r.j),r.i.i.length=0,Ft(r.j),r.j.length=0),r.h.ya()}}function na(r,e,t){var o=t instanceof dr?or(t):new dr(t);if(""!=o.g)e&&(o.g=e+"."+o.g),go(o,o.m);else{var a=je.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new dr(null);o&&Yo(u,o),e&&(u.g=e),a&&go(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&Ki(o,t,e),Ki(o,"VER",r.ra),ga(r,o),o}function ba(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $t(t&&r.Ha&&!r.va?new K({ob:!0}):r.va)).Oa(r.J),e}function Ra(){}function Ws(){if(Tt&&!(10<=Number(ri)))throw Error("Environmental error: no available transport.")}function _s(r,e){Ue.call(this),this.g=new To(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Et(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Et(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Vs(this)}function vs(r){Dt.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ta(){gt.call(this),this.status=1}function Vs(r){this.g=r}function ro(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ks(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],f=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;f=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(f<<7&4294967295|f>>>25))+((f=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((u=(e=t+((f=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=u+((f=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Ti(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(Z=$t.prototype).Oa=function(r){this.M=r},Z.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jt.g(),this.C=function lr(r){return r.h||(r.h=r.i())}(this.u?this.u:jt),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void Ai(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=je.FormData&&r instanceof je.FormData,!(0<=on($n,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,f]of t)this.g.setRequestHeader(u,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ni(this),0<this.B&&((this.L=function wi(r){return Tt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=Oo(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Ai(this,u)}},Z.ua=function(){typeof qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Y(this,"timeout"),this.abort(8))},Z.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Y(this,"complete"),Y(this,"abort"),fr(this))},Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fr(this,!0)),$t.$.N.call(this)},Z.La=function(){this.s||(this.G||this.v||this.l?Or(this):this.kb())},Z.kb=function(){Or(this)},Z.isActive=function(){return!!this.g},Z.da=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Z.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),_t(e)}},Z.Ia=function(){return this.m},Z.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Z=To.prototype).ra=8,Z.H=1,Z.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new _n(this,this.l,r);let u=this.s;if(this.U&&(u?(u=Ei(u),Xt(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qr(this,a,e),Ki(t=or(this.I),"RID",r),Ki(t,"CVER",22),this.F&&Ki(t,"X-HTTP-Session-Id",this.F),ga(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Rr(u)))+"&"+e:this.o&&Mr(t,this.o,u)),st(this.i,a),this.bb&&Ki(t,"TYPE","init"),this.P?(Ki(t,"$req",e),Ki(t,"SID","null"),a.aa=!0,Fr(a,t,null)):Fr(a,t,e),this.H=2}}else 3==this.H&&(r?ea(this,r):0==this.j.length||tt(this.i)||ea(this))},Z.Ma=function(){if(this.u=null,_a(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=us(Ht(this.jb,this),r)}},Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cr(10),Is(this),_a(this))},Z.ib=function(){null!=this.v&&(this.v=null,Is(this),Fs(this),Cr(19))},Z.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Cr(2)):(this.l.info("Failed to ping google.com"),Cr(1))},Z.isActive=function(){return!!this.h&&this.h.isActive(this)},(Z=Ra.prototype).Ba=function(){},Z.Aa=function(){},Z.za=function(){},Z.ya=function(){},Z.isActive=function(){return!0},Z.Va=function(){},Ws.prototype.g=function(r,e){return new _s(r,e)},Yt(_s,Ue),_s.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Cr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=na(r,null,r.Y),ps(r)},_s.prototype.close=function(){Qo(this.g)},_s.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=yt(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&ps(e)},_s.prototype.N=function(){this.g.h=null,delete this.j,Qo(this.g),delete this.g,_s.$.N.call(this)},Yt(vs,Dt),Yt(Ta,gt),Yt(Vs,Ra),Vs.prototype.Ba=function(){Y(this.g,"a")},Vs.prototype.Aa=function(r){Y(this.g,new vs(r))},Vs.prototype.za=function(r){Y(this.g,new Ta)},Vs.prototype.ya=function(){Y(this.g,"b")},Yt(ro,function tr(){this.blockSize=-1}),ro.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ro.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)Ks(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){Ks(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){Ks(this,o),a=0;break}}this.h=a,this.i+=e},ro.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var la={};function P(r){return-128<=r&&128>r?function Ce(r,e){var t=la;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Ti([0|e],0>e?-1:0)}):new Ti([0|r],0>r?-1:0)}function ee(r){if(isNaN(r)||!isFinite(r))return rt;if(0>r)return Di(ee(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=_e;return new Ti(e,0)}var _e=4294967296,rt=P(0),tn=P(1),fn=P(16777216);function Yn(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Vi(r){return-1==r.h}function Di(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Ti(t,~r.h).add(tn)}function Ci(r,e){return r.add(Di(e))}function Ii(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function sr(r,e){this.g=r,this.h=e}function Gn(r,e){if(Yn(e))throw Error("division by zero");if(Yn(r))return new sr(rt,rt);if(Vi(r))return e=Gn(Di(r),e),new sr(Di(e.g),Di(e.h));if(Vi(e))return e=Gn(r,Di(e)),new sr(Di(e.g),e.h);if(30<r.g.length){if(Vi(r)||Vi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=tn,o=e;0>=o.X(r);)t=Qr(t),o=Qr(o);var a=bs(t,1),u=bs(o,1);for(o=bs(o,2),t=bs(t,2);!Yn(o);){var f=u.add(o);0>=f.X(r)&&(a=a.add(t),u=f),o=bs(o,1),t=bs(t,1)}return e=Ci(r,a.R(e)),new sr(a,e)}for(a=rt;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),f=(u=ee(t)).R(e);Vi(f)||0<f.X(r);)f=(u=ee(t-=o)).R(e);Yn(u)&&(u=tn),a=a.add(u),r=Ci(r,f)}return new sr(a,r)}function Qr(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Ti(t,r.h)}function bs(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Ti(a,r.h)}(Z=Ti.prototype).ea=function(){if(Vi(this))return-Di(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:_e+o)*e,e*=_e}return r},Z.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Yn(this))return"0";if(Vi(this))return"-"+Di(this).toString(r);for(var e=ee(Math.pow(r,6)),t=this,o="";;){var a=Gn(t,e).g,u=((0<(t=Ci(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Yn(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},Z.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Z.X=function(r){return Vi(r=Ci(this,r))?-1:Yn(r)?0:1},Z.abs=function(){return Vi(this)?Di(this):this},Z.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),f=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=f>>>16,t[a]=(f&=65535)<<16|(u&=65535)}return new Ti(t,-2147483648&t[t.length-1]?-1:0)},Z.R=function(r){if(Yn(this)||Yn(r))return rt;if(Vi(this))return Vi(r)?Di(this).R(Di(r)):Di(Di(this).R(r));if(Vi(r))return Di(this.R(Di(r)));if(0>this.X(fn)&&0>r.X(fn))return ee(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,f=65535&this.D(o),S=r.D(a)>>>16,G=65535&r.D(a);t[2*o+2*a]+=f*G,Ii(t,2*o+2*a),t[2*o+2*a+1]+=u*G,Ii(t,2*o+2*a+1),t[2*o+2*a+1]+=f*S,Ii(t,2*o+2*a+1),t[2*o+2*a+2]+=u*S,Ii(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Ti(t,0)},Z.gb=function(r){return Gn(this,r).h},Z.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Ti(t,this.h&r.h)},Z.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Ti(t,this.h|r.h)},Z.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Ti(t,this.h^r.h)},Ws.prototype.createWebChannel=Ws.prototype.g,_s.prototype.send=_s.prototype.u,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,Dr.COMPLETE="complete",hr.EventType=Eo,Eo.OPEN="a",Eo.CLOSE="b",Eo.ERROR="c",Eo.MESSAGE="d",Ue.prototype.listen=Ue.prototype.O,$t.prototype.listenOnce=$t.prototype.P,$t.prototype.getLastError=$t.prototype.Sa,$t.prototype.getLastErrorCode=$t.prototype.Ia,$t.prototype.getStatus=$t.prototype.da,$t.prototype.getResponseJson=$t.prototype.Wa,$t.prototype.getResponseText=$t.prototype.ja,$t.prototype.send=$t.prototype.ha,$t.prototype.setWithCredentials=$t.prototype.Oa,ro.prototype.digest=ro.prototype.l,ro.prototype.reset=ro.prototype.reset,ro.prototype.update=ro.prototype.j,Ti.prototype.add=Ti.prototype.add,Ti.prototype.multiply=Ti.prototype.R,Ti.prototype.modulo=Ti.prototype.gb,Ti.prototype.compare=Ti.prototype.X,Ti.prototype.toNumber=Ti.prototype.ea,Ti.prototype.toString=Ti.prototype.toString,Ti.prototype.getBits=Ti.prototype.D,Ti.fromNumber=ee,Ti.fromString=function V(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Di(V(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ee(Math.pow(e,8)),o=rt,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+u),e);8>u?(u=ee(Math.pow(e,u)),o=o.R(u).add(ee(f))):o=(o=o.R(t)).add(ee(f))}return o};var $r=Ve.createWebChannelTransport=function(){return new Ws},ya=Ve.getStatEventTarget=function(){return Cs()},Bo=Ve.ErrorCode=mi,Zs=Ve.EventType=Dr,rs=Ve.Event=jr,Ts=Ve.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sc=Ve.FetchXmlHttpFactory=K,wa=Ve.WebChannel=hr,bc=Ve.XhrIo=$t,Pa=Ve.Md5=ro,Cn=Ve.Integer=Ti;const nr="@firebase/firestore";class bo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bo.UNAUTHENTICATED=new bo(null),bo.GOOGLE_CREDENTIALS=new bo("google-credentials-uid"),bo.FIRST_PARTY=new bo("first-party-uid"),bo.MOCK_USER=new bo("mock-user");let os="9.22.2";const Gr=new we.Yd("@firebase/firestore");function Fa(){return Gr.logLevel}function Mn(r,...e){if(Gr.logLevel<=we.in.DEBUG){const t=e.map(oo);Gr.debug(`Firestore (${os}): ${r}`,...t)}}function wr(r,...e){if(Gr.logLevel<=we.in.ERROR){const t=e.map(oo);Gr.error(`Firestore (${os}): ${r}`,...t)}}function Ms(r,...e){if(Gr.logLevel<=we.in.WARN){const t=e.map(oo);Gr.warn(`Firestore (${os}): ${r}`,...t)}}function oo(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ni(r="Unexpected state"){const e=`FIRESTORE (${os}) INTERNAL ASSERTION FAILED: `+r;throw wr(e),new Error(e)}function li(r,e){r||ni()}function U(r,e){return r}const g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _ extends me.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class O{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class J{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bo.UNAUTHENTICATED))}shutdown(){}}class mt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pt{constructor(e){this.t=e,this.currentUser=bo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=te=>this.i!==a?(a=this.i,t(te)):Promise.resolve();let f=new O;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new O,e.enqueueRetryable(()=>u(this.currentUser))};const S=()=>{const te=f;e.enqueueRetryable((0,ke.Z)(function*(){yield te.promise,yield u(o.currentUser)}))},G=te=>{Mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(te=>G(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?G(te):(Mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new O)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(li("string"==typeof o.accessToken),new J(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return li(null===e||"string"==typeof e),new bo(e)}}class Qt{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=bo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class pn{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Qt(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(bo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Un{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xn{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&Mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.T;return this.T=u.token,Mn("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{Mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):Mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(li("string"==typeof t.token),this.T=t.token,new Un(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Oi(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class ui{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const a=Oi(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[u]%62))}return o}}function Fn(r,e){return r<e?-1:r>e?1:0}function gr(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function yo(r){return r+"\0"}class ji{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ji.fromMillis(Date.now())}static fromDate(e){return ji.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ji(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qn(e)}static min(){return new Qn(new ji(0,0))}static max(){return new Qn(new ji(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mo{constructor(e,t,o){void 0===t?t=0:t>e.length&&ni(),void 0===o?o=e.length-t:o>e.length-t&&ni(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Mo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mo?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),f=t.get(a);if(u<f)return-1;if(u>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zi extends Mo{construct(e,t,o){return new zi(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new _(g.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new zi(t)}static emptyPath(){return new zi([])}}const so=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends Mo{construct(e,t,o){return new Ui(e,t,o)}static isValidIdentifier(e){return so.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new _(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let f=!1;for(;a<e.length;){const S=e[a];if("\\"===S){if(a+1===e.length)throw new _(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[a+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new _(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,a+=2}else"`"===S?(f=!f,a++):"."!==S||f?(o+=S,a++):(u(),a++)}if(u(),f)throw new _(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ui(t)}static emptyPath(){return new Ui([])}}class E{constructor(e){this.path=e}static fromPath(e){return new E(zi.fromString(e))}static fromName(e){return new E(zi.fromString(e).popFirst(5))}static empty(){return new E(zi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new E(new zi(e.slice()))}}class R{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function x(r){return r.fields.find(e=>2===e.kind)}function N(r){return r.fields.filter(e=>2!==e.kind)}R.UNKNOWN_ID=-1;class Me{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ut{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ut(0,xn.min())}}function Wt(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=Qn.fromTimestamp(1e9===o?new ji(t+1,0):new ji(t,o));return new xn(a,E.empty(),e)}function In(r){return new xn(r.readTime,r.key,-1)}class xn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new xn(Qn.min(),E.empty(),-1)}static max(){return new xn(Qn.max(),E.empty(),-1)}}function si(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=E.comparator(r.documentKey,e.documentKey),0!==t?t:Fn(r.largestBatchId,e.largestBatchId))}const qi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ys{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Br(r){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,ke.Z)(function*(r){if(r.code!==g.FAILED_PRECONDITION||r.message!==qi)throw r;Mn("LocalStore","Unexpectedly lost primary lease")}),Xo.apply(this,arguments)}class Lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ni(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Lt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Lt?t:Lt.resolve(t)}catch(t){return Lt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Lt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Lt.reject(t)}static resolve(e){return new Lt((t,o)=>{t(e)})}static reject(e){return new Lt((t,o)=>{o(e)})}static waitFor(e){return new Lt((t,o)=>{let a=0,u=0,f=!1;e.forEach(S=>{++a,S.next(()=>{++u,f&&u===a&&t()},G=>o(G))}),f=!0,u===a&&t()})}static or(e){let t=Lt.resolve(!1);for(const o of e)t=t.next(a=>a?Lt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new Lt((o,a)=>{const u=e.length,f=new Array(u);let S=0;for(let G=0;G<u;G++){const te=G;t(e[te]).next(xe=>{f[te]=xe,++S,S===u&&o(f)},xe=>a(xe))}})}static doWhile(e,t){return new Lt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class ws{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new O,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ys(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=yc(o.target.error);this.v.reject(new Ys(e,a))}}static open(e,t,o,a){try{return new ws(t,e.transaction(a,o))}catch(u){throw new Ys(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Mn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Na(t)}}class xs{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===xs.S((0,me.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mn("SimpleDb","Removing database:",e),qs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(xs.C())return!0;const e=(0,me.z$)(),t=xs.S(e),o=0<t&&t<10,a=xs.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,ke.Z)(function*(){return t.db||(Mn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=f=>{o(f.target.result)},u.onblocked=()=>{a(new Ys(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const S=f.target.error;a("VersionError"===S.name?new _(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new _(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Ys(e,S))},u.onupgradeneeded=f=>{Mn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,u.transaction,f.oldVersion,t.version).next(()=>{Mn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,ke.Z)(function*(){const f="readonly"===t;let S=0;for(;;){++S;try{u.db=yield u.$(e);const G=ws.open(u.db,e,f?"readonly":"readwrite",o),te=a(G).next(xe=>(G.P(),xe)).catch(xe=>(G.abort(xe),Lt.reject(xe))).toPromise();return te.catch(()=>{}),yield G.R,te}catch(G){const te=G,xe="FirebaseError"!==te.name&&S<3;if(Mn("SimpleDb","Transaction failed with error:",te.message,"Retrying:",xe),u.close(),!xe)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ss{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return qs(this.L.delete())}}class Ys extends _{constructor(e,t){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ao(r){return"IndexedDbTransactionError"===r.name}class Na{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Mn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Mn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),qs(o)}add(e){return Mn("SimpleDb","ADD",this.store.name,e,e),qs(this.store.add(e))}get(e){return qs(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mn("SimpleDb","DELETE",this.store.name,e),qs(this.store.delete(e))}count(){return Mn("SimpleDb","COUNT",this.store.name),qs(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(f,S)=>{u.push(S)}).next(()=>u)}{const a=this.store.getAll(o.range);return new Lt((u,f)=>{a.onerror=S=>{f(S.target.error)},a.onsuccess=S=>{u(S.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Lt((a,u)=>{o.onerror=f=>{u(f.target.error)},o.onsuccess=f=>{a(f.target.result)}})}J(e,t){Mn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,f,S)=>S.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new Lt((o,a)=>{t.onerror=u=>{const f=yc(u.target.error);a(f)},t.onsuccess=u=>{const f=u.target.result;f?e(f.primaryKey,f.value).next(S=>{S?f.continue():o()}):o()}})}W(e,t){const o=[];return new Lt((a,u)=>{e.onerror=f=>{u(f.target.error)},e.onsuccess=f=>{const S=f.target.result;if(!S)return void a();const G=new ss(S),te=t(S.primaryKey,S.value,G);if(te instanceof Lt){const xe=te.catch(dt=>(G.done(),Lt.reject(dt)));o.push(xe)}G.isDone?a():null===G.K?S.continue():S.continue(G.K)}}).next(()=>Lt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qs(r){return new Lt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=yc(o.target.error);t(a)}})}let kd=!1;function yc(r){const e=xs.S((0,me.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new _("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kd||(kd=!0,setTimeout(()=>{throw o},0)),o}}return r}class Nh{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Mn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{Mn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){ao(o)?Mn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Br(o)}yield t.et(6e4)}))}}class Ma{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return Lt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!o.has(f))return Mn("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(S=>{a-=S,o.add(f)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const f=u.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,u)).next(S=>(Mn("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>f.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const f=In(u);si(f,o)>0&&(o=f)}),new xn(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ks=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Qs(r){return null==r}function La(r){return 0===r&&1/r==-1/0}function Lc(r){return"number"==typeof r&&Number.isInteger(r)&&!La(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function So(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=cl(e)),e=Ad(r.get(t),e);return cl(e)}function Ad(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function cl(r){return r+"\x01\x01"}function as(r){const e=r.length;if(li(e>=2),2===e)return li("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),zi.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const f=r.indexOf("\x01",u);switch((f<0||f>t)&&ni(),r.charAt(f+1)){case"\x01":const S=r.substring(u,f);let G;0===a.length?G=S:(a+=S,G=a,a=""),o.push(G);break;case"\x10":a+=r.substring(u,f),a+="\0";break;case"\x11":a+=r.substring(u,f+1);break;default:ni()}u=f+2}return new zi(o)}const wc=["userId","batchId"];function da(r,e){return[r,So(e)]}function ll(r,e,t){return[r,So(e),t]}const dl={},ul=["prefixPath","collectionGroup","readTime","documentId"],hl=["prefixPath","collectionGroup","documentId"],Hl=["collectionGroup","readTime","prefixPath","documentId"],Ba=["canonicalId","targetId"],Lh=["targetId","path"],Ou=["path","targetId"],xc=["collectionId","parent"],zl=["indexId","uid"],$l=["uid","sequenceNumber"],Bh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ml=["indexId","uid","orderedDocumentKey"],Ga=["userId","collectionPath","documentId"],Ru=["userId","collectionPath","largestBatchId"],Gl=["userId","collectionGroup","largestBatchId"],fl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wa=[...fl,"documentOverlays"],Od=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wl=Od,Bc=[...Wl,"indexConfiguration","indexState","indexEntries"];class Kl extends ys{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Es(r,e){const t=U(r);return xs.M(t.ht,e)}function Uc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ia(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ua(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class xr{constructor(e,t){this.comparator=e,this.root=t||cs.EMPTY}insert(e,t){return new xr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cs.BLACK,null,null))}remove(e){return new xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cs{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??cs.RED,this.left=a??cs.EMPTY,this.right=u??cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new cs(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return cs.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ni();const e=this.left.check();if(e!==this.right.check())throw ni();return e+(this.isRed()?0:1)}}cs.EMPTY=null,cs.RED=!0,cs.BLACK=!1,cs.EMPTY=new class{constructor(){this.size=0}get key(){throw ni()}get value(){throw ni()}get color(){throw ni()}get left(){throw ni()}get right(){throw ni()}copy(r,e,t,o,a){return this}insert(r,e,t){return new cs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(e){this.comparator=e,this.data=new xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zl(this.data.getIterator())}getIteratorFrom(e){return new Zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Er(this.comparator);return t.data=e,t}}class Zl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Va(r){return r.hasNext()?r.getNext():void 0}class Bs{constructor(e){this.fields=e,e.sort(Ui.comparator)}static empty(){return new Bs([])}unionWith(e){let t=new Er(Ui.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Bs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gr(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class pl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pl("Invalid base64 string: "+a):a}}(e);return new Jo(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Jo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jo.EMPTY_BYTE_STRING=new Jo("");const Pu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(r){if(li(!!r),"string"==typeof r){let e=0;const t=Pu.exec(r);if(li(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:wo(r.seconds),nanos:wo(r.nanos)}}function wo(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ka(r){return"string"==typeof r?Jo.fromBase64String(r):Jo.fromUint8Array(r)}function Vc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function co(r){const e=r.mapValue.fields.__previous_value__;return Vc(e)?co(e):e}function Cc(r){const e=Ec(r.mapValue.fields.__local_write_time__.timestampValue);return new ji(e.seconds,e.nanos)}class Dc{constructor(e,t,o,a,u,f,S,G,te){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=S,this.longPollingOptions=G,this.useFetchStreams=te}}class Za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}const Xr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ya={nullValue:"NULL_VALUE"};function js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vc(r)?4:Wn(r)?9007199254740991:10:ni()}function ra(r,e){if(r===e)return!0;const t=js(r);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Cc(r).isEqual(Cc(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ec(o.timestampValue),f=Ec(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ka(r.bytesValue).isEqual(Ka(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return wo(o.geoPointValue.latitude)===wo(a.geoPointValue.latitude)&&wo(o.geoPointValue.longitude)===wo(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return wo(o.integerValue)===wo(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=wo(o.doubleValue),f=wo(a.doubleValue);return u===f?La(u)===La(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return gr(r.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(Uc(u)!==Uc(f))return!1;for(const S in u)if(u.hasOwnProperty(S)&&(void 0===f[S]||!ra(u[S],f[S])))return!1;return!0}(r,e);default:return ni()}var a}function qa(r,e){return void 0!==(r.values||[]).find(t=>ra(t,e))}function ja(r,e){if(r===e)return 0;const t=js(r),o=js(e);if(t!==o)return Fn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fn(r.booleanValue,e.booleanValue);case 2:return function(a,u){const f=wo(a.integerValue||a.doubleValue),S=wo(u.integerValue||u.doubleValue);return f<S?-1:f>S?1:f===S?0:isNaN(f)?isNaN(S)?0:-1:1}(r,e);case 3:return Fu(r.timestampValue,e.timestampValue);case 4:return Fu(Cc(r),Cc(e));case 5:return Fn(r.stringValue,e.stringValue);case 6:return function(a,u){const f=Ka(a),S=Ka(u);return f.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),S=u.split("/");for(let G=0;G<f.length&&G<S.length;G++){const te=Fn(f[G],S[G]);if(0!==te)return te}return Fn(f.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Fn(wo(a.latitude),wo(u.latitude));return 0!==f?f:Fn(wo(a.longitude),wo(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const f=a.values||[],S=u.values||[];for(let G=0;G<f.length&&G<S.length;++G){const te=ja(f[G],S[G]);if(te)return te}return Fn(f.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===Xr.mapValue&&u===Xr.mapValue)return 0;if(a===Xr.mapValue)return 1;if(u===Xr.mapValue)return-1;const f=a.fields||{},S=Object.keys(f),G=u.fields||{},te=Object.keys(G);S.sort(),te.sort();for(let xe=0;xe<S.length&&xe<te.length;++xe){const dt=Fn(S[xe],te[xe]);if(0!==dt)return dt;const Jt=ja(f[S[xe]],G[te[xe]]);if(0!==Jt)return Jt}return Fn(S.length,te.length)}(r.mapValue,e.mapValue);default:throw ni()}}function Fu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Fn(r,e);const t=Ec(r),o=Ec(e),a=Fn(t.seconds,o.seconds);return 0!==a?a:Fn(t.nanos,o.nanos)}function Ic(r){return Nu(r)}function Nu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=Ec(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ka(r.bytesValue).toBase64():"referenceValue"in r?E.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const f of o.values||[])u?u=!1:a+=",",a+=Nu(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",f=!0;for(const S of a)f?f=!1:u+=",",u+=`${S}:${Nu(o.fields[S])}`;return u+"}"}(r.mapValue):ni();var e}function L(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function re(r){return!!r&&"integerValue"in r}function Ge(r){return!!r&&"arrayValue"in r}function xt(r){return!!r&&"nullValue"in r}function zt(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function un(r){return!!r&&"mapValue"in r}function qn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ia(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=qn(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Wn(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function pi(r){return"nullValue"in r?Ya:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?L(Za.empty(),E.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ni()}function Li(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?L(Za.empty(),E.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Xr:ni()}function Mi(r,e){const t=ja(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function As(r,e){const t=ja(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!un(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qn(t)}setAll(e){let t=Ui.emptyPath(),o={},a=[];e.forEach((f,S)=>{if(!t.isImmediateParentOf(S)){const G=this.getFieldsMap(t);this.applyChanges(G,o,a),o={},a=[],t=S.popLast()}f?o[S.lastSegment()]=qn(f):a.push(S.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());un(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];un(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){ia(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new _r(qn(this.value))}}function Qa(r){const e=[];return ia(r.fields,(t,o)=>{const a=new Ui([t]);if(un(o)){const u=Qa(o.mapValue).fields;if(0===u.length)e.push(a);else for(const f of u)e.push(a.child(f))}else e.push(a)}),new Bs(e)}class Wr{constructor(e,t,o,a,u,f,S){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=f,this.documentState=S}static newInvalidDocument(e){return new Wr(e,0,Qn.min(),Qn.min(),Qn.min(),_r.empty(),0)}static newFoundDocument(e,t,o,a){return new Wr(e,1,t,Qn.min(),o,a,0)}static newNoDocument(e,t){return new Wr(e,2,t,Qn.min(),Qn.min(),_r.empty(),0)}static newUnknownDocument(e,t){return new Wr(e,3,t,Qn.min(),Qn.min(),_r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hs{constructor(e,t){this.position=e,this.inclusive=t}}function oa(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],f=r.position[a];if(o=u.field.isKeyField()?E.comparator(E.fromName(f.referenceValue),t.key):ja(f,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function Sa(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ra(r.position[t],e.position[t]))return!1;return!0}class xa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Uh{}class ur extends Uh{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Hh(e,t,o):"array-contains"===t?new m(e,o):"in"===t?new v(e,o):"not-in"===t?new k(e,o):"array-contains-any"===t?new se(e,o):new ur(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new sf(e,o):new Ld(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ja(t,this.value)):null!==t&&js(this.value)===js(t)&&this.matchesComparison(ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ni()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Jr extends Uh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Jr(e,t)}matches(e){return ua(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ua(r){return"and"===r.op}function Tc(r){return"or"===r.op}function Fd(r){return nf(r)&&ua(r)}function nf(r){for(const e of r.filters)if(e instanceof Jr)return!1;return!0}function Nd(r){if(r instanceof ur)return r.field.canonicalString()+r.op.toString()+Ic(r.value);if(Fd(r))return r.filters.map(e=>Nd(e)).join(",");{const e=r.filters.map(t=>Nd(t)).join(",");return`${r.op}(${e})`}}function Vh(r,e){return r instanceof ur?(t=r,(o=e)instanceof ur&&t.op===o.op&&t.field.isEqual(o.field)&&ra(t.value,o.value)):r instanceof Jr?function(t,o){return o instanceof Jr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,f)=>a&&Vh(u,o.filters[f]),!0)}(r,e):void ni();var t,o}function rf(r,e){const t=r.filters.concat(e);return Jr.create(t,r.op)}function jh(r){return r instanceof ur?`${(e=r).field.canonicalString()} ${e.op} ${Ic(e.value)}`:r instanceof Jr?function(e){return e.op.toString()+" {"+e.getFilters().map(jh).join(" ,")+"}"}(r):"Filter";var e}class Hh extends ur{constructor(e,t,o){super(e,t,o),this.key=E.fromName(o.referenceValue)}matches(e){const t=E.comparator(e.key,this.key);return this.matchesComparison(t)}}class sf extends ur{constructor(e,t){super(e,"in",t),this.keys=I(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ld extends ur{constructor(e,t){super(e,"not-in",t),this.keys=I(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>E.fromName(o.referenceValue))}class m extends ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ge(t)&&qa(t.arrayValue,this.value)}}class v extends ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qa(this.value.arrayValue,t)}}class k extends ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qa(this.value.arrayValue,t)}}class se extends ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ge(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>qa(this.value.arrayValue,o))}}class Ae{constructor(e,t=null,o=[],a=[],u=null,f=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=f,this.endAt=S,this.dt=null}}function Nt(r,e=null,t=[],o=[],a=null,u=null,f=null){return new Ae(r,e,t,o,a,u,f)}function nn(r){const e=U(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Nd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),Qs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ic(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ic(o)).join(",")),e.dt=t}return e.dt}function Ln(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Pd(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sa(r.startAt,e.startAt)&&Sa(r.endAt,e.endAt)}function ii(r){return E.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function vi(r,e){return r.filters.filter(t=>t instanceof ur&&t.field.isEqual(e))}function ar(r,e,t){let o=Ya,a=!0;for(const u of vi(r,e)){let f=Ya,S=!0;switch(u.op){case"<":case"<=":f=pi(u.value);break;case"==":case"in":case">=":f=u.value;break;case">":f=u.value,S=!1;break;case"!=":case"not-in":f=Ya}Mi({value:o,inclusive:a},{value:f,inclusive:S})<0&&(o=f,a=S)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const f=t.position[u];Mi({value:o,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(o=f,a=t.inclusive);break}return{value:o,inclusive:a}}function ha(r,e,t){let o=Xr,a=!0;for(const u of vi(r,e)){let f=Xr,S=!0;switch(u.op){case">=":case">":f=Li(u.value),S=!1;break;case"==":case"in":case"<=":f=u.value;break;case"<":f=u.value,S=!1;break;case"!=":case"not-in":f=Xr}As({value:o,inclusive:a},{value:f,inclusive:S})>0&&(o=f,a=S)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const f=t.position[u];As({value:o,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(o=f,a=t.inclusive);break}return{value:o,inclusive:a}}class sa{constructor(e,t=null,o=[],a=[],u=null,f="F",S=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=f,this.startAt=S,this.endAt=G,this.wt=null,this._t=null}}function Bd(r,e,t,o,a,u,f,S){return new sa(r,e,t,o,a,u,f,S)}function gl(r){return new sa(r)}function Lu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Ud(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Mc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jc(r){return null!==r.collectionGroup}function lc(r){const e=U(r);if(null===e.wt){e.wt=[];const t=Mc(e),o=Ud(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new xa(t)),e.wt.push(new xa(Ui.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new xa(Ui.keyField(),u))}}}return e.wt}function zs(r){const e=U(r);if(!e._t)if("F"===e.limitType)e._t=Nt(e.path,e.collectionGroup,lc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of lc(e))t.push(new xa(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Hs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Hs(e.startAt.position,e.startAt.inclusive):null;e._t=Nt(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function _l(r,e){e.getFirstInequalityField(),Mc(r);const t=r.filters.concat([e]);return new sa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Xa(r,e,t){return new sa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function vl(r,e){return Ln(zs(r),zs(e))&&r.limitType===e.limitType}function Hc(r){return`${nn(zs(r))}|lt:${r.limitType}`}function bl(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>jh(o)).join(", ")}]`),Qs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ic(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ic(o)).join(",")),`Target(${t})`}(zs(r))}; limitType=${r.limitType})`}function ka(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):E.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of lc(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,f){const S=oa(a,u,f);return a.inclusive?S<=0:S<0}(t.startAt,lc(t),o)||t.endAt&&!function(a,u,f){const S=oa(a,u,f);return a.inclusive?S>=0:S>0}(t.endAt,lc(t),o)));var t,o}function Lg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bg(r){return(e,t)=>{let o=!1;for(const a of lc(r)){const u=ab(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function ab(r,e,t){const o=r.field.isKeyField()?E.comparator(e.key,t.key):function(a,u,f){const S=u.data.field(a),G=f.data.field(a);return null!==S&&null!==G?ja(S,G):ni()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return ni()}}class Sc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return Ua(this.inner)}size(){return this.innerSize}}const af=new xr(E.comparator);function Aa(){return af}const Ug=new xr(E.comparator);function Bu(...r){let e=Ug;for(const t of r)e=e.insert(t.key,t);return e}function cf(r){let e=Ug;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function kc(){return Xs()}function Vg(){return Xs()}function Xs(){return new Sc(r=>r.toString(),(r,e)=>r.isEqual(e))}const lf=new xr(E.comparator),jg=new Er(E.comparator);function Qi(...r){let e=jg;for(const t of r)e=e.add(t);return e}const ma=new Er(Fn);function Yl(){return ma}function df(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:La(e)?"-0":e}}function uf(r){return{integerValue:""+r}}function Hg(r,e){return Lc(e)?uf(e):df(r,e)}class Uu{constructor(){this._=void 0}}function cb(r,e,t){return r instanceof ql?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Vc(a)&&(a=co(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Ql?Gg(r,e):r instanceof zc?zh(r,e):function(o,a){const u=$g(o,a),f=jd(u)+jd(o.gt);return re(u)&&re(o.gt)?uf(f):df(o.serializer,f)}(r,e)}function zg(r,e,t){return r instanceof Ql?Gg(r,e):r instanceof zc?zh(r,e):t}function $g(r,e){return r instanceof Vd?re(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ql extends Uu{}class Ql extends Uu{constructor(e){super(),this.elements=e}}function Gg(r,e){const t=Wg(e);for(const o of r.elements)t.some(a=>ra(a,o))||t.push(o);return{arrayValue:{values:t}}}class zc extends Uu{constructor(e){super(),this.elements=e}}function zh(r,e){let t=Wg(e);for(const o of r.elements)t=t.filter(a=>!ra(a,o));return{arrayValue:{values:t}}}class Vd extends Uu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function jd(r){return wo(r.integerValue||r.doubleValue)}function Wg(r){return Ge(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Vu{constructor(e,t){this.field=e,this.transform=t}}class mf{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Xl{}function ff(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new wl(r.key,es.none()):new Hd(r.key,r.data,es.none());{const t=r.data,o=_r.empty();let a=new Er(Ui.comparator);for(let u of e.fields)if(!a.has(u)){let f=t.field(u);null===f&&u.length>1&&(u=u.popLast(),f=t.field(u)),null===f?o.delete(u):o.set(u,f),a=a.add(u)}return new Gc(r.key,o,new Bs(a.toArray()),es.none())}}function pf(r,e,t){r instanceof Hd?function(o,a,u){const f=o.value.clone(),S=Yg(o.fieldTransforms,a,u.transformResults);f.setAll(S),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Gc?function(o,a,u){if(!$c(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Yg(o.fieldTransforms,a,u.transformResults),S=a.data;S.setAll(Zg(o)),S.setAll(f),a.convertToFoundDocument(u.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yl(r,e,t,o){return r instanceof Hd?function(a,u,f,S){if(!$c(a.precondition,u))return f;const G=a.value.clone(),te=gf(a.fieldTransforms,S,u);return G.setAll(te),u.convertToFoundDocument(u.version,G).setHasLocalMutations(),null}(r,e,t,o):r instanceof Gc?function(a,u,f,S){if(!$c(a.precondition,u))return f;const G=gf(a.fieldTransforms,S,u),te=u.data;return te.setAll(Zg(a)),te.setAll(G),u.convertToFoundDocument(u.version,te).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(xe=>xe.field))}(r,e,t,o):(f=t,$c(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f);var u,f}function lb(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=$g(o.transform,a||null);null!=u&&(null===t&&(t=_r.empty()),t.set(o.field,u))}return t||null}function Kg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&gr(t,o,(a,u)=>function hf(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Ql&&o instanceof Ql||t instanceof zc&&o instanceof zc?gr(t.elements,o.elements,ra):t instanceof Vd&&o instanceof Vd?ra(t.gt,o.gt):t instanceof ql&&o instanceof ql);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class Hd extends Xl{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gc extends Xl{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Yg(r,e,t){const o=new Map;li(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],f=u.transform,S=e.data.field(u.field);o.set(u.field,zg(f,S,t[a]))}return o}function gf(r,e,t){const o=new Map;for(const a of r){const u=a.transform,f=t.data.field(a.field);o.set(a.field,cb(u,f,e))}return o}class wl extends Xl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends Xl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ju{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&pf(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=yl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=yl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Vg();return this.mutations.forEach(a=>{const u=e.get(a.key),f=u.overlayedDocument;let S=this.applyToLocalView(f,u.mutatedFields);S=t.has(a.key)?null:S;const G=ff(f,S);null!==G&&o.set(a.key,G),f.isValidDocument()||f.convertToNoDocument(Qn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qi())}isEqual(e){return this.batchId===e.batchId&&gr(this.mutations,e.mutations,(t,o)=>Kg(t,o))&&gr(this.baseMutations,e.baseMutations,(t,o)=>Kg(t,o))}}class _f{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){li(e.mutations.length===o.length);let a=lf;const u=e.mutations;for(let f=0;f<u.length;f++)a=a.insert(u[f].key,o[f].version);return new _f(e,t,o,a)}}class vf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Go,Ur;function yf(r){switch(r){default:return ni();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function Qg(r){if(void 0===r)return wr("GRPC error has no .code"),g.UNKNOWN;switch(r){case Go.OK:return g.OK;case Go.CANCELLED:return g.CANCELLED;case Go.UNKNOWN:return g.UNKNOWN;case Go.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case Go.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case Go.INTERNAL:return g.INTERNAL;case Go.UNAVAILABLE:return g.UNAVAILABLE;case Go.UNAUTHENTICATED:return g.UNAUTHENTICATED;case Go.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case Go.NOT_FOUND:return g.NOT_FOUND;case Go.ALREADY_EXISTS:return g.ALREADY_EXISTS;case Go.PERMISSION_DENIED:return g.PERMISSION_DENIED;case Go.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case Go.ABORTED:return g.ABORTED;case Go.OUT_OF_RANGE:return g.OUT_OF_RANGE;case Go.UNIMPLEMENTED:return g.UNIMPLEMENTED;case Go.DATA_LOSS:return g.DATA_LOSS;default:return ni()}}(Ur=Go||(Go={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";class Xg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jl}static getOrCreateInstance(){return null===Jl&&(Jl=new Xg),Jl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Jl=null;function Jg(){return new TextEncoder}const e_=new Cn([4294967295,4294967295],0);function wf(r){const e=Jg().encode(r),t=new Pa;return t.update(e),new Uint8Array(t.digest())}function xf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Cn([t,o],0),new Cn([a,u],0)]}class Hu{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new zd(`Invalid padding: ${t}`);if(o<0)throw new zd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new zd(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new zd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Cn.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(Cn.fromNumber(o)));return 1===a.compare(e_)&&(a=new Cn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wf(e),[o,a]=xf(t);for(let u=0;u<this.hashCount;u++){const f=this.Et(o,a,u);if(!this.At(f))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hu(u,a,t);return o.forEach(S=>f.insert(S)),f}insert(e){if(0===this.It)return;const t=wf(e),[o,a]=xf(t);for(let u=0;u<this.hashCount;u++){const f=this.Et(o,a,u);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xl{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new xl(Qn.min(),a,new xr(Fn),Aa(),Qi())}}class Wc{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Wc(o,t,Qi(),Qi(),Qi())}}class zu{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class Gh{constructor(e,t){this.targetId=e,this.Vt=t}}class $u{constructor(e,t,o=Jo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class Ef{constructor(){this.St=0,this.Dt=t_(),this.Ct=Jo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qi(),t=Qi(),o=Qi();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:ni()}}),new Wc(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=t_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Aa(),this.zt=$d(),this.Wt=new xr(Fn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:ni()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const f=u.target;if(ii(f))if(0===a){const S=new E(f.path);this.Yt(o,S,Wr.newNoDocument(S,Qn.min()))}else li(1===a);else{const S=this.ie(o);if(S!==a){const G=this.re(e,S);0!==G&&(this.ee(o),this.Wt=this.Wt.insert(o,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(te,xe,dt){var Jt,vn,Bn,Jn,oi,Xi;const Vr={localCacheCount:xe,existenceFilterCount:dt.count},$i=dt.unchangedNames;return $i&&(Vr.bloomFilter={applied:0===te,hashCount:null!==(Jt=$i?.hashCount)&&void 0!==Jt?Jt:0,bitmapLength:null!==(Jn=null===(Bn=null===(vn=$i?.bits)||void 0===vn?void 0:vn.bitmap)||void 0===Bn?void 0:Bn.length)&&void 0!==Jn?Jn:0,padding:null!==(Xi=null===(oi=$i?.bits)||void 0===oi?void 0:oi.padding)&&void 0!==Xi?Xi:0}),Vr}(G,S,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:f=0},hashCount:S=0}=o;let G,te;try{G=Ka(u).toUint8Array()}catch(xe){if(xe instanceof pl)return Ms("Decoding the base64 bloom filter in existence filter failed ("+xe.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw xe}try{te=new Hu(G,f,S)}catch(xe){return Ms(xe instanceof zd?"BloomFilter error: ":"Applying bloom filter failed: ",xe),1}return 0===te.It?1:a!==t-this.oe(e.targetId,te)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const f=this.Gt.ue(),S=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.vt(S)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,f)=>{const S=this.se(f);if(S){if(u.current&&ii(S.target)){const G=new E(S.target.path);null!==this.jt.get(G)||this.ae(f,G)||this.Yt(f,G,Wr.newNoDocument(G,e))}u.Mt&&(t.set(f,u.Ot()),u.Ft())}});let o=Qi();this.zt.forEach((u,f)=>{let S=!0;f.forEachWhile(G=>{const te=this.se(G);return!te||"TargetPurposeLimboResolution"===te.purpose||(S=!1,!1)}),S&&(o=o.add(u))}),this.jt.forEach((u,f)=>f.setReadTime(e));const a=new xl(e,t,this.Wt,this.jt,o);return this.jt=Aa(),this.zt=$d(),this.Wt=new xr(Fn),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ef,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Er(Fn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Mn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ef),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function $d(){return new xr(E.comparator)}function t_(){return new xr(E.comparator)}const n_={asc:"ASCENDING",desc:"DESCENDING"},db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ub={and:"AND",or:"OR"};class hb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(r,e){return r.useProto3Json||Qs(e)?e:{value:e}}function ed(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Df(r,e){return ed(r,e.toTimestamp())}function Wo(r){return li(!!r),Qn.fromTimestamp(function(e){const t=Ec(e);return new ji(t.seconds,t.nanos)}(r))}function If(r,e){return(t=r,new zi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(r){const e=zi.fromString(r);return li(u_(e)),e}function Kh(r,e){return If(r.databaseId,e.path)}function Ac(r,e){const t=i_(e);if(t.get(1)!==r.databaseId.projectId)throw new _(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new _(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new E(Ku(t))}function Wu(r,e){return If(r.databaseId,e)}function r_(r){const e=i_(r);return 4===e.length?zi.emptyPath():Ku(e)}function Kc(r){return new zi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ku(r){return li(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Zh(r,e,t){return{name:Kh(r,e),fields:t.value.mapValue.fields}}function Tf(r,e,t){const o=Ac(r,e.name),a=Wo(e.updateTime),u=e.createTime?Wo(e.createTime):Qn.min(),f=new _r({mapValue:{fields:e.fields}}),S=Wr.newFoundDocument(o,a,u,f);return t&&S.setHasCommittedMutations(),t?S.setHasCommittedMutations():S}function dc(r,e){let t;if(e instanceof Hd)t={update:Zh(r,e.key,e.value)};else if(e instanceof wl)t={delete:Kh(r,e.key)};else if(e instanceof Gc)t={update:Zh(r,e.key,e.data),updateMask:d_(e.fieldMask)};else{if(!(e instanceof $h))return ni();t={verify:Kh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const f=u.transform;if(f instanceof ql)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ql)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof zc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Vd)return{fieldPath:u.field.canonicalString(),increment:f.gt};throw ni()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Df(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ni()),t;var a}function Mf(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?es.updateTime(Wo(a.updateTime)):void 0!==a.exists?es.exists(a.exists):es.none():es.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,f){let S=null;"setToServerValue"in f?(li("REQUEST_TIME"===f.setToServerValue),S=new ql):"appendMissingElements"in f?S=new Ql(f.appendMissingElements.values||[]):"removeAllFromArray"in f?S=new zc(f.removeAllFromArray.values||[]):"increment"in f?S=new Vd(u,f.increment):ni();const G=Ui.fromServerFormat(f.fieldPath);return new Vu(G,S)}(r,a)):[];var a;if(e.update){const a=Ac(r,e.update.name),u=new _r({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Bs((e.updateMask.fieldPaths||[]).map(te=>Ui.fromServerFormat(te)));return new Gc(a,u,f,t,o)}return new Hd(a,u,t,o)}if(e.delete){const a=Ac(r,e.delete);return new wl(a,t)}if(e.verify){const a=Ac(r,e.verify);return new $h(a,t)}return ni()}function a_(r,e){return{documents:[Wu(r,e.path)]}}function Sf(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Wu(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Wu(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(G){if(0!==G.length)return l_(Jr.create(G,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(G){if(0!==G.length)return G.map(te=>{return{field:El((xe=te).field),direction:fb(xe.dir)};var xe})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Wh(r,e.limit);var S,G;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function c_(r){let e=r_(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){li(1===o);const xe=t.from[0];xe.allDescendants?a=xe.collectionId:e=e.child(xe.collectionId)}let u=[];t.where&&(u=function(xe){const dt=td(xe);return dt instanceof Jr&&Fd(dt)?dt.getFilters():[dt]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(xe=>{return new xa(Gd((dt=xe).field),function(Jt){switch(Jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dt.direction));var dt}));let S=null;t.limit&&(S=function(xe){let dt;return dt="object"==typeof xe?xe.value:xe,Qs(dt)?null:dt}(t.limit));let G=null;var xe;t.startAt&&(G=new Hs((xe=t.startAt).values||[],!!xe.before));let te=null;return t.endAt&&(te=function(xe){return new Hs(xe.values||[],!xe.before)}(t.endAt)),Bd(e,a,f,u,S,"F",G,te)}function td(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gd(e.unaryFilter.field);return ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Gd(e.unaryFilter.field);return ur.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gd(e.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gd(e.unaryFilter.field);return ur.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ni()}}(r):void 0!==r.fieldFilter?ur.create(Gd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ni()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Jr.create(e.compositeFilter.filters.map(t=>td(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ni()}}(e.compositeFilter.op))}(r):ni();var e}function fb(r){return n_[r]}function pb(r){return db[r]}function gb(r){return ub[r]}function El(r){return{fieldPath:r.canonicalString()}}function Gd(r){return Ui.fromServerFormat(r.fieldPath)}function l_(r){return r instanceof ur?function(e){if("=="===e.op){if(zt(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NAN"}};if(xt(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zt(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NOT_NAN"}};if(xt(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(e.field),op:pb(e.op),value:e.value}}}(r):r instanceof Jr?function(e){const t=e.getFilters().map(o=>l_(o));return 1===t.length?t[0]:{compositeFilter:{op:gb(e.op),filters:t}}}(r):ni()}function d_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Yc{constructor(e,t,o,a,u=Qn.min(),f=Qn.min(),S=Jo.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=S,this.expectedCount=G}withSequenceNumber(e){return new Yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class h_{constructor(e){this.fe=e}}function Zu(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ja(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Kh(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ed(a,u.version.toTimestamp()),createTime:ed(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:uc(e.version)};else{if(!e.isUnknownDocument())return ni();o.unknownDocument={path:t.path.toArray(),version:uc(e.version)}}var a,u;return o}function Ja(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function uc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cl(r){const e=new ji(r.seconds,r.nanoseconds);return Qn.fromTimestamp(e)}function Dl(r,e){const t=(e.baseMutations||[]).map(u=>Mf(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>Mf(r.fe,u)),a=ji.fromMillis(e.localWriteTimeMs);return new ju(e.batchId,a,t,o)}function Wd(r){const e=Cl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Cl(r.lastLimboFreeSnapshotVersion):Qn.min();let o;var a;return void 0!==r.query.documents?(li(1===(a=r.query).documents.length),o=zs(gl(r_(a.documents[0])))):o=zs(c_(r.query)),new Yc(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Jo.fromBase64String(r.resumeToken))}function vb(r,e){const t=uc(e.snapshotVersion),o=uc(e.lastLimboFreeSnapshotVersion);let a;a=ii(e.target)?a_(r.fe,e.target):Sf(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:nn(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function m_(r){const e=c_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Xa(e,e.limit,"L"):e}function f_(r,e){return new vf(e.largestBatchId,Mf(r.fe,e.overlayMutation))}function Yh(r,e){const t=e.path.lastSegment();return[r,So(e.path.popLast()),t]}function qh(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:uc(o.readTime),documentKey:So(o.documentKey.path),largestBatchId:o.largestBatchId}}class f0{getBundleMetadata(e,t){return bb(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Cl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return bb(e).put({bundleId:(o=t).id,createTime:uc(Wo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return kf(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:m_(a.bundledQuery),readTime:Cl(a.readTime)};var a})}saveNamedQuery(e,t){return kf(e).put({name:(o=t).name,readTime:uc(Wo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function bb(r){return Es(r,"bundles")}function kf(r){return Es(r,"namedQueries")}class Qh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qh(e,t.uid||"")}getOverlay(e,t){return Yu(e).get(Yh(this.userId,t)).next(o=>o?f_(this.serializer,o):null)}getOverlays(e,t){const o=kc();return Lt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,f)=>{const S=new vf(t,f);a.push(this.we(e,S))}),Lt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(f=>a.add(So(f.getCollectionPath())));const u=[];return a.forEach(f=>{const S=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,o+1],!1,!0);u.push(Yu(e).J("collectionPathOverlayIndex",S))}),Lt.waitFor(u)}getOverlaysForCollection(e,t,o){const a=kc(),u=So(t),f=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Yu(e).j("collectionPathOverlayIndex",f).next(S=>{for(const G of S){const te=f_(this.serializer,G);a.set(te.getKey(),te)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=kc();let f;const S=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yu(e).X({index:"collectionGroupOverlayIndex",range:S},(G,te,xe)=>{const dt=f_(this.serializer,te);u.size()<a||dt.largestBatchId===f?(u.set(dt.getKey(),dt),f=dt.largestBatchId):xe.done()}).next(()=>u)}we(e,t){return Yu(e).put(function(o,a,u){const[f,S,G]=Yh(a,u.mutation.key);return{userId:a,collectionPath:S,documentId:G,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:dc(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Yu(r){return Es(r,"documentOverlays")}class nd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(wo(e.integerValue));else if("doubleValue"in e){const o=wo(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),La(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ka(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?Wn(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ni()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),E.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function yb(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Af(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=yb(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}nd.Ve=new nd;class Xh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=Af(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=Af(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class p_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Of{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class qu{constructor(){this.je=new Xh,this.ze=new p_(this.je),this.We=new Of(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Uo{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Uo(this.indexId,this.documentKey,this.arrayValue,o)}}function Il(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=g_(r.arrayValue,e.arrayValue),0!==t?t:(t=g_(r.directionalValue,e.directionalValue),0!==t?t:E.comparator(r.documentKey,e.documentKey)))}function g_(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Rf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){li(e.collectionGroup===this.collectionId);const t=x(e);if(void 0!==t&&!this.en(t))return!1;const o=N(e);let a=new Set,u=0,f=0;for(;u<o.length&&this.en(o[u]);++u)a=a.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const S=o[u];if(!this.nn(this.Ze,S)||!this.sn(this.Ye[f++],S))return!1}++u}for(;u<o.length;++u)if(f>=this.Ye.length||!this.sn(this.Ye[f++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pf(r){var e,t;if(li(r instanceof ur||r instanceof Jr),r instanceof ur){if(r instanceof v){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>ur.create(r.field,"==",u)))||[];return Jr.create(a,"or")}return r}const o=r.filters.map(a=>Pf(a));return Jr.create(o,r.op)}function wb(r){if(0===r.getFilters().length)return[];const e=Jh(Pf(r));return li(__(e)),Ff(e)||Nf(e)?[e]:e.getFilters()}function Ff(r){return r instanceof ur}function Nf(r){return r instanceof Jr&&Fd(r)}function __(r){return Ff(r)||Nf(r)||function(e){if(e instanceof Jr&&Tc(e)){for(const t of e.getFilters())if(!Ff(t)&&!Nf(t))return!1;return!0}return!1}(r)}function Jh(r){if(li(r instanceof ur||r instanceof Jr),r instanceof ur)return r;if(1===r.filters.length)return Jh(r.filters[0]);const e=r.filters.map(o=>Jh(o));let t=Jr.create(e,r.op);return t=Tl(t),__(t)?t:(li(t instanceof Jr),li(ua(t)),li(t.filters.length>1),t.filters.reduce((o,a)=>v_(o,a)))}function v_(r,e){let t;return li(r instanceof ur||r instanceof Jr),li(e instanceof ur||e instanceof Jr),t=r instanceof ur?e instanceof ur?Jr.create([r,e],"and"):xb(r,e):e instanceof ur?xb(e,r):function(o,a){if(li(o.filters.length>0&&a.filters.length>0),ua(o)&&ua(a))return rf(o,a.getFilters());const u=Tc(o)?o:a,f=Tc(o)?a:o,S=u.filters.map(G=>v_(G,f));return Jr.create(S,"or")}(r,e),Tl(t)}function xb(r,e){if(ua(e))return rf(e,r.getFilters());{const t=e.filters.map(o=>v_(r,o));return Jr.create(t,"or")}}function Tl(r){if(li(r instanceof ur||r instanceof Jr),r instanceof ur)return r;const e=r.getFilters();if(1===e.length)return Tl(e[0]);if(nf(r))return r;const t=e.map(a=>Tl(a)),o=[];return t.forEach(a=>{a instanceof ur?o.push(a):a instanceof Jr&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:Jr.create(o,r.op)}class lo{constructor(){this.rn=new id}addToCollectionParentIndex(e,t){return this.rn.add(t),Lt.resolve()}getCollectionParents(e,t){return Lt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Lt.resolve()}deleteFieldIndex(e,t){return Lt.resolve()}getDocumentsMatchingTarget(e,t){return Lt.resolve(null)}getIndexType(e,t){return Lt.resolve(0)}getFieldIndexes(e,t){return Lt.resolve([])}getNextCollectionGroupToUpdate(e){return Lt.resolve(null)}getMinOffset(e,t){return Lt.resolve(xn.min())}getMinOffsetFromCollectionGroup(e,t){return Lt.resolve(xn.min())}updateCollectionGroup(e,t,o){return Lt.resolve()}updateIndexEntries(e,t){return Lt.resolve()}}class id{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new Er(zi.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Er(zi.comparator)).toArray()}}const Qu=new Uint8Array(0);class b_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new id,this.un=new Sc(o=>nn(o),(o,a)=>Ln(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:So(a)};return Lf(e).put(u)}return Lt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[yo(t),""],!1,!0);return Lf(e).j(a).next(u=>{for(const f of u){if(f.collectionId!==t)break;o.push(as(f.parent))}return o})}addFieldIndex(e,t){const o=em(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var f;delete a.indexId;const u=o.add(a);if(t.indexState){const f=Kd(e);return u.next(S=>{f.put(qh(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=em(e),a=Kd(e),u=rd(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=rd(e);let a=!0;const u=new Map;return Lt.forEach(this.cn(t),f=>this.an(e,f).next(S=>{a&&(a=!!S),u.set(f,S)})).next(()=>{if(a){let f=Qi();const S=[];return Lt.forEach(u,(G,te)=>{var xe;Mn("IndexedDbIndexManager",`Using index ${xe=G,`id=${xe.indexId}|cg=${xe.collectionGroup}|f=${xe.fields.map($i=>`${$i.fieldPath}:${$i.kind}`).join(",")}`} to execute ${nn(t)}`);const dt=function($i,ls){const Vo=x(ls);if(void 0===Vo)return null;for(const ko of vi($i,Vo.fieldPath))switch(ko.op){case"array-contains-any":return ko.value.arrayValue.values||[];case"array-contains":return[ko.value]}return null}(te,G),Jt=function($i,ls){const Vo=new Map;for(const ko of N(ls))for(const pa of vi($i,ko.fieldPath))switch(pa.op){case"==":case"in":Vo.set(ko.fieldPath.canonicalString(),pa.value);break;case"not-in":case"!=":return Vo.set(ko.fieldPath.canonicalString(),pa.value),Array.from(Vo.values())}return null}(te,G),vn=function($i,ls){const Vo=[];let ko=!0;for(const pa of N(ls)){const vc=0===pa.kind?ar($i,pa.fieldPath,$i.startAt):ha($i,pa.fieldPath,$i.startAt);Vo.push(vc.value),ko&&(ko=vc.inclusive)}return new Hs(Vo,ko)}(te,G),Bn=function($i,ls){const Vo=[];let ko=!0;for(const pa of N(ls)){const vc=0===pa.kind?ha($i,pa.fieldPath,$i.endAt):ar($i,pa.fieldPath,$i.endAt);Vo.push(vc.value),ko&&(ko=vc.inclusive)}return new Hs(Vo,ko)}(te,G),Jn=this.hn(G,te,vn),oi=this.hn(G,te,Bn),Xi=this.ln(G,te,Jt),Vr=this.fn(G.indexId,dt,Jn,vn.inclusive,oi,Bn.inclusive,Xi);return Lt.forEach(Vr,$i=>o.H($i,t.limit).next(ls=>{ls.forEach(Vo=>{const ko=E.fromSegments(Vo.documentKey);f.has(ko)||(f=f.add(ko),S.push(ko))})}))}).next(()=>S)}return Lt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wb(Jr.create(e.filters,"and")).map(o=>Nt(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,f,S){const G=(null!=t?t.length:1)*Math.max(o.length,u.length),te=G/(null!=t?t.length:1),xe=[];for(let dt=0;dt<G;++dt){const Jt=t?this.dn(t[dt/te]):Qu,vn=this.wn(e,Jt,o[dt%te],a),Bn=this._n(e,Jt,u[dt%te],f),Jn=S.map(oi=>this.wn(e,Jt,oi,!0));xe.push(...this.createRange(vn,Bn,Jn))}return xe}wn(e,t,o,a){const u=new Uo(e,E.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new Uo(e,E.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Rf(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let f=null;for(const S of u)o.tn(S)&&(!f||S.fields.length>f.fields.length)&&(f=S);return f})}getIndexType(e,t){let o=2;const a=this.cn(t);return Lt.forEach(a,u=>this.an(e,u).next(f=>{f?0!==o&&f.fields.length<function(S){let G=new Er(Ui.comparator),te=!1;for(const xe of S.filters)for(const dt of xe.getFlattenedFilters())dt.field.isKeyField()||("array-contains"===dt.op||"array-contains-any"===dt.op?te=!0:G=G.add(dt.field));for(const xe of S.orderBy)xe.field.isKeyField()||(G=G.add(xe.field));return G.size+(te?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new qu;for(const a of N(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const f=o.He(a.kind);nd.Ve._e(u,f)}return o.Qe()}dn(e){const t=new qu;return nd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new qu;return nd.Ve._e(L(this.databaseId,t),o.He(function(a){const u=N(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new qu);let u=0;for(const f of N(e)){const S=o[u++];for(const G of a)if(this.yn(t,f.fieldPath)&&Ge(S))a=this.pn(a,f,S);else{const te=G.He(f.kind);nd.Ve._e(S,te)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const f of o.arrayValue.values||[])for(const S of a){const G=new qu;G.seed(S.Qe()),nd.Ve._e(f,G.He(t.kind)),u.push(G)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof ur&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=em(e),a=Kd(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const f=[];return Lt.forEach(u,S=>a.get([S.indexId,this.uid]).next(G=>{f.push(function(te,xe){const dt=xe?new Ut(xe.sequenceNumber,new xn(Cl(xe.readTime),new E(as(xe.documentKey)),xe.largestBatchId)):Ut.empty(),Jt=te.fields.map(([vn,Bn])=>new Me(Ui.fromServerFormat(vn),Bn));return new R(te.indexId,te.collectionGroup,Jt,dt)}(S,G))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:Fn(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=em(e),u=Kd(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>Lt.forEach(S,G=>u.put(qh(G.indexId,this.user,f,o)))))}updateIndexEntries(e,t){const o=new Map;return Lt.forEach(t,(a,u)=>{const f=o.get(a.collectionGroup);return(f?Lt.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(S=>(o.set(a.collectionGroup,S),Lt.forEach(S,G=>this.En(e,a,G).next(te=>{const xe=this.An(u,G);return te.isEqual(xe)?Lt.resolve():this.vn(e,u,G,te,xe)}))))})}Rn(e,t,o,a){return rd(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return rd(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=rd(e);let u=new Er(Il);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(f,S)=>{u=u.add(new Uo(o.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>u)}An(e,t){let o=new Er(Il);const a=this.mn(t,e);if(null==a)return o;const u=x(t);if(null!=u){const f=e.data.field(u.fieldPath);if(Ge(f))for(const S of f.arrayValue.values||[])o=o.add(new Uo(t.indexId,e.key,this.dn(S),a))}else o=o.add(new Uo(t.indexId,e.key,Qu,a));return o}vn(e,t,o,a,u){Mn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(S,G,te,xe,dt){const Jt=S.getIterator(),vn=G.getIterator();let Bn=Va(Jt),Jn=Va(vn);for(;Bn||Jn;){let oi=!1,Xi=!1;if(Bn&&Jn){const Vr=te(Bn,Jn);Vr<0?Xi=!0:Vr>0&&(oi=!0)}else null!=Bn?Xi=!0:oi=!0;oi?(xe(Jn),Jn=Va(vn)):Xi?(dt(Bn),Bn=Va(Jt)):(Bn=Va(Jt),Jn=Va(vn))}}(a,u,Il,S=>{f.push(this.Rn(e,t,o,S))},S=>{f.push(this.Pn(e,t,o,S))}),Lt.waitFor(f)}Tn(e){let t=1;return Kd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((f,S)=>Il(f,S)).filter((f,S,G)=>!S||0!==Il(f,G[S-1]));const a=[];a.push(e);for(const f of o){const S=Il(f,e),G=Il(f,t);if(0===S)a[0]=e.Je();else if(S>0&&G<0)a.push(f),a.push(f.Je());else if(G>0)break}a.push(t);const u=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];u.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Qu,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Qu,[]]))}return u}bn(e,t){return Il(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bf)}getMinOffset(e,t){return Lt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||ni())).next(Bf)}}function Lf(r){return Es(r,"collectionParents")}function rd(r){return Es(r,"indexEntries")}function em(r){return Es(r,"indexConfiguration")}function Kd(r){return Es(r,"indexState")}function Bf(r){li(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;si(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new xn(e.readTime,e.documentKey,t)}const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ea{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ea(e,Ea.DEFAULT_COLLECTION_PERCENTILE,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nm(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],f=IDBKeyRange.only(t.batchId);let S=0;const G=o.X({range:f},(xe,dt,Jt)=>(S++,Jt.delete()));u.push(G.next(()=>{li(1===S)}));const te=[];for(const xe of t.mutations){const dt=ll(e,xe.key.path,t.batchId);u.push(a.delete(dt)),te.push(xe.key)}return Lt.waitFor(u).next(()=>te)}function im(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ni();e=r.noDocument}return JSON.stringify(e).length}Ea.DEFAULT_COLLECTION_PERCENTILE=10,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ea.DEFAULT=new Ea(41943040,Ea.DEFAULT_COLLECTION_PERCENTILE,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ea.DISABLED=new Ea(-1,0,0);class Zd{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){li(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Zd(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qc(e).X({index:"userMutationsIndex",range:o},(a,u,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=ec(e),f=qc(e);return f.add({}).next(S=>{li("number"==typeof S);const G=new ju(S,t,o,a),te=function(Jt,vn,Bn){const Jn=Bn.baseMutations.map(Xi=>dc(Jt.fe,Xi)),oi=Bn.mutations.map(Xi=>dc(Jt.fe,Xi));return{userId:vn,batchId:Bn.batchId,localWriteTimeMs:Bn.localWriteTime.toMillis(),baseMutations:Jn,mutations:oi}}(this.serializer,this.userId,G),xe=[];let dt=new Er((Jt,vn)=>Fn(Jt.canonicalString(),vn.canonicalString()));for(const Jt of a){const vn=ll(this.userId,Jt.key.path,S);dt=dt.add(Jt.key.path.popLast()),xe.push(f.put(te)),xe.push(u.put(vn,dl))}return dt.forEach(Jt=>{xe.push(this.indexManager.addToCollectionParentIndex(e,Jt))}),e.addOnCommittedListener(()=>{this.Vn[S]=G.keys()}),Lt.waitFor(xe).next(()=>G)})}lookupMutationBatch(e,t){return qc(e).get(t).next(o=>o?(li(o.userId===this.userId),Dl(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Lt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return qc(e).X({index:"userMutationsIndex",range:a},(f,S,G)=>{S.userId===this.userId&&(li(S.batchId>=o),u=Dl(this.serializer,S)),G.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return qc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,f)=>{o=u.batchId,f.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qc(e).j("userMutationsIndex",t).next(o=>o.map(a=>Dl(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=da(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return ec(e).X({range:a},(f,S,G)=>{const[te,xe,dt]=f,Jt=as(xe);if(te===this.userId&&t.path.isEqual(Jt))return qc(e).get(dt).next(vn=>{if(!vn)throw ni();li(vn.userId===this.userId),u.push(Dl(this.serializer,vn))});G.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Er(Fn);const a=[];return t.forEach(u=>{const f=da(this.userId,u.path),S=IDBKeyRange.lowerBound(f),G=ec(e).X({range:S},(te,xe,dt)=>{const[Jt,vn,Bn]=te,Jn=as(vn);Jt===this.userId&&u.path.isEqual(Jn)?o=o.add(Bn):dt.done()});a.push(G)}),Lt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=da(this.userId,o),f=IDBKeyRange.lowerBound(u);let S=new Er(Fn);return ec(e).X({range:f},(G,te,xe)=>{const[dt,Jt,vn]=G,Bn=as(Jt);dt===this.userId&&o.isPrefixOf(Bn)?Bn.length===a&&(S=S.add(vn)):xe.done()}).next(()=>this.Dn(e,S))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(qc(e).get(u).next(f=>{if(null===f)throw ni();li(f.userId===this.userId),o.push(Dl(this.serializer,f))}))}),Lt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return nm(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Lt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Lt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return ec(e).X({range:o},(u,f,S)=>{if(u[0]===this.userId){const G=as(u[1]);a.push(G)}else S.done()}).next(()=>{li(0===a.length)})})}containsKey(e,t){return Uf(e,this.userId,t)}xn(e){return y_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Uf(r,e,t){const o=da(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let f=!1;return ec(r).X({range:u,Y:!0},(S,G,te)=>{const[xe,dt,Jt]=S;xe===e&&dt===a&&(f=!0),te.done()}).next(()=>f)}function qc(r){return Es(r,"mutations")}function ec(r){return Es(r,"documentMutations")}function y_(r){return Es(r,"mutationQueues")}class Qc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qc(0)}static Mn(){return new Qc(-1)}}class rm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new Qc(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Qn.fromTimestamp(new ji(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(li(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return Yd(e).X((f,S)=>{const G=Wd(S);G.sequenceNumber<=t&&null===o.get(G.targetId)&&(a++,u.push(this.removeTargetData(e,G)))}).next(()=>Lt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return Yd(e).X((o,a)=>{const u=Wd(a);t(u)})}$n(e){return om(e).get("targetGlobalKey").next(t=>(li(null!==t),t))}On(e,t){return om(e).put("targetGlobalKey",t)}Fn(e,t){return Yd(e).put(vb(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=nn(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Yd(e).X({range:a,index:"queryTargetsIndex"},(f,S,G)=>{const te=Wd(S);Ln(t,te.target)&&(u=te,G.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=hc(e);return t.forEach(f=>{const S=So(f.path);a.push(u.put({targetId:o,path:S})),a.push(this.referenceDelegate.addReference(e,o,f))}),Lt.waitFor(a)}removeMatchingKeys(e,t,o){const a=hc(e);return Lt.forEach(t,u=>{const f=So(u.path);return Lt.waitFor([a.delete([o,f]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=hc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=hc(e);let u=Qi();return a.X({range:o,Y:!0},(f,S,G)=>{const te=as(f[1]),xe=new E(te);u=u.add(xe)}).next(()=>u)}containsKey(e,t){const o=So(t.path),a=IDBKeyRange.bound([o],[yo(o)],!1,!0);let u=0;return hc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,S],G,te)=>{0!==f&&(u++,te.done())}).next(()=>u>0)}le(e,t){return Yd(e).get(t).next(o=>o?Wd(o):null)}}function Yd(r){return Es(r,"targets")}function om(r){return Es(r,"targetGlobal")}function hc(r){return Es(r,"targetDocuments")}function Ml([r,e],[t,o]){const a=Fn(r,t);return 0===a?Fn(e,o):a}class Vf{constructor(e){this.Ln=e,this.buffer=new Er(Ml),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Ml(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sm{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Mn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ao(o)?Mn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Br(o)}yield t.Qn(3e5)}))}}class Eb{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Lt.resolve(ks.ct);const o=new Vf(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mn("LruGarbageCollector","Garbage collection skipped; disabled"),Lt.resolve(tm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Mn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,f,S,G,te;const xe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(dt=>(dt>this.params.maximumSequenceNumbersToCollect?(Mn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${dt}`),a=this.params.maximumSequenceNumbersToCollect):a=dt,f=Date.now(),this.nthSequenceNumber(e,a))).next(dt=>(o=dt,S=Date.now(),this.removeTargets(e,o,t))).next(dt=>(u=dt,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(dt=>(te=Date.now(),Fa()<=we.in.DEBUG&&Mn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-xe}ms\n\tDetermined least recently used ${a} in `+(S-f)+`ms\n\tRemoved ${u} targets in `+(G-S)+`ms\n\tRemoved ${dt} documents in `+(te-G)+`ms\nTotal Duration: ${te-xe}ms`),Lt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:dt})))}}class x_{constructor(e,t){this.db=e,this.garbageCollector=function w_(r,e){return new Eb(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return Xc(e,o)}removeReference(e,t,o){return Xc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Xc(e,t)}Xn(e,t){return function(o,a){let u=!1;return y_(o).Z(f=>Uf(o,f,a).next(S=>(S&&(u=!0),Lt.resolve(!S)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(f,S)=>{if(S<=t){const G=this.Xn(e,f).next(te=>{if(!te)return u++,o.getEntry(e,f).next(()=>(o.removeEntry(f,Qn.min()),hc(e).delete([0,So(f.path)])))});a.push(G)}}).next(()=>Lt.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Xc(e,t)}Yn(e,t){const o=hc(e);let a,u=ks.ct;return o.X({index:"documentTargetsIndex"},([f,S],{path:G,sequenceNumber:te})=>{0===f?(u!==ks.ct&&t(new E(as(a)),u),u=te,a=G):u=ks.ct}).next(()=>{u!==ks.ct&&t(new E(as(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xc(r,e){return hc(r).put((o=r.currentSequenceNumber,{targetId:0,path:So(e.path),sequenceNumber:o}));var o}class E_{constructor(){this.changes=new Sc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Lt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cb{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return od(e).put(o)}removeEntry(e,t,o){return od(e).delete(function(a,u){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Ja(u),f[f.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=Wr.newInvalidDocument(t);return od(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:Wr.newInvalidDocument(t)};return od(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(a,u)=>{o={document:this.ts(t,u),size:im(u)}}).next(()=>o)}getEntries(e,t){let o=Aa();return this.ns(e,t,(a,u)=>{const f=this.ts(a,u);o=o.insert(a,f)}).next(()=>o)}ss(e,t){let o=Aa(),a=new xr(E.comparator);return this.ns(e,t,(u,f)=>{const S=this.ts(u,f);o=o.insert(u,S),a=a.insert(u,im(f))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return Lt.resolve();let a=new Er(Db);t.forEach(G=>a=a.add(G));const u=IDBKeyRange.bound(qd(a.first()),qd(a.last())),f=a.getIterator();let S=f.getNext();return od(e).X({index:"documentKeyIndex",range:u},(G,te,xe)=>{const dt=E.fromSegments([...te.prefixPath,te.collectionGroup,te.documentId]);for(;S&&Db(S,dt)<0;)o(S,null),S=f.getNext();S&&S.isEqual(dt)&&(o(S,te),S=f.hasNext()?f.getNext():null),S?xe.G(qd(S)):xe.done()}).next(()=>{for(;S;)o(S,null),S=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,f=[u.popLast().toArray(),u.lastSegment(),Ja(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],S=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return od(e).j(IDBKeyRange.bound(f,S,!0)).next(G=>{let te=Aa();for(const xe of G){const dt=this.ts(E.fromSegments(xe.prefixPath.concat(xe.collectionGroup,xe.documentId)),xe);dt.isFoundDocument()&&(ka(t,dt)||a.has(dt.key))&&(te=te.insert(dt.key,dt))}return te})}getAllFromCollectionGroup(e,t,o,a){let u=Aa();const f=am(t,o),S=am(t,xn.max());return od(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,S,!0)},(G,te,xe)=>{const dt=this.ts(E.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);u=u.insert(dt.key,dt),u.size===a&&xe.done()}).next(()=>u)}newChangeBuffer(e){return new jf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hf(e).get("remoteDocumentGlobalKey").next(t=>(li(!!t),t))}Zn(e,t){return Hf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function _b(r,e){let t;if(e.document)t=Tf(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=E.fromSegments(e.noDocument.path),a=Cl(e.noDocument.readTime);t=Wr.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ni();{const o=E.fromSegments(e.unknownDocument.path),a=Cl(e.unknownDocument.version);t=Wr.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new ji(o[0],o[1]);return Qn.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Qn.min()))return o}return Wr.newInvalidDocument(e)}}function C_(r){return new Cb(r)}class jf extends E_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Sc(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new Er((u,f)=>Fn(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const S=this.us.get(u);if(t.push(this.os.removeEntry(e,u,S.readTime)),f.isValidDocument()){const G=Zu(this.os.serializer,f);a=a.add(u.path.popLast());const te=im(G);o+=te-S.size,t.push(this.os.addEntry(e,u,G))}else if(o-=S.size,this.trackRemovals){const G=Zu(this.os.serializer,f.convertToNoDocument(Qn.min()));t.push(this.os.addEntry(e,u,G))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),Lt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,f)=>{this.us.set(u,{size:f,readTime:o.get(u).readTime})}),o))}}function Hf(r){return Es(r,"remoteDocumentGlobal")}function od(r){return Es(r,"remoteDocumentsV14")}function qd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function am(r,e){const t=e.documentKey.path.toArray();return[r,Ja(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Db(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=Fn(t[u],o[u]),a)return a;return a=Fn(t.length,o.length),a||(a=Fn(t[t.length-2],o[o.length-2]),a||Fn(t[t.length-1],o[o.length-1]))}class Ib{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D_{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&yl(o.mutation,a,Bs.empty(),ji.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Qi()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Qi()){const a=kc();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let f=Bu();return u.forEach((S,G)=>{f=f.insert(S,G.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const o=kc();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Qi()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((f,S)=>{t.set(f,S)})})}computeViews(e,t,o,a){let u=Aa();const f=Xs(),S=Xs();return t.forEach((G,te)=>{const xe=o.get(te.key);a.has(te.key)&&(void 0===xe||xe.mutation instanceof Gc)?u=u.insert(te.key,te):void 0!==xe?(f.set(te.key,xe.mutation.getFieldMask()),yl(xe.mutation,te,xe.mutation.getFieldMask(),ji.now())):f.set(te.key,Bs.empty())}),this.recalculateAndSaveOverlays(e,u).next(G=>(G.forEach((te,xe)=>f.set(te,xe)),t.forEach((te,xe)=>{var dt;return S.set(te,new Ib(xe,null!==(dt=f.get(te))&&void 0!==dt?dt:null))}),S))}recalculateAndSaveOverlays(e,t){const o=Xs();let a=new xr((f,S)=>f-S),u=Qi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const S of f)S.keys().forEach(G=>{const te=t.get(G);if(null===te)return;let xe=o.get(G)||Bs.empty();xe=S.applyToLocalView(te,xe),o.set(G,xe);const dt=(a.get(S.batchId)||Qi()).add(G);a=a.insert(S.batchId,dt)})}).next(()=>{const f=[],S=a.getReverseIterator();for(;S.hasNext();){const G=S.getNext(),te=G.key,xe=G.value,dt=Vg();xe.forEach(Jt=>{if(!u.has(Jt)){const vn=ff(t.get(Jt),o.get(Jt));null!==vn&&dt.set(Jt,vn),u=u.add(Jt)}}),f.push(this.documentOverlayCache.saveOverlays(e,te,dt))}return Lt.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return E.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const f=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):Lt.resolve(kc());let S=-1,G=u;return f.next(te=>Lt.forEach(te,(xe,dt)=>(S<dt.largestBatchId&&(S=dt.largestBatchId),u.get(xe)?Lt.resolve():this.remoteDocumentCache.getEntry(e,xe).next(Jt=>{G=G.insert(xe,Jt)}))).next(()=>this.populateOverlays(e,te,u)).next(()=>this.computeViews(e,G,te,Qi())).next(xe=>({batchId:S,changes:cf(xe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new E(t)).next(o=>{let a=Bu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=Bu();return this.indexManager.getCollectionParents(e,a).next(f=>Lt.forEach(f,S=>{const G=(te=t,xe=S.child(a),new sa(xe,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,xe;return this.getDocumentsMatchingCollectionQuery(e,G,o).next(te=>{te.forEach((xe,dt)=>{u=u.insert(xe,dt)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((S,G)=>{const te=G.getKey();null===u.get(te)&&(u=u.insert(te,Wr.newInvalidDocument(te)))});let f=Bu();return u.forEach((S,G)=>{const te=a.get(S);void 0!==te&&yl(te.mutation,G,Bs.empty(),ji.now()),ka(t,G)&&(f=f.insert(S,G))}),f})}}class Tb{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Lt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Wo(o.createTime)}),Lt.resolve()}getNamedQuery(e,t){return Lt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:m_(o.bundledQuery),readTime:Wo(o.readTime)}),Lt.resolve();var o}}class p0{constructor(){this.overlays=new xr(E.comparator),this.ls=new Map}getOverlay(e,t){return Lt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=kc();return Lt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),Lt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),Lt.resolve()}getOverlaysForCollection(e,t,o){const a=kc(),u=t.length+1,f=new E(t.child("")),S=this.overlays.getIteratorFrom(f);for(;S.hasNext();){const G=S.getNext().value,te=G.getKey();if(!t.isPrefixOf(te.path))break;te.path.length===u&&G.largestBatchId>o&&a.set(G.getKey(),G)}return Lt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new xr((te,xe)=>te-xe);const f=this.overlays.getIterator();for(;f.hasNext();){const te=f.getNext().value;if(te.getKey().getCollectionGroup()===t&&te.largestBatchId>o){let xe=u.get(te.largestBatchId);null===xe&&(xe=kc(),u=u.insert(te.largestBatchId,xe)),xe.set(te.getKey(),te)}}const S=kc(),G=u.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((te,xe)=>S.set(te,xe)),!(S.size()>=a)););return Lt.resolve(S)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new vf(t,o));let u=this.ls.get(t);void 0===u&&(u=Qi(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class I_{constructor(){this.fs=new Er(Ns.ds),this.ws=new Er(Ns._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Ns(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Ns(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new E(new zi([])),o=new Ns(t,e),a=new Ns(t,e+1),u=[];return this.ws.forEachInRange([o,a],f=>{this.ys(f),u.push(f.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new E(new zi([])),o=new Ns(t,e),a=new Ns(t,e+1);let u=Qi();return this.ws.forEachInRange([o,a],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Ns(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Ns{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return E.comparator(e.key,t.key)||Fn(e.As,t.As)}static _s(e,t){return Fn(e.As,t.As)||E.comparator(e.key,t.key)}}class Mb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Er(Ns.ds)}checkEmpty(e){return Lt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const f=new ju(u,t,o,a);this.mutationQueue.push(f);for(const S of a)this.Rs=this.Rs.add(new Ns(S.key,u)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Lt.resolve(f)}lookupMutationBatch(e,t){return Lt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return Lt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Lt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ns(t,0),a=new Ns(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],f=>{const S=this.Ps(f.As);u.push(S)}),Lt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Er(Fn);return t.forEach(a=>{const u=new Ns(a,0),f=new Ns(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,f],S=>{o=o.add(S.As)})}),Lt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;E.isDocumentKey(u)||(u=u.child(""));const f=new Ns(new E(u),0);let S=new Er(Fn);return this.Rs.forEachWhile(G=>{const te=G.key.path;return!!o.isPrefixOf(te)&&(te.length===a&&(S=S.add(G.As)),!0)},f),Lt.resolve(this.Vs(S))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){li(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Lt.forEach(t.mutations,a=>{const u=new Ns(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Ns(t,0),a=this.Rs.firstAfterOrEqual(o);return Lt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Lt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zf{constructor(e){this.Ds=e,this.docs=new xr(E.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Lt.resolve(o?o.document.mutableCopy():Wr.newInvalidDocument(t))}getEntries(e,t){let o=Aa();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():Wr.newInvalidDocument(a))}),Lt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=Aa();const f=t.path,S=new E(f.child("")),G=this.docs.getIteratorFrom(S);for(;G.hasNext();){const{key:te,value:{document:xe}}=G.getNext();if(!f.isPrefixOf(te.path))break;te.path.length>f.length+1||si(In(xe),o)<=0||(a.has(xe.key)||ka(t,xe))&&(u=u.insert(xe.key,xe.mutableCopy()))}return Lt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){ni()}Cs(e,t){return Lt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new $f(this)}getSize(e){return Lt.resolve(this.size)}}class $f extends E_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),Lt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xu{constructor(e){this.persistence=e,this.xs=new Sc(t=>nn(t),Ln),this.lastRemoteSnapshotVersion=Qn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new I_,this.targetCount=0,this.Ms=Qc.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),Lt.resolve()}getLastRemoteSnapshotVersion(e){return Lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Lt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Lt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Lt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Qc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Lt.resolve()}updateTargetData(e,t){return this.Fn(t),Lt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Lt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((f,S)=>{S.sequenceNumber<=t&&null===o.get(S.targetId)&&(this.xs.delete(f),u.push(this.removeMatchingKeysForTargetId(e,S.targetId)),a++)}),Lt.waitFor(u).next(()=>a)}getTargetCount(e){return Lt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Lt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Lt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(f=>{u.push(a.markPotentiallyOrphaned(e,f))}),Lt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Lt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Lt.resolve(o)}containsKey(e,t){return Lt.resolve(this.ks.containsKey(t))}}class Ju{constructor(e,t){this.$s={},this.overlays={},this.Os=new ks(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xu(this),this.indexManager=new lo,this.remoteDocumentCache=new zf(o=>this.referenceDelegate.Ls(o)),this.serializer=new h_(t),this.qs=new Tb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Mb(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Mn("MemoryPersistence","Starting transaction:",e);const a=new Gf(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return Lt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Gf extends ys{constructor(e){super(),this.currentSequenceNumber=e}}class Sl{constructor(e){this.persistence=e,this.Qs=new I_,this.js=null}static zs(e){return new Sl(e)}get Ws(){if(this.js)return this.js;throw ni()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Lt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Lt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Lt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lt.forEach(this.Ws,o=>{const a=E.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,Qn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Lt.or([()=>Lt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class eh{constructor(e){this.serializer=e}O(e,t,o,a){const u=new ws("createOrUpgrade",t);var S;o<1&&a>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wc,{unique:!0}),S.createObjectStore("documentMutations"),Wf(e),function(S){S.createObjectStore("remoteDocuments")}(e));let f=Lt.resolve();return o<3&&a>=3&&(0!==o&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),Wf(e)),f=f.next(()=>function(S){const G=S.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qn.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",te)}(u))),o<4&&a>=4&&(0!==o&&(f=f.next(()=>function(S,G){return G.store("mutations").j().next(te=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wc,{unique:!0});const xe=G.store("mutations"),dt=te.map(Jt=>xe.put(Jt));return Lt.waitFor(dt)})}(e,u))),f=f.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(f=f.next(()=>this.Ys(u))),o<6&&a>=6&&(f=f.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(f=f.next(()=>this.Zs(u))),o<8&&a>=8&&(f=f.next(()=>this.ti(e,u))),o<9&&a>=9&&(f=f.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(f=f.next(()=>this.ei(u))),o<11&&a>=11&&(f=f.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(f=f.next(()=>{!function(S){const G=S.createObjectStore("documentOverlays",{keyPath:Ga});G.createIndex("collectionPathOverlayIndex",Ru,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Gl,{unique:!1})}(e)})),o<13&&a>=13&&(f=f.next(()=>function(S){const G=S.createObjectStore("remoteDocumentsV14",{keyPath:ul});G.createIndex("documentKeyIndex",hl),G.createIndex("collectionGroupIndex",Hl)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(f=f.next(()=>this.si(e,u))),o<15&&a>=15&&(f=f.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:zl}).createIndex("sequenceNumberIndex",$l,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Bh}).createIndex("documentKeyIndex",ml,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=im(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>Lt.forEach(a,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",f).next(S=>Lt.forEach(S,G=>{li(G.userId===u.userId);const te=Dl(this.serializer,G);return nm(e,u.userId,te).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((f,S)=>{const G=new zi(f),te=[0,So(G)];u.push(t.get(te).next(xe=>xe?Lt.resolve():t.put({targetId:0,path:So(G),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Lt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:xc});const o=t.store("collectionParents"),a=new id,u=f=>{if(a.add(f)){const S=f.lastSegment(),G=f.popLast();return o.put({collectionId:S,parent:So(G)})}};return t.store("remoteDocuments").X({Y:!0},(f,S)=>{const G=new zi(f);return u(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,S,G],te)=>{const xe=as(S);return u(xe.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=Wd(a),f=vb(this.serializer,u);return t.put(f)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,f)=>{const S=t.store("remoteDocumentsV14"),G=(te=f,te.document?new E(zi.fromString(te.document.name).popFirst(5)):te.noDocument?E.fromSegments(te.noDocument.path):te.unknownDocument?E.fromSegments(te.unknownDocument.path):ni()).path.toArray();var te;const xe={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(S.put(xe))}).next(()=>Lt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=C_(this.serializer),u=new Ju(Sl.zs,this.serializer.fe);return o.j().next(f=>{const S=new Map;return f.forEach(G=>{var te;let xe=null!==(te=S.get(G.userId))&&void 0!==te?te:Qi();Dl(this.serializer,G).keys().forEach(dt=>xe=xe.add(dt)),S.set(G.userId,xe)}),Lt.forEach(S,(G,te)=>{const xe=new bo(te),dt=Qh.de(this.serializer,xe),Jt=u.getIndexManager(xe),vn=Zd.de(xe,this.serializer,Jt,u.referenceDelegate);return new D_(a,vn,dt,Jt).recalculateAndSaveOverlaysForDocumentKeys(new Kl(t,ks.ct),G).next()})})}}function Wf(r){r.createObjectStore("targetDocuments",{keyPath:Lh}).createIndex("documentTargetsIndex",Ou,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ba,{unique:!0}),r.createObjectStore("targetGlobal")}const th="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qd{constructor(e,t,o,a,u,f,S,G,te,xe,dt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=f,this.document=S,this.ri=te,this.oi=xe,this.ui=dt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Jt=>Promise.resolve(),!Qd.D())throw new _(g.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x_(this,a),this.di=t+"main",this.serializer=new h_(G),this.wi=new xs(this.di,this.ui,new eh(this.serializer)),this.Bs=new rm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C_(this.serializer),this.qs=new f0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===xe&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _(g.FAILED_PRECONDITION,th);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ks(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,ke.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ke.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ao(e))return Mn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return cm(e).get("owner").next(t=>Lt.resolve(this.Ri(t)))}Pi(e){return Xd(e).delete(this.clientId)}bi(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=Es(o,"clientMetadata");return a.j().next(u=>{const f=e.Si(u,18e5),S=u.filter(G=>-1===f.indexOf(G));return Lt.forEach(S,G=>a.delete(G.clientId)).next(()=>S)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Lt.resolve(!0):cm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new _(g.FAILED_PRECONDITION,th);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xd(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Mn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Kl(t,ks.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Xd(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Zd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new b_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Mn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(f=this.ui)?Bc:14===f?Wl:13===f?Od:12===f?Wa:11===f?fl:void ni();var f;let S;return this.wi.runTransaction(e,a,u,G=>(S=new Kl(G,this.Os?this.Os.next():ks.ct),"readwrite-primary"===t?this.Ti(S).next(te=>!!te||this.Ei(S)).next(te=>{if(!te)throw wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new _(g.FAILED_PRECONDITION,qi);return o(S)}).next(te=>this.vi(S).next(()=>te)):this.Oi(S).next(()=>o(S)))).then(G=>(S.raiseOnCommittedEvent(),G))}Oi(e){return cm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _(g.FAILED_PRECONDITION,th)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cm(e).put("owner",t)}static D(){return xs.D()}Ai(e){const t=cm(e);return t.get("owner").next(o=>this.Ri(o)?(Mn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Lt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(wr(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Mn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return wr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){wr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cm(r){return Es(r,"owner")}function Xd(r){return Es(r,"clientMetadata")}function nh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class lm{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=Qi(),a=Qi();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new lm(e,t.fromCache,o,a)}}class T_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Lu(t))return Lt.resolve(null);let o=zs(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Xa(t,null,"F"),o=zs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const f=Qi(...u);return this.Ui.getDocuments(e,f).next(S=>this.indexManager.getMinOffset(e,o).next(G=>{const te=this.ji(t,S);return this.zi(t,te,f,G.readTime)?this.Ki(e,Xa(t,null,"F")):this.Wi(e,te,t,G)}))})))}Gi(e,t,o,a){return Lu(t)||a.isEqual(Qn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const f=this.ji(t,u);return this.zi(t,f,o,a)?this.Qi(e,t):(Fa()<=we.in.DEBUG&&Mn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bl(t)),this.Wi(e,f,t,Wt(a,-1)))})}ji(e,t){let o=new Er(Bg(e));return t.forEach((a,u)=>{ka(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return Fa()<=we.in.DEBUG&&Mn("QueryEngine","Using full collection scan to execute query:",bl(t)),this.Ui.getDocumentsMatchingQuery(e,t,xn.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}class Sb{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new xr(Fn),this.Yi=new Sc(u=>nn(u),Ln),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Kf(r,e,t,o){return new Sb(r,e,t,o)}function Zf(r,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,ke.Z)(function*(r,e){const t=U(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const f=[],S=[];let G=Qi();for(const te of a){f.push(te.batchId);for(const xe of te.mutations)G=G.add(xe.key)}for(const te of u){S.push(te.batchId);for(const xe of te.mutations)G=G.add(xe.key)}return t.localDocuments.getDocuments(o,G).next(te=>({er:te,removedBatchIds:f,addedBatchIds:S}))})})}),Yf.apply(this,arguments)}function Ab(r){const e=U(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dm(r,e,t){let o=Qi(),a=Qi();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let f=Aa();return t.forEach((S,G)=>{const te=u.get(S);G.isFoundDocument()!==te.isFoundDocument()&&(a=a.add(S)),G.isNoDocument()&&G.version.isEqual(Qn.min())?(e.removeEntry(S,G.readTime),f=f.insert(S,G)):!te.isValidDocument()||G.version.compareTo(te.version)>0||0===G.version.compareTo(te.version)&&te.hasPendingWrites?(e.addEntry(G),f=f.insert(S,G)):Mn("LocalStore","Ignoring outdated watch update for ",S,". Current version:",te.version," Watch version:",G.version)}),{nr:f,sr:a}})}function qf(r,e){const t=U(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Jd(r,e){const t=U(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,Lt.resolve(a)):t.Bs.allocateTargetId(o).next(f=>(a=new Yc(e,f,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function ad(r,e,t){return ih.apply(this,arguments)}function ih(){return ih=(0,ke.Z)(function*(r,e,t){const o=U(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,f=>o.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!ao(f))throw f;Mn("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),ih.apply(this,arguments)}function cd(r,e,t){const o=U(r);let a=Qn.min(),u=Qi();return o.persistence.runTransaction("Execute query","readonly",f=>function(S,G,te){const xe=U(S),dt=xe.Yi.get(te);return void 0!==dt?Lt.resolve(xe.Ji.get(dt)):xe.Bs.getTargetData(G,te)}(o,f,zs(e)).next(S=>{if(S)return a=S.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,S.targetId).next(G=>{u=G})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,t?a:Qn.min(),t?u:Qi())).next(S=>(S_(o,Lg(e),S),{documents:S,ir:u})))}function M_(r,e){const t=U(r),o=U(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(f=>f?f.target:null))}function Qf(r,e){const t=U(r),o=t.Xi.get(e)||Qn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Wt(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(S_(t,e,a),a))}function S_(r,e,t){let o=r.Xi.get(e)||Qn.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function A_(){return A_=(0,ke.Z)(function*(r,e,t,o){const a=U(r);let u=Qi(),f=Aa();for(const te of t){const xe=e.rr(te.metadata.name);te.document&&(u=u.add(xe));const dt=e.ur(te);dt.setReadTime(e.cr(te.metadata.readTime)),f=f.insert(xe,dt)}const S=a.Zi.newChangeBuffer({trackRemovals:!0}),G=yield Jd(a,(te=o,zs(gl(zi.fromString(`__bundle__/docs/${te}`)))));var te;return a.persistence.runTransaction("Apply bundle documents","readwrite",te=>dm(te,S,f).next(xe=>(S.apply(te),xe)).next(xe=>a.Bs.removeMatchingKeysForTargetId(te,G.targetId).next(()=>a.Bs.addMatchingKeys(te,u,G.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(te,xe.nr,xe.sr)).next(()=>xe.nr)))}),A_.apply(this,arguments)}function Rb(r,e){return ld.apply(this,arguments)}function ld(){return ld=(0,ke.Z)(function*(r,e,t=Qi()){const o=yield Jd(r,zs(m_(e.bundledQuery))),a=U(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const f=Wo(e.readTime);if(o.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(u,e);const S=o.withResumeToken(Jo.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(S.targetId,S),a.Bs.updateTargetData(u,S).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),ld.apply(this,arguments)}function O_(r,e){return`firestore_clients_${r}_${e}`}function dd(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function ud(r,e){return`firestore_targets_${r}_${e}`}class um{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(u=new _(a.error.code,a.error.message))),f?new um(e,t,a.state,u):(wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new _(o.error.code,o.error.message))),u?new eu(e,o.state,a):(wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=Yl();for(let f=0;a&&f<o.activeTargetIds.length;++f)a=Lc(o.activeTargetIds[f]),u=u.add(o.activeTargetIds[f]);return a?new hm(e,u):(wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xf(t.clientId,t.onlineState):(wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jf{constructor(){this.activeTargetIds=Yl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mm{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new xr(Fn),this.started=!1,this.yr=[];const f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=O_(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Jf),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(O_(e.persistenceKey,a));if(u){const f=hm.ar(a,u);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(ud(this.persistenceKey,e));if(o){const a=eu.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ud(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mn("SharedClientState","READ",e,t),t}setItem(e,t){Mn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Mn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let f=ks.ct;if(null!=u)try{const S=JSON.parse(u);li("number"==typeof S),f=S}catch(S){wr("SharedClientState","Failed to read sequence number from WebStorage",S)}return f}(o.newValue);a!==ks.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new um(this.currentUser,e,t,o),u=dd(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=dd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=ud(this.persistenceKey,e),u=new eu(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return hm.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return um.ar(new bo(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return eu.ar(a,t)}br(e){return Xf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Mn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),f=[],S=[];return u.forEach(G=>{a.has(G)||f.push(G)}),a.forEach(G=>{u.has(G)||S.push(G)}),this.syncEngine.Wr(f,S).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Yl();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class ep{constructor(){this.Hr=new Jf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tp{Yr(e){}shutdown(){}}class tu{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Mn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rh=null;function R_(){return null===rh?rh=268435456+Math.round(2147483648*Math.random()):rh++,"0x"+rh.toString(16)}const np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $s="WebChannelConnection";class P_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const f=R_(),S=this.To(e,t);Mn("RestConnection",`Sending RPC '${e}' ${f}:`,S,o);const G={};return this.Eo(G,a,u),this.Ao(e,S,G,o).then(te=>(Mn("RestConnection",`Received RPC '${e}' ${f}: `,te),te),te=>{throw Ms("RestConnection",`RPC '${e}' ${f} failed with error: `,te,"url: ",S,"request:",o),te})}vo(e,t,o,a,u,f){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+os,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${np[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=R_();return new Promise((f,S)=>{const G=new bc;G.setWithCredentials(!0),G.listenOnce(Zs.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Bo.NO_ERROR:const xe=G.getResponseJson();Mn($s,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(xe)),f(xe);break;case Bo.TIMEOUT:Mn($s,`RPC '${e}' ${u} timed out`),S(new _(g.DEADLINE_EXCEEDED,"Request time out"));break;case Bo.HTTP_ERROR:const dt=G.getStatus();if(Mn($s,`RPC '${e}' ${u} failed with status:`,dt,"response text:",G.getResponseText()),dt>0){let Jt=G.getResponseJson();Array.isArray(Jt)&&(Jt=Jt[0]);const vn=Jt?.error;if(vn&&vn.status&&vn.message){const Bn=function(Jn){const oi=Jn.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(oi)>=0?oi:g.UNKNOWN}(vn.status);S(new _(Bn,vn.message))}else S(new _(g.UNKNOWN,"Server responded with status "+G.getStatus()))}else S(new _(g.UNAVAILABLE,"Connection failed."));break;default:ni()}}finally{Mn($s,`RPC '${e}' ${u} completed.`)}});const te=JSON.stringify(a);Mn($s,`RPC '${e}' ${u} sending request:`,a),G.send(t,"POST",te,o,15)})}Ro(e,t,o){const a=R_(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=$r(),S=ya(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},te=this.longPollingOptions.timeoutSeconds;void 0!==te&&(G.longPollingTimeout=Math.round(1e3*te)),this.useFetchStreams&&(G.xmlHttpFactory=new sc({})),this.Eo(G.initMessageHeaders,t,o),G.encodeInitMessageHeaders=!0;const xe=u.join("");Mn($s,`Creating RPC '${e}' stream ${a}: ${xe}`,G);const dt=f.createWebChannel(xe,G);let Jt=!1,vn=!1;const Bn=new nu({ro:oi=>{vn?Mn($s,`Not sending because RPC '${e}' stream ${a} is closed:`,oi):(Jt||(Mn($s,`Opening RPC '${e}' stream ${a} transport.`),dt.open(),Jt=!0),Mn($s,`RPC '${e}' stream ${a} sending:`,oi),dt.send(oi))},oo:()=>dt.close()}),Jn=(oi,Xi,Vr)=>{oi.listen(Xi,$i=>{try{Vr($i)}catch(ls){setTimeout(()=>{throw ls},0)}})};return Jn(dt,wa.EventType.OPEN,()=>{vn||Mn($s,`RPC '${e}' stream ${a} transport opened.`)}),Jn(dt,wa.EventType.CLOSE,()=>{vn||(vn=!0,Mn($s,`RPC '${e}' stream ${a} transport closed`),Bn.wo())}),Jn(dt,wa.EventType.ERROR,oi=>{vn||(vn=!0,Ms($s,`RPC '${e}' stream ${a} transport errored:`,oi),Bn.wo(new _(g.UNAVAILABLE,"The operation could not be completed")))}),Jn(dt,wa.EventType.MESSAGE,oi=>{var Xi;if(!vn){const Vr=oi.data[0];li(!!Vr);const ls=Vr.error||(null===(Xi=Vr[0])||void 0===Xi?void 0:Xi.error);if(ls){Mn($s,`RPC '${e}' stream ${a} received error:`,ls);const Vo=ls.status;let ko=function(vc){const ku=Go[vc];if(void 0!==ku)return Qg(ku)}(Vo),pa=ls.message;void 0===ko&&(ko=g.INTERNAL,pa="Unknown error status: "+Vo+" with message "+ls.message),vn=!0,Bn.wo(new _(ko,pa)),dt.close()}else Mn($s,`RPC '${e}' stream ${a} received:`,Vr),Bn._o(Vr)}}),Jn(S,rs.STAT_EVENT,oi=>{oi.stat===Ts.PROXY?Mn($s,`RPC '${e}' stream ${a} detected buffering proxy`):oi.stat===Ts.NOPROXY&&Mn($s,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Bn.fo()},0),Bn}}function ip(){return typeof window<"u"?window:null}function fm(){return typeof document<"u"?document:null}function oh(r){return new hb(r,!0)}class rp{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&Mn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F_{constructor(e,t,o,a,u,f,S,G){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=S,this.listener=G,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new rp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ke.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ke.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,ke.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===g.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===g.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new _(g.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,ke.Z)(function*(){e.state=0,e.start()}))}tu(e){return Mn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Mn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pb extends F_{constructor(e,t,o,a,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,f),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function s_(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:ni(),a=e.targetChange.targetIds||[],u=function(G,te){return G.useProto3Json?(li(void 0===te||"string"==typeof te),Jo.fromBase64String(te||"")):(li(void 0===te||te instanceof Uint8Array),Jo.fromUint8Array(te||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,S=f&&function(G){const te=void 0===G.code?g.UNKNOWN:Qg(G.code);return new _(te,G.message||"")}(f);t=new $u(o,a,u,S||null)}else if("documentChange"in e){const o=e.documentChange,a=Ac(r,o.document.name),u=Wo(o.document.updateTime),f=o.document.createTime?Wo(o.document.createTime):Qn.min(),S=new _r({mapValue:{fields:o.document.fields}}),G=Wr.newFoundDocument(a,u,f,S);t=new zu(o.targetIds||[],o.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const o=e.documentDelete,a=Ac(r,o.document),u=o.readTime?Wo(o.readTime):Qn.min(),f=Wr.newNoDocument(a,u);t=new zu([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,a=Ac(r,o.document);t=new zu([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ni();{const o=e.filter,{count:a=0,unchangedNames:u}=o,f=new qg(a,u);t=new Gh(o.targetId,f)}}var G;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return Qn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Qn.min():u.readTime?Wo(u.readTime):Qn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Kc(this.serializer),t.addTarget=function(a,u){let f;const S=u.target;if(f=ii(S)?{documents:a_(a,S)}:{query:Sf(a,S)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Gu(a,u.resumeToken);const G=Wh(a,u.expectedCount);null!==G&&(f.expectedCount=G)}else if(u.snapshotVersion.compareTo(Qn.min())>0){f.readTime=ed(a,u.snapshotVersion.toTimestamp());const G=Wh(a,u.expectedCount);null!==G&&(f.expectedCount=G)}return f}(this.serializer,e);const o=function Zc(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ni()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Kc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fb extends F_{constructor(e,t,o,a,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,f),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(li(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function mb(r,e){return r&&r.length>0?(li(void 0!==e),r.map(t=>function(o,a){let u=Wo(o.updateTime?o.updateTime:a);return u.isEqual(Qn.min())&&(u=Wo(a)),new mf(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Wo(e.commitTime);return this.listener.cu(o,t)}return li(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>dc(this.serializer,o))};this.Wo(t)}}class N_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new _(g.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _(g.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.vo(e,t,o,u,f,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _(g.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class L_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(wr(t),this.mu=!1):Mn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g0{constructor(e,t,o,a,u){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(S=>{o.enqueueAndForget((0,ke.Z)(function*(){var G;Jc(f)&&(Mn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,ke.Z)(function*(te){const xe=U(te);xe.vu.add(4),yield ah(xe),xe.bu.set("Unknown"),xe.vu.delete(4),yield sh(xe)}),function(te){return G.apply(this,arguments)})(f))}))}),this.bu=new L_(o,a)}}function sh(r){return B_.apply(this,arguments)}function B_(){return B_=(0,ke.Z)(function*(r){if(Jc(r))for(const e of r.Ru)yield e(!0)}),B_.apply(this,arguments)}function ah(r){return pm.apply(this,arguments)}function pm(){return pm=(0,ke.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),pm.apply(this,arguments)}function ch(r,e){const t=U(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bm(t)?vm(t):fd(t).Ko()&&_m(t,e))}function gm(r,e){const t=U(r),o=fd(t);t.Au.delete(e),o.Ko()&&lh(t,e),0===t.Au.size&&(o.Ko()?o.jo():Jc(t)&&t.bu.set("Unknown"))}function _m(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fd(r).su(e)}function lh(r,e){r.Vu.qt(e),fd(r).iu(e)}function vm(r){r.Vu=new Cf({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),fd(r).start(),r.bu.gu()}function bm(r){return Jc(r)&&!fd(r).Uo()&&r.Au.size>0}function Jc(r){return 0===U(r).vu.size}function Yi(r){r.Vu=void 0}function U_(r){return ym.apply(this,arguments)}function ym(){return ym=(0,ke.Z)(function*(r){r.Au.forEach((e,t)=>{_m(r,e)})}),ym.apply(this,arguments)}function _0(r,e){return op.apply(this,arguments)}function op(){return op=(0,ke.Z)(function*(r,e){Yi(r),bm(r)?(r.bu.Iu(e),vm(r)):r.bu.set("Unknown")}),op.apply(this,arguments)}function V_(r,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,ke.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof $u&&2===e.state&&e.cause)try{yield(o=(0,ke.Z)(function*(a,u){const f=u.cause;for(const S of u.targetIds)a.Au.has(S)&&(yield a.remoteSyncer.rejectListen(S,f),a.Au.delete(S),a.Vu.removeTarget(S))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){Mn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wm(r,o)}else if(e instanceof zu?r.Vu.Ht(e):e instanceof Gh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Qn.min()))try{const o=yield Ab(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const f=a.Vu.ce(u);return f.targetChanges.forEach((S,G)=>{if(S.resumeToken.approximateByteSize()>0){const te=a.Au.get(G);te&&a.Au.set(G,te.withResumeToken(S.resumeToken,u))}}),f.targetMismatches.forEach((S,G)=>{const te=a.Au.get(S);if(!te)return;a.Au.set(S,te.withResumeToken(Jo.EMPTY_BYTE_STRING,te.snapshotVersion)),lh(a,S);const xe=new Yc(te.target,S,G,te.sequenceNumber);_m(a,xe)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(o){Mn("RemoteStore","Failed to raise snapshot:",o),yield wm(r,o)}var o}),sp.apply(this,arguments)}function wm(r,e,t){return xm.apply(this,arguments)}function xm(){return xm=(0,ke.Z)(function*(r,e,t){if(!ao(e))throw e;r.vu.add(1),yield ah(r),r.bu.set("Offline"),t||(t=()=>Ab(r.localStore)),r.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){Mn("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield sh(r)}))}),xm.apply(this,arguments)}function j_(r,e){return e().catch(t=>wm(r,t,e))}function hd(r){return ap.apply(this,arguments)}function ap(){return ap=(0,ke.Z)(function*(r){const e=U(r),t=Oc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Nb(e);)try{const a=yield qf(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,v0(e,a)}catch(a){yield wm(e,a)}cp(e)&&lp(e)}),ap.apply(this,arguments)}function Nb(r){return Jc(r)&&r.Eu.length<10}function v0(r,e){r.Eu.push(e);const t=Oc(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function cp(r){return Jc(r)&&!Oc(r).Uo()&&r.Eu.length>0}function lp(r){Oc(r).start()}function kl(r){return Al.apply(this,arguments)}function Al(){return Al=(0,ke.Z)(function*(r){Oc(r).hu()}),Al.apply(this,arguments)}function H_(r){return dp.apply(this,arguments)}function dp(){return dp=(0,ke.Z)(function*(r){const e=Oc(r);for(const t of r.Eu)e.uu(t.mutations)}),dp.apply(this,arguments)}function Em(r,e,t){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,ke.Z)(function*(r,e,t){const o=r.Eu.shift(),a=_f.from(o,e,t);yield j_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield hd(r)}),Ol.apply(this,arguments)}function up(r,e){return md.apply(this,arguments)}function md(){return md=(0,ke.Z)(function*(r,e){var t;e&&Oc(r).ou&&(yield(t=(0,ke.Z)(function*(o,a){if(yf(u=a.code)&&u!==g.ABORTED){const f=o.Eu.shift();Oc(o).Qo(),yield j_(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield hd(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),cp(r)&&lp(r)}),md.apply(this,arguments)}function hp(r,e){return dh.apply(this,arguments)}function dh(){return dh=(0,ke.Z)(function*(r,e){const t=U(r);t.asyncQueue.verifyOperationInProgress(),Mn("RemoteStore","RemoteStore received new credentials");const o=Jc(t);t.vu.add(3),yield ah(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield sh(t)}),dh.apply(this,arguments)}function uh(r,e){return hh.apply(this,arguments)}function hh(){return hh=(0,ke.Z)(function*(r,e){const t=U(r);e?(t.vu.delete(2),yield sh(t)):e||(t.vu.add(2),yield ah(t),t.bu.set("Unknown"))}),hh.apply(this,arguments)}function fd(r){return r.Su||(r.Su=function(e,t,o){const a=U(e);return a.fu(),new Pb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:U_.bind(null,r),ao:_0.bind(null,r),nu:V_.bind(null,r)}),r.Ru.push(function(){var e=(0,ke.Z)(function*(t){t?(r.Su.Qo(),bm(r)?vm(r):r.bu.set("Unknown")):(yield r.Su.stop(),Yi(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Oc(r){return r.Du||(r.Du=function(e,t,o){const a=U(e);return a.fu(),new Fb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:kl.bind(null,r),ao:up.bind(null,r),au:H_.bind(null,r),cu:Em.bind(null,r)}),r.Ru.push(function(){var e=(0,ke.Z)(function*(t){t?(r.Du.Qo(),yield hd(r)):(yield r.Du.stop(),r.Eu.length>0&&(Mn("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class mp{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new O,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,o,a,u){const f=Date.now()+o,S=new mp(e,t,f,a,u);return S.start(o),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ru(r,e){if(wr("AsyncQueue",`${e}: ${r}`),ao(r))return new _(g.UNAVAILABLE,`${e}: ${r}`);throw r}class ou{constructor(e){this.comparator=e?(t,o)=>e(t,o)||E.comparator(t.key,o.key):(t,o)=>E.comparator(t.key,o.key),this.keyedMap=Bu(),this.sortedSet=new xr(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ou;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class fp{constructor(){this.Cu=new xr(E.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ni():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class su{constructor(e,t,o,a,u,f,S,G,te){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=S,this.excludesMetadataChanges=G,this.hasCachedResults=te}static fromInitialDocuments(e,t,o,a,u){const f=[];return t.forEach(S=>{f.push({type:0,doc:S})}),new su(e,t,ou.emptySet(t),f,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class Lb{constructor(){this.Nu=void 0,this.listeners=[]}}class Bb{constructor(){this.queries=new Sc(e=>Hc(e),vl),this.onlineState="Unknown",this.ku=new Set}}function pp(r,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,ke.Z)(function*(r,e){const t=U(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new Lb),a)try{u.Nu=yield t.onListen(o)}catch(f){const S=ru(f,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(S)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&_p(t)}),Cm.apply(this,arguments)}function Dm(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,ke.Z)(function*(r,e){const t=U(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const f=u.listeners.indexOf(e);f>=0&&(u.listeners.splice(f,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),gp.apply(this,arguments)}function Ub(r,e){const t=U(r);let o=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const S of f.listeners)S.$u(a)&&(o=!0);f.Nu=a}}o&&_p(t)}function Ha(r,e,t){const o=U(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function _p(r){r.ku.forEach(e=>{e.next()})}class vp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new su(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class b0{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Im{constructor(e){this.serializer=e}rr(e){return Ac(this.serializer,e)}ur(e){return e.metadata.exists?Tf(this.serializer,e.document,!1):Wr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wo(e)}}class z_{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=zi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Im(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const f of a.metadata.queries){const S=(t.get(f)||Qi()).add(u);t.set(f,S)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function k_(r,e,t,o){return A_.apply(this,arguments)}(e.localStore,new Im(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield Rb(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class G_{constructor(e){this.key=e}}class W_{constructor(e){this.key=e}}class bp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qi(),this.mutatedKeys=Qi(),this.tc=Bg(e),this.ec=new ou(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new fp,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,f=a,S=!1;const G="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,te="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((xe,dt)=>{const Jt=a.get(xe),vn=ka(this.query,dt)?dt:null,Bn=!!Jt&&this.mutatedKeys.has(Jt.key),Jn=!!vn&&(vn.hasLocalMutations||this.mutatedKeys.has(vn.key)&&vn.hasCommittedMutations);let oi=!1;Jt&&vn?Jt.data.isEqual(vn.data)?Bn!==Jn&&(o.track({type:3,doc:vn}),oi=!0):this.rc(Jt,vn)||(o.track({type:2,doc:vn}),oi=!0,(G&&this.tc(vn,G)>0||te&&this.tc(vn,te)<0)&&(S=!0)):!Jt&&vn?(o.track({type:0,doc:vn}),oi=!0):Jt&&!vn&&(o.track({type:1,doc:Jt}),oi=!0,(G||te)&&(S=!0)),oi&&(vn?(f=f.add(vn),u=Jn?u.add(xe):u.delete(xe)):(f=f.delete(xe),u=u.delete(xe)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const xe="F"===this.query.limitType?f.last():f.first();f=f.delete(xe.key),u=u.delete(xe.key),o.track({type:1,doc:xe})}return{ec:f,ic:o,zi:S,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((te,xe)=>function(dt,Jt){const vn=Bn=>{switch(Bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ni()}};return vn(dt)-vn(Jt)}(te.type,xe.type)||this.tc(te.doc,xe.doc)),this.oc(o);const f=t?this.uc():[],S=0===this.Zu.size&&this.current?1:0,G=S!==this.Xu;return this.Xu=S,0!==u.length||G?{snapshot:new su(this.query,e.ec,a,u,e.mutatedKeys,0===S,G,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qi(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new W_(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new G_(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Qi();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return su.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vb{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class jb{constructor(e){this.key=e,this.fc=!1}}class yp{constructor(e,t,o,a,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Sc(S=>Hc(S),vl),this._c=new Map,this.mc=new Set,this.gc=new xr(E.comparator),this.yc=new Map,this.Ic=new I_,this.Tc={},this.Ec=new Map,this.Ac=Qc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Hb(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,ke.Z)(function*(r,e){const t=pd(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const f=yield Jd(t.localStore,zs(e)),S=t.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,a=yield xp(t,e,o,"current"===S,f.resumeToken),t.isPrimaryClient&&ch(t.remoteStore,f)}return a}),wp.apply(this,arguments)}function xp(r,e,t,o,a){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ke.Z)(function*(r,e,t,o,a){r.Rc=(dt,Jt,vn)=>{return(Bn=(0,ke.Z)(function*(Jn,oi,Xi,Vr){let $i=oi.view.sc(Xi);$i.zi&&($i=yield cd(Jn.localStore,oi.query,!1).then(({documents:ko})=>oi.view.sc(ko,$i)));const ls=Vr&&Vr.targetChanges.get(oi.targetId),Vo=oi.view.applyChanges($i,Jn.isPrimaryClient,ls);return fh(Jn,oi.targetId,Vo.cc),Vo.snapshot}),function(Jn,oi,Xi,Vr){return Bn.apply(this,arguments)})(r,dt,Jt,vn);var Bn};const u=yield cd(r.localStore,e,!0),f=new bp(e,u.ir),S=f.sc(u.documents),G=Wc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),te=f.applyChanges(S,r.isPrimaryClient,G);fh(r,t,te.cc);const xe=new Vb(e,t,f);return r.wc.set(e,xe),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),te.snapshot}),Ep.apply(this,arguments)}function zb(r,e){return tc.apply(this,arguments)}function tc(){return tc=(0,ke.Z)(function*(r,e){const t=U(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!vl(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ad(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),gm(t.remoteStore,o.targetId),cu(t,o.targetId)}).catch(Br))):(cu(t,o.targetId),yield ad(t.localStore,o.targetId,!0))}),tc.apply(this,arguments)}function Dp(){return Dp=(0,ke.Z)(function*(r,e,t){const o=Lp(r);try{const a=yield function(u,f){const S=U(u),G=ji.now(),te=f.reduce((Jt,vn)=>Jt.add(vn.key),Qi());let xe,dt;return S.persistence.runTransaction("Locally write mutations","readwrite",Jt=>{let vn=Aa(),Bn=Qi();return S.Zi.getEntries(Jt,te).next(Jn=>{vn=Jn,vn.forEach((oi,Xi)=>{Xi.isValidDocument()||(Bn=Bn.add(oi))})}).next(()=>S.localDocuments.getOverlayedDocuments(Jt,vn)).next(Jn=>{xe=Jn;const oi=[];for(const Xi of f){const Vr=lb(Xi,xe.get(Xi.key).overlayedDocument);null!=Vr&&oi.push(new Gc(Xi.key,Vr,Qa(Vr.value.mapValue),es.exists(!0)))}return S.mutationQueue.addMutationBatch(Jt,G,oi,f)}).next(Jn=>{dt=Jn;const oi=Jn.applyToLocalDocumentSet(xe,Bn);return S.documentOverlayCache.saveOverlays(Jt,Jn.batchId,oi)})}).then(()=>({batchId:dt.batchId,changes:cf(xe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,f,S){let G=u.Tc[u.currentUser.toKey()];G||(G=new xr(Fn)),G=G.insert(f,S),u.Tc[u.currentUser.toKey()]=G}(o,a.batchId,t),yield el(o,a.changes),yield hd(o.remoteStore)}catch(a){const u=ru(a,"Failed to persist write");t.reject(u)}}),Dp.apply(this,arguments)}function Ip(r,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ke.Z)(function*(r,e){const t=U(r);try{const o=yield function Ob(r,e){const t=U(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const S=[];e.targetChanges.forEach((xe,dt)=>{const Jt=a.get(dt);if(!Jt)return;S.push(t.Bs.removeMatchingKeys(u,xe.removedDocuments,dt).next(()=>t.Bs.addMatchingKeys(u,xe.addedDocuments,dt)));let vn=Jt.withSequenceNumber(u.currentSequenceNumber);var Bn,Jn,oi;null!==e.targetMismatches.get(dt)?vn=vn.withResumeToken(Jo.EMPTY_BYTE_STRING,Qn.min()).withLastLimboFreeSnapshotVersion(Qn.min()):xe.resumeToken.approximateByteSize()>0&&(vn=vn.withResumeToken(xe.resumeToken,o)),a=a.insert(dt,vn),Jn=vn,oi=xe,(0===(Bn=Jt).resumeToken.approximateByteSize()||Jn.snapshotVersion.toMicroseconds()-Bn.snapshotVersion.toMicroseconds()>=3e8||oi.addedDocuments.size+oi.modifiedDocuments.size+oi.removedDocuments.size>0)&&S.push(t.Bs.updateTargetData(u,vn))});let G=Aa(),te=Qi();if(e.documentUpdates.forEach(xe=>{e.resolvedLimboDocuments.has(xe)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(u,xe))}),S.push(dm(u,f,e.documentUpdates).next(xe=>{G=xe.nr,te=xe.sr})),!o.isEqual(Qn.min())){const xe=t.Bs.getLastRemoteSnapshotVersion(u).next(dt=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));S.push(xe)}return Lt.waitFor(S).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,G,te)).next(()=>G)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const f=t.yc.get(u);f&&(li(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?li(f.fc):a.removedDocuments.size>0&&(li(f.fc),f.fc=!1))}),yield el(t,o,e)}catch(o){yield Br(o)}}),Tp.apply(this,arguments)}function Mp(r,e,t){const o=U(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,f)=>{const S=f.view.Mu(e);S.snapshot&&a.push(S.snapshot)}),function(u,f){const S=U(u);S.onlineState=f;let G=!1;S.queries.forEach((te,xe)=>{for(const dt of xe.listeners)dt.Mu(f)&&(G=!0)}),G&&_p(S)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function K_(r,e,t){return au.apply(this,arguments)}function au(){return au=(0,ke.Z)(function*(r,e,t){const o=U(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let f=new xr(E.comparator);f=f.insert(u,Wr.newNoDocument(u,Qn.min()));const S=Qi().add(u),G=new xl(Qn.min(),new Map,new xr(Fn),f,S);yield Ip(o,G),o.gc=o.gc.remove(u),o.yc.delete(e),kp(o)}else yield ad(o.localStore,e,!1).then(()=>cu(o,e,t)).catch(Br)}),au.apply(this,arguments)}function Sp(r,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,ke.Z)(function*(r,e){const t=U(r),o=e.batch.batchId;try{const a=yield function kb(r,e){const t=U(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,S,G,te){const xe=G.batch,dt=xe.keys();let Jt=Lt.resolve();return dt.forEach(vn=>{Jt=Jt.next(()=>te.getEntry(S,vn)).next(Bn=>{const Jn=G.docVersions.get(vn);li(null!==Jn),Bn.version.compareTo(Jn)<0&&(xe.applyToRemoteDocument(Bn,G),Bn.isValidDocument()&&(Bn.setReadTime(G.commitVersion),te.addEntry(Bn)))})}),Jt.next(()=>f.mutationQueue.removeMutationBatch(S,xe))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let S=Qi();for(let G=0;G<f.mutationResults.length;++G)f.mutationResults[G].transformResults.length>0&&(S=S.add(f.batch.mutations[G].key));return S}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);fc(t,o,null),mh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield el(t,a)}catch(a){yield Br(a)}}),Z_.apply(this,arguments)}function Y_(r,e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ke.Z)(function*(r,e,t){const o=U(r);try{const a=yield function(u,f){const S=U(u);return S.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let te;return S.mutationQueue.lookupMutationBatch(G,f).next(xe=>(li(null!==xe),te=xe.keys(),S.mutationQueue.removeMutationBatch(G,xe))).next(()=>S.mutationQueue.performConsistencyCheck(G)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(G,te,f)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,te)).next(()=>S.localDocuments.getDocuments(G,te))})}(o.localStore,e);fc(o,e,t),mh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield el(o,a)}catch(a){yield Br(a)}}),Tm.apply(this,arguments)}function Mm(){return Mm=(0,ke.Z)(function*(r,e){const t=U(r);Jc(t.remoteStore)||Mn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const f=U(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>f.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=ru(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Mm.apply(this,arguments)}function mh(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function fc(r,e,t){const o=U(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function cu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||Q_(r,o)})}function Q_(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(gm(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),kp(r))}function fh(r,e,t){for(const o of t)o instanceof G_?(r.Ic.addReference(o.key,e),$b(r,o)):o instanceof W_?(Mn("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||Q_(r,o.key)):ni()}function $b(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(Mn("SyncEngine","New document in limbo: "+t),r.mc.add(o),kp(r))}function kp(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new E(zi.fromString(e)),o=r.Ac.next();r.yc.set(o,new jb(t)),r.gc=r.gc.insert(t,o),ch(r.remoteStore,new Yc(zs(gl(t.path)),o,"TargetPurposeLimboResolution",ks.ct))}}function el(r,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,ke.Z)(function*(r,e,t){const o=U(r),a=[],u=[],f=[];var S;o.wc.isEmpty()||(o.wc.forEach((S,G)=>{f.push(o.Rc(G,e,t).then(te=>{if((te||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,te?.fromCache?"not-current":"current"),te){a.push(te);const xe=lm.Li(G.targetId,te);u.push(xe)}}))}),yield Promise.all(f),o.dc.nu(a),yield(S=(0,ke.Z)(function*(G,te){const xe=U(G);try{yield xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",dt=>Lt.forEach(te,Jt=>Lt.forEach(Jt.Fi,vn=>xe.persistence.referenceDelegate.addReference(dt,Jt.targetId,vn)).next(()=>Lt.forEach(Jt.Bi,vn=>xe.persistence.referenceDelegate.removeReference(dt,Jt.targetId,vn)))))}catch(dt){if(!ao(dt))throw dt;Mn("LocalStore","Failed to update sequence numbers: "+dt)}for(const dt of te){const Jt=dt.targetId;if(!dt.fromCache){const vn=xe.Ji.get(Jt),Jn=vn.withLastLimboFreeSnapshotVersion(vn.snapshotVersion);xe.Ji=xe.Ji.insert(Jt,Jn)}}}),function(G,te){return S.apply(this,arguments)})(o.localStore,u))}),X_.apply(this,arguments)}function J_(r,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,ke.Z)(function*(r,e){const t=U(r);if(!t.currentUser.isEqual(e)){Mn("SyncEngine","User change. New user:",e.toKey());const o=yield Zf(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(S=>{S.reject(new _(g.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield el(t,o.er)}var a}),Ap.apply(this,arguments)}function Sm(r,e){const t=U(r),o=t.yc.get(e);if(o&&o.fc)return Qi().add(o.key);{let a=Qi();const u=t._c.get(e);if(!u)return a;for(const f of u){const S=t.wc.get(f);a=a.unionWith(S.view.nc)}return a}}function ph(r,e){return lu.apply(this,arguments)}function lu(){return lu=(0,ke.Z)(function*(r,e){const t=U(r),o=yield cd(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&fh(t,e.targetId,a.cc),a}),lu.apply(this,arguments)}function y0(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,ke.Z)(function*(r,e){const t=U(r);return Qf(t.localStore,e).then(o=>el(t,o))}),Op.apply(this,arguments)}function km(r,e,t,o){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,ke.Z)(function*(r,e,t,o){const a=U(r),u=yield function(f,S){const G=U(f),te=U(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",xe=>te.Sn(xe,S).next(dt=>dt?G.localDocuments.getDocuments(xe,dt):Lt.resolve(null)))}(a.localStore,e);var S;null!==u?("pending"===t?yield hd(a.remoteStore):"acknowledged"===t||"rejected"===t?(fc(a,e,o||null),mh(a,e),S=e,U(U(a.localStore).mutationQueue).Cn(S)):ni(),yield el(a,u)):Mn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rp.apply(this,arguments)}function Pp(){return Pp=(0,ke.Z)(function*(r,e){const t=U(r);if(pd(t),Lp(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield Am(t,o.toArray());t.vc=!0,yield uh(t.remoteStore,!0);for(const u of a)ch(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,f)=>{t.sharedClientState.isLocalQueryTarget(f)?o.push(f):a=a.then(()=>(cu(t,f),ad(t.localStore,f,!0))),gm(t.remoteStore,f)}),yield a,yield Am(t,o),function(u){const f=U(u);f.yc.forEach((S,G)=>{gm(f.remoteStore,G)}),f.Ic.Ts(),f.yc=new Map,f.gc=new xr(E.comparator)}(t),t.vc=!1,yield uh(t.remoteStore,!1)}}),Pp.apply(this,arguments)}function Am(r,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ke.Z)(function*(r,e,t){const o=U(r),a=[],u=[];for(const f of e){let S;const G=o._c.get(f);if(G&&0!==G.length){S=yield Jd(o.localStore,zs(G[0]));for(const te of G){const xe=o.wc.get(te),dt=yield ph(o,xe);dt.snapshot&&u.push(dt.snapshot)}}else{const te=yield M_(o.localStore,f);S=yield Jd(o.localStore,te),yield xp(o,du(te),f,!1,S.resumeToken)}a.push(S)}return o.dc.nu(u),a}),Fp.apply(this,arguments)}function du(r){return Bd(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Wb(r){const e=U(r);return U(U(e.localStore).persistence).$i()}function ev(r,e,t,o){return Om.apply(this,arguments)}function Om(){return Om=(0,ke.Z)(function*(r,e,t,o){const a=U(r);if(a.vc)return void Mn("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const f=yield Qf(a.localStore,Lg(u[0])),S=xl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Jo.EMPTY_BYTE_STRING);yield el(a,f,S);break}case"rejected":yield ad(a.localStore,e,!0),cu(a,e,o);break;default:ni()}}),Om.apply(this,arguments)}function Kb(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,ke.Z)(function*(r,e,t){const o=pd(r);if(o.vc){for(const a of e){if(o._c.has(a)){Mn("SyncEngine","Adding an already active target "+a);continue}const u=yield M_(o.localStore,a),f=yield Jd(o.localStore,u);yield xp(o,du(u),f.targetId,!1,f.resumeToken),ch(o.remoteStore,f)}for(const a of t)o._c.has(a)&&(yield ad(o.localStore,a,!1).then(()=>{gm(o.remoteStore,a),cu(o,a)}).catch(Br))}}),Np.apply(this,arguments)}function pd(r){const e=U(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ip.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K_.bind(null,e),e.dc.nu=Ub.bind(null,e.eventManager),e.dc.Pc=Ha.bind(null,e.eventManager),e}function Lp(r){const e=U(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y_.bind(null,e),e}class gh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.serializer=oh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Kf(this.persistence,new T_,e.initialUser,this.serializer)}createPersistence(e){return new Ju(Sl.zs,this.serializer)}createSharedClientState(e){return new ep}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends gh{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ke.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Lp(o.Vc.syncEngine),yield hd(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Kf(this.persistence,new T_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new sm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Ma(t,this.persistence);return new Nh(e.asyncQueue,o)}createPersistence(e){const t=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ea.withCacheSize(this.cacheSizeBytes):Ea.DEFAULT;return new Qd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ip(),fm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ep}}class tv extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ke.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof mm&&(o.sharedClientState.syncEngine={jr:km.bind(null,a),zr:ev.bind(null,a),Wr:Kb.bind(null,a),$i:Wb.bind(null,a),Qr:y0.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,ke.Z)(function*(f){yield function Gb(r,e){return Pp.apply(this,arguments)}(o.Vc.syncEngine,f),o.gcScheduler&&(f&&!o.gcScheduler.started?o.gcScheduler.start():f||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(f&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():f||o.indexBackfillerScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ip();if(!mm.D(t))throw new _(g.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=nh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mm(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class uu{initialize(e,t){var o=this;return(0,ke.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Mp(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=J_.bind(null,o.syncEngine),yield uh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bb}createDatastore(e){const t=oh(e.databaseInfo.databaseId),o=new P_(e.databaseInfo);return new N_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=S=>Mp(this.syncEngine,S,0),f=tu.D()?new tu:new tp,new g0(t,o,a,u,f);var t,o,a,u,f}createSyncEngine(e,t){return function(o,a,u,f,S,G,te){const xe=new yp(o,a,u,f,S,G);return te&&(xe.vc=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ke.Z)(function*(t){const o=U(t);Mn("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ah(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nv(r,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new O,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new b0(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ke.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Up{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _(g.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,ke.Z)(function*(u,f){const S=U(u),G=Kc(S.serializer)+"/documents",te={documents:f.map(vn=>Kh(S.serializer,vn))},xe=yield S.vo("BatchGetDocuments",G,te,f.length),dt=new Map;xe.forEach(vn=>{const Bn=function o_(r,e){return"found"in e?function(t,o){li(!!o.found);const a=Ac(t,o.found.name),u=Wo(o.found.updateTime),f=o.found.createTime?Wo(o.found.createTime):Qn.min(),S=new _r({mapValue:{fields:o.found.fields}});return Wr.newFoundDocument(a,u,f,S)}(r,e):"missing"in e?function(t,o){li(!!o.missing),li(!!o.readTime);const a=Ac(t,o.missing),u=Wo(o.readTime);return Wr.newNoDocument(a,u)}(r,e):ni()}(S.serializer,vn);dt.set(Bn.key.toString(),Bn)});const Jt=[];return f.forEach(vn=>{const Bn=dt.get(vn.toString());li(!!Bn),Jt.push(Bn)}),Jt}),function(u,f){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new wl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=E.fromPath(a);e.mutations.push(new $h(u,e.precondition(u)))}),yield(o=(0,ke.Z)(function*(a,u){const f=U(a),S=Kc(f.serializer)+"/documents",G={writes:u.map(te=>dc(f.serializer,te))};yield f.Io("Commit",S,G)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ni();t=Qn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new _(g.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qn.min())?es.exists(!1):es.updateTime(t):es.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qn.min()))throw new _(g.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return es.updateTime(t)}return es.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yb{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new rp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ke.Z)(function*(){const t=new Up(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Qs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yf(t)}return!1}}class Vp{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=bo.UNAUTHENTICATED,this.clientId=ui.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,ke.Z)(function*(S){Mn("FirestoreClient","Received user=",S.uid),yield u.authCredentialListener(S),u.user=S});return function(S){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Mn("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new O;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=ru(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Pm(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Mn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,ke.Z)(function*(u){o.isEqual(u)||(yield Zf(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),jp.apply(this,arguments)}function Hp(r,e){return zp.apply(this,arguments)}function zp(){return zp=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield $p(r);Mn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>hp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>hp(e.remoteStore,u)),r._onlineComponents=e}),zp.apply(this,arguments)}function rv(r){return"FirebaseError"===r.name?r.code===g.FAILED_PRECONDITION||r.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function $p(r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,ke.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Mn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rv(t))throw t;Ms("Error using user provided cache. Falling back to memory cache: "+t),yield Pm(r,new gh)}}else Mn("FirestoreClient","Using default OfflineComponentProvider"),yield Pm(r,new gh);return r._offlineComponents}),Gp.apply(this,arguments)}function _h(r){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ke.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Mn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hp(r,r._uninitializedComponentsProvider._online)):(Mn("FirestoreClient","Using default OnlineComponentProvider"),yield Hp(r,new uu))),r._onlineComponents}),Fm.apply(this,arguments)}function ov(r){return $p(r).then(e=>e.persistence)}function Wp(r){return $p(r).then(e=>e.localStore)}function Kp(r){return _h(r).then(e=>e.remoteStore)}function sv(r){return _h(r).then(e=>e.syncEngine)}function hu(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ke.Z)(function*(r){const e=yield _h(r),t=e.eventManager;return t.onListen=Hb.bind(null,e.syncEngine),t.onUnlisten=zb.bind(null,e.syncEngine),t}),Zp.apply(this,arguments)}function mu(r,e,t={}){const o=new O;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,u,f,S,G){const te=new Rm({next:dt=>{u.enqueueAndForget(()=>Dm(a,xe));const Jt=dt.docs.has(f);!Jt&&dt.fromCache?G.reject(new _(g.UNAVAILABLE,"Failed to get document because the client is offline.")):Jt&&dt.fromCache&&S&&"server"===S.source?G.reject(new _(g.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(dt)},error:dt=>G.reject(dt)}),xe=new vp(gl(f.path),te,{includeMetadataChanges:!0,Ku:!0});return pp(a,xe)}(yield hu(r),r.asyncQueue,e,t,o)})),o.promise}function Rl(r,e,t={}){const o=new O;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,u,f,S,G){const te=new Rm({next:dt=>{u.enqueueAndForget(()=>Dm(a,xe)),dt.fromCache&&"server"===S.source?G.reject(new _(g.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(dt)},error:dt=>G.reject(dt)}),xe=new vp(f,te,{includeMetadataChanges:!0,Ku:!0});return pp(a,xe)}(yield hu(r),r.asyncQueue,e,t,o)})),o.promise}function gd(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const _d=new Map;function Pl(r,e,t){if(!t)throw new _(g.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vd(r,e,t,o){if(!0===e&&!0===o)throw new _(g.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function bd(r){if(!E.isDocumentKey(r))throw new _(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yd(r){if(E.isDocumentKey(r))throw new _(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tl(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":ni()}function cr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tl(r);throw new _(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Qp(r,e){if(e<=0)throw new _(g.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Xp{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new _(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gd(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new _(g.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _(g.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _(g.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ve;switch(t.type){case"firstParty":return new pn(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_d.get(e);t&&(Mn("ComponentProvider","Removing Datastore"),_d.delete(e),t.terminate())}(this),Promise.resolve()}}class Ko{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ko(this.firestore,e,this._key)}}class Js{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class pc extends Js{constructor(e,t,o){super(e,t,gl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ko(this.firestore,null,new E(e))}withConverter(e){return new pc(this.firestore,e,this._path)}}function eg(r,e,...t){if(r=(0,me.m9)(r),Pl("collection","path",e),r instanceof pu){const o=zi.fromString(e,...t);return yd(o),new pc(r,null,o)}{if(!(r instanceof Ko||r instanceof pc))throw new _(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(zi.fromString(e,...t));return yd(o),new pc(r.firestore,null,o)}}function gu(r,e,...t){if(r=(0,me.m9)(r),1===arguments.length&&(e=ui.A()),Pl("doc","path",e),r instanceof pu){const o=zi.fromString(e,...t);return bd(o),new Ko(r,null,new E(o))}{if(!(r instanceof Ko||r instanceof pc))throw new _(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(zi.fromString(e,...t));return bd(o),new Ko(r.firestore,r instanceof pc?r.converter:null,new E(o))}}function cv(r,e){return r=(0,me.m9)(r),e=(0,me.m9)(e),(r instanceof Ko||r instanceof pc)&&(e instanceof Ko||e instanceof pc)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function lv(r,e){return r=(0,me.m9)(r),e=(0,me.m9)(e),r instanceof Js&&e instanceof Js&&r.firestore===e.firestore&&vl(r._query,e._query)&&r.converter===e.converter}class x0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new rp(this,"async_queue_retry"),this.Xc=()=>{const t=fm();t&&Mn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=fm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new O;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ao(t))throw t;Mn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,wr("INTERNAL UNHANDLED ERROR: ",function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=mp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&ni()}verifyOperationInProgress(){}sa(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class Qb{constructor(){this._progressObserver={},this._taskCompletionResolver=new O,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ts extends pu{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new x0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()}}function Ls(r){return r._firestoreClient||dv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function dv(r){var e,t,o;const a=r._freezeSettings(),u=(S=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Dc(r._databaseId,S,r._persistenceKey,(te=a).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,gd(te.experimentalLongPollingOptions),te.useFetchStreams));var S,te;r._firestoreClient=new Vp(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Lm(r,e,t){const o=new O;return r.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield Pm(r,t),yield Hp(r,e),o.resolve()}catch(a){const u=a;if(!rv(u))throw u;Ms("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function mv(r){if(r._initialized||r._terminated)throw new _(g.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(Jo.fromBase64String(e))}catch(t){throw new _(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ic(Jo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._methodName=e}}class Um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}const ey=/^__.*__$/;class rg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Gc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hd(e,this.data,t,this.fieldTransforms)}}class fv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Gc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function og(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ni()}}class Vm{constructor(e,t,o,a,u,f){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(og(this.ca)&&ey.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ty{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||oh(e)}ya(e,t,o,a=!1){return new Vm({ca:e,methodName:t,ga:o,path:Ui.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fl(r){const e=r._freezeSettings(),t=oh(r._databaseId);return new ty(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Eh(r,e,t,o,a,u={}){const f=r.ya(u.merge||u.mergeFields?2:0,e,t,a);dg("Data must be an object, but it was:",f,o);const S=jm(o,f);let G,te;if(u.merge)G=new Bs(f.fieldMask),te=f.fieldTransforms;else if(u.mergeFields){const xe=[];for(const dt of u.mergeFields){const Jt=Ih(e,dt,t);if(!f.contains(Jt))throw new _(g.INVALID_ARGUMENT,`Field '${Jt}' is specified in your field mask but missing from your input data.`);Hm(xe,Jt)||xe.push(Jt)}G=new Bs(xe),te=f.fieldTransforms.filter(dt=>G.covers(dt.field))}else G=null,te=f.fieldTransforms;return new rg(new _r(S),G,te)}class vu extends _u{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vu}}function pv(r,e,t){return new Vm({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends _u{_toFieldTransform(e){return new Vu(e.path,new ql)}isEqual(e){return e instanceof sg}}class ny extends _u{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Pc(u,t)),a=new Ql(o);return new Vu(e.path,a)}isEqual(e){return this===e}}class gv extends _u{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Pc(u,t)),a=new zc(o);return new Vu(e.path,a)}isEqual(e){return this===e}}class ag extends _u{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Vd(e.serializer,Hg(e.serializer,this.Ia));return new Vu(e.path,t)}isEqual(e){return this===e}}function Ch(r,e,t,o){const a=r.ya(1,e,t);dg("Data must be an object, but it was:",a,o);const u=[],f=_r.empty();ia(o,(G,te)=>{const xe=wd(e,G,t);te=(0,me.m9)(te);const dt=a.da(xe);if(te instanceof vu)u.push(xe);else{const Jt=Pc(te,dt);null!=Jt&&(u.push(xe),f.set(xe,Jt))}});const S=new Bs(u);return new fv(f,S,a.fieldTransforms)}function cg(r,e,t,o,a,u){const f=r.ya(1,e,t),S=[Ih(e,o,t)],G=[a];if(u.length%2!=0)throw new _(g.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Jt=0;Jt<u.length;Jt+=2)S.push(Ih(e,u[Jt])),G.push(u[Jt+1]);const te=[],xe=_r.empty();for(let Jt=S.length-1;Jt>=0;--Jt)if(!Hm(te,S[Jt])){const vn=S[Jt];let Bn=G[Jt];Bn=(0,me.m9)(Bn);const Jn=f.da(vn);if(Bn instanceof vu)te.push(vn);else{const oi=Pc(Bn,Jn);null!=oi&&(te.push(vn),xe.set(vn,oi))}}const dt=new Bs(te);return new fv(xe,dt,f.fieldTransforms)}function Dh(r,e,t,o=!1){return Pc(t,r.ya(o?4:3,e))}function Pc(r,e){if(lg(r=(0,me.m9)(r)))return dg("Unsupported field value:",e,r),jm(r,e);if(r instanceof _u)return function(t,o){if(!og(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const f of t){let S=Pc(f,o.wa(u));null==S&&(S={nullValue:"NULL_VALUE"}),a.push(S),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,me.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hg(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=ji.fromDate(t);return{timestampValue:ed(o.serializer,a)}}if(t instanceof ji){const a=new ji(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ed(o.serializer,a)}}if(t instanceof Um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ic)return{bytesValue:Gu(o.serializer,t._byteString)};if(t instanceof Ko){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:If(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${tl(t)}`)}(r,e)}function jm(r,e){const t={};return Ua(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(r,(o,a)=>{const u=Pc(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function lg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ji||r instanceof Um||r instanceof ic||r instanceof Ko||r instanceof _u)}function dg(r,e,t){if(!lg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=tl(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Ih(r,e,t){if((e=(0,me.m9)(e))instanceof rc)return e._internalPath;if("string"==typeof e)return wd(r,e);throw xd("Field path arguments must be of type string or ",r,!1,void 0,t)}const iy=new RegExp("[~\\*/\\[\\]]");function wd(r,e,t){if(e.search(iy)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new rc(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function xd(r,e,t,o,a){const u=o&&!o.isEmpty(),f=void 0!==a;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let G="";return(u||f)&&(G+=" (found",u&&(G+=` in field ${o}`),f&&(G+=` in document ${a}`),G+=")"),new _(g.INVALID_ARGUMENT,S+r+G)}function Hm(r,e){return r.some(t=>t.isEqual(e))}class bu{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ry extends bu{data(){return super.data()}}function zm(r,e){return"string"==typeof e?wd(r,e):e instanceof rc?e._internalPath:e._delegate._internalPath}function ug(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new _(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Th{}class yu extends Th{}function Fc(r,e,...t){let o=[];e instanceof Th&&o.push(e),o=o.concat(t),function(a){const u=a.filter(S=>S instanceof Cd).length,f=a.filter(S=>S instanceof Ed).length;if(u>1||u>0&&f>0)throw new _(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Ed extends yu{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Ed(e,t,o)}_apply(e){const t=this._parse(e);return kh(e._query,t),new Js(e.firestore,e.converter,_l(e._query,t))}_parse(e){const t=Fl(e.firestore);return function(a,u,f,S,G,te,xe){let dt;if(G.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new _(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){pg(xe,te);const Jt=[];for(const vn of xe)Jt.push(fg(S,a,vn));dt={arrayValue:{values:Jt}}}else dt=fg(S,a,xe)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||pg(xe,te),dt=Dh(f,"where",xe,"in"===te||"not-in"===te);return ur.create(G,te,dt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Cd extends Th{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cd(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const f=a.getFlattenedFilters();for(const S of f)kh(u,S),u=_l(u,S)}(e._query,t),new Js(e.firestore,e.converter,_l(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $m extends yu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $m(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new _(g.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new _(g.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new xa(a,u);return function(S,G){if(null===Ud(S)){const te=Mc(S);null!==te&&nl(0,te,G.field)}}(o,f),f}(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new sa(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Mh extends yu{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Mh(e,t,o)}_apply(e){return new Js(e.firestore,e.converter,Xa(e._query,this._limit,this._limitType))}}class wu extends yu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new wu(e,t,o)}_apply(e){const t=mg(e,this.type,this._docOrFields,this._inclusive);return new Js(e.firestore,e.converter,(a=t,new sa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class Sh extends yu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Sh(e,t,o)}_apply(e){const t=mg(e,this.type,this._docOrFields,this._inclusive);return new Js(e.firestore,e.converter,(a=t,new sa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function mg(r,e,t,o){if(t[0]=(0,me.m9)(t[0]),t[0]instanceof bu)return function(a,u,f,S,G){if(!S)throw new _(g.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const te=[];for(const xe of lc(a))if(xe.field.isKeyField())te.push(L(u,S.key));else{const dt=S.data.field(xe.field);if(Vc(dt))throw new _(g.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+xe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===dt){const Jt=xe.field.canonicalString();throw new _(g.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Jt}' (used as the orderBy) does not exist.`)}te.push(dt)}return new Hs(te,G)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Fl(r.firestore);return function(u,f,S,G,te,xe){const dt=u.explicitOrderBy;if(te.length>dt.length)throw new _(g.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Jt=[];for(let vn=0;vn<te.length;vn++){const Bn=te[vn];if(dt[vn].field.isKeyField()){if("string"!=typeof Bn)throw new _(g.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Bn}`);if(!jc(u)&&-1!==Bn.indexOf("/"))throw new _(g.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Bn}' contains a slash.`);const Jn=u.path.child(zi.fromString(Bn));if(!E.isDocumentKey(Jn))throw new _(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Jn}' is not because it contains an odd number of segments.`);const oi=new E(Jn);Jt.push(L(f,oi))}else{const Jn=Dh(S,G,Bn);Jt.push(Jn)}}return new Hs(Jt,xe)}(r._query,r.firestore._databaseId,a,e,t,o)}}function fg(r,e,t){if("string"==typeof(t=(0,me.m9)(t))){if(""===t)throw new _(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jc(e)&&-1!==t.indexOf("/"))throw new _(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(zi.fromString(t));if(!E.isDocumentKey(o))throw new _(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return L(r,new E(o))}if(t instanceof Ko)return L(r,t._key);throw new _(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tl(t)}.`)}function pg(r,e){if(!Array.isArray(r)||0===r.length)throw new _(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kh(r,e){if(e.isInequality()){const o=Mc(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new _(g.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Ud(r);null!==u&&nl(0,a,u)}const t=function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _(g.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nl(r,e,t){if(!t.isEqual(e))throw new _(g.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gg{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ni()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ia(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new Um(wo(e.latitude),wo(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=co(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=Ec(e);return new ji(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=zi.fromString(e);li(u_(o));const a=new Za(o.get(1),o.get(3)),u=new E(o.popFirst(5));return a.isEqual(t)||wr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function xu(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Dd extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}class Id{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class il extends bu{constructor(e,t,o,a,u,f){super(e,t,o,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Eu extends il{data(e={}){return super.data(e)}}class Nl{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Id(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Eu(this._firestore,this._userDataWriter,o.key,o,new Id(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Eu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Id(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const S=new Eu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Id(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,te=-1;return 0!==f.type&&(G=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),te=u.indexOf(f.doc.key)),{type:Gs(f.type),doc:S,oldIndex:G,newIndex:te}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gs(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ni()}}function vg(r,e){return r instanceof il&&e instanceof il?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Nl&&e instanceof Nl&&r._firestore===e._firestore&&lv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Ll extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,t)}}function Tv(r,e,t){r=cr(r,Ko);const o=cr(r.firestore,ts),a=xu(r.converter,e,t);return Bl(o,[Eh(Fl(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,es.none())])}function Mv(r,e,t,...o){r=cr(r,Ko);const a=cr(r.firestore,ts),u=Fl(a);let f;return f="string"==typeof(e=(0,me.m9)(e))||e instanceof rc?cg(u,"updateDoc",r._key,e,t,o):Ch(u,"updateDoc",r._key,e),Bl(a,[f.toMutation(r._key,es.exists(!0))])}function bg(r,...e){var t,o,a;r=(0,me.m9)(r);let u={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||tg(e[f])||(u=e[f],f++);const S={includeMetadataChanges:u.includeMetadataChanges};if(tg(e[f])){const dt=e[f];e[f]=null===(t=dt.next)||void 0===t?void 0:t.bind(dt),e[f+1]=null===(o=dt.error)||void 0===o?void 0:o.bind(dt),e[f+2]=null===(a=dt.complete)||void 0===a?void 0:a.bind(dt)}let G,te,xe;if(r instanceof Ko)te=cr(r.firestore,ts),xe=gl(r._key.path),G={next:dt=>{e[f]&&e[f](Ah(te,r,dt))},error:e[f+1],complete:e[f+2]};else{const dt=cr(r,Js);te=cr(dt.firestore,ts),xe=dt._query;const Jt=new Ll(te);G={next:vn=>{e[f]&&e[f](new Nl(te,Jt,dt,vn))},error:e[f+1],complete:e[f+2]},ug(r._query)}return function(dt,Jt,vn,Bn){const Jn=new Rm(Bn),oi=new vp(Jt,Jn,vn);return dt.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return pp(yield hu(dt),oi)})),()=>{Jn.Dc(),dt.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return Dm(yield hu(dt),oi)}))}}(Ls(te),xe,S,G)}function Bl(r,e){return function(t,o){const a=new O;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function Cp(r,e,t){return Dp.apply(this,arguments)}(yield sv(t),o,a)})),a.promise}(Ls(r),e)}function Ah(r,e,t){const o=t.docs.get(e._key),a=new Ll(r);return new il(r,a,e._key,o,new Id(t.hasPendingWrites,t.fromCache),e.converter)}const vy={maxAttempts:5};class wg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fl(e)}set(e,t,o){this._verifyNotCommitted();const a=Ul(e,this._firestore),u=xu(a.converter,t,o),f=Eh(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(f.toMutation(a._key,es.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=Ul(e,this._firestore);let f;return f="string"==typeof(t=(0,me.m9)(t))||t instanceof rc?cg(this._dataReader,"WriteBatch.update",u._key,t,o,a):Ch(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(f.toMutation(u._key,es.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ul(e,this._firestore);return this._mutations=this._mutations.concat(new wl(t._key,es.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _(g.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ul(r,e){if((r=(0,me.m9)(r)).firestore!==e)throw new _(g.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class by extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fl(e)}get(e){const t=Ul(e,this._firestore),o=new Dd(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ni();const u=a[0];if(u.isFoundDocument())return new bu(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new bu(this._firestore,o,t._key,null,t.converter);throw ni()})}set(e,t,o){const a=Ul(e,this._firestore),u=xu(a.converter,t,o),f=Eh(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,f),this}update(e,t,o,...a){const u=Ul(e,this._firestore);let f;return f="string"==typeof(t=(0,me.m9)(t))||t instanceof rc?cg(this._dataReader,"Transaction.update",u._key,t,o,a):Ch(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=Ul(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ul(e,this._firestore),o=new Ll(this._firestore);return super.get(e).then(a=>new il(this._firestore,o,t._key,a._document,new Id(!1,!1),t.converter))}}function Zm(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Eg(){if(typeof Uint8Array>"u")throw new _("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if(!function Rd(){return typeof atob<"u"}())throw new _("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){os=wt.SDK_VERSION,(0,wt._registerComponent)(new fe.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),f=new ts(new pt(t.getProvider("auth-internal")),new Xn(t.getProvider("app-check-internal")),function(S,G){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new _(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(S.options.projectId,G)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(nr,"3.12.2",r),(0,wt.registerVersion)(nr,"3.12.2","esm2017")}();class Du{constructor(e){this._delegate=e}static fromBase64String(e){return Cg(),new Du(ic.fromBase64String(e))}static fromUint8Array(e){return Eg(),new Du(ic.fromUint8Array(e))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return Eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ym(r){return function Fv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Nv{enableIndexedDbPersistence(e,t){return function ng(r,e){mv(r=cr(r,ts));const t=Ls(r);if(t._uninitializedComponentsProvider)throw new _(g.FAILED_PRECONDITION,"SDK cache is already specified.");Ms("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new uu;return Lm(t,a,new Bp(a,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function bh(r){mv(r=cr(r,ts));const e=Ls(r);if(e._uninitializedComponentsProvider)throw new _(g.FAILED_PRECONDITION,"SDK cache is already specified.");Ms("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new uu;return Lm(e,o,new tv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Bm(r){if(r._initialized&&!r._terminated)throw new _(g.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new O;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(o){if(!xs.D())return Promise.resolve();const a=o+"main";yield xs.delete(a)}),function(o){return t.apply(this,arguments)})(nh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ms("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Jp(r,e,t,o={}){var a;const u=(r=cr(r,pu))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==f&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),o.mockUserToken){let S,G;if("string"==typeof o.mockUserToken)S=o.mockUserToken,G=bo.MOCK_USER;else{S=(0,me.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const te=o.mockUserToken.sub||o.mockUserToken.user_id;if(!te)throw new _(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new bo(te)}r._authCredentials=new mt(new J(S,G))}}(this._delegate,e,t,o)}enableNetwork(){return function yh(r){return function Yp(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!0),function(o){const a=U(o);return a.vu.delete(0),sh(a)}(t)}))}(Ls(r=cr(r,ts)))}(this._delegate)}disableNetwork(){return function hv(r){return function qb(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!1),(o=(0,ke.Z)(function*(a){const u=U(a);u.vu.add(0),yield ah(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(Ls(r=cr(r,ts)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,vd("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uv(r){return function(e){const t=new O;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function q_(r,e){return Mm.apply(this,arguments)}(yield sv(e),t)})),t.promise}(Ls(r=cr(r,ts)))}(this._delegate)}onSnapshotsInSync(e){return function T0(r,e){return function Nm(r,e){const t=new Rm(e);return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return o=yield hu(r),a=t,U(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return o=yield hu(r),a=t,void U(o).ku.delete(a);var o,a}))}}(Ls(r=cr(r,ts)),tg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iu(this,eg(this._delegate,e))}catch(t){throw Ca(t,"collection()","Firestore.collection()")}}doc(e){try{return new oc(this,gu(this._delegate,e))}catch(t){throw Ca(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Da(this,function av(r,e){if(r=cr(r,pu),Pl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _(g.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Js(r,null,(t=e,new sa(zi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ca(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kv(r,e,t){r=cr(r,ts);const o=Object.assign(Object.assign({},vy),t);return function(a){if(a.maxAttempts<1)throw new _(g.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,f){const S=new O;return a.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const G=yield function vh(r){return _h(r).then(e=>e.datastore)}(a);new Yb(a.asyncQueue,G,f,u,S).run()})),S.promise}(Ls(r),a=>e(new by(r,a)),o)}(this._delegate,t=>e(new Lv(this,t)))}batch(){return Ls(this._delegate),new Bv(new wg(this._delegate,e=>Bl(this._delegate,e)))}loadBundle(e){return function wh(r,e){const t=Ls(r=cr(r,ts)),o=new Qb;return function nc(r,e,t,o){const a=function(u,f){let S;return S="string"==typeof u?Jg().encode(u):u,G=function(G,te){if(G instanceof Uint8Array)return nv(G,void 0);if(G instanceof ArrayBuffer)return nv(new Uint8Array(G),void 0);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new iv(G,f);var G}(t,oh(e));r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function w0(r,e,t){const o=U(r);var a;(a=(0,ke.Z)(function*(u,f,S){try{const G=yield f.getMetadata();if(yield function(Jt,vn){const Bn=U(Jt),Jn=Wo(vn.createTime);return Bn.persistence.runTransaction("hasNewerBundle","readonly",oi=>Bn.qs.getBundleMetadata(oi,vn.id)).then(oi=>!!oi&&oi.createTime.compareTo(Jn)>=0)}(u.localStore,G))return yield f.close(),S._completeWith({taskState:"Success",documentsLoaded:(Jt=G).totalDocuments,bytesLoaded:Jt.totalBytes,totalDocuments:Jt.totalDocuments,totalBytes:Jt.totalBytes}),Promise.resolve(new Set);S._updateProgress($_(G));const te=new z_(G,u.localStore,f.serializer);let xe=yield f.bc();for(;xe;){const Jt=yield te.zu(xe);Jt&&S._updateProgress(Jt),xe=yield f.bc()}const dt=yield te.complete();return yield el(u,dt.Ju,void 0),yield function(Jt,vn){const Bn=U(Jt);return Bn.persistence.runTransaction("Save bundle","readwrite",Jn=>Bn.qs.saveBundleMetadata(Jn,vn))}(u.localStore,G),S._completeWith(dt.progress),Promise.resolve(dt.Hu)}catch(G){return Ms("SyncEngine",`Loading bundle failed with ${G}`),S._failWith(G),Promise.resolve(new Set)}var Jt}),function(u,f,S){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield sv(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xb(r,e){return function qp(r,e){return r.asyncQueue.enqueue((0,ke.Z)(function*(){return function(t,o){const a=U(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield Wp(r),e)}))}(Ls(r=cr(r,ts)),e).then(t=>t?new Js(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Da(this,t):null)}}class qm extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(new ic(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oc.forKey(t,this.firestore,null)}}class Lv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}get(e){const t=Md(e);return this._delegate.get(t).then(o=>new Oh(this._firestore,new il(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=Md(e);return o?(Zm("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Md(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}}class Bv{constructor(e){this._delegate=e}set(e,t,o){const a=Md(e);return o?(Zm("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=Md(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Td{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Eu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rh(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Td.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new Td(e,new qm(e),t),a.set(t,u)),u}}Td.INSTANCES=new WeakMap;class oc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}static forPath(e,t,o){if(e.length%2!=0)throw new _("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oc(t,new Ko(t._delegate,o,new E(e)))}static forKey(e,t,o){return new oc(t,new Ko(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Iu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iu(this.firestore,eg(this._delegate,e))}catch(t){throw Ca(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,me.m9)(e))instanceof Ko&&cv(this._delegate,e)}set(e,t){t=Zm("DocumentReference.set",t);try{return t?Tv(this._delegate,e,t):Tv(this._delegate,e)}catch(o){throw Ca(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Mv(this._delegate,e):Mv(this._delegate,e,t,...o)}catch(a){throw Ca(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Sv(r){return Bl(cr(r.firestore,ts),[new wl(r._key,es.none())])}(this._delegate)}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Oh(this.firestore,new il(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return bg(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Cv(r){r=cr(r,Ko);const e=cr(r.firestore,ts),t=Ls(e),o=new Ll(e);return function Rc(r,e){const t=new O;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(o=(0,ke.Z)(function*(a,u,f){try{const S=yield function(G,te){const xe=U(G);return xe.persistence.runTransaction("read document","readonly",dt=>xe.localDocuments.getDocument(dt,te))}(a,u);S.isFoundDocument()?f.resolve(S):S.isNoDocument()?f.resolve(null):f.reject(new _(g.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const G=ru(S,`Failed to get document '${u} from cache`);f.reject(G)}}),function(a,u,f){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new il(e,o,r._key,a,new Id(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function dy(r){r=cr(r,Ko);const e=cr(r.firestore,ts);return mu(Ls(e),r._key,{source:"server"}).then(t=>Ah(e,r,t))}(this._delegate):function ly(r){r=cr(r,Ko);const e=cr(r.firestore,ts);return mu(Ls(e),r._key).then(t=>Ah(e,r,t))}(this._delegate),t.then(o=>new Oh(this.firestore,new il(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new oc(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Ca(r,e,t){return r.message=r.message.replace(e,t),r}function Uv(r){for(const e of r)if("object"==typeof e&&!Ym(e))return e;return{}}function Vv(r,e){var t,o;let a;return a=Ym(r[0])?r[0]:Ym(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Oh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vg(this._delegate,e._delegate)}}class Rh extends Oh{data(e){const t=this._delegate.data(e);return function Ss(r,e){r||ni()}(void 0!==t),t}}class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}where(e,t,o){try{return new Da(this.firestore,Fc(this._delegate,function oy(r,e,t){const o=e,a=zm("where",r);return Ed._create(a,o,t)}(e,t,o)))}catch(a){throw Ca(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Da(this.firestore,Fc(this._delegate,function cy(r,e="asc"){const t=e,o=zm("orderBy",r);return $m._create(o,t)}(e,t)))}catch(o){throw Ca(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Da(this.firestore,Fc(this._delegate,function _v(r){return Qp("limit",r),Mh._create("limit",r,"F")}(e)))}catch(t){throw Ca(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Da(this.firestore,Fc(this._delegate,function hg(r){return Qp("limitToLast",r),Mh._create("limitToLast",r,"L")}(e)))}catch(t){throw Ca(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Da(this.firestore,Fc(this._delegate,function vv(...r){return wu._create("startAt",r,!0)}(...e)))}catch(t){throw Ca(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Da(this.firestore,Fc(this._delegate,function bv(...r){return wu._create("startAfter",r,!1)}(...e)))}catch(t){throw Ca(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Da(this.firestore,Fc(this._delegate,function yv(...r){return Sh._create("endBefore",r,!1)}(...e)))}catch(t){throw Ca(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Da(this.firestore,Fc(this._delegate,function wv(...r){return Sh._create("endAt",r,!0)}(...e)))}catch(t){throw Ca(t,"endAt()","Query.endAt()")}}isEqual(e){return lv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Iv(r){r=cr(r,Js);const e=cr(r.firestore,ts),t=Ls(e),o=new Ll(e);return function fa(r,e){const t=new O;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(o=(0,ke.Z)(function*(a,u,f){try{const S=yield cd(a,u,!0),G=new bp(u,S.ir),te=G.sc(S.documents),xe=G.applyChanges(te,!1);f.resolve(xe.snapshot)}catch(S){const G=ru(S,`Failed to execute query '${u} against cache`);f.reject(G)}}),function(a,u,f){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Nl(e,o,r,a))}(this._delegate):"server"===e?.source?function Cu(r){r=cr(r,Js);const e=cr(r.firestore,ts),t=Ls(e),o=new Ll(e);return Rl(t,r._query,{source:"server"}).then(a=>new Nl(e,o,r,a))}(this._delegate):function Dv(r){r=cr(r,Js);const e=cr(r.firestore,ts),t=Ls(e),o=new Ll(e);return ug(r._query),Rl(t,r._query).then(a=>new Nl(e,o,r,a))}(this._delegate),t.then(o=>new Ig(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Ig(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return bg(this._delegate,t,o)}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}class Ey{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ig{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Da(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ey(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Rh(this._firestore,o))})}isEqual(e){return vg(this._delegate,e._delegate)}}class Iu extends Da{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oc(this.firestore,e):null}doc(e){try{return new oc(this.firestore,void 0===e?gu(this._delegate):gu(this._delegate,e))}catch(t){throw Ca(t,"doc()","CollectionReference.doc()")}}add(e){return function uy(r,e){const t=cr(r.firestore,ts),o=gu(r),a=xu(r.converter,e);return Bl(t,[Eh(Fl(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,es.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new oc(this.firestore,t))}isEqual(e){return cv(this._delegate,e._delegate)}withConverter(e){return new Iu(this.firestore,this._delegate.withConverter(e?Td.getInstance(this.firestore,e):null))}}function Md(r){return cr(r,Ko)}class Tg{constructor(...e){this._delegate=new rc(...e)}static documentId(){return new Tg(Ui.keyField().canonicalString())}isEqual(e){return(e=(0,me.m9)(e))instanceof rc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Sd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wm(){return new sg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Sd(e)}static delete(){const e=function Av(){return new vu("deleteField")}();return e._methodName="FieldValue.delete",new Sd(e)}static arrayUnion(...e){const t=function yy(...r){return new ny("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Sd(t)}static arrayRemove(...e){const t=function Ov(...r){return new gv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Sd(t)}static increment(e){const t=function Rv(r){return new ag("increment",r)}(e);return t._methodName="FieldValue.increment",new Sd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jv={Firestore:Dg,GeoPoint:Um,Timestamp:ji,Blob:Du,Transaction:Lv,WriteBatch:Bv,DocumentReference:oc,DocumentSnapshot:Oh,Query:Da,QueryDocumentSnapshot:Rh,QuerySnapshot:Ig,CollectionReference:Iu,FieldPath:Tg,FieldValue:Sd,setLogLevel:function xy(r){!function ac(r){Gr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function zv(r){(function Hv(r,e){r.INTERNAL.registerComponent(new fe.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},jv)))})(r,(e,t)=>new Dg(e,t,new Nv)),r.registerVersion("@firebase/firestore-compat","0.3.11")}($e.Z);var ol=y(1205),$v=y(6217),Gv=y(9260);function Mg(r,e){return function Wv(r,e=C.z){return new p.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(r,e)}function Ph(r,e){return Mg(r,e).pipe((0,ue.U)(t=>({payload:t,type:"query"})))}function Tu(r,e){return Ph(r,e).pipe((0,W.O)(void 0),oe(),(0,ue.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,S)=>{const G=a.find(xe=>xe.doc.ref.isEqual(f.ref)),te=t?.payload.docs.find(xe=>xe.ref.isEqual(f.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(f.metadata)||!G&&te&&JSON.stringify(te.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:f}})}),u}))}function Vl(r,e,t){return Tu(r,t).pipe((0,pe.R)((o,a)=>function Cy(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function Mu(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Sg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,Le.x)(),(0,ue.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Sg(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function Dy(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Qm{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Tu(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ue.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,W.O)(void 0),oe(),(0,Pe.h)(([o,a])=>a.length>0||!o),(0,ue.U)(([o,a])=>a),ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return Vl(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ae.iC)}get(e){return(0,X.D)(this.query.get(e)).pipe(ae.iC)}add(e){return this.ref.add(e)}doc(e){return new Iy(this.ref.doc(e),this.afs)}}class Iy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=Yv(o,t);return new Qm(a,u,this.afs)}snapshotChanges(){return function Kv(r,e){return Mg(r,e).pipe((0,W.O)(void 0),oe(),(0,ue.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,X.D)(this.ref.get(e)).pipe(ae.iC)}}class Zv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tu(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Pe.h)(t=>t.length>0),ae.iC):Tu(this.query,this.afs.schedulers.outsideAngular).pipe(ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return Vl(this.query,t,this.afs.schedulers.outsideAngular).pipe(ae.iC)}valueChanges(e={}){return Ph(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ae.iC)}get(e){return(0,X.D)(this.query.get(e)).pipe(ae.iC)}}const kg=new l.OlP("angularfire2.enableFirestorePersistence"),Ty=new l.OlP("angularfire2.firestore.persistenceSettings"),Si=new l.OlP("angularfire2.firestore.settings"),My=new l.OlP("angularfire2.firestore.use-emulator");function Yv(r,e=(t=>t)){return{query:e(r),ref:r}}let qv=(()=>{class r{constructor(t,o,a,u,f,S,G,te,xe,dt,Jt,vn,Bn,Jn,oi,Xi,Vr){this.schedulers=G;const $i=(0,et.on)(t,S,o),ls=xe;dt&&(0,ol.nw)($i,S,Jt,Bn,Jn,oi,vn,Xi),[this.firestore,this.persistenceEnabled$]=(0,et.cc)(`${$i.name}.firestore`,"AngularFirestore",$i.name,()=>{const Vo=S.runOutsideAngular(()=>$i.firestore());if(u&&Vo.settings(u),ls&&Vo.useEmulator(...ls),a&&!(0,We.PM)(f)){const ko=()=>{try{return(0,X.D)(Vo.enablePersistence(te||void 0).then(()=>!0,()=>!1))}catch(pa){return typeof console<"u"&&console.warn(pa),(0,B.of)(!1)}};return[Vo,S.runOutsideAngular(ko)]}return[Vo,(0,B.of)(!1)]},[u,ls,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:f}=Yv(a,o),S=this.schedulers.ngZone.run(()=>u);return new Qm(S,f,this)}collectionGroup(t,o){const a=o||(f=>f),u=this.firestore.collectionGroup(t);return new Zv(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new Iy(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(l.LFG(et.Dh),l.LFG(et.xv,8),l.LFG(kg,8),l.LFG(Si,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ae.HU),l.LFG(Ty,8),l.LFG(My,8),l.LFG(ol.zQ,8),l.LFG(ol.Qv,8),l.LFG(ol.L6,8),l.LFG(ol._Q,8),l.LFG(ol.rT,8),l.LFG(ol.lh,8),l.LFG(ol.f7,8),l.LFG($v.nm,8))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Su=(()=>{class r{constructor(){Gv.Z.registerVersion("angularfire",ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:kg,useValue:!0},{provide:Ty,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[qv]}),r})()},8445:(gn,ot,y)=>{y.d(ot,{Q1:()=>io,TE:()=>H});var l=y(9751),C=y(9646),p=y(8996),X=y(8372),B=y(4004),ae=y(3900),W=y(4976),ye=y(2223),Se=y(2011),oe=y(3942),ue=y(5861),pe=y(6881),Le=y(2090),Pe=y(4859);const et="firebasestorage.googleapis.com",We="storageBucket";class wt extends Le.ZR{constructor(D,ie,Oe=0){super(we(D),`Firebase Storage: ${ie} (${we(D)})`),this.status_=Oe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(D){this.status_=D}_codeEquals(D){return we(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var fe=(()=>((fe=fe||{}).UNKNOWN="unknown",fe.OBJECT_NOT_FOUND="object-not-found",fe.BUCKET_NOT_FOUND="bucket-not-found",fe.PROJECT_NOT_FOUND="project-not-found",fe.QUOTA_EXCEEDED="quota-exceeded",fe.UNAUTHENTICATED="unauthenticated",fe.UNAUTHORIZED="unauthorized",fe.UNAUTHORIZED_APP="unauthorized-app",fe.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",fe.INVALID_CHECKSUM="invalid-checksum",fe.CANCELED="canceled",fe.INVALID_EVENT_NAME="invalid-event-name",fe.INVALID_URL="invalid-url",fe.INVALID_DEFAULT_BUCKET="invalid-default-bucket",fe.NO_DEFAULT_BUCKET="no-default-bucket",fe.CANNOT_SLICE_BLOB="cannot-slice-blob",fe.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",fe.NO_DOWNLOAD_URL="no-download-url",fe.INVALID_ARGUMENT="invalid-argument",fe.INVALID_ARGUMENT_COUNT="invalid-argument-count",fe.APP_DELETED="app-deleted",fe.INVALID_ROOT_OPERATION="invalid-root-operation",fe.INVALID_FORMAT="invalid-format",fe.INTERNAL_ERROR="internal-error",fe.UNSUPPORTED_ENVIRONMENT="unsupported-environment",fe))();function we(b){return"storage/"+b}function me(){return new wt(fe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xe(){return new wt(fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ct(){return new wt(fe.CANCELED,"User canceled the upload/download.")}function bt(){return new wt(fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yt(b){return new wt(fe.INVALID_ARGUMENT,b)}function sn(){return new wt(fe.APP_DELETED,"The Firebase app was deleted.")}function bn(b){return new wt(fe.INVALID_ROOT_OPERATION,"The operation '"+b+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function on(b,D){return new wt(fe.INVALID_FORMAT,"String does not match format '"+b+"': "+D)}function Ft(b){throw new wt(fe.INTERNAL_ERROR,"Internal error: "+b)}class Je{constructor(D,ie){this.bucket=D,this.path_=ie}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,ie){let Oe;try{Oe=Je.makeFromUrl(D,ie)}catch{return new Je(D,"")}if(""===Oe.path)return Oe;throw function An(b){return new wt(fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+b+"'.")}(D)}static makeFromUrl(D,ie){let Oe=null;const _t="([A-Za-z0-9.\\-_]+)",Kn=new RegExp("^gs://"+_t+"(/(.*))?$","i");function wi(Pr){Pr.path_=decodeURIComponent(Pr.path)}const yr=ie.replace(/[.]/g,"\\."),Mr=[{regex:Kn,indices:{bucket:1,path:3},postModify:function $t(Pr){"/"===Pr.path.charAt(Pr.path.length-1)&&(Pr.path_=Pr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${yr}/v[A-Za-z0-9_]+/b/${_t}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:wi},{regex:new RegExp(`^https?://${ie===et?"(?:storage.googleapis.com|storage.cloud.google.com)":ie}/${_t}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:wi}];for(let Pr=0;Pr<Mr.length;Pr++){const To=Mr[Pr],Qo=To.regex.exec(D);if(Qo){let Rs=Qo[To.indices.path];Rs||(Rs=""),Oe=new Je(Qo[To.indices.bucket],Rs),To.postModify(Oe);break}}if(null==Oe)throw function yn(b){return new wt(fe.INVALID_URL,"Invalid URL '"+b+"'.")}(D);return Oe}}class ct{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function Ce(b){return"string"==typeof b||b instanceof String}function De(b){return Tt()&&b instanceof Blob}function Tt(){return typeof Blob<"u"&&!(0,Le.UG)()}function rn(b,D,ie,Oe){if(Oe<D)throw Yt(`Invalid value for '${b}'. Expected ${D} or greater.`);if(Oe>ie)throw Yt(`Invalid value for '${b}'. Expected ${ie} or less.`)}function an(b,D,ie){let Oe=D;return null==ie&&(Oe=`https://${D}`),`${ie}://${Oe}/v0${b}`}function It(b){const D=encodeURIComponent;let ie="?";for(const Oe in b)b.hasOwnProperty(Oe)&&(ie=ie+(D(Oe)+"=")+D(b[Oe])+"&");return ie=ie.slice(0,-1),ie}var he=(()=>((he=he||{})[he.NO_ERROR=0]="NO_ERROR",he[he.NETWORK_ERROR=1]="NETWORK_ERROR",he[he.ABORT=2]="ABORT",he))();function ze(b,D){const ie=b>=500&&b<600,_t=-1!==[408,429].indexOf(b),$t=-1!==D.indexOf(b);return ie||_t||$t}class at{constructor(D,ie,Oe,_t,$t,Tn,Kn,$n,wi,Ai,yr,Or=!0){this.url_=D,this.method_=ie,this.headers_=Oe,this.body_=_t,this.successCodes_=$t,this.additionalRetryCodes_=Tn,this.callback_=Kn,this.errorCallback_=$n,this.timeout_=wi,this.progressCallback_=Ai,this.connectionFactory_=yr,this.retry=Or,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fr,Ni)=>{this.resolve_=fr,this.reject_=Ni,this.start_()})}start_(){const ie=(Oe,_t)=>{const $t=this.resolve_,Tn=this.reject_,Kn=_t.connection;if(_t.wasSuccessCode)try{const $n=this.callback_(Kn,Kn.getResponse());!function nt(b){return void 0!==b}($n)?$t():$t($n)}catch($n){Tn($n)}else if(null!==Kn){const $n=me();$n.serverResponse=Kn.getErrorText(),Tn(this.errorCallback_?this.errorCallback_(Kn,$n):$n)}else Tn(_t.canceled?this.appDelete_?sn():Ct():Xe())};this.canceled_?ie(0,new ht(!1,null,!0)):this.backoffId_=function Rt(b,D,ie){let Oe=1,_t=null,$t=null,Tn=!1,Kn=0;function $n(){return 2===Kn}let wi=!1;function Ai(...fi){wi||(wi=!0,D.apply(null,fi))}function yr(fi){_t=setTimeout(()=>{_t=null,b(fr,$n())},fi)}function Or(){$t&&clearTimeout($t)}function fr(fi,...vo){if(wi)return void Or();if(fi)return Or(),void Ai.call(null,fi,...vo);if($n()||Tn)return Or(),void Ai.call(null,fi,...vo);let Mr;Oe<64&&(Oe*=2),1===Kn?(Kn=2,Mr=0):Mr=1e3*(Oe+Math.random()),yr(Mr)}let Ni=!1;function pr(fi){Ni||(Ni=!0,Or(),!wi&&(null!==_t?(fi||(Kn=2),clearTimeout(_t),yr(0)):fi||(Kn=1)))}return yr(0),$t=setTimeout(()=>{Tn=!0,pr(!0)},ie),pr}((Oe,_t)=>{if(_t)return void Oe(!1,new ht(!1,null,!0));const $t=this.connectionFactory_();this.pendingConnection_=$t;const Tn=Kn=>{null!==this.progressCallback_&&this.progressCallback_(Kn.loaded,Kn.lengthComputable?Kn.total:-1)};null!==this.progressCallback_&&$t.addUploadProgressListener(Tn),$t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&$t.removeUploadProgressListener(Tn),this.pendingConnection_=null;const Kn=$t.getErrorCode()===he.NO_ERROR,$n=$t.getStatus();if(!Kn||ze($n,this.additionalRetryCodes_)&&this.retry){const Ai=$t.getErrorCode()===he.ABORT;return void Oe(!1,new ht(!1,null,Ai))}const wi=-1!==this.successCodes_.indexOf($n);Oe(!0,new ht(wi,$t))})},ie,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function Et(b){b(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ht{constructor(D,ie,Oe){this.wasSuccessCode=D,this.connection=ie,this.canceled=!!Oe}}function dn(...b){const D=function En(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==D){const ie=new D;for(let Oe=0;Oe<b.length;Oe++)ie.append(b[Oe]);return ie.getBlob()}if(Tt())return new Blob(b);throw new wt(fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const kt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kt{constructor(D,ie){this.data=D,this.contentType=ie||null}}function Sn(b,D){switch(b){case kt.RAW:return new Kt(hi(D));case kt.BASE64:case kt.BASE64URL:return new Kt(gi(b,D));case kt.DATA_URL:return new Kt(function lt(b){const D=new Xt(b);return D.base64?gi(kt.BASE64,D.rest):function Ei(b){let D;try{D=decodeURIComponent(b)}catch{throw on(kt.DATA_URL,"Malformed data URL.")}return hi(D)}(D.rest)}(D),function ut(b){return new Xt(b).contentType}(D))}throw me()}function hi(b){const D=[];for(let ie=0;ie<b.length;ie++){let Oe=b.charCodeAt(ie);Oe<=127?D.push(Oe):Oe<=2047?D.push(192|Oe>>6,128|63&Oe):55296==(64512&Oe)?ie<b.length-1&&56320==(64512&b.charCodeAt(ie+1))?(Oe=65536|(1023&Oe)<<10|1023&b.charCodeAt(++ie),D.push(240|Oe>>18,128|Oe>>12&63,128|Oe>>6&63,128|63&Oe)):D.push(239,191,189):56320==(64512&Oe)?D.push(239,191,189):D.push(224|Oe>>12,128|Oe>>6&63,128|63&Oe)}return new Uint8Array(D)}function gi(b,D){switch(b){case kt.BASE64:{const _t=-1!==D.indexOf("-"),$t=-1!==D.indexOf("_");if(_t||$t)throw on(b,"Invalid character '"+(_t?"-":"_")+"' found: is it base64url encoded?");break}case kt.BASE64URL:{const _t=-1!==D.indexOf("+"),$t=-1!==D.indexOf("/");if(_t||$t)throw on(b,"Invalid character '"+(_t?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let ie;try{ie=function Ke(b){if(typeof atob>"u")throw function en(b){return new wt(fe.UNSUPPORTED_ENVIRONMENT,`${b} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(b)}(D)}catch(_t){throw _t.message.includes("polyfill")?_t:on(b,"Invalid character found")}const Oe=new Uint8Array(ie.length);for(let _t=0;_t<ie.length;_t++)Oe[_t]=ie.charCodeAt(_t);return Oe}class Xt{constructor(D){this.base64=!1,this.contentType=null;const ie=D.match(/^data:([^,]+)?,/);if(null===ie)throw on(kt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Oe=ie[1]||null;null!=Oe&&(this.base64=function Ze(b,D){return b.length>=D.length&&b.substring(b.length-D.length)===D}(Oe,";base64"),this.contentType=this.base64?Oe.substring(0,Oe.length-7):Oe),this.rest=D.substring(D.indexOf(",")+1)}}class He{constructor(D,ie){let Oe=0,_t="";De(D)?(this.data_=D,Oe=D.size,_t=D.type):D instanceof ArrayBuffer?(ie?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),Oe=this.data_.length):D instanceof Uint8Array&&(ie?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),Oe=D.length),this.size_=Oe,this.type_=_t}size(){return this.size_}type(){return this.type_}slice(D,ie){if(De(this.data_)){const _t=function Hn(b,D,ie){return b.webkitSlice?b.webkitSlice(D,ie):b.mozSlice?b.mozSlice(D,ie):b.slice?b.slice(D,ie):null}(this.data_,D,ie);return null===_t?null:new He(_t)}{const Oe=new Uint8Array(this.data_.buffer,D,ie-D);return new He(Oe,!0)}}static getBlob(...D){if(Tt()){const ie=D.map(Oe=>Oe instanceof He?Oe.data_:Oe);return new He(dn.apply(null,ie))}{const ie=D.map(Tn=>Ce(Tn)?Sn(kt.RAW,Tn).data:Tn.data_);let Oe=0;ie.forEach(Tn=>{Oe+=Tn.byteLength});const _t=new Uint8Array(Oe);let $t=0;return ie.forEach(Tn=>{for(let Kn=0;Kn<Tn.length;Kn++)_t[$t++]=Tn[Kn]}),new He(_t,!0)}}uploadData(){return this.data_}}function Re(b){let D;try{D=JSON.parse(b)}catch{return null}return function Ee(b){return"object"==typeof b&&!Array.isArray(b)}(D)?D:null}function Be(b){const D=b.lastIndexOf("/",b.length-2);return-1===D?b:b.slice(D+1)}function le(b,D){return D}class z{constructor(D,ie,Oe,_t){this.server=D,this.local=ie||D,this.writable=!!Oe,this.xform=_t||le}}let j=null;function de(){if(j)return j;const b=[];b.push(new z("bucket")),b.push(new z("generation")),b.push(new z("metageneration")),b.push(new z("name","fullPath",!0));const ie=new z("name");ie.xform=function D($t,Tn){return function $(b){return!Ce(b)||b.length<2?b:Be(b)}(Tn)},b.push(ie);const _t=new z("size");return _t.xform=function Oe($t,Tn){return void 0!==Tn?Number(Tn):Tn},b.push(_t),b.push(new z("timeCreated")),b.push(new z("updated")),b.push(new z("md5Hash",null,!0)),b.push(new z("cacheControl",null,!0)),b.push(new z("contentDisposition",null,!0)),b.push(new z("contentEncoding",null,!0)),b.push(new z("contentLanguage",null,!0)),b.push(new z("contentType",null,!0)),b.push(new z("metadata","customMetadata",!0)),j=b,j}function Fe(b,D,ie){const Oe=Re(D);return null===Oe?null:function Te(b,D,ie){const Oe={type:"file"},_t=ie.length;for(let $t=0;$t<_t;$t++){const Tn=ie[$t];Oe[Tn.local]=Tn.xform(Oe,D[Tn.server])}return function ce(b,D){Object.defineProperty(b,"ref",{get:function ie(){const $t=new Je(b.bucket,b.fullPath);return D._makeStorageReference($t)}})}(Oe,b),Oe}(b,Oe,ie)}function Y(b,D){const ie={},Oe=D.length;for(let _t=0;_t<Oe;_t++){const $t=D[_t];$t.writable&&(ie[$t.server]=b[$t.local])}return JSON.stringify(ie)}const Ie="prefixes",yt="items";class ti{constructor(D,ie,Oe,_t){this.url=D,this.method=ie,this.handler=Oe,this.timeout=_t,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Pt(b){if(!b)throw me()}function St(b,D){return function ie(Oe,_t){const $t=Fe(b,_t,D);return Pt(null!==$t),$t}}function Rn(b){return function D(ie,Oe){let _t;return _t=401===ie.getStatus()?ie.getErrorText().includes("Firebase App Check token is invalid")?function qe(){return new wt(fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Z(){return new wt(fe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ie.getStatus()?function Ve(b){return new wt(fe.QUOTA_EXCEEDED,"Quota for bucket '"+b+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(b.bucket):403===ie.getStatus()?function je(b){return new wt(fe.UNAUTHORIZED,"User does not have permission to access '"+b+"'.")}(b.path):Oe,_t.status=ie.getStatus(),_t.serverResponse=Oe.serverResponse,_t}}function zn(b){const D=Rn(b);return function ie(Oe,_t){let $t=D(Oe,_t);return 404===Oe.getStatus()&&($t=function ge(b){return new wt(fe.OBJECT_NOT_FOUND,"Object '"+b+"' does not exist.")}(b.path)),$t.serverResponse=_t.serverResponse,$t}}function di(b,D,ie){const _t=an(D.fullServerUrl(),b.host,b._protocol),Tn=b.maxOperationRetryTime,Kn=new ti(_t,"GET",St(b,ie),Tn);return Kn.errorHandler=zn(D),Kn}function Ji(b,D,ie,Oe,_t){const $t={};$t.prefix=D.isRoot?"":D.path+"/",ie&&ie.length>0&&($t.delimiter=ie),Oe&&($t.pageToken=Oe),_t&&($t.maxResults=_t);const Kn=an(D.bucketOnlyServerUrl(),b.host,b._protocol),wi=b.maxOperationRetryTime,Ai=new ti(Kn,"GET",function wn(b,D){return function ie(Oe,_t){const $t=function jn(b,D,ie){const Oe=Re(ie);return null===Oe?null:function Vt(b,D,ie){const Oe={prefixes:[],items:[],nextPageToken:ie.nextPageToken};if(ie[Ie])for(const _t of ie[Ie]){const $t=_t.replace(/\/$/,""),Tn=b._makeStorageReference(new Je(D,$t));Oe.prefixes.push(Tn)}if(ie[yt])for(const _t of ie[yt]){const $t=b._makeStorageReference(new Je(D,_t.name));Oe.items.push($t)}return Oe}(b,D,Oe)}(b,D,_t);return Pt(null!==$t),$t}}(b,D.bucket),wi);return Ai.urlParams=$t,Ai.errorHandler=Rn(D),Ai}function br(b,D,ie){const Oe=Object.assign({},ie);return Oe.fullPath=b.path,Oe.size=D.size(),Oe.contentType||(Oe.contentType=function ds(b,D){return b&&b.contentType||D&&D.type()||"application/octet-stream"}(null,D)),Oe}class zr{constructor(D,ie,Oe,_t){this.current=D,this.total=ie,this.finalized=!!Oe,this.metadata=_t||null}}function Zr(b,D){let ie=null;try{ie=b.getResponseHeader("X-Goog-Upload-Status")}catch{Pt(!1)}return Pt(!!ie&&-1!==(D||["active"]).indexOf(ie)),ie}const Yr={STATE_CHANGED:"state_changed"},er={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uo(b){switch(b){case"running":case"pausing":case"canceling":return er.RUNNING;case"paused":return er.PAUSED;case"success":return er.SUCCESS;case"canceled":return er.CANCELED;default:return er.ERROR}}class jr{constructor(D,ie,Oe){if(function ft(b){return"function"==typeof b}(D)||null!=ie||null!=Oe)this.next=D,this.error=ie??void 0,this.complete=Oe??void 0;else{const $t=D;this.next=$t.next,this.error=$t.error,this.complete=$t.complete}}}function xo(b){return(...D)=>{Promise.resolve().then(()=>b(...D))}}let Cs=null;class no{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=he.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=he.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=he.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,ie,Oe,_t){if(this.sent_)throw Ft("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ie,D,!0),void 0!==_t)for(const $t in _t)_t.hasOwnProperty($t)&&this.xhr_.setRequestHeader($t,_t[$t].toString());return void 0!==Oe?this.xhr_.send(Oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ft("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ft("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ft("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ft("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}class jo extends no{initXhr(){this.xhr_.responseType="text"}}function Hr(){return Cs?Cs():new jo}class Dr{constructor(D,ie,Oe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=ie,this._metadata=Oe,this._mappings=de(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=_t=>{if(this._request=void 0,this._chunkMultiplier=1,_t._codeEquals(fe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const $t=this.isExponentialBackoffExpired();if(ze(_t.status,[])){if(!$t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();_t=Xe()}this._error=_t,this._transition("error")}},this._metadataErrorHandler=_t=>{this._request=void 0,_t._codeEquals(fe.CANCELED)?this.completeTransitions_():(this._error=_t,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((_t,$t)=>{this._resolve=_t,this._reject=$t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const D=this._transferred;return ie=>this._updateProgress(D+ie)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ie,Oe])=>{switch(this._state){case"running":D(ie,Oe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,ie)=>{const Oe=function to(b,D,ie,Oe,_t){const $t=D.bucketOnlyServerUrl(),Tn=br(D,Oe,_t),Kn={name:Tn.fullPath},$n=an($t,b.host,b._protocol),Ai={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Oe.size()}`,"X-Goog-Upload-Header-Content-Type":Tn.contentType,"Content-Type":"application/json; charset=utf-8"},yr=Y(Tn,ie),Ni=new ti($n,"POST",function fr(pr){let fi;Zr(pr);try{fi=pr.getResponseHeader("X-Goog-Upload-URL")}catch{Pt(!1)}return Pt(Ce(fi)),fi},b.maxUploadRetryTime);return Ni.urlParams=Kn,Ni.headers=Ai,Ni.body=yr,Ni.errorHandler=Rn(D),Ni}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_t=this._ref.storage._makeRequest(Oe,Hr,D,ie);this._request=_t,_t.getPromise().then($t=>{this._request=void 0,this._uploadUrl=$t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((ie,Oe)=>{const _t=function Ri(b,D,ie,Oe){const $n=new ti(ie,"POST",function $t(wi){const Ai=Zr(wi,["active","final"]);let yr=null;try{yr=wi.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pt(!1)}yr||Pt(!1);const Or=Number(yr);return Pt(!isNaN(Or)),new zr(Or,Oe.size(),"final"===Ai)},b.maxUploadRetryTime);return $n.headers={"X-Goog-Upload-Command":"query"},$n.errorHandler=Rn(D),$n}(this._ref.storage,this._ref._location,D,this._blob),$t=this._ref.storage._makeRequest(_t,Hr,ie,Oe);this._request=$t,$t.getPromise().then(Tn=>{this._request=void 0,this._updateProgress(Tn.current),this._needToFetchStatus=!1,Tn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,ie=new zr(this._transferred,this._blob.size()),Oe=this._uploadUrl;this._resolveToken((_t,$t)=>{let Tn;try{Tn=function po(b,D,ie,Oe,_t,$t,Tn,Kn){const $n=new zr(0,0);if(Tn?($n.current=Tn.current,$n.total=Tn.total):($n.current=0,$n.total=Oe.size()),Oe.size()!==$n.total)throw function Bt(){return new wt(fe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const wi=$n.total-$n.current;let Ai=wi;_t>0&&(Ai=Math.min(Ai,_t));const yr=$n.current;let fr="";fr=0===Ai?"finalize":wi===Ai?"upload, finalize":"upload";const Ni={"X-Goog-Upload-Command":fr,"X-Goog-Upload-Offset":`${$n.current}`},pr=Oe.slice(yr,yr+Ai);if(null===pr)throw bt();const Mr=new ti(ie,"POST",function fi(Pr,To){const Qo=Zr(Pr,["active","final"]),Is=$n.current+Ai,Rs=Oe.size();let ps;return ps="final"===Qo?St(D,$t)(Pr,To):null,new zr(Is,Rs,"final"===Qo,ps)},D.maxUploadRetryTime);return Mr.headers=Ni,Mr.body=pr.uploadData(),Mr.progressCallback=Kn||null,Mr.errorHandler=Rn(b),Mr}(this._ref._location,this._ref.storage,Oe,this._blob,D,this._mappings,ie,this._makeProgressCallback())}catch($n){return this._error=$n,void this._transition("error")}const Kn=this._ref.storage._makeRequest(Tn,Hr,_t,$t,!1);this._request=Kn,Kn.getPromise().then($n=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress($n.current),$n.finalized?(this._metadata=$n.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,ie)=>{const Oe=di(this._ref.storage,this._ref._location,this._mappings),_t=this._ref.storage._makeRequest(Oe,Hr,D,ie);this._request=_t,_t.getPromise().then($t=>{this._request=void 0,this._metadata=$t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,ie)=>{const Oe=function Kr(b,D,ie,Oe,_t){const $t=D.bucketOnlyServerUrl(),Tn={"X-Goog-Upload-Protocol":"multipart"},$n=function Kn(){let Mr="";for(let Pr=0;Pr<2;Pr++)Mr+=Math.random().toString().slice(2);return Mr}();Tn["Content-Type"]="multipart/related; boundary="+$n;const wi=br(D,Oe,_t),Ai=Y(wi,ie),fr=He.getBlob("--"+$n+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ai+"\r\n--"+$n+"\r\nContent-Type: "+wi.contentType+"\r\n\r\n",Oe,"\r\n--"+$n+"--");if(null===fr)throw bt();const Ni={name:wi.fullPath},pr=an($t,b.host,b._protocol),vo=b.maxUploadRetryTime,Rr=new ti(pr,"POST",St(b,ie),vo);return Rr.urlParams=Ni,Rr.headers=Tn,Rr.body=fr.uploadData(),Rr.errorHandler=Rn(D),Rr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_t=this._ref.storage._makeRequest(Oe,Hr,D,ie);this._request=_t,_t.getPromise().then($t=>{this._request=void 0,this._metadata=$t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const ie=this._transferred;this._transferred=D,this._transferred!==ie&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ie="paused"===this._state;this._state=D,ie&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=Ct(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=uo(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,ie,Oe,_t){const $t=new jr(ie||void 0,Oe||void 0,_t||void 0);return this._addObserver($t),()=>{this._removeObserver($t)}}then(D,ie){return this._promise.then(D,ie)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const ie=this._observers.indexOf(D);-1!==ie&&this._observers.splice(ie,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ie=>{this._notifyObserver(ie)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(uo(this._state)){case er.SUCCESS:xo(this._resolve.bind(null,this.snapshot))();break;case er.CANCELED:case er.ERROR:xo(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(uo(this._state)){case er.RUNNING:case er.PAUSED:D.next&&xo(D.next.bind(D,this.snapshot))();break;case er.SUCCESS:D.complete&&xo(D.complete.bind(D))();break;default:D.error&&xo(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class yi{constructor(D,ie){this._service=D,this._location=ie instanceof Je?ie:Je.makeFromUrl(ie,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,ie){return new yi(D,ie)}get root(){const D=new Je(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Be(this._location.path)}get storage(){return this._service}get parent(){const D=function Mt(b){if(0===b.length)return null;const D=b.lastIndexOf("/");return-1===D?"":b.slice(0,D)}(this._location.path);if(null===D)return null;const ie=new Je(this._location.bucket,D);return new yi(this._service,ie)}_throwIfRoot(D){if(""===this._location.path)throw bn(D)}}function hn(b,D,ie){return _n.apply(this,arguments)}function _n(){return(_n=(0,ue.Z)(function*(b,D,ie){const _t=yield mn(b,{pageToken:ie});D.prefixes.push(..._t.prefixes),D.items.push(..._t.items),null!=_t.nextPageToken&&(yield hn(b,D,_t.nextPageToken))})).apply(this,arguments)}function mn(b,D){null!=D&&"number"==typeof D.maxResults&&rn("options.maxResults",1,1e3,D.maxResults);const ie=D||{},Oe=Ji(b.storage,b._location,"/",ie.pageToken,ie.maxResults);return b.storage.makeRequestWithTokens(Oe,Hr)}function bi(b){b._throwIfRoot("getDownloadURL");const D=function vr(b,D,ie){const _t=an(D.fullServerUrl(),b.host,b._protocol),Tn=b.maxOperationRetryTime,Kn=new ti(_t,"GET",function Vn(b,D){return function ie(Oe,_t){const $t=Fe(b,_t,D);return Pt(null!==$t),function Ue(b,D,ie,Oe){const _t=Re(D);if(null===_t||!Ce(_t.downloadTokens))return null;const $t=_t.downloadTokens;if(0===$t.length)return null;const Tn=encodeURIComponent;return $t.split(",").map(wi=>{const yr=b.fullPath;return an("/b/"+Tn(b.bucket)+"/o/"+Tn(yr),ie,Oe)+It({alt:"media",token:wi})})[0]}($t,_t,b.host,b._protocol)}}(b,ie),Tn);return Kn.errorHandler=zn(D),Kn}(b.storage,b._location,de());return b.storage.makeRequestWithTokens(D,Hr).then(ie=>{if(null===ie)throw function Ht(){return new wt(fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ie})}function Pi(b,D){const ie=function Gt(b,D){const ie=D.split("/").filter(Oe=>Oe.length>0).join("/");return 0===b.length?ie:b+"/"+ie}(b._location.path,D),Oe=new Je(b._location.bucket,ie);return new yi(b.storage,Oe)}function ho(b,D){if(b instanceof Po){const ie=b;if(null==ie._bucket)throw function vt(){return new wt(fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+We+"' property when initializing the app?")}();const Oe=new yi(ie,ie._bucket);return null!=D?ho(Oe,D):Oe}return void 0!==D?Pi(b,D):b}function Co(b,D){if(D&&function ir(b){return/^[A-Za-z]+:\/\//.test(b)}(D)){if(b instanceof Po)return function Wi(b,D){return new yi(b,D)}(b,D);throw Yt("To use ref(service, url), the first argument must be a Storage instance.")}return ho(b,D)}function ci(b,D){const ie=D?.[We];return null==ie?null:Je.makeFromBucketSpec(ie,b)}class Po{constructor(D,ie,Oe,_t,$t){this.app=D,this._authProvider=ie,this._appCheckProvider=Oe,this._url=_t,this._firebaseVersion=$t,this._bucket=null,this._host=et,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=_t?Je.makeFromBucketSpec(_t,this._host):ci(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?Je.makeFromBucketSpec(this._url,D):ci(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){rn("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){rn("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,ue.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const ie=D._authProvider.getImmediate({optional:!0});if(ie){const Oe=yield ie.getToken();if(null!==Oe)return Oe.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,ue.Z)(function*(){const ie=D._appCheckProvider.getImmediate({optional:!0});return ie?(yield ie.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new yi(this,D)}_makeRequest(D,ie,Oe,_t,$t=!0){if(this._deleted)return new ct(sn());{const Tn=function ri(b,D,ie,Oe,_t,$t,Tn=!0){const Kn=It(b.urlParams),$n=b.url+Kn,wi=Object.assign({},b.headers);return function cn(b,D){D&&(b["X-Firebase-GMPID"]=D)}(wi,D),function At(b,D){null!==D&&D.length>0&&(b.Authorization="Firebase "+D)}(wi,ie),function qt(b,D){b["X-Firebase-Storage-Version"]="webjs/"+(D??"AppManager")}(wi,$t),function Zn(b,D){null!==D&&(b["X-Firebase-AppCheck"]=D)}(wi,Oe),new at($n,b.method,wi,b.body,b.successCodes,b.additionalRetryCodes,b.handler,b.errorHandler,b.timeout,b.progressCallback,_t,Tn)}(D,this._appId,Oe,_t,ie,this._firebaseVersion,$t);return this._requests.add(Tn),Tn.getPromise().then(()=>this._requests.delete(Tn),()=>this._requests.delete(Tn)),Tn}}makeRequestWithTokens(D,ie){var Oe=this;return(0,ue.Z)(function*(){const[_t,$t]=yield Promise.all([Oe._getAuthToken(),Oe._getAppCheckToken()]);return Oe._makeRequest(D,ie,_t,$t).getPromise()})()}}const Nr="@firebase/storage";function Io(b,D){return Co(b=(0,Le.m9)(b),D)}function Ir(b,{instanceIdentifier:D}){const ie=b.getProvider("app").getImmediate(),Oe=b.getProvider("auth-internal"),_t=b.getProvider("app-check-internal");return new Po(ie,Oe,_t,D,pe.SDK_VERSION)}!function No(){(0,pe._registerComponent)(new Pe.wA("storage",Ir,"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Nr,"0.11.2",""),(0,pe.registerVersion)(Nr,"0.11.2","esm2017")}();class Zi{constructor(D,ie,Oe){this._delegate=D,this.task=ie,this.ref=Oe}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Tr{constructor(D,ie){this._delegate=D,this._ref=ie,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Zi(this._delegate.snapshot,this,this._ref)}then(D,ie){return this._delegate.then(Oe=>{if(D)return D(new Zi(Oe,this,this._ref))},ie)}on(D,ie,Oe,_t){let $t;return ie&&($t="function"==typeof ie?Tn=>ie(new Zi(Tn,this,this._ref)):{next:ie.next?Tn=>ie.next(new Zi(Tn,this,this._ref)):void 0,complete:ie.complete||void 0,error:ie.error||void 0}),this._delegate.on(D,$t,Oe||void 0,_t||void 0)}}class fo{constructor(D,ie){this._delegate=D,this._service=ie}get prefixes(){return this._delegate.prefixes.map(D=>new Lr(D,this._service))}get items(){return this._delegate.items.map(D=>new Lr(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Lr{constructor(D,ie){this._delegate=D,this.storage=ie}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const ie=function zo(b,D){return Pi(b,D)}(this._delegate,D);return new Lr(ie,this.storage)}get root(){return new Lr(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new Lr(D,this.storage)}put(D,ie){return this._throwIfRoot("put"),new Tr(function Os(b,D,ie){return function Dt(b,D,ie){return b._throwIfRoot("uploadBytesResumable"),new Dr(b,new He(D),ie)}(b=(0,Le.m9)(b),D,ie)}(this._delegate,D,ie),this)}putString(D,ie=kt.RAW,Oe){this._throwIfRoot("putString");const _t=Sn(ie,D),$t=Object.assign({},Oe);return null==$t.contentType&&null!=_t.contentType&&($t.contentType=_t.contentType),new Tr(new Dr(this._delegate,new He(_t.data,!0),$t),this)}listAll(){return function go(b){return function jt(b){const D={prefixes:[],items:[]};return hn(b,D).then(()=>D)}(b=(0,Le.m9)(b))}(this._delegate).then(D=>new fo(D,this.storage))}list(D){return function Yo(b,D){return mn(b=(0,Le.m9)(b),D)}(this._delegate,D||void 0).then(ie=>new fo(ie,this.storage))}getMetadata(){return function dr(b){return function Pn(b){b._throwIfRoot("getMetadata");const D=di(b.storage,b._location,de());return b.storage.makeRequestWithTokens(D,Hr)}(b=(0,Le.m9)(b))}(this._delegate)}updateMetadata(D){return function or(b,D){return function ai(b,D){b._throwIfRoot("updateMetadata");const ie=function eo(b,D,ie,Oe){const $t=an(D.fullServerUrl(),b.host,b._protocol),Kn=Y(ie,Oe),wi=b.maxOperationRetryTime,Ai=new ti($t,"PATCH",St(b,Oe),wi);return Ai.headers={"Content-Type":"application/json; charset=utf-8"},Ai.body=Kn,Ai.errorHandler=zn(D),Ai}(b.storage,b._location,D,de());return b.storage.makeRequestWithTokens(ie,Hr)}(b=(0,Le.m9)(b),D)}(this._delegate,D)}getDownloadURL(){return function ki(b){return bi(b=(0,Le.m9)(b))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ki(b){return function Fr(b){b._throwIfRoot("deleteObject");const D=function Oo(b,D){const Oe=an(D.fullServerUrl(),b.host,b._protocol),Kn=new ti(Oe,"DELETE",function Tn($n,wi){},b.maxOperationRetryTime);return Kn.successCodes=[200,204],Kn.errorHandler=zn(D),Kn}(b.storage,b._location);return b.storage.makeRequestWithTokens(D,Hr)}(b=(0,Le.m9)(b))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw bn(D)}}class qo{constructor(D,ie){this.app=D,this._delegate=ie}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(Gi(D))throw Yt("ref() expected a child path but got a URL, use refFromURL instead.");return new Lr(Io(this._delegate,D),this)}refFromURL(D){if(!Gi(D))throw Yt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Je.makeFromUrl(D,this._delegate.host)}catch{throw Yt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Lr(Io(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,ie,Oe={}){!function is(b,D,ie,Oe={}){!function ns(b,D,ie,Oe={}){b.host=`${D}:${ie}`,b._protocol="http";const{mockUserToken:_t}=Oe;_t&&(b._overrideAuthToken="string"==typeof _t?_t:(0,Le.Sg)(_t,b.app.options.projectId))}(b,D,ie,Oe)}(this._delegate,D,ie,Oe)}}function Gi(b){return/^[A-Za-z]+:\/\//.test(b)}function ms(b,{instanceIdentifier:D}){const ie=b.getProvider("app-compat").getImmediate(),Oe=b.getProvider("storage").getImmediate({identifier:D});return new qo(ie,Oe)}!function fs(b){const D={TaskState:er,TaskEvent:Yr,StringFormat:kt,Storage:qo,Reference:Lr};b.INTERNAL.registerComponent(new Pe.wA("storage-compat",ms,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),b.registerVersion("@firebase/storage-compat","0.3.2")}(oe.Z);var tt=y(6217),it=y(9260);function st(b){const D=function q(b){return new l.y(D=>{const ie=Tn=>D.next(Tn);ie(b.snapshot);const $t=b.on("state_changed",ie);return b.then(Tn=>{ie(Tn),D.complete()},Tn=>{ie(b.snapshot),(Tn=>{D.error(Tn)})(Tn)}),function(){$t()}}).pipe((0,X.b)(0))}(b);return{task:b,then:b.then.bind(b),catch:b.catch.bind(b),pause:b.pause.bind(b),cancel:b.cancel.bind(b),resume:b.resume.bind(b),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,B.U)(ie=>ie.bytesTransferred/ie.totalBytes*100))}}function ln(b){return{getDownloadURL:()=>(0,C.of)(void 0).pipe(W.fc,(0,ae.w)(()=>b.getDownloadURL()),W.iC),getMetadata:()=>(0,C.of)(void 0).pipe(W.fc,(0,ae.w)(()=>b.getMetadata()),W.iC),delete:()=>(0,p.D)(b.delete()),child:D=>ln(b.child(D)),updateMetadata:D=>(0,p.D)(b.updateMetadata(D)),put:(D,ie)=>st(b.put(D,ie)),putString:(D,ie,Oe)=>st(b.putString(D,ie,Oe)),list:D=>(0,p.D)(b.list(D)),listAll:()=>(0,p.D)(b.listAll())}}const On=new ye.OlP("angularfire2.storageBucket"),Fi=new ye.OlP("angularfire2.storage.maxUploadRetryTime"),kr=new ye.OlP("angularfire2.storage.maxOperationRetryTime"),Ar=new ye.OlP("angularfire2.storage.use-emulator");let io=(()=>{class b{constructor(ie,Oe,_t,$t,Tn,Kn,$n,wi,Ai,yr){const Or=(0,Se.on)(ie,Tn,Oe);this.storage=(0,Se.cc)(`${Or.name}.storage.${_t}`,"AngularFireStorage",Or.name,()=>{const fr=Tn.runOutsideAngular(()=>Or.storage(_t||void 0)),Ni=Ai;return Ni&&fr.useEmulator(...Ni),$n&&fr.setMaxUploadRetryTime($n),wi&&fr.setMaxOperationRetryTime(wi),fr},[$n,wi])}ref(ie){return ln(this.storage.ref(ie))}refFromURL(ie){return ln(this.storage.refFromURL(ie))}upload(ie,Oe,_t){return ln(this.storage.ref(ie)).put(Oe,_t)}}return b.\u0275fac=function(ie){return new(ie||b)(ye.LFG(Se.Dh),ye.LFG(Se.xv,8),ye.LFG(On,8),ye.LFG(ye.Lbi),ye.LFG(ye.R0b),ye.LFG(W.HU),ye.LFG(Fi,8),ye.LFG(kr,8),ye.LFG(Ar,8),ye.LFG(tt.nm,8))},b.\u0275prov=ye.Yz7({token:b,factory:b.\u0275fac,providedIn:"any"}),b})(),K=(()=>{class b{}return b.\u0275fac=function(ie){return new(ie||b)},b.\u0275mod=ye.oAB({type:b}),b.\u0275inj=ye.cJS({}),b})(),H=(()=>{class b{constructor(){it.Z.registerVersion("angularfire",W.q4.full,"gcs-compat")}}return b.\u0275fac=function(ie){return new(ie||b)},b.\u0275mod=ye.oAB({type:b}),b.\u0275inj=ye.cJS({providers:[io],imports:[K]}),b})()},2011:(gn,ot,y)=>{y.d(ot,{Dh:()=>ye,GT:()=>ae,cc:()=>Pe,hO:()=>Le,on:()=>oe,pX:()=>B,xv:()=>Se});var l=y(2223),C=y(9260),p=y(4976);gn=y.hmd(gn);const X=["ngOnDestroy"],B=($e,ke,wt,fe={})=>new Proxy($e,{get:(we,me)=>wt.runOutsideAngular(()=>{var ge;if($e[me])return!(null===(ge=fe?.spy)||void 0===ge)&&ge.get&&fe.spy.get(me,$e[me]),$e[me];if(X.indexOf(me)>-1)return()=>{};const Ve=ke.toPromise().then(Z=>{const qe=Z&&Z[me];return"function"==typeof qe?qe.bind(Z):qe&&qe.then?qe.then(je=>wt.run(()=>je)):wt.run(()=>qe)});return new Proxy(()=>{},{get:(Z,qe)=>Ve[qe],apply:(Z,qe,je)=>Ve.then(Xe=>{var Ct;const yn=Xe&&Xe(...je);return!(null===(Ct=fe?.spy)||void 0===Ct)&&Ct.apply&&fe.spy.apply(me,je,yn),yn})})})}),ae=($e,ke)=>{ke.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(fe=>{Object.defineProperty($e.prototype,fe,Object.getOwnPropertyDescriptor(wt.prototype||wt,fe))})})};class W{constructor(ke){return ke}}const ye=new l.OlP("angularfire2.app.options"),Se=new l.OlP("angularfire2.app.name");function oe($e,ke,wt){const we="object"==typeof wt&&wt||{};we.name=we.name||"string"==typeof wt&&wt||"[DEFAULT]";const ge=C.Z.apps.filter(Ve=>Ve&&Ve.name===we.name)[0]||ke.runOutsideAngular(()=>C.Z.initializeApp($e,we));try{JSON.stringify($e)!==JSON.stringify(ge.options)&&ue("error",`${ge.name} Firebase App already initialized with different options${gn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new W(ge)}const ue=($e,...ke)=>{(0,l.X6Q)()&&typeof console<"u"&&console[$e](...ke)},pe={provide:W,useFactory:oe,deps:[ye,l.R0b,[new l.FiY,Se]]};let Le=(()=>{class $e{constructor(wt){C.Z.registerVersion("angularfire",p.q4.full,"core"),C.Z.registerVersion("angularfire",p.q4.full,"app-compat"),C.Z.registerVersion("angular",l.q4F.full,wt.toString())}static initializeApp(wt,fe){return{ngModule:$e,providers:[{provide:ye,useValue:wt},{provide:Se,useValue:fe}]}}}return $e.\u0275fac=function(wt){return new(wt||$e)(l.LFG(l.Lbi))},$e.\u0275mod=l.oAB({type:$e}),$e.\u0275inj=l.cJS({providers:[pe]}),$e})();function Pe($e,ke,wt,fe,we){const[,me,ge]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===$e)||[];if(me)return function et($e,ke){try{return $e.toString()===ke.toString()}catch{return $e===ke}}(we,ge)||(Ye("error",`${ke} was already initialized on the ${wt} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:we,was:ge})),me;{const Ve=fe();return globalThis.\u0275AngularfireInstanceCache.push([$e,Ve,we]),Ve}}const We=!!gn.hot,Ye=($e,...ke)=>{(0,l.X6Q)()&&typeof console<"u"&&console[$e](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(gn,ot,y)=>{y.d(ot,{q4:()=>cs,iC:()=>ja,fc:()=>ra,HU:()=>Za,vb:()=>Vc,JM:()=>Ka});var l=y(2223),C=y(259),p=y(5861),X=y(6881),B=y(2090),ae=y(4859),W=y(1877);const ye=(M,L)=>L.some(re=>M instanceof re);let Se,oe;const Le=new WeakMap,Pe=new WeakMap,et=new WeakMap,We=new WeakMap,Ye=new WeakMap;let wt={get(M,L,re){if(M instanceof IDBTransaction){if("done"===L)return Pe.get(M);if("objectStoreNames"===L)return M.objectStoreNames||et.get(M);if("store"===L)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return ge(M[L])},set:(M,L,re)=>(M[L]=re,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function me(M){return"function"==typeof M?function we(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(Ve(this),L),ge(Le.get(this))}:function(...L){return ge(M.apply(Ve(this),L))}:function(L,...re){const Ge=M.call(Ve(this),L,...re);return et.set(Ge,L.sort?L.sort():[L]),ge(Ge)}}(M):(M instanceof IDBTransaction&&function ke(M){if(Pe.has(M))return;const L=new Promise((re,Ge)=>{const xt=()=>{M.removeEventListener("complete",zt),M.removeEventListener("error",un),M.removeEventListener("abort",un)},zt=()=>{re(),xt()},un=()=>{Ge(M.error||new DOMException("AbortError","AbortError")),xt()};M.addEventListener("complete",zt),M.addEventListener("error",un),M.addEventListener("abort",un)});Pe.set(M,L)}(M),ye(M,function ue(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,wt):M)}function ge(M){if(M instanceof IDBRequest)return function $e(M){const L=new Promise((re,Ge)=>{const xt=()=>{M.removeEventListener("success",zt),M.removeEventListener("error",un)},zt=()=>{re(ge(M.result)),xt()},un=()=>{Ge(M.error),xt()};M.addEventListener("success",zt),M.addEventListener("error",un)});return L.then(re=>{re instanceof IDBCursor&&Le.set(re,M)}).catch(()=>{}),Ye.set(L,M),L}(M);if(We.has(M))return We.get(M);const L=me(M);return L!==M&&(We.set(M,L),Ye.set(L,M)),L}const Ve=M=>Ye.get(M),je=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Ct=new Map;function yn(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(Ct.get(L))return Ct.get(L);const re=L.replace(/FromIndex$/,""),Ge=L!==re,xt=Xe.includes(re);if(!(re in(Ge?IDBIndex:IDBObjectStore).prototype)||!xt&&!je.includes(re))return;const zt=function(){var un=(0,p.Z)(function*(qn,...Wn){const pi=this.transaction(qn,xt?"readwrite":"readonly");let Li=pi.store;return Ge&&(Li=Li.index(Wn.shift())),(yield Promise.all([Li[re](...Wn),xt&&pi.done]))[0]});return function(Wn){return un.apply(this,arguments)}}();return Ct.set(L,zt),zt}!function fe(M){wt=M(wt)}(M=>({...M,get:(L,re,Ge)=>yn(L,re)||M.get(L,re,Ge),has:(L,re)=>!!yn(L,re)||M.has(L,re)}));const An="@firebase/installations",vt="0.6.4",bt=1e4,Bt=`w:${vt}`,Ht="FIS_v2",en="https://firebaseinstallations.googleapis.com/v1",Yt=36e5,Ft=new B.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(M){return M instanceof B.ZR&&M.code.includes("request-failed")}function ct({projectId:M}){return`${en}/projects/${M}/installations`}function Rt(M){return{token:M.token,requestStatus:2,expiresIn:Tt(M.expiresIn),creationTime:Date.now()}}function Et(M,L){return nt.apply(this,arguments)}function nt(){return(nt=(0,p.Z)(function*(M,L){const Ge=(yield L.json()).error;return Ft.create("request-failed",{requestName:M,serverCode:Ge.code,serverMessage:Ge.message,serverStatus:Ge.status})})).apply(this,arguments)}function ft({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Ce(M){return De.apply(this,arguments)}function De(){return(De=(0,p.Z)(function*(M){const L=yield M();return L.status>=500&&L.status<600?M():L})).apply(this,arguments)}function Tt(M){return Number(M.replace("s","000"))}function It(){return(It=(0,p.Z)(function*({appConfig:M,heartbeatServiceProvider:L},{fid:re}){const Ge=ct(M),xt=ft(M),zt=L.getImmediate({optional:!0});if(zt){const pi=yield zt.getHeartbeatsHeader();pi&&xt.append("x-firebase-client",pi)}const qn={method:"POST",headers:xt,body:JSON.stringify({fid:re,authVersion:Ht,appId:M.appId,sdkVersion:Bt})},Wn=yield Ce(()=>fetch(Ge,qn));if(Wn.ok){const pi=yield Wn.json();return{fid:pi.fid||re,registrationStatus:2,refreshToken:pi.refreshToken,authToken:Rt(pi.authToken)}}throw yield Et("Create Installation",Wn)})).apply(this,arguments)}function he(M){return new Promise(L=>{setTimeout(L,M)})}const at=/^[cdef][\w-]{21}$/,ht="";function At(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const re=function qt(M){return function ze(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return at.test(re)?re:ht}catch{return ht}}function cn(M){return`${M.appName}!${M.appId}`}const Zn=new Map;function ri(M,L){const re=cn(M);Hn(re,L),function Ke(M,L){const re=function Kt(){return!kt&&"BroadcastChannel"in self&&(kt=new BroadcastChannel("[Firebase] FID Change"),kt.onmessage=M=>{Hn(M.data.key,M.data.fid)}),kt}();re&&re.postMessage({key:M,fid:L}),function Sn(){0===Zn.size&&kt&&(kt.close(),kt=null)}()}(re,L)}function Hn(M,L){const re=Zn.get(M);if(re)for(const Ge of re)Ge(L)}let kt=null;const hi="firebase-installations-database",Ei=1,gi="firebase-installations-store";let Xt=null;function lt(){return Xt||(Xt=function Z(M,L,{blocked:re,upgrade:Ge,blocking:xt,terminated:zt}={}){const un=indexedDB.open(M,L),qn=ge(un);return Ge&&un.addEventListener("upgradeneeded",Wn=>{Ge(ge(un.result),Wn.oldVersion,Wn.newVersion,ge(un.transaction))}),re&&un.addEventListener("blocked",()=>re()),qn.then(Wn=>{zt&&Wn.addEventListener("close",()=>zt()),xt&&Wn.addEventListener("versionchange",()=>xt())}).catch(()=>{}),qn}(hi,Ei,{upgrade:(M,L)=>{0===L&&M.createObjectStore(gi)}})),Xt}function ut(M,L){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,p.Z)(function*(M,L){const re=cn(M),xt=(yield lt()).transaction(gi,"readwrite"),zt=xt.objectStore(gi),un=yield zt.get(re);return yield zt.put(L,re),yield xt.done,(!un||un.fid!==L.fid)&&ri(M,L.fid),L})).apply(this,arguments)}function He(M){return Re.apply(this,arguments)}function Re(){return(Re=(0,p.Z)(function*(M){const L=cn(M),Ge=(yield lt()).transaction(gi,"readwrite");yield Ge.objectStore(gi).delete(L),yield Ge.done})).apply(this,arguments)}function Mt(M,L){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(M,L){const re=cn(M),xt=(yield lt()).transaction(gi,"readwrite"),zt=xt.objectStore(gi),un=yield zt.get(re),qn=L(un);return void 0===qn?yield zt.delete(re):yield zt.put(qn,re),yield xt.done,qn&&(!un||un.fid!==qn.fid)&&ri(M,qn.fid),qn})).apply(this,arguments)}function Be(M){return le.apply(this,arguments)}function le(){return le=(0,p.Z)(function*(M){let L;const re=yield Mt(M.appConfig,Ge=>{const xt=function z(M){return Ue(M||{fid:At(),registrationStatus:0})}(Ge),zt=function j(M,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Ft.create("app-offline"))};const re={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},Ge=function $(M,L){return de.apply(this,arguments)}(M,re);return{installationEntry:re,registrationPromise:Ge}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:ce(M)}:{installationEntry:L}}(M,xt);return L=zt.registrationPromise,zt.installationEntry});return re.fid===ht?{installationEntry:yield L}:{installationEntry:re,registrationPromise:L}}),le.apply(this,arguments)}function de(){return de=(0,p.Z)(function*(M,L){try{const re=yield function an(M,L){return It.apply(this,arguments)}(M,L);return ut(M.appConfig,re)}catch(re){throw Je(re)&&409===re.customData.serverCode?yield He(M.appConfig):yield ut(M.appConfig,{fid:L.fid,registrationStatus:0}),re}}),de.apply(this,arguments)}function ce(M){return Te.apply(this,arguments)}function Te(){return(Te=(0,p.Z)(function*(M){let L=yield Fe(M.appConfig);for(;1===L.registrationStatus;)yield he(100),L=yield Fe(M.appConfig);if(0===L.registrationStatus){const{installationEntry:re,registrationPromise:Ge}=yield Be(M);return Ge||re}return L})).apply(this,arguments)}function Fe(M){return Mt(M,L=>{if(!L)throw Ft.create("installation-not-found");return Ue(L)})}function Ue(M){return function Y(M){return 1===M.registrationStatus&&M.registrationTime+bt<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function yt(){return(yt=(0,p.Z)(function*({appConfig:M,heartbeatServiceProvider:L},re){const Ge=function Vt(M,{fid:L}){return`${ct(M)}/${L}/authTokens:generate`}(M,re),xt=function Ee(M,{refreshToken:L}){const re=ft(M);return re.append("Authorization",function rn(M){return`${Ht} ${M}`}(L)),re}(M,re),zt=L.getImmediate({optional:!0});if(zt){const pi=yield zt.getHeartbeatsHeader();pi&&xt.append("x-firebase-client",pi)}const qn={method:"POST",headers:xt,body:JSON.stringify({installation:{sdkVersion:Bt,appId:M.appId}})},Wn=yield Ce(()=>fetch(Ge,qn));if(Wn.ok)return Rt(yield Wn.json());throw yield Et("Generate Auth Token",Wn)})).apply(this,arguments)}function jn(M){return ti.apply(this,arguments)}function ti(){return ti=(0,p.Z)(function*(M,L=!1){let re;const Ge=yield Mt(M.appConfig,zt=>{if(!zn(zt))throw Ft.create("not-registered");const un=zt.authToken;if(!L&&function di(M){return 2===M.requestStatus&&!function Ji(M){const L=Date.now();return L<M.creationTime||M.creationTime+M.expiresIn<L+Yt}(M)}(un))return zt;if(1===un.requestStatus)return re=function Pt(M,L){return St.apply(this,arguments)}(M,L),zt;{if(!navigator.onLine)throw Ft.create("app-offline");const qn=function _i(M){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:L})}(zt);return re=function Vn(M,L){return Rn.apply(this,arguments)}(M,qn),qn}});return re?yield re:Ge.authToken}),ti.apply(this,arguments)}function St(){return(St=(0,p.Z)(function*(M,L){let re=yield wn(M.appConfig);for(;1===re.authToken.requestStatus;)yield he(100),re=yield wn(M.appConfig);const Ge=re.authToken;return 0===Ge.requestStatus?jn(M,L):Ge})).apply(this,arguments)}function wn(M){return Mt(M,L=>{if(!zn(L))throw Ft.create("not-registered");return function vr(M){return 1===M.requestStatus&&M.requestTime+bt<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Rn(){return Rn=(0,p.Z)(function*(M,L){try{const re=yield function Ie(M,L){return yt.apply(this,arguments)}(M,L),Ge=Object.assign(Object.assign({},L),{authToken:re});return yield ut(M.appConfig,Ge),re}catch(re){if(!Je(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const Ge=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield ut(M.appConfig,Ge)}else yield He(M.appConfig);throw re}}),Rn.apply(this,arguments)}function zn(M){return void 0!==M&&2===M.registrationStatus}function Oo(){return(Oo=(0,p.Z)(function*(M){const L=M,{installationEntry:re,registrationPromise:Ge}=yield Be(L);return Ge?Ge.catch(console.error):jn(L).catch(console.error),re.fid})).apply(this,arguments)}function br(){return br=(0,p.Z)(function*(M,L=!1){const re=M;return yield function Kr(M){return zr.apply(this,arguments)}(re),(yield jn(re,L)).token}),br.apply(this,arguments)}function zr(){return(zr=(0,p.Z)(function*(M){const{registrationPromise:L}=yield Be(M);L&&(yield L)})).apply(this,arguments)}function jr(M){return Ft.create("missing-app-config-values",{valueName:M})}const xo="installations",no=M=>{const L=M.getProvider("app").getImmediate(),re=function uo(M){if(!M||!M.options)throw jr("App Configuration");if(!M.name)throw jr("App Name");const L=["projectId","apiKey","appId"];for(const re of L)if(!M.options[re])throw jr(re);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(L);return{app:L,appConfig:re,heartbeatServiceProvider:(0,X._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},jo=M=>{const L=M.getProvider("app").getImmediate(),re=(0,X._getProvider)(L,xo).getImmediate();return{getId:()=>function eo(M){return Oo.apply(this,arguments)}(re),getToken:xt=>function ds(M){return br.apply(this,arguments)}(re,xt)}};(function Hr(){(0,X._registerComponent)(new ae.wA(xo,no,"PUBLIC")),(0,X._registerComponent)(new ae.wA("installations-internal",jo,"PRIVATE"))})(),(0,X.registerVersion)(An,vt),(0,X.registerVersion)(An,vt,"esm2017");const Cr="@firebase/remote-config",yi=new B.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ns{constructor(L,re,Ge,xt){this.client=L,this.storage=re,this.storageCache=Ge,this.logger=xt}isCachedDataFresh(L,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-re,xt=Ge<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${xt}.`),xt}fetch(L){var re=this;return(0,p.Z)(function*(){const[Ge,xt]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(xt&&re.isCachedDataFresh(L.cacheMaxAgeMillis,Ge))return xt;L.eTag=xt&&xt.eTag;const zt=yield re.client.fetch(L),un=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===zt.status&&un.push(re.storage.setLastSuccessfulFetchResponse(zt)),yield Promise.all(un),zt})()}}function Po(M=navigator){return M.languages&&M.languages[0]||M.language}class Nr{constructor(L,re,Ge,xt,zt,un){this.firebaseInstallations=L,this.sdkVersion=re,this.namespace=Ge,this.projectId=xt,this.apiKey=zt,this.appId=un}fetch(L){var re=this;return(0,p.Z)(function*(){const[Ge,xt]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),un=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,qn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Wn={sdk_version:re.sdkVersion,app_instance_id:Ge,app_instance_id_token:xt,app_id:re.appId,language_code:Po()},pi={method:"POST",headers:qn,body:JSON.stringify(Wn)},Li=fetch(un,pi),Mi=new Promise((oa,Sa)=>{L.signal.addEventListener(()=>{const xa=new Error("The operation was aborted.");xa.name="AbortError",Sa(xa)})});let As;try{yield Promise.race([Li,Mi]),As=yield Li}catch(oa){let Sa="fetch-client-network";throw"AbortError"===oa?.name&&(Sa="fetch-timeout"),yi.create(Sa,{originalErrorMessage:oa?.message})}let _r=As.status;const Qa=As.headers.get("ETag")||void 0;let Wr,Hs;if(200===As.status){let oa;try{oa=yield As.json()}catch(Sa){throw yi.create("fetch-client-parse",{originalErrorMessage:Sa?.message})}Wr=oa.entries,Hs=oa.state}if("INSTANCE_STATE_UNSPECIFIED"===Hs?_r=500:"NO_CHANGE"===Hs?_r=304:("NO_TEMPLATE"===Hs||"EMPTY_CONFIG"===Hs)&&(Wr={}),304!==_r&&200!==_r)throw yi.create("fetch-status",{httpStatus:_r});return{status:_r,eTag:Qa,config:Wr}})()}}class Ds{constructor(L,re){this.client=L,this.storage=re}fetch(L){var re=this;return(0,p.Z)(function*(){const Ge=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(L,Ge)})()}attemptFetch(L,{throttleEndTimeMillis:re,backoffCount:Ge}){var xt=this;return(0,p.Z)(function*(){yield function rr(M,L){return new Promise((re,Ge)=>{const xt=Math.max(L-Date.now(),0),zt=setTimeout(re,xt);M.addEventListener(()=>{clearTimeout(zt),Ge(yi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,re);try{const zt=yield xt.client.fetch(L);return yield xt.storage.deleteThrottleMetadata(),zt}catch(zt){if(!function Ho(M){if(!(M instanceof B.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(zt))throw zt;const un={throttleEndTimeMillis:Date.now()+(0,B.$s)(Ge),backoffCount:Ge+1};return yield xt.storage.setThrottleMetadata(un),xt.attemptFetch(L,un)}})()}}class Os{constructor(L,re,Ge,xt,zt){this.app=L,this._client=re,this._storageCache=Ge,this._storage=xt,this._logger=zt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function dr(M,L){const re=M.target.error||void 0;return yi.create(L,{originalErrorMessage:re&&re?.message})}const or="app_namespace_store";class Ki{constructor(L,re,Ge,xt=function ki(){return new Promise((M,L)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=Ge=>{L(dr(Ge,"storage-open"))},re.onsuccess=Ge=>{M(Ge.target.result)},re.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(or,{keyPath:"compositeKey"})}}catch(re){L(yi.create("storage-open",{originalErrorMessage:re?.message}))}})}()){this.appId=L,this.appName=re,this.namespace=Ge,this.openDbPromise=xt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var re=this;return(0,p.Z)(function*(){const Ge=yield re.openDbPromise;return new Promise((xt,zt)=>{const qn=Ge.transaction([or],"readonly").objectStore(or),Wn=re.createCompositeKey(L);try{const pi=qn.get(Wn);pi.onerror=Li=>{zt(dr(Li,"storage-get"))},pi.onsuccess=Li=>{const Mi=Li.target.result;xt(Mi?Mi.value:void 0)}}catch(pi){zt(yi.create("storage-get",{originalErrorMessage:pi?.message}))}})})()}set(L,re){var Ge=this;return(0,p.Z)(function*(){const xt=yield Ge.openDbPromise;return new Promise((zt,un)=>{const Wn=xt.transaction([or],"readwrite").objectStore(or),pi=Ge.createCompositeKey(L);try{const Li=Wn.put({compositeKey:pi,value:re});Li.onerror=Mi=>{un(dr(Mi,"storage-set"))},Li.onsuccess=()=>{zt()}}catch(Li){un(yi.create("storage-set",{originalErrorMessage:Li?.message}))}})})()}delete(L){var re=this;return(0,p.Z)(function*(){const Ge=yield re.openDbPromise;return new Promise((xt,zt)=>{const qn=Ge.transaction([or],"readwrite").objectStore(or),Wn=re.createCompositeKey(L);try{const pi=qn.delete(Wn);pi.onerror=Li=>{zt(dr(Li,"storage-delete"))},pi.onsuccess=()=>{xt()}}catch(pi){zt(yi.create("storage-delete",{originalErrorMessage:pi?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class Io{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,p.Z)(function*(){const re=L.storage.getLastFetchStatus(),Ge=L.storage.getLastSuccessfulFetchTimestampMillis(),xt=L.storage.getActiveConfig(),zt=yield re;zt&&(L.lastFetchStatus=zt);const un=yield Ge;un&&(L.lastSuccessfulFetchTimestampMillis=un);const qn=yield xt;qn&&(L.activeConfig=qn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function $o(){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(){if(!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch{return!1}})).apply(this,arguments)}!function zo(){(0,X._registerComponent)(new ae.wA("remote-config",function M(L,{instanceIdentifier:re}){const Ge=L.getProvider("app").getImmediate(),xt=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yi.create("registration-window");if(!(0,B.hl)())throw yi.create("indexed-db-unavailable");const{projectId:zt,apiKey:un,appId:qn}=Ge.options;if(!zt)throw yi.create("registration-project-id");if(!un)throw yi.create("registration-api-key");if(!qn)throw yi.create("registration-app-id");const Wn=new Ki(qn,Ge.name,re=re||"firebase"),pi=new Io(Wn),Li=new W.Yd(Cr);Li.logLevel=W.in.ERROR;const Mi=new Nr(xt,X.SDK_VERSION,re,zt,un,qn),As=new Ds(Mi,Wn),_r=new ns(As,Wn,pi,Li),Qa=new Os(Ge,_r,pi,Wn,Li);return function Pn(M){const L=(0,B.m9)(M);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Qa),Qa},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(Cr,"0.4.4"),(0,X.registerVersion)(Cr,"0.4.4","esm2017")}();const Ir=(M,L)=>L.some(re=>M instanceof re);let No,Zi;const Lr=new WeakMap,qo=new WeakMap,Gi=new WeakMap,Lo=new WeakMap,_o=new WeakMap;let fs={get(M,L,re){if(M instanceof IDBTransaction){if("done"===L)return qo.get(M);if("objectStoreNames"===L)return M.objectStoreNames||Gi.get(M);if("store"===L)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return st(M[L])},set:(M,L,re)=>(M[L]=re,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function q(M){return"function"==typeof M?function it(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fo(){return Zi||(Zi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(ln(this),L),st(Lr.get(this))}:function(...L){return st(M.apply(ln(this),L))}:function(L,...re){const Ge=M.call(ln(this),L,...re);return Gi.set(Ge,L.sort?L.sort():[L]),st(Ge)}}(M):(M instanceof IDBTransaction&&function ms(M){if(qo.has(M))return;const L=new Promise((re,Ge)=>{const xt=()=>{M.removeEventListener("complete",zt),M.removeEventListener("error",un),M.removeEventListener("abort",un)},zt=()=>{re(),xt()},un=()=>{Ge(M.error||new DOMException("AbortError","AbortError")),xt()};M.addEventListener("complete",zt),M.addEventListener("error",un),M.addEventListener("abort",un)});qo.set(M,L)}(M),Ir(M,function Tr(){return No||(No=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,fs):M)}function st(M){if(M instanceof IDBRequest)return function Us(M){const L=new Promise((re,Ge)=>{const xt=()=>{M.removeEventListener("success",zt),M.removeEventListener("error",un)},zt=()=>{re(st(M.result)),xt()},un=()=>{Ge(M.error),xt()};M.addEventListener("success",zt),M.addEventListener("error",un)});return L.then(re=>{re instanceof IDBCursor&&Lr.set(re,M)}).catch(()=>{}),_o.set(L,M),L}(M);if(Lo.has(M))return Lo.get(M);const L=q(M);return L!==M&&(Lo.set(M,L),_o.set(L,M)),L}const ln=M=>_o.get(M);function On(M,L,{blocked:re,upgrade:Ge,blocking:xt,terminated:zt}={}){const un=indexedDB.open(M,L),qn=st(un);return Ge&&un.addEventListener("upgradeneeded",Wn=>{Ge(st(un.result),Wn.oldVersion,Wn.newVersion,st(un.transaction))}),re&&un.addEventListener("blocked",()=>re()),qn.then(Wn=>{zt&&Wn.addEventListener("close",()=>zt()),xt&&Wn.addEventListener("versionchange",()=>xt())}).catch(()=>{}),qn}function Fi(M,{blocked:L}={}){const re=indexedDB.deleteDatabase(M);return L&&re.addEventListener("blocked",()=>L()),st(re).then(()=>{})}const kr=["get","getKey","getAll","getAllKeys","count"],Ar=["put","add","delete","clear"],io=new Map;function mr(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(io.get(L))return io.get(L);const re=L.replace(/FromIndex$/,""),Ge=L!==re,xt=Ar.includes(re);if(!(re in(Ge?IDBIndex:IDBObjectStore).prototype)||!xt&&!kr.includes(re))return;const zt=function(){var un=(0,p.Z)(function*(qn,...Wn){const pi=this.transaction(qn,xt?"readwrite":"readonly");let Li=pi.store;return Ge&&(Li=Li.index(Wn.shift())),(yield Promise.all([Li[re](...Wn),xt&&pi.done]))[0]});return function(Wn){return un.apply(this,arguments)}}();return io.set(L,zt),zt}!function tt(M){fs=M(fs)}(M=>({...M,get:(L,re,Ge)=>mr(L,re)||M.get(L,re,Ge),has:(L,re)=>!!mr(L,re)||M.has(L,re)}));const K="/firebase-messaging-sw.js",H="/firebase-cloud-messaging-push-scope",b="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",D="https://fcmregistrations.googleapis.com/v1",ie="google.c.a.c_id",Oe="google.c.a.c_l",_t="google.c.a.ts";var Kn=(()=>((Kn=Kn||{}).PUSH_RECEIVED="push-received",Kn.NOTIFICATION_CLICKED="notification-clicked",Kn))();function $n(M){const L=new Uint8Array(M);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wi(M){const re=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(re),xt=new Uint8Array(Ge.length);for(let zt=0;zt<Ge.length;++zt)xt[zt]=Ge.charCodeAt(zt);return xt}const Ai="fcm_token_details_db",yr=5,Or="fcm_token_object_Store";function Ni(){return Ni=(0,p.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(zt=>zt.name).includes(Ai))return null;let L=null;return(yield On(Ai,yr,{upgrade:(Ge=(0,p.Z)(function*(xt,zt,un,qn){var Wn;if(zt<2||!xt.objectStoreNames.contains(Or))return;const pi=qn.objectStore(Or),Li=yield pi.index("fcmSenderId").get(M);if(yield pi.clear(),Li)if(2===zt){const Mi=Li;if(!Mi.auth||!Mi.p256dh||!Mi.endpoint)return;L={token:Mi.fcmToken,createTime:null!==(Wn=Mi.createTime)&&void 0!==Wn?Wn:Date.now(),subscriptionOptions:{auth:Mi.auth,p256dh:Mi.p256dh,endpoint:Mi.endpoint,swScope:Mi.swScope,vapidKey:"string"==typeof Mi.vapidKey?Mi.vapidKey:$n(Mi.vapidKey)}}}else if(3===zt){const Mi=Li;L={token:Mi.fcmToken,createTime:Mi.createTime,subscriptionOptions:{auth:$n(Mi.auth),p256dh:$n(Mi.p256dh),endpoint:Mi.endpoint,swScope:Mi.swScope,vapidKey:$n(Mi.vapidKey)}}}else if(4===zt){const Mi=Li;L={token:Mi.fcmToken,createTime:Mi.createTime,subscriptionOptions:{auth:$n(Mi.auth),p256dh:$n(Mi.p256dh),endpoint:Mi.endpoint,swScope:Mi.swScope,vapidKey:$n(Mi.vapidKey)}}}}),function(zt,un,qn,Wn){return Ge.apply(this,arguments)})})).close(),yield Fi(Ai),yield Fi("fcm_vapid_details_db"),yield Fi("undefined"),function pr(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:L}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var Ge}),Ni.apply(this,arguments)}const fi="firebase-messaging-database",vo=1,Rr="firebase-messaging-store";let Mr=null;function Pr(){return Mr||(Mr=On(fi,vo,{upgrade:(M,L)=>{0===L&&M.createObjectStore(Rr)}})),Mr}function To(M){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,p.Z)(function*(M){const L=ea(M),Ge=yield(yield Pr()).transaction(Rr).objectStore(Rr).get(L);if(Ge)return Ge;{const xt=yield function fr(M){return Ni.apply(this,arguments)}(M.appConfig.senderId);if(xt)return yield Is(M,xt),xt}}),Qo.apply(this,arguments)}function Is(M,L){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,p.Z)(function*(M,L){const re=ea(M),xt=(yield Pr()).transaction(Rr,"readwrite");return yield xt.objectStore(Rr).put(L,re),yield xt.done,L})).apply(this,arguments)}function aa(){return(aa=(0,p.Z)(function*(M){const L=ea(M),Ge=(yield Pr()).transaction(Rr,"readwrite");yield Ge.objectStore(Rr).delete(L),yield Ge.done})).apply(this,arguments)}function ea({appConfig:M}){return M.appId}const qr=new B.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ps(M,L){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,p.Z)(function*(M,L){const re=yield gs(M),Ge=na(L),xt={method:"POST",headers:re,body:JSON.stringify(Ge)};let zt;try{zt=yield(yield fetch(ca(M.appConfig),xt)).json()}catch(un){throw qr.create("token-subscribe-failed",{errorInfo:un?.toString()})}if(zt.error)throw qr.create("token-subscribe-failed",{errorInfo:zt.error.message});if(!zt.token)throw qr.create("token-subscribe-no-token");return zt.token})).apply(this,arguments)}function _a(){return(_a=(0,p.Z)(function*(M,L){const re=yield gs(M),Ge=na(L.subscriptionOptions),xt={method:"PATCH",headers:re,body:JSON.stringify(Ge)};let zt;try{zt=yield(yield fetch(`${ca(M.appConfig)}/${L.token}`,xt)).json()}catch(un){throw qr.create("token-update-failed",{errorInfo:un?.toString()})}if(zt.error)throw qr.create("token-update-failed",{errorInfo:zt.error.message});if(!zt.token)throw qr.create("token-update-no-token");return zt.token})).apply(this,arguments)}function va(M,L){return ta.apply(this,arguments)}function ta(){return(ta=(0,p.Z)(function*(M,L){const Ge={method:"DELETE",headers:yield gs(M)};try{const zt=yield(yield fetch(`${ca(M.appConfig)}/${L}`,Ge)).json();if(zt.error)throw qr.create("token-unsubscribe-failed",{errorInfo:zt.error.message})}catch(xt){throw qr.create("token-unsubscribe-failed",{errorInfo:xt?.toString()})}})).apply(this,arguments)}function ca({projectId:M}){return`${D}/projects/${M}/registrations`}function gs(M){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,p.Z)(function*({appConfig:M,installations:L}){const re=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function na({p256dh:M,auth:L,endpoint:re,vapidKey:Ge}){const xt={web:{endpoint:re,auth:L,p256dh:M}};return Ge!==b&&(xt.web.applicationPubKey=Ge),xt}const ba=6048e5;function Ws(){return Ws=(0,p.Z)(function*(M){const L=yield function Ks(M,L){return Ti.apply(this,arguments)}(M.swRegistration,M.vapidKey),re={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:L.endpoint,auth:$n(L.getKey("auth")),p256dh:$n(L.getKey("p256dh"))},Ge=yield To(M.firebaseDependencies);if(Ge){if(function la(M,L){return L.vapidKey===M.vapidKey&&L.endpoint===M.endpoint&&L.auth===M.auth&&L.p256dh===M.p256dh}(Ge.subscriptionOptions,re))return Date.now()>=Ge.createTime+ba?function Ta(M,L){return Vs.apply(this,arguments)}(M,{token:Ge.token,createTime:Date.now(),subscriptionOptions:re}):Ge.token;try{yield va(M.firebaseDependencies,Ge.token)}catch(xt){console.warn(xt)}return tr(M.firebaseDependencies,re)}return tr(M.firebaseDependencies,re)}),Ws.apply(this,arguments)}function vs(){return vs=(0,p.Z)(function*(M){const L=yield To(M.firebaseDependencies);L&&(yield va(M.firebaseDependencies,L.token),yield function ps(M){return aa.apply(this,arguments)}(M.firebaseDependencies));const re=yield M.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()}),vs.apply(this,arguments)}function Vs(){return Vs=(0,p.Z)(function*(M,L){try{const re=yield function Oa(M,L){return _a.apply(this,arguments)}(M.firebaseDependencies,L),Ge=Object.assign(Object.assign({},L),{token:re,createTime:Date.now()});return yield Is(M.firebaseDependencies,Ge),re}catch(re){throw yield function _s(M){return vs.apply(this,arguments)}(M),re}}),Vs.apply(this,arguments)}function tr(M,L){return ro.apply(this,arguments)}function ro(){return(ro=(0,p.Z)(function*(M,L){const Ge={token:yield Ps(M,L),createTime:Date.now(),subscriptionOptions:L};return yield Is(M,Ge),Ge.token})).apply(this,arguments)}function Ti(){return(Ti=(0,p.Z)(function*(M,L){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wi(L)})})).apply(this,arguments)}function P(M){const L={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function ee(M,L){if(!L.notification)return;M.notification={};const re=L.notification.title;re&&(M.notification.title=re);const Ge=L.notification.body;Ge&&(M.notification.body=Ge);const xt=L.notification.image;xt&&(M.notification.image=xt);const zt=L.notification.icon;zt&&(M.notification.icon=zt)}(L,M),function V(M,L){L.data&&(M.data=L.data)}(L,M),function _e(M,L){var re,Ge,xt,zt,un;if(!(L.fcmOptions||null!==(re=L.notification)&&void 0!==re&&re.click_action))return;M.fcmOptions={};const qn=null!==(xt=null===(Ge=L.fcmOptions)||void 0===Ge?void 0:Ge.link)&&void 0!==xt?xt:null===(zt=L.notification)||void 0===zt?void 0:zt.click_action;qn&&(M.fcmOptions.link=qn);const Wn=null===(un=L.fcmOptions)||void 0===un?void 0:un.analytics_label;Wn&&(M.fcmOptions.analyticsLabel=Wn)}(L,M),L}function tn(M,L){const re=[];for(let Ge=0;Ge<M.length;Ge++)re.push(M.charAt(Ge)),Ge<L.length&&re.push(L.charAt(Ge));return re.join("")}function Yn(M){return qr.create("missing-app-config-values",{valueName:M})}tn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vi{constructor(L,re,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xt=function fn(M){if(!M||!M.options)throw Yn("App Configuration Object");if(!M.name)throw Yn("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:re}=M;for(const Ge of L)if(!re[Ge])throw Yn(Ge);return{appName:M.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:xt,installations:re,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function Ci(){return(Ci=(0,p.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(K,{scope:H}),M.swRegistration.update().catch(()=>{})}catch(L){throw qr.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function sr(){return(sr=(0,p.Z)(function*(M,L){if(!L&&!M.swRegistration&&(yield function Di(M){return Ci.apply(this,arguments)}(M)),L||!M.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw qr.create("invalid-sw-registration");M.swRegistration=L}})).apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(M,L){L?M.vapidKey=L:M.vapidKey||(M.vapidKey=b)})).apply(this,arguments)}function $r(){return $r=(0,p.Z)(function*(M,L){if(!navigator)throw qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qr.create("permission-blocked");return yield function Gn(M,L){return Qr.apply(this,arguments)}(M,L?.vapidKey),yield function Ii(M,L){return sr.apply(this,arguments)}(M,L?.serviceWorkerRegistration),function Ra(M){return Ws.apply(this,arguments)}(M)}),$r.apply(this,arguments)}function Bo(){return(Bo=(0,p.Z)(function*(M,L,re){const Ge=function Zs(M){switch(M){case Kn.NOTIFICATION_CLICKED:return"notification_open";case Kn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:re[ie],message_name:re[Oe],message_time:re[_t],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ts(){return Ts=(0,p.Z)(function*(M,L){const re=L.data;if(!re.isFirebaseMessaging)return;M.onMessageHandler&&re.messageType===Kn.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(P(re)):M.onMessageHandler.next(P(re)));const Ge=re.data;(function rt(M){return"object"==typeof M&&!!M&&ie in M})(Ge)&&"1"===Ge["google.c.a.e"]&&(yield function ya(M,L,re){return Bo.apply(this,arguments)}(M,re.messageType,Ge))}),Ts.apply(this,arguments)}const sc="@firebase/messaging",bc=M=>{const L=new Vi(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function rs(M,L){return Ts.apply(this,arguments)}(L,re)),L},Pa=M=>{const L=M.getProvider("messaging").getImmediate();return{getToken:Ge=>function bs(M,L){return $r.apply(this,arguments)}(L,Ge)}};function nr(){return bo.apply(this,arguments)}function bo(){return(bo=(0,p.Z)(function*(){try{yield(0,B.eu)()}catch{return!1}return typeof window<"u"&&(0,B.hl)()&&(0,B.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cn(){(0,X._registerComponent)(new ae.wA("messaging",bc,"PUBLIC")),(0,X._registerComponent)(new ae.wA("messaging-internal",Pa,"PRIVATE")),(0,X.registerVersion)(sc,"0.12.4"),(0,X.registerVersion)(sc,"0.12.4","esm2017")}();const ni="analytics",li="firebase_id",Ss="origin",U=6e4,g="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_="https://www.googletagmanager.com/gtag/js",O=new W.Yd("@firebase/analytics"),ve=new B.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mt(M){if(!M.startsWith(_)){const L=ve.create("invalid-gtag-resource",{gtagURL:M});return O.warn(L.message),""}return M}function pt(M){return Promise.all(M.map(L=>L.catch(re=>re)))}function Hi(){return(Hi=(0,p.Z)(function*(M,L,re,Ge,xt,zt){const un=Ge[xt];try{if(un)yield L[un];else{const Wn=(yield pt(re)).find(pi=>pi.measurementId===xt);Wn&&(yield L[Wn.appId])}}catch(qn){O.error(qn)}M("config",xt,zt)})).apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(M,L,re,Ge,xt){try{let zt=[];if(xt&&xt.send_to){let un=xt.send_to;Array.isArray(un)||(un=[un]);const qn=yield pt(re);for(const Wn of un){const pi=qn.find(Mi=>Mi.measurementId===Wn),Li=pi&&L[pi.appId];if(!Li){zt=[];break}zt.push(Li)}}0===zt.length&&(zt=Object.values(L)),yield Promise.all(zt),M("event",Ge,xt||{})}catch(zt){O.error(zt)}})).apply(this,arguments)}const ji=30,zi=new class Mo{constructor(L={},re=1e3){this.throttleMetadata=L,this.intervalMillis=re}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,re){this.throttleMetadata[L]=re}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function so(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function E(){return(E=(0,p.Z)(function*(M){var L;const{appId:re,apiKey:Ge}=M,xt={method:"GET",headers:so(Ge)},zt=g.replace("{app-id}",re),un=yield fetch(zt,xt);if(200!==un.status&&304!==un.status){let qn="";try{const Wn=yield un.json();null!==(L=Wn.error)&&void 0!==L&&L.message&&(qn=Wn.error.message)}catch{}throw ve.create("config-fetch-failed",{httpStatus:un.status,responseMessage:qn})}return un.json()})).apply(this,arguments)}function x(){return(x=(0,p.Z)(function*(M,L=zi,re){const{appId:Ge,apiKey:xt,measurementId:zt}=M.options;if(!Ge)throw ve.create("no-app-id");if(!xt){if(zt)return{measurementId:zt,appId:Ge};throw ve.create("no-api-key")}const un=L.getThrottleMetadata(Ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qn=new Ut;return setTimeout((0,p.Z)(function*(){qn.abort()}),void 0!==re?re:U),N({appId:Ge,apiKey:xt,measurementId:zt},un,qn,L)})).apply(this,arguments)}function N(M,L,re){return ne.apply(this,arguments)}function ne(){return ne=(0,p.Z)(function*(M,{throttleEndTimeMillis:L,backoffCount:re},Ge,xt=zi){var zt;const{appId:un,measurementId:qn}=M;try{yield function Me(M,L){return new Promise((re,Ge)=>{const xt=Math.max(L-Date.now(),0),zt=setTimeout(re,xt);M.addEventListener(()=>{clearTimeout(zt),Ge(ve.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(Ge,L)}catch(Wn){if(qn)return O.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qn} provided in the "measurementId" field in the local Firebase config. [${Wn?.message}]`),{appId:un,measurementId:qn};throw Wn}try{const Wn=yield function Ui(M){return E.apply(this,arguments)}(M);return xt.deleteThrottleMetadata(un),Wn}catch(Wn){const pi=Wn;if(!function Ne(M){if(!(M instanceof B.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(pi)){if(xt.deleteThrottleMetadata(un),qn)return O.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qn} provided in the "measurementId" field in the local Firebase config. [${pi?.message}]`),{appId:un,measurementId:qn};throw Wn}const Li=503===Number(null===(zt=pi?.customData)||void 0===zt?void 0:zt.httpStatus)?(0,B.$s)(re,xt.intervalMillis,ji):(0,B.$s)(re,xt.intervalMillis),Mi={throttleEndTimeMillis:Date.now()+Li,backoffCount:re+1};return xt.setThrottleMetadata(un,Mi),O.debug(`Calling attemptFetch again in ${Li} millis`),N(M,Mi,Ge,xt)}}),ne.apply(this,arguments)}class Ut{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Wt,ao;function xn(){return(xn=(0,p.Z)(function*(M,L,re,Ge,xt){if(xt&&xt.global)M("event",re,Ge);else{const zt=yield L;M("event",re,Object.assign(Object.assign({},Ge),{send_to:zt}))}})).apply(this,arguments)}function yc(){return(yc=(0,p.Z)(function*(){if(!(0,B.hl)())return O.warn(ve.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,B.eu)()}catch(M){return O.warn(ve.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ma(){return Ma=(0,p.Z)(function*(M,L,re,Ge,xt,zt,un){var qn;const Wn=function R(M){return x.apply(this,arguments)}(M);Wn.then(_r=>{re[_r.measurementId]=_r.appId,M.options.measurementId&&_r.measurementId!==M.options.measurementId&&O.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>O.error(_r)),L.push(Wn);const pi=function kd(){return yc.apply(this,arguments)}().then(_r=>{if(_r)return Ge.getId()}),[Li,Mi]=yield Promise.all([Wn,pi]);(function yo(M){const L=window.document.getElementsByTagName("script");for(const re of Object.values(L))if(re.src&&re.src.includes(_)&&re.src.includes(M))return re;return null})(zt)||function pn(M,L){const re=function Qt(M,L){let re;return window.trustedTypes&&(re=window.trustedTypes.createPolicy(M,L)),re}("firebase-js-sdk-policy",{createScriptURL:mt}),Ge=document.createElement("script"),xt=`${_}?l=${M}&id=${L}`;Ge.src=re?re?.createScriptURL(xt):xt,Ge.async=!0,document.head.appendChild(Ge)}(zt,Li.measurementId),ao&&(xt("consent","default",ao),function Na(M){ao=M}(void 0)),xt("js",new Date);const As=null!==(qn=un?.config)&&void 0!==qn?qn:{};return As[Ss]="firebase",As.update=!0,null!=Mi&&(As[li]=Mi),xt("config",Li.measurementId,As),Wt&&(xt("set",Wt),function qs(M){Wt=M}(void 0)),Li.measurementId}),Ma.apply(this,arguments)}class ks{constructor(L){this.app=L}_delete(){return delete Qs[this.app.options.appId],Promise.resolve()}}let Qs={},La=[];const Lc={};let cl,as,So="dataLayer",wc=!1;function dl(M,L,re){!function ll(){const M=[];if((0,B.ru)()&&M.push("This is a browser extension environment."),(0,B.zI)()||M.push("Cookies are not available."),M.length>0){const L=M.map((Ge,xt)=>`(${xt+1}) ${Ge}`).join(" "),re=ve.create("invalid-analytics-context",{errorInfo:L});O.warn(re.message)}}();const Ge=M.options.appId;if(!Ge)throw ve.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw ve.create("no-api-key");O.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qs[Ge])throw ve.create("already-exists",{id:Ge});if(!wc){!function Un(M){let L=[];Array.isArray(window[M])?L=window[M]:window[M]=L}(So);const{wrappedGtag:zt,gtagCore:un}=function gr(M,L,re,Ge,xt){let zt=function(...un){window[Ge].push(arguments)};return window[xt]&&"function"==typeof window[xt]&&(zt=window[xt]),window[xt]=function Fn(M,L,re,Ge){function zt(){return zt=(0,p.Z)(function*(un,...qn){try{if("event"===un){const[Wn,pi]=qn;yield function Oi(M,L,re,Ge,xt){return ui.apply(this,arguments)}(M,L,re,Wn,pi)}else if("config"===un){const[Wn,pi]=qn;yield function Xn(M,L,re,Ge,xt,zt){return Hi.apply(this,arguments)}(M,L,re,Ge,Wn,pi)}else if("consent"===un){const[Wn]=qn;M("consent","update",Wn)}else if("get"===un){const[Wn,pi,Li]=qn;M("get",Wn,pi,Li)}else if("set"===un){const[Wn]=qn;M("set",Wn)}else M(un,...qn)}catch(Wn){O.error(Wn)}}),zt.apply(this,arguments)}return function xt(un){return zt.apply(this,arguments)}}(zt,M,L,re),{gtagCore:zt,wrappedGtag:window[xt]}}(Qs,La,Lc,So,"gtag");as=zt,cl=un,wc=!0}return Qs[Ge]=function Nh(M,L,re,Ge,xt,zt,un){return Ma.apply(this,arguments)}(M,La,Lc,L,cl,So,re),new ks(M)}function Hl(){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(){if((0,B.ru)()||!(0,B.zI)()||!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch{return!1}})).apply(this,arguments)}const Gl="@firebase/analytics";!function Wa(){(0,X._registerComponent)(new ae.wA(ni,(L,{options:re})=>dl(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,X._registerComponent)(new ae.wA("analytics-internal",function M(L){try{const re=L.getProvider(ni).getImmediate();return{logEvent:(Ge,xt,zt)=>function Ga(M,L,re,Ge){M=(0,B.m9)(M),function In(M,L,re,Ge,xt){return xn.apply(this,arguments)}(as,Qs[M.app.options.appId],L,re,Ge).catch(xt=>O.error(xt))}(re,Ge,xt,zt)}}catch(re){throw ve.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,X.registerVersion)(Gl,"0.10.0"),(0,X.registerVersion)(Gl,"0.10.0","esm2017")}();var Od=y(4408),Bc=y(7565);const Es=new class Kl extends Bc.v{}(class Wl extends Od.o{constructor(L,re){super(L,re),this.scheduler=L,this.work=re}schedule(L,re=0){return re>0?super.schedule(L,re):(this.delay=re,this.state=L,this.scheduler.flush(this),this)}execute(L,re){return re>0||this.closed?super.execute(L,re):this._execute(L,re)}requestAsyncId(L,re,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(L,re,Ge):(L.flush(this),0)}});var ia=y(4986),Ua=y(8505),xr=y(5363),cc=y(9468);const cs=new l.GfV("7.6.1"),Er="__angularfire_symbol__analyticsIsSupportedValue",Zl="__angularfire_symbol__analyticsIsSupported",Va="__angularfire_symbol__remoteConfigIsSupportedValue",Bs="__angularfire_symbol__remoteConfigIsSupported",pl="__angularfire_symbol__messagingIsSupportedValue",Rd="__angularfire_symbol__messagingIsSupported";function Ka(M,L,re){if(L){if(1===L.length)return L[0];const zt=L.filter(un=>un.app===re);if(1===zt.length)return zt[0]}return re.container.getProvider(M).getImmediate({optional:!0})}globalThis[Zl]||(globalThis[Zl]=Hl().then(M=>globalThis[Er]=M).catch(()=>globalThis[Er]=!1)),globalThis[Rd]||(globalThis[Rd]=nr().then(M=>globalThis[pl]=M).catch(()=>globalThis[pl]=!1)),globalThis[Bs]||(globalThis[Bs]=$o().then(M=>globalThis[Va]=M).catch(()=>globalThis[Va]=!1));const Vc=(M,L)=>{const re=L?[L]:(0,C.C6)(),Ge=[];return re.forEach(xt=>{xt.container.getProvider(M).instances.forEach(un=>{Ge.includes(un)||Ge.push(un)})}),Ge};function co(){}class Cc{constructor(L,re=Es){this.zone=L,this.delegate=re}now(){return this.delegate.now()}schedule(L,re,Ge){const xt=this.zone;return this.delegate.schedule(function(un){xt.runGuarded(()=>{L.apply(this,[un])})},re,Ge)}}class Dc{constructor(L){this.zone=L,this.task=null}call(L,re){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),re.pipe((0,Ua.b)({next:Ge,complete:Ge,error:Ge})).subscribe(L).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Za=(()=>{class M{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new Cc(Zone.current)),this.insideAngular=re.run(()=>new Cc(Zone.current,ia.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(re){return new(re||M)(l.LFG(l.R0b))},M.\u0275prov=l.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Xr(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function ra(M){return M.pipe((0,xr.Q)(Xr().outsideAngular))}function ja(M){return Xr(),function Fu(M){return function(re){return(re=re.lift(new Dc(M.ngZone))).pipe((0,cc.R)(M.outsideAngular),(0,xr.Q)(M.insideAngular))}}(Xr())(M)}},1389:(gn,ot,y)=>{y.d(ot,{$:()=>K,A:()=>ue,D:()=>Pe,I:()=>er,J:()=>no,L:()=>ci,N:()=>Mt,P:()=>Nh,Q:()=>Ki,R:()=>ys,U:()=>is,V:()=>$o,W:()=>hs,X:()=>mo,Y:()=>Tr,Z:()=>fo,_:()=>_o,a:()=>Fa,a0:()=>b,a1:()=>ie,a2:()=>Tn,a3:()=>Or,a4:()=>Ni,a5:()=>fi,a6:()=>Rr,a7:()=>Pr,a8:()=>Qo,a9:()=>Rs,aA:()=>Z,aB:()=>Va,aC:()=>He,aD:()=>Gt,aE:()=>xr,aF:()=>ml,aG:()=>Bh,aH:()=>Ri,aL:()=>wr,aO:()=>No,aa:()=>ps,ab:()=>ea,ac:()=>ga,ad:()=>Oa,ae:()=>va,af:()=>ca,ai:()=>ba,aj:()=>Ws,ak:()=>_s,an:()=>it,ao:()=>ee,aq:()=>Qr,ar:()=>sc,as:()=>je,at:()=>Ue,au:()=>ce,av:()=>fe,aw:()=>As,ax:()=>Jo,ay:()=>Y,az:()=>we,b:()=>os,c:()=>as,d:()=>dl,e:()=>da,f:()=>Gl,g:()=>Kl,h:()=>Od,i:()=>Qn,j:()=>ia,k:()=>oa,l:()=>xs,m:()=>Pd,o:()=>Ld,p:()=>ye,r:()=>Ys,s:()=>Lt,u:()=>kd});var l=y(5861),C=y(2090),p=y(6881),X=y(7582),B=y(1877),ae=y(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},et=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new B.Yd("@firebase/auth");function wt(I,...m){$e.logLevel<=B.in.ERROR&&$e.error(`Auth (${p.SDK_VERSION}): ${I}`,...m)}function fe(I,...m){throw Ve(I,...m)}function we(I,...m){return Ve(I,...m)}function me(I,m,v){const k=Object.assign(Object.assign({},et()),{[m]:v});return new C.LL("auth","Firebase",k).create(m,{appName:I.name})}function ge(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&fe(I,"argument-error"),me(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(I,...m){if("string"!=typeof I){const v=m[0],k=[...m.slice(1)];return k[0]&&(k[0].appName=I.name),I._errorFactory.create(v,...k)}return We.create(I,...m)}function Z(I,m,...v){if(!I)throw Ve(m,...v)}function qe(I){const m="INTERNAL ASSERTION FAILED: "+I;throw wt(m),new Error(m)}function je(I,m){I||qe(m)}function Xe(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ct(){return"http:"===yn()||"https:"===yn()}function yn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class bt{constructor(m,v){this.shortDelay=m,this.longDelay=v,je(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return function An(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,C.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bt(I,m){je(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Ht{static initialize(m,v,k){this.fetchImpl=m,v&&(this.headersImpl=v),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yt=new bt(3e4,6e4);function sn(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function bn(I,m,v,k){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(I,m,v,k,se={}){return Ft(I,se,(0,l.Z)(function*(){let Ae={},Nt={};k&&("GET"===m?Nt=k:Ae={body:JSON.stringify(k)});const nn=(0,C.xO)(Object.assign({key:I.config.apiKey},Nt)).slice(1),Ln=yield I._getAdditionalHeaders();return Ln["Content-Type"]="application/json",I.languageCode&&(Ln["X-Firebase-Locale"]=I.languageCode),Ht.fetch()(Et(I,I.config.apiHost,v,nn),Object.assign({method:m,headers:Ln,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function Ft(I,m,v){return Je.apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(I,m,v){I._canInitEmulator=!1;const k=Object.assign(Object.assign({},en),m);try{const se=new nt(I),Ae=yield Promise.race([v(),se.promise]);se.clearNetworkTimeout();const Nt=yield Ae.json();if("needConfirmation"in Nt)throw ft(I,"account-exists-with-different-credential",Nt);if(Ae.ok&&!("errorMessage"in Nt))return Nt;{const nn=Ae.ok?Nt.errorMessage:Nt.error.message,[Ln,ii]=nn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ln)throw ft(I,"credential-already-in-use",Nt);if("EMAIL_EXISTS"===Ln)throw ft(I,"email-already-in-use",Nt);if("USER_DISABLED"===Ln)throw ft(I,"user-disabled",Nt);const vi=k[Ln]||Ln.toLowerCase().replace(/[_\s]+/g,"-");if(ii)throw me(I,vi,ii);fe(I,vi)}}catch(se){if(se instanceof C.ZR)throw se;fe(I,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function ct(I,m,v,k){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(I,m,v,k,se={}){const Ae=yield bn(I,m,v,k,se);return"mfaPendingCredential"in Ae&&fe(I,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function Et(I,m,v,k){const se=`${m}${v}?${k}`;return I.config.emulator?Bt(I.config,se):`${I.config.apiScheme}://${se}`}class nt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,k)=>{this.timer=setTimeout(()=>k(we(this.auth,"network-request-failed")),Yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ft(I,m,v){const k={appName:I.name};v.email&&(k.email=v.email),v.phoneNumber&&(k.phoneNumber=v.phoneNumber);const se=we(I,m,k);return se.customData._tokenResponse=v,se}function Ce(){return(Ce=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function It(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function at(){return(at=(0,l.Z)(function*(I,m=!1){const v=(0,C.m9)(I),k=yield v.getIdToken(m),se=At(k);Z(se&&se.exp&&se.auth_time&&se.iat,v.auth,"internal-error");const Ae="object"==typeof se.firebase?se.firebase:void 0,Nt=Ae?.sign_in_provider;return{claims:se,token:k,authTime:It(ht(se.auth_time)),issuedAtTime:It(ht(se.iat)),expirationTime:It(ht(se.exp)),signInProvider:Nt||null,signInSecondFactor:Ae?.sign_in_second_factor||null}})).apply(this,arguments)}function ht(I){return 1e3*Number(I)}function At(I){const[m,v,k]=I.split(".");if(void 0===m||void 0===v||void 0===k)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,C.tV)(v);return se?JSON.parse(se):(wt("Failed to decode base64 JWT payload"),null)}catch(se){return wt("Caught error parsing JWT payload as JSON",se?.toString()),null}}function cn(I,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(k){throw k instanceof C.ZR&&function ri({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(k)&&I.auth.currentUser===I&&(yield I.auth.signOut()),k}})).apply(this,arguments)}class En{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const se=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const k=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield v.iteration()}),k)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class dn{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=It(this.lastLoginAt),this.creationTime=It(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(I){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,l.Z)(function*(I){var m;const v=I.auth,k=yield I.getIdToken(),se=yield cn(I,function rn(I,m){return an.apply(this,arguments)}(v,{idToken:k}));Z(se?.users.length,v,"internal-error");const Ae=se.users[0];I._notifyReloadListener(Ae);const Nt=null!==(m=Ae.providerUserInfo)&&void 0!==m&&m.length?function hi(I){return I.map(m=>{var{providerId:v}=m,k=(0,X._T)(m,["providerId"]);return{providerId:v,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}(Ae.providerUserInfo):[],nn=function Sn(I,m){return[...I.filter(k=>!m.some(se=>se.providerId===k.providerId)),...m]}(I.providerData,Nt),vi=!!I.isAnonymous&&!(I.email&&Ae.passwordHash||nn?.length),ar={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:nn,metadata:new dn(Ae.createdAt,Ae.lastLoginAt),isAnonymous:vi};Object.assign(I,ar)}),Ke.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(I){const m=(0,C.m9)(I);yield Hn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(I,m){const v=yield Ft(I,{},(0,l.Z)(function*(){const k=(0,C.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:se,apiKey:Ae}=I.config,Nt=Et(I,se,"/v1/token",`key=${Ae}`),nn=yield I._getAdditionalHeaders();return nn["Content-Type"]="application/x-www-form-urlencoded",Ht.fetch()(Nt,{method:"POST",headers:nn,body:k})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Z(m.idToken,"internal-error"),Z(typeof m.idToken<"u","internal-error"),Z(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function qt(I){const m=At(I);return Z(m,"internal-error"),Z(typeof m.exp<"u","internal-error"),Z(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var k=this;return(0,l.Z)(function*(){return Z(!k.accessToken||k.refreshToken,m,"user-token-expired"),v||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(m,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var k=this;return(0,l.Z)(function*(){const{accessToken:se,refreshToken:Ae,expiresIn:Nt}=yield function Ei(I,m){return gi.apply(this,arguments)}(m,v);k.updateTokensAndExpiration(se,Ae,Number(Nt))})()}updateTokensAndExpiration(m,v,k){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(m,v){const{refreshToken:k,accessToken:se,expirationTime:Ae}=v,Nt=new Xt;return k&&(Z("string"==typeof k,"internal-error",{appName:m}),Nt.refreshToken=k),se&&(Z("string"==typeof se,"internal-error",{appName:m}),Nt.accessToken=se),Ae&&(Z("number"==typeof Ae,"internal-error",{appName:m}),Nt.expirationTime=Ae),Nt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Xt,this.toJSON())}_performRefresh(){return qe("not implemented")}}function lt(I,m){Z("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class ut{constructor(m){var{uid:v,auth:k,stsTokenManager:se}=m,Ae=(0,X._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=k,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new dn(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,l.Z)(function*(){const k=yield cn(v,v.stsTokenManager.getToken(v.auth,m));return Z(k,v.auth,"internal-error"),v.accessToken!==k&&(v.accessToken=k,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),k})()}getIdTokenResult(m){return function ze(I){return at.apply(this,arguments)}(this,m)}reload(){return function kt(I){return Kt.apply(this,arguments)}(this)}_assign(m){this!==m&&(Z(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new ut(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var k=this;return(0,l.Z)(function*(){let se=!1;m.idToken&&m.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(m),se=!0),v&&(yield Hn(k)),yield k.auth._persistUserIfCurrent(k),se&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var m=this;return(0,l.Z)(function*(){const v=yield m.getIdToken();return yield cn(m,function Ee(I,m){return Ce.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var k,se,Ae,Nt,nn,Ln,ii,vi;const ar=null!==(k=v.displayName)&&void 0!==k?k:void 0,ha=null!==(se=v.email)&&void 0!==se?se:void 0,sa=null!==(Ae=v.phoneNumber)&&void 0!==Ae?Ae:void 0,Bd=null!==(Nt=v.photoURL)&&void 0!==Nt?Nt:void 0,gl=null!==(nn=v.tenantId)&&void 0!==nn?nn:void 0,Lu=null!==(Ln=v._redirectEventId)&&void 0!==Ln?Ln:void 0,Ud=null!==(ii=v.createdAt)&&void 0!==ii?ii:void 0,Mc=null!==(vi=v.lastLoginAt)&&void 0!==vi?vi:void 0,{uid:jc,emailVerified:lc,isAnonymous:zs,providerData:_l,stsTokenManager:Xa}=v;Z(jc&&Xa,m,"internal-error");const vl=Xt.fromJSON(this.name,Xa);Z("string"==typeof jc,m,"internal-error"),lt(ar,m.name),lt(ha,m.name),Z("boolean"==typeof lc,m,"internal-error"),Z("boolean"==typeof zs,m,"internal-error"),lt(sa,m.name),lt(Bd,m.name),lt(gl,m.name),lt(Lu,m.name),lt(Ud,m.name),lt(Mc,m.name);const Hc=new ut({uid:jc,auth:m,email:ha,emailVerified:lc,displayName:ar,isAnonymous:zs,photoURL:Bd,phoneNumber:sa,tenantId:gl,stsTokenManager:vl,createdAt:Ud,lastLoginAt:Mc});return _l&&Array.isArray(_l)&&(Hc.providerData=_l.map(bl=>Object.assign({},bl))),Lu&&(Hc._redirectEventId=Lu),Hc}static _fromIdTokenResponse(m,v,k=!1){return(0,l.Z)(function*(){const se=new Xt;se.updateFromServerResponse(v);const Ae=new ut({uid:v.localId,auth:m,stsTokenManager:se,isAnonymous:k});return yield Hn(Ae),Ae})()}}const Ze=new Map;function He(I){je(I instanceof Function,"Expected a class definition");let m=Ze.get(I);return m?(je(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,Ze.set(I,m),m)}const Mt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(v,k){var se=this;return(0,l.Z)(function*(){se.storage[v]=k})()}_get(v){var k=this;return(0,l.Z)(function*(){const se=k.storage[v];return void 0===se?null:se})()}_remove(v){var k=this;return(0,l.Z)(function*(){delete k.storage[v]})()}_addListener(v,k){}_removeListener(v,k){}}return I.type="NONE",I})();function Gt(I,m,v){return`firebase:${I}:${m}:${v}`}class Be{constructor(m,v,k){this.persistence=m,this.auth=v,this.userKey=k;const{config:se,name:Ae}=this.auth;this.fullUserKey=Gt(this.userKey,se.apiKey,Ae),this.fullPersistenceKey=Gt("persistence",se.apiKey,Ae),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?ut._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,l.Z)(function*(){if(v.persistence===m)return;const k=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,k?v.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,k="authUser"){return(0,l.Z)(function*(){if(!v.length)return new Be(He(Mt),m,k);const se=(yield Promise.all(v.map(function(){var ii=(0,l.Z)(function*(vi){if(yield vi._isAvailable())return vi});return function(vi){return ii.apply(this,arguments)}}()))).filter(ii=>ii);let Ae=se[0]||He(Mt);const Nt=Gt(k,m.config.apiKey,m.name);let nn=null;for(const ii of v)try{const vi=yield ii._get(Nt);if(vi){const ar=ut._fromJSON(m,vi);ii!==Ae&&(nn=ar),Ae=ii;break}}catch{}const Ln=se.filter(ii=>ii._shouldAllowMigration);return Ae._shouldAllowMigration&&Ln.length?(Ae=Ln[0],nn&&(yield Ae._set(Nt,nn.toJSON())),yield Promise.all(v.map(function(){var ii=(0,l.Z)(function*(vi){if(vi!==Ae)try{yield vi._remove(Nt)}catch{}});return function(vi){return ii.apply(this,arguments)}}())),new Be(Ae,m,k)):new Be(Ae,m,k)})()}}function le(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(de(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(z(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Te(m))return"Blackberry";if(Fe(m))return"Webos";if(j(m))return"Safari";if((m.includes("chrome/")||$(m))&&!m.includes("edge/"))return"Chrome";if(ce(m))return"Android";{const k=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function z(I=(0,C.z$)()){return/firefox\//i.test(I)}function j(I=(0,C.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function $(I=(0,C.z$)()){return/crios\//i.test(I)}function de(I=(0,C.z$)()){return/iemobile/i.test(I)}function ce(I=(0,C.z$)()){return/android/i.test(I)}function Te(I=(0,C.z$)()){return/blackberry/i.test(I)}function Fe(I=(0,C.z$)()){return/webos/i.test(I)}function Ue(I=(0,C.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Y(I=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Vt(I=(0,C.z$)()){return Ue(I)||ce(I)||Fe(I)||Te(I)||/windows phone/i.test(I)||de(I)}function ti(I,m=[]){let v;switch(I){case"Browser":v=le((0,C.z$)());break;case"Worker":v=`${le((0,C.z$)())}-${I}`;break;default:v=I}const k=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${p.SDK_VERSION}/${k}`}function St(){return(St=(0,l.Z)(function*(I){return(yield bn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wn(I,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(I,m){return bn(I,"GET","/v2/recaptchaConfig",sn(I,m))})).apply(this,arguments)}function Rn(I){return void 0!==I&&void 0!==I.getResponse}function zn(I){return void 0!==I&&void 0!==I.enterprise}class di{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function _i(I){return new Promise((m,v)=>{const k=document.createElement("script");k.setAttribute("src",I),k.onload=m,k.onerror=se=>{const Ae=we("internal-error");Ae.customData=se,v(Ae)},k.type="text/javascript",k.charset="UTF-8",function Ji(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(k)})}function vr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class br{constructor(m){this.type="recaptcha-enterprise",this.auth=Ri(m)}verify(m="verify",v=!1){var k=this;return(0,l.Z)(function*(){function Ae(){return Ae=(0,l.Z)(function*(nn){if(!v){if(null==nn.tenantId&&null!=nn._agentRecaptchaConfig)return nn._agentRecaptchaConfig.siteKey;if(null!=nn.tenantId&&void 0!==nn._tenantRecaptchaConfigs[nn.tenantId])return nn._tenantRecaptchaConfigs[nn.tenantId].siteKey}return new Promise(function(){var Ln=(0,l.Z)(function*(ii,vi){wn(nn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ar=>{if(void 0!==ar.recaptchaKey){const ha=new di(ar);return null==nn.tenantId?nn._agentRecaptchaConfig=ha:nn._tenantRecaptchaConfigs[nn.tenantId]=ha,ii(ha.siteKey)}vi(new Error("recaptcha Enterprise site key undefined"))}).catch(ar=>{vi(ar)})});return function(ii,vi){return Ln.apply(this,arguments)}}())}),Ae.apply(this,arguments)}function Nt(nn,Ln,ii){const vi=window.grecaptcha;zn(vi)?vi.enterprise.ready(()=>{vi.enterprise.execute(nn,{action:m}).then(ar=>{Ln(ar)}).catch(()=>{Ln("NO_RECAPTCHA")})}):ii(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((nn,Ln)=>{(function se(nn){return Ae.apply(this,arguments)})(k.auth).then(ii=>{if(!v&&zn(window.grecaptcha))Nt(ii,nn,Ln);else{if(typeof window>"u")return void Ln(new Error("RecaptchaVerifier is only supported in browser"));_i("https://www.google.com/recaptcha/enterprise.js?render="+ii).then(()=>{Nt(ii,nn,Ln)}).catch(vi=>{Ln(vi)})}}).catch(ii=>{Ln(ii)})})})()}}function Kr(I,m,v){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(I,m,v,k=!1){const se=new br(I);let Ae;try{Ae=yield se.verify(v)}catch{Ae=yield se.verify(v,!0)}const Nt=Object.assign({},m);return Object.assign(Nt,k?{captchaResp:Ae}:{captchaResponse:Ae}),Object.assign(Nt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Nt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Nt})).apply(this,arguments)}class Zr{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const k=Ae=>new Promise((Nt,nn)=>{try{Nt(m(Ae))}catch(Ln){nn(Ln)}});k.onAbort=v,this.queue.push(k);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,l.Z)(function*(){if(v.auth.currentUser===m)return;const k=[];try{for(const se of v.queue)yield se(m),se.onAbort&&k.push(se.onAbort)}catch(se){k.reverse();for(const Ae of k)try{Ae()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class to{constructor(m,v,k,se){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=k,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zo(this),this.idTokenSubscription=new Zo(this),this.beforeStateQueue=new Zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(m,v){var k=this;return v&&(this._popupRedirectResolver=He(v)),this._initializationPromise=this.queue((0,l.Z)(function*(){var se,Ae;if(!k._deleted&&(k.persistenceManager=yield Be.create(k,m),!k._deleted)){if(null!==(se=k._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(v),k.lastNotifiedUid=(null===(Ae=k.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,l.Z)(function*(){var k;const se=yield v.assertedPersistence.getCurrentUser();let Ae=se,Nt=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const nn=null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId,Ln=Ae?._redirectEventId,ii=yield v.tryRedirectSignIn(m);(!nn||nn===Ln)&&ii?.user&&(Ae=ii.user,Nt=!0)}if(!Ae)return v.directlySetCurrentUser(null);if(!Ae._redirectEventId){if(Nt)try{yield v.beforeStateQueue.runMiddleware(Ae)}catch(nn){Ae=se,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(nn))}return Ae?v.reloadAndSetCurrentUserOrClear(Ae):v.directlySetCurrentUser(null)}return Z(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===Ae._redirectEventId?v.directlySetCurrentUser(Ae):v.reloadAndSetCurrentUserOrClear(Ae)})()}tryRedirectSignIn(m){var v=this;return(0,l.Z)(function*(){let k=null;try{k=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,l.Z)(function*(){try{yield Hn(m)}catch(k){if("auth/network-request-failed"!==k?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function vt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,l.Z)(function*(){const k=m?(0,C.m9)(m):null;return k&&Z(k.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(k&&k._clone(v))})()}_updateCurrentUser(m,v=!1){var k=this;return(0,l.Z)(function*(){if(!k._deleted)return m&&Z(k.tenantId===m.tenantId,k,"tenant-id-mismatch"),v||(yield k.beforeStateQueue.runMiddleware(m)),k.queue((0,l.Z)(function*(){yield k.directlySetCurrentUser(m),k.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,l.Z)(function*(){yield v.assertedPersistence.setPersistence(He(m))}))}initializeRecaptchaConfig(){var m=this;return(0,l.Z)(function*(){const v=yield wn(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),k=new di(v);null==m.tenantId?m._agentRecaptchaConfig=k:m._tenantRecaptchaConfigs[m.tenantId]=k,k.emailPasswordEnabled&&new br(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new C.LL("auth","Firebase",m())}onAuthStateChanged(m,v,k){return this.registerStateListener(this.authStateSubscription,m,v,k)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,k){return this.registerStateListener(this.idTokenSubscription,m,v,k)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var k=this;return(0,l.Z)(function*(){const se=yield k.getOrInitRedirectPersistenceManager(v);return null===m?se.removeCurrentUser():se.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,l.Z)(function*(){if(!v.redirectPersistenceManager){const k=m&&He(m)||v._popupRedirectResolver;Z(k,v,"argument-error"),v.redirectPersistenceManager=yield Be.create(v,[He(k._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,l.Z)(function*(){var k,se;return v._isInitialized&&(yield v.queue((0,l.Z)(function*(){}))),(null===(k=v._currentUser)||void 0===k?void 0:k._redirectEventId)===m?v._currentUser:(null===(se=v.redirectUser)||void 0===se?void 0:se._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,l.Z)(function*(){if(m===v.currentUser)return v.queue((0,l.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,k,se){if(this._deleted)return()=>{};const Ae="function"==typeof v?v:v.next.bind(v),Nt=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(Nt,this,"internal-error"),Nt.then(()=>Ae(this.currentUser)),"function"==typeof v?m.addObserver(v,k,se):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,l.Z)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=ti(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var v;const k={"X-Client-Version":m.clientVersion};m.app.options.appId&&(k["X-Firebase-gmpid"]=m.app.options.appId);const se=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();se&&(k["X-Firebase-Client"]=se);const Ae=yield m._getAppCheckToken();return Ae&&(k["X-Firebase-AppCheck"]=Ae),k})()}_getAppCheckToken(){var m=this;return(0,l.Z)(function*(){var v;const k=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return k?.error&&function ke(I,...m){$e.logLevel<=B.in.WARN&&$e.warn(`Auth (${p.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function Ri(I){return(0,C.m9)(I)}class Zo{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,C.ne)(v=>this.observer=v)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function er(I,m,v){const k=Ri(I);Z(k._canInitEmulator,k,"emulator-config-failed"),Z(/^https?:\/\//.test(m),k,"invalid-emulator-scheme");const se=!!v?.disableWarnings,Ae=uo(m),{host:Nt,port:nn}=function jr(I){const m=uo(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const k=v[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(k);if(se){const Ae=se[1];return{host:Ae,port:xo(k.substr(Ae.length+1))}}{const[Ae,Nt]=k.split(":");return{host:Ae,port:xo(Nt)}}}(m);k.config.emulator={url:`${Ae}//${Nt}${null===nn?"":`:${nn}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:Nt,port:nn,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function Cs(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function uo(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function xo(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class no{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return qe("not implemented")}_getIdTokenResponse(m){return qe("not implemented")}_linkToIdToken(m,v){return qe("not implemented")}_getReauthenticationResolver(m){return qe("not implemented")}}function jo(I,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:resetPassword",sn(I,m))})).apply(this,arguments)}function Cr(I,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:update",sn(I,m))})).apply(this,arguments)}function Dr(I,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(I,m){return ct(I,"POST","/v1/accounts:signInWithPassword",sn(I,m))})).apply(this,arguments)}function lr(I,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:sendOobCode",sn(I,m))})).apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(I,m){return lr(I,m)})).apply(this,arguments)}function gt(I,m){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(I,m){return lr(I,m)})).apply(this,arguments)}function hn(I,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(I,m){return lr(I,m)})).apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(I,m){return lr(I,m)})).apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(I,m){return ct(I,"POST","/v1/accounts:signInWithEmailLink",sn(I,m))})).apply(this,arguments)}function Pi(){return(Pi=(0,l.Z)(function*(I,m){return ct(I,"POST","/v1/accounts:signInWithEmailLink",sn(I,m))})).apply(this,arguments)}class ir extends no{constructor(m,v,k,se=null){super("password",k),this._email=m,this._password=v,this._tenantId=se}static _fromEmailAndPassword(m,v){return new ir(m,v,"password")}static _fromEmailAndCode(m,v,k=null){return new ir(m,v,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,l.Z)(function*(){var k;switch(v.signInMethod){case"password":const se={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=m._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Ae=yield Kr(m,se,"signInWithPassword");return Dr(m,Ae)}return Dr(m,se).catch(function(){var Ae=(0,l.Z)(function*(Nt){if("auth/missing-recaptcha-token"===Nt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nn=yield Kr(m,se,"signInWithPassword");return Dr(m,nn)}return Promise.reject(Nt)});return function(Nt){return Ae.apply(this,arguments)}}());case"emailLink":return function ai(I,m){return bi.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:fe(m,"internal-error")}})()}_linkToIdToken(m,v){var k=this;return(0,l.Z)(function*(){switch(k.signInMethod){case"password":return Cr(m,{idToken:v,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function Fr(I,m){return Pi.apply(this,arguments)}(m,{idToken:v,email:k._email,oobCode:k._password});default:fe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Wi(I,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(I,m){return ct(I,"POST","/v1/accounts:signInWithIdp",sn(I,m))})).apply(this,arguments)}class ci extends no{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new ci(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):fe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:k,signInMethod:se}=v,Ae=(0,X._T)(v,["providerId","signInMethod"]);if(!k||!se)return null;const Nt=new ci(k,se);return Nt.idToken=Ae.idToken||void 0,Nt.accessToken=Ae.accessToken||void 0,Nt.secret=Ae.secret,Nt.nonce=Ae.nonce,Nt.pendingToken=Ae.pendingToken||null,Nt}_getIdTokenResponse(m){return Wi(m,this.buildRequest())}_linkToIdToken(m,v){const k=this.buildRequest();return k.idToken=v,Wi(m,k)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Wi(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,C.xO)(v)}return m}}function Po(){return(Po=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:sendVerificationCode",sn(I,m))})).apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(I,m){return ct(I,"POST","/v1/accounts:signInWithPhoneNumber",sn(I,m))})).apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(I,m){const v=yield ct(I,"POST","/v1/accounts:signInWithPhoneNumber",sn(I,m));if(v.temporaryProof)throw ft(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Do={USER_NOT_FOUND:"user-not-found"};function Os(){return(Os=(0,l.Z)(function*(I,m){return ct(I,"POST","/v1/accounts:signInWithPhoneNumber",sn(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Do)})).apply(this,arguments)}class dr extends no{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new dr({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new dr({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function Nr(I,m){return rr.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Ho(I,m){return Ds.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Fo(I,m){return Os.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:k,verificationCode:se}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:k,code:se}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:k,phoneNumber:se,temporaryProof:Ae}=m;return k||v||se||Ae?new dr({verificationId:v,verificationCode:k,phoneNumber:se,temporaryProof:Ae}):null}}class go{constructor(m){var v,k,se,Ae,Nt,nn;const Ln=(0,C.zd)((0,C.pd)(m)),ii=null!==(v=Ln.apiKey)&&void 0!==v?v:null,vi=null!==(k=Ln.oobCode)&&void 0!==k?k:null,ar=function or(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=Ln.mode)&&void 0!==se?se:null);Z(ii&&vi&&ar,"argument-error"),this.apiKey=ii,this.operation=ar,this.code=vi,this.continueUrl=null!==(Ae=Ln.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(Nt=Ln.languageCode)&&void 0!==Nt?Nt:null,this.tenantId=null!==(nn=Ln.tenantId)&&void 0!==nn?nn:null}static parseLink(m){const v=function Yo(I){const m=(0,C.zd)((0,C.pd)(I)).link,v=m?(0,C.zd)((0,C.pd)(m)).deep_link_id:null,k=(0,C.zd)((0,C.pd)(I)).deep_link_id;return(k?(0,C.zd)((0,C.pd)(k)).link:null)||k||v||m||I}(m);try{return new go(v)}catch{return null}}}let Ki=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,k){return ir._fromEmailAndPassword(v,k)}static credentialWithLink(v,k){const se=go.parseLink(k);return Z(se,"argument-error"),ir._fromEmailAndCode(v,se.code,se.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Io{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class zo extends Io{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class mo extends zo{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Z("providerId"in v&&"signInMethod"in v,"argument-error"),ci._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Z(m.idToken||m.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return mo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return mo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:k,oauthTokenSecret:se,pendingToken:Ae,nonce:Nt,providerId:nn}=m;if(!k&&!se&&!v&&!Ae||!nn)return null;try{return new mo(nn)._credential({idToken:v,accessToken:k,nonce:Nt,pendingToken:Ae})}catch{return null}}}let is=(()=>{class I extends zo{constructor(){super("facebook.com")}static credential(v){return ci._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),$o=(()=>{class I extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(v,k){return ci._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:k})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:k,oauthAccessToken:se}=v;if(!k&&!se)return null;try{return I.credential(k,se)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),hs=(()=>{class I extends zo{constructor(){super("github.com")}static credential(v){return ci._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class No extends no{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Wi(m,this.buildRequest())}_linkToIdToken(m,v){const k=this.buildRequest();return k.idToken=v,Wi(m,k)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Wi(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:k,signInMethod:se,pendingToken:Ae}=v;return k&&se&&Ae&&k===se?new No(k,Ae):null}static _create(m,v){return new No(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tr extends Io{constructor(m){Z(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Tr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Tr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=No.fromJSON(m);return Z(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:k}=m;if(!v||!k)return null;try{return No._create(k,v)}catch{return null}}}let fo=(()=>{class I extends zo{constructor(){super("twitter.com")}static credential(v,k){return ci._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:k})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:k,oauthTokenSecret:se}=v;if(!k||!se)return null;try{return I.credential(k,se)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Lr(I,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(I,m){return ct(I,"POST","/v1/accounts:signUp",sn(I,m))})).apply(this,arguments)}class Gi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,k,se=!1){return(0,l.Z)(function*(){const Ae=yield ut._fromIdTokenResponse(m,k,se),Nt=Lo(k);return new Gi({user:Ae,providerId:Nt,_tokenResponse:k,operationType:v})})()}static _forOperation(m,v,k){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(k,!0);const se=Lo(k);return new Gi({user:m,providerId:se,_tokenResponse:k,operationType:v})})()}}function Lo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function _o(I){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(I){var m;const v=Ri(I);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new Gi({user:v.currentUser,providerId:null,operationType:"signIn"});const k=yield Lr(v,{returnSecureToken:!0}),se=yield Gi._fromIdTokenResponse(v,"signIn",k,!0);return yield v._updateCurrentUser(se.user),se})).apply(this,arguments)}class ms extends C.ZR{constructor(m,v,k,se){var Ae;super(v.code,v.message),this.operationType=k,this.user=se,Object.setPrototypeOf(this,ms.prototype),this.customData={appName:m.name,tenantId:null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:v.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(m,v,k,se){return new ms(m,v,k,se)}}function fs(I,m,v,k){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?ms._fromErrorAndOperation(I,Ae,m,k):Ae})}function tt(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function it(I,m){return q.apply(this,arguments)}function q(){return q=(0,l.Z)(function*(I,m){const v=(0,C.m9)(I);yield On(!0,v,m);const{providerUserInfo:k}=yield function De(I,m){return Tt.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),se=tt(k||[]);return v.providerData=v.providerData.filter(Ae=>se.has(Ae.providerId)),se.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),q.apply(this,arguments)}function st(I,m){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(I,m,v=!1){const k=yield cn(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return Gi._forOperation(I,"link",k)})).apply(this,arguments)}function On(I,m,v){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(I,m,v){yield Hn(m);const se=!1===I?"provider-already-linked":"no-such-provider";Z(tt(m.providerData).has(v)===I,m.auth,se)})).apply(this,arguments)}function kr(I,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(I,m,v=!1){const{auth:k}=I,se="reauthenticate";try{const Ae=yield cn(I,fs(k,se,m,I),v);Z(Ae.idToken,k,"internal-error");const Nt=At(Ae.idToken);Z(Nt,k,"internal-error");const{sub:nn}=Nt;return Z(I.uid===nn,k,"user-mismatch"),Gi._forOperation(I,se,Ae)}catch(Ae){throw"auth/user-not-found"===Ae?.code&&fe(k,"user-mismatch"),Ae}})).apply(this,arguments)}function io(I,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(I,m,v=!1){const k="signIn",se=yield fs(I,k,m),Ae=yield Gi._fromIdTokenResponse(I,k,se);return v||(yield I._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function K(I,m){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)(function*(I,m){return io(Ri(I),m)})).apply(this,arguments)}function b(I,m){return D.apply(this,arguments)}function D(){return(D=(0,l.Z)(function*(I,m){const v=(0,C.m9)(I);return yield On(!1,v,m.providerId),st(v,m)})).apply(this,arguments)}function ie(I,m){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(I,m){return kr((0,C.m9)(I),m)})).apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(I,m){return ct(I,"POST","/v1/accounts:signInWithCustomToken",sn(I,m))})).apply(this,arguments)}function Tn(I,m){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,l.Z)(function*(I,m){const v=Ri(I),k=yield function _t(I,m){return $t.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),se=yield Gi._fromIdTokenResponse(v,"signIn",k);return yield v._updateCurrentUser(se.user),se}),Kn.apply(this,arguments)}class $n{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?wi._fromServerResponse(m,v):"totpInfo"in v?Ai._fromServerResponse(m,v):fe(m,"internal-error")}}class wi extends $n{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new wi(v)}}class Ai extends $n{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new Ai(v)}}function yr(I,m,v){var k;Z((null===(k=v.url)||void 0===k?void 0:k.length)>0,I,"invalid-continue-uri"),Z(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Z(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Z(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Or(I,m,v){return fr.apply(this,arguments)}function fr(){return fr=(0,l.Z)(function*(I,m,v){var k;const se=Ri(I),Ae={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Nt=yield Kr(se,Ae,"getOobCode",!0);v&&yr(se,Nt,v),yield gt(se,Nt)}else v&&yr(se,Ae,v),yield gt(se,Ae).catch(function(){var Nt=(0,l.Z)(function*(nn){if("auth/missing-recaptcha-token"!==nn.code)return Promise.reject(nn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ln=yield Kr(se,Ae,"getOobCode",!0);v&&yr(se,Ln,v),yield gt(se,Ln)}});return function(nn){return Nt.apply(this,arguments)}}())}),fr.apply(this,arguments)}function Ni(I,m,v){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(I,m,v){yield jo((0,C.m9)(I),{oobCode:m,newPassword:v})})).apply(this,arguments)}function fi(I,m){return vo.apply(this,arguments)}function vo(){return vo=(0,l.Z)(function*(I,m){yield function us(I,m){return mi.apply(this,arguments)}((0,C.m9)(I),{oobCode:m})}),vo.apply(this,arguments)}function Rr(I,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(I,m){const v=(0,C.m9)(I),k=yield jo(v,{oobCode:m}),se=k.requestType;switch(Z(se,v,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(k.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(k.mfaInfo,v,"internal-error");default:Z(k.email,v,"internal-error")}let Ae=null;return k.mfaInfo&&(Ae=$n._fromServerResponse(Ri(v),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:Ae},operation:se}})).apply(this,arguments)}function Pr(I,m){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(I,m){const{data:v}=yield Rr((0,C.m9)(I),m);return v.email})).apply(this,arguments)}function Qo(I,m,v){return Is.apply(this,arguments)}function Is(){return Is=(0,l.Z)(function*(I,m,v){var k;const se=Ri(I),Ae={returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"};let Nt;if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const ii=yield Kr(se,Ae,"signUpPassword");Nt=Lr(se,ii)}else Nt=Lr(se,Ae).catch(function(){var ii=(0,l.Z)(function*(vi){if("auth/missing-recaptcha-token"===vi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ar=yield Kr(se,Ae,"signUpPassword");return Lr(se,ar)}return Promise.reject(vi)});return function(vi){return ii.apply(this,arguments)}}());const nn=yield Nt.catch(ii=>Promise.reject(ii)),Ln=yield Gi._fromIdTokenResponse(se,"signIn",nn);return yield se._updateCurrentUser(Ln.user),Ln}),Is.apply(this,arguments)}function Rs(I,m,v){return K((0,C.m9)(I),Ki.credential(m,v))}function ps(I,m,v){return aa.apply(this,arguments)}function aa(){return aa=(0,l.Z)(function*(I,m,v){var k;const se=Ri(I),Ae={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function Nt(nn,Ln){Z(Ln.handleCodeInApp,se,"argument-error"),Ln&&yr(se,nn,Ln)}if(null!==(k=se._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const nn=yield Kr(se,Ae,"getOobCode",!0);Nt(nn,v),yield hn(se,nn)}else Nt(Ae,v),yield hn(se,Ae).catch(function(){var nn=(0,l.Z)(function*(Ln){if("auth/missing-recaptcha-token"!==Ln.code)return Promise.reject(Ln);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ii=yield Kr(se,Ae,"getOobCode",!0);Nt(ii,v),yield hn(se,ii)}});return function(Ln){return nn.apply(this,arguments)}}())}),aa.apply(this,arguments)}function ea(I,m){const v=go.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function ga(I,m,v){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(I,m,v){const k=(0,C.m9)(I),se=Ki.credentialWithLink(m,v||Xe());return Z(se._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),K(k,se)})).apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:createAuthUri",sn(I,m))})).apply(this,arguments)}function Oa(I,m){return _a.apply(this,arguments)}function _a(){return _a=(0,l.Z)(function*(I,m){const k={identifier:m,continueUri:Ct()?Xe():"http://localhost"},{signinMethods:se}=yield function Ps(I,m){return Fs.apply(this,arguments)}((0,C.m9)(I),k);return se||[]}),_a.apply(this,arguments)}function va(I,m){return ta.apply(this,arguments)}function ta(){return ta=(0,l.Z)(function*(I,m){const v=(0,C.m9)(I),se={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&yr(v.auth,se,m);const{email:Ae}=yield function Eo(I,m){return Dt.apply(this,arguments)}(v.auth,se);Ae!==I.email&&(yield I.reload())}),ta.apply(this,arguments)}function ca(I,m,v){return gs.apply(this,arguments)}function gs(){return gs=(0,l.Z)(function*(I,m,v){const k=(0,C.m9)(I),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&yr(k.auth,Ae,v);const{email:Nt}=yield function mn(I,m){return Pn.apply(this,arguments)}(k.auth,Ae);Nt!==I.email&&(yield I.reload())}),gs.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(I,m){return bn(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ba(I,m){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,l.Z)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const k=(0,C.m9)(I),Ae={idToken:yield k.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},Nt=yield cn(k,function Ia(I,m){return na.apply(this,arguments)}(k.auth,Ae));k.displayName=Nt.displayName||null,k.photoURL=Nt.photoUrl||null;const nn=k.providerData.find(({providerId:Ln})=>"password"===Ln);nn&&(nn.displayName=k.displayName,nn.photoURL=k.photoURL),yield k._updateTokensIfNecessary(Nt)}),Ra.apply(this,arguments)}function Ws(I,m){return vs((0,C.m9)(I),m,null)}function _s(I,m){return vs((0,C.m9)(I),null,m)}function vs(I,m,v){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(I,m,v){const{auth:k}=I,Ae={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(Ae.email=m),v&&(Ae.password=v);const Nt=yield cn(I,Cr(k,Ae));yield I._updateTokensIfNecessary(Nt,!0)})).apply(this,arguments)}class tr{constructor(m,v,k={}){this.isNewUser=m,this.providerId=v,this.profile=k}}class ro extends tr{constructor(m,v,k,se){super(m,v,k),this.username=se}}class Ks extends tr{constructor(m,v){super(m,"facebook.com",v)}}class Ti extends ro{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class la extends tr{constructor(m,v){super(m,"google.com",v)}}class P extends ro{constructor(m,v,k){super(m,"twitter.com",v,k)}}function ee(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Vs(I){var m,v;if(!I)return null;const{providerId:k}=I,se=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Ae=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!k&&I?.idToken){const Nt=null===(v=null===(m=At(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(Nt)return new tr(Ae,"anonymous"!==Nt&&"custom"!==Nt?Nt:null)}if(!k)return null;switch(k){case"facebook.com":return new Ks(Ae,se);case"github.com":return new Ti(Ae,se);case"google.com":return new la(Ae,se);case"twitter.com":return new P(Ae,se,I.screenName||null);case"custom":case"anonymous":return new tr(Ae,null);default:return new tr(Ae,k,se)}}(v)}class sr{constructor(m,v,k){this.type=m,this.credential=v,this.auth=k}static _fromIdtoken(m,v){return new sr("enroll",m,v)}static _fromMfaPendingCredential(m){return new sr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,k;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return sr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(k=m.multiFactorSession)&&void 0!==k&&k.idToken)return sr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Gn{constructor(m,v,k){this.session=m,this.hints=v,this.signInResolver=k}static _fromError(m,v){const k=Ri(m),se=v.customData._serverResponse,Ae=(se.mfaInfo||[]).map(nn=>$n._fromServerResponse(k,nn));Z(se.mfaPendingCredential,k,"internal-error");const Nt=sr._fromMfaPendingCredential(se.mfaPendingCredential);return new Gn(Nt,Ae,function(){var nn=(0,l.Z)(function*(Ln){const ii=yield Ln._process(k,Nt);delete se.mfaInfo,delete se.mfaPendingCredential;const vi=Object.assign(Object.assign({},se),{idToken:ii.idToken,refreshToken:ii.refreshToken});switch(v.operationType){case"signIn":const ar=yield Gi._fromIdTokenResponse(k,v.operationType,vi);return yield k._updateCurrentUser(ar.user),ar;case"reauthenticate":return Z(v.user,k,"internal-error"),Gi._forOperation(v.user,v.operationType,vi);default:fe(k,"internal-error")}});return function(Ln){return nn.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,l.Z)(function*(){return v.signInResolver(m)})()}}function Qr(I,m){var v;const k=(0,C.m9)(I),se=m;return Z(m.customData.operationType,k,"argument-error"),Z(null===(v=se.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,k,"argument-error"),Gn._fromError(k,se)}class rs{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(k=>$n._fromServerResponse(m.auth,k)))})}static _fromUser(m){return new rs(m)}getSession(){var m=this;return(0,l.Z)(function*(){return sr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,v){var k=this;return(0,l.Z)(function*(){const se=m,Ae=yield k.getSession(),Nt=yield cn(k.user,se._process(k.user.auth,Ae,v));return yield k.user._updateTokensIfNecessary(Nt),k.user.reload()})()}unenroll(m){var v=this;return(0,l.Z)(function*(){const k="string"==typeof m?m:m.uid,se=yield v.user.getIdToken();try{const Ae=yield cn(v.user,function Zs(I,m){return bn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(I,m))}(v.user.auth,{idToken:se,mfaEnrollmentId:k}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Nt})=>Nt!==k),yield v.user._updateTokensIfNecessary(Ae),yield v.user.reload()}catch(Ae){throw Ae}})()}}const Ts=new WeakMap;function sc(I){const m=(0,C.m9)(I);return Ts.has(m)||Ts.set(m,rs._fromUser(m)),Ts.get(m)}const wa="__sak";class bc{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const os=(()=>{class I extends bc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,k)=>this.onStorageEvent(v,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pa(){const I=(0,C.z$)();return j(I)||Ue(I)}()&&function jn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const k of Object.keys(this.listeners)){const se=this.storage.getItem(k),Ae=this.localCache[k];se!==Ae&&v(k,Ae,se)}}onStorageEvent(v,k=!1){if(!v.key)return void this.forAllChangedKeys((nn,Ln,ii)=>{this.notifyListeners(nn,ii)});const se=v.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const nn=this.storage.getItem(se);if(v.newValue!==nn)null!==v.newValue?this.storage.setItem(se,v.newValue):this.storage.removeItem(se);else if(this.localCache[se]===v.newValue&&!k)return}const Ae=()=>{const nn=this.storage.getItem(se);!k&&this.localCache[se]===nn||this.notifyListeners(se,nn)},Nt=this.storage.getItem(se);!function yt(){return(0,C.w1)()&&10===document.documentMode}()||Nt===v.newValue||v.newValue===v.oldValue?Ae():setTimeout(Ae,10)}notifyListeners(v,k){this.localCache[v]=k;const se=this.listeners[v];if(se)for(const Ae of Array.from(se))Ae(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,k,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:k,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(k)}_removeListener(v,k){this.listeners[v]&&(this.listeners[v].delete(k),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,k){var se=()=>super._set,Ae=this;return(0,l.Z)(function*(){yield se().call(Ae,v,k),Ae.localCache[v]=JSON.stringify(k)})()}_get(v){var k=()=>super._get,se=this;return(0,l.Z)(function*(){const Ae=yield k().call(se,v);return se.localCache[v]=JSON.stringify(Ae),Ae})()}_remove(v){var k=()=>super._remove,se=this;return(0,l.Z)(function*(){yield k().call(se,v),delete se.localCache[v]})()}}return I.type="LOCAL",I})(),Fa=(()=>{class I extends bc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,k){}_removeListener(v,k){}}return I.type="SESSION",I})();let Mn=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const k=this.receivers.find(Ae=>Ae.isListeningto(v));if(k)return k;const se=new I(v);return this.receivers.push(se),se}isListeningto(v){return this.eventTarget===v}handleEvent(v){var k=this;return(0,l.Z)(function*(){const se=v,{eventId:Ae,eventType:Nt,data:nn}=se.data,Ln=k.handlersMap[Nt];if(!Ln?.size)return;se.ports[0].postMessage({status:"ack",eventId:Ae,eventType:Nt});const ii=Array.from(Ln).map(function(){var ar=(0,l.Z)(function*(ha){return ha(se.origin,nn)});return function(ha){return ar.apply(this,arguments)}}()),vi=yield function ac(I){return Promise.all(I.map(function(){var m=(0,l.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(k){return{fulfilled:!1,reason:k}}});return function(v){return m.apply(this,arguments)}}()))}(ii);se.ports[0].postMessage({status:"done",eventId:Ae,eventType:Nt,response:vi})})()}_subscribe(v,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(k)}_unsubscribe(v,k){this.handlersMap[v]&&k&&this.handlersMap[v].delete(k),(!k||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function wr(I="",m=10){let v="";for(let k=0;k<m;k++)v+=Math.floor(10*Math.random());return I+v}class Ms{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,k=50){var se=this;return(0,l.Z)(function*(){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let Nt,nn;return new Promise((Ln,ii)=>{const vi=wr("",20);Ae.port1.start();const ar=setTimeout(()=>{ii(new Error("unsupported_event"))},k);nn={messageChannel:Ae,onMessage(ha){const sa=ha;if(sa.data.eventId===vi)switch(sa.data.status){case"ack":clearTimeout(ar),Nt=setTimeout(()=>{ii(new Error("timeout"))},3e3);break;case"done":clearTimeout(Nt),Ln(sa.data.response);break;default:clearTimeout(ar),clearTimeout(Nt),ii(new Error("invalid_response"))}}},se.handlers.add(nn),Ae.port1.addEventListener("message",nn.onMessage),se.target.postMessage({eventType:m,eventId:vi,data:v},[Ae.port2])}).finally(()=>{nn&&se.removeMessageHandler(nn)})})()}}function oo(){return window}function li(){return typeof oo().WorkerGlobalScope<"u"&&"function"==typeof oo().importScripts}function U(){return(U=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const O="firebaseLocalStorageDb",ve="firebaseLocalStorage",mt="fbase_key";class pt{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Qt(I,m){return I.transaction([ve],m?"readwrite":"readonly").objectStore(ve)}function Un(){const I=indexedDB.open(O,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const k=I.result;try{k.createObjectStore(ve,{keyPath:mt})}catch(se){v(se)}}),I.addEventListener("success",(0,l.Z)(function*(){const k=I.result;k.objectStoreNames.contains(ve)?m(k):(k.close(),yield function pn(){const I=indexedDB.deleteDatabase(O);return new pt(I).toPromise()}(),m(yield Un()))}))})}function Xn(I,m,v){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(I,m,v){const k=Qt(I,!0).put({[mt]:m,value:v});return new pt(k).toPromise()})).apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(I,m){const v=Qt(I,!1).get(m),k=yield new pt(v).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Fn(I,m){const v=Qt(I,!0).delete(m);return new pt(v).toPromise()}const Qn=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,l.Z)(function*(){return v.db||(v.db=yield Un()),v.db})()}_withRetries(v){var k=this;return(0,l.Z)(function*(){let se=0;for(;;)try{const Ae=yield k._openDb();return yield v(Ae)}catch(Ae){if(se++>3)throw Ae;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,l.Z)(function*(){return li()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,l.Z)(function*(){v.receiver=Mn._getInstance(function _(){return li()?self:null}()),v.receiver._subscribe("keyChanged",function(){var k=(0,l.Z)(function*(se,Ae){return{keyProcessed:(yield v._poll()).includes(Ae.key)}});return function(se,Ae){return k.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var k=(0,l.Z)(function*(se,Ae){return["keyChanged"]});return function(se,Ae){return k.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,l.Z)(function*(){var k,se;if(v.activeServiceWorker=yield function Ss(){return U.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ms(v.activeServiceWorker);const Ae=yield v.sender._send("ping",{},800);Ae&&null!==(k=Ae[0])&&void 0!==k&&k.fulfilled&&null!==(se=Ae[0])&&void 0!==se&&se.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var k=this;return(0,l.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function g(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:v},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Un();return yield Xn(v,wa,"1"),yield Fn(v,wa),!0}catch{}return!1})()}_withPendingWrite(v){var k=this;return(0,l.Z)(function*(){k.pendingWrites++;try{yield v()}finally{k.pendingWrites--}})()}_set(v,k){var se=this;return(0,l.Z)(function*(){return se._withPendingWrite((0,l.Z)(function*(){return yield se._withRetries(Ae=>Xn(Ae,v,k)),se.localCache[v]=k,se.notifyServiceWorker(v)}))})()}_get(v){var k=this;return(0,l.Z)(function*(){const se=yield k._withRetries(Ae=>function Oi(I,m){return ui.apply(this,arguments)}(Ae,v));return k.localCache[v]=se,se})()}_remove(v){var k=this;return(0,l.Z)(function*(){return k._withPendingWrite((0,l.Z)(function*(){return yield k._withRetries(se=>Fn(se,v)),delete k.localCache[v],k.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,l.Z)(function*(){const k=yield v._withRetries(Nt=>{const nn=Qt(Nt,!1).getAll();return new pt(nn).toPromise()});if(!k)return[];if(0!==v.pendingWrites)return[];const se=[],Ae=new Set;for(const{fbase_key:Nt,value:nn}of k)Ae.add(Nt),JSON.stringify(v.localCache[Nt])!==JSON.stringify(nn)&&(v.notifyListeners(Nt,nn),se.push(Nt));for(const Nt of Object.keys(v.localCache))v.localCache[Nt]&&!Ae.has(Nt)&&(v.notifyListeners(Nt,null),se.push(Nt));return se})()}notifyListeners(v,k){this.localCache[v]=k;const se=this.listeners[v];if(se)for(const Ae of Array.from(se))Ae(k)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(k)}_removeListener(v,k){this.listeners[v]&&(this.listeners[v].delete(k),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),R=1e12;class x{constructor(m){this.auth=m,this.counter=R,this._widgets=new Map}render(m,v){const k=this.counter;return this._widgets.set(k,new N(m,this.auth.name,v||{})),this.counter++,k}reset(m){var v;const k=m||R;null===(v=this._widgets.get(k))||void 0===v||v.delete(),this._widgets.delete(k)}getResponse(m){var v;return(null===(v=this._widgets.get(m||R))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,l.Z)(function*(){var k;return null===(k=v._widgets.get(m||R))||void 0===k||k.execute(),""})()}}class N{constructor(m,v,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof m?document.getElementById(m):m;Z(se,"argument-error",{appName:v}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ne(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<I;k++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Me=vr("rcb"),Ne=new bt(3e4,6e4);class Wt{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=oo().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return Z(function In(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&Rn(oo().grecaptcha)?Promise.resolve(oo().grecaptcha):new Promise((k,se)=>{const Ae=oo().setTimeout(()=>{se(we(m,"network-request-failed"))},Ne.get());oo()[Me]=()=>{oo().clearTimeout(Ae),delete oo()[Me];const nn=oo().grecaptcha;if(!nn||!Rn(nn))return void se(we(m,"internal-error"));const Ln=nn.render;nn.render=(ii,vi)=>{const ar=Ln(ii,vi);return this.counter++,ar},this.hostLanguage=v,k(nn)},_i(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:Me,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(Ae),se(we(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=oo().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xn{load(m){return(0,l.Z)(function*(){return new x(m)})()}clearedOneInstance(){}}const si="recaptcha",qi={theme:"light",type:"image"};class ys{constructor(m,v=Object.assign({},qi),k){this.parameters=v,this.type=si,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ri(k),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof m?document.getElementById(m):m;Z(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xn:new Wt,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),k=m.getAssertedRecaptcha();return k.getResponse(v)||new Promise(Ae=>{const Nt=nn=>{nn&&(m.tokenChangeListeners.delete(Nt),Ae(nn))};m.tokenChangeListeners.add(Nt),m.isInvisible&&k.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(k=>k(v)),"function"==typeof m)m(v);else if("string"==typeof m){const k=oo()[m];"function"==typeof k&&k(v)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const k=document.createElement("div");v.appendChild(k),v=k}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){Z(Ct()&&!li(),m.auth,"internal-error"),yield function Br(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function Pt(I){return St.apply(this,arguments)}(m.auth);Z(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xo{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=dr._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Lt(I,m,v){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(I,m,v){const k=Ri(I),se=yield Na(k,m,(0,C.m9)(v));return new Xo(se,Ae=>K(k,Ae))})).apply(this,arguments)}function xs(I,m,v){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(I,m,v){const k=(0,C.m9)(I);yield On(!1,k,"phone");const se=yield Na(k.auth,m,(0,C.m9)(v));return new Xo(se,Ae=>b(k,Ae))})).apply(this,arguments)}function Ys(I,m,v){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(I,m,v){const k=(0,C.m9)(I),se=yield Na(k.auth,m,(0,C.m9)(v));return new Xo(se,Ae=>ie(k,Ae))})).apply(this,arguments)}function Na(I,m,v){return qs.apply(this,arguments)}function qs(){return qs=(0,l.Z)(function*(I,m,v){var k;const se=yield v.verify();try{let Ae;if(Z("string"==typeof se,I,"argument-error"),Z(v.type===si,I,"argument-error"),Ae="string"==typeof m?{phoneNumber:m}:m,"session"in Ae){const Nt=Ae.session;if("phoneNumber"in Ae)return Z("enroll"===Nt.type,I,"internal-error"),(yield function bs(I,m){return bn(I,"POST","/v2/accounts/mfaEnrollment:start",sn(I,m))}(I,{idToken:Nt.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Z("signin"===Nt.type,I,"internal-error");const nn=(null===(k=Ae.multiFactorHint)||void 0===k?void 0:k.uid)||Ae.multiFactorUid;return Z(nn,I,"missing-multi-factor-info"),(yield function Mo(I,m){return bn(I,"POST","/v2/accounts/mfaSignIn:start",sn(I,m))}(I,{mfaPendingCredential:Nt.credential,mfaEnrollmentId:nn,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Nt}=yield function ns(I,m){return Po.apply(this,arguments)}(I,{phoneNumber:Ae.phoneNumber,recaptchaToken:se});return Nt}}finally{v._reset()}}),qs.apply(this,arguments)}function kd(I,m){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(I,m){yield st((0,C.m9)(I),m)})).apply(this,arguments)}let Nh=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=Ri(v)}verifyPhoneNumber(v,k){return Na(this.auth,v,(0,C.m9)(k))}static credential(v,k){return dr._fromVerification(v,k)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:k,temporaryProof:se}=v;return k&&se?dr._fromTokenResponse(k,se):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ma(I,m){return m?He(m):(Z(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ks extends no{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Wi(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Wi(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Wi(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Qs(I){return io(I.auth,new ks(I),I.bypassAuthState)}function La(I){const{auth:m,user:v}=I;return Z(v,m,"internal-error"),kr(v,new ks(I),I.bypassAuthState)}function Lc(I){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(I){const{auth:m,user:v}=I;return Z(v,m,"internal-error"),st(v,new ks(I),I.bypassAuthState)})).apply(this,arguments)}class Ad{constructor(m,v,k,se,Ae=!1){this.auth=m,this.resolver=k,this.user=se,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,l.Z)(function*(k,se){m.pendingPromise={resolve:k,reject:se};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Ae){m.reject(Ae)}});return function(k,se){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,l.Z)(function*(){const{urlResponse:k,sessionId:se,postBody:Ae,tenantId:Nt,error:nn,type:Ln}=m;if(nn)return void v.reject(nn);const ii={auth:v.auth,requestUri:k,sessionId:se,tenantId:Nt||void 0,postBody:Ae||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ln)(ii))}catch(vi){v.reject(vi)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Qs;case"linkViaPopup":case"linkViaRedirect":return Lc;case"reauthViaPopup":case"reauthViaRedirect":return La;default:fe(this.auth,"internal-error")}}resolve(m){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cl=new bt(2e3,1e4);function as(I,m,v){return wc.apply(this,arguments)}function wc(){return(wc=(0,l.Z)(function*(I,m,v){const k=Ri(I);ge(I,m,Io);const se=Ma(k,v);return new hl(k,"signInViaPopup",m,se).executeNotNull()})).apply(this,arguments)}function da(I,m,v){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(I,m,v){const k=(0,C.m9)(I);ge(k.auth,m,Io);const se=Ma(k.auth,v);return new hl(k.auth,"reauthViaPopup",m,se,k).executeNotNull()})).apply(this,arguments)}function dl(I,m,v){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(I,m,v){const k=(0,C.m9)(I);ge(k.auth,m,Io);const se=Ma(k.auth,v);return new hl(k.auth,"linkViaPopup",m,se,k).executeNotNull()})).apply(this,arguments)}let hl=(()=>{class I extends Ad{constructor(v,k,se,Ae,Nt){super(v,k,Ae,Nt),this.provider=se,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,l.Z)(function*(){const k=yield v.execute();return Z(k,v.auth,"internal-error"),k})()}onExecution(){var v=this;return(0,l.Z)(function*(){je(1===v.filter.length,"Popup operations only handle one event");const k=wr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],k),v.authWindow.associatedEvent=k,v.resolver._originValidation(v.auth).catch(se=>{v.reject(se)}),v.resolver._isIframeWebStorageSupported(v.auth,se=>{se||v.reject(we(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var k,se;this.pollId=null!==(se=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,cl.get())};v()}}return I.currentPopupAction=null,I})();const Hl="pendingRedirect",Ba=new Map;class Lh extends Ad{constructor(m,v,k=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,k),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,l.Z)(function*(){let k=Ba.get(v.auth._key());if(!k){try{const Ae=(yield function Ou(I,m){return xc.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;k=()=>Promise.resolve(Ae)}catch(se){k=()=>Promise.reject(se)}Ba.set(v.auth._key(),k)}return v.bypassAuthState||Ba.set(v.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,k=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(k,m);if("unknown"!==m.type){if(m.eventId){const se=yield k.auth._redirectUserForId(m.eventId);if(se)return k.user=se,v().call(k,m);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function xc(){return(xc=(0,l.Z)(function*(I,m){const v=Ru(m),k=Ga(I);if(!(yield k._isAvailable()))return!1;const se="true"===(yield k._get(v));return yield k._remove(v),se})).apply(this,arguments)}function zl(I,m){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(I,m){return Ga(I)._set(Ru(m),"true")})).apply(this,arguments)}function Bh(){Ba.clear()}function ml(I,m){Ba.set(I._key(),m)}function Ga(I){return He(I._redirectPersistence)}function Ru(I){return Gt(Hl,I.config.apiKey,I.name)}function Gl(I,m,v){return function fl(I,m,v){return Wa.apply(this,arguments)}(I,m,v)}function Wa(){return(Wa=(0,l.Z)(function*(I,m,v){const k=Ri(I);ge(I,m,Io),yield k._initializationPromise;const se=Ma(k,v);return yield zl(se,k),se._openRedirect(k,m,"signInViaRedirect")})).apply(this,arguments)}function Od(I,m,v){return function Wl(I,m,v){return Bc.apply(this,arguments)}(I,m,v)}function Bc(){return(Bc=(0,l.Z)(function*(I,m,v){const k=(0,C.m9)(I);ge(k.auth,m,Io),yield k.auth._initializationPromise;const se=Ma(k.auth,v);yield zl(se,k.auth);const Ae=yield cs(k);return se._openRedirect(k.auth,m,"reauthViaRedirect",Ae)})).apply(this,arguments)}function Kl(I,m,v){return function Es(I,m,v){return Uc.apply(this,arguments)}(I,m,v)}function Uc(){return(Uc=(0,l.Z)(function*(I,m,v){const k=(0,C.m9)(I);ge(k.auth,m,Io),yield k.auth._initializationPromise;const se=Ma(k.auth,v);yield On(!1,k,m.providerId),yield zl(se,k.auth);const Ae=yield cs(k);return se._openRedirect(k.auth,m,"linkViaRedirect",Ae)})).apply(this,arguments)}function ia(I,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(I,m){return yield Ri(I)._initializationPromise,xr(I,m,!1)})).apply(this,arguments)}function xr(I,m){return cc.apply(this,arguments)}function cc(){return(cc=(0,l.Z)(function*(I,m,v=!1){const k=Ri(I),se=Ma(k,m),Nt=yield new Lh(k,se,v).execute();return Nt&&!v&&(delete Nt.user._redirectEventId,yield k._persistUserIfCurrent(Nt.user),yield k._setRedirectUser(null,m)),Nt})).apply(this,arguments)}function cs(I){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(I){const m=wr(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Va{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(m,k)&&(v=!0,this.sendToConsumer(m,k),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Rd(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pl(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var k;if(m.error&&!pl(m)){const se=(null===(k=m.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";v.onError(we(this.auth,se))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const k=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&k}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bs(m))}saveEventToCache(m){this.cachedEventUids.add(Bs(m)),this.lastProcessedEventTime=Date.now()}}function Bs(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function pl({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function Jo(I){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,l.Z)(function*(I,m={}){return bn(I,"GET","/v1/projects",m)})).apply(this,arguments)}const Ec=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wo=/^https?/;function Vc(){return(Vc=(0,l.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield Jo(I);for(const v of m)try{if(co(v))return}catch{}fe(I,"unauthorized-domain")})).apply(this,arguments)}function co(I){const m=Xe(),{protocol:v,hostname:k}=new URL(m);if(I.startsWith("chrome-extension://")){const Nt=new URL(I);return""===Nt.hostname&&""===k?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&Nt.hostname===k}if(!wo.test(v))return!1;if(Ec.test(I))return k===I;const se=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(k)}const Cc=new bt(3e4,6e4);function Dc(){const I=oo().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let Xr=null;const js=new bt(5e3,15e3),ra="__/auth/iframe",qa="emulator/auth/iframe",ja={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ic(I){const m=I.config;Z(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?Bt(m,qa):`https://${I.config.authDomain}/${ra}`,k={apiKey:m.apiKey,appName:I.name,v:p.SDK_VERSION},se=Fu.get(I.config.apiHost);se&&(k.eid=se);const Ae=I._getFrameworks();return Ae.length&&(k.fw=Ae.join(",")),`${v}?${(0,C.xO)(k).slice(1)}`}function M(){return M=(0,l.Z)(function*(I){const m=yield function Ya(I){return Xr=Xr||function Za(I){return new Promise((m,v)=>{var k,se,Ae;function Nt(){Dc(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Dc(),v(we(I,"network-request-failed"))},timeout:Cc.get()})}if(null!==(se=null===(k=oo().gapi)||void 0===k?void 0:k.iframes)&&void 0!==se&&se.Iframe)m(gapi.iframes.getContext());else{if(null===(Ae=oo().gapi)||void 0===Ae||!Ae.load){const nn=vr("iframefcb");return oo()[nn]=()=>{gapi.load?Nt():v(we(I,"network-request-failed"))},_i(`https://apis.google.com/js/api.js?onload=${nn}`).catch(Ln=>v(Ln))}Nt()}}).catch(m=>{throw Xr=null,m})}(I),Xr}(I),v=oo().gapi;return Z(v,I,"internal-error"),m.open({where:document.body,url:Ic(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ja,dontclear:!0},k=>new Promise(function(){var se=(0,l.Z)(function*(Ae,Nt){yield k.restyle({setHideOnLeave:!1});const nn=we(I,"network-request-failed"),Ln=oo().setTimeout(()=>{Nt(nn)},js.get());function ii(){oo().clearTimeout(Ln),Ae(k)}k.ping(ii).then(ii,()=>{Nt(nn)})});return function(Ae,Nt){return se.apply(this,arguments)}}()))}),M.apply(this,arguments)}const L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class un{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pi="__/auth/handler",Li="emulator/auth/handler",Mi=encodeURIComponent("fac");function As(I,m,v,k,se,Ae){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(I,m,v,k,se,Ae){Z(I.config.authDomain,I,"auth-domain-config-required"),Z(I.config.apiKey,I,"invalid-api-key");const Nt={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:k,v:p.SDK_VERSION,eventId:se};if(m instanceof Io){m.setDefaultLanguage(I.languageCode),Nt.providerId=m.providerId||"",(0,C.xb)(m.getCustomParameters())||(Nt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[vi,ar]of Object.entries(Ae||{}))Nt[vi]=ar}if(m instanceof zo){const vi=m.getScopes().filter(ar=>""!==ar);vi.length>0&&(Nt.scopes=vi.join(","))}I.tenantId&&(Nt.tid=I.tenantId);const nn=Nt;for(const vi of Object.keys(nn))void 0===nn[vi]&&delete nn[vi];const Ln=yield I._getAppCheckToken(),ii=Ln?`#${Mi}=${encodeURIComponent(Ln)}`:"";return`${function Qa({config:I}){return I.emulator?Bt(I,Li):`https://${I.authDomain}/${pi}`}(I)}?${(0,C.xO)(nn).slice(1)}${ii}`})).apply(this,arguments)}const Wr="webStorageSupport",oa=class Hs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fa,this._completeRedirectFn=xr,this._overrideRedirectResult=ml}_openPopup(m,v,k,se){var Ae=this;return(0,l.Z)(function*(){var Nt;je(null===(Nt=Ae.eventManagers[m._key()])||void 0===Nt?void 0:Nt.manager,"_initialize() not called before _openPopup()");const nn=yield As(m,v,k,Xe(),se);return function qn(I,m,v,k=500,se=600){const Ae=Math.max((window.screen.availHeight-se)/2,0).toString(),Nt=Math.max((window.screen.availWidth-k)/2,0).toString();let nn="";const Ln=Object.assign(Object.assign({},L),{width:k.toString(),height:se.toString(),top:Ae,left:Nt}),ii=(0,C.z$)().toLowerCase();v&&(nn=$(ii)?"_blank":v),z(ii)&&(m=m||"http://localhost",Ln.scrollbars="yes");const vi=Object.entries(Ln).reduce((ha,[sa,Bd])=>`${ha}${sa}=${Bd},`,"");if(function Ie(I=(0,C.z$)()){var m;return Ue(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(ii)&&"_self"!==nn)return function Wn(I,m){const v=document.createElement("a");v.href=I,v.target=m;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(k)}(m||"",nn),new un(null);const ar=window.open(m||"",nn,vi);Z(ar,I,"popup-blocked");try{ar.focus()}catch{}return new un(ar)}(m,nn,wr())})()}_openRedirect(m,v,k,se){var Ae=this;return(0,l.Z)(function*(){return yield Ae._originValidation(m),function ni(I){oo().location.href=I}(yield As(m,v,k,Xe(),se)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:se,promise:Ae}=this.eventManagers[v];return se?Promise.resolve(se):(je(Ae,"If manager is not set, promise should be"),Ae)}const k=this.initAndGetManager(m);return this.eventManagers[v]={promise:k},k.catch(()=>{delete this.eventManagers[v]}),k}initAndGetManager(m){var v=this;return(0,l.Z)(function*(){const k=yield function Nu(I){return M.apply(this,arguments)}(m),se=new Va(m);return k.register("authEvent",Ae=>(Z(Ae?.authEvent,m,"invalid-auth-event"),{status:se.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:se},v.iframes[m._key()]=k,se})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Wr,{type:Wr},se=>{var Ae;const Nt=null===(Ae=se?.[0])||void 0===Ae?void 0:Ae[Wr];void 0!==Nt&&v(!!Nt),fe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ka(I){return Vc.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return Vt()||j()||Ue()}};class Sa{constructor(m){this.factorId=m}_process(m,v,k){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,k);case"signin":return this._finalizeSignIn(m,v.credential);default:return qe("unexpected MultiFactorSessionType")}}}class xa extends Sa{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new xa(m)}_finalizeEnroll(m,v,k){return function $r(I,m){return bn(I,"POST","/v2/accounts/mfaEnrollment:finalize",sn(I,m))}(m,{idToken:v,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function zi(I,m){return bn(I,"POST","/v2/accounts/mfaSignIn:finalize",sn(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pd=(()=>{class I{constructor(){}static assertion(v){return xa._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Tc="@firebase/auth";class nf{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,l.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(k=>{m(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jh=(0,C.Pz)("authIdTokenMaxAge")||300;let Hh=null;const sf=I=>function(){var m=(0,l.Z)(function*(v){const k=v&&(yield v.getIdTokenResult()),se=k&&((new Date).getTime()-Date.parse(k.issuedAtTime))/1e3;if(se&&se>jh)return;const Ae=k?.token;Hh!==Ae&&(Hh=Ae,yield fetch(I,{method:Ae?"POST":"DELETE",headers:Ae?{Authorization:`Bearer ${Ae}`}:{}}))});return function(v){return m.apply(this,arguments)}}();function Ld(I=(0,p.getApp)()){const m=(0,p._getProvider)(I,"auth");if(m.isInitialized())return m.getImmediate();const v=function po(I,m){const v=(0,p._getProvider)(I,"auth");if(v.isInitialized()){const se=v.getImmediate(),Ae=v.getOptions();if((0,C.vZ)(Ae,m??{}))return se;fe(se,"already-initialized")}return v.initialize({options:m})}(I,{popupRedirectResolver:oa,persistence:[Qn,os,Fa]}),k=(0,C.Pz)("authTokenSyncURL");if(k){const Ae=sf(k);(function tn(I,m,v){(0,C.m9)(I).beforeAuthStateChanged(m,v)})(v,Ae,()=>Ae(v.currentUser)),function rt(I,m,v,k){(0,C.m9)(I).onIdTokenChanged(m,v,k)}(v,Nt=>Ae(Nt))}const se=(0,C.q4)("auth");return se&&er(v,`http://${se}`),v}!function Vh(I){(0,p._registerComponent)(new ae.wA("auth",(m,{options:v})=>{const k=m.getProvider("app").getImmediate(),se=m.getProvider("heartbeat"),Ae=m.getProvider("app-check-internal"),{apiKey:Nt,authDomain:nn}=k.options;Z(Nt&&!Nt.includes(":"),"invalid-api-key",{appName:k.name});const Ln={apiKey:Nt,authDomain:nn,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ti(I)},ii=new to(k,se,Ae,Ln);return function Yr(I,m){const v=m?.persistence||[],k=(Array.isArray(v)?v:[v]).map(He);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(k,m?.popupRedirectResolver)}(ii,v),ii},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,k)=>{m.getProvider("auth-internal").initialize()})),(0,p._registerComponent)(new ae.wA("auth-internal",m=>{const v=Ri(m.getProvider("auth").getImmediate());return new nf(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,p.registerVersion)(Tc,"0.23.2",function Nd(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,p.registerVersion)(Tc,"0.23.2","esm2017")}("Browser")},2090:(gn,ot,y)=>{y.d(ot,{$s:()=>He,BH:()=>me,G6:()=>Bt,L:()=>Se,LL:()=>on,Pz:()=>we,Sg:()=>ge,UG:()=>qe,US:()=>ae,ZB:()=>pe,ZR:()=>bn,aH:()=>fe,b$:()=>Ct,eu:()=>en,hl:()=>Ht,jU:()=>je,m9:()=>Gt,ne:()=>cn,pd:()=>At,q4:()=>ke,r3:()=>De,ru:()=>Xe,tV:()=>oe,uI:()=>Z,vZ:()=>It,w1:()=>An,xO:()=>at,xb:()=>rn,z$:()=>Ve,zI:()=>Yt,zd:()=>ht});const X=function(Be){const le=[];let z=0;for(let j=0;j<Be.length;j++){let $=Be.charCodeAt(j);$<128?le[z++]=$:$<2048?(le[z++]=$>>6|192,le[z++]=63&$|128):55296==(64512&$)&&j+1<Be.length&&56320==(64512&Be.charCodeAt(j+1))?($=65536+((1023&$)<<10)+(1023&Be.charCodeAt(++j)),le[z++]=$>>18|240,le[z++]=$>>12&63|128,le[z++]=$>>6&63|128,le[z++]=63&$|128):(le[z++]=$>>12|224,le[z++]=$>>6&63|128,le[z++]=63&$|128)}return le},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Be,le){if(!Array.isArray(Be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let $=0;$<Be.length;$+=3){const de=Be[$],ce=$+1<Be.length,Te=ce?Be[$+1]:0,Fe=$+2<Be.length,Ue=Fe?Be[$+2]:0;let yt=(15&Te)<<2|Ue>>6,Vt=63&Ue;Fe||(Vt=64,ce||(yt=64)),j.push(z[de>>2],z[(3&de)<<4|Te>>4],z[yt],z[Vt])}return j.join("")},encodeString(Be,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(Be):this.encodeByteArray(X(Be),le)},decodeString(Be,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(Be):function(Be){const le=[];let z=0,j=0;for(;z<Be.length;){const $=Be[z++];if($<128)le[j++]=String.fromCharCode($);else if($>191&&$<224){const de=Be[z++];le[j++]=String.fromCharCode((31&$)<<6|63&de)}else if($>239&&$<365){const Fe=((7&$)<<18|(63&Be[z++])<<12|(63&Be[z++])<<6|63&Be[z++])-65536;le[j++]=String.fromCharCode(55296+(Fe>>10)),le[j++]=String.fromCharCode(56320+(1023&Fe))}else{const de=Be[z++],ce=Be[z++];le[j++]=String.fromCharCode((15&$)<<12|(63&de)<<6|63&ce)}}return le.join("")}(this.decodeStringToByteArray(Be,le))},decodeStringToByteArray(Be,le){this.init_();const z=le?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let $=0;$<Be.length;){const de=z[Be.charAt($++)],Te=$<Be.length?z[Be.charAt($)]:0;++$;const Ue=$<Be.length?z[Be.charAt($)]:64;++$;const Ie=$<Be.length?z[Be.charAt($)]:64;if(++$,null==de||null==Te||null==Ue||null==Ie)throw new W;j.push(de<<2|Te>>4),64!==Ue&&(j.push(Te<<4&240|Ue>>2),64!==Ie&&j.push(Ue<<6&192|Ie))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Be=0;Be<this.ENCODED_VALS.length;Be++)this.byteToCharMap_[Be]=this.ENCODED_VALS.charAt(Be),this.charToByteMap_[this.byteToCharMap_[Be]]=Be,this.byteToCharMapWebSafe_[Be]=this.ENCODED_VALS_WEBSAFE.charAt(Be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Be]]=Be,Be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Be)]=Be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Be)]=Be)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(Be){return function(Be){const le=X(Be);return ae.encodeByteArray(le,!0)}(Be).replace(/\./g,"")},oe=function(Be){try{return ae.decodeString(Be,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function pe(Be,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===Be&&(Be={});break;case Array:Be=[];break;default:return le}for(const z in le)!le.hasOwnProperty(z)||!Le(z)||(Be[z]=pe(Be[z],le[z]));return Be}function Le(Be){return"__proto__"!==Be}const $e=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Be=process.env.__FIREBASE_DEFAULTS__;return Be?JSON.parse(Be):void 0})()||(()=>{if(typeof document>"u")return;let Be;try{Be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=Be&&oe(Be[1]);return le&&JSON.parse(le)})()}catch(Be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Be}`)}},ke=Be=>{var le,z;return null===(z=null===(le=$e())||void 0===le?void 0:le.emulatorHosts)||void 0===z?void 0:z[Be]},fe=()=>{var Be;return null===(Be=$e())||void 0===Be?void 0:Be.config},we=Be=>{var le;return null===(le=$e())||void 0===le?void 0:le[`_${Be}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,z)=>{this.resolve=le,this.reject=z})}wrapCallback(le){return(z,j)=>{z?this.reject(z):this.resolve(j),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(z):le(z,j))}}}function ge(Be,le){if(Be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=le||"demo-project",$=Be.iat||0,de=Be.sub||Be.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ce=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:$,exp:$+3600,auth_time:$,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},Be);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(ce)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function qe(){var Be;const le=null===(Be=$e())||void 0===Be?void 0:Be.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function Xe(){const Be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Be&&void 0!==Be.id}function Ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function An(){const Be=Ve();return Be.indexOf("MSIE ")>=0||Be.indexOf("Trident/")>=0}function Bt(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ht(){try{return"object"==typeof indexedDB}catch{return!1}}function en(){return new Promise((Be,le)=>{try{let z=!0;const j="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(j);$.onsuccess=()=>{$.result.close(),z||self.indexedDB.deleteDatabase(j),Be(!0)},$.onupgradeneeded=()=>{z=!1},$.onerror=()=>{var de;le((null===(de=$.error)||void 0===de?void 0:de.message)||"")}}catch(z){le(z)}})}function Yt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class bn extends Error{constructor(le,z,j){super(z),this.code=le,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor(le,z,j){this.service=le,this.serviceName=z,this.errors=j}create(le,...z){const j=z[0]||{},$=`${this.service}/${le}`,de=this.errors[le],ce=de?function Ft(Be,le){return Be.replace(Je,(z,j)=>{const $=le[j];return null!=$?String($):`<${j}?>`})}(de,j):"Error";return new bn($,`${this.serviceName}: ${ce} (${$}).`,j)}}const Je=/\{\$([^}]+)}/g;function De(Be,le){return Object.prototype.hasOwnProperty.call(Be,le)}function rn(Be){for(const le in Be)if(Object.prototype.hasOwnProperty.call(Be,le))return!1;return!0}function It(Be,le){if(Be===le)return!0;const z=Object.keys(Be),j=Object.keys(le);for(const $ of z){if(!j.includes($))return!1;const de=Be[$],ce=le[$];if(he(de)&&he(ce)){if(!It(de,ce))return!1}else if(de!==ce)return!1}for(const $ of j)if(!z.includes($))return!1;return!0}function he(Be){return null!==Be&&"object"==typeof Be}function at(Be){const le=[];for(const[z,j]of Object.entries(Be))Array.isArray(j)?j.forEach($=>{le.push(encodeURIComponent(z)+"="+encodeURIComponent($))}):le.push(encodeURIComponent(z)+"="+encodeURIComponent(j));return le.length?"&"+le.join("&"):""}function ht(Be){const le={};return Be.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[$,de]=j.split("=");le[decodeURIComponent($)]=decodeURIComponent(de)}}),le}function At(Be){const le=Be.indexOf("?");if(!le)return"";const z=Be.indexOf("#",le);return Be.substring(le,z>0?z:void 0)}function cn(Be,le){const z=new Zn(Be,le);return z.subscribe.bind(z)}class Zn{constructor(le,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{le(this)}).catch(j=>{this.error(j)})}next(le){this.forEachObserver(z=>{z.next(le)})}error(le){this.forEachObserver(z=>{z.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,z,j){let $;if(void 0===le&&void 0===z&&void 0===j)throw new Error("Missing Observer.");$=function En(Be,le){if("object"!=typeof Be||null===Be)return!1;for(const z of le)if(z in Be&&"function"==typeof Be[z])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:z,complete:j},void 0===$.next&&($.next=dn),void 0===$.error&&($.error=dn),void 0===$.complete&&($.complete=dn);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),de}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,le)}sendOne(le,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{z(this.observers[le])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const Xt=1e3,lt=2,ut=144e5,Ze=.5;function He(Be,le=Xt,z=lt){const j=le*Math.pow(z,Be),$=Math.round(Ze*j*(Math.random()-.5)*2);return Math.min(ut,j+$)}function Gt(Be){return Be&&Be._delegate?Be._delegate:Be}},8854:(gn,ot,y)=>{y.d(ot,{q:()=>fs});var l=y(1728),C=y(8410),p=y(6012),X=y(6286),B=y(430),ae=y(8467),W=y(2223),oe=(y(1692),y(2966),y(1217)),Pe=(y(727),y(6451),y(7579),y(829)),et=y(4755);let Ye=(()=>{class tt{}return tt.\u0275fac=function(q){return new(q||tt)},tt.\u0275mod=W.oAB({type:tt}),tt.\u0275inj=W.cJS({imports:[oe.BQ,oe.BQ]}),tt})();y(706),y(2840),y(9401),y(2722);let ut=(()=>{class tt{}return tt.\u0275fac=function(q){return new(q||tt)},tt.\u0275mod=W.oAB({type:tt}),tt.\u0275inj=W.cJS({imports:[Pe.Q8,et.ez,oe.BQ,oe.si,oe.us,Ye]}),tt})();var Ze=y(9383),He=y(4709);y(1591);let Rn=(()=>{class tt{}return tt.\u0275fac=function(q){return new(q||tt)},tt.\u0275mod=W.oAB({type:tt}),tt.\u0275inj=W.cJS({imports:[et.ez,oe.BQ,He.ZD,He.ZD,oe.BQ]}),tt})();var zn=y(2659),di=y(9002);let Ds=(()=>{class tt{}return tt.\u0275fac=function(q){return new(q||tt)},tt.\u0275mod=W.oAB({type:tt}),tt.\u0275inj=W.cJS({imports:[oe.BQ,et.ez,Pe.Q8,oe.BQ]}),tt})();const Zi={provide:new W.OlP("mat-select-scroll-strategy"),deps:[di.aV],useFactory:function Ir(tt){return()=>tt.scrollStrategies.reposition()}};let _o=(()=>{class tt{}return tt.\u0275fac=function(q){return new(q||tt)},tt.\u0275mod=W.oAB({type:tt}),tt.\u0275inj=W.cJS({providers:[Zi],imports:[et.ez,di.U8,oe.Ng,oe.BQ,He.ZD,Ds,oe.Ng,oe.BQ]}),tt})();var Us=y(3617),ms=y(1292);let fs=(()=>{class tt{}return tt.\u0275fac=function(q){return new(q||tt)},tt.\u0275mod=W.oAB({type:tt}),tt.\u0275inj=W.cJS({imports:[l.ot,C._r,p.QW,X.Is,B.Ps,ae.Cq,ut,Ze.g0,Rn,zn.Tx,_o,Us.Nh,ms.p9]}),tt})()},1026:(gn,ot,y)=>{y.d(ot,{t:()=>X});var l=y(4755),C=y(8854),p=y(2223);let X=(()=>{class B{}return B.\u0275fac=function(W){return new(W||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({imports:[l.ez,C.q,l.ez,C.q]}),B})()},8970:(gn,ot,y)=>{y.d(ot,{R:()=>oe});var l=y(8505),C=y(3900),p=y(4128),X=y(4004),B=y(9300),ae=y(2223),W=y(1762),ye=y(3919),Se=y(9744);let oe=(()=>{class ue{constructor(Le,Pe,et){this.firestore=Le,this.userDataService=Pe,this.notificationsService=et,this.userCollection=this.firestore.collection("Users")}resetFriendsWindowService(){this.listOfFriends=[],this.listOfNotificationFriends=[]}getYourCurrentFriends(){const Le=this.userDataService.getCurrentUserId();return this.userCollection.doc(Le).collection("UserFriends",Pe=>Pe.where("isFriend","==",!0)).valueChanges()}getYourCurrentFriendsInfo(){return this.getYourCurrentFriends().pipe((0,l.b)(Le=>{Le.length<=0&&(this.listOfFriends=[])}),(0,C.w)(Le=>{const et=Le.map(We=>We.friendId).map(We=>this.userCollection.doc(We).get());return(0,p.D)(et)}),(0,X.U)(Le=>Le.map(Pe=>Pe.data())),(0,l.b)(Le=>{this.listOfFriends=Le.filter(Pe=>void 0!==Pe),this.listOfFriends.sort((Pe,et)=>Pe.publicName.localeCompare(et.publicName))}))}getYourNotificationFriends(){return this.notificationsService.getYourNotificationFriends().pipe((0,l.b)(Le=>{Le.length<=0&&(this.listOfNotificationFriends=[])}),(0,C.w)(Le=>{const et=Le.map(We=>We.creatorId).map(We=>this.userCollection.doc(We).get());return(0,p.D)(et)}),(0,X.U)(Le=>Le.map(Pe=>Pe.data())),(0,B.h)(Le=>void 0!==Le),(0,l.b)(Le=>{this.listOfNotificationFriends=Le}))}}return ue.\u0275fac=function(Le){return new(Le||ue)(ae.LFG(W.ST),ae.LFG(ye.M),ae.LFG(Se.T))},ue.\u0275prov=ae.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},7312:(gn,ot,y)=>{y.d(ot,{R:()=>ye});var l=y(8505),C=y(3900),p=y(4128),X=y(4004),B=y(2223),ae=y(1762),W=y(9744);let ye=(()=>{class Se{constructor(ue,pe){this.firestore=ue,this.notificationsService=pe,this.userCollection=this.firestore.collection("Users"),this.postCollection=this.firestore.collection("Posts")}resetLikesWindowService(){this.listOfNotificationLikes=[]}getYourNotificationLikes(){return this.notificationsService.getYourNotificationLikes().pipe((0,l.b)(ue=>{ue.length<=0&&(this.listOfNotificationLikes=[])}),(0,C.w)(ue=>{const pe=ue.map(Pe=>Pe),Le=pe.map(Pe=>this.userCollection.doc(Pe.creatorId).get());return(0,p.D)(Le).pipe((0,C.w)(Pe=>{const et=pe.map(We=>this.postCollection.doc(We.postId).get());return(0,p.D)(et).pipe((0,X.U)(We=>({notificationLikes:ue,users:Pe.map(Ye=>Ye.data()),posts:We.map(Ye=>Ye.data())})))}))}),(0,l.b)(({notificationLikes:ue,users:pe,posts:Le})=>{const Pe=ue.map((et,We)=>{const Ye=pe[We],$e=Le[We];return Ye?{...et,post:$e,user:Ye}:et});this.listOfNotificationLikes=Pe}))}}return Se.\u0275fac=function(ue){return new(ue||Se)(B.LFG(ae.ST),B.LFG(W.T))},Se.\u0275prov=B.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},9744:(gn,ot,y)=>{y.d(ot,{T:()=>X});var l=y(2223),C=y(1762),p=y(3919);let X=(()=>{class B{constructor(W,ye){this.firestore=W,this.userDataService=ye,this.collectionUsers=this.firestore.collection("Users")}getYourNotificationFriends(){const W=this.userDataService.getCurrentUserId();return this.collectionUsers.doc(W).collection("NotificationsFriends",ye=>ye.orderBy("timestamp","desc")).valueChanges()}addNotificationFriend(W,ye){this.collectionUsers.doc(W).collection("NotificationsFriends").doc(ye).set({creatorId:ye,timestamp:new Date}).then()}deleteNotificationFriend(W,ye){this.collectionUsers.doc(W).collection("NotificationsFriends").doc(ye).delete().then()}getYourNotificationLikes(){const W=this.userDataService.getCurrentUserId();return this.collectionUsers.doc(W).collection("NotificationsLikes",ye=>ye.orderBy("timestamp","desc")).valueChanges()}addNotificationLike(W,ye,Se){if(W!==ye){const oe=this.firestore.createId();this.collectionUsers.doc(W).collection("NotificationsLikes").doc(oe).set({notificationLikeId:oe,postId:Se,creatorId:ye,timestamp:new Date}).then()}}deleteCheckedNotificationLike(W){const ye=this.userDataService.getCurrentUserId();this.collectionUsers.doc(ye).collection("NotificationsLikes").doc(W).delete().then()}deleteNotificationLike(W,ye,Se){this.collectionUsers.doc(W).collection("NotificationsLikes").ref.where("creatorId","==",ye).where("postId","==",Se).get().then(ue=>{const pe=ue.docs.map(Le=>Le.ref.delete());return Promise.all(pe)}).catch(ue=>{console.error("Error deleting documents: ",ue)})}}return B.\u0275fac=function(W){return new(W||B)(l.LFG(C.ST),l.LFG(p.M))},B.\u0275prov=l.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},8577:(gn,ot,y)=>{y.d(ot,{n:()=>ye});var l=y(3900),C=y(4128),p=y(4004),X=y(2223),B=y(1762),ae=y(3919),W=y(5213);let ye=(()=>{class Se{constructor(ue,pe,Le){this.firestore=ue,this.userDataService=pe,this.mainUserPageService=Le,this.posts=[],this.sortedPostsFriends=[],this.pageSize=5,this.currentSize=0,this.collectionPosts=this.firestore.collection("Posts"),this.collectionUsers=this.firestore.collection("Users")}uploadPost(ue){const pe=this.firestore.createId(),Le=this.userDataService.getCurrentUserId();return this.collectionPosts.doc(pe).set({comment:ue,creatorId:Le,timestamp:new Date,postId:pe}).then(()=>{this.mainUserPageService.addUserPost(Le,pe)})}uploadImagePost(ue,pe,Le){const Pe=this.userDataService.getCurrentUserId();return this.collectionPosts.doc(ue).set({comment:pe,creatorId:this.userDataService.getCurrentUserId(),imageUrl:Le,timestamp:new Date,postId:ue}).then(()=>{this.mainUserPageService.addUserPost(Pe,ue)})}deleteUserPosts(){this.collectionPosts.get().subscribe(ue=>{ue.forEach(pe=>{const Le=pe.data(),Pe=pe.id;Le&&Le.creatorId===this.userDataService.userInfo.userId&&(this.deleteCollection(Pe,"Likes"),this.deleteCollection(Pe,"PostComments"),this.collectionPosts.doc(Pe).delete().then(()=>{}).catch(et=>{console.error(`Error deleting document with ID ${Pe}`,et)}))})})}deleteCollection(ue,pe){const Le=this.firestore.firestore.batch();this.collectionPosts.doc(ue).collection(pe).ref.get().then(Pe=>(Pe.forEach(et=>{Le.delete(et.ref)}),Le.commit()))}getFriendsPosts(){const ue=this.userDataService.getCurrentUserId();return this.collectionUsers.doc(ue).collection("UserFriends",pe=>pe.where("isFriend","==",!0)).get().pipe((0,l.w)(pe=>{const Pe=pe.docs.map(We=>We.data().friendId).map(We=>this.collectionUsers.doc(We).collection("UserPosts").get()),et=this.collectionUsers.doc(ue).collection("UserPosts").get();return(0,C.D)([...Pe,et])}),(0,p.U)(pe=>{const Le=[];return pe.forEach(Pe=>{Pe.docs.forEach(et=>{Le.push(et.data())})}),Le}),(0,l.w)(pe=>{const Pe=pe.map(et=>et.postId).map(et=>this.collectionPosts.doc(et).get());return(0,C.D)(Pe)}),(0,p.U)(pe=>pe.map(Le=>Le.data())),(0,p.U)(pe=>pe.sort((Le,Pe)=>Pe?.timestamp.toDate()-Le?.timestamp.toDate()))).subscribe(pe=>{this.sortedPostsFriends=pe.filter(Le=>void 0!==Le)})}getCountOfDocuments(){this.collectionPosts.ref.get().then(ue=>{this.postsSize=ue.size})}getFirstPosts(){0===this.currentSize&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.pageSize).get().then(ue=>{ue.forEach(pe=>{this.currentSize++,this.posts.push(pe.data())}),this.lastVisibleDoc=ue.docs[ue.docs.length-1]})}getScrollPosts(){window.onscroll=()=>{window.pageYOffset+window.innerHeight>=document.documentElement.scrollHeight&&this.postsSize>this.currentSize&&this.postsSize>this.posts.length&&this.currentSize>0&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").startAfter(this.lastVisibleDoc).limit(this.pageSize).get().then(ue=>{ue.forEach(pe=>{this.currentSize++,this.posts.push(pe.data())}),this.lastVisibleDoc=ue.docs[ue.docs.length-1]})}}newGetPosts(ue){"add"===ue&&this.currentSize++,"delete"===ue&&this.currentSize--,this.posts=[],this.currentSize>0?(this.getCountOfDocuments(),this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.currentSize).get().then(pe=>{this.currentSize=0,pe.forEach(Le=>{this.currentSize++,this.posts.push(Le.data())}),this.lastVisibleDoc=pe.docs[pe.docs.length-1]})):this.getFirstPosts()}}return Se.\u0275fac=function(ue){return new(ue||Se)(X.LFG(B.ST),X.LFG(ae.M),X.LFG(W.v))},Se.\u0275prov=X.Yz7({token:Se,factory:Se.\u0275fac}),Se})()},1188:(gn,ot,y)=>{y.d(ot,{V:()=>p});var l=y(2223),C=y(8445);let p=(()=>{class X{constructor(ae){this.storage=ae}getDataFromStorage(ae){return this.storage.ref(ae).getDownloadURL()}}return X.\u0275fac=function(ae){return new(ae||X)(l.LFG(C.Q1))},X.\u0275prov=l.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},3919:(gn,ot,y)=>{y.d(ot,{M:()=>ue});var l=y(1389),ae=(y(2090),y(6881),y(1877),y(4859),y(4004)),W=y(2223),ye=y(1205),Se=y(3676),oe=y(1762);let ue=(()=>{class pe{constructor(Pe,et,We){this.afAuth=Pe,this.router=et,this.firestore=We,this.userHasProfile=!0,this.isLoggedIn=!1,this.collection=this.firestore.collection("Users")}resetUserDataService(){this.userInfo={}}getUpdatedUserProfile(){this.afAuth.currentUser.then(Pe=>{const et=Pe?.uid;return this.firestore.collection("Users").doc(et).get().pipe((0,ae.U)(We=>{const Ye=We.data();this.userHasProfile=We.exists,We.exists&&(this.userInfo={userId:Ye.userId,publicName:Ye.publicName,description:Ye.description,timestamp:Ye.timestamp,imageUrl:Ye.imageUrl})})).toPromise()}).catch(Pe=>{console.error("Error getting document:",Pe)})}checkLoginStatus(){this.afAuth.authState.subscribe(Pe=>{this.isLoggedIn=!!Pe,Pe&&(Pe.emailVerified?(this.getUpdatedUserProfile(),this.router.navigate(["userPage"])):(Pe.sendEmailVerification(),this.router.navigate(["emailVerification"])))})}getCurrentUserId(){const et=(0,l.o)().currentUser;return et?et.uid:""}createUser(Pe,et){this.collection.doc(this.getCurrentUserId()).set({publicName:Pe,description:et,userId:this.getCurrentUserId(),timestamp:new Date}).then(()=>{this.getUpdatedUserProfile(),this.router.navigate(["userPage"])}).catch(We=>{console.error("Error writing document: ",We)})}resetUserName(){this.userInfo.publicName=""}deleteUser(){this.collection.doc(this.userInfo.userId).delete().then(()=>{this.getUpdatedUserProfile()}).catch(Pe=>{console.error("Error writing document: ",Pe)})}updateDocumentField(Pe,et,We,Ye){return this.firestore.collection(Pe).doc(et).update({[We]:Ye})}}return pe.\u0275fac=function(Pe){return new(Pe||pe)(W.LFG(ye.zQ),W.LFG(Se.F0),W.LFG(oe.ST))},pe.\u0275prov=W.Yz7({token:pe,factory:pe.\u0275fac}),pe})()},5213:(gn,ot,y)=>{y.d(ot,{v:()=>et});var l=y(8505),C=y(8746),p=y(3900),X=y(9300),B=y(9841),ae=y(5698),W=y(1627),ye=y(2223),Se=y(3919),oe=y(9744),ue=y(1762),pe=y(8445),Le=y(6286),Pe=y(3676);let et=(()=>{class We{constructor($e,ke,wt,fe,we,me){this.userDataService=$e,this.notificationsService=ke,this.firestore=wt,this.storage=fe,this.dialogOpen=we,this.router=me,this.userPosts=0,this.userFriends=0,this.collectionUsers=this.firestore.collection("Users")}resetUserPageService(){this.userPosts=0,this.userFriends=0}addUserPost($e,ke){this.collectionUsers.doc($e).collection("UserPosts").doc(ke).set({postId:ke,creatorId:$e,timestamp:new Date}).then()}deleteUserPost($e,ke){this.collectionUsers.doc($e).collection("UserPosts").doc(ke).delete().then()}uploadUserImage($e,ke){const wt=`Users/${$e}/image`,fe=this.storage.ref(wt),we=this.storage.upload(wt,ke),me=this.dialogOpen.open(W.R,{disableClose:!0,data:{info:"Upload progress",message:""}});we.percentageChanges().pipe((0,l.b)(ge=>{me.componentInstance.message={info:"Upload progress",message:`Upload progress: ${ge?.toFixed(2)}%`}}),(0,C.x)(()=>me.close()),(0,p.w)(()=>we.snapshotChanges()),(0,X.h)(ge=>"success"===ge.state),(0,p.w)(()=>fe.getDownloadURL()),(0,p.w)(ge=>this.collectionUsers.doc($e).update({imageUrl:ge}))).subscribe(()=>{this.userDataService.getUpdatedUserProfile()})}getCountOfValuePosts($e){this.collectionUsers.doc($e).collection("UserPosts").valueChanges().subscribe(ke=>{this.userPosts=ke.length})}getCountOfValueFriends($e){this.collectionUsers.doc($e).collection("UserFriends",ke=>ke.where("isFriend","==",!0)).valueChanges().subscribe(ke=>{this.userFriends=ke.length})}addToFriends($e){const ke=this.userDataService.getCurrentUserId();this.collectionUsers.doc(ke).collection("UserFriends").doc($e).set({friendId:$e,creatorId:ke,timestamp:new Date,isFriend:!1}).then(()=>{this.checkIsFriend($e)})}deleteFriend($e){const ke=this.userDataService.getCurrentUserId();this.deleteUserFriend(ke,$e),this.deleteUserFriend($e,ke)}deleteUserFriend($e,ke){this.collectionUsers.doc($e).collection("UserFriends").doc(ke).delete().then(()=>this.checkIsFriend(ke))}getFriendExistence($e,ke){return this.collectionUsers.doc($e).collection("UserFriends").doc(ke).get()}checkIsFriend($e){const ke=this.userDataService.getCurrentUserId(),wt=this.getFriendExistence(ke,$e),fe=this.getFriendExistence($e,ke);(0,B.a)([wt,fe]).pipe((0,ae.q)(1)).subscribe(([we,me])=>{we.exists&&!me.exists&&this.notificationsService.addNotificationFriend($e,ke),we.exists&&me.exists&&(this.updateFriendsStatus($e,ke),this.updateFriendsStatus(ke,$e),this.notificationsService.deleteNotificationFriend($e,ke),this.notificationsService.deleteNotificationFriend(ke,$e))})}updateFriendsStatus($e,ke){this.collectionUsers.doc($e).collection("UserFriends").doc(ke).update({isFriend:!0}).then()}goToFriendPage($e){const wt=$e===this.userDataService.getCurrentUserId();this.router.navigate([wt?"userPage":"friendPage"],{queryParams:wt?void 0:{friendId:$e}})}deleteSomeCollection($e){const ke=this.userDataService.getCurrentUserId();this.collectionUsers.doc(ke).collection($e).get().toPromise().then(wt=>{wt&&wt.forEach(fe=>{fe.ref.delete()})})}deleteUserPostsCollection(){this.deleteSomeCollection("UserPosts")}deleteUserFriendsCollection(){this.deleteSomeCollection("UserFriends")}}return We.\u0275fac=function($e){return new($e||We)(ye.LFG(Se.M),ye.LFG(oe.T),ye.LFG(ue.ST),ye.LFG(pe.Q1),ye.LFG(Le.uw),ye.LFG(Pe.F0))},We.\u0275prov=ye.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})()},8099:(gn,ot,y)=>{y.d(ot,{f:()=>Ye});var l=y(9401),C=y(9802),p=y(6286),X=y(2223),B=y(3919),ae=y(8577),W=y(5213),ye=y(1205),Se=y(3676),oe=y(4755),ue=y(1728),pe=y(6012);function Le($e,ke){1&$e&&(X.TgZ(0,"div")(1,"small",9),X._uU(2,"Field cannot be empty"),X.qZA()())}function Pe($e,ke){if(1&$e&&(X.ynx(0),X._UZ(1,"input",8),X.YNc(2,Le,3,0,"div",3),X.BQk()),2&$e){const wt=X.oxw();let fe;X.xp6(2),X.Q6J("ngIf",(null==(fe=wt.sidebarForm.get("textData"))?null:fe.invalid)&&(null==(fe=wt.sidebarForm.get("textData"))?null:fe.touched))}}function et($e,ke){if(1&$e){const wt=X.EpF();X.TgZ(0,"button",10),X.NdJ("click",function(){X.CHM(wt);const we=X.oxw();return X.KtG(we.deleteUser())}),X._uU(1," Yes "),X.qZA()}}function We($e,ke){if(1&$e){const wt=X.EpF();X.TgZ(0,"button",10),X.NdJ("click",function(){X.CHM(wt);const we=X.oxw();return X.KtG(we.saveData())}),X._uU(1," Save "),X.qZA()}}let Ye=(()=>{class $e{constructor(wt,fe,we,me,ge,Ve,Z,qe){this.message=wt,this.dialogRef=fe,this.userDataService=we,this.postsDataService=me,this.userPageService=ge,this.afAuth=Ve,this.router=Z,this.dialog=qe,this.sidebarForm=new l.cw({textData:new l.NI("",[l.kI.required])})}saveData(){const wt=this.sidebarForm.get("textData");wt&&!wt.errors&&this.userDataService.updateDocumentField("Users",this.userDataService.userInfo.userId,this.message.field,wt.value).then(()=>{this.dialogRef.close(),this.postsDataService.newGetPosts(),this.userDataService.getUpdatedUserProfile()})}deleteUser(){const wt=this.afAuth.currentUser;wt&&wt.then(fe=>fe).then(fe=>fe?.delete()).then(()=>{this.dialogRef.close(),this.userDataService.deleteUser(),this.postsDataService.deleteUserPosts(),this.userPageService.deleteUserPostsCollection(),this.userPageService.deleteUserFriendsCollection(),this.userPageService.deleteSomeCollection("NotificationsLikes"),this.userPageService.deleteSomeCollection("NotificationsFriends"),this.router.navigate([""])}).catch(fe=>{this.dialog.open(C.S,{data:{info:"Error deleting account",message:fe.message}})})}closeClick(){this.dialogRef.close()}}return $e.\u0275fac=function(wt){return new(wt||$e)(X.Y36(p.WI),X.Y36(p.so),X.Y36(B.M),X.Y36(ae.n),X.Y36(W.v),X.Y36(ye.zQ),X.Y36(Se.F0),X.Y36(p.uw))},$e.\u0275cmp=X.Xpm({type:$e,selectors:[["app-change-data-modal"]],decls:15,vars:6,consts:[[1,"message"],[3,"formGroup"],[1,"message-text"],[4,"ngIf"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["formControlName","textData",1,"message-input"],[1,"error"],["mat-flat-button","","color","warn",3,"click"]],template:function(wt,fe){1&wt&&(X.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),X._uU(3),X.qZA()(),X.TgZ(4,"mat-card-content",0)(5,"form",1)(6,"div",2),X._uU(7),X.qZA(),X.YNc(8,Pe,3,1,"ng-container",3),X.TgZ(9,"div",4)(10,"button",5),X.NdJ("click",function(){return fe.closeClick()}),X._uU(11," Close "),X.qZA(),X._UZ(12,"span",6),X.YNc(13,et,2,0,"button",7),X.YNc(14,We,2,0,"button",7),X.qZA()()()()),2&wt&&(X.xp6(3),X.hij(" ",fe.message.info," "),X.xp6(2),X.Q6J("formGroup",fe.sidebarForm),X.xp6(2),X.Oqu(fe.message.message),X.xp6(1),X.Q6J("ngIf",!fe.message.yesButton),X.xp6(5),X.Q6J("ngIf",fe.message.yesButton),X.xp6(1),X.Q6J("ngIf",!fe.message.yesButton))},dependencies:[oe.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,ue.lW,pe.a8,pe.dn,pe.dk,pe.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.error[_ngcontent-%COMP%]{color:#f44336}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),$e})()},9802:(gn,ot,y)=>{y.d(ot,{S:()=>W});var l=y(6286),C=y(2223),p=y(4755),X=y(1728),B=y(6012);function ae(ye,Se){if(1&ye){const oe=C.EpF();C.TgZ(0,"button",6),C.NdJ("click",function(){C.CHM(oe);const pe=C.oxw();return C.KtG(pe.buttonClick())}),C._uU(1),C.qZA()}if(2&ye){const oe=C.oxw();C.xp6(1),C.hij(" ",oe.message.nameButton," ")}}let W=(()=>{class ye{constructor(oe,ue){this.message=oe,this.dialog=ue}buttonClick(){this.dialog.close(!0)}closeClick(){this.dialog.close()}}return ye.\u0275fac=function(oe){return new(oe||ye)(C.Y36(l.WI),C.Y36(l.so))},ye.\u0275cmp=C.Xpm({type:ye,selectors:[["app-info-modal"]],decls:12,vars:3,consts:[[1,"message"],[1,"message-text"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"]],template:function(oe,ue){1&oe&&(C.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),C._uU(3),C.qZA()(),C.TgZ(4,"mat-card-content",0)(5,"div",1),C._uU(6),C.qZA(),C.TgZ(7,"div",2)(8,"button",3),C.NdJ("click",function(){return ue.closeClick()}),C._uU(9," Close "),C.qZA(),C._UZ(10,"span",4),C.YNc(11,ae,2,1,"button",5),C.qZA()()()),2&oe&&(C.xp6(3),C.hij(" ",ue.message.info," "),C.xp6(3),C.Oqu(ue.message.message),C.xp6(5),C.Q6J("ngIf",ue.message.addButton))},dependencies:[p.O5,X.lW,B.a8,B.dn,B.dk,B.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),ye})()},1627:(gn,ot,y)=>{y.d(ot,{R:()=>ae});var l=y(6286),C=y(2223),p=y(1728),X=y(6012),B=y(8467);let ae=(()=>{class W{constructor(Se,oe){this.message=Se,this.dialogRef=oe}closeModal(){this.dialogRef.close()}}return W.\u0275fac=function(Se){return new(Se||W)(C.Y36(l.WI),C.Y36(l.so))},W.\u0275cmp=C.Xpm({type:W,selectors:[["app-loader"]],decls:11,vars:2,consts:[[1,"message"],[1,"message-loader"],[1,"message-text"],["mode","indeterminate","color","primary","diameter","32","strokeWidth","4"],["mat-flat-button","","color","warn",3,"click"]],template:function(Se,oe){1&Se&&(C.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),C._uU(3),C.qZA()(),C.TgZ(4,"mat-card-content",0)(5,"div",1)(6,"div",2),C._uU(7),C.qZA(),C._UZ(8,"mat-progress-spinner",3),C.qZA(),C.TgZ(9,"button",4),C.NdJ("click",function(){return oe.closeModal()}),C._uU(10,"Close"),C.qZA()()()),2&Se&&(C.xp6(3),C.hij(" ",oe.message.info," "),C.xp6(4),C.Oqu(oe.message.message))},dependencies:[p.lW,X.a8,X.dn,X.dk,X.n5,B.Ou],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.message-loader[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-text[_ngcontent-%COMP%]{padding:10px}"]}),W})()},8633:(gn,ot,y)=>{y.d(ot,{A:()=>Et});var l=y(5861),C=y(3900),p=y(4128),X=y(4004),B=y(2223),ae=y(3919),W=y(1762),ye=y(8445),Se=y(8577),oe=y(5213),ue=y(9744);let pe=(()=>{class nt{constructor(Ee,Ce,De,Tt,rn,an){this.userDataService=Ee,this.firestore=Ce,this.storage=De,this.postDataService=Tt,this.mainUserPageService=rn,this.notificationsService=an,this.likes=0,this.isLiked=!1,this.yourLikeId=null,this.creatorPostId="",this.creatorName="",this.creatorDescription="",this.creatorImage="",this.collectionUsers=this.firestore.collection("Users"),this.collectionPosts=this.firestore.collection("Posts")}deletePost(Ee){const Ce=this.userDataService.getCurrentUserId();this.collectionPosts.doc(Ee).delete().then(),this.mainUserPageService.deleteUserPost(Ce,Ee),this.postDataService.deleteCollection(Ee,"Likes"),this.postDataService.deleteCollection(Ee,"PostComments"),this.postDataService.newGetPosts("delete")}getCreatorInfo(Ee){this.collectionUsers.doc(Ee.creatorId).get().toPromise().then(Ce=>{const De=Ce.data();this.creatorName=De?.publicName||"",this.creatorDescription=De?.description||"",this.creatorImage=De?.imageUrl||"",this.creatorPostId=De?.userId||""}).catch(Ce=>{console.error("Error when fetching creator information:",Ce)})}likeButton(Ee){this.yourLikeId?this.deleteLike(Ee):this.checkCollectionExistence(Ee).then(Ce=>{Ce?this.addLike(Ee):this.createLike(Ee)}).catch(Ce=>{console.error("Error checking if collection exists:",Ce)})}addLike(Ee){var Ce=this;return(0,l.Z)(function*(){const De=Ce.userDataService.getCurrentUserId(),Tt=Ce.firestore.createId();try{(yield Ce.searchDocumentsByCreatorId(De,Ee)).length<1&&(yield Ce.collectionPosts.doc(Ee).collection("Likes").doc(Tt).set({likeId:Tt,creatorId:De,timestamp:new Date}),Ce.notificationsService.addNotificationLike(Ce.creatorPostId,De,Ee),Ce.isLiked=!0)}catch(rn){console.error("Error when searching for documents:",rn)}})()}createLike(Ee){var Ce=this;return(0,l.Z)(function*(){const De=Ce.firestore.createId(),Tt=Ce.userDataService.getCurrentUserId();try{yield Ce.collectionPosts.doc(Ee).collection("Likes").doc(De).set({likeId:De,creatorId:Tt,timestamp:new Date}),Ce.notificationsService.addNotificationLike(Ce.creatorPostId,Tt,Ee),Ce.isLiked=!0}catch(rn){console.error("Error when creating like:",rn)}})()}listenToDocumentValueChanges(Ee,Ce){return this.collectionPosts.doc(Ee).collection(Ce).valueChanges()}getLikes(Ee){const Ce=Ee,Tt=this.userDataService.getCurrentUserId();this.listenToDocumentValueChanges(Ce,"Likes").subscribe(rn=>{this.likes=rn.length,rn.find(an=>{an.creatorId==Tt&&(this.yourLikeId=an.likeId,this.isLiked=!0)})})}getUsersLikes(Ee){return this.listenToDocumentValueChanges(Ee,"Likes").pipe((0,C.w)(De=>{const an=De.sort((It,he)=>he?.timestamp-It?.timestamp).map(It=>It.creatorId).map(It=>this.collectionUsers.doc(It).get());return(0,p.D)(an)}),(0,X.U)(De=>De.map(Tt=>Tt.data())))}deleteLike(Ee){const Ce=this.userDataService.getCurrentUserId();this.yourLikeId&&this.collectionPosts.doc(Ee).collection("Likes").doc(this.yourLikeId).delete().then(()=>{this.notificationsService.deleteNotificationLike(this.creatorPostId,Ce,Ee),this.isLiked=!1,this.yourLikeId=null})}searchDocumentsByCreatorId(Ee,Ce){return this.collectionPosts.doc(Ce).collection("Likes").ref.where("creatorId","==",Ee).get().then(Tt=>Tt.docs.map(rn=>rn.data())).catch(Tt=>{throw Tt})}checkCollectionExistence(Ee){return this.collectionPosts.doc(Ee).collection("Likes").get().toPromise().then(De=>!De.empty).catch(De=>{throw De})}downloadFile(Ee){this.storage.ref(Ee).getDownloadURL().toPromise().then(De=>{const Tt=document.createElement("a");Tt.href=De,Tt.setAttribute("download",""),Tt.setAttribute("target","_blank"),document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt)}).catch(De=>{console.error("Error when downloading file:",De)})}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(B.LFG(ae.M),B.LFG(W.ST),B.LFG(ye.Q1),B.LFG(Se.n),B.LFG(oe.v),B.LFG(ue.T))},nt.\u0275prov=B.Yz7({token:nt,factory:nt.\u0275fac}),nt})();var Le=y(9802),Pe=y(9401);let et=(()=>{class nt{constructor(Ee,Ce){this.firestore=Ee,this.userDataService=Ce,this.comments=[],this.collection=this.firestore.collection("Posts")}getComments(Ee){this.listenToDocumentValueChanges("Posts",Ee,"PostComments").subscribe(rn=>{this.comments.length===rn.length&&this.comments.every((It,he)=>It.comment===rn[he].comment)||(this.comments=rn)})}listenToDocumentValueChanges(Ee,Ce,De){return this.firestore.collection(Ee).doc(Ce).collection(De,rn=>rn.orderBy("timestamp","desc")).valueChanges()}sendComment(Ee,Ce){const De=this.firestore.createId();this.collection.doc(Ce).collection("PostComments").doc(De).set({commentId:De,comment:Ee,creatorId:this.userDataService.userInfo.userId,creatorName:this.userDataService.userInfo.publicName,timestamp:new Date})}updateComment(Ee,Ce,De){this.collection.doc(Ce).collection("PostComments").doc(Ee.commentId).update({comment:De})}deleteComment(Ee,Ce){this.collection.doc(Ce).collection("PostComments").doc(Ee.commentId).delete()}isCommentCreator(Ee){return Ee.creatorId===this.userDataService.userInfo.userId}getUserInfoById(Ee){return this.firestore.collection("Users").doc(Ee).valueChanges()}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(B.LFG(W.ST),B.LFG(ae.M))},nt.\u0275prov=B.Yz7({token:nt,factory:nt.\u0275fac}),nt})();var We=y(6286),Ye=y(4755),$e=y(1728),ke=y(6012),wt=y(430),fe=y(2659);function we(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"div",5),B.NdJ("click",function(){B.CHM(Ee);const De=B.oxw();return B.KtG(De.goToFriendPageClick())}),B._UZ(1,"img",6),B.TgZ(2,"div",7),B._uU(3),B.qZA()()}if(2&nt){const Ee=B.oxw();B.xp6(1),B.s9C("src",Ee.userImageUrl,B.LSH),B.xp6(2),B.Oqu(Ee.userName)}}function me(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"div",8),B.NdJ("click",function(){B.CHM(Ee);const De=B.oxw();return B.KtG(De.goToFriendPageClick())}),B.TgZ(1,"div",7),B._uU(2),B.qZA(),B._UZ(3,"img",6),B.qZA()}if(2&nt){const Ee=B.oxw();B.xp6(2),B.Oqu(Ee.userName),B.xp6(1),B.s9C("src",Ee.userImageUrl,B.LSH)}}function ge(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"button",11),B.NdJ("click",function(){B.CHM(Ee);const De=B.oxw(2);return B.KtG(De.chaneCommentClick())}),B._uU(1," Change "),B.qZA()}}function Ve(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"button",11),B.NdJ("click",function(){B.CHM(Ee);const De=B.oxw(2);return B.KtG(De.responseCommentClick())}),B._uU(1," Response "),B.qZA()}}function Z(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"button",12),B.NdJ("click",function(){B.CHM(Ee);const De=B.oxw(2);return B.KtG(De.deleteCommentClick())}),B._uU(1," Delete "),B.qZA()}}function qe(nt,ft){if(1&nt&&(B.YNc(0,ge,2,0,"button",9),B.YNc(1,Ve,2,0,"button",9),B.YNc(2,Z,2,0,"button",10)),2&nt){const Ee=B.oxw();B.Q6J("ngIf",Ee.isCommentCreator()),B.xp6(1),B.Q6J("ngIf",!Ee.isCommentCreator()),B.xp6(1),B.Q6J("ngIf",Ee.isCommentCreator())}}const je=function(nt){return{comment:!0,"creator-comment":nt}};let Xe=(()=>{class nt{constructor(Ee,Ce,De){this.replyService=Ee,this.userPageService=Ce,this.dialog=De,this.chaneComment=new B.vpe,this.responseComment=new B.vpe,this.userName="",this.userImageUrl=""}ngOnInit(){this.userInfoSubscription=this.replyService.getUserInfoById(this.commentData.creatorId).subscribe(Ee=>{this.userName=Ee?.publicName||"",this.userImageUrl=Ee?.imageUrl||""})}ngOnDestroy(){this.userInfoSubscription&&this.userInfoSubscription.unsubscribe()}goToFriendPageClick(){this.userPageService.goToFriendPage(this.commentData.creatorId),this.dialog.closeAll()}isCommentCreator(){return this.replyService.isCommentCreator(this.commentData)}chaneCommentClick(){this.chaneComment.emit(this.commentData)}deleteCommentClick(){this.replyService.deleteComment(this.commentData,this.postId)}responseCommentClick(){this.responseComment.emit(this.userName)}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(B.Y36(et),B.Y36(oe.v),B.Y36(We.uw))},nt.\u0275cmp=B.Xpm({type:nt,selectors:[["app-comment"]],inputs:{commentData:"commentData",postId:"postId"},outputs:{chaneComment:"chaneComment",responseComment:"responseComment"},decls:8,vars:7,consts:[["class","comment-header",3,"click",4,"ngIf"],["class","comment-header comment-header-creator",3,"click",4,"ngIf"],[3,"ngClass","matMenuTriggerFor"],["menu","matMenu"],["matMenuContent",""],[1,"comment-header",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment-name"],[1,"comment-header","comment-header-creator",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","delete","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(Ee,Ce){if(1&Ee&&(B.TgZ(0,"div"),B.YNc(1,we,4,2,"div",0),B.YNc(2,me,4,2,"div",1),B.TgZ(3,"div",2),B._uU(4),B.qZA(),B.TgZ(5,"mat-menu",null,3),B.YNc(7,qe,3,3,"ng-template",4),B.qZA()()),2&Ee){const De=B.MAs(6);B.xp6(1),B.Q6J("ngIf",!Ce.isCommentCreator()),B.xp6(1),B.Q6J("ngIf",Ce.isCommentCreator()),B.xp6(1),B.Q6J("ngClass",B.VKq(5,je,Ce.isCommentCreator()))("matMenuTriggerFor",De),B.xp6(1),B.hij(" ",Ce.commentData.comment," ")}},dependencies:[Ye.mk,Ye.O5,fe.VK,fe.OP,fe.KA,fe.p6],styles:[".comment[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;word-wrap:break-word;border-radius:1em;background-color:#dcdcdc;padding:1em}.comment-header[_ngcontent-%COMP%]{margin-bottom:5px;width:100%;display:flex;align-items:center;cursor:pointer}.comment-header-creator[_ngcontent-%COMP%]{justify-content:flex-end}.comment-header[_ngcontent-%COMP%]:hover{color:#f44336}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:5px 10px 0;width:30px;height:30px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}.mat-mdc-select-placeholder[_ngcontent-%COMP%]{color:#fff}.mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none!important}"]}),nt})();const Ct=["commentInput"],yn=function(nt){return{"comment-container":!0,"creator-comment-container":nt}};function An(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"div",7)(1,"app-comment",8),B.NdJ("chaneComment",function(De){B.CHM(Ee);const Tt=B.oxw();return B.KtG(Tt.chaneComment(De))})("responseComment",function(De){B.CHM(Ee);const Tt=B.oxw();return B.KtG(Tt.responseComment(De))}),B.qZA()()}if(2&nt){const Ee=ft.$implicit,Ce=B.oxw();B.Q6J("ngClass",B.VKq(3,yn,Ce.isCommentCreator(Ee))),B.xp6(1),B.Q6J("postId",Ce.postId)("commentData",Ee)}}const vt=function(nt){return{error:nt}};let bt=(()=>{class nt{constructor(Ee,Ce){this.postId=Ee,this.replyService=Ce,this.isChangeComment=!1,this.replyForm=new Pe.cw({comment:new Pe.NI("",[Pe.kI.required])})}ngOnInit(){this.replyService.getComments(this.postId)}getPostComments(){return this.replyService.comments}onSendClick(){const Ee=this.replyForm.get("comment");Ee?.markAsTouched(),Ee&&!Ee.errors&&(this.isChangeComment?(this.replyService.updateComment(this.selectedComment,this.postId,Ee.value),this.isChangeComment=!1,Ee.reset()):(this.replyService.sendComment(Ee.value,this.postId),Ee.reset()))}checkComment(){return!(!this.replyForm.get("comment")?.invalid||!this.replyForm.get("comment")?.touched)}isCommentCreator(Ee){return this.replyService.isCommentCreator(Ee)}chaneComment(Ee){this.isChangeComment=!0,this.replyForm.get("comment")?.setValue(Ee.comment),this.commentInput.nativeElement.focus(),this.selectedComment=Ee}responseComment(Ee){this.replyForm.get("comment")?.setValue(`@${Ee}_`),this.commentInput.nativeElement.focus()}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(B.Y36(We.WI),B.Y36(et))},nt.\u0275cmp=B.Xpm({type:nt,selectors:[["app-reply"]],viewQuery:function(Ee,Ce){if(1&Ee&&B.Gf(Ct,5),2&Ee){let De;B.iGM(De=B.CRH())&&(Ce.commentInput=De.first)}},features:[B._Bn([et])],decls:11,vars:5,consts:[[1,"comments"],[1,"reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"reply-action-bar",3,"formGroup","submit"],["type","submit","mat-flat-button","","color","primary"],["formControlName","comment","placeholder","Comment...",3,"ngClass"],["commentInput",""],[3,"ngClass"],[3,"postId","commentData","chaneComment","responseComment"]],template:function(Ee,Ce){1&Ee&&(B.TgZ(0,"mat-card",0)(1,"mat-card-header"),B._uU(2," Comments "),B.qZA(),B.TgZ(3,"mat-card-content",1),B.YNc(4,An,2,5,"div",2),B.qZA(),B.TgZ(5,"form",3),B.NdJ("submit",function(){return Ce.onSendClick()}),B.TgZ(6,"button",4)(7,"mat-icon"),B._uU(8,"send"),B.qZA()(),B._UZ(9,"input",5,6),B.qZA()()),2&Ee&&(B.xp6(4),B.Q6J("ngForOf",Ce.getPostComments()),B.xp6(1),B.Q6J("formGroup",Ce.replyForm),B.xp6(4),B.Q6J("ngClass",B.VKq(3,vt,Ce.checkComment())))},dependencies:[Ye.mk,Ye.sg,Pe._Y,Pe.Fj,Pe.JJ,Pe.JL,Pe.sg,Pe.u,$e.lW,ke.a8,ke.dn,ke.dk,wt.Hw,Xe],styles:[".comments[_ngcontent-%COMP%]{padding:1em;height:100%;width:100%}.comments[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.reply-box[_ngcontent-%COMP%]{width:100%;height:350px;overflow:auto;min-width:500px;max-width:600px;padding:1em 1em 0;box-sizing:border-box;background-color:#eaeaea}.reply-action-bar[_ngcontent-%COMP%]{margin:1em 0 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;direction:rtl}.reply-action-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.reply-action-bar[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border-color:#f44336}.reply-action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:3em}.comment-container[_ngcontent-%COMP%]{display:flex}.creator-comment-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),nt})();const Bt=function(nt,ft){return{even:nt,odd:ft}};function Ht(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"div",4),B.NdJ("click",function(){const Tt=B.CHM(Ee).$implicit,rn=B.oxw();return B.KtG(rn.goToFriendPageClick(Tt.userId))}),B.TgZ(1,"div",5),B._UZ(2,"img",6),B.TgZ(3,"div"),B._uU(4),B.qZA()()()}if(2&nt){const Ee=ft.$implicit,Ce=ft.index;B.Q6J("ngClass",B.WLB(3,Bt,Ce%2==0,Ce%2!=0)),B.xp6(2),B.s9C("src",Ee.imageUrl,B.LSH),B.xp6(2),B.Oqu(Ee.publicName)}}let en=(()=>{class nt{constructor(Ee,Ce,De){this.users=Ee,this.userPageService=Ce,this.dialog=De}goToFriendPageClick(Ee){this.userPageService.goToFriendPage(Ee),this.dialog.closeAll()}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(B.Y36(We.WI),B.Y36(oe.v),B.Y36(We.uw))},nt.\u0275cmp=B.Xpm({type:nt,selectors:[["app-users-likes-modal"]],decls:6,vars:1,consts:[[1,"likes-window"],[1,"likes-header"],[1,"likes-content"],["class","likes-content-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"likes-content-item",3,"ngClass","click"],[1,"item-name"],["alt","User photo",1,"item-avatar",3,"src"]],template:function(Ee,Ce){1&Ee&&(B.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"div"),B._uU(3,"Liked"),B.qZA()(),B.TgZ(4,"mat-card-content",2),B.YNc(5,Ht,5,6,"div",3),B.qZA()()),2&Ee&&(B.xp6(5),B.Q6J("ngForOf",Ce.users.users))},dependencies:[Ye.mk,Ye.sg,ke.a8,ke.dn,ke.dk],styles:[".likes-window[_ngcontent-%COMP%]{min-width:30vw;background-color:#b4b4b4}.likes-header[_ngcontent-%COMP%]{font-size:24px;display:flex;align-items:center;justify-content:center}.likes-content[_ngcontent-%COMP%]{max-height:470px;overflow-y:auto;margin:10px;border-radius:10px;background-color:#fff;min-height:400px}.likes-content-no-invite[_ngcontent-%COMP%]{font-family:Bradley Hand,cursive;display:flex;align-items:center;justify-content:center;font-size:24px}.likes-content-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;padding:10px}.likes-content-item[_ngcontent-%COMP%]:hover{color:#f44336}.likes-content[_ngcontent-%COMP%]   .item-avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:5px 10px 0;width:40px;height:40px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.likes-content[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{display:flex;align-items:center}.likes-content[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]{background-color:#d3d3d3}.likes-content[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]{background-color:#e5e5e5}.mat-mdc-card-content[_ngcontent-%COMP%]:last-child{padding:0}"]}),nt})();function Yt(nt,ft){if(1&nt&&(B.TgZ(0,"div"),B._UZ(1,"img",3),B.qZA()),2&nt){const Ee=ft.$implicit;B.xp6(1),B.s9C("src",Ee.imageUrl,B.LSH)}}function sn(nt,ft){1&nt&&(B.TgZ(0,"div",4),B._uU(1,"..."),B.qZA())}const bn=function(nt){return{"info-window":!0,"more-users":nt}};let on=(()=>{class nt{constructor(Ee){this.dialog=Ee,this.users=[]}openLikesClick(){this.dialog.open(en,{data:{users:this.users}})}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(B.Y36(We.uw))},nt.\u0275cmp=B.Xpm({type:nt,selectors:[["app-post-likes-info"]],inputs:{postId:"postId",users:"users"},decls:3,vars:5,consts:[[3,"ngClass","click"],[4,"ngFor","ngForOf"],["class","text",4,"ngIf"],[1,"avatar",3,"src"],[1,"text"]],template:function(Ee,Ce){1&Ee&&(B.TgZ(0,"div",0),B.NdJ("click",function(){return Ce.openLikesClick()}),B.YNc(1,Yt,2,1,"div",1),B.YNc(2,sn,2,0,"div",2),B.qZA()),2&Ee&&(B.Q6J("ngClass",B.VKq(3,bn,Ce.users.length<=3)),B.xp6(1),B.Q6J("ngForOf",Ce.users.slice(0,3)),B.xp6(1),B.Q6J("ngIf",Ce.users.length>3))},dependencies:[Ye.mk,Ye.sg,Ye.O5],styles:[".info-window[_ngcontent-%COMP%]{position:absolute;max-width:100%;width:auto;bottom:2em;background-color:#b3b3b3;border-radius:2em;padding:5px;border:1px solid #000000;display:flex;flex-direction:row;flex-wrap:wrap;cursor:pointer;align-items:center}.more-users[_ngcontent-%COMP%]{padding:5px 15px 5px 5px}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;width:30px;height:30px;border-radius:50%;border:1px solid #000000;object-fit:cover;margin-right:-10px}.text[_ngcontent-%COMP%]{margin-left:10px;font-size:30px}"]}),nt})();function Ft(nt,ft){if(1&nt&&B._UZ(0,"img",10),2&nt){const Ee=B.oxw();B.s9C("src",Ee.postData.imageUrl,B.LSH)}}function Je(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"mat-icon",5),B.NdJ("click",function(){B.CHM(Ee);const De=B.oxw();return B.KtG(De.downloadImageClick())}),B._uU(1," open_in_new "),B.qZA()}}function ct(nt,ft){if(1&nt){const Ee=B.EpF();B.TgZ(0,"mat-icon",5),B.NdJ("click",function(){B.CHM(Ee);const De=B.oxw();return B.KtG(De.deletePostClick())}),B._uU(1,"delete"),B.qZA()}}const Rt=function(nt){return{visible:nt}};let Et=(()=>{class nt{constructor(Ee,Ce,De,Tt){this.dialog=Ee,this.userDataService=Ce,this.postService=De,this.userPageService=Tt,this.users=[],this.isInfoWindow=!1,this.delayBeforeHide=1e3}ngOnInit(){this.postService.getCreatorInfo(this.postData),this.postService.getLikes(this.postData.postId),this.usersLikesSubscription=this.postService.getUsersLikes(this.postData.postId).subscribe(Ee=>{this.users=Ee.filter(Ce=>void 0!==Ce)})}ngOnDestroy(){this.dialogRefSubscription&&this.dialogRefSubscription.unsubscribe(),this.usersLikesSubscription&&this.usersLikesSubscription.unsubscribe()}showInfoWindow(){this.isInfoWindow=!0}startHideInfoWindowTimer(){clearTimeout(this.hideInfoWindowTimeout),this.hideInfoWindowTimeout=setTimeout(()=>{this.hideInfoWindow()},this.delayBeforeHide)}resetHideInfoWindowTimer(){clearTimeout(this.hideInfoWindowTimeout)}hideInfoWindow(){this.isInfoWindow=!1}getDate(){return this.postData.timestamp.toDate()}getCreatorName(){return this.postService.creatorName}getIsLiked(){return this.postService.isLiked}onReplyClick(){this.dialog.open(bt,{data:this.postData.postId})}getLikes(){return this.postService.likes}onLikeClick(){this.postService.likeButton(this.postData.postId)}downloadImageClick(){this.postService.downloadFile(`Posts/${this.postData.postId}/image`)}checkDeleteButton(){return this.postData.creatorId===this.userDataService.userInfo.userId}deletePostClick(){const Ee=this.dialog.open(Le.S,{data:{info:"Post deletion",message:"Do you really want to remove this post?",addButton:!0,nameButton:"Yes"}});this.dialogRefSubscription=Ee.afterClosed().subscribe(Ce=>{Ce&&this.postService.deletePost(this.postData.postId)})}getUserImage(){return this.postService.creatorImage}goToFriendPageClick(){this.userPageService.goToFriendPage(this.postData.creatorId)}}return nt.\u0275fac=function(Ee){return new(Ee||nt)(B.Y36(We.uw),B.Y36(ae.M),B.Y36(pe),B.Y36(oe.v))},nt.\u0275cmp=B.Xpm({type:nt,selectors:[["app-post"]],inputs:{postData:"postData"},features:[B._Bn([pe])],decls:22,vars:17,consts:[[1,"post"],[1,"creator-name",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment"],["class","image","mat-card-image","","alt","img",3,"src",4,"ngIf"],["color","warn",1,"action-item",3,"click"],[1,"likes",3,"mouseenter","mouseleave"],[1,"likes-number"],[1,"app-post-likes-info",3,"ngClass","users","postId"],["class","action-item","color","warn",3,"click",4,"ngIf"],["mat-card-image","","alt","img",1,"image",3,"src"]],template:function(Ee,Ce){1&Ee&&(B.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),B.NdJ("click",function(){return Ce.goToFriendPageClick()}),B._UZ(3,"img",2),B._uU(4),B.qZA(),B.TgZ(5,"mat-card-subtitle"),B._uU(6),B.ALo(7,"date"),B.qZA()(),B.TgZ(8,"mat-card-content",3),B._uU(9),B.qZA(),B.YNc(10,Ft,1,1,"img",4),B.TgZ(11,"mat-card-actions")(12,"mat-icon",5),B.NdJ("click",function(){return Ce.onReplyClick()}),B._uU(13," chat_bubble_outline "),B.qZA(),B.TgZ(14,"div",6),B.NdJ("mouseenter",function(){return Ce.showInfoWindow()})("mouseleave",function(){return Ce.startHideInfoWindowTimer()})("mouseenter",function(){return Ce.resetHideInfoWindowTimer()}),B.TgZ(15,"mat-icon",5),B.NdJ("click",function(){return Ce.onLikeClick()}),B._uU(16),B.qZA(),B.TgZ(17,"div",7),B._uU(18),B.qZA(),B._UZ(19,"app-post-likes-info",8),B.qZA(),B.YNc(20,Je,2,0,"mat-icon",9),B.YNc(21,ct,2,0,"mat-icon",9),B.qZA()()),2&Ee&&(B.xp6(3),B.s9C("src",Ce.getUserImage(),B.LSH),B.xp6(1),B.hij(" ",Ce.getCreatorName()," "),B.xp6(2),B.Oqu(B.xi3(7,12,Ce.getDate(),"MMM d, y, H:mm ")),B.xp6(3),B.hij(" ",Ce.postData.comment," "),B.xp6(1),B.Q6J("ngIf",Ce.postData.imageUrl),B.xp6(6),B.hij(" ",Ce.getIsLiked()?"favorite":"favorite_border"," "),B.xp6(2),B.Oqu(Ce.getLikes()),B.xp6(1),B.Q6J("ngClass",B.VKq(15,Rt,Ce.isInfoWindow))("users",Ce.users)("postId",Ce.postData.postId),B.xp6(1),B.Q6J("ngIf",Ce.postData.imageUrl),B.xp6(1),B.Q6J("ngIf",Ce.checkDeleteButton()))},dependencies:[Ye.mk,Ye.O5,ke.a8,ke.hq,ke.dn,ke.dk,ke.G2,ke.$j,ke.n5,wt.Hw,on,Ye.uU],styles:[".post[_ngcontent-%COMP%]{width:500px;margin-top:2em;background-color:#f1f1f1}.creator-name[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;display:flex;align-items:center}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin-right:10px;width:40px;height:40px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-name[_ngcontent-%COMP%]:hover{color:#f44336}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}.comment[_ngcontent-%COMP%]{padding:10px;margin:10px 10px 0;border-radius:1em;background-color:#c4c4c4}.image[_ngcontent-%COMP%]{margin:10px;height:auto}.likes[_ngcontent-%COMP%]{width:auto;display:flex;justify-content:center}.likes-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}app-post-likes-info[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out;display:none}app-post-likes-info.visible[_ngcontent-%COMP%]{display:block}"]}),nt})()},488:(gn,ot,y)=>{var l=y(6550),C=y(3676),p=y(2223),X=y(3919);let B=(()=>{class U{constructor(_,O){this.router=_,this.userDataService=O}canActivate(_,O){return"/postFeed"!==O.url||!(!this.userDataService.userHasProfile||!this.userDataService.isLoggedIn)||(this.router.navigate([""]),!1)}}return U.\u0275fac=function(_){return new(_||U)(p.LFG(C.F0),p.LFG(X.M))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();var ae=y(9401);function W(U,g){return _=>{const O=_.get(U)?.value,J=_.get(g)?.value;return O!==J?{fieldsMatch:!0}:null}}var ye=y(9802),Se=y(8410),oe=y(1205),ue=y(6286),pe=y(4755),Le=y(1728),Pe=y(6012);function et(U,g){1&U&&(p.TgZ(0,"div")(1,"small",13),p._uU(2,"Please, enter a valid email."),p.qZA()())}function We(U,g){if(1&U&&(p.TgZ(0,"div")(1,"small",13),p._uU(2),p.qZA()()),2&U){const _=p.oxw(2);p.xp6(2),p.hij(" The field must have at least ",_.minLength," characters. ")}}function Ye(U,g){if(1&U){const _=p.EpF();p.TgZ(0,"div",8),p._UZ(1,"input",9),p.YNc(2,et,3,0,"div",10),p._UZ(3,"input",11),p.YNc(4,We,3,1,"div",10),p.TgZ(5,"button",12),p.NdJ("click",function(){p.CHM(_);const J=p.oxw();return p.KtG(J.onLoginSubmitClick())}),p._uU(6," Login "),p.qZA()()}if(2&U){const _=p.oxw();let O,J;p.xp6(2),p.Q6J("ngIf",(null==(O=_.authenticatorForm.get("login.loginEmail"))?null:O.invalid)&&(null==(O=_.authenticatorForm.get("login.loginEmail"))?null:O.touched)),p.xp6(2),p.Q6J("ngIf",(null==(J=_.authenticatorForm.get("login.loginPassword"))?null:J.invalid)&&(null==(J=_.authenticatorForm.get("login.loginPassword"))?null:J.touched))}}function $e(U,g){1&U&&(p.TgZ(0,"div")(1,"small",13),p._uU(2,"Please, enter a valid email."),p.qZA()())}function ke(U,g){if(1&U&&(p.TgZ(0,"div")(1,"small",13),p._uU(2),p.qZA()()),2&U){const _=p.oxw(2);p.xp6(2),p.hij(" The field must have at least ",_.minLength," characters. ")}}function wt(U,g){if(1&U&&(p.TgZ(0,"small",13),p._uU(1),p.qZA()),2&U){const _=p.oxw(3);p.xp6(1),p.hij(" The field must have at least ",_.minLength," characters. ")}}function fe(U,g){1&U&&(p.TgZ(0,"small",13),p._uU(1,"Password must match "),p.qZA())}function we(U,g){if(1&U&&(p.TgZ(0,"div"),p.YNc(1,wt,2,1,"small",19),p.YNc(2,fe,2,0,"small",19),p.qZA()),2&U){const _=p.oxw(2);let O,J;p.xp6(1),p.Q6J("ngIf",null==(O=_.authenticatorForm.get("register.registerConfirmPassword"))?null:O.invalid),p.xp6(1),p.Q6J("ngIf",null==(J=_.authenticatorForm.get("register"))||null==J.errors?null:J.errors.fieldsMatch)}}function me(U,g){if(1&U){const _=p.EpF();p.TgZ(0,"div",14),p._UZ(1,"input",15),p.YNc(2,$e,3,0,"div",10),p._UZ(3,"input",16),p.YNc(4,ke,3,1,"div",10),p._UZ(5,"input",17),p.YNc(6,we,3,2,"div",10),p.TgZ(7,"button",18),p.NdJ("click",function(){p.CHM(_);const J=p.oxw();return p.KtG(J.onRegisterSubmitClick())}),p._uU(8," Create "),p.qZA()()}if(2&U){const _=p.oxw();let O,J,ve;p.xp6(2),p.Q6J("ngIf",(null==(O=_.authenticatorForm.get("register.registerEmail"))?null:O.invalid)&&(null==(O=_.authenticatorForm.get("register.registerEmail"))?null:O.touched)),p.xp6(2),p.Q6J("ngIf",(null==(J=_.authenticatorForm.get("register.registerPassword"))?null:J.invalid)&&(null==(J=_.authenticatorForm.get("register.registerPassword"))?null:J.touched)),p.xp6(2),p.Q6J("ngIf",null==(ve=_.authenticatorForm.get("register.registerConfirmPassword"))?null:ve.touched)}}function ge(U,g){1&U&&(p.TgZ(0,"div")(1,"small",13),p._uU(2,"Please, enter a valid email."),p.qZA()())}function Ve(U,g){if(1&U){const _=p.EpF();p.TgZ(0,"div",20),p._UZ(1,"input",21),p.YNc(2,ge,3,0,"div",10),p.TgZ(3,"button",18),p.NdJ("click",function(){p.CHM(_);const J=p.oxw();return p.KtG(J.onResetClick())}),p._uU(4," Reset "),p.qZA()()}if(2&U){const _=p.oxw();let O;p.xp6(2),p.Q6J("ngIf",(null==(O=_.authenticatorForm.get("forgot.resetEmail"))?null:O.invalid)&&(null==(O=_.authenticatorForm.get("forgot.resetEmail"))?null:O.touched))}}var Z=(()=>((Z=Z||{})[Z.LOGIN=0]="LOGIN",Z[Z.REGISTER=1]="REGISTER",Z[Z.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Z))(),qe=(()=>((qe=qe||{})[qe.LOGIN=0]="LOGIN",qe[qe.REGISTER=1]="REGISTER",qe[qe.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",qe))();let je=(()=>{class U{constructor(_,O,J,ve){this.bottomSheetRef=_,this.afAuth=O,this.router=J,this.dialog=ve,this.state=Z.LOGIN,this.minLength=3,this.authenticatorForm=new ae.cw({login:new ae.cw({loginEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),loginPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])}),register:new ae.cw({registerEmail:new ae.NI("",[ae.kI.required,ae.kI.email]),registerPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)]),registerConfirmPassword:new ae.NI("",[ae.kI.required,ae.kI.minLength(this.minLength)])},{validators:W("registerPassword","registerConfirmPassword")}),forgot:new ae.cw({resetEmail:new ae.NI("",[ae.kI.required,ae.kI.email])})})}submitForm(_){switch(_.preventDefault(),this.submitState){case qe.LOGIN:this.setLogin();break;case qe.REGISTER:this.setRegister();break;case qe.FORGOT_PASSWORD:this.setReset()}}setRegister(){const _=this.authenticatorForm.get("register");if(_&&_.valid){const{registerEmail:O,registerPassword:J}=_.value;this.afAuth.createUserWithEmailAndPassword(O,J).then(()=>{this.router.navigate(["emailVerification"]),this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(ve=>{this.dialog.open(ye.S,{data:{info:"Account with this email already exists",message:ve.message}})})}}onRegisterSubmitClick(){this.authenticatorForm.get("register.registerEmail")?.markAsTouched(),this.authenticatorForm.get("register.registerPassword")?.markAsTouched(),this.authenticatorForm.get("register.registerConfirmPassword")?.markAsTouched(),this.submitState=qe.REGISTER}setLogin(){const _=this.authenticatorForm.get("login.loginEmail"),O=this.authenticatorForm.get("login.loginPassword");_&&O&&!_.errors&&!O.errors&&this.afAuth.signInWithEmailAndPassword(_.value,O.value).then(()=>{this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(J=>{this.dialog.open(ye.S,{data:{info:"Invalid E-mail or password",message:J.message}})})}onLoginSubmitClick(){this.authenticatorForm.get("login.loginEmail")?.markAsTouched(),this.authenticatorForm.get("login.loginPassword")?.markAsTouched(),this.submitState=qe.LOGIN}setReset(){const _=this.authenticatorForm.get("forgot.resetEmail");_&&!_.errors&&this.afAuth.sendPasswordResetEmail(_.value).then(()=>{this.bottomSheetRef.dismiss(),this.dialog.open(ye.S,{data:{info:"Check your E-mail",message:"A link to change your password has been sent to your email."}}),this.authenticatorForm.reset()}).catch(()=>{this.dialog.open(ye.S,{data:{info:"Invalid E-mail",message:"The email address is badly formatted."}})})}onResetClick(){this.authenticatorForm.get("forgot.resetEmail")?.markAsTouched(),this.submitState=qe.FORGOT_PASSWORD}onForgotPasswordButton(){this.state=Z.FORGOT_PASSWORD}onCreateAccountButton(){this.state=Z.REGISTER}onLoginButton(){this.state=Z.LOGIN}isLoginState(){return this.state==Z.LOGIN}isRegisterState(){return this.state==Z.REGISTER}isForgotPasswordState(){return this.state==Z.FORGOT_PASSWORD}getStateText(){switch(this.state){case Z.LOGIN:return"Login";case Z.REGISTER:return"Register";case Z.FORGOT_PASSWORD:return"Forgot password"}}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(Se.oL),p.Y36(oe.zQ),p.Y36(C.F0),p.Y36(ue.uw))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-authenticator"]],decls:17,vars:5,consts:[[1,"authenticator"],[1,"authenticator-content"],[3,"formGroup","submit"],["formGroupName","login",4,"ngIf"],["formGroupName","register",4,"ngIf"],["formGroupName","forgot",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["formGroupName","login"],["placeholder","Email","formControlName","loginEmail","autocomplete","email"],[4,"ngIf"],["placeholder","Password","type","password","formControlName","loginPassword","autocomplete","current-password"],["mat-flat-button","","color","warn","type","submit",3,"click"],[1,"error"],["formGroupName","register"],["placeholder","Email","formControlName","registerEmail","autocomplete","email"],["placeholder","Password","type","password","formControlName","registerPassword","autocomplete","new-password"],["placeholder","Confirm password","type","password","formControlName","registerConfirmPassword","autocomplete","new-password"],["mat-flat-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["formGroupName","forgot"],["placeholder","Email","formControlName","resetEmail","autocomplete","email"]],template:function(_,O){1&_&&(p.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),p._uU(4),p.qZA()(),p.TgZ(5,"mat-card-content")(6,"form",2),p.NdJ("submit",function(ve){return O.submitForm(ve)}),p.YNc(7,Ye,7,2,"div",3),p.YNc(8,me,9,3,"div",4),p.YNc(9,Ve,5,1,"div",5),p.qZA()(),p.TgZ(10,"mat-card-actions",6)(11,"button",7),p.NdJ("click",function(){return O.onForgotPasswordButton()}),p._uU(12," Forgot Password "),p.qZA(),p.TgZ(13,"button",7),p.NdJ("click",function(){return O.onCreateAccountButton()}),p._uU(14," Create an Account "),p.qZA(),p.TgZ(15,"button",7),p.NdJ("click",function(){return O.onLoginButton()}),p._uU(16,"Login"),p.qZA()()()()),2&_&&(p.xp6(4),p.Oqu(O.getStateText()),p.xp6(2),p.Q6J("formGroup",O.authenticatorForm),p.xp6(1),p.Q6J("ngIf",O.isLoginState()),p.xp6(1),p.Q6J("ngIf",O.isRegisterState()),p.xp6(1),p.Q6J("ngIf",O.isForgotPasswordState()))},dependencies:[pe.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,ae.x0,Le.lW,Pe.a8,Pe.hq,Pe.dn,Pe.dk,Pe.n5],styles:[".authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box}.authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid black;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}"]}),U})();var Xe=y(1188),Ct=y(7312),yn=y(5213),An=y(8970);let vt=(()=>{class U{constructor(_,O,J,ve,mt,pt){this.userDataService=_,this.loginSheet=O,this.likesWindowService=J,this.userPageService=ve,this.friendsWindowService=mt,this.storageService=pt,this.backgroundStorage=""}ngOnInit(){this.likesWindowService.resetLikesWindowService(),this.userDataService.resetUserDataService(),this.userPageService.resetUserPageService(),this.friendsWindowService.resetFriendsWindowService(),this.storageSubscription=this.storageService.getDataFromStorage("Background/home_background.jpg").subscribe(O=>this.backgroundStorage=`url(${O})`)}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getIsLoggedIn(){return this.userDataService.isLoggedIn}onGetStartedClick(){this.loginSheet.open(je)}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(X.M),p.Y36(Se.ch),p.Y36(Ct.R),p.Y36(yn.v),p.Y36(An.R),p.Y36(Xe.V))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-home"]],decls:10,vars:3,consts:[[1,"home-page"],[1,"home-page-landing"],[1,"landing-left"],[1,"landing-left-content"],["mat-flat-button","",3,"disabled","click"]],template:function(_,O){1&_&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),p._uU(5,"Social Media App Platform"),p.qZA(),p.TgZ(6,"p"),p._uU(7,"Oh, hello, my precious friend!"),p.qZA(),p.TgZ(8,"button",4),p.NdJ("click",function(){return O.onGetStartedClick()}),p._uU(9," Get Started "),p.qZA()()()()()),2&_&&(p.xp6(1),p.Udp("background-image",O.backgroundStorage),p.xp6(7),p.Q6J("disabled",O.getIsLoggedIn()))},dependencies:[Le.lW],styles:[".home-page[_ngcontent-%COMP%]{width:100%;height:100%}.home-page-landing[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:100vh}.landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}.landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}.landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}.landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}.landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:2em;padding:.5em;background-color:#f44336}.landing-left-content[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#dcdcdc}"]}),U})(),bt=(()=>{class U{constructor(_,O){this.afAuth=_,this.router=O,this.authStateSubscription=this.afAuth.authState.subscribe(J=>{J?.emailVerified&&this.router.navigate([""])})}ngOnDestroy(){this.authStateSubscription&&this.authStateSubscription.unsubscribe()}onResendClick(){this.afAuth.currentUser.then(_=>{_?.sendEmailVerification()})}onRefreshClick(){window.location.reload()}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(oe.zQ),p.Y36(C.F0))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-email-verification"]],decls:8,vars:0,consts:[[1,"email-verification"],[1,"buttons"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(_,O){1&_&&(p.TgZ(0,"mat-card",0)(1,"h1"),p._uU(2,"Your Email is not verified"),p.qZA(),p.TgZ(3,"mat-card-content",1)(4,"button",2),p.NdJ("click",function(){return O.onResendClick()}),p._uU(5," Resend Verification Email "),p.qZA(),p.TgZ(6,"button",3),p.NdJ("click",function(){return O.onRefreshClick()}),p._uU(7," Refresh "),p.qZA()()())},dependencies:[Le.lW,Pe.a8,Pe.dn],styles:[".email-verification[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;text-align:center;justify-content:center}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px}"]}),U})();var Bt=y(8505),Ht=y(8746),en=y(9300),Yt=y(3900),sn=y(262),bn=y(515),on=y(4128),Ft=y(1627),Je=y(8445),ct=y(1762),Rt=y(8577),Et=y(430);function nt(U,g){1&U&&(p.TgZ(0,"div",9),p._UZ(1,"img",10),p.qZA())}const ft=function(U){return{error:U}};let Ee=(()=>{class U{constructor(_,O,J,ve,mt,pt,Qt){this.storage=_,this.afAuth=O,this.firestore=J,this.userDataService=ve,this.dialogCreatePost=mt,this.dialogOpen=pt,this.postsDataService=Qt,this.collection=this.firestore.collection("Posts"),this.createPostForm=new ae.cw({message:new ae.NI("",[ae.kI.required])})}ngOnDestroy(){this.uploadImagePostSubscription&&this.uploadImagePostSubscription.unsubscribe()}checkMessage(){return!(!this.createPostForm.get("message")?.invalid||!this.createPostForm.get("message")?.touched)}onPostClick(){const _=this.createPostForm.get("message");_?.markAsTouched(),!_?.errors&&(this.selectedImageFile?this.uploadImagePost(_?.value):this.uploadPost(_?.value))}uploadImagePost(_){const O=this.firestore.createId(),J=`Posts/${O}/image`,ve=this.storage.ref(J),mt=this.storage.upload(J,this.selectedImageFile),pt=this.dialogOpen.open(Ft.R,{disableClose:!0,data:{info:"Upload progress",message:""}}),Qt=mt.percentageChanges().pipe((0,Bt.b)(Un=>{pt.componentInstance.message={info:"Upload progress",message:`Upload progress: ${Un?.toFixed(2)}%`}}),(0,Ht.x)(()=>pt.close())),pn=mt.snapshotChanges().pipe((0,en.h)(Un=>"success"===Un.state),(0,Yt.w)(()=>ve.getDownloadURL()),(0,sn.K)(Un=>(console.error("Error getting image URL:",Un),bn.E)));this.uploadImagePostSubscription=(0,on.D)([Qt,pn]).pipe((0,Yt.w)(([Un,Xn])=>this.postsDataService.uploadImagePost(O,_,Xn)),(0,sn.K)(Un=>(console.error("Error writing document: ",Un),bn.E))).subscribe(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")})}uploadPost(_){this.postsDataService.uploadPost(_).then(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")}).catch(O=>{console.error("Error writing document: ",O)})}photoSelected(_){if(this.selectedImageFile=_.files[0],!this.selectedImageFile)return;const O=new FileReader;O.readAsDataURL(this.selectedImageFile),O.addEventListener("loadend",J=>{const ve=O.result.toString();document.getElementById("post-preview-image").src=ve})}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(Je.Q1),p.Y36(oe.zQ),p.Y36(ct.ST),p.Y36(X.M),p.Y36(ue.so),p.Y36(ue.uw),p.Y36(Rt.n))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-create-post"]],decls:16,vars:5,consts:[[3,"formGroup","submit"],["formControlName","message","placeholder","Type Message...",3,"ngClass"],["class","post-preview",4,"ngIf"],["align","end"],["type","button","mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["type","submit","mat-flat-button","","color","warn"],[1,"post-preview"],["id","post-preview-image"]],template:function(_,O){if(1&_){const J=p.EpF();p.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),p._uU(3,"Create post"),p.qZA()(),p.TgZ(4,"form",0),p.NdJ("submit",function(){return O.onPostClick()}),p._UZ(5,"textarea",1),p.YNc(6,nt,2,0,"div",2),p.TgZ(7,"mat-card-actions",3)(8,"button",4)(9,"label",5)(10,"input",6,7),p.NdJ("change",function(){p.CHM(J);const mt=p.MAs(11);return p.KtG(O.photoSelected(mt))}),p.qZA(),p.TgZ(12,"mat-icon"),p._uU(13,"insert_photo"),p.qZA()()(),p.TgZ(14,"button",8),p._uU(15,"Post"),p.qZA()()()()}2&_&&(p.xp6(4),p.Q6J("formGroup",O.createPostForm),p.xp6(1),p.Q6J("ngClass",p.VKq(3,ft,O.checkMessage())),p.xp6(1),p.Q6J("ngIf",O.selectedImageFile))},dependencies:[pe.mk,pe.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Le.lW,Pe.a8,Pe.hq,Pe.dk,Pe.n5,Et.Hw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}.error[_ngcontent-%COMP%]::placeholder{color:red}.post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}.post-preview[_ngcontent-%COMP%]   #post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),U})();var Ce=y(8633);function De(U,g){1&U&&p._UZ(0,"app-post",5),2&U&&p.Q6J("postData",g.$implicit)}function Tt(U,g){if(1&U&&(p.ynx(0),p.YNc(1,De,1,1,"app-post",4),p.BQk()),2&U){const _=p.oxw();p.xp6(1),p.Q6J("ngForOf",_.getPosts())}}function rn(U,g){1&U&&p._UZ(0,"app-post",5),2&U&&p.Q6J("postData",g.$implicit)}function an(U,g){if(1&U&&(p.ynx(0),p.YNc(1,rn,1,1,"app-post",4),p.BQk()),2&U){const _=p.oxw();p.xp6(1),p.Q6J("ngForOf",_.getPostsFriends())}}const he=[{path:"",component:vt},{path:"emailVerification",component:bt},{path:"yourFriends",loadChildren:()=>y.e(654).then(y.bind(y,654)).then(U=>U.FriendsWindowModule)},{path:"userPage",loadChildren:()=>Promise.all([y.e(592),y.e(56)]).then(y.bind(y,56)).then(U=>U.MainUserPageModule)},{path:"friendPage",loadChildren:()=>Promise.all([y.e(592),y.e(991)]).then(y.bind(y,2991)).then(U=>U.FriendPageModule)},{path:"informationLikes",loadChildren:()=>y.e(197).then(y.bind(y,9197)).then(U=>U.LikesInfoModule)},{path:"postFeed",component:(()=>{class U{constructor(_,O,J,ve){this.dialog=_,this.postsDataService=O,this.storageService=J,this.route=ve,this.limit=3,this.backgroundStorage=""}ngOnInit(){this.postsGroupSubscription=this.route.paramMap.subscribe(O=>{const J=O.get("postsGroup");J&&(this.postsGroup=J)}),this.storageSubscription=this.storageService.getDataFromStorage("Background/post-feed2.jpg").subscribe(O=>this.backgroundStorage=`url(${O})`),this.postsDataService.getCountOfDocuments(),this.postsDataService.getFriendsPosts(),this.postsDataService.getFirstPosts(),this.postsDataService.getScrollPosts()}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe(),this.postsGroupSubscription&&this.postsGroupSubscription.unsubscribe()}getPosts(){return this.postsDataService.posts}getPostsFriends(){return this.postsDataService.sortedPostsFriends}onCreatePostClick(){this.dialog.open(Ee)}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(ue.uw),p.Y36(Rt.n),p.Y36(Xe.V),p.Y36(C.gz))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-post-feed"]],decls:9,vars:4,consts:[[1,"news-line"],[1,"post-feed"],[4,"ngIf"],["mat-fab","","color","warn",1,"post-button",3,"click"],[3,"postData",4,"ngFor","ngForOf"],[3,"postData"]],template:function(_,O){1&_&&(p.TgZ(0,"div",0)(1,"div",1),p.YNc(2,Tt,2,1,"ng-container",2),p.YNc(3,an,2,1,"ng-container",2),p.qZA(),p.TgZ(4,"button",3),p.NdJ("click",function(){return O.onCreatePostClick()}),p.TgZ(5,"div"),p._uU(6,"Create post"),p.qZA(),p.TgZ(7,"mat-icon"),p._uU(8,"add"),p.qZA()()()),2&_&&(p.Udp("background-image",O.backgroundStorage),p.xp6(2),p.Q6J("ngIf","allPosts"===O.postsGroup),p.xp6(1),p.Q6J("ngIf","friendsPosts"===O.postsGroup))},dependencies:[pe.sg,pe.O5,Le.cs,Et.Hw,Ce.A],styles:[".news-line[_ngcontent-%COMP%]{display:flex;padding-top:5em;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}.post-button[_ngcontent-%COMP%]{width:10em;position:fixed;bottom:2em;right:2em}.post-feed[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}"]}),U})(),canActivate:[B]},{path:"**",component:vt}];let ze=(()=>{class U{}return U.\u0275fac=function(_){return new(_||U)},U.\u0275mod=p.oAB({type:U}),U.\u0275inj=p.cJS({providers:[B],imports:[C.Bz.forRoot(he),C.Bz]}),U})();var at=y(1591);function At(U){return new p.vHH(3e3,!1)}function jn(U){switch(U.length){case 0:return new at.ZN;case 1:return U[0];default:return new at.ZE(U)}}function ti(U,g,_=new Map,O=new Map){const J=[],ve=[];let mt=-1,pt=null;if(g.forEach(Qt=>{const pn=Qt.get("offset"),Un=pn==mt,Xn=Un&&pt||new Map;Qt.forEach((Hi,Oi)=>{let ui=Oi,Fn=Hi;if("offset"!==Oi)switch(ui=U.normalizePropertyName(ui,J),Fn){case at.k1:Fn=_.get(Oi);break;case at.l3:Fn=O.get(Oi);break;default:Fn=U.normalizeStyleValue(Oi,ui,Fn,J)}Xn.set(ui,Fn)}),Un||ve.push(Xn),pt=Xn,mt=pn}),J.length)throw function le(U){return new p.vHH(3502,!1)}();return ve}function Pt(U,g,_,O){switch(g){case"start":U.onStart(()=>O(_&&St(_,"start",U)));break;case"done":U.onDone(()=>O(_&&St(_,"done",U)));break;case"destroy":U.onDestroy(()=>O(_&&St(_,"destroy",U)))}}function St(U,g,_){const ve=wn(U.element,U.triggerName,U.fromState,U.toState,g||U.phaseName,_.totalTime??U.totalTime,!!_.disabled),mt=U._data;return null!=mt&&(ve._data=mt),ve}function wn(U,g,_,O,J="",ve=0,mt){return{element:U,triggerName:g,fromState:_,toState:O,phaseName:J,totalTime:ve,disabled:!!mt}}function Vn(U,g,_){let O=U.get(g);return O||U.set(g,O=_),O}function Rn(U){const g=U.indexOf(":");return[U.substring(1,g),U.slice(g+1)]}const zn=(()=>typeof document>"u"?null:document.documentElement)();function di(U){const g=U.parentNode||U.host||null;return g===zn?null:g}let _i=null,vr=!1;function br(U,g){for(;g;){if(g===U)return!0;g=di(g)}return!1}function Kr(U,g,_){if(_)return Array.from(U.querySelectorAll(g));const O=U.querySelector(g);return O?[O]:[]}let Zr=(()=>{class U{validateStyleProperty(_){return function eo(U){_i||(_i=function ds(){return typeof document<"u"?document.body:null}()||{},vr=!!_i.style&&"WebkitAppearance"in _i.style);let g=!0;return _i.style&&!function Ji(U){return"ebkit"==U.substring(1,6)}(U)&&(g=U in _i.style,!g&&vr&&(g="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in _i.style)),g}(_)}matchesElement(_,O){return!1}containsElement(_,O){return br(_,O)}getParentElement(_){return di(_)}query(_,O,J){return Kr(_,O,J)}computeStyle(_,O,J){return J||""}animate(_,O,J,ve,mt,pt=[],Qt){return new at.ZN(J,ve)}}return U.\u0275fac=function(_){return new(_||U)},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac}),U})(),to=(()=>{class U{}return U.NOOP=new Zr,U})();const Ri=1e3,Yr="ng-enter",er="ng-leave",uo="ng-trigger",jr=".ng-trigger",xo="ng-animating",Cs=".ng-animating";function no(U){if("number"==typeof U)return U;const g=U.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:jo(parseFloat(g[1]),g[2])}function jo(U,g){return"s"===g?U*Ri:U}function Hr(U,g,_){return U.hasOwnProperty("duration")?U:function Cr(U,g,_){let J,ve=0,mt="";if("string"==typeof U){const pt=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pt)return g.push(At()),{duration:0,delay:0,easing:""};J=jo(parseFloat(pt[1]),pt[2]);const Qt=pt[3];null!=Qt&&(ve=jo(parseFloat(Qt),pt[4]));const pn=pt[5];pn&&(mt=pn)}else J=U;if(!_){let pt=!1,Qt=g.length;J<0&&(g.push(function qt(){return new p.vHH(3100,!1)}()),pt=!0),ve<0&&(g.push(function cn(){return new p.vHH(3101,!1)}()),pt=!0),pt&&g.splice(Qt,0,At())}return{duration:J,delay:ve,easing:mt}}(U,g,_)}function Ro(U,g={}){return Object.keys(U).forEach(_=>{g[_]=U[_]}),g}function us(U){const g=new Map;return Object.keys(U).forEach(_=>{g.set(_,U[_])}),g}function yi(U,g=new Map,_){if(_)for(let[O,J]of _)g.set(O,J);for(let[O,J]of U)g.set(O,J);return g}function lr(U,g,_){g.forEach((O,J)=>{const ve=Pn(J);_&&!_.has(J)&&_.set(J,U.style[ve]),U.style[ve]=O})}function hr(U,g){g.forEach((_,O)=>{const J=Pn(O);U.style[J]=""})}function Eo(U){return Array.isArray(U)?1==U.length?U[0]:(0,at.vP)(U):U}const gt=new RegExp("{{\\s*(.+?)\\s*}}","g");function jt(U){let g=[];if("string"==typeof U){let _;for(;_=gt.exec(U);)g.push(_[1]);gt.lastIndex=0}return g}function hn(U,g,_){const O=U.toString(),J=O.replace(gt,(ve,mt)=>{let pt=g[mt];return null==pt&&(_.push(function ri(U){return new p.vHH(3003,!1)}()),pt=""),pt.toString()});return J==O?U:J}function _n(U){const g=[];let _=U.next();for(;!_.done;)g.push(_.value),_=U.next();return g}const mn=/-+([a-z0-9])/g;function Pn(U){return U.replace(mn,(...g)=>g[1].toUpperCase())}function Pi(U,g,_){switch(g.type){case 7:return U.visitTrigger(g,_);case 0:return U.visitState(g,_);case 1:return U.visitTransition(g,_);case 2:return U.visitSequence(g,_);case 3:return U.visitGroup(g,_);case 4:return U.visitAnimate(g,_);case 5:return U.visitKeyframes(g,_);case 6:return U.visitStyle(g,_);case 8:return U.visitReference(g,_);case 9:return U.visitAnimateChild(g,_);case 10:return U.visitAnimateRef(g,_);case 11:return U.visitQuery(g,_);case 12:return U.visitStagger(g,_);default:throw function En(U){return new p.vHH(3004,!1)}()}}function ir(U,g){return window.getComputedStyle(U)[g]}const Nr="*";function rr(U,g){const _=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(O=>function Ho(U,g,_){if(":"==U[0]){const Qt=function Ds(U,g){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,O)=>parseFloat(O)>parseFloat(_);case":decrement":return(_,O)=>parseFloat(O)<parseFloat(_);default:return g.push(function Re(U){return new p.vHH(3016,!1)}()),"* => *"}}(U,_);if("function"==typeof Qt)return void g.push(Qt);U=Qt}const O=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return _.push(function He(U){return new p.vHH(3015,!1)}()),g;const J=O[1],ve=O[2],mt=O[3];g.push(Os(J,mt));"<"==ve[0]&&!(J==Nr&&mt==Nr)&&g.push(Os(mt,J))}(O,_,g)):_.push(U),_}const Do=new Set(["true","1"]),Fo=new Set(["false","0"]);function Os(U,g){const _=Do.has(U)||Fo.has(U),O=Do.has(g)||Fo.has(g);return(J,ve)=>{let mt=U==Nr||U==J,pt=g==Nr||g==ve;return!mt&&_&&"boolean"==typeof J&&(mt=J?Do.has(U):Fo.has(U)),!pt&&O&&"boolean"==typeof ve&&(pt=ve?Do.has(g):Fo.has(g)),mt&&pt}}const or=new RegExp("s*:selfs*,?","g");function Yo(U,g,_,O){return new ki(U).build(g,_,O)}class ki{constructor(g){this._driver=g}build(g,_,O){const J=new zo(_);return this._resetContextStyleTimingState(J),Pi(this,Eo(g),J)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,_){let O=_.queryCount=0,J=_.depCount=0;const ve=[],mt=[];return"@"==g.name.charAt(0)&&_.errors.push(function Hn(){return new p.vHH(3006,!1)}()),g.definitions.forEach(pt=>{if(this._resetContextStyleTimingState(_),0==pt.type){const Qt=pt,pn=Qt.name;pn.toString().split(/\s*,\s*/).forEach(Un=>{Qt.name=Un,ve.push(this.visitState(Qt,_))}),Qt.name=pn}else if(1==pt.type){const Qt=this.visitTransition(pt,_);O+=Qt.queryCount,J+=Qt.depCount,mt.push(Qt)}else _.errors.push(function Ke(){return new p.vHH(3007,!1)}())}),{type:7,name:g.name,states:ve,transitions:mt,queryCount:O,depCount:J,options:null}}visitState(g,_){const O=this.visitStyle(g.styles,_),J=g.options&&g.options.params||null;if(O.containsDynamicStyles){const ve=new Set,mt=J||{};O.styles.forEach(pt=>{pt instanceof Map&&pt.forEach(Qt=>{jt(Qt).forEach(pn=>{mt.hasOwnProperty(pn)||ve.add(pn)})})}),ve.size&&(_n(ve.values()),_.errors.push(function kt(U,g){return new p.vHH(3008,!1)}()))}return{type:0,name:g.name,style:O,options:J?{params:J}:null}}visitTransition(g,_){_.queryCount=0,_.depCount=0;const O=Pi(this,Eo(g.animation),_);return{type:1,matchers:rr(g.expr,_.errors),animation:O,queryCount:_.queryCount,depCount:_.depCount,options:$o(g.options)}}visitSequence(g,_){return{type:2,steps:g.steps.map(O=>Pi(this,O,_)),options:$o(g.options)}}visitGroup(g,_){const O=_.currentTime;let J=0;const ve=g.steps.map(mt=>{_.currentTime=O;const pt=Pi(this,mt,_);return J=Math.max(J,_.currentTime),pt});return _.currentTime=J,{type:3,steps:ve,options:$o(g.options)}}visitAnimate(g,_){const O=function is(U,g){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return hs(Hr(U,g).duration,0,"");const _=U;if(_.split(/\s+/).some(ve=>"{"==ve.charAt(0)&&"{"==ve.charAt(1))){const ve=hs(0,0,"");return ve.dynamic=!0,ve.strValue=_,ve}const J=Hr(_,g);return hs(J.duration,J.delay,J.easing)}(g.timings,_.errors);_.currentAnimateTimings=O;let J,ve=g.styles?g.styles:(0,at.oB)({});if(5==ve.type)J=this.visitKeyframes(ve,_);else{let mt=g.styles,pt=!1;if(!mt){pt=!0;const pn={};O.easing&&(pn.easing=O.easing),mt=(0,at.oB)(pn)}_.currentTime+=O.duration+O.delay;const Qt=this.visitStyle(mt,_);Qt.isEmptyStep=pt,J=Qt}return _.currentAnimateTimings=null,{type:4,timings:O,style:J,options:null}}visitStyle(g,_){const O=this._makeStyleAst(g,_);return this._validateStyleAst(O,_),O}_makeStyleAst(g,_){const O=[],J=Array.isArray(g.styles)?g.styles:[g.styles];for(let pt of J)"string"==typeof pt?pt===at.l3?O.push(pt):_.errors.push(new p.vHH(3002,!1)):O.push(us(pt));let ve=!1,mt=null;return O.forEach(pt=>{if(pt instanceof Map&&(pt.has("easing")&&(mt=pt.get("easing"),pt.delete("easing")),!ve))for(let Qt of pt.values())if(Qt.toString().indexOf("{{")>=0){ve=!0;break}}),{type:6,styles:O,easing:mt,offset:g.offset,containsDynamicStyles:ve,options:null}}_validateStyleAst(g,_){const O=_.currentAnimateTimings;let J=_.currentTime,ve=_.currentTime;O&&ve>0&&(ve-=O.duration+O.delay),g.styles.forEach(mt=>{"string"!=typeof mt&&mt.forEach((pt,Qt)=>{const pn=_.collectedStyles.get(_.currentQuerySelector),Un=pn.get(Qt);let Xn=!0;Un&&(ve!=J&&ve>=Un.startTime&&J<=Un.endTime&&(_.errors.push(function hi(U,g,_,O,J){return new p.vHH(3010,!1)}()),Xn=!1),ve=Un.startTime),Xn&&pn.set(Qt,{startTime:ve,endTime:J}),_.options&&function Dt(U,g,_){const O=g.params||{},J=jt(U);J.length&&J.forEach(ve=>{O.hasOwnProperty(ve)||_.push(function Zn(U){return new p.vHH(3001,!1)}())})}(pt,_.options,_.errors)})})}visitKeyframes(g,_){const O={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Ei(){return new p.vHH(3011,!1)}()),O;let ve=0;const mt=[];let pt=!1,Qt=!1,pn=0;const Un=g.steps.map(yo=>{const ji=this._makeStyleAst(yo,_);let Qn=null!=ji.offset?ji.offset:function mo(U){if("string"==typeof U)return null;let g=null;if(Array.isArray(U))U.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const O=_;g=parseFloat(O.get("offset")),O.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const _=U;g=parseFloat(_.get("offset")),_.delete("offset")}return g}(ji.styles),Mo=0;return null!=Qn&&(ve++,Mo=ji.offset=Qn),Qt=Qt||Mo<0||Mo>1,pt=pt||Mo<pn,pn=Mo,mt.push(Mo),ji});Qt&&_.errors.push(function gi(){return new p.vHH(3012,!1)}()),pt&&_.errors.push(function Xt(){return new p.vHH(3200,!1)}());const Xn=g.steps.length;let Hi=0;ve>0&&ve<Xn?_.errors.push(function lt(){return new p.vHH(3202,!1)}()):0==ve&&(Hi=1/(Xn-1));const Oi=Xn-1,ui=_.currentTime,Fn=_.currentAnimateTimings,gr=Fn.duration;return Un.forEach((yo,ji)=>{const Qn=Hi>0?ji==Oi?1:Hi*ji:mt[ji],Mo=Qn*gr;_.currentTime=ui+Fn.delay+Mo,Fn.duration=Mo,this._validateStyleAst(yo,_),yo.offset=Qn,O.styles.push(yo)}),O}visitReference(g,_){return{type:8,animation:Pi(this,Eo(g.animation),_),options:$o(g.options)}}visitAnimateChild(g,_){return _.depCount++,{type:9,options:$o(g.options)}}visitAnimateRef(g,_){return{type:10,animation:this.visitReference(g.animation,_),options:$o(g.options)}}visitQuery(g,_){const O=_.currentQuerySelector,J=g.options||{};_.queryCount++,_.currentQuery=g;const[ve,mt]=function Ki(U){const g=!!U.split(/\s*,\s*/).find(_=>":self"==_);return g&&(U=U.replace(or,"")),U=U.replace(/@\*/g,jr).replace(/@\w+/g,_=>jr+"-"+_.slice(1)).replace(/:animating/g,Cs),[U,g]}(g.selector);_.currentQuerySelector=O.length?O+" "+ve:ve,Vn(_.collectedStyles,_.currentQuerySelector,new Map);const pt=Pi(this,Eo(g.animation),_);return _.currentQuery=null,_.currentQuerySelector=O,{type:11,selector:ve,limit:J.limit||0,optional:!!J.optional,includeSelf:mt,animation:pt,originalSelector:g.selector,options:$o(g.options)}}visitStagger(g,_){_.currentQuery||_.errors.push(function ut(){return new p.vHH(3013,!1)}());const O="full"===g.timings?{duration:0,delay:0,easing:"full"}:Hr(g.timings,_.errors,!0);return{type:12,animation:Pi(this,Eo(g.animation),_),timings:O,options:null}}}class zo{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $o(U){return U?(U=Ro(U)).params&&(U.params=function Io(U){return U?Ro(U):null}(U.params)):U={},U}function hs(U,g,_){return{duration:U,delay:g,easing:_}}function Ir(U,g,_,O,J,ve,mt=null,pt=!1){return{type:1,element:U,keyframes:g,preStyleProps:_,postStyleProps:O,duration:J,delay:ve,totalTime:J+ve,easing:mt,subTimeline:pt}}class No{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,_){let O=this._map.get(g);O||this._map.set(g,O=[]),O.push(..._)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const fo=new RegExp(":enter","g"),qo=new RegExp(":leave","g");function Gi(U,g,_,O,J,ve=new Map,mt=new Map,pt,Qt,pn=[]){return(new Lo).buildKeyframes(U,g,_,O,J,ve,mt,pt,Qt,pn)}class Lo{buildKeyframes(g,_,O,J,ve,mt,pt,Qt,pn,Un=[]){pn=pn||new No;const Xn=new Us(g,_,pn,J,ve,Un,[]);Xn.options=Qt;const Hi=Qt.delay?no(Qt.delay):0;Xn.currentTimeline.delayNextStep(Hi),Xn.currentTimeline.setStyles([mt],null,Xn.errors,Qt),Pi(this,O,Xn);const Oi=Xn.timelines.filter(ui=>ui.containsAnimation());if(Oi.length&&pt.size){let ui;for(let Fn=Oi.length-1;Fn>=0;Fn--){const gr=Oi[Fn];if(gr.element===_){ui=gr;break}}ui&&!ui.allowOnlyTimelineStyles()&&ui.setStyles([pt],null,Xn.errors,Qt)}return Oi.length?Oi.map(ui=>ui.buildKeyframes()):[Ir(_,[],[],[],0,Hi,"",!1)]}visitTrigger(g,_){}visitState(g,_){}visitTransition(g,_){}visitAnimateChild(g,_){const O=_.subInstructions.get(_.element);if(O){const J=_.createSubContext(g.options),ve=_.currentTimeline.currentTime,mt=this._visitSubInstructions(O,J,J.options);ve!=mt&&_.transformIntoNewTimeline(mt)}_.previousNode=g}visitAnimateRef(g,_){const O=_.createSubContext(g.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],_,O),this.visitReference(g.animation,O),_.transformIntoNewTimeline(O.currentTimeline.currentTime),_.previousNode=g}_applyAnimationRefDelays(g,_,O){for(const J of g){const ve=J?.delay;if(ve){const mt="number"==typeof ve?ve:no(hn(ve,J?.params??{},_.errors));O.delayNextStep(mt)}}}_visitSubInstructions(g,_,O){let ve=_.currentTimeline.currentTime;const mt=null!=O.duration?no(O.duration):null,pt=null!=O.delay?no(O.delay):null;return 0!==mt&&g.forEach(Qt=>{const pn=_.appendInstructionToTimeline(Qt,mt,pt);ve=Math.max(ve,pn.duration+pn.delay)}),ve}visitReference(g,_){_.updateOptions(g.options,!0),Pi(this,g.animation,_),_.previousNode=g}visitSequence(g,_){const O=_.subContextCount;let J=_;const ve=g.options;if(ve&&(ve.params||ve.delay)&&(J=_.createSubContext(ve),J.transformIntoNewTimeline(),null!=ve.delay)){6==J.previousNode.type&&(J.currentTimeline.snapshotCurrentStyles(),J.previousNode=_o);const mt=no(ve.delay);J.delayNextStep(mt)}g.steps.length&&(g.steps.forEach(mt=>Pi(this,mt,J)),J.currentTimeline.applyStylesToKeyframe(),J.subContextCount>O&&J.transformIntoNewTimeline()),_.previousNode=g}visitGroup(g,_){const O=[];let J=_.currentTimeline.currentTime;const ve=g.options&&g.options.delay?no(g.options.delay):0;g.steps.forEach(mt=>{const pt=_.createSubContext(g.options);ve&&pt.delayNextStep(ve),Pi(this,mt,pt),J=Math.max(J,pt.currentTimeline.currentTime),O.push(pt.currentTimeline)}),O.forEach(mt=>_.currentTimeline.mergeTimelineCollectedStyles(mt)),_.transformIntoNewTimeline(J),_.previousNode=g}_visitTiming(g,_){if(g.dynamic){const O=g.strValue;return Hr(_.params?hn(O,_.params,_.errors):O,_.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,_){const O=_.currentAnimateTimings=this._visitTiming(g.timings,_),J=_.currentTimeline;O.delay&&(_.incrementTime(O.delay),J.snapshotCurrentStyles());const ve=g.style;5==ve.type?this.visitKeyframes(ve,_):(_.incrementTime(O.duration),this.visitStyle(ve,_),J.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=g}visitStyle(g,_){const O=_.currentTimeline,J=_.currentAnimateTimings;!J&&O.hasCurrentStyleProperties()&&O.forwardFrame();const ve=J&&J.easing||g.easing;g.isEmptyStep?O.applyEmptyStep(ve):O.setStyles(g.styles,ve,_.errors,_.options),_.previousNode=g}visitKeyframes(g,_){const O=_.currentAnimateTimings,J=_.currentTimeline.duration,ve=O.duration,pt=_.createSubContext().currentTimeline;pt.easing=O.easing,g.styles.forEach(Qt=>{pt.forwardTime((Qt.offset||0)*ve),pt.setStyles(Qt.styles,Qt.easing,_.errors,_.options),pt.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(pt),_.transformIntoNewTimeline(J+ve),_.previousNode=g}visitQuery(g,_){const O=_.currentTimeline.currentTime,J=g.options||{},ve=J.delay?no(J.delay):0;ve&&(6===_.previousNode.type||0==O&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=_o);let mt=O;const pt=_.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!J.optional,_.errors);_.currentQueryTotal=pt.length;let Qt=null;pt.forEach((pn,Un)=>{_.currentQueryIndex=Un;const Xn=_.createSubContext(g.options,pn);ve&&Xn.delayNextStep(ve),pn===_.element&&(Qt=Xn.currentTimeline),Pi(this,g.animation,Xn),Xn.currentTimeline.applyStylesToKeyframe(),mt=Math.max(mt,Xn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(mt),Qt&&(_.currentTimeline.mergeTimelineCollectedStyles(Qt),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=g}visitStagger(g,_){const O=_.parentContext,J=_.currentTimeline,ve=g.timings,mt=Math.abs(ve.duration),pt=mt*(_.currentQueryTotal-1);let Qt=mt*_.currentQueryIndex;switch(ve.duration<0?"reverse":ve.easing){case"reverse":Qt=pt-Qt;break;case"full":Qt=O.currentStaggerTime}const Un=_.currentTimeline;Qt&&Un.delayNextStep(Qt);const Xn=Un.currentTime;Pi(this,g.animation,_),_.previousNode=g,O.currentStaggerTime=J.currentTime-Xn+(J.startTime-O.currentTimeline.startTime)}}const _o={};class Us{constructor(g,_,O,J,ve,mt,pt,Qt){this._driver=g,this.element=_,this.subInstructions=O,this._enterClassName=J,this._leaveClassName=ve,this.errors=mt,this.timelines=pt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_o,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Qt||new ms(this._driver,_,0),pt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,_){if(!g)return;const O=g;let J=this.options;null!=O.duration&&(J.duration=no(O.duration)),null!=O.delay&&(J.delay=no(O.delay));const ve=O.params;if(ve){let mt=J.params;mt||(mt=this.options.params={}),Object.keys(ve).forEach(pt=>{(!_||!mt.hasOwnProperty(pt))&&(mt[pt]=hn(ve[pt],mt,this.errors))})}}_copyOptions(){const g={};if(this.options){const _=this.options.params;if(_){const O=g.params={};Object.keys(_).forEach(J=>{O[J]=_[J]})}}return g}createSubContext(g=null,_,O){const J=_||this.element,ve=new Us(this._driver,J,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(J,O||0));return ve.previousNode=this.previousNode,ve.currentAnimateTimings=this.currentAnimateTimings,ve.options=this._copyOptions(),ve.updateOptions(g),ve.currentQueryIndex=this.currentQueryIndex,ve.currentQueryTotal=this.currentQueryTotal,ve.parentContext=this,this.subContextCount++,ve}transformIntoNewTimeline(g){return this.previousNode=_o,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,_,O){const J={duration:_??g.duration,delay:this.currentTimeline.currentTime+(O??0)+g.delay,easing:""},ve=new fs(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,J,g.stretchStartingKeyframe);return this.timelines.push(ve),J}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,_,O,J,ve,mt){let pt=[];if(J&&pt.push(this.element),g.length>0){g=(g=g.replace(fo,"."+this._enterClassName)).replace(qo,"."+this._leaveClassName);let pn=this._driver.query(this.element,g,1!=O);0!==O&&(pn=O<0?pn.slice(pn.length+O,pn.length):pn.slice(0,O)),pt.push(...pn)}return!ve&&0==pt.length&&mt.push(function Ze(U){return new p.vHH(3014,!1)}()),pt}}class ms{constructor(g,_,O,J){this._driver=g,this.element=_,this.startTime=O,this._elementTimelineStylesLookup=J,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+g),_&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,_){return this.applyStylesToKeyframe(),new ms(this._driver,g,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,_){this._localTimelineStyles.set(g,_),this._globalTimelineStyles.set(g,_),this._styleSummary.set(g,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[_,O]of this._globalTimelineStyles)this._backFill.set(_,O||at.l3),this._currentKeyframe.set(_,at.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,_,O,J){_&&this._previousKeyframe.set("easing",_);const ve=J&&J.params||{},mt=function it(U,g){const _=new Map;let O;return U.forEach(J=>{if("*"===J){O=O||g.keys();for(let ve of O)_.set(ve,at.l3)}else yi(J,_)}),_}(g,this._globalTimelineStyles);for(let[pt,Qt]of mt){const pn=hn(Qt,ve,O);this._pendingStyles.set(pt,pn),this._localTimelineStyles.has(pt)||this._backFill.set(pt,this._globalTimelineStyles.get(pt)??at.l3),this._updateStyle(pt,pn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,_)=>{this._currentKeyframe.set(_,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,g)}))}snapshotCurrentStyles(){for(let[g,_]of this._localTimelineStyles)this._pendingStyles.set(g,_),this._updateStyle(g,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let _ in this._currentKeyframe)g.push(_);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((_,O)=>{const J=this._styleSummary.get(O);(!J||_.time>J.time)&&this._updateStyle(O,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,_=new Set,O=1===this._keyframes.size&&0===this.duration;let J=[];this._keyframes.forEach((pt,Qt)=>{const pn=yi(pt,new Map,this._backFill);pn.forEach((Un,Xn)=>{Un===at.k1?g.add(Xn):Un===at.l3&&_.add(Xn)}),O||pn.set("offset",Qt/this.duration),J.push(pn)});const ve=g.size?_n(g.values()):[],mt=_.size?_n(_.values()):[];if(O){const pt=J[0],Qt=new Map(pt);pt.set("offset",0),Qt.set("offset",1),J=[pt,Qt]}return Ir(this.element,J,ve,mt,this.duration,this.startTime,this.easing,!1)}}class fs extends ms{constructor(g,_,O,J,ve,mt,pt=!1){super(g,_,mt.delay),this.keyframes=O,this.preStyleProps=J,this.postStyleProps=ve,this._stretchStartingKeyframe=pt,this.timings={duration:mt.duration,delay:mt.delay,easing:mt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:_,duration:O,easing:J}=this.timings;if(this._stretchStartingKeyframe&&_){const ve=[],mt=O+_,pt=_/mt,Qt=yi(g[0]);Qt.set("offset",0),ve.push(Qt);const pn=yi(g[0]);pn.set("offset",tt(pt)),ve.push(pn);const Un=g.length-1;for(let Xn=1;Xn<=Un;Xn++){let Hi=yi(g[Xn]);const Oi=Hi.get("offset");Hi.set("offset",tt((_+Oi*O)/mt)),ve.push(Hi)}O=mt,_=0,J="",g=ve}return Ir(this.element,g,this.preStyleProps,this.postStyleProps,O,_,J,!0)}}function tt(U,g=3){const _=Math.pow(10,g-1);return Math.round(U*_)/_}class st{}const On=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Fi extends st{normalizePropertyName(g,_){return Pn(g)}normalizeStyleValue(g,_,O,J){let ve="";const mt=O.toString().trim();if(On.has(_)&&0!==O&&"0"!==O)if("number"==typeof O)ve="px";else{const pt=O.match(/^[+-]?[\d\.]+([a-z]*)$/);pt&&0==pt[1].length&&J.push(function dn(U,g){return new p.vHH(3005,!1)}())}return mt+ve}}function kr(U,g,_,O,J,ve,mt,pt,Qt,pn,Un,Xn,Hi){return{type:0,element:U,triggerName:g,isRemovalTransition:J,fromState:_,fromStyles:ve,toState:O,toStyles:mt,timelines:pt,queriedElements:Qt,preStyleProps:pn,postStyleProps:Un,totalTime:Xn,errors:Hi}}const Ar={};class io{constructor(g,_,O){this._triggerName=g,this.ast=_,this._stateStyles=O}match(g,_,O,J){return function K(U,g,_,O,J){return U.some(ve=>ve(g,_,O,J))}(this.ast.matchers,g,_,O,J)}buildStyles(g,_,O){let J=this._stateStyles.get("*");return void 0!==g&&(J=this._stateStyles.get(g?.toString())||J),J?J.buildStyles(_,O):new Map}build(g,_,O,J,ve,mt,pt,Qt,pn,Un){const Xn=[],Hi=this.ast.options&&this.ast.options.params||Ar,ui=this.buildStyles(O,pt&&pt.params||Ar,Xn),Fn=Qt&&Qt.params||Ar,gr=this.buildStyles(J,Fn,Xn),yo=new Set,ji=new Map,Qn=new Map,Mo="void"===J,zi={params:H(Fn,Hi),delay:this.ast.options?.delay},so=Un?[]:Gi(g,_,this.ast.animation,ve,mt,ui,gr,zi,pn,Xn);let Ui=0;if(so.forEach(R=>{Ui=Math.max(R.duration+R.delay,Ui)}),Xn.length)return kr(_,this._triggerName,O,J,Mo,ui,gr,[],[],ji,Qn,Ui,Xn);so.forEach(R=>{const x=R.element,N=Vn(ji,x,new Set);R.preStyleProps.forEach(Me=>N.add(Me));const ne=Vn(Qn,x,new Set);R.postStyleProps.forEach(Me=>ne.add(Me)),x!==_&&yo.add(x)});const E=_n(yo.values());return kr(_,this._triggerName,O,J,Mo,ui,gr,so,E,ji,Qn,Ui)}}function H(U,g){const _=Ro(g);for(const O in U)U.hasOwnProperty(O)&&null!=U[O]&&(_[O]=U[O]);return _}class b{constructor(g,_,O){this.styles=g,this.defaultParams=_,this.normalizer=O}buildStyles(g,_){const O=new Map,J=Ro(this.defaultParams);return Object.keys(g).forEach(ve=>{const mt=g[ve];null!==mt&&(J[ve]=mt)}),this.styles.styles.forEach(ve=>{"string"!=typeof ve&&ve.forEach((mt,pt)=>{mt&&(mt=hn(mt,J,_));const Qt=this.normalizer.normalizePropertyName(pt,_);mt=this.normalizer.normalizeStyleValue(pt,Qt,mt,_),O.set(pt,mt)})}),O}}class ie{constructor(g,_,O){this.name=g,this.ast=_,this._normalizer=O,this.transitionFactories=[],this.states=new Map,_.states.forEach(J=>{this.states.set(J.name,new b(J.style,J.options&&J.options.params||{},O))}),_t(this.states,"true","1"),_t(this.states,"false","0"),_.transitions.forEach(J=>{this.transitionFactories.push(new io(g,J,this.states))}),this.fallbackTransition=function Oe(U,g,_){return new io(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(mt,pt)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,_,O,J){return this.transitionFactories.find(mt=>mt.match(g,_,O,J))||null}matchStyles(g,_,O){return this.fallbackTransition.buildStyles(g,_,O)}}function _t(U,g,_){U.has(g)?U.has(_)||U.set(_,U.get(g)):U.has(_)&&U.set(g,U.get(_))}const $t=new No;class Tn{constructor(g,_,O){this.bodyNode=g,this._driver=_,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,_){const O=[],ve=Yo(this._driver,_,O,[]);if(O.length)throw function z(U){return new p.vHH(3503,!1)}();this._animations.set(g,ve)}_buildPlayer(g,_,O){const J=g.element,ve=ti(this._normalizer,g.keyframes,_,O);return this._driver.animate(J,ve,g.duration,g.delay,g.easing,[],!0)}create(g,_,O={}){const J=[],ve=this._animations.get(g);let mt;const pt=new Map;if(ve?(mt=Gi(this._driver,_,ve,Yr,er,new Map,new Map,O,$t,J),mt.forEach(Un=>{const Xn=Vn(pt,Un.element,new Map);Un.postStyleProps.forEach(Hi=>Xn.set(Hi,null))})):(J.push(function j(){return new p.vHH(3300,!1)}()),mt=[]),J.length)throw function $(U){return new p.vHH(3504,!1)}();pt.forEach((Un,Xn)=>{Un.forEach((Hi,Oi)=>{Un.set(Oi,this._driver.computeStyle(Xn,Oi,at.l3))})});const pn=jn(mt.map(Un=>{const Xn=pt.get(Un.element);return this._buildPlayer(Un,new Map,Xn)}));return this._playersById.set(g,pn),pn.onDestroy(()=>this.destroy(g)),this.players.push(pn),pn}destroy(g){const _=this._getPlayer(g);_.destroy(),this._playersById.delete(g);const O=this.players.indexOf(_);O>=0&&this.players.splice(O,1)}_getPlayer(g){const _=this._playersById.get(g);if(!_)throw function de(U){return new p.vHH(3301,!1)}();return _}listen(g,_,O,J){const ve=wn(_,"","","");return Pt(this._getPlayer(g),O,ve,J),()=>{}}command(g,_,O,J){if("register"==O)return void this.register(g,J[0]);if("create"==O)return void this.create(g,_,J[0]||{});const ve=this._getPlayer(g);switch(O){case"play":ve.play();break;case"pause":ve.pause();break;case"reset":ve.reset();break;case"restart":ve.restart();break;case"finish":ve.finish();break;case"init":ve.init();break;case"setPosition":ve.setPosition(parseFloat(J[0]));break;case"destroy":this.destroy(g)}}}const Kn="ng-animate-queued",wi="ng-animate-disabled",fr=[],Ni={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fi="__ng_removed";class vo{get params(){return this.options.params}constructor(g,_=""){this.namespaceId=_;const O=g&&g.hasOwnProperty("value");if(this.value=function Rs(U){return U??null}(O?g.value:g),O){const ve=Ro(g);delete ve.value,this.options=ve}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const _=g.params;if(_){const O=this.options.params;Object.keys(_).forEach(J=>{null==O[J]&&(O[J]=_[J])})}}}const Rr="void",Mr=new vo(Rr);class Pr{constructor(g,_,O){this.id=g,this.hostElement=_,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,Ps(_,this._hostClassName)}listen(g,_,O,J){if(!this._triggers.has(_))throw function ce(U,g){return new p.vHH(3302,!1)}();if(null==O||0==O.length)throw function Te(U){return new p.vHH(3303,!1)}();if(!function aa(U){return"start"==U||"done"==U}(O))throw function Fe(U,g){return new p.vHH(3400,!1)}();const ve=Vn(this._elementListeners,g,[]),mt={name:_,phase:O,callback:J};ve.push(mt);const pt=Vn(this._engine.statesByElement,g,new Map);return pt.has(_)||(Ps(g,uo),Ps(g,uo+"-"+_),pt.set(_,Mr)),()=>{this._engine.afterFlush(()=>{const Qt=ve.indexOf(mt);Qt>=0&&ve.splice(Qt,1),this._triggers.has(_)||pt.delete(_)})}}register(g,_){return!this._triggers.has(g)&&(this._triggers.set(g,_),!0)}_getTrigger(g){const _=this._triggers.get(g);if(!_)throw function Ue(U){return new p.vHH(3401,!1)}();return _}trigger(g,_,O,J=!0){const ve=this._getTrigger(_),mt=new Qo(this.id,_,g);let pt=this._engine.statesByElement.get(g);pt||(Ps(g,uo),Ps(g,uo+"-"+_),this._engine.statesByElement.set(g,pt=new Map));let Qt=pt.get(_);const pn=new vo(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&Qt&&pn.absorbOptions(Qt.options),pt.set(_,pn),Qt||(Qt=Mr),pn.value!==Rr&&Qt.value===pn.value){if(!function ta(U,g){const _=Object.keys(U),O=Object.keys(g);if(_.length!=O.length)return!1;for(let J=0;J<_.length;J++){const ve=_[J];if(!g.hasOwnProperty(ve)||U[ve]!==g[ve])return!1}return!0}(Qt.params,pn.params)){const Fn=[],gr=ve.matchStyles(Qt.value,Qt.params,Fn),yo=ve.matchStyles(pn.value,pn.params,Fn);Fn.length?this._engine.reportError(Fn):this._engine.afterFlush(()=>{hr(g,gr),lr(g,yo)})}return}const Hi=Vn(this._engine.playersByElement,g,[]);Hi.forEach(Fn=>{Fn.namespaceId==this.id&&Fn.triggerName==_&&Fn.queued&&Fn.destroy()});let Oi=ve.matchTransition(Qt.value,pn.value,g,pn.params),ui=!1;if(!Oi){if(!J)return;Oi=ve.fallbackTransition,ui=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:_,transition:Oi,fromState:Qt,toState:pn,player:mt,isFallbackTransition:ui}),ui||(Ps(g,Kn),mt.onStart(()=>{Fs(g,Kn)})),mt.onDone(()=>{let Fn=this.players.indexOf(mt);Fn>=0&&this.players.splice(Fn,1);const gr=this._engine.playersByElement.get(g);if(gr){let yo=gr.indexOf(mt);yo>=0&&gr.splice(yo,1)}}),this.players.push(mt),Hi.push(mt),mt}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(_=>_.delete(g)),this._elementListeners.forEach((_,O)=>{this._elementListeners.set(O,_.filter(J=>J.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const _=this._engine.playersByElement.get(g);_&&(_.forEach(O=>O.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,_){const O=this._engine.driver.query(g,jr,!0);O.forEach(J=>{if(J[fi])return;const ve=this._engine.fetchNamespacesByElement(J);ve.size?ve.forEach(mt=>mt.triggerLeaveAnimation(J,_,!1,!0)):this.clearElementCache(J)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(J=>this.clearElementCache(J)))}triggerLeaveAnimation(g,_,O,J){const ve=this._engine.statesByElement.get(g),mt=new Map;if(ve){const pt=[];if(ve.forEach((Qt,pn)=>{if(mt.set(pn,Qt.value),this._triggers.has(pn)){const Un=this.trigger(g,pn,Rr,J);Un&&pt.push(Un)}}),pt.length)return this._engine.markElementAsRemoved(this.id,g,!0,_,mt),O&&jn(pt).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const _=this._elementListeners.get(g),O=this._engine.statesByElement.get(g);if(_&&O){const J=new Set;_.forEach(ve=>{const mt=ve.name;if(J.has(mt))return;J.add(mt);const Qt=this._triggers.get(mt).fallbackTransition,pn=O.get(mt)||Mr,Un=new vo(Rr),Xn=new Qo(this.id,mt,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:mt,transition:Qt,fromState:pn,toState:Un,player:Xn,isFallbackTransition:!0})})}}removeNode(g,_){const O=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,_),this.triggerLeaveAnimation(g,_,!0))return;let J=!1;if(O.totalAnimations){const ve=O.players.length?O.playersByQueriedElement.get(g):[];if(ve&&ve.length)J=!0;else{let mt=g;for(;mt=mt.parentNode;)if(O.statesByElement.get(mt)){J=!0;break}}}if(this.prepareLeaveAnimationListeners(g),J)O.markElementAsRemoved(this.id,g,!1,_);else{const ve=g[fi];(!ve||ve===Ni)&&(O.afterFlush(()=>this.clearElementCache(g)),O.destroyInnerAnimations(g),O._onRemovalComplete(g,_))}}insertNode(g,_){Ps(g,this._hostClassName)}drainQueuedTransitions(g){const _=[];return this._queue.forEach(O=>{const J=O.player;if(J.destroyed)return;const ve=O.element,mt=this._elementListeners.get(ve);mt&&mt.forEach(pt=>{if(pt.name==O.triggerName){const Qt=wn(ve,O.triggerName,O.fromState.value,O.toState.value);Qt._data=g,Pt(O.player,pt.phase,Qt,pt.callback)}}),J.markedForDestroy?this._engine.afterFlush(()=>{J.destroy()}):_.push(O)}),this._queue=[],_.sort((O,J)=>{const ve=O.transition.ast.depCount,mt=J.transition.ast.depCount;return 0==ve||0==mt?ve-mt:this._engine.driver.containsElement(O.element,J.element)?1:-1})}destroy(g){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let _=!1;return this._elementListeners.has(g)&&(_=!0),_=!!this._queue.find(O=>O.element===g)||_,_}}class To{_onRemovalComplete(g,_){this.onRemovalComplete(g,_)}constructor(g,_,O){this.bodyNode=g,this.driver=_,this._normalizer=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(J,ve)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(_=>{_.players.forEach(O=>{O.queued&&g.push(O)})}),g}createNamespace(g,_){const O=new Pr(g,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(O,_):(this.newHostElements.set(_,O),this.collectEnterElement(_)),this._namespaceLookup[g]=O}_balanceNamespaceList(g,_){const O=this._namespaceList,J=this.namespacesByHostElement;if(O.length-1>=0){let mt=!1,pt=this.driver.getParentElement(_);for(;pt;){const Qt=J.get(pt);if(Qt){const pn=O.indexOf(Qt);O.splice(pn+1,0,g),mt=!0;break}pt=this.driver.getParentElement(pt)}mt||O.unshift(g)}else O.push(g);return J.set(_,g),g}register(g,_){let O=this._namespaceLookup[g];return O||(O=this.createNamespace(g,_)),O}registerTrigger(g,_,O){let J=this._namespaceLookup[g];J&&J.register(_,O)&&this.totalAnimations++}destroy(g,_){if(!g)return;const O=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(O.hostElement),delete this._namespaceLookup[g];const J=this._namespaceList.indexOf(O);J>=0&&this._namespaceList.splice(J,1)}),this.afterFlushAnimationsDone(()=>O.destroy(_))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const _=new Set,O=this.statesByElement.get(g);if(O)for(let J of O.values())if(J.namespaceId){const ve=this._fetchNamespace(J.namespaceId);ve&&_.add(ve)}return _}trigger(g,_,O,J){if(ps(_)){const ve=this._fetchNamespace(g);if(ve)return ve.trigger(_,O,J),!0}return!1}insertNode(g,_,O,J){if(!ps(_))return;const ve=_[fi];if(ve&&ve.setForRemoval){ve.setForRemoval=!1,ve.setForMove=!0;const mt=this.collectedLeaveElements.indexOf(_);mt>=0&&this.collectedLeaveElements.splice(mt,1)}if(g){const mt=this._fetchNamespace(g);mt&&mt.insertNode(_,O)}J&&this.collectEnterElement(_)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,_){_?this.disabledNodes.has(g)||(this.disabledNodes.add(g),Ps(g,wi)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),Fs(g,wi))}removeNode(g,_,O){if(ps(_)){const J=g?this._fetchNamespace(g):null;J?J.removeNode(_,O):this.markElementAsRemoved(g,_,!1,O);const ve=this.namespacesByHostElement.get(_);ve&&ve.id!==g&&ve.removeNode(_,O)}else this._onRemovalComplete(_,O)}markElementAsRemoved(g,_,O,J,ve){this.collectedLeaveElements.push(_),_[fi]={namespaceId:g,setForRemoval:J,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:ve}}listen(g,_,O,J,ve){return ps(_)?this._fetchNamespace(g).listen(_,O,J,ve):()=>{}}_buildInstruction(g,_,O,J,ve){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,O,J,g.fromState.options,g.toState.options,_,ve)}destroyInnerAnimations(g){let _=this.driver.query(g,jr,!0);_.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(g,Cs,!0),_.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(g){const _=this.playersByElement.get(g);_&&_.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(g){const _=this.playersByQueriedElement.get(g);_&&_.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return jn(this.players).onDone(()=>g());g()})}processLeaveNode(g){const _=g[fi];if(_&&_.setForRemoval){if(g[fi]=Ni,_.namespaceId){this.destroyInnerAnimations(g);const O=this._fetchNamespace(_.namespaceId);O&&O.clearElementCache(g)}this._onRemovalComplete(g,_.setForRemoval)}g.classList?.contains(wi)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(g=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,J)=>this._balanceNamespaceList(O,J)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)Ps(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{_=this._flushAnimations(O,g)}finally{for(let J=0;J<O.length;J++)O[J]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],_.length?jn(_).onDone(()=>{O.forEach(J=>J())}):O.forEach(J=>J())}}reportError(g){throw function Y(U){return new p.vHH(3402,!1)}()}_flushAnimations(g,_){const O=new No,J=[],ve=new Map,mt=[],pt=new Map,Qt=new Map,pn=new Map,Un=new Set;this.disabledNodes.forEach(Wt=>{Un.add(Wt);const In=this.driver.query(Wt,".ng-animate-queued",!0);for(let xn=0;xn<In.length;xn++)Un.add(In[xn])});const Xn=this.bodyNode,Hi=Array.from(this.statesByElement.keys()),Oi=qr(Hi,this.collectedEnterElements),ui=new Map;let Fn=0;Oi.forEach((Wt,In)=>{const xn=Yr+Fn++;ui.set(In,xn),Wt.forEach(si=>Ps(si,xn))});const gr=[],yo=new Set,ji=new Set;for(let Wt=0;Wt<this.collectedLeaveElements.length;Wt++){const In=this.collectedLeaveElements[Wt],xn=In[fi];xn&&xn.setForRemoval&&(gr.push(In),yo.add(In),xn.hasAnimation?this.driver.query(In,".ng-star-inserted",!0).forEach(si=>yo.add(si)):ji.add(In))}const Qn=new Map,Mo=qr(Hi,Array.from(yo));Mo.forEach((Wt,In)=>{const xn=er+Fn++;Qn.set(In,xn),Wt.forEach(si=>Ps(si,xn))}),g.push(()=>{Oi.forEach((Wt,In)=>{const xn=ui.get(In);Wt.forEach(si=>Fs(si,xn))}),Mo.forEach((Wt,In)=>{const xn=Qn.get(In);Wt.forEach(si=>Fs(si,xn))}),gr.forEach(Wt=>{this.processLeaveNode(Wt)})});const zi=[],so=[];for(let Wt=this._namespaceList.length-1;Wt>=0;Wt--)this._namespaceList[Wt].drainQueuedTransitions(_).forEach(xn=>{const si=xn.player,qi=xn.element;if(zi.push(si),this.collectedEnterElements.length){const ss=qi[fi];if(ss&&ss.setForMove){if(ss.previousTriggersValues&&ss.previousTriggersValues.has(xn.triggerName)){const Ys=ss.previousTriggersValues.get(xn.triggerName),ao=this.statesByElement.get(xn.element);if(ao&&ao.has(xn.triggerName)){const Na=ao.get(xn.triggerName);Na.value=Ys,ao.set(xn.triggerName,Na)}}return void si.destroy()}}const ys=!Xn||!this.driver.containsElement(Xn,qi),Br=Qn.get(qi),Xo=ui.get(qi),Lt=this._buildInstruction(xn,O,Xo,Br,ys);if(Lt.errors&&Lt.errors.length)return void so.push(Lt);if(ys)return si.onStart(()=>hr(qi,Lt.fromStyles)),si.onDestroy(()=>lr(qi,Lt.toStyles)),void J.push(si);if(xn.isFallbackTransition)return si.onStart(()=>hr(qi,Lt.fromStyles)),si.onDestroy(()=>lr(qi,Lt.toStyles)),void J.push(si);const ws=[];Lt.timelines.forEach(ss=>{ss.stretchStartingKeyframe=!0,this.disabledNodes.has(ss.element)||ws.push(ss)}),Lt.timelines=ws,O.append(qi,Lt.timelines),mt.push({instruction:Lt,player:si,element:qi}),Lt.queriedElements.forEach(ss=>Vn(pt,ss,[]).push(si)),Lt.preStyleProps.forEach((ss,Ys)=>{if(ss.size){let ao=Qt.get(Ys);ao||Qt.set(Ys,ao=new Set),ss.forEach((Na,qs)=>ao.add(qs))}}),Lt.postStyleProps.forEach((ss,Ys)=>{let ao=pn.get(Ys);ao||pn.set(Ys,ao=new Set),ss.forEach((Na,qs)=>ao.add(qs))})});if(so.length){const Wt=[];so.forEach(In=>{Wt.push(function yt(U,g){return new p.vHH(3505,!1)}())}),zi.forEach(In=>In.destroy()),this.reportError(Wt)}const Ui=new Map,E=new Map;mt.forEach(Wt=>{const In=Wt.element;O.has(In)&&(E.set(In,In),this._beforeAnimationBuild(Wt.player.namespaceId,Wt.instruction,Ui))}),J.forEach(Wt=>{const In=Wt.element;this._getPreviousPlayers(In,!1,Wt.namespaceId,Wt.triggerName,null).forEach(si=>{Vn(Ui,In,[]).push(si),si.destroy()})});const R=gr.filter(Wt=>ca(Wt,Qt,pn)),x=new Map;ga(x,this.driver,ji,pn,at.l3).forEach(Wt=>{ca(Wt,Qt,pn)&&R.push(Wt)});const ne=new Map;Oi.forEach((Wt,In)=>{ga(ne,this.driver,new Set(Wt),Qt,at.k1)}),R.forEach(Wt=>{const In=x.get(Wt),xn=ne.get(Wt);x.set(Wt,new Map([...In?.entries()??[],...xn?.entries()??[]]))});const Me=[],Ne=[],Ut={};mt.forEach(Wt=>{const{element:In,player:xn,instruction:si}=Wt;if(O.has(In)){if(Un.has(In))return xn.onDestroy(()=>lr(In,si.toStyles)),xn.disabled=!0,xn.overrideTotalTime(si.totalTime),void J.push(xn);let qi=Ut;if(E.size>1){let Br=In;const Xo=[];for(;Br=Br.parentNode;){const Lt=E.get(Br);if(Lt){qi=Lt;break}Xo.push(Br)}Xo.forEach(Lt=>E.set(Lt,qi))}const ys=this._buildAnimation(xn.namespaceId,si,Ui,ve,ne,x);if(xn.setRealPlayer(ys),qi===Ut)Me.push(xn);else{const Br=this.playersByElement.get(qi);Br&&Br.length&&(xn.parentPlayer=jn(Br)),J.push(xn)}}else hr(In,si.fromStyles),xn.onDestroy(()=>lr(In,si.toStyles)),Ne.push(xn),Un.has(In)&&J.push(xn)}),Ne.forEach(Wt=>{const In=ve.get(Wt.element);if(In&&In.length){const xn=jn(In);Wt.setRealPlayer(xn)}}),J.forEach(Wt=>{Wt.parentPlayer?Wt.syncPlayerEvents(Wt.parentPlayer):Wt.destroy()});for(let Wt=0;Wt<gr.length;Wt++){const In=gr[Wt],xn=In[fi];if(Fs(In,er),xn&&xn.hasAnimation)continue;let si=[];if(pt.size){let ys=pt.get(In);ys&&ys.length&&si.push(...ys);let Br=this.driver.query(In,Cs,!0);for(let Xo=0;Xo<Br.length;Xo++){let Lt=pt.get(Br[Xo]);Lt&&Lt.length&&si.push(...Lt)}}const qi=si.filter(ys=>!ys.destroyed);qi.length?Oa(this,In,qi):this.processLeaveNode(In)}return gr.length=0,Me.forEach(Wt=>{this.players.push(Wt),Wt.onDone(()=>{Wt.destroy();const In=this.players.indexOf(Wt);this.players.splice(In,1)}),Wt.play()}),Me}elementContainsData(g,_){let O=!1;const J=_[fi];return J&&J.setForRemoval&&(O=!0),this.playersByElement.has(_)&&(O=!0),this.playersByQueriedElement.has(_)&&(O=!0),this.statesByElement.has(_)&&(O=!0),this._fetchNamespace(g).elementContainsData(_)||O}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,_,O,J,ve){let mt=[];if(_){const pt=this.playersByQueriedElement.get(g);pt&&(mt=pt)}else{const pt=this.playersByElement.get(g);if(pt){const Qt=!ve||ve==Rr;pt.forEach(pn=>{pn.queued||!Qt&&pn.triggerName!=J||mt.push(pn)})}}return(O||J)&&(mt=mt.filter(pt=>!(O&&O!=pt.namespaceId||J&&J!=pt.triggerName))),mt}_beforeAnimationBuild(g,_,O){const ve=_.element,mt=_.isRemovalTransition?void 0:g,pt=_.isRemovalTransition?void 0:_.triggerName;for(const Qt of _.timelines){const pn=Qt.element,Un=pn!==ve,Xn=Vn(O,pn,[]);this._getPreviousPlayers(pn,Un,mt,pt,_.toState).forEach(Oi=>{const ui=Oi.getRealPlayer();ui.beforeDestroy&&ui.beforeDestroy(),Oi.destroy(),Xn.push(Oi)})}hr(ve,_.fromStyles)}_buildAnimation(g,_,O,J,ve,mt){const pt=_.triggerName,Qt=_.element,pn=[],Un=new Set,Xn=new Set,Hi=_.timelines.map(ui=>{const Fn=ui.element;Un.add(Fn);const gr=Fn[fi];if(gr&&gr.removedBeforeQueried)return new at.ZN(ui.duration,ui.delay);const yo=Fn!==Qt,ji=function _a(U){const g=[];return va(U,g),g}((O.get(Fn)||fr).map(Ui=>Ui.getRealPlayer())).filter(Ui=>!!Ui.element&&Ui.element===Fn),Qn=ve.get(Fn),Mo=mt.get(Fn),zi=ti(this._normalizer,ui.keyframes,Qn,Mo),so=this._buildPlayer(ui,zi,ji);if(ui.subTimeline&&J&&Xn.add(Fn),yo){const Ui=new Qo(g,pt,Fn);Ui.setRealPlayer(so),pn.push(Ui)}return so});pn.forEach(ui=>{Vn(this.playersByQueriedElement,ui.element,[]).push(ui),ui.onDone(()=>function Is(U,g,_){let O=U.get(g);if(O){if(O.length){const J=O.indexOf(_);O.splice(J,1)}0==O.length&&U.delete(g)}return O}(this.playersByQueriedElement,ui.element,ui))}),Un.forEach(ui=>Ps(ui,xo));const Oi=jn(Hi);return Oi.onDestroy(()=>{Un.forEach(ui=>Fs(ui,xo)),lr(Qt,_.toStyles)}),Xn.forEach(ui=>{Vn(J,ui,[]).push(Oi)}),Oi}_buildPlayer(g,_,O){return _.length>0?this.driver.animate(g.element,_,g.duration,g.delay,g.easing,O):new at.ZN(g.duration,g.delay)}}class Qo{constructor(g,_,O){this.namespaceId=g,this.triggerName=_,this.element=O,this._player=new at.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((_,O)=>{_.forEach(J=>Pt(g,O,void 0,J))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const _=this._player;_.triggerCallback&&g.onStart(()=>_.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,_){Vn(this._queuedCallbacks,g,[]).push(_)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const _=this._player;_.triggerCallback&&_.triggerCallback(g)}}function ps(U){return U&&1===U.nodeType}function ea(U,g){const _=U.style.display;return U.style.display=g??"none",_}function ga(U,g,_,O,J){const ve=[];_.forEach(Qt=>ve.push(ea(Qt)));const mt=[];O.forEach((Qt,pn)=>{const Un=new Map;Qt.forEach(Xn=>{const Hi=g.computeStyle(pn,Xn,J);Un.set(Xn,Hi),(!Hi||0==Hi.length)&&(pn[fi]=pr,mt.push(pn))}),U.set(pn,Un)});let pt=0;return _.forEach(Qt=>ea(Qt,ve[pt++])),mt}function qr(U,g){const _=new Map;if(U.forEach(pt=>_.set(pt,[])),0==g.length)return _;const O=1,J=new Set(g),ve=new Map;function mt(pt){if(!pt)return O;let Qt=ve.get(pt);if(Qt)return Qt;const pn=pt.parentNode;return Qt=_.has(pn)?pn:J.has(pn)?O:mt(pn),ve.set(pt,Qt),Qt}return g.forEach(pt=>{const Qt=mt(pt);Qt!==O&&_.get(Qt).push(pt)}),_}function Ps(U,g){U.classList?.add(g)}function Fs(U,g){U.classList?.remove(g)}function Oa(U,g,_){jn(_).onDone(()=>U.processLeaveNode(g))}function va(U,g){for(let _=0;_<U.length;_++){const O=U[_];O instanceof at.ZE?va(O.players,g):g.push(O)}}function ca(U,g,_){const O=_.get(U);if(!O)return!1;let J=g.get(U);return J?O.forEach(ve=>J.add(ve)):g.set(U,O),_.delete(U),!0}class gs{constructor(g,_,O){this.bodyNode=g,this._driver=_,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(J,ve)=>{},this._transitionEngine=new To(g,_,O),this._timelineEngine=new Tn(g,_,O),this._transitionEngine.onRemovalComplete=(J,ve)=>this.onRemovalComplete(J,ve)}registerTrigger(g,_,O,J,ve){const mt=g+"-"+J;let pt=this._triggerCache[mt];if(!pt){const Qt=[],Un=Yo(this._driver,ve,Qt,[]);if(Qt.length)throw function Be(U,g){return new p.vHH(3404,!1)}();pt=function D(U,g,_){return new ie(U,g,_)}(J,Un,this._normalizer),this._triggerCache[mt]=pt}this._transitionEngine.registerTrigger(_,J,pt)}register(g,_){this._transitionEngine.register(g,_)}destroy(g,_){this._transitionEngine.destroy(g,_)}onInsert(g,_,O,J){this._transitionEngine.insertNode(g,_,O,J)}onRemove(g,_,O){this._transitionEngine.removeNode(g,_,O)}disableAnimations(g,_){this._transitionEngine.markElementAsDisabled(g,_)}process(g,_,O,J){if("@"==O.charAt(0)){const[ve,mt]=Rn(O);this._timelineEngine.command(ve,_,mt,J)}else this._transitionEngine.trigger(g,_,O,J)}listen(g,_,O,J,ve){if("@"==O.charAt(0)){const[mt,pt]=Rn(O);return this._timelineEngine.listen(mt,_,pt,ve)}return this._transitionEngine.listen(g,_,O,J,ve)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let na=(()=>{class U{constructor(_,O,J){this._element=_,this._startStyles=O,this._endStyles=J,this._state=0;let ve=U.initialStylesByElement.get(_);ve||U.initialStylesByElement.set(_,ve=new Map),this._initialStyles=ve}start(){this._state<1&&(this._startStyles&&lr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lr(this._element,this._initialStyles),this._endStyles&&(lr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(hr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hr(this._element,this._endStyles),this._endStyles=null),lr(this._element,this._initialStyles),this._state=3)}}return U.initialStylesByElement=new WeakMap,U})();function ba(U){let g=null;return U.forEach((_,O)=>{(function Ra(U){return"display"===U||"position"===U})(O)&&(g=g||new Map,g.set(O,_))}),g}class Ws{constructor(g,_,O,J){this.element=g,this.keyframes=_,this.options=O,this._specialStyles=J,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const _=[];return g.forEach(O=>{_.push(Object.fromEntries(O))}),_}_triggerWebAnimation(g,_,O){return g.animate(this._convertKeyframesToObject(_),O)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,J)=>{"offset"!==J&&g.set(J,this._finished?O:ir(this.element,J))}),this.currentSnapshot=g}triggerCallback(g){const _="start"===g?this._onStartFns:this._onDoneFns;_.forEach(O=>O()),_.length=0}}class _s{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,_){return!1}containsElement(g,_){return br(g,_)}getParentElement(g){return di(g)}query(g,_,O){return Kr(g,_,O)}computeStyle(g,_,O){return window.getComputedStyle(g)[_]}animate(g,_,O,J,ve,mt=[]){const Qt={duration:O,delay:J,fill:0==J?"both":"forwards"};ve&&(Qt.easing=ve);const pn=new Map,Un=mt.filter(Oi=>Oi instanceof Ws);(function bi(U,g){return 0===U||0===g})(O,J)&&Un.forEach(Oi=>{Oi.currentSnapshot.forEach((ui,Fn)=>pn.set(Fn,ui))});let Xn=function mi(U){return U.length?U[0]instanceof Map?U:U.map(g=>us(g)):[]}(_).map(Oi=>yi(Oi));Xn=function Fr(U,g,_){if(_.size&&g.length){let O=g[0],J=[];if(_.forEach((ve,mt)=>{O.has(mt)||J.push(mt),O.set(mt,ve)}),J.length)for(let ve=1;ve<g.length;ve++){let mt=g[ve];J.forEach(pt=>mt.set(pt,ir(U,pt)))}}return g}(g,Xn,pn);const Hi=function Ia(U,g){let _=null,O=null;return Array.isArray(g)&&g.length?(_=ba(g[0]),g.length>1&&(O=ba(g[g.length-1]))):g instanceof Map&&(_=ba(g)),_||O?new na(U,_,O):null}(g,Xn);return new Ws(g,Xn,Qt,Hi)}}let vs=(()=>{class U extends at._j{constructor(_,O){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(O.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(_){const O=this._nextAnimationId.toString();this._nextAnimationId++;const J=Array.isArray(_)?(0,at.vP)(_):_;return tr(this._renderer,null,O,"register",[J]),new Ta(O,this._renderer)}}return U.\u0275fac=function(_){return new(_||U)(p.LFG(p.FYo),p.LFG(pe.K0))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac}),U})();class Ta extends at.LC{constructor(g,_){super(),this._id=g,this._renderer=_}create(g,_){return new Vs(this._id,g,_||{},this._renderer)}}class Vs{constructor(g,_,O,J){this.id=g,this.element=_,this._renderer=J,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",O)}_listen(g,_){return this._renderer.listen(this.element,`@@${this.id}:${g}`,_)}_command(g,..._){return tr(this._renderer,this.element,this.id,g,_)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tr(U,g,_,O,J){return U.setProperty(g,`@@${_}:${O}`,J)}const Ks="@.disabled";let Ti=(()=>{class U{constructor(_,O,J){this.delegate=_,this.engine=O,this._zone=J,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),O.onRemovalComplete=(ve,mt)=>{const pt=mt?.parentNode(ve);pt&&mt.removeChild(pt,ve)}}createRenderer(_,O){const ve=this.delegate.createRenderer(_,O);if(!(_&&O&&O.data&&O.data.animation)){let Un=this._rendererCache.get(ve);return Un||(Un=new la("",ve,this.engine,()=>this._rendererCache.delete(ve)),this._rendererCache.set(ve,Un)),Un}const mt=O.id,pt=O.id+"-"+this._currentId;this._currentId++,this.engine.register(pt,_);const Qt=Un=>{Array.isArray(Un)?Un.forEach(Qt):this.engine.registerTrigger(mt,pt,_,Un.name,Un)};return O.data.animation.forEach(Qt),new P(this,pt,ve,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,O,J){_>=0&&_<this._microtaskId?this._zone.run(()=>O(J)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ve=>{const[mt,pt]=ve;mt(pt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([O,J]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return U.\u0275fac=function(_){return new(_||U)(p.LFG(p.FYo),p.LFG(gs),p.LFG(p.R0b))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac}),U})();class la{constructor(g,_,O,J){this.namespaceId=g,this.delegate=_,this.engine=O,this._onDestroy=J,this.destroyNode=this.delegate.destroyNode?ve=>_.destroyNode(ve):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,_){return this.delegate.createElement(g,_)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,_){this.delegate.appendChild(g,_),this.engine.onInsert(this.namespaceId,_,g,!1)}insertBefore(g,_,O,J=!0){this.delegate.insertBefore(g,_,O),this.engine.onInsert(this.namespaceId,_,g,J)}removeChild(g,_,O){this.engine.onRemove(this.namespaceId,_,this.delegate)}selectRootElement(g,_){return this.delegate.selectRootElement(g,_)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,_,O,J){this.delegate.setAttribute(g,_,O,J)}removeAttribute(g,_,O){this.delegate.removeAttribute(g,_,O)}addClass(g,_){this.delegate.addClass(g,_)}removeClass(g,_){this.delegate.removeClass(g,_)}setStyle(g,_,O,J){this.delegate.setStyle(g,_,O,J)}removeStyle(g,_,O){this.delegate.removeStyle(g,_,O)}setProperty(g,_,O){"@"==_.charAt(0)&&_==Ks?this.disableAnimations(g,!!O):this.delegate.setProperty(g,_,O)}setValue(g,_){this.delegate.setValue(g,_)}listen(g,_,O){return this.delegate.listen(g,_,O)}disableAnimations(g,_){this.engine.disableAnimations(g,_)}}class P extends la{constructor(g,_,O,J,ve){super(_,O,J,ve),this.factory=g,this.namespaceId=_}setProperty(g,_,O){"@"==_.charAt(0)?"."==_.charAt(1)&&_==Ks?this.disableAnimations(g,O=void 0===O||!!O):this.engine.process(this.namespaceId,g,_.slice(1),O):this.delegate.setProperty(g,_,O)}listen(g,_,O){if("@"==_.charAt(0)){const J=function ee(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(g);let ve=_.slice(1),mt="";return"@"!=ve.charAt(0)&&([ve,mt]=function V(U){const g=U.indexOf(".");return[U.substring(0,g),U.slice(g+1)]}(ve)),this.engine.listen(this.namespaceId,J,ve,mt,pt=>{this.factory.scheduleListenerCallback(pt._data||-1,O,pt)})}return this.delegate.listen(g,_,O)}}const fn=[{provide:at._j,useClass:vs},{provide:st,useFactory:function rt(){return new Fi}},{provide:gs,useClass:(()=>{class U extends gs{constructor(_,O,J,ve){super(_.body,O,J)}ngOnDestroy(){this.flush()}}return U.\u0275fac=function(_){return new(_||U)(p.LFG(pe.K0),p.LFG(to),p.LFG(st),p.LFG(p.z2F))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac}),U})()},{provide:p.FYo,useFactory:function tn(U,g,_){return new Ti(U,g,_)},deps:[l.se,gs,p.R0b]}],Yn=[{provide:to,useFactory:()=>new _s},{provide:p.QbO,useValue:"BrowserAnimations"},...fn],Vi=[{provide:to,useClass:Zr},{provide:p.QbO,useValue:"NoopAnimations"},...fn];let Di=(()=>{class U{static withConfig(_){return{ngModule:U,providers:_.disableAnimations?Vi:Yn}}}return U.\u0275fac=function(_){return new(_||U)},U.\u0275mod=p.oAB({type:U}),U.\u0275inj=p.cJS({providers:Yn,imports:[l.b2]}),U})();var Gn=y(3144);const Qr_firebaseConfig={apiKey:"AIzaSyCBFiqylI83kkUooQ5SKoyaA4AD4cJtW2I",authDomain:"socialmediafeed-72afc.firebaseapp.com",projectId:"socialmediafeed-72afc",storageBucket:"socialmediafeed-72afc.appspot.com",messagingSenderId:"708393762131",appId:"1:708393762131:web:6d451bd3a6d6149c4d35a6",measurementId:"G-VF9CFXKB75"};var bs=y(2011),$r=y(8854);function ya(U,g){1&U&&(p.TgZ(0,"div")(1,"small",6),p._uU(2,"Nickname field cannot be empty"),p.qZA()())}function Bo(U,g){1&U&&(p.TgZ(0,"div")(1,"small",6),p._uU(2,"Description field cannot be empty"),p.qZA()())}const Zs=function(U,g){return{active:U,idle:g}};let rs=(()=>{class U{constructor(_){this.userDataService=_,this.profileForm=new ae.cw({nickname:new ae.NI("",[ae.kI.required]),description:new ae.NI("",[ae.kI.required])})}onContinueClick(){const _=this.profileForm.get("nickname"),O=this.profileForm.get("description");_?.markAsTouched(),O?.markAsTouched(),_&&O&&!_.errors&&!O.errors&&(this.userDataService.createUser(_.value,O.value),this.profileForm.reset())}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(X.M))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:7,consts:[[1,"profile",3,"ngClass"],[1,"profile-content",3,"formGroup","submit"],["formControlName","nickname","placeholder","Nickname"],[4,"ngIf"],["formControlName","description","placeholder","Description"],["mat-flat-button","","color","warn","type","submit"],[1,"error"]],template:function(_,O){if(1&_&&(p.TgZ(0,"div",0)(1,"form",1),p.NdJ("submit",function(){return O.onContinueClick()}),p._UZ(2,"input",2),p.YNc(3,ya,3,0,"div",3),p._UZ(4,"textarea",4),p.YNc(5,Bo,3,0,"div",3),p.TgZ(6,"button",5),p._uU(7,"Continue"),p.qZA()()()),2&_){let J,ve;p.Q6J("ngClass",p.WLB(4,Zs,O.show,!O.show)),p.xp6(1),p.Q6J("formGroup",O.profileForm),p.xp6(2),p.Q6J("ngIf",(null==(J=O.profileForm.get("nickname"))?null:J.invalid)&&(null==(J=O.profileForm.get("nickname"))?null:J.touched)),p.xp6(2),p.Q6J("ngIf",(null==(ve=O.profileForm.get("description"))?null:ve.invalid)&&(null==(ve=O.profileForm.get("description"))?null:ve.touched))}},dependencies:[pe.mk,pe.O5,ae._Y,ae.Fj,ae.JJ,ae.JL,ae.sg,ae.u,Le.lW],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;right:0;height:100vh;background-color:#313131;z-index:9;transition-duration:.5s;overflow:hidden}.profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box}.profile-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-top:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}"]}),U})();var Ts=y(5861),sc=y(8099),wa=y(9744),bc=y(9383),Pa=y(2659);function Cn(U,g){1&U&&(p.TgZ(0,"mat-icon",10),p._uU(1,"notifications_active "),p.qZA())}function nr(U,g){1&U&&(p.TgZ(0,"mat-icon"),p._uU(1," notifications_none "),p.qZA())}function bo(U,g){1&U&&(p.TgZ(0,"mat-icon",10),p._uU(1," fiber_manual_record "),p.qZA())}function os(U,g){1&U&&(p.TgZ(0,"mat-icon",10),p._uU(1," fiber_manual_record "),p.qZA())}let Gr=(()=>{class U{constructor(_,O,J,ve){this.dialog=_,this.userDataService=O,this.notificationsService=J,this.router=ve,this.notificationFriendsLength=0,this.notificationLikesLength=0}ngOnInit(){this.delayUntilUserInfo()}ngOnDestroy(){this.notificationFriendsSubscription&&this.notificationFriendsSubscription.unsubscribe()}delayUntilUserInfo(){var _=this;return(0,Ts.Z)(function*(){_.userDataService.userInfo?.userId?(_.notificationFriendsSubscription=_.notificationsService.getYourNotificationFriends().subscribe(O=>_.notificationFriendsLength=O.length),_.notificationsService.getYourNotificationLikes().subscribe(O=>_.notificationLikesLength=O.length)):(yield new Promise(O=>{setTimeout(O,100)}),yield _.delayUntilUserInfo())})()}changeNicknameClick(){this.dialog.open(sc.f,{data:{info:"Change Nickname",message:`Your current nickname - ${this.userDataService.userInfo.publicName}`,field:"publicName"}})}changeDescriptionClick(){this.dialog.open(sc.f,{data:{info:"Change Description",message:`Your current description - ${this.userDataService.userInfo.description}`,field:"description"}})}deleteAccountClick(){this.dialog.open(sc.f,{data:{info:"Delete account",message:"Are you sure you want to delete your account? All your posts will be deleted",yesButton:!0}})}homaPageClick(){this.router.navigate(["userPage"])}newsClick(){this.router.navigate(["postFeed",{postsGroup:"allPosts"}])}friendsPostsClick(){this.router.navigate(["postFeed",{postsGroup:"friendsPosts"}])}friendsClick(){this.router.navigate(["yourFriends",{friendsGroup:"friends"}])}newFriendsClick(){this.router.navigate(["yourFriends",{friendsGroup:"newFriends"}])}newLikesClick(){this.router.navigate(["informationLikes"])}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(ue.uw),p.Y36(X.M),p.Y36(wa.T),p.Y36(C.F0))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-sidebar"]],decls:47,vars:9,consts:[[1,"sidebar"],["color","primary",3,"click"],["color","primary",3,"matMenuTriggerFor"],["color","warn",4,"ngIf"],[4,"ngIf"],["menuNews","matMenu"],["mat-menu-item","",3,"click"],["menuNotifications","matMenu"],["menuSettings","matMenu"],["mat-menu-item","",1,"delete",3,"click"],["color","warn"]],template:function(_,O){if(1&_&&(p.TgZ(0,"div",0)(1,"mat-toolbar",1),p.NdJ("click",function(){return O.homaPageClick()}),p.TgZ(2,"mat-icon"),p._uU(3,"home"),p.qZA(),p._uU(4," Home "),p.qZA(),p.TgZ(5,"mat-toolbar",2)(6,"mat-icon"),p._uU(7,"newspaper"),p.qZA(),p._uU(8," News "),p.qZA(),p.TgZ(9,"mat-toolbar",1),p.NdJ("click",function(){return O.friendsClick()}),p.TgZ(10,"mat-icon"),p._uU(11,"people"),p.qZA(),p._uU(12," Friends "),p.qZA(),p.TgZ(13,"mat-toolbar",2),p.YNc(14,Cn,2,0,"mat-icon",3),p.YNc(15,nr,2,0,"mat-icon",4),p._uU(16," Notifications "),p.qZA(),p.TgZ(17,"mat-toolbar",2)(18,"mat-icon"),p._uU(19,"settings"),p.qZA(),p._uU(20," Settings "),p.qZA(),p.TgZ(21,"mat-menu",null,5)(23,"button",6),p.NdJ("click",function(){return O.newsClick()}),p._uU(24,"All news"),p.qZA(),p.TgZ(25,"button",6),p.NdJ("click",function(){return O.friendsPostsClick()}),p._uU(26,"Friends news"),p.qZA()(),p.TgZ(27,"mat-menu",null,7)(29,"button",6),p.NdJ("click",function(){return O.newFriendsClick()}),p.YNc(30,bo,2,0,"mat-icon",3),p._uU(31," New friends "),p.ynx(32),p._uU(33),p.BQk(),p.qZA(),p.TgZ(34,"button",6),p.NdJ("click",function(){return O.newLikesClick()}),p.YNc(35,os,2,0,"mat-icon",3),p._uU(36," New likes "),p.ynx(37),p._uU(38),p.BQk(),p.qZA()(),p.TgZ(39,"mat-menu",null,8)(41,"button",6),p.NdJ("click",function(){return O.changeNicknameClick()}),p._uU(42," Change nickname "),p.qZA(),p.TgZ(43,"button",6),p.NdJ("click",function(){return O.changeDescriptionClick()}),p._uU(44," Change description "),p.qZA(),p.TgZ(45,"button",9),p.NdJ("click",function(){return O.deleteAccountClick()}),p._uU(46," Delete account "),p.qZA()()()),2&_){const J=p.MAs(22),ve=p.MAs(28),mt=p.MAs(40);p.xp6(5),p.Q6J("matMenuTriggerFor",J),p.xp6(8),p.Q6J("matMenuTriggerFor",ve),p.xp6(1),p.Q6J("ngIf",O.notificationFriendsLength||O.notificationLikesLength),p.xp6(1),p.Q6J("ngIf",!O.notificationFriendsLength&&!O.notificationLikesLength),p.xp6(2),p.Q6J("matMenuTriggerFor",mt),p.xp6(13),p.Q6J("ngIf",O.notificationFriendsLength),p.xp6(3),p.hij("(",O.notificationFriendsLength,")"),p.xp6(2),p.Q6J("ngIf",O.notificationLikesLength),p.xp6(3),p.hij("(",O.notificationLikesLength,")")}},dependencies:[pe.O5,Et.Hw,bc.Ye,Pa.VK,Pa.OP,Pa.p6],styles:[".sidebar[_ngcontent-%COMP%]{position:absolute;top:5em;left:0;height:5em;z-index:10}.mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;cursor:pointer;background-color:#0111a1cc}.mat-toolbar[_ngcontent-%COMP%]:hover{background-color:#0017c7cc}.mat-icon[_ngcontent-%COMP%]{margin-right:10px}.mdc-list-item[_ngcontent-%COMP%]{width:200px;background-color:#fff}  .mat-mdc-menu-content{padding:0!important}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}"]}),U})();function Fa(U,g){if(1&U){const _=p.EpF();p.TgZ(0,"div",8),p.NdJ("click",function(){p.CHM(_);const J=p.oxw(2);return p.KtG(J.onLoginClick())}),p._uU(1," Login "),p.qZA()}}function ac(U,g){if(1&U&&(p.TgZ(0,"div",9),p._uU(1),p.qZA()),2&U){const _=p.oxw(2);p.xp6(1),p.hij(" Hello, ",_.getUserName()," ")}}function Mn(U,g){if(1&U){const _=p.EpF();p.TgZ(0,"div",8),p.NdJ("click",function(){p.CHM(_);const J=p.oxw(2);return p.KtG(J.onLogoutClick())}),p._uU(1," Logout "),p.qZA()}}function wr(U,g){if(1&U&&(p.TgZ(0,"div",5),p.YNc(1,Fa,2,0,"div",6),p.YNc(2,ac,2,1,"div",7),p.YNc(3,Mn,2,0,"div",6),p.qZA()),2&U){const _=p.oxw();p.xp6(1),p.Q6J("ngIf",!_.getIsLoggedIn()),p.xp6(1),p.Q6J("ngIf",_.getIsLoggedIn()&&_.getUserHasProfile()),p.xp6(1),p.Q6J("ngIf",_.getIsLoggedIn())}}let Ms=(()=>{class U{constructor(_,O,J,ve){this.userDataService=_,this.loginSheet=O,this.afAuth=J,this.router=ve}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}getUserName(){return this.userDataService.userInfo?.publicName||""}onLoginClick(){this.loginSheet.open(je)}onLogoutClick(){this.router.navigate([""]),this.userDataService.resetUserName(),this.afAuth.signOut()}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(X.M),p.Y36(Se.ch),p.Y36(oe.zQ),p.Y36(C.F0))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"nav-bar"],[1,"nav-bar-content"],[1,"nav-bar-left"],["target","_blank","href","https://www.instagram.com/vlladyaa/",1,"nav-bar-items","link"],["class","nav-bar-right",4,"ngIf"],[1,"nav-bar-right"],["class","nav-bar-items link",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[1,"nav-bar-items","link",3,"click"],[1,"nav-bar-items"]],template:function(_,O){1&_&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),p._uU(4,"Instagram"),p.qZA()(),p.YNc(5,wr,4,3,"div",4),p.qZA()()),2&_&&(p.xp6(5),p.Q6J("ngIf",void 0!==O.getIsLoggedIn()))},dependencies:[pe.O5],styles:[".nav-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#00000080;height:5em;z-index:10}.nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}.nav-bar-left[_ngcontent-%COMP%], .nav-bar-right[_ngcontent-%COMP%]{opacity:1;display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;color:#fff;font-weight:900}.link[_ngcontent-%COMP%]{outline:none;text-decoration:none}.link[_ngcontent-%COMP%]:link, .link[_ngcontent-%COMP%]:visited{color:#fff}.link[_ngcontent-%COMP%]:hover{border-bottom:1px solid;background:#b4b4b4;padding:5px;border-radius:1em}.link[_ngcontent-%COMP%]:active{background:#ec6802;color:#fff}.nav-bar-left[_ngcontent-%COMP%]{font-size:1.5em}.nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),U})();function oo(U,g){1&U&&p._UZ(0,"app-sidebar")}let ni=(()=>{class U{constructor(_,O){this.userDataService=_,this.location=O,this.title="SocialMediaProject",this.userDataService.checkLoginStatus()}checkUrl(){const _=this.location.path();return _.includes("postFeed")||_.includes("userPage")||_.includes("friendPage")||_.includes("yourFriends")||_.includes("informationLikes")}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}}return U.\u0275fac=function(_){return new(_||U)(p.Y36(X.M),p.Y36(pe.Ye))},U.\u0275cmp=p.Xpm({type:U,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"show"]],template:function(_,O){1&_&&(p._UZ(0,"app-navbar"),p.YNc(1,oo,1,0,"app-sidebar",0),p._UZ(2,"router-outlet")(3,"app-profile",1)),2&_&&(p.xp6(1),p.Q6J("ngIf",O.checkUrl()),p.xp6(2),p.Q6J("show",O.getIsLoggedIn()&&!O.getUserHasProfile()))},dependencies:[pe.O5,C.lC,rs,Gr,Ms]}),U})();var li=y(1026);let Ss=(()=>{class U{}return U.\u0275fac=function(_){return new(_||U)},U.\u0275mod=p.oAB({type:U,bootstrap:[ni]}),U.\u0275inj=p.cJS({providers:[X.M,Rt.n],imports:[l.b2,ze,Di,bs.hO.initializeApp(Qr_firebaseConfig),ct.yb,Je.TE,ae.UX,Gn.JF,$r.q,li.t]}),U})();l.q6().bootstrapModule(Ss).catch(U=>console.error(U))},1135:(gn,ot,y)=>{y.d(ot,{X:()=>C});var l=y(7579);class C extends l.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const B=super._subscribe(X);return!B.closed&&X.next(this._value),B}getValue(){const{hasError:X,thrownError:B,_value:ae}=this;if(X)throw B;return this._throwIfClosed(),ae}next(X){super.next(this._value=X)}}},9751:(gn,ot,y)=>{y.d(ot,{y:()=>ye});var l=y(930),C=y(727),p=y(8822),X=y(9635),B=y(2416),ae=y(576),W=y(2806);let ye=(()=>{class pe{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const et=new pe;return et.source=this,et.operator=Pe,et}subscribe(Pe,et,We){const Ye=function ue(pe){return pe&&pe instanceof l.Lv||function oe(pe){return pe&&(0,ae.m)(pe.next)&&(0,ae.m)(pe.error)&&(0,ae.m)(pe.complete)}(pe)&&(0,C.Nn)(pe)}(Pe)?Pe:new l.Hp(Pe,et,We);return(0,W.x)(()=>{const{operator:$e,source:ke}=this;Ye.add($e?$e.call(Ye,ke):ke?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(et){Pe.error(et)}}forEach(Pe,et){return new(et=Se(et))((We,Ye)=>{const $e=new l.Hp({next:ke=>{try{Pe(ke)}catch(wt){Ye(wt),$e.unsubscribe()}},error:Ye,complete:We});this.subscribe($e)})}_subscribe(Pe){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(Pe)}[p.L](){return this}pipe(...Pe){return(0,X.U)(Pe)(this)}toPromise(Pe){return new(Pe=Se(Pe))((et,We)=>{let Ye;this.subscribe($e=>Ye=$e,$e=>We($e),()=>et(Ye))})}}return pe.create=Le=>new pe(Le),pe})();function Se(pe){var Le;return null!==(Le=pe??B.config.Promise)&&void 0!==Le?Le:Promise}},7579:(gn,ot,y)=>{y.d(ot,{x:()=>W});var l=y(9751),C=y(727);const X=(0,y(3888).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=y(8737),ae=y(2806);let W=(()=>{class Se extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const pe=new ye(this,this);return pe.operator=ue,pe}_throwIfClosed(){if(this.closed)throw new X}next(ue){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(ue)}})}error(ue){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:pe}=this;for(;pe.length;)pe.shift().error(ue)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:pe,isStopped:Le,observers:Pe}=this;return pe||Le?C.Lc:(this.currentObservers=null,Pe.push(ue),new C.w0(()=>{this.currentObservers=null,(0,B.P)(Pe,ue)}))}_checkFinalizedStatuses(ue){const{hasError:pe,thrownError:Le,isStopped:Pe}=this;pe?ue.error(Le):Pe&&ue.complete()}asObservable(){const ue=new l.y;return ue.source=this,ue}}return Se.create=(oe,ue)=>new ye(oe,ue),Se})();class ye extends W{constructor(oe,ue){super(),this.destination=oe,this.source=ue}next(oe){var ue,pe;null===(pe=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===pe||pe.call(ue,oe)}error(oe){var ue,pe;null===(pe=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===pe||pe.call(ue,oe)}complete(){var oe,ue;null===(ue=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===ue||ue.call(oe)}_subscribe(oe){var ue,pe;return null!==(pe=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(oe))&&void 0!==pe?pe:C.Lc}}},930:(gn,ot,y)=>{y.d(ot,{Hp:()=>We,Lv:()=>pe});var l=y(576),C=y(727),p=y(2416),X=y(7849),B=y(5032);const ae=Se("C",void 0,void 0);function Se(fe,we,me){return{kind:fe,value:we,error:me}}var oe=y(3410),ue=y(2806);class pe extends C.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,C.Nn)(we)&&we.add(this)):this.destination=wt}static create(we,me,ge){return new We(we,me,ge)}next(we){this.isStopped?ke(function ye(fe){return Se("N",fe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?ke(function W(fe){return Se("E",void 0,fe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?ke(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Pe(fe,we){return Le.call(fe,we)}class et{constructor(we){this.partialObserver=we}next(we){const{partialObserver:me}=this;if(me.next)try{me.next(we)}catch(ge){Ye(ge)}}error(we){const{partialObserver:me}=this;if(me.error)try{me.error(we)}catch(ge){Ye(ge)}else Ye(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(me){Ye(me)}}}class We extends pe{constructor(we,me,ge){let Ve;if(super(),(0,l.m)(we)||!we)Ve={next:we??void 0,error:me??void 0,complete:ge??void 0};else{let Z;this&&p.config.useDeprecatedNextContext?(Z=Object.create(we),Z.unsubscribe=()=>this.unsubscribe(),Ve={next:we.next&&Pe(we.next,Z),error:we.error&&Pe(we.error,Z),complete:we.complete&&Pe(we.complete,Z)}):Ve=we}this.destination=new et(Ve)}}function Ye(fe){p.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(fe):(0,X.h)(fe)}function ke(fe,we){const{onStoppedNotification:me}=p.config;me&&oe.z.setTimeout(()=>me(fe,we))}const wt={closed:!0,next:B.Z,error:function $e(fe){throw fe},complete:B.Z}},727:(gn,ot,y)=>{y.d(ot,{Lc:()=>ae,w0:()=>B,Nn:()=>W});var l=y(576);const p=(0,y(3888).d)(Se=>function(ue){Se(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((pe,Le)=>`${Le+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var X=y(8737);class B{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Pe of ue)Pe.remove(this);else ue.remove(this);const{initialTeardown:pe}=this;if((0,l.m)(pe))try{pe()}catch(Pe){oe=Pe instanceof p?Pe.errors:[Pe]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Pe of Le)try{ye(Pe)}catch(et){oe=oe??[],et instanceof p?oe=[...oe,...et.errors]:oe.push(et)}}if(oe)throw new p(oe)}}add(oe){var ue;if(oe&&oe!==this)if(this.closed)ye(oe);else{if(oe instanceof B){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(oe)}}_hasParent(oe){const{_parentage:ue}=this;return ue===oe||Array.isArray(ue)&&ue.includes(oe)}_addParent(oe){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(oe),ue):ue?[ue,oe]:oe}_removeParent(oe){const{_parentage:ue}=this;ue===oe?this._parentage=null:Array.isArray(ue)&&(0,X.P)(ue,oe)}remove(oe){const{_finalizers:ue}=this;ue&&(0,X.P)(ue,oe),oe instanceof B&&oe._removeParent(this)}}B.EMPTY=(()=>{const Se=new B;return Se.closed=!0,Se})();const ae=B.EMPTY;function W(Se){return Se instanceof B||Se&&"closed"in Se&&(0,l.m)(Se.remove)&&(0,l.m)(Se.add)&&(0,l.m)(Se.unsubscribe)}function ye(Se){(0,l.m)(Se)?Se():Se.unsubscribe()}},2416:(gn,ot,y)=>{y.d(ot,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(gn,ot,y)=>{y.d(ot,{a:()=>oe});var l=y(9751),C=y(4742),p=y(8996),X=y(4671),B=y(3268),ae=y(3269),W=y(1810),ye=y(5403),Se=y(9672);function oe(...Le){const Pe=(0,ae.yG)(Le),et=(0,ae.jO)(Le),{args:We,keys:Ye}=(0,C.D)(Le);if(0===We.length)return(0,p.D)([],Pe);const $e=new l.y(function ue(Le,Pe,et=X.y){return We=>{pe(Pe,()=>{const{length:Ye}=Le,$e=new Array(Ye);let ke=Ye,wt=Ye;for(let fe=0;fe<Ye;fe++)pe(Pe,()=>{const we=(0,p.D)(Le[fe],Pe);let me=!1;we.subscribe((0,ye.x)(We,ge=>{$e[fe]=ge,me||(me=!0,wt--),wt||We.next(et($e.slice()))},()=>{--ke||We.complete()}))},We)},We)}}(We,Pe,Ye?ke=>(0,W.n)(Ye,ke):X.y));return et?$e.pipe((0,B.Z)(et)):$e}function pe(Le,Pe,et){Le?(0,Se.f)(et,Le,Pe):Pe()}},7272:(gn,ot,y)=>{y.d(ot,{z:()=>B});var l=y(8189),p=y(3269),X=y(8996);function B(...ae){return function C(){return(0,l.J)(1)}()((0,X.D)(ae,(0,p.yG)(ae)))}},9770:(gn,ot,y)=>{y.d(ot,{P:()=>p});var l=y(9751),C=y(8421);function p(X){return new l.y(B=>{(0,C.Xf)(X()).subscribe(B)})}},515:(gn,ot,y)=>{y.d(ot,{E:()=>C});const C=new(y(9751).y)(B=>B.complete())},4128:(gn,ot,y)=>{y.d(ot,{D:()=>ye});var l=y(9751),C=y(4742),p=y(8421),X=y(3269),B=y(5403),ae=y(3268),W=y(1810);function ye(...Se){const oe=(0,X.jO)(Se),{args:ue,keys:pe}=(0,C.D)(Se),Le=new l.y(Pe=>{const{length:et}=ue;if(!et)return void Pe.complete();const We=new Array(et);let Ye=et,$e=et;for(let ke=0;ke<et;ke++){let wt=!1;(0,p.Xf)(ue[ke]).subscribe((0,B.x)(Pe,fe=>{wt||(wt=!0,$e--),We[ke]=fe},()=>Ye--,void 0,()=>{(!Ye||!wt)&&($e||Pe.next(pe?(0,W.n)(pe,We):We),Pe.complete())}))}});return oe?Le.pipe((0,ae.Z)(oe)):Le}},8996:(gn,ot,y)=>{y.d(ot,{D:()=>we});var l=y(8421),C=y(5363),p=y(9468),ae=y(9751),ye=y(2202),Se=y(576),oe=y(9672);function pe(me,ge){if(!me)throw new Error("Iterable cannot be null");return new ae.y(Ve=>{(0,oe.f)(Ve,ge,()=>{const Z=me[Symbol.asyncIterator]();(0,oe.f)(Ve,ge,()=>{Z.next().then(qe=>{qe.done?Ve.complete():Ve.next(qe.value)})},0,!0)})})}var Le=y(3670),Pe=y(8239),et=y(1144),We=y(6495),Ye=y(2206),$e=y(4532),ke=y(3260);function we(me,ge){return ge?function fe(me,ge){if(null!=me){if((0,Le.c)(me))return function X(me,ge){return(0,l.Xf)(me).pipe((0,p.R)(ge),(0,C.Q)(ge))}(me,ge);if((0,et.z)(me))return function W(me,ge){return new ae.y(Ve=>{let Z=0;return ge.schedule(function(){Z===me.length?Ve.complete():(Ve.next(me[Z++]),Ve.closed||this.schedule())})})}(me,ge);if((0,Pe.t)(me))return function B(me,ge){return(0,l.Xf)(me).pipe((0,p.R)(ge),(0,C.Q)(ge))}(me,ge);if((0,Ye.D)(me))return pe(me,ge);if((0,We.T)(me))return function ue(me,ge){return new ae.y(Ve=>{let Z;return(0,oe.f)(Ve,ge,()=>{Z=me[ye.h](),(0,oe.f)(Ve,ge,()=>{let qe,je;try{({value:qe,done:je}=Z.next())}catch(Xe){return void Ve.error(Xe)}je?Ve.complete():Ve.next(qe)},0,!0)}),()=>(0,Se.m)(Z?.return)&&Z.return()})}(me,ge);if((0,ke.L)(me))return function wt(me,ge){return pe((0,ke.Q)(me),ge)}(me,ge)}throw(0,$e.z)(me)}(me,ge):(0,l.Xf)(me)}},4968:(gn,ot,y)=>{y.d(ot,{R:()=>oe});var l=y(8421),C=y(9751),p=y(5577),X=y(1144),B=y(576),ae=y(3268);const W=["addListener","removeListener"],ye=["addEventListener","removeEventListener"],Se=["on","off"];function oe(et,We,Ye,$e){if((0,B.m)(Ye)&&($e=Ye,Ye=void 0),$e)return oe(et,We,Ye).pipe((0,ae.Z)($e));const[ke,wt]=function Pe(et){return(0,B.m)(et.addEventListener)&&(0,B.m)(et.removeEventListener)}(et)?ye.map(fe=>we=>et[fe](We,we,Ye)):function pe(et){return(0,B.m)(et.addListener)&&(0,B.m)(et.removeListener)}(et)?W.map(ue(et,We)):function Le(et){return(0,B.m)(et.on)&&(0,B.m)(et.off)}(et)?Se.map(ue(et,We)):[];if(!ke&&(0,X.z)(et))return(0,p.z)(fe=>oe(fe,We,Ye))((0,l.Xf)(et));if(!ke)throw new TypeError("Invalid event target");return new C.y(fe=>{const we=(...me)=>fe.next(1<me.length?me:me[0]);return ke(we),()=>wt(we)})}function ue(et,We){return Ye=>$e=>et[Ye](We,$e)}},8421:(gn,ot,y)=>{y.d(ot,{Xf:()=>Le});var l=y(7582),C=y(1144),p=y(8239),X=y(9751),B=y(3670),ae=y(2206),W=y(4532),ye=y(6495),Se=y(3260),oe=y(576),ue=y(7849),pe=y(8822);function Le(fe){if(fe instanceof X.y)return fe;if(null!=fe){if((0,B.c)(fe))return function Pe(fe){return new X.y(we=>{const me=fe[pe.L]();if((0,oe.m)(me.subscribe))return me.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,C.z)(fe))return function et(fe){return new X.y(we=>{for(let me=0;me<fe.length&&!we.closed;me++)we.next(fe[me]);we.complete()})}(fe);if((0,p.t)(fe))return function We(fe){return new X.y(we=>{fe.then(me=>{we.closed||(we.next(me),we.complete())},me=>we.error(me)).then(null,ue.h)})}(fe);if((0,ae.D)(fe))return $e(fe);if((0,ye.T)(fe))return function Ye(fe){return new X.y(we=>{for(const me of fe)if(we.next(me),we.closed)return;we.complete()})}(fe);if((0,Se.L)(fe))return function ke(fe){return $e((0,Se.Q)(fe))}(fe)}throw(0,W.z)(fe)}function $e(fe){return new X.y(we=>{(function wt(fe,we){var me,ge,Ve,Z;return(0,l.mG)(this,void 0,void 0,function*(){try{for(me=(0,l.KL)(fe);!(ge=yield me.next()).done;)if(we.next(ge.value),we.closed)return}catch(qe){Ve={error:qe}}finally{try{ge&&!ge.done&&(Z=me.return)&&(yield Z.call(me))}finally{if(Ve)throw Ve.error}}we.complete()})})(fe,we).catch(me=>we.error(me))})}},6451:(gn,ot,y)=>{y.d(ot,{T:()=>ae});var l=y(8189),C=y(8421),p=y(515),X=y(3269),B=y(8996);function ae(...W){const ye=(0,X.yG)(W),Se=(0,X._6)(W,1/0),oe=W;return oe.length?1===oe.length?(0,C.Xf)(oe[0]):(0,l.J)(Se)((0,B.D)(oe,ye)):p.E}},9646:(gn,ot,y)=>{y.d(ot,{of:()=>p});var l=y(3269),C=y(8996);function p(...X){const B=(0,l.yG)(X);return(0,C.D)(X,B)}},2843:(gn,ot,y)=>{y.d(ot,{_:()=>p});var l=y(9751),C=y(576);function p(X,B){const ae=(0,C.m)(X)?X:()=>X,W=ye=>ye.error(ae());return new l.y(B?ye=>B.schedule(W,0,ye):W)}},5963:(gn,ot,y)=>{y.d(ot,{H:()=>B});var l=y(9751),C=y(4986),p=y(3532);function B(ae=0,W,ye=C.P){let Se=-1;return null!=W&&((0,p.K)(W)?ye=W:Se=W),new l.y(oe=>{let ue=function X(ae){return ae instanceof Date&&!isNaN(ae)}(ae)?+ae-ye.now():ae;ue<0&&(ue=0);let pe=0;return ye.schedule(function(){oe.closed||(oe.next(pe++),0<=Se?this.schedule(void 0,Se):oe.complete())},ue)})}},5403:(gn,ot,y)=>{y.d(ot,{x:()=>C});var l=y(930);function C(X,B,ae,W,ye){return new p(X,B,ae,W,ye)}class p extends l.Lv{constructor(B,ae,W,ye,Se,oe){super(B),this.onFinalize=Se,this.shouldUnsubscribe=oe,this._next=ae?function(ue){try{ae(ue)}catch(pe){B.error(pe)}}:super._next,this._error=ye?function(ue){try{ye(ue)}catch(pe){B.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(ue){B.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}}},262:(gn,ot,y)=>{y.d(ot,{K:()=>X});var l=y(8421),C=y(5403),p=y(4482);function X(B){return(0,p.e)((ae,W)=>{let oe,ye=null,Se=!1;ye=ae.subscribe((0,C.x)(W,void 0,void 0,ue=>{oe=(0,l.Xf)(B(ue,X(B)(ae))),ye?(ye.unsubscribe(),ye=null,oe.subscribe(W)):Se=!0})),Se&&(ye.unsubscribe(),ye=null,oe.subscribe(W))})}},4351:(gn,ot,y)=>{y.d(ot,{b:()=>p});var l=y(5577),C=y(576);function p(X,B){return(0,C.m)(B)?(0,l.z)(X,B,1):(0,l.z)(X,1)}},8372:(gn,ot,y)=>{y.d(ot,{b:()=>X});var l=y(4986),C=y(4482),p=y(5403);function X(B,ae=l.z){return(0,C.e)((W,ye)=>{let Se=null,oe=null,ue=null;const pe=()=>{if(Se){Se.unsubscribe(),Se=null;const Pe=oe;oe=null,ye.next(Pe)}};function Le(){const Pe=ue+B,et=ae.now();if(et<Pe)return Se=this.schedule(void 0,Pe-et),void ye.add(Se);pe()}W.subscribe((0,p.x)(ye,Pe=>{oe=Pe,ue=ae.now(),Se||(Se=ae.schedule(Le,B),ye.add(Se))},()=>{pe(),ye.complete()},void 0,()=>{oe=Se=null}))})}},6590:(gn,ot,y)=>{y.d(ot,{d:()=>p});var l=y(4482),C=y(5403);function p(X){return(0,l.e)((B,ae)=>{let W=!1;B.subscribe((0,C.x)(ae,ye=>{W=!0,ae.next(ye)},()=>{W||ae.next(X),ae.complete()}))})}},1884:(gn,ot,y)=>{y.d(ot,{x:()=>X});var l=y(4671),C=y(4482),p=y(5403);function X(ae,W=l.y){return ae=ae??B,(0,C.e)((ye,Se)=>{let oe,ue=!0;ye.subscribe((0,p.x)(Se,pe=>{const Le=W(pe);(ue||!ae(oe,Le))&&(ue=!1,oe=Le,Se.next(pe))}))})}function B(ae,W){return ae===W}},9300:(gn,ot,y)=>{y.d(ot,{h:()=>p});var l=y(4482),C=y(5403);function p(X,B){return(0,l.e)((ae,W)=>{let ye=0;ae.subscribe((0,C.x)(W,Se=>X.call(B,Se,ye++)&&W.next(Se)))})}},8746:(gn,ot,y)=>{y.d(ot,{x:()=>C});var l=y(4482);function C(p){return(0,l.e)((X,B)=>{try{X.subscribe(B)}finally{B.add(p)}})}},590:(gn,ot,y)=>{y.d(ot,{P:()=>W});var l=y(6805),C=y(9300),p=y(5698),X=y(6590),B=y(8068),ae=y(4671);function W(ye,Se){const oe=arguments.length>=2;return ue=>ue.pipe(ye?(0,C.h)((pe,Le)=>ye(pe,Le,ue)):ae.y,(0,p.q)(1),oe?(0,X.d)(Se):(0,B.T)(()=>new l.K))}},4004:(gn,ot,y)=>{y.d(ot,{U:()=>p});var l=y(4482),C=y(5403);function p(X,B){return(0,l.e)((ae,W)=>{let ye=0;ae.subscribe((0,C.x)(W,Se=>{W.next(X.call(B,Se,ye++))}))})}},9718:(gn,ot,y)=>{y.d(ot,{h:()=>C});var l=y(4004);function C(p){return(0,l.U)(()=>p)}},8189:(gn,ot,y)=>{y.d(ot,{J:()=>p});var l=y(5577),C=y(4671);function p(X=1/0){return(0,l.z)(C.y,X)}},5577:(gn,ot,y)=>{y.d(ot,{z:()=>ye});var l=y(4004),C=y(8421),p=y(4482),X=y(9672),B=y(5403),W=y(576);function ye(Se,oe,ue=1/0){return(0,W.m)(oe)?ye((pe,Le)=>(0,l.U)((Pe,et)=>oe(pe,Pe,Le,et))((0,C.Xf)(Se(pe,Le))),ue):("number"==typeof oe&&(ue=oe),(0,p.e)((pe,Le)=>function ae(Se,oe,ue,pe,Le,Pe,et,We){const Ye=[];let $e=0,ke=0,wt=!1;const fe=()=>{wt&&!Ye.length&&!$e&&oe.complete()},we=ge=>$e<pe?me(ge):Ye.push(ge),me=ge=>{Pe&&oe.next(ge),$e++;let Ve=!1;(0,C.Xf)(ue(ge,ke++)).subscribe((0,B.x)(oe,Z=>{Le?.(Z),Pe?we(Z):oe.next(Z)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for($e--;Ye.length&&$e<pe;){const Z=Ye.shift();et?(0,X.f)(oe,et,()=>me(Z)):me(Z)}fe()}catch(Z){oe.error(Z)}}))};return Se.subscribe((0,B.x)(oe,we,()=>{wt=!0,fe()})),()=>{We?.()}}(pe,Le,Se,ue)))}},5363:(gn,ot,y)=>{y.d(ot,{Q:()=>X});var l=y(9672),C=y(4482),p=y(5403);function X(B,ae=0){return(0,C.e)((W,ye)=>{W.subscribe((0,p.x)(ye,Se=>(0,l.f)(ye,B,()=>ye.next(Se),ae),()=>(0,l.f)(ye,B,()=>ye.complete(),ae),Se=>(0,l.f)(ye,B,()=>ye.error(Se),ae)))})}},5026:(gn,ot,y)=>{y.d(ot,{R:()=>X});var l=y(4482),C=y(5403);function X(B,ae){return(0,l.e)(function p(B,ae,W,ye,Se){return(oe,ue)=>{let pe=W,Le=ae,Pe=0;oe.subscribe((0,C.x)(ue,et=>{const We=Pe++;Le=pe?B(Le,et,We):(pe=!0,et),ye&&ue.next(Le)},Se&&(()=>{pe&&ue.next(Le),ue.complete()})))}}(B,ae,arguments.length>=2,!0))}},3099:(gn,ot,y)=>{y.d(ot,{B:()=>B});var l=y(8421),C=y(7579),p=y(930),X=y(4482);function B(W={}){const{connector:ye=(()=>new C.x),resetOnError:Se=!0,resetOnComplete:oe=!0,resetOnRefCountZero:ue=!0}=W;return pe=>{let Le,Pe,et,We=0,Ye=!1,$e=!1;const ke=()=>{Pe?.unsubscribe(),Pe=void 0},wt=()=>{ke(),Le=et=void 0,Ye=$e=!1},fe=()=>{const we=Le;wt(),we?.unsubscribe()};return(0,X.e)((we,me)=>{We++,!$e&&!Ye&&ke();const ge=et=et??ye();me.add(()=>{We--,0===We&&!$e&&!Ye&&(Pe=ae(fe,ue))}),ge.subscribe(me),!Le&&We>0&&(Le=new p.Hp({next:Ve=>ge.next(Ve),error:Ve=>{$e=!0,ke(),Pe=ae(wt,Se,Ve),ge.error(Ve)},complete:()=>{Ye=!0,ke(),Pe=ae(wt,oe),ge.complete()}}),(0,l.Xf)(we).subscribe(Le))})(pe)}}function ae(W,ye,...Se){if(!0===ye)return void W();if(!1===ye)return;const oe=new p.Hp({next:()=>{oe.unsubscribe(),W()}});return(0,l.Xf)(ye(...Se)).subscribe(oe)}},5684:(gn,ot,y)=>{y.d(ot,{T:()=>C});var l=y(9300);function C(p){return(0,l.h)((X,B)=>p<=B)}},8675:(gn,ot,y)=>{y.d(ot,{O:()=>X});var l=y(7272),C=y(3269),p=y(4482);function X(...B){const ae=(0,C.yG)(B);return(0,p.e)((W,ye)=>{(ae?(0,l.z)(B,W,ae):(0,l.z)(B,W)).subscribe(ye)})}},9468:(gn,ot,y)=>{y.d(ot,{R:()=>C});var l=y(4482);function C(p,X=0){return(0,l.e)((B,ae)=>{ae.add(p.schedule(()=>B.subscribe(ae),X))})}},3900:(gn,ot,y)=>{y.d(ot,{w:()=>X});var l=y(8421),C=y(4482),p=y(5403);function X(B,ae){return(0,C.e)((W,ye)=>{let Se=null,oe=0,ue=!1;const pe=()=>ue&&!Se&&ye.complete();W.subscribe((0,p.x)(ye,Le=>{Se?.unsubscribe();let Pe=0;const et=oe++;(0,l.Xf)(B(Le,et)).subscribe(Se=(0,p.x)(ye,We=>ye.next(ae?ae(Le,We,et,Pe++):We),()=>{Se=null,pe()}))},()=>{ue=!0,pe()}))})}},5698:(gn,ot,y)=>{y.d(ot,{q:()=>X});var l=y(515),C=y(4482),p=y(5403);function X(B){return B<=0?()=>l.E:(0,C.e)((ae,W)=>{let ye=0;ae.subscribe((0,p.x)(W,Se=>{++ye<=B&&(W.next(Se),B<=ye&&W.complete())}))})}},2722:(gn,ot,y)=>{y.d(ot,{R:()=>B});var l=y(4482),C=y(5403),p=y(8421),X=y(5032);function B(ae){return(0,l.e)((W,ye)=>{(0,p.Xf)(ae).subscribe((0,C.x)(ye,()=>ye.complete(),X.Z)),!ye.closed&&W.subscribe(ye)})}},8505:(gn,ot,y)=>{y.d(ot,{b:()=>B});var l=y(576),C=y(4482),p=y(5403),X=y(4671);function B(ae,W,ye){const Se=(0,l.m)(ae)||W||ye?{next:ae,error:W,complete:ye}:ae;return Se?(0,C.e)((oe,ue)=>{var pe;null===(pe=Se.subscribe)||void 0===pe||pe.call(Se);let Le=!0;oe.subscribe((0,p.x)(ue,Pe=>{var et;null===(et=Se.next)||void 0===et||et.call(Se,Pe),ue.next(Pe)},()=>{var Pe;Le=!1,null===(Pe=Se.complete)||void 0===Pe||Pe.call(Se),ue.complete()},Pe=>{var et;Le=!1,null===(et=Se.error)||void 0===et||et.call(Se,Pe),ue.error(Pe)},()=>{var Pe,et;Le&&(null===(Pe=Se.unsubscribe)||void 0===Pe||Pe.call(Se)),null===(et=Se.finalize)||void 0===et||et.call(Se)}))}):X.y}},8068:(gn,ot,y)=>{y.d(ot,{T:()=>X});var l=y(6805),C=y(4482),p=y(5403);function X(ae=B){return(0,C.e)((W,ye)=>{let Se=!1;W.subscribe((0,p.x)(ye,oe=>{Se=!0,ye.next(oe)},()=>Se?ye.complete():ye.error(ae())))})}function B(){return new l.K}},4408:(gn,ot,y)=>{y.d(ot,{o:()=>B});var l=y(727);class C extends l.w0{constructor(W,ye){super()}schedule(W,ye=0){return this}}const p={setInterval(ae,W,...ye){const{delegate:Se}=p;return Se?.setInterval?Se.setInterval(ae,W,...ye):setInterval(ae,W,...ye)},clearInterval(ae){const{delegate:W}=p;return(W?.clearInterval||clearInterval)(ae)},delegate:void 0};var X=y(8737);class B extends C{constructor(W,ye){super(W,ye),this.scheduler=W,this.work=ye,this.pending=!1}schedule(W,ye=0){var Se;if(this.closed)return this;this.state=W;const oe=this.id,ue=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(ue,oe,ye)),this.pending=!0,this.delay=ye,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(ue,this.id,ye),this}requestAsyncId(W,ye,Se=0){return p.setInterval(W.flush.bind(W,this),Se)}recycleAsyncId(W,ye,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return ye;null!=ye&&p.clearInterval(ye)}execute(W,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(W,ye);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,ye){let oe,Se=!1;try{this.work(W)}catch(ue){Se=!0,oe=ue||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:W,scheduler:ye}=this,{actions:Se}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(Se,this),null!=W&&(this.id=this.recycleAsyncId(ye,W,null)),this.delay=null,super.unsubscribe()}}}},7565:(gn,ot,y)=>{y.d(ot,{v:()=>p});var l=y(6063);class C{constructor(B,ae=C.now){this.schedulerActionCtor=B,this.now=ae}schedule(B,ae=0,W){return new this.schedulerActionCtor(this,B).schedule(W,ae)}}C.now=l.l.now;class p extends C{constructor(B,ae=C.now){super(B,ae),this.actions=[],this._active=!1}flush(B){const{actions:ae}=this;if(this._active)return void ae.push(B);let W;this._active=!0;do{if(W=B.execute(B.state,B.delay))break}while(B=ae.shift());if(this._active=!1,W){for(;B=ae.shift();)B.unsubscribe();throw W}}}},3101:(gn,ot,y)=>{y.d(ot,{E:()=>Pe});var l=y(4408);let p,C=1;const X={};function B(We){return We in X&&(delete X[We],!0)}const ae={setImmediate(We){const Ye=C++;return X[Ye]=!0,p||(p=Promise.resolve()),p.then(()=>B(Ye)&&We()),Ye},clearImmediate(We){B(We)}},{setImmediate:ye,clearImmediate:Se}=ae,oe={setImmediate(...We){const{delegate:Ye}=oe;return(Ye?.setImmediate||ye)(...We)},clearImmediate(We){const{delegate:Ye}=oe;return(Ye?.clearImmediate||Se)(We)},delegate:void 0};var pe=y(7565);const Pe=new class Le extends pe.v{flush(Ye){this._active=!0;const $e=this._scheduled;this._scheduled=void 0;const{actions:ke}=this;let wt;Ye=Ye||ke.shift();do{if(wt=Ye.execute(Ye.state,Ye.delay))break}while((Ye=ke[0])&&Ye.id===$e&&ke.shift());if(this._active=!1,wt){for(;(Ye=ke[0])&&Ye.id===$e&&ke.shift();)Ye.unsubscribe();throw wt}}}(class ue extends l.o{constructor(Ye,$e){super(Ye,$e),this.scheduler=Ye,this.work=$e}requestAsyncId(Ye,$e,ke=0){return null!==ke&&ke>0?super.requestAsyncId(Ye,$e,ke):(Ye.actions.push(this),Ye._scheduled||(Ye._scheduled=oe.setImmediate(Ye.flush.bind(Ye,void 0))))}recycleAsyncId(Ye,$e,ke=0){var wt;if(null!=ke?ke>0:this.delay>0)return super.recycleAsyncId(Ye,$e,ke);const{actions:fe}=Ye;null!=$e&&(null===(wt=fe[fe.length-1])||void 0===wt?void 0:wt.id)!==$e&&(oe.clearImmediate($e),Ye._scheduled===$e&&(Ye._scheduled=void 0))}})},4986:(gn,ot,y)=>{y.d(ot,{P:()=>X,z:()=>p});var l=y(4408);const p=new(y(7565).v)(l.o),X=p},6063:(gn,ot,y)=>{y.d(ot,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(gn,ot,y)=>{y.d(ot,{z:()=>l});const l={setTimeout(C,p,...X){const{delegate:B}=l;return B?.setTimeout?B.setTimeout(C,p,...X):setTimeout(C,p,...X)},clearTimeout(C){const{delegate:p}=l;return(p?.clearTimeout||clearTimeout)(C)},delegate:void 0}},2202:(gn,ot,y)=>{y.d(ot,{h:()=>C});const C=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gn,ot,y)=>{y.d(ot,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(gn,ot,y)=>{y.d(ot,{K:()=>C});const C=(0,y(3888).d)(p=>function(){p(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(gn,ot,y)=>{y.d(ot,{_6:()=>ae,jO:()=>X,yG:()=>B});var l=y(576),C=y(3532);function p(W){return W[W.length-1]}function X(W){return(0,l.m)(p(W))?W.pop():void 0}function B(W){return(0,C.K)(p(W))?W.pop():void 0}function ae(W,ye){return"number"==typeof p(W)?W.pop():ye}},4742:(gn,ot,y)=>{y.d(ot,{D:()=>B});const{isArray:l}=Array,{getPrototypeOf:C,prototype:p,keys:X}=Object;function B(W){if(1===W.length){const ye=W[0];if(l(ye))return{args:ye,keys:null};if(function ae(W){return W&&"object"==typeof W&&C(W)===p}(ye)){const Se=X(ye);return{args:Se.map(oe=>ye[oe]),keys:Se}}}return{args:W,keys:null}}},8737:(gn,ot,y)=>{function l(C,p){if(C){const X=C.indexOf(p);0<=X&&C.splice(X,1)}}y.d(ot,{P:()=>l})},3888:(gn,ot,y)=>{function l(C){const X=C(B=>{Error.call(B),B.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}y.d(ot,{d:()=>l})},1810:(gn,ot,y)=>{function l(C,p){return C.reduce((X,B,ae)=>(X[B]=p[ae],X),{})}y.d(ot,{n:()=>l})},2806:(gn,ot,y)=>{y.d(ot,{O:()=>X,x:()=>p});var l=y(2416);let C=null;function p(B){if(l.config.useDeprecatedSynchronousErrorHandling){const ae=!C;if(ae&&(C={errorThrown:!1,error:null}),B(),ae){const{errorThrown:W,error:ye}=C;if(C=null,W)throw ye}}else B()}function X(B){l.config.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=B)}},9672:(gn,ot,y)=>{function l(C,p,X,B=0,ae=!1){const W=p.schedule(function(){X(),ae?C.add(this.schedule(null,B)):this.unsubscribe()},B);if(C.add(W),!ae)return W}y.d(ot,{f:()=>l})},4671:(gn,ot,y)=>{function l(C){return C}y.d(ot,{y:()=>l})},1144:(gn,ot,y)=>{y.d(ot,{z:()=>l});const l=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(gn,ot,y)=>{y.d(ot,{D:()=>C});var l=y(576);function C(p){return Symbol.asyncIterator&&(0,l.m)(p?.[Symbol.asyncIterator])}},576:(gn,ot,y)=>{function l(C){return"function"==typeof C}y.d(ot,{m:()=>l})},3670:(gn,ot,y)=>{y.d(ot,{c:()=>p});var l=y(8822),C=y(576);function p(X){return(0,C.m)(X[l.L])}},6495:(gn,ot,y)=>{y.d(ot,{T:()=>p});var l=y(2202),C=y(576);function p(X){return(0,C.m)(X?.[l.h])}},8239:(gn,ot,y)=>{y.d(ot,{t:()=>C});var l=y(576);function C(p){return(0,l.m)(p?.then)}},3260:(gn,ot,y)=>{y.d(ot,{L:()=>X,Q:()=>p});var l=y(7582),C=y(576);function p(B){return(0,l.FC)(this,arguments,function*(){const W=B.getReader();try{for(;;){const{value:ye,done:Se}=yield(0,l.qq)(W.read());if(Se)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ye)}}finally{W.releaseLock()}})}function X(B){return(0,C.m)(B?.getReader)}},3532:(gn,ot,y)=>{y.d(ot,{K:()=>C});var l=y(576);function C(p){return p&&(0,l.m)(p.schedule)}},4482:(gn,ot,y)=>{y.d(ot,{A:()=>C,e:()=>p});var l=y(576);function C(X){return(0,l.m)(X?.lift)}function p(X){return B=>{if(C(B))return B.lift(function(ae){try{return X(ae,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(gn,ot,y)=>{y.d(ot,{Z:()=>X});var l=y(4004);const{isArray:C}=Array;function X(B){return(0,l.U)(ae=>function p(B,ae){return C(ae)?B(...ae):B(ae)}(B,ae))}},5032:(gn,ot,y)=>{function l(){}y.d(ot,{Z:()=>l})},9635:(gn,ot,y)=>{y.d(ot,{U:()=>p,z:()=>C});var l=y(4671);function C(...X){return p(X)}function p(X){return 0===X.length?l.y:1===X.length?X[0]:function(ae){return X.reduce((W,ye)=>ye(W),ae)}}},7849:(gn,ot,y)=>{y.d(ot,{h:()=>p});var l=y(2416),C=y(3410);function p(X){C.z.setTimeout(()=>{const{onUnhandledError:B}=l.config;if(!B)throw X;B(X)})}},4532:(gn,ot,y)=>{function l(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}y.d(ot,{z:()=>l})},1591:(gn,ot,y)=>{y.d(ot,{IO:()=>et,LC:()=>C,SB:()=>Se,X$:()=>X,ZE:()=>ke,ZN:()=>$e,_j:()=>l,eR:()=>ue,jt:()=>B,k1:()=>wt,l3:()=>p,oB:()=>ye,pV:()=>Le,ru:()=>ae,vP:()=>W});class l{}class C{}const p="*";function X(fe,we){return{type:7,name:fe,definitions:we,options:{}}}function B(fe,we=null){return{type:4,styles:we,timings:fe}}function ae(fe,we=null){return{type:3,steps:fe,options:we}}function W(fe,we=null){return{type:2,steps:fe,options:we}}function ye(fe){return{type:6,styles:fe,offset:null}}function Se(fe,we,me){return{type:0,name:fe,styles:we,options:me}}function ue(fe,we,me=null){return{type:1,expr:fe,animation:we,options:me}}function Le(fe=null){return{type:9,options:fe}}function et(fe,we,me=null){return{type:11,selector:fe,animation:we,options:me}}function Ye(fe){Promise.resolve().then(fe)}class $e{constructor(we=0,me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ye(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const me="start"==we?this._onStartFns:this._onDoneFns;me.forEach(ge=>ge()),me.length=0}}class ke{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let me=0,ge=0,Ve=0;const Z=this.players.length;0==Z?Ye(()=>this._onFinish()):this.players.forEach(qe=>{qe.onDone(()=>{++me==Z&&this._onFinish()}),qe.onDestroy(()=>{++ge==Z&&this._onDestroy()}),qe.onStart(()=>{++Ve==Z&&this._onStart()})}),this.totalTime=this.players.reduce((qe,je)=>Math.max(qe,je.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const me=we*this.totalTime;this.players.forEach(ge=>{const Ve=ge.totalTime?Math.min(1,me/ge.totalTime):1;ge.setPosition(Ve)})}getPosition(){const we=this.players.reduce((me,ge)=>null===me||ge.totalTime>me.totalTime?ge:me,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const me="start"==we?this._onStartFns:this._onDoneFns;me.forEach(ge=>ge()),me.length=0}}const wt="!"},706:(gn,ot,y)=>{y.d(ot,{Em:()=>vt,X6:()=>he,ic:()=>Bt,kH:()=>hi,qV:()=>Ee,qm:()=>lt,rt:()=>ut,tE:()=>Sn,yG:()=>ze});var l=y(4755),C=y(2223),p=y(2966),X=y(7579),B=y(727),ae=y(1135),W=y(9646),ye=y(2840),Se=y(8505),oe=y(8372),ue=y(9300),pe=y(4004),Le=y(5698),Pe=y(5684),et=y(1884),We=y(2722),Ye=y(1692),$e=y(829),ke=y(5537);class yn{constructor(He){this._items=He,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new X.x,this._typeaheadSubscription=B.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Re=>Re.disabled,this._pressedLetters=[],this.tabOut=new X.x,this.change=new X.x,He instanceof C.n_E&&(this._itemChangesSubscription=He.changes.subscribe(Re=>{if(this._activeItem){const Gt=Re.toArray().indexOf(this._activeItem);Gt>-1&&Gt!==this._activeItemIndex&&(this._activeItemIndex=Gt)}}))}skipPredicate(He){return this._skipPredicateFn=He,this}withWrap(He=!0){return this._wrap=He,this}withVerticalOrientation(He=!0){return this._vertical=He,this}withHorizontalOrientation(He){return this._horizontal=He,this}withAllowedModifierKeys(He){return this._allowedModifierKeys=He,this}withTypeAhead(He=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Se.b)(Re=>this._pressedLetters.push(Re)),(0,oe.b)(He),(0,ue.h)(()=>this._pressedLetters.length>0),(0,pe.U)(()=>this._pressedLetters.join(""))).subscribe(Re=>{const Mt=this._getItemsArray();for(let Gt=1;Gt<Mt.length+1;Gt++){const Be=(this._activeItemIndex+Gt)%Mt.length,le=Mt[Be];if(!this._skipPredicateFn(le)&&0===le.getLabel().toUpperCase().trim().indexOf(Re)){this.setActiveItem(Be);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(He=!0){return this._homeAndEnd=He,this}withPageUpDown(He=!0,Re=10){return this._pageUpAndDown={enabled:He,delta:Re},this}setActiveItem(He){const Re=this._activeItem;this.updateActiveItem(He),this._activeItem!==Re&&this.change.next(this._activeItemIndex)}onKeydown(He){const Re=He.keyCode,Gt=["altKey","ctrlKey","metaKey","shiftKey"].every(Be=>!He[Be]||this._allowedModifierKeys.indexOf(Be)>-1);switch(Re){case ye.Mf:return void this.tabOut.next();case ye.JH:if(this._vertical&&Gt){this.setNextItemActive();break}return;case ye.LH:if(this._vertical&&Gt){this.setPreviousItemActive();break}return;case ye.SV:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ye.oh:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ye.Sd:if(this._homeAndEnd&&Gt){this.setFirstItemActive();break}return;case ye.uR:if(this._homeAndEnd&&Gt){this.setLastItemActive();break}return;case ye.Ku:if(this._pageUpAndDown.enabled&&Gt){const Be=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Be>0?Be:0,1);break}return;case ye.VM:if(this._pageUpAndDown.enabled&&Gt){const Be=this._activeItemIndex+this._pageUpAndDown.delta,le=this._getItemsArray().length;this._setActiveItemByIndex(Be<le?Be:le-1,-1);break}return;default:return void((Gt||(0,ye.Vb)(He,"shiftKey"))&&(He.key&&1===He.key.length?this._letterKeyStream.next(He.key.toLocaleUpperCase()):(Re>=ye.A&&Re<=ye.Z||Re>=ye.xE&&Re<=ye.aO)&&this._letterKeyStream.next(String.fromCharCode(Re))))}this._pressedLetters=[],He.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(He){const Re=this._getItemsArray(),Mt="number"==typeof He?He:Re.indexOf(He);this._activeItem=Re[Mt]??null,this._activeItemIndex=Mt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(He){this._wrap?this._setActiveInWrapMode(He):this._setActiveInDefaultMode(He)}_setActiveInWrapMode(He){const Re=this._getItemsArray();for(let Mt=1;Mt<=Re.length;Mt++){const Gt=(this._activeItemIndex+He*Mt+Re.length)%Re.length;if(!this._skipPredicateFn(Re[Gt]))return void this.setActiveItem(Gt)}}_setActiveInDefaultMode(He){this._setActiveItemByIndex(this._activeItemIndex+He,He)}_setActiveItemByIndex(He,Re){const Mt=this._getItemsArray();if(Mt[He]){for(;this._skipPredicateFn(Mt[He]);)if(!Mt[He+=Re])return;this.setActiveItem(He)}}_getItemsArray(){return this._items instanceof C.n_E?this._items.toArray():this._items}}class vt extends yn{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(He){return this._origin=He,this}setActiveItem(He){super.setActiveItem(He),this.activeItem&&this.activeItem.focus(this._origin)}}let Bt=(()=>{class Ze{constructor(Re){this._platform=Re}isDisabled(Re){return Re.hasAttribute("disabled")}isVisible(Re){return function en(Ze){return!!(Ze.offsetWidth||Ze.offsetHeight||"function"==typeof Ze.getClientRects&&Ze.getClientRects().length)}(Re)&&"visible"===getComputedStyle(Re).visibility}isTabbable(Re){if(!this._platform.isBrowser)return!1;const Mt=function Ht(Ze){try{return Ze.frameElement}catch{return null}}(function nt(Ze){return Ze.ownerDocument&&Ze.ownerDocument.defaultView||window}(Re));if(Mt&&(-1===ct(Mt)||!this.isVisible(Mt)))return!1;let Gt=Re.nodeName.toLowerCase(),Be=ct(Re);return Re.hasAttribute("contenteditable")?-1!==Be:!("iframe"===Gt||"object"===Gt||this._platform.WEBKIT&&this._platform.IOS&&!function Rt(Ze){let He=Ze.nodeName.toLowerCase(),Re="input"===He&&Ze.type;return"text"===Re||"password"===Re||"select"===He||"textarea"===He}(Re))&&("audio"===Gt?!!Re.hasAttribute("controls")&&-1!==Be:"video"===Gt?-1!==Be&&(null!==Be||this._platform.FIREFOX||Re.hasAttribute("controls")):Re.tabIndex>=0)}isFocusable(Re,Mt){return function Et(Ze){return!function sn(Ze){return function on(Ze){return"input"==Ze.nodeName.toLowerCase()}(Ze)&&"hidden"==Ze.type}(Ze)&&(function Yt(Ze){let He=Ze.nodeName.toLowerCase();return"input"===He||"select"===He||"button"===He||"textarea"===He}(Ze)||function bn(Ze){return function Ft(Ze){return"a"==Ze.nodeName.toLowerCase()}(Ze)&&Ze.hasAttribute("href")}(Ze)||Ze.hasAttribute("contenteditable")||Je(Ze))}(Re)&&!this.isDisabled(Re)&&(Mt?.ignoreVisibility||this.isVisible(Re))}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(C.LFG(p.t4))},Ze.\u0275prov=C.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();function Je(Ze){if(!Ze.hasAttribute("tabindex")||void 0===Ze.tabIndex)return!1;let He=Ze.getAttribute("tabindex");return!(!He||isNaN(parseInt(He,10)))}function ct(Ze){if(!Je(Ze))return null;const He=parseInt(Ze.getAttribute("tabindex")||"",10);return isNaN(He)?-1:He}class ft{get enabled(){return this._enabled}set enabled(He){this._enabled=He,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(He,this._startAnchor),this._toggleAnchorTabIndex(He,this._endAnchor))}constructor(He,Re,Mt,Gt,Be=!1){this._element=He,this._checker=Re,this._ngZone=Mt,this._document=Gt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Be||this.attachAnchors()}destroy(){const He=this._startAnchor,Re=this._endAnchor;He&&(He.removeEventListener("focus",this.startAnchorListener),He.remove()),Re&&(Re.removeEventListener("focus",this.endAnchorListener),Re.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(He){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusInitialElement(He)))})}focusFirstTabbableElementWhenReady(He){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusFirstTabbableElement(He)))})}focusLastTabbableElementWhenReady(He){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusLastTabbableElement(He)))})}_getRegionBoundary(He){const Re=this._element.querySelectorAll(`[cdk-focus-region-${He}], [cdkFocusRegion${He}], [cdk-focus-${He}]`);return"start"==He?Re.length?Re[0]:this._getFirstTabbableElement(this._element):Re.length?Re[Re.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(He){const Re=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Re){if(!this._checker.isFocusable(Re)){const Mt=this._getFirstTabbableElement(Re);return Mt?.focus(He),!!Mt}return Re.focus(He),!0}return this.focusFirstTabbableElement(He)}focusFirstTabbableElement(He){const Re=this._getRegionBoundary("start");return Re&&Re.focus(He),!!Re}focusLastTabbableElement(He){const Re=this._getRegionBoundary("end");return Re&&Re.focus(He),!!Re}hasAttached(){return this._hasAttached}_getFirstTabbableElement(He){if(this._checker.isFocusable(He)&&this._checker.isTabbable(He))return He;const Re=He.children;for(let Mt=0;Mt<Re.length;Mt++){const Gt=Re[Mt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Re[Mt]):null;if(Gt)return Gt}return null}_getLastTabbableElement(He){if(this._checker.isFocusable(He)&&this._checker.isTabbable(He))return He;const Re=He.children;for(let Mt=Re.length-1;Mt>=0;Mt--){const Gt=Re[Mt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Re[Mt]):null;if(Gt)return Gt}return null}_createAnchor(){const He=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,He),He.classList.add("cdk-visually-hidden"),He.classList.add("cdk-focus-trap-anchor"),He.setAttribute("aria-hidden","true"),He}_toggleAnchorTabIndex(He,Re){He?Re.setAttribute("tabindex","0"):Re.removeAttribute("tabindex")}toggleAnchors(He){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(He,this._startAnchor),this._toggleAnchorTabIndex(He,this._endAnchor))}_executeOnStable(He){this._ngZone.isStable?He():this._ngZone.onStable.pipe((0,Le.q)(1)).subscribe(He)}}let Ee=(()=>{class Ze{constructor(Re,Mt,Gt){this._checker=Re,this._ngZone=Mt,this._document=Gt}create(Re,Mt=!1){return new ft(Re,this._checker,this._ngZone,this._document,Mt)}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(C.LFG(Bt),C.LFG(C.R0b),C.LFG(l.K0))},Ze.\u0275prov=C.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();function he(Ze){return 0===Ze.buttons||0===Ze.offsetX&&0===Ze.offsetY}function ze(Ze){const He=Ze.touches&&Ze.touches[0]||Ze.changedTouches&&Ze.changedTouches[0];return!(!He||-1!==He.identifier||null!=He.radiusX&&1!==He.radiusX||null!=He.radiusY&&1!==He.radiusY)}const at=new C.OlP("cdk-input-modality-detector-options"),ht={ignoreKeys:[ye.zL,ye.jx,ye.b2,ye.MW,ye.JU]},qt=(0,p.i$)({passive:!0,capture:!0});let cn=(()=>{class Ze{get mostRecentModality(){return this._modality.value}constructor(Re,Mt,Gt,Be){this._platform=Re,this._mostRecentTarget=null,this._modality=new ae.X(null),this._lastTouchMs=0,this._onKeydown=le=>{this._options?.ignoreKeys?.some(z=>z===le.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,p.sA)(le))},this._onMousedown=le=>{Date.now()-this._lastTouchMs<650||(this._modality.next(he(le)?"keyboard":"mouse"),this._mostRecentTarget=(0,p.sA)(le))},this._onTouchstart=le=>{ze(le)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,p.sA)(le))},this._options={...ht,...Be},this.modalityDetected=this._modality.pipe((0,Pe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,et.x)()),Re.isBrowser&&Mt.runOutsideAngular(()=>{Gt.addEventListener("keydown",this._onKeydown,qt),Gt.addEventListener("mousedown",this._onMousedown,qt),Gt.addEventListener("touchstart",this._onTouchstart,qt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qt),document.removeEventListener("mousedown",this._onMousedown,qt),document.removeEventListener("touchstart",this._onTouchstart,qt))}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(C.LFG(p.t4),C.LFG(C.R0b),C.LFG(l.K0),C.LFG(at,8))},Ze.\u0275prov=C.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();const kt=new C.OlP("cdk-focus-monitor-default-options"),Kt=(0,p.i$)({passive:!0,capture:!0});let Sn=(()=>{class Ze{constructor(Re,Mt,Gt,Be,le){this._ngZone=Re,this._platform=Mt,this._inputModalityDetector=Gt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new X.x,this._rootNodeFocusAndBlurListener=z=>{for(let $=(0,p.sA)(z);$;$=$.parentElement)"focus"===z.type?this._onFocus(z,$):this._onBlur(z,$)},this._document=Be,this._detectionMode=le?.detectionMode||0}monitor(Re,Mt=!1){const Gt=(0,Ye.fI)(Re);if(!this._platform.isBrowser||1!==Gt.nodeType)return(0,W.of)(null);const Be=(0,p.kV)(Gt)||this._getDocument(),le=this._elementInfo.get(Gt);if(le)return Mt&&(le.checkChildren=!0),le.subject;const z={checkChildren:Mt,subject:new X.x,rootNode:Be};return this._elementInfo.set(Gt,z),this._registerGlobalListeners(z),z.subject}stopMonitoring(Re){const Mt=(0,Ye.fI)(Re),Gt=this._elementInfo.get(Mt);Gt&&(Gt.subject.complete(),this._setClasses(Mt),this._elementInfo.delete(Mt),this._removeGlobalListeners(Gt))}focusVia(Re,Mt,Gt){const Be=(0,Ye.fI)(Re);Be===this._getDocument().activeElement?this._getClosestElementsInfo(Be).forEach(([z,j])=>this._originChanged(z,Mt,j)):(this._setOrigin(Mt),"function"==typeof Be.focus&&Be.focus(Gt))}ngOnDestroy(){this._elementInfo.forEach((Re,Mt)=>this.stopMonitoring(Mt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Re){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Re)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Re&&this._isLastInteractionFromInputLabel(Re)?"mouse":"program"}_shouldBeAttributedToTouch(Re){return 1===this._detectionMode||!!Re?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Re,Mt){Re.classList.toggle("cdk-focused",!!Mt),Re.classList.toggle("cdk-touch-focused","touch"===Mt),Re.classList.toggle("cdk-keyboard-focused","keyboard"===Mt),Re.classList.toggle("cdk-mouse-focused","mouse"===Mt),Re.classList.toggle("cdk-program-focused","program"===Mt)}_setOrigin(Re,Mt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Re,this._originFromTouchInteraction="touch"===Re&&Mt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Re,Mt){const Gt=this._elementInfo.get(Mt),Be=(0,p.sA)(Re);!Gt||!Gt.checkChildren&&Mt!==Be||this._originChanged(Mt,this._getFocusOrigin(Be),Gt)}_onBlur(Re,Mt){const Gt=this._elementInfo.get(Mt);!Gt||Gt.checkChildren&&Re.relatedTarget instanceof Node&&Mt.contains(Re.relatedTarget)||(this._setClasses(Mt),this._emitOrigin(Gt,null))}_emitOrigin(Re,Mt){Re.subject.observers.length&&this._ngZone.run(()=>Re.subject.next(Mt))}_registerGlobalListeners(Re){if(!this._platform.isBrowser)return;const Mt=Re.rootNode,Gt=this._rootNodeFocusListenerCount.get(Mt)||0;Gt||this._ngZone.runOutsideAngular(()=>{Mt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kt),Mt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kt)}),this._rootNodeFocusListenerCount.set(Mt,Gt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,We.R)(this._stopInputModalityDetector)).subscribe(Be=>{this._setOrigin(Be,!0)}))}_removeGlobalListeners(Re){const Mt=Re.rootNode;if(this._rootNodeFocusListenerCount.has(Mt)){const Gt=this._rootNodeFocusListenerCount.get(Mt);Gt>1?this._rootNodeFocusListenerCount.set(Mt,Gt-1):(Mt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kt),Mt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kt),this._rootNodeFocusListenerCount.delete(Mt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Re,Mt,Gt){this._setClasses(Re,Mt),this._emitOrigin(Gt,Mt),this._lastFocusOrigin=Mt}_getClosestElementsInfo(Re){const Mt=[];return this._elementInfo.forEach((Gt,Be)=>{(Be===Re||Gt.checkChildren&&Be.contains(Re))&&Mt.push([Be,Gt])}),Mt}_isLastInteractionFromInputLabel(Re){const{_mostRecentTarget:Mt,mostRecentModality:Gt}=this._inputModalityDetector;if("mouse"!==Gt||!Mt||Mt===Re||"INPUT"!==Re.nodeName&&"TEXTAREA"!==Re.nodeName||Re.disabled)return!1;const Be=Re.labels;if(Be)for(let le=0;le<Be.length;le++)if(Be[le].contains(Mt))return!0;return!1}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(C.LFG(C.R0b),C.LFG(p.t4),C.LFG(cn),C.LFG(l.K0,8),C.LFG(kt,8))},Ze.\u0275prov=C.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),hi=(()=>{class Ze{constructor(Re,Mt){this._elementRef=Re,this._focusMonitor=Mt,this._focusOrigin=null,this.cdkFocusChange=new C.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Re=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Re,1===Re.nodeType&&Re.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Mt=>{this._focusOrigin=Mt,this.cdkFocusChange.emit(Mt)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(C.Y36(C.SBq),C.Y36(Sn))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),Ze})();const Ei="cdk-high-contrast-black-on-white",gi="cdk-high-contrast-white-on-black",Xt="cdk-high-contrast-active";let lt=(()=>{class Ze{constructor(Re,Mt){this._platform=Re,this._document=Mt,this._breakpointSubscription=(0,C.f3M)(ke.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Re=this._document.createElement("div");Re.style.backgroundColor="rgb(1,2,3)",Re.style.position="absolute",this._document.body.appendChild(Re);const Mt=this._document.defaultView||window,Gt=Mt&&Mt.getComputedStyle?Mt.getComputedStyle(Re):null,Be=(Gt&&Gt.backgroundColor||"").replace(/ /g,"");switch(Re.remove(),Be){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Re=this._document.body.classList;Re.remove(Xt,Ei,gi),this._hasCheckedHighContrastMode=!0;const Mt=this.getHighContrastMode();1===Mt?Re.add(Xt,Ei):2===Mt&&Re.add(Xt,gi)}}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(C.LFG(p.t4),C.LFG(l.K0))},Ze.\u0275prov=C.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),ut=(()=>{class Ze{constructor(Re){Re._applyBodyHighContrastModeCssClasses()}}return Ze.\u0275fac=function(Re){return new(Re||Ze)(C.LFG(lt))},Ze.\u0275mod=C.oAB({type:Ze}),Ze.\u0275inj=C.cJS({imports:[$e.Q8]}),Ze})()},8930:(gn,ot,y)=>{y.d(ot,{Is:()=>W,vT:()=>Se});var l=y(2223),C=y(4755);const p=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function X(){return(0,l.f3M)(C.K0)}}),B=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let W=(()=>{class oe{constructor(pe){this.value="ltr",this.change=new l.vpe,pe&&(this.value=function ae(oe){const ue=oe?.toLowerCase()||"";return"auto"===ue&&typeof navigator<"u"&&navigator?.language?B.test(navigator.language)?"rtl":"ltr":"rtl"===ue?"rtl":"ltr"}((pe.body?pe.body.dir:null)||(pe.documentElement?pe.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return oe.\u0275fac=function(pe){return new(pe||oe)(l.LFG(p,8))},oe.\u0275prov=l.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Se=(()=>{class oe{}return oe.\u0275fac=function(pe){return new(pe||oe)},oe.\u0275mod=l.oAB({type:oe}),oe.\u0275inj=l.cJS({}),oe})()},1692:(gn,ot,y)=>{y.d(ot,{Eq:()=>B,HM:()=>ae,Ig:()=>C,fI:()=>W,su:()=>p});var l=y(2223);function C(Se){return null!=Se&&"false"!=`${Se}`}function p(Se,oe=0){return function X(Se){return!isNaN(parseFloat(Se))&&!isNaN(Number(Se))}(Se)?Number(Se):oe}function B(Se){return Array.isArray(Se)?Se:[Se]}function ae(Se){return null==Se?"":"string"==typeof Se?Se:`${Se}px`}function W(Se){return Se instanceof l.SBq?Se.nativeElement:Se}},3223:(gn,ot,y)=>{y.d(ot,{LL:()=>We,Su:()=>Z,Vq:()=>ge,ib:()=>Pe});var l=y(706),C=y(9002),p=y(2966),X=y(8023),B=y(4755),ae=y(2223),W=y(2840),ye=y(7579),Se=y(9770),oe=y(9646),ue=y(8930),pe=y(8675);function Le(qe,je){}class Pe{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let We=(()=>{class qe extends X.en{constructor(Xe,Ct,yn,An,vt,bt,Bt,Ht){super(),this._elementRef=Xe,this._focusTrapFactory=Ct,this._config=An,this._interactivityChecker=vt,this._ngZone=bt,this._overlayRef=Bt,this._focusMonitor=Ht,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=en=>{this._portalOutlet.hasAttached();const Yt=this._portalOutlet.attachDomPortal(en);return this._contentAttached(),Yt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=yn}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Xe){this._portalOutlet.hasAttached();const Ct=this._portalOutlet.attachComponentPortal(Xe);return this._contentAttached(),Ct}attachTemplatePortal(Xe){this._portalOutlet.hasAttached();const Ct=this._portalOutlet.attachTemplatePortal(Xe);return this._contentAttached(),Ct}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Xe,Ct){this._interactivityChecker.isFocusable(Xe)||(Xe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const yn=()=>{Xe.removeEventListener("blur",yn),Xe.removeEventListener("mousedown",yn),Xe.removeAttribute("tabindex")};Xe.addEventListener("blur",yn),Xe.addEventListener("mousedown",yn)})),Xe.focus(Ct)}_focusByCssSelector(Xe,Ct){let yn=this._elementRef.nativeElement.querySelector(Xe);yn&&this._forceFocus(yn,Ct)}_trapFocus(){const Xe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Xe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Ct=>{Ct||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Xe=this._config.restoreFocus;let Ct=null;if("string"==typeof Xe?Ct=this._document.querySelector(Xe):"boolean"==typeof Xe?Ct=Xe?this._elementFocusedBeforeDialogWasOpened:null:Xe&&(Ct=Xe),this._config.restoreFocus&&Ct&&"function"==typeof Ct.focus){const yn=(0,p.ht)(),An=this._elementRef.nativeElement;(!yn||yn===this._document.body||yn===An||An.contains(yn))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ct,this._closeInteractionType),this._closeInteractionType=null):Ct.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Xe=this._elementRef.nativeElement,Ct=(0,p.ht)();return Xe===Ct||Xe.contains(Ct)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,p.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return qe.\u0275fac=function(Xe){return new(Xe||qe)(ae.Y36(ae.SBq),ae.Y36(l.qV),ae.Y36(B.K0,8),ae.Y36(Pe),ae.Y36(l.ic),ae.Y36(ae.R0b),ae.Y36(C.Iu),ae.Y36(l.tE))},qe.\u0275cmp=ae.Xpm({type:qe,selectors:[["cdk-dialog-container"]],viewQuery:function(Xe,Ct){if(1&Xe&&ae.Gf(X.Pl,7),2&Xe){let yn;ae.iGM(yn=ae.CRH())&&(Ct._portalOutlet=yn.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Xe,Ct){2&Xe&&ae.uIk("id",Ct._config.id||null)("role",Ct._config.role)("aria-modal",Ct._config.ariaModal)("aria-labelledby",Ct._config.ariaLabel?null:Ct._ariaLabelledBy)("aria-label",Ct._config.ariaLabel)("aria-describedby",Ct._config.ariaDescribedBy||null)},features:[ae.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Xe,Ct){1&Xe&&ae.YNc(0,Le,0,0,"ng-template",0)},dependencies:[X.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),qe})();class Ye{constructor(je,Xe){this.overlayRef=je,this.config=Xe,this.closed=new ye.x,this.disableClose=Xe.disableClose,this.backdropClick=je.backdropClick(),this.keydownEvents=je.keydownEvents(),this.outsidePointerEvents=je.outsidePointerEvents(),this.id=Xe.id,this.keydownEvents.subscribe(Ct=>{Ct.keyCode===W.hY&&!this.disableClose&&!(0,W.Vb)(Ct)&&(Ct.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=je.detachments().subscribe(()=>{!1!==Xe.closeOnOverlayDetachments&&this.close()})}close(je,Xe){if(this.containerInstance){const Ct=this.closed;this.containerInstance._closeInteractionType=Xe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Ct.next(je),Ct.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(je="",Xe=""){return this.overlayRef.updateSize({width:je,height:Xe}),this}addPanelClass(je){return this.overlayRef.addPanelClass(je),this}removePanelClass(je){return this.overlayRef.removePanelClass(je),this}}const $e=new ae.OlP("DialogScrollStrategy"),ke=new ae.OlP("DialogData"),wt=new ae.OlP("DefaultDialogConfig"),we={provide:$e,deps:[C.aV],useFactory:function fe(qe){return()=>qe.scrollStrategies.block()}};let me=0,ge=(()=>{class qe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Xe,Ct,yn,An,vt,bt){this._overlay=Xe,this._injector=Ct,this._defaultOptions=yn,this._parentDialog=An,this._overlayContainer=vt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ye.x,this._afterOpenedAtThisLevel=new ye.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Se.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,pe.O)(void 0))),this._scrollStrategy=bt}open(Xe,Ct){(Ct={...this._defaultOptions||new Pe,...Ct}).id=Ct.id||"cdk-dialog-"+me++,Ct.id&&this.getDialogById(Ct.id);const An=this._getOverlayConfig(Ct),vt=this._overlay.create(An),bt=new Ye(vt,Ct),Bt=this._attachContainer(vt,bt,Ct);return bt.containerInstance=Bt,this._attachDialogContent(Xe,bt,Bt,Ct),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(bt),bt.closed.subscribe(()=>this._removeOpenDialog(bt,!0)),this.afterOpened.next(bt),bt}closeAll(){Ve(this.openDialogs,Xe=>Xe.close())}getDialogById(Xe){return this.openDialogs.find(Ct=>Ct.id===Xe)}ngOnDestroy(){Ve(this._openDialogsAtThisLevel,Xe=>{!1===Xe.config.closeOnDestroy&&this._removeOpenDialog(Xe,!1)}),Ve(this._openDialogsAtThisLevel,Xe=>Xe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Xe){const Ct=new C.X_({positionStrategy:Xe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Xe.scrollStrategy||this._scrollStrategy(),panelClass:Xe.panelClass,hasBackdrop:Xe.hasBackdrop,direction:Xe.direction,minWidth:Xe.minWidth,minHeight:Xe.minHeight,maxWidth:Xe.maxWidth,maxHeight:Xe.maxHeight,width:Xe.width,height:Xe.height,disposeOnNavigation:Xe.closeOnNavigation});return Xe.backdropClass&&(Ct.backdropClass=Xe.backdropClass),Ct}_attachContainer(Xe,Ct,yn){const An=yn.injector||yn.viewContainerRef?.injector,vt=[{provide:Pe,useValue:yn},{provide:Ye,useValue:Ct},{provide:C.Iu,useValue:Xe}];let bt;yn.container?"function"==typeof yn.container?bt=yn.container:(bt=yn.container.type,vt.push(...yn.container.providers(yn))):bt=We;const Bt=new X.C5(bt,yn.viewContainerRef,ae.zs3.create({parent:An||this._injector,providers:vt}),yn.componentFactoryResolver);return Xe.attach(Bt).instance}_attachDialogContent(Xe,Ct,yn,An){if(Xe instanceof ae.Rgc){const vt=this._createInjector(An,Ct,yn,void 0);let bt={$implicit:An.data,dialogRef:Ct};An.templateContext&&(bt={...bt,..."function"==typeof An.templateContext?An.templateContext():An.templateContext}),yn.attachTemplatePortal(new X.UE(Xe,null,bt,vt))}else{const vt=this._createInjector(An,Ct,yn,this._injector),bt=yn.attachComponentPortal(new X.C5(Xe,An.viewContainerRef,vt,An.componentFactoryResolver));Ct.componentInstance=bt.instance}}_createInjector(Xe,Ct,yn,An){const vt=Xe.injector||Xe.viewContainerRef?.injector,bt=[{provide:ke,useValue:Xe.data},{provide:Ye,useValue:Ct}];return Xe.providers&&("function"==typeof Xe.providers?bt.push(...Xe.providers(Ct,Xe,yn)):bt.push(...Xe.providers)),Xe.direction&&(!vt||!vt.get(ue.Is,null,{optional:!0}))&&bt.push({provide:ue.Is,useValue:{value:Xe.direction,change:(0,oe.of)()}}),ae.zs3.create({parent:vt||An,providers:bt})}_removeOpenDialog(Xe,Ct){const yn=this.openDialogs.indexOf(Xe);yn>-1&&(this.openDialogs.splice(yn,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((An,vt)=>{An?vt.setAttribute("aria-hidden",An):vt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Ct&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Xe=this._overlayContainer.getContainerElement();if(Xe.parentElement){const Ct=Xe.parentElement.children;for(let yn=Ct.length-1;yn>-1;yn--){const An=Ct[yn];An!==Xe&&"SCRIPT"!==An.nodeName&&"STYLE"!==An.nodeName&&!An.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(An,An.getAttribute("aria-hidden")),An.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Xe=this._parentDialog;return Xe?Xe._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return qe.\u0275fac=function(Xe){return new(Xe||qe)(ae.LFG(C.aV),ae.LFG(ae.zs3),ae.LFG(wt,8),ae.LFG(qe,12),ae.LFG(C.Xj),ae.LFG($e))},qe.\u0275prov=ae.Yz7({token:qe,factory:qe.\u0275fac}),qe})();function Ve(qe,je){let Xe=qe.length;for(;Xe--;)je(qe[Xe])}let Z=(()=>{class qe{}return qe.\u0275fac=function(Xe){return new(Xe||qe)},qe.\u0275mod=ae.oAB({type:qe}),qe.\u0275inj=ae.cJS({providers:[ge,we],imports:[C.U8,X.eL,l.rt,X.eL]}),qe})()},2840:(gn,ot,y)=>{y.d(ot,{A:()=>sn,JH:()=>wt,JU:()=>ae,K5:()=>B,Ku:()=>Le,LH:()=>$e,L_:()=>pe,MW:()=>En,Mf:()=>p,SV:()=>ke,Sd:()=>We,VM:()=>Pe,Vb:()=>Yr,Z:()=>ri,aO:()=>bt,b2:()=>po,hY:()=>ue,jx:()=>W,oh:()=>Ye,uR:()=>et,xE:()=>Ve,zL:()=>ye});const p=9,B=13,ae=16,W=17,ye=18,ue=27,pe=32,Le=33,Pe=34,et=35,We=36,Ye=37,$e=38,ke=39,wt=40,Ve=48,bt=57,sn=65,ri=90,En=91,po=224;function Yr(er,...uo){return uo.length?uo.some(jr=>er[jr]):er.altKey||er.shiftKey||er.ctrlKey||er.metaKey}},5537:(gn,ot,y)=>{y.d(ot,{Yg:()=>wt,u3:()=>we});var l=y(2223),C=y(1692),p=y(7579),X=y(9841),B=y(7272),ae=y(9751),W=y(5698),ye=y(5684),Se=y(8372),oe=y(4004),ue=y(8675),pe=y(2722),Le=y(2966);const et=new Set;let We,Ye=(()=>{class me{constructor(Ve,Z){this._platform=Ve,this._nonce=Z,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ke}matchMedia(Ve){return(this._platform.WEBKIT||this._platform.BLINK)&&function $e(me,ge){if(!et.has(me))try{We||(We=document.createElement("style"),ge&&(We.nonce=ge),We.setAttribute("type","text/css"),document.head.appendChild(We)),We.sheet&&(We.sheet.insertRule(`@media ${me} {body{ }}`,0),et.add(me))}catch(Ve){console.error(Ve)}}(Ve,this._nonce),this._matchMedia(Ve)}}return me.\u0275fac=function(Ve){return new(Ve||me)(l.LFG(Le.t4),l.LFG(l.Ojb,8))},me.\u0275prov=l.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();function ke(me){return{matches:"all"===me||""===me,media:me,addListener:()=>{},removeListener:()=>{}}}let wt=(()=>{class me{constructor(Ve,Z){this._mediaMatcher=Ve,this._zone=Z,this._queries=new Map,this._destroySubject=new p.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ve){return fe((0,C.Eq)(Ve)).some(qe=>this._registerQuery(qe).mql.matches)}observe(Ve){const qe=fe((0,C.Eq)(Ve)).map(Xe=>this._registerQuery(Xe).observable);let je=(0,X.a)(qe);return je=(0,B.z)(je.pipe((0,W.q)(1)),je.pipe((0,ye.T)(1),(0,Se.b)(0))),je.pipe((0,oe.U)(Xe=>{const Ct={matches:!1,breakpoints:{}};return Xe.forEach(({matches:yn,query:An})=>{Ct.matches=Ct.matches||yn,Ct.breakpoints[An]=yn}),Ct}))}_registerQuery(Ve){if(this._queries.has(Ve))return this._queries.get(Ve);const Z=this._mediaMatcher.matchMedia(Ve),je={observable:new ae.y(Xe=>{const Ct=yn=>this._zone.run(()=>Xe.next(yn));return Z.addListener(Ct),()=>{Z.removeListener(Ct)}}).pipe((0,ue.O)(Z),(0,oe.U)(({matches:Xe})=>({query:Ve,matches:Xe})),(0,pe.R)(this._destroySubject)),mql:Z};return this._queries.set(Ve,je),je}}return me.\u0275fac=function(Ve){return new(Ve||me)(l.LFG(Ye),l.LFG(l.R0b))},me.\u0275prov=l.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();function fe(me){return me.map(ge=>ge.split(",")).reduce((ge,Ve)=>ge.concat(Ve)).map(ge=>ge.trim())}const we={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},829:(gn,ot,y)=>{y.d(ot,{Q8:()=>Se,wD:()=>ye});var l=y(1692),C=y(2223),p=y(9751),X=y(7579),B=y(8372);let ae=(()=>{class oe{create(pe){return typeof MutationObserver>"u"?null:new MutationObserver(pe)}}return oe.\u0275fac=function(pe){return new(pe||oe)},oe.\u0275prov=C.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),W=(()=>{class oe{constructor(pe){this._mutationObserverFactory=pe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((pe,Le)=>this._cleanupObserver(Le))}observe(pe){const Le=(0,l.fI)(pe);return new p.y(Pe=>{const We=this._observeElement(Le).subscribe(Pe);return()=>{We.unsubscribe(),this._unobserveElement(Le)}})}_observeElement(pe){if(this._observedElements.has(pe))this._observedElements.get(pe).count++;else{const Le=new X.x,Pe=this._mutationObserverFactory.create(et=>Le.next(et));Pe&&Pe.observe(pe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(pe,{observer:Pe,stream:Le,count:1})}return this._observedElements.get(pe).stream}_unobserveElement(pe){this._observedElements.has(pe)&&(this._observedElements.get(pe).count--,this._observedElements.get(pe).count||this._cleanupObserver(pe))}_cleanupObserver(pe){if(this._observedElements.has(pe)){const{observer:Le,stream:Pe}=this._observedElements.get(pe);Le&&Le.disconnect(),Pe.complete(),this._observedElements.delete(pe)}}}return oe.\u0275fac=function(pe){return new(pe||oe)(C.LFG(ae))},oe.\u0275prov=C.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),ye=(()=>{class oe{get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,l.Ig)(pe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(pe){this._debounce=(0,l.su)(pe),this._subscribe()}constructor(pe,Le,Pe){this._contentObserver=pe,this._elementRef=Le,this._ngZone=Pe,this.event=new C.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const pe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?pe.pipe((0,B.b)(this.debounce)):pe).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return oe.\u0275fac=function(pe){return new(pe||oe)(C.Y36(W),C.Y36(C.SBq),C.Y36(C.R0b))},oe.\u0275dir=C.lG2({type:oe,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),oe})(),Se=(()=>{class oe{}return oe.\u0275fac=function(pe){return new(pe||oe)},oe.\u0275mod=C.oAB({type:oe}),oe.\u0275inj=C.cJS({providers:[ae]}),oe})()},9002:(gn,ot,y)=>{y.d(ot,{Iu:()=>vt,U8:()=>rn,X_:()=>me,Xj:()=>An,aV:()=>Et});var l=y(4709),C=y(4755),p=y(2223),X=y(1692),B=y(2966),ae=y(9300),W=y(5698),ye=y(2722),Se=y(8930),oe=y(8023),ue=y(7579),pe=y(727),Le=y(6451);const Pe=(0,B.Mq)();class et{constructor(he,ze){this._viewportRuler=he,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ze}attach(){}enable(){if(this._canBeEnabled()){const he=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=he.style.left||"",this._previousHTMLStyles.top=he.style.top||"",he.style.left=(0,X.HM)(-this._previousScrollPosition.left),he.style.top=(0,X.HM)(-this._previousScrollPosition.top),he.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const he=this._document.documentElement,at=he.style,ht=this._document.body.style,At=at.scrollBehavior||"",qt=ht.scrollBehavior||"";this._isEnabled=!1,at.left=this._previousHTMLStyles.left,at.top=this._previousHTMLStyles.top,he.classList.remove("cdk-global-scrollblock"),Pe&&(at.scrollBehavior=ht.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Pe&&(at.scrollBehavior=At,ht.scrollBehavior=qt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ze=this._document.body,at=this._viewportRuler.getViewportSize();return ze.scrollHeight>at.height||ze.scrollWidth>at.width}}class Ye{constructor(he,ze,at,ht){this._scrollDispatcher=he,this._ngZone=ze,this._viewportRuler=at,this._config=ht,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(he){this._overlayRef=he}enable(){if(this._scrollSubscription)return;const he=this._scrollDispatcher.scrolled(0).pipe((0,ae.h)(ze=>!ze||!this._overlayRef.overlayElement.contains(ze.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=he.subscribe(()=>{const ze=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ze-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=he.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $e{enable(){}disable(){}attach(){}}function ke(It,he){return he.some(ze=>It.bottom<ze.top||It.top>ze.bottom||It.right<ze.left||It.left>ze.right)}function wt(It,he){return he.some(ze=>It.top<ze.top||It.bottom>ze.bottom||It.left<ze.left||It.right>ze.right)}class fe{constructor(he,ze,at,ht){this._scrollDispatcher=he,this._viewportRuler=ze,this._ngZone=at,this._config=ht,this._scrollSubscription=null}attach(he){this._overlayRef=he}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ze=this._overlayRef.overlayElement.getBoundingClientRect(),{width:at,height:ht}=this._viewportRuler.getViewportSize();ke(ze,[{width:at,height:ht,bottom:ht,right:at,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let we=(()=>{class It{constructor(ze,at,ht,At){this._scrollDispatcher=ze,this._viewportRuler=at,this._ngZone=ht,this.noop=()=>new $e,this.close=qt=>new Ye(this._scrollDispatcher,this._ngZone,this._viewportRuler,qt),this.block=()=>new et(this._viewportRuler,this._document),this.reposition=qt=>new fe(this._scrollDispatcher,this._viewportRuler,this._ngZone,qt),this._document=At}}return It.\u0275fac=function(ze){return new(ze||It)(p.LFG(l.mF),p.LFG(l.rL),p.LFG(p.R0b),p.LFG(C.K0))},It.\u0275prov=p.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();class me{constructor(he){if(this.scrollStrategy=new $e,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,he){const ze=Object.keys(he);for(const at of ze)void 0!==he[at]&&(this[at]=he[at])}}}class Z{constructor(he,ze){this.connectionPair=he,this.scrollableViewProperties=ze}}let Xe=(()=>{class It{constructor(ze){this._attachedOverlays=[],this._document=ze}ngOnDestroy(){this.detach()}add(ze){this.remove(ze),this._attachedOverlays.push(ze)}remove(ze){const at=this._attachedOverlays.indexOf(ze);at>-1&&this._attachedOverlays.splice(at,1),0===this._attachedOverlays.length&&this.detach()}}return It.\u0275fac=function(ze){return new(ze||It)(p.LFG(C.K0))},It.\u0275prov=p.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),Ct=(()=>{class It extends Xe{constructor(ze,at){super(ze),this._ngZone=at,this._keydownListener=ht=>{const At=this._attachedOverlays;for(let qt=At.length-1;qt>-1;qt--)if(At[qt]._keydownEvents.observers.length>0){const cn=At[qt]._keydownEvents;this._ngZone?this._ngZone.run(()=>cn.next(ht)):cn.next(ht);break}}}add(ze){super.add(ze),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return It.\u0275fac=function(ze){return new(ze||It)(p.LFG(C.K0),p.LFG(p.R0b,8))},It.\u0275prov=p.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),yn=(()=>{class It extends Xe{constructor(ze,at,ht){super(ze),this._platform=at,this._ngZone=ht,this._cursorStyleIsSet=!1,this._pointerDownListener=At=>{this._pointerDownEventTarget=(0,B.sA)(At)},this._clickListener=At=>{const qt=(0,B.sA)(At),cn="click"===At.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:qt;this._pointerDownEventTarget=null;const Zn=this._attachedOverlays.slice();for(let ri=Zn.length-1;ri>-1;ri--){const En=Zn[ri];if(En._outsidePointerEvents.observers.length<1||!En.hasAttached())continue;if(En.overlayElement.contains(qt)||En.overlayElement.contains(cn))break;const dn=En._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>dn.next(At)):dn.next(At)}}}add(ze){if(super.add(ze),!this._isAttached){const at=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(at)):this._addEventListeners(at),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=at.style.cursor,at.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ze=this._document.body;ze.removeEventListener("pointerdown",this._pointerDownListener,!0),ze.removeEventListener("click",this._clickListener,!0),ze.removeEventListener("auxclick",this._clickListener,!0),ze.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ze.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ze){ze.addEventListener("pointerdown",this._pointerDownListener,!0),ze.addEventListener("click",this._clickListener,!0),ze.addEventListener("auxclick",this._clickListener,!0),ze.addEventListener("contextmenu",this._clickListener,!0)}}return It.\u0275fac=function(ze){return new(ze||It)(p.LFG(C.K0),p.LFG(B.t4),p.LFG(p.R0b,8))},It.\u0275prov=p.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),An=(()=>{class It{constructor(ze,at){this._platform=at,this._document=ze}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ze="cdk-overlay-container";if(this._platform.isBrowser||(0,B.Oy)()){const ht=this._document.querySelectorAll(`.${ze}[platform="server"], .${ze}[platform="test"]`);for(let At=0;At<ht.length;At++)ht[At].remove()}const at=this._document.createElement("div");at.classList.add(ze),(0,B.Oy)()?at.setAttribute("platform","test"):this._platform.isBrowser||at.setAttribute("platform","server"),this._document.body.appendChild(at),this._containerElement=at}}return It.\u0275fac=function(ze){return new(ze||It)(p.LFG(C.K0),p.LFG(B.t4))},It.\u0275prov=p.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();class vt{constructor(he,ze,at,ht,At,qt,cn,Zn,ri,En=!1){this._portalOutlet=he,this._host=ze,this._pane=at,this._config=ht,this._ngZone=At,this._keyboardDispatcher=qt,this._document=cn,this._location=Zn,this._outsideClickDispatcher=ri,this._animationsDisabled=En,this._backdropElement=null,this._backdropClick=new ue.x,this._attachments=new ue.x,this._detachments=new ue.x,this._locationChanges=pe.w0.EMPTY,this._backdropClickHandler=dn=>this._backdropClick.next(dn),this._backdropTransitionendHandler=dn=>{this._disposeBackdrop(dn.target)},this._keydownEvents=new ue.x,this._outsidePointerEvents=new ue.x,ht.scrollStrategy&&(this._scrollStrategy=ht.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ht.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(he){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ze=this._portalOutlet.attach(he);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,W.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ze?.onDestroy&&ze.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ze}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const he=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),he}dispose(){const he=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,he&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(he){he!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=he,this.hasAttached()&&(he.attach(this),this.updatePosition()))}updateSize(he){this._config={...this._config,...he},this._updateElementSize()}setDirection(he){this._config={...this._config,direction:he},this._updateElementDirection()}addPanelClass(he){this._pane&&this._toggleClasses(this._pane,he,!0)}removePanelClass(he){this._pane&&this._toggleClasses(this._pane,he,!1)}getDirection(){const he=this._config.direction;return he?"string"==typeof he?he:he.value:"ltr"}updateScrollStrategy(he){he!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=he,this.hasAttached()&&(he.attach(this),he.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const he=this._pane.style;he.width=(0,X.HM)(this._config.width),he.height=(0,X.HM)(this._config.height),he.minWidth=(0,X.HM)(this._config.minWidth),he.minHeight=(0,X.HM)(this._config.minHeight),he.maxWidth=(0,X.HM)(this._config.maxWidth),he.maxHeight=(0,X.HM)(this._config.maxHeight)}_togglePointerEvents(he){this._pane.style.pointerEvents=he?"":"none"}_attachBackdrop(){const he="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(he)})}):this._backdropElement.classList.add(he)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const he=this._backdropElement;if(he){if(this._animationsDisabled)return void this._disposeBackdrop(he);he.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{he.addEventListener("transitionend",this._backdropTransitionendHandler)}),he.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(he)},500))}}_toggleClasses(he,ze,at){const ht=(0,X.Eq)(ze||[]).filter(At=>!!At);ht.length&&(at?he.classList.add(...ht):he.classList.remove(...ht))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const he=this._ngZone.onStable.pipe((0,ye.R)((0,Le.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),he.unsubscribe())})})}_disposeScrollStrategy(){const he=this._scrollStrategy;he&&(he.disable(),he.detach&&he.detach())}_disposeBackdrop(he){he&&(he.removeEventListener("click",this._backdropClickHandler),he.removeEventListener("transitionend",this._backdropTransitionendHandler),he.remove(),this._backdropElement===he&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bt="cdk-overlay-connected-position-bounding-box",Bt=/([A-Za-z%]+)$/;class Ht{get positions(){return this._preferredPositions}constructor(he,ze,at,ht,At){this._viewportRuler=ze,this._document=at,this._platform=ht,this._overlayContainer=At,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ue.x,this._resizeSubscription=pe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(he)}attach(he){this._validatePositions(),he.hostElement.classList.add(bt),this._overlayRef=he,this._boundingBox=he.hostElement,this._pane=he.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const he=this._originRect,ze=this._overlayRect,at=this._viewportRect,ht=this._containerRect,At=[];let qt;for(let cn of this._preferredPositions){let Zn=this._getOriginPoint(he,ht,cn),ri=this._getOverlayPoint(Zn,ze,cn),En=this._getOverlayFit(ri,ze,at,cn);if(En.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(cn,Zn);this._canFitWithFlexibleDimensions(En,ri,at)?At.push({position:cn,origin:Zn,overlayRect:ze,boundingBoxRect:this._calculateBoundingBoxRect(Zn,cn)}):(!qt||qt.overlayFit.visibleArea<En.visibleArea)&&(qt={overlayFit:En,overlayPoint:ri,originPoint:Zn,position:cn,overlayRect:ze})}if(At.length){let cn=null,Zn=-1;for(const ri of At){const En=ri.boundingBoxRect.width*ri.boundingBoxRect.height*(ri.position.weight||1);En>Zn&&(Zn=En,cn=ri)}return this._isPushed=!1,void this._applyPosition(cn.position,cn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(qt.position,qt.originPoint);this._applyPosition(qt.position,qt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&en(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const he=this._lastPosition;if(he){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ze=this._getOriginPoint(this._originRect,this._containerRect,he);this._applyPosition(he,ze)}else this.apply()}withScrollableContainers(he){return this._scrollables=he,this}withPositions(he){return this._preferredPositions=he,-1===he.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(he){return this._viewportMargin=he,this}withFlexibleDimensions(he=!0){return this._hasFlexibleDimensions=he,this}withGrowAfterOpen(he=!0){return this._growAfterOpen=he,this}withPush(he=!0){return this._canPush=he,this}withLockedPosition(he=!0){return this._positionLocked=he,this}setOrigin(he){return this._origin=he,this}withDefaultOffsetX(he){return this._offsetX=he,this}withDefaultOffsetY(he){return this._offsetY=he,this}withTransformOriginOn(he){return this._transformOriginSelector=he,this}_getOriginPoint(he,ze,at){let ht,At;if("center"==at.originX)ht=he.left+he.width/2;else{const qt=this._isRtl()?he.right:he.left,cn=this._isRtl()?he.left:he.right;ht="start"==at.originX?qt:cn}return ze.left<0&&(ht-=ze.left),At="center"==at.originY?he.top+he.height/2:"top"==at.originY?he.top:he.bottom,ze.top<0&&(At-=ze.top),{x:ht,y:At}}_getOverlayPoint(he,ze,at){let ht,At;return ht="center"==at.overlayX?-ze.width/2:"start"===at.overlayX?this._isRtl()?-ze.width:0:this._isRtl()?0:-ze.width,At="center"==at.overlayY?-ze.height/2:"top"==at.overlayY?0:-ze.height,{x:he.x+ht,y:he.y+At}}_getOverlayFit(he,ze,at,ht){const At=sn(ze);let{x:qt,y:cn}=he,Zn=this._getOffset(ht,"x"),ri=this._getOffset(ht,"y");Zn&&(qt+=Zn),ri&&(cn+=ri);let Hn=0-cn,Ke=cn+At.height-at.height,kt=this._subtractOverflows(At.width,0-qt,qt+At.width-at.width),Kt=this._subtractOverflows(At.height,Hn,Ke),Sn=kt*Kt;return{visibleArea:Sn,isCompletelyWithinViewport:At.width*At.height===Sn,fitsInViewportVertically:Kt===At.height,fitsInViewportHorizontally:kt==At.width}}_canFitWithFlexibleDimensions(he,ze,at){if(this._hasFlexibleDimensions){const ht=at.bottom-ze.y,At=at.right-ze.x,qt=Yt(this._overlayRef.getConfig().minHeight),cn=Yt(this._overlayRef.getConfig().minWidth);return(he.fitsInViewportVertically||null!=qt&&qt<=ht)&&(he.fitsInViewportHorizontally||null!=cn&&cn<=At)}return!1}_pushOverlayOnScreen(he,ze,at){if(this._previousPushAmount&&this._positionLocked)return{x:he.x+this._previousPushAmount.x,y:he.y+this._previousPushAmount.y};const ht=sn(ze),At=this._viewportRect,qt=Math.max(he.x+ht.width-At.width,0),cn=Math.max(he.y+ht.height-At.height,0),Zn=Math.max(At.top-at.top-he.y,0),ri=Math.max(At.left-at.left-he.x,0);let En=0,dn=0;return En=ht.width<=At.width?ri||-qt:he.x<this._viewportMargin?At.left-at.left-he.x:0,dn=ht.height<=At.height?Zn||-cn:he.y<this._viewportMargin?At.top-at.top-he.y:0,this._previousPushAmount={x:En,y:dn},{x:he.x+En,y:he.y+dn}}_applyPosition(he,ze){if(this._setTransformOrigin(he),this._setOverlayElementStyles(ze,he),this._setBoundingBoxStyles(ze,he),he.panelClass&&this._addPanelClasses(he.panelClass),this._lastPosition=he,this._positionChanges.observers.length){const at=this._getScrollVisibility(),ht=new Z(he,at);this._positionChanges.next(ht)}this._isInitialRender=!1}_setTransformOrigin(he){if(!this._transformOriginSelector)return;const ze=this._boundingBox.querySelectorAll(this._transformOriginSelector);let at,ht=he.overlayY;at="center"===he.overlayX?"center":this._isRtl()?"start"===he.overlayX?"right":"left":"start"===he.overlayX?"left":"right";for(let At=0;At<ze.length;At++)ze[At].style.transformOrigin=`${at} ${ht}`}_calculateBoundingBoxRect(he,ze){const at=this._viewportRect,ht=this._isRtl();let At,qt,cn,En,dn,Hn;if("top"===ze.overlayY)qt=he.y,At=at.height-qt+this._viewportMargin;else if("bottom"===ze.overlayY)cn=at.height-he.y+2*this._viewportMargin,At=at.height-cn+this._viewportMargin;else{const Ke=Math.min(at.bottom-he.y+at.top,he.y),kt=this._lastBoundingBoxSize.height;At=2*Ke,qt=he.y-Ke,At>kt&&!this._isInitialRender&&!this._growAfterOpen&&(qt=he.y-kt/2)}if("end"===ze.overlayX&&!ht||"start"===ze.overlayX&&ht)Hn=at.width-he.x+this._viewportMargin,En=he.x-this._viewportMargin;else if("start"===ze.overlayX&&!ht||"end"===ze.overlayX&&ht)dn=he.x,En=at.right-he.x;else{const Ke=Math.min(at.right-he.x+at.left,he.x),kt=this._lastBoundingBoxSize.width;En=2*Ke,dn=he.x-Ke,En>kt&&!this._isInitialRender&&!this._growAfterOpen&&(dn=he.x-kt/2)}return{top:qt,left:dn,bottom:cn,right:Hn,width:En,height:At}}_setBoundingBoxStyles(he,ze){const at=this._calculateBoundingBoxRect(he,ze);!this._isInitialRender&&!this._growAfterOpen&&(at.height=Math.min(at.height,this._lastBoundingBoxSize.height),at.width=Math.min(at.width,this._lastBoundingBoxSize.width));const ht={};if(this._hasExactPosition())ht.top=ht.left="0",ht.bottom=ht.right=ht.maxHeight=ht.maxWidth="",ht.width=ht.height="100%";else{const At=this._overlayRef.getConfig().maxHeight,qt=this._overlayRef.getConfig().maxWidth;ht.height=(0,X.HM)(at.height),ht.top=(0,X.HM)(at.top),ht.bottom=(0,X.HM)(at.bottom),ht.width=(0,X.HM)(at.width),ht.left=(0,X.HM)(at.left),ht.right=(0,X.HM)(at.right),ht.alignItems="center"===ze.overlayX?"center":"end"===ze.overlayX?"flex-end":"flex-start",ht.justifyContent="center"===ze.overlayY?"center":"bottom"===ze.overlayY?"flex-end":"flex-start",At&&(ht.maxHeight=(0,X.HM)(At)),qt&&(ht.maxWidth=(0,X.HM)(qt))}this._lastBoundingBoxSize=at,en(this._boundingBox.style,ht)}_resetBoundingBoxStyles(){en(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){en(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(he,ze){const at={},ht=this._hasExactPosition(),At=this._hasFlexibleDimensions,qt=this._overlayRef.getConfig();if(ht){const En=this._viewportRuler.getViewportScrollPosition();en(at,this._getExactOverlayY(ze,he,En)),en(at,this._getExactOverlayX(ze,he,En))}else at.position="static";let cn="",Zn=this._getOffset(ze,"x"),ri=this._getOffset(ze,"y");Zn&&(cn+=`translateX(${Zn}px) `),ri&&(cn+=`translateY(${ri}px)`),at.transform=cn.trim(),qt.maxHeight&&(ht?at.maxHeight=(0,X.HM)(qt.maxHeight):At&&(at.maxHeight="")),qt.maxWidth&&(ht?at.maxWidth=(0,X.HM)(qt.maxWidth):At&&(at.maxWidth="")),en(this._pane.style,at)}_getExactOverlayY(he,ze,at){let ht={top:"",bottom:""},At=this._getOverlayPoint(ze,this._overlayRect,he);return this._isPushed&&(At=this._pushOverlayOnScreen(At,this._overlayRect,at)),"bottom"===he.overlayY?ht.bottom=this._document.documentElement.clientHeight-(At.y+this._overlayRect.height)+"px":ht.top=(0,X.HM)(At.y),ht}_getExactOverlayX(he,ze,at){let qt,ht={left:"",right:""},At=this._getOverlayPoint(ze,this._overlayRect,he);return this._isPushed&&(At=this._pushOverlayOnScreen(At,this._overlayRect,at)),qt=this._isRtl()?"end"===he.overlayX?"left":"right":"end"===he.overlayX?"right":"left","right"===qt?ht.right=this._document.documentElement.clientWidth-(At.x+this._overlayRect.width)+"px":ht.left=(0,X.HM)(At.x),ht}_getScrollVisibility(){const he=this._getOriginRect(),ze=this._pane.getBoundingClientRect(),at=this._scrollables.map(ht=>ht.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wt(he,at),isOriginOutsideView:ke(he,at),isOverlayClipped:wt(ze,at),isOverlayOutsideView:ke(ze,at)}}_subtractOverflows(he,...ze){return ze.reduce((at,ht)=>at-Math.max(ht,0),he)}_getNarrowedViewportRect(){const he=this._document.documentElement.clientWidth,ze=this._document.documentElement.clientHeight,at=this._viewportRuler.getViewportScrollPosition();return{top:at.top+this._viewportMargin,left:at.left+this._viewportMargin,right:at.left+he-this._viewportMargin,bottom:at.top+ze-this._viewportMargin,width:he-2*this._viewportMargin,height:ze-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(he,ze){return"x"===ze?null==he.offsetX?this._offsetX:he.offsetX:null==he.offsetY?this._offsetY:he.offsetY}_validatePositions(){}_addPanelClasses(he){this._pane&&(0,X.Eq)(he).forEach(ze=>{""!==ze&&-1===this._appliedPanelClasses.indexOf(ze)&&(this._appliedPanelClasses.push(ze),this._pane.classList.add(ze))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(he=>{this._pane.classList.remove(he)}),this._appliedPanelClasses=[])}_getOriginRect(){const he=this._origin;if(he instanceof p.SBq)return he.nativeElement.getBoundingClientRect();if(he instanceof Element)return he.getBoundingClientRect();const ze=he.width||0,at=he.height||0;return{top:he.y,bottom:he.y+at,left:he.x,right:he.x+ze,height:at,width:ze}}}function en(It,he){for(let ze in he)he.hasOwnProperty(ze)&&(It[ze]=he[ze]);return It}function Yt(It){if("number"!=typeof It&&null!=It){const[he,ze]=It.split(Bt);return ze&&"px"!==ze?null:parseFloat(he)}return It||null}function sn(It){return{top:Math.floor(It.top),right:Math.floor(It.right),bottom:Math.floor(It.bottom),left:Math.floor(It.left),width:Math.floor(It.width),height:Math.floor(It.height)}}const Ft="cdk-global-overlay-wrapper";class Je{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(he){const ze=he.getConfig();this._overlayRef=he,this._width&&!ze.width&&he.updateSize({width:this._width}),this._height&&!ze.height&&he.updateSize({height:this._height}),he.hostElement.classList.add(Ft),this._isDisposed=!1}top(he=""){return this._bottomOffset="",this._topOffset=he,this._alignItems="flex-start",this}left(he=""){return this._xOffset=he,this._xPosition="left",this}bottom(he=""){return this._topOffset="",this._bottomOffset=he,this._alignItems="flex-end",this}right(he=""){return this._xOffset=he,this._xPosition="right",this}start(he=""){return this._xOffset=he,this._xPosition="start",this}end(he=""){return this._xOffset=he,this._xPosition="end",this}width(he=""){return this._overlayRef?this._overlayRef.updateSize({width:he}):this._width=he,this}height(he=""){return this._overlayRef?this._overlayRef.updateSize({height:he}):this._height=he,this}centerHorizontally(he=""){return this.left(he),this._xPosition="center",this}centerVertically(he=""){return this.top(he),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const he=this._overlayRef.overlayElement.style,ze=this._overlayRef.hostElement.style,at=this._overlayRef.getConfig(),{width:ht,height:At,maxWidth:qt,maxHeight:cn}=at,Zn=!("100%"!==ht&&"100vw"!==ht||qt&&"100%"!==qt&&"100vw"!==qt),ri=!("100%"!==At&&"100vh"!==At||cn&&"100%"!==cn&&"100vh"!==cn),En=this._xPosition,dn=this._xOffset,Hn="rtl"===this._overlayRef.getConfig().direction;let Ke="",kt="",Kt="";Zn?Kt="flex-start":"center"===En?(Kt="center",Hn?kt=dn:Ke=dn):Hn?"left"===En||"end"===En?(Kt="flex-end",Ke=dn):("right"===En||"start"===En)&&(Kt="flex-start",kt=dn):"left"===En||"start"===En?(Kt="flex-start",Ke=dn):("right"===En||"end"===En)&&(Kt="flex-end",kt=dn),he.position=this._cssPosition,he.marginLeft=Zn?"0":Ke,he.marginTop=ri?"0":this._topOffset,he.marginBottom=this._bottomOffset,he.marginRight=Zn?"0":kt,ze.justifyContent=Kt,ze.alignItems=ri?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const he=this._overlayRef.overlayElement.style,ze=this._overlayRef.hostElement,at=ze.style;ze.classList.remove(Ft),at.justifyContent=at.alignItems=he.marginTop=he.marginBottom=he.marginLeft=he.marginRight=he.position="",this._overlayRef=null,this._isDisposed=!0}}let ct=(()=>{class It{constructor(ze,at,ht,At){this._viewportRuler=ze,this._document=at,this._platform=ht,this._overlayContainer=At}global(){return new Je}flexibleConnectedTo(ze){return new Ht(ze,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return It.\u0275fac=function(ze){return new(ze||It)(p.LFG(l.rL),p.LFG(C.K0),p.LFG(B.t4),p.LFG(An))},It.\u0275prov=p.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})(),Rt=0,Et=(()=>{class It{constructor(ze,at,ht,At,qt,cn,Zn,ri,En,dn,Hn,Ke){this.scrollStrategies=ze,this._overlayContainer=at,this._componentFactoryResolver=ht,this._positionBuilder=At,this._keyboardDispatcher=qt,this._injector=cn,this._ngZone=Zn,this._document=ri,this._directionality=En,this._location=dn,this._outsideClickDispatcher=Hn,this._animationsModuleType=Ke}create(ze){const at=this._createHostElement(),ht=this._createPaneElement(at),At=this._createPortalOutlet(ht),qt=new me(ze);return qt.direction=qt.direction||this._directionality.value,new vt(At,at,ht,qt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ze){const at=this._document.createElement("div");return at.id="cdk-overlay-"+Rt++,at.classList.add("cdk-overlay-pane"),ze.appendChild(at),at}_createHostElement(){const ze=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ze),ze}_createPortalOutlet(ze){return this._appRef||(this._appRef=this._injector.get(p.z2F)),new oe.u0(ze,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return It.\u0275fac=function(ze){return new(ze||It)(p.LFG(we),p.LFG(An),p.LFG(p._Vd),p.LFG(ct),p.LFG(Ct),p.LFG(p.zs3),p.LFG(p.R0b),p.LFG(C.K0),p.LFG(Se.Is),p.LFG(C.Ye),p.LFG(yn),p.LFG(p.QbO,8))},It.\u0275prov=p.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();const Tt={provide:new p.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Et],useFactory:function De(It){return()=>It.scrollStrategies.reposition()}};let rn=(()=>{class It{}return It.\u0275fac=function(ze){return new(ze||It)},It.\u0275mod=p.oAB({type:It}),It.\u0275inj=p.cJS({providers:[Et,Tt],imports:[Se.vT,oe.eL,l.Cl,l.Cl]}),It})()},2966:(gn,ot,y)=>{y.d(ot,{Mq:()=>Pe,Oy:()=>fe,ht:()=>ke,i$:()=>ue,kV:()=>$e,sA:()=>wt,t4:()=>X});var l=y(2223),C=y(4755);let p;try{p=typeof Intl<"u"&&Intl.v8BreakIterator}catch{p=!1}let Se,Le,We,X=(()=>{class we{constructor(ge){this._platformId=ge,this.isBrowser=this._platformId?(0,C.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!p)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return we.\u0275fac=function(ge){return new(ge||we)(l.LFG(l.Lbi))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function ue(we){return function oe(){if(null==Se&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Se=!0}))}finally{Se=Se||!1}return Se}()?we:!!we.capture}function Pe(){if(null==Le){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Le=!1,Le;if("scrollBehavior"in document.documentElement.style)Le=!0;else{const we=Element.prototype.scrollTo;Le=!!we&&!/\{\s*\[native code\]\s*\}/.test(we.toString())}}return Le}function $e(we){if(function Ye(){if(null==We){const we=typeof document<"u"?document.head:null;We=!(!we||!we.createShadowRoot&&!we.attachShadow)}return We}()){const me=we.getRootNode?we.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&me instanceof ShadowRoot)return me}return null}function ke(){let we=typeof document<"u"&&document?document.activeElement:null;for(;we&&we.shadowRoot;){const me=we.shadowRoot.activeElement;if(me===we)break;we=me}return we}function wt(we){return we.composedPath?we.composedPath()[0]:we.target}function fe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8023:(gn,ot,y)=>{y.d(ot,{C5:()=>oe,Pl:()=>ke,UE:()=>ue,eL:()=>fe,en:()=>Le,ig:()=>Ye,u0:()=>et});var l=y(2223),C=y(4755);class Se{attach(ge){return this._attachedHost=ge,ge.attach(this)}detach(){let ge=this._attachedHost;null!=ge&&(this._attachedHost=null,ge.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ge){this._attachedHost=ge}}class oe extends Se{constructor(ge,Ve,Z,qe,je){super(),this.component=ge,this.viewContainerRef=Ve,this.injector=Z,this.componentFactoryResolver=qe,this.projectableNodes=je}}class ue extends Se{constructor(ge,Ve,Z,qe){super(),this.templateRef=ge,this.viewContainerRef=Ve,this.context=Z,this.injector=qe}get origin(){return this.templateRef.elementRef}attach(ge,Ve=this.context){return this.context=Ve,super.attach(ge)}detach(){return this.context=void 0,super.detach()}}class pe extends Se{constructor(ge){super(),this.element=ge instanceof l.SBq?ge.nativeElement:ge}}class Le{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ge){return ge instanceof oe?(this._attachedPortal=ge,this.attachComponentPortal(ge)):ge instanceof ue?(this._attachedPortal=ge,this.attachTemplatePortal(ge)):this.attachDomPortal&&ge instanceof pe?(this._attachedPortal=ge,this.attachDomPortal(ge)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ge){this._disposeFn=ge}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class et extends Le{constructor(ge,Ve,Z,qe,je){super(),this.outletElement=ge,this._componentFactoryResolver=Ve,this._appRef=Z,this._defaultInjector=qe,this.attachDomPortal=Xe=>{const Ct=Xe.element,yn=this._document.createComment("dom-portal");Ct.parentNode.insertBefore(yn,Ct),this.outletElement.appendChild(Ct),this._attachedPortal=Xe,super.setDisposeFn(()=>{yn.parentNode&&yn.parentNode.replaceChild(Ct,yn)})},this._document=je}attachComponentPortal(ge){const Z=(ge.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ge.component);let qe;return ge.viewContainerRef?(qe=ge.viewContainerRef.createComponent(Z,ge.viewContainerRef.length,ge.injector||ge.viewContainerRef.injector,ge.projectableNodes||void 0),this.setDisposeFn(()=>qe.destroy())):(qe=Z.create(ge.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(qe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(qe.hostView),qe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(qe)),this._attachedPortal=ge,qe}attachTemplatePortal(ge){let Ve=ge.viewContainerRef,Z=Ve.createEmbeddedView(ge.templateRef,ge.context,{injector:ge.injector});return Z.rootNodes.forEach(qe=>this.outletElement.appendChild(qe)),Z.detectChanges(),this.setDisposeFn(()=>{let qe=Ve.indexOf(Z);-1!==qe&&Ve.remove(qe)}),this._attachedPortal=ge,Z}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(ge){return ge.hostView.rootNodes[0]}}let Ye=(()=>{class me extends ue{constructor(Ve,Z){super(Ve,Z)}}return me.\u0275fac=function(Ve){return new(Ve||me)(l.Y36(l.Rgc),l.Y36(l.s_b))},me.\u0275dir=l.lG2({type:me,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[l.qOj]}),me})(),ke=(()=>{class me extends Le{constructor(Ve,Z,qe){super(),this._componentFactoryResolver=Ve,this._viewContainerRef=Z,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=je=>{const Xe=je.element,Ct=this._document.createComment("dom-portal");je.setAttachedHost(this),Xe.parentNode.insertBefore(Ct,Xe),this._getRootNode().appendChild(Xe),this._attachedPortal=je,super.setDisposeFn(()=>{Ct.parentNode&&Ct.parentNode.replaceChild(Xe,Ct)})},this._document=qe}get portal(){return this._attachedPortal}set portal(Ve){this.hasAttached()&&!Ve&&!this._isInitialized||(this.hasAttached()&&super.detach(),Ve&&super.attach(Ve),this._attachedPortal=Ve||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Ve){Ve.setAttachedHost(this);const Z=null!=Ve.viewContainerRef?Ve.viewContainerRef:this._viewContainerRef,je=(Ve.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ve.component),Xe=Z.createComponent(je,Z.length,Ve.injector||Z.injector,Ve.projectableNodes||void 0);return Z!==this._viewContainerRef&&this._getRootNode().appendChild(Xe.hostView.rootNodes[0]),super.setDisposeFn(()=>Xe.destroy()),this._attachedPortal=Ve,this._attachedRef=Xe,this.attached.emit(Xe),Xe}attachTemplatePortal(Ve){Ve.setAttachedHost(this);const Z=this._viewContainerRef.createEmbeddedView(Ve.templateRef,Ve.context,{injector:Ve.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Ve,this._attachedRef=Z,this.attached.emit(Z),Z}_getRootNode(){const Ve=this._viewContainerRef.element.nativeElement;return Ve.nodeType===Ve.ELEMENT_NODE?Ve:Ve.parentNode}}return me.\u0275fac=function(Ve){return new(Ve||me)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(C.K0))},me.\u0275dir=l.lG2({type:me,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),me})(),fe=(()=>{class me{}return me.\u0275fac=function(Ve){return new(Ve||me)},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({}),me})()},4709:(gn,ot,y)=>{y.d(ot,{ZD:()=>nt,mF:()=>bt,Cl:()=>ft,rL:()=>en});var l=y(1692),C=y(2223),p=y(7579),X=y(9646),B=y(9751),ae=y(4968),W=y(4408),ye=y(727);const Se={schedule(Ee){let Ce=requestAnimationFrame,De=cancelAnimationFrame;const{delegate:Tt}=Se;Tt&&(Ce=Tt.requestAnimationFrame,De=Tt.cancelAnimationFrame);const rn=Ce(an=>{De=void 0,Ee(an)});return new ye.w0(()=>De?.(rn))},requestAnimationFrame(...Ee){const{delegate:Ce}=Se;return(Ce?.requestAnimationFrame||requestAnimationFrame)(...Ee)},cancelAnimationFrame(...Ee){const{delegate:Ce}=Se;return(Ce?.cancelAnimationFrame||cancelAnimationFrame)(...Ee)},delegate:void 0};var ue=y(7565);new class pe extends ue.v{flush(Ce){this._active=!0;const De=this._scheduled;this._scheduled=void 0;const{actions:Tt}=this;let rn;Ce=Ce||Tt.shift();do{if(rn=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Tt[0])&&Ce.id===De&&Tt.shift());if(this._active=!1,rn){for(;(Ce=Tt[0])&&Ce.id===De&&Tt.shift();)Ce.unsubscribe();throw rn}}}(class oe extends W.o{constructor(Ce,De){super(Ce,De),this.scheduler=Ce,this.work=De}requestAsyncId(Ce,De,Tt=0){return null!==Tt&&Tt>0?super.requestAsyncId(Ce,De,Tt):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=Se.requestAnimationFrame(()=>Ce.flush(void 0))))}recycleAsyncId(Ce,De,Tt=0){var rn;if(null!=Tt?Tt>0:this.delay>0)return super.recycleAsyncId(Ce,De,Tt);const{actions:an}=Ce;null!=De&&(null===(rn=an[an.length-1])||void 0===rn?void 0:rn.id)!==De&&(Se.cancelAnimationFrame(De),Ce._scheduled=void 0)}});y(3101);var We=y(4986),Ye=y(4482),$e=y(8421),ke=y(5403),fe=y(5963);function we(Ee,Ce=We.z){return function wt(Ee){return(0,Ye.e)((Ce,De)=>{let Tt=!1,rn=null,an=null,It=!1;const he=()=>{if(an?.unsubscribe(),an=null,Tt){Tt=!1;const at=rn;rn=null,De.next(at)}It&&De.complete()},ze=()=>{an=null,It&&De.complete()};Ce.subscribe((0,ke.x)(De,at=>{Tt=!0,rn=at,an||(0,$e.Xf)(Ee(at)).subscribe(an=(0,ke.x)(De,he,ze))},()=>{It=!0,(!Tt||!an||an.closed)&&De.complete()}))})}(()=>(0,fe.H)(Ee,Ce))}var me=y(9300),ge=y(2966),Ve=y(4755),Z=y(8930);let bt=(()=>{class Ee{constructor(De,Tt,rn){this._ngZone=De,this._platform=Tt,this._scrolled=new p.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=rn}register(De){this.scrollContainers.has(De)||this.scrollContainers.set(De,De.elementScrolled().subscribe(()=>this._scrolled.next(De)))}deregister(De){const Tt=this.scrollContainers.get(De);Tt&&(Tt.unsubscribe(),this.scrollContainers.delete(De))}scrolled(De=20){return this._platform.isBrowser?new B.y(Tt=>{this._globalSubscription||this._addGlobalListener();const rn=De>0?this._scrolled.pipe(we(De)).subscribe(Tt):this._scrolled.subscribe(Tt);return this._scrolledCount++,()=>{rn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,X.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((De,Tt)=>this.deregister(Tt)),this._scrolled.complete()}ancestorScrolled(De,Tt){const rn=this.getAncestorScrollContainers(De);return this.scrolled(Tt).pipe((0,me.h)(an=>!an||rn.indexOf(an)>-1))}getAncestorScrollContainers(De){const Tt=[];return this.scrollContainers.forEach((rn,an)=>{this._scrollableContainsElement(an,De)&&Tt.push(an)}),Tt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(De,Tt){let rn=(0,l.fI)(Tt),an=De.getElementRef().nativeElement;do{if(rn==an)return!0}while(rn=rn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const De=this._getWindow();return(0,ae.R)(De.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ee.\u0275fac=function(De){return new(De||Ee)(C.LFG(C.R0b),C.LFG(ge.t4),C.LFG(Ve.K0,8))},Ee.\u0275prov=C.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),en=(()=>{class Ee{constructor(De,Tt,rn){this._platform=De,this._change=new p.x,this._changeListener=an=>{this._change.next(an)},this._document=rn,Tt.runOutsideAngular(()=>{if(De.isBrowser){const an=this._getWindow();an.addEventListener("resize",this._changeListener),an.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const De=this._getWindow();De.removeEventListener("resize",this._changeListener),De.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const De={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),De}getViewportRect(){const De=this.getViewportScrollPosition(),{width:Tt,height:rn}=this.getViewportSize();return{top:De.top,left:De.left,bottom:De.top+rn,right:De.left+Tt,height:rn,width:Tt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const De=this._document,Tt=this._getWindow(),rn=De.documentElement,an=rn.getBoundingClientRect();return{top:-an.top||De.body.scrollTop||Tt.scrollY||rn.scrollTop||0,left:-an.left||De.body.scrollLeft||Tt.scrollX||rn.scrollLeft||0}}change(De=20){return De>0?this._change.pipe(we(De)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const De=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:De.innerWidth,height:De.innerHeight}:{width:0,height:0}}}return Ee.\u0275fac=function(De){return new(De||Ee)(C.LFG(ge.t4),C.LFG(C.R0b),C.LFG(Ve.K0,8))},Ee.\u0275prov=C.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),nt=(()=>{class Ee{}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275mod=C.oAB({type:Ee}),Ee.\u0275inj=C.cJS({}),Ee})(),ft=(()=>{class Ee{}return Ee.\u0275fac=function(De){return new(De||Ee)},Ee.\u0275mod=C.oAB({type:Ee}),Ee.\u0275inj=C.cJS({imports:[Z.vT,nt,Z.vT,nt]}),Ee})()},4755:(gn,ot,y)=>{y.d(ot,{Do:()=>We,EM:()=>zo,HT:()=>X,JF:()=>Ir,K0:()=>ae,Mx:()=>eo,NF:()=>Yo,O5:()=>po,PM:()=>go,S$:()=>Le,V_:()=>ye,Ye:()=>Ye,b0:()=>et,bD:()=>Fo,ez:()=>Do,mk:()=>br,q:()=>p,sg:()=>to,tP:()=>Ro,uU:()=>ai,w_:()=>B});var l=y(2223);let C=null;function p(){return C}function X(P){C||(C=P)}class B{}const ae=new l.OlP("DocumentToken");let W=(()=>{class P{historyGo(V){throw new Error("Not implemented")}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275prov=l.Yz7({token:P,factory:function(){return(0,l.f3M)(Se)},providedIn:"platform"}),P})();const ye=new l.OlP("Location Initialized");let Se=(()=>{class P extends W{constructor(){super(),this._doc=(0,l.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return p().getBaseHref(this._doc)}onPopState(V){const _e=p().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("popstate",V,!1),()=>_e.removeEventListener("popstate",V)}onHashChange(V){const _e=p().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("hashchange",V,!1),()=>_e.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,_e,rt){this._history.pushState(V,_e,rt)}replaceState(V,_e,rt){this._history.replaceState(V,_e,rt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275prov=l.Yz7({token:P,factory:function(){return new P},providedIn:"platform"}),P})();function oe(P,ee){if(0==P.length)return ee;if(0==ee.length)return P;let V=0;return P.endsWith("/")&&V++,ee.startsWith("/")&&V++,2==V?P+ee.substring(1):1==V?P+ee:P+"/"+ee}function ue(P){const ee=P.match(/#|\?|$/),V=ee&&ee.index||P.length;return P.slice(0,V-("/"===P[V-1]?1:0))+P.slice(V)}function pe(P){return P&&"?"!==P[0]?"?"+P:P}let Le=(()=>{class P{historyGo(V){throw new Error("Not implemented")}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275prov=l.Yz7({token:P,factory:function(){return(0,l.f3M)(et)},providedIn:"root"}),P})();const Pe=new l.OlP("appBaseHref");let et=(()=>{class P extends Le{constructor(V,_e){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=_e??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return oe(this._baseHref,V)}path(V=!1){const _e=this._platformLocation.pathname+pe(this._platformLocation.search),rt=this._platformLocation.hash;return rt&&V?`${_e}${rt}`:_e}pushState(V,_e,rt,tn){const fn=this.prepareExternalUrl(rt+pe(tn));this._platformLocation.pushState(V,_e,fn)}replaceState(V,_e,rt,tn){const fn=this.prepareExternalUrl(rt+pe(tn));this._platformLocation.replaceState(V,_e,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return P.\u0275fac=function(V){return new(V||P)(l.LFG(W),l.LFG(Pe,8))},P.\u0275prov=l.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),We=(()=>{class P extends Le{constructor(V,_e){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=_e&&(this._baseHref=_e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let _e=this._platformLocation.hash;return null==_e&&(_e="#"),_e.length>0?_e.substring(1):_e}prepareExternalUrl(V){const _e=oe(this._baseHref,V);return _e.length>0?"#"+_e:_e}pushState(V,_e,rt,tn){let fn=this.prepareExternalUrl(rt+pe(tn));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.pushState(V,_e,fn)}replaceState(V,_e,rt,tn){let fn=this.prepareExternalUrl(rt+pe(tn));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.replaceState(V,_e,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return P.\u0275fac=function(V){return new(V||P)(l.LFG(W),l.LFG(Pe,8))},P.\u0275prov=l.Yz7({token:P,factory:P.\u0275fac}),P})(),Ye=(()=>{class P{constructor(V){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const _e=this._locationStrategy.getBaseHref();this._basePath=function fe(P){if(new RegExp("^(https?:)?//").test(P)){const[,V]=P.split(/\/\/[^\/]+/);return V}return P}(ue(wt(_e))),this._locationStrategy.onPopState(rt=>{this._subject.emit({url:this.path(!0),pop:!0,state:rt.state,type:rt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,_e=""){return this.path()==this.normalize(V+pe(_e))}normalize(V){return P.stripTrailingSlash(function ke(P,ee){if(!P||!ee.startsWith(P))return ee;const V=ee.substring(P.length);return""===V||["/",";","?","#"].includes(V[0])?V:ee}(this._basePath,wt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,_e="",rt=null){this._locationStrategy.pushState(rt,"",V,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+pe(_e)),rt)}replaceState(V,_e="",rt=null){this._locationStrategy.replaceState(rt,"",V,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+pe(_e)),rt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(_e=>{this._notifyUrlChangeListeners(_e.url,_e.state)})),()=>{const _e=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(_e,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",_e){this._urlChangeListeners.forEach(rt=>rt(V,_e))}subscribe(V,_e,rt){return this._subject.subscribe({next:V,error:_e,complete:rt})}}return P.normalizeQueryParams=pe,P.joinWithSlash=oe,P.stripTrailingSlash=ue,P.\u0275fac=function(V){return new(V||P)(l.LFG(Le))},P.\u0275prov=l.Yz7({token:P,factory:function(){return function $e(){return new Ye((0,l.LFG)(Le))}()},providedIn:"root"}),P})();function wt(P){return P.replace(/\/index.html$/,"")}var Ve=(()=>((Ve=Ve||{})[Ve.Format=0]="Format",Ve[Ve.Standalone=1]="Standalone",Ve))(),Z=(()=>((Z=Z||{})[Z.Narrow=0]="Narrow",Z[Z.Abbreviated=1]="Abbreviated",Z[Z.Wide=2]="Wide",Z[Z.Short=3]="Short",Z))(),qe=(()=>((qe=qe||{})[qe.Short=0]="Short",qe[qe.Medium=1]="Medium",qe[qe.Long=2]="Long",qe[qe.Full=3]="Full",qe))(),je=(()=>((je=je||{})[je.Decimal=0]="Decimal",je[je.Group=1]="Group",je[je.List=2]="List",je[je.PercentSign=3]="PercentSign",je[je.PlusSign=4]="PlusSign",je[je.MinusSign=5]="MinusSign",je[je.Exponential=6]="Exponential",je[je.SuperscriptingExponent=7]="SuperscriptingExponent",je[je.PerMille=8]="PerMille",je[je.Infinity=9]="Infinity",je[je.NaN=10]="NaN",je[je.TimeSeparator=11]="TimeSeparator",je[je.CurrencyDecimal=12]="CurrencyDecimal",je[je.CurrencyGroup=13]="CurrencyGroup",je))();function en(P,ee){return De((0,l.cg1)(P)[l.wAp.DateFormat],ee)}function Yt(P,ee){return De((0,l.cg1)(P)[l.wAp.TimeFormat],ee)}function sn(P,ee){return De((0,l.cg1)(P)[l.wAp.DateTimeFormat],ee)}function bn(P,ee){const V=(0,l.cg1)(P),_e=V[l.wAp.NumberSymbols][ee];if(typeof _e>"u"){if(ee===je.CurrencyDecimal)return V[l.wAp.NumberSymbols][je.Decimal];if(ee===je.CurrencyGroup)return V[l.wAp.NumberSymbols][je.Group]}return _e}function nt(P){if(!P[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function De(P,ee){for(let V=ee;V>-1;V--)if(typeof P[V]<"u")return P[V];throw new Error("Locale data API: locale data undefined")}function Tt(P){const[ee,V]=P.split(":");return{hours:+ee,minutes:+V}}const he=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ze={},at=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ht=(()=>((ht=ht||{})[ht.Short=0]="Short",ht[ht.ShortGMT=1]="ShortGMT",ht[ht.Long=2]="Long",ht[ht.Extended=3]="Extended",ht))(),At=(()=>((At=At||{})[At.FullYear=0]="FullYear",At[At.Month=1]="Month",At[At.Date=2]="Date",At[At.Hours=3]="Hours",At[At.Minutes=4]="Minutes",At[At.Seconds=5]="Seconds",At[At.FractionalSeconds=6]="FractionalSeconds",At[At.Day=7]="Day",At))(),qt=(()=>((qt=qt||{})[qt.DayPeriods=0]="DayPeriods",qt[qt.Days=1]="Days",qt[qt.Months=2]="Months",qt[qt.Eras=3]="Eras",qt))();function cn(P,ee,V,_e){let rt=function le(P){if(j(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[rt,tn=1,fn=1]=P.split("-").map(Yn=>+Yn);return Zn(rt,tn-1,fn)}const V=parseFloat(P);if(!isNaN(P-V))return new Date(V);let _e;if(_e=P.match(he))return function z(P){const ee=new Date(0);let V=0,_e=0;const rt=P[8]?ee.setUTCFullYear:ee.setFullYear,tn=P[8]?ee.setUTCHours:ee.setHours;P[9]&&(V=Number(P[9]+P[10]),_e=Number(P[9]+P[11])),rt.call(ee,Number(P[1]),Number(P[2])-1,Number(P[3]));const fn=Number(P[4]||0)-V,Yn=Number(P[5]||0)-_e,Vi=Number(P[6]||0),Di=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return tn.call(ee,fn,Yn,Vi,Di),ee}(_e)}const ee=new Date(P);if(!j(ee))throw new Error(`Unable to convert "${P}" into a date`);return ee}(P);ee=ri(V,ee)||ee;let Yn,fn=[];for(;ee;){if(Yn=at.exec(ee),!Yn){fn.push(ee);break}{fn=fn.concat(Yn.slice(1));const Ci=fn.pop();if(!Ci)break;ee=Ci}}let Vi=rt.getTimezoneOffset();_e&&(Vi=Mt(_e,Vi),rt=function Be(P,ee,V){const _e=V?-1:1,rt=P.getTimezoneOffset();return function Gt(P,ee){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+ee),P}(P,_e*(Mt(ee,rt)-rt))}(rt,_e,!0));let Di="";return fn.forEach(Ci=>{const Ii=function Re(P){if(He[P])return He[P];let ee;switch(P){case"G":case"GG":case"GGG":ee=Kt(qt.Eras,Z.Abbreviated);break;case"GGGG":ee=Kt(qt.Eras,Z.Wide);break;case"GGGGG":ee=Kt(qt.Eras,Z.Narrow);break;case"y":ee=Ke(At.FullYear,1,0,!1,!0);break;case"yy":ee=Ke(At.FullYear,2,0,!0,!0);break;case"yyy":ee=Ke(At.FullYear,3,0,!1,!0);break;case"yyyy":ee=Ke(At.FullYear,4,0,!1,!0);break;case"Y":ee=Ze(1);break;case"YY":ee=Ze(2,!0);break;case"YYY":ee=Ze(3);break;case"YYYY":ee=Ze(4);break;case"M":case"L":ee=Ke(At.Month,1,1);break;case"MM":case"LL":ee=Ke(At.Month,2,1);break;case"MMM":ee=Kt(qt.Months,Z.Abbreviated);break;case"MMMM":ee=Kt(qt.Months,Z.Wide);break;case"MMMMM":ee=Kt(qt.Months,Z.Narrow);break;case"LLL":ee=Kt(qt.Months,Z.Abbreviated,Ve.Standalone);break;case"LLLL":ee=Kt(qt.Months,Z.Wide,Ve.Standalone);break;case"LLLLL":ee=Kt(qt.Months,Z.Narrow,Ve.Standalone);break;case"w":ee=ut(1);break;case"ww":ee=ut(2);break;case"W":ee=ut(1,!0);break;case"d":ee=Ke(At.Date,1);break;case"dd":ee=Ke(At.Date,2);break;case"c":case"cc":ee=Ke(At.Day,1);break;case"ccc":ee=Kt(qt.Days,Z.Abbreviated,Ve.Standalone);break;case"cccc":ee=Kt(qt.Days,Z.Wide,Ve.Standalone);break;case"ccccc":ee=Kt(qt.Days,Z.Narrow,Ve.Standalone);break;case"cccccc":ee=Kt(qt.Days,Z.Short,Ve.Standalone);break;case"E":case"EE":case"EEE":ee=Kt(qt.Days,Z.Abbreviated);break;case"EEEE":ee=Kt(qt.Days,Z.Wide);break;case"EEEEE":ee=Kt(qt.Days,Z.Narrow);break;case"EEEEEE":ee=Kt(qt.Days,Z.Short);break;case"a":case"aa":case"aaa":ee=Kt(qt.DayPeriods,Z.Abbreviated);break;case"aaaa":ee=Kt(qt.DayPeriods,Z.Wide);break;case"aaaaa":ee=Kt(qt.DayPeriods,Z.Narrow);break;case"b":case"bb":case"bbb":ee=Kt(qt.DayPeriods,Z.Abbreviated,Ve.Standalone,!0);break;case"bbbb":ee=Kt(qt.DayPeriods,Z.Wide,Ve.Standalone,!0);break;case"bbbbb":ee=Kt(qt.DayPeriods,Z.Narrow,Ve.Standalone,!0);break;case"B":case"BB":case"BBB":ee=Kt(qt.DayPeriods,Z.Abbreviated,Ve.Format,!0);break;case"BBBB":ee=Kt(qt.DayPeriods,Z.Wide,Ve.Format,!0);break;case"BBBBB":ee=Kt(qt.DayPeriods,Z.Narrow,Ve.Format,!0);break;case"h":ee=Ke(At.Hours,1,-12);break;case"hh":ee=Ke(At.Hours,2,-12);break;case"H":ee=Ke(At.Hours,1);break;case"HH":ee=Ke(At.Hours,2);break;case"m":ee=Ke(At.Minutes,1);break;case"mm":ee=Ke(At.Minutes,2);break;case"s":ee=Ke(At.Seconds,1);break;case"ss":ee=Ke(At.Seconds,2);break;case"S":ee=Ke(At.FractionalSeconds,1);break;case"SS":ee=Ke(At.FractionalSeconds,2);break;case"SSS":ee=Ke(At.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=hi(ht.Short);break;case"ZZZZZ":ee=hi(ht.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=hi(ht.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=hi(ht.Long);break;default:return null}return He[P]=ee,ee}(Ci);Di+=Ii?Ii(rt,V,Vi):"''"===Ci?"'":Ci.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Di}function Zn(P,ee,V){const _e=new Date(0);return _e.setFullYear(P,ee,V),_e.setHours(0,0,0),_e}function ri(P,ee){const V=function Ct(P){return(0,l.cg1)(P)[l.wAp.LocaleId]}(P);if(ze[V]=ze[V]||{},ze[V][ee])return ze[V][ee];let _e="";switch(ee){case"shortDate":_e=en(P,qe.Short);break;case"mediumDate":_e=en(P,qe.Medium);break;case"longDate":_e=en(P,qe.Long);break;case"fullDate":_e=en(P,qe.Full);break;case"shortTime":_e=Yt(P,qe.Short);break;case"mediumTime":_e=Yt(P,qe.Medium);break;case"longTime":_e=Yt(P,qe.Long);break;case"fullTime":_e=Yt(P,qe.Full);break;case"short":const rt=ri(P,"shortTime"),tn=ri(P,"shortDate");_e=En(sn(P,qe.Short),[rt,tn]);break;case"medium":const fn=ri(P,"mediumTime"),Yn=ri(P,"mediumDate");_e=En(sn(P,qe.Medium),[fn,Yn]);break;case"long":const Vi=ri(P,"longTime"),Di=ri(P,"longDate");_e=En(sn(P,qe.Long),[Vi,Di]);break;case"full":const Ci=ri(P,"fullTime"),Ii=ri(P,"fullDate");_e=En(sn(P,qe.Full),[Ci,Ii])}return _e&&(ze[V][ee]=_e),_e}function En(P,ee){return ee&&(P=P.replace(/\{([^}]+)}/g,function(V,_e){return null!=ee&&_e in ee?ee[_e]:V})),P}function dn(P,ee,V="-",_e,rt){let tn="";(P<0||rt&&P<=0)&&(rt?P=1-P:(P=-P,tn=V));let fn=String(P);for(;fn.length<ee;)fn="0"+fn;return _e&&(fn=fn.slice(fn.length-ee)),tn+fn}function Ke(P,ee,V=0,_e=!1,rt=!1){return function(tn,fn){let Yn=function kt(P,ee){switch(P){case At.FullYear:return ee.getFullYear();case At.Month:return ee.getMonth();case At.Date:return ee.getDate();case At.Hours:return ee.getHours();case At.Minutes:return ee.getMinutes();case At.Seconds:return ee.getSeconds();case At.FractionalSeconds:return ee.getMilliseconds();case At.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,tn);if((V>0||Yn>-V)&&(Yn+=V),P===At.Hours)0===Yn&&-12===V&&(Yn=12);else if(P===At.FractionalSeconds)return function Hn(P,ee){return dn(P,3).substring(0,ee)}(Yn,ee);const Vi=bn(fn,je.MinusSign);return dn(Yn,ee,Vi,_e,rt)}}function Kt(P,ee,V=Ve.Format,_e=!1){return function(rt,tn){return function Sn(P,ee,V,_e,rt,tn){switch(V){case qt.Months:return function vt(P,ee,V){const _e=(0,l.cg1)(P),tn=De([_e[l.wAp.MonthsFormat],_e[l.wAp.MonthsStandalone]],ee);return De(tn,V)}(ee,rt,_e)[P.getMonth()];case qt.Days:return function An(P,ee,V){const _e=(0,l.cg1)(P),tn=De([_e[l.wAp.DaysFormat],_e[l.wAp.DaysStandalone]],ee);return De(tn,V)}(ee,rt,_e)[P.getDay()];case qt.DayPeriods:const fn=P.getHours(),Yn=P.getMinutes();if(tn){const Di=function ft(P){const ee=(0,l.cg1)(P);return nt(ee),(ee[l.wAp.ExtraData][2]||[]).map(_e=>"string"==typeof _e?Tt(_e):[Tt(_e[0]),Tt(_e[1])])}(ee),Ci=function Ee(P,ee,V){const _e=(0,l.cg1)(P);nt(_e);const tn=De([_e[l.wAp.ExtraData][0],_e[l.wAp.ExtraData][1]],ee)||[];return De(tn,V)||[]}(ee,rt,_e),Ii=Di.findIndex(sr=>{if(Array.isArray(sr)){const[Gn,Qr]=sr,bs=fn>=Gn.hours&&Yn>=Gn.minutes,$r=fn<Qr.hours||fn===Qr.hours&&Yn<Qr.minutes;if(Gn.hours<Qr.hours){if(bs&&$r)return!0}else if(bs||$r)return!0}else if(sr.hours===fn&&sr.minutes===Yn)return!0;return!1});if(-1!==Ii)return Ci[Ii]}return function yn(P,ee,V){const _e=(0,l.cg1)(P),tn=De([_e[l.wAp.DayPeriodsFormat],_e[l.wAp.DayPeriodsStandalone]],ee);return De(tn,V)}(ee,rt,_e)[fn<12?0:1];case qt.Eras:return function bt(P,ee){return De((0,l.cg1)(P)[l.wAp.Eras],ee)}(ee,_e)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(rt,tn,P,ee,V,_e)}}function hi(P){return function(ee,V,_e){const rt=-1*_e,tn=bn(V,je.MinusSign),fn=rt>0?Math.floor(rt/60):Math.ceil(rt/60);switch(P){case ht.Short:return(rt>=0?"+":"")+dn(fn,2,tn)+dn(Math.abs(rt%60),2,tn);case ht.ShortGMT:return"GMT"+(rt>=0?"+":"")+dn(fn,1,tn);case ht.Long:return"GMT"+(rt>=0?"+":"")+dn(fn,2,tn)+":"+dn(Math.abs(rt%60),2,tn);case ht.Extended:return 0===_e?"Z":(rt>=0?"+":"")+dn(fn,2,tn)+":"+dn(Math.abs(rt%60),2,tn);default:throw new Error(`Unknown zone width "${P}"`)}}}const Ei=0,gi=4;function lt(P){return Zn(P.getFullYear(),P.getMonth(),P.getDate()+(gi-P.getDay()))}function ut(P,ee=!1){return function(V,_e){let rt;if(ee){const tn=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,fn=V.getDate();rt=1+Math.floor((fn+tn)/7)}else{const tn=lt(V),fn=function Xt(P){const ee=Zn(P,Ei,1).getDay();return Zn(P,0,1+(ee<=gi?gi:gi+7)-ee)}(tn.getFullYear()),Yn=tn.getTime()-fn.getTime();rt=1+Math.round(Yn/6048e5)}return dn(rt,P,bn(_e,je.MinusSign))}}function Ze(P,ee=!1){return function(V,_e){return dn(lt(V).getFullYear(),P,bn(_e,je.MinusSign),ee)}}const He={};function Mt(P,ee){P=P.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(V)?ee:V}function j(P){return P instanceof Date&&!isNaN(P.valueOf())}function eo(P,ee){ee=encodeURIComponent(ee);for(const V of P.split(";")){const _e=V.indexOf("="),[rt,tn]=-1==_e?[V,""]:[V.slice(0,_e),V.slice(_e+1)];if(rt.trim()===ee)return decodeURIComponent(tn)}return null}const Oo=/\s+/,ds=[];let br=(()=>{class P{constructor(V,_e,rt,tn){this._iterableDiffers=V,this._keyValueDiffers=_e,this._ngEl=rt,this._renderer=tn,this.initialClasses=ds,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(Oo):ds}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(Oo):V}ngDoCheck(){for(const _e of this.initialClasses)this._updateState(_e,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const _e of V)this._updateState(_e,!0);else if(null!=V)for(const _e of Object.keys(V))this._updateState(_e,!!V[_e]);this._applyStateDiff()}_updateState(V,_e){const rt=this.stateMap.get(V);void 0!==rt?(rt.enabled!==_e&&(rt.changed=!0,rt.enabled=_e),rt.touched=!0):this.stateMap.set(V,{enabled:_e,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const _e=V[0],rt=V[1];rt.changed?(this._toggleClass(_e,rt.enabled),rt.changed=!1):rt.touched||(rt.enabled&&this._toggleClass(_e,!1),this.stateMap.delete(_e)),rt.touched=!1}}_toggleClass(V,_e){(V=V.trim()).length>0&&V.split(Oo).forEach(rt=>{_e?this._renderer.addClass(this._ngEl.nativeElement,rt):this._renderer.removeClass(this._ngEl.nativeElement,rt)})}}return P.\u0275fac=function(V){return new(V||P)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),P})();class Zr{constructor(ee,V,_e,rt){this.$implicit=ee,this.ngForOf=V,this.index=_e,this.count=rt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let to=(()=>{class P{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,_e,rt){this._viewContainer=V,this._template=_e,this._differs=rt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const _e=this._viewContainer;V.forEachOperation((rt,tn,fn)=>{if(null==rt.previousIndex)_e.createEmbeddedView(this._template,new Zr(rt.item,this._ngForOf,-1,-1),null===fn?void 0:fn);else if(null==fn)_e.remove(null===tn?void 0:tn);else if(null!==tn){const Yn=_e.get(tn);_e.move(Yn,fn),Ri(Yn,rt)}});for(let rt=0,tn=_e.length;rt<tn;rt++){const Yn=_e.get(rt).context;Yn.index=rt,Yn.count=tn,Yn.ngForOf=this._ngForOf}V.forEachIdentityChange(rt=>{Ri(_e.get(rt.currentIndex),rt)})}static ngTemplateContextGuard(V,_e){return!0}}return P.\u0275fac=function(V){return new(V||P)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function Ri(P,ee){P.context.$implicit=ee.item}let po=(()=>{class P{constructor(V,_e){this._viewContainer=V,this._context=new Yr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_e}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){er("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){er("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,_e){return!0}}return P.\u0275fac=function(V){return new(V||P)(l.Y36(l.s_b),l.Y36(l.Rgc))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class Yr{constructor(){this.$implicit=null,this.ngIf=null}}function er(P,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,l.AaK)(ee)}'.`)}let Ro=(()=>{class P{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const _e=this._viewContainerRef;if(this._viewRef&&_e.remove(_e.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:rt,ngTemplateOutletContext:tn,ngTemplateOutletInjector:fn}=this;this._viewRef=_e.createEmbeddedView(rt,tn,fn?{injector:fn}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(V){return new(V||P)(l.Y36(l.s_b))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),P})();const mn=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pn=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ai=(()=>{class P{constructor(V,_e,rt){this.locale=V,this.defaultTimezone=_e,this.defaultOptions=rt}transform(V,_e,rt,tn){if(null==V||""===V||V!=V)return null;try{return cn(V,_e??this.defaultOptions?.dateFormat??"mediumDate",tn||this.locale,rt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(fn){throw function mi(P,ee){return new l.vHH(2100,!1)}()}}}return P.\u0275fac=function(V){return new(V||P)(l.Y36(l.soG,16),l.Y36(mn,24),l.Y36(Pn,24))},P.\u0275pipe=l.Yjl({name:"date",type:P,pure:!0,standalone:!0}),P})(),Do=(()=>{class P{}return P.\u0275fac=function(V){return new(V||P)},P.\u0275mod=l.oAB({type:P}),P.\u0275inj=l.cJS({}),P})();const Fo="browser",Os="server";function Yo(P){return P===Fo}function go(P){return P===Os}let zo=(()=>{class P{}return P.\u0275prov=(0,l.Yz7)({token:P,providedIn:"root",factory:()=>new mo((0,l.LFG)(ae),window)}),P})();class mo{constructor(ee,V){this.document=ee,this.window=V,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const V=function $o(P,ee){const V=P.getElementById(ee)||P.getElementsByName(ee)[0];if(V)return V;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const _e=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let rt=_e.currentNode;for(;rt;){const tn=rt.shadowRoot;if(tn){const fn=tn.getElementById(ee)||tn.querySelector(`[name="${ee}"]`);if(fn)return fn}rt=_e.nextNode()}}return null}(this.document,ee);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=ee)}}scrollToElement(ee){const V=ee.getBoundingClientRect(),_e=V.left+this.window.pageXOffset,rt=V.top+this.window.pageYOffset,tn=this.offset();this.window.scrollTo(_e-tn[0],rt-tn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=is(this.window.history)||is(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function is(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Ir{}},3144:(gn,ot,y)=>{y.d(ot,{JF:()=>He,eN:()=>Ht});var l=y(2223),C=y(9646),p=y(8996),X=y(9751),B=y(4351),ae=y(9300),W=y(4004),ye=y(8746),Se=y(3900),oe=y(4755);class ue{}class pe{}class Le{constructor(ce){this.normalizedNames=new Map,this.lazyUpdate=null,ce?this.lazyInit="string"==typeof ce?()=>{this.headers=new Map,ce.split("\n").forEach(Te=>{const Fe=Te.indexOf(":");if(Fe>0){const Ue=Te.slice(0,Fe),Y=Ue.toLowerCase(),Ie=Te.slice(Fe+1).trim();this.maybeSetNormalizedName(Ue,Y),this.headers.has(Y)?this.headers.get(Y).push(Ie):this.headers.set(Y,[Ie])}})}:()=>{this.headers=new Map,Object.entries(ce).forEach(([Te,Fe])=>{let Ue;if(Ue="string"==typeof Fe?[Fe]:"number"==typeof Fe?[Fe.toString()]:Fe.map(Y=>Y.toString()),Ue.length>0){const Y=Te.toLowerCase();this.headers.set(Y,Ue),this.maybeSetNormalizedName(Te,Y)}})}:this.headers=new Map}has(ce){return this.init(),this.headers.has(ce.toLowerCase())}get(ce){this.init();const Te=this.headers.get(ce.toLowerCase());return Te&&Te.length>0?Te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ce){return this.init(),this.headers.get(ce.toLowerCase())||null}append(ce,Te){return this.clone({name:ce,value:Te,op:"a"})}set(ce,Te){return this.clone({name:ce,value:Te,op:"s"})}delete(ce,Te){return this.clone({name:ce,value:Te,op:"d"})}maybeSetNormalizedName(ce,Te){this.normalizedNames.has(Te)||this.normalizedNames.set(Te,ce)}init(){this.lazyInit&&(this.lazyInit instanceof Le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ce=>this.applyUpdate(ce)),this.lazyUpdate=null))}copyFrom(ce){ce.init(),Array.from(ce.headers.keys()).forEach(Te=>{this.headers.set(Te,ce.headers.get(Te)),this.normalizedNames.set(Te,ce.normalizedNames.get(Te))})}clone(ce){const Te=new Le;return Te.lazyInit=this.lazyInit&&this.lazyInit instanceof Le?this.lazyInit:this,Te.lazyUpdate=(this.lazyUpdate||[]).concat([ce]),Te}applyUpdate(ce){const Te=ce.name.toLowerCase();switch(ce.op){case"a":case"s":let Fe=ce.value;if("string"==typeof Fe&&(Fe=[Fe]),0===Fe.length)return;this.maybeSetNormalizedName(ce.name,Te);const Ue=("a"===ce.op?this.headers.get(Te):void 0)||[];Ue.push(...Fe),this.headers.set(Te,Ue);break;case"d":const Y=ce.value;if(Y){let Ie=this.headers.get(Te);if(!Ie)return;Ie=Ie.filter(yt=>-1===Y.indexOf(yt)),0===Ie.length?(this.headers.delete(Te),this.normalizedNames.delete(Te)):this.headers.set(Te,Ie)}else this.headers.delete(Te),this.normalizedNames.delete(Te)}}forEach(ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(Te=>ce(this.normalizedNames.get(Te),this.headers.get(Te)))}}class et{encodeKey(ce){return ke(ce)}encodeValue(ce){return ke(ce)}decodeKey(ce){return decodeURIComponent(ce)}decodeValue(ce){return decodeURIComponent(ce)}}const Ye=/%(\d[a-f0-9])/gi,$e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ke(de){return encodeURIComponent(de).replace(Ye,(ce,Te)=>$e[Te]??ce)}function wt(de){return`${de}`}class fe{constructor(ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ce.encoder||new et,ce.fromString){if(ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function We(de,ce){const Te=new Map;return de.length>0&&de.replace(/^\?/,"").split("&").forEach(Ue=>{const Y=Ue.indexOf("="),[Ie,yt]=-1==Y?[ce.decodeKey(Ue),""]:[ce.decodeKey(Ue.slice(0,Y)),ce.decodeValue(Ue.slice(Y+1))],Vt=Te.get(Ie)||[];Vt.push(yt),Te.set(Ie,Vt)}),Te}(ce.fromString,this.encoder)}else ce.fromObject?(this.map=new Map,Object.keys(ce.fromObject).forEach(Te=>{const Fe=ce.fromObject[Te],Ue=Array.isArray(Fe)?Fe.map(wt):[wt(Fe)];this.map.set(Te,Ue)})):this.map=null}has(ce){return this.init(),this.map.has(ce)}get(ce){this.init();const Te=this.map.get(ce);return Te?Te[0]:null}getAll(ce){return this.init(),this.map.get(ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ce,Te){return this.clone({param:ce,value:Te,op:"a"})}appendAll(ce){const Te=[];return Object.keys(ce).forEach(Fe=>{const Ue=ce[Fe];Array.isArray(Ue)?Ue.forEach(Y=>{Te.push({param:Fe,value:Y,op:"a"})}):Te.push({param:Fe,value:Ue,op:"a"})}),this.clone(Te)}set(ce,Te){return this.clone({param:ce,value:Te,op:"s"})}delete(ce,Te){return this.clone({param:ce,value:Te,op:"d"})}toString(){return this.init(),this.keys().map(ce=>{const Te=this.encoder.encodeKey(ce);return this.map.get(ce).map(Fe=>Te+"="+this.encoder.encodeValue(Fe)).join("&")}).filter(ce=>""!==ce).join("&")}clone(ce){const Te=new fe({encoder:this.encoder});return Te.cloneFrom=this.cloneFrom||this,Te.updates=(this.updates||[]).concat(ce),Te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ce=>this.map.set(ce,this.cloneFrom.map.get(ce))),this.updates.forEach(ce=>{switch(ce.op){case"a":case"s":const Te=("a"===ce.op?this.map.get(ce.param):void 0)||[];Te.push(wt(ce.value)),this.map.set(ce.param,Te);break;case"d":if(void 0===ce.value){this.map.delete(ce.param);break}{let Fe=this.map.get(ce.param)||[];const Ue=Fe.indexOf(wt(ce.value));-1!==Ue&&Fe.splice(Ue,1),Fe.length>0?this.map.set(ce.param,Fe):this.map.delete(ce.param)}}}),this.cloneFrom=this.updates=null)}}class me{constructor(){this.map=new Map}set(ce,Te){return this.map.set(ce,Te),this}get(ce){return this.map.has(ce)||this.map.set(ce,ce.defaultValue()),this.map.get(ce)}delete(ce){return this.map.delete(ce),this}has(ce){return this.map.has(ce)}keys(){return this.map.keys()}}function Ve(de){return typeof ArrayBuffer<"u"&&de instanceof ArrayBuffer}function Z(de){return typeof Blob<"u"&&de instanceof Blob}function qe(de){return typeof FormData<"u"&&de instanceof FormData}class Xe{constructor(ce,Te,Fe,Ue){let Y;if(this.url=Te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ce.toUpperCase(),function ge(de){switch(de){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ue?(this.body=void 0!==Fe?Fe:null,Y=Ue):Y=Fe,Y&&(this.reportProgress=!!Y.reportProgress,this.withCredentials=!!Y.withCredentials,Y.responseType&&(this.responseType=Y.responseType),Y.headers&&(this.headers=Y.headers),Y.context&&(this.context=Y.context),Y.params&&(this.params=Y.params)),this.headers||(this.headers=new Le),this.context||(this.context=new me),this.params){const Ie=this.params.toString();if(0===Ie.length)this.urlWithParams=Te;else{const yt=Te.indexOf("?");this.urlWithParams=Te+(-1===yt?"?":yt<Te.length-1?"&":"")+Ie}}else this.params=new fe,this.urlWithParams=Te}serializeBody(){return null===this.body?null:Ve(this.body)||Z(this.body)||qe(this.body)||function je(de){return typeof URLSearchParams<"u"&&de instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qe(this.body)?null:Z(this.body)?this.body.type||null:Ve(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ce={}){const Te=ce.method||this.method,Fe=ce.url||this.url,Ue=ce.responseType||this.responseType,Y=void 0!==ce.body?ce.body:this.body,Ie=void 0!==ce.withCredentials?ce.withCredentials:this.withCredentials,yt=void 0!==ce.reportProgress?ce.reportProgress:this.reportProgress;let Vt=ce.headers||this.headers,jn=ce.params||this.params;const ti=ce.context??this.context;return void 0!==ce.setHeaders&&(Vt=Object.keys(ce.setHeaders).reduce((Pt,St)=>Pt.set(St,ce.setHeaders[St]),Vt)),ce.setParams&&(jn=Object.keys(ce.setParams).reduce((Pt,St)=>Pt.set(St,ce.setParams[St]),jn)),new Xe(Te,Fe,Y,{params:jn,headers:Vt,context:ti,reportProgress:yt,responseType:Ue,withCredentials:Ie})}}var Ct=(()=>((Ct=Ct||{})[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct))();class yn{constructor(ce,Te=200,Fe="OK"){this.headers=ce.headers||new Le,this.status=void 0!==ce.status?ce.status:Te,this.statusText=ce.statusText||Fe,this.url=ce.url||null,this.ok=this.status>=200&&this.status<300}}class An extends yn{constructor(ce={}){super(ce),this.type=Ct.ResponseHeader}clone(ce={}){return new An({headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class vt extends yn{constructor(ce={}){super(ce),this.type=Ct.Response,this.body=void 0!==ce.body?ce.body:null}clone(ce={}){return new vt({body:void 0!==ce.body?ce.body:this.body,headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class bt extends yn{constructor(ce){super(ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ce.url||"(unknown url)"}`:`Http failure response for ${ce.url||"(unknown url)"}: ${ce.status} ${ce.statusText}`,this.error=ce.error||null}}function Bt(de,ce){return{body:ce,headers:de.headers,context:de.context,observe:de.observe,params:de.params,reportProgress:de.reportProgress,responseType:de.responseType,withCredentials:de.withCredentials}}let Ht=(()=>{class de{constructor(Te){this.handler=Te}request(Te,Fe,Ue={}){let Y;if(Te instanceof Xe)Y=Te;else{let Vt,jn;Vt=Ue.headers instanceof Le?Ue.headers:new Le(Ue.headers),Ue.params&&(jn=Ue.params instanceof fe?Ue.params:new fe({fromObject:Ue.params})),Y=new Xe(Te,Fe,void 0!==Ue.body?Ue.body:null,{headers:Vt,context:Ue.context,params:jn,reportProgress:Ue.reportProgress,responseType:Ue.responseType||"json",withCredentials:Ue.withCredentials})}const Ie=(0,C.of)(Y).pipe((0,B.b)(Vt=>this.handler.handle(Vt)));if(Te instanceof Xe||"events"===Ue.observe)return Ie;const yt=Ie.pipe((0,ae.h)(Vt=>Vt instanceof vt));switch(Ue.observe||"body"){case"body":switch(Y.responseType){case"arraybuffer":return yt.pipe((0,W.U)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Vt.body}));case"blob":return yt.pipe((0,W.U)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof Blob))throw new Error("Response is not a Blob.");return Vt.body}));case"text":return yt.pipe((0,W.U)(Vt=>{if(null!==Vt.body&&"string"!=typeof Vt.body)throw new Error("Response is not a string.");return Vt.body}));default:return yt.pipe((0,W.U)(Vt=>Vt.body))}case"response":return yt;default:throw new Error(`Unreachable: unhandled observe type ${Ue.observe}}`)}}delete(Te,Fe={}){return this.request("DELETE",Te,Fe)}get(Te,Fe={}){return this.request("GET",Te,Fe)}head(Te,Fe={}){return this.request("HEAD",Te,Fe)}jsonp(Te,Fe){return this.request("JSONP",Te,{params:(new fe).append(Fe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Te,Fe={}){return this.request("OPTIONS",Te,Fe)}patch(Te,Fe,Ue={}){return this.request("PATCH",Te,Bt(Ue,Fe))}post(Te,Fe,Ue={}){return this.request("POST",Te,Bt(Ue,Fe))}put(Te,Fe,Ue={}){return this.request("PUT",Te,Bt(Ue,Fe))}}return de.\u0275fac=function(Te){return new(Te||de)(l.LFG(ue))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();function en(de,ce){return ce(de)}function Yt(de,ce){return(Te,Fe)=>ce.intercept(Te,{handle:Ue=>de(Ue,Fe)})}const bn=new l.OlP(""),on=new l.OlP(""),Ft=new l.OlP("");function Je(){let de=null;return(ce,Te)=>{null===de&&(de=((0,l.f3M)(bn,{optional:!0})??[]).reduceRight(Yt,en));const Fe=(0,l.f3M)(l.HDt),Ue=Fe.add();return de(ce,Te).pipe((0,ye.x)(()=>Fe.remove(Ue)))}}let ct=(()=>{class de extends ue{constructor(Te,Fe){super(),this.backend=Te,this.injector=Fe,this.chain=null,this.pendingTasks=(0,l.f3M)(l.HDt)}handle(Te){if(null===this.chain){const Ue=Array.from(new Set([...this.injector.get(on),...this.injector.get(Ft,[])]));this.chain=Ue.reduceRight((Y,Ie)=>function sn(de,ce,Te){return(Fe,Ue)=>Te.runInContext(()=>ce(Fe,Y=>de(Y,Ue)))}(Y,Ie,this.injector),en)}const Fe=this.pendingTasks.add();return this.chain(Te,Ue=>this.backend.handle(Ue)).pipe((0,ye.x)(()=>this.pendingTasks.remove(Fe)))}}return de.\u0275fac=function(Te){return new(Te||de)(l.LFG(pe),l.LFG(l.lqb))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();const he=/^\)\]\}',?\n/;let at=(()=>{class de{constructor(Te){this.xhrFactory=Te}handle(Te){if("JSONP"===Te.method)throw new l.vHH(-2800,!1);const Fe=this.xhrFactory;return(Fe.\u0275loadImpl?(0,p.D)(Fe.\u0275loadImpl()):(0,C.of)(null)).pipe((0,Se.w)(()=>new X.y(Y=>{const Ie=Fe.build();if(Ie.open(Te.method,Te.urlWithParams),Te.withCredentials&&(Ie.withCredentials=!0),Te.headers.forEach((Rn,zn)=>Ie.setRequestHeader(Rn,zn.join(","))),Te.headers.has("Accept")||Ie.setRequestHeader("Accept","application/json, text/plain, */*"),!Te.headers.has("Content-Type")){const Rn=Te.detectContentTypeHeader();null!==Rn&&Ie.setRequestHeader("Content-Type",Rn)}if(Te.responseType){const Rn=Te.responseType.toLowerCase();Ie.responseType="json"!==Rn?Rn:"text"}const yt=Te.serializeBody();let Vt=null;const jn=()=>{if(null!==Vt)return Vt;const Rn=Ie.statusText||"OK",zn=new Le(Ie.getAllResponseHeaders()),di=function ze(de){return"responseURL"in de&&de.responseURL?de.responseURL:/^X-Request-URL:/m.test(de.getAllResponseHeaders())?de.getResponseHeader("X-Request-URL"):null}(Ie)||Te.url;return Vt=new An({headers:zn,status:Ie.status,statusText:Rn,url:di}),Vt},ti=()=>{let{headers:Rn,status:zn,statusText:di,url:Ji}=jn(),_i=null;204!==zn&&(_i=typeof Ie.response>"u"?Ie.responseText:Ie.response),0===zn&&(zn=_i?200:0);let vr=zn>=200&&zn<300;if("json"===Te.responseType&&"string"==typeof _i){const eo=_i;_i=_i.replace(he,"");try{_i=""!==_i?JSON.parse(_i):null}catch(Oo){_i=eo,vr&&(vr=!1,_i={error:Oo,text:_i})}}vr?(Y.next(new vt({body:_i,headers:Rn,status:zn,statusText:di,url:Ji||void 0})),Y.complete()):Y.error(new bt({error:_i,headers:Rn,status:zn,statusText:di,url:Ji||void 0}))},Pt=Rn=>{const{url:zn}=jn(),di=new bt({error:Rn,status:Ie.status||0,statusText:Ie.statusText||"Unknown Error",url:zn||void 0});Y.error(di)};let St=!1;const wn=Rn=>{St||(Y.next(jn()),St=!0);let zn={type:Ct.DownloadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(zn.total=Rn.total),"text"===Te.responseType&&Ie.responseText&&(zn.partialText=Ie.responseText),Y.next(zn)},Vn=Rn=>{let zn={type:Ct.UploadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(zn.total=Rn.total),Y.next(zn)};return Ie.addEventListener("load",ti),Ie.addEventListener("error",Pt),Ie.addEventListener("timeout",Pt),Ie.addEventListener("abort",Pt),Te.reportProgress&&(Ie.addEventListener("progress",wn),null!==yt&&Ie.upload&&Ie.upload.addEventListener("progress",Vn)),Ie.send(yt),Y.next({type:Ct.Sent}),()=>{Ie.removeEventListener("error",Pt),Ie.removeEventListener("abort",Pt),Ie.removeEventListener("load",ti),Ie.removeEventListener("timeout",Pt),Te.reportProgress&&(Ie.removeEventListener("progress",wn),null!==yt&&Ie.upload&&Ie.upload.removeEventListener("progress",Vn)),Ie.readyState!==Ie.DONE&&Ie.abort()}})))}}return de.\u0275fac=function(Te){return new(Te||de)(l.LFG(oe.JF))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();const ht=new l.OlP("XSRF_ENABLED"),qt=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Zn=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ri{}let En=(()=>{class de{constructor(Te,Fe,Ue){this.doc=Te,this.platform=Fe,this.cookieName=Ue,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Te=this.doc.cookie||"";return Te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.Mx)(Te,this.cookieName),this.lastCookieString=Te),this.lastToken}}return de.\u0275fac=function(Te){return new(Te||de)(l.LFG(oe.K0),l.LFG(l.Lbi),l.LFG(qt))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac}),de})();function dn(de,ce){const Te=de.url.toLowerCase();if(!(0,l.f3M)(ht)||"GET"===de.method||"HEAD"===de.method||Te.startsWith("http://")||Te.startsWith("https://"))return ce(de);const Fe=(0,l.f3M)(ri).getToken(),Ue=(0,l.f3M)(Zn);return null!=Fe&&!de.headers.has(Ue)&&(de=de.clone({headers:de.headers.set(Ue,Fe)})),ce(de)}var Ke=(()=>((Ke=Ke||{})[Ke.Interceptors=0]="Interceptors",Ke[Ke.LegacyInterceptors=1]="LegacyInterceptors",Ke[Ke.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ke[Ke.NoXsrfProtection=3]="NoXsrfProtection",Ke[Ke.JsonpSupport=4]="JsonpSupport",Ke[Ke.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ke))();function kt(de,ce){return{\u0275kind:de,\u0275providers:ce}}function Kt(...de){const ce=[Ht,at,ct,{provide:ue,useExisting:ct},{provide:pe,useExisting:at},{provide:on,useValue:dn,multi:!0},{provide:ht,useValue:!0},{provide:ri,useClass:En}];for(const Te of de)ce.push(...Te.\u0275providers);return(0,l.MR2)(ce)}const hi=new l.OlP("LEGACY_INTERCEPTOR_FN");let He=(()=>{class de{}return de.\u0275fac=function(Te){return new(Te||de)},de.\u0275mod=l.oAB({type:de}),de.\u0275inj=l.cJS({providers:[Kt(kt(Ke.LegacyInterceptors,[{provide:hi,useFactory:Je},{provide:on,useExisting:hi,multi:!0}]))]}),de})()},2223:(gn,ot,y)=>{y.d(ot,{$8M:()=>Uc,$WT:()=>lr,$Z:()=>H_,AFp:()=>Hf,ALo:()=>hw,AaK:()=>pe,BQk:()=>xd,CHM:()=>bo,CRH:()=>Tw,D6c:()=>OD,EJc:()=>LC,EiD:()=>p_,EpF:()=>ug,F$t:()=>Mh,F4k:()=>yu,FYo:()=>eu,FiY:()=>Qa,Gf:()=>Dw,GfV:()=>mm,GkF:()=>Hm,Gpc:()=>et,HDt:()=>qw,Hsn:()=>_v,Ikx:()=>Ph,JOm:()=>ka,JVY:()=>pb,JZr:()=>wt,KtG:()=>os,L6k:()=>gb,LAX:()=>Gd,LFG:()=>Re,LSH:()=>Rf,Lbi:()=>am,Lck:()=>CE,MAs:()=>gv,MMx:()=>Q0,MR2:()=>rd,NdJ:()=>Fc,O4$:()=>R,Ojb:()=>D_,OlP:()=>lo,Oqu:()=>xg,P3R:()=>Jh,PXZ:()=>XC,Q6J:()=>ag,QGY:()=>Th,QbO:()=>Ib,Qsj:()=>hm,R0b:()=>$a,RDi:()=>r_,Rgc:()=>Fg,SBq:()=>ud,Sil:()=>UC,Suo:()=>Iw,TTD:()=>ta,TgZ:()=>Dh,Udp:()=>Bl,VKq:()=>ow,W1O:()=>Aw,WFA:()=>Ed,WLB:()=>sw,X6Q:()=>sD,XFs:()=>ht,Xpm:()=>jr,Xts:()=>id,Y36:()=>Al,YKP:()=>Y0,YNc:()=>Fl,Yjl:()=>us,Yz7:()=>nt,Z0I:()=>De,ZZ4:()=>d0,_Bn:()=>Z0,_UZ:()=>jm,_Vd:()=>ld,_c5:()=>xD,_uU:()=>Rv,aQg:()=>u0,c2e:()=>Yw,cJS:()=>Ee,cg1:()=>Qm,d8E:()=>Tu,dDg:()=>ZC,dqk:()=>En,eBb:()=>El,eFA:()=>dx,eJc:()=>Wy,ekj:()=>Ah,eoX:()=>sx,f3M:()=>Gt,g9A:()=>qd,h0i:()=>Xm,hGG:()=>ED,hij:()=>Km,iGM:()=>Cw,ifc:()=>Fe,ip1:()=>Zw,jDz:()=>X0,kL8:()=>Zv,kcU:()=>N,lG2:()=>Ro,lqb:()=>Ml,lri:()=>rx,mCW:()=>Zu,n5z:()=>Wl,n_E:()=>Xv,oAB:()=>jo,oxw:()=>$m,pB0:()=>l_,q3G:()=>Uo,q4F:()=>ep,qFp:()=>PD,qLn:()=>nu,qOj:()=>Up,qZA:()=>Pc,qzn:()=>td,rWj:()=>ox,rg0:()=>Fs,s9C:()=>hg,sBO:()=>aD,s_b:()=>eb,soG:()=>nb,tb:()=>r0,tp0:()=>Hs,uIk:()=>qp,vHH:()=>fe,vpe:()=>jl,wAp:()=>Si,xi3:()=>mw,xp6:()=>U_,ynx:()=>wd,z2F:()=>tf,z3N:()=>Zc,zSh:()=>Qc,zs3:()=>kl});var l=y(7579),C=y(727),p=y(1135),X=y(9751),B=y(6451),ae=y(9646),W=y(3099),ye=y(3900),Se=y(1884);function oe(n){for(let i in n)if(n[i]===oe)return i;throw Error("Could not find renamed property on target object.")}function ue(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Le(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Pe=oe({__forward_ref__:oe});function et(n){return n.__forward_ref__=et,n.toString=function(){return pe(this())},n}function We(n){return Ye(n)?n():n}function Ye(n){return"function"==typeof n&&n.hasOwnProperty(Pe)&&n.__forward_ref__===et}function $e(n){return n&&!!n.\u0275providers}const wt="https://g.co/ng/security#xss";class fe extends Error{constructor(i,s){super(function we(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function me(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n,i){throw new fe(-201,!1)}function Ft(n,i){null==n&&function Je(n,i,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function nt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ee(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ce(n){return Tt(n,It)||Tt(n,ze)}function De(n){return null!==Ce(n)}function Tt(n,i){return n.hasOwnProperty(i)?n[i]:null}function an(n){return n&&(n.hasOwnProperty(he)||n.hasOwnProperty(at))?n[he]:null}const It=oe({\u0275prov:oe}),he=oe({\u0275inj:oe}),ze=oe({ngInjectableDef:oe}),at=oe({ngInjectorDef:oe});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let At;function cn(n){const i=At;return At=n,i}function Zn(n,i,s){const c=Ce(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&ht.Optional?null:void 0!==i?i:void je(pe(n))}const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kt={},Kt="__NG_DI_FLAG__",Sn="ngTempTokenPath",Ei=/\n/gm,Xt="__source";let lt;function Ze(n){const i=lt;return lt=n,i}function He(n,i=ht.Default){if(void 0===lt)throw new fe(-203,!1);return null===lt?Zn(n,void 0,i):lt.get(n,i&ht.Optional?null:void 0,i)}function Re(n,i=ht.Default){return(function qt(){return At}()||He)(We(n),i)}function Gt(n,i=ht.Default){return Re(n,Be(i))}function Be(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function le(n){const i=[];for(let s=0;s<n.length;s++){const c=We(n[s]);if(Array.isArray(c)){if(0===c.length)throw new fe(900,!1);let d,h=ht.Default;for(let w=0;w<c.length;w++){const T=c[w],F=j(T);"number"==typeof F?-1===F?d=T.token:h|=F:d=T}i.push(Re(d,h))}else i.push(Re(c))}return i}function z(n,i){return n[Kt]=i,n.prototype[Kt]=i,n}function j(n){return n[Kt]}function ce(n){return{toString:n}.toString()}var Te=(()=>((Te=Te||{})[Te.OnPush=0]="OnPush",Te[Te.Default=1]="Default",Te))(),Fe=(()=>{return(n=Fe||(Fe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Fe;var n})();const Ue={},Y=[],Ie=oe({\u0275cmp:oe}),yt=oe({\u0275dir:oe}),Vt=oe({\u0275pipe:oe}),jn=oe({\u0275mod:oe}),ti=oe({\u0275fac:oe}),Pt=oe({__NG_ELEMENT_ID__:oe}),St=oe({__NG_ENV_ID__:oe});function wn(n,i,s){let c=n.length;for(;;){const d=n.indexOf(i,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const h=i.length;if(d+h===c||n.charCodeAt(d+h)<=32)return d}s=d+1}}function Vn(n,i,s){let c=0;for(;c<s.length;){const d=s[c];if("number"==typeof d){if(0!==d)break;c++;const h=s[c++],w=s[c++],T=s[c++];n.setAttribute(i,w,T,h)}else{const h=d,w=s[++c];zn(h)?n.setProperty(i,h,w):n.setAttribute(i,h,w),c++}}return c}function Rn(n){return 3===n||4===n||6===n}function zn(n){return 64===n.charCodeAt(0)}function di(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let c=0;c<i.length;c++){const d=i[c];"number"==typeof d?s=d:0===s||Ji(n,s,d,null,-1===s||2===s?i[++c]:null)}}return n}function Ji(n,i,s,c,d){let h=0,w=n.length;if(-1===i)w=-1;else for(;h<n.length;){const T=n[h++];if("number"==typeof T){if(T===i){w=-1;break}if(T>i){w=h-1;break}}}for(;h<n.length;){const T=n[h];if("number"==typeof T)break;if(T===s){if(null===c)return void(null!==d&&(n[h+1]=d));if(c===n[h+1])return void(n[h+2]=d)}h++,null!==c&&h++,null!==d&&h++}-1!==w&&(n.splice(w,0,i),h=w+1),n.splice(h++,0,s),null!==c&&n.splice(h++,0,c),null!==d&&n.splice(h++,0,d)}const _i="ng-template";function vr(n,i,s){let c=0,d=!0;for(;c<n.length;){let h=n[c++];if("string"==typeof h&&d){const w=n[c++];if(s&&"class"===h&&-1!==wn(w.toLowerCase(),i,0))return!0}else{if(1===h){for(;c<n.length&&"string"==typeof(h=n[c++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(d=!1)}}return!1}function eo(n){return 4===n.type&&n.value!==_i}function Oo(n,i,s){return i===(4!==n.type||s?n.value:_i)}function ds(n,i,s){let c=4;const d=n.attrs||[],h=function to(n){for(let i=0;i<n.length;i++)if(Rn(n[i]))return i;return n.length}(d);let w=!1;for(let T=0;T<i.length;T++){const F=i[T];if("number"!=typeof F){if(!w)if(4&c){if(c=2|1&c,""!==F&&!Oo(n,F,s)||""===F&&1===i.length){if(br(c))return!1;w=!0}}else{const Q=8&c?F:i[++T];if(8&c&&null!==n.attrs){if(!vr(n.attrs,Q,s)){if(br(c))return!1;w=!0}continue}const Qe=Kr(8&c?"class":F,d,eo(n),s);if(-1===Qe){if(br(c))return!1;w=!0;continue}if(""!==Q){let Ot;Ot=Qe>h?"":d[Qe+1].toLowerCase();const Zt=8&c?Ot:null;if(Zt&&-1!==wn(Zt,Q,0)||2&c&&Q!==Ot){if(br(c))return!1;w=!0}}}}else{if(!w&&!br(c)&&!br(F))return!1;if(w&&br(F))continue;w=!1,c=F|1&c}}return br(c)||w}function br(n){return 0==(1&n)}function Kr(n,i,s,c){if(null===i)return-1;let d=0;if(c||!s){let h=!1;for(;d<i.length;){const w=i[d];if(w===n)return d;if(3===w||6===w)h=!0;else{if(1===w||2===w){let T=i[++d];for(;"string"==typeof T;)T=i[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=h?1:2}return-1}return function Ri(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===i)return s;s++}return-1}(i,n)}function zr(n,i,s=!1){for(let c=0;c<i.length;c++)if(ds(n,i[c],s))return!0;return!1}function Zo(n,i){e:for(let s=0;s<i.length;s++){const c=i[s];if(n.length===c.length){for(let d=0;d<n.length;d++)if(n[d]!==c[d])continue e;return!0}}return!1}function po(n,i){return n?":not("+i.trim()+")":i}function Yr(n){let i=n[0],s=1,c=2,d="",h=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&c){const T=n[++s];d+="["+w+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?d+="."+w:4&c&&(d+=" "+w);else""!==d&&!br(w)&&(i+=po(h,d),d=""),c=w,h=h||!br(c);s++}return""!==d&&(i+=po(h,d)),i}function jr(n){return ce(()=>{const i=Eo(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Te.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Fe.Emulated,styles:n.styles||Y,_:null,schemas:n.schemas||null,tView:null,id:""};Dt(s);const c=n.dependencies;return s.directiveDefs=gt(c,!1),s.pipeDefs=gt(c,!0),s.id=function hn(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const d of s)i=Math.imul(31,i)+d.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function Cs(n){return mi(n)||Dr(n)}function no(n){return null!==n}function jo(n){return ce(()=>({type:n.type,bootstrap:n.bootstrap||Y,declarations:n.declarations||Y,imports:n.imports||Y,exports:n.exports||Y,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cr(n,i){if(null==n)return Ue;const s={};for(const c in n)if(n.hasOwnProperty(c)){let d=n[c],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),s[d]=c,i&&(i[d]=h)}return s}function Ro(n){return ce(()=>{const i=Eo(n);return Dt(i),i})}function us(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function mi(n){return n[Ie]||null}function Dr(n){return n[yt]||null}function yi(n){return n[Vt]||null}function lr(n){const i=mi(n)||Dr(n)||yi(n);return null!==i&&i.standalone}function hr(n,i){const s=n[jn]||null;if(!s&&!0===i)throw new Error(`Type ${pe(n)} does not have '\u0275mod' property.`);return s}function Eo(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Y,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cr(n.inputs,i),outputs:Cr(n.outputs)}}function Dt(n){n.features?.forEach(i=>i(n))}function gt(n,i){if(!n)return null;const s=i?yi:Cs;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(no)}const _n=0,mn=1,Pn=2,ai=3,bi=4,Fr=5,Pi=6,ir=7,Wi=8,ho=9,Co=10,ci=11,ns=12,Po=13,Nr=14,rr=15,Ho=16,Ds=17,Do=18,Fo=19,Os=20,dr=21,or=22,Yo=23,go=24,ki=25,Io=1,zo=2,mo=7,is=8,$o=9,Ir=11;function Zi(n){return Array.isArray(n)&&"object"==typeof n[Io]}function Tr(n){return Array.isArray(n)&&!0===n[Io]}function fo(n){return 0!=(4&n.flags)}function Lr(n){return n.componentOffset>-1}function qo(n){return 1==(1&n.flags)}function Gi(n){return!!n.template}function Lo(n){return 0!=(512&n[Pn])}function _t(n,i){return n.hasOwnProperty(ti)?n[ti]:null}let Ai=En.WeakRef??class wi{constructor(i){this.ref=i}deref(){return this.ref}},fr=0,Ni=null,pr=!1;function fi(n){const i=Ni;return Ni=n,i}class vo{constructor(){this.id=fr++,this.ref=function yr(n){return new Ai(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const c=s.producerNode.deref();if(void 0!==c&&s.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=pr;pr=!0;try{for(const[s,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),d?.producers.delete(this.id))}}finally{pr=i}}producerAccessed(){if(pr)throw new Error("");if(null===Ni)return;let i=Ni.producers.get(this.id);void 0===i?(i={consumerNode:Ni.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ni.trackingVersion},Ni.producers.set(this.id,i),this.consumers.set(Ni.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Ni.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ni?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let Rs=null;function Fs(n){const i=fi(null);try{return n()}finally{fi(i)}}const Oa=()=>{};class _a extends vo{constructor(i,s,c){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=Oa,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=fi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Oa,this.watch(this.registerOnCleanup)}finally{fi(i)}}cleanup(){this.cleanupFn()}}class va{constructor(i,s,c){this.previousValue=i,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function ta(){return ca}function ca(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ia),gs}function gs(){const n=ba(this),i=n?.current;if(i){const s=n.previous;if(s===Ue)n.previous=i;else for(let c in i)s[c]=i[c];n.current=null,this.ngOnChanges(i)}}function Ia(n,i,s,c){const d=this.declaredInputs[s],h=ba(n)||function Ra(n,i){return n[na]=i}(n,{previous:Ue,current:null}),w=h.current||(h.current={}),T=h.previous,F=T[d];w[d]=new va(F&&F.currentValue,i,T===Ue),n[c]=i}ta.ngInherit=!0;const na="__ngSimpleChanges__";function ba(n){return n[na]||null}const vs=function(n,i,s){},Ta="svg";function tr(n){for(;Array.isArray(n);)n=n[_n];return n}function Ks(n,i){return tr(i[n])}function Ti(n,i){return tr(i[n.index])}function P(n,i){return n.data[i]}function ee(n,i){return n[i]}function V(n,i){const s=i[n];return Zi(s)?s:s[_n]}function rt(n){return 128==(128&n[Pn])}function fn(n,i){return null==i?null:n[i]}function Yn(n){n[Ds]=0}function Vi(n){1024&n[Pn]||(n[Pn]|=1024,Ci(n,1))}function Di(n){1024&n[Pn]&&(n[Pn]&=-1025,Ci(n,-1))}function Ci(n,i){let s=n[ai];if(null===s)return;s[Fr]+=i;let c=s;for(s=s[ai];null!==s&&(1===i&&1===c[Fr]||-1===i&&0===c[Fr]);)s[Fr]+=i,c=s,s=s[ai]}const Gn={lFrame:gr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zs(){return Gn.bindingsEnabled}function rs(){return null!==Gn.skipHydrationRootTNode}function Cn(){return Gn.lFrame.lView}function nr(){return Gn.lFrame.tView}function bo(n){return Gn.lFrame.contextLView=n,n[Wi]}function os(n){return Gn.lFrame.contextLView=null,n}function Gr(){let n=Fa();for(;null!==n&&64===n.type;)n=n.parent;return n}function Fa(){return Gn.lFrame.currentTNode}function Mn(n,i){const s=Gn.lFrame;s.currentTNode=n,s.isParent=i}function wr(){return Gn.lFrame.isParent}function Ms(){Gn.lFrame.isParent=!1}function Ss(){const n=Gn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function _(){return Gn.lFrame.bindingIndex++}function mt(n,i){const s=Gn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Qt(i)}function Qt(n){Gn.lFrame.currentDirectiveIndex=n}function pn(n){const i=Gn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Un(){return Gn.lFrame.currentQueryIndex}function Xn(n){Gn.lFrame.currentQueryIndex=n}function Hi(n){const i=n[mn];return 2===i.type?i.declTNode:1===i.type?n[Pi]:null}function Oi(n,i,s){if(s&ht.SkipSelf){let d=i,h=n;for(;!(d=d.parent,null!==d||s&ht.Host||(d=Hi(h),null===d||(h=h[Nr],10&d.type))););if(null===d)return!1;i=d,n=h}const c=Gn.lFrame=Fn();return c.currentTNode=i,c.lView=n,!0}function ui(n){const i=Fn(),s=n[mn];Gn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Fn(){const n=Gn.lFrame,i=null===n?null:n.child;return null===i?gr(n):i}function gr(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function yo(){const n=Gn.lFrame;return Gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ji=yo;function Qn(){const n=yo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function so(){return Gn.lFrame.selectedIndex}function Ui(n){Gn.lFrame.selectedIndex=n}function E(){const n=Gn.lFrame;return P(n.tView,n.selectedIndex)}function R(){Gn.lFrame.currentNamespace=Ta}function N(){!function ne(){Gn.lFrame.currentNamespace=null}()}let Ne=!0;function Ut(){return Ne}function Wt(n){Ne=n}function xn(n,i){for(let s=i.directiveStart,c=i.directiveEnd;s<c;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:T,ngAfterViewInit:F,ngAfterViewChecked:Q,ngOnDestroy:be}=h;w&&(n.contentHooks??=[]).push(-s,w),T&&((n.contentHooks??=[]).push(s,T),(n.contentCheckHooks??=[]).push(s,T)),F&&(n.viewHooks??=[]).push(-s,F),Q&&((n.viewHooks??=[]).push(s,Q),(n.viewCheckHooks??=[]).push(s,Q)),null!=be&&(n.destroyHooks??=[]).push(s,be)}}function si(n,i,s){Br(n,i,3,s)}function qi(n,i,s,c){(3&n[Pn])===s&&Br(n,i,s,c)}function ys(n,i){let s=n[Pn];(3&s)===i&&(s&=4095,s+=1,n[Pn]=s)}function Br(n,i,s,c){const h=c??-1,w=i.length-1;let T=0;for(let F=void 0!==c?65535&n[Ds]:0;F<w;F++)if("number"==typeof i[F+1]){if(T=i[F],null!=c&&T>=c)break}else i[F]<0&&(n[Ds]+=65536),(T<h||-1==h)&&(Lt(n,s,i,F),n[Ds]=(4294901760&n[Ds])+F+2),F++}function Xo(n,i){vs(4,n,i);const s=fi(null);try{i.call(n)}finally{fi(s),vs(5,n,i)}}function Lt(n,i,s,c){const d=s[c]<0,h=s[c+1],T=n[d?-s[c]:s[c]];d?n[Pn]>>12<n[Ds]>>16&&(3&n[Pn])===i&&(n[Pn]+=4096,Xo(T,h)):Xo(T,h)}const ws=-1;class xs{constructor(i,s,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Ma(n){return n!==ws}function ks(n){return 32767&n}function La(n,i){let s=function Qs(n){return n>>16}(n),c=i;for(;s>0;)c=c[Nr],s--;return c}let Lc=!0;function So(n){const i=Lc;return Lc=n,i}const cl=255,as=5;let wc=0;const da={};function dl(n,i){const s=hl(n,i);if(-1!==s)return s;const c=i[mn];c.firstCreatePass&&(n.injectorIndex=i.length,ul(c.data,n),ul(i,null),ul(c.blueprint,null));const d=Hl(n,i),h=n.injectorIndex;if(Ma(d)){const w=ks(d),T=La(d,i),F=T[mn].data;for(let Q=0;Q<8;Q++)i[h+Q]=T[w+Q]|F[w+Q]}return i[h+8]=d,h}function ul(n,i){n.push(0,0,0,0,0,0,0,0,i)}function hl(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Hl(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,d=i;for(;null!==d;){if(c=Es(d),null===c)return ws;if(s++,d=d[Nr],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return ws}function Ba(n,i,s){!function ll(n,i,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Pt)&&(c=s[Pt]),null==c&&(c=s[Pt]=wc++);const d=c&cl;i.data[n+(d>>as)]|=1<<d}(n,i,s)}function Ou(n,i,s){if(s&ht.Optional||void 0!==n)return n;je()}function xc(n,i,s,c){if(s&ht.Optional&&void 0===c&&(c=null),!(s&(ht.Self|ht.Host))){const d=n[ho],h=cn(void 0);try{return d?d.get(i,c,s&ht.Optional):Zn(i,c,s&ht.Optional)}finally{cn(h)}}return Ou(c,0,s)}function zl(n,i,s,c=ht.Default,d){if(null!==n){if(2048&i[Pn]&&!(c&ht.Self)){const w=function Kl(n,i,s,c,d){let h=n,w=i;for(;null!==h&&null!==w&&2048&w[Pn]&&!(512&w[Pn]);){const T=$l(h,w,s,c|ht.Self,da);if(T!==da)return T;let F=h.parent;if(!F){const Q=w[Os];if(Q){const be=Q.get(s,da,c);if(be!==da)return be}F=Es(w),w=w[Nr]}h=F}return d}(n,i,s,c,da);if(w!==da)return w}const h=$l(n,i,s,c,da);if(h!==da)return h}return xc(i,s,c,d)}function $l(n,i,s,c,d){const h=function Ru(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Pt)?n[Pt]:void 0;return"number"==typeof i?i>=0?i&cl:Od:i}(s);if("function"==typeof h){if(!Oi(i,n,c))return c&ht.Host?Ou(d,0,c):xc(i,s,c,d);try{const w=h(c);if(null!=w||c&ht.Optional)return w;je()}finally{ji()}}else if("number"==typeof h){let w=null,T=hl(n,i),F=ws,Q=c&ht.Host?i[rr][Pi]:null;for((-1===T||c&ht.SkipSelf)&&(F=-1===T?Hl(n,i):i[T+8],F!==ws&&fl(c,!1)?(w=i[mn],T=ks(F),i=La(F,i)):T=-1);-1!==T;){const be=i[mn];if(Gl(h,T,be.data)){const Qe=Bh(T,i,s,w,c,Q);if(Qe!==da)return Qe}F=i[T+8],F!==ws&&fl(c,i[mn].data[T+8]===Q)&&Gl(h,T,i)?(w=be,T=ks(F),i=La(F,i)):T=-1}}return d}function Bh(n,i,s,c,d,h){const w=i[mn],T=w.data[n+8],be=ml(T,w,s,null==c?Lr(T)&&Lc:c!=w&&0!=(3&T.type),d&ht.Host&&h===T);return null!==be?Ga(i,w,be,T):da}function ml(n,i,s,c,d){const h=n.providerIndexes,w=i.data,T=1048575&h,F=n.directiveStart,be=h>>20,Ot=d?T+be:n.directiveEnd;for(let Zt=c?T:T+be;Zt<Ot;Zt++){const Dn=w[Zt];if(Zt<F&&s===Dn||Zt>=F&&Dn.type===s)return Zt}if(d){const Zt=w[F];if(Zt&&Gi(Zt)&&Zt.type===s)return F}return null}function Ga(n,i,s,c){let d=n[s];const h=i.data;if(function ss(n){return n instanceof xs}(d)){const w=d;w.resolving&&function Ve(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new fe(-200,`Circular dependency in DI detected for ${n}${s}`)}(function ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():me(n)}(h[s]));const T=So(w.canSeeViewProviders);w.resolving=!0;const F=w.injectImpl?cn(w.injectImpl):null;Oi(n,c,ht.Default);try{d=n[s]=w.factory(void 0,h,n,c),i.firstCreatePass&&s>=c.directiveStart&&function In(n,i,s){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:h}=i.type.prototype;if(c){const w=ca(i);(s.preOrderHooks??=[]).push(n,w),(s.preOrderCheckHooks??=[]).push(n,w)}d&&(s.preOrderHooks??=[]).push(0-n,d),h&&((s.preOrderHooks??=[]).push(n,h),(s.preOrderCheckHooks??=[]).push(n,h))}(s,h[s],i)}finally{null!==F&&cn(F),So(T),w.resolving=!1,ji()}}return d}function Gl(n,i,s){return!!(s[i+(n>>as)]&1<<n)}function fl(n,i){return!(n&ht.Self||n&ht.Host&&i)}class Wa{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,c){return zl(this._tNode,this._lView,i,Be(c),s)}}function Od(){return new Wa(Gr(),Cn())}function Wl(n){return ce(()=>{const i=n.prototype.constructor,s=i[ti]||Bc(i),c=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==c;){const h=d[ti]||Bc(d);if(h&&h!==s)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Bc(n){return Ye(n)?()=>{const i=Bc(We(n));return i&&i()}:_t(n)}function Es(n){const i=n[mn],s=i.type;return 2===s?i.declTNode:1===s?n[Pi]:null}function Uc(n){return function Lh(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const c=s.length;let d=0;for(;d<c;){const h=s[d];if(Rn(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<c&&"string"==typeof s[d];)d++;else{if(h===i)return s[d+1];d+=2}}}return null}(Gr(),n)}const Ua="__parameters__";function Er(n,i,s){return ce(()=>{const c=function cs(n){return function(...s){if(n){const c=n(...s);for(const d in c)this[d]=c[d]}}}(i);function d(...h){if(this instanceof d)return c.apply(this,h),this;const w=new d(...h);return T.annotation=w,T;function T(F,Q,be){const Qe=F.hasOwnProperty(Ua)?F[Ua]:Object.defineProperty(F,Ua,{value:[]})[Ua];for(;Qe.length<=be;)Qe.push(null);return(Qe[be]=Qe[be]||[]).push(w),F}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}function Ya(n,i){n.forEach(s=>Array.isArray(s)?Ya(s,i):i(s))}function js(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function ra(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function qa(n,i){const s=[];for(let c=0;c<n;c++)s.push(i);return s}function M(n,i,s){let c=re(n,i);return c>=0?n[1|c]=s:(c=~c,function Ic(n,i,s,c){let d=n.length;if(d==i)n.push(s,c);else if(1===d)n.push(c,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=s,n[i+1]=c}}(n,c,i,s)),c}function L(n,i){const s=re(n,i);if(s>=0)return n[1|s]}function re(n,i){return function xt(n,i,s){let c=0,d=n.length>>s;for(;d!==c;){const h=c+(d-c>>1),w=n[h<<s];if(i===w)return h<<s;w>i?d=h:c=h+1}return~(d<<s)}(n,i,1)}const Qa=z(Er("Optional"),8),Hs=z(Er("SkipSelf"),4);function Hc(n){return 128==(128&n.flags)}var ka=(()=>((ka=ka||{})[ka.Important=1]="Important",ka[ka.DashCase=2]="DashCase",ka))();const Lg=/^>|^->|<!--|-->|--!>|<!-$/g,Bg=/(<|>)/,ab="\u200b$1\u200b";const af=new Map;let Aa=0;const Qi="__ngContext__";function ma(n,i){Zi(i)?(n[Qi]=i[Fo],function Bu(n){af.set(n[Fo],n)}(i)):n[Qi]=i}let zc;function zh(n,i){return zc(n,i)}function jd(n){const i=n[ai];return Tr(i)?i[ai]:i}function hf(n){return es(n[ns])}function mf(n){return es(n[bi])}function es(n){for(;null!==n&&!Tr(n);)n=n[bi];return n}function $c(n,i,s,c,d){if(null!=c){let h,w=!1;Tr(c)?h=c:Zi(c)&&(w=!0,c=c[_n]);const T=tr(c);0===n&&null!==s?null==d?Ur(i,s,T):Go(i,s,T,d||null,!0):1===n&&null!==s?Go(i,s,T,d||null,!0):2===n?function $u(n,i,s){const c=Jl(n,i);c&&function Qg(n,i,s,c){n.removeChild(i,s,c)}(n,c,i,s)}(i,T,w):3===n&&i.destroyNode(T),null!=h&&function db(n,i,s,c,d){const h=s[mo];h!==tr(s)&&$c(i,n,c,h,d);for(let T=Ir;T<s.length;T++){const F=s[T];$d(F[mn],F,n,i,c,h)}}(i,n,h,s,d)}}function pf(n,i){return n.createComment(function Sc(n){return n.replace(Lg,i=>i.replace(Bg,ab))}(i))}function yl(n,i,s){return n.createElement(i,s)}function gf(n,i){const s=n[$o],c=s.indexOf(i);Di(i),s.splice(c,1)}function wl(n,i){if(n.length<=Ir)return;const s=Ir+i,c=n[s];if(c){const d=c[Ho];null!==d&&d!==n&&gf(d,c),i>0&&(n[s-1][bi]=c[bi]);const h=ra(n,Ir+i);!function lb(n,i){$d(n,i,i[ci],2,null,null),i[_n]=null,i[Pi]=null}(c[mn],c);const w=h[Do];null!==w&&w.detachView(h[mn]),c[ai]=null,c[bi]=null,c[Pn]&=-129}return c}function $h(n,i){if(!(256&i[Pn])){const s=i[ci];i[Yo]?.destroy(),i[go]?.destroy(),s.destroyNode&&$d(n,i,s,3,null,null),function Gc(n){let i=n[ns];if(!i)return ju(n[mn],n);for(;i;){let s=null;if(Zi(i))s=i[ns];else{const c=i[Ir];c&&(s=c)}if(!s){for(;i&&!i[bi]&&i!==n;)Zi(i)&&ju(i[mn],i),i=i[ai];null===i&&(i=n),Zi(i)&&ju(i[mn],i),s=i&&i[bi]}i=s}}(i)}}function ju(n,i){if(!(256&i[Pn])){i[Pn]&=-129,i[Pn]|=256,function vf(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const d=i[s[c]];if(!(d instanceof xs)){const h=s[c+1];if(Array.isArray(h))for(let w=0;w<h.length;w+=2){const T=d[h[w]],F=h[w+1];vs(4,T,F);try{F.call(T)}finally{vs(5,T,F)}}else{vs(4,d,h);try{h.call(d)}finally{vs(5,d,h)}}}}}(n,i),function _f(n,i){const s=n.cleanup,c=i[ir];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const w=s[h+3];w>=0?c[w]():c[-w].unsubscribe(),h+=2}else s[h].call(c[s[h+1]]);null!==c&&(i[ir]=null);const d=i[dr];if(null!==d){i[dr]=null;for(let h=0;h<d.length;h++)(0,d[h])()}}(n,i),1===i[mn].type&&i[ci].destroy();const s=i[Ho];if(null!==s&&Tr(i[ai])){s!==i[ai]&&gf(s,i);const c=i[Do];null!==c&&c.detachView(n)}!function kc(n){af.delete(n[Fo])}(i)}}function bf(n,i,s){return function qg(n,i,s){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return s[_n];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:h}=n.data[c.directiveStart+d];if(h===Fe.None||h===Fe.Emulated)return null}return Ti(c,s)}}(n,i.parent,s)}function Go(n,i,s,c,d){n.insertBefore(i,s,c,d)}function Ur(n,i,s){n.appendChild(i,s)}function yf(n,i,s,c,d){null!==c?Go(n,i,s,c,d):Ur(n,i,s)}function Jl(n,i){return n.parentNode(i)}function e_(n,i,s){return xf(n,i,s)}let Hu,Gu,Wu,Ku,xf=function wf(n,i,s){return 40&n.type?Ti(n,s):null};function xl(n,i,s,c){const d=bf(n,c,i),h=i[ci],T=e_(c.parent||i[Pi],c,i);if(null!=d)if(Array.isArray(s))for(let F=0;F<s.length;F++)yf(h,d,s[F],T,!1);else yf(h,d,s,T,!1);void 0!==Hu&&Hu(h,c,i,s,d)}function Wc(n,i){if(null!==i){const s=i.type;if(3&s)return Ti(i,n);if(4&s)return Gh(-1,n[i.index]);if(8&s){const c=i.child;if(null!==c)return Wc(n,c);{const d=n[i.index];return Tr(d)?Gh(-1,d):tr(d)}}if(32&s)return zh(i,n)()||tr(n[i.index]);{const c=zu(n,i);return null!==c?Array.isArray(c)?c[0]:Wc(jd(n[rr]),c):Wc(n,i.next)}}return null}function zu(n,i){return null!==i?n[rr][Pi].projection[i.projection]:null}function Gh(n,i){const s=Ir+n+1;if(s<i.length){const c=i[s],d=c[mn].firstChild;if(null!==d)return Wc(c,d)}return i[mo]}function Cf(n,i,s,c,d,h,w){for(;null!=s;){const T=c[s.index],F=s.type;if(w&&0===i&&(T&&ma(tr(T),c),s.flags|=2),32!=(32&s.flags))if(8&F)Cf(n,i,s.child,c,d,h,!1),$c(i,n,d,T,h);else if(32&F){const Q=zh(s,c);let be;for(;be=Q();)$c(i,n,d,be,h);$c(i,n,d,T,h)}else 16&F?n_(n,i,c,s,d,h):$c(i,n,d,T,h);s=w?s.projectionNext:s.next}}function $d(n,i,s,c,d,h){Cf(s,c,n.firstChild,i,d,h,!1)}function n_(n,i,s,c,d,h){const w=s[rr],F=w[Pi].projection[c.projection];if(Array.isArray(F))for(let Q=0;Q<F.length;Q++)$c(i,n,d,F[Q],h);else{let Q=F;const be=w[ai];Hc(c)&&(Q.flags|=128),Cf(n,i,Q,be,d,h,!0)}}function Wh(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function ed(n,i,s){const{mergedAttrs:c,classes:d,styles:h}=s;null!==c&&Vn(n,i,c),null!==d&&Wh(n,i,d),null!==h&&function hb(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function Wo(n){return function Df(){if(void 0===Gu&&(Gu=null,En.trustedTypes))try{Gu=En.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gu}()?.createHTML(n)||n}function r_(n){Wu=n}function s_(n){return function Zh(){if(void 0===Ku&&(Ku=null,En.trustedTypes))try{Ku=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ku}()?.createScriptURL(n)||n}class dc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wt})`}}class Mf extends dc{getTypeName(){return"HTML"}}class mb extends dc{getTypeName(){return"Style"}}class a_ extends dc{getTypeName(){return"Script"}}class Sf extends dc{getTypeName(){return"URL"}}class c_ extends dc{getTypeName(){return"ResourceURL"}}function Zc(n){return n instanceof dc?n.changingThisBreaksApplicationSecurity:n}function td(n,i){const s=function fb(n){return n instanceof dc&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${wt})`)}return s===i}function pb(n){return new Mf(n)}function gb(n){return new mb(n)}function El(n){return new a_(n)}function Gd(n){return new Sf(n)}function l_(n){return new c_(n)}class u_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Wo(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Yc{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Wo(i),s}}const _b=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zu(n){return(n=String(n)).match(_b)?n:"unsafe:"+n}function Ja(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function uc(...n){const i={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(i[c]=!0);return i}const Cl=Ja("area,br,col,hr,img,wbr"),Dl=Ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wd=Ja("rp,rt"),Yh=uc(Cl,uc(Dl,Ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uc(Wd,Ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uc(Wd,Dl)),qh=Ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kf=uc(qh,Ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=Ja("script,style,template");class Yu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Yh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=i.attributes;for(let d=0;d<c.length;d++){const h=c.item(d),w=h.name,T=w.toLowerCase();if(!kf.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let F=h.value;qh[T]&&(F=Zu(F)),this.buf.push(" ",w,'="',Af(F),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Yh.hasOwnProperty(s)&&!Cl.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Af(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const nd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yb=/([^\#-~ |!])/g;function Af(n){return n.replace(/&/g,"&amp;").replace(nd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(yb,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xh;function p_(n,i){let s=null;try{Xh=Xh||function d_(n){const i=new Yc(n);return function h_(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch{return!1}}()?new u_(i):i}(n);let c=i?String(i):"";s=Xh.getInertBodyElement(c);let d=5,h=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=h,h=s.innerHTML,s=Xh.getInertBodyElement(c)}while(c!==h);return Wo((new Yu).sanitizeChildren(Of(s)||s))}finally{if(s){const c=Of(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Of(n){return"content"in n&&function qu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Uo=(()=>((Uo=Uo||{})[Uo.NONE=0]="NONE",Uo[Uo.HTML=1]="HTML",Uo[Uo.STYLE=2]="STYLE",Uo[Uo.SCRIPT=3]="SCRIPT",Uo[Uo.URL=4]="URL",Uo[Uo.RESOURCE_URL=5]="RESOURCE_URL",Uo))();function Rf(n){const i=Tl();return i?i.sanitize(Uo.URL,n)||"":td(n,"URL")?Zc(n):Zu(me(n))}function Pf(n){const i=Tl();if(i)return s_(i.sanitize(Uo.RESOURCE_URL,n)||"");if(td(n,"ResourceURL"))return s_(Zc(n));throw new fe(904,!1)}function Jh(n,i,s){return function __(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pf:Rf}(i,s)(n)}function Tl(){const n=Cn();return n&&n[Co].sanitizer}class lo{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=nt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const id=new lo("ENVIRONMENT_INITIALIZER"),Qu=new lo("INJECTOR",-1),b_=new lo("INJECTOR_DEF_TYPES");class Lf{get(i,s=kt){if(s===kt){const c=new Error(`NullInjectorError: No provider for ${pe(i)}!`);throw c.name="NullInjectorError",c}return s}}function rd(n){return{\u0275providers:n}}function em(...n){return{\u0275providers:Kd(0,n),\u0275fromNgModule:!0}}function Kd(n,...i){const s=[],c=new Set;let d;return Ya(i,h=>{const w=h;tm(w,s,[],c)&&(d||=[],d.push(w))}),void 0!==d&&Bf(d,s),s}function Bf(n,i){for(let s=0;s<n.length;s++){const{providers:d}=n[s];nm(d,h=>{i.push(h)})}}function tm(n,i,s,c){if(!(n=We(n)))return!1;let d=null,h=an(n);const w=!h&&mi(n);if(h||w){if(w&&!w.standalone)return!1;d=n}else{const F=n.ngModule;if(h=an(F),!h)return!1;d=F}const T=c.has(d);if(w){if(T)return!1;if(c.add(d),w.dependencies){const F="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const Q of F)tm(Q,i,s,c)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let Q;c.add(d);try{Ya(h.imports,be=>{tm(be,i,s,c)&&(Q||=[],Q.push(be))})}finally{}void 0!==Q&&Bf(Q,i)}if(!T){const Q=_t(d)||(()=>new d);i.push({provide:d,useFactory:Q,deps:Y},{provide:b_,useValue:d,multi:!0},{provide:id,useValue:()=>Re(d),multi:!0})}const F=h.providers;null==F||T||nm(F,be=>{i.push(be)})}}return d!==n&&void 0!==n.providers}function nm(n,i){for(let s of n)$e(s)&&(s=s.\u0275providers),Array.isArray(s)?nm(s,i):i(s)}const im=oe({provide:String,useValue:oe});function Zd(n){return null!==n&&"object"==typeof n&&im in n}function ec(n){return"function"==typeof n}const Qc=new lo("Set Injector scope."),rm={},Yd={};let om;function hc(){return void 0===om&&(om=new Lf),om}class Ml{}class Vf extends Ml{get destroyed(){return this._destroyed}constructor(i,s,c,d){super(),this.parent=s,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jf(i,w=>this.processProvider(w)),this.records.set(Qu,Xc(void 0,this)),d.has("environment")&&this.records.set(Ml,Xc(void 0,this));const h=this.records.get(Qc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(b_.multi,Y,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Ze(this),c=cn(void 0);try{return i()}finally{Ze(s),cn(c)}}get(i,s=kt,c=ht.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(St))return i[St](this);c=Be(c);const d=Ze(this),h=cn(void 0);try{if(!(c&ht.SkipSelf)){let T=this.records.get(i);if(void 0===T){const F=function C_(n){return"function"==typeof n||"object"==typeof n&&n instanceof lo}(i)&&Ce(i);T=F&&this.injectableDefInScope(F)?Xc(sm(i),rm):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(c&ht.Self?hc():this.parent).get(i,s=c&ht.Optional&&s===kt?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[Sn]=w[Sn]||[]).unshift(pe(i)),d)throw w;return function $(n,i,s,c){const d=n[Sn];throw i[Xt]&&d.unshift(i[Xt]),n.message=function de(n,i,s,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=pe(i);if(Array.isArray(i))d=i.map(pe).join(" -> ");else if("object"==typeof i){let h=[];for(let w in i)if(i.hasOwnProperty(w)){let T=i[w];h.push(w+":"+("string"==typeof T?JSON.stringify(T):pe(T)))}d=`{${h.join(", ")}}`}return`${s}${c?"("+c+")":""}[${d}]: ${n.replace(Ei,"\n  ")}`}("\n"+n.message,d,s,c),n.ngTokenPath=d,n[Sn]=null,n}(w,i,"R3InjectorError",this.source)}throw w}finally{cn(h),Ze(d)}}resolveInjectorInitializers(){const i=Ze(this),s=cn(void 0);try{const c=this.get(id.multi,Y,ht.Self);for(const d of c)d()}finally{Ze(i),cn(s)}}toString(){const i=[],s=this.records;for(const c of s.keys())i.push(pe(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(i){let s=ec(i=We(i))?i:We(i&&i.provide);const c=function w_(n){return Zd(n)?Xc(void 0,n.useValue):Xc(x_(n),rm)}(i);if(ec(i)||!0!==i.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Xc(void 0,rm,!0),d.factory=()=>le(d.multi),this.records.set(s,d)),s=i,d.multi.push(i)}this.records.set(s,c)}hydrate(i,s){return s.value===rm&&(s.value=Yd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cb(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=We(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function sm(n){const i=Ce(n),s=null!==i?i.factory:_t(n);if(null!==s)return s;if(n instanceof lo)throw new fe(204,!1);if(n instanceof Function)return function Eb(n){const i=n.length;if(i>0)throw qa(i,"?"),new fe(204,!1);const s=function rn(n){return n&&(n[It]||n[ze])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new fe(204,!1)}function x_(n,i,s){let c;if(ec(n)){const d=We(n);return _t(d)||sm(d)}if(Zd(n))c=()=>We(n.useValue);else if(function qc(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...le(n.deps||[]));else if(function Uf(n){return!(!n||!n.useExisting)}(n))c=()=>Re(We(n.useExisting));else{const d=We(n&&(n.useClass||n.provide));if(!function E_(n){return!!n.deps}(n))return _t(d)||sm(d);c=()=>new d(...le(n.deps))}return c}function Xc(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function jf(n,i){for(const s of n)Array.isArray(s)?jf(s,i):s&&$e(s)?jf(s.\u0275providers,i):i(s)}const Hf=new lo("AppId",{providedIn:"root",factory:()=>od}),od="ng",qd=new lo("Platform Initializer"),am=new lo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ib=new lo("AnimationModuleType"),D_=new lo("CSP nonce",{providedIn:"root",factory:()=>function Kc(){if(void 0!==Wu)return Wu;if(typeof document<"u")return document;throw new fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lm=(n,i)=>null;function Kf(n,i){return lm(n,i)}class M_{}class Qf{}class Rb{resolveComponentFactory(i){throw function S_(n){const i=Error(`No component factory found for ${pe(n)}.`);return i.ngComponent=n,i}(i)}}let ld=(()=>{class n{}return n.NULL=new Rb,n})();function O_(){return dd(Gr(),Cn())}function dd(n,i){return new ud(Ti(n,i))}let ud=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=O_,n})();function um(n){return n instanceof ud?n.nativeElement:n}class eu{}let hm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Xf(){const n=Cn(),s=V(Gr().index,n);return(Zi(s)?s:n)[ci]}(),n})(),Jf=(()=>{class n{}return n.\u0275prov=nt({token:n,providedIn:"root",factory:()=>null}),n})();class mm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ep=new mm("16.0.5"),tp={};function tu(n){for(;n;){n[Pn]|=64;const i=jd(n);if(Lo(n)&&!i)return n;n=i}return null}function np(n){return n.ngOriginalError}class nu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&np(i);for(;s&&np(s);)s=np(s);return s||null}}const ip=new lo("",{providedIn:"root",factory:()=>!1});function mc(n){return n instanceof Function?n():n}class _m extends vo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){tu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,c){const d=fi(this);this.trackingVersion++;try{i(s,c)}finally{fi(d)}}destroy(){this.trackingVersion++}}let lh=null;function vm(){return lh??=new _m,lh}function bm(n,i){return n[i]??vm()}function Jc(n,i){const s=vm();s.hasReadASignal&&(n[i]=lh,s.lView=n,lh=new _m)}const Yi={};function U_(n){ym(nr(),Cn(),so()+n,!1)}function ym(n,i,s,c){if(!c)if(3==(3&i[Pn])){const h=n.preOrderCheckHooks;null!==h&&si(i,h,s)}else{const h=n.preOrderHooks;null!==h&&qi(i,h,0,s)}Ui(s)}function cp(n,i=null,s=null,c){const d=lp(n,i,s,c);return d.resolveInjectorInitializers(),d}function lp(n,i=null,s=null,c,d=new Set){const h=[s||Y,em(n)];return c=c||("object"==typeof n?void 0:pe(n)),new Vf(h,i||hc(),c||null,d)}let kl=(()=>{class n{static create(s,c){if(Array.isArray(s))return cp({name:""},c,s,"");{const d=s.name??"";return cp({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=kt,n.NULL=new Lf,n.\u0275prov=nt({token:n,providedIn:"any",factory:()=>Re(Qu)}),n.__NG_ELEMENT_ID__=-1,n})();function Al(n,i=ht.Default){const s=Cn();return null===s?Re(n,i):zl(Gr(),s,We(n),i)}function H_(){throw new Error("invalid")}function Em(n,i,s,c,d,h,w,T,F,Q,be){const Qe=i.blueprint.slice();return Qe[_n]=d,Qe[Pn]=140|c,(null!==Q||n&&2048&n[Pn])&&(Qe[Pn]|=2048),Yn(Qe),Qe[ai]=Qe[Nr]=n,Qe[Wi]=s,Qe[Co]=w||n&&n[Co],Qe[ci]=T||n&&n[ci],Qe[ho]=F||n&&n[ho]||null,Qe[Pi]=h,Qe[Fo]=function Ug(){return Aa++}(),Qe[or]=be,Qe[Os]=Q,Qe[rr]=2==i.type?n[rr]:Qe,Qe}function Ol(n,i,s,c,d){let h=n.data[i];if(null===h)h=function up(n,i,s,c,d){const h=Fa(),w=wr(),F=n.data[i]=function pp(n,i,s,c,d,h){let w=i?i.injectorIndex:-1,T=0;return rs()&&(T|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?h:h&&h.parent,s,i,c,d);return null===n.firstChild&&(n.firstChild=F),null!==h&&(w?null==h.child&&null!==F.parent&&(h.child=F):null===h.next&&(h.next=F,F.prev=h)),F}(n,i,s,c,d),function J(){return Gn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=c,h.attrs=d;const w=function ac(){const n=Gn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===w?-1:w.injectorIndex}return Mn(h,!0),h}function md(n,i,s,c){if(0===s)return-1;const d=i.length;for(let h=0;h<s;h++)i.push(c),n.blueprint.push(c),n.data.push(null);return d}function hp(n,i,s,c,d){const h=bm(i,Yo),w=so(),T=2&c;try{if(Ui(-1),T&&i.length>ki&&ym(n,i,ki,!1),vs(T?2:0,d),T)h.runInContext(s,c,d);else{const Q=fi(null);try{s(c,d)}finally{fi(Q)}}}finally{T&&null===i[Yo]&&Jc(i,Yo),Ui(w),vs(T?3:1,d)}}function dh(n,i,s){if(fo(i)){const c=fi(null);try{const h=i.directiveEnd;for(let w=i.directiveStart;w<h;w++){const T=n.data[w];T.contentQueries&&T.contentQueries(1,s[w],w)}}finally{fi(c)}}}function uh(n,i,s){Zs()&&(function W_(n,i,s,c){const d=s.directiveStart,h=s.directiveEnd;Lr(s)&&function zb(n,i,s){const c=Ti(i,n),w=au(n,Em(n,fd(s),null,s.onPush?64:16,c,i,null,n[Co].rendererFactory.createRenderer(c,s),null,null,null));n[i.index]=w}(i,s,n.data[d+s.componentOffset]),n.firstCreatePass||dl(s,i),ma(c,i);const w=s.initialInputs;for(let T=d;T<h;T++){const F=n.data[T],Q=Ga(i,n,T,s);ma(Q,i),null!==w&&Dp(0,T-d,Q,F,0,w),Gi(F)&&(V(s.index,i)[Wi]=Ga(i,n,T,s))}}(n,i,s,Ti(s,i)),64==(64&s.flags)&&bp(n,i,s))}function hh(n,i,s=Ti){const c=i.localNames;if(null!==c){let d=i.index+1;for(let h=0;h<c.length;h+=2){const w=c[h+1],T=-1===w?s(i,n):n[w];n[d++]=T}}}function fd(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Oc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function Oc(n,i,s,c,d,h,w,T,F,Q,be){const Qe=ki+c,Ot=Qe+d,Zt=function mp(n,i){const s=[];for(let c=0;c<i;c++)s.push(c<n?null:Yi);return s}(Qe,Ot),Dn="function"==typeof Q?Q():Q;return Zt[mn]={type:n,blueprint:Zt,template:s,queries:null,viewQuery:T,declTNode:i,data:Zt.slice().fill(null,Qe),bindingStartIndex:Qe,expandoStartIndex:Ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:F,consts:Dn,incompleteFirstPass:!1,ssrId:be}}let fp=n=>null;function Cm(n,i,s,c){for(let d in n)if(n.hasOwnProperty(d)){s=null===s?{}:s;const h=n[d];null===c?Dm(s,i,d,h):c.hasOwnProperty(d)&&Dm(s,i,c[d],h)}return s}function Dm(n,i,s,c){n.hasOwnProperty(s)?n[s].push(i,c):n[s]=[i,c]}function Ha(n,i,s,c,d,h,w,T){const F=Ti(i,s);let be,Q=i.inputs;!T&&null!=Q&&(be=Q[c])?(mh(n,s,be,c,d),Lr(i)&&function _p(n,i){const s=V(i,n);16&s[Pn]||(s[Pn]|=64)}(s,i.index)):3&i.type&&(c=function Ub(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),d=null!=w?w(d,i.value||"",c):d,h.setProperty(F,c,d))}function Im(n,i,s,c){if(Zs()){const d=null===c?null:{"":-1},h=function jb(n,i){const s=n.directiveRegistry;let c=null,d=null;if(s)for(let h=0;h<s.length;h++){const w=s[h];if(zr(i,w.selectors,!1))if(c||(c=[]),Gi(w))if(null!==w.findHostDirectiveDefs){const T=[];d=d||new Map,w.findHostDirectiveDefs(w,T,d),c.unshift(...T,w),yp(n,i,T.length)}else c.unshift(w),yp(n,i,0);else d=d||new Map,w.findHostDirectiveDefs?.(w,c,d),c.push(w)}return null===c?null:[c,d]}(n,s);let w,T;null===h?w=T=null:[w,T]=h,null!==w&&z_(n,i,s,w,d,T),d&&function Hb(n,i,s){if(i){const c=n.localNames=[];for(let d=0;d<i.length;d+=2){const h=s[i[d+1]];if(null==h)throw new fe(-301,!1);c.push(i[d],h)}}}(s,c,d)}s.mergedAttrs=di(s.mergedAttrs,s.attrs)}function z_(n,i,s,c,d,h){for(let Q=0;Q<c.length;Q++)Ba(dl(s,i),n,c[Q].type);!function xp(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,c.length);for(let Q=0;Q<c.length;Q++){const be=c[Q];be.providersResolver&&be.providersResolver(be)}let w=!1,T=!1,F=md(n,i,c.length,null);for(let Q=0;Q<c.length;Q++){const be=c[Q];s.mergedAttrs=di(s.mergedAttrs,be.hostAttrs),Ep(n,s,i,F,be),wp(F,be,d),null!==be.contentQueries&&(s.flags|=4),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(s.flags|=64);const Qe=be.type.prototype;!w&&(Qe.ngOnChanges||Qe.ngOnInit||Qe.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),w=!0),!T&&(Qe.ngOnChanges||Qe.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),T=!0),F++}!function gp(n,i,s){const d=i.directiveEnd,h=n.data,w=i.attrs,T=[];let F=null,Q=null;for(let be=i.directiveStart;be<d;be++){const Qe=h[be],Ot=s?s.get(Qe):null,Dn=Ot?Ot.outputs:null;F=Cm(Qe.inputs,be,F,Ot?Ot.inputs:null),Q=Cm(Qe.outputs,be,Q,Dn);const Nn=null===F||null===w||eo(i)?null:Tp(F,be,w);T.push(Nn)}null!==F&&(F.hasOwnProperty("class")&&(i.flags|=8),F.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=T,i.inputs=F,i.outputs=Q}(n,s,h)}function bp(n,i,s){const c=s.directiveStart,d=s.directiveEnd,h=s.index,w=function pt(){return Gn.lFrame.currentDirectiveIndex}();try{Ui(h);for(let T=c;T<d;T++){const F=n.data[T],Q=i[T];Qt(T),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Vb(F,Q)}}finally{Ui(-1),Qt(w)}}function Vb(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function yp(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function wp(n,i,s){if(s){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)s[i.exportAs[c]]=n;Gi(i)&&(s[""]=n)}}function Ep(n,i,s,c,d){n.data[c]=d;const h=d.factory||(d.factory=_t(d.type)),w=new xs(h,Gi(d),Al);n.blueprint[c]=w,s[c]=w,function $_(n,i,s,c,d){const h=d.hostBindings;if(h){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const T=~i.index;(function G_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(w)!=T&&w.push(T),w.push(s,c,h)}}(n,i,c,md(n,s,d.hostVars,Yi),d)}function tc(n,i,s,c,d,h){const w=Ti(n,i);!function Cp(n,i,s,c,d,h,w){if(null==h)n.removeAttribute(i,d,s);else{const T=null==w?me(h):w(h,c||"",d);n.setAttribute(i,d,T,s)}}(i[ci],w,h,n.value,s,c,d)}function Dp(n,i,s,c,d,h){const w=h[i];if(null!==w)for(let T=0;T<w.length;)Ip(c,s,w[T++],w[T++],w[T++])}function Ip(n,i,s,c,d){const h=fi(null);try{null!==n.setInput?n.setInput(i,d,s,c):i[c]=d}finally{fi(h)}}function Tp(n,i,s){let c=null,d=0;for(;d<s.length;){const h=s[d];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===c&&(c=[]);const w=n[h];for(let T=0;T<w.length;T+=2)if(w[T]===i){c.push(h,w[T+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Mp(n,i,s,c){return[n,!0,!1,i,null,0,c,s,null,null,null]}function K_(n,i){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const h=s[c+1];if(-1!==h){const w=n.data[h];Xn(s[c]),w.contentQueries(2,i[h],h)}}}function au(n,i){return n[ns]?n[Po][bi]=i:n[ns]=i,n[Po]=i,i}function Sp(n,i,s){Xn(0);const c=fi(null);try{i(n,s)}finally{fi(c)}}function Y_(n){return n[ir]||(n[ir]=[])}function Tm(n){return n.cleanup||(n.cleanup=[])}function q_(n,i,s){return(null===n||Gi(n))&&(s=function ro(n){for(;Array.isArray(n);){if("object"==typeof n[Io])return n;n=n[_n]}return null}(s[i.index])),s[ci]}function Mm(n,i){const s=n[ho],c=s?s.get(nu,null):null;c&&c.handleError(i)}function mh(n,i,s,c,d){for(let h=0;h<s.length;){const w=s[h++],T=s[h++];Ip(n.data[w],i[w],c,T,d)}}function cu(n,i){const s=V(i,n),c=s[mn];!function Q_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(c,s);const d=s[_n];null!==d&&null===s[or]&&(s[or]=Kf(d,s[ho])),fh(c,s,s[Wi])}function fh(n,i,s){ui(i);try{const c=n.viewQuery;null!==c&&Sp(1,c,s);const d=n.template;null!==d&&hp(n,i,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&K_(n,i),n.staticViewQueries&&Sp(2,n.viewQuery,s);const h=n.components;null!==h&&function $b(n,i){for(let s=0;s<i.length;s++)cu(n,i[s])}(i,h)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[Pn]&=-5,Qn()}}let J_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,c,d){const h=typeof Zone>"u"?null:Zone.current,w=new _a(s,Q=>{this.all.has(Q)&&this.queue.set(Q,h)},d);let T;this.all.add(w),w.notify();const F=()=>{w.cleanup(),T?.(),this.all.delete(w),this.queue.delete(w)};return T=c?.onDestroy(F),{destroy:F}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=nt({token:n,providedIn:"root",factory:()=>new n}),n})();function Sm(n,i,s){let c=s?n.styles:null,d=s?n.classes:null,h=0;if(null!==i)for(let w=0;w<i.length;w++){const T=i[w];"number"==typeof T?h=T:1==h?d=Le(d,T):2==h&&(c=Le(c,T+": "+i[++w]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=d:n.classesWithoutHost=d}function ph(n,i,s,c,d=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&c.push(tr(h)),Tr(h)){for(let T=Ir;T<h.length;T++){const F=h[T],Q=F[mn].firstChild;null!==Q&&ph(F[mn],F,Q,c)}h[mo]!==h[_n]&&c.push(h[mo])}const w=s.type;if(8&w)ph(n,i,s.child,c);else if(32&w){const T=zh(s,i);let F;for(;F=T();)c.push(F)}else if(16&w){const T=zu(i,s);if(Array.isArray(T))c.push(...T);else{const F=jd(i[rr]);ph(F[mn],F,T,c,!0)}}s=d?s.projectionNext:s.next}return c}function lu(n,i,s,c=!0){const d=i[Co].rendererFactory;d.begin&&d.begin();try{km(n,i,n.template,s)}catch(w){throw c&&Mm(i,w),w}finally{d.end&&d.end(),i[Co].effectManager?.flush()}}function km(n,i,s,c){const d=i[Pn];if(256!=(256&d)){i[Co].effectManager?.flush(),ui(i);try{Yn(i),function g(n){return Gn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&hp(n,i,s,2,c);const w=3==(3&d);if(w){const Q=n.preOrderCheckHooks;null!==Q&&si(i,Q,null)}else{const Q=n.preOrderHooks;null!==Q&&qi(i,Q,0,null),ys(i,0)}if(function Gb(n){for(let i=hf(n);null!==i;i=mf(i)){if(!i[zo])continue;const s=i[$o];for(let c=0;c<s.length;c++){Vi(s[c])}}}(i),function Rp(n){for(let i=hf(n);null!==i;i=mf(i))for(let s=Ir;s<i.length;s++){const c=i[s],d=c[mn];rt(c)&&km(d,c,d.template,c[Wi])}}(i),null!==n.contentQueries&&K_(n,i),w){const Q=n.contentCheckHooks;null!==Q&&si(i,Q)}else{const Q=n.contentHooks;null!==Q&&qi(i,Q,1),ys(i,1)}!function dp(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const c=bm(i,go);try{for(let d=0;d<s.length;d++){const h=s[d];if(h<0)Ui(~h);else{const w=h,T=s[++d],F=s[++d];mt(T,w),c.runInContext(F,2,i[w])}}}finally{null===i[go]&&Jc(i,go),Ui(-1)}}(n,i);const T=n.components;null!==T&&function Fp(n,i){for(let s=0;s<i.length;s++)Pp(n,i[s])}(i,T);const F=n.viewQuery;if(null!==F&&Sp(2,F,c),w){const Q=n.viewCheckHooks;null!==Q&&si(i,Q)}else{const Q=n.viewHooks;null!==Q&&qi(i,Q,2),ys(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Pn]&=-73,Di(i)}finally{Qn()}}}function Pp(n,i){const s=V(i,n);if(rt(s)){const c=s[mn];80&s[Pn]?km(c,s,c.template,s[Wi]):s[Fr]>0&&Am(s)}}function Am(n){for(let c=hf(n);null!==c;c=mf(c))for(let d=Ir;d<c.length;d++){const h=c[d];if(rt(h))if(1024&h[Pn]){const w=h[mn];km(w,h,w.template,h[Wi])}else h[Fr]>0&&Am(h)}const s=n[mn].components;if(null!==s)for(let c=0;c<s.length;c++){const d=V(s[c],n);rt(d)&&d[Fr]>0&&Am(d)}}class du{get rootNodes(){const i=this._lView,s=i[mn];return ph(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wi]}set context(i){this._lView[Wi]=i}get destroyed(){return 256==(256&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ai];if(Tr(i)){const s=i[is],c=s?s.indexOf(this):-1;c>-1&&(wl(i,c),ra(s,c))}this._attachedToViewContainer=!1}$h(this._lView[mn],this._lView)}onDestroy(i){!function Ii(n,i){if(256==(256&n[Pn]))throw new fe(911,!1);null===n[dr]&&(n[dr]=[]),n[dr].push(i)}(this._lView,i)}markForCheck(){tu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pn]&=-129}reattach(){this._lView[Pn]|=128}detectChanges(){lu(this._lView[mn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hd(n,i){$d(n,i,i[ci],2,null,null)}(this._lView[mn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=i}}class Wb extends du{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;lu(i[mn],i,i[Wi],!1)}checkNoChanges(){}get context(){return null}}class ev extends ld{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=mi(i);return new pd(s,this.ngModule)}}function Om(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Np{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,c){c=Be(c);const d=this.injector.get(i,tp,c);return d!==tp||s===tp?d:this.parentInjector.get(i,s,c)}}class pd extends Qf{get inputs(){return Om(this.componentDef.inputs)}get outputs(){return Om(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function er(n){return n.map(Yr).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,c,d){let h=(d=d||this.ngModule)instanceof Ml?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const w=h?new Np(i,h):i,T=w.get(eu,null);if(null===T)throw new fe(407,!1);const be={rendererFactory:T,sanitizer:w.get(Jf,null),effectManager:w.get(J_,null)},Qe=T.createRenderer(null,this.componentDef),Ot=this.componentDef.selectors[0][0]||"div",Zt=c?function ru(n,i,s,c){const h=c.get(ip,!1)||s===Fe.ShadowDom,w=n.selectRootElement(i,h);return function ou(n){fp(n)}(w),w}(Qe,c,this.componentDef.encapsulation,w):yl(Qe,Ot,function Kb(n){const i=n.toLowerCase();return"svg"===i?Ta:"math"===i?"math":null}(Ot)),Dn=this.componentDef.onPush?576:528,Nn=Oc(0,null,null,1,0,null,null,null,null,null,null),ei=Em(null,Nn,null,Dn,null,null,be,Qe,w,null,null);let xi,kn;ui(ei);try{const Bi=this.componentDef;let Sr,Ao=null;Bi.findHostDirectiveDefs?(Sr=[],Ao=new Map,Bi.findHostDirectiveDefs(Bi,Sr,Ao),Sr.push(Bi)):Sr=[Bi];const al=function gh(n,i){const s=n[mn],c=ki;return n[c]=i,Ol(s,c,2,"#host",null)}(ei,Zt),Px=function Zb(n,i,s,c,d,h,w){const T=d[mn];!function Bp(n,i,s,c){for(const d of n)i.mergedAttrs=di(i.mergedAttrs,d.hostAttrs);null!==i.mergedAttrs&&(Sm(i,i.mergedAttrs,!0),null!==s&&ed(c,s,i))}(c,n,i,w);let F=null;null!==i&&(F=Kf(i,d[ho]));const Q=h.rendererFactory.createRenderer(i,s),be=Em(d,fd(s),null,s.onPush?64:16,d[n.index],n,h,Q,null,null,F);return T.firstCreatePass&&yp(T,n,c.length-1),au(d,be),d[n.index]=be}(al,Zt,Bi,Sr,ei,be,Qe);kn=P(Nn,ki),Zt&&function uu(n,i,s,c){if(c)Vn(n,s,["ng-version",ep.full]);else{const{attrs:d,classes:h}=function uo(n){const i=[],s=[];let c=1,d=2;for(;c<n.length;){let h=n[c];if("string"==typeof h)2===d?""!==h&&i.push(h,n[++c]):8===d&&s.push(h);else{if(!br(d))break;d=h}c++}return{attrs:i,classes:s}}(i.selectors[0]);d&&Vn(n,s,d),h&&h.length>0&&Wh(n,s,h.join(" "))}}(Qe,Bi,Zt,c),void 0!==s&&function nv(n,i,s){const c=n.projection=[];for(let d=0;d<i.length;d++){const h=s[d];c.push(null!=h?Array.from(h):null)}}(kn,this.ngContentSelectors,s),xi=function tv(n,i,s,c,d,h){const w=Gr(),T=d[mn],F=Ti(w,d);z_(T,d,w,s,null,c);for(let be=0;be<s.length;be++)ma(Ga(d,T,w.directiveStart+be,w),d);bp(T,d,w),F&&ma(F,d);const Q=Ga(d,T,w.directiveStart+w.componentOffset,w);if(n[Wi]=d[Wi]=Q,null!==h)for(const be of h)be(Q,i);return dh(T,w,n),Q}(Px,Bi,Sr,Ao,ei,[Rm]),fh(Nn,ei,null)}finally{Qn()}return new Lp(this.componentType,xi,dd(kn,ei),ei,kn)}}class Lp extends M_{constructor(i,s,c,d,h){super(),this.location=c,this._rootLView=d,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Wb(d),this.componentType=i}setInput(i,s){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const h=this._rootLView;mh(h[mn],h,d,i,s),this.previousInputValues.set(i,s),tu(V(this._tNode.index,h))}}get injector(){return new Wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Rm(){const n=Gr();xn(Cn()[mn],n)}function Up(n){let i=function iv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;i;){let d;if(Gi(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new fe(903,!1);d=i.\u0275dir}if(d){if(s){c.push(d);const w=n;w.inputs=Vp(n.inputs),w.declaredInputs=Vp(n.declaredInputs),w.outputs=Vp(n.outputs);const T=d.hostBindings;T&&Hp(n,T);const F=d.viewQuery,Q=d.contentQueries;if(F&&Pm(n,F),Q&&jp(n,Q),ue(n.inputs,d.inputs),ue(n.declaredInputs,d.declaredInputs),ue(n.outputs,d.outputs),Gi(d)&&d.data.animation){const be=n.data;be.animation=(be.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let w=0;w<h.length;w++){const T=h[w];T&&T.ngInherit&&T(n),T===Up&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Yb(n){let i=0,s=null;for(let c=n.length-1;c>=0;c--){const d=n[c];d.hostVars=i+=d.hostVars,d.hostAttrs=di(d.hostAttrs,s=di(s,d.hostAttrs))}}(c)}function Vp(n){return n===Ue?{}:n===Y?[]:n}function Pm(n,i){const s=n.viewQuery;n.viewQuery=s?(c,d)=>{i(c,d),s(c,d)}:i}function jp(n,i){const s=n.contentQueries;n.contentQueries=s?(c,d,h)=>{i(c,d,h),s(c,d,h)}:i}function Hp(n,i){const s=n.hostBindings;n.hostBindings=s?(c,d)=>{i(c,d),s(c,d)}:i}function vh(n){return!!Yp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Rc(n,i,s){return n[i]=s}function fa(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function qp(n,i,s,c){const d=Cn();return fa(d,_(),i)&&(nr(),tc(E(),d,n,i,s,c)),qp}function gd(n,i,s,c){return fa(n,_(),s)?i+me(s)+c:Yi}function Fl(n,i,s,c,d,h,w,T){const F=Cn(),Q=nr(),be=n+ki,Qe=Q.firstCreatePass?function ty(n,i,s,c,d,h,w,T,F){const Q=i.consts,be=Ol(i,n,4,w||null,fn(Q,T));Im(i,s,be,fn(Q,F)),xn(i,be);const Qe=be.tView=Oc(2,be,c,d,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Q,null);return null!==i.queries&&(i.queries.template(i,be),Qe.queries=i.queries.embeddedTView(be)),be}(be,Q,F,i,s,c,d,h,w):Q.data[be];Mn(Qe,!1);const Ot=Eh(Q,F,Qe,n);Ut()&&xl(Q,F,Ot,Qe),ma(Ot,F),au(F,F[be]=Mp(Ot,F,Ot,Qe)),qo(Qe)&&uh(Q,F,Qe),null!=w&&hh(F,Qe,T)}let Eh=function vu(n,i,s,c){return Wt(!0),i[ci].createComment("")};function gv(n){return ee(function oo(){return Gn.lFrame.contextLView}(),ki+n)}function ag(n,i,s){const c=Cn();return fa(c,_(),i)&&Ha(nr(),E(),c,n,i,c[ci],s,!1),ag}function Ch(n,i,s,c,d){const w=d?"class":"style";mh(n,s,i.inputs[w],w,c)}function Dh(n,i,s,c){const d=Cn(),h=nr(),w=ki+n,T=d[ci],F=h.firstCreatePass?function cg(n,i,s,c,d,h){const w=i.consts,F=Ol(i,n,2,c,fn(w,d));return Im(i,s,F,fn(w,h)),null!==F.attrs&&Sm(F,F.attrs,!1),null!==F.mergedAttrs&&Sm(F,F.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,F),F}(w,h,d,i,s,c):h.data[w],Q=lg(h,d,F,T,i,n);d[w]=Q;const be=qo(F);return Mn(F,!0),ed(T,Q,F),32!=(32&F.flags)&&Ut()&&xl(h,d,Q,F),0===function $r(){return Gn.lFrame.elementDepthCount}()&&ma(Q,d),function ya(){Gn.lFrame.elementDepthCount++}(),be&&(uh(h,d,F),dh(h,F,d)),null!==c&&hh(d,F),Dh}function Pc(){let n=Gr();wr()?Ms():(n=n.parent,Mn(n,!1));const i=n;(function Ts(n){return Gn.skipHydrationRootTNode===n})(i)&&function Pa(){Gn.skipHydrationRootTNode=null}(),function Bo(){Gn.lFrame.elementDepthCount--}();const s=nr();return s.firstCreatePass&&(xn(s,n),fo(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function qs(n){return 0!=(8&n.flags)}(i)&&Ch(s,i,Cn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function kd(n){return 0!=(16&n.flags)}(i)&&Ch(s,i,Cn(),i.stylesWithoutHost,!1),Pc}function jm(n,i,s,c){return Dh(n,i,s,c),Pc(),jm}let lg=(n,i,s,c,d,h)=>(Wt(!0),yl(c,d,function Me(){return Gn.lFrame.currentNamespace}()));function wd(n,i,s){const c=Cn(),d=nr(),h=n+ki,w=d.firstCreatePass?function iy(n,i,s,c,d){const h=i.consts,w=fn(h,c),T=Ol(i,n,8,"ng-container",w);return null!==w&&Sm(T,w,!0),Im(i,s,T,fn(h,d)),null!==i.queries&&i.queries.elementStart(i,T),T}(h,d,c,i,s):d.data[h];Mn(w,!0);const T=bu(d,c,w,n);return c[h]=T,Ut()&&xl(d,c,T,w),ma(T,c),qo(w)&&(uh(d,c,w),dh(d,w,c)),null!=s&&hh(c,w),wd}function xd(){let n=Gr();const i=nr();return wr()?Ms():(n=n.parent,Mn(n,!1)),i.firstCreatePass&&(xn(i,n),fo(n)&&i.queries.elementEnd(n)),xd}function Hm(n,i,s){return wd(n,i,s),xd(),Hm}let bu=(n,i,s,c)=>(Wt(!0),pf(i[ci],""));function ug(){return Cn()}function Th(n){return!!n&&"function"==typeof n.then}function yu(n){return!!n&&"function"==typeof n.subscribe}function Fc(n,i,s,c){const d=Cn(),h=nr(),w=Gr();return Cd(h,d,d[ci],w,n,i,c),Fc}function Ed(n,i){const s=Gr(),c=Cn(),d=nr();return Cd(d,c,q_(pn(d.data),s,c),s,n,i),Ed}function Cd(n,i,s,c,d,h,w){const T=qo(c),Q=n.firstCreatePass&&Tm(n),be=i[Wi],Qe=Y_(i);let Ot=!0;if(3&c.type||w){const Nn=Ti(c,i),ei=w?w(Nn):Nn,xi=Qe.length,kn=w?Sr=>w(tr(Sr[c.index])):c.index;let Bi=null;if(!w&&T&&(Bi=function oy(n,i,s,c){const d=n.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const w=d[h];if(w===s&&d[h+1]===c){const T=i[ir],F=d[h+2];return T.length>F?T[F]:null}"string"==typeof w&&(h+=2)}return null}(n,i,d,c.index)),null!==Bi)(Bi.__ngLastListenerFn__||Bi).__ngNextListenerFn__=h,Bi.__ngLastListenerFn__=h,Ot=!1;else{h=ay(c,i,be,h,!1);const Sr=s.listen(ei,d,h);Qe.push(h,Sr),Q&&Q.push(d,kn,xi,xi+1)}}else h=ay(c,i,be,h,!1);const Zt=c.outputs;let Dn;if(Ot&&null!==Zt&&(Dn=Zt[d])){const Nn=Dn.length;if(Nn)for(let ei=0;ei<Nn;ei+=2){const Ao=i[Dn[ei]][Dn[ei+1]].subscribe(h),al=Qe.length;Qe.push(h,Ao),Q&&Q.push(d,c.index,al,-(al+1))}}}function sy(n,i,s,c){try{return vs(6,i,s),!1!==s(c)}catch(d){return Mm(n,d),!1}finally{vs(7,i,s)}}function ay(n,i,s,c,d){return function h(w){if(w===Function)return c;tu(n.componentOffset>-1?V(n.index,i):i);let F=sy(i,s,c,w),Q=h.__ngNextListenerFn__;for(;Q;)F=sy(i,s,Q,w)&&F,Q=Q.__ngNextListenerFn__;return d&&!1===F&&w.preventDefault(),F}}function $m(n=1){return function Mo(n){return(Gn.lFrame.contextLView=function zi(n,i){for(;n>0;)i=i[Nr],n--;return i}(n,Gn.lFrame.contextLView))[Wi]}(n)}function cy(n,i){let s=null;const c=function Zr(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let d=0;d<i.length;d++){const h=i[d];if("*"!==h){if(null===c?zr(n,h,!0):Zo(c,h))return d}else s=d}return s}function Mh(n){const i=Cn()[rr][Pi];if(!i.projection){const c=i.projection=qa(n?n.length:1,null),d=c.slice();let h=i.child;for(;null!==h;){const w=n?cy(h,n):0;null!==w&&(d[w]?d[w].projectionNext=h:c[w]=h,d[w]=h),h=h.next}}}function _v(n,i=0,s){const c=Cn(),d=nr(),h=Ol(d,ki+n,16,null,s||null);null===h.projection&&(h.projection=i),Ms(),(!c[or]||rs())&&32!=(32&h.flags)&&function t_(n,i,s){n_(i[ci],0,i,s,bf(n,s,i),e_(s.parent||i[Pi],s,i))}(d,c,h)}function hg(n,i,s){return wu(n,"",i,"",s),hg}function wu(n,i,s,c,d){const h=Cn(),w=gd(h,i,s,c);return w!==Yi&&Ha(nr(),E(),h,n,w,h[ci],d,!1),wu}function kh(n,i){return n<<17|i<<2}function nl(n){return n>>17&32767}function xu(n){return 2|n}function Dd(n){return(131068&n)>>2}function Ev(n,i){return-131069&n|i<<2}function _g(n){return 1|n}function Eu(n,i,s,c,d){const h=n[s+1],w=null===i;let T=c?nl(h):Dd(h),F=!1;for(;0!==T&&(!1===F||w);){const be=n[T+1];Nl(n[T],i)&&(F=!0,n[T+1]=c?_g(be):xu(be)),T=c?nl(be):Dd(be)}F&&(n[s+1]=c?xu(h):_g(h))}function Nl(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&re(n,i)>=0}function Bl(n,i,s){return gc(n,i,s,!1),Bl}function Ah(n,i){return gc(n,i,null,!0),Ah}function gc(n,i,s,c){const d=Cn(),h=nr(),w=function O(n){const i=Gn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);h.firstUpdatePass&&function py(n,i,s,c){const d=n.data;if(null===d[s+1]){const h=d[so()],w=function fy(n,i){return i>=n.expandoStartIndex}(n,s);(function Ov(n,i){return 0!=(n.flags&(i?8:16))})(h,c)&&null===i&&!w&&(i=!1),i=function M0(n,i,s,c){const d=pn(n);let h=c?i.residualClasses:i.residualStyles;if(null===d)0===(c?i.classBindings:i.styleBindings)&&(s=Gm(s=yg(null,n,i,s,c),i.attrs,c),h=null);else{const w=i.directiveStylingLast;if(-1===w||n[w]!==d)if(s=yg(d,n,i,s,c),null===h){let F=function S0(n,i,s){const c=s?i.classBindings:i.styleBindings;if(0!==Dd(c))return n[nl(c)]}(n,i,c);void 0!==F&&Array.isArray(F)&&(F=yg(null,n,i,F[1],c),F=Gm(F,i.attrs,c),function gy(n,i,s,c){n[nl(s?i.classBindings:i.styleBindings)]=c}(n,i,c,F))}else h=function _y(n,i,s){let c;const d=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<d;h++)c=Gm(c,n[h].hostAttrs,s);return Gm(c,i.attrs,s)}(n,i,c)}return void 0!==h&&(c?i.residualClasses=h:i.residualStyles=h),s}(d,h,i,c),function Id(n,i,s,c,d,h){let w=h?i.classBindings:i.styleBindings,T=nl(w),F=Dd(w);n[c]=s;let be,Q=!1;if(Array.isArray(s)?(be=s[1],(null===be||re(s,be)>0)&&(Q=!0)):be=s,d)if(0!==F){const Ot=nl(n[T+1]);n[c+1]=kh(Ot,T),0!==Ot&&(n[Ot+1]=Ev(n[Ot+1],c)),n[T+1]=function gg(n,i){return 131071&n|i<<17}(n[T+1],c)}else n[c+1]=kh(T,0),0!==T&&(n[T+1]=Ev(n[T+1],c)),T=c;else n[c+1]=kh(F,0),0===T?T=c:n[F+1]=Ev(n[F+1],c),F=c;Q&&(n[c+1]=xu(n[c+1])),Eu(n,be,c,!0),Eu(n,be,c,!1),function il(n,i,s,c,d){const h=d?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&re(h,i)>=0&&(s[c+1]=_g(s[c+1]))}(i,be,n,c,h),w=kh(T,F),h?i.classBindings=w:i.styleBindings=w}(d,h,i,s,w,c)}}(h,n,w,c),i!==Yi&&fa(d,w,i)&&function kv(n,i,s,c,d,h,w,T){if(!(3&i.type))return;const F=n.data,Q=F[T+1],be=function I0(n){return 1==(1&n)}(Q)?Av(F,i,s,d,Dd(Q),w):void 0;Wm(be)||(Wm(h)||function xv(n){return 2==(2&n)}(Q)&&(h=Av(F,null,s,d,T,w)),function ub(n,i,s,c,d){if(i)d?n.addClass(s,c):n.removeClass(s,c);else{let h=-1===c.indexOf("-")?void 0:ka.DashCase;null==d?n.removeStyle(s,c,h):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),h|=ka.Important),n.setStyle(s,c,d,h))}}(c,w,Ks(so(),s),d,h))}(h,h.data[so()],d,d[ci],n,d[w+1]=function yy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=pe(Zc(n)))),n}(i,s),c,w)}function yg(n,i,s,c,d){let h=null;const w=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<w&&(h=i[T],c=Gm(c,h.hostAttrs,d),h!==n);)T++;return null!==n&&(s.directiveStylingLast=T),c}function Gm(n,i,s){const c=s?1:2;let d=-1;if(null!==i)for(let h=0;h<i.length;h++){const w=i[h];"number"==typeof w?d=w:d===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),M(n,w,!!s||i[++h]))}return void 0===n?null:n}function Av(n,i,s,c,d,h){const w=null===i;let T;for(;d>0;){const F=n[d],Q=Array.isArray(F),be=Q?F[1]:F,Qe=null===be;let Ot=s[d+1];Ot===Yi&&(Ot=Qe?Y:void 0);let Zt=Qe?L(Ot,c):be===c?Ot:void 0;if(Q&&!Wm(Zt)&&(Zt=L(F,c)),Wm(Zt)&&(T=Zt,w))return T;const Dn=n[d+1];d=w?nl(Dn):Dd(Dn)}if(null!==i){let F=h?i.residualClasses:i.residualStyles;null!=F&&(T=L(F,c))}return T}function Wm(n){return void 0!==n}function Rv(n,i=""){const s=Cn(),c=nr(),d=n+ki,h=c.firstCreatePass?Ol(c,d,1,i,null):c.data[d],w=wy(c,s,h,i,n);s[d]=w,Ut()&&xl(c,s,w,h),Mn(h,!1)}let wy=(n,i,s,c,d)=>(Wt(!0),function Xl(n,i){return n.createText(i)}(i[ci],c));function xg(n){return Km("",n,""),xg}function Km(n,i,s){const c=Cn(),d=gd(c,n,i,s);return d!==Yi&&function fc(n,i,s){const c=Ks(i,n);!function ff(n,i,s){n.setValue(i,s)}(n[ci],c,s)}(c,so(),d),Km}function Ph(n,i,s){const c=Cn();return fa(c,_(),i)&&Ha(nr(),E(),c,n,i,c[ci],s,!0),Ph}function Tu(n,i,s){const c=Cn();if(fa(c,_(),i)){const h=nr(),w=E();Ha(h,w,c,n,i,q_(pn(h.data),w,c),s,!0)}return Tu}const Vl=void 0;var Sg=["en",[["a","p"],["AM","PM"],Vl],[["AM","PM"],Vl,Vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vl,"{1} 'at' {0}",Vl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cy(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Mu={};function Qm(n){const i=function My(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=kg(i);if(s)return s;const c=i.split("-")[0];if(s=kg(c),s)return s;if("en"===c)return Sg;throw new fe(701,!1)}function Zv(n){return Qm(n)[Si.PluralCase]}function kg(n){return n in Mu||(Mu[n]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[n]),Mu[n]}var Si=(()=>((Si=Si||{})[Si.LocaleId=0]="LocaleId",Si[Si.DayPeriodsFormat=1]="DayPeriodsFormat",Si[Si.DayPeriodsStandalone=2]="DayPeriodsStandalone",Si[Si.DaysFormat=3]="DaysFormat",Si[Si.DaysStandalone=4]="DaysStandalone",Si[Si.MonthsFormat=5]="MonthsFormat",Si[Si.MonthsStandalone=6]="MonthsStandalone",Si[Si.Eras=7]="Eras",Si[Si.FirstDayOfWeek=8]="FirstDayOfWeek",Si[Si.WeekendRange=9]="WeekendRange",Si[Si.DateFormat=10]="DateFormat",Si[Si.TimeFormat=11]="TimeFormat",Si[Si.DateTimeFormat=12]="DateTimeFormat",Si[Si.NumberSymbols=13]="NumberSymbols",Si[Si.NumberFormats=14]="NumberFormats",Si[Si.CurrencyCode=15]="CurrencyCode",Si[Si.CurrencySymbol=16]="CurrencySymbol",Si[Si.CurrencyName=17]="CurrencyName",Si[Si.Currencies=18]="Currencies",Si[Si.Directionality=19]="Directionality",Si[Si.PluralCase=20]="PluralCase",Si[Si.ExtraData=21]="ExtraData",Si))();const Su="en-US";let u=Su;function Ay(n,i,s,c,d){if(n=We(n),Array.isArray(n))for(let h=0;h<n.length;h++)Ay(n[h],i,s,c,d);else{const h=nr(),w=Cn();let T=ec(n)?n:We(n.provide),F=x_(n);const Q=Gr(),be=1048575&Q.providerIndexes,Qe=Q.directiveStart,Ot=Q.providerIndexes>>20;if(ec(n)||!n.multi){const Zt=new xs(F,d,Al),Dn=Ry(T,i,d?be:be+Ot,Qe);-1===Dn?(Ba(dl(Q,w),h,T),Oy(h,n,i.length),i.push(T),Q.directiveStart++,Q.directiveEnd++,d&&(Q.providerIndexes+=1048576),s.push(Zt),w.push(Zt)):(s[Dn]=Zt,w[Dn]=Zt)}else{const Zt=Ry(T,i,be+Ot,Qe),Dn=Ry(T,i,be,be+Ot),ei=Dn>=0&&s[Dn];if(d&&!ei||!d&&!(Zt>=0&&s[Zt])){Ba(dl(Q,w),h,T);const xi=function EE(n,i,s,c,d){const h=new xs(n,s,Al);return h.multi=[],h.index=i,h.componentProviders=0,K0(h,d,c&&!s),h}(d?xE:wE,s.length,d,c,F);!d&&ei&&(s[Dn].providerFactory=xi),Oy(h,n,i.length,0),i.push(T),Q.directiveStart++,Q.directiveEnd++,d&&(Q.providerIndexes+=1048576),s.push(xi),w.push(xi)}else Oy(h,n,Zt>-1?Zt:Dn,K0(s[d?Dn:Zt],F,!d&&c));!d&&c&&ei&&s[Dn].componentProviders++}}}function Oy(n,i,s,c){const d=ec(i),h=function y_(n){return!!n.useClass}(i);if(d||h){const F=(h?We(i.useClass):i).prototype.ngOnDestroy;if(F){const Q=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const be=Q.indexOf(s);-1===be?Q.push(s,[c,F]):Q[be+1].push(c,F)}else Q.push(s,F)}}}function K0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Ry(n,i,s,c){for(let d=s;d<c;d++)if(i[d]===n)return d;return-1}function wE(n,i,s,c){return Py(this.multi,[])}function xE(n,i,s,c){const d=this.multi;let h;if(this.providerFactory){const w=this.providerFactory.componentProviders,T=Ga(s,s[mn],this.providerFactory.index,c);h=T.slice(0,w),Py(d,h);for(let F=w;F<T.length;F++)h.push(T[F])}else h=[],Py(d,h);return h}function Py(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function Z0(n,i=[]){return s=>{s.providersResolver=(c,d)=>function yE(n,i,s){const c=nr();if(c.firstCreatePass){const d=Gi(n);Ay(s,c.data,c.blueprint,d,!0),Ay(i,c.data,c.blueprint,d,!1)}}(c,d?d(n):n,i)}}class Xm{}class Y0{}function CE(n,i){return new Fy(n,i??null,[])}class Fy extends Xm{constructor(i,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const d=hr(i);this._bootstrapComponents=mc(d.bootstrap),this._r3Injector=lp(i,s,[{provide:Xm,useValue:this},{provide:ld,useValue:this.componentFactoryResolver},...c],pe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ny extends Y0{constructor(i){super(),this.moduleType=i}create(i){return new Fy(this.moduleType,i,[])}}class q0 extends Xm{constructor(i){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const s=new Vf([...i.providers,{provide:Xm,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],i.parent||hc(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Q0(n,i,s=null){return new q0({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let IE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const c=Kd(0,s.type),d=c.length>0?Q0([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=nt({token:n,providedIn:"environment",factory:()=>new n(Re(Ml))}),n})();function X0(n){n.getStandaloneInjector=i=>i.get(IE).getOrCreateStandaloneInjector(n)}function ow(n,i,s,c){return function aw(n,i,s,c,d,h){const w=i+s;return fa(n,w,d)?Rc(n,w+1,h?c.call(h,d):c(d)):Rg(n,w+1)}(Cn(),Ss(),n,i,s,c)}function sw(n,i,s,c,d){return cw(Cn(),Ss(),n,i,s,c,d)}function Rg(n,i){const s=n[i];return s===Yi?void 0:s}function cw(n,i,s,c,d,h,w){const T=i+s;return function Rl(n,i,s,c){const d=fa(n,i,s);return fa(n,i+1,c)||d}(n,T,d,h)?Rc(n,T+2,w?c.call(w,d,h):c(d,h)):Rg(n,T+2)}function hw(n,i){const s=nr();let c;const d=n+ki;s.firstCreatePass?(c=function zE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const c=i[s];if(n===c.name)return c}}(i,s.pipeRegistry),s.data[d]=c,c.onDestroy&&(s.destroyHooks??=[]).push(d,c.onDestroy)):c=s.data[d];const h=c.factory||(c.factory=_t(c.type)),w=cn(Al);try{const T=So(!1),F=h();return So(T),function ny(n,i,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=c}(s,Cn(),d,F),F}finally{cn(w)}}function mw(n,i,s,c){const d=n+ki,h=Cn(),w=ee(h,d);return function Pg(n,i){return n[mn].data[i].pure}(h,d)?cw(h,Ss(),i,w.transform,s,c,w):w.transform(s,c)}function By(n){return i=>{setTimeout(n,void 0,i)}}const jl=class ZE extends l.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,c){let d=i,h=s||(()=>null),w=c;if(i&&"object"==typeof i){const F=i;d=F.next?.bind(F),h=F.error?.bind(F),w=F.complete?.bind(F)}this.__isAsync&&(h=By(h),d&&(d=By(d)),w&&(w=By(w)));const T=super.subscribe({next:d,error:h,complete:w});return i instanceof C.w0&&i.add(T),T}};function YE(){return this._results[Symbol.iterator]()}class Xv{get changes(){return this._changes||(this._changes=new jl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=YE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const c=this;c.dirty=!1;const d=function Xr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Za(n,i,s){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],h=i[c];if(s&&(d=s(d),h=s(h)),h!==d)return!1}return!0}(c._results,d,s))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=XE,n})();const qE=Fg,QE=class extends qE{constructor(i,s,c){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,c){const d=this._declarationTContainer.tView,h=Em(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,s||null,c||null);h[Ho]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Do];return null!==T&&(h[Do]=T.createEmbeddedView(d)),fh(d,h,i),new du(h)}};function XE(){return Jv(Gr(),Cn())}function Jv(n,i){return 4&n.type?new QE(i,n,dd(n,i)):null}let eb=(()=>{class n{}return n.__NG_ELEMENT_ID__=oC,n})();function oC(){return bw(Gr(),Cn())}const sC=eb,_w=class extends sC{constructor(i,s,c){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=c}get element(){return dd(this._hostTNode,this._hostLView)}get injector(){return new Wa(this._hostTNode,this._hostLView)}get parentInjector(){const i=Hl(this._hostTNode,this._hostLView);if(Ma(i)){const s=La(i,this._hostLView),c=ks(i);return new Wa(s[mn].data[c+8],s)}return new Wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=vw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(i,s,c){let d,h;"number"==typeof c?d=c:null!=c&&(d=c.index,h=c.injector);const T=i.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(T,d,false),T}createComponent(i,s,c,d,h){const w=i&&!function Dc(n){return"function"==typeof n}(i);let T;if(w)T=s;else{const Nn=s||{};T=Nn.index,c=Nn.injector,d=Nn.projectableNodes,h=Nn.environmentInjector||Nn.ngModuleRef}const F=w?i:new pd(mi(i)),Q=c||this.parentInjector;if(!h&&null==F.ngModule){const ei=(w?Q:this.parentInjector).get(Ml,null);ei&&(h=ei)}mi(F.componentType??{});const Zt=F.create(Q,d,null,h);return this.insertImpl(Zt.hostView,T,false),Zt}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,c){const d=i._lView,h=d[mn];if(function tn(n){return Tr(n[ai])}(d)){const F=this.indexOf(i);if(-1!==F)this.detach(F);else{const Q=d[ai],be=new _w(Q,Q[Pi],Q[ai]);be.detach(be.indexOf(i))}}const w=this._adjustIndex(s),T=this._lContainer;if(function Zg(n,i,s,c){const d=Ir+c,h=s.length;c>0&&(s[d-1][bi]=i),c<h-Ir?(i[bi]=s[d],js(s,Ir+c,i)):(s.push(i),i[bi]=null),i[ai]=s;const w=i[Ho];null!==w&&s!==w&&function Yg(n,i){const s=n[$o];i[rr]!==i[ai][ai][rr]&&(n[zo]=!0),null===s?n[$o]=[i]:s.push(i)}(w,i);const T=i[Do];null!==T&&T.insertView(n),i[Pn]|=128}(h,d,T,w),!c){const F=Gh(w,T),Q=d[ci],be=Jl(Q,T[mo]);null!==be&&function Kg(n,i,s,c,d,h){c[_n]=d,c[Pi]=i,$d(n,c,s,1,d,h)}(h,T[Pi],Q,d,be,F)}return i.attachToViewContainerRef(),js(Vy(T),w,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=vw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),c=wl(this._lContainer,s);c&&(ra(Vy(this._lContainer),s),$h(c[mn],c))}detach(i){const s=this._adjustIndex(i,-1),c=wl(this._lContainer,s);return c&&null!=ra(Vy(this._lContainer),s)?new du(c):null}_adjustIndex(i,s=0){return i??this.length+s}};function vw(n){return n[is]}function Vy(n){return n[is]||(n[is]=[])}function bw(n,i){let s;const c=i[n.index];return Tr(c)?s=c:(s=Mp(c,i,null,n),i[n.index]=s,au(i,s)),yw(s,i,n,c),new _w(s,n,i)}let yw=function ww(n,i,s,c){if(n[mo])return;let d;d=8&s.type?tr(c):function aC(n,i){const s=n[ci],c=s.createComment(""),d=Ti(i,n);return Go(s,Jl(s,d),c,function Jg(n,i){return n.nextSibling(i)}(s,d),!1),c}(i,s),n[mo]=d};class jy{constructor(i){this.queryList=i,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const c=null!==i.contentQueries?i.contentQueries[0]:s.length,d=[];for(let h=0;h<c;h++){const w=s.getByIndex(h);d.push(this.queries[w.indexInDeclarationView].clone())}return new Hy(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==kw(i,s).matches&&this.queries[s].setDirty()}}class xw{constructor(i,s,c=null){this.predicate=i,this.flags=s,this.read=c}}class zy{constructor(i=[]){this.queries=i}elementStart(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let c=0;c<this.length;c++){const d=null!==s?s.length:0,h=this.getByIndex(c).embeddedTView(i,d);h&&(h.indexInDeclarationView=c,null!==s?s.push(h):s=[h])}return null!==s?new zy(s):null}template(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class $y{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new $y(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const h=c[d];this.matchTNodeWithReadOption(i,s,dC(s,h)),this.matchTNodeWithReadOption(i,s,ml(s,i,h,!1,!1))}else c===Fg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,ml(s,i,c,!1,!1))}matchTNodeWithReadOption(i,s,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ud||d===eb||d===Fg&&4&s.type)this.addMatch(s.index,-2);else{const h=ml(s,i,d,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,c)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function dC(n,i){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===i)return s[c+1];return null}function hC(n,i,s,c){return-1===s?function uC(n,i){return 11&n.type?dd(n,i):4&n.type?Jv(n,i):null}(i,n):-2===s?function mC(n,i,s){return s===ud?dd(i,n):s===Fg?Jv(i,n):s===eb?bw(i,n):void 0}(n,i,c):Ga(n,n[mn],s,i)}function Ew(n,i,s,c){const d=i[Do].queries[c];if(null===d.matches){const h=n.data,w=s.matches,T=[];for(let F=0;F<w.length;F+=2){const Q=w[F];T.push(Q<0?null:hC(i,h[Q],w[F+1],s.metadata.read))}d.matches=T}return d.matches}function Gy(n,i,s,c){const d=n.queries.getByIndex(s),h=d.matches;if(null!==h){const w=Ew(n,i,d,s);for(let T=0;T<h.length;T+=2){const F=h[T];if(F>0)c.push(w[T/2]);else{const Q=h[T+1],be=i[-F];for(let Qe=Ir;Qe<be.length;Qe++){const Ot=be[Qe];Ot[Ho]===Ot[ai]&&Gy(Ot[mn],Ot,Q,c)}if(null!==be[$o]){const Qe=be[$o];for(let Ot=0;Ot<Qe.length;Ot++){const Zt=Qe[Ot];Gy(Zt[mn],Zt,Q,c)}}}}}return c}function Cw(n){const i=Cn(),s=nr(),c=Un();Xn(c+1);const d=kw(s,c);if(n.dirty&&function _e(n){return 4==(4&n[Pn])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const h=d.crossesNgTemplate?Gy(s,i,c,[]):Ew(s,i,d,c);n.reset(h,um),n.notifyOnChanges()}return!0}return!1}function Dw(n,i,s){const c=nr();c.firstCreatePass&&(Sw(c,new xw(n,i,s),-1),2==(2&i)&&(c.staticViewQueries=!0)),Mw(c,Cn(),i)}function Iw(n,i,s,c){const d=nr();if(d.firstCreatePass){const h=Gr();Sw(d,new xw(i,s,c),h.index),function pC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}Mw(d,Cn(),s)}function Tw(){return function fC(n,i){return n[Do].queries[i].queryList}(Cn(),Un())}function Mw(n,i,s){const c=new Xv(4==(4&s));(function Bb(n,i,s,c){const d=Y_(i);d.push(s),n.firstCreatePass&&Tm(n).push(c,d.length-1)})(n,i,c,c.destroy),null===i[Do]&&(i[Do]=new Hy),i[Do].queries.push(new jy(c))}function Sw(n,i,s){null===n.queries&&(n.queries=new zy),n.queries.track(new $y(i,s))}function kw(n,i){return n.queries.getByIndex(i)}function Aw(n,i){return Jv(n,i)}function Wy(n){return!!hr(n)}const Zw=new lo("Application Initializer");let Qy=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=Gt(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const d of this.appInits){const h=d();if(Th(h))s.push(h);else if(yu(h)){const w=new Promise((T,F)=>{h.subscribe({complete:T,error:F})});s.push(w)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(d=>{this.reject(d)}),0===s.length&&c(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nb=new lo("LocaleId",{providedIn:"root",factory:()=>Gt(nb,ht.Optional|ht.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||Su}()}),LC=new lo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new p.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let UC=(()=>{class n{compileModuleSync(s){return new Ny(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),h=mc(hr(s).declarations).reduce((w,T)=>{const F=mi(T);return F&&w.push(new pd(F)),w},[]);return new BC(c,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HC=(()=>Promise.resolve(0))();function Xy(n){typeof Zone>"u"?HC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function Jw(...n){}class $a{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&s,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function zC(){let n=En.requestAnimationFrame,i=En.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function WC(n){const i=()=>{!function GC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(En,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Jy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,d,h,w,T)=>{try{return ex(n),s.invokeTask(d,h,w,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),tx(n)}},onInvoke:(s,c,d,h,w,T,F)=>{try{return ex(n),s.invoke(d,h,w,T,F)}finally{n.shouldCoalesceRunChangeDetection&&i(),tx(n)}},onHasTask:(s,c,d,h)=>{s.hasTask(d,h),c===d&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,e0(n),Jy(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,c,d,h)=>(s.handleError(d,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$a.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if($a.isInAngularZone())throw new fe(909,!1)}run(i,s,c){return this._inner.run(i,s,c)}runTask(i,s,c,d){const h=this._inner,w=h.scheduleEventTask("NgZoneEvent: "+d,i,$C,Jw,Jw);try{return h.runTask(w,s,c)}finally{h.cancelTask(w)}}runGuarded(i,s,c){return this._inner.runGuarded(i,s,c)}runOutsideAngular(i){return this._outer.run(i)}}const $C={};function Jy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ex(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tx(n){n._nesting--,Jy(n)}class KC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(i,s,c){return i.apply(s,c)}runGuarded(i,s,c){return i.apply(s,c)}runOutsideAngular(i){return i()}runTask(i,s,c,d){return i.apply(s,c)}}const nx=new lo("",{providedIn:"root",factory:ix});function ix(){const n=Gt($a);let i=!0;const s=new X.y(d=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{d.next(i),d.complete()})}),c=new X.y(d=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{$a.assertNotInAngularZone(),Xy(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,d.next(!0))})})});const w=n.onUnstable.subscribe(()=>{$a.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{d.next(!1)}))});return()=>{h.unsubscribe(),w.unsubscribe()}});return(0,B.T)(s,c.pipe((0,W.B)()))}const rx=new lo(""),ox=new lo("");let t0,ZC=(()=>{class n{constructor(s,c,d){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function YC(n){t0=n}(d),d.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$a.assertNotInAngularZone(),Xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,d){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==h),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:d})}whenStable(s,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(Re($a),Re(sx),Re(ox))},n.\u0275prov=nt({token:n,factory:n.\u0275fac}),n})(),sx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return t0?.findTestabilityInTree(this,s,c)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Au=null;const ax=new lo("AllowMultipleToken"),n0=new lo("PlatformDestroyListeners"),r0=new lo("appBootstrapListener");class XC{constructor(i,s){this.name=i,this.token=s}}function dx(n,i,s=[]){const c=`Platform: ${i}`,d=new lo(c);return(h=[])=>{let w=o0();if(!w||w.injector.get(ax,!1)){const T=[...s,...h,{provide:d,useValue:!0}];n?n(T):function JC(n){if(Au&&!Au.get(ax,!1))throw new fe(400,!1);(function cx(){!function aa(n){Rs=n}(()=>{throw new fe(600,!1)})})(),Au=n;const i=n.get(hx);(function lx(n){n.get(qd,null)?.forEach(s=>s())})(n)}(function ux(n=[],i){return kl.create({name:i,providers:[{provide:Qc,useValue:"platform"},{provide:n0,useValue:new Set([()=>Au=null])},...n]})}(T,c))}return function tD(n){const i=o0();if(!i)throw new fe(401,!1);return i}()}}function o0(){return Au?.get(hx)??null}let hx=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const d=function nD(n="zone.js",i){return"noop"===n?new KC:"zone.js"===n?new $a(i):n}(c?.ngZone,function mx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const h=function DE(n,i,s){return new Fy(n,i,s)}(s.moduleType,this.injector,function vx(n){return[{provide:$a,useFactory:n},{provide:id,multi:!0,useFactory:()=>{const i=Gt(rD,{optional:!0});return()=>i.initialize()}},{provide:_x,useFactory:iD},{provide:nx,useFactory:ix}]}(()=>d)),w=h.injector.get(nu,null);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:F=>{w.handleError(F)}});h.onDestroy(()=>{ib(this._modules,h),T.unsubscribe()})}),function fx(n,i,s){try{const c=s();return Th(c)?c.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(w,d,()=>{const T=h.injector.get(Qy);return T.runInitializers(),T.donePromise.then(()=>(function f(n){Ft(n,"Expected localeId to be defined"),"string"==typeof n&&(u=n.toLowerCase().replace(/_/g,"-"))}(h.injector.get(nb,Su)||Su),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,c=[]){const d=px({},c);return function qC(n,i,s){const c=new Ny(s);return Promise.resolve(c)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(s){const c=s.injector.get(tf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new fe(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(n0,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Re(kl))},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function px(n,i){return Array.isArray(i)?i.reduce(px,n):{...n,...i}}let tf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Gt(_x),this.zoneIsStable=Gt(nx),this.componentTypes=[],this.components=[],this.isStable=Gt(qw).hasPendingTasks.pipe((0,ye.w)(s=>s?(0,ae.of)(!1):this.zoneIsStable),(0,Se.x)(),(0,W.B)()),this._injector=Gt(Ml)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const d=s instanceof Qf;if(!this._injector.get(Qy).done)throw!d&&lr(s),new fe(405,!1);let w;w=d?s:this._injector.get(ld).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const T=function QC(n){return n.isBoundToModule}(w)?void 0:this._injector.get(Xm),Q=w.create(kl.NULL,[],c||w.selector,T),be=Q.location.nativeElement,Qe=Q.injector.get(rx,null);return Qe?.registerApplication(be),Q.onDestroy(()=>{this.detachView(Q.hostView),ib(this.components,Q),Qe?.unregisterApplication(be)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;ib(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(r0,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ib(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new fe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ib(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const _x=new lo("",{providedIn:"root",factory:()=>Gt(nu).handleError.bind(void 0)});function iD(){const n=Gt($a),i=Gt(nu);return s=>n.runOutsideAngular(()=>i.handleError(s))}let rD=(()=>{class n{constructor(){this.zone=Gt($a),this.applicationRef=Gt(tf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sD(){return!1}let aD=(()=>{class n{}return n.__NG_ELEMENT_ID__=cD,n})();function cD(n){return function lD(n,i,s){if(Lr(n)&&!s){const c=V(n.index,i);return new du(c,c)}return 47&n.type?new du(i[rr],i):null}(Gr(),Cn(),16==(16&n))}class xx{constructor(){}supports(i){return vh(i)}create(i){return new pD(i)}}const fD=(n,i)=>i;class pD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||fD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,c=this._removalsHead,d=0,h=null;for(;s||c;){const w=!c||s&&s.currentIndex<Cx(c,d,h)?s:c,T=Cx(w,d,h),F=w.currentIndex;if(w===c)d--,c=c._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{h||(h=[]);const Q=T-d,be=F-d;if(Q!=be){for(let Ot=0;Ot<Q;Ot++){const Zt=Ot<h.length?h[Ot]:h[Ot]=0,Dn=Zt+Ot;be<=Dn&&Dn<Q&&(h[Ot]=Zt+1)}h[w.previousIndex]=be-Q}}T!==F&&i(w,T,F)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!vh(i))throw new fe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,h,w,s=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)h=i[T],w=this._trackByFn(T,h),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,h,w,T)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,w,T),c=!0),s=s._next}else d=0,function Zp(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)i(c.value)}}(i,T=>{w=this._trackByFn(d,T),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,T,w,d)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,w,d),c=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,c,d){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,d)):i=this._addAfter(new gD(s,c),h,d),i}_verifyReinsertion(i,s,c,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?i=this._reinsertAfter(h,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,h=i._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(i,s,c),this._addToMoves(i,c),i}_moveAfter(i,s,c){return this._unlink(i),this._insertAfter(i,s,c),this._addToMoves(i,c),i}_addAfter(i,s,c){return this._insertAfter(i,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,c){const d=null===s?this._itHead:s._next;return i._next=d,i._prev=s,null===d?this._itTail=i:d._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,c=i._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class gD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _D{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const s=i._prevDup,c=i._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class Ex{constructor(){this.map=new Map}put(i){const s=i.trackById;let c=this.map.get(s);c||(c=new _D,this.map.set(s,c)),c.add(i)}get(i,s){const d=this.map.get(i);return d?d.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cx(n,i,s){const c=n.previousIndex;if(null===c)return c;let d=0;return s&&c<s.length&&(d=s[c]),c+i+d}class Dx{constructor(){}supports(i){return i instanceof Map||Yp(i)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Yp(i)))throw new fe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(d,c);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const c=i._prev;return s._next=i,s._prev=c,i._prev=s,c&&(c._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,s);const h=d._prev,w=d._next;return h&&(h._next=w),w&&(w._prev=h),d._next=null,d._prev=null,d}const c=new bD(i);return this._records.set(i,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(c=>s(i[c],c))}}class bD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ix(){return new d0([new xx])}let d0=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(null!=c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Ix()),deps:[[n,new Hs,new Qa]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(null!=c)return c;throw new fe(901,!1)}}return n.\u0275prov=nt({token:n,providedIn:"root",factory:Ix}),n})();function Tx(){return new u0([new Dx])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Tx()),deps:[[n,new Hs,new Qa]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(c)return c;throw new fe(901,!1)}}return n.\u0275prov=nt({token:n,providedIn:"root",factory:Tx}),n})();const xD=dx(null,"core",[]);let ED=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Re(tf))},n.\u0275mod=jo({type:n}),n.\u0275inj=Ee({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PD(n){const i=mi(n);if(!i)return null;const s=new pd(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone}}}},9401:(gn,ot,y)=>{y.d(ot,{Cf:()=>Ye,Fj:()=>Pe,JJ:()=>rn,JL:()=>an,JU:()=>ye,NI:()=>Yr,UX:()=>mr,Zs:()=>No,_Y:()=>Dr,cw:()=>le,kI:()=>wt,sg:()=>Fr,u:()=>ns,x0:()=>ir});var l=y(2223),C=y(4755),p=y(8996),X=y(4128),B=y(4004);let ae=(()=>{class K{constructor(b,D){this._renderer=b,this._elementRef=D,this.onChange=ie=>{},this.onTouched=()=>{}}setProperty(b,D){this._renderer.setProperty(this._elementRef.nativeElement,b,D)}registerOnTouched(b){this.onTouched=b}registerOnChange(b){this.onChange=b}setDisabledState(b){this.setProperty("disabled",b)}}return K.\u0275fac=function(b){return new(b||K)(l.Y36(l.Qsj),l.Y36(l.SBq))},K.\u0275dir=l.lG2({type:K}),K})(),W=(()=>{class K extends ae{}return K.\u0275fac=function(){let H;return function(D){return(H||(H=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,features:[l.qOj]}),K})();const ye=new l.OlP("NgValueAccessor"),ue={provide:ye,useExisting:(0,l.Gpc)(()=>Pe),multi:!0},Le=new l.OlP("CompositionEventMode");let Pe=(()=>{class K extends ae{constructor(b,D,ie){super(b,D),this._compositionMode=ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pe(){const K=(0,C.q)()?(0,C.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(b){this.setProperty("value",b??"")}_handleInput(b){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(b)}_compositionStart(){this._composing=!0}_compositionEnd(b){this._composing=!1,this._compositionMode&&this.onChange(b)}}return K.\u0275fac=function(b){return new(b||K)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Le,8))},K.\u0275dir=l.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(b,D){1&b&&l.NdJ("input",function(Oe){return D._handleInput(Oe.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(Oe){return D._compositionEnd(Oe.target.value)})},features:[l._Bn([ue]),l.qOj]}),K})();function et(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function We(K){return null!=K&&"number"==typeof K.length}const Ye=new l.OlP("NgValidators"),$e=new l.OlP("NgAsyncValidators"),ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wt{static min(H){return function fe(K){return H=>{if(et(H.value)||et(K))return null;const b=parseFloat(H.value);return!isNaN(b)&&b<K?{min:{min:K,actual:H.value}}:null}}(H)}static max(H){return function we(K){return H=>{if(et(H.value)||et(K))return null;const b=parseFloat(H.value);return!isNaN(b)&&b>K?{max:{max:K,actual:H.value}}:null}}(H)}static required(H){return me(H)}static requiredTrue(H){return ge(H)}static email(H){return function Ve(K){return et(K.value)||ke.test(K.value)?null:{email:!0}}(H)}static minLength(H){return function Z(K){return H=>et(H.value)||!We(H.value)?null:H.value.length<K?{minlength:{requiredLength:K,actualLength:H.value.length}}:null}(H)}static maxLength(H){return function qe(K){return H=>We(H.value)&&H.value.length>K?{maxlength:{requiredLength:K,actualLength:H.value.length}}:null}(H)}static pattern(H){return function je(K){if(!K)return Xe;let H,b;return"string"==typeof K?(b="","^"!==K.charAt(0)&&(b+="^"),b+=K,"$"!==K.charAt(K.length-1)&&(b+="$"),H=new RegExp(b)):(b=K.toString(),H=K),D=>{if(et(D.value))return null;const ie=D.value;return H.test(ie)?null:{pattern:{requiredPattern:b,actualValue:ie}}}}(H)}static nullValidator(H){return null}static compose(H){return Ht(H)}static composeAsync(H){return Yt(H)}}function me(K){return et(K.value)?{required:!0}:null}function ge(K){return!0===K.value?null:{required:!0}}function Xe(K){return null}function Ct(K){return null!=K}function yn(K){return(0,l.QGY)(K)?(0,p.D)(K):K}function An(K){let H={};return K.forEach(b=>{H=null!=b?{...H,...b}:H}),0===Object.keys(H).length?null:H}function vt(K,H){return H.map(b=>b(K))}function Bt(K){return K.map(H=>function bt(K){return!K.validate}(H)?H:b=>H.validate(b))}function Ht(K){if(!K)return null;const H=K.filter(Ct);return 0==H.length?null:function(b){return An(vt(b,H))}}function en(K){return null!=K?Ht(Bt(K)):null}function Yt(K){if(!K)return null;const H=K.filter(Ct);return 0==H.length?null:function(b){const D=vt(b,H).map(yn);return(0,X.D)(D).pipe((0,B.U)(An))}}function sn(K){return null!=K?Yt(Bt(K)):null}function bn(K,H){return null===K?[H]:Array.isArray(K)?[...K,H]:[K,H]}function on(K){return K._rawValidators}function Ft(K){return K._rawAsyncValidators}function Je(K){return K?Array.isArray(K)?K:[K]:[]}function ct(K,H){return Array.isArray(K)?K.includes(H):K===H}function Rt(K,H){const b=Je(H);return Je(K).forEach(ie=>{ct(b,ie)||b.push(ie)}),b}function Et(K,H){return Je(H).filter(b=>!ct(K,b))}class nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(H){this._rawValidators=H||[],this._composedValidatorFn=en(this._rawValidators)}_setAsyncValidators(H){this._rawAsyncValidators=H||[],this._composedAsyncValidatorFn=sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(H){this._onDestroyCallbacks.push(H)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(H=>H()),this._onDestroyCallbacks=[]}reset(H=void 0){this.control&&this.control.reset(H)}hasError(H,b){return!!this.control&&this.control.hasError(H,b)}getError(H,b){return this.control?this.control.getError(H,b):null}}class ft extends nt{get formDirective(){return null}get path(){return null}}class Ee extends nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ce{constructor(H){this._cd=H}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rn=(()=>{class K extends Ce{constructor(b){super(b)}}return K.\u0275fac=function(b){return new(b||K)(l.Y36(Ee,2))},K.\u0275dir=l.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(b,D){2&b&&l.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)},features:[l.qOj]}),K})(),an=(()=>{class K extends Ce{constructor(b){super(b)}}return K.\u0275fac=function(b){return new(b||K)(l.Y36(ft,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(b,D){2&b&&l.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)("ng-submitted",D.isSubmitted)},features:[l.qOj]}),K})();const hi="VALID",Ei="INVALID",gi="PENDING",Xt="DISABLED";function lt(K){return(Re(K)?K.validators:K)||null}function Ze(K,H){return(Re(H)?H.asyncValidators:K)||null}function Re(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}class Be{constructor(H,b){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(H),this._assignAsyncValidators(b)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===hi}get invalid(){return this.status===Ei}get pending(){return this.status==gi}get disabled(){return this.status===Xt}get enabled(){return this.status!==Xt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._assignValidators(H)}setAsyncValidators(H){this._assignAsyncValidators(H)}addValidators(H){this.setValidators(Rt(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(Rt(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(Et(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(Et(H,this._rawAsyncValidators))}hasValidator(H){return ct(this._rawValidators,H)}hasAsyncValidator(H){return ct(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(b=>{b.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(b=>{b.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=gi,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const b=this._parentMarkedDirty(H.onlySelf);this.status=Xt,this.errors=null,this._forEachChild(D=>{D.disable({...H,onlySelf:!0})}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...H,skipPristineCheck:b}),this._onDisabledChange.forEach(D=>D(!0))}enable(H={}){const b=this._parentMarkedDirty(H.onlySelf);this.status=hi,this._forEachChild(D=>{D.enable({...H,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors({...H,skipPristineCheck:b}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}getRawValue(){return this.value}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hi||this.status===gi)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(b=>b._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xt:hi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=gi,this._hasOwnPendingAsyncValidator=!0;const b=yn(this.asyncValidator(this));this._asyncValidationSubscription=b.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,b={}){this.errors=H,this._updateControlsErrors(!1!==b.emitEvent)}get(H){let b=H;return null==b||(Array.isArray(b)||(b=b.split(".")),0===b.length)?null:b.reduce((D,ie)=>D&&D._find(ie),this)}getError(H,b){const D=b?this.get(b):this;return D&&D.errors?D.errors[H]:null}hasError(H,b){return!!this.getError(H,b)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Xt:this.errors?Ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gi)?gi:this._anyControlsHaveStatus(Ei)?Ei:hi}_anyControlsHaveStatus(H){return this._anyControls(b=>b.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){Re(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(H){return null}_assignValidators(H){this._rawValidators=Array.isArray(H)?H.slice():H,this._composedValidatorFn=function ut(K){return Array.isArray(K)?en(K):K||null}(this._rawValidators)}_assignAsyncValidators(H){this._rawAsyncValidators=Array.isArray(H)?H.slice():H,this._composedAsyncValidatorFn=function He(K){return Array.isArray(K)?sn(K):K||null}(this._rawAsyncValidators)}}class le extends Be{constructor(H,b,D){super(lt(b),Ze(D,b)),this.controls=H,this._initObservables(),this._setUpdateStrategy(b),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,b){return this.controls[H]?this.controls[H]:(this.controls[H]=b,b.setParent(this),b._registerOnCollectionChange(this._onCollectionChange),b)}addControl(H,b,D={}){this.registerControl(H,b),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(H,b={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:b.emitEvent}),this._onCollectionChange()}setControl(H,b,D={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],b&&this.registerControl(H,b),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,b={}){(function Gt(K,H,b){K._forEachChild((D,ie)=>{if(void 0===b[ie])throw new l.vHH(1002,"")})})(this,0,H),Object.keys(H).forEach(D=>{(function Mt(K,H,b){const D=K.controls;if(!(H?Object.keys(D):D).length)throw new l.vHH(1e3,"");if(!D[b])throw new l.vHH(1001,"")})(this,!0,D),this.controls[D].setValue(H[D],{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b)}patchValue(H,b={}){null!=H&&(Object.keys(H).forEach(D=>{const ie=this.controls[D];ie&&ie.patchValue(H[D],{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b))}reset(H={},b={}){this._forEachChild((D,ie)=>{D.reset(H[ie],{onlySelf:!0,emitEvent:b.emitEvent})}),this._updatePristine(b),this._updateTouched(b),this.updateValueAndValidity(b)}getRawValue(){return this._reduceChildren({},(H,b,D)=>(H[D]=b.getRawValue(),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(b,D)=>!!D._syncPendingControls()||b);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){Object.keys(this.controls).forEach(b=>{const D=this.controls[b];D&&H(D,b)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const[b,D]of Object.entries(this.controls))if(this.contains(b)&&H(D))return!0;return!1}_reduceValue(){return this._reduceChildren({},(b,D,ie)=>((D.enabled||this.disabled)&&(b[ie]=D.value),b))}_reduceChildren(H,b){let D=H;return this._forEachChild((ie,Oe)=>{D=b(D,ie,Oe)}),D}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(H){return this.controls.hasOwnProperty(H)?this.controls[H]:null}}const ce=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Te}),Te="always";function Fe(K,H){return[...H.path,K]}function Ue(K,H,b=Te){Vt(K,H),H.valueAccessor.writeValue(K.value),(K.disabled||"always"===b)&&H.valueAccessor.setDisabledState?.(K.disabled),function ti(K,H){H.valueAccessor.registerOnChange(b=>{K._pendingValue=b,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&St(K,H)})}(K,H),function wn(K,H){const b=(D,ie)=>{H.valueAccessor.writeValue(D),ie&&H.viewToModelUpdate(D)};K.registerOnChange(b),H._registerOnDestroy(()=>{K._unregisterOnChange(b)})}(K,H),function Pt(K,H){H.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&St(K,H),"submit"!==K.updateOn&&K.markAsTouched()})}(K,H),function yt(K,H){if(H.valueAccessor.setDisabledState){const b=D=>{H.valueAccessor.setDisabledState(D)};K.registerOnDisabledChange(b),H._registerOnDestroy(()=>{K._unregisterOnDisabledChange(b)})}}(K,H)}function Y(K,H,b=!0){const D=()=>{};H.valueAccessor&&(H.valueAccessor.registerOnChange(D),H.valueAccessor.registerOnTouched(D)),jn(K,H),K&&(H._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Ie(K,H){K.forEach(b=>{b.registerOnValidatorChange&&b.registerOnValidatorChange(H)})}function Vt(K,H){const b=on(K);null!==H.validator?K.setValidators(bn(b,H.validator)):"function"==typeof b&&K.setValidators([b]);const D=Ft(K);null!==H.asyncValidator?K.setAsyncValidators(bn(D,H.asyncValidator)):"function"==typeof D&&K.setAsyncValidators([D]);const ie=()=>K.updateValueAndValidity();Ie(H._rawValidators,ie),Ie(H._rawAsyncValidators,ie)}function jn(K,H){let b=!1;if(null!==K){if(null!==H.validator){const ie=on(K);if(Array.isArray(ie)&&ie.length>0){const Oe=ie.filter(_t=>_t!==H.validator);Oe.length!==ie.length&&(b=!0,K.setValidators(Oe))}}if(null!==H.asyncValidator){const ie=Ft(K);if(Array.isArray(ie)&&ie.length>0){const Oe=ie.filter(_t=>_t!==H.asyncValidator);Oe.length!==ie.length&&(b=!0,K.setAsyncValidators(Oe))}}}const D=()=>{};return Ie(H._rawValidators,D),Ie(H._rawAsyncValidators,D),b}function St(K,H){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function Zo(K,H){const b=K.indexOf(H);b>-1&&K.splice(b,1)}function po(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Yr=class extends Be{constructor(H=null,b,D){super(lt(b),Ze(D,b)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(H),this._setUpdateStrategy(b),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Re(b)&&(b.nonNullable||b.initialValueIsDefault)&&(this.defaultValue=po(H)?H.value:H)}setValue(H,b={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==b.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==b.emitViewToModelChange)),this.updateValueAndValidity(b)}patchValue(H,b={}){this.setValue(H,b)}reset(H=this.defaultValue,b={}){this._applyFormState(H),this.markAsPristine(b),this.markAsUntouched(b),this.setValue(this.value,b),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){Zo(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){Zo(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){po(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}};let jr=(()=>{class K extends ft{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Fe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return K.\u0275fac=function(){let H;return function(D){return(H||(H=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,features:[l.qOj]}),K})(),Dr=(()=>{class K{}return K.\u0275fac=function(b){return new(b||K)},K.\u0275dir=l.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})(),Dt=(()=>{class K{}return K.\u0275fac=function(b){return new(b||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({}),K})();const mn=new l.OlP("NgModelWithFormControlWarning"),bi={provide:ft,useExisting:(0,l.Gpc)(()=>Fr)};let Fr=(()=>{class K extends ft{constructor(b,D,ie){super(),this.callSetDisabledState=ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(b),this._setAsyncValidators(D)}ngOnChanges(b){this._checkFormPresent(),b.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(b){const D=this.form.get(b.path);return Ue(D,b,this.callSetDisabledState),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(b),D}getControl(b){return this.form.get(b.path)}removeControl(b){Y(b.control||null,b,!1),function Kr(K,H){const b=K.indexOf(H);b>-1&&K.splice(b,1)}(this.directives,b)}addFormGroup(b){this._setUpFormContainer(b)}removeFormGroup(b){this._cleanUpFormContainer(b)}getFormGroup(b){return this.form.get(b.path)}addFormArray(b){this._setUpFormContainer(b)}removeFormArray(b){this._cleanUpFormContainer(b)}getFormArray(b){return this.form.get(b.path)}updateModel(b,D){this.form.get(b.path).setValue(D)}onSubmit(b){return this.submitted=!0,function ds(K,H){K._syncPendingControls(),H.forEach(b=>{const D=b.control;"submit"===D.updateOn&&D._pendingChange&&(b.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(b),"dialog"===b?.target?.method}onReset(){this.resetForm()}resetForm(b=void 0){this.form.reset(b),this.submitted=!1}_updateDomValue(){this.directives.forEach(b=>{const D=b.control,ie=this.form.get(b.path);D!==ie&&(Y(D||null,b),(K=>K instanceof Yr)(ie)&&(Ue(ie,b,this.callSetDisabledState),b.control=ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(b){const D=this.form.get(b.path);(function Vn(K,H){Vt(K,H)})(D,b),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(b){if(this.form){const D=this.form.get(b.path);D&&function Rn(K,H){return jn(K,H)}(D,b)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vt(this.form,this),this._oldForm&&jn(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(b){return new(b||K)(l.Y36(Ye,10),l.Y36($e,10),l.Y36(ce,8))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(b,D){1&b&&l.NdJ("submit",function(Oe){return D.onSubmit(Oe)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([bi]),l.qOj,l.TTD]}),K})();const Pi={provide:ft,useExisting:(0,l.Gpc)(()=>ir)};let ir=(()=>{class K extends jr{constructor(b,D,ie){super(),this.name=null,this._parent=b,this._setValidators(D),this._setAsyncValidators(ie)}_checkParentType(){Co(this._parent)}}return K.\u0275fac=function(b){return new(b||K)(l.Y36(ft,13),l.Y36(Ye,10),l.Y36($e,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([Pi]),l.qOj]}),K})();const Wi={provide:ft,useExisting:(0,l.Gpc)(()=>ho)};let ho=(()=>{class K extends ft{constructor(b,D,ie){super(),this.name=null,this._parent=b,this._setValidators(D),this._setAsyncValidators(ie)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Fe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Co(this._parent)}}return K.\u0275fac=function(b){return new(b||K)(l.Y36(ft,13),l.Y36(Ye,10),l.Y36($e,10))},K.\u0275dir=l.lG2({type:K,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([Wi]),l.qOj]}),K})();function Co(K){return!(K instanceof ir||K instanceof Fr||K instanceof ho)}const ci={provide:Ee,useExisting:(0,l.Gpc)(()=>ns)};let ns=(()=>{class K extends Ee{set isDisabled(b){}constructor(b,D,ie,Oe,_t){super(),this._ngModelWarningConfig=_t,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=b,this._setValidators(D),this._setAsyncValidators(ie),this.valueAccessor=function br(K,H){if(!H)return null;let b,D,ie;return Array.isArray(H),H.forEach(Oe=>{Oe.constructor===Pe?b=Oe:function Oo(K){return Object.getPrototypeOf(K.constructor)===W}(Oe)?D=Oe:ie=Oe}),ie||D||b||null}(0,Oe)}ngOnChanges(b){this._added||this._setUpControl(),function eo(K,H){if(!K.hasOwnProperty("model"))return!1;const b=K.model;return!!b.isFirstChange()||!Object.is(H,b.currentValue)}(b,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(b){this.viewModel=b,this.update.emit(b)}get path(){return Fe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return K._ngModelWarningSentOnce=!1,K.\u0275fac=function(b){return new(b||K)(l.Y36(ft,13),l.Y36(Ye,10),l.Y36($e,10),l.Y36(ye,10),l.Y36(mn,8))},K.\u0275dir=l.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([ci]),l.qOj,l.TTD]}),K})(),Ki=(()=>{class K{constructor(){this._validator=Xe}ngOnChanges(b){if(this.inputName in b){const D=this.normalizeInput(b[this.inputName].currentValue);this._enabled=this.enabled(D),this._validator=this._enabled?this.createValidator(D):Xe,this._onChange&&this._onChange()}}validate(b){return this._validator(b)}registerOnValidatorChange(b){this._onChange=b}enabled(b){return null!=b}}return K.\u0275fac=function(b){return new(b||K)},K.\u0275dir=l.lG2({type:K,features:[l.TTD]}),K})();const $o={provide:Ye,useExisting:(0,l.Gpc)(()=>Ir),multi:!0},hs={provide:Ye,useExisting:(0,l.Gpc)(()=>No),multi:!0};let Ir=(()=>{class K extends Ki{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=b=>me}enabled(b){return b}}return K.\u0275fac=function(){let H;return function(D){return(H||(H=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(b,D){2&b&&l.uIk("required",D._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([$o]),l.qOj]}),K})(),No=(()=>{class K extends Ir{constructor(){super(...arguments),this.createValidator=b=>ge}}return K.\u0275fac=function(){let H;return function(D){return(H||(H=l.n5z(K)))(D||K)}}(),K.\u0275dir=l.lG2({type:K,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(b,D){2&b&&l.uIk("required",D._enabled?"":null)},features:[l._Bn([hs]),l.qOj]}),K})(),tt=(()=>{class K{}return K.\u0275fac=function(b){return new(b||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({imports:[Dt]}),K})(),mr=(()=>{class K{static withConfig(b){return{ngModule:K,providers:[{provide:mn,useValue:b.warnOnNgModelWithFormControl??"always"},{provide:ce,useValue:b.callSetDisabledState??Te}]}}}return K.\u0275fac=function(b){return new(b||K)},K.\u0275mod=l.oAB({type:K}),K.\u0275inj=l.cJS({imports:[tt]}),K})()},8410:(gn,ot,y)=>{y.d(ot,{_r:()=>$e,ch:()=>me,oL:()=>fe});var l=y(3223),C=y(8023),p=y(2223),X=y(1217),B=y(706),ae=y(5537),W=y(9002),ye=y(4755),Se=y(1591),oe=y(2840),ue=y(7579),pe=y(6451),Le=y(9300),Pe=y(5698);function et(ge,Ve){}const We={bottomSheetState:(0,Se.X$)("state",[(0,Se.SB)("void, hidden",(0,Se.oB)({transform:"translateY(100%)"})),(0,Se.SB)("visible",(0,Se.oB)({transform:"translateY(0%)"})),(0,Se.eR)("visible => void, visible => hidden",(0,Se.ru)([(0,Se.jt)(`${X.mZ.COMPLEX} ${X.yN.ACCELERATION_CURVE}`),(0,Se.IO)("@*",(0,Se.pV)(),{optional:!0})])),(0,Se.eR)("void => visible",(0,Se.ru)([(0,Se.jt)(`${X.mZ.EXITING} ${X.yN.DECELERATION_CURVE}`),(0,Se.IO)("@*",(0,Se.pV)(),{optional:!0})]))])};let Ye=(()=>{class ge extends l.LL{constructor(Z,qe,je,Xe,Ct,yn,An,vt,bt,Bt){super(Z,qe,je,Xe,Ct,yn,An,Bt),this._changeDetectorRef=bt,this._animationState="void",this._animationStateChanged=new p.vpe,this._breakpointSubscription=vt.observe([ae.u3.Medium,ae.u3.Large,ae.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",vt.isMatched(ae.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",vt.isMatched(ae.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",vt.isMatched(ae.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Z){"visible"===Z.toState&&this._trapFocus(),this._animationStateChanged.emit(Z)}_onAnimationStart(Z){this._animationStateChanged.emit(Z)}_captureInitialFocus(){}_toggleClass(Z,qe){this._elementRef.nativeElement.classList.toggle(Z,qe)}}return ge.\u0275fac=function(Z){return new(Z||ge)(p.Y36(p.SBq),p.Y36(B.qV),p.Y36(ye.K0,8),p.Y36(l.ib),p.Y36(B.ic),p.Y36(p.R0b),p.Y36(W.Iu),p.Y36(ae.Yg),p.Y36(p.sBO),p.Y36(B.tE))},ge.\u0275cmp=p.Xpm({type:ge,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(Z,qe){1&Z&&p.WFA("@state.start",function(Xe){return qe._onAnimationStart(Xe)})("@state.done",function(Xe){return qe._onAnimationDone(Xe)}),2&Z&&(p.uIk("role",qe._config.role)("aria-modal",qe._config.ariaModal)("aria-label",qe._config.ariaLabel),p.d8E("@state",qe._animationState))},features:[p.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Z,qe){1&Z&&p.YNc(0,et,0,0,"ng-template",0)},dependencies:[C.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[We.bottomSheetState]}}),ge})(),$e=(()=>{class ge{}return ge.\u0275fac=function(Z){return new(Z||ge)},ge.\u0275mod=p.oAB({type:ge}),ge.\u0275inj=p.cJS({imports:[l.Su,X.BQ,C.eL,X.BQ]}),ge})();const ke=new p.OlP("MatBottomSheetData");class wt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class fe{get instance(){return this._ref.componentInstance}constructor(Ve,Z,qe){this._ref=Ve,this._afterOpened=new ue.x,this.containerInstance=qe,this.disableClose=Z.disableClose,qe._animationStateChanged.pipe((0,Le.h)(je=>"done"===je.phaseName&&"visible"===je.toState),(0,Pe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),qe._animationStateChanged.pipe((0,Le.h)(je=>"done"===je.phaseName&&"hidden"===je.toState),(0,Pe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),Ve.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,pe.T)(this.backdropClick(),this.keydownEvents().pipe((0,Le.h)(je=>je.keyCode===oe.hY))).subscribe(je=>{!this.disableClose&&("keydown"!==je.type||!(0,oe.Vb)(je))&&(je.preventDefault(),this.dismiss())})}dismiss(Ve){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,Le.h)(Z=>"start"===Z.phaseName),(0,Pe.q)(1)).subscribe(Z=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},Z.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=Ve,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const we=new p.OlP("mat-bottom-sheet-default-options");let me=(()=>{class ge{get _openedBottomSheetRef(){const Z=this._parentBottomSheet;return Z?Z._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Z){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Z:this._bottomSheetRefAtThisLevel=Z}constructor(Z,qe,je,Xe){this._overlay=Z,this._parentBottomSheet=je,this._defaultOptions=Xe,this._bottomSheetRefAtThisLevel=null,this._dialog=qe.get(l.Vq)}open(Z,qe){const je={...this._defaultOptions||new wt,...qe};let Xe;return this._dialog.open(Z,{...je,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Ye,scrollStrategy:je.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:Xe}),providers:(Ct,yn,An)=>(Xe=new fe(Ct,je,An),[{provide:fe,useValue:Xe},{provide:ke,useValue:je.data}])}),Xe.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===Xe&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>Xe.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):Xe.containerInstance.enter(),this._openedBottomSheetRef=Xe,Xe}dismiss(Z){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Z)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return ge.\u0275fac=function(Z){return new(Z||ge)(p.LFG(W.aV),p.LFG(p.zs3),p.LFG(ge,12),p.LFG(we,8))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac,providedIn:$e}),ge})()},1728:(gn,ot,y)=>{y.d(ot,{cs:()=>en,lW:()=>yn,ot:()=>Je});var l=y(2966),C=y(2223),p=y(706),X=y(1217),B=y(4755),ae=y(1692);const W=["mat-button",""],ye=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Se=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],pe=["mat-fab",""],$e={capture:!0},ke=["focus","click","mouseenter","touchstart"],wt="mat-button-ripple-uninitialized";let fe=(()=>{class ct{constructor(){this._document=(0,C.f3M)(B.K0,{optional:!0}),this._animationMode=(0,C.f3M)(C.QbO,{optional:!0}),this._globalRippleOptions=(0,C.f3M)(X.Y2,{optional:!0}),this._platform=(0,C.f3M)(l.t4),this._ngZone=(0,C.f3M)(C.R0b),this._onInteraction=Et=>{if(Et.target===this._document)return;const ft=Et.target.closest(`[${wt}]`);ft&&(ft.removeAttribute(wt),this._appendRipple(ft))},this._ngZone.runOutsideAngular(()=>{for(const Et of ke)this._document?.addEventListener(Et,this._onInteraction,$e)})}ngOnDestroy(){for(const Et of ke)this._document?.removeEventListener(Et,this._onInteraction,$e)}_appendRipple(Et){if(!this._document)return;const nt=this._document.createElement("span");nt.classList.add("mat-mdc-button-ripple");const ft=new we(Et,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);ft.rippleConfig.centered=Et.hasAttribute("mat-icon-button"),new X.IR(ft,this._ngZone,nt,this._platform).setupTriggerEvents(Et),Et.append(nt)}_createMatRipple(Et){if(!this._document)return;Et.querySelector(".mat-mdc-button-ripple")?.remove(),Et.removeAttribute(wt);const nt=this._document.createElement("span");nt.classList.add("mat-mdc-button-ripple");const ft=new X.wG(new C.SBq(nt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return ft._isInitialized=!0,ft.trigger=Et,Et.append(nt),ft}}return ct.\u0275fac=function(Et){return new(Et||ct)},ct.\u0275prov=C.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})();class we{constructor(Rt,Et,nt){this._button=Rt,this._globalRippleOptions=Et,this._setRippleConfig(Et,nt)}_setRippleConfig(Rt,Et){this.rippleConfig=Rt||{},"NoopAnimations"===Et&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Ve=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Z=(0,X.pj)((0,X.Id)((0,X.Kr)(class{constructor(ct){this._elementRef=ct}})));let qe=(()=>{class ct extends Z{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(Et){this._ripple=Et}constructor(Et,nt,ft,Ee){super(Et),this._platform=nt,this._ngZone=ft,this._animationMode=Ee,this._focusMonitor=(0,C.f3M)(p.tE),this._rippleLoader=(0,C.f3M)(fe),this._isFab=!1;const Ce=Et.nativeElement.classList;for(const De of Ve)this._hasHostAttributes(De.selector)&&De.mdcClasses.forEach(Tt=>{Ce.add(Tt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Et="program",nt){Et?this._focusMonitor.focusVia(this._elementRef.nativeElement,Et,nt):this._elementRef.nativeElement.focus(nt)}_hasHostAttributes(...Et){return Et.some(nt=>this._elementRef.nativeElement.hasAttribute(nt))}}return ct.\u0275fac=function(Et){C.$Z()},ct.\u0275dir=C.lG2({type:ct,features:[C.qOj,C.TTD]}),ct})(),yn=(()=>{class ct extends qe{constructor(Et,nt,ft,Ee){super(Et,nt,ft,Ee)}}return ct.\u0275fac=function(Et){return new(Et||ct)(C.Y36(C.SBq),C.Y36(l.t4),C.Y36(C.R0b),C.Y36(C.QbO,8))},ct.\u0275cmp=C.Xpm({type:ct,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Et,nt){2&Et&&(C.uIk("disabled",nt.disabled||null),C.ekj("_mat-animation-noopable","NoopAnimations"===nt._animationMode)("mat-unthemed",!nt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[C.qOj],attrs:W,ngContentSelectors:Se,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Et,nt){1&Et&&(C.F$t(ye),C._UZ(0,"span",0),C.Hsn(1),C.TgZ(2,"span",1),C.Hsn(3,1),C.qZA(),C.Hsn(4,2),C._UZ(5,"span",2)(6,"span",3)),2&Et&&C.ekj("mdc-button__ripple",!nt._isFab)("mdc-fab__ripple",nt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),ct})();const vt=new C.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:bt});function bt(){return{color:"accent"}}const Bt=bt();let en=(()=>{class ct extends qe{get extended(){return this._extended}set extended(Et){this._extended=(0,ae.Ig)(Et)}constructor(Et,nt,ft,Ee,Ce){super(Et,nt,ft,Ee),this._options=Ce,this._isFab=!0,this._options=this._options||Bt,this.color=this.defaultColor=this._options.color||Bt.color}}return ct.\u0275fac=function(Et){return new(Et||ct)(C.Y36(C.SBq),C.Y36(l.t4),C.Y36(C.R0b),C.Y36(C.QbO,8),C.Y36(vt,8))},ct.\u0275cmp=C.Xpm({type:ct,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(Et,nt){2&Et&&(C.uIk("disabled",nt.disabled||null),C.ekj("_mat-animation-noopable","NoopAnimations"===nt._animationMode)("mat-unthemed",!nt.color)("mat-mdc-button-base",!0)("mdc-fab--extended",nt.extended)("mat-mdc-extended-fab",nt.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[C.qOj],attrs:pe,ngContentSelectors:Se,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Et,nt){1&Et&&(C.F$t(ye),C._UZ(0,"span",0),C.Hsn(1),C.TgZ(2,"span",1),C.Hsn(3,1),C.qZA(),C.Hsn(4,2),C._UZ(5,"span",2)(6,"span",3)),2&Et&&C.ekj("mdc-button__ripple",!nt._isFab)("mdc-fab__ripple",nt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),ct})(),Je=(()=>{class ct{}return ct.\u0275fac=function(Et){return new(Et||ct)},ct.\u0275mod=C.oAB({type:ct}),ct.\u0275inj=C.cJS({imports:[X.BQ,X.si,X.BQ]}),ct})()},6012:(gn,ot,y)=>{y.d(ot,{$j:()=>Pe,G2:()=>$e,QW:()=>Ve,a8:()=>oe,dk:()=>We,dn:()=>Le,hq:()=>et,n5:()=>ue});var l=y(2223),C=y(4755),p=y(1217);const X=["*"],W=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ye=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Se=new l.OlP("MAT_CARD_CONFIG");let oe=(()=>{class Z{constructor(je){this.appearance=je?.appearance||"raised"}}return Z.\u0275fac=function(je){return new(je||Z)(l.Y36(Se,8))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(je,Xe){2&je&&l.ekj("mat-mdc-card-outlined","outlined"===Xe.appearance)("mdc-card--outlined","outlined"===Xe.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:X,decls:1,vars:0,template:function(je,Xe){1&je&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),Z})(),ue=(()=>{class Z{}return Z.\u0275fac=function(je){return new(je||Z)},Z.\u0275dir=l.lG2({type:Z,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),Z})(),Le=(()=>{class Z{}return Z.\u0275fac=function(je){return new(je||Z)},Z.\u0275dir=l.lG2({type:Z,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),Z})(),Pe=(()=>{class Z{}return Z.\u0275fac=function(je){return new(je||Z)},Z.\u0275dir=l.lG2({type:Z,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),Z})(),et=(()=>{class Z{constructor(){this.align="start"}}return Z.\u0275fac=function(je){return new(je||Z)},Z.\u0275dir=l.lG2({type:Z,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(je,Xe){2&je&&l.ekj("mat-mdc-card-actions-align-end","end"===Xe.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),Z})(),We=(()=>{class Z{}return Z.\u0275fac=function(je){return new(je||Z)},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:ye,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(je,Xe){1&je&&(l.F$t(W),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),Z})(),$e=(()=>{class Z{}return Z.\u0275fac=function(je){return new(je||Z)},Z.\u0275dir=l.lG2({type:Z,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),Z})(),Ve=(()=>{class Z{}return Z.\u0275fac=function(je){return new(je||Z)},Z.\u0275mod=l.oAB({type:Z}),Z.\u0275inj=l.cJS({imports:[p.BQ,C.ez,p.BQ]}),Z})()},1292:(gn,ot,y)=>{y.d(ot,{oG:()=>We,p9:()=>wt});var l=y(2223),C=y(9401),p=y(1217),X=y(1692);const B=["input"],ae=["label"],W=["*"],ye=new l.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Se});function Se(){return{color:"accent",clickAction:"check-indeterminate"}}const oe={provide:C.JU,useExisting:(0,l.Gpc)(()=>We),multi:!0};class ue{}let pe=0;const Le=Se(),Pe=(0,p.sb)((0,p.pj)((0,p.Kr)((0,p.Id)(class{constructor(fe){this._elementRef=fe}}))));let et=(()=>{class fe extends Pe{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(me){this._required=(0,X.Ig)(me)}constructor(me,ge,Ve,Z,qe,je,Xe){super(ge),this._changeDetectorRef=Ve,this._ngZone=Z,this._animationMode=je,this._options=Xe,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new l.vpe,this.indeterminateChange=new l.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Le,this.color=this.defaultColor=this._options.color||Le.color,this.tabIndex=parseInt(qe)||0,this.id=this._uniqueId=`${me}${++pe}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(me){const ge=(0,X.Ig)(me);ge!=this.checked&&(this._checked=ge,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(me){const ge=(0,X.Ig)(me);ge!==this.disabled&&(this._disabled=ge,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(me){const ge=me!=this._indeterminate;this._indeterminate=(0,X.Ig)(me),ge&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(me){this.checked=!!me}registerOnChange(me){this._controlValueAccessorChangeFn=me}registerOnTouched(me){this._onTouched=me}setDisabledState(me){this.disabled=me}_transitionCheckState(me){let ge=this._currentCheckState,Ve=this._getAnimationTargetElement();if(ge!==me&&Ve&&(this._currentAnimationClass&&Ve.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(ge,me),this._currentCheckState=me,this._currentAnimationClass.length>0)){Ve.classList.add(this._currentAnimationClass);const Z=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Ve.classList.remove(Z)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const me=this._options?.clickAction;this.disabled||"noop"===me?!this.disabled&&"noop"===me&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==me&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(me){me.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(me,ge){if("NoopAnimations"===this._animationMode)return"";switch(me){case 0:if(1===ge)return this._animationClasses.uncheckedToChecked;if(3==ge)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===ge?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===ge?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===ge?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(me){const ge=this._inputElement;ge&&(ge.nativeElement.indeterminate=me)}}return fe.\u0275fac=function(me){l.$Z()},fe.\u0275dir=l.lG2({type:fe,viewQuery:function(me,ge){if(1&me&&(l.Gf(B,5),l.Gf(ae,5),l.Gf(p.wG,5)),2&me){let Ve;l.iGM(Ve=l.CRH())&&(ge._inputElement=Ve.first),l.iGM(Ve=l.CRH())&&(ge._labelElement=Ve.first),l.iGM(Ve=l.CRH())&&(ge.ripple=Ve.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[l.qOj]}),fe})(),We=(()=>{class fe extends et{constructor(me,ge,Ve,Z,qe,je){super("mat-mdc-checkbox-",me,ge,Ve,Z,qe,je),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(me){const ge=new ue;return ge.source=this,ge.checked=me,ge}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(me){me.target&&this._labelElement.nativeElement.contains(me.target)&&me.stopPropagation()}}return fe.\u0275fac=function(me){return new(me||fe)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.$8M("tabindex"),l.Y36(l.QbO,8),l.Y36(ye,8))},fe.\u0275cmp=l.Xpm({type:fe,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(me,ge){2&me&&(l.Ikx("id",ge.id),l.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),l.ekj("_mat-animation-noopable","NoopAnimations"===ge._animationMode)("mdc-checkbox--disabled",ge.disabled)("mat-mdc-checkbox-disabled",ge.disabled)("mat-mdc-checkbox-checked",ge.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[l._Bn([oe]),l.qOj],ngContentSelectors:W,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(me,ge){if(1&me&&(l.F$t(),l.TgZ(0,"div",0),l.NdJ("click",function(Z){return ge._preventBubblingFromLabel(Z)}),l.TgZ(1,"div",1,2)(3,"div",3),l.NdJ("click",function(){return ge._onTouchTargetClick()}),l.qZA(),l.TgZ(4,"input",4,5),l.NdJ("blur",function(){return ge._onBlur()})("click",function(){return ge._onInputClick()})("change",function(Z){return ge._onInteractionEvent(Z)}),l.qZA(),l._UZ(6,"div",6),l.TgZ(7,"div",7),l.O4$(),l.TgZ(8,"svg",8),l._UZ(9,"path",9),l.qZA(),l.kcU(),l._UZ(10,"div",10),l.qZA(),l._UZ(11,"div",11),l.qZA(),l.TgZ(12,"label",12,13),l.Hsn(14),l.qZA()()),2&me){const Ve=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==ge.labelPosition),l.xp6(4),l.ekj("mdc-checkbox--selected",ge.checked),l.Q6J("checked",ge.checked)("indeterminate",ge.indeterminate)("disabled",ge.disabled)("id",ge.inputId)("required",ge.required)("tabIndex",ge.tabIndex),l.uIk("aria-label",ge.ariaLabel||null)("aria-labelledby",ge.ariaLabelledby)("aria-describedby",ge.ariaDescribedby)("name",ge.name)("value",ge.value),l.xp6(7),l.Q6J("matRippleTrigger",Ve)("matRippleDisabled",ge.disableRipple||ge.disabled)("matRippleCentered",!0),l.xp6(1),l.Q6J("for",ge.inputId)}},dependencies:[p.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),fe})(),ke=(()=>{class fe{}return fe.\u0275fac=function(me){return new(me||fe)},fe.\u0275mod=l.oAB({type:fe}),fe.\u0275inj=l.cJS({}),fe})(),wt=(()=>{class fe{}return fe.\u0275fac=function(me){return new(me||fe)},fe.\u0275mod=l.oAB({type:fe}),fe.\u0275inj=l.cJS({imports:[p.BQ,p.si,ke,p.BQ,ke]}),fe})()},1217:(gn,ot,y)=>{y.d(ot,{yN:()=>Ye,mZ:()=>$e,Y2:()=>ze,BQ:()=>fe,Ng:()=>gi,us:()=>qt,wG:()=>at,si:()=>ht,IR:()=>It,pj:()=>Z,Kr:()=>qe,Id:()=>Ve,sb:()=>je});var l=y(2223),C=y(706),p=y(8930),B=y(4755),ae=y(2966),W=y(1692);let Ye=(()=>{class Xt{}return Xt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Xt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Xt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Xt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Xt})(),$e=(()=>{class Xt{}return Xt.COMPLEX="375ms",Xt.ENTERING="225ms",Xt.EXITING="195ms",Xt})();const wt=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function ke(){return!0}});let fe=(()=>{class Xt{constructor(ut,Ze,He){this._sanityChecks=Ze,this._document=He,this._hasDoneGlobalChecks=!1,ut._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ut){return!(0,ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ut])}}return Xt.\u0275fac=function(ut){return new(ut||Xt)(l.LFG(C.qm),l.LFG(wt,8),l.LFG(B.K0))},Xt.\u0275mod=l.oAB({type:Xt}),Xt.\u0275inj=l.cJS({imports:[p.vT,p.vT]}),Xt})();function Ve(Xt){return class extends Xt{get disabled(){return this._disabled}set disabled(lt){this._disabled=(0,W.Ig)(lt)}constructor(...lt){super(...lt),this._disabled=!1}}}function Z(Xt,lt){return class extends Xt{get color(){return this._color}set color(ut){const Ze=ut||this.defaultColor;Ze!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Ze&&this._elementRef.nativeElement.classList.add(`mat-${Ze}`),this._color=Ze)}constructor(...ut){super(...ut),this.defaultColor=lt,this.color=lt}}}function qe(Xt){return class extends Xt{get disableRipple(){return this._disableRipple}set disableRipple(lt){this._disableRipple=(0,W.Ig)(lt)}constructor(...lt){super(...lt),this._disableRipple=!1}}}function je(Xt,lt=0){return class extends Xt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(ut){this._tabIndex=null!=ut?(0,W.su)(ut):this.defaultTabIndex}constructor(...ut){super(...ut),this._tabIndex=lt,this.defaultTabIndex=lt}}}class nt{constructor(lt,ut,Ze,He=!1){this._renderer=lt,this.element=ut,this.config=Ze,this._animationForciblyDisabledThroughCss=He,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ft=(0,ae.i$)({passive:!0,capture:!0});class Ee{constructor(){this._events=new Map,this._delegateEventHandler=lt=>{const ut=(0,ae.sA)(lt);ut&&this._events.get(lt.type)?.forEach((Ze,He)=>{(He===ut||He.contains(ut))&&Ze.forEach(Re=>Re.handleEvent(lt))})}}addHandler(lt,ut,Ze,He){const Re=this._events.get(ut);if(Re){const Mt=Re.get(Ze);Mt?Mt.add(He):Re.set(Ze,new Set([He]))}else this._events.set(ut,new Map([[Ze,new Set([He])]])),lt.runOutsideAngular(()=>{document.addEventListener(ut,this._delegateEventHandler,ft)})}removeHandler(lt,ut,Ze){const He=this._events.get(lt);if(!He)return;const Re=He.get(ut);Re&&(Re.delete(Ze),0===Re.size&&He.delete(ut),0===He.size&&(this._events.delete(lt),document.removeEventListener(lt,this._delegateEventHandler,ft)))}}const Ce={enterDuration:225,exitDuration:150},Tt=(0,ae.i$)({passive:!0,capture:!0}),rn=["mousedown","touchstart"],an=["mouseup","mouseleave","touchend","touchcancel"];class It{constructor(lt,ut,Ze,He){this._target=lt,this._ngZone=ut,this._platform=He,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,He.isBrowser&&(this._containerElement=(0,W.fI)(Ze))}fadeInRipple(lt,ut,Ze={}){const He=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Re={...Ce,...Ze.animation};Ze.centered&&(lt=He.left+He.width/2,ut=He.top+He.height/2);const Mt=Ze.radius||function he(Xt,lt,ut){const Ze=Math.max(Math.abs(Xt-ut.left),Math.abs(Xt-ut.right)),He=Math.max(Math.abs(lt-ut.top),Math.abs(lt-ut.bottom));return Math.sqrt(Ze*Ze+He*He)}(lt,ut,He),Gt=lt-He.left,Be=ut-He.top,le=Re.enterDuration,z=document.createElement("div");z.classList.add("mat-ripple-element"),z.style.left=Gt-Mt+"px",z.style.top=Be-Mt+"px",z.style.height=2*Mt+"px",z.style.width=2*Mt+"px",null!=Ze.color&&(z.style.backgroundColor=Ze.color),z.style.transitionDuration=`${le}ms`,this._containerElement.appendChild(z);const j=window.getComputedStyle(z),de=j.transitionDuration,ce="none"===j.transitionProperty||"0s"===de||"0s, 0s"===de||0===He.width&&0===He.height,Te=new nt(this,z,Ze,ce);z.style.transform="scale3d(1, 1, 1)",Te.state=0,Ze.persistent||(this._mostRecentTransientRipple=Te);let Fe=null;return!ce&&(le||Re.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ue=()=>this._finishRippleTransition(Te),Y=()=>this._destroyRipple(Te);z.addEventListener("transitionend",Ue),z.addEventListener("transitioncancel",Y),Fe={onTransitionEnd:Ue,onTransitionCancel:Y}}),this._activeRipples.set(Te,Fe),(ce||!le)&&this._finishRippleTransition(Te),Te}fadeOutRipple(lt){if(2===lt.state||3===lt.state)return;const ut=lt.element,Ze={...Ce,...lt.config.animation};ut.style.transitionDuration=`${Ze.exitDuration}ms`,ut.style.opacity="0",lt.state=2,(lt._animationForciblyDisabledThroughCss||!Ze.exitDuration)&&this._finishRippleTransition(lt)}fadeOutAll(){this._getActiveRipples().forEach(lt=>lt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(lt=>{lt.config.persistent||lt.fadeOut()})}setupTriggerEvents(lt){const ut=(0,W.fI)(lt);!this._platform.isBrowser||!ut||ut===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ut,rn.forEach(Ze=>{It._eventManager.addHandler(this._ngZone,Ze,ut,this)}))}handleEvent(lt){"mousedown"===lt.type?this._onMousedown(lt):"touchstart"===lt.type?this._onTouchStart(lt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{an.forEach(ut=>{this._triggerElement.addEventListener(ut,this,Tt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(lt){0===lt.state?this._startFadeOutTransition(lt):2===lt.state&&this._destroyRipple(lt)}_startFadeOutTransition(lt){const ut=lt===this._mostRecentTransientRipple,{persistent:Ze}=lt.config;lt.state=1,!Ze&&(!ut||!this._isPointerDown)&&lt.fadeOut()}_destroyRipple(lt){const ut=this._activeRipples.get(lt)??null;this._activeRipples.delete(lt),this._activeRipples.size||(this._containerRect=null),lt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),lt.state=3,null!==ut&&(lt.element.removeEventListener("transitionend",ut.onTransitionEnd),lt.element.removeEventListener("transitioncancel",ut.onTransitionCancel)),lt.element.remove()}_onMousedown(lt){const ut=(0,C.X6)(lt),Ze=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ut&&!Ze&&(this._isPointerDown=!0,this.fadeInRipple(lt.clientX,lt.clientY,this._target.rippleConfig))}_onTouchStart(lt){if(!this._target.rippleDisabled&&!(0,C.yG)(lt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ut=lt.changedTouches;for(let Ze=0;Ze<ut.length;Ze++)this.fadeInRipple(ut[Ze].clientX,ut[Ze].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(lt=>{!lt.config.persistent&&(1===lt.state||lt.config.terminateOnPointerUp&&0===lt.state)&&lt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const lt=this._triggerElement;lt&&(rn.forEach(ut=>It._eventManager.removeHandler(ut,lt,this)),this._pointerUpEventsRegistered&&an.forEach(ut=>lt.removeEventListener(ut,this,Tt)))}}It._eventManager=new Ee;const ze=new l.OlP("mat-ripple-global-options");let at=(()=>{class Xt{get disabled(){return this._disabled}set disabled(ut){ut&&this.fadeOutAllNonPersistent(),this._disabled=ut,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ut){this._trigger=ut,this._setupTriggerEventsIfEnabled()}constructor(ut,Ze,He,Re,Mt){this._elementRef=ut,this._animationMode=Mt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Re||{},this._rippleRenderer=new It(this,Ze,ut,He)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ut,Ze=0,He){return"number"==typeof ut?this._rippleRenderer.fadeInRipple(ut,Ze,{...this.rippleConfig,...He}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ut})}}return Xt.\u0275fac=function(ut){return new(ut||Xt)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ae.t4),l.Y36(ze,8),l.Y36(l.QbO,8))},Xt.\u0275dir=l.lG2({type:Xt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ut,Ze){2&ut&&l.ekj("mat-ripple-unbounded",Ze.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Xt})(),ht=(()=>{class Xt{}return Xt.\u0275fac=function(ut){return new(ut||Xt)},Xt.\u0275mod=l.oAB({type:Xt}),Xt.\u0275inj=l.cJS({imports:[fe,fe]}),Xt})(),qt=(()=>{class Xt{}return Xt.\u0275fac=function(ut){return new(ut||Xt)},Xt.\u0275mod=l.oAB({type:Xt}),Xt.\u0275inj=l.cJS({imports:[fe]}),Xt})(),gi=(()=>{class Xt{}return Xt.\u0275fac=function(ut){return new(ut||Xt)},Xt.\u0275mod=l.oAB({type:Xt}),Xt.\u0275inj=l.cJS({imports:[ht,B.ez,fe,qt]}),Xt})()},6286:(gn,ot,y)=>{y.d(ot,{Is:()=>Rt,WI:()=>Ct,so:()=>je,uw:()=>Yt,vA:()=>$e});var l=y(9002),C=y(4755),p=y(2223),X=y(706),B=y(3223),ae=y(1692),W=y(8023),ye=y(7579),Se=y(6451),oe=y(9770),ue=y(9300),pe=y(5698),Le=y(8675),Pe=y(2840),et=y(1217);function Ye(ft,Ee){}y(1591);class $e{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ke="mdc-dialog--open",wt="mdc-dialog--opening",fe="mdc-dialog--closing";let ge=(()=>{class ft extends B.LL{constructor(Ce,De,Tt,rn,an,It,he,ze){super(Ce,De,Tt,rn,an,It,he,ze),this._animationStateChanged=new p.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Ce){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Ce})}}return ft.\u0275fac=function(Ce){return new(Ce||ft)(p.Y36(p.SBq),p.Y36(X.qV),p.Y36(C.K0,8),p.Y36($e),p.Y36(X.ic),p.Y36(p.R0b),p.Y36(l.Iu),p.Y36(X.tE))},ft.\u0275cmp=p.Xpm({type:ft,selectors:[["ng-component"]],features:[p.qOj],decls:0,vars:0,template:function(Ce,De){},encapsulation:2}),ft})();const Ve="--mat-dialog-transition-duration";function Z(ft){return null==ft?null:"number"==typeof ft?ft:ft.endsWith("ms")?(0,ae.su)(ft.substring(0,ft.length-2)):ft.endsWith("s")?1e3*(0,ae.su)(ft.substring(0,ft.length-1)):"0"===ft?0:null}let qe=(()=>{class ft extends ge{constructor(Ce,De,Tt,rn,an,It,he,ze,at){super(Ce,De,Tt,rn,an,It,he,at),this._animationMode=ze,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Z(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Z(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ve,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wt,ke)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ke),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(ke),this._animationsEnabled?(this._hostElement.style.setProperty(Ve,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fe)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(wt,fe)}_waitForAnimationToComplete(Ce,De){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(De,Ce)}_requestAnimationFrame(Ce){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Ce):Ce()})}}return ft.\u0275fac=function(Ce){return new(Ce||ft)(p.Y36(p.SBq),p.Y36(X.qV),p.Y36(C.K0,8),p.Y36($e),p.Y36(X.ic),p.Y36(p.R0b),p.Y36(l.Iu),p.Y36(p.QbO,8),p.Y36(X.tE))},ft.\u0275cmp=p.Xpm({type:ft,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(Ce,De){2&Ce&&(p.Ikx("id",De._config.id),p.uIk("aria-modal",De._config.ariaModal)("role",De._config.role)("aria-labelledby",De._config.ariaLabel?null:De._ariaLabelledBy)("aria-label",De._config.ariaLabel)("aria-describedby",De._config.ariaDescribedBy||null),p.ekj("_mat-animation-noopable",!De._animationsEnabled))},features:[p.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Ce,De){1&Ce&&(p.TgZ(0,"div",0)(1,"div",1),p.YNc(2,Ye,0,0,"ng-template",2),p.qZA()())},dependencies:[W.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),ft})();class je{constructor(Ee,Ce,De){this._ref=Ee,this._containerInstance=De,this._afterOpened=new ye.x,this._beforeClosed=new ye.x,this._state=0,this.disableClose=Ce.disableClose,this.id=Ee.id,De._animationStateChanged.pipe((0,ue.h)(Tt=>"opened"===Tt.state),(0,pe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),De._animationStateChanged.pipe((0,ue.h)(Tt=>"closed"===Tt.state),(0,pe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Ee.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Se.T)(this.backdropClick(),this.keydownEvents().pipe((0,ue.h)(Tt=>Tt.keyCode===Pe.hY&&!this.disableClose&&!(0,Pe.Vb)(Tt)))).subscribe(Tt=>{this.disableClose||(Tt.preventDefault(),function Xe(ft,Ee,Ce){ft._closeInteractionType=Ee,ft.close(Ce)}(this,"keydown"===Tt.type?"keyboard":"mouse"))})}close(Ee){this._result=Ee,this._containerInstance._animationStateChanged.pipe((0,ue.h)(Ce=>"closing"===Ce.state),(0,pe.q)(1)).subscribe(Ce=>{this._beforeClosed.next(Ee),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Ce.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Ee){let Ce=this._ref.config.positionStrategy;return Ee&&(Ee.left||Ee.right)?Ee.left?Ce.left(Ee.left):Ce.right(Ee.right):Ce.centerHorizontally(),Ee&&(Ee.top||Ee.bottom)?Ee.top?Ce.top(Ee.top):Ce.bottom(Ee.bottom):Ce.centerVertically(),this._ref.updatePosition(),this}updateSize(Ee="",Ce=""){return this._ref.updateSize(Ee,Ce),this}addPanelClass(Ee){return this._ref.addPanelClass(Ee),this}removePanelClass(Ee){return this._ref.removePanelClass(Ee),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ct=new p.OlP("MatMdcDialogData"),yn=new p.OlP("mat-mdc-dialog-default-options"),An=new p.OlP("mat-mdc-dialog-scroll-strategy"),bt={provide:An,deps:[l.aV],useFactory:function vt(ft){return()=>ft.scrollStrategies.block()}};let Ht=0,en=(()=>{class ft{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Ce=this._parentDialog;return Ce?Ce._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Ce,De,Tt,rn,an,It,he,ze,at,ht){this._overlay=Ce,this._defaultOptions=Tt,this._parentDialog=rn,this._dialogRefConstructor=he,this._dialogContainerType=ze,this._dialogDataToken=at,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ye.x,this._afterOpenedAtThisLevel=new ye.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=$e,this.afterAllClosed=(0,oe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Le.O)(void 0))),this._scrollStrategy=It,this._dialog=De.get(B.Vq)}open(Ce,De){let Tt;(De={...this._defaultOptions||new $e,...De}).id=De.id||`${this._idPrefix}${Ht++}`,De.scrollStrategy=De.scrollStrategy||this._scrollStrategy();const rn=this._dialog.open(Ce,{...De,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:De},{provide:B.ib,useValue:De}]},templateContext:()=>({dialogRef:Tt}),providers:(an,It,he)=>(Tt=new this._dialogRefConstructor(an,De,he),Tt.updatePosition(De?.position),[{provide:this._dialogContainerType,useValue:he},{provide:this._dialogDataToken,useValue:It.data},{provide:this._dialogRefConstructor,useValue:Tt}])});return Tt.componentInstance=rn.componentInstance,this.openDialogs.push(Tt),this.afterOpened.next(Tt),Tt.afterClosed().subscribe(()=>{const an=this.openDialogs.indexOf(Tt);an>-1&&(this.openDialogs.splice(an,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Tt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Ce){return this.openDialogs.find(De=>De.id===Ce)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Ce){let De=Ce.length;for(;De--;)Ce[De].close()}}return ft.\u0275fac=function(Ce){p.$Z()},ft.\u0275prov=p.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),Yt=(()=>{class ft extends en{constructor(Ce,De,Tt,rn,an,It,he,ze){super(Ce,De,rn,It,he,an,je,qe,Ct,ze),this._idPrefix="mat-mdc-dialog-"}}return ft.\u0275fac=function(Ce){return new(Ce||ft)(p.LFG(l.aV),p.LFG(p.zs3),p.LFG(C.Ye,8),p.LFG(yn,8),p.LFG(An),p.LFG(ft,12),p.LFG(l.Xj),p.LFG(p.QbO,8))},ft.\u0275prov=p.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),Rt=(()=>{class ft{}return ft.\u0275fac=function(Ce){return new(Ce||ft)},ft.\u0275mod=p.oAB({type:ft}),ft.\u0275inj=p.cJS({providers:[Yt,bt],imports:[B.Su,l.U8,W.eL,et.BQ,et.BQ]}),ft})()},430:(gn,ot,y)=>{y.d(ot,{Hw:()=>sn,Ps:()=>bn});var l=y(2223),C=y(1217),p=y(1692),X=y(4755),B=y(9646),ae=y(2843),W=y(4128),ye=y(727),Se=y(8505),oe=y(4004),ue=y(262),pe=y(8746),Le=y(3099),Pe=y(5698),et=y(3144),We=y(6550);const Ye=["*"];let $e;function wt(on){return function ke(){if(void 0===$e&&($e=null,typeof window<"u")){const on=window;void 0!==on.trustedTypes&&($e=on.trustedTypes.createPolicy("angular#components",{createHTML:Ft=>Ft}))}return $e}()?.createHTML(on)||on}function fe(on){return Error(`Unable to find icon with the name "${on}"`)}function me(on){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${on}".`)}function ge(on){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${on}".`)}class Ve{constructor(Ft,Je,ct){this.url=Ft,this.svgText=Je,this.options=ct}}let Z=(()=>{class on{constructor(Je,ct,Rt,Et){this._httpClient=Je,this._sanitizer=ct,this._errorHandler=Et,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Rt}addSvgIcon(Je,ct,Rt){return this.addSvgIconInNamespace("",Je,ct,Rt)}addSvgIconLiteral(Je,ct,Rt){return this.addSvgIconLiteralInNamespace("",Je,ct,Rt)}addSvgIconInNamespace(Je,ct,Rt,Et){return this._addSvgIconConfig(Je,ct,new Ve(Rt,null,Et))}addSvgIconResolver(Je){return this._resolvers.push(Je),this}addSvgIconLiteralInNamespace(Je,ct,Rt,Et){const nt=this._sanitizer.sanitize(l.q3G.HTML,Rt);if(!nt)throw ge(Rt);const ft=wt(nt);return this._addSvgIconConfig(Je,ct,new Ve("",ft,Et))}addSvgIconSet(Je,ct){return this.addSvgIconSetInNamespace("",Je,ct)}addSvgIconSetLiteral(Je,ct){return this.addSvgIconSetLiteralInNamespace("",Je,ct)}addSvgIconSetInNamespace(Je,ct,Rt){return this._addSvgIconSetConfig(Je,new Ve(ct,null,Rt))}addSvgIconSetLiteralInNamespace(Je,ct,Rt){const Et=this._sanitizer.sanitize(l.q3G.HTML,ct);if(!Et)throw ge(ct);const nt=wt(Et);return this._addSvgIconSetConfig(Je,new Ve("",nt,Rt))}registerFontClassAlias(Je,ct=Je){return this._fontCssClassesByAlias.set(Je,ct),this}classNameForFontAlias(Je){return this._fontCssClassesByAlias.get(Je)||Je}setDefaultFontSetClass(...Je){return this._defaultFontSetClass=Je,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Je){const ct=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,Je);if(!ct)throw me(Je);const Rt=this._cachedIconsByUrl.get(ct);return Rt?(0,B.of)(Xe(Rt)):this._loadSvgIconFromConfig(new Ve(Je,null)).pipe((0,Se.b)(Et=>this._cachedIconsByUrl.set(ct,Et)),(0,oe.U)(Et=>Xe(Et)))}getNamedSvgIcon(Je,ct=""){const Rt=Ct(ct,Je);let Et=this._svgIconConfigs.get(Rt);if(Et)return this._getSvgFromConfig(Et);if(Et=this._getIconConfigFromResolvers(ct,Je),Et)return this._svgIconConfigs.set(Rt,Et),this._getSvgFromConfig(Et);const nt=this._iconSetConfigs.get(ct);return nt?this._getSvgFromIconSetConfigs(Je,nt):(0,ae._)(fe(Rt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Je){return Je.svgText?(0,B.of)(Xe(this._svgElementFromConfig(Je))):this._loadSvgIconFromConfig(Je).pipe((0,oe.U)(ct=>Xe(ct)))}_getSvgFromIconSetConfigs(Je,ct){const Rt=this._extractIconWithNameFromAnySet(Je,ct);if(Rt)return(0,B.of)(Rt);const Et=ct.filter(nt=>!nt.svgText).map(nt=>this._loadSvgIconSetFromConfig(nt).pipe((0,ue.K)(ft=>{const Ce=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,nt.url)} failed: ${ft.message}`;return this._errorHandler.handleError(new Error(Ce)),(0,B.of)(null)})));return(0,W.D)(Et).pipe((0,oe.U)(()=>{const nt=this._extractIconWithNameFromAnySet(Je,ct);if(!nt)throw fe(Je);return nt}))}_extractIconWithNameFromAnySet(Je,ct){for(let Rt=ct.length-1;Rt>=0;Rt--){const Et=ct[Rt];if(Et.svgText&&Et.svgText.toString().indexOf(Je)>-1){const nt=this._svgElementFromConfig(Et),ft=this._extractSvgIconFromSet(nt,Je,Et.options);if(ft)return ft}}return null}_loadSvgIconFromConfig(Je){return this._fetchIcon(Je).pipe((0,Se.b)(ct=>Je.svgText=ct),(0,oe.U)(()=>this._svgElementFromConfig(Je)))}_loadSvgIconSetFromConfig(Je){return Je.svgText?(0,B.of)(null):this._fetchIcon(Je).pipe((0,Se.b)(ct=>Je.svgText=ct))}_extractSvgIconFromSet(Je,ct,Rt){const Et=Je.querySelector(`[id="${ct}"]`);if(!Et)return null;const nt=Et.cloneNode(!0);if(nt.removeAttribute("id"),"svg"===nt.nodeName.toLowerCase())return this._setSvgAttributes(nt,Rt);if("symbol"===nt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(nt),Rt);const ft=this._svgElementFromString(wt("<svg></svg>"));return ft.appendChild(nt),this._setSvgAttributes(ft,Rt)}_svgElementFromString(Je){const ct=this._document.createElement("DIV");ct.innerHTML=Je;const Rt=ct.querySelector("svg");if(!Rt)throw Error("<svg> tag not found");return Rt}_toSvgElement(Je){const ct=this._svgElementFromString(wt("<svg></svg>")),Rt=Je.attributes;for(let Et=0;Et<Rt.length;Et++){const{name:nt,value:ft}=Rt[Et];"id"!==nt&&ct.setAttribute(nt,ft)}for(let Et=0;Et<Je.childNodes.length;Et++)Je.childNodes[Et].nodeType===this._document.ELEMENT_NODE&&ct.appendChild(Je.childNodes[Et].cloneNode(!0));return ct}_setSvgAttributes(Je,ct){return Je.setAttribute("fit",""),Je.setAttribute("height","100%"),Je.setAttribute("width","100%"),Je.setAttribute("preserveAspectRatio","xMidYMid meet"),Je.setAttribute("focusable","false"),ct&&ct.viewBox&&Je.setAttribute("viewBox",ct.viewBox),Je}_fetchIcon(Je){const{url:ct,options:Rt}=Je,Et=Rt?.withCredentials??!1;if(!this._httpClient)throw function we(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ct)throw Error(`Cannot fetch icon from URL "${ct}".`);const nt=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,ct);if(!nt)throw me(ct);const ft=this._inProgressUrlFetches.get(nt);if(ft)return ft;const Ee=this._httpClient.get(nt,{responseType:"text",withCredentials:Et}).pipe((0,oe.U)(Ce=>wt(Ce)),(0,pe.x)(()=>this._inProgressUrlFetches.delete(nt)),(0,Le.B)());return this._inProgressUrlFetches.set(nt,Ee),Ee}_addSvgIconConfig(Je,ct,Rt){return this._svgIconConfigs.set(Ct(Je,ct),Rt),this}_addSvgIconSetConfig(Je,ct){const Rt=this._iconSetConfigs.get(Je);return Rt?Rt.push(ct):this._iconSetConfigs.set(Je,[ct]),this}_svgElementFromConfig(Je){if(!Je.svgElement){const ct=this._svgElementFromString(Je.svgText);this._setSvgAttributes(ct,Je.options),Je.svgElement=ct}return Je.svgElement}_getIconConfigFromResolvers(Je,ct){for(let Rt=0;Rt<this._resolvers.length;Rt++){const Et=this._resolvers[Rt](ct,Je);if(Et)return yn(Et)?new Ve(Et.url,null,Et.options):new Ve(Et,null)}}}return on.\u0275fac=function(Je){return new(Je||on)(l.LFG(et.eN,8),l.LFG(We.H7),l.LFG(X.K0,8),l.LFG(l.qLn))},on.\u0275prov=l.Yz7({token:on,factory:on.\u0275fac,providedIn:"root"}),on})();function Xe(on){return on.cloneNode(!0)}function Ct(on,Ft){return on+":"+Ft}function yn(on){return!(!on.url||!on.options)}const An=(0,C.pj)(class{constructor(on){this._elementRef=on}}),vt=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),bt=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Bt(){const on=(0,l.f3M)(X.K0),Ft=on?on.location:null;return{getPathname:()=>Ft?Ft.pathname+Ft.search:""}}}),Ht=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],en=Ht.map(on=>`[${on}]`).join(", "),Yt=/^url\(['"]?#(.*?)['"]?\)$/;let sn=(()=>{class on extends An{get inline(){return this._inline}set inline(Je){this._inline=(0,p.Ig)(Je)}get svgIcon(){return this._svgIcon}set svgIcon(Je){Je!==this._svgIcon&&(Je?this._updateSvgIcon(Je):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Je)}get fontSet(){return this._fontSet}set fontSet(Je){const ct=this._cleanupFontValue(Je);ct!==this._fontSet&&(this._fontSet=ct,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Je){const ct=this._cleanupFontValue(Je);ct!==this._fontIcon&&(this._fontIcon=ct,this._updateFontIconClasses())}constructor(Je,ct,Rt,Et,nt,ft){super(Je),this._iconRegistry=ct,this._location=Et,this._errorHandler=nt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ye.w0.EMPTY,ft&&(ft.color&&(this.color=this.defaultColor=ft.color),ft.fontSet&&(this.fontSet=ft.fontSet)),Rt||Je.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Je){if(!Je)return["",""];const ct=Je.split(":");switch(ct.length){case 1:return["",ct[0]];case 2:return ct;default:throw Error(`Invalid icon name: "${Je}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Je=this._elementsWithExternalReferences;if(Je&&Je.size){const ct=this._location.getPathname();ct!==this._previousPath&&(this._previousPath=ct,this._prependPathToReferences(ct))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Je){this._clearSvgElement();const ct=this._location.getPathname();this._previousPath=ct,this._cacheChildrenWithExternalReferences(Je),this._prependPathToReferences(ct),this._elementRef.nativeElement.appendChild(Je)}_clearSvgElement(){const Je=this._elementRef.nativeElement;let ct=Je.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ct--;){const Rt=Je.childNodes[ct];(1!==Rt.nodeType||"svg"===Rt.nodeName.toLowerCase())&&Rt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Je=this._elementRef.nativeElement,ct=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Rt=>Rt.length>0);this._previousFontSetClass.forEach(Rt=>Je.classList.remove(Rt)),ct.forEach(Rt=>Je.classList.add(Rt)),this._previousFontSetClass=ct,this.fontIcon!==this._previousFontIconClass&&!ct.includes("mat-ligature-font")&&(this._previousFontIconClass&&Je.classList.remove(this._previousFontIconClass),this.fontIcon&&Je.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Je){return"string"==typeof Je?Je.trim().split(" ")[0]:Je}_prependPathToReferences(Je){const ct=this._elementsWithExternalReferences;ct&&ct.forEach((Rt,Et)=>{Rt.forEach(nt=>{Et.setAttribute(nt.name,`url('${Je}#${nt.value}')`)})})}_cacheChildrenWithExternalReferences(Je){const ct=Je.querySelectorAll(en),Rt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Et=0;Et<ct.length;Et++)Ht.forEach(nt=>{const ft=ct[Et],Ee=ft.getAttribute(nt),Ce=Ee?Ee.match(Yt):null;if(Ce){let De=Rt.get(ft);De||(De=[],Rt.set(ft,De)),De.push({name:nt,value:Ce[1]})}})}_updateSvgIcon(Je){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Je){const[ct,Rt]=this._splitIconName(Je);ct&&(this._svgNamespace=ct),Rt&&(this._svgName=Rt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Rt,ct).pipe((0,Pe.q)(1)).subscribe(Et=>this._setSvgElement(Et),Et=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ct}:${Rt}! ${Et.message}`))})}}}return on.\u0275fac=function(Je){return new(Je||on)(l.Y36(l.SBq),l.Y36(Z),l.$8M("aria-hidden"),l.Y36(bt),l.Y36(l.qLn),l.Y36(vt,8))},on.\u0275cmp=l.Xpm({type:on,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Je,ct){2&Je&&(l.uIk("data-mat-icon-type",ct._usingFontIcon()?"font":"svg")("data-mat-icon-name",ct._svgName||ct.fontIcon)("data-mat-icon-namespace",ct._svgNamespace||ct.fontSet)("fontIcon",ct._usingFontIcon()?ct.fontIcon:null),l.ekj("mat-icon-inline",ct.inline)("mat-icon-no-color","primary"!==ct.color&&"accent"!==ct.color&&"warn"!==ct.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Ye,decls:1,vars:0,template:function(Je,ct){1&Je&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),on})(),bn=(()=>{class on{}return on.\u0275fac=function(Je){return new(Je||on)},on.\u0275mod=l.oAB({type:on}),on.\u0275inj=l.cJS({imports:[C.BQ,C.BQ]}),on})()},2659:(gn,ot,y)=>{y.d(ot,{VK:()=>ze,KA:()=>Ee,OP:()=>Je,Tx:()=>En,p6:()=>ri});var l=y(2223),C=y(706),p=y(1692),X=y(2840),B=y(7579),ae=y(6451),W=y(727),ye=y(9646),Se=y(3101),oe=y(8675),ue=y(3900),pe=y(5698),Le=y(2722),Pe=y(9300),et=y(4986),We=y(7272),Ye=y(4482),$e=y(5403),ke=y(5032),fe=y(9718),we=y(5577),me=y(8421);function ge(dn,Hn){return Hn?Ke=>(0,We.z)(Hn.pipe((0,pe.q)(1),function wt(){return(0,Ye.e)((dn,Hn)=>{dn.subscribe((0,$e.x)(Hn,ke.Z))})}()),Ke.pipe(ge(dn))):(0,we.z)((Ke,kt)=>(0,me.Xf)(dn(Ke,kt)).pipe((0,pe.q)(1),(0,fe.h)(Ke)))}var Ve=y(5963);function Z(dn,Hn=et.z){const Ke=(0,Ve.H)(dn,Hn);return ge(()=>Ke)}var qe=y(1217),je=y(4755),Xe=y(8023),Ct=y(1591),yn=y(8930),An=y(9002),vt=y(2966),bt=y(4709);const Bt=["mat-menu-item",""];function Ht(dn,Hn){1&dn&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"polygon",4),l.qZA())}const en=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Yt=["mat-icon, [matMenuItemIcon]","*"];function sn(dn,Hn){if(1&dn){const Ke=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(Kt){l.CHM(Ke);const Sn=l.oxw();return l.KtG(Sn._handleKeydown(Kt))})("click",function(){l.CHM(Ke);const Kt=l.oxw();return l.KtG(Kt.closed.emit("click"))})("@transformMenu.start",function(Kt){l.CHM(Ke);const Sn=l.oxw();return l.KtG(Sn._onAnimationStart(Kt))})("@transformMenu.done",function(Kt){l.CHM(Ke);const Sn=l.oxw();return l.KtG(Sn._onAnimationDone(Kt))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&dn){const Ke=l.oxw();l.Q6J("id",Ke.panelId)("ngClass",Ke._classList)("@transformMenu",Ke._panelAnimationState),l.uIk("aria-label",Ke.ariaLabel||null)("aria-labelledby",Ke.ariaLabelledby||null)("aria-describedby",Ke.ariaDescribedby||null)}}const bn=["*"],on=new l.OlP("MAT_MENU_PANEL"),Ft=(0,qe.Kr)((0,qe.Id)(class{}));let Je=(()=>{class dn extends Ft{constructor(Ke,kt,Kt,Sn,hi){super(),this._elementRef=Ke,this._document=kt,this._focusMonitor=Kt,this._parentMenu=Sn,this._changeDetectorRef=hi,this.role="menuitem",this._hovered=new B.x,this._focused=new B.x,this._highlighted=!1,this._triggersSubmenu=!1,Sn?.addItem?.(this)}focus(Ke,kt){this._focusMonitor&&Ke?this._focusMonitor.focusVia(this._getHostElement(),Ke,kt):this._getHostElement().focus(kt),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Ke){this.disabled&&(Ke.preventDefault(),Ke.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Ke=this._elementRef.nativeElement.cloneNode(!0),kt=Ke.querySelectorAll("mat-icon, .material-icons");for(let Kt=0;Kt<kt.length;Kt++)kt[Kt].remove();return Ke.textContent?.trim()||""}_setHighlighted(Ke){this._highlighted=Ke,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Ke){this._triggersSubmenu=Ke,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return dn.\u0275fac=function(Ke){return new(Ke||dn)(l.Y36(l.SBq),l.Y36(je.K0),l.Y36(C.tE),l.Y36(on,8),l.Y36(l.sBO))},dn.\u0275cmp=l.Xpm({type:dn,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(Ke,kt){1&Ke&&l.NdJ("click",function(Sn){return kt._checkDisabled(Sn)})("mouseenter",function(){return kt._handleMouseEnter()}),2&Ke&&(l.uIk("role",kt.role)("tabindex",kt._getTabIndex())("aria-disabled",kt.disabled)("disabled",kt.disabled||null),l.ekj("mat-mdc-menu-item-highlighted",kt._highlighted)("mat-mdc-menu-item-submenu-trigger",kt._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:Bt,ngContentSelectors:Yt,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(Ke,kt){1&Ke&&(l.F$t(en),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.qZA(),l._UZ(3,"div",1),l.YNc(4,Ht,2,0,"svg",2)),2&Ke&&(l.xp6(3),l.Q6J("matRippleDisabled",kt.disableRipple||kt.disabled)("matRippleTrigger",kt._getHostElement()),l.xp6(1),l.Q6J("ngIf",kt._triggersSubmenu))},dependencies:[je.O5,qe.wG],encapsulation:2,changeDetection:0}),dn})();const nt=new l.OlP("MatMenuContent");let ft=(()=>{class dn{constructor(Ke,kt,Kt,Sn,hi,Ei,gi){this._template=Ke,this._componentFactoryResolver=kt,this._appRef=Kt,this._injector=Sn,this._viewContainerRef=hi,this._document=Ei,this._changeDetectorRef=gi,this._attached=new B.x}attach(Ke={}){this._portal||(this._portal=new Xe.UE(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Xe.u0(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const kt=this._template.elementRef.nativeElement;kt.parentNode.insertBefore(this._outlet.outletElement,kt),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,Ke),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return dn.\u0275fac=function(Ke){return new(Ke||dn)(l.Y36(l.Rgc),l.Y36(l._Vd),l.Y36(l.z2F),l.Y36(l.zs3),l.Y36(l.s_b),l.Y36(je.K0),l.Y36(l.sBO))},dn.\u0275dir=l.lG2({type:dn}),dn})(),Ee=(()=>{class dn extends ft{}return dn.\u0275fac=function(){let Hn;return function(kt){return(Hn||(Hn=l.n5z(dn)))(kt||dn)}}(),dn.\u0275dir=l.lG2({type:dn,selectors:[["ng-template","matMenuContent",""]],features:[l._Bn([{provide:nt,useExisting:dn}]),l.qOj]}),dn})();const Ce={transformMenu:(0,Ct.X$)("transformMenu",[(0,Ct.SB)("void",(0,Ct.oB)({opacity:0,transform:"scale(0.8)"})),(0,Ct.eR)("void => enter",(0,Ct.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Ct.oB)({opacity:1,transform:"scale(1)"}))),(0,Ct.eR)("* => void",(0,Ct.jt)("100ms 25ms linear",(0,Ct.oB)({opacity:0})))]),fadeInItems:(0,Ct.X$)("fadeInItems",[(0,Ct.SB)("showing",(0,Ct.oB)({opacity:1})),(0,Ct.eR)("void => *",[(0,Ct.oB)({opacity:0}),(0,Ct.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let rn=0;const an=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function It(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let he=(()=>{class dn{get xPosition(){return this._xPosition}set xPosition(Ke){this._xPosition=Ke,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Ke){this._yPosition=Ke,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(Ke){this._overlapTrigger=(0,p.Ig)(Ke)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ke){this._hasBackdrop=(0,p.Ig)(Ke)}set panelClass(Ke){const kt=this._previousPanelClass;kt&&kt.length&&kt.split(" ").forEach(Kt=>{this._classList[Kt]=!1}),this._previousPanelClass=Ke,Ke&&Ke.length&&(Ke.split(" ").forEach(Kt=>{this._classList[Kt]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(Ke){this.panelClass=Ke}constructor(Ke,kt,Kt,Sn){this._elementRef=Ke,this._ngZone=kt,this._changeDetectorRef=Sn,this._directDescendantItems=new l.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new B.x,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+rn++,this.overlayPanelClass=Kt.overlayPanelClass||"",this._xPosition=Kt.xPosition,this._yPosition=Kt.yPosition,this.backdropClass=Kt.backdropClass,this._overlapTrigger=Kt.overlapTrigger,this._hasBackdrop=Kt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new C.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,oe.O)(this._directDescendantItems),(0,ue.w)(Ke=>(0,ae.T)(...Ke.map(kt=>kt._focused)))).subscribe(Ke=>this._keyManager.updateActiveItem(Ke)),this._directDescendantItems.changes.subscribe(Ke=>{const kt=this._keyManager;if("enter"===this._panelAnimationState&&kt.activeItem?._hasFocus()){const Kt=Ke.toArray(),Sn=Math.max(0,Math.min(Kt.length-1,kt.activeItemIndex||0));Kt[Sn]&&!Kt[Sn].disabled?kt.setActiveItem(Sn):kt.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,oe.O)(this._directDescendantItems),(0,ue.w)(kt=>(0,ae.T)(...kt.map(Kt=>Kt._hovered))))}addItem(Ke){}removeItem(Ke){}_handleKeydown(Ke){const kt=Ke.keyCode,Kt=this._keyManager;switch(kt){case X.hY:(0,X.Vb)(Ke)||(Ke.preventDefault(),this.closed.emit("keydown"));break;case X.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case X.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(kt===X.LH||kt===X.JH)&&Kt.setFocusOrigin("keyboard"),void Kt.onKeydown(Ke)}Ke.stopPropagation()}focusFirstItem(Ke="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,pe.q)(1)).subscribe(()=>{let kt=null;if(this._directDescendantItems.length&&(kt=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!kt||!kt.contains(document.activeElement)){const Kt=this._keyManager;Kt.setFocusOrigin(Ke).setFirstItemActive(),!Kt.activeItem&&kt&&kt.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Ke){const kt=Math.min(this._baseElevation+Ke,24),Kt=`${this._elevationPrefix}${kt}`,Sn=Object.keys(this._classList).find(hi=>hi.startsWith(this._elevationPrefix));(!Sn||Sn===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Kt]=!0,this._previousElevation=Kt)}setPositionClasses(Ke=this.xPosition,kt=this.yPosition){const Kt=this._classList;Kt["mat-menu-before"]="before"===Ke,Kt["mat-menu-after"]="after"===Ke,Kt["mat-menu-above"]="above"===kt,Kt["mat-menu-below"]="below"===kt,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Ke){this._animationDone.next(Ke),this._isAnimating=!1}_onAnimationStart(Ke){this._isAnimating=!0,"enter"===Ke.toState&&0===this._keyManager.activeItemIndex&&(Ke.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,oe.O)(this._allItems)).subscribe(Ke=>{this._directDescendantItems.reset(Ke.filter(kt=>kt._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return dn.\u0275fac=function(Ke){return new(Ke||dn)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(an),l.Y36(l.sBO))},dn.\u0275dir=l.lG2({type:dn,contentQueries:function(Ke,kt,Kt){if(1&Ke&&(l.Suo(Kt,nt,5),l.Suo(Kt,Je,5),l.Suo(Kt,Je,4)),2&Ke){let Sn;l.iGM(Sn=l.CRH())&&(kt.lazyContent=Sn.first),l.iGM(Sn=l.CRH())&&(kt._allItems=Sn),l.iGM(Sn=l.CRH())&&(kt.items=Sn)}},viewQuery:function(Ke,kt){if(1&Ke&&l.Gf(l.Rgc,5),2&Ke){let Kt;l.iGM(Kt=l.CRH())&&(kt.templateRef=Kt.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),dn})(),ze=(()=>{class dn extends he{constructor(Ke,kt,Kt,Sn){super(Ke,kt,Kt,Sn),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return dn.\u0275fac=function(Ke){return new(Ke||dn)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(an),l.Y36(l.sBO))},dn.\u0275cmp=l.Xpm({type:dn,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(Ke,kt){2&Ke&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:on,useExisting:dn}]),l.qOj],ngContentSelectors:bn,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(Ke,kt){1&Ke&&(l.F$t(),l.YNc(0,sn,3,6,"ng-template"))},dependencies:[je.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:var(--mdc-shape-medium, 4px)}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Ce.transformMenu,Ce.fadeInItems]},changeDetection:0}),dn})();const at=new l.OlP("mat-menu-scroll-strategy"),At={provide:at,deps:[An.aV],useFactory:function ht(dn){return()=>dn.scrollStrategies.reposition()}},qt=(0,vt.i$)({passive:!0});let Zn=(()=>{class dn{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Ke){this.menu=Ke}get menu(){return this._menu}set menu(Ke){Ke!==this._menu&&(this._menu=Ke,this._menuCloseSubscription.unsubscribe(),Ke&&(this._menuCloseSubscription=Ke.close.subscribe(kt=>{this._destroyMenu(kt),("click"===kt||"tab"===kt)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(kt)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Ke,kt,Kt,Sn,hi,Ei,gi,Xt,lt){this._overlay=Ke,this._element=kt,this._viewContainerRef=Kt,this._menuItemInstance=Ei,this._dir=gi,this._focusMonitor=Xt,this._ngZone=lt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=W.w0.EMPTY,this._hoverSubscription=W.w0.EMPTY,this._menuCloseSubscription=W.w0.EMPTY,this._changeDetectorRef=(0,l.f3M)(l.sBO),this._handleTouchStart=ut=>{(0,C.yG)(ut)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Sn,this._parentMaterialMenu=hi instanceof he?hi:void 0,kt.nativeElement.addEventListener("touchstart",this._handleTouchStart,qt)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,qt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Ke=this.menu;if(this._menuOpen||!Ke)return;const kt=this._createOverlay(Ke),Kt=kt.getConfig(),Sn=Kt.positionStrategy;this._setPosition(Ke,Sn),Kt.hasBackdrop=null==Ke.hasBackdrop?!this.triggersSubmenu():Ke.hasBackdrop,kt.attach(this._getPortal(Ke)),Ke.lazyContent&&Ke.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Ke),Ke instanceof he&&(Ke._startAnimation(),Ke._directDescendantItems.changes.pipe((0,Le.R)(Ke.close)).subscribe(()=>{Sn.withLockedPosition(!1).reapplyLastPosition(),Sn.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Ke,kt){this._focusMonitor&&Ke?this._focusMonitor.focusVia(this._element,Ke,kt):this._element.nativeElement.focus(kt)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Ke){if(!this._overlayRef||!this.menuOpen)return;const kt=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Ke||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,kt instanceof he?(kt._resetAnimation(),kt.lazyContent?kt._animationDone.pipe((0,Pe.h)(Kt=>"void"===Kt.toState),(0,pe.q)(1),(0,Le.R)(kt.lazyContent._attached)).subscribe({next:()=>kt.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),kt?.lazyContent?.detach())}_initMenu(Ke){Ke.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Ke.direction=this.dir,this._setMenuElevation(Ke),Ke.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Ke){if(Ke.setElevation){let kt=0,Kt=Ke.parentMenu;for(;Kt;)kt++,Kt=Kt.parentMenu;Ke.setElevation(kt)}}_setIsMenuOpen(Ke){Ke!==this._menuOpen&&(this._menuOpen=Ke,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Ke),this._changeDetectorRef.markForCheck())}_createOverlay(Ke){if(!this._overlayRef){const kt=this._getOverlayConfig(Ke);this._subscribeToPositions(Ke,kt.positionStrategy),this._overlayRef=this._overlay.create(kt),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Ke){return new An.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Ke.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Ke.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Ke,kt){Ke.setPositionClasses&&kt.positionChanges.subscribe(Kt=>{const Sn="start"===Kt.connectionPair.overlayX?"after":"before",hi="top"===Kt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Ke.setPositionClasses(Sn,hi)):Ke.setPositionClasses(Sn,hi)})}_setPosition(Ke,kt){let[Kt,Sn]="before"===Ke.xPosition?["end","start"]:["start","end"],[hi,Ei]="above"===Ke.yPosition?["bottom","top"]:["top","bottom"],[gi,Xt]=[hi,Ei],[lt,ut]=[Kt,Sn],Ze=0;if(this.triggersSubmenu()){if(ut=Kt="before"===Ke.xPosition?"start":"end",Sn=lt="end"===Kt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const He=this._parentMaterialMenu.items.first;this._parentInnerPadding=He?He._getHostElement().offsetTop:0}Ze="bottom"===hi?this._parentInnerPadding:-this._parentInnerPadding}}else Ke.overlapTrigger||(gi="top"===hi?"bottom":"top",Xt="top"===Ei?"bottom":"top");kt.withPositions([{originX:Kt,originY:gi,overlayX:lt,overlayY:hi,offsetY:Ze},{originX:Sn,originY:gi,overlayX:ut,overlayY:hi,offsetY:Ze},{originX:Kt,originY:Xt,overlayX:lt,overlayY:Ei,offsetY:-Ze},{originX:Sn,originY:Xt,overlayX:ut,overlayY:Ei,offsetY:-Ze}])}_menuClosingActions(){const Ke=this._overlayRef.backdropClick(),kt=this._overlayRef.detachments(),Kt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,ye.of)(),Sn=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Pe.h)(hi=>hi!==this._menuItemInstance),(0,Pe.h)(()=>this._menuOpen)):(0,ye.of)();return(0,ae.T)(Ke,Kt,Sn,kt)}_handleMousedown(Ke){(0,C.X6)(Ke)||(this._openedBy=0===Ke.button?"mouse":void 0,this.triggersSubmenu()&&Ke.preventDefault())}_handleKeydown(Ke){const kt=Ke.keyCode;(kt===X.K5||kt===X.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(kt===X.SV&&"ltr"===this.dir||kt===X.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Ke){this.triggersSubmenu()?(Ke.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Pe.h)(Ke=>Ke===this._menuItemInstance&&!Ke.disabled),Z(0,Se.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof he&&this.menu._isAnimating?this.menu._animationDone.pipe((0,pe.q)(1),Z(0,Se.E),(0,Le.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Ke){return(!this._portal||this._portal.templateRef!==Ke.templateRef)&&(this._portal=new Xe.UE(Ke.templateRef,this._viewContainerRef)),this._portal}}return dn.\u0275fac=function(Ke){return new(Ke||dn)(l.Y36(An.aV),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(at),l.Y36(on,8),l.Y36(Je,10),l.Y36(yn.Is,8),l.Y36(C.tE),l.Y36(l.R0b))},dn.\u0275dir=l.lG2({type:dn,hostVars:3,hostBindings:function(Ke,kt){1&Ke&&l.NdJ("click",function(Sn){return kt._handleClick(Sn)})("mousedown",function(Sn){return kt._handleMousedown(Sn)})("keydown",function(Sn){return kt._handleKeydown(Sn)}),2&Ke&&l.uIk("aria-haspopup",kt.menu?"menu":null)("aria-expanded",kt.menuOpen)("aria-controls",kt.menuOpen?kt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),dn})(),ri=(()=>{class dn extends Zn{}return dn.\u0275fac=function(){let Hn;return function(kt){return(Hn||(Hn=l.n5z(dn)))(kt||dn)}}(),dn.\u0275dir=l.lG2({type:dn,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),dn})(),En=(()=>{class dn{}return dn.\u0275fac=function(Ke){return new(Ke||dn)},dn.\u0275mod=l.oAB({type:dn}),dn.\u0275inj=l.cJS({providers:[At],imports:[je.ez,qe.si,qe.BQ,An.U8,bt.ZD,qe.BQ]}),dn})()},8467:(gn,ot,y)=>{y.d(ot,{Cq:()=>Pe,Ou:()=>pe});var l=y(2223),C=y(1217),p=y(1692),X=y(4755);const B=["determinateSpinner"];function ae(et,We){if(1&et&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&et){const Ye=l.oxw();l.uIk("viewBox",Ye._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",Ye._strokeCircumference(),"px")("stroke-dashoffset",Ye._strokeCircumference()/2,"px")("stroke-width",Ye._circleStrokeWidth(),"%"),l.uIk("r",Ye._circleRadius())}}const W=(0,C.pj)(class{constructor(et){this._elementRef=et}},"primary"),ye=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Se(){return{diameter:oe}}}),oe=100;let pe=(()=>{class et extends W{constructor(Ye,$e,ke){super(Ye),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=oe,this._noopAnimations="NoopAnimations"===$e&&!!ke&&!ke._forceAnimations,ke&&(ke.color&&(this.color=this.defaultColor=ke.color),ke.diameter&&(this.diameter=ke.diameter),ke.strokeWidth&&(this.strokeWidth=ke.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Ye){this._value=Math.max(0,Math.min(100,(0,p.su)(Ye)))}get diameter(){return this._diameter}set diameter(Ye){this._diameter=(0,p.su)(Ye)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Ye){this._strokeWidth=(0,p.su)(Ye)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Ye=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Ye} ${Ye}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return et.\u0275fac=function(Ye){return new(Ye||et)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(ye))},et.\u0275cmp=l.Xpm({type:et,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Ye,$e){if(1&Ye&&l.Gf(B,5),2&Ye){let ke;l.iGM(ke=l.CRH())&&($e._determinateCircle=ke.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(Ye,$e){2&Ye&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===$e.mode?$e.value:null)("mode",$e.mode),l.Udp("width",$e.diameter,"px")("height",$e.diameter,"px")("--mdc-circular-progress-size",$e.diameter+"px")("--mdc-circular-progress-active-indicator-width",$e.diameter+"px"),l.ekj("_mat-animation-noopable",$e._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===$e.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Ye,$e){if(1&Ye&&(l.YNc(0,ae,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&Ye){const ke=l.MAs(1);l.xp6(4),l.uIk("viewBox",$e._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",$e._strokeCircumference(),"px")("stroke-dashoffset",$e._strokeDashOffset(),"px")("stroke-width",$e._circleStrokeWidth(),"%"),l.uIk("r",$e._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",ke),l.xp6(2),l.Q6J("ngTemplateOutlet",ke),l.xp6(2),l.Q6J("ngTemplateOutlet",ke)}},dependencies:[X.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),et})(),Pe=(()=>{class et{}return et.\u0275fac=function(Ye){return new(Ye||et)},et.\u0275mod=l.oAB({type:et}),et.\u0275inj=l.cJS({imports:[X.ez,C.BQ]}),et})()},3617:(gn,ot,y)=>{y.d(ot,{Nh:()=>Te,SP:()=>Re,uX:()=>kt});var l=y(4755),C=y(2223),p=y(1217),X=y(8023),B=y(829),ae=y(706),W=y(8930),ye=y(727),Se=y(7579),oe=y(4968),ue=y(9646),pe=y(6451),Le=y(515),Pe=y(9751),et=y(5963),We=y(8675),Ye=y(1884),$e=y(2722),ke=y(5698),wt=y(3900),fe=y(5684),we=y(9300),me=y(1591),ge=y(1692),Ve=y(4709),Z=y(2966),qe=y(2840);function je(Fe,Ue){}const Xe=function(Fe){return{animationDuration:Fe}},Ct=function(Fe,Ue){return{value:Fe,params:Ue}};function yn(Fe,Ue){1&Fe&&C.Hsn(0)}const An=["*"],vt=["tabListContainer"],bt=["tabList"],Bt=["tabListInner"],Ht=["nextPaginator"],en=["previousPaginator"],Yt=["tabBodyWrapper"],sn=["tabHeader"];function bn(Fe,Ue){}function on(Fe,Ue){if(1&Fe&&C.YNc(0,bn,0,0,"ng-template",14),2&Fe){const Y=C.oxw().$implicit;C.Q6J("cdkPortalOutlet",Y.templateLabel)}}function Ft(Fe,Ue){if(1&Fe&&C._uU(0),2&Fe){const Y=C.oxw().$implicit;C.Oqu(Y.textLabel)}}function Je(Fe,Ue){if(1&Fe){const Y=C.EpF();C.TgZ(0,"div",6,7),C.NdJ("click",function(){const yt=C.CHM(Y),Vt=yt.$implicit,jn=yt.index,ti=C.oxw(),Pt=C.MAs(1);return C.KtG(ti._handleClick(Vt,Pt,jn))})("cdkFocusChange",function(yt){const jn=C.CHM(Y).index,ti=C.oxw();return C.KtG(ti._tabFocusChanged(yt,jn))}),C._UZ(2,"span",8)(3,"div",9),C.TgZ(4,"span",10)(5,"span",11),C.YNc(6,on,1,1,"ng-template",12),C.YNc(7,Ft,1,1,"ng-template",null,13,C.W1O),C.qZA()()()}if(2&Fe){const Y=Ue.$implicit,Ie=Ue.index,yt=C.MAs(1),Vt=C.MAs(8),jn=C.oxw();C.ekj("mdc-tab--active",jn.selectedIndex===Ie),C.Q6J("id",jn._getTabLabelId(Ie))("ngClass",Y.labelClass)("disabled",Y.disabled)("fitInkBarToContent",jn.fitInkBarToContent),C.uIk("tabIndex",jn._getTabIndex(Ie))("aria-posinset",Ie+1)("aria-setsize",jn._tabs.length)("aria-controls",jn._getTabContentId(Ie))("aria-selected",jn.selectedIndex===Ie)("aria-label",Y.ariaLabel||null)("aria-labelledby",!Y.ariaLabel&&Y.ariaLabelledby?Y.ariaLabelledby:null),C.xp6(3),C.Q6J("matRippleTrigger",yt)("matRippleDisabled",Y.disabled||jn.disableRipple),C.xp6(3),C.Q6J("ngIf",Y.templateLabel)("ngIfElse",Vt)}}function ct(Fe,Ue){if(1&Fe){const Y=C.EpF();C.TgZ(0,"mat-tab-body",15),C.NdJ("_onCentered",function(){C.CHM(Y);const yt=C.oxw();return C.KtG(yt._removeTabBodyWrapperHeight())})("_onCentering",function(yt){C.CHM(Y);const Vt=C.oxw();return C.KtG(Vt._setTabBodyWrapperHeight(yt))}),C.qZA()}if(2&Fe){const Y=Ue.$implicit,Ie=Ue.index,yt=C.oxw();C.ekj("mat-mdc-tab-body-active",yt.selectedIndex===Ie),C.Q6J("id",yt._getTabContentId(Ie))("ngClass",Y.bodyClass)("content",Y.content)("position",Y.position)("origin",Y.origin)("animationDuration",yt.animationDuration)("preserveContent",yt.preserveContent),C.uIk("tabindex",null!=yt.contentTabIndex&&yt.selectedIndex===Ie?yt.contentTabIndex:null)("aria-labelledby",yt._getTabLabelId(Ie))}}const nt={translateTab:(0,me.X$)("translateTab",[(0,me.SB)("center, void, left-origin-center, right-origin-center",(0,me.oB)({transform:"none"})),(0,me.SB)("left",(0,me.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,me.SB)("right",(0,me.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,me.eR)("* => left, * => right, left => center, right => center",(0,me.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,me.eR)("void => left-origin-center",[(0,me.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,me.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,me.eR)("void => right-origin-center",[(0,me.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,me.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ft=(()=>{class Fe extends X.Pl{constructor(Y,Ie,yt,Vt){super(Y,Ie,Vt),this._host=yt,this._centeringSub=ye.w0.EMPTY,this._leavingSub=ye.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,We.O)(this._host._isCenterPosition(this._host._position))).subscribe(Y=>{Y&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C._Vd),C.Y36(C.s_b),C.Y36((0,C.Gpc)(()=>Ce)),C.Y36(l.K0))},Fe.\u0275dir=C.lG2({type:Fe,selectors:[["","matTabBodyHost",""]],features:[C.qOj]}),Fe})(),Ee=(()=>{class Fe{set position(Y){this._positionIndex=Y,this._computePositionAnimationState()}constructor(Y,Ie,yt){this._elementRef=Y,this._dir=Ie,this._dirChangeSubscription=ye.w0.EMPTY,this._translateTabComplete=new Se.x,this._onCentering=new C.vpe,this._beforeCentering=new C.vpe,this._afterLeavingCenter=new C.vpe,this._onCentered=new C.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,Ie&&(this._dirChangeSubscription=Ie.change.subscribe(Vt=>{this._computePositionAnimationState(Vt),yt.markForCheck()})),this._translateTabComplete.pipe((0,Ye.x)((Vt,jn)=>Vt.fromState===jn.fromState&&Vt.toState===jn.toState)).subscribe(Vt=>{this._isCenterPosition(Vt.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(Vt.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(Y){const Ie=this._isCenterPosition(Y.toState);this._beforeCentering.emit(Ie),Ie&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(Y){return"center"==Y||"left-origin-center"==Y||"right-origin-center"==Y}_computePositionAnimationState(Y=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==Y?"left":"right":this._positionIndex>0?"ltr"==Y?"right":"left":"center"}_computePositionFromOrigin(Y){const Ie=this._getLayoutDirection();return"ltr"==Ie&&Y<=0||"rtl"==Ie&&Y>0?"left-origin-center":"right-origin-center"}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.SBq),C.Y36(W.Is,8),C.Y36(C.sBO))},Fe.\u0275dir=C.lG2({type:Fe,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Fe})(),Ce=(()=>{class Fe extends Ee{constructor(Y,Ie,yt){super(Y,Ie,yt)}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.SBq),C.Y36(W.Is,8),C.Y36(C.sBO))},Fe.\u0275cmp=C.Xpm({type:Fe,selectors:[["mat-tab-body"]],viewQuery:function(Y,Ie){if(1&Y&&C.Gf(X.Pl,5),2&Y){let yt;C.iGM(yt=C.CRH())&&(Ie._portalHost=yt.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[C.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(Y,Ie){1&Y&&(C.TgZ(0,"div",0,1),C.NdJ("@translateTab.start",function(Vt){return Ie._onTranslateTabStarted(Vt)})("@translateTab.done",function(Vt){return Ie._translateTabComplete.next(Vt)}),C.YNc(2,je,0,0,"ng-template",2),C.qZA()),2&Y&&C.Q6J("@translateTab",C.WLB(3,Ct,Ie._position,C.VKq(1,Xe,Ie.animationDuration)))},dependencies:[ft],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[nt.translateTab]}}),Fe})();const De=new C.OlP("MatTabContent");let Tt=(()=>{class Fe{constructor(Y){this.template=Y}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.Rgc))},Fe.\u0275dir=C.lG2({type:Fe,selectors:[["","matTabContent",""]],features:[C._Bn([{provide:De,useExisting:Fe}])]}),Fe})();const rn=new C.OlP("MatTabLabel"),an=new C.OlP("MAT_TAB");let It=(()=>{class Fe extends X.ig{constructor(Y,Ie,yt){super(Y,Ie),this._closestTab=yt}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.Rgc),C.Y36(C.s_b),C.Y36(an,8))},Fe.\u0275dir=C.lG2({type:Fe,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[C._Bn([{provide:rn,useExisting:Fe}]),C.qOj]}),Fe})();const he="mdc-tab-indicator--active",ze="mdc-tab-indicator--no-transition";class at{constructor(Ue){this._items=Ue}hide(){this._items.forEach(Ue=>Ue.deactivateInkBar())}alignToElement(Ue){const Y=this._items.find(yt=>yt.elementRef.nativeElement===Ue),Ie=this._currentItem;if(Y!==Ie&&(Ie?.deactivateInkBar(),Y)){const yt=Ie?.elementRef.nativeElement.getBoundingClientRect?.();Y.activateInkBar(yt),this._currentItem=Y}}}function ht(Fe){return class extends Fe{constructor(...Ue){super(...Ue),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(Ue){const Y=(0,ge.Ig)(Ue);this._fitToContent!==Y&&(this._fitToContent=Y,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(Ue){const Y=this.elementRef.nativeElement;if(!Ue||!Y.getBoundingClientRect||!this._inkBarContentElement)return void Y.classList.add(he);const Ie=Y.getBoundingClientRect(),yt=Ue.width/Ie.width,Vt=Ue.left-Ie.left;Y.classList.add(ze),this._inkBarContentElement.style.setProperty("transform",`translateX(${Vt}px) scaleX(${yt})`),Y.getBoundingClientRect(),Y.classList.remove(ze),Y.classList.add(he),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(he)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const Ue=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=Ue.createElement("span"),this._inkBarContentElement=Ue.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const cn=(0,p.Id)(class{}),ri=ht((()=>{class Fe extends cn{constructor(Y){super(),this.elementRef=Y}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.SBq))},Fe.\u0275dir=C.lG2({type:Fe,features:[C.qOj]}),Fe})());let En=(()=>{class Fe extends ri{}return Fe.\u0275fac=function(){let Ue;return function(Ie){return(Ue||(Ue=C.n5z(Fe)))(Ie||Fe)}}(),Fe.\u0275dir=C.lG2({type:Fe,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(Y,Ie){2&Y&&(C.uIk("aria-disabled",!!Ie.disabled),C.ekj("mat-mdc-tab-disabled",Ie.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[C.qOj]}),Fe})();const dn=(0,p.Id)(class{}),Hn=new C.OlP("MAT_TAB_GROUP");let Ke=(()=>{class Fe extends dn{get content(){return this._contentPortal}constructor(Y,Ie){super(),this._viewContainerRef=Y,this._closestTabGroup=Ie,this.textLabel="",this._contentPortal=null,this._stateChanges=new Se.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(Y){(Y.hasOwnProperty("textLabel")||Y.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new X.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(Y){Y&&Y._closestTab===this&&(this._templateLabel=Y)}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.s_b),C.Y36(Hn,8))},Fe.\u0275dir=C.lG2({type:Fe,viewQuery:function(Y,Ie){if(1&Y&&C.Gf(C.Rgc,7),2&Y){let yt;C.iGM(yt=C.CRH())&&(Ie._implicitContent=yt.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[C.qOj,C.TTD]}),Fe})(),kt=(()=>{class Fe extends Ke{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(Y){this._setTemplateLabelInput(Y)}}return Fe.\u0275fac=function(){let Ue;return function(Ie){return(Ue||(Ue=C.n5z(Fe)))(Ie||Fe)}}(),Fe.\u0275cmp=C.Xpm({type:Fe,selectors:[["mat-tab"]],contentQueries:function(Y,Ie,yt){if(1&Y&&(C.Suo(yt,Tt,7,C.Rgc),C.Suo(yt,It,5)),2&Y){let Vt;C.iGM(Vt=C.CRH())&&(Ie._explicitContent=Vt.first),C.iGM(Vt=C.CRH())&&(Ie.templateLabel=Vt.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[C._Bn([{provide:an,useExisting:Fe}]),C.qOj],ngContentSelectors:An,decls:1,vars:0,template:function(Y,Ie){1&Y&&(C.F$t(),C.YNc(0,yn,1,0,"ng-template"))},encapsulation:2}),Fe})();const Kt=(0,Z.i$)({passive:!0});let Ei=(()=>{class Fe{get disablePagination(){return this._disablePagination}set disablePagination(Y){this._disablePagination=(0,ge.Ig)(Y)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Y){Y=(0,ge.su)(Y),this._selectedIndex!=Y&&(this._selectedIndexChanged=!0,this._selectedIndex=Y,this._keyManager&&this._keyManager.updateActiveItem(Y))}constructor(Y,Ie,yt,Vt,jn,ti,Pt){this._elementRef=Y,this._changeDetectorRef=Ie,this._viewportRuler=yt,this._dir=Vt,this._ngZone=jn,this._platform=ti,this._animationMode=Pt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Se.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Se.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new C.vpe,this.indexFocused=new C.vpe,jn.runOutsideAngular(()=>{(0,oe.R)(Y.nativeElement,"mouseleave").pipe((0,$e.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,oe.R)(this._previousPaginator.nativeElement,"touchstart",Kt).pipe((0,$e.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,oe.R)(this._nextPaginator.nativeElement,"touchstart",Kt).pipe((0,$e.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const Y=this._dir?this._dir.change:(0,ue.of)("ltr"),Ie=this._viewportRuler.change(150),yt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ae.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,ke.q)(1)).subscribe(yt),(0,pe.T)(Y,Ie,this._items.changes,this._itemsResized()).pipe((0,$e.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),yt()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(Vt=>{this.indexFocused.emit(Vt),this._setTabFocus(Vt)})}_itemsResized(){return"function"!=typeof ResizeObserver?Le.E:this._items.changes.pipe((0,We.O)(this._items),(0,wt.w)(Y=>new Pe.y(Ie=>this._ngZone.runOutsideAngular(()=>{const yt=new ResizeObserver(Vt=>Ie.next(Vt));return Y.forEach(Vt=>yt.observe(Vt.elementRef.nativeElement)),()=>{yt.disconnect()}}))),(0,fe.T)(1),(0,we.h)(Y=>Y.some(Ie=>Ie.contentRect.width>0&&Ie.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(Y){if(!(0,qe.Vb)(Y))switch(Y.keyCode){case qe.K5:case qe.L_:if(this.focusIndex!==this.selectedIndex){const Ie=this._items.get(this.focusIndex);Ie&&!Ie.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(Y))}break;default:this._keyManager.onKeydown(Y)}}_onContentChanges(){const Y=this._elementRef.nativeElement.textContent;Y!==this._currentTextContent&&(this._currentTextContent=Y||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(Y){!this._isValidIndex(Y)||this.focusIndex===Y||!this._keyManager||this._keyManager.setActiveItem(Y)}_isValidIndex(Y){return!this._items||!!this._items.toArray()[Y]}_setTabFocus(Y){if(this._showPaginationControls&&this._scrollToLabel(Y),this._items&&this._items.length){this._items.toArray()[Y].focus();const Ie=this._tabListContainer.nativeElement;Ie.scrollLeft="ltr"==this._getLayoutDirection()?0:Ie.scrollWidth-Ie.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const Y=this.scrollDistance,Ie="ltr"===this._getLayoutDirection()?-Y:Y;this._tabList.nativeElement.style.transform=`translateX(${Math.round(Ie)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(Y){this._scrollTo(Y)}_scrollHeader(Y){return this._scrollTo(this._scrollDistance+("before"==Y?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(Y){this._stopInterval(),this._scrollHeader(Y)}_scrollToLabel(Y){if(this.disablePagination)return;const Ie=this._items?this._items.toArray()[Y]:null;if(!Ie)return;const yt=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:Vt,offsetWidth:jn}=Ie.elementRef.nativeElement;let ti,Pt;"ltr"==this._getLayoutDirection()?(ti=Vt,Pt=ti+jn):(Pt=this._tabListInner.nativeElement.offsetWidth-Vt,ti=Pt-jn);const St=this.scrollDistance,wn=this.scrollDistance+yt;ti<St?this.scrollDistance-=St-ti:Pt>wn&&(this.scrollDistance+=Math.min(Pt-wn,ti-St))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const Y=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;Y||(this.scrollDistance=0),Y!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=Y}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const Y=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,Ie=Y?Y.elementRef.nativeElement:null;Ie?this._inkBar.alignToElement(Ie):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(Y,Ie){Ie&&null!=Ie.button&&0!==Ie.button||(this._stopInterval(),(0,et.H)(650,100).pipe((0,$e.R)((0,pe.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:yt,distance:Vt}=this._scrollHeader(Y);(0===Vt||Vt>=yt)&&this._stopInterval()}))}_scrollTo(Y){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const Ie=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(Ie,Y)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:Ie,distance:this._scrollDistance}}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ve.rL),C.Y36(W.Is,8),C.Y36(C.R0b),C.Y36(Z.t4),C.Y36(C.QbO,8))},Fe.\u0275dir=C.lG2({type:Fe,inputs:{disablePagination:"disablePagination"}}),Fe})(),gi=(()=>{class Fe extends Ei{get disableRipple(){return this._disableRipple}set disableRipple(Y){this._disableRipple=(0,ge.Ig)(Y)}constructor(Y,Ie,yt,Vt,jn,ti,Pt){super(Y,Ie,yt,Vt,jn,ti,Pt),this._disableRipple=!1}_itemSelected(Y){Y.preventDefault()}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ve.rL),C.Y36(W.Is,8),C.Y36(C.R0b),C.Y36(Z.t4),C.Y36(C.QbO,8))},Fe.\u0275dir=C.lG2({type:Fe,inputs:{disableRipple:"disableRipple"},features:[C.qOj]}),Fe})(),Xt=(()=>{class Fe extends gi{constructor(Y,Ie,yt,Vt,jn,ti,Pt){super(Y,Ie,yt,Vt,jn,ti,Pt)}ngAfterContentInit(){this._inkBar=new at(this._items),super.ngAfterContentInit()}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ve.rL),C.Y36(W.Is,8),C.Y36(C.R0b),C.Y36(Z.t4),C.Y36(C.QbO,8))},Fe.\u0275cmp=C.Xpm({type:Fe,selectors:[["mat-tab-header"]],contentQueries:function(Y,Ie,yt){if(1&Y&&C.Suo(yt,En,4),2&Y){let Vt;C.iGM(Vt=C.CRH())&&(Ie._items=Vt)}},viewQuery:function(Y,Ie){if(1&Y&&(C.Gf(vt,7),C.Gf(bt,7),C.Gf(Bt,7),C.Gf(Ht,5),C.Gf(en,5)),2&Y){let yt;C.iGM(yt=C.CRH())&&(Ie._tabListContainer=yt.first),C.iGM(yt=C.CRH())&&(Ie._tabList=yt.first),C.iGM(yt=C.CRH())&&(Ie._tabListInner=yt.first),C.iGM(yt=C.CRH())&&(Ie._nextPaginator=yt.first),C.iGM(yt=C.CRH())&&(Ie._previousPaginator=yt.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(Y,Ie){2&Y&&C.ekj("mat-mdc-tab-header-pagination-controls-enabled",Ie._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==Ie._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[C.qOj],ngContentSelectors:An,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(Y,Ie){1&Y&&(C.F$t(),C.TgZ(0,"button",0,1),C.NdJ("click",function(){return Ie._handlePaginatorClick("before")})("mousedown",function(Vt){return Ie._handlePaginatorPress("before",Vt)})("touchend",function(){return Ie._stopInterval()}),C._UZ(2,"div",2),C.qZA(),C.TgZ(3,"div",3,4),C.NdJ("keydown",function(Vt){return Ie._handleKeydown(Vt)}),C.TgZ(5,"div",5,6),C.NdJ("cdkObserveContent",function(){return Ie._onContentChanges()}),C.TgZ(7,"div",7,8),C.Hsn(9),C.qZA()()(),C.TgZ(10,"button",9,10),C.NdJ("mousedown",function(Vt){return Ie._handlePaginatorPress("after",Vt)})("click",function(){return Ie._handlePaginatorClick("after")})("touchend",function(){return Ie._stopInterval()}),C._UZ(12,"div",2),C.qZA()),2&Y&&(C.ekj("mat-mdc-tab-header-pagination-disabled",Ie._disableScrollBefore),C.Q6J("matRippleDisabled",Ie._disableScrollBefore||Ie.disableRipple)("disabled",Ie._disableScrollBefore||null),C.xp6(3),C.ekj("_mat-animation-noopable","NoopAnimations"===Ie._animationMode),C.xp6(7),C.ekj("mat-mdc-tab-header-pagination-disabled",Ie._disableScrollAfter),C.Q6J("matRippleDisabled",Ie._disableScrollAfter||Ie.disableRipple)("disabled",Ie._disableScrollAfter||null))},dependencies:[p.wG,B.wD],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),Fe})();const lt=new C.OlP("MAT_TABS_CONFIG");let ut=0;const Ze=(0,p.pj)((0,p.Kr)(class{constructor(Fe){this._elementRef=Fe}}),"primary");let He=(()=>{class Fe extends Ze{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(Y){this._dynamicHeight=(0,ge.Ig)(Y)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Y){this._indexToSelect=(0,ge.su)(Y,null)}get animationDuration(){return this._animationDuration}set animationDuration(Y){this._animationDuration=/^\d+$/.test(Y+"")?Y+"ms":Y}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(Y){this._contentTabIndex=(0,ge.su)(Y,null)}get disablePagination(){return this._disablePagination}set disablePagination(Y){this._disablePagination=(0,ge.Ig)(Y)}get preserveContent(){return this._preserveContent}set preserveContent(Y){this._preserveContent=(0,ge.Ig)(Y)}get backgroundColor(){return this._backgroundColor}set backgroundColor(Y){const Ie=this._elementRef.nativeElement.classList;Ie.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),Y&&Ie.add("mat-tabs-with-background",`mat-background-${Y}`),this._backgroundColor=Y}constructor(Y,Ie,yt,Vt){super(Y),this._changeDetectorRef=Ie,this._animationMode=Vt,this._tabs=new C.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=ye.w0.EMPTY,this._tabLabelSubscription=ye.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new C.vpe,this.focusChange=new C.vpe,this.animationDone=new C.vpe,this.selectedTabChange=new C.vpe(!0),this._groupId=ut++,this.animationDuration=yt&&yt.animationDuration?yt.animationDuration:"500ms",this.disablePagination=!(!yt||null==yt.disablePagination)&&yt.disablePagination,this.dynamicHeight=!(!yt||null==yt.dynamicHeight)&&yt.dynamicHeight,this.contentTabIndex=yt?.contentTabIndex??null,this.preserveContent=!!yt?.preserveContent}ngAfterContentChecked(){const Y=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=Y){const Ie=null==this._selectedIndex;if(!Ie){this.selectedTabChange.emit(this._createChangeEvent(Y));const yt=this._tabBodyWrapper.nativeElement;yt.style.minHeight=yt.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((yt,Vt)=>yt.isActive=Vt===Y),Ie||(this.selectedIndexChange.emit(Y),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((Ie,yt)=>{Ie.position=yt-Y,null!=this._selectedIndex&&0==Ie.position&&!Ie.origin&&(Ie.origin=Y-this._selectedIndex)}),this._selectedIndex!==Y&&(this._selectedIndex=Y,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const Y=this._clampTabIndex(this._indexToSelect);if(Y===this._selectedIndex){const Ie=this._tabs.toArray();let yt;for(let Vt=0;Vt<Ie.length;Vt++)if(Ie[Vt].isActive){this._indexToSelect=this._selectedIndex=Vt,this._lastFocusedTabIndex=null,yt=Ie[Vt];break}!yt&&Ie[Y]&&Promise.resolve().then(()=>{Ie[Y].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(Y))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,We.O)(this._allTabs)).subscribe(Y=>{this._tabs.reset(Y.filter(Ie=>Ie._closestTabGroup===this||!Ie._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(Y){const Ie=this._tabHeader;Ie&&(Ie.focusIndex=Y)}_focusChanged(Y){this._lastFocusedTabIndex=Y,this.focusChange.emit(this._createChangeEvent(Y))}_createChangeEvent(Y){const Ie=new Mt;return Ie.index=Y,this._tabs&&this._tabs.length&&(Ie.tab=this._tabs.toArray()[Y]),Ie}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,pe.T)(...this._tabs.map(Y=>Y._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(Y){return Math.min(this._tabs.length-1,Math.max(Y||0,0))}_getTabLabelId(Y){return`mat-tab-label-${this._groupId}-${Y}`}_getTabContentId(Y){return`mat-tab-content-${this._groupId}-${Y}`}_setTabBodyWrapperHeight(Y){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const Ie=this._tabBodyWrapper.nativeElement;Ie.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(Ie.style.height=Y+"px")}_removeTabBodyWrapperHeight(){const Y=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=Y.clientHeight,Y.style.height="",this.animationDone.emit()}_handleClick(Y,Ie,yt){Ie.focusIndex=yt,Y.disabled||(this.selectedIndex=yt)}_getTabIndex(Y){return Y===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(Y,Ie){Y&&"mouse"!==Y&&"touch"!==Y&&(this._tabHeader.focusIndex=Ie)}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(lt,8),C.Y36(C.QbO,8))},Fe.\u0275dir=C.lG2({type:Fe,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[C.qOj]}),Fe})(),Re=(()=>{class Fe extends He{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(Y){this._fitInkBarToContent=(0,ge.Ig)(Y),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(Y){this._stretchTabs=(0,ge.Ig)(Y)}constructor(Y,Ie,yt,Vt){super(Y,Ie,yt,Vt),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!yt||null==yt.fitInkBarToContent)&&yt.fitInkBarToContent,this.stretchTabs=!yt||null==yt.stretchTabs||yt.stretchTabs}}return Fe.\u0275fac=function(Y){return new(Y||Fe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(lt,8),C.Y36(C.QbO,8))},Fe.\u0275cmp=C.Xpm({type:Fe,selectors:[["mat-tab-group"]],contentQueries:function(Y,Ie,yt){if(1&Y&&C.Suo(yt,kt,5),2&Y){let Vt;C.iGM(Vt=C.CRH())&&(Ie._allTabs=Vt)}},viewQuery:function(Y,Ie){if(1&Y&&(C.Gf(Yt,5),C.Gf(sn,5)),2&Y){let yt;C.iGM(yt=C.CRH())&&(Ie._tabBodyWrapper=yt.first),C.iGM(yt=C.CRH())&&(Ie._tabHeader=yt.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(Y,Ie){2&Y&&C.ekj("mat-mdc-tab-group-dynamic-height",Ie.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===Ie.headerPosition)("mat-mdc-tab-group-stretch-tabs",Ie.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[C._Bn([{provide:Hn,useExisting:Fe}]),C.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(Y,Ie){1&Y&&(C.TgZ(0,"mat-tab-header",0,1),C.NdJ("indexFocused",function(Vt){return Ie._focusChanged(Vt)})("selectFocusedIndex",function(Vt){return Ie.selectedIndex=Vt}),C.YNc(2,Je,9,17,"div",2),C.qZA(),C.TgZ(3,"div",3,4),C.YNc(5,ct,1,11,"mat-tab-body",5),C.qZA()),2&Y&&(C.Q6J("selectedIndex",Ie.selectedIndex||0)("disableRipple",Ie.disableRipple)("disablePagination",Ie.disablePagination),C.xp6(2),C.Q6J("ngForOf",Ie._tabs),C.xp6(1),C.ekj("_mat-animation-noopable","NoopAnimations"===Ie._animationMode),C.xp6(2),C.Q6J("ngForOf",Ie._tabs))},dependencies:[l.mk,l.sg,l.O5,X.Pl,p.wG,ae.kH,Ce,En,Xt],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),Fe})();class Mt{}let Te=(()=>{class Fe{}return Fe.\u0275fac=function(Y){return new(Y||Fe)},Fe.\u0275mod=C.oAB({type:Fe}),Fe.\u0275inj=C.cJS({imports:[l.ez,p.BQ,X.eL,p.si,B.Q8,ae.rt,p.BQ]}),Fe})()},9383:(gn,ot,y)=>{y.d(ot,{Ye:()=>Se,g0:()=>ue});var l=y(2223),C=y(1217),p=y(2966),X=y(4755);const B=["*",[["mat-toolbar-row"]]],ae=["*","mat-toolbar-row"],W=(0,C.pj)(class{constructor(pe){this._elementRef=pe}});let ye=(()=>{class pe{}return pe.\u0275fac=function(Pe){return new(Pe||pe)},pe.\u0275dir=l.lG2({type:pe,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),pe})(),Se=(()=>{class pe extends W{constructor(Pe,et,We){super(Pe),this._platform=et,this._document=We}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return pe.\u0275fac=function(Pe){return new(Pe||pe)(l.Y36(l.SBq),l.Y36(p.t4),l.Y36(X.K0))},pe.\u0275cmp=l.Xpm({type:pe,selectors:[["mat-toolbar"]],contentQueries:function(Pe,et,We){if(1&Pe&&l.Suo(We,ye,5),2&Pe){let Ye;l.iGM(Ye=l.CRH())&&(et._toolbarRows=Ye)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Pe,et){2&Pe&&l.ekj("mat-toolbar-multiple-rows",et._toolbarRows.length>0)("mat-toolbar-single-row",0===et._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:ae,decls:2,vars:0,template:function(Pe,et){1&Pe&&(l.F$t(B),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),pe})(),ue=(()=>{class pe{}return pe.\u0275fac=function(Pe){return new(Pe||pe)},pe.\u0275mod=l.oAB({type:pe}),pe.\u0275inj=l.cJS({imports:[C.BQ,C.BQ]}),pe})()},6550:(gn,ot,y)=>{y.d(ot,{Dx:()=>he,H7:()=>Ei,b2:()=>De,q6:()=>nt,se:()=>Z});var l=y(2223),C=y(4755);class p extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class X extends p{static makeCurrent(){(0,C.HT)(new X)}onAndCancel(z,j,$){return z.addEventListener(j,$),()=>{z.removeEventListener(j,$)}}dispatchEvent(z,j){z.dispatchEvent(j)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,j){return(j=j||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,j){return"window"===j?window:"document"===j?z:"body"===j?z.body:null}getBaseHref(z){const j=function ae(){return B=B||document.querySelector("base"),B?B.getAttribute("href"):null}();return null==j?null:function ye(le){W=W||document.createElement("a"),W.setAttribute("href",le);const z=W.pathname;return"/"===z.charAt(0)?z:`/${z}`}(j)}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,C.Mx)(document.cookie,z)}}let W,B=null,oe=(()=>{class le{build(){return new XMLHttpRequest}}return le.\u0275fac=function(j){return new(j||le)},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();const ue=new l.OlP("EventManagerPlugins");let pe=(()=>{class le{constructor(j,$){this._zone=$,this._eventNameToPlugin=new Map,j.forEach(de=>{de.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,$,de){return this._findPluginFor($).addEventListener(j,$,de)}getZone(){return this._zone}_findPluginFor(j){let $=this._eventNameToPlugin.get(j);if($)return $;if($=this._plugins.find(ce=>ce.supports(j)),!$)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(j,$),$}}return le.\u0275fac=function(j){return new(j||le)(l.LFG(ue),l.LFG(l.R0b))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();class Le{constructor(z){this._doc=z}}const Pe="ng-app-id";let et=(()=>{class le{constructor(j,$,de,ce={}){this.doc=j,this.appId=$,this.nonce=de,this.platformId=ce,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,C.PM)(ce),this.resetHostNodes()}addStyles(j){for(const $ of j)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(j){for(const $ of j)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach($=>$.remove()),j.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const $ of this.getAllStyles())this.addStyleToHost(j,$)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const $ of this.hostNodes)this.addStyleToHost($,j)}onStyleRemoved(j){const $=this.styleRef;$.get(j)?.elements?.forEach(de=>de.remove()),$.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${Pe}="${this.appId}"]`);if(j?.length){const $=new Map;return j.forEach(de=>{null!=de.textContent&&$.set(de.textContent,de)}),$}return null}changeUsageCount(j,$){const de=this.styleRef;if(de.has(j)){const ce=de.get(j);return ce.usage+=$,ce.usage}return de.set(j,{usage:$,elements:[]}),$}getStyleElement(j,$){const de=this.styleNodesInDOM,ce=de?.get($);if(ce?.parentNode===j)return de.delete($),ce.removeAttribute(Pe),ce;{const Te=this.doc.createElement("style");return this.nonce&&Te.setAttribute("nonce",this.nonce),Te.textContent=$,this.platformIsServer&&Te.setAttribute(Pe,this.appId),Te}}addStyleToHost(j,$){const de=this.getStyleElement(j,$);j.appendChild(de);const ce=this.styleRef,Te=ce.get($)?.elements;Te?Te.push(de):ce.set($,{elements:[de],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}}return le.\u0275fac=function(j){return new(j||le)(l.LFG(C.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();const We={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ye=/%COMP%/g,we=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ve(le,z){return z.map(j=>j.replace(Ye,le))}let Z=(()=>{class le{constructor(j,$,de,ce,Te,Fe,Ue,Y=null){this.eventManager=j,this.sharedStylesHost=$,this.appId=de,this.removeStylesOnCompDestory=ce,this.doc=Te,this.platformId=Fe,this.ngZone=Ue,this.nonce=Y,this.rendererByCompId=new Map,this.platformIsServer=(0,C.PM)(Fe),this.defaultRenderer=new qe(j,Te,Ue,this.platformIsServer)}createRenderer(j,$){if(!j||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===l.ifc.ShadowDom&&($={...$,encapsulation:l.ifc.Emulated});const de=this.getOrCreateRenderer(j,$);return de instanceof vt?de.applyToHost(j):de instanceof An&&de.applyStyles(),de}getOrCreateRenderer(j,$){const de=this.rendererByCompId;let ce=de.get($.id);if(!ce){const Te=this.doc,Fe=this.ngZone,Ue=this.eventManager,Y=this.sharedStylesHost,Ie=this.removeStylesOnCompDestory,yt=this.platformIsServer;switch($.encapsulation){case l.ifc.Emulated:ce=new vt(Ue,Y,$,this.appId,Ie,Te,Fe,yt);break;case l.ifc.ShadowDom:return new yn(Ue,Y,j,$,Te,Fe,this.nonce,yt);default:ce=new An(Ue,Y,$,Ie,Te,Fe,yt)}ce.onDestroy=()=>de.delete($.id),de.set($.id,ce)}return ce}ngOnDestroy(){this.rendererByCompId.clear()}}return le.\u0275fac=function(j){return new(j||le)(l.LFG(pe),l.LFG(et),l.LFG(l.AFp),l.LFG(we),l.LFG(C.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();class qe{constructor(z,j,$,de){this.eventManager=z,this.doc=j,this.ngZone=$,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,j){return j?this.doc.createElementNS(We[j]||j,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,j){(Ct(z)?z.content:z).appendChild(j)}insertBefore(z,j,$){z&&(Ct(z)?z.content:z).insertBefore(j,$)}removeChild(z,j){z&&z.removeChild(j)}selectRootElement(z,j){let $="string"==typeof z?this.doc.querySelector(z):z;if(!$)throw new l.vHH(5104,!1);return j||($.textContent=""),$}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,j,$,de){if(de){j=de+":"+j;const ce=We[de];ce?z.setAttributeNS(ce,j,$):z.setAttribute(j,$)}else z.setAttribute(j,$)}removeAttribute(z,j,$){if($){const de=We[$];de?z.removeAttributeNS(de,j):z.removeAttribute(`${$}:${j}`)}else z.removeAttribute(j)}addClass(z,j){z.classList.add(j)}removeClass(z,j){z.classList.remove(j)}setStyle(z,j,$,de){de&(l.JOm.DashCase|l.JOm.Important)?z.style.setProperty(j,$,de&l.JOm.Important?"important":""):z.style[j]=$}removeStyle(z,j,$){$&l.JOm.DashCase?z.style.removeProperty(j):z.style[j]=""}setProperty(z,j,$){z[j]=$}setValue(z,j){z.nodeValue=j}listen(z,j,$){if("string"==typeof z&&!(z=(0,C.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${j}`);return this.eventManager.addEventListener(z,j,this.decoratePreventDefault($))}decoratePreventDefault(z){return j=>{if("__ngUnwrap__"===j)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z(j)):z(j))&&j.preventDefault()}}}function Ct(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class yn extends qe{constructor(z,j,$,de,ce,Te,Fe,Ue){super(z,ce,Te,Ue),this.sharedStylesHost=j,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Y=Ve(de.id,de.styles);for(const Ie of Y){const yt=document.createElement("style");Fe&&yt.setAttribute("nonce",Fe),yt.textContent=Ie,this.shadowRoot.appendChild(yt)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,j){return super.appendChild(this.nodeOrShadowRoot(z),j)}insertBefore(z,j,$){return super.insertBefore(this.nodeOrShadowRoot(z),j,$)}removeChild(z,j){return super.removeChild(this.nodeOrShadowRoot(z),j)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class An extends qe{constructor(z,j,$,de,ce,Te,Fe,Ue){super(z,ce,Te,Fe),this.sharedStylesHost=j,this.removeStylesOnCompDestory=de,this.rendererUsageCount=0,this.styles=Ue?Ve(Ue,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vt extends An{constructor(z,j,$,de,ce,Te,Fe,Ue){const Y=de+"-"+$.id;super(z,j,$,ce,Te,Fe,Ue,Y),this.contentAttr=function me(le){return"_ngcontent-%COMP%".replace(Ye,le)}(Y),this.hostAttr=function ge(le){return"_nghost-%COMP%".replace(Ye,le)}(Y)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,j){const $=super.createElement(z,j);return super.setAttribute($,this.contentAttr,""),$}}let bt=(()=>{class le extends Le{constructor(j){super(j)}supports(j){return!0}addEventListener(j,$,de){return j.addEventListener($,de,!1),()=>this.removeEventListener(j,$,de)}removeEventListener(j,$,de){return j.removeEventListener($,de)}}return le.\u0275fac=function(j){return new(j||le)(l.LFG(C.K0))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();const Bt=["alt","control","meta","shift"],Ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},en={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let Yt=(()=>{class le extends Le{constructor(j){super(j)}supports(j){return null!=le.parseEventName(j)}addEventListener(j,$,de){const ce=le.parseEventName($),Te=le.eventCallback(ce.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(j,ce.domEventName,Te))}static parseEventName(j){const $=j.toLowerCase().split("."),de=$.shift();if(0===$.length||"keydown"!==de&&"keyup"!==de)return null;const ce=le._normalizeKey($.pop());let Te="",Fe=$.indexOf("code");if(Fe>-1&&($.splice(Fe,1),Te="code."),Bt.forEach(Y=>{const Ie=$.indexOf(Y);Ie>-1&&($.splice(Ie,1),Te+=Y+".")}),Te+=ce,0!=$.length||0===ce.length)return null;const Ue={};return Ue.domEventName=de,Ue.fullKey=Te,Ue}static matchEventFullKeyCode(j,$){let de=Ht[j.key]||j.key,ce="";return $.indexOf("code.")>-1&&(de=j.code,ce="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),Bt.forEach(Te=>{Te!==de&&(0,en[Te])(j)&&(ce+=Te+".")}),ce+=de,ce===$)}static eventCallback(j,$,de){return ce=>{le.matchEventFullKeyCode(ce,j)&&de.runGuarded(()=>$(ce))}}static _normalizeKey(j){return"esc"===j?"escape":j}}return le.\u0275fac=function(j){return new(j||le)(l.LFG(C.K0))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),le})();const nt=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:C.bD},{provide:l.g9A,useValue:function Je(){X.makeCurrent()},multi:!0},{provide:C.K0,useFactory:function Rt(){return(0,l.RDi)(document),document},deps:[]}]),ft=new l.OlP(""),Ee=[{provide:l.rWj,useClass:class Se{addToWindow(z){l.dqk.getAngularTestability=($,de=!0)=>{const ce=z.findTestabilityInTree($,de);if(null==ce)throw new l.vHH(5103,!1);return ce},l.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push($=>{const de=l.dqk.getAllAngularTestabilities();let ce=de.length,Te=!1;const Fe=function(Ue){Te=Te||Ue,ce--,0==ce&&$(Te)};de.forEach(function(Ue){Ue.whenStable(Fe)})})}findTestabilityInTree(z,j,$){return null==j?null:z.getTestability(j)??($?(0,C.q)().isShadowRoot(j)?this.findTestabilityInTree(z,j.host,!0):this.findTestabilityInTree(z,j.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ce=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ct(){return new l.qLn},deps:[]},{provide:ue,useClass:bt,multi:!0,deps:[C.K0,l.R0b,l.Lbi]},{provide:ue,useClass:Yt,multi:!0,deps:[C.K0]},Z,et,pe,{provide:l.FYo,useExisting:Z},{provide:C.JF,useClass:oe,deps:[]},[]];let De=(()=>{class le{constructor(j){}static withServerTransition(j){return{ngModule:le,providers:[{provide:l.AFp,useValue:j.appId}]}}}return le.\u0275fac=function(j){return new(j||le)(l.LFG(ft,12))},le.\u0275mod=l.oAB({type:le}),le.\u0275inj=l.cJS({providers:[...Ce,...Ee],imports:[C.ez,l.hGG]}),le})(),he=(()=>{class le{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}}return le.\u0275fac=function(j){return new(j||le)(l.LFG(C.K0))},le.\u0275prov=l.Yz7({token:le,factory:function(j){let $=null;return $=j?new j:function It(){return new he((0,l.LFG)(C.K0))}(),$},providedIn:"root"}),le})();typeof window<"u"&&window;let Ei=(()=>{class le{}return le.\u0275fac=function(j){return new(j||le)},le.\u0275prov=l.Yz7({token:le,factory:function(j){let $=null;return $=j?new(j||le):l.LFG(Xt),$},providedIn:"root"}),le})(),Xt=(()=>{class le extends Ei{constructor(j){super(),this._doc=j}sanitize(j,$){if(null==$)return null;switch(j){case l.q3G.NONE:return $;case l.q3G.HTML:return(0,l.qzn)($,"HTML")?(0,l.z3N)($):(0,l.EiD)(this._doc,String($)).toString();case l.q3G.STYLE:return(0,l.qzn)($,"Style")?(0,l.z3N)($):$;case l.q3G.SCRIPT:if((0,l.qzn)($,"Script"))return(0,l.z3N)($);throw new l.vHH(5200,!1);case l.q3G.URL:return(0,l.qzn)($,"URL")?(0,l.z3N)($):(0,l.mCW)(String($));case l.q3G.RESOURCE_URL:if((0,l.qzn)($,"ResourceURL"))return(0,l.z3N)($);throw new l.vHH(5201,!1);default:throw new l.vHH(5202,!1)}}bypassSecurityTrustHtml(j){return(0,l.JVY)(j)}bypassSecurityTrustStyle(j){return(0,l.L6k)(j)}bypassSecurityTrustScript(j){return(0,l.eBb)(j)}bypassSecurityTrustUrl(j){return(0,l.LAX)(j)}bypassSecurityTrustResourceUrl(j){return(0,l.pB0)(j)}}return le.\u0275fac=function(j){return new(j||le)(l.LFG(C.K0))},le.\u0275prov=l.Yz7({token:le,factory:function(j){let $=null;return $=j?new j:function gi(le){return new Xt(le.get(C.K0))}(l.LFG(l.zs3)),$},providedIn:"root"}),le})()},3676:(gn,ot,y)=>{y.d(ot,{gz:()=>Pn,F0:()=>$r,Bz:()=>Un,lC:()=>ci});var l=y(2223),C=y(9751),p=y(576),B=y(8996),ae=y(9646),W=y(1135),ye=y(9841),Se=y(6805),oe=y(7272),ue=y(9770),pe=y(9635),Le=y(2843),Pe=y(515),et=y(727),We=y(4482),Ye=y(5403);function $e(){return(0,We.e)((E,R)=>{let x=null;E._refCount++;const N=(0,Ye.x)(R,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(x=null);const ne=E._connection,Me=x;x=null,ne&&(!Me||ne===Me)&&ne.unsubscribe(),R.unsubscribe()});E.subscribe(N),N.closed||(x=E.connect())})}class ke extends C.y{constructor(R,x){super(),this.source=R,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,We.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new et.w0;const x=this.getSubject();R.add(this.source.subscribe((0,Ye.x)(x,void 0,()=>{this._teardown(),x.complete()},N=>{this._teardown(),x.error(N)},()=>this._teardown()))),R.closed&&(this._connection=null,R=et.w0.EMPTY)}return R}refCount(){return $e()(this)}}var wt=y(7579),fe=y(4755),we=y(4004),me=y(3900),ge=y(5698),Ve=y(8675),Z=y(9300),qe=y(5577),je=y(590),Xe=y(4351),Ct=y(8505),yn=y(262),An=y(5026),vt=y(6590);function bt(E){return E<=0?()=>Pe.E:(0,We.e)((R,x)=>{let N=[];R.subscribe((0,Ye.x)(x,ne=>{N.push(ne),E<N.length&&N.shift()},()=>{for(const ne of N)x.next(ne);x.complete()},void 0,()=>{N=null}))})}var Bt=y(8068),Ht=y(4671),Yt=y(9718),sn=y(8746),bn=y(8189),on=y(6550);const Ft="primary",Je=Symbol("RouteTitle");class ct{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const x=this.params[R];return Array.isArray(x)?x[0]:x}return null}getAll(R){if(this.has(R)){const x=this.params[R];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function Rt(E){return new ct(E)}function Et(E,R,x){const N=x.path.split("/");if(N.length>E.length||"full"===x.pathMatch&&(R.hasChildren()||N.length<E.length))return null;const ne={};for(let Me=0;Me<N.length;Me++){const Ne=N[Me],Ut=E[Me];if(Ne.startsWith(":"))ne[Ne.substring(1)]=Ut;else if(Ne!==Ut.path)return null}return{consumed:E.slice(0,N.length),posParams:ne}}function ft(E,R){const x=E?Object.keys(E):void 0,N=R?Object.keys(R):void 0;if(!x||!N||x.length!=N.length)return!1;let ne;for(let Me=0;Me<x.length;Me++)if(ne=x[Me],!Ee(E[ne],R[ne]))return!1;return!0}function Ee(E,R){if(Array.isArray(E)&&Array.isArray(R)){if(E.length!==R.length)return!1;const x=[...E].sort(),N=[...R].sort();return x.every((ne,Me)=>N[Me]===ne)}return E===R}function Ce(E){return E.length>0?E[E.length-1]:null}function De(E){return function X(E){return!!E&&(E instanceof C.y||(0,p.m)(E.lift)&&(0,p.m)(E.subscribe))}(E)?E:(0,l.QGY)(E)?(0,B.D)(Promise.resolve(E)):(0,ae.of)(E)}const Tt={exact:function he(E,R,x){if(!En(E.segments,R.segments)||!At(E.segments,R.segments,x)||E.numberOfChildren!==R.numberOfChildren)return!1;for(const N in R.children)if(!E.children[N]||!he(E.children[N],R.children[N],x))return!1;return!0},subset:at},rn={exact:function It(E,R){return ft(E,R)},subset:function ze(E,R){return Object.keys(R).length<=Object.keys(E).length&&Object.keys(R).every(x=>Ee(E[x],R[x]))},ignored:()=>!0};function an(E,R,x){return Tt[x.paths](E.root,R.root,x.matrixParams)&&rn[x.queryParams](E.queryParams,R.queryParams)&&!("exact"===x.fragment&&E.fragment!==R.fragment)}function at(E,R,x){return ht(E,R,R.segments,x)}function ht(E,R,x,N){if(E.segments.length>x.length){const ne=E.segments.slice(0,x.length);return!(!En(ne,x)||R.hasChildren()||!At(ne,x,N))}if(E.segments.length===x.length){if(!En(E.segments,x)||!At(E.segments,x,N))return!1;for(const ne in R.children)if(!E.children[ne]||!at(E.children[ne],R.children[ne],N))return!1;return!0}{const ne=x.slice(0,E.segments.length),Me=x.slice(E.segments.length);return!!(En(E.segments,ne)&&At(E.segments,ne,N)&&E.children[Ft])&&ht(E.children[Ft],R,Me,N)}}function At(E,R,x){return R.every((N,ne)=>rn[x](E[ne].parameters,N.parameters))}class qt{constructor(R=new cn([],{}),x={},N=null){this.root=R,this.queryParams=x,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){return kt.serialize(this)}}class cn{constructor(R,x){this.segments=R,this.children=x,this.parent=null,Object.values(x).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kt(this)}}class Zn{constructor(R,x){this.path=R,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=Rt(this.parameters)),this._parameterMap}toString(){return Ze(this)}}function En(E,R){return E.length===R.length&&E.every((x,N)=>x.path===R[N].path)}let Hn=(()=>{class E{}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:function(){return new Ke},providedIn:"root"}),E})();class Ke{parse(R){const x=new ce(R);return new qt(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(R){const x=`/${Sn(R.root,!0)}`,N=function Re(E){const R=Object.keys(E).map(x=>{const N=E[x];return Array.isArray(N)?N.map(ne=>`${Ei(x)}=${Ei(ne)}`).join("&"):`${Ei(x)}=${Ei(N)}`}).filter(x=>!!x);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${x}${N}${"string"==typeof R.fragment?`#${function gi(E){return encodeURI(E)}(R.fragment)}`:""}`}}const kt=new Ke;function Kt(E){return E.segments.map(R=>Ze(R)).join("/")}function Sn(E,R){if(!E.hasChildren())return Kt(E);if(R){const x=E.children[Ft]?Sn(E.children[Ft],!1):"",N=[];return Object.entries(E.children).forEach(([ne,Me])=>{ne!==Ft&&N.push(`${ne}:${Sn(Me,!1)}`)}),N.length>0?`${x}(${N.join("//")})`:x}{const x=function dn(E,R){let x=[];return Object.entries(E.children).forEach(([N,ne])=>{N===Ft&&(x=x.concat(R(ne,N)))}),Object.entries(E.children).forEach(([N,ne])=>{N!==Ft&&(x=x.concat(R(ne,N)))}),x}(E,(N,ne)=>ne===Ft?[Sn(E.children[Ft],!1)]:[`${ne}:${Sn(N,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Ft]?`${Kt(E)}/${x[0]}`:`${Kt(E)}/(${x.join("//")})`}}function hi(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ei(E){return hi(E).replace(/%3B/gi,";")}function Xt(E){return hi(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lt(E){return decodeURIComponent(E)}function ut(E){return lt(E.replace(/\+/g,"%20"))}function Ze(E){return`${Xt(E.path)}${function He(E){return Object.keys(E).map(R=>`;${Xt(R)}=${Xt(E[R])}`).join("")}(E.parameters)}`}const Mt=/^[^\/()?;#]+/;function Gt(E){const R=E.match(Mt);return R?R[0]:""}const Be=/^[^\/()?;=#]+/,z=/^[^=?&#]+/,$=/^[^&#]+/;class ce{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(R.length>0||Object.keys(x).length>0)&&(N[Ft]=new cn(R,x)),N}parseSegment(){const R=Gt(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(R),new Zn(lt(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const x=function le(E){const R=E.match(Be);return R?R[0]:""}(this.remaining);if(!x)return;this.capture(x);let N="";if(this.consumeOptional("=")){const ne=Gt(this.remaining);ne&&(N=ne,this.capture(N))}R[lt(x)]=lt(N)}parseQueryParam(R){const x=function j(E){const R=E.match(z);return R?R[0]:""}(this.remaining);if(!x)return;this.capture(x);let N="";if(this.consumeOptional("=")){const Ne=function de(E){const R=E.match($);return R?R[0]:""}(this.remaining);Ne&&(N=Ne,this.capture(N))}const ne=ut(x),Me=ut(N);if(R.hasOwnProperty(ne)){let Ne=R[ne];Array.isArray(Ne)||(Ne=[Ne],R[ne]=Ne),Ne.push(Me)}else R[ne]=Me}parseParens(R){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Gt(this.remaining),ne=this.remaining[N.length];if("/"!==ne&&")"!==ne&&";"!==ne)throw new l.vHH(4010,!1);let Me;N.indexOf(":")>-1?(Me=N.slice(0,N.indexOf(":")),this.capture(Me),this.capture(":")):R&&(Me=Ft);const Ne=this.parseChildren();x[Me]=1===Object.keys(Ne).length?Ne[Ft]:new cn([],Ne),this.consumeOptional("//")}return x}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new l.vHH(4011,!1)}}function Te(E){return E.segments.length>0?new cn([],{[Ft]:E}):E}function Fe(E){const R={};for(const N of Object.keys(E.children)){const Me=Fe(E.children[N]);if(N===Ft&&0===Me.segments.length&&Me.hasChildren())for(const[Ne,Ut]of Object.entries(Me.children))R[Ne]=Ut;else(Me.segments.length>0||Me.hasChildren())&&(R[N]=Me)}return function Ue(E){if(1===E.numberOfChildren&&E.children[Ft]){const R=E.children[Ft];return new cn(E.segments.concat(R.segments),R.children)}return E}(new cn(E.segments,R))}function Y(E){return E instanceof qt}function yt(E){let R;const ne=Te(function x(Me){const Ne={};for(const Wt of Me.children){const In=x(Wt);Ne[Wt.outlet]=In}const Ut=new cn(Me.url,Ne);return Me===E&&(R=Ut),Ut}(E.root));return R??ne}function Vt(E,R,x,N){let ne=E;for(;ne.parent;)ne=ne.parent;if(0===R.length)return Pt(ne,ne,ne,x,N);const Me=function Vn(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new wn(!0,0,E);let R=0,x=!1;const N=E.reduce((ne,Me,Ne)=>{if("object"==typeof Me&&null!=Me){if(Me.outlets){const Ut={};return Object.entries(Me.outlets).forEach(([Wt,In])=>{Ut[Wt]="string"==typeof In?In.split("/"):In}),[...ne,{outlets:Ut}]}if(Me.segmentPath)return[...ne,Me.segmentPath]}return"string"!=typeof Me?[...ne,Me]:0===Ne?(Me.split("/").forEach((Ut,Wt)=>{0==Wt&&"."===Ut||(0==Wt&&""===Ut?x=!0:".."===Ut?R++:""!=Ut&&ne.push(Ut))}),ne):[...ne,Me]},[]);return new wn(x,R,N)}(R);if(Me.toRoot())return Pt(ne,ne,new cn([],{}),x,N);const Ne=function zn(E,R,x){if(E.isAbsolute)return new Rn(R,!0,0);if(!x)return new Rn(R,!1,NaN);if(null===x.parent)return new Rn(x,!0,0);const N=jn(E.commands[0])?0:1;return function di(E,R,x){let N=E,ne=R,Me=x;for(;Me>ne;){if(Me-=ne,N=N.parent,!N)throw new l.vHH(4005,!1);ne=N.segments.length}return new Rn(N,!1,ne-Me)}(x,x.segments.length-1+N,E.numberOfDoubleDots)}(Me,ne,E),Ut=Ne.processChildren?vr(Ne.segmentGroup,Ne.index,Me.commands):_i(Ne.segmentGroup,Ne.index,Me.commands);return Pt(ne,Ne.segmentGroup,Ut,x,N)}function jn(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function ti(E){return"object"==typeof E&&null!=E&&E.outlets}function Pt(E,R,x,N,ne){let Ne,Me={};N&&Object.entries(N).forEach(([Wt,In])=>{Me[Wt]=Array.isArray(In)?In.map(xn=>`${xn}`):`${In}`}),Ne=E===R?x:St(E,R,x);const Ut=Te(Fe(Ne));return new qt(Ut,Me,ne)}function St(E,R,x){const N={};return Object.entries(E.children).forEach(([ne,Me])=>{N[ne]=Me===R?x:St(Me,R,x)}),new cn(E.segments,N)}class wn{constructor(R,x,N){if(this.isAbsolute=R,this.numberOfDoubleDots=x,this.commands=N,R&&N.length>0&&jn(N[0]))throw new l.vHH(4003,!1);const ne=N.find(ti);if(ne&&ne!==Ce(N))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rn{constructor(R,x,N){this.segmentGroup=R,this.processChildren=x,this.index=N}}function _i(E,R,x){if(E||(E=new cn([],{})),0===E.segments.length&&E.hasChildren())return vr(E,R,x);const N=function eo(E,R,x){let N=0,ne=R;const Me={match:!1,pathIndex:0,commandIndex:0};for(;ne<E.segments.length;){if(N>=x.length)return Me;const Ne=E.segments[ne],Ut=x[N];if(ti(Ut))break;const Wt=`${Ut}`,In=N<x.length-1?x[N+1]:null;if(ne>0&&void 0===Wt)break;if(Wt&&In&&"object"==typeof In&&void 0===In.outlets){if(!Kr(Wt,In,Ne))return Me;N+=2}else{if(!Kr(Wt,{},Ne))return Me;N++}ne++}return{match:!0,pathIndex:ne,commandIndex:N}}(E,R,x),ne=x.slice(N.commandIndex);if(N.match&&N.pathIndex<E.segments.length){const Me=new cn(E.segments.slice(0,N.pathIndex),{});return Me.children[Ft]=new cn(E.segments.slice(N.pathIndex),E.children),vr(Me,0,ne)}return N.match&&0===ne.length?new cn(E.segments,{}):N.match&&!E.hasChildren()?Oo(E,R,x):N.match?vr(E,0,ne):Oo(E,R,x)}function vr(E,R,x){if(0===x.length)return new cn(E.segments,{});{const N=function Ji(E){return ti(E[0])?E[0].outlets:{[Ft]:E}}(x),ne={};if(!N[Ft]&&E.children[Ft]&&1===E.numberOfChildren&&0===E.children[Ft].segments.length){const Me=vr(E.children[Ft],R,x);return new cn(E.segments,Me.children)}return Object.entries(N).forEach(([Me,Ne])=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&(ne[Me]=_i(E.children[Me],R,Ne))}),Object.entries(E.children).forEach(([Me,Ne])=>{void 0===N[Me]&&(ne[Me]=Ne)}),new cn(E.segments,ne)}}function Oo(E,R,x){const N=E.segments.slice(0,R);let ne=0;for(;ne<x.length;){const Me=x[ne];if(ti(Me)){const Wt=ds(Me.outlets);return new cn(N,Wt)}if(0===ne&&jn(x[0])){N.push(new Zn(E.segments[R].path,br(x[0]))),ne++;continue}const Ne=ti(Me)?Me.outlets[Ft]:`${Me}`,Ut=ne<x.length-1?x[ne+1]:null;Ne&&Ut&&jn(Ut)?(N.push(new Zn(Ne,br(Ut))),ne+=2):(N.push(new Zn(Ne,{})),ne++)}return new cn(N,{})}function ds(E){const R={};return Object.entries(E).forEach(([x,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(R[x]=Oo(new cn([],{}),0,N))}),R}function br(E){const R={};return Object.entries(E).forEach(([x,N])=>R[x]=`${N}`),R}function Kr(E,R,x){return E==x.path&&ft(R,x.parameters)}const zr="imperative";class Zr{constructor(R,x){this.id=R,this.url=x}}class to extends Zr{constructor(R,x,N="imperative",ne=null){super(R,x),this.type=0,this.navigationTrigger=N,this.restoredState=ne}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ri extends Zr{constructor(R,x,N){super(R,x),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zo extends Zr{constructor(R,x,N,ne){super(R,x),this.reason=N,this.code=ne,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class po extends Zr{constructor(R,x,N,ne){super(R,x),this.reason=N,this.code=ne,this.type=16}}class Yr extends Zr{constructor(R,x,N,ne){super(R,x),this.error=N,this.target=ne,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class er extends Zr{constructor(R,x,N,ne){super(R,x),this.urlAfterRedirects=N,this.state=ne,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo extends Zr{constructor(R,x,N,ne){super(R,x),this.urlAfterRedirects=N,this.state=ne,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends Zr{constructor(R,x,N,ne,Me){super(R,x),this.urlAfterRedirects=N,this.state=ne,this.shouldActivate=Me,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xo extends Zr{constructor(R,x,N,ne){super(R,x),this.urlAfterRedirects=N,this.state=ne,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cs extends Zr{constructor(R,x,N,ne){super(R,x),this.urlAfterRedirects=N,this.state=ne,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jo{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hr{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cr{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ro{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(R,x,N){this.routerEvent=R,this.position=x,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lr,this.attachRef=null}}let lr=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(x,N){const ne=this.getOrCreateContext(x);ne.outlet=N,this.contexts.set(x,ne)}onChildOutletDestroyed(x){const N=this.getContext(x);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let N=this.getContext(x);return N||(N=new yi,this.contexts.set(x,N)),N}getContext(x){return this.contexts.get(x)||null}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class hr{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const x=this.pathFromRoot(R);return x.length>1?x[x.length-2]:null}children(R){const x=Eo(R,this._root);return x?x.children.map(N=>N.value):[]}firstChild(R){const x=Eo(R,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(R){const x=Dt(R,this._root);return x.length<2?[]:x[x.length-2].children.map(ne=>ne.value).filter(ne=>ne!==R)}pathFromRoot(R){return Dt(R,this._root).map(x=>x.value)}}function Eo(E,R){if(E===R.value)return R;for(const x of R.children){const N=Eo(E,x);if(N)return N}return null}function Dt(E,R){if(E===R.value)return[R];for(const x of R.children){const N=Dt(E,x);if(N.length)return N.unshift(R),N}return[]}class gt{constructor(R,x){this.value=R,this.children=x}toString(){return`TreeNode(${this.value})`}}function jt(E){const R={};return E&&E.children.forEach(x=>R[x.value.outlet]=x),R}class hn extends hr{constructor(R,x){super(R),this.snapshot=x,ir(this,R)}toString(){return this.snapshot.toString()}}function _n(E,R){const x=function mn(E,R){const Ne=new Fr([],{},{},"",{},Ft,R,null,{});return new Pi("",new gt(Ne,[]))}(0,R),N=new W.X([new Zn("",{})]),ne=new W.X({}),Me=new W.X({}),Ne=new W.X({}),Ut=new W.X(""),Wt=new Pn(N,ne,Ne,Ut,Me,Ft,R,x.root);return Wt.snapshot=x.root,new hn(new gt(Wt,[]),x)}class Pn{constructor(R,x,N,ne,Me,Ne,Ut,Wt){this.urlSubject=R,this.paramsSubject=x,this.queryParamsSubject=N,this.fragmentSubject=ne,this.dataSubject=Me,this.outlet=Ne,this.component=Ut,this._futureSnapshot=Wt,this.title=this.dataSubject?.pipe((0,we.U)(In=>In[Je]))??(0,ae.of)(void 0),this.url=R,this.params=x,this.queryParams=N,this.fragment=ne,this.data=Me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,we.U)(R=>Rt(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,we.U)(R=>Rt(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ai(E,R="emptyOnly"){const x=E.pathFromRoot;let N=0;if("always"!==R)for(N=x.length-1;N>=1;){const ne=x[N],Me=x[N-1];if(ne.routeConfig&&""===ne.routeConfig.path)N--;else{if(Me.component)break;N--}}return function bi(E){return E.reduce((R,x)=>({params:{...R.params,...x.params},data:{...R.data,...x.data},resolve:{...x.data,...R.resolve,...x.routeConfig?.data,...x._resolvedData}}),{params:{},data:{},resolve:{}})}(x.slice(N))}class Fr{get title(){return this.data?.[Je]}constructor(R,x,N,ne,Me,Ne,Ut,Wt,In){this.url=R,this.params=x,this.queryParams=N,this.fragment=ne,this.data=Me,this.outlet=Ne,this.component=Ut,this.routeConfig=Wt,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pi extends hr{constructor(R,x){super(x),this.url=R,ir(this,x)}toString(){return Wi(this._root)}}function ir(E,R){R.value._routerState=E,R.children.forEach(x=>ir(E,x))}function Wi(E){const R=E.children.length>0?` { ${E.children.map(Wi).join(", ")} } `:"";return`${E.value}${R}`}function ho(E){if(E.snapshot){const R=E.snapshot,x=E._futureSnapshot;E.snapshot=x,ft(R.queryParams,x.queryParams)||E.queryParamsSubject.next(x.queryParams),R.fragment!==x.fragment&&E.fragmentSubject.next(x.fragment),ft(R.params,x.params)||E.paramsSubject.next(x.params),function nt(E,R){if(E.length!==R.length)return!1;for(let x=0;x<E.length;++x)if(!ft(E[x],R[x]))return!1;return!0}(R.url,x.url)||E.urlSubject.next(x.url),ft(R.data,x.data)||E.dataSubject.next(x.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function Co(E,R){const x=ft(E.params,R.params)&&function ri(E,R){return En(E,R)&&E.every((x,N)=>ft(x.parameters,R[N].parameters))}(E.url,R.url);return x&&!(!E.parent!=!R.parent)&&(!E.parent||Co(E.parent,R.parent))}let ci=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(lr),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(x){if(x.name){const{firstChange:N,previousValue:ne}=x.name;if(N)return;this.isTrackedInParentContexts(ne)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ne)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(x){return this.parentContexts.getContext(x)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const x=this.parentContexts.getContext(this.name);x?.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,N){this.activated=x,this._activatedRoute=N,this.location.insert(x.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,N){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=x;const ne=this.location,Ne=x.snapshot.component,Ut=this.parentContexts.getOrCreateContext(this.name).children,Wt=new ns(x,Ut,ne.injector);this.activated=ne.createComponent(Ne,{index:ne.length,injector:Wt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275dir=l.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),E})();class ns{constructor(R,x,N){this.route=R,this.childContexts=x,this.parent=N}get(R,x){return R===Pn?this.route:R===lr?this.childContexts:this.parent.get(R,x)}}const Po=new l.OlP("");let Nr=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(x){this.unsubscribeFromRouteData(x),this.subscribeToRouteData(x)}unsubscribeFromRouteData(x){this.outletDataSubscriptions.get(x)?.unsubscribe(),this.outletDataSubscriptions.delete(x)}subscribeToRouteData(x){const{activatedRoute:N}=x,ne=(0,ye.a)([N.queryParams,N.params,N.data]).pipe((0,me.w)(([Me,Ne,Ut],Wt)=>(Ut={...Me,...Ne,...Ut},0===Wt?(0,ae.of)(Ut):Promise.resolve(Ut)))).subscribe(Me=>{if(!x.isActivated||!x.activatedComponentRef||x.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(x);const Ne=(0,l.qFp)(N.component);if(Ne)for(const{templateName:Ut}of Ne.inputs)x.activatedComponentRef.setInput(Ut,Me[Ut]);else this.unsubscribeFromRouteData(x)});this.outletDataSubscriptions.set(x,ne)}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac}),E})();function Ho(E,R,x){if(x&&E.shouldReuseRoute(R.value,x.value.snapshot)){const N=x.value;N._futureSnapshot=R.value;const ne=function Ds(E,R,x){return R.children.map(N=>{for(const ne of x.children)if(E.shouldReuseRoute(N.value,ne.value.snapshot))return Ho(E,N,ne);return Ho(E,N)})}(E,R,x);return new gt(N,ne)}{if(E.shouldAttach(R.value)){const Me=E.retrieve(R.value);if(null!==Me){const Ne=Me.route;return Ne.value._futureSnapshot=R.value,Ne.children=R.children.map(Ut=>Ho(E,Ut)),Ne}}const N=function Do(E){return new Pn(new W.X(E.url),new W.X(E.params),new W.X(E.queryParams),new W.X(E.fragment),new W.X(E.data),E.outlet,E.component,E)}(R.value),ne=R.children.map(Me=>Ho(E,Me));return new gt(N,ne)}}const Fo="ngNavigationCancelingError";function Os(E,R){const{redirectTo:x,navigationBehaviorOptions:N}=Y(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,ne=dr(!1,0,R);return ne.url=x,ne.navigationBehaviorOptions=N,ne}function dr(E,R,x){const N=new Error("NavigationCancelingError: "+(E||""));return N[Fo]=!0,N.cancellationCode=R,x&&(N.url=x),N}function or(E){return Yo(E)&&Y(E.url)}function Yo(E){return E&&E[Fo]}let go=(()=>{class E{}return E.\u0275fac=function(x){return new(x||E)},E.\u0275cmp=l.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(x,N){1&x&&l._UZ(0,"router-outlet")},dependencies:[ci],encapsulation:2}),E})();function No(E){const R=E.children&&E.children.map(No),x=R?{...E,children:R}:{...E};return!x.component&&!x.loadComponent&&(R||x.loadChildren)&&x.outlet&&x.outlet!==Ft&&(x.component=go),x}function Zi(E){return E.outlet||Ft}function fo(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let R=E.parent;R;R=R.parent){const x=R.routeConfig;if(x?._loadedInjector)return x._loadedInjector;if(x?._injector)return x._injector}return null}class Gi{constructor(R,x,N,ne,Me){this.routeReuseStrategy=R,this.futureState=x,this.currState=N,this.forwardEvent=ne,this.inputBindingEnabled=Me}activate(R){const x=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,N,R),ho(this.futureState.root),this.activateChildRoutes(x,N,R)}deactivateChildRoutes(R,x,N){const ne=jt(x);R.children.forEach(Me=>{const Ne=Me.value.outlet;this.deactivateRoutes(Me,ne[Ne],N),delete ne[Ne]}),Object.values(ne).forEach(Me=>{this.deactivateRouteAndItsChildren(Me,N)})}deactivateRoutes(R,x,N){const ne=R.value,Me=x?x.value:null;if(ne===Me)if(ne.component){const Ne=N.getContext(ne.outlet);Ne&&this.deactivateChildRoutes(R,x,Ne.children)}else this.deactivateChildRoutes(R,x,N);else Me&&this.deactivateRouteAndItsChildren(x,N)}deactivateRouteAndItsChildren(R,x){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,x):this.deactivateRouteAndOutlet(R,x)}detachAndStoreRouteSubtree(R,x){const N=x.getContext(R.value.outlet),ne=N&&R.value.component?N.children:x,Me=jt(R);for(const Ne of Object.keys(Me))this.deactivateRouteAndItsChildren(Me[Ne],ne);if(N&&N.outlet){const Ne=N.outlet.detach(),Ut=N.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ne,route:R,contexts:Ut})}}deactivateRouteAndOutlet(R,x){const N=x.getContext(R.value.outlet),ne=N&&R.value.component?N.children:x,Me=jt(R);for(const Ne of Object.keys(Me))this.deactivateRouteAndItsChildren(Me[Ne],ne);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(R,x,N){const ne=jt(x);R.children.forEach(Me=>{this.activateRoutes(Me,ne[Me.value.outlet],N),this.forwardEvent(new us(Me.value.snapshot))}),R.children.length&&this.forwardEvent(new Cr(R.value.snapshot))}activateRoutes(R,x,N){const ne=R.value,Me=x?x.value:null;if(ho(ne),ne===Me)if(ne.component){const Ne=N.getOrCreateContext(ne.outlet);this.activateChildRoutes(R,x,Ne.children)}else this.activateChildRoutes(R,x,N);else if(ne.component){const Ne=N.getOrCreateContext(ne.outlet);if(this.routeReuseStrategy.shouldAttach(ne.snapshot)){const Ut=this.routeReuseStrategy.retrieve(ne.snapshot);this.routeReuseStrategy.store(ne.snapshot,null),Ne.children.onOutletReAttached(Ut.contexts),Ne.attachRef=Ut.componentRef,Ne.route=Ut.route.value,Ne.outlet&&Ne.outlet.attach(Ut.componentRef,Ut.route.value),ho(Ut.route.value),this.activateChildRoutes(R,null,Ne.children)}else{const Ut=fo(ne.snapshot);Ne.attachRef=null,Ne.route=ne,Ne.injector=Ut,Ne.outlet&&Ne.outlet.activateWith(ne,Ne.injector),this.activateChildRoutes(R,null,Ne.children)}}else this.activateChildRoutes(R,null,N)}}class Lo{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class _o{constructor(R,x){this.component=R,this.route=x}}function Us(E,R,x){const N=E._root;return tt(N,R?R._root:null,x,[N.value])}function fs(E,R){const x=Symbol(),N=R.get(E,x);return N===x?"function"!=typeof E||(0,l.Z0I)(E)?R.get(E):E:N}function tt(E,R,x,N,ne={canDeactivateChecks:[],canActivateChecks:[]}){const Me=jt(R);return E.children.forEach(Ne=>{(function it(E,R,x,N,ne={canDeactivateChecks:[],canActivateChecks:[]}){const Me=E.value,Ne=R?R.value:null,Ut=x?x.getContext(E.value.outlet):null;if(Ne&&Me.routeConfig===Ne.routeConfig){const Wt=function q(E,R,x){if("function"==typeof x)return x(E,R);switch(x){case"pathParamsChange":return!En(E.url,R.url);case"pathParamsOrQueryParamsChange":return!En(E.url,R.url)||!ft(E.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Co(E,R)||!ft(E.queryParams,R.queryParams);default:return!Co(E,R)}}(Ne,Me,Me.routeConfig.runGuardsAndResolvers);Wt?ne.canActivateChecks.push(new Lo(N)):(Me.data=Ne.data,Me._resolvedData=Ne._resolvedData),tt(E,R,Me.component?Ut?Ut.children:null:x,N,ne),Wt&&Ut&&Ut.outlet&&Ut.outlet.isActivated&&ne.canDeactivateChecks.push(new _o(Ut.outlet.component,Ne))}else Ne&&st(R,Ut,ne),ne.canActivateChecks.push(new Lo(N)),tt(E,null,Me.component?Ut?Ut.children:null:x,N,ne)})(Ne,Me[Ne.value.outlet],x,N.concat([Ne.value]),ne),delete Me[Ne.value.outlet]}),Object.entries(Me).forEach(([Ne,Ut])=>st(Ut,x.getContext(Ne),ne)),ne}function st(E,R,x){const N=jt(E),ne=E.value;Object.entries(N).forEach(([Me,Ne])=>{st(Ne,ne.component?R?R.children.getContext(Me):null:R,x)}),x.canDeactivateChecks.push(new _o(ne.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,ne))}function ln(E){return"function"==typeof E}function b(E){return E instanceof Se.K||"EmptyError"===E?.name}const D=Symbol("INITIAL_VALUE");function ie(){return(0,me.w)(E=>(0,ye.a)(E.map(R=>R.pipe((0,ge.q)(1),(0,Ve.O)(D)))).pipe((0,we.U)(R=>{for(const x of R)if(!0!==x){if(x===D)return D;if(!1===x||x instanceof qt)return x}return!0}),(0,Z.h)(R=>R!==D),(0,ge.q)(1)))}function Or(E){return(0,pe.z)((0,Ct.b)(R=>{if(Y(R))throw Os(0,R)}),(0,we.U)(R=>!0===R))}class Ni{constructor(R){this.segmentGroup=R||null}}class pr{constructor(R){this.urlTree=R}}function fi(E){return(0,Le._)(new Ni(E))}function vo(E){return(0,Le._)(new pr(E))}class Pr{constructor(R,x){this.urlSerializer=R,this.urlTree=x}noMatchError(R){return new l.vHH(4002,!1)}lineralizeSegments(R,x){let N=[],ne=x.root;for(;;){if(N=N.concat(ne.segments),0===ne.numberOfChildren)return(0,ae.of)(N);if(ne.numberOfChildren>1||!ne.children[Ft])return(0,Le._)(new l.vHH(4e3,!1));ne=ne.children[Ft]}}applyRedirectCommands(R,x,N){return this.applyRedirectCreateUrlTree(x,this.urlSerializer.parse(x),R,N)}applyRedirectCreateUrlTree(R,x,N,ne){const Me=this.createSegmentGroup(R,x.root,N,ne);return new qt(Me,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(R,x){const N={};return Object.entries(R).forEach(([ne,Me])=>{if("string"==typeof Me&&Me.startsWith(":")){const Ut=Me.substring(1);N[ne]=x[Ut]}else N[ne]=Me}),N}createSegmentGroup(R,x,N,ne){const Me=this.createSegments(R,x.segments,N,ne);let Ne={};return Object.entries(x.children).forEach(([Ut,Wt])=>{Ne[Ut]=this.createSegmentGroup(R,Wt,N,ne)}),new cn(Me,Ne)}createSegments(R,x,N,ne){return x.map(Me=>Me.path.startsWith(":")?this.findPosParam(R,Me,ne):this.findOrReturn(Me,N))}findPosParam(R,x,N){const ne=N[x.path.substring(1)];if(!ne)throw new l.vHH(4001,!1);return ne}findOrReturn(R,x){let N=0;for(const ne of x){if(ne.path===R.path)return x.splice(N),ne;N++}return R}}const To={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qo(E,R,x,N,ne){const Me=Is(E,R,x);return Me.matched?(N=function ki(E,R){return E.providers&&!E._injector&&(E._injector=(0,l.MMx)(E.providers,R,`Route: ${E.path}`)),E._injector??R}(R,N),function fr(E,R,x,N){const ne=R.canMatch;if(!ne||0===ne.length)return(0,ae.of)(!0);const Me=ne.map(Ne=>{const Ut=fs(Ne,E);return De(function mr(E){return E&&ln(E.canMatch)}(Ut)?Ut.canMatch(R,x):E.runInContext(()=>Ut(R,x)))});return(0,ae.of)(Me).pipe(ie(),Or())}(N,R,x).pipe((0,we.U)(Ne=>!0===Ne?Me:{...To}))):(0,ae.of)(Me)}function Is(E,R,x){if(""===R.path)return"full"===R.pathMatch&&(E.hasChildren()||x.length>0)?{...To}:{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const ne=(R.matcher||Et)(x,E,R);if(!ne)return{...To};const Me={};Object.entries(ne.posParams??{}).forEach(([Ut,Wt])=>{Me[Ut]=Wt.path});const Ne=ne.consumed.length>0?{...Me,...ne.consumed[ne.consumed.length-1].parameters}:Me;return{matched:!0,consumedSegments:ne.consumed,remainingSegments:x.slice(ne.consumed.length),parameters:Ne,positionalParamSegments:ne.posParams??{}}}function Rs(E,R,x,N){return x.length>0&&function ea(E,R,x){return x.some(N=>qr(E,R,N)&&Zi(N)!==Ft)}(E,x,N)?{segmentGroup:new cn(R,aa(N,new cn(x,E.children))),slicedSegments:[]}:0===x.length&&function ga(E,R,x){return x.some(N=>qr(E,R,N))}(E,x,N)?{segmentGroup:new cn(E.segments,ps(E,0,x,N,E.children)),slicedSegments:x}:{segmentGroup:new cn(E.segments,E.children),slicedSegments:x}}function ps(E,R,x,N,ne){const Me={};for(const Ne of N)if(qr(E,x,Ne)&&!ne[Zi(Ne)]){const Ut=new cn([],{});Me[Zi(Ne)]=Ut}return{...ne,...Me}}function aa(E,R){const x={};x[Ft]=R;for(const N of E)if(""===N.path&&Zi(N)!==Ft){const ne=new cn([],{});x[Zi(N)]=ne}return x}function qr(E,R,x){return(!(E.hasChildren()||R.length>0)||"full"!==x.pathMatch)&&""===x.path}class _a{constructor(R,x,N,ne,Me,Ne,Ut){this.injector=R,this.configLoader=x,this.rootComponentType=N,this.config=ne,this.urlTree=Me,this.paramsInheritanceStrategy=Ne,this.urlSerializer=Ut,this.allowRedirects=!0,this.applyRedirects=new Pr(this.urlSerializer,this.urlTree)}noMatchError(R){return new l.vHH(4002,!1)}recognize(){const R=Rs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Ft).pipe((0,yn.K)(x=>{if(x instanceof pr)return this.allowRedirects=!1,this.urlTree=x.urlTree,this.match(x.urlTree);throw x instanceof Ni?this.noMatchError(x):x}),(0,we.U)(x=>{const N=new Fr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,{}),ne=new gt(N,x),Me=new Pi("",ne),Ne=function Ie(E,R,x=null,N=null){return Vt(yt(E),R,x,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Ne.queryParams=this.urlTree.queryParams,Me.url=this.urlSerializer.serialize(Ne),this.inheritParamsAndData(Me._root),{state:Me,tree:Ne}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Ft).pipe((0,yn.K)(N=>{throw N instanceof Ni?this.noMatchError(N):N}))}inheritParamsAndData(R){const x=R.value,N=ai(x,this.paramsInheritanceStrategy);x.params=Object.freeze(N.params),x.data=Object.freeze(N.data),R.children.forEach(ne=>this.inheritParamsAndData(ne))}processSegmentGroup(R,x,N,ne){return 0===N.segments.length&&N.hasChildren()?this.processChildren(R,x,N):this.processSegment(R,x,N,N.segments,ne,!0)}processChildren(R,x,N){const ne=[];for(const Me of Object.keys(N.children))"primary"===Me?ne.unshift(Me):ne.push(Me);return(0,B.D)(ne).pipe((0,Xe.b)(Me=>{const Ne=N.children[Me],Ut=function Tr(E,R){const x=E.filter(N=>Zi(N)===R);return x.push(...E.filter(N=>Zi(N)!==R)),x}(x,Me);return this.processSegmentGroup(R,Ut,Ne,Me)}),(0,An.R)((Me,Ne)=>(Me.push(...Ne),Me)),(0,vt.d)(null),function en(E,R){const x=arguments.length>=2;return N=>N.pipe(E?(0,Z.h)((ne,Me)=>E(ne,Me,N)):Ht.y,bt(1),x?(0,vt.d)(R):(0,Bt.T)(()=>new Se.K))}(),(0,qe.z)(Me=>{if(null===Me)return fi(N);const Ne=ca(Me);return function va(E){E.sort((R,x)=>R.value.outlet===Ft?-1:x.value.outlet===Ft?1:R.value.outlet.localeCompare(x.value.outlet))}(Ne),(0,ae.of)(Ne)}))}processSegment(R,x,N,ne,Me,Ne){return(0,B.D)(x).pipe((0,Xe.b)(Ut=>this.processSegmentAgainstRoute(Ut._injector??R,x,Ut,N,ne,Me,Ne).pipe((0,yn.K)(Wt=>{if(Wt instanceof Ni)return(0,ae.of)(null);throw Wt}))),(0,je.P)(Ut=>!!Ut),(0,yn.K)(Ut=>{if(b(Ut))return function Fs(E,R,x){return 0===R.length&&!E.children[x]}(N,ne,Me)?(0,ae.of)([]):fi(N);throw Ut}))}processSegmentAgainstRoute(R,x,N,ne,Me,Ne,Ut){return function Ps(E,R,x,N){return!!(Zi(E)===N||N!==Ft&&qr(R,x,E))&&("**"===E.path||Is(R,E,x).matched)}(N,ne,Me,Ne)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(R,ne,N,Me,Ne,Ut):Ut&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,ne,x,N,Me,Ne):fi(ne):fi(ne)}expandSegmentAgainstRouteUsingRedirect(R,x,N,ne,Me,Ne){return"**"===ne.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,N,ne,Ne):this.expandRegularSegmentAgainstRouteUsingRedirect(R,x,N,ne,Me,Ne)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,x,N,ne){const Me=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?vo(Me):this.applyRedirects.lineralizeSegments(N,Me).pipe((0,qe.z)(Ne=>{const Ut=new cn(Ne,{});return this.processSegment(R,x,Ut,Ne,ne,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,x,N,ne,Me,Ne){const{matched:Ut,consumedSegments:Wt,remainingSegments:In,positionalParamSegments:xn}=Is(x,ne,Me);if(!Ut)return fi(x);const si=this.applyRedirects.applyRedirectCommands(Wt,ne.redirectTo,xn);return ne.redirectTo.startsWith("/")?vo(si):this.applyRedirects.lineralizeSegments(ne,si).pipe((0,qe.z)(qi=>this.processSegment(R,N,x,qi.concat(In),Ne,!1)))}matchSegmentAgainstRoute(R,x,N,ne,Me,Ne){let Ut;if("**"===N.path){const Wt=ne.length>0?Ce(ne).parameters:{},In=new Fr(ne,Wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ia(N),Zi(N),N.component??N._loadedComponent??null,N,na(N));Ut=(0,ae.of)({snapshot:In,consumedSegments:[],remainingSegments:[]}),x.children={}}else Ut=Qo(x,N,ne,R).pipe((0,we.U)(({matched:Wt,consumedSegments:In,remainingSegments:xn,parameters:si})=>Wt?{snapshot:new Fr(In,si,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ia(N),Zi(N),N.component??N._loadedComponent??null,N,na(N)),consumedSegments:In,remainingSegments:xn}:null));return Ut.pipe((0,me.w)(Wt=>null===Wt?fi(x):this.getChildConfig(R=N._injector??R,N,ne).pipe((0,me.w)(({routes:In})=>{const xn=N._loadedInjector??R,{snapshot:si,consumedSegments:qi,remainingSegments:ys}=Wt,{segmentGroup:Br,slicedSegments:Xo}=Rs(x,qi,ys,In);if(0===Xo.length&&Br.hasChildren())return this.processChildren(xn,In,Br).pipe((0,we.U)(ws=>null===ws?null:[new gt(si,ws)]));if(0===In.length&&0===Xo.length)return(0,ae.of)([new gt(si,[])]);const Lt=Zi(N)===Me;return this.processSegment(xn,In,Br,Xo,Lt?Ft:Me,!0).pipe((0,we.U)(ws=>[new gt(si,ws)]))}))))}getChildConfig(R,x,N){return x.children?(0,ae.of)({routes:x.children,injector:R}):x.loadChildren?void 0!==x._loadedRoutes?(0,ae.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):function yr(E,R,x,N){const ne=R.canLoad;if(void 0===ne||0===ne.length)return(0,ae.of)(!0);const Me=ne.map(Ne=>{const Ut=fs(Ne,E);return De(function Fi(E){return E&&ln(E.canLoad)}(Ut)?Ut.canLoad(R,x):E.runInContext(()=>Ut(R,x)))});return(0,ae.of)(Me).pipe(ie(),Or())}(R,x,N).pipe((0,qe.z)(ne=>ne?this.configLoader.loadChildren(R,x).pipe((0,Ct.b)(Me=>{x._loadedRoutes=Me.routes,x._loadedInjector=Me.injector})):function Mr(E){return(0,Le._)(dr(!1,3))}())):(0,ae.of)({routes:[],injector:R})}}function ta(E){const R=E.value.routeConfig;return R&&""===R.path}function ca(E){const R=[],x=new Set;for(const N of E){if(!ta(N)){R.push(N);continue}const ne=R.find(Me=>N.value.routeConfig===Me.value.routeConfig);void 0!==ne?(ne.children.push(...N.children),x.add(ne)):R.push(N)}for(const N of x){const ne=ca(N.children);R.push(new gt(N.value,ne))}return R.filter(N=>!x.has(N))}function Ia(E){return E.data||{}}function na(E){return E.resolve||{}}function Vs(E){return"string"==typeof E.title||null===E.title}function tr(E){return(0,me.w)(R=>{const x=E(R);return x?(0,B.D)(x).pipe((0,we.U)(()=>R)):(0,ae.of)(R)})}const ro=new l.OlP("ROUTES");let Ks=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(x){if(this.componentLoaders.get(x))return this.componentLoaders.get(x);if(x._loadedComponent)return(0,ae.of)(x._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(x);const N=De(x.loadComponent()).pipe((0,we.U)(la),(0,Ct.b)(Me=>{this.onLoadEndListener&&this.onLoadEndListener(x),x._loadedComponent=Me}),(0,sn.x)(()=>{this.componentLoaders.delete(x)})),ne=new ke(N,()=>new wt.x).pipe($e());return this.componentLoaders.set(x,ne),ne}loadChildren(x,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const Me=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,we.U)(Ut=>{this.onLoadEndListener&&this.onLoadEndListener(N);let Wt,In;return Array.isArray(Ut)?In=Ut:(Wt=Ut.create(x).injector,In=Wt.get(ro,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:In.map(No),injector:Wt}}),(0,sn.x)(()=>{this.childrenLoaders.delete(N)})),Ne=new ke(Me,()=>new wt.x).pipe($e());return this.childrenLoaders.set(N,Ne),Ne}loadModuleFactoryOrRoutes(x){return De(x()).pipe((0,we.U)(la),(0,qe.z)(N=>N instanceof l.YKP||Array.isArray(N)?(0,ae.of)(N):(0,B.D)(this.compiler.compileModuleAsync(N))))}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function la(E){return function Ti(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let P=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new wt.x,this.configLoader=(0,l.f3M)(Ks),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Hn),this.rootContexts=(0,l.f3M)(lr),this.inputBindingEnabled=null!==(0,l.f3M)(Po,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ne=>this.events.next(new jo(ne)),this.configLoader.onLoadStartListener=ne=>this.events.next(new no(ne))}complete(){this.transitions?.complete()}handleNavigationRequest(x){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...x,id:N})}setupNavigations(x){return this.transitions=new W.X({id:0,currentUrlTree:x.currentUrlTree,currentRawUrl:x.currentUrlTree,extractedUrl:x.urlHandlingStrategy.extract(x.currentUrlTree),urlAfterRedirects:x.urlHandlingStrategy.extract(x.currentUrlTree),rawUrl:x.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zr,restoredState:null,currentSnapshot:x.routerState.snapshot,targetSnapshot:null,currentRouterState:x.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Z.h)(N=>0!==N.id),(0,we.U)(N=>({...N,extractedUrl:x.urlHandlingStrategy.extract(N.rawUrl)})),(0,me.w)(N=>{let ne=!1,Me=!1;return(0,ae.of)(N).pipe((0,Ct.b)(Ne=>{this.currentNavigation={id:Ne.id,initialUrl:Ne.rawUrl,extractedUrl:Ne.extractedUrl,trigger:Ne.source,extras:Ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,me.w)(Ne=>{const Ut=x.browserUrlTree.toString(),Wt=!x.navigated||Ne.extractedUrl.toString()!==Ut||Ut!==x.currentUrlTree.toString();if(!Wt&&"reload"!==(Ne.extras.onSameUrlNavigation??x.onSameUrlNavigation)){const xn="";return this.events.next(new po(Ne.id,x.serializeUrl(N.rawUrl),xn,0)),x.rawUrlTree=Ne.rawUrl,Ne.resolve(null),Pe.E}if(x.urlHandlingStrategy.shouldProcessUrl(Ne.rawUrl))return ee(Ne.source)&&(x.browserUrlTree=Ne.extractedUrl),(0,ae.of)(Ne).pipe((0,me.w)(xn=>{const si=this.transitions?.getValue();return this.events.next(new to(xn.id,this.urlSerializer.serialize(xn.extractedUrl),xn.source,xn.restoredState)),si!==this.transitions?.getValue()?Pe.E:Promise.resolve(xn)}),function ba(E,R,x,N,ne,Me){return(0,qe.z)(Ne=>function Oa(E,R,x,N,ne,Me,Ne="emptyOnly"){return new _a(E,R,x,N,ne,Ne,Me).recognize()}(E,R,x,N,Ne.extractedUrl,ne,Me).pipe((0,we.U)(({state:Ut,tree:Wt})=>({...Ne,targetSnapshot:Ut,urlAfterRedirects:Wt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,x.config,this.urlSerializer,x.paramsInheritanceStrategy),(0,Ct.b)(xn=>{if(N.targetSnapshot=xn.targetSnapshot,N.urlAfterRedirects=xn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xn.urlAfterRedirects},"eager"===x.urlUpdateStrategy){if(!xn.extras.skipLocationChange){const qi=x.urlHandlingStrategy.merge(xn.urlAfterRedirects,xn.rawUrl);x.setBrowserUrl(qi,xn)}x.browserUrlTree=xn.urlAfterRedirects}const si=new er(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(si)}));if(Wt&&x.urlHandlingStrategy.shouldProcessUrl(x.rawUrlTree)){const{id:xn,extractedUrl:si,source:qi,restoredState:ys,extras:Br}=Ne,Xo=new to(xn,this.urlSerializer.serialize(si),qi,ys);this.events.next(Xo);const Lt=_n(0,this.rootComponentType).snapshot;return N={...Ne,targetSnapshot:Lt,urlAfterRedirects:si,extras:{...Br,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(N)}{const xn="";return this.events.next(new po(Ne.id,x.serializeUrl(N.extractedUrl),xn,1)),x.rawUrlTree=Ne.rawUrl,Ne.resolve(null),Pe.E}}),(0,Ct.b)(Ne=>{const Ut=new uo(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(Ut)}),(0,we.U)(Ne=>N={...Ne,guards:Us(Ne.targetSnapshot,Ne.currentSnapshot,this.rootContexts)}),function Oe(E,R){return(0,qe.z)(x=>{const{targetSnapshot:N,currentSnapshot:ne,guards:{canActivateChecks:Me,canDeactivateChecks:Ne}}=x;return 0===Ne.length&&0===Me.length?(0,ae.of)({...x,guardsResult:!0}):function _t(E,R,x,N){return(0,B.D)(E).pipe((0,qe.z)(ne=>function Ai(E,R,x,N,ne){const Me=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!Me||0===Me.length)return(0,ae.of)(!0);const Ne=Me.map(Ut=>{const Wt=fo(R)??ne,In=fs(Ut,Wt);return De(function io(E){return E&&ln(E.canDeactivate)}(In)?In.canDeactivate(E,R,x,N):Wt.runInContext(()=>In(E,R,x,N))).pipe((0,je.P)())});return(0,ae.of)(Ne).pipe(ie())}(ne.component,ne.route,x,R,N)),(0,je.P)(ne=>!0!==ne,!0))}(Ne,N,ne,E).pipe((0,qe.z)(Ut=>Ut&&function On(E){return"boolean"==typeof E}(Ut)?function $t(E,R,x,N){return(0,B.D)(R).pipe((0,Xe.b)(ne=>(0,oe.z)(function Kn(E,R){return null!==E&&R&&R(new Hr(E)),(0,ae.of)(!0)}(ne.route.parent,N),function Tn(E,R){return null!==E&&R&&R(new Ro(E)),(0,ae.of)(!0)}(ne.route,N),function wi(E,R,x){const N=R[R.length-1],Me=R.slice(0,R.length-1).reverse().map(Ne=>function ms(E){const R=E.routeConfig?E.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:E,guards:R}:null}(Ne)).filter(Ne=>null!==Ne).map(Ne=>(0,ue.P)(()=>{const Ut=Ne.guards.map(Wt=>{const In=fo(Ne.node)??x,xn=fs(Wt,In);return De(function Ar(E){return E&&ln(E.canActivateChild)}(xn)?xn.canActivateChild(N,E):In.runInContext(()=>xn(N,E))).pipe((0,je.P)())});return(0,ae.of)(Ut).pipe(ie())}));return(0,ae.of)(Me).pipe(ie())}(E,ne.path,x),function $n(E,R,x){const N=R.routeConfig?R.routeConfig.canActivate:null;if(!N||0===N.length)return(0,ae.of)(!0);const ne=N.map(Me=>(0,ue.P)(()=>{const Ne=fo(R)??x,Ut=fs(Me,Ne);return De(function kr(E){return E&&ln(E.canActivate)}(Ut)?Ut.canActivate(R,E):Ne.runInContext(()=>Ut(R,E))).pipe((0,je.P)())}));return(0,ae.of)(ne).pipe(ie())}(E,ne.route,x))),(0,je.P)(ne=>!0!==ne,!0))}(N,Me,E,R):(0,ae.of)(Ut)),(0,we.U)(Ut=>({...x,guardsResult:Ut})))})}(this.environmentInjector,Ne=>this.events.next(Ne)),(0,Ct.b)(Ne=>{if(N.guardsResult=Ne.guardsResult,Y(Ne.guardsResult))throw Os(0,Ne.guardsResult);const Ut=new jr(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot,!!Ne.guardsResult);this.events.next(Ut)}),(0,Z.h)(Ne=>!!Ne.guardsResult||(x.restoreHistory(Ne),this.cancelNavigationTransition(Ne,"",3),!1)),tr(Ne=>{if(Ne.guards.canActivateChecks.length)return(0,ae.of)(Ne).pipe((0,Ct.b)(Ut=>{const Wt=new xo(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot);this.events.next(Wt)}),(0,me.w)(Ut=>{let Wt=!1;return(0,ae.of)(Ut).pipe(function Ra(E,R){return(0,qe.z)(x=>{const{targetSnapshot:N,guards:{canActivateChecks:ne}}=x;if(!ne.length)return(0,ae.of)(x);let Me=0;return(0,B.D)(ne).pipe((0,Xe.b)(Ne=>function Ws(E,R,x,N){const ne=E.routeConfig,Me=E._resolve;return void 0!==ne?.title&&!Vs(ne)&&(Me[Je]=ne.title),function _s(E,R,x,N){const ne=function vs(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===ne.length)return(0,ae.of)({});const Me={};return(0,B.D)(ne).pipe((0,qe.z)(Ne=>function Ta(E,R,x,N){const ne=fo(R)??N,Me=fs(E,ne);return De(Me.resolve?Me.resolve(R,x):ne.runInContext(()=>Me(R,x)))}(E[Ne],R,x,N).pipe((0,je.P)(),(0,Ct.b)(Ut=>{Me[Ne]=Ut}))),bt(1),(0,Yt.h)(Me),(0,yn.K)(Ne=>b(Ne)?Pe.E:(0,Le._)(Ne)))}(Me,E,R,N).pipe((0,we.U)(Ne=>(E._resolvedData=Ne,E.data=ai(E,x).resolve,ne&&Vs(ne)&&(E.data[Je]=ne.title),null)))}(Ne.route,N,E,R)),(0,Ct.b)(()=>Me++),bt(1),(0,qe.z)(Ne=>Me===ne.length?(0,ae.of)(x):Pe.E))})}(x.paramsInheritanceStrategy,this.environmentInjector),(0,Ct.b)({next:()=>Wt=!0,complete:()=>{Wt||(x.restoreHistory(Ut),this.cancelNavigationTransition(Ut,"",2))}}))}),(0,Ct.b)(Ut=>{const Wt=new Cs(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot);this.events.next(Wt)}))}),tr(Ne=>{const Ut=Wt=>{const In=[];Wt.routeConfig?.loadComponent&&!Wt.routeConfig._loadedComponent&&In.push(this.configLoader.loadComponent(Wt.routeConfig).pipe((0,Ct.b)(xn=>{Wt.component=xn}),(0,we.U)(()=>{})));for(const xn of Wt.children)In.push(...Ut(xn));return In};return(0,ye.a)(Ut(Ne.targetSnapshot.root)).pipe((0,vt.d)(),(0,ge.q)(1))}),tr(()=>this.afterPreactivation()),(0,we.U)(Ne=>{const Ut=function rr(E,R,x){const N=Ho(E,R._root,x?x._root:void 0);return new hn(N,R)}(x.routeReuseStrategy,Ne.targetSnapshot,Ne.currentRouterState);return N={...Ne,targetRouterState:Ut}}),(0,Ct.b)(Ne=>{x.currentUrlTree=Ne.urlAfterRedirects,x.rawUrlTree=x.urlHandlingStrategy.merge(Ne.urlAfterRedirects,Ne.rawUrl),x.routerState=Ne.targetRouterState,"deferred"===x.urlUpdateStrategy&&(Ne.extras.skipLocationChange||x.setBrowserUrl(x.rawUrlTree,Ne),x.browserUrlTree=Ne.urlAfterRedirects)}),((E,R,x,N)=>(0,we.U)(ne=>(new Gi(R,ne.targetRouterState,ne.currentRouterState,x,N).activate(E),ne)))(this.rootContexts,x.routeReuseStrategy,Ne=>this.events.next(Ne),this.inputBindingEnabled),(0,ge.q)(1),(0,Ct.b)({next:Ne=>{ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,x.navigated=!0,this.events.next(new Ri(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(x.currentUrlTree))),x.titleStrategy?.updateTitle(Ne.targetRouterState.snapshot),Ne.resolve(!0)},complete:()=>{ne=!0}}),(0,sn.x)(()=>{ne||Me||this.cancelNavigationTransition(N,"",1),this.currentNavigation?.id===N.id&&(this.currentNavigation=null)}),(0,yn.K)(Ne=>{if(Me=!0,Yo(Ne)){or(Ne)||(x.navigated=!0,x.restoreHistory(N,!0));const Ut=new Zo(N.id,this.urlSerializer.serialize(N.extractedUrl),Ne.message,Ne.cancellationCode);if(this.events.next(Ut),or(Ne)){const Wt=x.urlHandlingStrategy.merge(Ne.url,x.rawUrlTree),In={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===x.urlUpdateStrategy||ee(N.source)};x.scheduleNavigation(Wt,zr,null,In,{resolve:N.resolve,reject:N.reject,promise:N.promise})}else N.resolve(!1)}else{x.restoreHistory(N,!0);const Ut=new Yr(N.id,this.urlSerializer.serialize(N.extractedUrl),Ne,N.targetSnapshot??void 0);this.events.next(Ut);try{N.resolve(x.errorHandler(Ne))}catch(Wt){N.reject(Wt)}}return Pe.E}))}))}cancelNavigationTransition(x,N,ne){const Me=new Zo(x.id,this.urlSerializer.serialize(x.extractedUrl),N,ne);this.events.next(Me),x.resolve(!1)}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ee(E){return E!==zr}let V=(()=>{class E{buildTitle(x){let N,ne=x.root;for(;void 0!==ne;)N=this.getResolvedTitleForRoute(ne)??N,ne=ne.children.find(Me=>Me.outlet===Ft);return N}getResolvedTitleForRoute(x){return x.data[Je]}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:function(){return(0,l.f3M)(_e)},providedIn:"root"}),E})(),_e=(()=>{class E extends V{constructor(x){super(),this.title=x}updateTitle(x){const N=this.buildTitle(x);void 0!==N&&this.title.setTitle(N)}}return E.\u0275fac=function(x){return new(x||E)(l.LFG(on.Dx))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),rt=(()=>{class E{}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:function(){return(0,l.f3M)(fn)},providedIn:"root"}),E})();class tn{shouldDetach(R){return!1}store(R,x){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,x){return R.routeConfig===x.routeConfig}}let fn=(()=>{class E extends tn{}return E.\u0275fac=function(){let R;return function(N){return(R||(R=l.n5z(E)))(N||E)}}(),E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Yn=new l.OlP("",{providedIn:"root",factory:()=>({})});let Vi=(()=>{class E{}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:function(){return(0,l.f3M)(Di)},providedIn:"root"}),E})(),Di=(()=>{class E{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,N){return x}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();var Ci=(()=>((Ci=Ci||{})[Ci.COMPLETE=0]="COMPLETE",Ci[Ci.FAILED=1]="FAILED",Ci[Ci.REDIRECTING=2]="REDIRECTING",Ci))();function Ii(E,R){E.events.pipe((0,Z.h)(x=>x instanceof Ri||x instanceof Zo||x instanceof Yr||x instanceof po),(0,we.U)(x=>x instanceof Ri||x instanceof po?Ci.COMPLETE:x instanceof Zo&&(0===x.code||1===x.code)?Ci.REDIRECTING:Ci.FAILED),(0,Z.h)(x=>x!==Ci.REDIRECTING),(0,ge.q)(1)).subscribe(()=>{R()})}function sr(E){throw E}function Gn(E,R,x){return R.parse("/")}const Qr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Yn,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||sr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Gn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Vi),this.routeReuseStrategy=(0,l.f3M)(rt),this.titleStrategy=(0,l.f3M)(V),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(ro,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(P),this.urlSerializer=(0,l.f3M)(Hn),this.location=(0,l.f3M)(fe.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(Po,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_n(0,null),this.navigationTransitions.setupNavigations(this).subscribe(x=>{this.lastSuccessfulId=x.id,this.currentPageId=this.browserPageId??0},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}resetRootComponentType(x){this.routerState.root.component=x,this.navigationTransitions.rootComponentType=x}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const x=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zr,x)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const N="popstate"===x.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(x.url,N,x.state)},0)}))}navigateToSyncWithBrowser(x,N,ne){const Me={replaceUrl:!0},Ne=ne?.navigationId?ne:null;if(ne){const Wt={...ne};delete Wt.navigationId,delete Wt.\u0275routerPageId,0!==Object.keys(Wt).length&&(Me.state=Wt)}const Ut=this.parseUrl(x);this.scheduleNavigation(Ut,N,Ne,Me)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(x){this.config=x.map(No),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,N={}){const{relativeTo:ne,queryParams:Me,fragment:Ne,queryParamsHandling:Ut,preserveFragment:Wt}=N,In=Wt?this.currentUrlTree.fragment:Ne;let si,xn=null;switch(Ut){case"merge":xn={...this.currentUrlTree.queryParams,...Me};break;case"preserve":xn=this.currentUrlTree.queryParams;break;default:xn=Me||null}null!==xn&&(xn=this.removeEmptyProps(xn));try{si=yt(ne?ne.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof x[0]||!x[0].startsWith("/"))&&(x=[]),si=this.currentUrlTree.root}return Vt(si,x,xn,In??null)}navigateByUrl(x,N={skipLocationChange:!1}){const ne=Y(x)?x:this.parseUrl(x),Me=this.urlHandlingStrategy.merge(ne,this.rawUrlTree);return this.scheduleNavigation(Me,zr,null,N)}navigate(x,N={skipLocationChange:!1}){return function ya(E){for(let R=0;R<E.length;R++)if(null==E[R])throw new l.vHH(4008,!1)}(x),this.navigateByUrl(this.createUrlTree(x,N),N)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let N;try{N=this.urlSerializer.parse(x)}catch(ne){N=this.malformedUriErrorHandler(ne,this.urlSerializer,x)}return N}isActive(x,N){let ne;if(ne=!0===N?{...Qr}:!1===N?{...bs}:N,Y(x))return an(this.currentUrlTree,x,ne);const Me=this.parseUrl(x);return an(this.currentUrlTree,Me,ne)}removeEmptyProps(x){return Object.keys(x).reduce((N,ne)=>{const Me=x[ne];return null!=Me&&(N[ne]=Me),N},{})}scheduleNavigation(x,N,ne,Me,Ne){if(this.disposed)return Promise.resolve(!1);let Ut,Wt,In;Ne?(Ut=Ne.resolve,Wt=Ne.reject,In=Ne.promise):In=new Promise((si,qi)=>{Ut=si,Wt=qi});const xn=this.pendingTasks.add();return Ii(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(xn))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:ne,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:x,extras:Me,resolve:Ut,reject:Wt,promise:In,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),In.catch(si=>Promise.reject(si))}setBrowserUrl(x,N){const ne=this.urlSerializer.serialize(x);if(this.location.isCurrentPathEqualTo(ne)||N.extras.replaceUrl){const Ne={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(ne,"",Ne)}else{const Me={...N.extras.state,...this.generateNgRouterState(N.id,(this.browserPageId??0)+1)};this.location.go(ne,"",Me)}}restoreHistory(x,N=!1){if("computed"===this.canceledNavigationResolution){const Me=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Me?this.location.historyGo(Me):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Me&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(x,N){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:N}:{navigationId:x}}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Ts{}let bc=(()=>{class E{constructor(x,N,ne,Me,Ne){this.router=x,this.injector=ne,this.preloadingStrategy=Me,this.loader=Ne}setUpPreloading(){this.subscription=this.router.events.pipe((0,Z.h)(x=>x instanceof Ri),(0,Xe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,N){const ne=[];for(const Me of N){Me.providers&&!Me._injector&&(Me._injector=(0,l.MMx)(Me.providers,x,`Route: ${Me.path}`));const Ne=Me._injector??x,Ut=Me._loadedInjector??Ne;(Me.loadChildren&&!Me._loadedRoutes&&void 0===Me.canLoad||Me.loadComponent&&!Me._loadedComponent)&&ne.push(this.preloadConfig(Ne,Me)),(Me.children||Me._loadedRoutes)&&ne.push(this.processRoutes(Ut,Me.children??Me._loadedRoutes))}return(0,B.D)(ne).pipe((0,bn.J)())}preloadConfig(x,N){return this.preloadingStrategy.preload(N,()=>{let ne;ne=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(x,N):(0,ae.of)(null);const Me=ne.pipe((0,qe.z)(Ne=>null===Ne?(0,ae.of)(void 0):(N._loadedRoutes=Ne.routes,N._loadedInjector=Ne.injector,this.processRoutes(Ne.injector??x,Ne.routes))));if(N.loadComponent&&!N._loadedComponent){const Ne=this.loader.loadComponent(N);return(0,B.D)([Me,Ne]).pipe((0,bn.J)())}return Me})}}return E.\u0275fac=function(x){return new(x||E)(l.LFG($r),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ts),l.LFG(Ks))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Pa=new l.OlP("");let Cn=(()=>{class E{constructor(x,N,ne,Me,Ne={}){this.urlSerializer=x,this.transitions=N,this.viewportScroller=ne,this.zone=Me,this.options=Ne,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ne.scrollPositionRestoration=Ne.scrollPositionRestoration||"disabled",Ne.anchorScrolling=Ne.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof to?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof Ri?(this.lastId=x.id,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.urlAfterRedirects).fragment)):x instanceof po&&0===x.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof mi&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mi(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(x){l.$Z()},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac}),E})();function os(E,R){return{\u0275kind:E,\u0275providers:R}}function wr(){const E=(0,l.f3M)(l.zs3);return R=>{const x=E.get(l.z2F);if(R!==x.components[0])return;const N=E.get($r),ne=E.get(Ms);1===E.get(oo)&&N.initialNavigation(),E.get(U,null,l.XFs.Optional)?.setUpPreloading(),E.get(Pa,null,l.XFs.Optional)?.init(),N.resetRootComponentType(x.componentTypes[0]),ne.closed||(ne.next(),ne.complete(),ne.unsubscribe())}}const Ms=new l.OlP("",{factory:()=>new wt.x}),oo=new l.OlP("",{providedIn:"root",factory:()=>1}),U=new l.OlP("");function g(E){return os(0,[{provide:U,useExisting:bc},{provide:Ts,useExisting:E}])}const pt=new l.OlP("ROUTER_FORROOT_GUARD"),Qt=[fe.Ye,{provide:Hn,useClass:Ke},$r,lr,{provide:Pn,useFactory:function bo(E){return E.routerState.root},deps:[$r]},Ks,[]];function pn(){return new l.PXZ("Router",$r)}let Un=(()=>{class E{constructor(x){}static forRoot(x,N){return{ngModule:E,providers:[Qt,[],{provide:ro,multi:!0,useValue:x},{provide:pt,useFactory:ui,deps:[[$r,new l.FiY,new l.tp0]]},{provide:Yn,useValue:N||{}},N?.useHash?{provide:fe.S$,useClass:fe.Do}:{provide:fe.S$,useClass:fe.b0},{provide:Pa,useFactory:()=>{const E=(0,l.f3M)(fe.EM),R=(0,l.f3M)(l.R0b),x=(0,l.f3M)(Yn),N=(0,l.f3M)(P),ne=(0,l.f3M)(Hn);return x.scrollOffset&&E.setOffset(x.scrollOffset),new Cn(ne,N,E,R,x)}},N?.preloadingStrategy?g(N.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:pn},N?.initialNavigation?Fn(N):[],N?.bindToComponentInputs?os(8,[Nr,{provide:Po,useExisting:Nr}]).\u0275providers:[],[{provide:gr,useFactory:wr},{provide:l.tb,multi:!0,useExisting:gr}]]}}static forChild(x){return{ngModule:E,providers:[{provide:ro,multi:!0,useValue:x}]}}}return E.\u0275fac=function(x){return new(x||E)(l.LFG(pt,8))},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({}),E})();function ui(E){return"guarded"}function Fn(E){return["disabled"===E.initialNavigation?os(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const R=(0,l.f3M)($r);return()=>{R.setUpLocationChangeListener()}}},{provide:oo,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?os(2,[{provide:oo,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:R=>{const x=R.get(fe.V_,Promise.resolve());return()=>x.then(()=>new Promise(N=>{const ne=R.get($r),Me=R.get(Ms);Ii(ne,()=>{N(!0)}),R.get(P).afterPreactivation=()=>(N(!0),Me.closed?(0,ae.of)(void 0):Me),ne.initialNavigation()}))}}]).\u0275providers:[]]}const gr=new l.OlP("")},3942:(gn,ot,y)=>{y.d(ot,{Z:()=>et});var l=y(2090),C=y(4859),p=y(6881),X=y(1877);class B{constructor(Ye,$e){this._delegate=Ye,this.firebase=$e,(0,p._addComponent)(Ye,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,p.deleteApp)(this._delegate)))}_getService(Ye,$e=p._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(Ye);return!wt.isInitialized()&&"EXPLICIT"===(null===(ke=wt.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:$e})}_removeServiceInstance(Ye,$e=p._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance($e)}_addComponent(Ye){(0,p._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,p._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function Se(){const We=function ye(We){const Ye={},$e={__esModule:!0,initializeApp:function fe(Ve,Z={}){const qe=p.initializeApp(Ve,Z);if((0,l.r3)(Ye,qe.name))return Ye[qe.name];const je=new We(qe,$e);return Ye[qe.name]=je,je},app:wt,registerVersion:p.registerVersion,setLogLevel:p.setLogLevel,onLog:p.onLog,apps:null,SDK_VERSION:p.SDK_VERSION,INTERNAL:{registerComponent:function me(Ve){const Z=Ve.name,qe=Z.replace("-compat","");if(p._registerComponent(Ve)&&"PUBLIC"===Ve.type){const je=(Xe=wt())=>{if("function"!=typeof Xe[qe])throw W.create("invalid-app-argument",{appName:Z});return Xe[qe]()};void 0!==Ve.serviceProps&&(0,l.ZB)(je,Ve.serviceProps),$e[qe]=je,We.prototype[qe]=function(...Xe){return this._getService.bind(this,Z).apply(this,Ve.multipleInstances?Xe:[])}}return"PUBLIC"===Ve.type?$e[qe]:null},removeApp:function ke(Ve){delete Ye[Ve]},useAsService:function ge(Ve,Z){return"serverAuth"===Z?null:Z},modularAPIs:p}};function wt(Ve){if(!(0,l.r3)(Ye,Ve=Ve||p._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:Ve});return Ye[Ve]}return $e.default=$e,Object.defineProperty($e,"apps",{get:function we(){return Object.keys(Ye).map(Ve=>Ye[Ve])}}),wt.App=We,$e}(B);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function Ye($e){(0,l.ZB)(We,$e)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),We}(),ue=new X.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=oe;!function Pe(We){(0,p.registerVersion)("@firebase/app-compat","0.2.12",We)}()},6881:(gn,ot,y)=>{y.r(ot),y.d(ot,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>hi,_DEFAULT_ENTRY_NAME:()=>ht,_addComponent:()=>Zn,_addOrOverwriteComponent:()=>ri,_apps:()=>qt,_clearComponents:()=>Ke,_components:()=>cn,_getProvider:()=>dn,_registerComponent:()=>En,_removeServiceInstance:()=>Hn,deleteApp:()=>lt,getApp:()=>gi,getApps:()=>Xt,initializeApp:()=>Ei,onLog:()=>He,registerVersion:()=>Ze,setLogLevel:()=>Re});var l=y(5861),C=y(4859),p=y(1877),X=y(2090);const B=(Pt,St)=>St.some(wn=>Pt instanceof wn);let ae,W;const oe=new WeakMap,ue=new WeakMap,pe=new WeakMap,Le=new WeakMap,Pe=new WeakMap;let Ye={get(Pt,St,wn){if(Pt instanceof IDBTransaction){if("done"===St)return ue.get(Pt);if("objectStoreNames"===St)return Pt.objectStoreNames||pe.get(Pt);if("store"===St)return wn.objectStoreNames[1]?void 0:wn.objectStore(wn.objectStoreNames[0])}return fe(Pt[St])},set:(Pt,St,wn)=>(Pt[St]=wn,!0),has:(Pt,St)=>Pt instanceof IDBTransaction&&("done"===St||"store"===St)||St in Pt};function wt(Pt){return"function"==typeof Pt?function ke(Pt){return Pt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pt)?function(...St){return Pt.apply(we(this),St),fe(oe.get(this))}:function(...St){return fe(Pt.apply(we(this),St))}:function(St,...wn){const Vn=Pt.call(we(this),St,...wn);return pe.set(Vn,St.sort?St.sort():[St]),fe(Vn)}}(Pt):(Pt instanceof IDBTransaction&&function We(Pt){if(ue.has(Pt))return;const St=new Promise((wn,Vn)=>{const Rn=()=>{Pt.removeEventListener("complete",zn),Pt.removeEventListener("error",di),Pt.removeEventListener("abort",di)},zn=()=>{wn(),Rn()},di=()=>{Vn(Pt.error||new DOMException("AbortError","AbortError")),Rn()};Pt.addEventListener("complete",zn),Pt.addEventListener("error",di),Pt.addEventListener("abort",di)});ue.set(Pt,St)}(Pt),B(Pt,function ye(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pt,Ye):Pt)}function fe(Pt){if(Pt instanceof IDBRequest)return function et(Pt){const St=new Promise((wn,Vn)=>{const Rn=()=>{Pt.removeEventListener("success",zn),Pt.removeEventListener("error",di)},zn=()=>{wn(fe(Pt.result)),Rn()},di=()=>{Vn(Pt.error),Rn()};Pt.addEventListener("success",zn),Pt.addEventListener("error",di)});return St.then(wn=>{wn instanceof IDBCursor&&oe.set(wn,Pt)}).catch(()=>{}),Pe.set(St,Pt),St}(Pt);if(Le.has(Pt))return Le.get(Pt);const St=wt(Pt);return St!==Pt&&(Le.set(Pt,St),Pe.set(St,Pt)),St}const we=Pt=>Pe.get(Pt),Ve=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],qe=new Map;function je(Pt,St){if(!(Pt instanceof IDBDatabase)||St in Pt||"string"!=typeof St)return;if(qe.get(St))return qe.get(St);const wn=St.replace(/FromIndex$/,""),Vn=St!==wn,Rn=Z.includes(wn);if(!(wn in(Vn?IDBIndex:IDBObjectStore).prototype)||!Rn&&!Ve.includes(wn))return;const zn=function(){var di=(0,l.Z)(function*(Ji,..._i){const vr=this.transaction(Ji,Rn?"readwrite":"readonly");let eo=vr.store;return Vn&&(eo=eo.index(_i.shift())),(yield Promise.all([eo[wn](..._i),Rn&&vr.done]))[0]});return function(_i){return di.apply(this,arguments)}}();return qe.set(St,zn),zn}!function $e(Pt){Ye=Pt(Ye)}(Pt=>({...Pt,get:(St,wn,Vn)=>je(St,wn)||Pt.get(St,wn,Vn),has:(St,wn)=>!!je(St,wn)||Pt.has(St,wn)}));class Xe{constructor(St){this.container=St}getPlatformInfoString(){return this.container.getProviders().map(wn=>{if(function Ct(Pt){const St=Pt.getComponent();return"VERSION"===St?.type}(wn)){const Vn=wn.getImmediate();return`${Vn.library}/${Vn.version}`}return null}).filter(wn=>wn).join(" ")}}const yn="@firebase/app",vt=new p.Yd("@firebase/app"),ht="[DEFAULT]",At={[yn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,cn=new Map;function Zn(Pt,St){try{Pt.container.addComponent(St)}catch(wn){vt.debug(`Component ${St.name} failed to register with FirebaseApp ${Pt.name}`,wn)}}function ri(Pt,St){Pt.container.addOrOverwriteComponent(St)}function En(Pt){const St=Pt.name;if(cn.has(St))return vt.debug(`There were multiple attempts to register component ${St}.`),!1;cn.set(St,Pt);for(const wn of qt.values())Zn(wn,Pt);return!0}function dn(Pt,St){const wn=Pt.container.getProvider("heartbeat").getImmediate({optional:!0});return wn&&wn.triggerHeartbeat(),Pt.container.getProvider(St)}function Hn(Pt,St,wn=ht){dn(Pt,St).clearInstance(wn)}function Ke(){cn.clear()}const Kt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(St,wn,Vn){this._isDeleted=!1,this._options=Object.assign({},St),this._config=Object.assign({},wn),this._name=wn.name,this._automaticDataCollectionEnabled=wn.automaticDataCollectionEnabled,this._container=Vn,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(St){this.checkDestroyed(),this._automaticDataCollectionEnabled=St}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(St){this._isDeleted=St}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const hi="9.22.2";function Ei(Pt,St={}){let wn=Pt;"object"!=typeof St&&(St={name:St});const Vn=Object.assign({name:ht,automaticDataCollectionEnabled:!1},St),Rn=Vn.name;if("string"!=typeof Rn||!Rn)throw Kt.create("bad-app-name",{appName:String(Rn)});if(wn||(wn=(0,X.aH)()),!wn)throw Kt.create("no-options");const zn=qt.get(Rn);if(zn){if((0,X.vZ)(wn,zn.options)&&(0,X.vZ)(Vn,zn.config))return zn;throw Kt.create("duplicate-app",{appName:Rn})}const di=new C.H0(Rn);for(const _i of cn.values())di.addComponent(_i);const Ji=new Sn(wn,Vn,di);return qt.set(Rn,Ji),Ji}function gi(Pt=ht){const St=qt.get(Pt);if(!St&&Pt===ht&&(0,X.aH)())return Ei();if(!St)throw Kt.create("no-app",{appName:Pt});return St}function Xt(){return Array.from(qt.values())}function lt(Pt){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(Pt){const St=Pt.name;qt.has(St)&&(qt.delete(St),yield Promise.all(Pt.container.getProviders().map(wn=>wn.delete())),Pt.isDeleted=!0)})).apply(this,arguments)}function Ze(Pt,St,wn){var Vn;let Rn=null!==(Vn=At[Pt])&&void 0!==Vn?Vn:Pt;wn&&(Rn+=`-${wn}`);const zn=Rn.match(/\s|\//),di=St.match(/\s|\//);if(zn||di){const Ji=[`Unable to register library "${Rn}" with version "${St}":`];return zn&&Ji.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),zn&&di&&Ji.push("and"),di&&Ji.push(`version name "${St}" contains illegal characters (whitespace or "/")`),void vt.warn(Ji.join(" "))}En(new C.wA(`${Rn}-version`,()=>({library:Rn,version:St}),"VERSION"))}function He(Pt,St){if(null!==Pt&&"function"!=typeof Pt)throw Kt.create("invalid-log-argument");(0,p.Am)(Pt,St)}function Re(Pt){(0,p.Ub)(Pt)}const Mt="firebase-heartbeat-database",Gt=1,Be="firebase-heartbeat-store";let le=null;function z(){return le||(le=function me(Pt,St,{blocked:wn,upgrade:Vn,blocking:Rn,terminated:zn}={}){const di=indexedDB.open(Pt,St),Ji=fe(di);return Vn&&di.addEventListener("upgradeneeded",_i=>{Vn(fe(di.result),_i.oldVersion,_i.newVersion,fe(di.transaction),_i)}),wn&&di.addEventListener("blocked",_i=>wn(_i.oldVersion,_i.newVersion,_i)),Ji.then(_i=>{zn&&_i.addEventListener("close",()=>zn()),Rn&&_i.addEventListener("versionchange",vr=>Rn(vr.oldVersion,vr.newVersion,vr))}).catch(()=>{}),Ji}(Mt,Gt,{upgrade:(Pt,St)=>{0===St&&Pt.createObjectStore(Be)}}).catch(Pt=>{throw Kt.create("idb-open",{originalErrorMessage:Pt.message})})),le}function $(){return($=(0,l.Z)(function*(Pt){try{return yield(yield z()).transaction(Be).objectStore(Be).get(Te(Pt))}catch(St){if(St instanceof X.ZR)vt.warn(St.message);else{const wn=Kt.create("idb-get",{originalErrorMessage:St?.message});vt.warn(wn.message)}}})).apply(this,arguments)}function de(Pt,St){return ce.apply(this,arguments)}function ce(){return(ce=(0,l.Z)(function*(Pt,St){try{const Vn=(yield z()).transaction(Be,"readwrite");yield Vn.objectStore(Be).put(St,Te(Pt)),yield Vn.done}catch(wn){if(wn instanceof X.ZR)vt.warn(wn.message);else{const Vn=Kt.create("idb-set",{originalErrorMessage:wn?.message});vt.warn(Vn.message)}}})).apply(this,arguments)}function Te(Pt){return`${Pt.name}!${Pt.options.appId}`}class Y{constructor(St){this.container=St,this._heartbeatsCache=null;const wn=this.container.getProvider("app").getImmediate();this._storage=new Vt(wn),this._heartbeatsCachePromise=this._storage.read().then(Vn=>(this._heartbeatsCache=Vn,Vn))}triggerHeartbeat(){var St=this;return(0,l.Z)(function*(){const Vn=St.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rn=Ie();if(null===St._heartbeatsCache&&(St._heartbeatsCache=yield St._heartbeatsCachePromise),St._heartbeatsCache.lastSentHeartbeatDate!==Rn&&!St._heartbeatsCache.heartbeats.some(zn=>zn.date===Rn))return St._heartbeatsCache.heartbeats.push({date:Rn,agent:Vn}),St._heartbeatsCache.heartbeats=St._heartbeatsCache.heartbeats.filter(zn=>{const di=new Date(zn.date).valueOf();return Date.now()-di<=2592e6}),St._storage.overwrite(St._heartbeatsCache)})()}getHeartbeatsHeader(){var St=this;return(0,l.Z)(function*(){if(null===St._heartbeatsCache&&(yield St._heartbeatsCachePromise),null===St._heartbeatsCache||0===St._heartbeatsCache.heartbeats.length)return"";const wn=Ie(),{heartbeatsToSend:Vn,unsentEntries:Rn}=function yt(Pt,St=1024){const wn=[];let Vn=Pt.slice();for(const Rn of Pt){const zn=wn.find(di=>di.agent===Rn.agent);if(zn){if(zn.dates.push(Rn.date),jn(wn)>St){zn.dates.pop();break}}else if(wn.push({agent:Rn.agent,dates:[Rn.date]}),jn(wn)>St){wn.pop();break}Vn=Vn.slice(1)}return{heartbeatsToSend:wn,unsentEntries:Vn}}(St._heartbeatsCache.heartbeats),zn=(0,X.L)(JSON.stringify({version:2,heartbeats:Vn}));return St._heartbeatsCache.lastSentHeartbeatDate=wn,Rn.length>0?(St._heartbeatsCache.heartbeats=Rn,yield St._storage.overwrite(St._heartbeatsCache)):(St._heartbeatsCache.heartbeats=[],St._storage.overwrite(St._heartbeatsCache)),zn})()}}function Ie(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(St){this.app=St,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var St=this;return(0,l.Z)(function*(){return(yield St._canUseIndexedDBPromise)&&(yield function j(Pt){return $.apply(this,arguments)}(St.app))||{heartbeats:[]}})()}overwrite(St){var wn=this;return(0,l.Z)(function*(){var Vn;if(yield wn._canUseIndexedDBPromise){const zn=yield wn.read();return de(wn.app,{lastSentHeartbeatDate:null!==(Vn=St.lastSentHeartbeatDate)&&void 0!==Vn?Vn:zn.lastSentHeartbeatDate,heartbeats:St.heartbeats})}})()}add(St){var wn=this;return(0,l.Z)(function*(){var Vn;if(yield wn._canUseIndexedDBPromise){const zn=yield wn.read();return de(wn.app,{lastSentHeartbeatDate:null!==(Vn=St.lastSentHeartbeatDate)&&void 0!==Vn?Vn:zn.lastSentHeartbeatDate,heartbeats:[...zn.heartbeats,...St.heartbeats]})}})()}}function jn(Pt){return(0,X.L)(JSON.stringify({version:2,heartbeats:Pt})).length}!function ti(Pt){En(new C.wA("platform-logger",St=>new Xe(St),"PRIVATE")),En(new C.wA("heartbeat",St=>new Y(St),"PRIVATE")),Ze(yn,"0.9.12",Pt),Ze(yn,"0.9.12","esm2017"),Ze("fire-js","")}("")},4859:(gn,ot,y)=>{y.d(ot,{H0:()=>ye,wA:()=>p});var l=y(5861),C=y(2090);class p{constructor(oe,ue,pe){this.name=oe,this.instanceFactory=ue,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const X="[DEFAULT]";class B{constructor(oe,ue){this.name=oe,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const ue=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(ue)){const pe=new C.BH;if(this.instancesDeferred.set(ue,pe),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:ue});Le&&pe.resolve(Le)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(oe){var ue;const pe=this.normalizeInstanceIdentifier(oe?.identifier),Le=null!==(ue=oe?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Pe){if(Le)return null;throw Pe}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function W(Se){return"EAGER"===Se.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[ue,pe]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(ue);try{const Pe=this.getOrInitializeService({instanceIdentifier:Le});pe.resolve(Pe)}catch{}}}}clearInstance(oe=X){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,l.Z)(function*(){const ue=Array.from(oe.instances.values());yield Promise.all([...ue.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...ue.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=X){return this.instances.has(oe)}getOptions(oe=X){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:ue={}}=oe,pe=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:pe,options:ue});for(const[Pe,et]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Pe)&&et.resolve(Le);return Le}onInit(oe,ue){var pe;const Le=this.normalizeInstanceIdentifier(ue),Pe=null!==(pe=this.onInitCallbacks.get(Le))&&void 0!==pe?pe:new Set;Pe.add(oe),this.onInitCallbacks.set(Le,Pe);const et=this.instances.get(Le);return et&&oe(et,Le),()=>{Pe.delete(oe)}}invokeOnInitCallbacks(oe,ue){const pe=this.onInitCallbacks.get(ue);if(pe)for(const Le of pe)try{Le(oe,ue)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:ue={}}){let pe=this.instances.get(oe);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=oe,Se===X?void 0:Se),options:ue}),this.instances.set(oe,pe),this.instancesOptions.set(oe,ue),this.invokeOnInitCallbacks(pe,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,pe)}catch{}var Se;return pe||null}normalizeInstanceIdentifier(oe=X){return this.component?this.component.multipleInstances?oe:X:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const ue=this.getProvider(oe.name);if(ue.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);ue.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const ue=new B(oe,this);return this.providers.set(oe,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(gn,ot,y)=>{y.d(ot,{Am:()=>Se,Ub:()=>ye,Yd:()=>W,in:()=>C});const l=[];var C=(()=>((C=C||{})[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT",C))();const p={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},X=C.INFO,B={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},ae=(oe,ue,...pe)=>{if(ue<oe.logLevel)return;const Le=(new Date).toISOString(),Pe=B[ue];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Pe](`[${Le}]  ${oe.name}:`,...pe)};class W{constructor(ue){this.name=ue,this._logLevel=X,this._logHandler=ae,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in C))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?p[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...ue),this._logHandler(this,C.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...ue),this._logHandler(this,C.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,C.INFO,...ue),this._logHandler(this,C.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,C.WARN,...ue),this._logHandler(this,C.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...ue),this._logHandler(this,C.ERROR,...ue)}}function ye(oe){l.forEach(ue=>{ue.setLogLevel(oe)})}function Se(oe,ue){for(const pe of l){let Le=null;ue&&ue.level&&(Le=p[ue.level]),pe.userLogHandler=null===oe?null:(Pe,et,...We)=>{const Ye=We.map($e=>{if(null==$e)return null;if("string"==typeof $e)return $e;if("number"==typeof $e||"boolean"==typeof $e)return $e.toString();if($e instanceof Error)return $e.message;try{return JSON.stringify($e)}catch{return null}}).filter($e=>$e).join(" ");et>=(Le??Pe.logLevel)&&oe({level:C[et].toLowerCase(),message:Ye,args:We,type:Pe.name})}}}},259:(gn,ot,y)=>{y.d(ot,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=y(6881);(0,l.registerVersion)("firebase","9.22.2","app")},9260:(gn,ot,y)=>{y.d(ot,{Z:()=>l.Z});var l=y(3942);l.Z.registerVersion("firebase","9.22.2","app-compat")},9568:(gn,ot,y)=>{y.r(ot);var l=y(5861),C=y(3942),p=y(1389),X=y(2090),W=(y(6881),y(1877),y(4859));function ye(){return window}function ue(){return ue=(0,l.Z)(function*(z,j,$){var de;const{BuildInfo:ce}=ye();(0,p.as)(j.sessionId,"AuthEvent did not contain a session ID");const Te=yield function $e(z){return ke.apply(this,arguments)}(j.sessionId),Fe={};return(0,p.at)()?Fe.ibi=ce.packageName:(0,p.au)()?Fe.apn=ce.packageName:(0,p.av)(z,"operation-not-supported-in-this-environment"),ce.displayName&&(Fe.appDisplayName=ce.displayName),Fe.sessionId=Te,(0,p.aw)(z,$,j.type,void 0,null!==(de=j.eventId)&&void 0!==de?de:void 0,Fe)}),ue.apply(this,arguments)}function Le(){return(Le=(0,l.Z)(function*(z){const{BuildInfo:j}=ye(),$={};(0,p.at)()?$.iosBundleId=j.packageName:(0,p.au)()?$.androidPackageName=j.packageName:(0,p.av)(z,"operation-not-supported-in-this-environment"),yield(0,p.ax)(z,$)})).apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(z,j,$){const{cordova:de}=ye();let ce=()=>{};try{yield new Promise((Te,Fe)=>{let Ue=null;function Y(){var Vt;Te();const jn=null===(Vt=de.plugins.browsertab)||void 0===Vt?void 0:Vt.close;"function"==typeof jn&&jn(),"function"==typeof $?.close&&$.close()}function Ie(){Ue||(Ue=window.setTimeout(()=>{Fe((0,p.az)(z,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===document?.visibilityState&&Ie()}j.addPassiveListener(Y),document.addEventListener("resume",Ie,!1),(0,p.au)()&&document.addEventListener("visibilitychange",yt,!1),ce=()=>{j.removePassiveListener(Y),document.removeEventListener("resume",Ie,!1),document.removeEventListener("visibilitychange",yt,!1),Ue&&window.clearTimeout(Ue)}})}finally{ce()}})).apply(this,arguments)}function ke(){return(ke=(0,l.Z)(function*(z){const j=function wt(z){if((0,p.as)(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(z);const j=new ArrayBuffer(z.length),$=new Uint8Array(j);for(let de=0;de<z.length;de++)$[de]=z.charCodeAt(de);return $}(z),$=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array($)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class we extends p.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach($=>$(j)),super.onEvent(j)}initialized(){var j=this;return(0,l.Z)(function*(){yield j.initPromise})()}}function Ve(z){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(z){const j=yield Xe()._get(Ct(z));return j&&(yield Xe()._remove(Ct(z))),j})).apply(this,arguments)}function je(){const z=[];for(let $=0;$<20;$++){const de=Math.floor(62*Math.random());z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return z.join("")}function Xe(){return(0,p.aC)(p.b)}function Ct(z){return(0,p.aD)("authEvent",z.config.apiKey,z.name)}function vt(z){if(!z?.includes("?"))return{};const[j,...$]=z.split("?");return(0,X.zd)($.join("?"))}const Ht=class Bt{constructor(){this._redirectPersistence=p.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=p.aE,this._overrideRedirectResult=p.aF}_initialize(j){var $=this;return(0,l.Z)(function*(){const de=j._key();let ce=$.eventManagers.get(de);return ce||(ce=new we(j),$.eventManagers.set(de,ce),$.attachCallbackListeners(j,ce)),ce})()}_openPopup(j){(0,p.av)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,$,de,ce){var Te=this;return(0,l.Z)(function*(){!function Ye(z){var j,$,de,ce,Te,Fe,Ue,Y,Ie,yt;const Vt=ye();(0,p.aA)("function"==typeof(null===(j=Vt?.universalLinks)||void 0===j?void 0:j.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,p.aA)(typeof(null===($=Vt?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,p.aA)("function"==typeof(null===(Te=null===(ce=null===(de=Vt?.cordova)||void 0===de?void 0:de.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Te?void 0:Te.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,p.aA)("function"==typeof(null===(Y=null===(Ue=null===(Fe=Vt?.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===Y?void 0:Y.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,p.aA)("function"==typeof(null===(yt=null===(Ie=Vt?.cordova)||void 0===Ie?void 0:Ie.InAppBrowser)||void 0===yt?void 0:yt.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const Fe=yield Te._initialize(j);yield Fe.initialized(),Fe.resetRedirect(),(0,p.aG)(),yield Te._originValidation(j);const Ue=function me(z,j,$=null){return{type:j,eventId:$,urlResponse:null,sessionId:je(),postBody:null,tenantId:z.tenantId,error:(0,p.az)(z,"no-auth-event")}}(j,de,ce);yield function ge(z,j){return Xe()._set(Ct(z),j)}(j,Ue);const Y=yield function oe(z,j,$){return ue.apply(this,arguments)}(j,Ue,$),Ie=yield function Pe(z){const{cordova:j}=ye();return new Promise($=>{j.plugins.browsertab.isAvailable(de=>{let ce=null;de?j.plugins.browsertab.openUrl(z):ce=j.InAppBrowser.open(z,(0,p.ay)()?"_blank":"_system","location=yes"),$(ce)})})}(Y);return function et(z,j,$){return We.apply(this,arguments)}(j,Fe,Ie)})()}_isIframeWebStorageSupported(j,$){throw new Error("Method not implemented.")}_originValidation(j){const $=j._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function pe(z){return Le.apply(this,arguments)}(j)),this.originValidationPromises[$]}attachCallbackListeners(j,$){const{universalLinks:de,handleOpenURL:ce,BuildInfo:Te}=ye(),Fe=setTimeout((0,l.Z)(function*(){yield Ve(j),$.onEvent(en())}),500),Ue=function(){var yt=(0,l.Z)(function*(Vt){clearTimeout(Fe);const jn=yield Ve(j);let ti=null;jn&&Vt?.url&&(ti=function qe(z,j){var $,de;const ce=function An(z){const j=vt(z),$=j.link?decodeURIComponent(j.link):void 0,de=vt($).link,ce=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return vt(ce).link||ce||de||$||z}(j);if(ce.includes("/__/auth/callback")){const Te=vt(ce),Fe=Te.firebaseError?function yn(z){try{return JSON.parse(z)}catch{return null}}(decodeURIComponent(Te.firebaseError)):null,Ue=null===(de=null===($=Fe?.code)||void 0===$?void 0:$.split("auth/"))||void 0===de?void 0:de[1],Y=Ue?(0,p.az)(Ue):null;return Y?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:Y,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:ce,postBody:null}}return null}(jn,Vt.url)),$.onEvent(ti||en())});return function(jn){return yt.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,Ue);const Y=ce,Ie=`${Te.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var yt=(0,l.Z)(function*(Vt){if(Vt.toLowerCase().startsWith(Ie)&&Ue({url:Vt}),"function"==typeof Y)try{Y(Vt)}catch(jn){console.error(jn)}});return function(Vt){return yt.apply(this,arguments)}}()}};function en(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,p.az)("no-auth-event")}}function Ft(){var z;return(null===(z=self?.location)||void 0===z?void 0:z.protocol)||null}function ct(z=(0,X.z$)()){return!("file:"!==Ft()&&"ionic:"!==Ft()&&"capacitor:"!==Ft()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ee(){try{const z=self.localStorage,j=p.aL();if(z)return z.setItem(j,"1"),z.removeItem(j),!function ft(z=(0,X.z$)()){return function Et(){return(0,X.w1)()&&11===document?.documentMode}()||function nt(z=(0,X.z$)()){return/Edge\/\d+/.test(z)}(z)}()||(0,X.hl)()}catch{return Ce()&&(0,X.hl)()}return!1}function Ce(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function De(){return(function Je(){return"http:"===Ft()||"https:"===Ft()}()||(0,X.ru)()||ct())&&!function Rt(){return(0,X.b$)()||(0,X.UG)()}()&&Ee()&&!Ce()}function Tt(){return ct()&&typeof document<"u"}function an(){return(an=(0,l.Z)(function*(){return!!Tt()&&new Promise(z=>{const j=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),z(!0)})})})).apply(this,arguments)}const he={LOCAL:"local",NONE:"none",SESSION:"session"},ze=p.aA,at="persistence";function At(z){return qt.apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*(z){yield z._initializationPromise;const j=Zn(),$=p.aD(at,z.config.apiKey,z.name);j&&j.setItem($,z._getPersistence())})).apply(this,arguments)}function Zn(){var z;try{return(null===(z=function It(){return typeof window<"u"?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch{return null}}const ri=p.aA;class En{constructor(){this.browserResolver=p.aC(p.k),this.cordovaResolver=p.aC(Ht),this.underlyingResolver=null,this._redirectPersistence=p.a,this._completeRedirectFn=p.aE,this._overrideRedirectResult=p.aF}_initialize(j){var $=this;return(0,l.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,$,de,ce){var Te=this;return(0,l.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openPopup(j,$,de,ce)})()}_openRedirect(j,$,de,ce){var Te=this;return(0,l.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._openRedirect(j,$,de,ce)})()}_isIframeWebStorageSupported(j,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,$)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return Tt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ri(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,l.Z)(function*(){if(j.underlyingResolver)return;const $=yield function rn(){return an.apply(this,arguments)}();j.underlyingResolver=$?j.cordovaResolver:j.browserResolver})()}}function dn(z){return z.unwrap()}function Ke(z){return Kt(z)}function Kt(z){const{_tokenResponse:j}=z instanceof X.ZR?z.customData:z;if(!j)return null;if(!(z instanceof X.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return p.P.credentialFromResult(z);const $=j.providerId;if(!$||$===p.p.PASSWORD)return null;let de;switch($){case p.p.GOOGLE:de=p.V;break;case p.p.FACEBOOK:de=p.U;break;case p.p.GITHUB:de=p.W;break;case p.p.TWITTER:de=p.Z;break;default:const{oauthIdToken:ce,oauthAccessToken:Te,oauthTokenSecret:Fe,pendingToken:Ue,nonce:Y}=j;return Te||Fe||ce||Ue?Ue?$.startsWith("saml.")?p.aO._create($,Ue):p.L._fromParams({providerId:$,signInMethod:$,pendingToken:Ue,idToken:ce,accessToken:Te}):new p.X($).credential({idToken:ce,accessToken:Te,rawNonce:Y}):null}return z instanceof X.ZR?de.credentialFromError(z):de.credentialFromResult(z)}function Sn(z,j){return j.catch($=>{throw $ instanceof X.ZR&&function kt(z,j){var $;const de=null===($=j.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===j?.code)j.resolver=new gi(z,p.aq(z,j));else if(de){const ce=Kt(j),Te=j;ce&&(Te.credential=ce,Te.tenantId=de.tenantId||void 0,Te.email=de.email||void 0,Te.phoneNumber=de.phoneNumber||void 0)}}(z,$),$}).then($=>{const ce=$.user;return{operationType:$.operationType,credential:Ke($),additionalUserInfo:p.ao($),user:Xt.getOrCreate(ce)}})}function hi(z,j){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(z,j){const $=yield j;return{verificationId:$.verificationId,confirm:de=>Sn(z,$.confirm(de))}})).apply(this,arguments)}class gi{constructor(j,$){this.resolver=$,this.auth=function Hn(z){return z.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return Sn(dn(this.auth),this.resolver.resolveSignIn(j))}}class Xt{constructor(j){this._delegate=j,this.multiFactor=p.ar(j)}static getOrCreate(j){return Xt.USER_MAP.has(j)||Xt.USER_MAP.set(j,new Xt(j)),Xt.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var $=this;return(0,l.Z)(function*(){return Sn($.auth,p.a0($._delegate,j))})()}linkWithPhoneNumber(j,$){var de=this;return(0,l.Z)(function*(){return hi(de.auth,p.l(de._delegate,j,$))})()}linkWithPopup(j){var $=this;return(0,l.Z)(function*(){return Sn($.auth,p.d($._delegate,j,En))})()}linkWithRedirect(j){var $=this;return(0,l.Z)(function*(){return yield At(p.aH($.auth)),p.g($._delegate,j,En)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var $=this;return(0,l.Z)(function*(){return Sn($.auth,p.a1($._delegate,j))})()}reauthenticateWithPhoneNumber(j,$){return hi(this.auth,p.r(this._delegate,j,$))}reauthenticateWithPopup(j){return Sn(this.auth,p.e(this._delegate,j,En))}reauthenticateWithRedirect(j){var $=this;return(0,l.Z)(function*(){return yield At(p.aH($.auth)),p.h($._delegate,j,En)})()}sendEmailVerification(j){return p.ae(this._delegate,j)}unlink(j){var $=this;return(0,l.Z)(function*(){return yield p.an($._delegate,j),$})()}updateEmail(j){return p.aj(this._delegate,j)}updatePassword(j){return p.ak(this._delegate,j)}updatePhoneNumber(j){return p.u(this._delegate,j)}updateProfile(j){return p.ai(this._delegate,j)}verifyBeforeUpdateEmail(j,$){return p.af(this._delegate,j,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xt.USER_MAP=new WeakMap;const lt=p.aA;let ut=(()=>{class z{constructor($,de){if(this.app=$,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=$.options;lt(ce,"invalid-api-key",{appName:$.name}),lt(ce,"invalid-api-key",{appName:$.name});const Te=typeof window<"u"?En:void 0;this._delegate=de.initialize({options:{persistence:He(ce,$.name),popupRedirectResolver:Te}}),this._delegate._updateErrorMap(p.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,de){p.I(this._delegate,$,de)}applyActionCode($){return p.a5(this._delegate,$)}checkActionCode($){return p.a6(this._delegate,$)}confirmPasswordReset($,de){return p.a4(this._delegate,$,de)}createUserWithEmailAndPassword($,de){var ce=this;return(0,l.Z)(function*(){return Sn(ce._delegate,p.a8(ce._delegate,$,de))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return p.ad(this._delegate,$)}isSignInWithEmailLink($){return p.ab(this._delegate,$)}getRedirectResult(){var $=this;return(0,l.Z)(function*(){lt(De(),$._delegate,"operation-not-supported-in-this-environment");const de=yield p.j($._delegate,En);return de?Sn($._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Yt(z,j){(0,p.aH)(z)._logFramework(j)}(this._delegate,$)}onAuthStateChanged($,de,ce){const{next:Te,error:Fe,complete:Ue}=Ze($,de,ce);return this._delegate.onAuthStateChanged(Te,Fe,Ue)}onIdTokenChanged($,de,ce){const{next:Te,error:Fe,complete:Ue}=Ze($,de,ce);return this._delegate.onIdTokenChanged(Te,Fe,Ue)}sendSignInLinkToEmail($,de){return p.aa(this._delegate,$,de)}sendPasswordResetEmail($,de){return p.a3(this._delegate,$,de||void 0)}setPersistence($){var de=this;return(0,l.Z)(function*(){let ce;switch(function ht(z,j){ze(Object.values(he).includes(j),z,"invalid-persistence-type"),(0,X.b$)()?ze(j!==he.SESSION,z,"unsupported-persistence-type"):(0,X.UG)()?ze(j===he.NONE,z,"unsupported-persistence-type"):Ce()?ze(j===he.NONE||j===he.LOCAL&&(0,X.hl)(),z,"unsupported-persistence-type"):ze(j===he.NONE||Ee(),z,"unsupported-persistence-type")}(de._delegate,$),$){case he.SESSION:ce=p.a;break;case he.LOCAL:ce=(yield p.aC(p.i)._isAvailable())?p.i:p.b;break;case he.NONE:ce=p.N;break;default:return p.av("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Sn(this._delegate,p._(this._delegate))}signInWithCredential($){return Sn(this._delegate,p.$(this._delegate,$))}signInWithCustomToken($){return Sn(this._delegate,p.a2(this._delegate,$))}signInWithEmailAndPassword($,de){return Sn(this._delegate,p.a9(this._delegate,$,de))}signInWithEmailLink($,de){return Sn(this._delegate,p.ac(this._delegate,$,de))}signInWithPhoneNumber($,de){return hi(this._delegate,p.s(this._delegate,$,de))}signInWithPopup($){var de=this;return(0,l.Z)(function*(){return lt(De(),de._delegate,"operation-not-supported-in-this-environment"),Sn(de._delegate,p.c(de._delegate,$,En))})()}signInWithRedirect($){var de=this;return(0,l.Z)(function*(){return lt(De(),de._delegate,"operation-not-supported-in-this-environment"),yield At(de._delegate),p.f(de._delegate,$,En)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return p.a7(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=he,z})();function Ze(z,j,$){let de=z;"function"!=typeof z&&({next:de,error:j,complete:$}=z);const ce=de;return{next:Fe=>ce(Fe&&Xt.getOrCreate(Fe)),error:j,complete:$}}function He(z,j){const $=function cn(z,j){const $=Zn();if(!$)return[];const de=p.aD(at,z,j);switch($.getItem(de)){case he.NONE:return[p.N];case he.LOCAL:return[p.i,p.a];case he.SESSION:return[p.a];default:return[]}}(z,j);if(typeof self<"u"&&!$.includes(p.i)&&$.push(p.i),typeof window<"u")for(const de of[p.b,p.a])$.includes(de)||$.push(de);return $.includes(p.N)||$.push(p.N),$}class Re{constructor(){this.providerId="phone",this._delegate=new p.P(dn(C.Z.auth()))}static credential(j,$){return p.P.credential(j,$)}verifyPhoneNumber(j,$){return this._delegate.verifyPhoneNumber(j,$)}unwrap(){return this._delegate}}Re.PHONE_SIGN_IN_METHOD=p.P.PHONE_SIGN_IN_METHOD,Re.PROVIDER_ID=p.P.PROVIDER_ID;const Mt=p.aA;class Gt{constructor(j,$,de=C.Z.app()){var ce;Mt(null===(ce=de.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new p.R(j,$,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(z){z.INTERNAL.registerComponent(new W.wA("auth-compat",j=>{const $=j.getProvider("app-compat").getImmediate(),de=j.getProvider("auth");return new ut($,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:p.A.EMAIL_SIGNIN,PASSWORD_RESET:p.A.PASSWORD_RESET,RECOVER_EMAIL:p.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:p.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:p.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:p.A.VERIFY_EMAIL}},EmailAuthProvider:p.Q,FacebookAuthProvider:p.U,GithubAuthProvider:p.W,GoogleAuthProvider:p.V,OAuthProvider:p.X,SAMLAuthProvider:p.Y,PhoneAuthProvider:Re,PhoneMultiFactorGenerator:p.m,RecaptchaVerifier:Gt,TwitterAuthProvider:p.Z,Auth:ut,AuthCredential:p.J,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.4.2")}(C.Z)},5861:(gn,ot,y)=>{function l(p,X,B,ae,W,ye,Se){try{var oe=p[ye](Se),ue=oe.value}catch(pe){return void B(pe)}oe.done?X(ue):Promise.resolve(ue).then(ae,W)}function C(p){return function(){var X=this,B=arguments;return new Promise(function(ae,W){var ye=p.apply(X,B);function Se(ue){l(ye,ae,W,Se,oe,"next",ue)}function oe(ue){l(ye,ae,W,Se,oe,"throw",ue)}Se(void 0)})}}y.d(ot,{Z:()=>C})},7582:(gn,ot,y)=>{function X(vt,bt){var Bt={};for(var Ht in vt)Object.prototype.hasOwnProperty.call(vt,Ht)&&bt.indexOf(Ht)<0&&(Bt[Ht]=vt[Ht]);if(null!=vt&&"function"==typeof Object.getOwnPropertySymbols){var en=0;for(Ht=Object.getOwnPropertySymbols(vt);en<Ht.length;en++)bt.indexOf(Ht[en])<0&&Object.prototype.propertyIsEnumerable.call(vt,Ht[en])&&(Bt[Ht[en]]=vt[Ht[en]])}return Bt}function pe(vt,bt,Bt,Ht){return new(Bt||(Bt=Promise))(function(Yt,sn){function bn(Je){try{Ft(Ht.next(Je))}catch(ct){sn(ct)}}function on(Je){try{Ft(Ht.throw(Je))}catch(ct){sn(ct)}}function Ft(Je){Je.done?Yt(Je.value):function en(Yt){return Yt instanceof Bt?Yt:new Bt(function(sn){sn(Yt)})}(Je.value).then(bn,on)}Ft((Ht=Ht.apply(vt,bt||[])).next())})}function fe(vt){return this instanceof fe?(this.v=vt,this):new fe(vt)}function we(vt,bt,Bt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var en,Ht=Bt.apply(vt,bt||[]),Yt=[];return en={},sn("next"),sn("throw"),sn("return"),en[Symbol.asyncIterator]=function(){return this},en;function sn(Rt){Ht[Rt]&&(en[Rt]=function(Et){return new Promise(function(nt,ft){Yt.push([Rt,Et,nt,ft])>1||bn(Rt,Et)})})}function bn(Rt,Et){try{!function on(Rt){Rt.value instanceof fe?Promise.resolve(Rt.value.v).then(Ft,Je):ct(Yt[0][2],Rt)}(Ht[Rt](Et))}catch(nt){ct(Yt[0][3],nt)}}function Ft(Rt){bn("next",Rt)}function Je(Rt){bn("throw",Rt)}function ct(Rt,Et){Rt(Et),Yt.shift(),Yt.length&&bn(Yt[0][0],Yt[0][1])}}function ge(vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Bt,bt=vt[Symbol.asyncIterator];return bt?bt.call(vt):(vt=function We(vt){var bt="function"==typeof Symbol&&Symbol.iterator,Bt=bt&&vt[bt],Ht=0;if(Bt)return Bt.call(vt);if(vt&&"number"==typeof vt.length)return{next:function(){return vt&&Ht>=vt.length&&(vt=void 0),{value:vt&&vt[Ht++],done:!vt}}};throw new TypeError(bt?"Object is not iterable.":"Symbol.iterator is not defined.")}(vt),Bt={},Ht("next"),Ht("throw"),Ht("return"),Bt[Symbol.asyncIterator]=function(){return this},Bt);function Ht(Yt){Bt[Yt]=vt[Yt]&&function(sn){return new Promise(function(bn,on){!function en(Yt,sn,bn,on){Promise.resolve(on).then(function(Ft){Yt({value:Ft,done:bn})},sn)}(bn,on,(sn=vt[Yt](sn)).done,sn.value)})}}}y.d(ot,{FC:()=>we,KL:()=>ge,_T:()=>X,mG:()=>pe,qq:()=>fe})}},gn=>{gn(gn.s=488)}]);