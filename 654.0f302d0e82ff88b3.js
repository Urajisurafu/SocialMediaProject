"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[654],{654:(W,u,r)=>{r.r(u),r.d(u,{FriendsWindowModule:()=>T});var a=r(4755),f=r(3676),v=r(8380),C=r(1188),n=r(2223),F=r(5861),h=r(8970),w=r(3919),x=r(5213),b=r(9744),O=r(1728),l=r(6012),g=r(3617);function y(i,o){1&i&&(n.TgZ(0,"div",7),n._uU(1," Your friends list is empty. "),n.qZA())}const m=function(i,o){return{even:i,odd:o}};function P(i,o){if(1&i){const e=n.EpF();n.TgZ(0,"div",8)(1,"div",9),n.NdJ("click",function(){const s=n.CHM(e).$implicit,c=n.oxw();return n.KtG(c.goToFriendPageClick(s.userId))}),n._UZ(2,"img",10),n.TgZ(3,"div"),n._uU(4),n.qZA()(),n.TgZ(5,"div",11),n._uU(6),n.qZA(),n.TgZ(7,"div",12)(8,"button",13),n.NdJ("click",function(){const s=n.CHM(e).$implicit,c=n.oxw();return n.KtG(c.deleteFriendClick(s.userId))}),n._uU(9," Delete "),n.qZA()()()}if(2&i){const e=o.$implicit,t=o.index;n.Q6J("ngClass",n.WLB(4,m,t%2==0,t%2!=0)),n.xp6(2),n.s9C("src",e.imageUrl,n.LSH),n.xp6(2),n.Oqu(e.publicName),n.xp6(2),n.Oqu(e.description)}}function S(i,o){1&i&&(n.TgZ(0,"div",7),n._uU(1," No one has sent you a friend invite yet. "),n.qZA())}function _(i,o){if(1&i){const e=n.EpF();n.TgZ(0,"div",8),n._UZ(1,"img",10),n.TgZ(2,"div",14),n._uU(3),n.qZA(),n.TgZ(4,"div",11),n._uU(5,"Wants to add you as a friend."),n.qZA(),n.TgZ(6,"div",12)(7,"button",13),n.NdJ("click",function(){const s=n.CHM(e).$implicit,c=n.oxw();return n.KtG(c.addToFriendsClick(s.userId))}),n._uU(8," Add "),n.qZA(),n.TgZ(9,"button",15),n.NdJ("click",function(){const s=n.CHM(e).$implicit,c=n.oxw();return n.KtG(c.rejectFriendClick(s.userId))}),n._uU(10," Reject "),n.qZA()()()}if(2&i){const e=o.$implicit,t=o.index;n.Q6J("ngClass",n.WLB(3,m,t%2==0,t%2!=0)),n.xp6(1),n.s9C("src",e.imageUrl,n.LSH),n.xp6(2),n.Oqu(e.publicName)}}const p=function(i){return{"without-invite":i}};let I=(()=>{class i{constructor(e,t,d,s){this.friendsWindowService=e,this.userDataService=t,this.userPageService=d,this.notificationsService=s,this.friendsGroup="Friends"}ngOnInit(){this.delayUntilUserInfo()}ngOnDestroy(){this.yourCurrentFriendsInfo?.unsubscribe(),this.yourNotificationFriends?.unsubscribe()}checkIndex(){return"newFriends"===this.friendsGroup?1:0}getListOfFriends(){return this.friendsWindowService.listOfFriends}getListOfNotificationFriends(){return this.friendsWindowService.listOfNotificationFriends}isNoHaveFriends(){if(this.friendsWindowService.listOfNotificationFriends)return this.friendsWindowService.listOfFriends?.length<=0}isNoHaveNotificationFriends(){if(this.friendsWindowService.listOfNotificationFriends)return this.friendsWindowService.listOfNotificationFriends.length<=0}deleteFriendClick(e){this.userPageService.deleteFriend(e)}rejectFriendClick(e){const t=this.userDataService.getCurrentUserId();this.userPageService.deleteFriend(e),this.notificationsService.deleteNotificationFriend(t,e)}addToFriendsClick(e){this.userPageService.addToFriends(e)}goToFriendPageClick(e){this.userPageService.goToFriendPage(e)}delayUntilUserInfo(){var e=this;return(0,F.Z)(function*(){e.userDataService.userInfo?.userId?(e.yourCurrentFriendsInfo=e.friendsWindowService.getYourCurrentFriendsInfo().subscribe(),e.yourNotificationFriends=e.friendsWindowService.getYourNotificationFriends().subscribe()):(yield new Promise(t=>{setTimeout(t,100)}),yield e.delayUntilUserInfo())})()}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(h.R),n.Y36(w.M),n.Y36(x.v),n.Y36(b.T))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-friends-info-window"]],inputs:{friendsGroup:"friendsGroup"},decls:11,vars:11,consts:[[1,"friends-window"],[1,"friends-group",3,"selectedIndex"],["label","Friends"],[1,"friends-content",3,"ngClass"],["class","friends-content-no-invite",4,"ngIf"],["class","friends-content-item",3,"ngClass",4,"ngFor","ngForOf"],["label","New friends"],[1,"friends-content-no-invite"],[1,"friends-content-item",3,"ngClass"],[1,"item-name",3,"click"],["alt","User photo",1,"item-avatar",3,"src"],[1,"item-text"],[1,"item-buttons"],["mat-flat-button","","color","warn",3,"click"],[1,"item-name"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"mat-card",0)(1,"mat-tab-group",1)(2,"mat-tab",2)(3,"mat-card-content",3),n.YNc(4,y,2,0,"div",4),n.YNc(5,P,10,7,"div",5),n.qZA()(),n.TgZ(6,"mat-tab",6)(7,"mat-card-content",3),n.YNc(8,S,2,0,"div",4),n.YNc(9,_,11,6,"div",5),n.qZA()()(),n._UZ(10,"router-outlet"),n.qZA()),2&e&&(n.xp6(1),n.Q6J("selectedIndex",t.checkIndex()),n.xp6(2),n.Q6J("ngClass",n.VKq(7,p,t.isNoHaveFriends())),n.xp6(1),n.Q6J("ngIf",t.isNoHaveFriends()),n.xp6(1),n.Q6J("ngForOf",t.getListOfFriends()),n.xp6(2),n.Q6J("ngClass",n.VKq(9,p,t.isNoHaveNotificationFriends())),n.xp6(1),n.Q6J("ngIf",t.isNoHaveNotificationFriends()),n.xp6(1),n.Q6J("ngForOf",t.getListOfNotificationFriends()))},dependencies:[a.mk,a.sg,a.O5,O.lW,l.a8,l.dn,g.uX,g.SP,f.lC],styles:[".friends-window[_ngcontent-%COMP%]{min-width:50vw;max-width:60vw;background-color:#b4b4b4}.friends-group[_ngcontent-%COMP%]{height:100%}.friends-content[_ngcontent-%COMP%]{margin:10px;border-radius:10px;background-color:#fff;min-height:400px}.friends-content-no-invite[_ngcontent-%COMP%]{font-family:Bradley Hand,cursive;display:flex;align-items:center;justify-content:center;font-size:24px}.friends-content-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.friends-content[_ngcontent-%COMP%]   .item-avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:5px 10px 0;width:50px;height:50px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.friends-content[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{display:flex;align-items:center;flex-basis:35%;cursor:pointer}.friends-content[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]:hover{color:#f44336}.friends-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]{flex-basis:40%}.friends-content[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{flex-basis:30%;display:flex;justify-content:space-around}.friends-content[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]{background-color:#d3d3d3}.friends-content[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]{background-color:#e5e5e5}.without-invite[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.mat-mdc-card-content[_ngcontent-%COMP%]:last-child{padding:0}"]}),i})(),M=(()=>{class i{constructor(e,t){this.storageService=e,this.route=t,this.friendsGroup="Friends",this.backgroundStorage="",this.routeParamsSubscription=this.route.params.subscribe(d=>{this.friendsGroup=d.friendsGroup})}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/friends-window.jpg").subscribe(t=>this.backgroundStorage=`url(${t})`)}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe(),this.routeParamsSubscription&&this.routeParamsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(n.Y36(C.V),n.Y36(f.gz))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-friends-window"]],decls:2,vars:3,consts:[[1,"friends-window"],[3,"friendsGroup"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"app-friends-info-window",1),n.qZA()),2&e&&(n.Udp("background-image",t.backgroundStorage),n.xp6(1),n.Q6J("friendsGroup",t.friendsGroup))},dependencies:[I],styles:[".friends-window[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}"]}),i})(),T=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[a.ez,v.q,f.Bz.forChild([{path:"",component:M}])]}),i})()}}]);