"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[179],{6217:(vn,it,E)=>{E.d(it,{nm:()=>Hr});var d=E(4976);E(2223),E(259);var he=E(5861),Ce=E(6881),ge=E(4859),Ae=E(2090),Ge=E(1877);const Z=new Map,Ke={activated:!1,tokenObservers:[]},Le={initialized:!1,enabled:!1};function Ze(bt){return Z.get(bt)||Object.assign({},Ke)}function yn(){return Le}const Rn="https://content-firebaseappcheck.googleapis.com/v1",Lt="exchangeDebugToken",Vt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Qt{constructor(mt,Ut,sn,pn,ln){if(this.operation=mt,this.retryPolicy=Ut,this.getWaitDuration=sn,this.lowerBound=pn,this.upperBound=ln,this.pending=null,this.nextErrorWaitInterval=pn,pn>ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(mt){var Ut=this;return(0,he.Z)(function*(){Ut.stop();try{Ut.pending=new Ae.BH,yield function un(bt){return new Promise(mt=>{setTimeout(mt,bt)})}(Ut.getNextRun(mt)),Ut.pending.resolve(),yield Ut.pending.promise,Ut.pending=new Ae.BH,yield Ut.operation(),Ut.pending.resolve(),yield Ut.pending.promise,Ut.process(!0).catch(()=>{})}catch(sn){Ut.retryPolicy(sn)?Ut.process(!1).catch(()=>{}):Ut.stop()}})()}getNextRun(mt){if(mt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ut=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ut}}}const on=new Ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ye(bt){if(!Ze(bt).activated)throw on.create("use-before-activation",{appName:bt.name})}function Et(bt,mt){return zt.apply(this,arguments)}function zt(){return(zt=(0,he.Z)(function*({url:bt,body:mt},Ut){const sn={"Content-Type":"application/json"},pn=Ut.getImmediate({optional:!0});if(pn){const $i=yield pn.getHeartbeatsHeader();$i&&(sn["X-Firebase-Client"]=$i)}const ln={method:"POST",body:JSON.stringify(mt),headers:sn};let Nn,si;try{Nn=yield fetch(bt,ln)}catch($i){throw on.create("fetch-network-error",{originalErrorMessage:$i?.message})}if(200!==Nn.status)throw on.create("fetch-status-error",{httpStatus:Nn.status});try{si=yield Nn.json()}catch($i){throw on.create("fetch-parse-error",{originalErrorMessage:$i?.message})}const xi=si.ttl.match(/^([\d.]+)(s)$/);if(!xi||!xi[2]||isNaN(Number(xi[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${si.ttl}`});const Nr=1e3*Number(xi[1]),hr=Date.now();return{token:si.token,expireTimeMillis:hr+Nr,issuedAtTimeMillis:hr}})).apply(this,arguments)}function dt(bt,mt){const{projectId:Ut,appId:sn,apiKey:pn}=bt.options;return{url:`${Rn}/projects/${Ut}/apps/${sn}:${Lt}?key=${pn}`,body:{debug_token:mt}}}const ze="firebase-app-check-database",Zt=1,bn="firebase-app-check-store";let Mt=null;function an(){return(an=(0,he.Z)(function*(bt,mt){const sn=(yield function de(){return Mt||(Mt=new Promise((bt,mt)=>{try{const Ut=indexedDB.open(ze,Zt);Ut.onsuccess=sn=>{bt(sn.target.result)},Ut.onerror=sn=>{var pn;mt(on.create("storage-open",{originalErrorMessage:null===(pn=sn.target.error)||void 0===pn?void 0:pn.message}))},Ut.onupgradeneeded=sn=>{0===sn.oldVersion&&sn.target.result.createObjectStore(bn,{keyPath:"compositeKey"})}}catch(Ut){mt(on.create("storage-open",{originalErrorMessage:Ut?.message}))}}),Mt)}()).transaction(bn,"readwrite"),ln=sn.objectStore(bn).put({compositeKey:bt,value:mt});return new Promise((Nn,si)=>{ln.onsuccess=xi=>{Nn()},sn.onerror=xi=>{var Nr;si(on.create("storage-set",{originalErrorMessage:null===(Nr=xi.target.error)||void 0===Nr?void 0:Nr.message}))}})})).apply(this,arguments)}const cn=new Ge.Yd("@firebase/app-check");function It(bt,mt){return(0,Ae.hl)()?function ht(bt,mt){return function Yt(bt,mt){return an.apply(this,arguments)}(function Dn(bt){return`${bt.options.appId}-${bt.name}`}(bt),mt)}(bt,mt).catch(Ut=>{cn.warn(`Failed to write token to IndexedDB. Error: ${Ut}`)}):Promise.resolve()}function fi(){return yn().enabled}function ei(){return yi.apply(this,arguments)}function yi(){return(yi=(0,he.Z)(function*(){const bt=yn();if(bt.enabled&&bt.token)return bt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nt={error:"UNKNOWN_ERROR"};function ct(bt){return Ae.US.encodeString(JSON.stringify(bt),!1)}function He(bt){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,he.Z)(function*(bt,mt=!1){const Ut=bt.app;Ye(Ut);const sn=Ze(Ut);let ln,pn=sn.token;if(pn&&!$(pn)&&(sn.token=void 0,pn=void 0),!pn){const xi=yield sn.cachedTokenPromise;xi&&($(xi)?pn=xi:yield It(Ut,void 0))}if(!mt&&pn&&$(pn))return{token:pn.token};let si,Nn=!1;if(fi()){sn.exchangeTokenPromise||(sn.exchangeTokenPromise=Et(dt(Ut,yield ei()),bt.heartbeatServiceProvider).finally(()=>{sn.exchangeTokenPromise=void 0}),Nn=!0);const xi=yield sn.exchangeTokenPromise;return yield It(Ut,xi),sn.token=xi,{token:xi.token}}try{sn.exchangeTokenPromise||(sn.exchangeTokenPromise=sn.provider.getToken().finally(()=>{sn.exchangeTokenPromise=void 0}),Nn=!0),pn=yield Ze(Ut).exchangeTokenPromise}catch(xi){"appCheck/throttled"===xi.code?cn.warn(xi.message):cn.error(xi),ln=xi}return pn?ln?si=$(pn)?{token:pn.token,internalError:ln}:le(ln):(si={token:pn.token},sn.token=pn,yield It(Ut,pn)):si=le(ln),Nn&&function U(bt,mt){const Ut=Ze(bt).tokenObservers;for(const sn of Ut)try{"EXTERNAL"===sn.type&&null!=mt.error?sn.error(mt.error):sn.next(mt)}catch{}}(Ut,si),si})).apply(this,arguments)}function Se(bt){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,he.Z)(function*(bt){const mt=bt.app;Ye(mt);const{provider:Ut}=Ze(mt);if(fi()){const sn=yield ei(),{token:pn}=yield Et(dt(mt,sn),bt.heartbeatServiceProvider);return{token:pn}}{const{token:sn}=yield Ut.getToken();return{token:sn}}})).apply(this,arguments)}function Re(bt,mt){const Ut=Ze(bt),sn=Ut.tokenObservers.filter(pn=>pn.next!==mt);0===sn.length&&Ut.tokenRefresher&&Ut.tokenRefresher.isRunning()&&Ut.tokenRefresher.stop(),Ut.tokenObservers=sn}function ce(bt){const{app:mt}=bt,Ut=Ze(mt);let sn=Ut.tokenRefresher;sn||(sn=function z(bt){const{app:mt}=bt;return new Qt((0,he.Z)(function*(){let sn;if(sn=Ze(mt).token?yield He(bt,!0):yield He(bt),sn.error)throw sn.error;if(sn.internalError)throw sn.internalError}),()=>!0,()=>{const Ut=Ze(mt);if(Ut.token){let sn=Ut.token.issuedAtTimeMillis+.5*(Ut.token.expireTimeMillis-Ut.token.issuedAtTimeMillis)+3e5;return sn=Math.min(sn,Ut.token.expireTimeMillis-3e5),Math.max(0,sn-Date.now())}return 0},Vt.RETRIAL_MIN_WAIT,Vt.RETRIAL_MAX_WAIT)}(bt),Ut.tokenRefresher=sn),!sn.isRunning()&&Ut.isTokenAutoRefreshEnabled&&sn.start()}function $(bt){return bt.expireTimeMillis-Date.now()>0}function le(bt){return{token:ct(nt),error:bt}}class ae{constructor(mt,Ut){this.app=mt,this.heartbeatServiceProvider=Ut}_delete(){const{tokenObservers:mt}=Ze(this.app);for(const Ut of mt)Re(this.app,Ut.next);return Promise.resolve()}}const $o="app-check-internal";!function fo(){(0,Ce._registerComponent)(new ge.wA("app-check",bt=>function xe(bt,mt){return new ae(bt,mt)}(bt.getProvider("app").getImmediate(),bt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((bt,mt,Ut)=>{bt.getProvider($o).initialize()})),(0,Ce._registerComponent)(new ge.wA($o,bt=>function Oe(bt){return{getToken:mt=>He(bt,mt),getLimitedUseToken:()=>Se(bt),addTokenListener:mt=>function $t(bt,mt,Ut,sn){const{app:pn}=bt,ln=Ze(pn);if(ln.tokenObservers=[...ln.tokenObservers,{next:Ut,error:sn,type:mt}],ln.token&&$(ln.token)){const si=ln.token;Promise.resolve().then(()=>{Ut({token:si.token}),ce(bt)}).catch(()=>{})}ln.cachedTokenPromise.then(()=>ce(bt))}(bt,"INTERNAL",mt),removeTokenListener:mt=>Re(bt.app,mt)}}(bt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.8.0")}();class Hr{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},1205:(vn,it,E)=>{E.d(it,{zQ:()=>Rn,rT:()=>Le,f7:()=>xt,L6:()=>Z,_Q:()=>Ke,lh:()=>Ze,Qv:()=>Ge,nw:()=>yn});var d=E(2223),C=E(7579),m=E(9646),ee=E(9751),Ee=E(8996),re=E(6451),K=E(5363),ve=E(3900),De=E(4004),oe=E(6063);class ue extends C.x{constructor(Lt=1/0,Vt=1/0,Jt=oe.l){super(),this._bufferSize=Lt,this._windowTime=Vt,this._timestampProvider=Jt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Vt===1/0,this._bufferSize=Math.max(1,Lt),this._windowTime=Math.max(1,Vt)}next(Lt){const{isStopped:Vt,_buffer:Jt,_infiniteTimeWindow:Qt,_timestampProvider:un,_windowTime:_n}=this;Vt||(Jt.push(Lt),!Qt&&Jt.push(un.now()+_n)),this._trimBuffer(),super.next(Lt)}_subscribe(Lt){this._throwIfClosed(),this._trimBuffer();const Vt=this._innerSubscribe(Lt),{_infiniteTimeWindow:Jt,_buffer:Qt}=this,un=Qt.slice();for(let _n=0;_n<un.length&&!Lt.closed;_n+=Jt?1:2)Lt.next(un[_n]);return this._checkFinalizedStatuses(Lt),Vt}_trimBuffer(){const{_bufferSize:Lt,_timestampProvider:Vt,_buffer:Jt,_infiniteTimeWindow:Qt}=this,un=(Qt?1:2)*Lt;if(Lt<1/0&&un<Jt.length&&Jt.splice(0,Jt.length-un),!Qt){const _n=Vt.now();let on=0;for(let Rt=1;Rt<Jt.length&&Jt[Rt]<=_n;Rt+=2)on=Rt;on&&Jt.splice(0,on+1)}}}var fe=E(3099);function et(gt,Lt,Vt){let Jt,Qt=!1;return gt&&"object"==typeof gt?({bufferSize:Jt=1/0,windowTime:Lt=1/0,refCount:Qt=!1,scheduler:Vt}=gt):Jt=gt??1/0,(0,fe.B)({connector:()=>new ue(Jt,Lt,Vt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Qt})}var Ve=E(590),lt=E(576);function Qe(gt,Lt){return(0,lt.m)(Lt)?(0,ve.w)(()=>gt,Lt):(0,ve.w)(()=>gt)}var Je=E(9468),Ue=E(9300),ke=E(4976),wt=E(2011),he=E(4755),Ce=E(6217);E(9260);const Ge=new d.OlP("angularfire2.auth.use-emulator"),Z=new d.OlP("angularfire2.auth.settings"),Ke=new d.OlP("angularfire2.auth.tenant-id"),Le=new d.OlP("angularfire2.auth.langugage-code"),Ze=new d.OlP("angularfire2.auth.use-device-language"),xt=new d.OlP("angularfire.auth.persistence"),yn=(gt,Lt,Vt,Jt,Qt,un,_n,on)=>(0,wt.cc)(`${gt.name}.auth`,"AngularFireAuth",gt.name,()=>{const Rt=Lt.runOutsideAngular(()=>gt.auth());if(Vt&&Rt.useEmulator(...Vt),Jt&&(Rt.tenantId=Jt),Rt.languageCode=Qt,un&&Rt.useDeviceLanguage(),_n)for(const[Ye,tt]of Object.entries(_n))Rt.settings[Ye]=tt;return on&&Rt.setPersistence(on),Rt},[Vt,Jt,Qt,un,_n,on]);let Rn=(()=>{class gt{constructor(Vt,Jt,Qt,un,_n,on,Rt,Ye,tt,Nt,Et,zt){const St=new C.x,At=(0,m.of)(void 0).pipe((0,K.Q)(_n.outsideAngular),(0,ve.w)(()=>un.runOutsideAngular(()=>Promise.resolve().then(E.bind(E,9568)))),(0,De.U)(()=>(0,wt.on)(Vt,un,Jt)),(0,De.U)(dt=>yn(dt,un,on,Ye,tt,Nt,Rt,Et)),et({bufferSize:1,refCount:!1}));if((0,he.PM)(Qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,m.of)(null);else{At.pipe((0,Ve.P)()).subscribe();const ze=At.pipe((0,ve.w)(mn=>mn.getRedirectResult().then(Mt=>Mt,()=>null)),ke.iC,et({bufferSize:1,refCount:!1})),Zt=At.pipe((0,ve.w)(mn=>new ee.y(Mt=>({unsubscribe:un.runOutsideAngular(()=>mn.onAuthStateChanged(de=>Mt.next(de),de=>Mt.error(de),()=>Mt.complete()))})))),bn=At.pipe((0,ve.w)(mn=>new ee.y(Mt=>({unsubscribe:un.runOutsideAngular(()=>mn.onIdTokenChanged(de=>Mt.next(de),de=>Mt.error(de),()=>Mt.complete()))}))));this.authState=ze.pipe(Qe(Zt),(0,Je.R)(_n.outsideAngular),(0,K.Q)(_n.insideAngular)),this.user=ze.pipe(Qe(bn),(0,Je.R)(_n.outsideAngular),(0,K.Q)(_n.insideAngular)),this.idToken=this.user.pipe((0,ve.w)(mn=>mn?(0,Ee.D)(mn.getIdToken()):(0,m.of)(null))),this.idTokenResult=this.user.pipe((0,ve.w)(mn=>mn?(0,Ee.D)(mn.getIdTokenResult()):(0,m.of)(null))),this.credential=(0,re.T)(ze,St,this.authState.pipe((0,Ue.h)(mn=>!mn))).pipe((0,De.U)(mn=>mn?.user?mn:null),(0,Je.R)(_n.outsideAngular),(0,K.Q)(_n.insideAngular))}return(0,wt.pX)(this,At,un,{spy:{apply:(dt,ze,Zt)=>{(dt.startsWith("signIn")||dt.startsWith("createUser"))&&Zt.then(bn=>St.next(bn))}}})}}return gt.\u0275fac=function(Vt){return new(Vt||gt)(d.LFG(wt.Dh),d.LFG(wt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ke.HU),d.LFG(Ge,8),d.LFG(Z,8),d.LFG(Ke,8),d.LFG(Le,8),d.LFG(Ze,8),d.LFG(xt,8),d.LFG(Ce.nm,8))},gt.\u0275prov=d.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"any"}),gt})()},1762:(vn,it,E)=>{E.d(it,{ST:()=>qv,yb:()=>Au});var d=E(2223),C=E(4986),m=E(9751),ee=E(8996),Ee=E(9646),re=E(4976),K=E(8675),ve=E(4482),De=E(5403);function oe(){return(0,ve.e)((r,e)=>{let t,o=!1;r.subscribe((0,De.x)(e,a=>{const u=t;t=a,o&&e.next([u,a]),o=!0}))})}var Z,ue=E(4004),fe=E(5026),et=E(1884),Ve=E(9300),lt=E(2011),Qe=E(4755),Ue=(E(9568),E(3942)),ke=E(5861),wt=E(6881),he=E(4859),Ce=E(1877),ge=E(2090),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge={},Ke=Ke||{},Le=Ae||self;function Ze(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function xt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Rn="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function gt(r,e,t){return r.call.apply(r.bind,arguments)}function Lt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Vt(r,e,t){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gt:Lt).apply(null,arguments)}function Jt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Qt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,a,u){for(var p=Array(arguments.length-2),O=2;O<arguments.length;O++)p[O-2]=arguments[O];return e.prototype[a].apply(o,p)}}function un(){this.s=this.s,this.o=this.o}un.prototype.s=!1,un.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function yn(r){Object.prototype.hasOwnProperty.call(r,Rn)&&r[Rn]||(r[Rn]=++_t)}(this)},un.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const on=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Rt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Ye(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Ze(o)){const a=r.length||0,u=o.length||0;r.length=a+u;for(let p=0;p<u;p++)r[a+p]=o[p]}else r.push(o)}}function tt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Le.addEventListener("test",()=>{},e),Le.removeEventListener("test",()=>{},e)}catch{}return r}();function Et(r){return/^[\s\xa0]*$/.test(r)}function zt(){var r=Le.navigator;return r&&(r=r.userAgent)?r:""}function St(r){return-1!=zt().indexOf(r)}function At(r){return At[" "](r),r}At[" "]=function(){};var ht,r,ze=St("Opera"),Zt=St("Trident")||St("MSIE"),bn=St("Edge"),mn=bn||Zt,Mt=St("Gecko")&&!(-1!=zt().toLowerCase().indexOf("webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),de=-1!=zt().toLowerCase().indexOf("webkit")&&!St("Edge");function Ne(){var r=Le.document;return r?r.documentMode:void 0}e:{var ut="",kt=(r=zt(),Mt?/rv:([^\);]+)(\)|;)/.exec(r):bn?/Edge\/([\d\.]+)/.exec(r):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):de?/WebKit\/(\S+)/.exec(r):ze?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(kt&&(ut=kt?kt[1]:""),Zt){var Yt=Ne();if(null!=Yt&&Yt>parseFloat(ut)){ht=String(Yt);break e}}ht=ut}var oi=Le.document&&Zt&&(Ne()||parseInt(ht,10))||void 0;function Dn(r,e){if(tt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Mt){e:{try{At(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:cn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Dn.$.h.call(this)}}Qt(Dn,tt);var cn={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),je=0;function It(r,e,t,o,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++je,this.fa=this.ia=!1}function Wt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function An(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function ei(r){const e={};for(const t in r)e[t]=r[t];return e}const yi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qt(r,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)r[t]=o[t];for(let u=0;u<yi.length;u++)t=yi[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function nt(r){this.src=r,this.g={},this.h=0}function ct(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],a=on(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(Wt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function He(r,e,t,o){for(var a=0;a<r.length;++a){var u=r[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}nt.prototype.add=function(r,e,t,o,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var p=He(r,e,o,a);return-1<p?(e=r[p],t||(e.ia=!1)):((e=new It(e,this.src,u,!!o,a)).ia=t,r.push(e)),e};var Fe="closure_lm_"+(1e6*Math.random()|0),Se={};function Ct(r,e,t,o,a){if(o&&o.once)return ce(r,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ct(r,e[u],t,o,a);return null}return t=Oe(t),r&&r[Hn]?r.O(e,t,xt(o)?!!o.capture:!!o,a):$t(r,e,t,!1,o,a)}function $t(r,e,t,o,a,u){if(!e)throw Error("Invalid event type");var p=xt(a)?!!a.capture:!!a,O=ae(r);if(O||(r[Fe]=O=new nt(r)),(t=O.add(e,t,o,p,u)).proxy)return t;if(o=function Re(){const e=le;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Nt||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),o,a);else if(r.attachEvent)r.attachEvent($(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function ce(r,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)ce(r,e[u],t,o,a);return null}return t=Oe(t),r&&r[Hn]?r.P(e,t,xt(o)?!!o.capture:!!o,a):$t(r,e,t,!0,o,a)}function z(r,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)z(r,e[u],t,o,a);else o=xt(o)?!!o.capture:!!o,t=Oe(t),r&&r[Hn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=He(u=r.g[e],t,o,a))&&(Wt(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=ae(r))&&(e=r.g[e.toString()],r=-1,e&&(r=He(e,t,o,a)),(t=-1<r?e[r]:null)&&U(t))}function U(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hn])ct(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent($(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ae(e))?(ct(t,r),0==t.h&&(t.src=null,e[Fe]=null)):Wt(r)}}}function $(r){return r in Se?Se[r]:Se[r]="on"+r}function le(r,e){if(r.fa)r=!0;else{e=new Dn(e,this);var t=r.listener,o=r.la||r.src;r.ia&&U(r),r=t.call(o,e)}return r}function ae(r){return(r=r[Fe])instanceof nt?r:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(r){return"function"==typeof r?r:(r[xe]||(r[xe]=function(e){return r.handleEvent(e)}),r[xe])}function Pe(){un.call(this),this.i=new nt(this),this.S=this,this.J=null}function Y(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new tt(e,r);else if(e instanceof tt)e.target=e.target||r;else{var a=e;qt(e=new tt(o,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var p=e.g=t[u];a=we(p,o,!0,e)&&a}if(a=we(p=e.g=r,o,!0,e)&&a,a=we(p,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=we(p=e.g=t[u],o,!1,e)&&a}function we(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var p=e[u];if(p&&!p.fa&&p.capture==t){var O=p.listener,G=p.la||p.src;p.ia&&ct(r.i,p),a=!1!==O.call(G,o)&&a}}return a&&!o.defaultPrevented}Qt(Pe,un),Pe.prototype[Hn]=!0,Pe.prototype.removeEventListener=function(r,e,t,o){z(this,r,e,t,o)},Pe.prototype.N=function(){if(Pe.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Wt(t[o]);delete r.g[e],r.h--}}this.J=null},Pe.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Pe.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var vt=Le.JSON.stringify;function qn(){var r=pi;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Ft=new class Bt{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Tt,r=>r.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xn(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Xn(r){Le.setTimeout(()=>{throw r},0)}let Pn,zn=!1,pi=new class ri{constructor(){this.h=this.g=null}add(e,t){const o=Ft.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},nr=()=>{const r=Le.Promise.resolve(void 0);Pn=()=>{r.then(Ti)}};var Ti=()=>{for(var r;r=qn();){try{r.h.call(r.g)}catch(t){Xn(t)}var e=Ft;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}zn=!1};function Dr(r,e){Pe.call(this),this.h=r||1,this.g=e||Le,this.j=Vt(this.qb,this),this.l=Date.now()}function uo(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function bo(r,e,t){if("function"==typeof r)t&&(r=Vt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Vt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Le.setTimeout(r,e||0)}function gs(r){r.g=bo(()=>{r.g=null,r.i&&(r.i=!1,gs(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Qt(Dr,Pe),(Z=Dr.prototype).ga=!1,Z.T=null,Z.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Y(this,"tick"),this.ga&&(uo(this),this.start()))}},Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Z.N=function(){Dr.$.N.call(this),uo(this),delete this.g};class qi extends un{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(r){un.call(this),this.h=r,this.g={}}Qt(Jr,un);var Ar=[];function jr(r,e,t,o){Array.isArray(t)||(t&&(Ar[0]=t.toString()),t=Ar);for(var a=0;a<t.length;a++){var u=Ct(e,t[a],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function ao(r){An(r.g,function(e,t){this.g.hasOwnProperty(t)&&U(e)},r),r.g={}}function wi(){this.g=!0}function eo(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hr(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var p=1;p<a.length;p++)a[p]=""}}}return vt(t)}catch{return e}}(r,t)+(o?" "+o:"")})}Jr.prototype.N=function(){Jr.$.N.call(this),ao(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wi.prototype.Ea=function(){this.g=!1},wi.prototype.info=function(){};var to={},Do=null;function Vs(){return Do=Do||new Pe}function _s(r){tt.call(this,to.Ta,r)}function Go(r){const e=Vs();Y(e,new _s(e))}function no(r,e){tt.call(this,to.STAT_EVENT,r),this.stat=e}function kr(r){const e=Vs();Y(e,new no(e,r))}function Xo(r,e){tt.call(this,to.Ua,r),this.size=e}function Jo(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){r()},e)}to.Ta="serverreachability",Qt(_s,tt),to.STAT_EVENT="statevent",Qt(no,tt),to.Ua="timingevent",Qt(Xo,tt);var gi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ir={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ki(){}function Or(){}ki.prototype.h=null;var Ut,Io={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bt(){tt.call(this,"d")}function mt(){tt.call(this,"c")}function sn(){}function pn(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new Jr(this),this.P=Nn,this.V=new Dr(r=mn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ln}function ln(){this.i=null,this.g="",this.h=!1}Qt(bt,tt),Qt(mt,tt),Qt(sn,ki),sn.prototype.g=function(){return new XMLHttpRequest},sn.prototype.i=function(){return{}},Ut=new sn;var Nn=45e3,si={},xi={};function Nr(r,e,t){r.L=1,r.v=So(ir(e)),r.s=t,r.S=!0,hr(r,null)}function hr(r,e){r.G=Date.now(),$r(r),r.A=ir(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Xi(t.i,"t",o),r.C=0,t=r.l.J,r.h=new ln,r.g=da(r.l,t?e:null,!r.s),0<r.O&&(r.M=new qi(Vt(r.Pa,r,r.g),r.O)),jr(r.U,r.g,"readystatechange",r.nb),e=r.I?ei(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Go(),function $o(r,e,t,o,a,u){r.info(function(){if(r.g)if(u)for(var p="",O=u.split("&"),G=0;G<O.length;G++){var te=O[G].split("=");if(1<te.length){var be=te[0];te=te[1];var st=be.split("_");p=2<=st.length&&"type"==st[1]?p+(be+"=")+te+"&":p+(be+"=redacted&")}}else p=null;else p=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function $i(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Mi(r,e,t){let a,o=!0;for(;!r.J&&r.C<t.length;){if(a=Tr(r,t),a==xi){4==e&&(r.o=4,kr(14),o=!1),eo(r.j,r.m,null,"[Incomplete Response]");break}if(a==si){r.o=4,kr(15),eo(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}eo(r.j,r.m,a,null),Zi(r,a)}$i(r)&&a!=xi&&a!=si&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,kr(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ba(e),e.M=!0,kr(11))):(eo(r.j,r.m,t,"[Invalid Chunked Response]"),Rr(r),po(r))}function Tr(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?xi:(t=Number(e.substring(t,o)),isNaN(t)?si:(o+=1)+t>e.length?xi:(e=e.slice(o,o+t),r.C=o+t,e))}function $r(r){r.Y=Date.now()+r.P,li(r,r.P)}function li(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Jo(Vt(r.lb,r),e)}function To(r){r.B&&(Le.clearTimeout(r.B),r.B=null)}function po(r){0==r.l.H||r.J||Js(r.l,r)}function Rr(r){To(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,uo(r.V),ao(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Zi(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||at(t.i,r)))if(!r.K&&at(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;la(t),Cs(t)}Oo(t),kr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Jo(Vt(t.ib,t),6e3));if(1>=q(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ds(t,11)}else if((r.K||t.g==r)&&la(t),!Et(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let te=a[e];if(t.V=te[0],te=te[1],2==t.H)if("c"==te[0]){t.K=te[1],t.pa=te[2];const be=te[3];null!=be&&(t.ra=be,t.l.info("VER="+t.ra));const st=te[4];null!=st&&(t.Ga=st,t.l.info("SVER="+t.Ga));const Xt=te[5];null!=Xt&&"number"==typeof Xt&&0<Xt&&(t.L=o=1.5*Xt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const gn=r.g;if(gn){const Bn=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bn){var u=o.i;u.g||-1==Bn.indexOf("spdy")&&-1==Bn.indexOf("quic")&&-1==Bn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(tn(u,u.h),u.h=null))}if(o.F){const Jn=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jn&&(o.Da=Jn,Qi(o.I,o.F,Jn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=r;if((o=t).wa=ea(o,o.J?o.pa:null,o.Y),p.K){kn(o.i,p);var O=p,G=o.L;G&&O.setTimeout(G),O.B&&(To(O),$r(O)),o.g=p}else wc(o);0<t.j.length&&Ls(t)}else"stop"!=te[0]&&"close"!=te[0]||Ds(t,7);else 3==t.H&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?Ds(t,7):rs(t):"noop"!=te[0]&&t.h&&t.h.Aa(te),t.A=0)}Go()}catch{}}function ts(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ze(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function es(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Ze(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Lo(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ze(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],r)}(Z=pn.prototype).setTimeout=function(r){this.P=r},Z.nb=function(r){r=r.target;const e=this.M;e&&3==gr(r)?e.l():this.Pa(r)},Z.Pa=function(r){try{if(r==this.g)e:{const be=gr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>be)&&(3!=be||mn||this.g&&(this.h.h||this.g.ja()||Si(this.g)))){this.J||4!=be||7==e||Go(),To(this);var t=this.g.da();this.ca=t;t:if($i(this)){var o=Si(this.g);r="";var a=o.length,u=4==gr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),po(this);var p="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function fo(r,e,t,o,a,u,p){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+p})}(this.j,this.u,this.A,this.m,this.W,be,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var O,G=this.g;if((O=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(O)){var te=O;break t}}te=null}if(!(t=te)){this.i=!1,this.o=3,kr(12),Rr(this),po(this);break e}eo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zi(this,t)}this.S?(Mi(this,be,p),mn&&this.i&&3==be&&(jr(this.U,this.V,"tick",this.mb),this.V.start())):(eo(this.j,this.m,p,null),Zi(this,p)),4==be&&Rr(this),this.i&&!this.J&&(4==be?Js(this.l,this):(this.i=!1,$r(this)))}else(function ko(r){const e={};r=(r.g&&2<=gr(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(Et(r[o]))continue;var t=xn(r[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[a]||[];e[a]=u,u.push(t)}!function fi(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),Rr(this),po(this)}}}catch{}},Z.mb=function(){if(this.g){var r=gr(this.g),e=this.g.ja();this.C<e.length&&(To(this),Mi(this,r,e),this.i&&4!=r&&$r(this))}},Z.cancel=function(){this.J=!0,Rr(this)},Z.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function dr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Go(),kr(17)),Rr(this),this.o=2,po(this)):li(this,this.Y-r)};var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Li(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Li){this.h=r.h,Es(this,r.j),this.s=r.s,this.g=r.g,Mo(this,r.m),this.l=r.l;var e=r.i,t=new br;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ui(this,t),this.o=r.o}else r&&(e=String(r).match(ns))?(this.h=!1,Es(this,e[1]||"",!0),this.s=Wo(e[2]||""),this.g=Wo(e[3]||"",!0),Mo(this,e[4]),this.l=Wo(e[5]||"",!0),Ui(this,e[6]||"",!0),this.o=Wo(e[7]||"")):(this.h=!1,this.i=new br(null,this.h))}function ir(r){return new Li(r)}function Es(r,e,t){r.j=t?Wo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Mo(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ui(r,e,t){e instanceof br?(r.i=e,function Vo(r,e){e&&!r.j&&(ho(r),r.i=null,r.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(Mr(this,o),Xi(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Gr(e,Bo)),r.i=new br(e,r.h))}function Qi(r,e,t){r.i.set(e,t)}function So(r){return Qi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Wo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Gr(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,is),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function is(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Li.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Gr(e,Fs,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Gr(e,Fs,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Gr(t,"/"==t.charAt(0)?vr:ks,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Gr(t,Ki)),r.join("")};var Fs=/[#\/\?@]/g,ks=/[#\?:]/g,vr=/[#\?]/g,Bo=/[#\?@]/g,Ki=/#/g;function br(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ho(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ps(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),a=null;if(0<=o){var u=r[t].substring(0,o);a=r[t].substring(o+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Mr(r,e){ho(r),e=Ao(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Uo(r,e){return ho(r),e=Ao(r,e),r.g.has(e)}function Xi(r,e,t){Mr(r,e),0<t.length&&(r.i=null,r.g.set(Ao(r,e),Rt(t)),r.h+=t.length)}function Ao(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ns(r){this.l=r||qe,r=Le.PerformanceNavigationTiming?0<(r=Le.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Z=br.prototype).add=function(r,e){ho(this),this.i=null,r=Ao(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Z.forEach=function(r,e){ho(this),this.g.forEach(function(t,o){t.forEach(function(a){r.call(e,a,o,this)},this)},this)},Z.ta=function(){ho(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=r[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},Z.Z=function(r){ho(this);let e=[];if("string"==typeof r)Uo(this,r)&&(e=e.concat(this.g.get(Ao(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Z.set=function(r,e){return ho(this),this.i=null,Uo(this,r=Ao(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Z.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),p=this.Z(o);for(o=0;o<p.length;o++){var a=u;""!==p[o]&&(a+="="+encodeURIComponent(String(p[o]))),r.push(a)}}return this.i=r.join("&")};var qe=10;function We(r){return!!r.h||!!r.g&&r.g.size>=r.j}function q(r){return r.h?1:r.g?r.g.size:0}function at(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function tn(r,e){r.g?r.g.add(e):r.h=e}function kn(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Bi(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Rt(r.i)}Ns.prototype.cancel=function(){if(this.i=Bi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var yr=class{stringify(r){return Le.JSON.stringify(r,void 0)}parse(r){return Le.JSON.parse(r,void 0)}};function Wr(){this.g=new yr}function go(r,e,t){const o=t||"";try{ts(r,function(a,u){let p=a;xt(a)&&(p=vt(a)),e.push(o+u+"="+encodeURIComponent(p))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function yo(r,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function W(r){this.l=r.fc||null,this.j=r.ob||!1}function H(r,e){Pe.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qt(W,ki),W.prototype.g=function(){return new H(this.l,this.j)},W.prototype.i=function(r){return function(){return r}}({}),Qt(H,Pe);var v=0;function D(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ne(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Me(r)}function Me(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Z=H.prototype).open=function(r,e){if(this.readyState!=v)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Me(this)},Z.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ne(this)),this.readyState=v},Z.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Me(this)),this.g&&(this.readyState=3,Me(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Z.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ne(this):Me(this),3==this.readyState&&D(this)}},Z.Za=function(r){this.g&&(this.response=this.responseText=r,ne(this))},Z.Ya=function(r){this.g&&(this.response=r,ne(this))},Z.ka=function(){this.g&&ne(this)},Z.setRequestHeader=function(r,e){this.v.append(r,e)},Z.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Z.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(H.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ft=Le.JSON.parse;function jt(r){Pe.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mn,this.L=this.M=!1}Qt(jt,Pe);var Mn="",Zn=/^https?$/i,$n=["POST","PUT"];function Oi(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,fr(r),pr(r)}function fr(r){r.F||(r.F=!0,Y(r,"complete"),Y(r,"error"))}function Lr(r){if(r.h&&typeof Ke<"u"&&(!r.C[1]||4!=gr(r)||2!=r.da()))if(r.v&&4==gr(r))bo(r.La,0,r);else if(Y(r,"readystatechange"),4==gr(r)){r.h=!1;try{const p=r.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===p){var a=String(r.I).match(ns)[1]||null;!a&&Le.self&&Le.self.location&&(a=Le.self.location.protocol.slice(0,-1)),o=!Zn.test(a?a.toLowerCase():"")}t=o}if(t)Y(r,"complete"),Y(r,"success");else{r.m=6;try{var u=2<gr(r)?r.g.statusText:""}catch{u=""}r.j=u+" ["+r.da()+"]",fr(r)}}finally{pr(r)}}}function pr(r,e){if(r.g){Hi(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Y(r,"ready");try{t.onreadystatechange=o}catch{}}}function Hi(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Le.clearTimeout(r.A),r.A=null)}function gr(r){return r.g?r.g.readyState:0}function Si(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Mn:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function io(r){let e="";return An(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Pr(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=io(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Qi(r,e,t))}function Fr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function wo(r){this.Ga=0,this.j=[],this.l=new wi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fr("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fr("baseRetryDelayMs",5e3,r),this.hb=Fr("retryDelaySeedMs",1e4,r),this.eb=Fr("forwardChannelMaxRetries",2,r),this.xa=Fr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ns(r&&r.concurrentRequestLimit),this.Ja=new Wr,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rs(r){if(vs(r),3==r.H){var e=r.W++,t=ir(r.I);if(Qi(t,"SID",r.K),Qi(t,"RID",e),Qi(t,"TYPE","terminate"),Ta(r,t),(e=new pn(r,r.l,e)).L=2,e.v=So(ir(t)),t=!1,Le.navigator&&Le.navigator.sendBeacon)try{t=Le.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Le.Image&&((new Image).src=e.v,t=!0),t||(e.g=da(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$r(e)}Ma(r)}function Cs(r){r.g&&(ba(r),r.g.cancel(),r.g=null)}function vs(r){Cs(r),r.u&&(Le.clearTimeout(r.u),r.u=null),la(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Le.clearTimeout(r.m),r.m=null)}function Ls(r){if(!We(r.i)&&!r.m){r.m=!0;var e=r.Na;Pn||nr(),zn||(Pn(),zn=!0),pi.add(e,r),r.C=0}}function ca(r,e){var t;t=e?e.m:r.W++;const o=ir(r.I);Qi(o,"SID",r.K),Qi(o,"RID",t),Qi(o,"AID",r.V),Ta(r,o),r.o&&r.s&&Pr(o,r.o,r.s),t=new pn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=ro(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),tn(r.i,t),Nr(t,o,e)}function Ta(r,e){r.na&&An(r.na,function(t,o){Qi(e,o,t)}),r.h&&ts({},function(t,o){Qi(e,o,t)})}function ro(r,e,t){t=Math.min(r.j.length,t);var o=r.h?Vt(r.h.Va,r.h,r):null;e:{var a=r.j;let u=-1;for(;;){const p=["count="+t];-1==u?0<t?(u=a[0].g,p.push("ofs="+u)):u=0:p.push("ofs="+u);let O=!0;for(let G=0;G<t;G++){let te=a[G].g;const be=a[G].map;if(te-=u,0>te)u=Math.max(0,a[G].g-100),O=!1;else try{go(be,p,"req"+te+"_")}catch{o&&o(be)}}if(O){o=p.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function wc(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Pn||nr(),zn||(Pn(),zn=!0),pi.add(e,r),r.A=0}}function Oo(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Jo(Vt(r.Ma,r),ya(r,r.A)),r.A++,0))}function ba(r){null!=r.B&&(Le.clearTimeout(r.B),r.B=null)}function js(r){r.g=new pn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ir(r.wa);Qi(e,"RID","rpc"),Qi(e,"SID",r.K),Qi(e,"AID",r.V),Qi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Qi(e,"TO",r.qa),Qi(e,"TYPE","xmlhttp"),Ta(r,e),r.o&&r.s&&Pr(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=So(ir(e)),t.s=null,t.S=!0,hr(t,r)}function la(r){null!=r.v&&(Le.clearTimeout(r.v),r.v=null)}function Js(r,e){var t=null;if(r.g==e){la(r),ba(r),r.g=null;var o=2}else{if(!at(r.i,e))return;t=e.F,kn(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Y(o=Vs(),new Xo(o,t)),Ls(r)}else wc(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function aa(r,e){return!(q(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Jo(Vt(r.Na,r,e),ya(r,r.C)),r.C++,0)))}(r,e)||2==o&&Oo(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ds(r,5);break;case 4:Ds(r,10);break;case 3:Ds(r,6);break;default:Ds(r,2)}}function ya(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Ds(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=Vt(r.pb,r);t||(t=new Li("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||Es(t,"https"),So(t)),function mr(r,e){const t=new wi;if(Le.Image){const o=new Image;o.onload=Jt(yo,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Jt(yo,t,o,"TestLoadImage: error",!1,e),o.onabort=Jt(yo,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Jt(yo,t,o,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else kr(2);r.H=0,r.h&&r.h.za(e),Ma(r),vs(r)}function Ma(r){if(r.H=0,r.ma=[],r.h){const e=Bi(r.i);(0!=e.length||0!=r.j.length)&&(Ye(r.ma,e),Ye(r.ma,r.j),r.i.i.length=0,Rt(r.j),r.j.length=0),r.h.ya()}}function ea(r,e,t){var o=t instanceof Li?ir(t):new Li(t);if(""!=o.g)e&&(o.g=e+"."+o.g),Mo(o,o.m);else{var a=Le.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new Li(null);o&&Es(u,o),e&&(u.g=e),a&&Mo(u,a),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&Qi(o,t,e),Qi(o,"VER",r.ra),Ta(r,o),o}function da(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jt(t&&r.Ha&&!r.va?new W({ob:!0}):r.va)).Oa(r.J),e}function Ra(){}function Ks(){if(Zt&&!(10<=Number(oi)))throw Error("Environmental error: no available transport.")}function os(r,e){Pe.call(this),this.g=new wo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Et(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Et(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new as(this)}function ss(r){bt.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ko(){mt.call(this),this.status=1}function as(r){this.g=r}function xo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Zs(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],p=(e=r.g[0])+(u^(t=r.g[1])&((a=r.g[2])^u))+o[0]+3614090360&4294967295;p=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(p<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((u=(e=t+((p=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=u+((p=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+u&4294967295}function Ri(r,e){this.h=e;for(var t=[],o=!0,a=r.length-1;0<=a;a--){var u=0|r[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(Z=jt.prototype).Oa=function(r){this.M=r},Z.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ut.g(),this.C=function zr(r){return r.h||(r.h=r.i())}(this.u?this.u:Ut),this.g.onreadystatechange=Vt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void Oi(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=Le.FormData&&r instanceof Le.FormData,!(0<=on($n,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,p]of t)this.g.setRequestHeader(u,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Hi(this),0<this.B&&((this.L=function Ei(r){return Zt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.ua,this)):this.A=bo(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Oi(this,u)}},Z.ua=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Y(this,"timeout"),this.abort(8))},Z.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Y(this,"complete"),Y(this,"abort"),pr(this))},Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pr(this,!0)),jt.$.N.call(this)},Z.La=function(){this.s||(this.G||this.v||this.l?Lr(this):this.kb())},Z.kb=function(){Lr(this)},Z.isActive=function(){return!!this.g},Z.da=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Z.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ft(e)}},Z.Ia=function(){return this.m},Z.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Z=wo.prototype).ra=8,Z.H=1,Z.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new pn(this,this.l,r);let u=this.s;if(this.U&&(u?(u=ei(u),qt(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ro(this,a,e),Qi(t=ir(this.I),"RID",r),Qi(t,"CVER",22),this.F&&Qi(t,"X-HTTP-Session-Id",this.F),Ta(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(io(u)))+"&"+e:this.o&&Pr(t,this.o,u)),tn(this.i,a),this.bb&&Qi(t,"TYPE","init"),this.P?(Qi(t,"$req",e),Qi(t,"SID","null"),a.aa=!0,Nr(a,t,null)):Nr(a,t,e),this.H=2}}else 3==this.H&&(r?ca(this,r):0==this.j.length||We(this.i)||ca(this))},Z.Ma=function(){if(this.u=null,js(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Jo(Vt(this.jb,this),r)}},Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kr(10),Cs(this),js(this))},Z.ib=function(){null!=this.v&&(this.v=null,Cs(this),Oo(this),kr(19))},Z.pb=function(r){r?(this.l.info("Successfully pinged google.com"),kr(2)):(this.l.info("Failed to ping google.com"),kr(1))},Z.isActive=function(){return!!this.h&&this.h.isActive(this)},(Z=Ra.prototype).Ba=function(){},Z.Aa=function(){},Z.za=function(){},Z.ya=function(){},Z.isActive=function(){return!0},Z.Va=function(){},Ks.prototype.g=function(r,e){return new os(r,e)},Qt(os,Pe),os.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;kr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=ea(r,null,r.Y),Ls(r)},os.prototype.close=function(){rs(this.g)},os.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=vt(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Ls(e)},os.prototype.N=function(){this.g.h=null,delete this.j,rs(this.g),delete this.g,os.$.N.call(this)},Qt(ss,bt),Qt(Ko,mt),Qt(as,Ra),as.prototype.Ba=function(){Y(this.g,"a")},as.prototype.Aa=function(r){Y(this.g,new ss(r))},as.prototype.za=function(r){Y(this.g,new Ko)},as.prototype.ya=function(){Y(this.g,"b")},Qt(xo,function rr(){this.blockSize=-1}),xo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)Zs(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[a++]=r.charCodeAt(u++),a==this.blockSize){Zs(this,o),a=0;break}}else for(;u<e;)if(o[a++]=r[u++],a==this.blockSize){Zs(this,o),a=0;break}}this.h=a,this.i+=e},xo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var ua={};function P(r){return-128<=r&&128>r?function dt(r,e){var t=ua;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Ri([0|e],0>e?-1:0)}):new Ri([0|r],0>r?-1:0)}function J(r){if(isNaN(r)||!isFinite(r))return Xe;if(0>r)return Ai(J(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=pe;return new Ri(e,0)}var pe=4294967296,Xe=P(0),en=P(1),fn=P(16777216);function Qn(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Gi(r){return-1==r.h}function Ai(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Ri(t,~r.h).add(en)}function Ci(r,e){return r.add(Ai(e))}function Di(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Ji(r,e){this.g=r,this.h=e}function Gn(r,e){if(Qn(e))throw Error("division by zero");if(Qn(r))return new Ji(Xe,Xe);if(Gi(r))return e=Gn(Ai(r),e),new Ji(Ai(e.g),Ai(e.h));if(Gi(e))return e=Gn(r,Ai(e)),new Ji(Ai(e.g),e.h);if(30<r.g.length){if(Gi(r)||Gi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=en,o=e;0>=o.X(r);)t=Kr(t),o=Kr(o);var a=bs(t,1),u=bs(o,1);for(o=bs(o,2),t=bs(t,2);!Qn(o);){var p=u.add(o);0>=p.X(r)&&(a=a.add(t),u=p),o=bs(o,1),t=bs(t,1)}return e=Ci(r,a.R(e)),new Ji(a,e)}for(a=Xe;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),p=(u=J(t)).R(e);Gi(p)||0<p.X(r);)p=(u=J(t-=o)).R(e);Qn(u)&&(u=en),a=a.add(u),r=Ci(r,p)}return new Ji(a,r)}function Kr(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Ri(t,r.h)}function bs(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new Ri(a,r.h)}(Z=Ri.prototype).ea=function(){if(Gi(this))return-Ai(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:pe+o)*e,e*=pe}return r},Z.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Qn(this))return"0";if(Gi(this))return"-"+Ai(this).toString(r);for(var e=J(Math.pow(r,6)),t=this,o="";;){var a=Gn(t,e).g,u=((0<(t=Ci(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Qn(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},Z.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Z.X=function(r){return Gi(r=Ci(this,r))?-1:Qn(r)?0:1},Z.abs=function(){return Gi(this)?Ai(this):this},Z.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&r.D(a)),p=(u>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);o=p>>>16,t[a]=(p&=65535)<<16|(u&=65535)}return new Ri(t,-2147483648&t[t.length-1]?-1:0)},Z.R=function(r){if(Qn(this)||Qn(r))return Xe;if(Gi(this))return Gi(r)?Ai(this).R(Ai(r)):Ai(Ai(this).R(r));if(Gi(r))return Ai(this.R(Ai(r)));if(0>this.X(fn)&&0>r.X(fn))return J(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<r.g.length;a++){var u=this.D(o)>>>16,p=65535&this.D(o),O=r.D(a)>>>16,G=65535&r.D(a);t[2*o+2*a]+=p*G,Di(t,2*o+2*a),t[2*o+2*a+1]+=u*G,Di(t,2*o+2*a+1),t[2*o+2*a+1]+=p*O,Di(t,2*o+2*a+1),t[2*o+2*a+2]+=u*O,Di(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Ri(t,0)},Z.gb=function(r){return Gn(this,r).h},Z.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Ri(t,this.h&r.h)},Z.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Ri(t,this.h|r.h)},Z.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Ri(t,this.h^r.h)},Ks.prototype.createWebChannel=Ks.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Ir.COMPLETE="complete",Or.EventType=Io,Io.OPEN="a",Io.CLOSE="b",Io.ERROR="c",Io.MESSAGE="d",Pe.prototype.listen=Pe.prototype.O,jt.prototype.listenOnce=jt.prototype.P,jt.prototype.getLastError=jt.prototype.Sa,jt.prototype.getLastErrorCode=jt.prototype.Ia,jt.prototype.getStatus=jt.prototype.da,jt.prototype.getResponseJson=jt.prototype.Wa,jt.prototype.getResponseText=jt.prototype.ja,jt.prototype.send=jt.prototype.ha,jt.prototype.setWithCredentials=jt.prototype.Oa,xo.prototype.digest=xo.prototype.l,xo.prototype.reset=xo.prototype.reset,xo.prototype.update=xo.prototype.j,Ri.prototype.add=Ri.prototype.add,Ri.prototype.multiply=Ri.prototype.R,Ri.prototype.modulo=Ri.prototype.gb,Ri.prototype.compare=Ri.prototype.X,Ri.prototype.toNumber=Ri.prototype.ea,Ri.prototype.toString=Ri.prototype.toString,Ri.prototype.getBits=Ri.prototype.D,Ri.fromNumber=J,Ri.fromString=function B(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Ai(B(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=J(Math.pow(e,8)),o=Xe,a=0;a<r.length;a+=8){var u=Math.min(8,r.length-a),p=parseInt(r.substring(a,a+u),e);8>u?(u=J(Math.pow(e,u)),o=o.R(u).add(J(p))):o=(o=o.R(t)).add(J(p))}return o};var Zr=Ge.createWebChannelTransport=function(){return new Ks},wa=Ge.getStatEventTarget=function(){return Vs()},Ro=Ge.ErrorCode=gi,Ys=Ge.EventType=Ir,cs=Ge.Event=to,ys=Ge.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sc=Ge.FetchXmlHttpFactory=W,ha=Ge.WebChannel=Or,xc=Ge.XhrIo=jt,Ec=Ge.Md5=xo,In=Ge.Integer=Ri;const or="@firebase/firestore";class _o{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_o.UNAUTHENTICATED=new _o(null),_o.GOOGLE_CREDENTIALS=new _o("google-credentials-uid"),_o.FIRST_PARTY=new _o("first-party-uid"),_o.MOCK_USER=new _o("mock-user");let ls="9.22.2";const Yr=new Ce.Yd("@firebase/firestore");function Pa(){return Yr.logLevel}function Sn(r,...e){if(Yr.logLevel<=Ce.in.DEBUG){const t=e.map(qr);Yr.debug(`Firestore (${ls}): ${r}`,...t)}}function wr(r,...e){if(Yr.logLevel<=Ce.in.ERROR){const t=e.map(qr);Yr.error(`Firestore (${ls}): ${r}`,...t)}}function Is(r,...e){if(Yr.logLevel<=Ce.in.WARN){const t=e.map(qr);Yr.warn(`Firestore (${ls}): ${r}`,...t)}}function qr(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ni(r="Unexpected state"){const e=`FIRESTORE (${ls}) INTERNAL ASSERTION FAILED: `+r;throw wr(e),new Error(e)}function di(r,e){r||ni()}function Un(r,e){return r}const nn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class En extends ge.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Po{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_o.UNAUTHENTICATED))}shutdown(){}}class jc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xa{constructor(e){this.t=e,this.currentUser=_o.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let a=this.i;const u=te=>this.i!==a?(a=this.i,t(te)):Promise.resolve();let p=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Pi,e.enqueueRetryable(()=>u(this.currentUser))};const O=()=>{const te=p;e.enqueueRetryable((0,ke.Z)(function*(){yield te.promise,yield u(o.currentUser)}))},G=te=>{Sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(te=>G(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?G(te):(Sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Pi)}},0),O()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(di("string"==typeof o.accessToken),new Vc(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return di(null===e||"string"==typeof e),new _o(e)}}class Sa{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=_o.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cc{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Sa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_o.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&Sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const p=u.token!==this.T;return this.T=u.token,Sn("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const a=u=>{Sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?a(u):Sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(di("string"==typeof t.token),this.T=t.token,new Fa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function g(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class T{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const a=g(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[u]%62))}return o}}function j(r,e){return r<e?-1:r>e?1:0}function me(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}function rt(r){return r+"\0"}class ot{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new En(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new En(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new En(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new En(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ot(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?j(this.nanoseconds,e.nanoseconds):j(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new ot(0,0))}static max(){return new pt(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hn{constructor(e,t,o){void 0===t?t=0:t>e.length&&ni(),void 0===o?o=e.length-t:o>e.length-t&&ni(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===hn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hn?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),p=t.get(a);if(u<p)return-1;if(u>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wn extends hn{construct(e,t,o){return new wn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new En(nn.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new wn(t)}static emptyPath(){return new wn([])}}const jn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends hn{construct(e,t,o){return new ui(e,t,o)}static isValidIdentifier(e){return jn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ui(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new En(nn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let p=!1;for(;a<e.length;){const O=e[a];if("\\"===O){if(a+1===e.length)throw new En(nn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[a+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new En(nn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,a+=2}else"`"===O?(p=!p,a++):"."!==O||p?(o+=O,a++):(u(),a++)}if(u(),p)throw new En(nn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ui(t)}static emptyPath(){return new ui([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(wn.fromString(e))}static fromName(e){return new x(wn.fromString(e).popFirst(5))}static empty(){return new x(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new wn(e.slice()))}}class S{constructor(e,t,o,a){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=a}}function w(r){return r.fields.find(e=>2===e.kind)}function F(r){return r.fields.filter(e=>2!==e.kind)}S.UNKNOWN_ID=-1;class ye{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dt(0,Vn.min())}}function Cn(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,a=pt.fromTimestamp(1e9===o?new ot(t+1,0):new ot(t,o));return new Vn(a,x.empty(),e)}function ai(r){return new Vn(r.readTime,r.key,-1)}class Vn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Vn(pt.min(),x.empty(),-1)}static max(){return new Vn(pt.max(),x.empty(),-1)}}function zi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=x.comparator(r.documentKey,e.documentKey),0!==t?t:j(r.largestBatchId,e.largestBatchId))}const Br="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ms{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ds(r){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,ke.Z)(function*(r){if(r.code!==nn.FAILED_PRECONDITION||r.message!==Br)throw r;Sn("LocalStore","Unexpectedly lost primary lease")}),Ss.apply(this,arguments)}class Gt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ni(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Gt?t:Gt.resolve(t)}catch(t){return Gt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Gt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Gt.reject(t)}static resolve(e){return new Gt((t,o)=>{t(e)})}static reject(e){return new Gt((t,o)=>{o(e)})}static waitFor(e){return new Gt((t,o)=>{let a=0,u=0,p=!1;e.forEach(O=>{++a,O.next(()=>{++u,p&&u===a&&t()},G=>o(G))}),p=!0,u===a&&t()})}static or(e){let t=Gt.resolve(!1);for(const o of e)t=t.next(a=>a?Gt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new Gt((o,a)=>{const u=e.length,p=new Array(u);let O=0;for(let G=0;G<u;G++){const te=G;t(e[te]).next(be=>{p[te]=be,++O,O===u&&o(p)},be=>a(be))}})}static doWhile(e,t){return new Gt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}class ws{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Pi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new vi(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const a=hs(o.target.error);this.v.reject(new vi(e,a))}}static open(e,t,o,a){try{return new ws(t,e.transaction(a,o))}catch(u){throw new vi(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Sn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sr(t)}}class us{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===us.S((0,ge.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Sn("SimpleDb","Removing database:",e),Qr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ge.hl)())return!1;if(us.C())return!0;const e=(0,ge.z$)(),t=us.S(e),o=0<t&&t<10,a=us.N(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,ke.Z)(function*(){return t.db||(Sn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=p=>{o(p.target.result)},u.onblocked=()=>{a(new vi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=p=>{const O=p.target.error;a("VersionError"===O.name?new En(nn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new En(nn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new vi(e,O))},u.onupgradeneeded=p=>{Sn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.V.O(p.target.result,u.transaction,p.oldVersion,t.version).next(()=>{Sn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,a){var u=this;return(0,ke.Z)(function*(){const p="readonly"===t;let O=0;for(;;){++O;try{u.db=yield u.$(e);const G=ws.open(u.db,e,p?"readonly":"readwrite",o),te=a(G).next(be=>(G.P(),be)).catch(be=>(G.abort(be),Gt.reject(be))).toPromise();return te.catch(()=>{}),yield G.R,te}catch(G){const te=G,be="FirebaseError"!==te.name&&O<3;if(Sn("SimpleDb","Transaction failed with error:",te.message,"Retrying:",be),u.close(),!be)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hi{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Qr(this.L.delete())}}class vi extends En{constructor(e,t){super(nn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mi(r){return"IndexedDbTransactionError"===r.name}class sr{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Sn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Sn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Qr(o)}add(e){return Sn("SimpleDb","ADD",this.store.name,e,e),Qr(this.store.add(e))}get(e){return Qr(this.store.get(e)).next(t=>(void 0===t&&(t=null),Sn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Sn("SimpleDb","DELETE",this.store.name,e),Qr(this.store.delete(e))}count(){return Sn("SimpleDb","COUNT",this.store.name),Qr(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),u=[];return this.W(a,(p,O)=>{u.push(O)}).next(()=>u)}{const a=this.store.getAll(o.range);return new Gt((u,p)=>{a.onerror=O=>{p(O.target.error)},a.onsuccess=O=>{u(O.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Gt((a,u)=>{o.onerror=p=>{u(p.target.error)},o.onsuccess=p=>{a(p.target.result)}})}J(e,t){Sn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const a=this.cursor(o);return this.W(a,(u,p,O)=>O.delete())}X(e,t){let o;t?o=e:(o={},t=e);const a=this.cursor(o);return this.W(a,t)}Z(e){const t=this.cursor({});return new Gt((o,a)=>{t.onerror=u=>{const p=hs(u.target.error);a(p)},t.onsuccess=u=>{const p=u.target.result;p?e(p.primaryKey,p.value).next(O=>{O?p.continue():o()}):o()}})}W(e,t){const o=[];return new Gt((a,u)=>{e.onerror=p=>{u(p.target.error)},e.onsuccess=p=>{const O=p.target.result;if(!O)return void a();const G=new hi(O),te=t(O.primaryKey,O.value,G);if(te instanceof Gt){const be=te.catch(st=>(G.done(),Gt.reject(st)));o.push(be)}G.isDone?a():null===G.K?O.continue():O.continue(G.K)}}).next(()=>Gt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Qr(r){return new Gt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const a=hs(o.target.error);t(a)}})}let ta=!1;function hs(r){const e=us.S((0,ge.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new En("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ta||(ta=!0,setTimeout(()=>{throw o},0)),o}}return r}class Na{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Sn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{Sn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){mi(o)?Sn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ds(o)}yield t.et(6e4)}))}}class xr{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let a=t,u=!0;return Gt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!o.has(p))return Sn("IndexBackiller",`Processing collection: ${p}`),this.it(e,p,a).next(O=>{a-=O,o.add(p)});u=!1})).next(()=>t-a)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,o).next(u=>{const p=u.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.rt(a,u)).next(O=>(Sn("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(e,t,O))).next(()=>p.size)}))}rt(e,t){let o=e;return t.changes.forEach((a,u)=>{const p=ai(u);zi(p,o)>0&&(o=p)}),new Vn(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Zo=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Bs(r){return null==r}function mo(r){return 0===r&&1/r==-1/0}function na(r){return"number"==typeof r&&Number.isInteger(r)&&!mo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function cr(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=$a(e)),e=lc(r.get(t),e);return $a(e)}function lc(r,e){let t=e;const o=r.length;for(let a=0;a<o;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function $a(r){return r+"\x01\x01"}function ms(r){const e=r.length;if(di(e>=2),2===e)return di("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),wn.emptyPath();const t=e-2,o=[];let a="";for(let u=0;u<e;){const p=r.indexOf("\x01",u);switch((p<0||p>t)&&ni(),r.charAt(p+1)){case"\x01":const O=r.substring(u,p);let G;0===a.length?G=O:(a+=O,G=a,a=""),o.push(G);break;case"\x10":a+=r.substring(u,p),a+="\0";break;case"\x11":a+=r.substring(u,p+1);break;default:ni()}u=p+2}return new wn(o)}const Cc=["userId","batchId"];function ma(r,e){return[r,cr(e)]}function hl(r,e,t){return[r,cr(e),t]}const ml={},fl=["prefixPath","collectionGroup","readTime","documentId"],pl=["prefixPath","collectionGroup","documentId"],Gl=["collectionGroup","readTime","prefixPath","documentId"],La=["canonicalId","targetId"],Lh=["targetId","path"],Ru=["path","targetId"],Dc=["collectionId","parent"],Wl=["indexId","uid"],Kl=["uid","sequenceNumber"],Bh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gl=["indexId","uid","orderedDocumentKey"],Ga=["userId","collectionPath","documentId"],Pu=["userId","collectionPath","largestBatchId"],Zl=["userId","collectionGroup","largestBatchId"],_l=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wa=[..._l,"documentOverlays"],Rd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yl=Rd,Hc=[...Yl,"indexConfiguration","indexState","indexEntries"];class ql extends Ms{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function xs(r,e){const t=Un(r);return us.M(t.ht,e)}function zc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ia(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ba(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Er{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new Er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new Er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??fs.RED,this.left=a??fs.EMPTY,this.right=u??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new fs(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return fs.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ni();const e=this.left.check();if(e!==this.right.check())throw ni();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw ni()}get value(){throw ni()}get color(){throw ni()}get left(){throw ni()}get right(){throw ni()}copy(r,e,t,o,a){return this}insert(r,e,t){return new fs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cr{constructor(e){this.comparator=e,this.data=new Er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ql(this.data.getIterator())}getIteratorFrom(e){return new Ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cr(this.comparator);return t.data=e,t}}class Ql{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ua(r){return r.hasNext()?r.getNext():void 0}class Us{constructor(e){this.fields=e,e.sort(ui.comparator)}static empty(){return new Us([])}unionWith(e){let t=new Cr(ui.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return me(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class vl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vl("Invalid base64 string: "+a):a}}(e);return new Yo(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Yo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return j(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yo.EMPTY_BYTE_STRING=new Yo("");const Fu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(r){if(di(!!r),"string"==typeof r){let e=0;const t=Fu.exec(r);if(di(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:vo(r.seconds),nanos:vo(r.nanos)}}function vo(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ka(r){return"string"==typeof r?Yo.fromBase64String(r):Yo.fromUint8Array(r)}function $c(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function co(r){const e=r.mapValue.fields.__previous_value__;return $c(e)?co(e):e}function Tc(r){const e=Ic(r.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}class Mc{constructor(e,t,o,a,u,p,O,G,te){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=p,this.autoDetectLongPolling=O,this.longPollingOptions=G,this.useFetchStreams=te}}class Za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}const oo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ya={nullValue:"NULL_VALUE"};function Hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$c(r)?4:Wn(r)?9007199254740991:10:ni()}function ra(r,e){if(r===e)return!0;const t=Hs(r);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tc(r).isEqual(Tc(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ic(o.timestampValue),p=Ic(a.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ka(r.bytesValue).isEqual(Ka(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return vo(o.geoPointValue.latitude)===vo(a.geoPointValue.latitude)&&vo(o.geoPointValue.longitude)===vo(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return vo(o.integerValue)===vo(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=vo(o.doubleValue),p=vo(a.doubleValue);return u===p?mo(u)===mo(p):isNaN(u)&&isNaN(p)}return!1}(r,e);case 9:return me(r.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:return function(o,a){const u=o.mapValue.fields||{},p=a.mapValue.fields||{};if(zc(u)!==zc(p))return!1;for(const O in u)if(u.hasOwnProperty(O)&&(void 0===p[O]||!ra(u[O],p[O])))return!1;return!0}(r,e);default:return ni()}var a}function qa(r,e){return void 0!==(r.values||[]).find(t=>ra(t,e))}function Va(r,e){if(r===e)return 0;const t=Hs(r),o=Hs(e);if(t!==o)return j(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return j(r.booleanValue,e.booleanValue);case 2:return function(a,u){const p=vo(a.integerValue||a.doubleValue),O=vo(u.integerValue||u.doubleValue);return p<O?-1:p>O?1:p===O?0:isNaN(p)?isNaN(O)?0:-1:1}(r,e);case 3:return Nu(r.timestampValue,e.timestampValue);case 4:return Nu(Tc(r),Tc(e));case 5:return j(r.stringValue,e.stringValue);case 6:return function(a,u){const p=Ka(a),O=Ka(u);return p.compareTo(O)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const p=a.split("/"),O=u.split("/");for(let G=0;G<p.length&&G<O.length;G++){const te=j(p[G],O[G]);if(0!==te)return te}return j(p.length,O.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const p=j(vo(a.latitude),vo(u.latitude));return 0!==p?p:j(vo(a.longitude),vo(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const p=a.values||[],O=u.values||[];for(let G=0;G<p.length&&G<O.length;++G){const te=Va(p[G],O[G]);if(te)return te}return j(p.length,O.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===oo.mapValue&&u===oo.mapValue)return 0;if(a===oo.mapValue)return 1;if(u===oo.mapValue)return-1;const p=a.fields||{},O=Object.keys(p),G=u.fields||{},te=Object.keys(G);O.sort(),te.sort();for(let be=0;be<O.length&&be<te.length;++be){const st=j(O[be],te[be]);if(0!==st)return st;const Xt=Va(p[O[be]],G[te[be]]);if(0!==Xt)return Xt}return j(O.length,te.length)}(r.mapValue,e.mapValue);default:throw ni()}}function Nu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return j(r,e);const t=Ic(r),o=Ic(e),a=j(t.seconds,o.seconds);return 0!==a?a:j(t.nanos,o.nanos)}function Sc(r){return Lu(r)}function Lu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const a=Ic(o);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ka(r.bytesValue).toBase64():"referenceValue"in r?x.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let a="[",u=!0;for(const p of o.values||[])u?u=!1:a+=",",a+=Lu(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",p=!0;for(const O of a)p?p=!1:u+=",",u+=`${O}:${Lu(o.fields[O])}`;return u+"}"}(r.mapValue):ni();var e}function L(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ie(r){return!!r&&"integerValue"in r}function Be(r){return!!r&&"arrayValue"in r}function yt(r){return!!r&&"nullValue"in r}function Ht(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dn(r){return!!r&&"mapValue"in r}function Yn(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ia(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Yn(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yn(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Wn(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function _i(r){return"nullValue"in r?Ya:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?L(Za.empty(),x.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ni()}function Vi(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?L(Za.empty(),x.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?oo:ni()}function Fi(r,e){const t=Va(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function As(r,e){const t=Va(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!dn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yn(t)}setAll(e){let t=ui.emptyPath(),o={},a=[];e.forEach((p,O)=>{if(!t.isImmediateParentOf(O)){const G=this.getFieldsMap(t);this.applyChanges(G,o,a),o={},a=[],t=O.popLast()}p?o[O.lastSegment()]=Yn(p):a.push(O.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());dn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];dn(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){ia(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new _r(Yn(this.value))}}function Qa(r){const e=[];return ia(r.fields,(t,o)=>{const a=new ui([t]);if(dn(o)){const u=Qa(o.mapValue).fields;if(0===u.length)e.push(a);else for(const p of u)e.push(a.child(p))}else e.push(a)}),new Us(e)}class Xr{constructor(e,t,o,a,u,p,O){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=p,this.documentState=O}static newInvalidDocument(e){return new Xr(e,0,pt.min(),pt.min(),pt.min(),_r.empty(),0)}static newFoundDocument(e,t,o,a){return new Xr(e,1,t,pt.min(),o,a,0)}static newNoDocument(e,t){return new Xr(e,2,t,pt.min(),pt.min(),_r.empty(),0)}static newUnknownDocument(e,t){return new Xr(e,3,t,pt.min(),pt.min(),_r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zs{constructor(e,t){this.position=e,this.inclusive=t}}function oa(r,e,t){let o=0;for(let a=0;a<r.position.length;a++){const u=e[a],p=r.position[a];if(o=u.field.isKeyField()?x.comparator(x.fromName(p.referenceValue),t.key):Va(p,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function Aa(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ra(r.position[t],e.position[t]))return!1;return!0}class Ea{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Uh{}class ur extends Uh{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Hh(e,t,o):"array-contains"===t?new f(e,o):"in"===t?new _(e,o):"not-in"===t?new R(e,o):"array-contains-any"===t?new se(e,o):new ur(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new sf(e,o):new Bd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Va(t,this.value)):null!==t&&Hs(this.value)===Hs(t)&&this.matchesComparison(Va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ni()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class so extends Uh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new so(e,t)}matches(e){return fa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fa(r){return"and"===r.op}function Ac(r){return"or"===r.op}function Nd(r){return nf(r)&&fa(r)}function nf(r){for(const e of r.filters)if(e instanceof so)return!1;return!0}function Ld(r){if(r instanceof ur)return r.field.canonicalString()+r.op.toString()+Sc(r.value);if(Nd(r))return r.filters.map(e=>Ld(e)).join(",");{const e=r.filters.map(t=>Ld(t)).join(",");return`${r.op}(${e})`}}function Vh(r,e){return r instanceof ur?(t=r,(o=e)instanceof ur&&t.op===o.op&&t.field.isEqual(o.field)&&ra(t.value,o.value)):r instanceof so?function(t,o){return o instanceof so&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,p)=>a&&Vh(u,o.filters[p]),!0)}(r,e):void ni();var t,o}function rf(r,e){const t=r.filters.concat(e);return so.create(t,r.op)}function jh(r){return r instanceof ur?`${(e=r).field.canonicalString()} ${e.op} ${Sc(e.value)}`:r instanceof so?function(e){return e.op.toString()+" {"+e.getFilters().map(jh).join(" ,")+"}"}(r):"Filter";var e}class Hh extends ur{constructor(e,t,o){super(e,t,o),this.key=x.fromName(o.referenceValue)}matches(e){const t=x.comparator(e.key,this.key);return this.matchesComparison(t)}}class sf extends ur{constructor(e,t){super(e,"in",t),this.keys=I(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bd extends ur{constructor(e,t){super(e,"not-in",t),this.keys=I(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>x.fromName(o.referenceValue))}class f extends ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Be(t)&&qa(t.arrayValue,this.value)}}class _ extends ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qa(this.value.arrayValue,t)}}class R extends ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qa(this.value.arrayValue,t)}}class se extends ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Be(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>qa(this.value.arrayValue,o))}}class Ie{constructor(e,t=null,o=[],a=[],u=null,p=null,O=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=p,this.endAt=O,this.dt=null}}function Pt(r,e=null,t=[],o=[],a=null,u=null,p=null){return new Ie(r,e,t,o,a,u,p)}function rn(r){const e=Un(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Ld(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),Bs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Sc(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Sc(o)).join(",")),e.dt=t}return e.dt}function Ln(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Fd(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Aa(r.startAt,e.startAt)&&Aa(r.endAt,e.endAt)}function ii(r){return x.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function bi(r,e){return r.filters.filter(t=>t instanceof ur&&t.field.isEqual(e))}function ar(r,e,t){let o=Ya,a=!0;for(const u of bi(r,e)){let p=Ya,O=!0;switch(u.op){case"<":case"<=":p=_i(u.value);break;case"==":case"in":case">=":p=u.value;break;case">":p=u.value,O=!1;break;case"!=":case"not-in":p=Ya}Fi({value:o,inclusive:a},{value:p,inclusive:O})<0&&(o=p,a=O)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const p=t.position[u];Fi({value:o,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(o=p,a=t.inclusive);break}return{value:o,inclusive:a}}function pa(r,e,t){let o=oo,a=!0;for(const u of bi(r,e)){let p=oo,O=!0;switch(u.op){case">=":case">":p=Vi(u.value),O=!1;break;case"==":case"in":case"<=":p=u.value;break;case"<":p=u.value,O=!1;break;case"!=":case"not-in":p=oo}As({value:o,inclusive:a},{value:p,inclusive:O})>0&&(o=p,a=O)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const p=t.position[u];As({value:o,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(o=p,a=t.inclusive);break}return{value:o,inclusive:a}}class sa{constructor(e,t=null,o=[],a=[],u=null,p="F",O=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=p,this.startAt=O,this.endAt=G,this.wt=null,this._t=null}}function Ud(r,e,t,o,a,u,p,O){return new sa(r,e,t,o,a,u,p,O)}function bl(r){return new sa(r)}function Bu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Vd(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function kc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Gc(r){return null!==r.collectionGroup}function uc(r){const e=Un(r);if(null===e.wt){e.wt=[];const t=kc(e),o=Vd(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Ea(t)),e.wt.push(new Ea(ui.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ea(ui.keyField(),u))}}}return e.wt}function $s(r){const e=Un(r);if(!e._t)if("F"===e.limitType)e._t=Pt(e.path,e.collectionGroup,uc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of uc(e))t.push(new Ea(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new zs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new zs(e.startAt.position,e.startAt.inclusive):null;e._t=Pt(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function yl(r,e){e.getFirstInequalityField(),kc(r);const t=r.filters.concat([e]);return new sa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Xa(r,e,t){return new sa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wl(r,e){return Ln($s(r),$s(e))&&r.limitType===e.limitType}function Wc(r){return`${rn($s(r))}|lt:${r.limitType}`}function xl(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>jh(o)).join(", ")}]`),Bs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Sc(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Sc(o)).join(",")),`Target(${t})`}($s(r))}; limitType=${r.limitType})`}function ka(r,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):x.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,o){for(const a of uc(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(r,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(a,u,p){const O=oa(a,u,p);return a.inclusive?O<=0:O<0}(t.startAt,uc(t),o)||t.endAt&&!function(a,u,p){const O=oa(a,u,p);return a.inclusive?O>=0:O>0}(t.endAt,uc(t),o)));var t,o}function Lg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bg(r){return(e,t)=>{let o=!1;for(const a of uc(r)){const u=ab(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function ab(r,e,t){const o=r.field.isKeyField()?x.comparator(e.key,t.key):function(a,u,p){const O=u.data.field(a),G=p.data.field(a);return null!==O&&null!==G?Va(O,G):ni()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return ni()}}class Oc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return Ba(this.inner)}size(){return this.innerSize}}const af=new Er(x.comparator);function Oa(){return af}const Ug=new Er(x.comparator);function Uu(...r){let e=Ug;for(const t of r)e=e.insert(t.key,t);return e}function cf(r){let e=Ug;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Rc(){return qs()}function Vg(){return qs()}function qs(){return new Oc(r=>r.toString(),(r,e)=>r.isEqual(e))}const lf=new Er(x.comparator),jg=new Cr(x.comparator);function er(...r){let e=jg;for(const t of r)e=e.add(t);return e}const ga=new Cr(j);function Xl(){return ga}function df(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mo(e)?"-0":e}}function uf(r){return{integerValue:""+r}}function Hg(r,e){return na(e)?uf(e):df(r,e)}class Vu{constructor(){this._=void 0}}function cb(r,e,t){return r instanceof Jl?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&$c(a)&&(a=co(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof ed?Gg(r,e):r instanceof Kc?zh(r,e):function(o,a){const u=$g(o,a),p=Hd(u)+Hd(o.gt);return ie(u)&&ie(o.gt)?uf(p):df(o.serializer,p)}(r,e)}function zg(r,e,t){return r instanceof ed?Gg(r,e):r instanceof Kc?zh(r,e):t}function $g(r,e){return r instanceof jd?ie(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Jl extends Vu{}class ed extends Vu{constructor(e){super(),this.elements=e}}function Gg(r,e){const t=Wg(e);for(const o of r.elements)t.some(a=>ra(a,o))||t.push(o);return{arrayValue:{values:t}}}class Kc extends Vu{constructor(e){super(),this.elements=e}}function zh(r,e){let t=Wg(e);for(const o of r.elements)t=t.filter(a=>!ra(a,o));return{arrayValue:{values:t}}}class jd extends Vu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Hd(r){return vo(r.integerValue||r.doubleValue)}function Wg(r){return Be(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ju{constructor(e,t){this.field=e,this.transform=t}}class mf{constructor(e,t){this.version=e,this.transformResults=t}}class qo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qo}static exists(e){return new qo(void 0,e)}static updateTime(e){return new qo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class td{}function ff(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Cl(r.key,qo.none()):new zd(r.key,r.data,qo.none());{const t=r.data,o=_r.empty();let a=new Cr(ui.comparator);for(let u of e.fields)if(!a.has(u)){let p=t.field(u);null===p&&u.length>1&&(u=u.popLast(),p=t.field(u)),null===p?o.delete(u):o.set(u,p),a=a.add(u)}return new Yc(r.key,o,new Us(a.toArray()),qo.none())}}function pf(r,e,t){r instanceof zd?function(o,a,u){const p=o.value.clone(),O=Yg(o.fieldTransforms,a,u.transformResults);p.setAll(O),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):r instanceof Yc?function(o,a,u){if(!Zc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const p=Yg(o.fieldTransforms,a,u.transformResults),O=a.data;O.setAll(Zg(o)),O.setAll(p),a.convertToFoundDocument(u.version,O).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function El(r,e,t,o){return r instanceof zd?function(a,u,p,O){if(!Zc(a.precondition,u))return p;const G=a.value.clone(),te=gf(a.fieldTransforms,O,u);return G.setAll(te),u.convertToFoundDocument(u.version,G).setHasLocalMutations(),null}(r,e,t,o):r instanceof Yc?function(a,u,p,O){if(!Zc(a.precondition,u))return p;const G=gf(a.fieldTransforms,O,u),te=u.data;return te.setAll(Zg(a)),te.setAll(G),u.convertToFoundDocument(u.version,te).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(be=>be.field))}(r,e,t,o):(p=t,Zc(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p);var u,p}function lb(r,e){let t=null;for(const o of r.fieldTransforms){const a=e.data.field(o.field),u=$g(o.transform,a||null);null!=u&&(null===t&&(t=_r.empty()),t.set(o.field,u))}return t||null}function Kg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&me(t,o,(a,u)=>function hf(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof ed&&o instanceof ed||t instanceof Kc&&o instanceof Kc?me(t.elements,o.elements,ra):t instanceof jd&&o instanceof jd?ra(t.gt,o.gt):t instanceof Jl&&o instanceof Jl);var t,o}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class zd extends td{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yc extends td{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zg(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Yg(r,e,t){const o=new Map;di(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],p=u.transform,O=e.data.field(u.field);o.set(u.field,zg(p,O,t[a]))}return o}function gf(r,e,t){const o=new Map;for(const a of r){const u=a.transform,p=t.data.field(a.field);o.set(a.field,cb(u,p,e))}return o}class Cl extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $h extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hu{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&pf(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=El(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=El(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Vg();return this.mutations.forEach(a=>{const u=e.get(a.key),p=u.overlayedDocument;let O=this.applyToLocalView(p,u.mutatedFields);O=t.has(a.key)?null:O;const G=ff(p,O);null!==G&&o.set(a.key,G),p.isValidDocument()||p.convertToNoDocument(pt.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),er())}isEqual(e){return this.batchId===e.batchId&&me(this.mutations,e.mutations,(t,o)=>Kg(t,o))&&me(this.baseMutations,e.baseMutations,(t,o)=>Kg(t,o))}}class _f{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){di(e.mutations.length===o.length);let a=lf;const u=e.mutations;for(let p=0;p<u.length;p++)a=a.insert(u[p].key,o[p].version);return new _f(e,t,o,a)}}class vf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qg{constructor(e,t){this.count=e,this.unchangedNames=t}}var jo,Ur;function yf(r){switch(r){default:return ni();case nn.CANCELLED:case nn.UNKNOWN:case nn.DEADLINE_EXCEEDED:case nn.RESOURCE_EXHAUSTED:case nn.INTERNAL:case nn.UNAVAILABLE:case nn.UNAUTHENTICATED:return!1;case nn.INVALID_ARGUMENT:case nn.NOT_FOUND:case nn.ALREADY_EXISTS:case nn.PERMISSION_DENIED:case nn.FAILED_PRECONDITION:case nn.ABORTED:case nn.OUT_OF_RANGE:case nn.UNIMPLEMENTED:case nn.DATA_LOSS:return!0}}function Qg(r){if(void 0===r)return wr("GRPC error has no .code"),nn.UNKNOWN;switch(r){case jo.OK:return nn.OK;case jo.CANCELLED:return nn.CANCELLED;case jo.UNKNOWN:return nn.UNKNOWN;case jo.DEADLINE_EXCEEDED:return nn.DEADLINE_EXCEEDED;case jo.RESOURCE_EXHAUSTED:return nn.RESOURCE_EXHAUSTED;case jo.INTERNAL:return nn.INTERNAL;case jo.UNAVAILABLE:return nn.UNAVAILABLE;case jo.UNAUTHENTICATED:return nn.UNAUTHENTICATED;case jo.INVALID_ARGUMENT:return nn.INVALID_ARGUMENT;case jo.NOT_FOUND:return nn.NOT_FOUND;case jo.ALREADY_EXISTS:return nn.ALREADY_EXISTS;case jo.PERMISSION_DENIED:return nn.PERMISSION_DENIED;case jo.FAILED_PRECONDITION:return nn.FAILED_PRECONDITION;case jo.ABORTED:return nn.ABORTED;case jo.OUT_OF_RANGE:return nn.OUT_OF_RANGE;case jo.UNIMPLEMENTED:return nn.UNIMPLEMENTED;case jo.DATA_LOSS:return nn.DATA_LOSS;default:return ni()}}(Ur=jo||(jo={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";class Xg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return nd}static getOrCreateInstance(){return null===nd&&(nd=new Xg),nd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let nd=null;function Jg(){return new TextEncoder}const e_=new In([4294967295,4294967295],0);function wf(r){const e=Jg().encode(r),t=new Ec;return t.update(e),new Uint8Array(t.digest())}function xf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new In([t,o],0),new In([a,u],0)]}class zu{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new $d(`Invalid padding: ${t}`);if(o<0)throw new $d(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new $d(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new $d(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=In.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(In.fromNumber(o)));return 1===a.compare(e_)&&(a=new In([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=wf(e),[o,a]=xf(t);for(let u=0;u<this.hashCount;u++){const p=this.Et(o,a,u);if(!this.At(p))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),p=new zu(u,a,t);return o.forEach(O=>p.insert(O)),p}insert(e){if(0===this.It)return;const t=wf(e),[o,a]=xf(t);for(let u=0;u<this.hashCount;u++){const p=this.Et(o,a,u);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dl{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Dl(pt.min(),a,new Er(j),Oa(),er())}}class qc{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new qc(o,t,er(),er(),er())}}class $u{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class Gh{constructor(e,t){this.targetId=e,this.Vt=t}}class Gu{constructor(e,t,o=Yo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class Ef{constructor(){this.St=0,this.Dt=t_(),this.Ct=Yo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=er(),t=er(),o=er();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:ni()}}),new qc(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=t_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Oa(),this.zt=Gd(),this.Wt=new Er(j)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:ni()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const p=u.target;if(ii(p))if(0===a){const O=new x(p.path);this.Yt(o,O,Xr.newNoDocument(O,pt.min()))}else di(1===a);else{const O=this.ie(o);if(O!==a){const G=this.re(e,O);0!==G&&(this.ee(o),this.Wt=this.Wt.insert(o,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(te,be,st){var Xt,gn,Bn,Jn,ci,tr;const Vr={localCacheCount:be,existenceFilterCount:st.count},Wi=st.unchangedNames;return Wi&&(Vr.bloomFilter={applied:0===te,hashCount:null!==(Xt=Wi?.hashCount)&&void 0!==Xt?Xt:0,bitmapLength:null!==(Jn=null===(Bn=null===(gn=Wi?.bits)||void 0===gn?void 0:gn.bitmap)||void 0===Bn?void 0:Bn.length)&&void 0!==Jn?Jn:0,padding:null!==(tr=null===(ci=Wi?.bits)||void 0===ci?void 0:ci.padding)&&void 0!==tr?tr:0}),Vr}(G,O,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:p=0},hashCount:O=0}=o;let G,te;try{G=Ka(u).toUint8Array()}catch(be){if(be instanceof vl)return Is("Decoding the base64 bloom filter in existence filter failed ("+be.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw be}try{te=new zu(G,p,O)}catch(be){return Is(be instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",be),1}return 0===te.It?1:a!==t-this.oe(e.targetId,te)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const p=this.Gt.ue(),O=`projects/${p.projectId}/databases/${p.database}/documents/${u.path.canonicalString()}`;t.vt(O)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,p)=>{const O=this.se(p);if(O){if(u.current&&ii(O.target)){const G=new x(O.target.path);null!==this.jt.get(G)||this.ae(p,G)||this.Yt(p,G,Xr.newNoDocument(G,e))}u.Mt&&(t.set(p,u.Ot()),u.Ft())}});let o=er();this.zt.forEach((u,p)=>{let O=!0;p.forEachWhile(G=>{const te=this.se(G);return!te||"TargetPurposeLimboResolution"===te.purpose||(O=!1,!1)}),O&&(o=o.add(u))}),this.jt.forEach((u,p)=>p.setReadTime(e));const a=new Dl(e,t,this.Wt,this.jt,o);return this.jt=Oa(),this.zt=Gd(),this.Wt=new Er(j),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ef,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Cr(j),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Sn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ef),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Gd(){return new Er(x.comparator)}function t_(){return new Er(x.comparator)}const n_={asc:"ASCENDING",desc:"DESCENDING"},db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ub={and:"AND",or:"OR"};class hb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(r,e){return r.useProto3Json||Bs(e)?e:{value:e}}function id(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Df(r,e){return id(r,e.toTimestamp())}function Ho(r){return di(!!r),pt.fromTimestamp(function(e){const t=Ic(e);return new ot(t.seconds,t.nanos)}(r))}function If(r,e){return(t=r,new wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(r){const e=wn.fromString(r);return di(u_(e)),e}function Kh(r,e){return If(r.databaseId,e.path)}function Pc(r,e){const t=i_(e);if(t.get(1)!==r.databaseId.projectId)throw new En(nn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new En(nn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new x(Zu(t))}function Ku(r,e){return If(r.databaseId,e)}function r_(r){const e=i_(r);return 4===e.length?wn.emptyPath():Zu(e)}function Qc(r){return new wn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Zu(r){return di(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Zh(r,e,t){return{name:Kh(r,e),fields:t.value.mapValue.fields}}function Tf(r,e,t){const o=Pc(r,e.name),a=Ho(e.updateTime),u=e.createTime?Ho(e.createTime):pt.min(),p=new _r({mapValue:{fields:e.fields}}),O=Xr.newFoundDocument(o,a,u,p);return t&&O.setHasCommittedMutations(),t?O.setHasCommittedMutations():O}function hc(r,e){let t;if(e instanceof zd)t={update:Zh(r,e.key,e.value)};else if(e instanceof Cl)t={delete:Kh(r,e.key)};else if(e instanceof Yc)t={update:Zh(r,e.key,e.data),updateMask:d_(e.fieldMask)};else{if(!(e instanceof $h))return ni();t={verify:Kh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const p=u.transform;if(p instanceof Jl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ed)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jd)return{fieldPath:u.field.canonicalString(),increment:p.gt};throw ni()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Df(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ni()),t;var a}function Mf(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?qo.updateTime(Ho(a.updateTime)):void 0!==a.exists?qo.exists(a.exists):qo.none():qo.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(u,p){let O=null;"setToServerValue"in p?(di("REQUEST_TIME"===p.setToServerValue),O=new Jl):"appendMissingElements"in p?O=new ed(p.appendMissingElements.values||[]):"removeAllFromArray"in p?O=new Kc(p.removeAllFromArray.values||[]):"increment"in p?O=new jd(u,p.increment):ni();const G=ui.fromServerFormat(p.fieldPath);return new ju(G,O)}(r,a)):[];var a;if(e.update){const a=Pc(r,e.update.name),u=new _r({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Us((e.updateMask.fieldPaths||[]).map(te=>ui.fromServerFormat(te)));return new Yc(a,u,p,t,o)}return new zd(a,u,t,o)}if(e.delete){const a=Pc(r,e.delete);return new Cl(a,t)}if(e.verify){const a=Pc(r,e.verify);return new $h(a,t)}return ni()}function a_(r,e){return{documents:[Ku(r,e.path)]}}function Sf(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Ku(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ku(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(G){if(0!==G.length)return l_(so.create(G,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(G){if(0!==G.length)return G.map(te=>{return{field:Il((be=te).field),direction:fb(be.dir)};var be})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=Wh(r,e.limit);var O,G;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function c_(r){let e=r_(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){di(1===o);const be=t.from[0];be.allDescendants?a=be.collectionId:e=e.child(be.collectionId)}let u=[];t.where&&(u=function(be){const st=rd(be);return st instanceof so&&Nd(st)?st.getFilters():[st]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(be=>{return new Ea(Wd((st=be).field),function(Xt){switch(Xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(st.direction));var st}));let O=null;t.limit&&(O=function(be){let st;return st="object"==typeof be?be.value:be,Bs(st)?null:st}(t.limit));let G=null;var be;t.startAt&&(G=new zs((be=t.startAt).values||[],!!be.before));let te=null;return t.endAt&&(te=function(be){return new zs(be.values||[],!be.before)}(t.endAt)),Ud(e,a,p,u,O,"F",G,te)}function rd(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wd(e.unaryFilter.field);return ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Wd(e.unaryFilter.field);return ur.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wd(e.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wd(e.unaryFilter.field);return ur.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ni()}}(r):void 0!==r.fieldFilter?ur.create(Wd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ni()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return so.create(e.compositeFilter.filters.map(t=>rd(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ni()}}(e.compositeFilter.op))}(r):ni();var e}function fb(r){return n_[r]}function pb(r){return db[r]}function gb(r){return ub[r]}function Il(r){return{fieldPath:r.canonicalString()}}function Wd(r){return ui.fromServerFormat(r.fieldPath)}function l_(r){return r instanceof ur?function(e){if("=="===e.op){if(Ht(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NAN"}};if(yt(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ht(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NOT_NAN"}};if(yt(e.value))return{unaryFilter:{field:Il(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(e.field),op:pb(e.op),value:e.value}}}(r):r instanceof so?function(e){const t=e.getFilters().map(o=>l_(o));return 1===t.length?t[0]:{compositeFilter:{op:gb(e.op),filters:t}}}(r):ni()}function d_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Jc{constructor(e,t,o,a,u=pt.min(),p=pt.min(),O=Yo.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=O,this.expectedCount=G}withSequenceNumber(e){return new Jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class h_{constructor(e){this.fe=e}}function Yu(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ja(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Kh(a=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:id(a,u.version.toTimestamp()),createTime:id(a,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:mc(e.version)};else{if(!e.isUnknownDocument())return ni();o.unknownDocument={path:t.path.toArray(),version:mc(e.version)}}var a,u;return o}function Ja(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function mc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tl(r){const e=new ot(r.seconds,r.nanoseconds);return pt.fromTimestamp(e)}function Ml(r,e){const t=(e.baseMutations||[]).map(u=>Mf(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>Mf(r.fe,u)),a=ot.fromMillis(e.localWriteTimeMs);return new Hu(e.batchId,a,t,o)}function Kd(r){const e=Tl(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Tl(r.lastLimboFreeSnapshotVersion):pt.min();let o;var a;return void 0!==r.query.documents?(di(1===(a=r.query).documents.length),o=$s(bl(r_(a.documents[0])))):o=$s(c_(r.query)),new Jc(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Yo.fromBase64String(r.resumeToken))}function vb(r,e){const t=mc(e.snapshotVersion),o=mc(e.lastLimboFreeSnapshotVersion);let a;a=ii(e.target)?a_(r.fe,e.target):Sf(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rn(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function m_(r){const e=c_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Xa(e,e.limit,"L"):e}function f_(r,e){return new vf(e.largestBatchId,Mf(r.fe,e.overlayMutation))}function Yh(r,e){const t=e.path.lastSegment();return[r,cr(e.path.popLast()),t]}function qh(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:mc(o.readTime),documentKey:cr(o.documentKey.path),largestBatchId:o.largestBatchId}}class f0{getBundleMetadata(e,t){return bb(e).get(t).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Tl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return bb(e).put({bundleId:(o=t).id,createTime:mc(Ho(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Af(e).get(t).next(o=>{if(o)return{name:(a=o).name,query:m_(a.bundledQuery),readTime:Tl(a.readTime)};var a})}saveNamedQuery(e,t){return Af(e).put({name:(o=t).name,readTime:mc(Ho(o.readTime)),bundledQuery:o.bundledQuery});var o}}function bb(r){return xs(r,"bundles")}function Af(r){return xs(r,"namedQueries")}class Qh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qh(e,t.uid||"")}getOverlay(e,t){return qu(e).get(Yh(this.userId,t)).next(o=>o?f_(this.serializer,o):null)}getOverlays(e,t){const o=Rc();return Gt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){const a=[];return o.forEach((u,p)=>{const O=new vf(t,p);a.push(this.we(e,O))}),Gt.waitFor(a)}removeOverlaysForBatchId(e,t,o){const a=new Set;t.forEach(p=>a.add(cr(p.getCollectionPath())));const u=[];return a.forEach(p=>{const O=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,o+1],!1,!0);u.push(qu(e).J("collectionPathOverlayIndex",O))}),Gt.waitFor(u)}getOverlaysForCollection(e,t,o){const a=Rc(),u=cr(t),p=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return qu(e).j("collectionPathOverlayIndex",p).next(O=>{for(const G of O){const te=f_(this.serializer,G);a.set(te.getKey(),te)}return a})}getOverlaysForCollectionGroup(e,t,o,a){const u=Rc();let p;const O=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qu(e).X({index:"collectionGroupOverlayIndex",range:O},(G,te,be)=>{const st=f_(this.serializer,te);u.size()<a||st.largestBatchId===p?(u.set(st.getKey(),st),p=st.largestBatchId):be.done()}).next(()=>u)}we(e,t){return qu(e).put(function(o,a,u){const[p,O,G]=Yh(a,u.mutation.key);return{userId:a,collectionPath:O,documentId:G,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:hc(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function qu(r){return xs(r,"documentOverlays")}class od{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(vo(e.integerValue));else if("doubleValue"in e){const o=vo(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),mo(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ka(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?Wn(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ni()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),x.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function yb(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function kf(r){const e=64-function(t){let o=0;for(let a=0;a<8;++a){const u=yb(255&t[a]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}od.Ve=new od;class Xh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),o=kf(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),o=kf(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let a=t.length-o;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let a=1;a<t.length;++a)t[a]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class p_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Of{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Qu{constructor(){this.je=new Xh,this.ze=new p_(this.je),this.We=new Of(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Fo{constructor(e,t,o,a){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Fo(this.indexId,this.documentKey,this.arrayValue,o)}}function Sl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=g_(r.arrayValue,e.arrayValue),0!==t?t:(t=g_(r.directionalValue,e.directionalValue),0!==t?t:x.comparator(r.documentKey,e.documentKey)))}function g_(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Rf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){di(e.collectionGroup===this.collectionId);const t=w(e);if(void 0!==t&&!this.en(t))return!1;const o=F(e);let a=new Set,u=0,p=0;for(;u<o.length&&this.en(o[u]);++u)a=a.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const O=o[u];if(!this.nn(this.Ze,O)||!this.sn(this.Ye[p++],O))return!1}++u}for(;u<o.length;++u)if(p>=this.Ye.length||!this.sn(this.Ye[p++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pf(r){var e,t;if(di(r instanceof ur||r instanceof so),r instanceof ur){if(r instanceof _){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>ur.create(r.field,"==",u)))||[];return so.create(a,"or")}return r}const o=r.filters.map(a=>Pf(a));return so.create(o,r.op)}function wb(r){if(0===r.getFilters().length)return[];const e=Jh(Pf(r));return di(__(e)),Ff(e)||Nf(e)?[e]:e.getFilters()}function Ff(r){return r instanceof ur}function Nf(r){return r instanceof so&&Nd(r)}function __(r){return Ff(r)||Nf(r)||function(e){if(e instanceof so&&Ac(e)){for(const t of e.getFilters())if(!Ff(t)&&!Nf(t))return!1;return!0}return!1}(r)}function Jh(r){if(di(r instanceof ur||r instanceof so),r instanceof ur)return r;if(1===r.filters.length)return Jh(r.filters[0]);const e=r.filters.map(o=>Jh(o));let t=so.create(e,r.op);return t=Al(t),__(t)?t:(di(t instanceof so),di(fa(t)),di(t.filters.length>1),t.filters.reduce((o,a)=>v_(o,a)))}function v_(r,e){let t;return di(r instanceof ur||r instanceof so),di(e instanceof ur||e instanceof so),t=r instanceof ur?e instanceof ur?so.create([r,e],"and"):xb(r,e):e instanceof ur?xb(e,r):function(o,a){if(di(o.filters.length>0&&a.filters.length>0),fa(o)&&fa(a))return rf(o,a.getFilters());const u=Ac(o)?o:a,p=Ac(o)?a:o,O=u.filters.map(G=>v_(G,p));return so.create(O,"or")}(r,e),Al(t)}function xb(r,e){if(fa(e))return rf(e,r.getFilters());{const t=e.filters.map(o=>v_(r,o));return so.create(t,"or")}}function Al(r){if(di(r instanceof ur||r instanceof so),r instanceof ur)return r;const e=r.getFilters();if(1===e.length)return Al(e[0]);if(nf(r))return r;const t=e.map(a=>Al(a)),o=[];return t.forEach(a=>{a instanceof ur?o.push(a):a instanceof so&&(a.op===r.op?o.push(...a.filters):o.push(a))}),1===o.length?o[0]:so.create(o,r.op)}class lo{constructor(){this.rn=new sd}addToCollectionParentIndex(e,t){return this.rn.add(t),Gt.resolve()}getCollectionParents(e,t){return Gt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Gt.resolve()}deleteFieldIndex(e,t){return Gt.resolve()}getDocumentsMatchingTarget(e,t){return Gt.resolve(null)}getIndexType(e,t){return Gt.resolve(0)}getFieldIndexes(e,t){return Gt.resolve([])}getNextCollectionGroupToUpdate(e){return Gt.resolve(null)}getMinOffset(e,t){return Gt.resolve(Vn.min())}getMinOffsetFromCollectionGroup(e,t){return Gt.resolve(Vn.min())}updateCollectionGroup(e,t,o){return Gt.resolve()}updateIndexEntries(e,t){return Gt.resolve()}}class sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new Cr(wn.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Cr(wn.comparator)).toArray()}}const Xu=new Uint8Array(0);class b_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new sd,this.un=new Oc(o=>rn(o),(o,a)=>Ln(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:cr(a)};return Lf(e).put(u)}return Gt.resolve()}getCollectionParents(e,t){const o=[],a=IDBKeyRange.bound([t,""],[rt(t),""],!1,!0);return Lf(e).j(a).next(u=>{for(const p of u){if(p.collectionId!==t)break;o.push(ms(p.parent))}return o})}addFieldIndex(e,t){const o=em(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var p;delete a.indexId;const u=o.add(a);if(t.indexState){const p=Zd(e);return u.next(O=>{p.put(qh(O,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=em(e),a=Zd(e),u=ad(e);return o.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=ad(e);let a=!0;const u=new Map;return Gt.forEach(this.cn(t),p=>this.an(e,p).next(O=>{a&&(a=!!O),u.set(p,O)})).next(()=>{if(a){let p=er();const O=[];return Gt.forEach(u,(G,te)=>{var be;Sn("IndexedDbIndexManager",`Using index ${be=G,`id=${be.indexId}|cg=${be.collectionGroup}|f=${be.fields.map(Wi=>`${Wi.fieldPath}:${Wi.kind}`).join(",")}`} to execute ${rn(t)}`);const st=function(Wi,ps){const No=w(ps);if(void 0===No)return null;for(const Eo of bi(Wi,No.fieldPath))switch(Eo.op){case"array-contains-any":return Eo.value.arrayValue.values||[];case"array-contains":return[Eo.value]}return null}(te,G),Xt=function(Wi,ps){const No=new Map;for(const Eo of F(ps))for(const va of bi(Wi,Eo.fieldPath))switch(va.op){case"==":case"in":No.set(Eo.fieldPath.canonicalString(),va.value);break;case"not-in":case"!=":return No.set(Eo.fieldPath.canonicalString(),va.value),Array.from(No.values())}return null}(te,G),gn=function(Wi,ps){const No=[];let Eo=!0;for(const va of F(ps)){const yc=0===va.kind?ar(Wi,va.fieldPath,Wi.startAt):pa(Wi,va.fieldPath,Wi.startAt);No.push(yc.value),Eo&&(Eo=yc.inclusive)}return new zs(No,Eo)}(te,G),Bn=function(Wi,ps){const No=[];let Eo=!0;for(const va of F(ps)){const yc=0===va.kind?pa(Wi,va.fieldPath,Wi.endAt):ar(Wi,va.fieldPath,Wi.endAt);No.push(yc.value),Eo&&(Eo=yc.inclusive)}return new zs(No,Eo)}(te,G),Jn=this.hn(G,te,gn),ci=this.hn(G,te,Bn),tr=this.ln(G,te,Xt),Vr=this.fn(G.indexId,st,Jn,gn.inclusive,ci,Bn.inclusive,tr);return Gt.forEach(Vr,Wi=>o.H(Wi,t.limit).next(ps=>{ps.forEach(No=>{const Eo=x.fromSegments(No.documentKey);p.has(Eo)||(p=p.add(Eo),O.push(Eo))})}))}).next(()=>O)}return Gt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wb(so.create(e.filters,"and")).map(o=>Pt(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,a,u,p,O){const G=(null!=t?t.length:1)*Math.max(o.length,u.length),te=G/(null!=t?t.length:1),be=[];for(let st=0;st<G;++st){const Xt=t?this.dn(t[st/te]):Xu,gn=this.wn(e,Xt,o[st%te],a),Bn=this._n(e,Xt,u[st%te],p),Jn=O.map(ci=>this.wn(e,Xt,ci,!0));be.push(...this.createRange(gn,Bn,Jn))}return be}wn(e,t,o,a){const u=new Fo(e,x.empty(),t,o);return a?u:u.Je()}_n(e,t,o,a){const u=new Fo(e,x.empty(),t,o);return a?u.Je():u}an(e,t){const o=new Rf(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let p=null;for(const O of u)o.tn(O)&&(!p||O.fields.length>p.fields.length)&&(p=O);return p})}getIndexType(e,t){let o=2;const a=this.cn(t);return Gt.forEach(a,u=>this.an(e,u).next(p=>{p?0!==o&&p.fields.length<function(O){let G=new Cr(ui.comparator),te=!1;for(const be of O.filters)for(const st of be.getFlattenedFilters())st.field.isKeyField()||("array-contains"===st.op||"array-contains-any"===st.op?te=!0:G=G.add(st.field));for(const be of O.orderBy)be.field.isKeyField()||(G=G.add(be.field));return G.size+(te?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&a.length>1&&2===o?1:o)}mn(e,t){const o=new Qu;for(const a of F(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const p=o.He(a.kind);od.Ve._e(u,p)}return o.Qe()}dn(e){const t=new Qu;return od.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new Qu;return od.Ve._e(L(this.databaseId,t),o.He(function(a){const u=F(a);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let a=[];a.push(new Qu);let u=0;for(const p of F(e)){const O=o[u++];for(const G of a)if(this.yn(t,p.fieldPath)&&Be(O))a=this.pn(a,p,O);else{const te=G.He(p.kind);od.Ve._e(O,te)}}return this.In(a)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const a=[...e],u=[];for(const p of o.arrayValue.values||[])for(const O of a){const G=new Qu;G.seed(O.Qe()),od.Ve._e(p,G.He(t.kind)),u.push(G)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof ur&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=em(e),a=Zd(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const p=[];return Gt.forEach(u,O=>a.get([O.indexId,this.uid]).next(G=>{p.push(function(te,be){const st=be?new Dt(be.sequenceNumber,new Vn(Tl(be.readTime),new x(ms(be.documentKey)),be.largestBatchId)):Dt.empty(),Xt=te.fields.map(([gn,Bn])=>new ye(ui.fromServerFormat(gn),Bn));return new S(te.indexId,te.collectionGroup,Xt,st)}(O,G))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,a)=>{const u=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:j(o.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const a=em(e),u=Zd(e);return this.Tn(e).next(p=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(O=>Gt.forEach(O,G=>u.put(qh(G.indexId,this.user,p,o)))))}updateIndexEntries(e,t){const o=new Map;return Gt.forEach(t,(a,u)=>{const p=o.get(a.collectionGroup);return(p?Gt.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(O=>(o.set(a.collectionGroup,O),Gt.forEach(O,G=>this.En(e,a,G).next(te=>{const be=this.An(u,G);return te.isEqual(be)?Gt.resolve():this.vn(e,u,G,te,be)}))))})}Rn(e,t,o,a){return ad(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,a){return ad(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const a=ad(e);let u=new Cr(Sl);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(p,O)=>{u=u.add(new Fo(o.indexId,t,O.arrayValue,O.directionalValue))}).next(()=>u)}An(e,t){let o=new Cr(Sl);const a=this.mn(t,e);if(null==a)return o;const u=w(t);if(null!=u){const p=e.data.field(u.fieldPath);if(Be(p))for(const O of p.arrayValue.values||[])o=o.add(new Fo(t.indexId,e.key,this.dn(O),a))}else o=o.add(new Fo(t.indexId,e.key,Xu,a));return o}vn(e,t,o,a,u){Sn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(O,G,te,be,st){const Xt=O.getIterator(),gn=G.getIterator();let Bn=Ua(Xt),Jn=Ua(gn);for(;Bn||Jn;){let ci=!1,tr=!1;if(Bn&&Jn){const Vr=te(Bn,Jn);Vr<0?tr=!0:Vr>0&&(ci=!0)}else null!=Bn?tr=!0:ci=!0;ci?(be(Jn),Jn=Ua(gn)):tr?(st(Bn),Bn=Ua(Xt)):(Bn=Ua(Xt),Jn=Ua(gn))}}(a,u,Sl,O=>{p.push(this.Rn(e,t,o,O))},O=>{p.push(this.Pn(e,t,o,O))}),Gt.waitFor(p)}Tn(e){let t=1;return Zd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((p,O)=>Sl(p,O)).filter((p,O,G)=>!O||0!==Sl(p,G[O-1]));const a=[];a.push(e);for(const p of o){const O=Sl(p,e),G=Sl(p,t);if(0===O)a[0]=e.Je();else if(O>0&&G<0)a.push(p),a.push(p.Je());else if(G>0)break}a.push(t);const u=[];for(let p=0;p<a.length;p+=2){if(this.bn(a[p],a[p+1]))return[];u.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Xu,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Xu,[]]))}return u}bn(e,t){return Sl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Bf)}getMinOffset(e,t){return Gt.mapArray(this.cn(t),o=>this.an(e,o).next(a=>a||ni())).next(Bf)}}function Lf(r){return xs(r,"collectionParents")}function ad(r){return xs(r,"indexEntries")}function em(r){return xs(r,"indexConfiguration")}function Zd(r){return xs(r,"indexState")}function Bf(r){di(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const a=r[o].indexState.offset;zi(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Vn(e.readTime,e.documentKey,t)}const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ca{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ca(e,Ca.DEFAULT_COLLECTION_PERCENTILE,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nm(r,e,t){const o=r.store("mutations"),a=r.store("documentMutations"),u=[],p=IDBKeyRange.only(t.batchId);let O=0;const G=o.X({range:p},(be,st,Xt)=>(O++,Xt.delete()));u.push(G.next(()=>{di(1===O)}));const te=[];for(const be of t.mutations){const st=hl(e,be.key.path,t.batchId);u.push(a.delete(st)),te.push(be.key)}return Gt.waitFor(u).next(()=>te)}function im(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ni();e=r.noDocument}return JSON.stringify(e).length}Ca.DEFAULT_COLLECTION_PERCENTILE=10,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ca.DEFAULT=new Ca(41943040,Ca.DEFAULT_COLLECTION_PERCENTILE,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ca.DISABLED=new Ca(-1,0,0);class Yd{constructor(e,t,o,a){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=a,this.Vn={}}static de(e,t,o,a){di(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Yd(u,t,o,a)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return el(e).X({index:"userMutationsIndex",range:o},(a,u,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,o,a){const u=ec(e),p=el(e);return p.add({}).next(O=>{di("number"==typeof O);const G=new Hu(O,t,o,a),te=function(Xt,gn,Bn){const Jn=Bn.baseMutations.map(tr=>hc(Xt.fe,tr)),ci=Bn.mutations.map(tr=>hc(Xt.fe,tr));return{userId:gn,batchId:Bn.batchId,localWriteTimeMs:Bn.localWriteTime.toMillis(),baseMutations:Jn,mutations:ci}}(this.serializer,this.userId,G),be=[];let st=new Cr((Xt,gn)=>j(Xt.canonicalString(),gn.canonicalString()));for(const Xt of a){const gn=hl(this.userId,Xt.key.path,O);st=st.add(Xt.key.path.popLast()),be.push(p.put(te)),be.push(u.put(gn,ml))}return st.forEach(Xt=>{be.push(this.indexManager.addToCollectionParentIndex(e,Xt))}),e.addOnCommittedListener(()=>{this.Vn[O]=G.keys()}),Gt.waitFor(be).next(()=>G)})}lookupMutationBatch(e,t){return el(e).get(t).next(o=>o?(di(o.userId===this.userId),Ml(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Gt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const a=o.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,a=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return el(e).X({index:"userMutationsIndex",range:a},(p,O,G)=>{O.userId===this.userId&&(di(O.batchId>=o),u=Ml(this.serializer,O)),G.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return el(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,u,p)=>{o=u.batchId,p.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return el(e).j("userMutationsIndex",t).next(o=>o.map(a=>Ml(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=ma(this.userId,t.path),a=IDBKeyRange.lowerBound(o),u=[];return ec(e).X({range:a},(p,O,G)=>{const[te,be,st]=p,Xt=ms(be);if(te===this.userId&&t.path.isEqual(Xt))return el(e).get(st).next(gn=>{if(!gn)throw ni();di(gn.userId===this.userId),u.push(Ml(this.serializer,gn))});G.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Cr(j);const a=[];return t.forEach(u=>{const p=ma(this.userId,u.path),O=IDBKeyRange.lowerBound(p),G=ec(e).X({range:O},(te,be,st)=>{const[Xt,gn,Bn]=te,Jn=ms(gn);Xt===this.userId&&u.path.isEqual(Jn)?o=o.add(Bn):st.done()});a.push(G)}),Gt.waitFor(a).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1,u=ma(this.userId,o),p=IDBKeyRange.lowerBound(u);let O=new Cr(j);return ec(e).X({range:p},(G,te,be)=>{const[st,Xt,gn]=G,Bn=ms(Xt);st===this.userId&&o.isPrefixOf(Bn)?Bn.length===a&&(O=O.add(gn)):be.done()}).next(()=>this.Dn(e,O))}Dn(e,t){const o=[],a=[];return t.forEach(u=>{a.push(el(e).get(u).next(p=>{if(null===p)throw ni();di(p.userId===this.userId),o.push(Ml(this.serializer,p))}))}),Gt.waitFor(a).next(()=>o)}removeMutationBatch(e,t){return nm(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Gt.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Gt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return ec(e).X({range:o},(u,p,O)=>{if(u[0]===this.userId){const G=ms(u[1]);a.push(G)}else O.done()}).next(()=>{di(0===a.length)})})}containsKey(e,t){return Uf(e,this.userId,t)}xn(e){return y_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Uf(r,e,t){const o=ma(e,t.path),a=o[1],u=IDBKeyRange.lowerBound(o);let p=!1;return ec(r).X({range:u,Y:!0},(O,G,te)=>{const[be,st,Xt]=O;be===e&&st===a&&(p=!0),te.done()}).next(()=>p)}function el(r){return xs(r,"mutations")}function ec(r){return xs(r,"documentMutations")}function y_(r){return xs(r,"mutationQueues")}class tl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new tl(0)}static Mn(){return new tl(-1)}}class rm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new tl(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>pt.fromTimestamp(new ot(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(di(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let a=0;const u=[];return qd(e).X((p,O)=>{const G=Kd(O);G.sequenceNumber<=t&&null===o.get(G.targetId)&&(a++,u.push(this.removeTargetData(e,G)))}).next(()=>Gt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return qd(e).X((o,a)=>{const u=Kd(a);t(u)})}$n(e){return om(e).get("targetGlobalKey").next(t=>(di(null!==t),t))}On(e,t){return om(e).put("targetGlobalKey",t)}Fn(e,t){return qd(e).put(vb(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=rn(t),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return qd(e).X({range:a,index:"queryTargetsIndex"},(p,O,G)=>{const te=Kd(O);Ln(t,te.target)&&(u=te,G.done())}).next(()=>u)}addMatchingKeys(e,t,o){const a=[],u=fc(e);return t.forEach(p=>{const O=cr(p.path);a.push(u.put({targetId:o,path:O})),a.push(this.referenceDelegate.addReference(e,o,p))}),Gt.waitFor(a)}removeMatchingKeys(e,t,o){const a=fc(e);return Gt.forEach(t,u=>{const p=cr(u.path);return Gt.waitFor([a.delete([o,p]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=fc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),a=fc(e);let u=er();return a.X({range:o,Y:!0},(p,O,G)=>{const te=ms(p[1]),be=new x(te);u=u.add(be)}).next(()=>u)}containsKey(e,t){const o=cr(t.path),a=IDBKeyRange.bound([o],[rt(o)],!1,!0);let u=0;return fc(e).X({index:"documentTargetsIndex",Y:!0,range:a},([p,O],G,te)=>{0!==p&&(u++,te.done())}).next(()=>u>0)}le(e,t){return qd(e).get(t).next(o=>o?Kd(o):null)}}function qd(r){return xs(r,"targets")}function om(r){return xs(r,"targetGlobal")}function fc(r){return xs(r,"targetDocuments")}function kl([r,e],[t,o]){const a=j(r,t);return 0===a?j(e,o):a}class Vf{constructor(e){this.Ln=e,this.buffer=new Cr(kl),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();kl(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sm{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Sn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){mi(o)?Sn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ds(o)}yield t.Qn(3e5)}))}}class Eb{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Gt.resolve(Zo.ct);const o=new Vf(t);return this.jn.forEachTarget(e,a=>o.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>o.Kn(a))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Sn("LruGarbageCollector","Garbage collection skipped; disabled"),Gt.resolve(tm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Sn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,a,u,p,O,G,te;const be=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(st=>(st>this.params.maximumSequenceNumbersToCollect?(Sn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${st}`),a=this.params.maximumSequenceNumbersToCollect):a=st,p=Date.now(),this.nthSequenceNumber(e,a))).next(st=>(o=st,O=Date.now(),this.removeTargets(e,o,t))).next(st=>(u=st,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(st=>(te=Date.now(),Pa()<=Ce.in.DEBUG&&Sn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-be}ms\n\tDetermined least recently used ${a} in `+(O-p)+`ms\n\tRemoved ${u} targets in `+(G-O)+`ms\n\tRemoved ${st} documents in `+(te-G)+`ms\nTotal Duration: ${te-be}ms`),Gt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:st})))}}class x_{constructor(e,t){this.db=e,this.garbageCollector=function w_(r,e){return new Eb(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(a=>o+a))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,a)=>t(a))}addReference(e,t,o){return nl(e,o)}removeReference(e,t,o){return nl(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return nl(e,t)}Xn(e,t){return function(o,a){let u=!1;return y_(o).Z(p=>Uf(o,p,a).next(O=>(O&&(u=!0),Gt.resolve(!O)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Yn(e,(p,O)=>{if(O<=t){const G=this.Xn(e,p).next(te=>{if(!te)return u++,o.getEntry(e,p).next(()=>(o.removeEntry(p,pt.min()),fc(e).delete([0,cr(p.path)])))});a.push(G)}}).next(()=>Gt.waitFor(a)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return nl(e,t)}Yn(e,t){const o=fc(e);let a,u=Zo.ct;return o.X({index:"documentTargetsIndex"},([p,O],{path:G,sequenceNumber:te})=>{0===p?(u!==Zo.ct&&t(new x(ms(a)),u),u=te,a=G):u=Zo.ct}).next(()=>{u!==Zo.ct&&t(new x(ms(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nl(r,e){return fc(r).put((o=r.currentSequenceNumber,{targetId:0,path:cr(e.path),sequenceNumber:o}));var o}class E_{constructor(){this.changes=new Oc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Gt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cb{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return cd(e).put(o)}removeEntry(e,t,o){return cd(e).delete(function(a,u){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Ja(u),p[p.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=Xr.newInvalidDocument(t);return cd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qd(t))},(a,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:Xr.newInvalidDocument(t)};return cd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qd(t))},(a,u)=>{o={document:this.ts(t,u),size:im(u)}}).next(()=>o)}getEntries(e,t){let o=Oa();return this.ns(e,t,(a,u)=>{const p=this.ts(a,u);o=o.insert(a,p)}).next(()=>o)}ss(e,t){let o=Oa(),a=new Er(x.comparator);return this.ns(e,t,(u,p)=>{const O=this.ts(u,p);o=o.insert(u,O),a=a.insert(u,im(p))}).next(()=>({documents:o,rs:a}))}ns(e,t,o){if(t.isEmpty())return Gt.resolve();let a=new Cr(Db);t.forEach(G=>a=a.add(G));const u=IDBKeyRange.bound(Qd(a.first()),Qd(a.last())),p=a.getIterator();let O=p.getNext();return cd(e).X({index:"documentKeyIndex",range:u},(G,te,be)=>{const st=x.fromSegments([...te.prefixPath,te.collectionGroup,te.documentId]);for(;O&&Db(O,st)<0;)o(O,null),O=p.getNext();O&&O.isEqual(st)&&(o(O,te),O=p.hasNext()?p.getNext():null),O?be.G(Qd(O)):be.done()}).next(()=>{for(;O;)o(O,null),O=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,o,a){const u=t.path,p=[u.popLast().toArray(),u.lastSegment(),Ja(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],O=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cd(e).j(IDBKeyRange.bound(p,O,!0)).next(G=>{let te=Oa();for(const be of G){const st=this.ts(x.fromSegments(be.prefixPath.concat(be.collectionGroup,be.documentId)),be);st.isFoundDocument()&&(ka(t,st)||a.has(st.key))&&(te=te.insert(st.key,st))}return te})}getAllFromCollectionGroup(e,t,o,a){let u=Oa();const p=am(t,o),O=am(t,Vn.max());return cd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,O,!0)},(G,te,be)=>{const st=this.ts(x.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);u=u.insert(st.key,st),u.size===a&&be.done()}).next(()=>u)}newChangeBuffer(e){return new jf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hf(e).get("remoteDocumentGlobalKey").next(t=>(di(!!t),t))}Zn(e,t){return Hf(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function _b(r,e){let t;if(e.document)t=Tf(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=x.fromSegments(e.noDocument.path),a=Tl(e.noDocument.readTime);t=Xr.newNoDocument(o,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ni();{const o=x.fromSegments(e.unknownDocument.path),a=Tl(e.unknownDocument.version);t=Xr.newUnknownDocument(o,a)}}return e.readTime&&t.setReadTime(function(o){const a=new ot(o[0],o[1]);return pt.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(pt.min()))return o}return Xr.newInvalidDocument(e)}}function C_(r){return new Cb(r)}class jf extends E_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Oc(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const t=[];let o=0,a=new Cr((u,p)=>j(u.canonicalString(),p.canonicalString()));return this.changes.forEach((u,p)=>{const O=this.us.get(u);if(t.push(this.os.removeEntry(e,u,O.readTime)),p.isValidDocument()){const G=Yu(this.os.serializer,p);a=a.add(u.path.popLast());const te=im(G);o+=te-O.size,t.push(this.os.addEntry(e,u,G))}else if(o-=O.size,this.trackRemovals){const G=Yu(this.os.serializer,p.convertToNoDocument(pt.min()));t.push(this.os.addEntry(e,u,G))}}),a.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),Gt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:a})=>(a.forEach((u,p)=>{this.us.set(u,{size:p,readTime:o.get(u).readTime})}),o))}}function Hf(r){return xs(r,"remoteDocumentGlobal")}function cd(r){return xs(r,"remoteDocumentsV14")}function Qd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function am(r,e){const t=e.documentKey.path.toArray();return[r,Ja(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Db(r,e){const t=r.path.toArray(),o=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(a=j(t[u],o[u]),a)return a;return a=j(t.length,o.length),a||(a=j(t[t.length-2],o[o.length-2]),a||j(t[t.length-1],o[o.length-1]))}class Ib{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D_{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&El(o.mutation,a,Us.empty(),ot.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,er()).next(()=>o))}getLocalViewOfDocuments(e,t,o=er()){const a=Rc();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let p=Uu();return u.forEach((O,G)=>{p=p.insert(O,G.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const o=Rc();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,er()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((p,O)=>{t.set(p,O)})})}computeViews(e,t,o,a){let u=Oa();const p=qs(),O=qs();return t.forEach((G,te)=>{const be=o.get(te.key);a.has(te.key)&&(void 0===be||be.mutation instanceof Yc)?u=u.insert(te.key,te):void 0!==be?(p.set(te.key,be.mutation.getFieldMask()),El(be.mutation,te,be.mutation.getFieldMask(),ot.now())):p.set(te.key,Us.empty())}),this.recalculateAndSaveOverlays(e,u).next(G=>(G.forEach((te,be)=>p.set(te,be)),t.forEach((te,be)=>{var st;return O.set(te,new Ib(be,null!==(st=p.get(te))&&void 0!==st?st:null))}),O))}recalculateAndSaveOverlays(e,t){const o=qs();let a=new Er((p,O)=>p-O),u=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const O of p)O.keys().forEach(G=>{const te=t.get(G);if(null===te)return;let be=o.get(G)||Us.empty();be=O.applyToLocalView(te,be),o.set(G,be);const st=(a.get(O.batchId)||er()).add(G);a=a.insert(O.batchId,st)})}).next(()=>{const p=[],O=a.getReverseIterator();for(;O.hasNext();){const G=O.getNext(),te=G.key,be=G.value,st=Vg();be.forEach(Xt=>{if(!u.has(Xt)){const gn=ff(t.get(Xt),o.get(Xt));null!==gn&&st.set(Xt,gn),u=u.add(Xt)}}),p.push(this.documentOverlayCache.saveOverlays(e,te,st))}return Gt.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return x.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Gc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const p=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):Gt.resolve(Rc());let O=-1,G=u;return p.next(te=>Gt.forEach(te,(be,st)=>(O<st.largestBatchId&&(O=st.largestBatchId),u.get(be)?Gt.resolve():this.remoteDocumentCache.getEntry(e,be).next(Xt=>{G=G.insert(be,Xt)}))).next(()=>this.populateOverlays(e,te,u)).next(()=>this.computeViews(e,G,te,er())).next(be=>({batchId:O,changes:cf(be)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new x(t)).next(o=>{let a=Uu();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=Uu();return this.indexManager.getCollectionParents(e,a).next(p=>Gt.forEach(p,O=>{const G=(te=t,be=O.child(a),new sa(be,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,be;return this.getDocumentsMatchingCollectionQuery(e,G,o).next(te=>{te.forEach((be,st)=>{u=u.insert(be,st)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((O,G)=>{const te=G.getKey();null===u.get(te)&&(u=u.insert(te,Xr.newInvalidDocument(te)))});let p=Uu();return u.forEach((O,G)=>{const te=a.get(O);void 0!==te&&El(te.mutation,G,Us.empty(),ot.now()),ka(t,G)&&(p=p.insert(O,G))}),p})}}class Tb{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Gt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Ho(o.createTime)}),Gt.resolve()}getNamedQuery(e,t){return Gt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:m_(o.bundledQuery),readTime:Ho(o.readTime)}),Gt.resolve();var o}}class p0{constructor(){this.overlays=new Er(x.comparator),this.ls=new Map}getOverlay(e,t){return Gt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Rc();return Gt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),Gt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),Gt.resolve()}getOverlaysForCollection(e,t,o){const a=Rc(),u=t.length+1,p=new x(t.child("")),O=this.overlays.getIteratorFrom(p);for(;O.hasNext();){const G=O.getNext().value,te=G.getKey();if(!t.isPrefixOf(te.path))break;te.path.length===u&&G.largestBatchId>o&&a.set(G.getKey(),G)}return Gt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new Er((te,be)=>te-be);const p=this.overlays.getIterator();for(;p.hasNext();){const te=p.getNext().value;if(te.getKey().getCollectionGroup()===t&&te.largestBatchId>o){let be=u.get(te.largestBatchId);null===be&&(be=Rc(),u=u.insert(te.largestBatchId,be)),be.set(te.getKey(),te)}}const O=Rc(),G=u.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((te,be)=>O.set(te,be)),!(O.size()>=a)););return Gt.resolve(O)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new vf(t,o));let u=this.ls.get(t);void 0===u&&(u=er(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class I_{constructor(){this.fs=new Cr(Os.ds),this.ws=new Cr(Os._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Os(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Os(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new x(new wn([])),o=new Os(t,e),a=new Os(t,e+1),u=[];return this.ws.forEachInRange([o,a],p=>{this.ys(p),u.push(p.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new x(new wn([])),o=new Os(t,e),a=new Os(t,e+1);let u=er();return this.ws.forEachInRange([o,a],p=>{u=u.add(p.key)}),u}containsKey(e){const t=new Os(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Os{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return x.comparator(e.key,t.key)||j(e.As,t.As)}static _s(e,t){return j(e.As,t.As)||x.comparator(e.key,t.key)}}class Mb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Cr(Os.ds)}checkEmpty(e){return Gt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const p=new Hu(u,t,o,a);this.mutationQueue.push(p);for(const O of a)this.Rs=this.Rs.add(new Os(O.key,u)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return Gt.resolve(p)}lookupMutationBatch(e,t){return Gt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return Gt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Gt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Os(t,0),a=new Os(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],p=>{const O=this.Ps(p.As);u.push(O)}),Gt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Cr(j);return t.forEach(a=>{const u=new Os(a,0),p=new Os(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,p],O=>{o=o.add(O.As)})}),Gt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;x.isDocumentKey(u)||(u=u.child(""));const p=new Os(new x(u),0);let O=new Cr(j);return this.Rs.forEachWhile(G=>{const te=G.key.path;return!!o.isPrefixOf(te)&&(te.length===a&&(O=O.add(G.As)),!0)},p),Gt.resolve(this.Vs(O))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){di(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Gt.forEach(t.mutations,a=>{const u=new Os(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Os(t,0),a=this.Rs.firstAfterOrEqual(o);return Gt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Gt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zf{constructor(e){this.Ds=e,this.docs=new Er(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p}),this.size+=p-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Gt.resolve(o?o.document.mutableCopy():Xr.newInvalidDocument(t))}getEntries(e,t){let o=Oa();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():Xr.newInvalidDocument(a))}),Gt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=Oa();const p=t.path,O=new x(p.child("")),G=this.docs.getIteratorFrom(O);for(;G.hasNext();){const{key:te,value:{document:be}}=G.getNext();if(!p.isPrefixOf(te.path))break;te.path.length>p.length+1||zi(ai(be),o)<=0||(a.has(be.key)||ka(t,be))&&(u=u.insert(be.key,be.mutableCopy()))}return Gt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){ni()}Cs(e,t){return Gt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new $f(this)}getSize(e){return Gt.resolve(this.size)}}class $f extends E_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),Gt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ju{constructor(e){this.persistence=e,this.xs=new Oc(t=>rn(t),Ln),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new I_,this.targetCount=0,this.Ms=tl.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),Gt.resolve()}getLastRemoteSnapshotVersion(e){return Gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Gt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Gt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Gt.resolve()}updateTargetData(e,t){return this.Fn(t),Gt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Gt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((p,O)=>{O.sequenceNumber<=t&&null===o.get(O.targetId)&&(this.xs.delete(p),u.push(this.removeMatchingKeysForTargetId(e,O.targetId)),a++)}),Gt.waitFor(u).next(()=>a)}getTargetCount(e){return Gt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Gt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Gt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(p=>{u.push(a.markPotentiallyOrphaned(e,p))}),Gt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Gt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Gt.resolve(o)}containsKey(e,t){return Gt.resolve(this.ks.containsKey(t))}}class eh{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ju(this),this.indexManager=new lo,this.remoteDocumentCache=new zf(o=>this.referenceDelegate.Ls(o)),this.serializer=new h_(t),this.qs=new Tb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Mb(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Sn("MemoryPersistence","Starting transaction:",e);const a=new Gf(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return Gt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Gf extends Ms{constructor(e){super(),this.currentSequenceNumber=e}}class Ol{constructor(e){this.persistence=e,this.Qs=new I_,this.js=null}static zs(e){return new Ol(e)}get Ws(){if(this.js)return this.js;throw ni()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Gt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Gt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Gt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gt.forEach(this.Ws,o=>{const a=x.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,pt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Gt.or([()=>Gt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class th{constructor(e){this.serializer=e}O(e,t,o,a){const u=new ws("createOrUpgrade",t);var O;o<1&&a>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cc,{unique:!0}),O.createObjectStore("documentMutations"),Wf(e),function(O){O.createObjectStore("remoteDocuments")}(e));let p=Gt.resolve();return o<3&&a>=3&&(0!==o&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),Wf(e)),p=p.next(()=>function(O){const G=O.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pt.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",te)}(u))),o<4&&a>=4&&(0!==o&&(p=p.next(()=>function(O,G){return G.store("mutations").j().next(te=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cc,{unique:!0});const be=G.store("mutations"),st=te.map(Xt=>be.put(Xt));return Gt.waitFor(st)})}(e,u))),p=p.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&a>=5&&(p=p.next(()=>this.Ys(u))),o<6&&a>=6&&(p=p.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&a>=7&&(p=p.next(()=>this.Zs(u))),o<8&&a>=8&&(p=p.next(()=>this.ti(e,u))),o<9&&a>=9&&(p=p.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&a>=10&&(p=p.next(()=>this.ei(u))),o<11&&a>=11&&(p=p.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(p=p.next(()=>{!function(O){const G=O.createObjectStore("documentOverlays",{keyPath:Ga});G.createIndex("collectionPathOverlayIndex",Pu,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Zl,{unique:!1})}(e)})),o<13&&a>=13&&(p=p.next(()=>function(O){const G=O.createObjectStore("remoteDocumentsV14",{keyPath:fl});G.createIndex("documentKeyIndex",pl),G.createIndex("collectionGroupIndex",Gl)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(p=p.next(()=>this.si(e,u))),o<15&&a>=15&&(p=p.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:Wl}).createIndex("sequenceNumberIndex",Kl,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:Bh}).createIndex("documentKeyIndex",gl,{unique:!1})}(e))),p}Xs(e){let t=0;return e.store("remoteDocuments").X((o,a)=>{t+=im(a)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(a=>Gt.forEach(a,u=>{const p=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",p).next(O=>Gt.forEach(O,G=>{di(G.userId===u.userId);const te=Ml(this.serializer,G);return nm(e,u.userId,te).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return o.X((p,O)=>{const G=new wn(p),te=[0,cr(G)];u.push(t.get(te).next(be=>be?Gt.resolve():t.put({targetId:0,path:cr(G),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Gt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Dc});const o=t.store("collectionParents"),a=new sd,u=p=>{if(a.add(p)){const O=p.lastSegment(),G=p.popLast();return o.put({collectionId:O,parent:cr(G)})}};return t.store("remoteDocuments").X({Y:!0},(p,O)=>{const G=new wn(p);return u(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([p,O,G],te)=>{const be=ms(O);return u(be.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,a)=>{const u=Kd(a),p=vb(this.serializer,u);return t.put(p)})}ni(e,t){const o=t.store("remoteDocuments"),a=[];return o.X((u,p)=>{const O=t.store("remoteDocumentsV14"),G=(te=p,te.document?new x(wn.fromString(te.document.name).popFirst(5)):te.noDocument?x.fromSegments(te.noDocument.path):te.unknownDocument?x.fromSegments(te.unknownDocument.path):ni()).path.toArray();var te;const be={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(O.put(be))}).next(()=>Gt.waitFor(a))}si(e,t){const o=t.store("mutations"),a=C_(this.serializer),u=new eh(Ol.zs,this.serializer.fe);return o.j().next(p=>{const O=new Map;return p.forEach(G=>{var te;let be=null!==(te=O.get(G.userId))&&void 0!==te?te:er();Ml(this.serializer,G).keys().forEach(st=>be=be.add(st)),O.set(G.userId,be)}),Gt.forEach(O,(G,te)=>{const be=new _o(te),st=Qh.de(this.serializer,be),Xt=u.getIndexManager(be),gn=Yd.de(be,this.serializer,Xt,u.referenceDelegate);return new D_(a,gn,st,Xt).recalculateAndSaveOverlaysForDocumentKeys(new ql(t,Zo.ct),G).next()})})}}function Wf(r){r.createObjectStore("targetDocuments",{keyPath:Lh}).createIndex("documentTargetsIndex",Ru,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",La,{unique:!0}),r.createObjectStore("targetGlobal")}const nh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xd{constructor(e,t,o,a,u,p,O,G,te,be,st=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=p,this.document=O,this.ri=te,this.oi=be,this.ui=st,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Xt=>Promise.resolve(),!Xd.D())throw new En(nn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x_(this,a),this.di=t+"main",this.serializer=new h_(G),this.wi=new us(this.di,this.ui,new th(this.serializer)),this.Bs=new rm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C_(this.serializer),this.qs=new f0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===be&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new En(nn.FAILED_PRECONDITION,nh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Zo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,ke.Z)(function*(a){if(t.started)return e(a)});return function(a){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ke.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(mi(e))return Sn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Sn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return cm(e).get("owner").next(t=>Gt.resolve(this.Ri(t)))}Pi(e){return Jd(e).delete(this.clientId)}bi(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=xs(o,"clientMetadata");return a.j().next(u=>{const p=e.Si(u,18e5),O=u.filter(G=>-1===p.indexOf(G));return Gt.forEach(O,G=>a.delete(G.clientId)).next(()=>O)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Gt.resolve(!0):cm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new En(nn.FAILED_PRECONDITION,nh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(e).j().next(o=>void 0===this.Si(o,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Sn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new ql(t,Zo.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Jd(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Yd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new b_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Sn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(p=this.ui)?Hc:14===p?Yl:13===p?Rd:12===p?Wa:11===p?_l:void ni();var p;let O;return this.wi.runTransaction(e,a,u,G=>(O=new ql(G,this.Os?this.Os.next():Zo.ct),"readwrite-primary"===t?this.Ti(O).next(te=>!!te||this.Ei(O)).next(te=>{if(!te)throw wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new En(nn.FAILED_PRECONDITION,Br);return o(O)}).next(te=>this.vi(O).next(()=>te)):this.Oi(O).next(()=>o(O)))).then(G=>(O.raiseOnCommittedEvent(),G))}Oi(e){return cm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new En(nn.FAILED_PRECONDITION,nh)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cm(e).put("owner",t)}static D(){return us.D()}Ai(e){const t=cm(e);return t.get("owner").next(o=>this.Ri(o)?(Sn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Gt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(wr(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ge.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Sn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return wr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){wr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cm(r){return xs(r,"owner")}function Jd(r){return xs(r,"clientMetadata")}function ih(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class lm{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=er(),a=er();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new lm(e,t.fromCache,o,a)}}class T_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Bu(t))return Gt.resolve(null);let o=$s(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Xa(t,null,"F"),o=$s(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const p=er(...u);return this.Ui.getDocuments(e,p).next(O=>this.indexManager.getMinOffset(e,o).next(G=>{const te=this.ji(t,O);return this.zi(t,te,p,G.readTime)?this.Ki(e,Xa(t,null,"F")):this.Wi(e,te,t,G)}))})))}Gi(e,t,o,a){return Bu(t)||a.isEqual(pt.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const p=this.ji(t,u);return this.zi(t,p,o,a)?this.Qi(e,t):(Pa()<=Ce.in.DEBUG&&Sn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xl(t)),this.Wi(e,p,t,Cn(a,-1)))})}ji(e,t){let o=new Cr(Bg(e));return t.forEach((a,u)=>{ka(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return Pa()<=Ce.in.DEBUG&&Sn("QueryEngine","Using full collection scan to execute query:",xl(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vn.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(p=>{u=u.insert(p.key,p)}),u))}}class Sb{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Er(j),this.Yi=new Oc(u=>rn(u),Ln),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Kf(r,e,t,o){return new Sb(r,e,t,o)}function Zf(r,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,ke.Z)(function*(r,e){const t=Un(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.mutationQueue.getAllMutationBatches(o).next(u=>(a=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const p=[],O=[];let G=er();for(const te of a){p.push(te.batchId);for(const be of te.mutations)G=G.add(be.key)}for(const te of u){O.push(te.batchId);for(const be of te.mutations)G=G.add(be.key)}return t.localDocuments.getDocuments(o,G).next(te=>({er:te,removedBatchIds:p,addedBatchIds:O}))})})}),Yf.apply(this,arguments)}function kb(r){const e=Un(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dm(r,e,t){let o=er(),a=er();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let p=Oa();return t.forEach((O,G)=>{const te=u.get(O);G.isFoundDocument()!==te.isFoundDocument()&&(a=a.add(O)),G.isNoDocument()&&G.version.isEqual(pt.min())?(e.removeEntry(O,G.readTime),p=p.insert(O,G)):!te.isValidDocument()||G.version.compareTo(te.version)>0||0===G.version.compareTo(te.version)&&te.hasPendingWrites?(e.addEntry(G),p=p.insert(O,G)):Sn("LocalStore","Ignoring outdated watch update for ",O,". Current version:",te.version," Watch version:",G.version)}),{nr:p,sr:a}})}function qf(r,e){const t=Un(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function eu(r,e){const t=Un(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,Gt.resolve(a)):t.Bs.allocateTargetId(o).next(p=>(a=new Jc(e,p,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function dd(r,e,t){return rh.apply(this,arguments)}function rh(){return rh=(0,ke.Z)(function*(r,e,t){const o=Un(r),a=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,p=>o.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!mi(p))throw p;Sn("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(a.target)}),rh.apply(this,arguments)}function ud(r,e,t){const o=Un(r);let a=pt.min(),u=er();return o.persistence.runTransaction("Execute query","readonly",p=>function(O,G,te){const be=Un(O),st=be.Yi.get(te);return void 0!==st?Gt.resolve(be.Ji.get(st)):be.Bs.getTargetData(G,te)}(o,p,$s(e)).next(O=>{if(O)return a=O.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(p,O.targetId).next(G=>{u=G})}).next(()=>o.Hi.getDocumentsMatchingQuery(p,e,t?a:pt.min(),t?u:er())).next(O=>(S_(o,Lg(e),O),{documents:O,ir:u})))}function M_(r,e){const t=Un(r),o=Un(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(p=>p?p.target:null))}function Qf(r,e){const t=Un(r),o=t.Xi.get(e)||pt.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Cn(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(S_(t,e,a),a))}function S_(r,e,t){let o=r.Xi.get(e)||pt.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function k_(){return k_=(0,ke.Z)(function*(r,e,t,o){const a=Un(r);let u=er(),p=Oa();for(const te of t){const be=e.rr(te.metadata.name);te.document&&(u=u.add(be));const st=e.ur(te);st.setReadTime(e.cr(te.metadata.readTime)),p=p.insert(be,st)}const O=a.Zi.newChangeBuffer({trackRemovals:!0}),G=yield eu(a,(te=o,$s(bl(wn.fromString(`__bundle__/docs/${te}`)))));var te;return a.persistence.runTransaction("Apply bundle documents","readwrite",te=>dm(te,O,p).next(be=>(O.apply(te),be)).next(be=>a.Bs.removeMatchingKeysForTargetId(te,G.targetId).next(()=>a.Bs.addMatchingKeys(te,u,G.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(te,be.nr,be.sr)).next(()=>be.nr)))}),k_.apply(this,arguments)}function Rb(r,e){return hd.apply(this,arguments)}function hd(){return hd=(0,ke.Z)(function*(r,e,t=er()){const o=yield eu(r,$s(m_(e.bundledQuery))),a=Un(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const p=Ho(e.readTime);if(o.snapshotVersion.compareTo(p)>=0)return a.qs.saveNamedQuery(u,e);const O=o.withResumeToken(Yo.EMPTY_BYTE_STRING,p);return a.Ji=a.Ji.insert(O.targetId,O),a.Bs.updateTargetData(u,O).next(()=>a.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>a.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>a.qs.saveNamedQuery(u,e))})}),hd.apply(this,arguments)}function O_(r,e){return`firestore_clients_${r}_${e}`}function md(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function fd(r,e){return`firestore_targets_${r}_${e}`}class um{constructor(e,t,o,a){this.user=e,this.batchId=t,this.state=o,this.error=a}static ar(e,t,o){const a=JSON.parse(o);let u,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(u=new En(a.error.code,a.error.message))),p?new um(e,t,a.state,u):(wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let a,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(a=new En(o.error.code,o.error.message))),u?new tu(e,o.state,a):(wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let a="object"==typeof o&&o.activeTargetIds instanceof Array,u=Xl();for(let p=0;a&&p<o.activeTargetIds.length;++p)a=na(o.activeTargetIds[p]),u=u.add(o.activeTargetIds[p]);return a?new hm(e,u):(wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xf(t.clientId,t.onlineState):(wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jf{constructor(){this.activeTargetIds=Xl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mm{constructor(e,t,o,a,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Er(j),this.started=!1,this.yr=[];const p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=O_(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Jf),this.Tr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const u=e.getItem(O_(e.persistenceKey,a));if(u){const p=hm.ar(a,u);p&&(e.gr=e.gr.insert(p.clientId,p))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const a=e.br(o);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(fd(this.persistenceKey,e));if(o){const a=tu.ar(e,o);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fd(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Sn("SharedClientState","READ",e,t),t}setItem(e,t){Sn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Sn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Sn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const a=t.Or(o.key);return t.Fr(a,null)}{const a=t.Br(o.key,o.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const a=t.Lr(o.key,o.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const a=t.Ur(o.key,o.newValue);if(a)return t.Kr(a)}}else if(o.key===t.vr){if(null!==o.newValue){const a=t.br(o.newValue);if(a)return t.Vr(a)}}else if(o.key===t.Ir){const a=function(u){let p=Zo.ct;if(null!=u)try{const O=JSON.parse(u);di("number"==typeof O),p=O}catch(O){wr("SharedClientState","Failed to read sequence number from WebStorage",O)}return p}(o.newValue);a!==Zo.ct&&t.sequenceNumberHandler(a)}else if(o.key===t.Rr){const a=t.Gr(o.newValue);yield Promise.all(a.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const a=new um(this.currentUser,e,t,o),u=md(this.persistenceKey,this.currentUser,e);this.setItem(u,a.hr())}Cr(e){const t=md(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const a=fd(this.persistenceKey,e),u=new tu(e,t,o);this.setItem(a,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return hm.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),a=Number(o[1]);return um.ar(new _o(void 0!==o[2]?o[2]:null),a,t)}Ur(e,t){const o=this.Ar.exec(e),a=Number(o[1]);return tu.ar(a,t)}br(e){return Xf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Sn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),u=this.Sr(o),p=[],O=[];return u.forEach(G=>{a.has(G)||p.push(G)}),a.forEach(G=>{u.has(G)||O.push(G)}),this.syncEngine.Wr(p,O).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Xl();return e.forEach((o,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class ep{constructor(){this.Hr=new Jf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tp{Yr(e){}shutdown(){}}class nu{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let oh=null;function R_(){return null===oh?oh=268435456+Math.round(2147483648*Math.random()):oh++,"0x"+oh.toString(16)}const np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iu{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gs="WebChannelConnection";class P_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const p=R_(),O=this.To(e,t);Sn("RestConnection",`Sending RPC '${e}' ${p}:`,O,o);const G={};return this.Eo(G,a,u),this.Ao(e,O,G,o).then(te=>(Sn("RestConnection",`Received RPC '${e}' ${p}: `,te),te),te=>{throw Is("RestConnection",`RPC '${e}' ${p} failed with error: `,te,"url: ",O,"request:",o),te})}vo(e,t,o,a,u,p){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ls,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${np[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=R_();return new Promise((p,O)=>{const G=new xc;G.setWithCredentials(!0),G.listenOnce(Ys.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Ro.NO_ERROR:const be=G.getResponseJson();Sn(Gs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(be)),p(be);break;case Ro.TIMEOUT:Sn(Gs,`RPC '${e}' ${u} timed out`),O(new En(nn.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:const st=G.getStatus();if(Sn(Gs,`RPC '${e}' ${u} failed with status:`,st,"response text:",G.getResponseText()),st>0){let Xt=G.getResponseJson();Array.isArray(Xt)&&(Xt=Xt[0]);const gn=Xt?.error;if(gn&&gn.status&&gn.message){const Bn=function(Jn){const ci=Jn.toLowerCase().replace(/_/g,"-");return Object.values(nn).indexOf(ci)>=0?ci:nn.UNKNOWN}(gn.status);O(new En(Bn,gn.message))}else O(new En(nn.UNKNOWN,"Server responded with status "+G.getStatus()))}else O(new En(nn.UNAVAILABLE,"Connection failed."));break;default:ni()}}finally{Sn(Gs,`RPC '${e}' ${u} completed.`)}});const te=JSON.stringify(a);Sn(Gs,`RPC '${e}' ${u} sending request:`,a),G.send(t,"POST",te,o,15)})}Ro(e,t,o){const a=R_(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Zr(),O=wa(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},te=this.longPollingOptions.timeoutSeconds;void 0!==te&&(G.longPollingTimeout=Math.round(1e3*te)),this.useFetchStreams&&(G.xmlHttpFactory=new sc({})),this.Eo(G.initMessageHeaders,t,o),G.encodeInitMessageHeaders=!0;const be=u.join("");Sn(Gs,`Creating RPC '${e}' stream ${a}: ${be}`,G);const st=p.createWebChannel(be,G);let Xt=!1,gn=!1;const Bn=new iu({ro:ci=>{gn?Sn(Gs,`Not sending because RPC '${e}' stream ${a} is closed:`,ci):(Xt||(Sn(Gs,`Opening RPC '${e}' stream ${a} transport.`),st.open(),Xt=!0),Sn(Gs,`RPC '${e}' stream ${a} sending:`,ci),st.send(ci))},oo:()=>st.close()}),Jn=(ci,tr,Vr)=>{ci.listen(tr,Wi=>{try{Vr(Wi)}catch(ps){setTimeout(()=>{throw ps},0)}})};return Jn(st,ha.EventType.OPEN,()=>{gn||Sn(Gs,`RPC '${e}' stream ${a} transport opened.`)}),Jn(st,ha.EventType.CLOSE,()=>{gn||(gn=!0,Sn(Gs,`RPC '${e}' stream ${a} transport closed`),Bn.wo())}),Jn(st,ha.EventType.ERROR,ci=>{gn||(gn=!0,Is(Gs,`RPC '${e}' stream ${a} transport errored:`,ci),Bn.wo(new En(nn.UNAVAILABLE,"The operation could not be completed")))}),Jn(st,ha.EventType.MESSAGE,ci=>{var tr;if(!gn){const Vr=ci.data[0];di(!!Vr);const ps=Vr.error||(null===(tr=Vr[0])||void 0===tr?void 0:tr.error);if(ps){Sn(Gs,`RPC '${e}' stream ${a} received error:`,ps);const No=ps.status;let Eo=function(yc){const ku=jo[yc];if(void 0!==ku)return Qg(ku)}(No),va=ps.message;void 0===Eo&&(Eo=nn.INTERNAL,va="Unknown error status: "+No+" with message "+ps.message),gn=!0,Bn.wo(new En(Eo,va)),st.close()}else Sn(Gs,`RPC '${e}' stream ${a} received:`,Vr),Bn._o(Vr)}}),Jn(O,cs.STAT_EVENT,ci=>{ci.stat===ys.PROXY?Sn(Gs,`RPC '${e}' stream ${a} detected buffering proxy`):ci.stat===ys.NOPROXY&&Sn(Gs,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Bn.fo()},0),Bn}}function ip(){return typeof window<"u"?window:null}function fm(){return typeof document<"u"?document:null}function sh(r){return new hb(r,!0)}class rp{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&Sn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F_{constructor(e,t,o,a,u,p,O,G){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=O,this.listener=G,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new rp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ke.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ke.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,ke.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===nn.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===nn.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new En(nn.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,ke.Z)(function*(){e.state=0,e.start()}))}tu(e){return Sn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pb extends F_{constructor(e,t,o,a,u,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,p),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function s_(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:ni(),a=e.targetChange.targetIds||[],u=function(G,te){return G.useProto3Json?(di(void 0===te||"string"==typeof te),Yo.fromBase64String(te||"")):(di(void 0===te||te instanceof Uint8Array),Yo.fromUint8Array(te||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,O=p&&function(G){const te=void 0===G.code?nn.UNKNOWN:Qg(G.code);return new En(te,G.message||"")}(p);t=new Gu(o,a,u,O||null)}else if("documentChange"in e){const o=e.documentChange,a=Pc(r,o.document.name),u=Ho(o.document.updateTime),p=o.document.createTime?Ho(o.document.createTime):pt.min(),O=new _r({mapValue:{fields:o.document.fields}}),G=Xr.newFoundDocument(a,u,p,O);t=new $u(o.targetIds||[],o.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const o=e.documentDelete,a=Pc(r,o.document),u=o.readTime?Ho(o.readTime):pt.min(),p=Xr.newNoDocument(a,u);t=new $u([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,a=Pc(r,o.document);t=new $u([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ni();{const o=e.filter,{count:a=0,unchangedNames:u}=o,p=new qg(a,u);t=new Gh(o.targetId,p)}}var G;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return pt.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?pt.min():u.readTime?Ho(u.readTime):pt.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Qc(this.serializer),t.addTarget=function(a,u){let p;const O=u.target;if(p=ii(O)?{documents:a_(a,O)}:{query:Sf(a,O)},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=Wu(a,u.resumeToken);const G=Wh(a,u.expectedCount);null!==G&&(p.expectedCount=G)}else if(u.snapshotVersion.compareTo(pt.min())>0){p.readTime=id(a,u.snapshotVersion.toTimestamp());const G=Wh(a,u.expectedCount);null!==G&&(p.expectedCount=G)}return p}(this.serializer,e);const o=function Xc(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ni()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Qc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fb extends F_{constructor(e,t,o,a,u,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,p),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(di(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function mb(r,e){return r&&r.length>0?(di(void 0!==e),r.map(t=>function(o,a){let u=Ho(o.updateTime?o.updateTime:a);return u.isEqual(pt.min())&&(u=Ho(a)),new mf(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ho(e.commitTime);return this.listener.cu(o,t)}return di(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Qc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>hc(this.serializer,o))};this.Wo(t)}}class N_ extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new En(nn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new En(nn.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.vo(e,t,o,u,p,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new En(nn.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class L_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(wr(t),this.mu=!1):Sn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g0{constructor(e,t,o,a,u){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(O=>{o.enqueueAndForget((0,ke.Z)(function*(){var G;il(p)&&(Sn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,ke.Z)(function*(te){const be=Un(te);be.vu.add(4),yield ch(be),be.bu.set("Unknown"),be.vu.delete(4),yield ah(be)}),function(te){return G.apply(this,arguments)})(p))}))}),this.bu=new L_(o,a)}}function ah(r){return B_.apply(this,arguments)}function B_(){return B_=(0,ke.Z)(function*(r){if(il(r))for(const e of r.Ru)yield e(!0)}),B_.apply(this,arguments)}function ch(r){return pm.apply(this,arguments)}function pm(){return pm=(0,ke.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),pm.apply(this,arguments)}function lh(r,e){const t=Un(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bm(t)?vm(t):_d(t).Ko()&&_m(t,e))}function gm(r,e){const t=Un(r),o=_d(t);t.Au.delete(e),o.Ko()&&dh(t,e),0===t.Au.size&&(o.Ko()?o.jo():il(t)&&t.bu.set("Unknown"))}function _m(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_d(r).su(e)}function dh(r,e){r.Vu.qt(e),_d(r).iu(e)}function vm(r){r.Vu=new Cf({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),_d(r).start(),r.bu.gu()}function bm(r){return il(r)&&!_d(r).Uo()&&r.Au.size>0}function il(r){return 0===Un(r).vu.size}function Yi(r){r.Vu=void 0}function U_(r){return ym.apply(this,arguments)}function ym(){return ym=(0,ke.Z)(function*(r){r.Au.forEach((e,t)=>{_m(r,e)})}),ym.apply(this,arguments)}function _0(r,e){return op.apply(this,arguments)}function op(){return op=(0,ke.Z)(function*(r,e){Yi(r),bm(r)?(r.bu.Iu(e),vm(r)):r.bu.set("Unknown")}),op.apply(this,arguments)}function V_(r,e,t){return sp.apply(this,arguments)}function sp(){return sp=(0,ke.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Gu&&2===e.state&&e.cause)try{yield(o=(0,ke.Z)(function*(a,u){const p=u.cause;for(const O of u.targetIds)a.Au.has(O)&&(yield a.remoteSyncer.rejectListen(O,p),a.Au.delete(O),a.Vu.removeTarget(O))}),function(a,u){return o.apply(this,arguments)})(r,e)}catch(o){Sn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wm(r,o)}else if(e instanceof $u?r.Vu.Ht(e):e instanceof Gh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(pt.min()))try{const o=yield kb(r.localStore);t.compareTo(o)>=0&&(yield function(a,u){const p=a.Vu.ce(u);return p.targetChanges.forEach((O,G)=>{if(O.resumeToken.approximateByteSize()>0){const te=a.Au.get(G);te&&a.Au.set(G,te.withResumeToken(O.resumeToken,u))}}),p.targetMismatches.forEach((O,G)=>{const te=a.Au.get(O);if(!te)return;a.Au.set(O,te.withResumeToken(Yo.EMPTY_BYTE_STRING,te.snapshotVersion)),dh(a,O);const be=new Jc(te.target,O,G,te.sequenceNumber);_m(a,be)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(o){Sn("RemoteStore","Failed to raise snapshot:",o),yield wm(r,o)}var o}),sp.apply(this,arguments)}function wm(r,e,t){return xm.apply(this,arguments)}function xm(){return xm=(0,ke.Z)(function*(r,e,t){if(!mi(e))throw e;r.vu.add(1),yield ch(r),r.bu.set("Offline"),t||(t=()=>kb(r.localStore)),r.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){Sn("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield ah(r)}))}),xm.apply(this,arguments)}function j_(r,e){return e().catch(t=>wm(r,t,e))}function pd(r){return ap.apply(this,arguments)}function ap(){return ap=(0,ke.Z)(function*(r){const e=Un(r),t=Fc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Nb(e);)try{const a=yield qf(e.localStore,o);if(null===a){0===e.Eu.length&&t.jo();break}o=a.batchId,v0(e,a)}catch(a){yield wm(e,a)}cp(e)&&lp(e)}),ap.apply(this,arguments)}function Nb(r){return il(r)&&r.Eu.length<10}function v0(r,e){r.Eu.push(e);const t=Fc(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function cp(r){return il(r)&&!Fc(r).Uo()&&r.Eu.length>0}function lp(r){Fc(r).start()}function Rl(r){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,ke.Z)(function*(r){Fc(r).hu()}),Pl.apply(this,arguments)}function H_(r){return dp.apply(this,arguments)}function dp(){return dp=(0,ke.Z)(function*(r){const e=Fc(r);for(const t of r.Eu)e.uu(t.mutations)}),dp.apply(this,arguments)}function Em(r,e,t){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,ke.Z)(function*(r,e,t){const o=r.Eu.shift(),a=_f.from(o,e,t);yield j_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield pd(r)}),Fl.apply(this,arguments)}function up(r,e){return gd.apply(this,arguments)}function gd(){return gd=(0,ke.Z)(function*(r,e){var t;e&&Fc(r).ou&&(yield(t=(0,ke.Z)(function*(o,a){if(yf(u=a.code)&&u!==nn.ABORTED){const p=o.Eu.shift();Fc(o).Qo(),yield j_(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield pd(o)}var u}),function(o,a){return t.apply(this,arguments)})(r,e)),cp(r)&&lp(r)}),gd.apply(this,arguments)}function hp(r,e){return uh.apply(this,arguments)}function uh(){return uh=(0,ke.Z)(function*(r,e){const t=Un(r);t.asyncQueue.verifyOperationInProgress(),Sn("RemoteStore","RemoteStore received new credentials");const o=il(t);t.vu.add(3),yield ch(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ah(t)}),uh.apply(this,arguments)}function hh(r,e){return mh.apply(this,arguments)}function mh(){return mh=(0,ke.Z)(function*(r,e){const t=Un(r);e?(t.vu.delete(2),yield ah(t)):e||(t.vu.add(2),yield ch(t),t.bu.set("Unknown"))}),mh.apply(this,arguments)}function _d(r){return r.Su||(r.Su=function(e,t,o){const a=Un(e);return a.fu(),new Pb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:U_.bind(null,r),ao:_0.bind(null,r),nu:V_.bind(null,r)}),r.Ru.push(function(){var e=(0,ke.Z)(function*(t){t?(r.Su.Qo(),bm(r)?vm(r):r.bu.set("Unknown")):(yield r.Su.stop(),Yi(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Fc(r){return r.Du||(r.Du=function(e,t,o){const a=Un(e);return a.fu(),new Fb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{uo:Rl.bind(null,r),ao:up.bind(null,r),au:H_.bind(null,r),cu:Em.bind(null,r)}),r.Ru.push(function(){var e=(0,ke.Z)(function*(t){t?(r.Du.Qo(),yield pd(r)):(yield r.Du.stop(),r.Eu.length>0&&(Sn("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class mp{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,o,a,u){const p=Date.now()+o,O=new mp(e,t,p,a,u);return O.start(o),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new En(nn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(r,e){if(wr("AsyncQueue",`${e}: ${r}`),mi(r))return new En(nn.UNAVAILABLE,`${e}: ${r}`);throw r}class su{constructor(e){this.comparator=e?(t,o)=>e(t,o)||x.comparator(t.key,o.key):(t,o)=>x.comparator(t.key,o.key),this.keyedMap=Uu(),this.sortedSet=new Er(this.comparator)}static emptySet(e){return new su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new su;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class fp{constructor(){this.Cu=new Er(x.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ni():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class au{constructor(e,t,o,a,u,p,O,G,te){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=p,this.syncStateChanged=O,this.excludesMetadataChanges=G,this.hasCachedResults=te}static fromInitialDocuments(e,t,o,a,u){const p=[];return t.forEach(O=>{p.push({type:0,doc:O})}),new au(e,t,su.emptySet(t),p,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class Lb{constructor(){this.Nu=void 0,this.listeners=[]}}class Bb{constructor(){this.queries=new Oc(e=>Wc(e),wl),this.onlineState="Unknown",this.ku=new Set}}function pp(r,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,ke.Z)(function*(r,e){const t=Un(r),o=e.query;let a=!1,u=t.queries.get(o);if(u||(a=!0,u=new Lb),a)try{u.Nu=yield t.onListen(o)}catch(p){const O=ou(p,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(O)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&_p(t)}),Cm.apply(this,arguments)}function Dm(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,ke.Z)(function*(r,e){const t=Un(r),o=e.query;let a=!1;const u=t.queries.get(o);if(u){const p=u.listeners.indexOf(e);p>=0&&(u.listeners.splice(p,1),a=0===u.listeners.length)}if(a)return t.queries.delete(o),t.onUnlisten(o)}),gp.apply(this,arguments)}function Ub(r,e){const t=Un(r);let o=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const O of p.listeners)O.$u(a)&&(o=!0);p.Nu=a}}o&&_p(t)}function ja(r,e,t){const o=Un(r),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function _p(r){r.ku.forEach(e=>{e.next()})}class vp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new au(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class b0{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Im{constructor(e){this.serializer=e}rr(e){return Pc(this.serializer,e)}ur(e){return e.metadata.exists?Tf(this.serializer,e.document,!1):Xr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ho(e)}}class z_{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=wn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Im(this.serializer);for(const a of e)if(a.metadata.queries){const u=o.rr(a.metadata.name);for(const p of a.metadata.queries){const O=(t.get(p)||er()).add(u);t.set(p,O)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function A_(r,e,t,o){return k_.apply(this,arguments)}(e.localStore,new Im(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const a of e.queries)yield Rb(e.localStore,a,o.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class G_{constructor(e){this.key=e}}class W_{constructor(e){this.key=e}}class bp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=er(),this.mutatedKeys=er(),this.tc=Bg(e),this.ec=new su(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new fp,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,p=a,O=!1;const G="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,te="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((be,st)=>{const Xt=a.get(be),gn=ka(this.query,st)?st:null,Bn=!!Xt&&this.mutatedKeys.has(Xt.key),Jn=!!gn&&(gn.hasLocalMutations||this.mutatedKeys.has(gn.key)&&gn.hasCommittedMutations);let ci=!1;Xt&&gn?Xt.data.isEqual(gn.data)?Bn!==Jn&&(o.track({type:3,doc:gn}),ci=!0):this.rc(Xt,gn)||(o.track({type:2,doc:gn}),ci=!0,(G&&this.tc(gn,G)>0||te&&this.tc(gn,te)<0)&&(O=!0)):!Xt&&gn?(o.track({type:0,doc:gn}),ci=!0):Xt&&!gn&&(o.track({type:1,doc:Xt}),ci=!0,(G||te)&&(O=!0)),ci&&(gn?(p=p.add(gn),u=Jn?u.add(be):u.delete(be)):(p=p.delete(be),u=u.delete(be)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const be="F"===this.query.limitType?p.last():p.first();p=p.delete(be.key),u=u.delete(be.key),o.track({type:1,doc:be})}return{ec:p,ic:o,zi:O,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((te,be)=>function(st,Xt){const gn=Bn=>{switch(Bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ni()}};return gn(st)-gn(Xt)}(te.type,be.type)||this.tc(te.doc,be.doc)),this.oc(o);const p=t?this.uc():[],O=0===this.Zu.size&&this.current?1:0,G=O!==this.Xu;return this.Xu=O,0!==u.length||G?{snapshot:new au(this.query,e.ec,a,u,e.mutatedKeys,0===O,G,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=er(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new W_(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new G_(o))}),t}hc(e){this.Yu=e.ir,this.Zu=er();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return au.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vb{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class jb{constructor(e){this.key=e,this.fc=!1}}class yp{constructor(e,t,o,a,u,p){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new Oc(O=>Wc(O),wl),this._c=new Map,this.mc=new Set,this.gc=new Er(x.comparator),this.yc=new Map,this.Ic=new I_,this.Tc={},this.Ec=new Map,this.Ac=tl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Hb(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,ke.Z)(function*(r,e){const t=vd(r);let o,a;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),a=u.view.lc();else{const p=yield eu(t.localStore,$s(e)),O=t.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,a=yield xp(t,e,o,"current"===O,p.resumeToken),t.isPrimaryClient&&lh(t.remoteStore,p)}return a}),wp.apply(this,arguments)}function xp(r,e,t,o,a){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ke.Z)(function*(r,e,t,o,a){r.Rc=(st,Xt,gn)=>{return(Bn=(0,ke.Z)(function*(Jn,ci,tr,Vr){let Wi=ci.view.sc(tr);Wi.zi&&(Wi=yield ud(Jn.localStore,ci.query,!1).then(({documents:Eo})=>ci.view.sc(Eo,Wi)));const ps=Vr&&Vr.targetChanges.get(ci.targetId),No=ci.view.applyChanges(Wi,Jn.isPrimaryClient,ps);return ph(Jn,ci.targetId,No.cc),No.snapshot}),function(Jn,ci,tr,Vr){return Bn.apply(this,arguments)})(r,st,Xt,gn);var Bn};const u=yield ud(r.localStore,e,!0),p=new bp(e,u.ir),O=p.sc(u.documents),G=qc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,a),te=p.applyChanges(O,r.isPrimaryClient,G);ph(r,t,te.cc);const be=new Vb(e,t,p);return r.wc.set(e,be),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),te.snapshot}),Ep.apply(this,arguments)}function zb(r,e){return tc.apply(this,arguments)}function tc(){return tc=(0,ke.Z)(function*(r,e){const t=Un(r),o=t.wc.get(e),a=t._c.get(o.targetId);if(a.length>1)return t._c.set(o.targetId,a.filter(u=>!wl(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield dd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),gm(t.remoteStore,o.targetId),lu(t,o.targetId)}).catch(ds))):(lu(t,o.targetId),yield dd(t.localStore,o.targetId,!0))}),tc.apply(this,arguments)}function Dp(){return Dp=(0,ke.Z)(function*(r,e,t){const o=Lp(r);try{const a=yield function(u,p){const O=Un(u),G=ot.now(),te=p.reduce((Xt,gn)=>Xt.add(gn.key),er());let be,st;return O.persistence.runTransaction("Locally write mutations","readwrite",Xt=>{let gn=Oa(),Bn=er();return O.Zi.getEntries(Xt,te).next(Jn=>{gn=Jn,gn.forEach((ci,tr)=>{tr.isValidDocument()||(Bn=Bn.add(ci))})}).next(()=>O.localDocuments.getOverlayedDocuments(Xt,gn)).next(Jn=>{be=Jn;const ci=[];for(const tr of p){const Vr=lb(tr,be.get(tr.key).overlayedDocument);null!=Vr&&ci.push(new Yc(tr.key,Vr,Qa(Vr.value.mapValue),qo.exists(!0)))}return O.mutationQueue.addMutationBatch(Xt,G,ci,p)}).next(Jn=>{st=Jn;const ci=Jn.applyToLocalDocumentSet(be,Bn);return O.documentOverlayCache.saveOverlays(Xt,Jn.batchId,ci)})}).then(()=>({batchId:st.batchId,changes:cf(be)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(u,p,O){let G=u.Tc[u.currentUser.toKey()];G||(G=new Er(j)),G=G.insert(p,O),u.Tc[u.currentUser.toKey()]=G}(o,a.batchId,t),yield rl(o,a.changes),yield pd(o.remoteStore)}catch(a){const u=ou(a,"Failed to persist write");t.reject(u)}}),Dp.apply(this,arguments)}function Ip(r,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ke.Z)(function*(r,e){const t=Un(r);try{const o=yield function Ob(r,e){const t=Un(r),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const O=[];e.targetChanges.forEach((be,st)=>{const Xt=a.get(st);if(!Xt)return;O.push(t.Bs.removeMatchingKeys(u,be.removedDocuments,st).next(()=>t.Bs.addMatchingKeys(u,be.addedDocuments,st)));let gn=Xt.withSequenceNumber(u.currentSequenceNumber);var Bn,Jn,ci;null!==e.targetMismatches.get(st)?gn=gn.withResumeToken(Yo.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):be.resumeToken.approximateByteSize()>0&&(gn=gn.withResumeToken(be.resumeToken,o)),a=a.insert(st,gn),Jn=gn,ci=be,(0===(Bn=Xt).resumeToken.approximateByteSize()||Jn.snapshotVersion.toMicroseconds()-Bn.snapshotVersion.toMicroseconds()>=3e8||ci.addedDocuments.size+ci.modifiedDocuments.size+ci.removedDocuments.size>0)&&O.push(t.Bs.updateTargetData(u,gn))});let G=Oa(),te=er();if(e.documentUpdates.forEach(be=>{e.resolvedLimboDocuments.has(be)&&O.push(t.persistence.referenceDelegate.updateLimboDocument(u,be))}),O.push(dm(u,p,e.documentUpdates).next(be=>{G=be.nr,te=be.sr})),!o.isEqual(pt.min())){const be=t.Bs.getLastRemoteSnapshotVersion(u).next(st=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));O.push(be)}return Gt.waitFor(O).next(()=>p.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,G,te)).next(()=>G)}).then(u=>(t.Ji=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const p=t.yc.get(u);p&&(di(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?di(p.fc):a.removedDocuments.size>0&&(di(p.fc),p.fc=!1))}),yield rl(t,o,e)}catch(o){yield ds(o)}}),Tp.apply(this,arguments)}function Mp(r,e,t){const o=Un(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,p)=>{const O=p.view.Mu(e);O.snapshot&&a.push(O.snapshot)}),function(u,p){const O=Un(u);O.onlineState=p;let G=!1;O.queries.forEach((te,be)=>{for(const st of be.listeners)st.Mu(p)&&(G=!0)}),G&&_p(O)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function K_(r,e,t){return cu.apply(this,arguments)}function cu(){return cu=(0,ke.Z)(function*(r,e,t){const o=Un(r);o.sharedClientState.updateQueryState(e,"rejected",t);const a=o.yc.get(e),u=a&&a.key;if(u){let p=new Er(x.comparator);p=p.insert(u,Xr.newNoDocument(u,pt.min()));const O=er().add(u),G=new Dl(pt.min(),new Map,new Er(j),p,O);yield Ip(o,G),o.gc=o.gc.remove(u),o.yc.delete(e),Ap(o)}else yield dd(o.localStore,e,!1).then(()=>lu(o,e,t)).catch(ds)}),cu.apply(this,arguments)}function Sp(r,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,ke.Z)(function*(r,e){const t=Un(r),o=e.batch.batchId;try{const a=yield function Ab(r,e){const t=Un(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,O,G,te){const be=G.batch,st=be.keys();let Xt=Gt.resolve();return st.forEach(gn=>{Xt=Xt.next(()=>te.getEntry(O,gn)).next(Bn=>{const Jn=G.docVersions.get(gn);di(null!==Jn),Bn.version.compareTo(Jn)<0&&(be.applyToRemoteDocument(Bn,G),Bn.isValidDocument()&&(Bn.setReadTime(G.commitVersion),te.addEntry(Bn)))})}),Xt.next(()=>p.mutationQueue.removeMutationBatch(O,be))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let O=er();for(let G=0;G<p.mutationResults.length;++G)p.mutationResults[G].transformResults.length>0&&(O=O.add(p.batch.mutations[G].key));return O}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(t.localStore,e);gc(t,o,null),fh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield rl(t,a)}catch(a){yield ds(a)}}),Z_.apply(this,arguments)}function Y_(r,e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ke.Z)(function*(r,e,t){const o=Un(r);try{const a=yield function(u,p){const O=Un(u);return O.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let te;return O.mutationQueue.lookupMutationBatch(G,p).next(be=>(di(null!==be),te=be.keys(),O.mutationQueue.removeMutationBatch(G,be))).next(()=>O.mutationQueue.performConsistencyCheck(G)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(G,te,p)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,te)).next(()=>O.localDocuments.getDocuments(G,te))})}(o.localStore,e);gc(o,e,t),fh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield rl(o,a)}catch(a){yield ds(a)}}),Tm.apply(this,arguments)}function Mm(){return Mm=(0,ke.Z)(function*(r,e){const t=Un(r);il(t.remoteStore)||Sn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const p=Un(u);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>p.mutationQueue.getHighestUnacknowledgedBatchId(O))}(t.localStore);if(-1===o)return void e.resolve();const a=t.Ec.get(o)||[];a.push(e),t.Ec.set(o,a)}catch(o){const a=ou(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Mm.apply(this,arguments)}function fh(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function gc(r,e,t){const o=Un(r);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function lu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||Q_(r,o)})}function Q_(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(gm(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ap(r))}function ph(r,e,t){for(const o of t)o instanceof G_?(r.Ic.addReference(o.key,e),$b(r,o)):o instanceof W_?(Sn("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||Q_(r,o.key)):ni()}function $b(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(Sn("SyncEngine","New document in limbo: "+t),r.mc.add(o),Ap(r))}function Ap(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new x(wn.fromString(e)),o=r.Ac.next();r.yc.set(o,new jb(t)),r.gc=r.gc.insert(t,o),lh(r.remoteStore,new Jc($s(bl(t.path)),o,"TargetPurposeLimboResolution",Zo.ct))}}function rl(r,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,ke.Z)(function*(r,e,t){const o=Un(r),a=[],u=[],p=[];var O;o.wc.isEmpty()||(o.wc.forEach((O,G)=>{p.push(o.Rc(G,e,t).then(te=>{if((te||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,te?.fromCache?"not-current":"current"),te){a.push(te);const be=lm.Li(G.targetId,te);u.push(be)}}))}),yield Promise.all(p),o.dc.nu(a),yield(O=(0,ke.Z)(function*(G,te){const be=Un(G);try{yield be.persistence.runTransaction("notifyLocalViewChanges","readwrite",st=>Gt.forEach(te,Xt=>Gt.forEach(Xt.Fi,gn=>be.persistence.referenceDelegate.addReference(st,Xt.targetId,gn)).next(()=>Gt.forEach(Xt.Bi,gn=>be.persistence.referenceDelegate.removeReference(st,Xt.targetId,gn)))))}catch(st){if(!mi(st))throw st;Sn("LocalStore","Failed to update sequence numbers: "+st)}for(const st of te){const Xt=st.targetId;if(!st.fromCache){const gn=be.Ji.get(Xt),Jn=gn.withLastLimboFreeSnapshotVersion(gn.snapshotVersion);be.Ji=be.Ji.insert(Xt,Jn)}}}),function(G,te){return O.apply(this,arguments)})(o.localStore,u))}),X_.apply(this,arguments)}function J_(r,e){return kp.apply(this,arguments)}function kp(){return kp=(0,ke.Z)(function*(r,e){const t=Un(r);if(!t.currentUser.isEqual(e)){Sn("SyncEngine","User change. New user:",e.toKey());const o=yield Zf(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(O=>{O.reject(new En(nn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield rl(t,o.er)}var a}),kp.apply(this,arguments)}function Sm(r,e){const t=Un(r),o=t.yc.get(e);if(o&&o.fc)return er().add(o.key);{let a=er();const u=t._c.get(e);if(!u)return a;for(const p of u){const O=t.wc.get(p);a=a.unionWith(O.view.nc)}return a}}function gh(r,e){return du.apply(this,arguments)}function du(){return du=(0,ke.Z)(function*(r,e){const t=Un(r),o=yield ud(t.localStore,e.query,!0),a=e.view.hc(o);return t.isPrimaryClient&&ph(t,e.targetId,a.cc),a}),du.apply(this,arguments)}function y0(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,ke.Z)(function*(r,e){const t=Un(r);return Qf(t.localStore,e).then(o=>rl(t,o))}),Op.apply(this,arguments)}function Am(r,e,t,o){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,ke.Z)(function*(r,e,t,o){const a=Un(r),u=yield function(p,O){const G=Un(p),te=Un(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",be=>te.Sn(be,O).next(st=>st?G.localDocuments.getDocuments(be,st):Gt.resolve(null)))}(a.localStore,e);var O;null!==u?("pending"===t?yield pd(a.remoteStore):"acknowledged"===t||"rejected"===t?(gc(a,e,o||null),fh(a,e),O=e,Un(Un(a.localStore).mutationQueue).Cn(O)):ni(),yield rl(a,u)):Sn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rp.apply(this,arguments)}function Pp(){return Pp=(0,ke.Z)(function*(r,e){const t=Un(r);if(vd(t),Lp(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),a=yield km(t,o.toArray());t.vc=!0,yield hh(t.remoteStore,!0);for(const u of a)lh(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let a=Promise.resolve();t._c.forEach((u,p)=>{t.sharedClientState.isLocalQueryTarget(p)?o.push(p):a=a.then(()=>(lu(t,p),dd(t.localStore,p,!0))),gm(t.remoteStore,p)}),yield a,yield km(t,o),function(u){const p=Un(u);p.yc.forEach((O,G)=>{gm(p.remoteStore,G)}),p.Ic.Ts(),p.yc=new Map,p.gc=new Er(x.comparator)}(t),t.vc=!1,yield hh(t.remoteStore,!1)}}),Pp.apply(this,arguments)}function km(r,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ke.Z)(function*(r,e,t){const o=Un(r),a=[],u=[];for(const p of e){let O;const G=o._c.get(p);if(G&&0!==G.length){O=yield eu(o.localStore,$s(G[0]));for(const te of G){const be=o.wc.get(te),st=yield gh(o,be);st.snapshot&&u.push(st.snapshot)}}else{const te=yield M_(o.localStore,p);O=yield eu(o.localStore,te),yield xp(o,uu(te),p,!1,O.resumeToken)}a.push(O)}return o.dc.nu(u),a}),Fp.apply(this,arguments)}function uu(r){return Ud(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Wb(r){const e=Un(r);return Un(Un(e.localStore).persistence).$i()}function ev(r,e,t,o){return Om.apply(this,arguments)}function Om(){return Om=(0,ke.Z)(function*(r,e,t,o){const a=Un(r);if(a.vc)return void Sn("SyncEngine","Ignoring unexpected query state notification.");const u=a._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const p=yield Qf(a.localStore,Lg(u[0])),O=Dl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Yo.EMPTY_BYTE_STRING);yield rl(a,p,O);break}case"rejected":yield dd(a.localStore,e,!0),lu(a,e,o);break;default:ni()}}),Om.apply(this,arguments)}function Kb(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,ke.Z)(function*(r,e,t){const o=vd(r);if(o.vc){for(const a of e){if(o._c.has(a)){Sn("SyncEngine","Adding an already active target "+a);continue}const u=yield M_(o.localStore,a),p=yield eu(o.localStore,u);yield xp(o,uu(u),p.targetId,!1,p.resumeToken),lh(o.remoteStore,p)}for(const a of t)o._c.has(a)&&(yield dd(o.localStore,a,!1).then(()=>{gm(o.remoteStore,a),lu(o,a)}).catch(ds))}}),Np.apply(this,arguments)}function vd(r){const e=Un(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ip.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K_.bind(null,e),e.dc.nu=Ub.bind(null,e.eventManager),e.dc.Pc=ja.bind(null,e.eventManager),e}function Lp(r){const e=Un(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y_.bind(null,e),e}class _h{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.serializer=sh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Kf(this.persistence,new T_,e.initialUser,this.serializer)}createPersistence(e){return new eh(Ol.zs,this.serializer)}createSharedClientState(e){return new ep}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends _h{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ke.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Lp(o.Vc.syncEngine),yield pd(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Kf(this.persistence,new T_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new sm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new xr(t,this.persistence);return new Na(e.asyncQueue,o)}createPersistence(e){const t=ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ca.withCacheSize(this.cacheSizeBytes):Ca.DEFAULT;return new Xd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ip(),fm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ep}}class tv extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ke.Z)(function*(){yield t().call(o,e);const a=o.Vc.syncEngine;o.sharedClientState instanceof mm&&(o.sharedClientState.syncEngine={jr:Am.bind(null,a),zr:ev.bind(null,a),Wr:Kb.bind(null,a),$i:Wb.bind(null,a),Qr:y0.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,ke.Z)(function*(p){yield function Gb(r,e){return Pp.apply(this,arguments)}(o.Vc.syncEngine,p),o.gcScheduler&&(p&&!o.gcScheduler.started?o.gcScheduler.start():p||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(p&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():p||o.indexBackfillerScheduler.stop())});return function(p){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ip();if(!mm.D(t))throw new En(nn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mm(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class hu{initialize(e,t){var o=this;return(0,ke.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Mp(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=J_.bind(null,o.syncEngine),yield hh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bb}createDatastore(e){const t=sh(e.databaseInfo.databaseId),o=new P_(e.databaseInfo);return new N_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=O=>Mp(this.syncEngine,O,0),p=nu.D()?new nu:new tp,new g0(t,o,a,u,p);var t,o,a,u,p}createSyncEngine(e,t){return function(o,a,u,p,O,G,te){const be=new yp(o,a,u,p,O,G);return te&&(be.vc=!0),be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ke.Z)(function*(t){const o=Un(t);Sn("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ch(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nv(r,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Pi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),a=Number(o);isNaN(a)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(a);return new b0(JSON.parse(u),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ke.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Up{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new En(nn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,ke.Z)(function*(u,p){const O=Un(u),G=Qc(O.serializer)+"/documents",te={documents:p.map(gn=>Kh(O.serializer,gn))},be=yield O.vo("BatchGetDocuments",G,te,p.length),st=new Map;be.forEach(gn=>{const Bn=function o_(r,e){return"found"in e?function(t,o){di(!!o.found);const a=Pc(t,o.found.name),u=Ho(o.found.updateTime),p=o.found.createTime?Ho(o.found.createTime):pt.min(),O=new _r({mapValue:{fields:o.found.fields}});return Xr.newFoundDocument(a,u,p,O)}(r,e):"missing"in e?function(t,o){di(!!o.missing),di(!!o.readTime);const a=Pc(t,o.missing),u=Ho(o.readTime);return Xr.newNoDocument(a,u)}(r,e):ni()}(O.serializer,gn);st.set(Bn.key.toString(),Bn)});const Xt=[];return p.forEach(gn=>{const Bn=st.get(gn.toString());di(!!Bn),Xt.push(Bn)}),Xt}),function(u,p){return a.apply(this,arguments)})(t.datastore,e);var a;return o.forEach(a=>t.recordVersion(a)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,a)=>{const u=x.fromPath(a);e.mutations.push(new $h(u,e.precondition(u)))}),yield(o=(0,ke.Z)(function*(a,u){const p=Un(a),O=Qc(p.serializer)+"/documents",G={writes:u.map(te=>hc(p.serializer,te))};yield p.Io("Commit",O,G)}),function(a,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ni();t=pt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new En(nn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pt.min())?qo.exists(!1):qo.updateTime(t):qo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pt.min()))throw new En(nn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qo.updateTime(t)}return qo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yb{constructor(e,t,o,a,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=a,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new rp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ke.Z)(function*(){const t=new Up(e.datastore),o=e.qc(t);o&&o.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Uc(u)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Bs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yf(t)}return!1}}class Vp{constructor(e,t,o,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=_o.UNAUTHENTICATED,this.clientId=T.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,ke.Z)(function*(O){Sn("FirestoreClient","Received user=",O.uid),yield u.authCredentialListener(O),u.user=O});return function(O){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(Sn("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new En(nn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=ou(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Pm(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Sn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,ke.Z)(function*(u){o.isEqual(u)||(yield Zf(e.localStore,u),o=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),jp.apply(this,arguments)}function Hp(r,e){return zp.apply(this,arguments)}function zp(){return zp=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield $p(r);Sn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(a=>hp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>hp(e.remoteStore,u)),r._onlineComponents=e}),zp.apply(this,arguments)}function rv(r){return"FirebaseError"===r.name?r.code===nn.FAILED_PRECONDITION||r.code===nn.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function $p(r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,ke.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Sn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rv(t))throw t;Is("Error using user provided cache. Falling back to memory cache: "+t),yield Pm(r,new _h)}}else Sn("FirestoreClient","Using default OfflineComponentProvider"),yield Pm(r,new _h);return r._offlineComponents}),Gp.apply(this,arguments)}function vh(r){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ke.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Sn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hp(r,r._uninitializedComponentsProvider._online)):(Sn("FirestoreClient","Using default OnlineComponentProvider"),yield Hp(r,new hu))),r._onlineComponents}),Fm.apply(this,arguments)}function ov(r){return $p(r).then(e=>e.persistence)}function Wp(r){return $p(r).then(e=>e.localStore)}function Kp(r){return vh(r).then(e=>e.remoteStore)}function sv(r){return vh(r).then(e=>e.syncEngine)}function mu(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ke.Z)(function*(r){const e=yield vh(r),t=e.eventManager;return t.onListen=Hb.bind(null,e.syncEngine),t.onUnlisten=zb.bind(null,e.syncEngine),t}),Zp.apply(this,arguments)}function fu(r,e,t={}){const o=new Pi;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,u,p,O,G){const te=new Rm({next:st=>{u.enqueueAndForget(()=>Dm(a,be));const Xt=st.docs.has(p);!Xt&&st.fromCache?G.reject(new En(nn.UNAVAILABLE,"Failed to get document because the client is offline.")):Xt&&st.fromCache&&O&&"server"===O.source?G.reject(new En(nn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(st)},error:st=>G.reject(st)}),be=new vp(bl(p.path),te,{includeMetadataChanges:!0,Ku:!0});return pp(a,be)}(yield mu(r),r.asyncQueue,e,t,o)})),o.promise}function Nl(r,e,t={}){const o=new Pi;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,u,p,O,G){const te=new Rm({next:st=>{u.enqueueAndForget(()=>Dm(a,be)),st.fromCache&&"server"===O.source?G.reject(new En(nn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(st)},error:st=>G.reject(st)}),be=new vp(p,te,{includeMetadataChanges:!0,Ku:!0});return pp(a,be)}(yield mu(r),r.asyncQueue,e,t,o)})),o.promise}function bd(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const yd=new Map;function Ll(r,e,t){if(!t)throw new En(nn.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wd(r,e,t,o){if(!0===e&&!0===o)throw new En(nn.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function xd(r){if(!x.isDocumentKey(r))throw new En(nn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ed(r){if(x.isDocumentKey(r))throw new En(nn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ol(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":ni()}function lr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new En(nn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ol(r);throw new En(nn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Qp(r,e){if(e<=0)throw new En(nn.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Xp{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new En(nn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new En(nn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bd(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new En(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new En(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new En(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gu{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new En(nn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new En(nn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Po;switch(t.type){case"firstParty":return new cc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new En(nn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yd.get(e);t&&(Sn("ComponentProvider","Removing Datastore"),yd.delete(e),t.terminate())}(this),Promise.resolve()}}class zo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zo(this.firestore,e,this._key)}}class Qs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class _c extends Qs{constructor(e,t,o){super(e,t,bl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zo(this.firestore,null,new x(e))}withConverter(e){return new _c(this.firestore,e,this._path)}}function eg(r,e,...t){if(r=(0,ge.m9)(r),Ll("collection","path",e),r instanceof gu){const o=wn.fromString(e,...t);return Ed(o),new _c(r,null,o)}{if(!(r instanceof zo||r instanceof _c))throw new En(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(wn.fromString(e,...t));return Ed(o),new _c(r.firestore,null,o)}}function _u(r,e,...t){if(r=(0,ge.m9)(r),1===arguments.length&&(e=T.A()),Ll("doc","path",e),r instanceof gu){const o=wn.fromString(e,...t);return xd(o),new zo(r,null,new x(o))}{if(!(r instanceof zo||r instanceof _c))throw new En(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(wn.fromString(e,...t));return xd(o),new zo(r.firestore,r instanceof _c?r.converter:null,new x(o))}}function cv(r,e){return r=(0,ge.m9)(r),e=(0,ge.m9)(e),(r instanceof zo||r instanceof _c)&&(e instanceof zo||e instanceof _c)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function lv(r,e){return r=(0,ge.m9)(r),e=(0,ge.m9)(e),r instanceof Qs&&e instanceof Qs&&r.firestore===e.firestore&&wl(r._query,e._query)&&r.converter===e.converter}class x0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new rp(this,"async_queue_retry"),this.Xc=()=>{const t=fm();t&&Sn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=fm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Pi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!mi(t))throw t;Sn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,wr("INTERNAL UNHANDLED ERROR: ",function(u){let p=u.message||"";return u.stack&&(p=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),p}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=mp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&ni()}verifyOperationInProgress(){}sa(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(r)}class Qb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qo extends gu{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new x0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()}}function Rs(r){return r._firestoreClient||dv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function dv(r){var e,t,o;const a=r._freezeSettings(),u=(O=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Mc(r._databaseId,O,r._persistenceKey,(te=a).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,bd(te.experimentalLongPollingOptions),te.useFetchStreams));var O,te;r._firestoreClient=new Vp(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Lm(r,e,t){const o=new Pi;return r.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield Pm(r,t),yield Hp(r,e),o.resolve()}catch(a){const u=a;if(!rv(u))throw u;Is("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function mv(r){if(r._initialized||r._terminated)throw new En(nn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(Yo.fromBase64String(e))}catch(t){throw new En(nn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ic(Yo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new En(nn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vu{constructor(e){this._methodName=e}}class Um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new En(nn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new En(nn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return j(this._lat,e._lat)||j(this._long,e._long)}}const ey=/^__.*__$/;class rg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new zd(e,this.data,t,this.fieldTransforms)}}class fv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function og(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ni()}}class Vm{constructor(e,t,o,a,u,p){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Dd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(og(this.ca)&&ey.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ty{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||sh(e)}ya(e,t,o,a=!1){return new Vm({ca:e,methodName:t,ga:o,path:ui.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bl(r){const e=r._freezeSettings(),t=sh(r._databaseId);return new ty(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ch(r,e,t,o,a,u={}){const p=r.ya(u.merge||u.mergeFields?2:0,e,t,a);dg("Data must be an object, but it was:",p,o);const O=jm(o,p);let G,te;if(u.merge)G=new Us(p.fieldMask),te=p.fieldTransforms;else if(u.mergeFields){const be=[];for(const st of u.mergeFields){const Xt=Th(e,st,t);if(!p.contains(Xt))throw new En(nn.INVALID_ARGUMENT,`Field '${Xt}' is specified in your field mask but missing from your input data.`);Hm(be,Xt)||be.push(Xt)}G=new Us(be),te=p.fieldTransforms.filter(st=>G.covers(st.field))}else G=null,te=p.fieldTransforms;return new rg(new _r(O),G,te)}class bu extends vu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bu}}function pv(r,e,t){return new Vm({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends vu{_toFieldTransform(e){return new ju(e.path,new Jl)}isEqual(e){return e instanceof sg}}class ny extends vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Lc(u,t)),a=new ed(o);return new ju(e.path,a)}isEqual(e){return this===e}}class gv extends vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pv(this,e,!0),o=this.pa.map(u=>Lc(u,t)),a=new Kc(o);return new ju(e.path,a)}isEqual(e){return this===e}}class ag extends vu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new jd(e.serializer,Hg(e.serializer,this.Ia));return new ju(e.path,t)}isEqual(e){return this===e}}function Dh(r,e,t,o){const a=r.ya(1,e,t);dg("Data must be an object, but it was:",a,o);const u=[],p=_r.empty();ia(o,(G,te)=>{const be=Cd(e,G,t);te=(0,ge.m9)(te);const st=a.da(be);if(te instanceof bu)u.push(be);else{const Xt=Lc(te,st);null!=Xt&&(u.push(be),p.set(be,Xt))}});const O=new Us(u);return new fv(p,O,a.fieldTransforms)}function cg(r,e,t,o,a,u){const p=r.ya(1,e,t),O=[Th(e,o,t)],G=[a];if(u.length%2!=0)throw new En(nn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Xt=0;Xt<u.length;Xt+=2)O.push(Th(e,u[Xt])),G.push(u[Xt+1]);const te=[],be=_r.empty();for(let Xt=O.length-1;Xt>=0;--Xt)if(!Hm(te,O[Xt])){const gn=O[Xt];let Bn=G[Xt];Bn=(0,ge.m9)(Bn);const Jn=p.da(gn);if(Bn instanceof bu)te.push(gn);else{const ci=Lc(Bn,Jn);null!=ci&&(te.push(gn),be.set(gn,ci))}}const st=new Us(te);return new fv(be,st,p.fieldTransforms)}function Ih(r,e,t,o=!1){return Lc(t,r.ya(o?4:3,e))}function Lc(r,e){if(lg(r=(0,ge.m9)(r)))return dg("Unsupported field value:",e,r),jm(r,e);if(r instanceof vu)return function(t,o){if(!og(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const p of t){let O=Lc(p,o.wa(u));null==O&&(O={nullValue:"NULL_VALUE"}),a.push(O),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if(null===(t=(0,ge.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hg(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=ot.fromDate(t);return{timestampValue:id(o.serializer,a)}}if(t instanceof ot){const a=new ot(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:id(o.serializer,a)}}if(t instanceof Um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ic)return{bytesValue:Wu(o.serializer,t._byteString)};if(t instanceof zo){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:If(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${ol(t)}`)}(r,e)}function jm(r,e){const t={};return Ba(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(r,(o,a)=>{const u=Lc(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function lg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Um||r instanceof ic||r instanceof zo||r instanceof vu)}function dg(r,e,t){if(!lg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ol(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Th(r,e,t){if((e=(0,ge.m9)(e))instanceof rc)return e._internalPath;if("string"==typeof e)return Cd(r,e);throw Dd("Field path arguments must be of type string or ",r,!1,void 0,t)}const iy=new RegExp("[~\\*/\\[\\]]");function Cd(r,e,t){if(e.search(iy)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new rc(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Dd(r,e,t,o,a){const u=o&&!o.isEmpty(),p=void 0!==a;let O=`Function ${e}() called with invalid data`;t&&(O+=" (via `toFirestore()`)"),O+=". ";let G="";return(u||p)&&(G+=" (found",u&&(G+=` in field ${o}`),p&&(G+=` in document ${a}`),G+=")"),new En(nn.INVALID_ARGUMENT,O+r+G)}function Hm(r,e){return r.some(t=>t.isEqual(e))}class yu{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ry extends yu{data(){return super.data()}}function zm(r,e){return"string"==typeof e?Cd(r,e):e instanceof rc?e._internalPath:e._delegate._internalPath}function ug(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new En(nn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mh{}class wu extends Mh{}function Bc(r,e,...t){let o=[];e instanceof Mh&&o.push(e),o=o.concat(t),function(a){const u=a.filter(O=>O instanceof Td).length,p=a.filter(O=>O instanceof Id).length;if(u>1||u>0&&p>0)throw new En(nn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const a of o)r=a._apply(r);return r}class Id extends wu{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Id(e,t,o)}_apply(e){const t=this._parse(e);return kh(e._query,t),new Qs(e.firestore,e.converter,yl(e._query,t))}_parse(e){const t=Bl(e.firestore);return function(a,u,p,O,G,te,be){let st;if(G.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new En(nn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){pg(be,te);const Xt=[];for(const gn of be)Xt.push(fg(O,a,gn));st={arrayValue:{values:Xt}}}else st=fg(O,a,be)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||pg(be,te),st=Ih(p,"where",be,"in"===te||"not-in"===te);return ur.create(G,te,st)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Td extends Mh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Td(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:so.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,a){let u=o;const p=a.getFlattenedFilters();for(const O of p)kh(u,O),u=yl(u,O)}(e._query,t),new Qs(e.firestore,e.converter,yl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $m extends wu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $m(e,t)}_apply(e){const t=function(o,a,u){if(null!==o.startAt)throw new En(nn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new En(nn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Ea(a,u);return function(O,G){if(null===Vd(O)){const te=kc(O);null!==te&&sl(0,te,G.field)}}(o,p),p}(e._query,this._field,this._direction);return new Qs(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new sa(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Sh extends wu{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Sh(e,t,o)}_apply(e){return new Qs(e.firestore,e.converter,Xa(e._query,this._limit,this._limitType))}}class xu extends wu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new xu(e,t,o)}_apply(e){const t=mg(e,this.type,this._docOrFields,this._inclusive);return new Qs(e.firestore,e.converter,(a=t,new sa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class Ah extends wu{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Ah(e,t,o)}_apply(e){const t=mg(e,this.type,this._docOrFields,this._inclusive);return new Qs(e.firestore,e.converter,(a=t,new sa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function mg(r,e,t,o){if(t[0]=(0,ge.m9)(t[0]),t[0]instanceof yu)return function(a,u,p,O,G){if(!O)throw new En(nn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const te=[];for(const be of uc(a))if(be.field.isKeyField())te.push(L(u,O.key));else{const st=O.data.field(be.field);if($c(st))throw new En(nn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===st){const Xt=be.field.canonicalString();throw new En(nn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Xt}' (used as the orderBy) does not exist.`)}te.push(st)}return new zs(te,G)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const a=Bl(r.firestore);return function(u,p,O,G,te,be){const st=u.explicitOrderBy;if(te.length>st.length)throw new En(nn.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Xt=[];for(let gn=0;gn<te.length;gn++){const Bn=te[gn];if(st[gn].field.isKeyField()){if("string"!=typeof Bn)throw new En(nn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Bn}`);if(!Gc(u)&&-1!==Bn.indexOf("/"))throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Bn}' contains a slash.`);const Jn=u.path.child(wn.fromString(Bn));if(!x.isDocumentKey(Jn))throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Jn}' is not because it contains an odd number of segments.`);const ci=new x(Jn);Xt.push(L(p,ci))}else{const Jn=Ih(O,G,Bn);Xt.push(Jn)}}return new zs(Xt,be)}(r._query,r.firestore._databaseId,a,e,t,o)}}function fg(r,e,t){if("string"==typeof(t=(0,ge.m9)(t))){if(""===t)throw new En(nn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gc(e)&&-1!==t.indexOf("/"))throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(wn.fromString(t));if(!x.isDocumentKey(o))throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return L(r,new x(o))}if(t instanceof zo)return L(r,t._key);throw new En(nn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ol(t)}.`)}function pg(r,e){if(!Array.isArray(r)||0===r.length)throw new En(nn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kh(r,e){if(e.isInequality()){const o=kc(r),a=e.field;if(null!==o&&!o.isEqual(a))throw new En(nn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${a.toString()}'`);const u=Vd(r);null!==u&&sl(0,a,u)}const t=function(o,a){for(const u of o)for(const p of u.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new En(nn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function sl(r,e,t){if(!t.isEqual(e))throw new En(nn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gg{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ni()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ia(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new Um(vo(e.latitude),vo(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=co(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const t=Ic(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=wn.fromString(e);di(u_(o));const a=new Za(o.get(1),o.get(3)),u=new x(o.popFirst(5));return a.isEqual(t)||wr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Eu(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Md extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zo(this.firestore,null,t)}}class Sd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class al extends yu{constructor(e,t,o,a,u,p){super(e,t,o,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(zm("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Cu extends al{data(e={}){return super.data(e)}}class Ul{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Sd(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Cu(this._firestore,this._userDataWriter,o.key,o,new Sd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new En(nn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new Cu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sd(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const O=new Cu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sd(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,te=-1;return 0!==p.type&&(G=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),1!==p.type&&(u=u.add(p.doc),te=u.indexOf(p.doc.key)),{type:Ws(p.type),doc:O,oldIndex:G,newIndex:te}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ws(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ni()}}function vg(r,e){return r instanceof al&&e instanceof al?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ul&&e instanceof Ul&&r._firestore===e._firestore&&lv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Vl extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zo(this.firestore,null,t)}}function Tv(r,e,t){r=lr(r,zo);const o=lr(r.firestore,Qo),a=Eu(r.converter,e,t);return jl(o,[Ch(Bl(o),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,qo.none())])}function Mv(r,e,t,...o){r=lr(r,zo);const a=lr(r.firestore,Qo),u=Bl(a);let p;return p="string"==typeof(e=(0,ge.m9)(e))||e instanceof rc?cg(u,"updateDoc",r._key,e,t,o):Dh(u,"updateDoc",r._key,e),jl(a,[p.toMutation(r._key,qo.exists(!0))])}function bg(r,...e){var t,o,a;r=(0,ge.m9)(r);let u={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||tg(e[p])||(u=e[p],p++);const O={includeMetadataChanges:u.includeMetadataChanges};if(tg(e[p])){const st=e[p];e[p]=null===(t=st.next)||void 0===t?void 0:t.bind(st),e[p+1]=null===(o=st.error)||void 0===o?void 0:o.bind(st),e[p+2]=null===(a=st.complete)||void 0===a?void 0:a.bind(st)}let G,te,be;if(r instanceof zo)te=lr(r.firestore,Qo),be=bl(r._key.path),G={next:st=>{e[p]&&e[p](Oh(te,r,st))},error:e[p+1],complete:e[p+2]};else{const st=lr(r,Qs);te=lr(st.firestore,Qo),be=st._query;const Xt=new Vl(te);G={next:gn=>{e[p]&&e[p](new Ul(te,Xt,st,gn))},error:e[p+1],complete:e[p+2]},ug(r._query)}return function(st,Xt,gn,Bn){const Jn=new Rm(Bn),ci=new vp(Xt,Jn,gn);return st.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return pp(yield mu(st),ci)})),()=>{Jn.Dc(),st.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return Dm(yield mu(st),ci)}))}}(Rs(te),be,O,G)}function jl(r,e){return function(t,o){const a=new Pi;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function Cp(r,e,t){return Dp.apply(this,arguments)}(yield sv(t),o,a)})),a.promise}(Rs(r),e)}function Oh(r,e,t){const o=t.docs.get(e._key),a=new Vl(r);return new al(r,a,e._key,o,new Sd(t.hasPendingWrites,t.fromCache),e.converter)}const vy={maxAttempts:5};class wg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bl(e)}set(e,t,o){this._verifyNotCommitted();const a=Hl(e,this._firestore),u=Eu(a.converter,t,o),p=Ch(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,o);return this._mutations.push(p.toMutation(a._key,qo.none())),this}update(e,t,o,...a){this._verifyNotCommitted();const u=Hl(e,this._firestore);let p;return p="string"==typeof(t=(0,ge.m9)(t))||t instanceof rc?cg(this._dataReader,"WriteBatch.update",u._key,t,o,a):Dh(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(p.toMutation(u._key,qo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hl(e,this._firestore);return this._mutations=this._mutations.concat(new Cl(t._key,qo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new En(nn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hl(r,e){if((r=(0,ge.m9)(r)).firestore!==e)throw new En(nn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class by extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bl(e)}get(e){const t=Hl(e,this._firestore),o=new Md(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ni();const u=a[0];if(u.isFoundDocument())return new yu(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new yu(this._firestore,o,t._key,null,t.converter);throw ni()})}set(e,t,o){const a=Hl(e,this._firestore),u=Eu(a.converter,t,o),p=Ch(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,o);return this._transaction.set(a._key,p),this}update(e,t,o,...a){const u=Hl(e,this._firestore);let p;return p="string"==typeof(t=(0,ge.m9)(t))||t instanceof rc?cg(this._dataReader,"Transaction.update",u._key,t,o,a):Dh(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,p),this}delete(e){const t=Hl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hl(e,this._firestore),o=new Vl(this._firestore);return super.get(e).then(a=>new al(this._firestore,o,t._key,a._document,new Sd(!1,!1),t.converter))}}function Zm(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new En("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Eg(){if(typeof Uint8Array>"u")throw new En("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if(!function Pd(){return typeof atob<"u"}())throw new En("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){ls=wt.SDK_VERSION,(0,wt._registerComponent)(new he.wA("firestore",(t,{instanceIdentifier:o,options:a})=>{const u=t.getProvider("app").getImmediate(),p=new Qo(new xa(t.getProvider("auth-internal")),new V(t.getProvider("app-check-internal")),function(O,G){if(!Object.prototype.hasOwnProperty.apply(O.options,["projectId"]))throw new En(nn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(O.options.projectId,G)}(u,o),u);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(or,"3.12.2",r),(0,wt.registerVersion)(or,"3.12.2","esm2017")}();class Iu{constructor(e){this._delegate=e}static fromBase64String(e){return Cg(),new Iu(ic.fromBase64String(e))}static fromUint8Array(e){return Eg(),new Iu(ic.fromUint8Array(e))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return Eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ym(r){return function Fv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Nv{enableIndexedDbPersistence(e,t){return function ng(r,e){mv(r=lr(r,Qo));const t=Rs(r);if(t._uninitializedComponentsProvider)throw new En(nn.FAILED_PRECONDITION,"SDK cache is already specified.");Is("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),a=new hu;return Lm(t,a,new Bp(a,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yh(r){mv(r=lr(r,Qo));const e=Rs(r);if(e._uninitializedComponentsProvider)throw new En(nn.FAILED_PRECONDITION,"SDK cache is already specified.");Is("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new hu;return Lm(e,o,new tv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Bm(r){if(r._initialized&&!r._terminated)throw new En(nn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Pi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(o){if(!us.D())return Promise.resolve();const a=o+"main";yield us.delete(a)}),function(o){return t.apply(this,arguments)})(ih(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Is("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Jp(r,e,t,o={}){var a;const u=(r=lr(r,gu))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==p&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:p,ssl:!1})),o.mockUserToken){let O,G;if("string"==typeof o.mockUserToken)O=o.mockUserToken,G=_o.MOCK_USER;else{O=(0,ge.Sg)(o.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const te=o.mockUserToken.sub||o.mockUserToken.user_id;if(!te)throw new En(nn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new _o(te)}r._authCredentials=new jc(new Vc(O,G))}}(this._delegate,e,t,o)}enableNetwork(){return function wh(r){return function Yp(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!0),function(o){const a=Un(o);return a.vu.delete(0),ah(a)}(t)}))}(Rs(r=lr(r,Qo)))}(this._delegate)}disableNetwork(){return function hv(r){return function qb(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield ov(r),t=yield Kp(r);return e.setNetworkEnabled(!1),(o=(0,ke.Z)(function*(a){const u=Un(a);u.vu.add(0),yield ch(u),u.bu.set("Offline")}),function(a){return o.apply(this,arguments)})(t);var o}))}(Rs(r=lr(r,Qo)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,wd("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uv(r){return function(e){const t=new Pi;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function q_(r,e){return Mm.apply(this,arguments)}(yield sv(e),t)})),t.promise}(Rs(r=lr(r,Qo)))}(this._delegate)}onSnapshotsInSync(e){return function T0(r,e){return function Nm(r,e){const t=new Rm(e);return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return o=yield mu(r),a=t,Un(o).ku.add(a),void a.next();var o,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return o=yield mu(r),a=t,void Un(o).ku.delete(a);var o,a}))}}(Rs(r=lr(r,Qo)),tg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new En("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Tu(this,eg(this._delegate,e))}catch(t){throw Da(t,"collection()","Firestore.collection()")}}doc(e){try{return new oc(this,_u(this._delegate,e))}catch(t){throw Da(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ia(this,function av(r,e){if(r=lr(r,gu),Ll("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new En(nn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qs(r,null,(t=e,new sa(wn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Da(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Av(r,e,t){r=lr(r,Qo);const o=Object.assign(Object.assign({},vy),t);return function(a){if(a.maxAttempts<1)throw new En(nn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,u,p){const O=new Pi;return a.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const G=yield function bh(r){return vh(r).then(e=>e.datastore)}(a);new Yb(a.asyncQueue,G,p,u,O).run()})),O.promise}(Rs(r),a=>e(new by(r,a)),o)}(this._delegate,t=>e(new Lv(this,t)))}batch(){return Rs(this._delegate),new Bv(new wg(this._delegate,e=>jl(this._delegate,e)))}loadBundle(e){return function xh(r,e){const t=Rs(r=lr(r,Qo)),o=new Qb;return function nc(r,e,t,o){const a=function(u,p){let O;return O="string"==typeof u?Jg().encode(u):u,G=function(G,te){if(G instanceof Uint8Array)return nv(G,void 0);if(G instanceof ArrayBuffer)return nv(new Uint8Array(G),void 0);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new iv(G,p);var G}(t,sh(e));r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function w0(r,e,t){const o=Un(r);var a;(a=(0,ke.Z)(function*(u,p,O){try{const G=yield p.getMetadata();if(yield function(Xt,gn){const Bn=Un(Xt),Jn=Ho(gn.createTime);return Bn.persistence.runTransaction("hasNewerBundle","readonly",ci=>Bn.qs.getBundleMetadata(ci,gn.id)).then(ci=>!!ci&&ci.createTime.compareTo(Jn)>=0)}(u.localStore,G))return yield p.close(),O._completeWith({taskState:"Success",documentsLoaded:(Xt=G).totalDocuments,bytesLoaded:Xt.totalBytes,totalDocuments:Xt.totalDocuments,totalBytes:Xt.totalBytes}),Promise.resolve(new Set);O._updateProgress($_(G));const te=new z_(G,u.localStore,p.serializer);let be=yield p.bc();for(;be;){const Xt=yield te.zu(be);Xt&&O._updateProgress(Xt),be=yield p.bc()}const st=yield te.complete();return yield rl(u,st.Ju,void 0),yield function(Xt,gn){const Bn=Un(Xt);return Bn.persistence.runTransaction("Save bundle","readwrite",Jn=>Bn.qs.saveBundleMetadata(Jn,gn))}(u.localStore,G),O._completeWith(st.progress),Promise.resolve(st.Hu)}catch(G){return Is("SyncEngine",`Loading bundle failed with ${G}`),O._failWith(G),Promise.resolve(new Set)}var Xt}),function(u,p,O){return a.apply(this,arguments)})(o,e,t).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield sv(r),a,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xb(r,e){return function qp(r,e){return r.asyncQueue.enqueue((0,ke.Z)(function*(){return function(t,o){const a=Un(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.qs.getNamedQuery(u,o))}(yield Wp(r),e)}))}(Rs(r=lr(r,Qo)),e).then(t=>t?new Qs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Ia(this,t):null)}}class qm extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(new ic(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oc.forKey(t,this.firestore,null)}}class Lv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}get(e){const t=kd(e);return this._delegate.get(t).then(o=>new Rh(this._firestore,new al(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const a=kd(e);return o?(Zm("Transaction.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=kd(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=kd(e);return this._delegate.delete(t),this}}class Bv{constructor(e){this._delegate=e}set(e,t,o){const a=kd(e);return o?(Zm("WriteBatch.set",o),this._delegate.set(a,t,o)):this._delegate.set(a,t),this}update(e,t,o,...a){const u=kd(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...a),this}delete(e){const t=kd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ad{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Cu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ph(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Ad.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let u=a.get(t);return u||(u=new Ad(e,new qm(e),t),a.set(t,u)),u}}Ad.INSTANCES=new WeakMap;class oc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}static forPath(e,t,o){if(e.length%2!=0)throw new En("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oc(t,new zo(t._delegate,o,new x(e)))}static forKey(e,t,o){return new oc(t,new zo(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Tu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Tu(this.firestore,eg(this._delegate,e))}catch(t){throw Da(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ge.m9)(e))instanceof zo&&cv(this._delegate,e)}set(e,t){t=Zm("DocumentReference.set",t);try{return t?Tv(this._delegate,e,t):Tv(this._delegate,e)}catch(o){throw Da(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Mv(this._delegate,e):Mv(this._delegate,e,t,...o)}catch(a){throw Da(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Sv(r){return jl(lr(r.firestore,Qo),[new Cl(r._key,qo.none())])}(this._delegate)}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Rh(this.firestore,new al(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return bg(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Cv(r){r=lr(r,zo);const e=lr(r.firestore,Qo),t=Rs(e),o=new Vl(e);return function Nc(r,e){const t=new Pi;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(o=(0,ke.Z)(function*(a,u,p){try{const O=yield function(G,te){const be=Un(G);return be.persistence.runTransaction("read document","readonly",st=>be.localDocuments.getDocument(st,te))}(a,u);O.isFoundDocument()?p.resolve(O):O.isNoDocument()?p.resolve(null):p.reject(new En(nn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const G=ou(O,`Failed to get document '${u} from cache`);p.reject(G)}}),function(a,u,p){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._key).then(a=>new al(e,o,r._key,a,new Sd(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function dy(r){r=lr(r,zo);const e=lr(r.firestore,Qo);return fu(Rs(e),r._key,{source:"server"}).then(t=>Oh(e,r,t))}(this._delegate):function ly(r){r=lr(r,zo);const e=lr(r.firestore,Qo);return fu(Rs(e),r._key).then(t=>Oh(e,r,t))}(this._delegate),t.then(o=>new Rh(this.firestore,new al(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new oc(this.firestore,this._delegate.withConverter(e?Ad.getInstance(this.firestore,e):null))}}function Da(r,e,t){return r.message=r.message.replace(e,t),r}function Uv(r){for(const e of r)if("object"==typeof e&&!Ym(e))return e;return{}}function Vv(r,e){var t,o;let a;return a=Ym(r[0])?r[0]:Ym(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Rh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vg(this._delegate,e._delegate)}}class Ph extends Rh{data(e){const t=this._delegate.data(e);return function Ts(r,e){r||ni()}(void 0!==t),t}}class Ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qm(e)}where(e,t,o){try{return new Ia(this.firestore,Bc(this._delegate,function oy(r,e,t){const o=e,a=zm("where",r);return Id._create(a,o,t)}(e,t,o)))}catch(a){throw Da(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ia(this.firestore,Bc(this._delegate,function cy(r,e="asc"){const t=e,o=zm("orderBy",r);return $m._create(o,t)}(e,t)))}catch(o){throw Da(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ia(this.firestore,Bc(this._delegate,function _v(r){return Qp("limit",r),Sh._create("limit",r,"F")}(e)))}catch(t){throw Da(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ia(this.firestore,Bc(this._delegate,function hg(r){return Qp("limitToLast",r),Sh._create("limitToLast",r,"L")}(e)))}catch(t){throw Da(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ia(this.firestore,Bc(this._delegate,function vv(...r){return xu._create("startAt",r,!0)}(...e)))}catch(t){throw Da(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ia(this.firestore,Bc(this._delegate,function bv(...r){return xu._create("startAfter",r,!1)}(...e)))}catch(t){throw Da(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ia(this.firestore,Bc(this._delegate,function yv(...r){return Ah._create("endBefore",r,!1)}(...e)))}catch(t){throw Da(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ia(this.firestore,Bc(this._delegate,function wv(...r){return Ah._create("endAt",r,!0)}(...e)))}catch(t){throw Da(t,"endAt()","Query.endAt()")}}isEqual(e){return lv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Iv(r){r=lr(r,Qs);const e=lr(r.firestore,Qo),t=Rs(e),o=new Vl(e);return function _a(r,e){const t=new Pi;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(o=(0,ke.Z)(function*(a,u,p){try{const O=yield ud(a,u,!0),G=new bp(u,O.ir),te=G.sc(O.documents),be=G.applyChanges(te,!1);p.resolve(be.snapshot)}catch(O){const G=ou(O,`Failed to execute query '${u} against cache`);p.reject(G)}}),function(a,u,p){return o.apply(this,arguments)})(yield Wp(r),e,t);var o})),t.promise}(t,r._query).then(a=>new Ul(e,o,r,a))}(this._delegate):"server"===e?.source?function Du(r){r=lr(r,Qs);const e=lr(r.firestore,Qo),t=Rs(e),o=new Vl(e);return Nl(t,r._query,{source:"server"}).then(a=>new Ul(e,o,r,a))}(this._delegate):function Dv(r){r=lr(r,Qs);const e=lr(r.firestore,Qo),t=Rs(e),o=new Vl(e);return ug(r._query),Nl(t,r._query).then(a=>new Ul(e,o,r,a))}(this._delegate),t.then(o=>new Ig(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Uv(e),o=Vv(e,a=>new Ig(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return bg(this._delegate,t,o)}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?Ad.getInstance(this.firestore,e):null))}}class Ey{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ph(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ig{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ia(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ph(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ey(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Ph(this._firestore,o))})}isEqual(e){return vg(this._delegate,e._delegate)}}class Tu extends Ia{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oc(this.firestore,e):null}doc(e){try{return new oc(this.firestore,void 0===e?_u(this._delegate):_u(this._delegate,e))}catch(t){throw Da(t,"doc()","CollectionReference.doc()")}}add(e){return function uy(r,e){const t=lr(r.firestore,Qo),o=_u(r),a=Eu(r.converter,e);return jl(t,[Ch(Bl(r.firestore),"addDoc",o._key,a,null!==r.converter,{}).toMutation(o._key,qo.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new oc(this.firestore,t))}isEqual(e){return cv(this._delegate,e._delegate)}withConverter(e){return new Tu(this.firestore,this._delegate.withConverter(e?Ad.getInstance(this.firestore,e):null))}}function kd(r){return lr(r,zo)}class Tg{constructor(...e){this._delegate=new rc(...e)}static documentId(){return new Tg(ui.keyField().canonicalString())}isEqual(e){return(e=(0,ge.m9)(e))instanceof rc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Od{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wm(){return new sg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Od(e)}static delete(){const e=function kv(){return new bu("deleteField")}();return e._methodName="FieldValue.delete",new Od(e)}static arrayUnion(...e){const t=function yy(...r){return new ny("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Od(t)}static arrayRemove(...e){const t=function Ov(...r){return new gv("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Od(t)}static increment(e){const t=function Rv(r){return new ag("increment",r)}(e);return t._methodName="FieldValue.increment",new Od(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jv={Firestore:Dg,GeoPoint:Um,Timestamp:ot,Blob:Iu,Transaction:Lv,WriteBatch:Bv,DocumentReference:oc,DocumentSnapshot:Rh,Query:Ia,QueryDocumentSnapshot:Ph,QuerySnapshot:Ig,CollectionReference:Tu,FieldPath:Tg,FieldValue:Od,setLogLevel:function xy(r){!function ac(r){Yr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function zv(r){(function Hv(r,e){r.INTERNAL.registerComponent(new he.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},jv)))})(r,(e,t)=>new Dg(e,t,new Nv)),r.registerVersion("@firebase/firestore-compat","0.3.11")}(Ue.Z);var ll=E(1205),$v=E(6217),Gv=E(9260);function Mg(r,e){return function Wv(r,e=C.z){return new m.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(r,e)}function Fh(r,e){return Mg(r,e).pipe((0,ue.U)(t=>({payload:t,type:"query"})))}function Mu(r,e){return Fh(r,e).pipe((0,K.O)(void 0),oe(),(0,ue.U)(([t,o])=>{const a=o.payload.docChanges(),u=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((p,O)=>{const G=a.find(be=>be.doc.ref.isEqual(p.ref)),te=t?.payload.docs.find(be=>be.ref.isEqual(p.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(p.metadata)||!G&&te&&JSON.stringify(te.metadata)===JSON.stringify(p.metadata)||u.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:p}})}),u}))}function zl(r,e,t){return Mu(r,t).pipe((0,fe.R)((o,a)=>function Cy(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function Su(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Sg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,a.map(u=>u.payload),e),[]),(0,et.x)(),(0,ue.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function Sg(r,e,t,...o){const a=r.slice();return a.splice(e,t,...o),a}function Dy(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Qm{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Mu(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ue.U)(o=>o.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,K.O)(void 0),oe(),(0,Ve.h)(([o,a])=>a.length>0||!o),(0,ue.U)(([o,a])=>a),re.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return zl(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return Fh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),re.iC)}get(e){return(0,ee.D)(this.query.get(e)).pipe(re.iC)}add(e){return this.ref.add(e)}doc(e){return new Iy(this.ref.doc(e),this.afs)}}class Iy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:a,query:u}=Yv(o,t);return new Qm(a,u,this.afs)}snapshotChanges(){return function Kv(r,e){return Mg(r,e).pipe((0,K.O)(void 0),oe(),(0,ue.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ee.D)(this.ref.get(e)).pipe(re.iC)}}class Zv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Mu(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Ve.h)(t=>t.length>0),re.iC):Mu(this.query,this.afs.schedulers.outsideAngular).pipe(re.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return zl(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return Fh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(o=>o.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),re.iC)}get(e){return(0,ee.D)(this.query.get(e)).pipe(re.iC)}}const Ag=new d.OlP("angularfire2.enableFirestorePersistence"),Ty=new d.OlP("angularfire2.firestore.persistenceSettings"),Ni=new d.OlP("angularfire2.firestore.settings"),My=new d.OlP("angularfire2.firestore.use-emulator");function Yv(r,e=(t=>t)){return{query:e(r),ref:r}}let qv=(()=>{class r{constructor(t,o,a,u,p,O,G,te,be,st,Xt,gn,Bn,Jn,ci,tr,Vr){this.schedulers=G;const Wi=(0,lt.on)(t,O,o),ps=be;st&&(0,ll.nw)(Wi,O,Xt,Bn,Jn,ci,gn,tr),[this.firestore,this.persistenceEnabled$]=(0,lt.cc)(`${Wi.name}.firestore`,"AngularFirestore",Wi.name,()=>{const No=O.runOutsideAngular(()=>Wi.firestore());if(u&&No.settings(u),ps&&No.useEmulator(...ps),a&&!(0,Qe.PM)(p)){const Eo=()=>{try{return(0,ee.D)(No.enablePersistence(te||void 0).then(()=>!0,()=>!1))}catch(va){return typeof console<"u"&&console.warn(va),(0,Ee.of)(!1)}};return[No,O.runOutsideAngular(Eo)]}return[No,(0,Ee.of)(!1)]},[u,ps,a])}collection(t,o){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:p}=Yv(a,o),O=this.schedulers.ngZone.run(()=>u);return new Qm(O,p,this)}collectionGroup(t,o){const a=o||(p=>p),u=this.firestore.collectionGroup(t);return new Zv(a(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>o);return new Iy(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(lt.Dh),d.LFG(lt.xv,8),d.LFG(Ag,8),d.LFG(Ni,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(re.HU),d.LFG(Ty,8),d.LFG(My,8),d.LFG(ll.zQ,8),d.LFG(ll.Qv,8),d.LFG(ll.L6,8),d.LFG(ll._Q,8),d.LFG(ll.rT,8),d.LFG(ll.lh,8),d.LFG(ll.f7,8),d.LFG($v.nm,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Au=(()=>{class r{constructor(){Gv.Z.registerVersion("angularfire",re.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Ag,useValue:!0},{provide:Ty,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[qv]}),r})()},8445:(vn,it,E)=>{E.d(it,{Q1:()=>mr,TE:()=>H});var d=E(9751),C=E(9646),m=E(8996),ee=E(8372),Ee=E(4004),re=E(3900),K=E(4976),ve=E(2223),De=E(2011),oe=E(3942),ue=E(5861),fe=E(6881),et=E(2090),Ve=E(4859);const lt="firebasestorage.googleapis.com",Qe="storageBucket";class wt extends et.ZR{constructor(D,ne,Me=0){super(Ce(D),`Firebase Storage: ${ne} (${Ce(D)})`),this.status_=Me,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(D){this.status_=D}_codeEquals(D){return Ce(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var he=(()=>((he=he||{}).UNKNOWN="unknown",he.OBJECT_NOT_FOUND="object-not-found",he.BUCKET_NOT_FOUND="bucket-not-found",he.PROJECT_NOT_FOUND="project-not-found",he.QUOTA_EXCEEDED="quota-exceeded",he.UNAUTHENTICATED="unauthenticated",he.UNAUTHORIZED="unauthorized",he.UNAUTHORIZED_APP="unauthorized-app",he.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",he.INVALID_CHECKSUM="invalid-checksum",he.CANCELED="canceled",he.INVALID_EVENT_NAME="invalid-event-name",he.INVALID_URL="invalid-url",he.INVALID_DEFAULT_BUCKET="invalid-default-bucket",he.NO_DEFAULT_BUCKET="no-default-bucket",he.CANNOT_SLICE_BLOB="cannot-slice-blob",he.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",he.NO_DOWNLOAD_URL="no-download-url",he.INVALID_ARGUMENT="invalid-argument",he.INVALID_ARGUMENT_COUNT="invalid-argument-count",he.APP_DELETED="app-deleted",he.INVALID_ROOT_OPERATION="invalid-root-operation",he.INVALID_FORMAT="invalid-format",he.INTERNAL_ERROR="internal-error",he.UNSUPPORTED_ENVIRONMENT="unsupported-environment",he))();function Ce(v){return"storage/"+v}function ge(){return new wt(he.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ze(){return new wt(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xt(){return new wt(he.CANCELED,"User canceled the upload/download.")}function gt(){return new wt(he.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qt(v){return new wt(he.INVALID_ARGUMENT,v)}function un(){return new wt(he.APP_DELETED,"The Firebase app was deleted.")}function _n(v){return new wt(he.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function on(v,D){return new wt(he.INVALID_FORMAT,"String does not match format '"+v+"': "+D)}function Rt(v){throw new wt(he.INTERNAL_ERROR,"Internal error: "+v)}class Ye{constructor(D,ne){this.bucket=D,this.path_=ne}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,ne){let Me;try{Me=Ye.makeFromUrl(D,ne)}catch{return new Ye(D,"")}if(""===Me.path)return Me;throw function Rn(v){return new wt(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(D)}static makeFromUrl(D,ne){let Me=null;const ft="([A-Za-z0-9.\\-_]+)",Zn=new RegExp("^gs://"+ft+"(/(.*))?$","i");function Ei(Fr){Fr.path_=decodeURIComponent(Fr.path)}const fr=ne.replace(/[.]/g,"\\."),Pr=[{regex:Zn,indices:{bucket:1,path:3},postModify:function jt(Fr){"/"===Fr.path.charAt(Fr.path.length-1)&&(Fr.path_=Fr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${fr}/v[A-Za-z0-9_]+/b/${ft}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ei},{regex:new RegExp(`^https?://${ne===lt?"(?:storage.googleapis.com|storage.cloud.google.com)":ne}/${ft}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ei}];for(let Fr=0;Fr<Pr.length;Fr++){const wo=Pr[Fr],rs=wo.regex.exec(D);if(rs){let vs=rs[wo.indices.path];vs||(vs=""),Me=new Ye(rs[wo.indices.bucket],vs),wo.postModify(Me);break}}if(null==Me)throw function yn(v){return new wt(he.INVALID_URL,"Invalid URL '"+v+"'.")}(D);return Me}}class tt{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function dt(v){return"string"==typeof v||v instanceof String}function ze(v){return Zt()&&v instanceof Blob}function Zt(){return typeof Blob<"u"&&!(0,et.UG)()}function bn(v,D,ne,Me){if(Me<D)throw Qt(`Invalid value for '${v}'. Expected ${D} or greater.`);if(Me>ne)throw Qt(`Invalid value for '${v}'. Expected ${ne} or less.`)}function mn(v,D,ne){let Me=D;return null==ne&&(Me=`https://${D}`),`${ne}://${Me}/v0${v}`}function Mt(v){const D=encodeURIComponent;let ne="?";for(const Me in v)v.hasOwnProperty(Me)&&(ne=ne+(D(Me)+"=")+D(v[Me])+"&");return ne=ne.slice(0,-1),ne}var de=(()=>((de=de||{})[de.NO_ERROR=0]="NO_ERROR",de[de.NETWORK_ERROR=1]="NETWORK_ERROR",de[de.ABORT=2]="ABORT",de))();function Ne(v,D){const ne=v>=500&&v<600,ft=-1!==[408,429].indexOf(v),jt=-1!==D.indexOf(v);return ne||ft||jt}class ht{constructor(D,ne,Me,ft,jt,Mn,Zn,$n,Ei,Oi,fr,Lr=!0){this.url_=D,this.method_=ne,this.headers_=Me,this.body_=ft,this.successCodes_=jt,this.additionalRetryCodes_=Mn,this.callback_=Zn,this.errorCallback_=$n,this.timeout_=Ei,this.progressCallback_=Oi,this.connectionFactory_=fr,this.retry=Lr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((pr,Hi)=>{this.resolve_=pr,this.reject_=Hi,this.start_()})}start_(){const ne=(Me,ft)=>{const jt=this.resolve_,Mn=this.reject_,Zn=ft.connection;if(ft.wasSuccessCode)try{const $n=this.callback_(Zn,Zn.getResponse());!function zt(v){return void 0!==v}($n)?jt():jt($n)}catch($n){Mn($n)}else if(null!==Zn){const $n=ge();$n.serverResponse=Zn.getErrorText(),Mn(this.errorCallback_?this.errorCallback_(Zn,$n):$n)}else Mn(ft.canceled?this.appDelete_?un():xt():Ze())};this.canceled_?ne(0,new ut(!1,null,!0)):this.backoffId_=function Nt(v,D,ne){let Me=1,ft=null,jt=null,Mn=!1,Zn=0;function $n(){return 2===Zn}let Ei=!1;function Oi(...Si){Ei||(Ei=!0,D.apply(null,Si))}function fr(Si){ft=setTimeout(()=>{ft=null,v(pr,$n())},Si)}function Lr(){jt&&clearTimeout(jt)}function pr(Si,...ko){if(Ei)return void Lr();if(Si)return Lr(),void Oi.call(null,Si,...ko);if($n()||Mn)return Lr(),void Oi.call(null,Si,...ko);let Pr;Me<64&&(Me*=2),1===Zn?(Zn=2,Pr=0):Pr=1e3*(Me+Math.random()),fr(Pr)}let Hi=!1;function gr(Si){Hi||(Hi=!0,Lr(),!Ei&&(null!==ft?(Si||(Zn=2),clearTimeout(ft),fr(0)):Si||(Zn=1)))}return fr(0),jt=setTimeout(()=>{Mn=!0,gr(!0)},ne),gr}((Me,ft)=>{if(ft)return void Me(!1,new ut(!1,null,!0));const jt=this.connectionFactory_();this.pendingConnection_=jt;const Mn=Zn=>{null!==this.progressCallback_&&this.progressCallback_(Zn.loaded,Zn.lengthComputable?Zn.total:-1)};null!==this.progressCallback_&&jt.addUploadProgressListener(Mn),jt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&jt.removeUploadProgressListener(Mn),this.pendingConnection_=null;const Zn=jt.getErrorCode()===de.NO_ERROR,$n=jt.getStatus();if(!Zn||Ne($n,this.additionalRetryCodes_)&&this.retry){const Oi=jt.getErrorCode()===de.ABORT;return void Me(!1,new ut(!1,null,Oi))}const Ei=-1!==this.successCodes_.indexOf($n);Me(!0,new ut(Ei,jt))})},ne,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function Et(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ut{constructor(D,ne,Me){this.wasSuccessCode=D,this.connection=ne,this.canceled=!!Me}}function cn(...v){const D=function Dn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==D){const ne=new D;for(let Me=0;Me<v.length;Me++)ne.append(v[Me]);return ne.getBlob()}if(Zt())return new Blob(v);throw new wt(he.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const It={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wt{constructor(D,ne){this.data=D,this.contentType=ne||null}}function An(v,D){switch(v){case It.RAW:return new Wt(fi(D));case It.BASE64:case It.BASE64URL:return new Wt(yi(v,D));case It.DATA_URL:return new Wt(function nt(v){const D=new qt(v);return D.base64?yi(It.BASE64,D.rest):function ei(v){let D;try{D=decodeURIComponent(v)}catch{throw on(It.DATA_URL,"Malformed data URL.")}return fi(D)}(D.rest)}(D),function ct(v){return new qt(v).contentType}(D))}throw ge()}function fi(v){const D=[];for(let ne=0;ne<v.length;ne++){let Me=v.charCodeAt(ne);Me<=127?D.push(Me):Me<=2047?D.push(192|Me>>6,128|63&Me):55296==(64512&Me)?ne<v.length-1&&56320==(64512&v.charCodeAt(ne+1))?(Me=65536|(1023&Me)<<10|1023&v.charCodeAt(++ne),D.push(240|Me>>18,128|Me>>12&63,128|Me>>6&63,128|63&Me)):D.push(239,191,189):56320==(64512&Me)?D.push(239,191,189):D.push(224|Me>>12,128|Me>>6&63,128|63&Me)}return new Uint8Array(D)}function yi(v,D){switch(v){case It.BASE64:{const ft=-1!==D.indexOf("-"),jt=-1!==D.indexOf("_");if(ft||jt)throw on(v,"Invalid character '"+(ft?"-":"_")+"' found: is it base64url encoded?");break}case It.BASE64URL:{const ft=-1!==D.indexOf("+"),jt=-1!==D.indexOf("/");if(ft||jt)throw on(v,"Invalid character '"+(ft?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let ne;try{ne=function je(v){if(typeof atob>"u")throw function Jt(v){return new wt(he.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(D)}catch(ft){throw ft.message.includes("polyfill")?ft:on(v,"Invalid character found")}const Me=new Uint8Array(ne.length);for(let ft=0;ft<ne.length;ft++)Me[ft]=ne.charCodeAt(ft);return Me}class qt{constructor(D){this.base64=!1,this.contentType=null;const ne=D.match(/^data:([^,]+)?,/);if(null===ne)throw on(It.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Me=ne[1]||null;null!=Me&&(this.base64=function He(v,D){return v.length>=D.length&&v.substring(v.length-D.length)===D}(Me,";base64"),this.contentType=this.base64?Me.substring(0,Me.length-7):Me),this.rest=D.substring(D.indexOf(",")+1)}}class Fe{constructor(D,ne){let Me=0,ft="";ze(D)?(this.data_=D,Me=D.size,ft=D.type):D instanceof ArrayBuffer?(ne?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),Me=this.data_.length):D instanceof Uint8Array&&(ne?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),Me=D.length),this.size_=Me,this.type_=ft}size(){return this.size_}type(){return this.type_}slice(D,ne){if(ze(this.data_)){const ft=function Hn(v,D,ne){return v.webkitSlice?v.webkitSlice(D,ne):v.mozSlice?v.mozSlice(D,ne):v.slice?v.slice(D,ne):null}(this.data_,D,ne);return null===ft?null:new Fe(ft)}{const Me=new Uint8Array(this.data_.buffer,D,ne-D);return new Fe(Me,!0)}}static getBlob(...D){if(Zt()){const ne=D.map(Me=>Me instanceof Fe?Me.data_:Me);return new Fe(cn.apply(null,ne))}{const ne=D.map(Mn=>dt(Mn)?An(It.RAW,Mn).data:Mn.data_);let Me=0;ne.forEach(Mn=>{Me+=Mn.byteLength});const ft=new Uint8Array(Me);let jt=0;return ne.forEach(Mn=>{for(let Zn=0;Zn<Mn.length;Zn++)ft[jt++]=Mn[Zn]}),new Fe(ft,!0)}}uploadData(){return this.data_}}function Se(v){let D;try{D=JSON.parse(v)}catch{return null}return function At(v){return"object"==typeof v&&!Array.isArray(v)}(D)?D:null}function Re(v){const D=v.lastIndexOf("/",v.length-2);return-1===D?v:v.slice(D+1)}function ce(v,D){return D}class z{constructor(D,ne,Me,ft){this.server=D,this.local=ne||D,this.writable=!!Me,this.xform=ft||ce}}let U=null;function le(){if(U)return U;const v=[];v.push(new z("bucket")),v.push(new z("generation")),v.push(new z("metageneration")),v.push(new z("name","fullPath",!0));const ne=new z("name");ne.xform=function D(jt,Mn){return function $(v){return!dt(v)||v.length<2?v:Re(v)}(Mn)},v.push(ne);const ft=new z("size");return ft.xform=function Me(jt,Mn){return void 0!==Mn?Number(Mn):Mn},v.push(ft),v.push(new z("timeCreated")),v.push(new z("updated")),v.push(new z("md5Hash",null,!0)),v.push(new z("cacheControl",null,!0)),v.push(new z("contentDisposition",null,!0)),v.push(new z("contentEncoding",null,!0)),v.push(new z("contentLanguage",null,!0)),v.push(new z("contentType",null,!0)),v.push(new z("metadata","customMetadata",!0)),U=v,U}function Oe(v,D,ne){const Me=Se(D);return null===Me?null:function xe(v,D,ne){const Me={type:"file"},ft=ne.length;for(let jt=0;jt<ft;jt++){const Mn=ne[jt];Me[Mn.local]=Mn.xform(Me,D[Mn.server])}return function ae(v,D){Object.defineProperty(v,"ref",{get:function ne(){const jt=new Ye(v.bucket,v.fullPath);return D._makeStorageReference(jt)}})}(Me,v),Me}(v,Me,ne)}function Y(v,D){const ne={},Me=D.length;for(let ft=0;ft<Me;ft++){const jt=D[ft];jt.writable&&(ne[jt.server]=v[jt.local])}return JSON.stringify(ne)}const we="prefixes",vt="items";class ri{constructor(D,ne,Me,ft){this.url=D,this.method=ne,this.handler=Me,this.timeout=ft,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ft(v){if(!v)throw ge()}function Tt(v,D){return function ne(Me,ft){const jt=Oe(v,ft,D);return Ft(null!==jt),jt}}function Pn(v){return function D(ne,Me){let ft;return ft=401===ne.getStatus()?ne.getErrorText().includes("Firebase App Check token is invalid")?function Ke(){return new wt(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Z(){return new wt(he.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ne.getStatus()?function Ge(v){return new wt(he.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===ne.getStatus()?function Le(v){return new wt(he.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):Me,ft.status=ne.getStatus(),ft.serverResponse=Me.serverResponse,ft}}function zn(v){const D=Pn(v);return function ne(Me,ft){let jt=D(Me,ft);return 404===Me.getStatus()&&(jt=function Ae(v){return new wt(he.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),jt.serverResponse=ft.serverResponse,jt}}function pi(v,D,ne){const ft=mn(D.fullServerUrl(),v.host,v._protocol),Mn=v.maxOperationRetryTime,Zn=new ri(ft,"GET",Tt(v,ne),Mn);return Zn.errorHandler=zn(D),Zn}function nr(v,D,ne,Me,ft){const jt={};jt.prefix=D.isRoot?"":D.path+"/",ne&&ne.length>0&&(jt.delimiter=ne),Me&&(jt.pageToken=Me),ft&&(jt.maxResults=ft);const Zn=mn(D.bucketOnlyServerUrl(),v.host,v._protocol),Ei=v.maxOperationRetryTime,Oi=new ri(Zn,"GET",function xn(v,D){return function ne(Me,ft){const jt=function qn(v,D,ne){const Me=Se(ne);return null===Me?null:function Bt(v,D,ne){const Me={prefixes:[],items:[],nextPageToken:ne.nextPageToken};if(ne[we])for(const ft of ne[we]){const jt=ft.replace(/\/$/,""),Mn=v._makeStorageReference(new Ye(D,jt));Me.prefixes.push(Mn)}if(ne[vt])for(const ft of ne[vt]){const jt=v._makeStorageReference(new Ye(D,ft.name));Me.items.push(jt)}return Me}(v,D,Me)}(v,D,ft);return Ft(null!==jt),jt}}(v,D.bucket),Ei);return Oi.urlParams=jt,Oi.errorHandler=Pn(D),Oi}function qi(v,D,ne){const Me=Object.assign({},ne);return Me.fullPath=v.path,Me.size=D.size(),Me.contentType||(Me.contentType=function gs(v,D){return v&&v.contentType||D&&D.type()||"application/octet-stream"}(null,D)),Me}class Ar{constructor(D,ne,Me,ft){this.current=D,this.total=ne,this.finalized=!!Me,this.metadata=ft||null}}function jr(v,D){let ne=null;try{ne=v.getResponseHeader("X-Goog-Upload-Status")}catch{Ft(!1)}return Ft(!!ne&&-1!==(D||["active"]).indexOf(ne)),ne}const eo={STATE_CHANGED:"state_changed"},dr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hr(v){switch(v){case"running":case"pausing":case"canceling":return dr.RUNNING;case"paused":return dr.PAUSED;case"success":return dr.SUCCESS;case"canceled":return dr.CANCELED;default:return dr.ERROR}}class to{constructor(D,ne,Me){if(function St(v){return"function"==typeof v}(D)||null!=ne||null!=Me)this.next=D,this.error=ne??void 0,this.complete=Me??void 0;else{const jt=D;this.next=jt.next,this.error=jt.error,this.complete=jt.complete}}}function Do(v){return(...D)=>{Promise.resolve().then(()=>v(...D))}}let Vs=null;class _s{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=de.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=de.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=de.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,ne,Me,ft){if(this.sent_)throw Rt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ne,D,!0),void 0!==ft)for(const jt in ft)ft.hasOwnProperty(jt)&&this.xhr_.setRequestHeader(jt,ft[jt].toString());return void 0!==Me?this.xhr_.send(Me):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}class Go extends _s{initXhr(){this.xhr_.responseType="text"}}function no(){return Vs?Vs():new Go}class Ir{constructor(D,ne,Me=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=ne,this._metadata=Me,this._mappings=le(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ft=>{if(this._request=void 0,this._chunkMultiplier=1,ft._codeEquals(he.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const jt=this.isExponentialBackoffExpired();if(Ne(ft.status,[])){if(!jt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ft=Ze()}this._error=ft,this._transition("error")}},this._metadataErrorHandler=ft=>{this._request=void 0,ft._codeEquals(he.CANCELED)?this.completeTransitions_():(this._error=ft,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ft,jt)=>{this._resolve=ft,this._reject=jt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const D=this._transferred;return ne=>this._updateProgress(D+ne)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ne,Me])=>{switch(this._state){case"running":D(ne,Me);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,ne)=>{const Me=function ao(v,D,ne,Me,ft){const jt=D.bucketOnlyServerUrl(),Mn=qi(D,Me,ft),Zn={name:Mn.fullPath},$n=mn(jt,v.host,v._protocol),Oi={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Me.size()}`,"X-Goog-Upload-Header-Content-Type":Mn.contentType,"Content-Type":"application/json; charset=utf-8"},fr=Y(Mn,ne),Hi=new ri($n,"POST",function pr(gr){let Si;jr(gr);try{Si=gr.getResponseHeader("X-Goog-Upload-URL")}catch{Ft(!1)}return Ft(dt(Si)),Si},v.maxUploadRetryTime);return Hi.urlParams=Zn,Hi.headers=Oi,Hi.body=fr,Hi.errorHandler=Pn(D),Hi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ft=this._ref.storage._makeRequest(Me,no,D,ne);this._request=ft,ft.getPromise().then(jt=>{this._request=void 0,this._uploadUrl=jt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((ne,Me)=>{const ft=function wi(v,D,ne,Me){const $n=new ri(ne,"POST",function jt(Ei){const Oi=jr(Ei,["active","final"]);let fr=null;try{fr=Ei.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ft(!1)}fr||Ft(!1);const Lr=Number(fr);return Ft(!isNaN(Lr)),new Ar(Lr,Me.size(),"final"===Oi)},v.maxUploadRetryTime);return $n.headers={"X-Goog-Upload-Command":"query"},$n.errorHandler=Pn(D),$n}(this._ref.storage,this._ref._location,D,this._blob),jt=this._ref.storage._makeRequest(ft,no,ne,Me);this._request=jt,jt.getPromise().then(Mn=>{this._request=void 0,this._updateProgress(Mn.current),this._needToFetchStatus=!1,Mn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,ne=new Ar(this._transferred,this._blob.size()),Me=this._uploadUrl;this._resolveToken((ft,jt)=>{let Mn;try{Mn=function fo(v,D,ne,Me,ft,jt,Mn,Zn){const $n=new Ar(0,0);if(Mn?($n.current=Mn.current,$n.total=Mn.total):($n.current=0,$n.total=Me.size()),Me.size()!==$n.total)throw function Lt(){return new wt(he.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ei=$n.total-$n.current;let Oi=Ei;ft>0&&(Oi=Math.min(Oi,ft));const fr=$n.current;let pr="";pr=0===Oi?"finalize":Ei===Oi?"upload, finalize":"upload";const Hi={"X-Goog-Upload-Command":pr,"X-Goog-Upload-Offset":`${$n.current}`},gr=Me.slice(fr,fr+Oi);if(null===gr)throw gt();const Pr=new ri(ne,"POST",function Si(Fr,wo){const rs=jr(Fr,["active","final"]),Cs=$n.current+Oi,vs=Me.size();let Ls;return Ls="final"===rs?Tt(D,jt)(Fr,wo):null,new Ar(Cs,vs,"final"===rs,Ls)},D.maxUploadRetryTime);return Pr.headers=Hi,Pr.body=gr.uploadData(),Pr.progressCallback=Zn||null,Pr.errorHandler=Pn(v),Pr}(this._ref._location,this._ref.storage,Me,this._blob,D,this._mappings,ne,this._makeProgressCallback())}catch($n){return this._error=$n,void this._transition("error")}const Zn=this._ref.storage._makeRequest(Mn,no,ft,jt,!1);this._request=Zn,Zn.getPromise().then($n=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress($n.current),$n.finalized?(this._metadata=$n.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,ne)=>{const Me=pi(this._ref.storage,this._ref._location,this._mappings),ft=this._ref.storage._makeRequest(Me,no,D,ne);this._request=ft,ft.getPromise().then(jt=>{this._request=void 0,this._metadata=jt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,ne)=>{const Me=function Jr(v,D,ne,Me,ft){const jt=D.bucketOnlyServerUrl(),Mn={"X-Goog-Upload-Protocol":"multipart"},$n=function Zn(){let Pr="";for(let Fr=0;Fr<2;Fr++)Pr+=Math.random().toString().slice(2);return Pr}();Mn["Content-Type"]="multipart/related; boundary="+$n;const Ei=qi(D,Me,ft),Oi=Y(Ei,ne),pr=Fe.getBlob("--"+$n+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Oi+"\r\n--"+$n+"\r\nContent-Type: "+Ei.contentType+"\r\n\r\n",Me,"\r\n--"+$n+"--");if(null===pr)throw gt();const Hi={name:Ei.fullPath},gr=mn(jt,v.host,v._protocol),ko=v.maxUploadRetryTime,io=new ri(gr,"POST",Tt(v,ne),ko);return io.urlParams=Hi,io.headers=Mn,io.body=pr.uploadData(),io.errorHandler=Pn(D),io}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ft=this._ref.storage._makeRequest(Me,no,D,ne);this._request=ft,ft.getPromise().then(jt=>{this._request=void 0,this._metadata=jt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const ne=this._transferred;this._transferred=D,this._transferred!==ne&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ne="paused"===this._state;this._state=D,ne&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=xt(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=Hr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,ne,Me,ft){const jt=new to(ne||void 0,Me||void 0,ft||void 0);return this._addObserver(jt),()=>{this._removeObserver(jt)}}then(D,ne){return this._promise.then(D,ne)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const ne=this._observers.indexOf(D);-1!==ne&&this._observers.splice(ne,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ne=>{this._notifyObserver(ne)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(Hr(this._state)){case dr.SUCCESS:Do(this._resolve.bind(null,this.snapshot))();break;case dr.CANCELED:case dr.ERROR:Do(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(Hr(this._state)){case dr.RUNNING:case dr.PAUSED:D.next&&Do(D.next.bind(D,this.snapshot))();break;case dr.SUCCESS:D.complete&&Do(D.complete.bind(D))();break;default:D.error&&Do(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class ki{constructor(D,ne){this._service=D,this._location=ne instanceof Ye?ne:Ye.makeFromUrl(ne,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,ne){return new ki(D,ne)}get root(){const D=new Ye(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Re(this._location.path)}get storage(){return this._service}get parent(){const D=function Ct(v){if(0===v.length)return null;const D=v.lastIndexOf("/");return-1===D?"":v.slice(0,D)}(this._location.path);if(null===D)return null;const ne=new Ye(this._location.bucket,D);return new ki(this._service,ne)}_throwIfRoot(D){if(""===this._location.path)throw _n(D)}}function sn(v,D,ne){return pn.apply(this,arguments)}function pn(){return(pn=(0,ue.Z)(function*(v,D,ne){const ft=yield ln(v,{pageToken:ne});D.prefixes.push(...ft.prefixes),D.items.push(...ft.items),null!=ft.nextPageToken&&(yield sn(v,D,ft.nextPageToken))})).apply(this,arguments)}function ln(v,D){null!=D&&"number"==typeof D.maxResults&&bn("options.maxResults",1,1e3,D.maxResults);const ne=D||{},Me=nr(v.storage,v._location,"/",ne.pageToken,ne.maxResults);return v.storage.makeRequestWithTokens(Me,no)}function xi(v){v._throwIfRoot("getDownloadURL");const D=function Dr(v,D,ne){const ft=mn(D.fullServerUrl(),v.host,v._protocol),Mn=v.maxOperationRetryTime,Zn=new ri(ft,"GET",function Xn(v,D){return function ne(Me,ft){const jt=Oe(v,ft,D);return Ft(null!==jt),function Pe(v,D,ne,Me){const ft=Se(D);if(null===ft||!dt(ft.downloadTokens))return null;const jt=ft.downloadTokens;if(0===jt.length)return null;const Mn=encodeURIComponent;return jt.split(",").map(Ei=>{const fr=v.fullPath;return mn("/b/"+Mn(v.bucket)+"/o/"+Mn(fr),ne,Me)+Mt({alt:"media",token:Ei})})[0]}(jt,ft,v.host,v._protocol)}}(v,ne),Mn);return Zn.errorHandler=zn(D),Zn}(v.storage,v._location,le());return v.storage.makeRequestWithTokens(D,no).then(ne=>{if(null===ne)throw function Vt(){return new wt(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ne})}function hr(v,D){const ne=function $t(v,D){const ne=D.split("/").filter(Me=>Me.length>0).join("/");return 0===v.length?ne:v+"/"+ne}(v._location.path,D),Me=new Ye(v._location.bucket,ne);return new ki(v.storage,Me)}function Tr(v,D){if(v instanceof po){const ne=v;if(null==ne._bucket)throw function _t(){return new wt(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Qe+"' property when initializing the app?")}();const Me=new ki(ne,ne._bucket);return null!=D?Tr(Me,D):Me}return void 0!==D?hr(v,D):v}function $r(v,D){if(D&&function $i(v){return/^[A-Za-z]+:\/\//.test(v)}(D)){if(v instanceof po)return function Mi(v,D){return new ki(v,D)}(v,D);throw Qt("To use ref(service, url), the first argument must be a Storage instance.")}return Tr(v,D)}function li(v,D){const ne=D?.[Qe];return null==ne?null:Ye.makeFromBucketSpec(ne,v)}class po{constructor(D,ne,Me,ft,jt){this.app=D,this._authProvider=ne,this._appCheckProvider=Me,this._url=ft,this._firebaseVersion=jt,this._bucket=null,this._host=lt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ft?Ye.makeFromBucketSpec(ft,this._host):li(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?Ye.makeFromBucketSpec(this._url,D):li(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){bn("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){bn("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,ue.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const ne=D._authProvider.getImmediate({optional:!0});if(ne){const Me=yield ne.getToken();if(null!==Me)return Me.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,ue.Z)(function*(){const ne=D._appCheckProvider.getImmediate({optional:!0});return ne?(yield ne.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new ki(this,D)}_makeRequest(D,ne,Me,ft,jt=!0){if(this._deleted)return new tt(un());{const Mn=function oi(v,D,ne,Me,ft,jt,Mn=!0){const Zn=Mt(v.urlParams),$n=v.url+Zn,Ei=Object.assign({},v.headers);return function an(v,D){D&&(v["X-Firebase-GMPID"]=D)}(Ei,D),function kt(v,D){null!==D&&D.length>0&&(v.Authorization="Firebase "+D)}(Ei,ne),function Yt(v,D){v["X-Firebase-Storage-Version"]="webjs/"+(D??"AppManager")}(Ei,jt),function Kn(v,D){null!==D&&(v["X-Firebase-AppCheck"]=D)}(Ei,Me),new ht($n,v.method,Ei,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,ft,Mn)}(D,this._appId,Me,ft,ne,this._firebaseVersion,jt);return this._requests.add(Mn),Mn.getPromise().then(()=>this._requests.delete(Mn),()=>this._requests.delete(Mn)),Mn}}makeRequestWithTokens(D,ne){var Me=this;return(0,ue.Z)(function*(){const[ft,jt]=yield Promise.all([Me._getAuthToken(),Me._getAppCheckToken()]);return Me._makeRequest(D,ne,ft,jt).getPromise()})()}}const Rr="@firebase/storage";function So(v,D){return $r(v=(0,et.m9)(v),D)}function vr(v,{instanceIdentifier:D}){const ne=v.getProvider("app").getImmediate(),Me=v.getProvider("auth-internal"),ft=v.getProvider("app-check-internal");return new po(ne,Me,ft,D,fe.SDK_VERSION)}!function Bo(){(0,fe._registerComponent)(new Ve.wA("storage",vr,"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(Rr,"0.11.2",""),(0,fe.registerVersion)(Rr,"0.11.2","esm2017")}();class Ki{constructor(D,ne,Me){this._delegate=D,this.task=ne,this.ref=Me}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class br{constructor(D,ne){this._delegate=D,this._ref=ne,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ki(this._delegate.snapshot,this,this._ref)}then(D,ne){return this._delegate.then(Me=>{if(D)return D(new Ki(Me,this,this._ref))},ne)}on(D,ne,Me,ft){let jt;return ne&&(jt="function"==typeof ne?Mn=>ne(new Ki(Mn,this,this._ref)):{next:ne.next?Mn=>ne.next(new Ki(Mn,this,this._ref)):void 0,complete:ne.complete||void 0,error:ne.error||void 0}),this._delegate.on(D,jt,Me||void 0,ft||void 0)}}class ho{constructor(D,ne){this._delegate=D,this._service=ne}get prefixes(){return this._delegate.prefixes.map(D=>new Mr(D,this._service))}get items(){return this._delegate.items.map(D=>new Mr(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Mr{constructor(D,ne){this._delegate=D,this.storage=ne}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const ne=function Wo(v,D){return hr(v,D)}(this._delegate,D);return new Mr(ne,this.storage)}get root(){return new Mr(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new Mr(D,this.storage)}put(D,ne){return this._throwIfRoot("put"),new br(function Ps(v,D,ne){return function bt(v,D,ne){return v._throwIfRoot("uploadBytesResumable"),new Ir(v,new Fe(D),ne)}(v=(0,et.m9)(v),D,ne)}(this._delegate,D,ne),this)}putString(D,ne=It.RAW,Me){this._throwIfRoot("putString");const ft=An(ne,D),jt=Object.assign({},Me);return null==jt.contentType&&null!=ft.contentType&&(jt.contentType=ft.contentType),new br(new Ir(this._delegate,new Fe(ft.data,!0),jt),this)}listAll(){return function Mo(v){return function Ut(v){const D={prefixes:[],items:[]};return sn(v,D).then(()=>D)}(v=(0,et.m9)(v))}(this._delegate).then(D=>new ho(D,this.storage))}list(D){return function Es(v,D){return ln(v=(0,et.m9)(v),D)}(this._delegate,D||void 0).then(ne=>new ho(ne,this.storage))}getMetadata(){return function Li(v){return function Nn(v){v._throwIfRoot("getMetadata");const D=pi(v.storage,v._location,le());return v.storage.makeRequestWithTokens(D,no)}(v=(0,et.m9)(v))}(this._delegate)}updateMetadata(D){return function ir(v,D){return function si(v,D){v._throwIfRoot("updateMetadata");const ne=function uo(v,D,ne,Me){const jt=mn(D.fullServerUrl(),v.host,v._protocol),Zn=Y(ne,Me),Ei=v.maxOperationRetryTime,Oi=new ri(jt,"PATCH",Tt(v,Me),Ei);return Oi.headers={"Content-Type":"application/json; charset=utf-8"},Oi.body=Zn,Oi.errorHandler=zn(D),Oi}(v.storage,v._location,D,le());return v.storage.makeRequestWithTokens(ne,no)}(v=(0,et.m9)(v),D)}(this._delegate,D)}getDownloadURL(){return function Ui(v){return xi(v=(0,et.m9)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Qi(v){return function Nr(v){v._throwIfRoot("deleteObject");const D=function bo(v,D){const Me=mn(D.fullServerUrl(),v.host,v._protocol),Zn=new ri(Me,"DELETE",function Mn($n,Ei){},v.maxOperationRetryTime);return Zn.successCodes=[200,204],Zn.errorHandler=zn(D),Zn}(v.storage,v._location);return v.storage.makeRequestWithTokens(D,no)}(v=(0,et.m9)(v))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw _n(D)}}class Uo{constructor(D,ne){this.app=D,this._delegate=ne}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(Xi(D))throw Qt("ref() expected a child path but got a URL, use refFromURL instead.");return new Mr(So(this._delegate,D),this)}refFromURL(D){if(!Xi(D))throw Qt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ye.makeFromUrl(D,this._delegate.host)}catch{throw Qt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mr(So(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,ne,Me={}){!function is(v,D,ne,Me={}){!function To(v,D,ne,Me={}){v.host=`${D}:${ne}`,v._protocol="http";const{mockUserToken:ft}=Me;ft&&(v._overrideAuthToken="string"==typeof ft?ft:(0,et.Sg)(ft,v.app.options.projectId))}(v,D,ne,Me)}(this._delegate,D,ne,Me)}}function Xi(v){return/^[A-Za-z]+:\/\//.test(v)}function Ns(v,{instanceIdentifier:D}){const ne=v.getProvider("app-compat").getImmediate(),Me=v.getProvider("storage").getImmediate({identifier:D});return new Uo(ne,Me)}!function qe(v){const D={TaskState:dr,TaskEvent:eo,StringFormat:It,Storage:Uo,Reference:Mr};v.INTERNAL.registerComponent(new Ve.wA("storage-compat",Ns,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.2")}(oe.Z);var We=E(6217),q=E(9260);function tn(v){const D=function at(v){return new d.y(D=>{const ne=Mn=>D.next(Mn);ne(v.snapshot);const jt=v.on("state_changed",ne);return v.then(Mn=>{ne(Mn),D.complete()},Mn=>{ne(v.snapshot),(Mn=>{D.error(Mn)})(Mn)}),function(){jt()}}).pipe((0,ee.b)(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,Ee.U)(ne=>ne.bytesTransferred/ne.totalBytes*100))}}function kn(v){return{getDownloadURL:()=>(0,C.of)(void 0).pipe(K.fc,(0,re.w)(()=>v.getDownloadURL()),K.iC),getMetadata:()=>(0,C.of)(void 0).pipe(K.fc,(0,re.w)(()=>v.getMetadata()),K.iC),delete:()=>(0,m.D)(v.delete()),child:D=>kn(v.child(D)),updateMetadata:D=>(0,m.D)(v.updateMetadata(D)),put:(D,ne)=>tn(v.put(D,ne)),putString:(D,ne,Me)=>tn(v.putString(D,ne,Me)),list:D=>(0,m.D)(v.list(D)),listAll:()=>(0,m.D)(v.listAll())}}const Bi=new ve.OlP("angularfire2.storageBucket"),yr=new ve.OlP("angularfire2.storage.maxUploadRetryTime"),Wr=new ve.OlP("angularfire2.storage.maxOperationRetryTime"),go=new ve.OlP("angularfire2.storage.use-emulator");let mr=(()=>{class v{constructor(ne,Me,ft,jt,Mn,Zn,$n,Ei,Oi,fr){const Lr=(0,De.on)(ne,Mn,Me);this.storage=(0,De.cc)(`${Lr.name}.storage.${ft}`,"AngularFireStorage",Lr.name,()=>{const pr=Mn.runOutsideAngular(()=>Lr.storage(ft||void 0)),Hi=Oi;return Hi&&pr.useEmulator(...Hi),$n&&pr.setMaxUploadRetryTime($n),Ei&&pr.setMaxOperationRetryTime(Ei),pr},[$n,Ei])}ref(ne){return kn(this.storage.ref(ne))}refFromURL(ne){return kn(this.storage.refFromURL(ne))}upload(ne,Me,ft){return kn(this.storage.ref(ne)).put(Me,ft)}}return v.\u0275fac=function(ne){return new(ne||v)(ve.LFG(De.Dh),ve.LFG(De.xv,8),ve.LFG(Bi,8),ve.LFG(ve.Lbi),ve.LFG(ve.R0b),ve.LFG(K.HU),ve.LFG(yr,8),ve.LFG(Wr,8),ve.LFG(go,8),ve.LFG(We.nm,8))},v.\u0275prov=ve.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),W=(()=>{class v{}return v.\u0275fac=function(ne){return new(ne||v)},v.\u0275mod=ve.oAB({type:v}),v.\u0275inj=ve.cJS({}),v})(),H=(()=>{class v{constructor(){q.Z.registerVersion("angularfire",K.q4.full,"gcs-compat")}}return v.\u0275fac=function(ne){return new(ne||v)},v.\u0275mod=ve.oAB({type:v}),v.\u0275inj=ve.cJS({providers:[mr],imports:[W]}),v})()},2011:(vn,it,E)=>{E.d(it,{Dh:()=>ve,GT:()=>re,cc:()=>Ve,hO:()=>et,on:()=>oe,pX:()=>Ee,xv:()=>De});var d=E(2223),C=E(9260),m=E(4976);vn=E.hmd(vn);const ee=["ngOnDestroy"],Ee=(Ue,ke,wt,he={})=>new Proxy(Ue,{get:(Ce,ge)=>wt.runOutsideAngular(()=>{var Ae;if(Ue[ge])return!(null===(Ae=he?.spy)||void 0===Ae)&&Ae.get&&he.spy.get(ge,Ue[ge]),Ue[ge];if(ee.indexOf(ge)>-1)return()=>{};const Ge=ke.toPromise().then(Z=>{const Ke=Z&&Z[ge];return"function"==typeof Ke?Ke.bind(Z):Ke&&Ke.then?Ke.then(Le=>wt.run(()=>Le)):wt.run(()=>Ke)});return new Proxy(()=>{},{get:(Z,Ke)=>Ge[Ke],apply:(Z,Ke,Le)=>Ge.then(Ze=>{var xt;const yn=Ze&&Ze(...Le);return!(null===(xt=he?.spy)||void 0===xt)&&xt.apply&&he.spy.apply(ge,Le,yn),yn})})})}),re=(Ue,ke)=>{ke.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(he=>{Object.defineProperty(Ue.prototype,he,Object.getOwnPropertyDescriptor(wt.prototype||wt,he))})})};class K{constructor(ke){return ke}}const ve=new d.OlP("angularfire2.app.options"),De=new d.OlP("angularfire2.app.name");function oe(Ue,ke,wt){const Ce="object"==typeof wt&&wt||{};Ce.name=Ce.name||"string"==typeof wt&&wt||"[DEFAULT]";const Ae=C.Z.apps.filter(Ge=>Ge&&Ge.name===Ce.name)[0]||ke.runOutsideAngular(()=>C.Z.initializeApp(Ue,Ce));try{JSON.stringify(Ue)!==JSON.stringify(Ae.options)&&ue("error",`${Ae.name} Firebase App already initialized with different options${vn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new K(Ae)}const ue=(Ue,...ke)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ue](...ke)},fe={provide:K,useFactory:oe,deps:[ve,d.R0b,[new d.FiY,De]]};let et=(()=>{class Ue{constructor(wt){C.Z.registerVersion("angularfire",m.q4.full,"core"),C.Z.registerVersion("angularfire",m.q4.full,"app-compat"),C.Z.registerVersion("angular",d.q4F.full,wt.toString())}static initializeApp(wt,he){return{ngModule:Ue,providers:[{provide:ve,useValue:wt},{provide:De,useValue:he}]}}}return Ue.\u0275fac=function(wt){return new(wt||Ue)(d.LFG(d.Lbi))},Ue.\u0275mod=d.oAB({type:Ue}),Ue.\u0275inj=d.cJS({providers:[fe]}),Ue})();function Ve(Ue,ke,wt,he,Ce){const[,ge,Ae]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Ue)||[];if(ge)return function lt(Ue,ke){try{return Ue.toString()===ke.toString()}catch{return Ue===ke}}(Ce,Ae)||(Je("error",`${ke} was already initialized on the ${wt} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:Ce,was:Ae})),ge;{const Ge=he();return globalThis.\u0275AngularfireInstanceCache.push([Ue,Ge,Ce]),Ge}}const Qe=!!vn.hot,Je=(Ue,...ke)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ue](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vn,it,E)=>{E.d(it,{q4:()=>fs,iC:()=>Va,fc:()=>ra,HU:()=>Za,vb:()=>$c,JM:()=>Ka});var d=E(2223),C=E(259),m=E(5861),ee=E(6881),Ee=E(2090),re=E(4859),K=E(1877);const ve=(k,L)=>L.some(ie=>k instanceof ie);let De,oe;const et=new WeakMap,Ve=new WeakMap,lt=new WeakMap,Qe=new WeakMap,Je=new WeakMap;let wt={get(k,L,ie){if(k instanceof IDBTransaction){if("done"===L)return Ve.get(k);if("objectStoreNames"===L)return k.objectStoreNames||lt.get(k);if("store"===L)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return Ae(k[L])},set:(k,L,ie)=>(k[L]=ie,!0),has:(k,L)=>k instanceof IDBTransaction&&("done"===L||"store"===L)||L in k};function ge(k){return"function"==typeof k?function Ce(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...L){return k.apply(Ge(this),L),Ae(et.get(this))}:function(...L){return Ae(k.apply(Ge(this),L))}:function(L,...ie){const Be=k.call(Ge(this),L,...ie);return lt.set(Be,L.sort?L.sort():[L]),Ae(Be)}}(k):(k instanceof IDBTransaction&&function ke(k){if(Ve.has(k))return;const L=new Promise((ie,Be)=>{const yt=()=>{k.removeEventListener("complete",Ht),k.removeEventListener("error",dn),k.removeEventListener("abort",dn)},Ht=()=>{ie(),yt()},dn=()=>{Be(k.error||new DOMException("AbortError","AbortError")),yt()};k.addEventListener("complete",Ht),k.addEventListener("error",dn),k.addEventListener("abort",dn)});Ve.set(k,L)}(k),ve(k,function ue(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,wt):k)}function Ae(k){if(k instanceof IDBRequest)return function Ue(k){const L=new Promise((ie,Be)=>{const yt=()=>{k.removeEventListener("success",Ht),k.removeEventListener("error",dn)},Ht=()=>{ie(Ae(k.result)),yt()},dn=()=>{Be(k.error),yt()};k.addEventListener("success",Ht),k.addEventListener("error",dn)});return L.then(ie=>{ie instanceof IDBCursor&&et.set(ie,k)}).catch(()=>{}),Je.set(L,k),L}(k);if(Qe.has(k))return Qe.get(k);const L=ge(k);return L!==k&&(Qe.set(k,L),Je.set(L,k)),L}const Ge=k=>Je.get(k),Le=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],xt=new Map;function yn(k,L){if(!(k instanceof IDBDatabase)||L in k||"string"!=typeof L)return;if(xt.get(L))return xt.get(L);const ie=L.replace(/FromIndex$/,""),Be=L!==ie,yt=Ze.includes(ie);if(!(ie in(Be?IDBIndex:IDBObjectStore).prototype)||!yt&&!Le.includes(ie))return;const Ht=function(){var dn=(0,m.Z)(function*(Yn,...Wn){const _i=this.transaction(Yn,yt?"readwrite":"readonly");let Vi=_i.store;return Be&&(Vi=Vi.index(Wn.shift())),(yield Promise.all([Vi[ie](...Wn),yt&&_i.done]))[0]});return function(Wn){return dn.apply(this,arguments)}}();return xt.set(L,Ht),Ht}!function he(k){wt=k(wt)}(k=>({...k,get:(L,ie,Be)=>yn(L,ie)||k.get(L,ie,Be),has:(L,ie)=>!!yn(L,ie)||k.has(L,ie)}));const Rn="@firebase/installations",_t="0.6.4",gt=1e4,Lt=`w:${_t}`,Vt="FIS_v2",Jt="https://firebaseinstallations.googleapis.com/v1",Qt=36e5,Rt=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(k){return k instanceof Ee.ZR&&k.code.includes("request-failed")}function tt({projectId:k}){return`${Jt}/projects/${k}/installations`}function Nt(k){return{token:k.token,requestStatus:2,expiresIn:Zt(k.expiresIn),creationTime:Date.now()}}function Et(k,L){return zt.apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(k,L){const Be=(yield L.json()).error;return Rt.create("request-failed",{requestName:k,serverCode:Be.code,serverMessage:Be.message,serverStatus:Be.status})})).apply(this,arguments)}function St({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function dt(k){return ze.apply(this,arguments)}function ze(){return(ze=(0,m.Z)(function*(k){const L=yield k();return L.status>=500&&L.status<600?k():L})).apply(this,arguments)}function Zt(k){return Number(k.replace("s","000"))}function Mt(){return(Mt=(0,m.Z)(function*({appConfig:k,heartbeatServiceProvider:L},{fid:ie}){const Be=tt(k),yt=St(k),Ht=L.getImmediate({optional:!0});if(Ht){const _i=yield Ht.getHeartbeatsHeader();_i&&yt.append("x-firebase-client",_i)}const Yn={method:"POST",headers:yt,body:JSON.stringify({fid:ie,authVersion:Vt,appId:k.appId,sdkVersion:Lt})},Wn=yield dt(()=>fetch(Be,Yn));if(Wn.ok){const _i=yield Wn.json();return{fid:_i.fid||ie,registrationStatus:2,refreshToken:_i.refreshToken,authToken:Nt(_i.authToken)}}throw yield Et("Create Installation",Wn)})).apply(this,arguments)}function de(k){return new Promise(L=>{setTimeout(L,k)})}const ht=/^[cdef][\w-]{21}$/,ut="";function kt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const ie=function Yt(k){return function Ne(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return ht.test(ie)?ie:ut}catch{return ut}}function an(k){return`${k.appName}!${k.appId}`}const Kn=new Map;function oi(k,L){const ie=an(k);Hn(ie,L),function je(k,L){const ie=function Wt(){return!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=k=>{Hn(k.data.key,k.data.fid)}),It}();ie&&ie.postMessage({key:k,fid:L}),function An(){0===Kn.size&&It&&(It.close(),It=null)}()}(ie,L)}function Hn(k,L){const ie=Kn.get(k);if(ie)for(const Be of ie)Be(L)}let It=null;const fi="firebase-installations-database",ei=1,yi="firebase-installations-store";let qt=null;function nt(){return qt||(qt=function Z(k,L,{blocked:ie,upgrade:Be,blocking:yt,terminated:Ht}={}){const dn=indexedDB.open(k,L),Yn=Ae(dn);return Be&&dn.addEventListener("upgradeneeded",Wn=>{Be(Ae(dn.result),Wn.oldVersion,Wn.newVersion,Ae(dn.transaction))}),ie&&dn.addEventListener("blocked",()=>ie()),Yn.then(Wn=>{Ht&&Wn.addEventListener("close",()=>Ht()),yt&&Wn.addEventListener("versionchange",()=>yt())}).catch(()=>{}),Yn}(fi,ei,{upgrade:(k,L)=>{0===L&&k.createObjectStore(yi)}})),qt}function ct(k,L){return He.apply(this,arguments)}function He(){return(He=(0,m.Z)(function*(k,L){const ie=an(k),yt=(yield nt()).transaction(yi,"readwrite"),Ht=yt.objectStore(yi),dn=yield Ht.get(ie);return yield Ht.put(L,ie),yield yt.done,(!dn||dn.fid!==L.fid)&&oi(k,L.fid),L})).apply(this,arguments)}function Fe(k){return Se.apply(this,arguments)}function Se(){return(Se=(0,m.Z)(function*(k){const L=an(k),Be=(yield nt()).transaction(yi,"readwrite");yield Be.objectStore(yi).delete(L),yield Be.done})).apply(this,arguments)}function Ct(k,L){return $t.apply(this,arguments)}function $t(){return($t=(0,m.Z)(function*(k,L){const ie=an(k),yt=(yield nt()).transaction(yi,"readwrite"),Ht=yt.objectStore(yi),dn=yield Ht.get(ie),Yn=L(dn);return void 0===Yn?yield Ht.delete(ie):yield Ht.put(Yn,ie),yield yt.done,Yn&&(!dn||dn.fid!==Yn.fid)&&oi(k,Yn.fid),Yn})).apply(this,arguments)}function Re(k){return ce.apply(this,arguments)}function ce(){return ce=(0,m.Z)(function*(k){let L;const ie=yield Ct(k.appConfig,Be=>{const yt=function z(k){return Pe(k||{fid:kt(),registrationStatus:0})}(Be),Ht=function U(k,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(Rt.create("app-offline"))};const ie={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},Be=function $(k,L){return le.apply(this,arguments)}(k,ie);return{installationEntry:ie,registrationPromise:Be}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:ae(k)}:{installationEntry:L}}(k,yt);return L=Ht.registrationPromise,Ht.installationEntry});return ie.fid===ut?{installationEntry:yield L}:{installationEntry:ie,registrationPromise:L}}),ce.apply(this,arguments)}function le(){return le=(0,m.Z)(function*(k,L){try{const ie=yield function mn(k,L){return Mt.apply(this,arguments)}(k,L);return ct(k.appConfig,ie)}catch(ie){throw Ye(ie)&&409===ie.customData.serverCode?yield Fe(k.appConfig):yield ct(k.appConfig,{fid:L.fid,registrationStatus:0}),ie}}),le.apply(this,arguments)}function ae(k){return xe.apply(this,arguments)}function xe(){return(xe=(0,m.Z)(function*(k){let L=yield Oe(k.appConfig);for(;1===L.registrationStatus;)yield de(100),L=yield Oe(k.appConfig);if(0===L.registrationStatus){const{installationEntry:ie,registrationPromise:Be}=yield Re(k);return Be||ie}return L})).apply(this,arguments)}function Oe(k){return Ct(k,L=>{if(!L)throw Rt.create("installation-not-found");return Pe(L)})}function Pe(k){return function Y(k){return 1===k.registrationStatus&&k.registrationTime+gt<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function vt(){return(vt=(0,m.Z)(function*({appConfig:k,heartbeatServiceProvider:L},ie){const Be=function Bt(k,{fid:L}){return`${tt(k)}/${L}/authTokens:generate`}(k,ie),yt=function At(k,{refreshToken:L}){const ie=St(k);return ie.append("Authorization",function bn(k){return`${Vt} ${k}`}(L)),ie}(k,ie),Ht=L.getImmediate({optional:!0});if(Ht){const _i=yield Ht.getHeartbeatsHeader();_i&&yt.append("x-firebase-client",_i)}const Yn={method:"POST",headers:yt,body:JSON.stringify({installation:{sdkVersion:Lt,appId:k.appId}})},Wn=yield dt(()=>fetch(Be,Yn));if(Wn.ok)return Nt(yield Wn.json());throw yield Et("Generate Auth Token",Wn)})).apply(this,arguments)}function qn(k){return ri.apply(this,arguments)}function ri(){return ri=(0,m.Z)(function*(k,L=!1){let ie;const Be=yield Ct(k.appConfig,Ht=>{if(!zn(Ht))throw Rt.create("not-registered");const dn=Ht.authToken;if(!L&&function pi(k){return 2===k.requestStatus&&!function nr(k){const L=Date.now();return L<k.creationTime||k.creationTime+k.expiresIn<L+Qt}(k)}(dn))return Ht;if(1===dn.requestStatus)return ie=function Ft(k,L){return Tt.apply(this,arguments)}(k,L),Ht;{if(!navigator.onLine)throw Rt.create("app-offline");const Yn=function Ti(k){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:L})}(Ht);return ie=function Xn(k,L){return Pn.apply(this,arguments)}(k,Yn),Yn}});return ie?yield ie:Be.authToken}),ri.apply(this,arguments)}function Tt(){return(Tt=(0,m.Z)(function*(k,L){let ie=yield xn(k.appConfig);for(;1===ie.authToken.requestStatus;)yield de(100),ie=yield xn(k.appConfig);const Be=ie.authToken;return 0===Be.requestStatus?qn(k,L):Be})).apply(this,arguments)}function xn(k){return Ct(k,L=>{if(!zn(L))throw Rt.create("not-registered");return function Dr(k){return 1===k.requestStatus&&k.requestTime+gt<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Pn(){return Pn=(0,m.Z)(function*(k,L){try{const ie=yield function we(k,L){return vt.apply(this,arguments)}(k,L),Be=Object.assign(Object.assign({},L),{authToken:ie});return yield ct(k.appConfig,Be),ie}catch(ie){if(!Ye(ie)||401!==ie.customData.serverCode&&404!==ie.customData.serverCode){const Be=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield ct(k.appConfig,Be)}else yield Fe(k.appConfig);throw ie}}),Pn.apply(this,arguments)}function zn(k){return void 0!==k&&2===k.registrationStatus}function bo(){return(bo=(0,m.Z)(function*(k){const L=k,{installationEntry:ie,registrationPromise:Be}=yield Re(L);return Be?Be.catch(console.error):qn(L).catch(console.error),ie.fid})).apply(this,arguments)}function qi(){return qi=(0,m.Z)(function*(k,L=!1){const ie=k;return yield function Jr(k){return Ar.apply(this,arguments)}(ie),(yield qn(ie,L)).token}),qi.apply(this,arguments)}function Ar(){return(Ar=(0,m.Z)(function*(k){const{registrationPromise:L}=yield Re(k);L&&(yield L)})).apply(this,arguments)}function to(k){return Rt.create("missing-app-config-values",{valueName:k})}const Do="installations",_s=k=>{const L=k.getProvider("app").getImmediate(),ie=function Hr(k){if(!k||!k.options)throw to("App Configuration");if(!k.name)throw to("App Name");const L=["projectId","apiKey","appId"];for(const ie of L)if(!k.options[ie])throw to(ie);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(L);return{app:L,appConfig:ie,heartbeatServiceProvider:(0,ee._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},Go=k=>{const L=k.getProvider("app").getImmediate(),ie=(0,ee._getProvider)(L,Do).getImmediate();return{getId:()=>function uo(k){return bo.apply(this,arguments)}(ie),getToken:yt=>function gs(k){return qi.apply(this,arguments)}(ie,yt)}};(function no(){(0,ee._registerComponent)(new re.wA(Do,_s,"PUBLIC")),(0,ee._registerComponent)(new re.wA("installations-internal",Go,"PRIVATE"))})(),(0,ee.registerVersion)(Rn,_t),(0,ee.registerVersion)(Rn,_t,"esm2017");const kr="@firebase/remote-config",ki=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class To{constructor(L,ie,Be,yt){this.client=L,this.storage=ie,this.storageCache=Be,this.logger=yt}isCachedDataFresh(L,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Be=Date.now()-ie,yt=Be<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Be}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${yt}.`),yt}fetch(L){var ie=this;return(0,m.Z)(function*(){const[Be,yt]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(yt&&ie.isCachedDataFresh(L.cacheMaxAgeMillis,Be))return yt;L.eTag=yt&&yt.eTag;const Ht=yield ie.client.fetch(L),dn=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ht.status&&dn.push(ie.storage.setLastSuccessfulFetchResponse(Ht)),yield Promise.all(dn),Ht})()}}function po(k=navigator){return k.languages&&k.languages[0]||k.language}class Rr{constructor(L,ie,Be,yt,Ht,dn){this.firebaseInstallations=L,this.sdkVersion=ie,this.namespace=Be,this.projectId=yt,this.apiKey=Ht,this.appId=dn}fetch(L){var ie=this;return(0,m.Z)(function*(){const[Be,yt]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),dn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,Yn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Wn={sdk_version:ie.sdkVersion,app_instance_id:Be,app_instance_id_token:yt,app_id:ie.appId,language_code:po()},_i={method:"POST",headers:Yn,body:JSON.stringify(Wn)},Vi=fetch(dn,_i),Fi=new Promise((oa,Aa)=>{L.signal.addEventListener(()=>{const Ea=new Error("The operation was aborted.");Ea.name="AbortError",Aa(Ea)})});let As;try{yield Promise.race([Vi,Fi]),As=yield Vi}catch(oa){let Aa="fetch-client-network";throw"AbortError"===oa?.name&&(Aa="fetch-timeout"),ki.create(Aa,{originalErrorMessage:oa?.message})}let _r=As.status;const Qa=As.headers.get("ETag")||void 0;let Xr,zs;if(200===As.status){let oa;try{oa=yield As.json()}catch(Aa){throw ki.create("fetch-client-parse",{originalErrorMessage:Aa?.message})}Xr=oa.entries,zs=oa.state}if("INSTANCE_STATE_UNSPECIFIED"===zs?_r=500:"NO_CHANGE"===zs?_r=304:("NO_TEMPLATE"===zs||"EMPTY_CONFIG"===zs)&&(Xr={}),304!==_r&&200!==_r)throw ki.create("fetch-status",{httpStatus:_r});return{status:_r,eTag:Qa,config:Xr}})()}}class es{constructor(L,ie){this.client=L,this.storage=ie}fetch(L){var ie=this;return(0,m.Z)(function*(){const Be=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch(L,Be)})()}attemptFetch(L,{throttleEndTimeMillis:ie,backoffCount:Be}){var yt=this;return(0,m.Z)(function*(){yield function Zi(k,L){return new Promise((ie,Be)=>{const yt=Math.max(L-Date.now(),0),Ht=setTimeout(ie,yt);k.addEventListener(()=>{clearTimeout(Ht),Be(ki.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,ie);try{const Ht=yield yt.client.fetch(L);return yield yt.storage.deleteThrottleMetadata(),Ht}catch(Ht){if(!function Lo(k){if(!(k instanceof Ee.ZR&&k.customData))return!1;const L=Number(k.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Ht))throw Ht;const dn={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(Be),backoffCount:Be+1};return yield yt.storage.setThrottleMetadata(dn),yt.attemptFetch(L,dn)}})()}}class Ps{constructor(L,ie,Be,yt,Ht){this.app=L,this._client=ie,this._storageCache=Be,this._storage=yt,this._logger=Ht,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Li(k,L){const ie=k.target.error||void 0;return ki.create(L,{originalErrorMessage:ie&&ie?.message})}const ir="app_namespace_store";class Qi{constructor(L,ie,Be,yt=function Ui(){return new Promise((k,L)=>{try{const ie=indexedDB.open("firebase_remote_config",1);ie.onerror=Be=>{L(Li(Be,"storage-open"))},ie.onsuccess=Be=>{k(Be.target.result)},ie.onupgradeneeded=Be=>{0===Be.oldVersion&&Be.target.result.createObjectStore(ir,{keyPath:"compositeKey"})}}catch(ie){L(ki.create("storage-open",{originalErrorMessage:ie?.message}))}})}()){this.appId=L,this.appName=ie,this.namespace=Be,this.openDbPromise=yt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var ie=this;return(0,m.Z)(function*(){const Be=yield ie.openDbPromise;return new Promise((yt,Ht)=>{const Yn=Be.transaction([ir],"readonly").objectStore(ir),Wn=ie.createCompositeKey(L);try{const _i=Yn.get(Wn);_i.onerror=Vi=>{Ht(Li(Vi,"storage-get"))},_i.onsuccess=Vi=>{const Fi=Vi.target.result;yt(Fi?Fi.value:void 0)}}catch(_i){Ht(ki.create("storage-get",{originalErrorMessage:_i?.message}))}})})()}set(L,ie){var Be=this;return(0,m.Z)(function*(){const yt=yield Be.openDbPromise;return new Promise((Ht,dn)=>{const Wn=yt.transaction([ir],"readwrite").objectStore(ir),_i=Be.createCompositeKey(L);try{const Vi=Wn.put({compositeKey:_i,value:ie});Vi.onerror=Fi=>{dn(Li(Fi,"storage-set"))},Vi.onsuccess=()=>{Ht()}}catch(Vi){dn(ki.create("storage-set",{originalErrorMessage:Vi?.message}))}})})()}delete(L){var ie=this;return(0,m.Z)(function*(){const Be=yield ie.openDbPromise;return new Promise((yt,Ht)=>{const Yn=Be.transaction([ir],"readwrite").objectStore(ir),Wn=ie.createCompositeKey(L);try{const _i=Yn.delete(Wn);_i.onerror=Vi=>{Ht(Li(Vi,"storage-delete"))},_i.onsuccess=()=>{yt()}}catch(_i){Ht(ki.create("storage-delete",{originalErrorMessage:_i?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class So{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,m.Z)(function*(){const ie=L.storage.getLastFetchStatus(),Be=L.storage.getLastSuccessfulFetchTimestampMillis(),yt=L.storage.getActiveConfig(),Ht=yield ie;Ht&&(L.lastFetchStatus=Ht);const dn=yield Be;dn&&(L.lastSuccessfulFetchTimestampMillis=dn);const Yn=yield yt;Yn&&(L.activeConfig=Yn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Fs(){return ks.apply(this,arguments)}function ks(){return(ks=(0,m.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function Wo(){(0,ee._registerComponent)(new re.wA("remote-config",function k(L,{instanceIdentifier:ie}){const Be=L.getProvider("app").getImmediate(),yt=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ki.create("registration-window");if(!(0,Ee.hl)())throw ki.create("indexed-db-unavailable");const{projectId:Ht,apiKey:dn,appId:Yn}=Be.options;if(!Ht)throw ki.create("registration-project-id");if(!dn)throw ki.create("registration-api-key");if(!Yn)throw ki.create("registration-app-id");const Wn=new Qi(Yn,Be.name,ie=ie||"firebase"),_i=new So(Wn),Vi=new K.Yd(kr);Vi.logLevel=K.in.ERROR;const Fi=new Rr(yt,ee.SDK_VERSION,ie,Ht,dn,Yn),As=new es(Fi,Wn),_r=new To(As,Wn,_i,Vi),Qa=new Ps(Be,_r,_i,Wn,Vi);return function Nn(k){const L=(0,Ee.m9)(k);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Qa),Qa},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(kr,"0.4.4"),(0,ee.registerVersion)(kr,"0.4.4","esm2017")}();const vr=(k,L)=>L.some(ie=>k instanceof ie);let Bo,Ki;const Mr=new WeakMap,Uo=new WeakMap,Xi=new WeakMap,Ao=new WeakMap,Vo=new WeakMap;let qe={get(k,L,ie){if(k instanceof IDBTransaction){if("done"===L)return Uo.get(k);if("objectStoreNames"===L)return k.objectStoreNames||Xi.get(k);if("store"===L)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return tn(k[L])},set:(k,L,ie)=>(k[L]=ie,!0),has:(k,L)=>k instanceof IDBTransaction&&("done"===L||"store"===L)||L in k};function at(k){return"function"==typeof k?function q(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ho(){return Ki||(Ki=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...L){return k.apply(kn(this),L),tn(Mr.get(this))}:function(...L){return tn(k.apply(kn(this),L))}:function(L,...ie){const Be=k.call(kn(this),L,...ie);return Xi.set(Be,L.sort?L.sort():[L]),tn(Be)}}(k):(k instanceof IDBTransaction&&function Ns(k){if(Uo.has(k))return;const L=new Promise((ie,Be)=>{const yt=()=>{k.removeEventListener("complete",Ht),k.removeEventListener("error",dn),k.removeEventListener("abort",dn)},Ht=()=>{ie(),yt()},dn=()=>{Be(k.error||new DOMException("AbortError","AbortError")),yt()};k.addEventListener("complete",Ht),k.addEventListener("error",dn),k.addEventListener("abort",dn)});Uo.set(k,L)}(k),vr(k,function br(){return Bo||(Bo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,qe):k)}function tn(k){if(k instanceof IDBRequest)return function Xs(k){const L=new Promise((ie,Be)=>{const yt=()=>{k.removeEventListener("success",Ht),k.removeEventListener("error",dn)},Ht=()=>{ie(tn(k.result)),yt()},dn=()=>{Be(k.error),yt()};k.addEventListener("success",Ht),k.addEventListener("error",dn)});return L.then(ie=>{ie instanceof IDBCursor&&Mr.set(ie,k)}).catch(()=>{}),Vo.set(L,k),L}(k);if(Ao.has(k))return Ao.get(k);const L=at(k);return L!==k&&(Ao.set(k,L),Vo.set(L,k)),L}const kn=k=>Vo.get(k);function Bi(k,L,{blocked:ie,upgrade:Be,blocking:yt,terminated:Ht}={}){const dn=indexedDB.open(k,L),Yn=tn(dn);return Be&&dn.addEventListener("upgradeneeded",Wn=>{Be(tn(dn.result),Wn.oldVersion,Wn.newVersion,tn(dn.transaction))}),ie&&dn.addEventListener("blocked",()=>ie()),Yn.then(Wn=>{Ht&&Wn.addEventListener("close",()=>Ht()),yt&&Wn.addEventListener("versionchange",()=>yt())}).catch(()=>{}),Yn}function yr(k,{blocked:L}={}){const ie=indexedDB.deleteDatabase(k);return L&&ie.addEventListener("blocked",()=>L()),tn(ie).then(()=>{})}const Wr=["get","getKey","getAll","getAllKeys","count"],go=["put","add","delete","clear"],mr=new Map;function yo(k,L){if(!(k instanceof IDBDatabase)||L in k||"string"!=typeof L)return;if(mr.get(L))return mr.get(L);const ie=L.replace(/FromIndex$/,""),Be=L!==ie,yt=go.includes(ie);if(!(ie in(Be?IDBIndex:IDBObjectStore).prototype)||!yt&&!Wr.includes(ie))return;const Ht=function(){var dn=(0,m.Z)(function*(Yn,...Wn){const _i=this.transaction(Yn,yt?"readwrite":"readonly");let Vi=_i.store;return Be&&(Vi=Vi.index(Wn.shift())),(yield Promise.all([Vi[ie](...Wn),yt&&_i.done]))[0]});return function(Wn){return dn.apply(this,arguments)}}();return mr.set(L,Ht),Ht}!function We(k){qe=k(qe)}(k=>({...k,get:(L,ie,Be)=>yo(L,ie)||k.get(L,ie,Be),has:(L,ie)=>!!yo(L,ie)||k.has(L,ie)}));const W="/firebase-messaging-sw.js",H="/firebase-cloud-messaging-push-scope",v="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",D="https://fcmregistrations.googleapis.com/v1",ne="google.c.a.c_id",Me="google.c.a.c_l",ft="google.c.a.ts";var Zn=(()=>((Zn=Zn||{}).PUSH_RECEIVED="push-received",Zn.NOTIFICATION_CLICKED="notification-clicked",Zn))();function $n(k){const L=new Uint8Array(k);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ei(k){const ie=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Be=atob(ie),yt=new Uint8Array(Be.length);for(let Ht=0;Ht<Be.length;++Ht)yt[Ht]=Be.charCodeAt(Ht);return yt}const Oi="fcm_token_details_db",fr=5,Lr="fcm_token_object_Store";function Hi(){return Hi=(0,m.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ht=>Ht.name).includes(Oi))return null;let L=null;return(yield Bi(Oi,fr,{upgrade:(Be=(0,m.Z)(function*(yt,Ht,dn,Yn){var Wn;if(Ht<2||!yt.objectStoreNames.contains(Lr))return;const _i=Yn.objectStore(Lr),Vi=yield _i.index("fcmSenderId").get(k);if(yield _i.clear(),Vi)if(2===Ht){const Fi=Vi;if(!Fi.auth||!Fi.p256dh||!Fi.endpoint)return;L={token:Fi.fcmToken,createTime:null!==(Wn=Fi.createTime)&&void 0!==Wn?Wn:Date.now(),subscriptionOptions:{auth:Fi.auth,p256dh:Fi.p256dh,endpoint:Fi.endpoint,swScope:Fi.swScope,vapidKey:"string"==typeof Fi.vapidKey?Fi.vapidKey:$n(Fi.vapidKey)}}}else if(3===Ht){const Fi=Vi;L={token:Fi.fcmToken,createTime:Fi.createTime,subscriptionOptions:{auth:$n(Fi.auth),p256dh:$n(Fi.p256dh),endpoint:Fi.endpoint,swScope:Fi.swScope,vapidKey:$n(Fi.vapidKey)}}}else if(4===Ht){const Fi=Vi;L={token:Fi.fcmToken,createTime:Fi.createTime,subscriptionOptions:{auth:$n(Fi.auth),p256dh:$n(Fi.p256dh),endpoint:Fi.endpoint,swScope:Fi.swScope,vapidKey:$n(Fi.vapidKey)}}}}),function(Ht,dn,Yn,Wn){return Be.apply(this,arguments)})})).close(),yield yr(Oi),yield yr("fcm_vapid_details_db"),yield yr("undefined"),function gr(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:L}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var Be}),Hi.apply(this,arguments)}const Si="firebase-messaging-database",ko=1,io="firebase-messaging-store";let Pr=null;function Fr(){return Pr||(Pr=Bi(Si,ko,{upgrade:(k,L)=>{0===L&&k.createObjectStore(io)}})),Pr}function wo(k){return rs.apply(this,arguments)}function rs(){return rs=(0,m.Z)(function*(k){const L=ca(k),Be=yield(yield Fr()).transaction(io).objectStore(io).get(L);if(Be)return Be;{const yt=yield function pr(k){return Hi.apply(this,arguments)}(k.appConfig.senderId);if(yt)return yield Cs(k,yt),yt}}),rs.apply(this,arguments)}function Cs(k,L){return vs.apply(this,arguments)}function vs(){return(vs=(0,m.Z)(function*(k,L){const ie=ca(k),yt=(yield Fr()).transaction(io,"readwrite");return yield yt.objectStore(io).put(L,ie),yield yt.done,L})).apply(this,arguments)}function aa(){return(aa=(0,m.Z)(function*(k){const L=ca(k),Be=(yield Fr()).transaction(io,"readwrite");yield Be.objectStore(io).delete(L),yield Be.done})).apply(this,arguments)}function ca({appConfig:k}){return k.appId}const ro=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wc(k,L){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,m.Z)(function*(k,L){const ie=yield Ds(k),Be=ea(L),yt={method:"POST",headers:ie,body:JSON.stringify(Be)};let Ht;try{Ht=yield(yield fetch(ya(k.appConfig),yt)).json()}catch(dn){throw ro.create("token-subscribe-failed",{errorInfo:dn?.toString()})}if(Ht.error)throw ro.create("token-subscribe-failed",{errorInfo:Ht.error.message});if(!Ht.token)throw ro.create("token-subscribe-no-token");return Ht.token})).apply(this,arguments)}function js(){return(js=(0,m.Z)(function*(k,L){const ie=yield Ds(k),Be=ea(L.subscriptionOptions),yt={method:"PATCH",headers:ie,body:JSON.stringify(Be)};let Ht;try{Ht=yield(yield fetch(`${ya(k.appConfig)}/${L.token}`,yt)).json()}catch(dn){throw ro.create("token-update-failed",{errorInfo:dn?.toString()})}if(Ht.error)throw ro.create("token-update-failed",{errorInfo:Ht.error.message});if(!Ht.token)throw ro.create("token-update-no-token");return Ht.token})).apply(this,arguments)}function la(k,L){return Js.apply(this,arguments)}function Js(){return(Js=(0,m.Z)(function*(k,L){const Be={method:"DELETE",headers:yield Ds(k)};try{const Ht=yield(yield fetch(`${ya(k.appConfig)}/${L}`,Be)).json();if(Ht.error)throw ro.create("token-unsubscribe-failed",{errorInfo:Ht.error.message})}catch(yt){throw ro.create("token-unsubscribe-failed",{errorInfo:yt?.toString()})}})).apply(this,arguments)}function ya({projectId:k}){return`${D}/projects/${k}/registrations`}function Ds(k){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,m.Z)(function*({appConfig:k,installations:L}){const ie=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function ea({p256dh:k,auth:L,endpoint:ie,vapidKey:Be}){const yt={web:{endpoint:ie,auth:L,p256dh:k}};return Be!==v&&(yt.web.applicationPubKey=Be),yt}const da=6048e5;function Ks(){return Ks=(0,m.Z)(function*(k){const L=yield function Zs(k,L){return Ri.apply(this,arguments)}(k.swRegistration,k.vapidKey),ie={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:L.endpoint,auth:$n(L.getKey("auth")),p256dh:$n(L.getKey("p256dh"))},Be=yield wo(k.firebaseDependencies);if(Be){if(function ua(k,L){return L.vapidKey===k.vapidKey&&L.endpoint===k.endpoint&&L.auth===k.auth&&L.p256dh===k.p256dh}(Be.subscriptionOptions,ie))return Date.now()>=Be.createTime+da?function Ko(k,L){return as.apply(this,arguments)}(k,{token:Be.token,createTime:Date.now(),subscriptionOptions:ie}):Be.token;try{yield la(k.firebaseDependencies,Be.token)}catch(yt){console.warn(yt)}return rr(k.firebaseDependencies,ie)}return rr(k.firebaseDependencies,ie)}),Ks.apply(this,arguments)}function ss(){return ss=(0,m.Z)(function*(k){const L=yield wo(k.firebaseDependencies);L&&(yield la(k.firebaseDependencies,L.token),yield function Ls(k){return aa.apply(this,arguments)}(k.firebaseDependencies));const ie=yield k.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()}),ss.apply(this,arguments)}function as(){return as=(0,m.Z)(function*(k,L){try{const ie=yield function ba(k,L){return js.apply(this,arguments)}(k.firebaseDependencies,L),Be=Object.assign(Object.assign({},L),{token:ie,createTime:Date.now()});return yield Cs(k.firebaseDependencies,Be),ie}catch(ie){throw yield function os(k){return ss.apply(this,arguments)}(k),ie}}),as.apply(this,arguments)}function rr(k,L){return xo.apply(this,arguments)}function xo(){return(xo=(0,m.Z)(function*(k,L){const Be={token:yield wc(k,L),createTime:Date.now(),subscriptionOptions:L};return yield Cs(k,Be),Be.token})).apply(this,arguments)}function Ri(){return(Ri=(0,m.Z)(function*(k,L){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ei(L)})})).apply(this,arguments)}function P(k){const L={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function J(k,L){if(!L.notification)return;k.notification={};const ie=L.notification.title;ie&&(k.notification.title=ie);const Be=L.notification.body;Be&&(k.notification.body=Be);const yt=L.notification.image;yt&&(k.notification.image=yt);const Ht=L.notification.icon;Ht&&(k.notification.icon=Ht)}(L,k),function B(k,L){L.data&&(k.data=L.data)}(L,k),function pe(k,L){var ie,Be,yt,Ht,dn;if(!(L.fcmOptions||null!==(ie=L.notification)&&void 0!==ie&&ie.click_action))return;k.fcmOptions={};const Yn=null!==(yt=null===(Be=L.fcmOptions)||void 0===Be?void 0:Be.link)&&void 0!==yt?yt:null===(Ht=L.notification)||void 0===Ht?void 0:Ht.click_action;Yn&&(k.fcmOptions.link=Yn);const Wn=null===(dn=L.fcmOptions)||void 0===dn?void 0:dn.analytics_label;Wn&&(k.fcmOptions.analyticsLabel=Wn)}(L,k),L}function en(k,L){const ie=[];for(let Be=0;Be<k.length;Be++)ie.push(k.charAt(Be)),Be<L.length&&ie.push(L.charAt(Be));return ie.join("")}function Qn(k){return ro.create("missing-app-config-values",{valueName:k})}en("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),en("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gi{constructor(L,ie,Be){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const yt=function fn(k){if(!k||!k.options)throw Qn("App Configuration Object");if(!k.name)throw Qn("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=k;for(const Be of L)if(!ie[Be])throw Qn(Be);return{appName:k.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:yt,installations:ie,analyticsProvider:Be}}_delete(){return Promise.resolve()}}function Ci(){return(Ci=(0,m.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(W,{scope:H}),k.swRegistration.update().catch(()=>{})}catch(L){throw ro.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function Ji(){return(Ji=(0,m.Z)(function*(k,L){if(!L&&!k.swRegistration&&(yield function Ai(k){return Ci.apply(this,arguments)}(k)),L||!k.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw ro.create("invalid-sw-registration");k.swRegistration=L}})).apply(this,arguments)}function Kr(){return(Kr=(0,m.Z)(function*(k,L){L?k.vapidKey=L:k.vapidKey||(k.vapidKey=v)})).apply(this,arguments)}function Zr(){return Zr=(0,m.Z)(function*(k,L){if(!navigator)throw ro.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ro.create("permission-blocked");return yield function Gn(k,L){return Kr.apply(this,arguments)}(k,L?.vapidKey),yield function Di(k,L){return Ji.apply(this,arguments)}(k,L?.serviceWorkerRegistration),function Ra(k){return Ks.apply(this,arguments)}(k)}),Zr.apply(this,arguments)}function Ro(){return(Ro=(0,m.Z)(function*(k,L,ie){const Be=function Ys(k){switch(k){case Zn.NOTIFICATION_CLICKED:return"notification_open";case Zn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(Be,{message_id:ie[ne],message_name:ie[Me],message_time:ie[ft],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ys(){return ys=(0,m.Z)(function*(k,L){const ie=L.data;if(!ie.isFirebaseMessaging)return;k.onMessageHandler&&ie.messageType===Zn.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(P(ie)):k.onMessageHandler.next(P(ie)));const Be=ie.data;(function Xe(k){return"object"==typeof k&&!!k&&ne in k})(Be)&&"1"===Be["google.c.a.e"]&&(yield function wa(k,L,ie){return Ro.apply(this,arguments)}(k,ie.messageType,Be))}),ys.apply(this,arguments)}const sc="@firebase/messaging",xc=k=>{const L=new Gi(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function cs(k,L){return ys.apply(this,arguments)}(L,ie)),L},Ec=k=>{const L=k.getProvider("messaging").getImmediate();return{getToken:Be=>function bs(k,L){return Zr.apply(this,arguments)}(L,Be)}};function or(){return _o.apply(this,arguments)}function _o(){return(_o=(0,m.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function In(){(0,ee._registerComponent)(new re.wA("messaging",xc,"PUBLIC")),(0,ee._registerComponent)(new re.wA("messaging-internal",Ec,"PRIVATE")),(0,ee.registerVersion)(sc,"0.12.4"),(0,ee.registerVersion)(sc,"0.12.4","esm2017")}();const ni="analytics",di="firebase_id",Ts="origin",Un=6e4,nn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",En="https://www.googletagmanager.com/gtag/js",Pi=new K.Yd("@firebase/analytics"),Po=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jc(k){if(!k.startsWith(En)){const L=Po.create("invalid-gtag-resource",{gtagURL:k});return Pi.warn(L.message),""}return k}function xa(k){return Promise.all(k.map(L=>L.catch(ie=>ie)))}function y(){return(y=(0,m.Z)(function*(k,L,ie,Be,yt,Ht){const dn=Be[yt];try{if(dn)yield L[dn];else{const Wn=(yield xa(ie)).find(_i=>_i.measurementId===yt);Wn&&(yield L[Wn.appId])}}catch(Yn){Pi.error(Yn)}k("config",yt,Ht)})).apply(this,arguments)}function T(){return(T=(0,m.Z)(function*(k,L,ie,Be,yt){try{let Ht=[];if(yt&&yt.send_to){let dn=yt.send_to;Array.isArray(dn)||(dn=[dn]);const Yn=yield xa(ie);for(const Wn of dn){const _i=Yn.find(Fi=>Fi.measurementId===Wn),Vi=_i&&L[_i.appId];if(!Vi){Ht=[];break}Ht.push(Vi)}}0===Ht.length&&(Ht=Object.values(L)),yield Promise.all(Ht),k("event",Be,yt||{})}catch(Ht){Pi.error(Ht)}})).apply(this,arguments)}const ot=30,wn=new class hn{constructor(L={},ie=1e3){this.throttleMetadata=L,this.intervalMillis=ie}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,ie){this.throttleMetadata[L]=ie}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function jn(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function x(){return(x=(0,m.Z)(function*(k){var L;const{appId:ie,apiKey:Be}=k,yt={method:"GET",headers:jn(Be)},Ht=nn.replace("{app-id}",ie),dn=yield fetch(Ht,yt);if(200!==dn.status&&304!==dn.status){let Yn="";try{const Wn=yield dn.json();null!==(L=Wn.error)&&void 0!==L&&L.message&&(Yn=Wn.error.message)}catch{}throw Po.create("config-fetch-failed",{httpStatus:dn.status,responseMessage:Yn})}return dn.json()})).apply(this,arguments)}function w(){return(w=(0,m.Z)(function*(k,L=wn,ie){const{appId:Be,apiKey:yt,measurementId:Ht}=k.options;if(!Be)throw Po.create("no-app-id");if(!yt){if(Ht)return{measurementId:Ht,appId:Be};throw Po.create("no-api-key")}const dn=L.getThrottleMetadata(Be)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yn=new Dt;return setTimeout((0,m.Z)(function*(){Yn.abort()}),void 0!==ie?ie:Un),F({appId:Be,apiKey:yt,measurementId:Ht},dn,Yn,L)})).apply(this,arguments)}function F(k,L,ie){return X.apply(this,arguments)}function X(){return X=(0,m.Z)(function*(k,{throttleEndTimeMillis:L,backoffCount:ie},Be,yt=wn){var Ht;const{appId:dn,measurementId:Yn}=k;try{yield function ye(k,L){return new Promise((ie,Be)=>{const yt=Math.max(L-Date.now(),0),Ht=setTimeout(ie,yt);k.addEventListener(()=>{clearTimeout(Ht),Be(Po.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(Be,L)}catch(Wn){if(Yn)return Pi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yn} provided in the "measurementId" field in the local Firebase config. [${Wn?.message}]`),{appId:dn,measurementId:Yn};throw Wn}try{const Wn=yield function ui(k){return x.apply(this,arguments)}(k);return yt.deleteThrottleMetadata(dn),Wn}catch(Wn){const _i=Wn;if(!function Te(k){if(!(k instanceof Ee.ZR&&k.customData))return!1;const L=Number(k.customData.httpStatus);return 429===L||500===L||503===L||504===L}(_i)){if(yt.deleteThrottleMetadata(dn),Yn)return Pi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yn} provided in the "measurementId" field in the local Firebase config. [${_i?.message}]`),{appId:dn,measurementId:Yn};throw Wn}const Vi=503===Number(null===(Ht=_i?.customData)||void 0===Ht?void 0:Ht.httpStatus)?(0,Ee.$s)(ie,yt.intervalMillis,ot):(0,Ee.$s)(ie,yt.intervalMillis),Fi={throttleEndTimeMillis:Date.now()+Vi,backoffCount:ie+1};return yt.setThrottleMetadata(dn,Fi),Pi.debug(`Calling attemptFetch again in ${Vi} millis`),F(k,Fi,Be,yt)}}),X.apply(this,arguments)}class Dt{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Cn,mi;function Vn(){return(Vn=(0,m.Z)(function*(k,L,ie,Be,yt){if(yt&&yt.global)k("event",ie,Be);else{const Ht=yield L;k("event",ie,Object.assign(Object.assign({},Be),{send_to:Ht}))}})).apply(this,arguments)}function hs(){return(hs=(0,m.Z)(function*(){if(!(0,Ee.hl)())return Pi.warn(Po.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(k){return Pi.warn(Po.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function xr(){return xr=(0,m.Z)(function*(k,L,ie,Be,yt,Ht,dn){var Yn;const Wn=function S(k){return w.apply(this,arguments)}(k);Wn.then(_r=>{ie[_r.measurementId]=_r.appId,k.options.measurementId&&_r.measurementId!==k.options.measurementId&&Pi.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>Pi.error(_r)),L.push(Wn);const _i=function ta(){return hs.apply(this,arguments)}().then(_r=>{if(_r)return Be.getId()}),[Vi,Fi]=yield Promise.all([Wn,_i]);(function rt(k){const L=window.document.getElementsByTagName("script");for(const ie of Object.values(L))if(ie.src&&ie.src.includes(En)&&ie.src.includes(k))return ie;return null})(Ht)||function cc(k,L){const ie=function Sa(k,L){let ie;return window.trustedTypes&&(ie=window.trustedTypes.createPolicy(k,L)),ie}("firebase-js-sdk-policy",{createScriptURL:jc}),Be=document.createElement("script"),yt=`${En}?l=${k}&id=${L}`;Be.src=ie?ie?.createScriptURL(yt):yt,Be.async=!0,document.head.appendChild(Be)}(Ht,Vi.measurementId),mi&&(yt("consent","default",mi),function sr(k){mi=k}(void 0)),yt("js",new Date);const As=null!==(Yn=dn?.config)&&void 0!==Yn?Yn:{};return As[Ts]="firebase",As.update=!0,null!=Fi&&(As[di]=Fi),yt("config",Vi.measurementId,As),Cn&&(yt("set",Cn),function Qr(k){Cn=k}(void 0)),Vi.measurementId}),xr.apply(this,arguments)}class Zo{constructor(L){this.app=L}_delete(){return delete Bs[this.app.options.appId],Promise.resolve()}}let Bs={},mo=[];const na={};let $a,ms,cr="dataLayer",Cc=!1;function ml(k,L,ie){!function hl(){const k=[];if((0,Ee.ru)()&&k.push("This is a browser extension environment."),(0,Ee.zI)()||k.push("Cookies are not available."),k.length>0){const L=k.map((Be,yt)=>`(${yt+1}) ${Be}`).join(" "),ie=Po.create("invalid-analytics-context",{errorInfo:L});Pi.warn(ie.message)}}();const Be=k.options.appId;if(!Be)throw Po.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Po.create("no-api-key");Pi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bs[Be])throw Po.create("already-exists",{id:Be});if(!Cc){!function Fa(k){let L=[];Array.isArray(window[k])?L=window[k]:window[k]=L}(cr);const{wrappedGtag:Ht,gtagCore:dn}=function me(k,L,ie,Be,yt){let Ht=function(...dn){window[Be].push(arguments)};return window[yt]&&"function"==typeof window[yt]&&(Ht=window[yt]),window[yt]=function j(k,L,ie,Be){function Ht(){return Ht=(0,m.Z)(function*(dn,...Yn){try{if("event"===dn){const[Wn,_i]=Yn;yield function g(k,L,ie,Be,yt){return T.apply(this,arguments)}(k,L,ie,Wn,_i)}else if("config"===dn){const[Wn,_i]=Yn;yield function V(k,L,ie,Be,yt,Ht){return y.apply(this,arguments)}(k,L,ie,Be,Wn,_i)}else if("consent"===dn){const[Wn]=Yn;k("consent","update",Wn)}else if("get"===dn){const[Wn,_i,Vi]=Yn;k("get",Wn,_i,Vi)}else if("set"===dn){const[Wn]=Yn;k("set",Wn)}else k(dn,...Yn)}catch(Wn){Pi.error(Wn)}}),Ht.apply(this,arguments)}return function yt(dn){return Ht.apply(this,arguments)}}(Ht,k,L,ie),{gtagCore:Ht,wrappedGtag:window[yt]}}(Bs,mo,na,cr,"gtag");ms=Ht,$a=dn,Cc=!0}return Bs[Be]=function Na(k,L,ie,Be,yt,Ht,dn){return xr.apply(this,arguments)}(k,mo,na,L,$a,cr,ie),new Zo(k)}function Gl(){return La.apply(this,arguments)}function La(){return(La=(0,m.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const Zl="@firebase/analytics";!function Wa(){(0,ee._registerComponent)(new re.wA(ni,(L,{options:ie})=>ml(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),ie),"PUBLIC")),(0,ee._registerComponent)(new re.wA("analytics-internal",function k(L){try{const ie=L.getProvider(ni).getImmediate();return{logEvent:(Be,yt,Ht)=>function Ga(k,L,ie,Be){k=(0,Ee.m9)(k),function ai(k,L,ie,Be,yt){return Vn.apply(this,arguments)}(ms,Bs[k.app.options.appId],L,ie,Be).catch(yt=>Pi.error(yt))}(ie,Be,yt,Ht)}}catch(ie){throw Po.create("interop-component-reg-failed",{reason:ie})}},"PRIVATE")),(0,ee.registerVersion)(Zl,"0.10.0"),(0,ee.registerVersion)(Zl,"0.10.0","esm2017")}();var Rd=E(4408),Hc=E(7565);const xs=new class ql extends Hc.v{}(class Yl extends Rd.o{constructor(L,ie){super(L,ie),this.scheduler=L,this.work=ie}schedule(L,ie=0){return ie>0?super.schedule(L,ie):(this.delay=ie,this.state=L,this.scheduler.flush(this),this)}execute(L,ie){return ie>0||this.closed?super.execute(L,ie):this._execute(L,ie)}requestAsyncId(L,ie,Be=0){return null!=Be&&Be>0||null==Be&&this.delay>0?super.requestAsyncId(L,ie,Be):(L.flush(this),0)}});var ia=E(4986),Ba=E(8505),Er=E(5363),dc=E(9468);const fs=new d.GfV("7.6.1"),Cr="__angularfire_symbol__analyticsIsSupportedValue",Ql="__angularfire_symbol__analyticsIsSupported",Ua="__angularfire_symbol__remoteConfigIsSupportedValue",Us="__angularfire_symbol__remoteConfigIsSupported",vl="__angularfire_symbol__messagingIsSupportedValue",Pd="__angularfire_symbol__messagingIsSupported";function Ka(k,L,ie){if(L){if(1===L.length)return L[0];const Ht=L.filter(dn=>dn.app===ie);if(1===Ht.length)return Ht[0]}return ie.container.getProvider(k).getImmediate({optional:!0})}globalThis[Ql]||(globalThis[Ql]=Gl().then(k=>globalThis[Cr]=k).catch(()=>globalThis[Cr]=!1)),globalThis[Pd]||(globalThis[Pd]=or().then(k=>globalThis[vl]=k).catch(()=>globalThis[vl]=!1)),globalThis[Us]||(globalThis[Us]=Fs().then(k=>globalThis[Ua]=k).catch(()=>globalThis[Ua]=!1));const $c=(k,L)=>{const ie=L?[L]:(0,C.C6)(),Be=[];return ie.forEach(yt=>{yt.container.getProvider(k).instances.forEach(dn=>{Be.includes(dn)||Be.push(dn)})}),Be};function co(){}class Tc{constructor(L,ie=xs){this.zone=L,this.delegate=ie}now(){return this.delegate.now()}schedule(L,ie,Be){const yt=this.zone;return this.delegate.schedule(function(dn){yt.runGuarded(()=>{L.apply(this,[dn])})},ie,Be)}}class Mc{constructor(L){this.zone=L,this.task=null}call(L,ie){const Be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),ie.pipe((0,Ba.b)({next:Be,complete:Be,error:Be})).subscribe(L).add(Be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Za=(()=>{class k{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new Tc(Zone.current)),this.insideAngular=ie.run(()=>new Tc(Zone.current,ia.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(ie){return new(ie||k)(d.LFG(d.R0b))},k.\u0275prov=d.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function oo(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function ra(k){return k.pipe((0,Er.Q)(oo().outsideAngular))}function Va(k){return oo(),function Nu(k){return function(ie){return(ie=ie.lift(new Mc(k.ngZone))).pipe((0,dc.R)(k.outsideAngular),(0,Er.Q)(k.insideAngular))}}(oo())(k)}},1389:(vn,it,E)=>{E.d(it,{$:()=>W,A:()=>ue,D:()=>Ve,I:()=>dr,J:()=>_s,L:()=>li,N:()=>Ct,P:()=>Na,Q:()=>Qi,R:()=>Ms,U:()=>is,V:()=>Fs,W:()=>ks,X:()=>Gr,Y:()=>br,Z:()=>ho,_:()=>Vo,a:()=>Pa,a0:()=>v,a1:()=>ne,a2:()=>Mn,a3:()=>Lr,a4:()=>Hi,a5:()=>Si,a6:()=>io,a7:()=>Fr,a8:()=>rs,a9:()=>vs,aA:()=>Z,aB:()=>Ua,aC:()=>Fe,aD:()=>$t,aE:()=>Er,aF:()=>gl,aG:()=>Bh,aH:()=>wi,aL:()=>wr,aO:()=>Bo,aa:()=>Ls,ab:()=>ca,ac:()=>Ta,ad:()=>ba,ae:()=>la,af:()=>ya,ai:()=>da,aj:()=>Ks,ak:()=>os,an:()=>q,ao:()=>J,aq:()=>Kr,ar:()=>sc,as:()=>Le,at:()=>Pe,au:()=>ae,av:()=>he,aw:()=>As,ax:()=>Yo,ay:()=>Y,az:()=>Ce,b:()=>ls,c:()=>ms,d:()=>ml,e:()=>ma,f:()=>Zl,g:()=>ql,h:()=>Rd,i:()=>pt,j:()=>ia,k:()=>oa,l:()=>us,m:()=>Fd,o:()=>Bd,p:()=>ve,r:()=>vi,s:()=>Gt,u:()=>ta});var d=E(5861),C=E(2090),m=E(6881),ee=E(7582),Ee=E(1877),re=E(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new Ee.Yd("@firebase/auth");function wt(I,...f){Ue.logLevel<=Ee.in.ERROR&&Ue.error(`Auth (${m.SDK_VERSION}): ${I}`,...f)}function he(I,...f){throw Ge(I,...f)}function Ce(I,...f){return Ge(I,...f)}function ge(I,f,_){const R=Object.assign(Object.assign({},lt()),{[f]:_});return new C.LL("auth","Firebase",R).create(f,{appName:I.name})}function Ae(I,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&he(I,"argument-error"),ge(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(I,...f){if("string"!=typeof I){const _=f[0],R=[...f.slice(1)];return R[0]&&(R[0].appName=I.name),I._errorFactory.create(_,...R)}return Qe.create(I,...f)}function Z(I,f,..._){if(!I)throw Ge(f,..._)}function Ke(I){const f="INTERNAL ASSERTION FAILED: "+I;throw wt(f),new Error(f)}function Le(I,f){I||Ke(f)}function Ze(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function xt(){return"http:"===yn()||"https:"===yn()}function yn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class gt{constructor(f,_){this.shortDelay=f,this.longDelay=_,Le(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return function Rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,C.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lt(I,f){Le(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class Vt{static initialize(f,_,R){this.fetchImpl=f,_&&(this.headersImpl=_),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qt=new gt(3e4,6e4);function un(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function _n(I,f,_,R){return on.apply(this,arguments)}function on(){return(on=(0,d.Z)(function*(I,f,_,R,se={}){return Rt(I,se,(0,d.Z)(function*(){let Ie={},Pt={};R&&("GET"===f?Pt=R:Ie={body:JSON.stringify(R)});const rn=(0,C.xO)(Object.assign({key:I.config.apiKey},Pt)).slice(1),Ln=yield I._getAdditionalHeaders();return Ln["Content-Type"]="application/json",I.languageCode&&(Ln["X-Firebase-Locale"]=I.languageCode),Vt.fetch()(Et(I,I.config.apiHost,_,rn),Object.assign({method:f,headers:Ln,referrerPolicy:"no-referrer"},Ie))}))})).apply(this,arguments)}function Rt(I,f,_){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,d.Z)(function*(I,f,_){I._canInitEmulator=!1;const R=Object.assign(Object.assign({},Jt),f);try{const se=new zt(I),Ie=yield Promise.race([_(),se.promise]);se.clearNetworkTimeout();const Pt=yield Ie.json();if("needConfirmation"in Pt)throw St(I,"account-exists-with-different-credential",Pt);if(Ie.ok&&!("errorMessage"in Pt))return Pt;{const rn=Ie.ok?Pt.errorMessage:Pt.error.message,[Ln,ii]=rn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ln)throw St(I,"credential-already-in-use",Pt);if("EMAIL_EXISTS"===Ln)throw St(I,"email-already-in-use",Pt);if("USER_DISABLED"===Ln)throw St(I,"user-disabled",Pt);const bi=R[Ln]||Ln.toLowerCase().replace(/[_\s]+/g,"-");if(ii)throw ge(I,bi,ii);he(I,bi)}}catch(se){if(se instanceof C.ZR)throw se;he(I,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function tt(I,f,_,R){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(I,f,_,R,se={}){const Ie=yield _n(I,f,_,R,se);return"mfaPendingCredential"in Ie&&he(I,"multi-factor-auth-required",{_serverResponse:Ie}),Ie})).apply(this,arguments)}function Et(I,f,_,R){const se=`${f}${_}?${R}`;return I.config.emulator?Lt(I.config,se):`${I.config.apiScheme}://${se}`}class zt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,R)=>{this.timer=setTimeout(()=>R(Ce(this.auth,"network-request-failed")),Qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function St(I,f,_){const R={appName:I.name};_.email&&(R.email=_.email),_.phoneNumber&&(R.phoneNumber=_.phoneNumber);const se=Ce(I,f,R);return se.customData._tokenResponse=_,se}function dt(){return(dt=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Mt(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ht(){return(ht=(0,d.Z)(function*(I,f=!1){const _=(0,C.m9)(I),R=yield _.getIdToken(f),se=kt(R);Z(se&&se.exp&&se.auth_time&&se.iat,_.auth,"internal-error");const Ie="object"==typeof se.firebase?se.firebase:void 0,Pt=Ie?.sign_in_provider;return{claims:se,token:R,authTime:Mt(ut(se.auth_time)),issuedAtTime:Mt(ut(se.iat)),expirationTime:Mt(ut(se.exp)),signInProvider:Pt||null,signInSecondFactor:Ie?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(I){return 1e3*Number(I)}function kt(I){const[f,_,R]=I.split(".");if(void 0===f||void 0===_||void 0===R)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,C.tV)(_);return se?JSON.parse(se):(wt("Failed to decode base64 JWT payload"),null)}catch(se){return wt("Caught error parsing JWT payload as JSON",se?.toString()),null}}function an(I,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(I,f,_=!1){if(_)return f;try{return yield f}catch(R){throw R instanceof C.ZR&&function oi({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(R)&&I.auth.currentUser===I&&(yield I.auth.signOut()),R}})).apply(this,arguments)}class Dn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const se=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const R=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),R)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&f.schedule(!0))}f.schedule()})()}}class cn{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mt(this.lastLoginAt),this.creationTime=Mt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(I){return je.apply(this,arguments)}function je(){return je=(0,d.Z)(function*(I){var f;const _=I.auth,R=yield I.getIdToken(),se=yield an(I,function bn(I,f){return mn.apply(this,arguments)}(_,{idToken:R}));Z(se?.users.length,_,"internal-error");const Ie=se.users[0];I._notifyReloadListener(Ie);const Pt=null!==(f=Ie.providerUserInfo)&&void 0!==f&&f.length?function fi(I){return I.map(f=>{var{providerId:_}=f,R=(0,ee._T)(f,["providerId"]);return{providerId:_,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(Ie.providerUserInfo):[],rn=function An(I,f){return[...I.filter(R=>!f.some(se=>se.providerId===R.providerId)),...f]}(I.providerData,Pt),bi=!!I.isAnonymous&&!(I.email&&Ie.passwordHash||rn?.length),ar={uid:Ie.localId,displayName:Ie.displayName||null,photoURL:Ie.photoUrl||null,email:Ie.email||null,emailVerified:Ie.emailVerified||!1,phoneNumber:Ie.phoneNumber||null,tenantId:Ie.tenantId||null,providerData:rn,metadata:new cn(Ie.createdAt,Ie.lastLoginAt),isAnonymous:bi};Object.assign(I,ar)}),je.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(I){const f=(0,C.m9)(I);yield Hn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(I,f){const _=yield Rt(I,{},(0,d.Z)(function*(){const R=(0,C.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:se,apiKey:Ie}=I.config,Pt=Et(I,se,"/v1/token",`key=${Ie}`),rn=yield I._getAdditionalHeaders();return rn["Content-Type"]="application/x-www-form-urlencoded",Vt.fetch()(Pt,{method:"POST",headers:rn,body:R})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Z(f.idToken,"internal-error"),Z(typeof f.idToken<"u","internal-error"),Z(typeof f.refreshToken<"u","internal-error");const _="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Yt(I){const f=kt(I);return Z(f,"internal-error"),Z(typeof f.exp<"u","internal-error"),Z(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}getToken(f,_=!1){var R=this;return(0,d.Z)(function*(){return Z(!R.accessToken||R.refreshToken,f,"user-token-expired"),_||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(f,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var R=this;return(0,d.Z)(function*(){const{accessToken:se,refreshToken:Ie,expiresIn:Pt}=yield function ei(I,f){return yi.apply(this,arguments)}(f,_);R.updateTokensAndExpiration(se,Ie,Number(Pt))})()}updateTokensAndExpiration(f,_,R){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(f,_){const{refreshToken:R,accessToken:se,expirationTime:Ie}=_,Pt=new qt;return R&&(Z("string"==typeof R,"internal-error",{appName:f}),Pt.refreshToken=R),se&&(Z("string"==typeof se,"internal-error",{appName:f}),Pt.accessToken=se),Ie&&(Z("number"==typeof Ie,"internal-error",{appName:f}),Pt.expirationTime=Ie),Pt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function nt(I,f){Z("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class ct{constructor(f){var{uid:_,auth:R,stsTokenManager:se}=f,Ie=(0,ee._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=R,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=Ie.displayName||null,this.email=Ie.email||null,this.emailVerified=Ie.emailVerified||!1,this.phoneNumber=Ie.phoneNumber||null,this.photoURL=Ie.photoURL||null,this.isAnonymous=Ie.isAnonymous||!1,this.tenantId=Ie.tenantId||null,this.providerData=Ie.providerData?[...Ie.providerData]:[],this.metadata=new cn(Ie.createdAt||void 0,Ie.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,d.Z)(function*(){const R=yield an(_,_.stsTokenManager.getToken(_.auth,f));return Z(R,_.auth,"internal-error"),_.accessToken!==R&&(_.accessToken=R,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),R})()}getIdTokenResult(f){return function Ne(I){return ht.apply(this,arguments)}(this,f)}reload(){return function It(I){return Wt.apply(this,arguments)}(this)}_assign(f){this!==f&&(Z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const _=new ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(f){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var R=this;return(0,d.Z)(function*(){let se=!1;f.idToken&&f.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(f),se=!0),_&&(yield Hn(R)),yield R.auth._persistUserIfCurrent(R),se&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var f=this;return(0,d.Z)(function*(){const _=yield f.getIdToken();return yield an(f,function At(I,f){return dt.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var R,se,Ie,Pt,rn,Ln,ii,bi;const ar=null!==(R=_.displayName)&&void 0!==R?R:void 0,pa=null!==(se=_.email)&&void 0!==se?se:void 0,sa=null!==(Ie=_.phoneNumber)&&void 0!==Ie?Ie:void 0,Ud=null!==(Pt=_.photoURL)&&void 0!==Pt?Pt:void 0,bl=null!==(rn=_.tenantId)&&void 0!==rn?rn:void 0,Bu=null!==(Ln=_._redirectEventId)&&void 0!==Ln?Ln:void 0,Vd=null!==(ii=_.createdAt)&&void 0!==ii?ii:void 0,kc=null!==(bi=_.lastLoginAt)&&void 0!==bi?bi:void 0,{uid:Gc,emailVerified:uc,isAnonymous:$s,providerData:yl,stsTokenManager:Xa}=_;Z(Gc&&Xa,f,"internal-error");const wl=qt.fromJSON(this.name,Xa);Z("string"==typeof Gc,f,"internal-error"),nt(ar,f.name),nt(pa,f.name),Z("boolean"==typeof uc,f,"internal-error"),Z("boolean"==typeof $s,f,"internal-error"),nt(sa,f.name),nt(Ud,f.name),nt(bl,f.name),nt(Bu,f.name),nt(Vd,f.name),nt(kc,f.name);const Wc=new ct({uid:Gc,auth:f,email:pa,emailVerified:uc,displayName:ar,isAnonymous:$s,photoURL:Ud,phoneNumber:sa,tenantId:bl,stsTokenManager:wl,createdAt:Vd,lastLoginAt:kc});return yl&&Array.isArray(yl)&&(Wc.providerData=yl.map(xl=>Object.assign({},xl))),Bu&&(Wc._redirectEventId=Bu),Wc}static _fromIdTokenResponse(f,_,R=!1){return(0,d.Z)(function*(){const se=new qt;se.updateFromServerResponse(_);const Ie=new ct({uid:_.localId,auth:f,stsTokenManager:se,isAnonymous:R});return yield Hn(Ie),Ie})()}}const He=new Map;function Fe(I){Le(I instanceof Function,"Expected a class definition");let f=He.get(I);return f?(Le(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,He.set(I,f),f)}const Ct=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,R){var se=this;return(0,d.Z)(function*(){se.storage[_]=R})()}_get(_){var R=this;return(0,d.Z)(function*(){const se=R.storage[_];return void 0===se?null:se})()}_remove(_){var R=this;return(0,d.Z)(function*(){delete R.storage[_]})()}_addListener(_,R){}_removeListener(_,R){}}return I.type="NONE",I})();function $t(I,f,_){return`firebase:${I}:${f}:${_}`}class Re{constructor(f,_,R){this.persistence=f,this.auth=_,this.userKey=R;const{config:se,name:Ie}=this.auth;this.fullUserKey=$t(this.userKey,se.apiKey,Ie),this.fullPersistenceKey=$t("persistence",se.apiKey,Ie),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?ct._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,d.Z)(function*(){if(_.persistence===f)return;const R=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,R?_.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,R="authUser"){return(0,d.Z)(function*(){if(!_.length)return new Re(Fe(Ct),f,R);const se=(yield Promise.all(_.map(function(){var ii=(0,d.Z)(function*(bi){if(yield bi._isAvailable())return bi});return function(bi){return ii.apply(this,arguments)}}()))).filter(ii=>ii);let Ie=se[0]||Fe(Ct);const Pt=$t(R,f.config.apiKey,f.name);let rn=null;for(const ii of _)try{const bi=yield ii._get(Pt);if(bi){const ar=ct._fromJSON(f,bi);ii!==Ie&&(rn=ar),Ie=ii;break}}catch{}const Ln=se.filter(ii=>ii._shouldAllowMigration);return Ie._shouldAllowMigration&&Ln.length?(Ie=Ln[0],rn&&(yield Ie._set(Pt,rn.toJSON())),yield Promise.all(_.map(function(){var ii=(0,d.Z)(function*(bi){if(bi!==Ie)try{yield bi._remove(Pt)}catch{}});return function(bi){return ii.apply(this,arguments)}}())),new Re(Ie,f,R)):new Re(Ie,f,R)})()}}function ce(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(le(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(z(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(xe(f))return"Blackberry";if(Oe(f))return"Webos";if(U(f))return"Safari";if((f.includes("chrome/")||$(f))&&!f.includes("edge/"))return"Chrome";if(ae(f))return"Android";{const R=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function z(I=(0,C.z$)()){return/firefox\//i.test(I)}function U(I=(0,C.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function $(I=(0,C.z$)()){return/crios\//i.test(I)}function le(I=(0,C.z$)()){return/iemobile/i.test(I)}function ae(I=(0,C.z$)()){return/android/i.test(I)}function xe(I=(0,C.z$)()){return/blackberry/i.test(I)}function Oe(I=(0,C.z$)()){return/webos/i.test(I)}function Pe(I=(0,C.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Y(I=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Bt(I=(0,C.z$)()){return Pe(I)||ae(I)||Oe(I)||xe(I)||/windows phone/i.test(I)||le(I)}function ri(I,f=[]){let _;switch(I){case"Browser":_=ce((0,C.z$)());break;case"Worker":_=`${ce((0,C.z$)())}-${I}`;break;default:_=I}const R=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${m.SDK_VERSION}/${R}`}function Tt(){return(Tt=(0,d.Z)(function*(I){return(yield _n(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xn(I,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(I,f){return _n(I,"GET","/v2/recaptchaConfig",un(I,f))})).apply(this,arguments)}function Pn(I){return void 0!==I&&void 0!==I.getResponse}function zn(I){return void 0!==I&&void 0!==I.enterprise}class pi{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Ti(I){return new Promise((f,_)=>{const R=document.createElement("script");R.setAttribute("src",I),R.onload=f,R.onerror=se=>{const Ie=Ce("internal-error");Ie.customData=se,_(Ie)},R.type="text/javascript",R.charset="UTF-8",function nr(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(R)})}function Dr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class qi{constructor(f){this.type="recaptcha-enterprise",this.auth=wi(f)}verify(f="verify",_=!1){var R=this;return(0,d.Z)(function*(){function Ie(){return Ie=(0,d.Z)(function*(rn){if(!_){if(null==rn.tenantId&&null!=rn._agentRecaptchaConfig)return rn._agentRecaptchaConfig.siteKey;if(null!=rn.tenantId&&void 0!==rn._tenantRecaptchaConfigs[rn.tenantId])return rn._tenantRecaptchaConfigs[rn.tenantId].siteKey}return new Promise(function(){var Ln=(0,d.Z)(function*(ii,bi){xn(rn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ar=>{if(void 0!==ar.recaptchaKey){const pa=new pi(ar);return null==rn.tenantId?rn._agentRecaptchaConfig=pa:rn._tenantRecaptchaConfigs[rn.tenantId]=pa,ii(pa.siteKey)}bi(new Error("recaptcha Enterprise site key undefined"))}).catch(ar=>{bi(ar)})});return function(ii,bi){return Ln.apply(this,arguments)}}())}),Ie.apply(this,arguments)}function Pt(rn,Ln,ii){const bi=window.grecaptcha;zn(bi)?bi.enterprise.ready(()=>{bi.enterprise.execute(rn,{action:f}).then(ar=>{Ln(ar)}).catch(()=>{Ln("NO_RECAPTCHA")})}):ii(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rn,Ln)=>{(function se(rn){return Ie.apply(this,arguments)})(R.auth).then(ii=>{if(!_&&zn(window.grecaptcha))Pt(ii,rn,Ln);else{if(typeof window>"u")return void Ln(new Error("RecaptchaVerifier is only supported in browser"));Ti("https://www.google.com/recaptcha/enterprise.js?render="+ii).then(()=>{Pt(ii,rn,Ln)}).catch(bi=>{Ln(bi)})}}).catch(ii=>{Ln(ii)})})})()}}function Jr(I,f,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(I,f,_,R=!1){const se=new qi(I);let Ie;try{Ie=yield se.verify(_)}catch{Ie=yield se.verify(_,!0)}const Pt=Object.assign({},f);return Object.assign(Pt,R?{captchaResp:Ie}:{captchaResponse:Ie}),Object.assign(Pt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Pt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Pt})).apply(this,arguments)}class jr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const R=Ie=>new Promise((Pt,rn)=>{try{Pt(f(Ie))}catch(Ln){rn(Ln)}});R.onAbort=_,this.queue.push(R);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===f)return;const R=[];try{for(const se of _.queue)yield se(f),se.onAbort&&R.push(se.onAbort)}catch(se){R.reverse();for(const Ie of R)try{Ie()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class ao{constructor(f,_,R,se){this.app=f,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=R,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $o(this),this.idTokenSubscription=new $o(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(f,_){var R=this;return _&&(this._popupRedirectResolver=Fe(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var se,Ie;if(!R._deleted&&(R.persistenceManager=yield Re.create(R,f),!R._deleted)){if(null!==(se=R._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(_),R.lastNotifiedUid=(null===(Ie=R.currentUser)||void 0===Ie?void 0:Ie.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUser(f){var _=this;return(0,d.Z)(function*(){var R;const se=yield _.assertedPersistence.getCurrentUser();let Ie=se,Pt=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const rn=null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId,Ln=Ie?._redirectEventId,ii=yield _.tryRedirectSignIn(f);(!rn||rn===Ln)&&ii?.user&&(Ie=ii.user,Pt=!0)}if(!Ie)return _.directlySetCurrentUser(null);if(!Ie._redirectEventId){if(Pt)try{yield _.beforeStateQueue.runMiddleware(Ie)}catch(rn){Ie=se,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(rn))}return Ie?_.reloadAndSetCurrentUserOrClear(Ie):_.directlySetCurrentUser(null)}return Z(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Ie._redirectEventId?_.directlySetCurrentUser(Ie):_.reloadAndSetCurrentUserOrClear(Ie)})()}tryRedirectSignIn(f){var _=this;return(0,d.Z)(function*(){let R=null;try{R=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch{yield _._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,d.Z)(function*(){try{yield Hn(f)}catch(R){if("auth/network-request-failed"!==R?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function _t(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,d.Z)(function*(){const R=f?(0,C.m9)(f):null;return R&&Z(R.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(R&&R._clone(_))})()}_updateCurrentUser(f,_=!1){var R=this;return(0,d.Z)(function*(){if(!R._deleted)return f&&Z(R.tenantId===f.tenantId,R,"tenant-id-mismatch"),_||(yield R.beforeStateQueue.runMiddleware(f)),R.queue((0,d.Z)(function*(){yield R.directlySetCurrentUser(f),R.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(Fe(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const _=yield xn(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new pi(_);null==f.tenantId?f._agentRecaptchaConfig=R:f._tenantRecaptchaConfigs[f.tenantId]=R,R.emailPasswordEnabled&&new qi(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new C.LL("auth","Firebase",f())}onAuthStateChanged(f,_,R){return this.registerStateListener(this.authStateSubscription,f,_,R)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,R){return this.registerStateListener(this.idTokenSubscription,f,_,R)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var R=this;return(0,d.Z)(function*(){const se=yield R.getOrInitRedirectPersistenceManager(_);return null===f?se.removeCurrentUser():se.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const R=f&&Fe(f)||_._popupRedirectResolver;Z(R,_,"argument-error"),_.redirectPersistenceManager=yield Re.create(_,[Fe(R._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,d.Z)(function*(){var R,se;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(R=_._currentUser)||void 0===R?void 0:R._redirectEventId)===f?_._currentUser:(null===(se=_.redirectUser)||void 0===se?void 0:se._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,d.Z)(function*(){if(f===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,R,se){if(this._deleted)return()=>{};const Ie="function"==typeof _?_:_.next.bind(_),Pt=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(Pt,this,"internal-error"),Pt.then(()=>Ie(this.currentUser)),"function"==typeof _?f.addObserver(_,R,se):f.addObserver(_)}directlySetCurrentUser(f){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ri(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var _;const R={"X-Client-Version":f.clientVersion};f.app.options.appId&&(R["X-Firebase-gmpid"]=f.app.options.appId);const se=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();se&&(R["X-Firebase-Client"]=se);const Ie=yield f._getAppCheckToken();return Ie&&(R["X-Firebase-AppCheck"]=Ie),R})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var _;const R=yield null===(_=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return R?.error&&function ke(I,...f){Ue.logLevel<=Ee.in.WARN&&Ue.warn(`Auth (${m.SDK_VERSION}): ${I}`,...f)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function wi(I){return(0,C.m9)(I)}class $o{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,C.ne)(_=>this.observer=_)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dr(I,f,_){const R=wi(I);Z(R._canInitEmulator,R,"emulator-config-failed"),Z(/^https?:\/\//.test(f),R,"invalid-emulator-scheme");const se=!!_?.disableWarnings,Ie=Hr(f),{host:Pt,port:rn}=function to(I){const f=Hr(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!_)return{host:"",port:null};const R=_[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(R);if(se){const Ie=se[1];return{host:Ie,port:Do(R.substr(Ie.length+1))}}{const[Ie,Pt]=R.split(":");return{host:Ie,port:Do(Pt)}}}(f);R.config.emulator={url:`${Ie}//${Pt}${null===rn?"":`:${rn}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Pt,port:rn,protocol:Ie.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function Vs(){function I(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Hr(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function Do(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class _s{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return Ke("not implemented")}_getIdTokenResponse(f){return Ke("not implemented")}_linkToIdToken(f,_){return Ke("not implemented")}_getReauthenticationResolver(f){return Ke("not implemented")}}function Go(I,f){return no.apply(this,arguments)}function no(){return(no=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:resetPassword",un(I,f))})).apply(this,arguments)}function kr(I,f){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:update",un(I,f))})).apply(this,arguments)}function Ir(I,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(I,f){return tt(I,"POST","/v1/accounts:signInWithPassword",un(I,f))})).apply(this,arguments)}function zr(I,f){return Or.apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:sendOobCode",un(I,f))})).apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(I,f){return zr(I,f)})).apply(this,arguments)}function mt(I,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(I,f){return zr(I,f)})).apply(this,arguments)}function sn(I,f){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(I,f){return zr(I,f)})).apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(I,f){return zr(I,f)})).apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(I,f){return tt(I,"POST","/v1/accounts:signInWithEmailLink",un(I,f))})).apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(I,f){return tt(I,"POST","/v1/accounts:signInWithEmailLink",un(I,f))})).apply(this,arguments)}class $i extends _s{constructor(f,_,R,se=null){super("password",R),this._email=f,this._password=_,this._tenantId=se}static _fromEmailAndPassword(f,_){return new $i(f,_,"password")}static _fromEmailAndCode(f,_,R=null){return new $i(f,_,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,d.Z)(function*(){var R;switch(_.signInMethod){case"password":const se={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=f._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Ie=yield Jr(f,se,"signInWithPassword");return Ir(f,Ie)}return Ir(f,se).catch(function(){var Ie=(0,d.Z)(function*(Pt){if("auth/missing-recaptcha-token"===Pt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rn=yield Jr(f,se,"signInWithPassword");return Ir(f,rn)}return Promise.reject(Pt)});return function(Pt){return Ie.apply(this,arguments)}}());case"emailLink":return function si(I,f){return xi.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:he(f,"internal-error")}})()}_linkToIdToken(f,_){var R=this;return(0,d.Z)(function*(){switch(R.signInMethod){case"password":return kr(f,{idToken:_,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function Nr(I,f){return hr.apply(this,arguments)}(f,{idToken:_,email:R._email,oobCode:R._password});default:he(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Mi(I,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(I,f){return tt(I,"POST","/v1/accounts:signInWithIdp",un(I,f))})).apply(this,arguments)}class li extends _s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new li(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):he("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:R,signInMethod:se}=_,Ie=(0,ee._T)(_,["providerId","signInMethod"]);if(!R||!se)return null;const Pt=new li(R,se);return Pt.idToken=Ie.idToken||void 0,Pt.accessToken=Ie.accessToken||void 0,Pt.secret=Ie.secret,Pt.nonce=Ie.nonce,Pt.pendingToken=Ie.pendingToken||null,Pt}_getIdTokenResponse(f){return Mi(f,this.buildRequest())}_linkToIdToken(f,_){const R=this.buildRequest();return R.idToken=_,Mi(f,R)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Mi(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,C.xO)(_)}return f}}function po(){return(po=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:sendVerificationCode",un(I,f))})).apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(I,f){return tt(I,"POST","/v1/accounts:signInWithPhoneNumber",un(I,f))})).apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(I,f){const _=yield tt(I,"POST","/v1/accounts:signInWithPhoneNumber",un(I,f));if(_.temporaryProof)throw St(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ts={USER_NOT_FOUND:"user-not-found"};function Ps(){return(Ps=(0,d.Z)(function*(I,f){return tt(I,"POST","/v1/accounts:signInWithPhoneNumber",un(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ts)})).apply(this,arguments)}class Li extends _s{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new Li({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new Li({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function Rr(I,f){return Zi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function Lo(I,f){return es.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ns(I,f){return Ps.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:R,verificationCode:se}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:R,code:se}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:R,phoneNumber:se,temporaryProof:Ie}=f;return R||_||se||Ie?new Li({verificationId:_,verificationCode:R,phoneNumber:se,temporaryProof:Ie}):null}}class Mo{constructor(f){var _,R,se,Ie,Pt,rn;const Ln=(0,C.zd)((0,C.pd)(f)),ii=null!==(_=Ln.apiKey)&&void 0!==_?_:null,bi=null!==(R=Ln.oobCode)&&void 0!==R?R:null,ar=function ir(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=Ln.mode)&&void 0!==se?se:null);Z(ii&&bi&&ar,"argument-error"),this.apiKey=ii,this.operation=ar,this.code=bi,this.continueUrl=null!==(Ie=Ln.continueUrl)&&void 0!==Ie?Ie:null,this.languageCode=null!==(Pt=Ln.languageCode)&&void 0!==Pt?Pt:null,this.tenantId=null!==(rn=Ln.tenantId)&&void 0!==rn?rn:null}static parseLink(f){const _=function Es(I){const f=(0,C.zd)((0,C.pd)(I)).link,_=f?(0,C.zd)((0,C.pd)(f)).deep_link_id:null,R=(0,C.zd)((0,C.pd)(I)).deep_link_id;return(R?(0,C.zd)((0,C.pd)(R)).link:null)||R||_||f||I}(f);try{return new Mo(_)}catch{return null}}}let Qi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,R){return $i._fromEmailAndPassword(_,R)}static credentialWithLink(_,R){const se=Mo.parseLink(R);return Z(se,"argument-error"),$i._fromEmailAndCode(_,se.code,se.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class So{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wo extends So{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Gr extends Wo{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return Z("providerId"in _&&"signInMethod"in _,"argument-error"),li._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Z(f.idToken||f.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Gr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Gr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:R,oauthTokenSecret:se,pendingToken:Ie,nonce:Pt,providerId:rn}=f;if(!R&&!se&&!_&&!Ie||!rn)return null;try{return new Gr(rn)._credential({idToken:_,accessToken:R,nonce:Pt,pendingToken:Ie})}catch{return null}}}let is=(()=>{class I extends Wo{constructor(){super("facebook.com")}static credential(_){return li._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Fs=(()=>{class I extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,R){return li._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:R})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:R,oauthAccessToken:se}=_;if(!R&&!se)return null;try{return I.credential(R,se)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),ks=(()=>{class I extends Wo{constructor(){super("github.com")}static credential(_){return li._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Bo extends _s{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return Mi(f,this.buildRequest())}_linkToIdToken(f,_){const R=this.buildRequest();return R.idToken=_,Mi(f,R)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Mi(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:R,signInMethod:se,pendingToken:Ie}=_;return R&&se&&Ie&&R===se?new Bo(R,Ie):null}static _create(f,_){return new Bo(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class br extends So{constructor(f){Z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return br.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return br.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=Bo.fromJSON(f);return Z(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:R}=f;if(!_||!R)return null;try{return Bo._create(R,_)}catch{return null}}}let ho=(()=>{class I extends Wo{constructor(){super("twitter.com")}static credential(_,R){return li._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:R})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:R,oauthTokenSecret:se}=_;if(!R||!se)return null;try{return I.credential(R,se)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Mr(I,f){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(I,f){return tt(I,"POST","/v1/accounts:signUp",un(I,f))})).apply(this,arguments)}class Xi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,R,se=!1){return(0,d.Z)(function*(){const Ie=yield ct._fromIdTokenResponse(f,R,se),Pt=Ao(R);return new Xi({user:Ie,providerId:Pt,_tokenResponse:R,operationType:_})})()}static _forOperation(f,_,R){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(R,!0);const se=Ao(R);return new Xi({user:f,providerId:se,_tokenResponse:R,operationType:_})})()}}function Ao(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Vo(I){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(I){var f;const _=wi(I);if(yield _._initializationPromise,null!==(f=_.currentUser)&&void 0!==f&&f.isAnonymous)return new Xi({user:_.currentUser,providerId:null,operationType:"signIn"});const R=yield Mr(_,{returnSecureToken:!0}),se=yield Xi._fromIdTokenResponse(_,"signIn",R,!0);return yield _._updateCurrentUser(se.user),se})).apply(this,arguments)}class Ns extends C.ZR{constructor(f,_,R,se){var Ie;super(_.code,_.message),this.operationType=R,this.user=se,Object.setPrototypeOf(this,Ns.prototype),this.customData={appName:f.name,tenantId:null!==(Ie=f.tenantId)&&void 0!==Ie?Ie:void 0,_serverResponse:_.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(f,_,R,se){return new Ns(f,_,R,se)}}function qe(I,f,_,R){return("reauthenticate"===f?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(Ie=>{throw"auth/multi-factor-auth-required"===Ie.code?Ns._fromErrorAndOperation(I,Ie,f,R):Ie})}function We(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function q(I,f){return at.apply(this,arguments)}function at(){return at=(0,d.Z)(function*(I,f){const _=(0,C.m9)(I);yield Bi(!0,_,f);const{providerUserInfo:R}=yield function ze(I,f){return Zt.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),se=We(R||[]);return _.providerData=_.providerData.filter(Ie=>se.has(Ie.providerId)),se.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),at.apply(this,arguments)}function tn(I,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(I,f,_=!1){const R=yield an(I,f._linkToIdToken(I.auth,yield I.getIdToken()),_);return Xi._forOperation(I,"link",R)})).apply(this,arguments)}function Bi(I,f,_){return yr.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(I,f,_){yield Hn(f);const se=!1===I?"provider-already-linked":"no-such-provider";Z(We(f.providerData).has(_)===I,f.auth,se)})).apply(this,arguments)}function Wr(I,f){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(I,f,_=!1){const{auth:R}=I,se="reauthenticate";try{const Ie=yield an(I,qe(R,se,f,I),_);Z(Ie.idToken,R,"internal-error");const Pt=kt(Ie.idToken);Z(Pt,R,"internal-error");const{sub:rn}=Pt;return Z(I.uid===rn,R,"user-mismatch"),Xi._forOperation(I,se,Ie)}catch(Ie){throw"auth/user-not-found"===Ie?.code&&he(R,"user-mismatch"),Ie}})).apply(this,arguments)}function mr(I,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(I,f,_=!1){const R="signIn",se=yield qe(I,R,f),Ie=yield Xi._fromIdTokenResponse(I,R,se);return _||(yield I._updateCurrentUser(Ie.user)),Ie})).apply(this,arguments)}function W(I,f){return H.apply(this,arguments)}function H(){return(H=(0,d.Z)(function*(I,f){return mr(wi(I),f)})).apply(this,arguments)}function v(I,f){return D.apply(this,arguments)}function D(){return(D=(0,d.Z)(function*(I,f){const _=(0,C.m9)(I);return yield Bi(!1,_,f.providerId),tn(_,f)})).apply(this,arguments)}function ne(I,f){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(I,f){return Wr((0,C.m9)(I),f)})).apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(I,f){return tt(I,"POST","/v1/accounts:signInWithCustomToken",un(I,f))})).apply(this,arguments)}function Mn(I,f){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,d.Z)(function*(I,f){const _=wi(I),R=yield function ft(I,f){return jt.apply(this,arguments)}(_,{token:f,returnSecureToken:!0}),se=yield Xi._fromIdTokenResponse(_,"signIn",R);return yield _._updateCurrentUser(se.user),se}),Zn.apply(this,arguments)}class $n{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?Ei._fromServerResponse(f,_):"totpInfo"in _?Oi._fromServerResponse(f,_):he(f,"internal-error")}}class Ei extends $n{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new Ei(_)}}class Oi extends $n{constructor(f){super("totp",f)}static _fromServerResponse(f,_){return new Oi(_)}}function fr(I,f,_){var R;Z((null===(R=_.url)||void 0===R?void 0:R.length)>0,I,"invalid-continue-uri"),Z(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Z(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(Z(_.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function Lr(I,f,_){return pr.apply(this,arguments)}function pr(){return pr=(0,d.Z)(function*(I,f,_){var R;const se=wi(I),Ie={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Pt=yield Jr(se,Ie,"getOobCode",!0);_&&fr(se,Pt,_),yield mt(se,Pt)}else _&&fr(se,Ie,_),yield mt(se,Ie).catch(function(){var Pt=(0,d.Z)(function*(rn){if("auth/missing-recaptcha-token"!==rn.code)return Promise.reject(rn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ln=yield Jr(se,Ie,"getOobCode",!0);_&&fr(se,Ln,_),yield mt(se,Ln)}});return function(rn){return Pt.apply(this,arguments)}}())}),pr.apply(this,arguments)}function Hi(I,f,_){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(I,f,_){yield Go((0,C.m9)(I),{oobCode:f,newPassword:_})})).apply(this,arguments)}function Si(I,f){return ko.apply(this,arguments)}function ko(){return ko=(0,d.Z)(function*(I,f){yield function Jo(I,f){return gi.apply(this,arguments)}((0,C.m9)(I),{oobCode:f})}),ko.apply(this,arguments)}function io(I,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(I,f){const _=(0,C.m9)(I),R=yield Go(_,{oobCode:f}),se=R.requestType;switch(Z(se,_,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(R.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(R.mfaInfo,_,"internal-error");default:Z(R.email,_,"internal-error")}let Ie=null;return R.mfaInfo&&(Ie=$n._fromServerResponse(wi(_),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:Ie},operation:se}})).apply(this,arguments)}function Fr(I,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(I,f){const{data:_}=yield io((0,C.m9)(I),f);return _.email})).apply(this,arguments)}function rs(I,f,_){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,d.Z)(function*(I,f,_){var R;const se=wi(I),Ie={returnSecureToken:!0,email:f,password:_,clientType:"CLIENT_TYPE_WEB"};let Pt;if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const ii=yield Jr(se,Ie,"signUpPassword");Pt=Mr(se,ii)}else Pt=Mr(se,Ie).catch(function(){var ii=(0,d.Z)(function*(bi){if("auth/missing-recaptcha-token"===bi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ar=yield Jr(se,Ie,"signUpPassword");return Mr(se,ar)}return Promise.reject(bi)});return function(bi){return ii.apply(this,arguments)}}());const rn=yield Pt.catch(ii=>Promise.reject(ii)),Ln=yield Xi._fromIdTokenResponse(se,"signIn",rn);return yield se._updateCurrentUser(Ln.user),Ln}),Cs.apply(this,arguments)}function vs(I,f,_){return W((0,C.m9)(I),Qi.credential(f,_))}function Ls(I,f,_){return aa.apply(this,arguments)}function aa(){return aa=(0,d.Z)(function*(I,f,_){var R;const se=wi(I),Ie={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function Pt(rn,Ln){Z(Ln.handleCodeInApp,se,"argument-error"),Ln&&fr(se,rn,Ln)}if(null!==(R=se._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const rn=yield Jr(se,Ie,"getOobCode",!0);Pt(rn,_),yield sn(se,rn)}else Pt(Ie,_),yield sn(se,Ie).catch(function(){var rn=(0,d.Z)(function*(Ln){if("auth/missing-recaptcha-token"!==Ln.code)return Promise.reject(Ln);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ii=yield Jr(se,Ie,"getOobCode",!0);Pt(ii,_),yield sn(se,ii)}});return function(Ln){return rn.apply(this,arguments)}}())}),aa.apply(this,arguments)}function ca(I,f){const _=Mo.parseLink(f);return"EMAIL_SIGNIN"===_?.operation}function Ta(I,f,_){return ro.apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(I,f,_){const R=(0,C.m9)(I),se=Qi.credentialWithLink(f,_||Ze());return Z(se._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),W(R,se)})).apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:createAuthUri",un(I,f))})).apply(this,arguments)}function ba(I,f){return js.apply(this,arguments)}function js(){return js=(0,d.Z)(function*(I,f){const R={identifier:f,continueUri:xt()?Ze():"http://localhost"},{signinMethods:se}=yield function wc(I,f){return Oo.apply(this,arguments)}((0,C.m9)(I),R);return se||[]}),js.apply(this,arguments)}function la(I,f){return Js.apply(this,arguments)}function Js(){return Js=(0,d.Z)(function*(I,f){const _=(0,C.m9)(I),se={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&fr(_.auth,se,f);const{email:Ie}=yield function Io(I,f){return bt.apply(this,arguments)}(_.auth,se);Ie!==I.email&&(yield I.reload())}),Js.apply(this,arguments)}function ya(I,f,_){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,d.Z)(function*(I,f,_){const R=(0,C.m9)(I),Ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};_&&fr(R.auth,Ie,_);const{email:Pt}=yield function ln(I,f){return Nn.apply(this,arguments)}(R.auth,Ie);Pt!==I.email&&(yield I.reload())}),Ds.apply(this,arguments)}function ea(){return(ea=(0,d.Z)(function*(I,f){return _n(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function da(I,f){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,d.Z)(function*(I,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const R=(0,C.m9)(I),Ie={idToken:yield R.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},Pt=yield an(R,function Ma(I,f){return ea.apply(this,arguments)}(R.auth,Ie));R.displayName=Pt.displayName||null,R.photoURL=Pt.photoUrl||null;const rn=R.providerData.find(({providerId:Ln})=>"password"===Ln);rn&&(rn.displayName=R.displayName,rn.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Pt)}),Ra.apply(this,arguments)}function Ks(I,f){return ss((0,C.m9)(I),f,null)}function os(I,f){return ss((0,C.m9)(I),null,f)}function ss(I,f,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,d.Z)(function*(I,f,_){const{auth:R}=I,Ie={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(Ie.email=f),_&&(Ie.password=_);const Pt=yield an(I,kr(R,Ie));yield I._updateTokensIfNecessary(Pt,!0)})).apply(this,arguments)}class rr{constructor(f,_,R={}){this.isNewUser=f,this.providerId=_,this.profile=R}}class xo extends rr{constructor(f,_,R,se){super(f,_,R),this.username=se}}class Zs extends rr{constructor(f,_){super(f,"facebook.com",_)}}class Ri extends xo{constructor(f,_){super(f,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ua extends rr{constructor(f,_){super(f,"google.com",_)}}class P extends xo{constructor(f,_,R){super(f,"twitter.com",_,R)}}function J(I){const{user:f,_tokenResponse:_}=I;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function as(I){var f,_;if(!I)return null;const{providerId:R}=I,se=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Ie=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!R&&I?.idToken){const Pt=null===(_=null===(f=kt(I.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(Pt)return new rr(Ie,"anonymous"!==Pt&&"custom"!==Pt?Pt:null)}if(!R)return null;switch(R){case"facebook.com":return new Zs(Ie,se);case"github.com":return new Ri(Ie,se);case"google.com":return new ua(Ie,se);case"twitter.com":return new P(Ie,se,I.screenName||null);case"custom":case"anonymous":return new rr(Ie,null);default:return new rr(Ie,R,se)}}(_)}class Ji{constructor(f,_,R){this.type=f,this.credential=_,this.auth=R}static _fromIdtoken(f,_){return new Ji("enroll",f,_)}static _fromMfaPendingCredential(f){return new Ji("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,R;if(f?.multiFactorSession){if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ji._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(R=f.multiFactorSession)&&void 0!==R&&R.idToken)return Ji._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Gn{constructor(f,_,R){this.session=f,this.hints=_,this.signInResolver=R}static _fromError(f,_){const R=wi(f),se=_.customData._serverResponse,Ie=(se.mfaInfo||[]).map(rn=>$n._fromServerResponse(R,rn));Z(se.mfaPendingCredential,R,"internal-error");const Pt=Ji._fromMfaPendingCredential(se.mfaPendingCredential);return new Gn(Pt,Ie,function(){var rn=(0,d.Z)(function*(Ln){const ii=yield Ln._process(R,Pt);delete se.mfaInfo,delete se.mfaPendingCredential;const bi=Object.assign(Object.assign({},se),{idToken:ii.idToken,refreshToken:ii.refreshToken});switch(_.operationType){case"signIn":const ar=yield Xi._fromIdTokenResponse(R,_.operationType,bi);return yield R._updateCurrentUser(ar.user),ar;case"reauthenticate":return Z(_.user,R,"internal-error"),Xi._forOperation(_.user,_.operationType,bi);default:he(R,"internal-error")}});return function(Ln){return rn.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,d.Z)(function*(){return _.signInResolver(f)})()}}function Kr(I,f){var _;const R=(0,C.m9)(I),se=f;return Z(f.customData.operationType,R,"argument-error"),Z(null===(_=se.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,R,"argument-error"),Gn._fromError(R,se)}class cs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(R=>$n._fromServerResponse(f.auth,R)))})}static _fromUser(f){return new cs(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Ji._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,_){var R=this;return(0,d.Z)(function*(){const se=f,Ie=yield R.getSession(),Pt=yield an(R.user,se._process(R.user.auth,Ie,_));return yield R.user._updateTokensIfNecessary(Pt),R.user.reload()})()}unenroll(f){var _=this;return(0,d.Z)(function*(){const R="string"==typeof f?f:f.uid,se=yield _.user.getIdToken();try{const Ie=yield an(_.user,function Ys(I,f){return _n(I,"POST","/v2/accounts/mfaEnrollment:withdraw",un(I,f))}(_.user.auth,{idToken:se,mfaEnrollmentId:R}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Pt})=>Pt!==R),yield _.user._updateTokensIfNecessary(Ie),yield _.user.reload()}catch(Ie){throw Ie}})()}}const ys=new WeakMap;function sc(I){const f=(0,C.m9)(I);return ys.has(f)||ys.set(f,cs._fromUser(f)),ys.get(f)}const ha="__sak";class xc{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ls=(()=>{class I extends xc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,R)=>this.onStorageEvent(_,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ec(){const I=(0,C.z$)();return U(I)||Pe(I)}()&&function qn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const R of Object.keys(this.listeners)){const se=this.storage.getItem(R),Ie=this.localCache[R];se!==Ie&&_(R,Ie,se)}}onStorageEvent(_,R=!1){if(!_.key)return void this.forAllChangedKeys((rn,Ln,ii)=>{this.notifyListeners(rn,ii)});const se=_.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rn=this.storage.getItem(se);if(_.newValue!==rn)null!==_.newValue?this.storage.setItem(se,_.newValue):this.storage.removeItem(se);else if(this.localCache[se]===_.newValue&&!R)return}const Ie=()=>{const rn=this.storage.getItem(se);!R&&this.localCache[se]===rn||this.notifyListeners(se,rn)},Pt=this.storage.getItem(se);!function vt(){return(0,C.w1)()&&10===document.documentMode}()||Pt===_.newValue||_.newValue===_.oldValue?Ie():setTimeout(Ie,10)}notifyListeners(_,R){this.localCache[_]=R;const se=this.listeners[_];if(se)for(const Ie of Array.from(se))Ie(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,R,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:R,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(R)}_removeListener(_,R){this.listeners[_]&&(this.listeners[_].delete(R),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,R){var se=()=>super._set,Ie=this;return(0,d.Z)(function*(){yield se().call(Ie,_,R),Ie.localCache[_]=JSON.stringify(R)})()}_get(_){var R=()=>super._get,se=this;return(0,d.Z)(function*(){const Ie=yield R().call(se,_);return se.localCache[_]=JSON.stringify(Ie),Ie})()}_remove(_){var R=()=>super._remove,se=this;return(0,d.Z)(function*(){yield R().call(se,_),delete se.localCache[_]})()}}return I.type="LOCAL",I})(),Pa=(()=>{class I extends xc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,R){}_removeListener(_,R){}}return I.type="SESSION",I})();let Sn=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const R=this.receivers.find(Ie=>Ie.isListeningto(_));if(R)return R;const se=new I(_);return this.receivers.push(se),se}isListeningto(_){return this.eventTarget===_}handleEvent(_){var R=this;return(0,d.Z)(function*(){const se=_,{eventId:Ie,eventType:Pt,data:rn}=se.data,Ln=R.handlersMap[Pt];if(!Ln?.size)return;se.ports[0].postMessage({status:"ack",eventId:Ie,eventType:Pt});const ii=Array.from(Ln).map(function(){var ar=(0,d.Z)(function*(pa){return pa(se.origin,rn)});return function(pa){return ar.apply(this,arguments)}}()),bi=yield function ac(I){return Promise.all(I.map(function(){var f=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(R){return{fulfilled:!1,reason:R}}});return function(_){return f.apply(this,arguments)}}()))}(ii);se.ports[0].postMessage({status:"done",eventId:Ie,eventType:Pt,response:bi})})()}_subscribe(_,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(R)}_unsubscribe(_,R){this.handlersMap[_]&&R&&this.handlersMap[_].delete(R),(!R||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function wr(I="",f=10){let _="";for(let R=0;R<f;R++)_+=Math.floor(10*Math.random());return I+_}class Is{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,R=50){var se=this;return(0,d.Z)(function*(){const Ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ie)throw new Error("connection_unavailable");let Pt,rn;return new Promise((Ln,ii)=>{const bi=wr("",20);Ie.port1.start();const ar=setTimeout(()=>{ii(new Error("unsupported_event"))},R);rn={messageChannel:Ie,onMessage(pa){const sa=pa;if(sa.data.eventId===bi)switch(sa.data.status){case"ack":clearTimeout(ar),Pt=setTimeout(()=>{ii(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pt),Ln(sa.data.response);break;default:clearTimeout(ar),clearTimeout(Pt),ii(new Error("invalid_response"))}}},se.handlers.add(rn),Ie.port1.addEventListener("message",rn.onMessage),se.target.postMessage({eventType:f,eventId:bi,data:_},[Ie.port2])}).finally(()=>{rn&&se.removeMessageHandler(rn)})})()}}function qr(){return window}function di(){return typeof qr().WorkerGlobalScope<"u"&&"function"==typeof qr().importScripts}function Un(){return(Un=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Pi="firebaseLocalStorageDb",Po="firebaseLocalStorage",jc="fbase_key";class xa{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Sa(I,f){return I.transaction([Po],f?"readwrite":"readonly").objectStore(Po)}function Fa(){const I=indexedDB.open(Pi,1);return new Promise((f,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const R=I.result;try{R.createObjectStore(Po,{keyPath:jc})}catch(se){_(se)}}),I.addEventListener("success",(0,d.Z)(function*(){const R=I.result;R.objectStoreNames.contains(Po)?f(R):(R.close(),yield function cc(){const I=indexedDB.deleteDatabase(Pi);return new xa(I).toPromise()}(),f(yield Fa()))}))})}function V(I,f,_){return y.apply(this,arguments)}function y(){return(y=(0,d.Z)(function*(I,f,_){const R=Sa(I,!0).put({[jc]:f,value:_});return new xa(R).toPromise()})).apply(this,arguments)}function T(){return(T=(0,d.Z)(function*(I,f){const _=Sa(I,!1).get(f),R=yield new xa(_).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function j(I,f){const _=Sa(I,!0).delete(f);return new xa(_).toPromise()}const pt=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield Fa()),_.db})()}_withRetries(_){var R=this;return(0,d.Z)(function*(){let se=0;for(;;)try{const Ie=yield R._openDb();return yield _(Ie)}catch(Ie){if(se++>3)throw Ie;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return di()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=Sn._getInstance(function En(){return di()?self:null}()),_.receiver._subscribe("keyChanged",function(){var R=(0,d.Z)(function*(se,Ie){return{keyProcessed:(yield _._poll()).includes(Ie.key)}});return function(se,Ie){return R.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var R=(0,d.Z)(function*(se,Ie){return["keyChanged"]});return function(se,Ie){return R.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var R,se;if(_.activeServiceWorker=yield function Ts(){return Un.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Is(_.activeServiceWorker);const Ie=yield _.sender._send("ping",{},800);Ie&&null!==(R=Ie[0])&&void 0!==R&&R.fulfilled&&null!==(se=Ie[0])&&void 0!==se&&se.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var R=this;return(0,d.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function nn(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:_},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Fa();return yield V(_,ha,"1"),yield j(_,ha),!0}catch{}return!1})()}_withPendingWrite(_){var R=this;return(0,d.Z)(function*(){R.pendingWrites++;try{yield _()}finally{R.pendingWrites--}})()}_set(_,R){var se=this;return(0,d.Z)(function*(){return se._withPendingWrite((0,d.Z)(function*(){return yield se._withRetries(Ie=>V(Ie,_,R)),se.localCache[_]=R,se.notifyServiceWorker(_)}))})()}_get(_){var R=this;return(0,d.Z)(function*(){const se=yield R._withRetries(Ie=>function g(I,f){return T.apply(this,arguments)}(Ie,_));return R.localCache[_]=se,se})()}_remove(_){var R=this;return(0,d.Z)(function*(){return R._withPendingWrite((0,d.Z)(function*(){return yield R._withRetries(se=>j(se,_)),delete R.localCache[_],R.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const R=yield _._withRetries(Pt=>{const rn=Sa(Pt,!1).getAll();return new xa(rn).toPromise()});if(!R)return[];if(0!==_.pendingWrites)return[];const se=[],Ie=new Set;for(const{fbase_key:Pt,value:rn}of R)Ie.add(Pt),JSON.stringify(_.localCache[Pt])!==JSON.stringify(rn)&&(_.notifyListeners(Pt,rn),se.push(Pt));for(const Pt of Object.keys(_.localCache))_.localCache[Pt]&&!Ie.has(Pt)&&(_.notifyListeners(Pt,null),se.push(Pt));return se})()}notifyListeners(_,R){this.localCache[_]=R;const se=this.listeners[_];if(se)for(const Ie of Array.from(se))Ie(R)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(R)}_removeListener(_,R){this.listeners[_]&&(this.listeners[_].delete(R),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),S=1e12;class w{constructor(f){this.auth=f,this.counter=S,this._widgets=new Map}render(f,_){const R=this.counter;return this._widgets.set(R,new F(f,this.auth.name,_||{})),this.counter++,R}reset(f){var _;const R=f||S;null===(_=this._widgets.get(R))||void 0===_||_.delete(),this._widgets.delete(R)}getResponse(f){var _;return(null===(_=this._widgets.get(f||S))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,d.Z)(function*(){var R;return null===(R=_._widgets.get(f||S))||void 0===R||R.execute(),""})()}}class F{constructor(f,_,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof f?document.getElementById(f):f;Z(se,"argument-error",{appName:_}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function X(I){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<I;R++)f.push(_.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ye=Dr("rcb"),Te=new gt(3e4,6e4);class Cn{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=qr().grecaptcha)||void 0===f||!f.render)}load(f,_=""){return Z(function ai(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),f,"argument-error"),this.shouldResolveImmediately(_)&&Pn(qr().grecaptcha)?Promise.resolve(qr().grecaptcha):new Promise((R,se)=>{const Ie=qr().setTimeout(()=>{se(Ce(f,"network-request-failed"))},Te.get());qr()[ye]=()=>{qr().clearTimeout(Ie),delete qr()[ye];const rn=qr().grecaptcha;if(!rn||!Pn(rn))return void se(Ce(f,"internal-error"));const Ln=rn.render;rn.render=(ii,bi)=>{const ar=Ln(ii,bi);return this.counter++,ar},this.hostLanguage=_,R(rn)},Ti(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:ye,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(Ie),se(Ce(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!(null===(_=qr().grecaptcha)||void 0===_||!_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vn{load(f){return(0,d.Z)(function*(){return new w(f)})()}clearedOneInstance(){}}const zi="recaptcha",Br={theme:"light",type:"image"};class Ms{constructor(f,_=Object.assign({},Br),R){this.parameters=_,this.type=zi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wi(R),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof f?document.getElementById(f):f;Z(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vn:new Cn,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const _=yield f.render(),R=f.getAssertedRecaptcha();return R.getResponse(_)||new Promise(Ie=>{const Pt=rn=>{rn&&(f.tokenChangeListeners.delete(Pt),Ie(rn))};f.tokenChangeListeners.add(Pt),f.isInvisible&&R.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(R=>R(_)),"function"==typeof f)f(_);else if("string"==typeof f){const R=qr()[f];"function"==typeof R&&R(_)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const R=document.createElement("div");_.appendChild(R),_=R}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){Z(xt()&&!di(),f.auth,"internal-error"),yield function ds(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function Ft(I){return Tt.apply(this,arguments)}(f.auth);Z(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ss{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=Li._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function Gt(I,f,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(I,f,_){const R=wi(I),se=yield sr(R,f,(0,C.m9)(_));return new Ss(se,Ie=>W(R,Ie))})).apply(this,arguments)}function us(I,f,_){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(I,f,_){const R=(0,C.m9)(I);yield Bi(!1,R,"phone");const se=yield sr(R.auth,f,(0,C.m9)(_));return new Ss(se,Ie=>v(R,Ie))})).apply(this,arguments)}function vi(I,f,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(I,f,_){const R=(0,C.m9)(I),se=yield sr(R.auth,f,(0,C.m9)(_));return new Ss(se,Ie=>ne(R,Ie))})).apply(this,arguments)}function sr(I,f,_){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,d.Z)(function*(I,f,_){var R;const se=yield _.verify();try{let Ie;if(Z("string"==typeof se,I,"argument-error"),Z(_.type===zi,I,"argument-error"),Ie="string"==typeof f?{phoneNumber:f}:f,"session"in Ie){const Pt=Ie.session;if("phoneNumber"in Ie)return Z("enroll"===Pt.type,I,"internal-error"),(yield function bs(I,f){return _n(I,"POST","/v2/accounts/mfaEnrollment:start",un(I,f))}(I,{idToken:Pt.credential,phoneEnrollmentInfo:{phoneNumber:Ie.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Z("signin"===Pt.type,I,"internal-error");const rn=(null===(R=Ie.multiFactorHint)||void 0===R?void 0:R.uid)||Ie.multiFactorUid;return Z(rn,I,"missing-multi-factor-info"),(yield function hn(I,f){return _n(I,"POST","/v2/accounts/mfaSignIn:start",un(I,f))}(I,{mfaPendingCredential:Pt.credential,mfaEnrollmentId:rn,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pt}=yield function To(I,f){return po.apply(this,arguments)}(I,{phoneNumber:Ie.phoneNumber,recaptchaToken:se});return Pt}}finally{_._reset()}}),Qr.apply(this,arguments)}function ta(I,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(I,f){yield tn((0,C.m9)(I),f)})).apply(this,arguments)}let Na=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=wi(_)}verifyPhoneNumber(_,R){return sr(this.auth,_,(0,C.m9)(R))}static credential(_,R){return Li._fromVerification(_,R)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:R,temporaryProof:se}=_;return R&&se?Li._fromTokenResponse(R,se):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function xr(I,f){return f?Fe(f):(Z(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Zo extends _s{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Mi(f,this._buildIdpRequest())}_linkToIdToken(f,_){return Mi(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return Mi(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Bs(I){return mr(I.auth,new Zo(I),I.bypassAuthState)}function mo(I){const{auth:f,user:_}=I;return Z(_,f,"internal-error"),Wr(_,new Zo(I),I.bypassAuthState)}function na(I){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(I){const{auth:f,user:_}=I;return Z(_,f,"internal-error"),tn(_,new Zo(I),I.bypassAuthState)})).apply(this,arguments)}class lc{constructor(f,_,R,se,Ie=!1){this.auth=f,this.resolver=R,this.user=se,this.bypassAuthState=Ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,d.Z)(function*(R,se){f.pendingPromise={resolve:R,reject:se};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Ie){f.reject(Ie)}});return function(R,se){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,d.Z)(function*(){const{urlResponse:R,sessionId:se,postBody:Ie,tenantId:Pt,error:rn,type:Ln}=f;if(rn)return void _.reject(rn);const ii={auth:_.auth,requestUri:R,sessionId:se,tenantId:Pt||void 0,postBody:Ie||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ln)(ii))}catch(bi){_.reject(bi)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Bs;case"linkViaPopup":case"linkViaRedirect":return na;case"reauthViaPopup":case"reauthViaRedirect":return mo;default:he(this.auth,"internal-error")}}resolve(f){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $a=new gt(2e3,1e4);function ms(I,f,_){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,d.Z)(function*(I,f,_){const R=wi(I);Ae(I,f,So);const se=xr(R,_);return new pl(R,"signInViaPopup",f,se).executeNotNull()})).apply(this,arguments)}function ma(I,f,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(I,f,_){const R=(0,C.m9)(I);Ae(R.auth,f,So);const se=xr(R.auth,_);return new pl(R.auth,"reauthViaPopup",f,se,R).executeNotNull()})).apply(this,arguments)}function ml(I,f,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,d.Z)(function*(I,f,_){const R=(0,C.m9)(I);Ae(R.auth,f,So);const se=xr(R.auth,_);return new pl(R.auth,"linkViaPopup",f,se,R).executeNotNull()})).apply(this,arguments)}let pl=(()=>{class I extends lc{constructor(_,R,se,Ie,Pt){super(_,R,Ie,Pt),this.provider=se,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const R=yield _.execute();return Z(R,_.auth,"internal-error"),R})()}onExecution(){var _=this;return(0,d.Z)(function*(){Le(1===_.filter.length,"Popup operations only handle one event");const R=wr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],R),_.authWindow.associatedEvent=R,_.resolver._originValidation(_.auth).catch(se=>{_.reject(se)}),_.resolver._isIframeWebStorageSupported(_.auth,se=>{se||_.reject(Ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var R,se;this.pollId=null!==(se=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,$a.get())};_()}}return I.currentPopupAction=null,I})();const Gl="pendingRedirect",La=new Map;class Lh extends lc{constructor(f,_,R=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,R),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,d.Z)(function*(){let R=La.get(_.auth._key());if(!R){try{const Ie=(yield function Ru(I,f){return Dc.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;R=()=>Promise.resolve(Ie)}catch(se){R=()=>Promise.reject(se)}La.set(_.auth._key(),R)}return _.bypassAuthState||La.set(_.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,R=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return _().call(R,f);if("unknown"!==f.type){if(f.eventId){const se=yield R.auth._redirectUserForId(f.eventId);if(se)return R.user=se,_().call(R,f);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Dc(){return(Dc=(0,d.Z)(function*(I,f){const _=Pu(f),R=Ga(I);if(!(yield R._isAvailable()))return!1;const se="true"===(yield R._get(_));return yield R._remove(_),se})).apply(this,arguments)}function Wl(I,f){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,d.Z)(function*(I,f){return Ga(I)._set(Pu(f),"true")})).apply(this,arguments)}function Bh(){La.clear()}function gl(I,f){La.set(I._key(),f)}function Ga(I){return Fe(I._redirectPersistence)}function Pu(I){return $t(Gl,I.config.apiKey,I.name)}function Zl(I,f,_){return function _l(I,f,_){return Wa.apply(this,arguments)}(I,f,_)}function Wa(){return(Wa=(0,d.Z)(function*(I,f,_){const R=wi(I);Ae(I,f,So),yield R._initializationPromise;const se=xr(R,_);return yield Wl(se,R),se._openRedirect(R,f,"signInViaRedirect")})).apply(this,arguments)}function Rd(I,f,_){return function Yl(I,f,_){return Hc.apply(this,arguments)}(I,f,_)}function Hc(){return(Hc=(0,d.Z)(function*(I,f,_){const R=(0,C.m9)(I);Ae(R.auth,f,So),yield R.auth._initializationPromise;const se=xr(R.auth,_);yield Wl(se,R.auth);const Ie=yield fs(R);return se._openRedirect(R.auth,f,"reauthViaRedirect",Ie)})).apply(this,arguments)}function ql(I,f,_){return function xs(I,f,_){return zc.apply(this,arguments)}(I,f,_)}function zc(){return(zc=(0,d.Z)(function*(I,f,_){const R=(0,C.m9)(I);Ae(R.auth,f,So),yield R.auth._initializationPromise;const se=xr(R.auth,_);yield Bi(!1,R,f.providerId),yield Wl(se,R.auth);const Ie=yield fs(R);return se._openRedirect(R.auth,f,"linkViaRedirect",Ie)})).apply(this,arguments)}function ia(I,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,d.Z)(function*(I,f){return yield wi(I)._initializationPromise,Er(I,f,!1)})).apply(this,arguments)}function Er(I,f){return dc.apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(I,f,_=!1){const R=wi(I),se=xr(R,f),Pt=yield new Lh(R,se,_).execute();return Pt&&!_&&(delete Pt.user._redirectEventId,yield R._persistUserIfCurrent(Pt.user),yield R._setRedirectUser(null,f)),Pt})).apply(this,arguments)}function fs(I){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(I){const f=wr(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class Ua{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(f,R)&&(_=!0,this.sendToConsumer(f,R),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Pd(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vl(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var R;if(f.error&&!vl(f)){const se=(null===(R=f.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";_.onError(Ce(this.auth,se))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const R=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&R}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Us(f))}saveEventToCache(f){this.cachedEventUids.add(Us(f)),this.lastProcessedEventTime=Date.now()}}function Us(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function vl({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function Yo(I){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,d.Z)(function*(I,f={}){return _n(I,"GET","/v1/projects",f)})).apply(this,arguments)}const Ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vo=/^https?/;function $c(){return($c=(0,d.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield Yo(I);for(const _ of f)try{if(co(_))return}catch{}he(I,"unauthorized-domain")})).apply(this,arguments)}function co(I){const f=Ze(),{protocol:_,hostname:R}=new URL(f);if(I.startsWith("chrome-extension://")){const Pt=new URL(I);return""===Pt.hostname&&""===R?"chrome-extension:"===_&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&Pt.hostname===R}if(!vo.test(_))return!1;if(Ic.test(I))return R===I;const se=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(R)}const Tc=new gt(3e4,6e4);function Mc(){const I=qr().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let oo=null;const Hs=new gt(5e3,15e3),ra="__/auth/iframe",qa="emulator/auth/iframe",Va={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sc(I){const f=I.config;Z(f.authDomain,I,"auth-domain-config-required");const _=f.emulator?Lt(f,qa):`https://${I.config.authDomain}/${ra}`,R={apiKey:f.apiKey,appName:I.name,v:m.SDK_VERSION},se=Nu.get(I.config.apiHost);se&&(R.eid=se);const Ie=I._getFrameworks();return Ie.length&&(R.fw=Ie.join(",")),`${_}?${(0,C.xO)(R).slice(1)}`}function k(){return k=(0,d.Z)(function*(I){const f=yield function Ya(I){return oo=oo||function Za(I){return new Promise((f,_)=>{var R,se,Ie;function Pt(){Mc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Mc(),_(Ce(I,"network-request-failed"))},timeout:Tc.get()})}if(null!==(se=null===(R=qr().gapi)||void 0===R?void 0:R.iframes)&&void 0!==se&&se.Iframe)f(gapi.iframes.getContext());else{if(null===(Ie=qr().gapi)||void 0===Ie||!Ie.load){const rn=Dr("iframefcb");return qr()[rn]=()=>{gapi.load?Pt():_(Ce(I,"network-request-failed"))},Ti(`https://apis.google.com/js/api.js?onload=${rn}`).catch(Ln=>_(Ln))}Pt()}}).catch(f=>{throw oo=null,f})}(I),oo}(I),_=qr().gapi;return Z(_,I,"internal-error"),f.open({where:document.body,url:Sc(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Va,dontclear:!0},R=>new Promise(function(){var se=(0,d.Z)(function*(Ie,Pt){yield R.restyle({setHideOnLeave:!1});const rn=Ce(I,"network-request-failed"),Ln=qr().setTimeout(()=>{Pt(rn)},Hs.get());function ii(){qr().clearTimeout(Ln),Ie(R)}R.ping(ii).then(ii,()=>{Pt(rn)})});return function(Ie,Pt){return se.apply(this,arguments)}}()))}),k.apply(this,arguments)}const L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dn{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _i="__/auth/handler",Vi="emulator/auth/handler",Fi=encodeURIComponent("fac");function As(I,f,_,R,se,Ie){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(I,f,_,R,se,Ie){Z(I.config.authDomain,I,"auth-domain-config-required"),Z(I.config.apiKey,I,"invalid-api-key");const Pt={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:R,v:m.SDK_VERSION,eventId:se};if(f instanceof So){f.setDefaultLanguage(I.languageCode),Pt.providerId=f.providerId||"",(0,C.xb)(f.getCustomParameters())||(Pt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[bi,ar]of Object.entries(Ie||{}))Pt[bi]=ar}if(f instanceof Wo){const bi=f.getScopes().filter(ar=>""!==ar);bi.length>0&&(Pt.scopes=bi.join(","))}I.tenantId&&(Pt.tid=I.tenantId);const rn=Pt;for(const bi of Object.keys(rn))void 0===rn[bi]&&delete rn[bi];const Ln=yield I._getAppCheckToken(),ii=Ln?`#${Fi}=${encodeURIComponent(Ln)}`:"";return`${function Qa({config:I}){return I.emulator?Lt(I,Vi):`https://${I.authDomain}/${_i}`}(I)}?${(0,C.xO)(rn).slice(1)}${ii}`})).apply(this,arguments)}const Xr="webStorageSupport",oa=class zs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pa,this._completeRedirectFn=Er,this._overrideRedirectResult=gl}_openPopup(f,_,R,se){var Ie=this;return(0,d.Z)(function*(){var Pt;Le(null===(Pt=Ie.eventManagers[f._key()])||void 0===Pt?void 0:Pt.manager,"_initialize() not called before _openPopup()");const rn=yield As(f,_,R,Ze(),se);return function Yn(I,f,_,R=500,se=600){const Ie=Math.max((window.screen.availHeight-se)/2,0).toString(),Pt=Math.max((window.screen.availWidth-R)/2,0).toString();let rn="";const Ln=Object.assign(Object.assign({},L),{width:R.toString(),height:se.toString(),top:Ie,left:Pt}),ii=(0,C.z$)().toLowerCase();_&&(rn=$(ii)?"_blank":_),z(ii)&&(f=f||"http://localhost",Ln.scrollbars="yes");const bi=Object.entries(Ln).reduce((pa,[sa,Ud])=>`${pa}${sa}=${Ud},`,"");if(function we(I=(0,C.z$)()){var f;return Pe(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ii)&&"_self"!==rn)return function Wn(I,f){const _=document.createElement("a");_.href=I,_.target=f;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(R)}(f||"",rn),new dn(null);const ar=window.open(f||"",rn,bi);Z(ar,I,"popup-blocked");try{ar.focus()}catch{}return new dn(ar)}(f,rn,wr())})()}_openRedirect(f,_,R,se){var Ie=this;return(0,d.Z)(function*(){return yield Ie._originValidation(f),function ni(I){qr().location.href=I}(yield As(f,_,R,Ze(),se)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:se,promise:Ie}=this.eventManagers[_];return se?Promise.resolve(se):(Le(Ie,"If manager is not set, promise should be"),Ie)}const R=this.initAndGetManager(f);return this.eventManagers[_]={promise:R},R.catch(()=>{delete this.eventManagers[_]}),R}initAndGetManager(f){var _=this;return(0,d.Z)(function*(){const R=yield function Lu(I){return k.apply(this,arguments)}(f),se=new Ua(f);return R.register("authEvent",Ie=>(Z(Ie?.authEvent,f,"invalid-auth-event"),{status:se.onEvent(Ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:se},_.iframes[f._key()]=R,se})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(Xr,{type:Xr},se=>{var Ie;const Pt=null===(Ie=se?.[0])||void 0===Ie?void 0:Ie[Xr];void 0!==Pt&&_(!!Pt),he(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ka(I){return $c.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return Bt()||U()||Pe()}};class Aa{constructor(f){this.factorId=f}_process(f,_,R){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,R);case"signin":return this._finalizeSignIn(f,_.credential);default:return Ke("unexpected MultiFactorSessionType")}}}class Ea extends Aa{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ea(f)}_finalizeEnroll(f,_,R){return function Zr(I,f){return _n(I,"POST","/v2/accounts/mfaEnrollment:finalize",un(I,f))}(f,{idToken:_,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function wn(I,f){return _n(I,"POST","/v2/accounts/mfaSignIn:finalize",un(I,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fd=(()=>{class I{constructor(){}static assertion(_){return Ea._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Ac="@firebase/auth";class nf{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(R=>{f(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);_&&(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jh=(0,C.Pz)("authIdTokenMaxAge")||300;let Hh=null;const sf=I=>function(){var f=(0,d.Z)(function*(_){const R=_&&(yield _.getIdTokenResult()),se=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(se&&se>jh)return;const Ie=R?.token;Hh!==Ie&&(Hh=Ie,yield fetch(I,{method:Ie?"POST":"DELETE",headers:Ie?{Authorization:`Bearer ${Ie}`}:{}}))});return function(_){return f.apply(this,arguments)}}();function Bd(I=(0,m.getApp)()){const f=(0,m._getProvider)(I,"auth");if(f.isInitialized())return f.getImmediate();const _=function fo(I,f){const _=(0,m._getProvider)(I,"auth");if(_.isInitialized()){const se=_.getImmediate(),Ie=_.getOptions();if((0,C.vZ)(Ie,f??{}))return se;he(se,"already-initialized")}return _.initialize({options:f})}(I,{popupRedirectResolver:oa,persistence:[pt,ls,Pa]}),R=(0,C.Pz)("authTokenSyncURL");if(R){const Ie=sf(R);(function en(I,f,_){(0,C.m9)(I).beforeAuthStateChanged(f,_)})(_,Ie,()=>Ie(_.currentUser)),function Xe(I,f,_,R){(0,C.m9)(I).onIdTokenChanged(f,_,R)}(_,Pt=>Ie(Pt))}const se=(0,C.q4)("auth");return se&&dr(_,`http://${se}`),_}!function Vh(I){(0,m._registerComponent)(new re.wA("auth",(f,{options:_})=>{const R=f.getProvider("app").getImmediate(),se=f.getProvider("heartbeat"),Ie=f.getProvider("app-check-internal"),{apiKey:Pt,authDomain:rn}=R.options;Z(Pt&&!Pt.includes(":"),"invalid-api-key",{appName:R.name});const Ln={apiKey:Pt,authDomain:rn,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ri(I)},ii=new ao(R,se,Ie,Ln);return function eo(I,f){const _=f?.persistence||[],R=(Array.isArray(_)?_:[_]).map(Fe);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(R,f?.popupRedirectResolver)}(ii,_),ii},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,R)=>{f.getProvider("auth-internal").initialize()})),(0,m._registerComponent)(new re.wA("auth-internal",f=>{const _=wi(f.getProvider("auth").getImmediate());return new nf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,m.registerVersion)(Ac,"0.23.2",function Ld(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,m.registerVersion)(Ac,"0.23.2","esm2017")}("Browser")},2090:(vn,it,E)=>{E.d(it,{$s:()=>Fe,BH:()=>ge,G6:()=>Lt,L:()=>De,LL:()=>on,Pz:()=>Ce,Sg:()=>Ae,UG:()=>Ke,US:()=>re,ZB:()=>fe,ZR:()=>_n,aH:()=>he,b$:()=>xt,eu:()=>Jt,hl:()=>Vt,jU:()=>Le,m9:()=>$t,ne:()=>an,pd:()=>kt,q4:()=>ke,r3:()=>ze,ru:()=>Ze,tV:()=>oe,uI:()=>Z,vZ:()=>Mt,w1:()=>Rn,xO:()=>ht,xb:()=>bn,z$:()=>Ge,zI:()=>Qt,zd:()=>ut});const ee=function(Re){const ce=[];let z=0;for(let U=0;U<Re.length;U++){let $=Re.charCodeAt(U);$<128?ce[z++]=$:$<2048?(ce[z++]=$>>6|192,ce[z++]=63&$|128):55296==(64512&$)&&U+1<Re.length&&56320==(64512&Re.charCodeAt(U+1))?($=65536+((1023&$)<<10)+(1023&Re.charCodeAt(++U)),ce[z++]=$>>18|240,ce[z++]=$>>12&63|128,ce[z++]=$>>6&63|128,ce[z++]=63&$|128):(ce[z++]=$>>12|224,ce[z++]=$>>6&63|128,ce[z++]=63&$|128)}return ce},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,ce){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let $=0;$<Re.length;$+=3){const le=Re[$],ae=$+1<Re.length,xe=ae?Re[$+1]:0,Oe=$+2<Re.length,Pe=Oe?Re[$+2]:0;let vt=(15&xe)<<2|Pe>>6,Bt=63&Pe;Oe||(Bt=64,ae||(vt=64)),U.push(z[le>>2],z[(3&le)<<4|xe>>4],z[vt],z[Bt])}return U.join("")},encodeString(Re,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(Re):this.encodeByteArray(ee(Re),ce)},decodeString(Re,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(Re):function(Re){const ce=[];let z=0,U=0;for(;z<Re.length;){const $=Re[z++];if($<128)ce[U++]=String.fromCharCode($);else if($>191&&$<224){const le=Re[z++];ce[U++]=String.fromCharCode((31&$)<<6|63&le)}else if($>239&&$<365){const Oe=((7&$)<<18|(63&Re[z++])<<12|(63&Re[z++])<<6|63&Re[z++])-65536;ce[U++]=String.fromCharCode(55296+(Oe>>10)),ce[U++]=String.fromCharCode(56320+(1023&Oe))}else{const le=Re[z++],ae=Re[z++];ce[U++]=String.fromCharCode((15&$)<<12|(63&le)<<6|63&ae)}}return ce.join("")}(this.decodeStringToByteArray(Re,ce))},decodeStringToByteArray(Re,ce){this.init_();const z=ce?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let $=0;$<Re.length;){const le=z[Re.charAt($++)],xe=$<Re.length?z[Re.charAt($)]:0;++$;const Pe=$<Re.length?z[Re.charAt($)]:64;++$;const we=$<Re.length?z[Re.charAt($)]:64;if(++$,null==le||null==xe||null==Pe||null==we)throw new K;U.push(le<<2|xe>>4),64!==Pe&&(U.push(xe<<4&240|Pe>>2),64!==we&&U.push(Pe<<6&192|we))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}};class K extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(Re){return function(Re){const ce=ee(Re);return re.encodeByteArray(ce,!0)}(Re).replace(/\./g,"")},oe=function(Re){try{return re.decodeString(Re,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function fe(Re,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return ce}for(const z in ce)!ce.hasOwnProperty(z)||!et(z)||(Re[z]=fe(Re[z],ce[z]));return Re}function et(Re){return"__proto__"!==Re}const Ue=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Re=process.env.__FIREBASE_DEFAULTS__;return Re?JSON.parse(Re):void 0})()||(()=>{if(typeof document>"u")return;let Re;try{Re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=Re&&oe(Re[1]);return ce&&JSON.parse(ce)})()}catch(Re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Re}`)}},ke=Re=>{var ce,z;return null===(z=null===(ce=Ue())||void 0===ce?void 0:ce.emulatorHosts)||void 0===z?void 0:z[Re]},he=()=>{var Re;return null===(Re=Ue())||void 0===Re?void 0:Re.config},Ce=Re=>{var ce;return null===(ce=Ue())||void 0===ce?void 0:ce[`_${Re}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,z)=>{this.resolve=ce,this.reject=z})}wrapCallback(ce){return(z,U)=>{z?this.reject(z):this.resolve(U),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(z):ce(z,U))}}}function Ae(Re,ce){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=ce||"demo-project",$=Re.iat||0,le=Re.sub||Re.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:$,exp:$+3600,auth_time:$,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(ae)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ke(){var Re;const ce=null===(Re=Ue())||void 0===Re?void 0:Re.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function Ze(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Rn(){const Re=Ge();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function Lt(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vt(){try{return"object"==typeof indexedDB}catch{return!1}}function Jt(){return new Promise((Re,ce)=>{try{let z=!0;const U="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(U);$.onsuccess=()=>{$.result.close(),z||self.indexedDB.deleteDatabase(U),Re(!0)},$.onupgradeneeded=()=>{z=!1},$.onerror=()=>{var le;ce((null===(le=$.error)||void 0===le?void 0:le.message)||"")}}catch(z){ce(z)}})}function Qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _n extends Error{constructor(ce,z,U){super(z),this.code=ce,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor(ce,z,U){this.service=ce,this.serviceName=z,this.errors=U}create(ce,...z){const U=z[0]||{},$=`${this.service}/${ce}`,le=this.errors[ce],ae=le?function Rt(Re,ce){return Re.replace(Ye,(z,U)=>{const $=ce[U];return null!=$?String($):`<${U}?>`})}(le,U):"Error";return new _n($,`${this.serviceName}: ${ae} (${$}).`,U)}}const Ye=/\{\$([^}]+)}/g;function ze(Re,ce){return Object.prototype.hasOwnProperty.call(Re,ce)}function bn(Re){for(const ce in Re)if(Object.prototype.hasOwnProperty.call(Re,ce))return!1;return!0}function Mt(Re,ce){if(Re===ce)return!0;const z=Object.keys(Re),U=Object.keys(ce);for(const $ of z){if(!U.includes($))return!1;const le=Re[$],ae=ce[$];if(de(le)&&de(ae)){if(!Mt(le,ae))return!1}else if(le!==ae)return!1}for(const $ of U)if(!z.includes($))return!1;return!0}function de(Re){return null!==Re&&"object"==typeof Re}function ht(Re){const ce=[];for(const[z,U]of Object.entries(Re))Array.isArray(U)?U.forEach($=>{ce.push(encodeURIComponent(z)+"="+encodeURIComponent($))}):ce.push(encodeURIComponent(z)+"="+encodeURIComponent(U));return ce.length?"&"+ce.join("&"):""}function ut(Re){const ce={};return Re.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[$,le]=U.split("=");ce[decodeURIComponent($)]=decodeURIComponent(le)}}),ce}function kt(Re){const ce=Re.indexOf("?");if(!ce)return"";const z=Re.indexOf("#",ce);return Re.substring(ce,z>0?z:void 0)}function an(Re,ce){const z=new Kn(Re,ce);return z.subscribe.bind(z)}class Kn{constructor(ce,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{ce(this)}).catch(U=>{this.error(U)})}next(ce){this.forEachObserver(z=>{z.next(ce)})}error(ce){this.forEachObserver(z=>{z.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,z,U){let $;if(void 0===ce&&void 0===z&&void 0===U)throw new Error("Missing Observer.");$=function Dn(Re,ce){if("object"!=typeof Re||null===Re)return!1;for(const z of ce)if(z in Re&&"function"==typeof Re[z])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:z,complete:U},void 0===$.next&&($.next=cn),void 0===$.error&&($.error=cn),void 0===$.complete&&($.complete=cn);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),le}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,ce)}sendOne(ce,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{z(this.observers[ce])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cn(){}const qt=1e3,nt=2,ct=144e5,He=.5;function Fe(Re,ce=qt,z=nt){const U=ce*Math.pow(z,Re),$=Math.round(He*U*(Math.random()-.5)*2);return Math.min(ct,U+$)}function $t(Re){return Re&&Re._delegate?Re._delegate:Re}},8854:(vn,it,E)=>{E.d(it,{q:()=>Ns});var d=E(1728),C=E(8410),m=E(6012),ee=E(6286),Ee=E(430),re=E(8467),K=E(2223),oe=(E(1692),E(2966),E(1217)),Ve=(E(727),E(6451),E(7579),E(829)),lt=E(4755);let Je=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=K.oAB({type:qe}),qe.\u0275inj=K.cJS({imports:[oe.BQ,oe.BQ]}),qe})();E(706),E(2840),E(9401),E(2722);let ct=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=K.oAB({type:qe}),qe.\u0275inj=K.cJS({imports:[Ve.Q8,lt.ez,oe.BQ,oe.si,oe.us,Je]}),qe})();var He=E(9383),Fe=E(4709);E(1591);let Pn=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=K.oAB({type:qe}),qe.\u0275inj=K.cJS({imports:[lt.ez,oe.BQ,Fe.ZD,Fe.ZD,oe.BQ]}),qe})();var zn=E(2659),pi=E(9002);let es=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=K.oAB({type:qe}),qe.\u0275inj=K.cJS({imports:[oe.BQ,lt.ez,Ve.Q8,oe.BQ]}),qe})();const Ki={provide:new K.OlP("mat-select-scroll-strategy"),deps:[pi.aV],useFactory:function vr(qe){return()=>qe.scrollStrategies.reposition()}};let Vo=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=K.oAB({type:qe}),qe.\u0275inj=K.cJS({providers:[Ki],imports:[lt.ez,pi.U8,oe.Ng,oe.BQ,Fe.ZD,es,oe.Ng,oe.BQ]}),qe})();var Xs=E(3617);let Ns=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=K.oAB({type:qe}),qe.\u0275inj=K.cJS({imports:[d.ot,C._r,m.QW,ee.Is,Ee.Ps,re.Cq,ct,He.g0,Pn,zn.Tx,Vo,Xs.Nh]}),qe})()},9744:(vn,it,E)=>{E.d(it,{T:()=>m});var d=E(2223),C=E(1762);let m=(()=>{class ee{constructor(re){this.firestore=re,this.collectionUsers=this.firestore.collection("Users")}getYourNotificationFriends(re){return this.collectionUsers.doc(re).collection("NotificationsFriends").valueChanges()}addNotificationFriend(re,K){this.collectionUsers.doc(re).collection("NotificationsFriends").doc(K).set({creatorId:K,timestamp:new Date}).then()}deleteNotificationFriend(re,K){this.collectionUsers.doc(re).collection("NotificationsFriends").doc(K).delete().then()}}return ee.\u0275fac=function(re){return new(re||ee)(d.LFG(C.ST))},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},8577:(vn,it,E)=>{E.d(it,{n:()=>Ee});var d=E(2223),C=E(1762),m=E(3919),ee=E(5213);let Ee=(()=>{class re{constructor(ve,De,oe){this.firestore=ve,this.userDataService=De,this.mainUserPageService=oe,this.posts=[],this.pageSize=5,this.currentSize=0,this.collection=this.firestore.collection("Posts")}uploadPost(ve){const De=this.firestore.createId(),oe=this.userDataService.getCurrentUserId();return this.collection.doc(De).set({comment:ve,creatorId:oe,timestamp:new Date,postId:De}).then(()=>{this.mainUserPageService.addUserPost(oe,De)})}uploadImagePost(ve,De,oe){const ue=this.userDataService.getCurrentUserId();return this.collection.doc(ve).set({comment:De,creatorId:this.userDataService.getCurrentUserId(),imageUrl:oe,timestamp:new Date,postId:ve}).then(()=>{this.mainUserPageService.addUserPost(ue,ve)})}deleteUserPosts(){this.collection.get().subscribe(ve=>{ve.forEach(De=>{const oe=De.data(),ue=De.id;oe&&oe.creatorId===this.userDataService.userInfo.userId&&(this.deleteCollection(ue,"Likes"),this.deleteCollection(ue,"PostComments"),this.collection.doc(ue).delete().then(()=>{}).catch(fe=>{console.error(`Error deleting document with ID ${ue}`,fe)}))})})}deleteCollection(ve,De){const oe=this.firestore.firestore.batch();this.collection.doc(ve).collection(De).ref.get().then(ue=>(ue.forEach(fe=>{oe.delete(fe.ref)}),oe.commit()))}getCountOfDocuments(){this.collection.ref.get().then(ve=>{this.postsSize=ve.size})}getFirstPosts(){0===this.currentSize&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.pageSize).get().then(ve=>{ve.forEach(De=>{this.currentSize++,this.posts.push(De.data())}),this.lastVisibleDoc=ve.docs[ve.docs.length-1]})}getScrollPosts(){window.onscroll=()=>{window.pageYOffset+window.innerHeight>=document.documentElement.scrollHeight&&this.postsSize>this.currentSize&&this.postsSize>this.posts.length&&this.currentSize>0&&this.firestore.collection("Posts").ref.orderBy("timestamp","desc").startAfter(this.lastVisibleDoc).limit(this.pageSize).get().then(ve=>{ve.forEach(De=>{this.currentSize++,this.posts.push(De.data())}),this.lastVisibleDoc=ve.docs[ve.docs.length-1]})}}newGetPosts(ve){"add"===ve&&this.currentSize++,"delete"===ve&&this.currentSize--,this.posts=[],this.currentSize>0?(this.getCountOfDocuments(),this.firestore.collection("Posts").ref.orderBy("timestamp","desc").limit(this.currentSize).get().then(De=>{this.currentSize=0,De.forEach(oe=>{this.currentSize++,this.posts.push(oe.data())}),this.lastVisibleDoc=De.docs[De.docs.length-1]})):this.getFirstPosts()}}return re.\u0275fac=function(ve){return new(ve||re)(d.LFG(C.ST),d.LFG(m.M),d.LFG(ee.v))},re.\u0275prov=d.Yz7({token:re,factory:re.\u0275fac}),re})()},1188:(vn,it,E)=>{E.d(it,{V:()=>m});var d=E(2223),C=E(8445);let m=(()=>{class ee{constructor(re){this.storage=re}getDataFromStorage(re){return this.storage.ref(re).getDownloadURL()}}return ee.\u0275fac=function(re){return new(re||ee)(d.LFG(C.Q1))},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},3919:(vn,it,E)=>{E.d(it,{M:()=>ue});var d=E(1389),re=(E(2090),E(6881),E(1877),E(4859),E(4004)),K=E(2223),ve=E(1205),De=E(3676),oe=E(1762);let ue=(()=>{class fe{constructor(Ve,lt,Qe){this.afAuth=Ve,this.router=lt,this.firestore=Qe,this.userHasProfile=!0,this.isLoggedIn=!1,this.collection=this.firestore.collection("Users")}getUpdatedUserProfile(){this.afAuth.currentUser.then(Ve=>{const lt=Ve?.uid;return this.firestore.collection("Users").doc(lt).get().pipe((0,re.U)(Qe=>{const Je=Qe.data();this.userHasProfile=Qe.exists,Qe.exists&&(this.userInfo={userId:Je.userId,publicName:Je.publicName,description:Je.description,timestamp:Je.timestamp,imageUrl:Je.imageUrl})})).toPromise()}).catch(Ve=>{console.error("Error getting document:",Ve)})}checkLoginStatus(){this.afAuth.authState.subscribe(Ve=>{this.isLoggedIn=!!Ve,Ve&&(Ve.emailVerified?(this.getUpdatedUserProfile(),this.router.navigate(["userPage"])):(Ve.sendEmailVerification(),this.router.navigate(["emailVerification"])))})}getCurrentUserId(){const lt=(0,d.o)().currentUser;return lt?lt.uid:""}createUser(Ve,lt){this.collection.doc(this.getCurrentUserId()).set({publicName:Ve,description:lt,userId:this.getCurrentUserId(),timestamp:new Date}).then(()=>{this.getUpdatedUserProfile(),this.router.navigate(["userPage"])}).catch(Qe=>{console.error("Error writing document: ",Qe)})}resetUserName(){this.userInfo.publicName=""}deleteUser(){this.collection.doc(this.userInfo.userId).delete().then(()=>{this.getUpdatedUserProfile()}).catch(Ve=>{console.error("Error writing document: ",Ve)})}updateDocumentField(Ve,lt,Qe,Je){return this.firestore.collection(Ve).doc(lt).update({[Qe]:Je})}}return fe.\u0275fac=function(Ve){return new(Ve||fe)(K.LFG(ve.zQ),K.LFG(De.F0),K.LFG(oe.ST))},fe.\u0275prov=K.Yz7({token:fe,factory:fe.\u0275fac}),fe})()},5213:(vn,it,E)=>{E.d(it,{v:()=>lt});var d=E(8505),C=E(8746),m=E(3900),ee=E(9300),Ee=E(9841),re=E(5698),K=E(1627),ve=E(2223),De=E(3919),oe=E(9744),ue=E(1762),fe=E(8445),et=E(6286),Ve=E(3676);let lt=(()=>{class Qe{constructor(Ue,ke,wt,he,Ce,ge){this.userDataService=Ue,this.notificationsService=ke,this.firestore=wt,this.storage=he,this.dialogOpen=Ce,this.router=ge,this.userPosts=0,this.userFriends=0,this.collectionUsers=this.firestore.collection("Users")}addUserPost(Ue,ke){this.collectionUsers.doc(Ue).collection("UserPosts").doc(ke).set({postId:ke,creatorId:Ue,timestamp:new Date}).then()}deleteUserPost(Ue,ke){this.collectionUsers.doc(Ue).collection("UserPosts").doc(ke).delete().then()}uploadUserImage(Ue,ke){const wt=`Users/${Ue}/image`,he=this.storage.ref(wt),Ce=this.storage.upload(wt,ke),ge=this.dialogOpen.open(K.R,{disableClose:!0,data:{info:"Upload progress",message:""}});Ce.percentageChanges().pipe((0,d.b)(Ae=>{ge.componentInstance.message={info:"Upload progress",message:`Upload progress: ${Ae?.toFixed(2)}%`}}),(0,C.x)(()=>ge.close()),(0,m.w)(()=>Ce.snapshotChanges()),(0,ee.h)(Ae=>"success"===Ae.state),(0,m.w)(()=>he.getDownloadURL()),(0,m.w)(Ae=>this.collectionUsers.doc(Ue).update({imageUrl:Ae}))).subscribe(()=>{this.userDataService.getUpdatedUserProfile()})}getCountOfValuePosts(Ue){this.collectionUsers.doc(Ue).collection("UserPosts").valueChanges().subscribe(ke=>{this.userPosts=ke.length})}getCountOfValueFriends(Ue){this.collectionUsers.doc(Ue).collection("UserFriends",ke=>ke.where("isFriend","==",!0)).valueChanges().subscribe(ke=>{this.userFriends=ke.length})}addToFriends(Ue){const ke=this.userDataService.getCurrentUserId();this.collectionUsers.doc(ke).collection("UserFriends").doc(Ue).set({friendId:Ue,creatorId:ke,timestamp:new Date,isFriend:!1}).then(()=>{this.checkIsFriend(Ue)})}deleteFriend(Ue){const ke=this.userDataService.getCurrentUserId();this.deleteUserFriend(ke,Ue),this.deleteUserFriend(Ue,ke)}deleteUserFriend(Ue,ke){this.collectionUsers.doc(Ue).collection("UserFriends").doc(ke).delete().then(()=>this.checkIsFriend(ke))}getFriendExistence(Ue,ke){return this.collectionUsers.doc(Ue).collection("UserFriends").doc(ke).get()}checkIsFriend(Ue){const ke=this.userDataService.getCurrentUserId(),wt=this.getFriendExistence(ke,Ue),he=this.getFriendExistence(Ue,ke);(0,Ee.a)([wt,he]).pipe((0,re.q)(1)).subscribe(([Ce,ge])=>{Ce.exists&&!ge.exists&&this.notificationsService.addNotificationFriend(Ue,ke),Ce.exists&&ge.exists&&(this.updateFriendsStatus(Ue,ke),this.updateFriendsStatus(ke,Ue),this.notificationsService.deleteNotificationFriend(Ue,ke),this.notificationsService.deleteNotificationFriend(ke,Ue))})}updateFriendsStatus(Ue,ke){this.collectionUsers.doc(Ue).collection("UserFriends").doc(ke).update({isFriend:!0}).then()}goToFriendPage(Ue){const wt=Ue===this.userDataService.getCurrentUserId();this.router.navigate([wt?"userPage":"friendPage"],{queryParams:wt?void 0:{friendId:Ue}})}deleteSomeCollection(Ue){const ke=this.userDataService.getCurrentUserId();this.collectionUsers.doc(ke).collection(Ue).get().toPromise().then(wt=>{wt&&wt.forEach(he=>{he.ref.delete()})})}deleteUserPostsCollection(){this.deleteSomeCollection("UserPosts")}deleteUserFriendsCollection(){this.deleteSomeCollection("UserFriends")}}return Qe.\u0275fac=function(Ue){return new(Ue||Qe)(ve.LFG(De.M),ve.LFG(oe.T),ve.LFG(ue.ST),ve.LFG(fe.Q1),ve.LFG(et.uw),ve.LFG(Ve.F0))},Qe.\u0275prov=ve.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})()},8099:(vn,it,E)=>{E.d(it,{f:()=>Je});var d=E(9401),C=E(9802),m=E(6286),ee=E(2223),Ee=E(3919),re=E(8577),K=E(5213),ve=E(1205),De=E(3676),oe=E(4755),ue=E(1728),fe=E(6012);function et(Ue,ke){1&Ue&&(ee.TgZ(0,"div")(1,"small",9),ee._uU(2,"Field cannot be empty"),ee.qZA()())}function Ve(Ue,ke){if(1&Ue&&(ee.ynx(0),ee._UZ(1,"input",8),ee.YNc(2,et,3,0,"div",3),ee.BQk()),2&Ue){const wt=ee.oxw();let he;ee.xp6(2),ee.Q6J("ngIf",(null==(he=wt.sidebarForm.get("textData"))?null:he.invalid)&&(null==(he=wt.sidebarForm.get("textData"))?null:he.touched))}}function lt(Ue,ke){if(1&Ue){const wt=ee.EpF();ee.TgZ(0,"button",10),ee.NdJ("click",function(){ee.CHM(wt);const Ce=ee.oxw();return ee.KtG(Ce.deleteUser())}),ee._uU(1," Yes "),ee.qZA()}}function Qe(Ue,ke){if(1&Ue){const wt=ee.EpF();ee.TgZ(0,"button",10),ee.NdJ("click",function(){ee.CHM(wt);const Ce=ee.oxw();return ee.KtG(Ce.saveData())}),ee._uU(1," Save "),ee.qZA()}}let Je=(()=>{class Ue{constructor(wt,he,Ce,ge,Ae,Ge,Z,Ke){this.message=wt,this.dialogRef=he,this.userDataService=Ce,this.postsDataService=ge,this.userPageService=Ae,this.afAuth=Ge,this.router=Z,this.dialog=Ke,this.sidebarForm=new d.cw({textData:new d.NI("",[d.kI.required])})}saveData(){const wt=this.sidebarForm.get("textData");wt&&!wt.errors&&this.userDataService.updateDocumentField("Users",this.userDataService.userInfo.userId,this.message.field,wt.value).then(()=>{this.dialogRef.close(),this.postsDataService.newGetPosts(),this.userDataService.getUpdatedUserProfile()})}deleteUser(){const wt=this.afAuth.currentUser;wt&&wt.then(he=>he).then(he=>he?.delete()).then(()=>{this.dialogRef.close(),this.userDataService.deleteUser(),this.postsDataService.deleteUserPosts(),this.userPageService.deleteUserPostsCollection(),this.userPageService.deleteUserFriendsCollection(),this.router.navigate([""])}).catch(he=>{this.dialog.open(C.S,{data:{info:"Error deleting account",message:he.message}})})}closeClick(){this.dialogRef.close()}}return Ue.\u0275fac=function(wt){return new(wt||Ue)(ee.Y36(m.WI),ee.Y36(m.so),ee.Y36(Ee.M),ee.Y36(re.n),ee.Y36(K.v),ee.Y36(ve.zQ),ee.Y36(De.F0),ee.Y36(m.uw))},Ue.\u0275cmp=ee.Xpm({type:Ue,selectors:[["app-change-data-modal"]],decls:15,vars:6,consts:[[1,"message"],[3,"formGroup"],[1,"message-text"],[4,"ngIf"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["formControlName","textData",1,"message-input"],[1,"error"],["mat-flat-button","","color","warn",3,"click"]],template:function(wt,he){1&wt&&(ee.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),ee._uU(3),ee.qZA()(),ee.TgZ(4,"mat-card-content",0)(5,"form",1)(6,"div",2),ee._uU(7),ee.qZA(),ee.YNc(8,Ve,3,1,"ng-container",3),ee.TgZ(9,"div",4)(10,"button",5),ee.NdJ("click",function(){return he.closeClick()}),ee._uU(11," Close "),ee.qZA(),ee._UZ(12,"span",6),ee.YNc(13,lt,2,0,"button",7),ee.YNc(14,Qe,2,0,"button",7),ee.qZA()()()()),2&wt&&(ee.xp6(3),ee.hij(" ",he.message.info," "),ee.xp6(2),ee.Q6J("formGroup",he.sidebarForm),ee.xp6(2),ee.Oqu(he.message.message),ee.xp6(1),ee.Q6J("ngIf",!he.message.yesButton),ee.xp6(5),ee.Q6J("ngIf",he.message.yesButton),ee.xp6(1),ee.Q6J("ngIf",!he.message.yesButton))},dependencies:[oe.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,ue.lW,fe.a8,fe.dn,fe.dk,fe.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.error[_ngcontent-%COMP%]{color:#f44336}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),Ue})()},9802:(vn,it,E)=>{E.d(it,{S:()=>K});var d=E(6286),C=E(2223),m=E(4755),ee=E(1728),Ee=E(6012);function re(ve,De){if(1&ve){const oe=C.EpF();C.TgZ(0,"button",6),C.NdJ("click",function(){C.CHM(oe);const fe=C.oxw();return C.KtG(fe.buttonClick())}),C._uU(1),C.qZA()}if(2&ve){const oe=C.oxw();C.xp6(1),C.hij(" ",oe.message.nameButton," ")}}let K=(()=>{class ve{constructor(oe,ue){this.message=oe,this.dialog=ue}buttonClick(){this.dialog.close(!0)}closeClick(){this.dialog.close()}}return ve.\u0275fac=function(oe){return new(oe||ve)(C.Y36(d.WI),C.Y36(d.so))},ve.\u0275cmp=C.Xpm({type:ve,selectors:[["app-info-modal"]],decls:12,vars:3,consts:[[1,"message"],[1,"message-text"],[1,"message-button"],["mat-flat-button","","color","primary",3,"click"],[1,"spacer"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click"]],template:function(oe,ue){1&oe&&(C.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),C._uU(3),C.qZA()(),C.TgZ(4,"mat-card-content",0)(5,"div",1),C._uU(6),C.qZA(),C.TgZ(7,"div",2)(8,"button",3),C.NdJ("click",function(){return ue.closeClick()}),C._uU(9," Close "),C.qZA(),C._UZ(10,"span",4),C.YNc(11,re,2,1,"button",5),C.qZA()()()),2&oe&&(C.xp6(3),C.hij(" ",ue.message.info," "),C.xp6(3),C.Oqu(ue.message.message),C.xp6(5),C.Q6J("ngIf",ue.message.addButton))},dependencies:[m.O5,ee.lW,Ee.a8,Ee.dn,Ee.dk,Ee.n5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-text[_ngcontent-%COMP%]{padding:10px}.message-button[_ngcontent-%COMP%]{display:flex}.message-button[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),ve})()},1627:(vn,it,E)=>{E.d(it,{R:()=>re});var d=E(6286),C=E(2223),m=E(1728),ee=E(6012),Ee=E(8467);let re=(()=>{class K{constructor(De,oe){this.message=De,this.dialogRef=oe}closeModal(){this.dialogRef.close()}}return K.\u0275fac=function(De){return new(De||K)(C.Y36(d.WI),C.Y36(d.so))},K.\u0275cmp=C.Xpm({type:K,selectors:[["app-loader"]],decls:11,vars:2,consts:[[1,"message"],[1,"message-loader"],[1,"message-text"],["mode","indeterminate","color","primary","diameter","32","strokeWidth","4"],["mat-flat-button","","color","warn",3,"click"]],template:function(De,oe){1&De&&(C.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),C._uU(3),C.qZA()(),C.TgZ(4,"mat-card-content",0)(5,"div",1)(6,"div",2),C._uU(7),C.qZA(),C._UZ(8,"mat-progress-spinner",3),C.qZA(),C.TgZ(9,"button",4),C.NdJ("click",function(){return oe.closeModal()}),C._uU(10,"Close"),C.qZA()()()),2&De&&(C.xp6(3),C.hij(" ",oe.message.info," "),C.xp6(4),C.Oqu(oe.message.message))},dependencies:[m.lW,ee.a8,ee.dn,ee.dk,ee.n5,Ee.Ou],styles:[".mat-mdc-card[_ngcontent-%COMP%]{width:400px}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{display:block;padding:0}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#00000080;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.message-loader[_ngcontent-%COMP%]{display:flex;margin-top:10px}.message-text[_ngcontent-%COMP%]{padding:10px}"]}),K})()},7655:(vn,it,E)=>{var d=E(6550),C=E(3676),m=E(2223),ee=E(3919);let Ee=(()=>{class V{constructor(g,T){this.router=g,this.userDataService=T}canActivate(g,T){return"/postFeed"!==T.url||!(!this.userDataService.userHasProfile||!this.userDataService.isLoggedIn)||(this.router.navigate([""]),!1)}}return V.\u0275fac=function(g){return new(g||V)(m.LFG(C.F0),m.LFG(ee.M))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();var re=E(9401);function K(V,y){return g=>{const T=g.get(V)?.value,j=g.get(y)?.value;return T!==j?{fieldsMatch:!0}:null}}var ve=E(9802),De=E(8410),oe=E(1205),ue=E(6286),fe=E(4755),et=E(1728),Ve=E(6012);function lt(V,y){1&V&&(m.TgZ(0,"div")(1,"small",13),m._uU(2,"Please, enter a valid email."),m.qZA()())}function Qe(V,y){if(1&V&&(m.TgZ(0,"div")(1,"small",13),m._uU(2),m.qZA()()),2&V){const g=m.oxw(2);m.xp6(2),m.hij(" The field must have at least ",g.minLength," characters. ")}}function Je(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"div",8),m._UZ(1,"input",9),m.YNc(2,lt,3,0,"div",10),m._UZ(3,"input",11),m.YNc(4,Qe,3,1,"div",10),m.TgZ(5,"button",12),m.NdJ("click",function(){m.CHM(g);const j=m.oxw();return m.KtG(j.onLoginSubmitClick())}),m._uU(6," Login "),m.qZA()()}if(2&V){const g=m.oxw();let T,j;m.xp6(2),m.Q6J("ngIf",(null==(T=g.authenticatorForm.get("login.loginEmail"))?null:T.invalid)&&(null==(T=g.authenticatorForm.get("login.loginEmail"))?null:T.touched)),m.xp6(2),m.Q6J("ngIf",(null==(j=g.authenticatorForm.get("login.loginPassword"))?null:j.invalid)&&(null==(j=g.authenticatorForm.get("login.loginPassword"))?null:j.touched))}}function Ue(V,y){1&V&&(m.TgZ(0,"div")(1,"small",13),m._uU(2,"Please, enter a valid email."),m.qZA()())}function ke(V,y){if(1&V&&(m.TgZ(0,"div")(1,"small",13),m._uU(2),m.qZA()()),2&V){const g=m.oxw(2);m.xp6(2),m.hij(" The field must have at least ",g.minLength," characters. ")}}function wt(V,y){if(1&V&&(m.TgZ(0,"small",13),m._uU(1),m.qZA()),2&V){const g=m.oxw(3);m.xp6(1),m.hij(" The field must have at least ",g.minLength," characters. ")}}function he(V,y){1&V&&(m.TgZ(0,"small",13),m._uU(1,"Password must match "),m.qZA())}function Ce(V,y){if(1&V&&(m.TgZ(0,"div"),m.YNc(1,wt,2,1,"small",19),m.YNc(2,he,2,0,"small",19),m.qZA()),2&V){const g=m.oxw(2);let T,j;m.xp6(1),m.Q6J("ngIf",null==(T=g.authenticatorForm.get("register.registerConfirmPassword"))?null:T.invalid),m.xp6(1),m.Q6J("ngIf",null==(j=g.authenticatorForm.get("register"))||null==j.errors?null:j.errors.fieldsMatch)}}function ge(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"div",14),m._UZ(1,"input",15),m.YNc(2,Ue,3,0,"div",10),m._UZ(3,"input",16),m.YNc(4,ke,3,1,"div",10),m._UZ(5,"input",17),m.YNc(6,Ce,3,2,"div",10),m.TgZ(7,"button",18),m.NdJ("click",function(){m.CHM(g);const j=m.oxw();return m.KtG(j.onRegisterSubmitClick())}),m._uU(8," Create "),m.qZA()()}if(2&V){const g=m.oxw();let T,j,me;m.xp6(2),m.Q6J("ngIf",(null==(T=g.authenticatorForm.get("register.registerEmail"))?null:T.invalid)&&(null==(T=g.authenticatorForm.get("register.registerEmail"))?null:T.touched)),m.xp6(2),m.Q6J("ngIf",(null==(j=g.authenticatorForm.get("register.registerPassword"))?null:j.invalid)&&(null==(j=g.authenticatorForm.get("register.registerPassword"))?null:j.touched)),m.xp6(2),m.Q6J("ngIf",null==(me=g.authenticatorForm.get("register.registerConfirmPassword"))?null:me.touched)}}function Ae(V,y){1&V&&(m.TgZ(0,"div")(1,"small",13),m._uU(2,"Please, enter a valid email."),m.qZA()())}function Ge(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"div",20),m._UZ(1,"input",21),m.YNc(2,Ae,3,0,"div",10),m.TgZ(3,"button",18),m.NdJ("click",function(){m.CHM(g);const j=m.oxw();return m.KtG(j.onResetClick())}),m._uU(4," Reset "),m.qZA()()}if(2&V){const g=m.oxw();let T;m.xp6(2),m.Q6J("ngIf",(null==(T=g.authenticatorForm.get("forgot.resetEmail"))?null:T.invalid)&&(null==(T=g.authenticatorForm.get("forgot.resetEmail"))?null:T.touched))}}var Z=(()=>((Z=Z||{})[Z.LOGIN=0]="LOGIN",Z[Z.REGISTER=1]="REGISTER",Z[Z.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Z))(),Ke=(()=>((Ke=Ke||{})[Ke.LOGIN=0]="LOGIN",Ke[Ke.REGISTER=1]="REGISTER",Ke[Ke.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Ke))();let Le=(()=>{class V{constructor(g,T,j,me){this.bottomSheetRef=g,this.afAuth=T,this.router=j,this.dialog=me,this.state=Z.LOGIN,this.minLength=3,this.authenticatorForm=new re.cw({login:new re.cw({loginEmail:new re.NI("",[re.kI.required,re.kI.email]),loginPassword:new re.NI("",[re.kI.required,re.kI.minLength(this.minLength)])}),register:new re.cw({registerEmail:new re.NI("",[re.kI.required,re.kI.email]),registerPassword:new re.NI("",[re.kI.required,re.kI.minLength(this.minLength)]),registerConfirmPassword:new re.NI("",[re.kI.required,re.kI.minLength(this.minLength)])},{validators:K("registerPassword","registerConfirmPassword")}),forgot:new re.cw({resetEmail:new re.NI("",[re.kI.required,re.kI.email])})})}submitForm(g){switch(g.preventDefault(),this.submitState){case Ke.LOGIN:this.setLogin();break;case Ke.REGISTER:this.setRegister();break;case Ke.FORGOT_PASSWORD:this.setReset()}}setRegister(){const g=this.authenticatorForm.get("register");if(g&&g.valid){const{registerEmail:T,registerPassword:j}=g.value;this.afAuth.createUserWithEmailAndPassword(T,j).then(()=>{this.router.navigate(["emailVerification"]),this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(me=>{this.dialog.open(ve.S,{data:{info:"Account with this email already exists",message:me.message}})})}}onRegisterSubmitClick(){this.authenticatorForm.get("register.registerEmail")?.markAsTouched(),this.authenticatorForm.get("register.registerPassword")?.markAsTouched(),this.authenticatorForm.get("register.registerConfirmPassword")?.markAsTouched(),this.submitState=Ke.REGISTER}setLogin(){const g=this.authenticatorForm.get("login.loginEmail"),T=this.authenticatorForm.get("login.loginPassword");g&&T&&!g.errors&&!T.errors&&this.afAuth.signInWithEmailAndPassword(g.value,T.value).then(()=>{this.bottomSheetRef.dismiss(),this.authenticatorForm.reset()}).catch(j=>{this.dialog.open(ve.S,{data:{info:"Invalid E-mail or password",message:j.message}})})}onLoginSubmitClick(){this.authenticatorForm.get("login.loginEmail")?.markAsTouched(),this.authenticatorForm.get("login.loginPassword")?.markAsTouched(),this.submitState=Ke.LOGIN}setReset(){const g=this.authenticatorForm.get("forgot.resetEmail");g&&!g.errors&&this.afAuth.sendPasswordResetEmail(g.value).then(()=>{this.bottomSheetRef.dismiss(),this.dialog.open(ve.S,{data:{info:"Check your E-mail",message:"A link to change your password has been sent to your email."}}),this.authenticatorForm.reset()}).catch(()=>{this.dialog.open(ve.S,{data:{info:"Invalid E-mail",message:"The email address is badly formatted."}})})}onResetClick(){this.authenticatorForm.get("forgot.resetEmail")?.markAsTouched(),this.submitState=Ke.FORGOT_PASSWORD}onForgotPasswordButton(){this.state=Z.FORGOT_PASSWORD}onCreateAccountButton(){this.state=Z.REGISTER}onLoginButton(){this.state=Z.LOGIN}isLoginState(){return this.state==Z.LOGIN}isRegisterState(){return this.state==Z.REGISTER}isForgotPasswordState(){return this.state==Z.FORGOT_PASSWORD}getStateText(){switch(this.state){case Z.LOGIN:return"Login";case Z.REGISTER:return"Register";case Z.FORGOT_PASSWORD:return"Forgot password"}}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(De.oL),m.Y36(oe.zQ),m.Y36(C.F0),m.Y36(ue.uw))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-authenticator"]],decls:17,vars:5,consts:[[1,"authenticator"],[1,"authenticator-content"],[3,"formGroup","submit"],["formGroupName","login",4,"ngIf"],["formGroupName","register",4,"ngIf"],["formGroupName","forgot",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["formGroupName","login"],["placeholder","Email","formControlName","loginEmail","autocomplete","email"],[4,"ngIf"],["placeholder","Password","type","password","formControlName","loginPassword","autocomplete","current-password"],["mat-flat-button","","color","warn","type","submit",3,"click"],[1,"error"],["formGroupName","register"],["placeholder","Email","formControlName","registerEmail","autocomplete","email"],["placeholder","Password","type","password","formControlName","registerPassword","autocomplete","new-password"],["placeholder","Confirm password","type","password","formControlName","registerConfirmPassword","autocomplete","new-password"],["mat-flat-button","","color","warn",3,"click"],["class","error",4,"ngIf"],["formGroupName","forgot"],["placeholder","Email","formControlName","resetEmail","autocomplete","email"]],template:function(g,T){1&g&&(m.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),m._uU(4),m.qZA()(),m.TgZ(5,"mat-card-content")(6,"form",2),m.NdJ("submit",function(me){return T.submitForm(me)}),m.YNc(7,Je,7,2,"div",3),m.YNc(8,ge,9,3,"div",4),m.YNc(9,Ge,5,1,"div",5),m.qZA()(),m.TgZ(10,"mat-card-actions",6)(11,"button",7),m.NdJ("click",function(){return T.onForgotPasswordButton()}),m._uU(12," Forgot Password "),m.qZA(),m.TgZ(13,"button",7),m.NdJ("click",function(){return T.onCreateAccountButton()}),m._uU(14," Create an Account "),m.qZA(),m.TgZ(15,"button",7),m.NdJ("click",function(){return T.onLoginButton()}),m._uU(16,"Login"),m.qZA()()()()),2&g&&(m.xp6(4),m.Oqu(T.getStateText()),m.xp6(2),m.Q6J("formGroup",T.authenticatorForm),m.xp6(1),m.Q6J("ngIf",T.isLoginState()),m.xp6(1),m.Q6J("ngIf",T.isRegisterState()),m.xp6(1),m.Q6J("ngIf",T.isForgotPasswordState()))},dependencies:[fe.O5,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u,re.x0,et.lW,Ve.a8,Ve.hq,Ve.dn,Ve.dk,Ve.n5],styles:[".authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box}.authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid black;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}"]}),V})();var Ze=E(1188);let xt=(()=>{class V{constructor(g,T,j){this.userDataService=g,this.loginSheet=T,this.storageService=j,this.backgroundStorage=""}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/home_background.jpg").subscribe(T=>this.backgroundStorage=`url(${T})`)}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getIsLoggedIn(){return this.userDataService.isLoggedIn}onGetStartedClick(){this.loginSheet.open(Le)}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(ee.M),m.Y36(De.ch),m.Y36(Ze.V))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-home"]],decls:10,vars:3,consts:[[1,"home-page"],[1,"home-page-landing"],[1,"landing-left"],[1,"landing-left-content"],["mat-flat-button","",3,"disabled","click"]],template:function(g,T){1&g&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),m._uU(5,"Social Media App Platform"),m.qZA(),m.TgZ(6,"p"),m._uU(7,"Oh, hello, my precious friend!"),m.qZA(),m.TgZ(8,"button",4),m.NdJ("click",function(){return T.onGetStartedClick()}),m._uU(9," Get Started "),m.qZA()()()()()),2&g&&(m.xp6(1),m.Udp("background-image",T.backgroundStorage),m.xp6(7),m.Q6J("disabled",T.getIsLoggedIn()))},dependencies:[et.lW],styles:[".home-page[_ngcontent-%COMP%]{width:100%;height:100%}.home-page-landing[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:100vh}.landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}.landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}.landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}.landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}.landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:2em;padding:.5em;background-color:#f44336}.landing-left-content[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#dcdcdc}"]}),V})(),yn=(()=>{class V{constructor(g,T){this.afAuth=g,this.router=T,this.authStateSubscription=this.afAuth.authState.subscribe(j=>{j?.emailVerified&&this.router.navigate([""])})}ngOnDestroy(){this.authStateSubscription&&this.authStateSubscription.unsubscribe()}onResendClick(){this.afAuth.currentUser.then(g=>{g?.sendEmailVerification()})}onRefreshClick(){window.location.reload()}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(oe.zQ),m.Y36(C.F0))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-email-verification"]],decls:8,vars:0,consts:[[1,"email-verification"],[1,"buttons"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(g,T){1&g&&(m.TgZ(0,"mat-card",0)(1,"h1"),m._uU(2,"Your Email is not verified"),m.qZA(),m.TgZ(3,"mat-card-content",1)(4,"button",2),m.NdJ("click",function(){return T.onResendClick()}),m._uU(5," Resend Verification Email "),m.qZA(),m.TgZ(6,"button",3),m.NdJ("click",function(){return T.onRefreshClick()}),m._uU(7," Refresh "),m.qZA()()())},dependencies:[et.lW,Ve.a8,Ve.dn],styles:[".email-verification[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;text-align:center;justify-content:center}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 20px}"]}),V})();var Rn=E(8505),_t=E(8746),gt=E(9300),Lt=E(3900),Vt=E(262),Jt=E(515),Qt=E(4128),un=E(1627),_n=E(8445),on=E(1762),Rt=E(8577),Ye=E(430);function tt(V,y){1&V&&(m.TgZ(0,"div",9),m._UZ(1,"img",10),m.qZA())}const Nt=function(V){return{error:V}};let Et=(()=>{class V{constructor(g,T,j,me,rt,ot,pt){this.storage=g,this.afAuth=T,this.firestore=j,this.userDataService=me,this.dialogCreatePost=rt,this.dialogOpen=ot,this.postsDataService=pt,this.collection=this.firestore.collection("Posts"),this.createPostForm=new re.cw({message:new re.NI("",[re.kI.required])})}ngOnDestroy(){this.uploadImagePostSubscription&&this.uploadImagePostSubscription.unsubscribe()}checkMessage(){return!(!this.createPostForm.get("message")?.invalid||!this.createPostForm.get("message")?.touched)}onPostClick(){const g=this.createPostForm.get("message");g?.markAsTouched(),!g?.errors&&(this.selectedImageFile?this.uploadImagePost(g?.value):this.uploadPost(g?.value))}uploadImagePost(g){const T=this.firestore.createId(),j=`Posts/${T}/image`,me=this.storage.ref(j),rt=this.storage.upload(j,this.selectedImageFile),ot=this.dialogOpen.open(un.R,{disableClose:!0,data:{info:"Upload progress",message:""}}),pt=rt.percentageChanges().pipe((0,Rn.b)(wn=>{ot.componentInstance.message={info:"Upload progress",message:`Upload progress: ${wn?.toFixed(2)}%`}}),(0,_t.x)(()=>ot.close())),hn=rt.snapshotChanges().pipe((0,gt.h)(wn=>"success"===wn.state),(0,Lt.w)(()=>me.getDownloadURL()),(0,Vt.K)(wn=>(console.error("Error getting image URL:",wn),Jt.E)));this.uploadImagePostSubscription=(0,Qt.D)([pt,hn]).pipe((0,Lt.w)(([wn,jn])=>this.postsDataService.uploadImagePost(T,g,jn)),(0,Vt.K)(wn=>(console.error("Error writing document: ",wn),Jt.E))).subscribe(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")})}uploadPost(g){this.postsDataService.uploadPost(g).then(()=>{this.dialogCreatePost.close(),this.postsDataService.newGetPosts("add")}).catch(T=>{console.error("Error writing document: ",T)})}photoSelected(g){if(this.selectedImageFile=g.files[0],!this.selectedImageFile)return;const T=new FileReader;T.readAsDataURL(this.selectedImageFile),T.addEventListener("loadend",j=>{const me=T.result.toString();document.getElementById("post-preview-image").src=me})}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(_n.Q1),m.Y36(oe.zQ),m.Y36(on.ST),m.Y36(ee.M),m.Y36(ue.so),m.Y36(ue.uw),m.Y36(Rt.n))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-create-post"]],decls:16,vars:5,consts:[[3,"formGroup","submit"],["formControlName","message","placeholder","Type Message...",3,"ngClass"],["class","post-preview",4,"ngIf"],["align","end"],["type","button","mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["type","submit","mat-flat-button","","color","warn"],[1,"post-preview"],["id","post-preview-image"]],template:function(g,T){if(1&g){const j=m.EpF();m.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m._uU(3,"Create post"),m.qZA()(),m.TgZ(4,"form",0),m.NdJ("submit",function(){return T.onPostClick()}),m._UZ(5,"textarea",1),m.YNc(6,tt,2,0,"div",2),m.TgZ(7,"mat-card-actions",3)(8,"button",4)(9,"label",5)(10,"input",6,7),m.NdJ("change",function(){m.CHM(j);const rt=m.MAs(11);return m.KtG(T.photoSelected(rt))}),m.qZA(),m.TgZ(12,"mat-icon"),m._uU(13,"insert_photo"),m.qZA()()(),m.TgZ(14,"button",8),m._uU(15,"Post"),m.qZA()()()()}2&g&&(m.xp6(4),m.Q6J("formGroup",T.createPostForm),m.xp6(1),m.Q6J("ngClass",m.VKq(3,Nt,T.checkMessage())),m.xp6(1),m.Q6J("ngIf",T.selectedImageFile))},dependencies:[fe.mk,fe.O5,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u,et.lW,Ve.a8,Ve.hq,Ve.dk,Ve.n5,Ye.Hw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}.error[_ngcontent-%COMP%]::placeholder{color:red}.post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}.post-preview[_ngcontent-%COMP%]   #post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),V})();var zt=E(5861),St=E(5213);let At=(()=>{class V{constructor(g,T,j,me,rt){this.userDataService=g,this.firestore=T,this.storage=j,this.postDataService=me,this.mainUserPageService=rt,this.likes=0,this.isLiked=!1,this.yourLikeId=null,this.creatorName="",this.creatorDescription="",this.creatorImage="",this.collectionUsers=this.firestore.collection("Users"),this.collectionPosts=this.firestore.collection("Posts")}deletePost(g){const T=this.userDataService.getCurrentUserId();this.collectionPosts.doc(g).delete().then(),this.mainUserPageService.deleteUserPost(T,g),this.postDataService.deleteCollection(g,"Likes"),this.postDataService.deleteCollection(g,"PostComments"),this.postDataService.newGetPosts("delete")}getCreatorInfo(g){this.collectionUsers.doc(g.creatorId).get().toPromise().then(T=>{const j=T.data();this.creatorName=j?.publicName||"",this.creatorDescription=j?.description||"",this.creatorImage=j?.imageUrl||""}).catch(T=>{console.error("Error when fetching creator information:",T)})}likeButton(g){this.yourLikeId?this.deleteLike(g):this.checkCollectionExistence(g).then(T=>{T?this.addLike(g):this.createLike(g)}).catch(T=>{console.error("Error checking if collection exists:",T)})}addLike(g){var T=this;return(0,zt.Z)(function*(){const j=T.userDataService.getCurrentUserId(),me=T.firestore.createId();try{(yield T.searchDocumentsByCreatorId(j,g)).length<1&&(yield T.collectionPosts.doc(g).collection("Likes").doc(me).set({likeId:me,creatorId:j,timestamp:new Date}),T.isLiked=!0)}catch(rt){console.error("Error when searching for documents:",rt)}})()}createLike(g){var T=this;return(0,zt.Z)(function*(){const j=T.firestore.createId();try{yield T.collectionPosts.doc(g).collection("Likes").doc(j).set({likeId:j,creatorId:T.userDataService.getCurrentUserId(),timestamp:new Date}),T.isLiked=!0}catch(me){console.error("Error when creating like:",me)}})()}listenToDocumentValueChanges(g,T){return this.collectionPosts.doc(g).collection(T).valueChanges()}getLikes(g){const T=g,me=this.userDataService.getCurrentUserId();this.listenToDocumentValueChanges(T,"Likes").subscribe(rt=>{this.likes=rt.length,rt.find(ot=>{ot.creatorId==me&&(this.yourLikeId=ot.likeId,this.isLiked=!0)})})}deleteLike(g){this.yourLikeId&&this.collectionPosts.doc(g).collection("Likes").doc(this.yourLikeId).delete().then(()=>{this.isLiked=!1,this.yourLikeId=null})}searchDocumentsByCreatorId(g,T){return this.collectionPosts.doc(T).collection("Likes").ref.where("creatorId","==",g).get().then(me=>me.docs.map(rt=>rt.data())).catch(me=>{throw me})}checkCollectionExistence(g){return this.collectionPosts.doc(g).collection("Likes").get().toPromise().then(j=>!j.empty).catch(j=>{throw j})}downloadFile(g){this.storage.ref(g).getDownloadURL().toPromise().then(j=>{const me=document.createElement("a");me.href=j,me.setAttribute("download",""),me.setAttribute("target","_blank"),document.body.appendChild(me),me.click(),document.body.removeChild(me)}).catch(j=>{console.error("Error when downloading file:",j)})}}return V.\u0275fac=function(g){return new(g||V)(m.LFG(ee.M),m.LFG(on.ST),m.LFG(_n.Q1),m.LFG(Rt.n),m.LFG(St.v))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})(),dt=(()=>{class V{constructor(g,T){this.firestore=g,this.userDataService=T,this.comments=[],this.collection=this.firestore.collection("Posts")}getComments(g){this.listenToDocumentValueChanges("Posts",g,"PostComments").subscribe(rt=>{this.comments.length===rt.length&&this.comments.every((pt,hn)=>pt.comment===rt[hn].comment)||(this.comments=rt)})}listenToDocumentValueChanges(g,T,j){return this.firestore.collection(g).doc(T).collection(j,rt=>rt.orderBy("timestamp","desc")).valueChanges()}sendComment(g,T){const j=this.firestore.createId();this.collection.doc(T).collection("PostComments").doc(j).set({commentId:j,comment:g,creatorId:this.userDataService.userInfo.userId,creatorName:this.userDataService.userInfo.publicName,timestamp:new Date})}updateComment(g,T,j){this.collection.doc(T).collection("PostComments").doc(g.commentId).update({comment:j})}deleteComment(g,T){this.collection.doc(T).collection("PostComments").doc(g.commentId).delete()}isCommentCreator(g){return g.creatorId===this.userDataService.userInfo.userId}getUserInfoById(g){return this.firestore.collection("Users").doc(g).valueChanges()}}return V.\u0275fac=function(g){return new(g||V)(m.LFG(on.ST),m.LFG(ee.M))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})();var ze=E(2659);function Zt(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"div",5),m.NdJ("click",function(){m.CHM(g);const j=m.oxw();return m.KtG(j.goToFriendPageClick())}),m._UZ(1,"img",6),m.TgZ(2,"div",7),m._uU(3),m.qZA()()}if(2&V){const g=m.oxw();m.xp6(1),m.s9C("src",g.userImageUrl,m.LSH),m.xp6(2),m.Oqu(g.userName)}}function bn(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"div",8),m.NdJ("click",function(){m.CHM(g);const j=m.oxw();return m.KtG(j.goToFriendPageClick())}),m.TgZ(1,"div",7),m._uU(2),m.qZA(),m._UZ(3,"img",6),m.qZA()}if(2&V){const g=m.oxw();m.xp6(2),m.Oqu(g.userName),m.xp6(1),m.s9C("src",g.userImageUrl,m.LSH)}}function mn(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"button",11),m.NdJ("click",function(){m.CHM(g);const j=m.oxw(2);return m.KtG(j.chaneCommentClick())}),m._uU(1," Change "),m.qZA()}}function Mt(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"button",11),m.NdJ("click",function(){m.CHM(g);const j=m.oxw(2);return m.KtG(j.responseCommentClick())}),m._uU(1," Response "),m.qZA()}}function de(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"button",12),m.NdJ("click",function(){m.CHM(g);const j=m.oxw(2);return m.KtG(j.deleteCommentClick())}),m._uU(1," Delete "),m.qZA()}}function Ne(V,y){if(1&V&&(m.YNc(0,mn,2,0,"button",9),m.YNc(1,Mt,2,0,"button",9),m.YNc(2,de,2,0,"button",10)),2&V){const g=m.oxw();m.Q6J("ngIf",g.isCommentCreator()),m.xp6(1),m.Q6J("ngIf",!g.isCommentCreator()),m.xp6(1),m.Q6J("ngIf",g.isCommentCreator())}}const ht=function(V){return{comment:!0,"creator-comment":V}};let ut=(()=>{class V{constructor(g,T,j){this.replyService=g,this.userPageService=T,this.dialog=j,this.chaneComment=new m.vpe,this.responseComment=new m.vpe,this.userName="",this.userImageUrl=""}ngOnInit(){this.userInfoSubscription=this.replyService.getUserInfoById(this.commentData.creatorId).subscribe(g=>{this.userName=g?.publicName||"",this.userImageUrl=g?.imageUrl||""})}ngOnDestroy(){this.userInfoSubscription&&this.userInfoSubscription.unsubscribe()}goToFriendPageClick(){this.userPageService.goToFriendPage(this.commentData.creatorId),this.dialog.closeAll()}isCommentCreator(){return this.replyService.isCommentCreator(this.commentData)}chaneCommentClick(){this.chaneComment.emit(this.commentData)}deleteCommentClick(){this.replyService.deleteComment(this.commentData,this.postId)}responseCommentClick(){this.responseComment.emit(this.userName)}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(dt),m.Y36(St.v),m.Y36(ue.uw))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-comment"]],inputs:{commentData:"commentData",postId:"postId"},outputs:{chaneComment:"chaneComment",responseComment:"responseComment"},decls:8,vars:7,consts:[["class","comment-header",3,"click",4,"ngIf"],["class","comment-header comment-header-creator",3,"click",4,"ngIf"],[3,"ngClass","matMenuTriggerFor"],["menu","matMenu"],["matMenuContent",""],[1,"comment-header",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment-name"],[1,"comment-header","comment-header-creator",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","delete","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete",3,"click"]],template:function(g,T){if(1&g&&(m.TgZ(0,"div"),m.YNc(1,Zt,4,2,"div",0),m.YNc(2,bn,4,2,"div",1),m.TgZ(3,"div",2),m._uU(4),m.qZA(),m.TgZ(5,"mat-menu",null,3),m.YNc(7,Ne,3,3,"ng-template",4),m.qZA()()),2&g){const j=m.MAs(6);m.xp6(1),m.Q6J("ngIf",!T.isCommentCreator()),m.xp6(1),m.Q6J("ngIf",T.isCommentCreator()),m.xp6(1),m.Q6J("ngClass",m.VKq(5,ht,T.isCommentCreator()))("matMenuTriggerFor",j),m.xp6(1),m.hij(" ",T.commentData.comment," ")}},dependencies:[fe.mk,fe.O5,ze.VK,ze.OP,ze.KA,ze.p6],styles:[".comment[_ngcontent-%COMP%]{cursor:pointer;max-width:200px;word-wrap:break-word;border-radius:1em;background-color:#dcdcdc;padding:1em}.comment-header[_ngcontent-%COMP%]{margin-bottom:5px;width:100%;display:flex;align-items:center;cursor:pointer}.comment-header-creator[_ngcontent-%COMP%]{justify-content:flex-end}.comment-header[_ngcontent-%COMP%]:hover{color:#f44336}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:5px 10px 0;width:30px;height:30px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}.mat-mdc-select-placeholder[_ngcontent-%COMP%]{color:#fff}.mat-mdc-select-arrow-wrapper[_ngcontent-%COMP%]{display:none!important}"]}),V})();const kt=["commentInput"],Yt=function(V){return{"comment-container":!0,"creator-comment-container":V}};function an(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"div",7)(1,"app-comment",8),m.NdJ("chaneComment",function(j){m.CHM(g);const me=m.oxw();return m.KtG(me.chaneComment(j))})("responseComment",function(j){m.CHM(g);const me=m.oxw();return m.KtG(me.responseComment(j))}),m.qZA()()}if(2&V){const g=y.$implicit,T=m.oxw();m.Q6J("ngClass",m.VKq(3,Yt,T.isCommentCreator(g))),m.xp6(1),m.Q6J("postId",T.postId)("commentData",g)}}const Kn=function(V){return{error:V}};let oi=(()=>{class V{constructor(g,T,j){this.postId=g,this.userDataService=T,this.replyService=j,this.isChangeComment=!1,this.replyForm=new re.cw({comment:new re.NI("",[re.kI.required])})}ngOnInit(){this.replyService.getComments(this.postId)}getPostComments(){return this.replyService.comments}onSendClick(){const g=this.replyForm.get("comment");g?.markAsTouched(),g&&!g.errors&&(this.isChangeComment?(this.replyService.updateComment(this.selectedComment,this.postId,g.value),this.isChangeComment=!1,g.reset()):(this.replyService.sendComment(g.value,this.postId),g.reset()))}checkComment(){return!(!this.replyForm.get("comment")?.invalid||!this.replyForm.get("comment")?.touched)}isCommentCreator(g){return this.replyService.isCommentCreator(g)}chaneComment(g){this.isChangeComment=!0,this.replyForm.get("comment")?.setValue(g.comment),this.commentInput.nativeElement.focus(),this.selectedComment=g}responseComment(g){this.replyForm.get("comment")?.setValue(`@${g}_`),this.commentInput.nativeElement.focus()}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(ue.WI),m.Y36(ee.M),m.Y36(dt))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-reply"]],viewQuery:function(g,T){if(1&g&&m.Gf(kt,5),2&g){let j;m.iGM(j=m.CRH())&&(T.commentInput=j.first)}},features:[m._Bn([dt])],decls:11,vars:5,consts:[[1,"comments"],[1,"reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"reply-action-bar",3,"formGroup","submit"],["type","submit","mat-flat-button","","color","primary"],["formControlName","comment","placeholder","Comment...",3,"ngClass"],["commentInput",""],[3,"ngClass"],[3,"postId","commentData","chaneComment","responseComment"]],template:function(g,T){1&g&&(m.TgZ(0,"mat-card",0)(1,"mat-card-header"),m._uU(2," Comments "),m.qZA(),m.TgZ(3,"mat-card-content",1),m.YNc(4,an,2,5,"div",2),m.qZA(),m.TgZ(5,"form",3),m.NdJ("submit",function(){return T.onSendClick()}),m.TgZ(6,"button",4)(7,"mat-icon"),m._uU(8,"send"),m.qZA()(),m._UZ(9,"input",5,6),m.qZA()()),2&g&&(m.xp6(4),m.Q6J("ngForOf",T.getPostComments()),m.xp6(1),m.Q6J("formGroup",T.replyForm),m.xp6(4),m.Q6J("ngClass",m.VKq(3,Kn,T.checkComment())))},dependencies:[fe.mk,fe.sg,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u,et.lW,Ve.a8,Ve.dn,Ve.dk,Ye.Hw,ut],styles:[".comments[_ngcontent-%COMP%]{padding:1em;height:100%;width:100%}.comments[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.reply-box[_ngcontent-%COMP%]{width:100%;height:350px;overflow:auto;min-width:500px;max-width:600px;padding:1em 1em 0;box-sizing:border-box;background-color:#eaeaea}.reply-action-bar[_ngcontent-%COMP%]{margin:1em 0 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;direction:rtl}.reply-action-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em;border:1px solid gray;border-radius:1em;outline:none;width:80%;box-sizing:border-box;direction:ltr}.reply-action-bar[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border-color:#f44336}.reply-action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:3em}.comment-container[_ngcontent-%COMP%]{display:flex}.creator-comment-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),V})();function Dn(V,y){if(1&V&&m._UZ(0,"img",9),2&V){const g=m.oxw();m.s9C("src",g.postData.imageUrl,m.LSH)}}function cn(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"mat-icon",5),m.NdJ("click",function(){m.CHM(g);const j=m.oxw();return m.KtG(j.downloadImageClick())}),m._uU(1," open_in_new "),m.qZA()}}function Hn(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"mat-icon",5),m.NdJ("click",function(){m.CHM(g);const j=m.oxw();return m.KtG(j.deletePostClick())}),m._uU(1,"delete"),m.qZA()}}let je=(()=>{class V{constructor(g,T,j,me){this.dialog=g,this.userDataService=T,this.postService=j,this.mainUserPageService=me}ngOnInit(){this.postService.getCreatorInfo(this.postData),this.postService.getLikes(this.postData.postId)}ngOnDestroy(){this.dialogRefSubscription&&this.dialogRefSubscription.unsubscribe()}getDate(){return this.postData.timestamp.toDate()}getCreatorName(){return this.postService.creatorName}getIsLiked(){return this.postService.isLiked}onReplyClick(){this.dialog.open(oi,{data:this.postData.postId})}getLikes(){return this.postService.likes}onLikeClick(){this.postService.likeButton(this.postData.postId)}downloadImageClick(){this.postService.downloadFile(`Posts/${this.postData.postId}/image`)}checkDeleteButton(){return this.postData.creatorId===this.userDataService.userInfo.userId}deletePostClick(){const g=this.dialog.open(ve.S,{data:{info:"Post deletion",message:"Do you really want to remove this post?",addButton:!0,nameButton:"Yes"}});this.dialogRefSubscription=g.afterClosed().subscribe(T=>{T&&this.postService.deletePost(this.postData.postId)})}getUserImage(){return this.postService.creatorImage}goToFriendPageClick(){this.mainUserPageService.goToFriendPage(this.postData.creatorId)}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(ue.uw),m.Y36(ee.M),m.Y36(At),m.Y36(St.v))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-post"]],inputs:{postData:"postData"},features:[m._Bn([At])],decls:21,vars:12,consts:[[1,"post"],[1,"creator-name",3,"click"],["alt","User photo",1,"avatar",3,"src"],[1,"comment"],["class","image","mat-card-image","","alt","img",3,"src",4,"ngIf"],["color","warn",1,"action-item",3,"click"],[1,"likes"],[1,"likes-number"],["class","action-item","color","warn",3,"click",4,"ngIf"],["mat-card-image","","alt","img",1,"image",3,"src"]],template:function(g,T){1&g&&(m.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),m.NdJ("click",function(){return T.goToFriendPageClick()}),m._UZ(3,"img",2),m._uU(4),m.qZA(),m.TgZ(5,"mat-card-subtitle"),m._uU(6),m.ALo(7,"date"),m.qZA()(),m.TgZ(8,"mat-card-content",3),m._uU(9),m.qZA(),m.YNc(10,Dn,1,1,"img",4),m.TgZ(11,"mat-card-actions")(12,"mat-icon",5),m.NdJ("click",function(){return T.onReplyClick()}),m._uU(13," chat_bubble_outline "),m.qZA(),m.TgZ(14,"div",6)(15,"mat-icon",5),m.NdJ("click",function(){return T.onLikeClick()}),m._uU(16),m.qZA(),m.TgZ(17,"div",7),m._uU(18),m.qZA()(),m.YNc(19,cn,2,0,"mat-icon",8),m.YNc(20,Hn,2,0,"mat-icon",8),m.qZA()()),2&g&&(m.xp6(3),m.s9C("src",T.getUserImage(),m.LSH),m.xp6(1),m.hij(" ",T.getCreatorName()," "),m.xp6(2),m.Oqu(m.xi3(7,9,T.getDate(),"MMM d, y, H:mm ")),m.xp6(3),m.hij(" ",T.postData.comment," "),m.xp6(1),m.Q6J("ngIf",T.postData.imageUrl),m.xp6(6),m.hij(" ",T.getIsLiked()?"favorite":"favorite_border","favorite_border "),m.xp6(2),m.Oqu(T.getLikes()),m.xp6(1),m.Q6J("ngIf",T.postData.imageUrl),m.xp6(1),m.Q6J("ngIf",T.checkDeleteButton()))},dependencies:[fe.O5,Ve.a8,Ve.hq,Ve.dn,Ve.dk,Ve.G2,Ve.$j,Ve.n5,Ye.Hw,fe.uU],styles:[".post[_ngcontent-%COMP%]{width:500px;margin-top:2em;background-color:#f1f1f1}.creator-name[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;display:flex;align-items:center}.avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin-right:10px;width:40px;height:40px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.creator-name[_ngcontent-%COMP%]:hover{color:#f44336}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}.comment[_ngcontent-%COMP%]{padding:10px;margin:10px 10px 0;border-radius:1em;background-color:#c4c4c4}.image[_ngcontent-%COMP%]{margin:10px;height:auto}.likes[_ngcontent-%COMP%]{width:auto;display:flex;justify-content:center}.likes-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),V})();function It(V,y){1&V&&m._UZ(0,"app-post",4),2&V&&m.Q6J("postData",y.$implicit)}const An=[{path:"",component:xt},{path:"emailVerification",component:yn},{path:"yourFriends",loadChildren:()=>E.e(80).then(E.bind(E,2080)).then(V=>V.FriendsWindowModule)},{path:"userPage",loadChildren:()=>Promise.all([E.e(592),E.e(56)]).then(E.bind(E,56)).then(V=>V.MainUserPageModule)},{path:"friendPage",loadChildren:()=>Promise.all([E.e(592),E.e(991)]).then(E.bind(E,2991)).then(V=>V.FriendPageModule)},{path:"postFeed",component:(()=>{class V{constructor(g,T,j){this.dialog=g,this.postsDataService=T,this.storageService=j,this.limit=3,this.backgroundStorage=""}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/post-feed2.jpg").subscribe(T=>this.backgroundStorage=`url(${T})`),this.postsDataService.getCountOfDocuments(),this.postsDataService.getFirstPosts(),this.postsDataService.getScrollPosts()}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getPosts(){return this.postsDataService.posts}onCreatePostClick(){this.dialog.open(Et)}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(ue.uw),m.Y36(Rt.n),m.Y36(Ze.V))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-post-feed"]],decls:8,vars:3,consts:[[1,"news-line"],[1,"post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn",1,"post-button",3,"click"],[3,"postData"]],template:function(g,T){1&g&&(m.TgZ(0,"div",0)(1,"div",1),m.YNc(2,It,1,1,"app-post",2),m.qZA(),m.TgZ(3,"button",3),m.NdJ("click",function(){return T.onCreatePostClick()}),m.TgZ(4,"div"),m._uU(5,"Create post"),m.qZA(),m.TgZ(6,"mat-icon"),m._uU(7,"add"),m.qZA()()()),2&g&&(m.Udp("background-image",T.backgroundStorage),m.xp6(2),m.Q6J("ngForOf",T.getPosts()))},dependencies:[fe.sg,et.cs,Ye.Hw,je],styles:[".news-line[_ngcontent-%COMP%]{display:flex;padding-top:5em;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}.post-button[_ngcontent-%COMP%]{width:10em;position:fixed;bottom:2em;right:2em}.post-feed[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}"]}),V})(),canActivate:[Ee]},{path:"**",component:xt}];let fi=(()=>{class V{}return V.\u0275fac=function(g){return new(g||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({providers:[Ee],imports:[C.Bz.forRoot(An),C.Bz]}),V})();var ei=E(1591);function qt(V){return new m.vHH(3e3,!1)}function qi(V){switch(V.length){case 0:return new ei.ZN;case 1:return V[0];default:return new ei.ZE(V)}}function Jr(V,y,g=new Map,T=new Map){const j=[],me=[];let rt=-1,ot=null;if(y.forEach(pt=>{const hn=pt.get("offset"),wn=hn==rt,jn=wn&&ot||new Map;pt.forEach((ui,x)=>{let S=x,w=ui;if("offset"!==x)switch(S=V.normalizePropertyName(S,j),w){case ei.k1:w=g.get(x);break;case ei.l3:w=T.get(x);break;default:w=V.normalizeStyleValue(x,S,w,j)}jn.set(S,w)}),wn||me.push(jn),ot=jn,rt=hn}),j.length)throw function Ft(V){return new m.vHH(3502,!1)}();return me}function Ar(V,y,g,T){switch(y){case"start":V.onStart(()=>T(g&&jr(g,"start",V)));break;case"done":V.onDone(()=>T(g&&jr(g,"done",V)));break;case"destroy":V.onDestroy(()=>T(g&&jr(g,"destroy",V)))}}function jr(V,y,g){const me=ao(V.element,V.triggerName,V.fromState,V.toState,y||V.phaseName,g.totalTime??V.totalTime,!!g.disabled),rt=V._data;return null!=rt&&(me._data=rt),me}function ao(V,y,g,T,j="",me=0,rt){return{element:V,triggerName:y,fromState:g,toState:T,phaseName:j,totalTime:me,disabled:!!rt}}function wi(V,y,g){let T=V.get(y);return T||V.set(y,T=g),T}function $o(V){const y=V.indexOf(":");return[V.substring(1,y),V.slice(y+1)]}const fo=(()=>typeof document>"u"?null:document.documentElement)();function eo(V){const y=V.parentNode||V.host||null;return y===fo?null:y}let Hr=null,to=!1;function Go(V,y){for(;y;){if(y===V)return!0;y=eo(y)}return!1}function no(V,y,g){if(g)return Array.from(V.querySelectorAll(y));const T=V.querySelector(y);return T?[T]:[]}let Xo=(()=>{class V{validateStyleProperty(g){return function Do(V){Hr||(Hr=function _s(){return typeof document<"u"?document.body:null}()||{},to=!!Hr.style&&"WebkitAppearance"in Hr.style);let y=!0;return Hr.style&&!function dr(V){return"ebkit"==V.substring(1,6)}(V)&&(y=V in Hr.style,!y&&to&&(y="Webkit"+V.charAt(0).toUpperCase()+V.slice(1)in Hr.style)),y}(g)}matchesElement(g,T){return!1}containsElement(g,T){return Go(g,T)}getParentElement(g){return eo(g)}query(g,T,j){return no(g,T,j)}computeStyle(g,T,j){return j||""}animate(g,T,j,me,rt,ot=[],pt){return new ei.ZN(j,me)}}return V.\u0275fac=function(g){return new(g||V)},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})(),Jo=(()=>{class V{}return V.NOOP=new Xo,V})();const gi=1e3,zr="ng-enter",Or="ng-leave",Io="ng-trigger",bt=".ng-trigger",mt="ng-animating",Ut=".ng-animating";function sn(V){if("number"==typeof V)return V;const y=V.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:pn(parseFloat(y[1]),y[2])}function pn(V,y){return"s"===y?V*gi:V}function ln(V,y,g){return V.hasOwnProperty("duration")?V:function Nn(V,y,g){let j,me=0,rt="";if("string"==typeof V){const ot=V.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ot)return y.push(qt()),{duration:0,delay:0,easing:""};j=pn(parseFloat(ot[1]),ot[2]);const pt=ot[3];null!=pt&&(me=pn(parseFloat(pt),ot[4]));const hn=ot[5];hn&&(rt=hn)}else j=V;if(!g){let ot=!1,pt=y.length;j<0&&(y.push(function nt(){return new m.vHH(3100,!1)}()),ot=!0),me<0&&(y.push(function ct(){return new m.vHH(3101,!1)}()),ot=!0),ot&&y.splice(pt,0,qt())}return{duration:j,delay:me,easing:rt}}(V,y,g)}function si(V,y={}){return Object.keys(V).forEach(g=>{y[g]=V[g]}),y}function xi(V){const y=new Map;return Object.keys(V).forEach(g=>{y.set(g,V[g])}),y}function $i(V,y=new Map,g){if(g)for(let[T,j]of g)y.set(T,j);for(let[T,j]of V)y.set(T,j);return y}function Mi(V,y,g){y.forEach((T,j)=>{const me=es(j);g&&!g.has(j)&&g.set(j,V.style[me]),V.style[me]=T})}function Tr(V,y){y.forEach((g,T)=>{const j=es(T);V.style[j]=""})}function $r(V){return Array.isArray(V)?1==V.length?V[0]:(0,ei.vP)(V):V}const To=new RegExp("{{\\s*(.+?)\\s*}}","g");function po(V){let y=[];if("string"==typeof V){let g;for(;g=To.exec(V);)y.push(g[1]);To.lastIndex=0}return y}function Rr(V,y,g){const T=V.toString(),j=T.replace(To,(me,rt)=>{let ot=y[rt];return null==ot&&(g.push(function Fe(V){return new m.vHH(3003,!1)}()),ot=""),ot.toString()});return j==T?V:j}function Zi(V){const y=[];let g=V.next();for(;!g.done;)y.push(g.value),g=V.next();return y}const Lo=/-+([a-z0-9])/g;function es(V){return V.replace(Lo,(...y)=>y[1].toUpperCase())}function Li(V,y,g){switch(y.type){case 7:return V.visitTrigger(y,g);case 0:return V.visitState(y,g);case 1:return V.visitTransition(y,g);case 2:return V.visitSequence(y,g);case 3:return V.visitGroup(y,g);case 4:return V.visitAnimate(y,g);case 5:return V.visitKeyframes(y,g);case 6:return V.visitStyle(y,g);case 8:return V.visitReference(y,g);case 9:return V.visitAnimateChild(y,g);case 10:return V.visitAnimateRef(y,g);case 11:return V.visitQuery(y,g);case 12:return V.visitStagger(y,g);default:throw function Se(V){return new m.vHH(3004,!1)}()}}function ir(V,y){return window.getComputedStyle(V)[y]}const Gr="*";function is(V,y){const g=[];return"string"==typeof V?V.split(/\s*,\s*/).forEach(T=>function Fs(V,y,g){if(":"==V[0]){const pt=function ks(V,y){switch(V){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,T)=>parseFloat(T)>parseFloat(g);case":decrement":return(g,T)=>parseFloat(T)<parseFloat(g);default:return y.push(function vt(V){return new m.vHH(3016,!1)}()),"* => *"}}(V,g);if("function"==typeof pt)return void y.push(pt);V=pt}const T=V.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return g.push(function we(V){return new m.vHH(3015,!1)}()),y;const j=T[1],me=T[2],rt=T[3];y.push(Ki(j,rt));"<"==me[0]&&!(j==Gr&&rt==Gr)&&y.push(Ki(rt,j))}(T,g,y)):g.push(V),g}const vr=new Set(["true","1"]),Bo=new Set(["false","0"]);function Ki(V,y){const g=vr.has(V)||Bo.has(V),T=vr.has(y)||Bo.has(y);return(j,me)=>{let rt=V==Gr||V==j,ot=y==Gr||y==me;return!rt&&g&&"boolean"==typeof j&&(rt=j?vr.has(V):Bo.has(V)),!ot&&T&&"boolean"==typeof me&&(ot=me?vr.has(y):Bo.has(y)),rt&&ot}}const ho=new RegExp("s*:selfs*,?","g");function Mr(V,y,g,T){return new Xi(V).build(y,g,T)}class Xi{constructor(y){this._driver=y}build(y,g,T){const j=new Xs(g);return this._resetContextStyleTimingState(j),Li(this,$r(y),j)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,g){let T=g.queryCount=0,j=g.depCount=0;const me=[],rt=[];return"@"==y.name.charAt(0)&&g.errors.push(function $t(){return new m.vHH(3006,!1)}()),y.definitions.forEach(ot=>{if(this._resetContextStyleTimingState(g),0==ot.type){const pt=ot,hn=pt.name;hn.toString().split(/\s*,\s*/).forEach(wn=>{pt.name=wn,me.push(this.visitState(pt,g))}),pt.name=hn}else if(1==ot.type){const pt=this.visitTransition(ot,g);T+=pt.queryCount,j+=pt.depCount,rt.push(pt)}else g.errors.push(function Re(){return new m.vHH(3007,!1)}())}),{type:7,name:y.name,states:me,transitions:rt,queryCount:T,depCount:j,options:null}}visitState(y,g){const T=this.visitStyle(y.styles,g),j=y.options&&y.options.params||null;if(T.containsDynamicStyles){const me=new Set,rt=j||{};T.styles.forEach(ot=>{ot instanceof Map&&ot.forEach(pt=>{po(pt).forEach(hn=>{rt.hasOwnProperty(hn)||me.add(hn)})})}),me.size&&(Zi(me.values()),g.errors.push(function ce(V,y){return new m.vHH(3008,!1)}()))}return{type:0,name:y.name,style:T,options:j?{params:j}:null}}visitTransition(y,g){g.queryCount=0,g.depCount=0;const T=Li(this,$r(y.animation),g);return{type:1,matchers:is(y.expr,g.errors),animation:T,queryCount:g.queryCount,depCount:g.depCount,options:We(y.options)}}visitSequence(y,g){return{type:2,steps:y.steps.map(T=>Li(this,T,g)),options:We(y.options)}}visitGroup(y,g){const T=g.currentTime;let j=0;const me=y.steps.map(rt=>{g.currentTime=T;const ot=Li(this,rt,g);return j=Math.max(j,g.currentTime),ot});return g.currentTime=j,{type:3,steps:me,options:We(y.options)}}visitAnimate(y,g){const T=function qe(V,y){if(V.hasOwnProperty("duration"))return V;if("number"==typeof V)return q(ln(V,y).duration,0,"");const g=V;if(g.split(/\s+/).some(me=>"{"==me.charAt(0)&&"{"==me.charAt(1))){const me=q(0,0,"");return me.dynamic=!0,me.strValue=g,me}const j=ln(g,y);return q(j.duration,j.delay,j.easing)}(y.timings,g.errors);g.currentAnimateTimings=T;let j,me=y.styles?y.styles:(0,ei.oB)({});if(5==me.type)j=this.visitKeyframes(me,g);else{let rt=y.styles,ot=!1;if(!rt){ot=!0;const hn={};T.easing&&(hn.easing=T.easing),rt=(0,ei.oB)(hn)}g.currentTime+=T.duration+T.delay;const pt=this.visitStyle(rt,g);pt.isEmptyStep=ot,j=pt}return g.currentAnimateTimings=null,{type:4,timings:T,style:j,options:null}}visitStyle(y,g){const T=this._makeStyleAst(y,g);return this._validateStyleAst(T,g),T}_makeStyleAst(y,g){const T=[],j=Array.isArray(y.styles)?y.styles:[y.styles];for(let ot of j)"string"==typeof ot?ot===ei.l3?T.push(ot):g.errors.push(new m.vHH(3002,!1)):T.push(xi(ot));let me=!1,rt=null;return T.forEach(ot=>{if(ot instanceof Map&&(ot.has("easing")&&(rt=ot.get("easing"),ot.delete("easing")),!me))for(let pt of ot.values())if(pt.toString().indexOf("{{")>=0){me=!0;break}}),{type:6,styles:T,easing:rt,offset:y.offset,containsDynamicStyles:me,options:null}}_validateStyleAst(y,g){const T=g.currentAnimateTimings;let j=g.currentTime,me=g.currentTime;T&&me>0&&(me-=T.duration+T.delay),y.styles.forEach(rt=>{"string"!=typeof rt&&rt.forEach((ot,pt)=>{const hn=g.collectedStyles.get(g.currentQuerySelector),wn=hn.get(pt);let jn=!0;wn&&(me!=j&&me>=wn.startTime&&j<=wn.endTime&&(g.errors.push(function $(V,y,g,T,j){return new m.vHH(3010,!1)}()),jn=!1),me=wn.startTime),jn&&hn.set(pt,{startTime:me,endTime:j}),g.options&&function li(V,y,g){const T=y.params||{},j=po(V);j.length&&j.forEach(me=>{T.hasOwnProperty(me)||g.push(function He(V){return new m.vHH(3001,!1)}())})}(ot,g.options,g.errors)})})}visitKeyframes(y,g){const T={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push(function le(){return new m.vHH(3011,!1)}()),T;let me=0;const rt=[];let ot=!1,pt=!1,hn=0;const wn=y.steps.map(X=>{const ye=this._makeStyleAst(X,g);let Te=null!=ye.offset?ye.offset:function Ns(V){if("string"==typeof V)return null;let y=null;if(Array.isArray(V))V.forEach(g=>{if(g instanceof Map&&g.has("offset")){const T=g;y=parseFloat(T.get("offset")),T.delete("offset")}});else if(V instanceof Map&&V.has("offset")){const g=V;y=parseFloat(g.get("offset")),g.delete("offset")}return y}(ye.styles),Dt=0;return null!=Te&&(me++,Dt=ye.offset=Te),pt=pt||Dt<0||Dt>1,ot=ot||Dt<hn,hn=Dt,rt.push(Dt),ye});pt&&g.errors.push(function ae(){return new m.vHH(3012,!1)}()),ot&&g.errors.push(function xe(){return new m.vHH(3200,!1)}());const jn=y.steps.length;let ui=0;me>0&&me<jn?g.errors.push(function Oe(){return new m.vHH(3202,!1)}()):0==me&&(ui=1/(jn-1));const x=jn-1,S=g.currentTime,w=g.currentAnimateTimings,F=w.duration;return wn.forEach((X,ye)=>{const Te=ui>0?ye==x?1:ui*ye:rt[ye],Dt=Te*F;g.currentTime=S+w.delay+Dt,w.duration=Dt,this._validateStyleAst(X,g),X.offset=Te,T.styles.push(X)}),T}visitReference(y,g){return{type:8,animation:Li(this,$r(y.animation),g),options:We(y.options)}}visitAnimateChild(y,g){return g.depCount++,{type:9,options:We(y.options)}}visitAnimateRef(y,g){return{type:10,animation:this.visitReference(y.animation,g),options:We(y.options)}}visitQuery(y,g){const T=g.currentQuerySelector,j=y.options||{};g.queryCount++,g.currentQuery=y;const[me,rt]=function Ao(V){const y=!!V.split(/\s*,\s*/).find(g=>":self"==g);return y&&(V=V.replace(ho,"")),V=V.replace(/@\*/g,bt).replace(/@\w+/g,g=>bt+"-"+g.slice(1)).replace(/:animating/g,Ut),[V,y]}(y.selector);g.currentQuerySelector=T.length?T+" "+me:me,wi(g.collectedStyles,g.currentQuerySelector,new Map);const ot=Li(this,$r(y.animation),g);return g.currentQuery=null,g.currentQuerySelector=T,{type:11,selector:me,limit:j.limit||0,optional:!!j.optional,includeSelf:rt,animation:ot,originalSelector:y.selector,options:We(y.options)}}visitStagger(y,g){g.currentQuery||g.errors.push(function Pe(){return new m.vHH(3013,!1)}());const T="full"===y.timings?{duration:0,delay:0,easing:"full"}:ln(y.timings,g.errors,!0);return{type:12,animation:Li(this,$r(y.animation),g),timings:T,options:null}}}class Xs{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function We(V){return V?(V=si(V)).params&&(V.params=function Vo(V){return V?si(V):null}(V.params)):V={},V}function q(V,y,g){return{duration:V,delay:y,easing:g}}function at(V,y,g,T,j,me,rt=null,ot=!1){return{type:1,element:V,keyframes:y,preStyleProps:g,postStyleProps:T,duration:j,delay:me,totalTime:j+me,easing:rt,subTimeline:ot}}class tn{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,g){let T=this._map.get(y);T||this._map.set(y,T=[]),T.push(...g)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const yr=new RegExp(":enter","g"),go=new RegExp(":leave","g");function mr(V,y,g,T,j,me=new Map,rt=new Map,ot,pt,hn=[]){return(new yo).buildKeyframes(V,y,g,T,j,me,rt,ot,pt,hn)}class yo{buildKeyframes(y,g,T,j,me,rt,ot,pt,hn,wn=[]){hn=hn||new tn;const jn=new H(y,g,hn,j,me,wn,[]);jn.options=pt;const ui=pt.delay?sn(pt.delay):0;jn.currentTimeline.delayNextStep(ui),jn.currentTimeline.setStyles([rt],null,jn.errors,pt),Li(this,T,jn);const x=jn.timelines.filter(S=>S.containsAnimation());if(x.length&&ot.size){let S;for(let w=x.length-1;w>=0;w--){const F=x[w];if(F.element===g){S=F;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([ot],null,jn.errors,pt)}return x.length?x.map(S=>S.buildKeyframes()):[at(g,[],[],[],0,ui,"",!1)]}visitTrigger(y,g){}visitState(y,g){}visitTransition(y,g){}visitAnimateChild(y,g){const T=g.subInstructions.get(g.element);if(T){const j=g.createSubContext(y.options),me=g.currentTimeline.currentTime,rt=this._visitSubInstructions(T,j,j.options);me!=rt&&g.transformIntoNewTimeline(rt)}g.previousNode=y}visitAnimateRef(y,g){const T=g.createSubContext(y.options);T.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],g,T),this.visitReference(y.animation,T),g.transformIntoNewTimeline(T.currentTimeline.currentTime),g.previousNode=y}_applyAnimationRefDelays(y,g,T){for(const j of y){const me=j?.delay;if(me){const rt="number"==typeof me?me:sn(Rr(me,j?.params??{},g.errors));T.delayNextStep(rt)}}}_visitSubInstructions(y,g,T){let me=g.currentTimeline.currentTime;const rt=null!=T.duration?sn(T.duration):null,ot=null!=T.delay?sn(T.delay):null;return 0!==rt&&y.forEach(pt=>{const hn=g.appendInstructionToTimeline(pt,rt,ot);me=Math.max(me,hn.duration+hn.delay)}),me}visitReference(y,g){g.updateOptions(y.options,!0),Li(this,y.animation,g),g.previousNode=y}visitSequence(y,g){const T=g.subContextCount;let j=g;const me=y.options;if(me&&(me.params||me.delay)&&(j=g.createSubContext(me),j.transformIntoNewTimeline(),null!=me.delay)){6==j.previousNode.type&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=W);const rt=sn(me.delay);j.delayNextStep(rt)}y.steps.length&&(y.steps.forEach(rt=>Li(this,rt,j)),j.currentTimeline.applyStylesToKeyframe(),j.subContextCount>T&&j.transformIntoNewTimeline()),g.previousNode=y}visitGroup(y,g){const T=[];let j=g.currentTimeline.currentTime;const me=y.options&&y.options.delay?sn(y.options.delay):0;y.steps.forEach(rt=>{const ot=g.createSubContext(y.options);me&&ot.delayNextStep(me),Li(this,rt,ot),j=Math.max(j,ot.currentTimeline.currentTime),T.push(ot.currentTimeline)}),T.forEach(rt=>g.currentTimeline.mergeTimelineCollectedStyles(rt)),g.transformIntoNewTimeline(j),g.previousNode=y}_visitTiming(y,g){if(y.dynamic){const T=y.strValue;return ln(g.params?Rr(T,g.params,g.errors):T,g.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,g){const T=g.currentAnimateTimings=this._visitTiming(y.timings,g),j=g.currentTimeline;T.delay&&(g.incrementTime(T.delay),j.snapshotCurrentStyles());const me=y.style;5==me.type?this.visitKeyframes(me,g):(g.incrementTime(T.duration),this.visitStyle(me,g),j.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=y}visitStyle(y,g){const T=g.currentTimeline,j=g.currentAnimateTimings;!j&&T.hasCurrentStyleProperties()&&T.forwardFrame();const me=j&&j.easing||y.easing;y.isEmptyStep?T.applyEmptyStep(me):T.setStyles(y.styles,me,g.errors,g.options),g.previousNode=y}visitKeyframes(y,g){const T=g.currentAnimateTimings,j=g.currentTimeline.duration,me=T.duration,ot=g.createSubContext().currentTimeline;ot.easing=T.easing,y.styles.forEach(pt=>{ot.forwardTime((pt.offset||0)*me),ot.setStyles(pt.styles,pt.easing,g.errors,g.options),ot.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(ot),g.transformIntoNewTimeline(j+me),g.previousNode=y}visitQuery(y,g){const T=g.currentTimeline.currentTime,j=y.options||{},me=j.delay?sn(j.delay):0;me&&(6===g.previousNode.type||0==T&&g.currentTimeline.hasCurrentStyleProperties())&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=W);let rt=T;const ot=g.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!j.optional,g.errors);g.currentQueryTotal=ot.length;let pt=null;ot.forEach((hn,wn)=>{g.currentQueryIndex=wn;const jn=g.createSubContext(y.options,hn);me&&jn.delayNextStep(me),hn===g.element&&(pt=jn.currentTimeline),Li(this,y.animation,jn),jn.currentTimeline.applyStylesToKeyframe(),rt=Math.max(rt,jn.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(rt),pt&&(g.currentTimeline.mergeTimelineCollectedStyles(pt),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=y}visitStagger(y,g){const T=g.parentContext,j=g.currentTimeline,me=y.timings,rt=Math.abs(me.duration),ot=rt*(g.currentQueryTotal-1);let pt=rt*g.currentQueryIndex;switch(me.duration<0?"reverse":me.easing){case"reverse":pt=ot-pt;break;case"full":pt=T.currentStaggerTime}const wn=g.currentTimeline;pt&&wn.delayNextStep(pt);const jn=wn.currentTime;Li(this,y.animation,g),g.previousNode=y,T.currentStaggerTime=j.currentTime-jn+(j.startTime-T.currentTimeline.startTime)}}const W={};class H{constructor(y,g,T,j,me,rt,ot,pt){this._driver=y,this.element=g,this.subInstructions=T,this._enterClassName=j,this._leaveClassName=me,this.errors=rt,this.timelines=ot,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=W,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=pt||new v(this._driver,g,0),ot.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,g){if(!y)return;const T=y;let j=this.options;null!=T.duration&&(j.duration=sn(T.duration)),null!=T.delay&&(j.delay=sn(T.delay));const me=T.params;if(me){let rt=j.params;rt||(rt=this.options.params={}),Object.keys(me).forEach(ot=>{(!g||!rt.hasOwnProperty(ot))&&(rt[ot]=Rr(me[ot],rt,this.errors))})}}_copyOptions(){const y={};if(this.options){const g=this.options.params;if(g){const T=y.params={};Object.keys(g).forEach(j=>{T[j]=g[j]})}}return y}createSubContext(y=null,g,T){const j=g||this.element,me=new H(this._driver,j,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(j,T||0));return me.previousNode=this.previousNode,me.currentAnimateTimings=this.currentAnimateTimings,me.options=this._copyOptions(),me.updateOptions(y),me.currentQueryIndex=this.currentQueryIndex,me.currentQueryTotal=this.currentQueryTotal,me.parentContext=this,this.subContextCount++,me}transformIntoNewTimeline(y){return this.previousNode=W,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,g,T){const j={duration:g??y.duration,delay:this.currentTimeline.currentTime+(T??0)+y.delay,easing:""},me=new D(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,j,y.stretchStartingKeyframe);return this.timelines.push(me),j}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,g,T,j,me,rt){let ot=[];if(j&&ot.push(this.element),y.length>0){y=(y=y.replace(yr,"."+this._enterClassName)).replace(go,"."+this._leaveClassName);let hn=this._driver.query(this.element,y,1!=T);0!==T&&(hn=T<0?hn.slice(hn.length+T,hn.length):hn.slice(0,T)),ot.push(...hn)}return!me&&0==ot.length&&rt.push(function Y(V){return new m.vHH(3014,!1)}()),ot}}class v{constructor(y,g,T,j){this._driver=y,this.element=g,this.startTime=T,this._elementTimelineStylesLookup=j,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const g=1===this._keyframes.size&&this._pendingStyles.size;this.duration||g?(this.forwardTime(this.currentTime+y),g&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,g){return this.applyStylesToKeyframe(),new v(this._driver,y,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,g){this._localTimelineStyles.set(y,g),this._globalTimelineStyles.set(y,g),this._styleSummary.set(y,{time:this.currentTime,value:g})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[g,T]of this._globalTimelineStyles)this._backFill.set(g,T||ei.l3),this._currentKeyframe.set(g,ei.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,g,T,j){g&&this._previousKeyframe.set("easing",g);const me=j&&j.params||{},rt=function Me(V,y){const g=new Map;let T;return V.forEach(j=>{if("*"===j){T=T||y.keys();for(let me of T)g.set(me,ei.l3)}else $i(j,g)}),g}(y,this._globalTimelineStyles);for(let[ot,pt]of rt){const hn=Rr(pt,me,T);this._pendingStyles.set(ot,hn),this._localTimelineStyles.has(ot)||this._backFill.set(ot,this._globalTimelineStyles.get(ot)??ei.l3),this._updateStyle(ot,hn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,g)=>{this._currentKeyframe.set(g,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,g)=>{this._currentKeyframe.has(g)||this._currentKeyframe.set(g,y)}))}snapshotCurrentStyles(){for(let[y,g]of this._localTimelineStyles)this._pendingStyles.set(y,g),this._updateStyle(y,g)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let g in this._currentKeyframe)y.push(g);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((g,T)=>{const j=this._styleSummary.get(T);(!j||g.time>j.time)&&this._updateStyle(T,g.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,g=new Set,T=1===this._keyframes.size&&0===this.duration;let j=[];this._keyframes.forEach((ot,pt)=>{const hn=$i(ot,new Map,this._backFill);hn.forEach((wn,jn)=>{wn===ei.k1?y.add(jn):wn===ei.l3&&g.add(jn)}),T||hn.set("offset",pt/this.duration),j.push(hn)});const me=y.size?Zi(y.values()):[],rt=g.size?Zi(g.values()):[];if(T){const ot=j[0],pt=new Map(ot);ot.set("offset",0),pt.set("offset",1),j=[ot,pt]}return at(this.element,j,me,rt,this.duration,this.startTime,this.easing,!1)}}class D extends v{constructor(y,g,T,j,me,rt,ot=!1){super(y,g,rt.delay),this.keyframes=T,this.preStyleProps=j,this.postStyleProps=me,this._stretchStartingKeyframe=ot,this.timings={duration:rt.duration,delay:rt.delay,easing:rt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:g,duration:T,easing:j}=this.timings;if(this._stretchStartingKeyframe&&g){const me=[],rt=T+g,ot=g/rt,pt=$i(y[0]);pt.set("offset",0),me.push(pt);const hn=$i(y[0]);hn.set("offset",ne(ot)),me.push(hn);const wn=y.length-1;for(let jn=1;jn<=wn;jn++){let ui=$i(y[jn]);const x=ui.get("offset");ui.set("offset",ne((g+x*T)/rt)),me.push(ui)}T=rt,g=0,j="",y=me}return at(this.element,y,this.preStyleProps,this.postStyleProps,T,g,j,!0)}}function ne(V,y=3){const g=Math.pow(10,y-1);return Math.round(V*g)/g}class jt{}const Zn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $n extends jt{normalizePropertyName(y,g){return es(y)}normalizeStyleValue(y,g,T,j){let me="";const rt=T.toString().trim();if(Zn.has(g)&&0!==T&&"0"!==T)if("number"==typeof T)me="px";else{const ot=T.match(/^[+-]?[\d\.]+([a-z]*)$/);ot&&0==ot[1].length&&j.push(function Ct(V,y){return new m.vHH(3005,!1)}())}return rt+me}}function Ei(V,y,g,T,j,me,rt,ot,pt,hn,wn,jn,ui){return{type:0,element:V,triggerName:y,isRemovalTransition:j,fromState:g,fromStyles:me,toState:T,toStyles:rt,timelines:ot,queriedElements:pt,preStyleProps:hn,postStyleProps:wn,totalTime:jn,errors:ui}}const Oi={};class fr{constructor(y,g,T){this._triggerName=y,this.ast=g,this._stateStyles=T}match(y,g,T,j){return function pr(V,y,g,T,j){return V.some(me=>me(y,g,T,j))}(this.ast.matchers,y,g,T,j)}buildStyles(y,g,T){let j=this._stateStyles.get("*");return void 0!==y&&(j=this._stateStyles.get(y?.toString())||j),j?j.buildStyles(g,T):new Map}build(y,g,T,j,me,rt,ot,pt,hn,wn){const jn=[],ui=this.ast.options&&this.ast.options.params||Oi,S=this.buildStyles(T,ot&&ot.params||Oi,jn),w=pt&&pt.params||Oi,F=this.buildStyles(j,w,jn),X=new Set,ye=new Map,Te=new Map,Dt="void"===j,Cn={params:Hi(w,ui),delay:this.ast.options?.delay},ai=wn?[]:mr(y,g,this.ast.animation,me,rt,S,F,Cn,hn,jn);let Vn=0;if(ai.forEach(Br=>{Vn=Math.max(Br.duration+Br.delay,Vn)}),jn.length)return Ei(g,this._triggerName,T,j,Dt,S,F,[],[],ye,Te,Vn,jn);ai.forEach(Br=>{const Ms=Br.element,ds=wi(ye,Ms,new Set);Br.preStyleProps.forEach(Gt=>ds.add(Gt));const Ss=wi(Te,Ms,new Set);Br.postStyleProps.forEach(Gt=>Ss.add(Gt)),Ms!==g&&X.add(Ms)});const zi=Zi(X.values());return Ei(g,this._triggerName,T,j,Dt,S,F,ai,zi,ye,Te,Vn)}}function Hi(V,y){const g=si(y);for(const T in V)V.hasOwnProperty(T)&&null!=V[T]&&(g[T]=V[T]);return g}class gr{constructor(y,g,T){this.styles=y,this.defaultParams=g,this.normalizer=T}buildStyles(y,g){const T=new Map,j=si(this.defaultParams);return Object.keys(y).forEach(me=>{const rt=y[me];null!==rt&&(j[me]=rt)}),this.styles.styles.forEach(me=>{"string"!=typeof me&&me.forEach((rt,ot)=>{rt&&(rt=Rr(rt,j,g));const pt=this.normalizer.normalizePropertyName(ot,g);rt=this.normalizer.normalizeStyleValue(ot,pt,rt,g),T.set(ot,rt)})}),T}}class ko{constructor(y,g,T){this.name=y,this.ast=g,this._normalizer=T,this.transitionFactories=[],this.states=new Map,g.states.forEach(j=>{this.states.set(j.name,new gr(j.style,j.options&&j.options.params||{},T))}),Pr(this.states,"true","1"),Pr(this.states,"false","0"),g.transitions.forEach(j=>{this.transitionFactories.push(new fr(y,j,this.states))}),this.fallbackTransition=function io(V,y,g){return new fr(V,{type:1,animation:{type:2,steps:[],options:null},matchers:[(rt,ot)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,g,T,j){return this.transitionFactories.find(rt=>rt.match(y,g,T,j))||null}matchStyles(y,g,T){return this.fallbackTransition.buildStyles(y,g,T)}}function Pr(V,y,g){V.has(y)?V.has(g)||V.set(g,V.get(y)):V.has(g)&&V.set(y,V.get(g))}const Fr=new tn;class wo{constructor(y,g,T){this.bodyNode=y,this._driver=g,this._normalizer=T,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,g){const T=[],me=Mr(this._driver,g,T,[]);if(T.length)throw function Tt(V){return new m.vHH(3503,!1)}();this._animations.set(y,me)}_buildPlayer(y,g,T){const j=y.element,me=Jr(this._normalizer,y.keyframes,g,T);return this._driver.animate(j,me,y.duration,y.delay,y.easing,[],!0)}create(y,g,T={}){const j=[],me=this._animations.get(y);let rt;const ot=new Map;if(me?(rt=mr(this._driver,g,me,zr,Or,new Map,new Map,T,Fr,j),rt.forEach(wn=>{const jn=wi(ot,wn.element,new Map);wn.postStyleProps.forEach(ui=>jn.set(ui,null))})):(j.push(function xn(){return new m.vHH(3300,!1)}()),rt=[]),j.length)throw function Xn(V){return new m.vHH(3504,!1)}();ot.forEach((wn,jn)=>{wn.forEach((ui,x)=>{wn.set(x,this._driver.computeStyle(jn,x,ei.l3))})});const hn=qi(rt.map(wn=>{const jn=ot.get(wn.element);return this._buildPlayer(wn,new Map,jn)}));return this._playersById.set(y,hn),hn.onDestroy(()=>this.destroy(y)),this.players.push(hn),hn}destroy(y){const g=this._getPlayer(y);g.destroy(),this._playersById.delete(y);const T=this.players.indexOf(g);T>=0&&this.players.splice(T,1)}_getPlayer(y){const g=this._playersById.get(y);if(!g)throw function Pn(V){return new m.vHH(3301,!1)}();return g}listen(y,g,T,j){const me=ao(g,"","","");return Ar(this._getPlayer(y),T,me,j),()=>{}}command(y,g,T,j){if("register"==T)return void this.register(y,j[0]);if("create"==T)return void this.create(y,g,j[0]||{});const me=this._getPlayer(y);switch(T){case"play":me.play();break;case"pause":me.pause();break;case"reset":me.reset();break;case"restart":me.restart();break;case"finish":me.finish();break;case"init":me.init();break;case"setPosition":me.setPosition(parseFloat(j[0]));break;case"destroy":this.destroy(y)}}}const rs="ng-animate-queued",vs="ng-animate-disabled",Ta=[],ro={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oo="__ng_removed";class ba{get params(){return this.options.params}constructor(y,g=""){this.namespaceId=g;const T=y&&y.hasOwnProperty("value");if(this.value=function ea(V){return V??null}(T?y.value:y),T){const me=si(y);delete me.value,this.options=me}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const g=y.params;if(g){const T=this.options.params;Object.keys(g).forEach(j=>{null==T[j]&&(T[j]=g[j])})}}}const js="void",la=new ba(js);class Js{constructor(y,g,T){this.id=y,this.hostElement=g,this._engine=T,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Ko(g,this._hostClassName)}listen(y,g,T,j){if(!this._triggers.has(g))throw function zn(V,y){return new m.vHH(3302,!1)}();if(null==T||0==T.length)throw function pi(V){return new m.vHH(3303,!1)}();if(!function Ra(V){return"start"==V||"done"==V}(T))throw function nr(V,y){return new m.vHH(3400,!1)}();const me=wi(this._elementListeners,y,[]),rt={name:g,phase:T,callback:j};me.push(rt);const ot=wi(this._engine.statesByElement,y,new Map);return ot.has(g)||(Ko(y,Io),Ko(y,Io+"-"+g),ot.set(g,la)),()=>{this._engine.afterFlush(()=>{const pt=me.indexOf(rt);pt>=0&&me.splice(pt,1),this._triggers.has(g)||ot.delete(g)})}}register(y,g){return!this._triggers.has(y)&&(this._triggers.set(y,g),!0)}_getTrigger(y){const g=this._triggers.get(y);if(!g)throw function Ti(V){return new m.vHH(3401,!1)}();return g}trigger(y,g,T,j=!0){const me=this._getTrigger(g),rt=new Ds(this.id,g,y);let ot=this._engine.statesByElement.get(y);ot||(Ko(y,Io),Ko(y,Io+"-"+g),this._engine.statesByElement.set(y,ot=new Map));let pt=ot.get(g);const hn=new ba(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&pt&&hn.absorbOptions(pt.options),ot.set(g,hn),pt||(pt=la),hn.value!==js&&pt.value===hn.value){if(!function Ri(V,y){const g=Object.keys(V),T=Object.keys(y);if(g.length!=T.length)return!1;for(let j=0;j<g.length;j++){const me=g[j];if(!y.hasOwnProperty(me)||V[me]!==y[me])return!1}return!0}(pt.params,hn.params)){const w=[],F=me.matchStyles(pt.value,pt.params,w),X=me.matchStyles(hn.value,hn.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Tr(y,F),Mi(y,X)})}return}const ui=wi(this._engine.playersByElement,y,[]);ui.forEach(w=>{w.namespaceId==this.id&&w.triggerName==g&&w.queued&&w.destroy()});let x=me.matchTransition(pt.value,hn.value,y,hn.params),S=!1;if(!x){if(!j)return;x=me.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:g,transition:x,fromState:pt,toState:hn,player:rt,isFallbackTransition:S}),S||(Ko(y,rs),rt.onStart(()=>{as(y,rs)})),rt.onDone(()=>{let w=this.players.indexOf(rt);w>=0&&this.players.splice(w,1);const F=this._engine.playersByElement.get(y);if(F){let X=F.indexOf(rt);X>=0&&F.splice(X,1)}}),this.players.push(rt),ui.push(rt),rt}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(g=>g.delete(y)),this._elementListeners.forEach((g,T)=>{this._elementListeners.set(T,g.filter(j=>j.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const g=this._engine.playersByElement.get(y);g&&(g.forEach(T=>T.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,g){const T=this._engine.driver.query(y,bt,!0);T.forEach(j=>{if(j[Oo])return;const me=this._engine.fetchNamespacesByElement(j);me.size?me.forEach(rt=>rt.triggerLeaveAnimation(j,g,!1,!0)):this.clearElementCache(j)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(j=>this.clearElementCache(j)))}triggerLeaveAnimation(y,g,T,j){const me=this._engine.statesByElement.get(y),rt=new Map;if(me){const ot=[];if(me.forEach((pt,hn)=>{if(rt.set(hn,pt.value),this._triggers.has(hn)){const wn=this.trigger(y,hn,js,j);wn&&ot.push(wn)}}),ot.length)return this._engine.markElementAsRemoved(this.id,y,!0,g,rt),T&&qi(ot).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const g=this._elementListeners.get(y),T=this._engine.statesByElement.get(y);if(g&&T){const j=new Set;g.forEach(me=>{const rt=me.name;if(j.has(rt))return;j.add(rt);const pt=this._triggers.get(rt).fallbackTransition,hn=T.get(rt)||la,wn=new ba(js),jn=new Ds(this.id,rt,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:rt,transition:pt,fromState:hn,toState:wn,player:jn,isFallbackTransition:!0})})}}removeNode(y,g){const T=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,g),this.triggerLeaveAnimation(y,g,!0))return;let j=!1;if(T.totalAnimations){const me=T.players.length?T.playersByQueriedElement.get(y):[];if(me&&me.length)j=!0;else{let rt=y;for(;rt=rt.parentNode;)if(T.statesByElement.get(rt)){j=!0;break}}}if(this.prepareLeaveAnimationListeners(y),j)T.markElementAsRemoved(this.id,y,!1,g);else{const me=y[Oo];(!me||me===ro)&&(T.afterFlush(()=>this.clearElementCache(y)),T.destroyInnerAnimations(y),T._onRemovalComplete(y,g))}}insertNode(y,g){Ko(y,this._hostClassName)}drainQueuedTransitions(y){const g=[];return this._queue.forEach(T=>{const j=T.player;if(j.destroyed)return;const me=T.element,rt=this._elementListeners.get(me);rt&&rt.forEach(ot=>{if(ot.name==T.triggerName){const pt=ao(me,T.triggerName,T.fromState.value,T.toState.value);pt._data=y,Ar(T.player,ot.phase,pt,ot.callback)}}),j.markedForDestroy?this._engine.afterFlush(()=>{j.destroy()}):g.push(T)}),this._queue=[],g.sort((T,j)=>{const me=T.transition.ast.depCount,rt=j.transition.ast.depCount;return 0==me||0==rt?me-rt:this._engine.driver.containsElement(T.element,j.element)?1:-1})}destroy(y){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let g=!1;return this._elementListeners.has(y)&&(g=!0),g=!!this._queue.find(T=>T.element===y)||g,g}}class ya{_onRemovalComplete(y,g){this.onRemovalComplete(y,g)}constructor(y,g,T){this.bodyNode=y,this.driver=g,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(j,me)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(g=>{g.players.forEach(T=>{T.queued&&y.push(T)})}),y}createNamespace(y,g){const T=new Js(y,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(T,g):(this.newHostElements.set(g,T),this.collectEnterElement(g)),this._namespaceLookup[y]=T}_balanceNamespaceList(y,g){const T=this._namespaceList,j=this.namespacesByHostElement;if(T.length-1>=0){let rt=!1,ot=this.driver.getParentElement(g);for(;ot;){const pt=j.get(ot);if(pt){const hn=T.indexOf(pt);T.splice(hn+1,0,y),rt=!0;break}ot=this.driver.getParentElement(ot)}rt||T.unshift(y)}else T.push(y);return j.set(g,y),y}register(y,g){let T=this._namespaceLookup[y];return T||(T=this.createNamespace(y,g)),T}registerTrigger(y,g,T){let j=this._namespaceLookup[y];j&&j.register(g,T)&&this.totalAnimations++}destroy(y,g){if(!y)return;const T=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[y];const j=this._namespaceList.indexOf(T);j>=0&&this._namespaceList.splice(j,1)}),this.afterFlushAnimationsDone(()=>T.destroy(g))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const g=new Set,T=this.statesByElement.get(y);if(T)for(let j of T.values())if(j.namespaceId){const me=this._fetchNamespace(j.namespaceId);me&&g.add(me)}return g}trigger(y,g,T,j){if(da(g)){const me=this._fetchNamespace(y);if(me)return me.trigger(g,T,j),!0}return!1}insertNode(y,g,T,j){if(!da(g))return;const me=g[Oo];if(me&&me.setForRemoval){me.setForRemoval=!1,me.setForMove=!0;const rt=this.collectedLeaveElements.indexOf(g);rt>=0&&this.collectedLeaveElements.splice(rt,1)}if(y){const rt=this._fetchNamespace(y);rt&&rt.insertNode(g,T)}j&&this.collectEnterElement(g)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,g){g?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Ko(y,vs)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),as(y,vs))}removeNode(y,g,T){if(da(g)){const j=y?this._fetchNamespace(y):null;j?j.removeNode(g,T):this.markElementAsRemoved(y,g,!1,T);const me=this.namespacesByHostElement.get(g);me&&me.id!==y&&me.removeNode(g,T)}else this._onRemovalComplete(g,T)}markElementAsRemoved(y,g,T,j,me){this.collectedLeaveElements.push(g),g[Oo]={namespaceId:y,setForRemoval:j,hasAnimation:T,removedBeforeQueried:!1,previousTriggersValues:me}}listen(y,g,T,j,me){return da(g)?this._fetchNamespace(y).listen(g,T,j,me):()=>{}}_buildInstruction(y,g,T,j,me){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,T,j,y.fromState.options,y.toState.options,g,me)}destroyInnerAnimations(y){let g=this.driver.query(y,bt,!0);g.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(y,Ut,!0),g.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(y){const g=this.playersByElement.get(y);g&&g.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(y){const g=this.playersByQueriedElement.get(y);g&&g.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return qi(this.players).onDone(()=>y());y()})}processLeaveNode(y){const g=y[Oo];if(g&&g.setForRemoval){if(y[Oo]=ro,g.namespaceId){this.destroyInnerAnimations(y);const T=this._fetchNamespace(g.namespaceId);T&&T.clearElementCache(y)}this._onRemovalComplete(y,g.setForRemoval)}y.classList?.contains(vs)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(y=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,j)=>this._balanceNamespaceList(T,j)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)Ko(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{g=this._flushAnimations(T,y)}finally{for(let j=0;j<T.length;j++)T[j]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],g.length?qi(g).onDone(()=>{T.forEach(j=>j())}):T.forEach(j=>j())}}reportError(y){throw function Dr(V){return new m.vHH(3402,!1)}()}_flushAnimations(y,g){const T=new tn,j=[],me=new Map,rt=[],ot=new Map,pt=new Map,hn=new Map,wn=new Set;this.disabledNodes.forEach(hi=>{wn.add(hi);const vi=this.driver.query(hi,".ng-animate-queued",!0);for(let mi=0;mi<vi.length;mi++)wn.add(vi[mi])});const jn=this.bodyNode,ui=Array.from(this.statesByElement.keys()),x=ss(ui,this.collectedEnterElements),S=new Map;let w=0;x.forEach((hi,vi)=>{const mi=zr+w++;S.set(vi,mi),hi.forEach(sr=>Ko(sr,mi))});const F=[],X=new Set,ye=new Set;for(let hi=0;hi<this.collectedLeaveElements.length;hi++){const vi=this.collectedLeaveElements[hi],mi=vi[Oo];mi&&mi.setForRemoval&&(F.push(vi),X.add(vi),mi.hasAnimation?this.driver.query(vi,".ng-star-inserted",!0).forEach(sr=>X.add(sr)):ye.add(vi))}const Te=new Map,Dt=ss(ui,Array.from(X));Dt.forEach((hi,vi)=>{const mi=Or+w++;Te.set(vi,mi),hi.forEach(sr=>Ko(sr,mi))}),y.push(()=>{x.forEach((hi,vi)=>{const mi=S.get(vi);hi.forEach(sr=>as(sr,mi))}),Dt.forEach((hi,vi)=>{const mi=Te.get(vi);hi.forEach(sr=>as(sr,mi))}),F.forEach(hi=>{this.processLeaveNode(hi)})});const Cn=[],ai=[];for(let hi=this._namespaceList.length-1;hi>=0;hi--)this._namespaceList[hi].drainQueuedTransitions(g).forEach(mi=>{const sr=mi.player,Qr=mi.element;if(Cn.push(sr),this.collectedEnterElements.length){const mo=Qr[Oo];if(mo&&mo.setForMove){if(mo.previousTriggersValues&&mo.previousTriggersValues.has(mi.triggerName)){const na=mo.previousTriggersValues.get(mi.triggerName),cr=this.statesByElement.get(mi.element);if(cr&&cr.has(mi.triggerName)){const lc=cr.get(mi.triggerName);lc.value=na,cr.set(mi.triggerName,lc)}}return void sr.destroy()}}const ta=!jn||!this.driver.containsElement(jn,Qr),hs=Te.get(Qr),Na=S.get(Qr),xr=this._buildInstruction(mi,T,Na,hs,ta);if(xr.errors&&xr.errors.length)return void ai.push(xr);if(ta)return sr.onStart(()=>Tr(Qr,xr.fromStyles)),sr.onDestroy(()=>Mi(Qr,xr.toStyles)),void j.push(sr);if(mi.isFallbackTransition)return sr.onStart(()=>Tr(Qr,xr.fromStyles)),sr.onDestroy(()=>Mi(Qr,xr.toStyles)),void j.push(sr);const Zo=[];xr.timelines.forEach(mo=>{mo.stretchStartingKeyframe=!0,this.disabledNodes.has(mo.element)||Zo.push(mo)}),xr.timelines=Zo,T.append(Qr,xr.timelines),rt.push({instruction:xr,player:sr,element:Qr}),xr.queriedElements.forEach(mo=>wi(ot,mo,[]).push(sr)),xr.preStyleProps.forEach((mo,na)=>{if(mo.size){let cr=pt.get(na);cr||pt.set(na,cr=new Set),mo.forEach((lc,$a)=>cr.add($a))}}),xr.postStyleProps.forEach((mo,na)=>{let cr=hn.get(na);cr||hn.set(na,cr=new Set),mo.forEach((lc,$a)=>cr.add($a))})});if(ai.length){const hi=[];ai.forEach(vi=>{hi.push(function bo(V,y){return new m.vHH(3505,!1)}())}),Cn.forEach(vi=>vi.destroy()),this.reportError(hi)}const Vn=new Map,zi=new Map;rt.forEach(hi=>{const vi=hi.element;T.has(vi)&&(zi.set(vi,vi),this._beforeAnimationBuild(hi.player.namespaceId,hi.instruction,Vn))}),j.forEach(hi=>{const vi=hi.element;this._getPreviousPlayers(vi,!1,hi.namespaceId,hi.triggerName,null).forEach(sr=>{wi(Vn,vi,[]).push(sr),sr.destroy()})});const Br=F.filter(hi=>ua(hi,pt,hn)),Ms=new Map;os(Ms,this.driver,ye,hn,ei.l3).forEach(hi=>{ua(hi,pt,hn)&&Br.push(hi)});const Ss=new Map;x.forEach((hi,vi)=>{os(Ss,this.driver,new Set(hi),pt,ei.k1)}),Br.forEach(hi=>{const vi=Ms.get(hi),mi=Ss.get(hi);Ms.set(hi,new Map([...vi?.entries()??[],...mi?.entries()??[]]))});const Gt=[],ws=[],us={};rt.forEach(hi=>{const{element:vi,player:mi,instruction:sr}=hi;if(T.has(vi)){if(wn.has(vi))return mi.onDestroy(()=>Mi(vi,sr.toStyles)),mi.disabled=!0,mi.overrideTotalTime(sr.totalTime),void j.push(mi);let Qr=us;if(zi.size>1){let hs=vi;const Na=[];for(;hs=hs.parentNode;){const xr=zi.get(hs);if(xr){Qr=xr;break}Na.push(hs)}Na.forEach(xr=>zi.set(xr,Qr))}const ta=this._buildAnimation(mi.namespaceId,sr,Vn,me,Ss,Ms);if(mi.setRealPlayer(ta),Qr===us)Gt.push(mi);else{const hs=this.playersByElement.get(Qr);hs&&hs.length&&(mi.parentPlayer=qi(hs)),j.push(mi)}}else Tr(vi,sr.fromStyles),mi.onDestroy(()=>Mi(vi,sr.toStyles)),ws.push(mi),wn.has(vi)&&j.push(mi)}),ws.forEach(hi=>{const vi=me.get(hi.element);if(vi&&vi.length){const mi=qi(vi);hi.setRealPlayer(mi)}}),j.forEach(hi=>{hi.parentPlayer?hi.syncPlayerEvents(hi.parentPlayer):hi.destroy()});for(let hi=0;hi<F.length;hi++){const vi=F[hi],mi=vi[Oo];if(as(vi,Or),mi&&mi.hasAnimation)continue;let sr=[];if(ot.size){let ta=ot.get(vi);ta&&ta.length&&sr.push(...ta);let hs=this.driver.query(vi,Ut,!0);for(let Na=0;Na<hs.length;Na++){let xr=ot.get(hs[Na]);xr&&xr.length&&sr.push(...xr)}}const Qr=sr.filter(ta=>!ta.destroyed);Qr.length?rr(this,vi,Qr):this.processLeaveNode(vi)}return F.length=0,Gt.forEach(hi=>{this.players.push(hi),hi.onDone(()=>{hi.destroy();const vi=this.players.indexOf(hi);this.players.splice(vi,1)}),hi.play()}),Gt}elementContainsData(y,g){let T=!1;const j=g[Oo];return j&&j.setForRemoval&&(T=!0),this.playersByElement.has(g)&&(T=!0),this.playersByQueriedElement.has(g)&&(T=!0),this.statesByElement.has(g)&&(T=!0),this._fetchNamespace(y).elementContainsData(g)||T}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,g,T,j,me){let rt=[];if(g){const ot=this.playersByQueriedElement.get(y);ot&&(rt=ot)}else{const ot=this.playersByElement.get(y);if(ot){const pt=!me||me==js;ot.forEach(hn=>{hn.queued||!pt&&hn.triggerName!=j||rt.push(hn)})}}return(T||j)&&(rt=rt.filter(ot=>!(T&&T!=ot.namespaceId||j&&j!=ot.triggerName))),rt}_beforeAnimationBuild(y,g,T){const me=g.element,rt=g.isRemovalTransition?void 0:y,ot=g.isRemovalTransition?void 0:g.triggerName;for(const pt of g.timelines){const hn=pt.element,wn=hn!==me,jn=wi(T,hn,[]);this._getPreviousPlayers(hn,wn,rt,ot,g.toState).forEach(x=>{const S=x.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),x.destroy(),jn.push(x)})}Tr(me,g.fromStyles)}_buildAnimation(y,g,T,j,me,rt){const ot=g.triggerName,pt=g.element,hn=[],wn=new Set,jn=new Set,ui=g.timelines.map(S=>{const w=S.element;wn.add(w);const F=w[Oo];if(F&&F.removedBeforeQueried)return new ei.ZN(S.duration,S.delay);const X=w!==pt,ye=function xo(V){const y=[];return Zs(V,y),y}((T.get(w)||Ta).map(Vn=>Vn.getRealPlayer())).filter(Vn=>!!Vn.element&&Vn.element===w),Te=me.get(w),Dt=rt.get(w),Cn=Jr(this._normalizer,S.keyframes,Te,Dt),ai=this._buildPlayer(S,Cn,ye);if(S.subTimeline&&j&&jn.add(w),X){const Vn=new Ds(y,ot,w);Vn.setRealPlayer(ai),hn.push(Vn)}return ai});hn.forEach(S=>{wi(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>function Ma(V,y,g){let T=V.get(y);if(T){if(T.length){const j=T.indexOf(g);T.splice(j,1)}0==T.length&&V.delete(y)}return T}(this.playersByQueriedElement,S.element,S))}),wn.forEach(S=>Ko(S,mt));const x=qi(ui);return x.onDestroy(()=>{wn.forEach(S=>as(S,mt)),Mi(pt,g.toStyles)}),jn.forEach(S=>{wi(j,S,[]).push(x)}),x}_buildPlayer(y,g,T){return g.length>0?this.driver.animate(y.element,g,y.duration,y.delay,y.easing,T):new ei.ZN(y.duration,y.delay)}}class Ds{constructor(y,g,T){this.namespaceId=y,this.triggerName=g,this.element=T,this._player=new ei.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((g,T)=>{g.forEach(j=>Ar(y,T,void 0,j))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const g=this._player;g.triggerCallback&&y.onStart(()=>g.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,g){wi(this._queuedCallbacks,y,[]).push(g)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const g=this._player;g.triggerCallback&&g.triggerCallback(y)}}function da(V){return V&&1===V.nodeType}function Ks(V,y){const g=V.style.display;return V.style.display=y??"none",g}function os(V,y,g,T,j){const me=[];g.forEach(pt=>me.push(Ks(pt)));const rt=[];T.forEach((pt,hn)=>{const wn=new Map;pt.forEach(jn=>{const ui=y.computeStyle(hn,jn,j);wn.set(jn,ui),(!ui||0==ui.length)&&(hn[Oo]=wc,rt.push(hn))}),V.set(hn,wn)});let ot=0;return g.forEach(pt=>Ks(pt,me[ot++])),rt}function ss(V,y){const g=new Map;if(V.forEach(ot=>g.set(ot,[])),0==y.length)return g;const T=1,j=new Set(y),me=new Map;function rt(ot){if(!ot)return T;let pt=me.get(ot);if(pt)return pt;const hn=ot.parentNode;return pt=g.has(hn)?hn:j.has(hn)?T:rt(hn),me.set(ot,pt),pt}return y.forEach(ot=>{const pt=rt(ot);pt!==T&&g.get(pt).push(ot)}),g}function Ko(V,y){V.classList?.add(y)}function as(V,y){V.classList?.remove(y)}function rr(V,y,g){qi(g).onDone(()=>V.processLeaveNode(y))}function Zs(V,y){for(let g=0;g<V.length;g++){const T=V[g];T instanceof ei.ZE?Zs(T.players,y):y.push(T)}}function ua(V,y,g){const T=g.get(V);if(!T)return!1;let j=y.get(V);return j?T.forEach(me=>j.add(me)):y.set(V,T),g.delete(V),!0}class P{constructor(y,g,T){this.bodyNode=y,this._driver=g,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(j,me)=>{},this._transitionEngine=new ya(y,g,T),this._timelineEngine=new wo(y,g,T),this._transitionEngine.onRemovalComplete=(j,me)=>this.onRemovalComplete(j,me)}registerTrigger(y,g,T,j,me){const rt=y+"-"+j;let ot=this._triggerCache[rt];if(!ot){const pt=[],wn=Mr(this._driver,me,pt,[]);if(pt.length)throw function ri(V,y){return new m.vHH(3404,!1)}();ot=function Si(V,y,g){return new ko(V,y,g)}(j,wn,this._normalizer),this._triggerCache[rt]=ot}this._transitionEngine.registerTrigger(g,j,ot)}register(y,g){this._transitionEngine.register(y,g)}destroy(y,g){this._transitionEngine.destroy(y,g)}onInsert(y,g,T,j){this._transitionEngine.insertNode(y,g,T,j)}onRemove(y,g,T){this._transitionEngine.removeNode(y,g,T)}disableAnimations(y,g){this._transitionEngine.markElementAsDisabled(y,g)}process(y,g,T,j){if("@"==T.charAt(0)){const[me,rt]=$o(T);this._timelineEngine.command(me,g,rt,j)}else this._transitionEngine.trigger(y,g,T,j)}listen(y,g,T,j,me){if("@"==T.charAt(0)){const[rt,ot]=$o(T);return this._timelineEngine.listen(rt,g,ot,me)}return this._transitionEngine.listen(y,g,T,j,me)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let B=(()=>{class V{constructor(g,T,j){this._element=g,this._startStyles=T,this._endStyles=j,this._state=0;let me=V.initialStylesByElement.get(g);me||V.initialStylesByElement.set(g,me=new Map),this._initialStyles=me}start(){this._state<1&&(this._startStyles&&Mi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mi(this._element,this._initialStyles),this._endStyles&&(Mi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(V.initialStylesByElement.delete(this._element),this._startStyles&&(Tr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tr(this._element,this._endStyles),this._endStyles=null),Mi(this._element,this._initialStyles),this._state=3)}}return V.initialStylesByElement=new WeakMap,V})();function pe(V){let y=null;return V.forEach((g,T)=>{(function Xe(V){return"display"===V||"position"===V})(T)&&(y=y||new Map,y.set(T,g))}),y}class en{constructor(y,g,T,j){this.element=y,this.keyframes=g,this.options=T,this._specialStyles=j,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const g=[];return y.forEach(T=>{g.push(Object.fromEntries(T))}),g}_triggerWebAnimation(y,g,T){return y.animate(this._convertKeyframesToObject(g),T)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((T,j)=>{"offset"!==j&&y.set(j,this._finished?T:ir(this.element,j))}),this.currentSnapshot=y}triggerCallback(y){const g="start"===y?this._onStartFns:this._onDoneFns;g.forEach(T=>T()),g.length=0}}class fn{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,g){return!1}containsElement(y,g){return Go(y,g)}getParentElement(y){return eo(y)}query(y,g,T){return no(y,g,T)}computeStyle(y,g,T){return window.getComputedStyle(y)[g]}animate(y,g,T,j,me,rt=[]){const pt={duration:T,delay:j,fill:0==j?"both":"forwards"};me&&(pt.easing=me);const hn=new Map,wn=rt.filter(x=>x instanceof en);(function ns(V,y){return 0===V||0===y})(T,j)&&wn.forEach(x=>{x.currentSnapshot.forEach((S,w)=>hn.set(w,S))});let jn=function Nr(V){return V.length?V[0]instanceof Map?V:V.map(y=>xi(y)):[]}(g).map(x=>$i(x));jn=function Ps(V,y,g){if(g.size&&y.length){let T=y[0],j=[];if(g.forEach((me,rt)=>{T.has(rt)||j.push(rt),T.set(rt,me)}),j.length)for(let me=1;me<y.length;me++){let rt=y[me];j.forEach(ot=>rt.set(ot,ir(V,ot)))}}return y}(y,jn,hn);const ui=function J(V,y){let g=null,T=null;return Array.isArray(y)&&y.length?(g=pe(y[0]),y.length>1&&(T=pe(y[y.length-1]))):y instanceof Map&&(g=pe(y)),g||T?new B(V,g,T):null}(y,jn);return new en(y,jn,pt,ui)}}let Qn=(()=>{class V extends ei._j{constructor(g,T){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(T.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(g){const T=this._nextAnimationId.toString();this._nextAnimationId++;const j=Array.isArray(g)?(0,ei.vP)(g):g;return Ci(this._renderer,null,T,"register",[j]),new Gi(T,this._renderer)}}return V.\u0275fac=function(g){return new(g||V)(m.LFG(m.FYo),m.LFG(fe.K0))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})();class Gi extends ei.LC{constructor(y,g){super(),this._id=y,this._renderer=g}create(y,g){return new Ai(this._id,y,g||{},this._renderer)}}class Ai{constructor(y,g,T,j){this.id=y,this.element=g,this._renderer=j,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(y,g){return this._renderer.listen(this.element,`@@${this.id}:${y}`,g)}_command(y,...g){return Ci(this._renderer,this.element,this.id,y,g)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ci(V,y,g,T,j){return V.setProperty(y,`@@${g}:${T}`,j)}const Ji="@.disabled";let Gn=(()=>{class V{constructor(g,T,j){this.delegate=g,this.engine=T,this._zone=j,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(me,rt)=>{const ot=rt?.parentNode(me);ot&&rt.removeChild(ot,me)}}createRenderer(g,T){const me=this.delegate.createRenderer(g,T);if(!(g&&T&&T.data&&T.data.animation)){let wn=this._rendererCache.get(me);return wn||(wn=new Kr("",me,this.engine,()=>this._rendererCache.delete(me)),this._rendererCache.set(me,wn)),wn}const rt=T.id,ot=T.id+"-"+this._currentId;this._currentId++,this.engine.register(ot,g);const pt=wn=>{Array.isArray(wn)?wn.forEach(pt):this.engine.registerTrigger(rt,ot,g,wn.name,wn)};return T.data.animation.forEach(pt),new bs(this,ot,me,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,T,j){g>=0&&g<this._microtaskId?this._zone.run(()=>T(j)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(me=>{const[rt,ot]=me;rt(ot)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,j]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return V.\u0275fac=function(g){return new(g||V)(m.LFG(m.FYo),m.LFG(P),m.LFG(m.R0b))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})();class Kr{constructor(y,g,T,j){this.namespaceId=y,this.delegate=g,this.engine=T,this._onDestroy=j,this.destroyNode=this.delegate.destroyNode?me=>g.destroyNode(me):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,g){return this.delegate.createElement(y,g)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,g){this.delegate.appendChild(y,g),this.engine.onInsert(this.namespaceId,g,y,!1)}insertBefore(y,g,T,j=!0){this.delegate.insertBefore(y,g,T),this.engine.onInsert(this.namespaceId,g,y,j)}removeChild(y,g,T){this.engine.onRemove(this.namespaceId,g,this.delegate)}selectRootElement(y,g){return this.delegate.selectRootElement(y,g)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,g,T,j){this.delegate.setAttribute(y,g,T,j)}removeAttribute(y,g,T){this.delegate.removeAttribute(y,g,T)}addClass(y,g){this.delegate.addClass(y,g)}removeClass(y,g){this.delegate.removeClass(y,g)}setStyle(y,g,T,j){this.delegate.setStyle(y,g,T,j)}removeStyle(y,g,T){this.delegate.removeStyle(y,g,T)}setProperty(y,g,T){"@"==g.charAt(0)&&g==Ji?this.disableAnimations(y,!!T):this.delegate.setProperty(y,g,T)}setValue(y,g){this.delegate.setValue(y,g)}listen(y,g,T){return this.delegate.listen(y,g,T)}disableAnimations(y,g){this.engine.disableAnimations(y,g)}}class bs extends Kr{constructor(y,g,T,j,me){super(g,T,j,me),this.factory=y,this.namespaceId=g}setProperty(y,g,T){"@"==g.charAt(0)?"."==g.charAt(1)&&g==Ji?this.disableAnimations(y,T=void 0===T||!!T):this.engine.process(this.namespaceId,y,g.slice(1),T):this.delegate.setProperty(y,g,T)}listen(y,g,T){if("@"==g.charAt(0)){const j=function Zr(V){switch(V){case"body":return document.body;case"document":return document;case"window":return window;default:return V}}(y);let me=g.slice(1),rt="";return"@"!=me.charAt(0)&&([me,rt]=function wa(V){const y=V.indexOf(".");return[V.substring(0,y),V.slice(y+1)]}(me)),this.engine.listen(this.namespaceId,j,me,rt,ot=>{this.factory.scheduleListenerCallback(ot._data||-1,T,ot)})}return this.delegate.listen(y,g,T)}}const ys=[{provide:ei._j,useClass:Qn},{provide:jt,useFactory:function Ys(){return new $n}},{provide:P,useClass:(()=>{class V extends P{constructor(g,T,j,me){super(g.body,T,j)}ngOnDestroy(){this.flush()}}return V.\u0275fac=function(g){return new(g||V)(m.LFG(fe.K0),m.LFG(Jo),m.LFG(jt),m.LFG(m.z2F))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac}),V})()},{provide:m.FYo,useFactory:function cs(V,y,g){return new Gn(V,y,g)},deps:[d.se,P,m.R0b]}],sc=[{provide:Jo,useFactory:()=>new fn},{provide:m.QbO,useValue:"BrowserAnimations"},...ys],ha=[{provide:Jo,useClass:Xo},{provide:m.QbO,useValue:"NoopAnimations"},...ys];let xc=(()=>{class V{static withConfig(g){return{ngModule:V,providers:g.disableAnimations?ha:sc}}}return V.\u0275fac=function(g){return new(g||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({providers:sc,imports:[d.b2]}),V})();var _o=E(3144);const ls_firebaseConfig={apiKey:"AIzaSyCBFiqylI83kkUooQ5SKoyaA4AD4cJtW2I",authDomain:"socialmediafeed-72afc.firebaseapp.com",projectId:"socialmediafeed-72afc",storageBucket:"socialmediafeed-72afc.appspot.com",messagingSenderId:"708393762131",appId:"1:708393762131:web:6d451bd3a6d6149c4d35a6",measurementId:"G-VF9CFXKB75"};var Yr=E(2011),Pa=E(8854);function ac(V,y){1&V&&(m.TgZ(0,"div")(1,"small",6),m._uU(2,"Nickname field cannot be empty"),m.qZA()())}function Sn(V,y){1&V&&(m.TgZ(0,"div")(1,"small",6),m._uU(2,"Description field cannot be empty"),m.qZA()())}const wr=function(V,y){return{active:V,idle:y}};let Is=(()=>{class V{constructor(g){this.userDataService=g,this.profileForm=new re.cw({nickname:new re.NI("",[re.kI.required]),description:new re.NI("",[re.kI.required])})}onContinueClick(){const g=this.profileForm.get("nickname"),T=this.profileForm.get("description");g?.markAsTouched(),T?.markAsTouched(),g&&T&&!g.errors&&!T.errors&&(this.userDataService.createUser(g.value,T.value),this.profileForm.reset())}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(ee.M))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:7,consts:[[1,"profile",3,"ngClass"],[1,"profile-content",3,"formGroup","submit"],["formControlName","nickname","placeholder","Nickname"],[4,"ngIf"],["formControlName","description","placeholder","Description"],["mat-flat-button","","color","warn","type","submit"],[1,"error"]],template:function(g,T){if(1&g&&(m.TgZ(0,"div",0)(1,"form",1),m.NdJ("submit",function(){return T.onContinueClick()}),m._UZ(2,"input",2),m.YNc(3,ac,3,0,"div",3),m._UZ(4,"textarea",4),m.YNc(5,Sn,3,0,"div",3),m.TgZ(6,"button",5),m._uU(7,"Continue"),m.qZA()()()),2&g){let j,me;m.Q6J("ngClass",m.WLB(4,wr,T.show,!T.show)),m.xp6(1),m.Q6J("formGroup",T.profileForm),m.xp6(2),m.Q6J("ngIf",(null==(j=T.profileForm.get("nickname"))?null:j.invalid)&&(null==(j=T.profileForm.get("nickname"))?null:j.touched)),m.xp6(2),m.Q6J("ngIf",(null==(me=T.profileForm.get("description"))?null:me.invalid)&&(null==(me=T.profileForm.get("description"))?null:me.touched))}},dependencies:[fe.mk,fe.O5,re._Y,re.Fj,re.JJ,re.JL,re.sg,re.u,et.lW],styles:[".profile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;right:0;height:100vh;background-color:#313131;z-index:9;transition-duration:.5s;overflow:hidden}.profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box}.profile-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-top:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box}.error[_ngcontent-%COMP%]{color:#f44336}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}"]}),V})();var qr=E(8099),ni=E(9744),di=E(9383);function Ts(V,y){1&V&&(m.TgZ(0,"mat-icon",10),m._uU(1,"notifications_active"),m.qZA())}function Un(V,y){1&V&&(m.TgZ(0,"mat-icon"),m._uU(1,"notifications_none"),m.qZA())}function nn(V,y){1&V&&(m.TgZ(0,"mat-icon",10),m._uU(1," fiber_manual_record "),m.qZA())}let En=(()=>{class V{constructor(g,T,j,me){this.dialog=g,this.userDataService=T,this.notificationsService=j,this.router=me,this.notificationFriendsLength=0}ngOnInit(){this.delayUntilUserInfo()}ngOnDestroy(){this.notificationFriendsSubscription&&this.notificationFriendsSubscription.unsubscribe()}delayUntilUserInfo(){var g=this;return(0,zt.Z)(function*(){g.userDataService.userInfo?.userId?g.notificationFriendsSubscription=g.notificationsService.getYourNotificationFriends(g.userDataService.getCurrentUserId()).subscribe(T=>g.notificationFriendsLength=T.length):(yield new Promise(T=>{setTimeout(T,100)}),yield g.delayUntilUserInfo())})()}changeNicknameClick(){this.dialog.open(qr.f,{data:{info:"Change Nickname",message:`Your current nickname - ${this.userDataService.userInfo.publicName}`,field:"publicName"}})}changeDescriptionClick(){this.dialog.open(qr.f,{data:{info:"Change Description",message:`Your current description - ${this.userDataService.userInfo.description}`,field:"description"}})}deleteAccountClick(){this.dialog.open(qr.f,{data:{info:"Delete account",message:"Are you sure you want to delete your account? All your posts will be deleted",yesButton:!0}})}homaPageClick(){this.router.navigate(["userPage"])}newsClick(){this.router.navigate(["postFeed"])}friendsClick(){this.router.navigate(["yourFriends"])}newFriendsClick(){this.router.navigate(["yourFriends",{selectedIndex:1}])}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(ue.uw),m.Y36(ee.M),m.Y36(ni.T),m.Y36(C.F0))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-sidebar"]],decls:40,vars:6,consts:[[1,"sidebar"],["color","primary",3,"click"],["color","primary",3,"matMenuTriggerFor"],["color","warn",4,"ngIf"],[4,"ngIf"],["menuNotifications","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["menuSettings","matMenu"],["mat-menu-item","",1,"delete",3,"click"],["color","warn"]],template:function(g,T){if(1&g&&(m.TgZ(0,"div",0)(1,"mat-toolbar",1),m.NdJ("click",function(){return T.homaPageClick()}),m.TgZ(2,"mat-icon"),m._uU(3,"home"),m.qZA(),m._uU(4," Home "),m.qZA(),m.TgZ(5,"mat-toolbar",1),m.NdJ("click",function(){return T.newsClick()}),m.TgZ(6,"mat-icon"),m._uU(7,"newspaper"),m.qZA(),m._uU(8," News "),m.qZA(),m.TgZ(9,"mat-toolbar",1),m.NdJ("click",function(){return T.friendsClick()}),m.TgZ(10,"mat-icon"),m._uU(11,"people"),m.qZA(),m._uU(12," Friends "),m.qZA(),m.TgZ(13,"mat-toolbar",2),m.YNc(14,Ts,2,0,"mat-icon",3),m.YNc(15,Un,2,0,"mat-icon",4),m._uU(16," Notifications "),m.qZA(),m.TgZ(17,"mat-toolbar",2)(18,"mat-icon"),m._uU(19,"settings"),m.qZA(),m._uU(20," Settings "),m.qZA(),m.TgZ(21,"mat-menu",null,5)(23,"button",6),m.NdJ("click",function(){return T.newFriendsClick()}),m.YNc(24,nn,2,0,"mat-icon",3),m._uU(25," New friends "),m.ynx(26),m._uU(27),m.BQk(),m.qZA(),m.TgZ(28,"button",7),m._uU(29,"New likes (0) "),m._UZ(30,"br"),m._uU(31,"In developing"),m.qZA()(),m.TgZ(32,"mat-menu",null,8)(34,"button",6),m.NdJ("click",function(){return T.changeNicknameClick()}),m._uU(35," Change nickname "),m.qZA(),m.TgZ(36,"button",6),m.NdJ("click",function(){return T.changeDescriptionClick()}),m._uU(37," Change description "),m.qZA(),m.TgZ(38,"button",9),m.NdJ("click",function(){return T.deleteAccountClick()}),m._uU(39," Delete account "),m.qZA()()()),2&g){const j=m.MAs(22),me=m.MAs(33);m.xp6(13),m.Q6J("matMenuTriggerFor",j),m.xp6(1),m.Q6J("ngIf",T.notificationFriendsLength),m.xp6(1),m.Q6J("ngIf",!T.notificationFriendsLength),m.xp6(2),m.Q6J("matMenuTriggerFor",me),m.xp6(7),m.Q6J("ngIf",T.notificationFriendsLength),m.xp6(3),m.hij("(",T.notificationFriendsLength,")")}},dependencies:[fe.O5,Ye.Hw,di.Ye,ze.VK,ze.OP,ze.p6],styles:[".sidebar[_ngcontent-%COMP%]{position:absolute;top:5em;left:0;height:5em;z-index:10}.mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;cursor:pointer;background-color:#0111a1cc}.mat-toolbar[_ngcontent-%COMP%]:hover{background-color:#0017c7cc}.mat-icon[_ngcontent-%COMP%]{margin-right:10px}.mdc-list-item[_ngcontent-%COMP%]{width:200px;background-color:#fff}  .mat-mdc-menu-content{padding:0!important}.delete[_ngcontent-%COMP%]:hover{background-color:#f44336}"]}),V})();function Pi(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"div",8),m.NdJ("click",function(){m.CHM(g);const j=m.oxw(2);return m.KtG(j.onLoginClick())}),m._uU(1," Login "),m.qZA()}}function Vc(V,y){if(1&V&&(m.TgZ(0,"div",9),m._uU(1),m.qZA()),2&V){const g=m.oxw(2);m.xp6(1),m.hij(" Hello, ",g.getUserName()," ")}}function Po(V,y){if(1&V){const g=m.EpF();m.TgZ(0,"div",8),m.NdJ("click",function(){m.CHM(g);const j=m.oxw(2);return m.KtG(j.onLogoutClick())}),m._uU(1," Logout "),m.qZA()}}function jc(V,y){if(1&V&&(m.TgZ(0,"div",5),m.YNc(1,Pi,2,0,"div",6),m.YNc(2,Vc,2,1,"div",7),m.YNc(3,Po,2,0,"div",6),m.qZA()),2&V){const g=m.oxw();m.xp6(1),m.Q6J("ngIf",!g.getIsLoggedIn()),m.xp6(1),m.Q6J("ngIf",g.getIsLoggedIn()&&g.getUserHasProfile()),m.xp6(1),m.Q6J("ngIf",g.getIsLoggedIn())}}let xa=(()=>{class V{constructor(g,T,j,me){this.userDataService=g,this.loginSheet=T,this.afAuth=j,this.router=me}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}getUserName(){return this.userDataService.userInfo?.publicName||""}onLoginClick(){this.loginSheet.open(Le)}onLogoutClick(){this.router.navigate([""]),this.userDataService.resetUserName(),this.afAuth.signOut()}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(ee.M),m.Y36(De.ch),m.Y36(oe.zQ),m.Y36(C.F0))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-navbar"]],decls:6,vars:1,consts:[[1,"nav-bar"],[1,"nav-bar-content"],[1,"nav-bar-left"],["target","_blank","href","https://www.instagram.com/vlladyaa/",1,"nav-bar-items","link"],["class","nav-bar-right",4,"ngIf"],[1,"nav-bar-right"],["class","nav-bar-items link",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[1,"nav-bar-items","link",3,"click"],[1,"nav-bar-items"]],template:function(g,T){1&g&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),m._uU(4,"Instagram"),m.qZA()(),m.YNc(5,jc,4,3,"div",4),m.qZA()()),2&g&&(m.xp6(5),m.Q6J("ngIf",void 0!==T.getIsLoggedIn()))},dependencies:[fe.O5],styles:[".nav-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#00000080;height:5em;z-index:10}.nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}.nav-bar-left[_ngcontent-%COMP%], .nav-bar-right[_ngcontent-%COMP%]{opacity:1;display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;color:#fff;font-weight:900}.link[_ngcontent-%COMP%]{outline:none;text-decoration:none}.link[_ngcontent-%COMP%]:link, .link[_ngcontent-%COMP%]:visited{color:#fff}.link[_ngcontent-%COMP%]:hover{border-bottom:1px solid;background:#b4b4b4;padding:5px;border-radius:1em}.link[_ngcontent-%COMP%]:active{background:#ec6802;color:#fff}.nav-bar-left[_ngcontent-%COMP%]{font-size:1.5em}.nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),V})();function Sa(V,y){1&V&&m._UZ(0,"app-sidebar")}let cc=(()=>{class V{constructor(g,T){this.userDataService=g,this.location=T,this.title="SocialMediaProject",this.userDataService.checkLoginStatus()}checkUrl(){const g=this.location.path();return g.includes("postFeed")||g.includes("userPage")||g.includes("friendPage")||g.includes("yourFriends")}getIsLoggedIn(){return this.userDataService.isLoggedIn}getUserHasProfile(){return this.userDataService.userHasProfile}}return V.\u0275fac=function(g){return new(g||V)(m.Y36(ee.M),m.Y36(fe.Ye))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],[3,"show"]],template:function(g,T){1&g&&(m._UZ(0,"app-navbar"),m.YNc(1,Sa,1,0,"app-sidebar",0),m._UZ(2,"router-outlet")(3,"app-profile",1)),2&g&&(m.xp6(1),m.Q6J("ngIf",T.checkUrl()),m.xp6(2),m.Q6J("show",T.getIsLoggedIn()&&!T.getUserHasProfile()))},dependencies:[fe.O5,C.lC,Is,En,xa]}),V})(),Fa=(()=>{class V{}return V.\u0275fac=function(g){return new(g||V)},V.\u0275mod=m.oAB({type:V,bootstrap:[cc]}),V.\u0275inj=m.cJS({providers:[ee.M,Rt.n],imports:[d.b2,fi,xc,Yr.hO.initializeApp(ls_firebaseConfig),on.yb,_n.TE,re.UX,_o.JF,Pa.q]}),V})();d.q6().bootstrapModule(Fa).catch(V=>console.error(V))},1135:(vn,it,E)=>{E.d(it,{X:()=>C});var d=E(7579);class C extends d.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const Ee=super._subscribe(ee);return!Ee.closed&&ee.next(this._value),Ee}getValue(){const{hasError:ee,thrownError:Ee,_value:re}=this;if(ee)throw Ee;return this._throwIfClosed(),re}next(ee){super.next(this._value=ee)}}},9751:(vn,it,E)=>{E.d(it,{y:()=>ve});var d=E(930),C=E(727),m=E(8822),ee=E(9635),Ee=E(2416),re=E(576),K=E(2806);let ve=(()=>{class fe{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const lt=new fe;return lt.source=this,lt.operator=Ve,lt}subscribe(Ve,lt,Qe){const Je=function ue(fe){return fe&&fe instanceof d.Lv||function oe(fe){return fe&&(0,re.m)(fe.next)&&(0,re.m)(fe.error)&&(0,re.m)(fe.complete)}(fe)&&(0,C.Nn)(fe)}(Ve)?Ve:new d.Hp(Ve,lt,Qe);return(0,K.x)(()=>{const{operator:Ue,source:ke}=this;Je.add(Ue?Ue.call(Je,ke):ke?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(lt){Ve.error(lt)}}forEach(Ve,lt){return new(lt=De(lt))((Qe,Je)=>{const Ue=new d.Hp({next:ke=>{try{Ve(ke)}catch(wt){Je(wt),Ue.unsubscribe()}},error:Je,complete:Qe});this.subscribe(Ue)})}_subscribe(Ve){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Ve)}[m.L](){return this}pipe(...Ve){return(0,ee.U)(Ve)(this)}toPromise(Ve){return new(Ve=De(Ve))((lt,Qe)=>{let Je;this.subscribe(Ue=>Je=Ue,Ue=>Qe(Ue),()=>lt(Je))})}}return fe.create=et=>new fe(et),fe})();function De(fe){var et;return null!==(et=fe??Ee.config.Promise)&&void 0!==et?et:Promise}},7579:(vn,it,E)=>{E.d(it,{x:()=>K});var d=E(9751),C=E(727);const ee=(0,E(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=E(8737),re=E(2806);let K=(()=>{class De extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const fe=new ve(this,this);return fe.operator=ue,fe}_throwIfClosed(){if(this.closed)throw new ee}next(ue){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(ue)}})}error(ue){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:fe}=this;for(;fe.length;)fe.shift().error(ue)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:fe,isStopped:et,observers:Ve}=this;return fe||et?C.Lc:(this.currentObservers=null,Ve.push(ue),new C.w0(()=>{this.currentObservers=null,(0,Ee.P)(Ve,ue)}))}_checkFinalizedStatuses(ue){const{hasError:fe,thrownError:et,isStopped:Ve}=this;fe?ue.error(et):Ve&&ue.complete()}asObservable(){const ue=new d.y;return ue.source=this,ue}}return De.create=(oe,ue)=>new ve(oe,ue),De})();class ve extends K{constructor(oe,ue){super(),this.destination=oe,this.source=ue}next(oe){var ue,fe;null===(fe=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===fe||fe.call(ue,oe)}error(oe){var ue,fe;null===(fe=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===fe||fe.call(ue,oe)}complete(){var oe,ue;null===(ue=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===ue||ue.call(oe)}_subscribe(oe){var ue,fe;return null!==(fe=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(oe))&&void 0!==fe?fe:C.Lc}}},930:(vn,it,E)=>{E.d(it,{Hp:()=>Qe,Lv:()=>fe});var d=E(576),C=E(727),m=E(2416),ee=E(7849),Ee=E(5032);const re=De("C",void 0,void 0);function De(he,Ce,ge){return{kind:he,value:Ce,error:ge}}var oe=E(3410),ue=E(2806);class fe extends C.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,C.Nn)(Ce)&&Ce.add(this)):this.destination=wt}static create(Ce,ge,Ae){return new Qe(Ce,ge,Ae)}next(Ce){this.isStopped?ke(function ve(he){return De("N",he,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?ke(function K(he){return De("E",void 0,he)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?ke(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Ve(he,Ce){return et.call(he,Ce)}class lt{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:ge}=this;if(ge.next)try{ge.next(Ce)}catch(Ae){Je(Ae)}}error(Ce){const{partialObserver:ge}=this;if(ge.error)try{ge.error(Ce)}catch(Ae){Je(Ae)}else Je(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(ge){Je(ge)}}}class Qe extends fe{constructor(Ce,ge,Ae){let Ge;if(super(),(0,d.m)(Ce)||!Ce)Ge={next:Ce??void 0,error:ge??void 0,complete:Ae??void 0};else{let Z;this&&m.config.useDeprecatedNextContext?(Z=Object.create(Ce),Z.unsubscribe=()=>this.unsubscribe(),Ge={next:Ce.next&&Ve(Ce.next,Z),error:Ce.error&&Ve(Ce.error,Z),complete:Ce.complete&&Ve(Ce.complete,Z)}):Ge=Ce}this.destination=new lt(Ge)}}function Je(he){m.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(he):(0,ee.h)(he)}function ke(he,Ce){const{onStoppedNotification:ge}=m.config;ge&&oe.z.setTimeout(()=>ge(he,Ce))}const wt={closed:!0,next:Ee.Z,error:function Ue(he){throw he},complete:Ee.Z}},727:(vn,it,E)=>{E.d(it,{Lc:()=>re,w0:()=>Ee,Nn:()=>K});var d=E(576);const m=(0,E(3888).d)(De=>function(ue){De(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((fe,et)=>`${et+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ee=E(8737);class Ee{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Ve of ue)Ve.remove(this);else ue.remove(this);const{initialTeardown:fe}=this;if((0,d.m)(fe))try{fe()}catch(Ve){oe=Ve instanceof m?Ve.errors:[Ve]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Ve of et)try{ve(Ve)}catch(lt){oe=oe??[],lt instanceof m?oe=[...oe,...lt.errors]:oe.push(lt)}}if(oe)throw new m(oe)}}add(oe){var ue;if(oe&&oe!==this)if(this.closed)ve(oe);else{if(oe instanceof Ee){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(oe)}}_hasParent(oe){const{_parentage:ue}=this;return ue===oe||Array.isArray(ue)&&ue.includes(oe)}_addParent(oe){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(oe),ue):ue?[ue,oe]:oe}_removeParent(oe){const{_parentage:ue}=this;ue===oe?this._parentage=null:Array.isArray(ue)&&(0,ee.P)(ue,oe)}remove(oe){const{_finalizers:ue}=this;ue&&(0,ee.P)(ue,oe),oe instanceof Ee&&oe._removeParent(this)}}Ee.EMPTY=(()=>{const De=new Ee;return De.closed=!0,De})();const re=Ee.EMPTY;function K(De){return De instanceof Ee||De&&"closed"in De&&(0,d.m)(De.remove)&&(0,d.m)(De.add)&&(0,d.m)(De.unsubscribe)}function ve(De){(0,d.m)(De)?De():De.unsubscribe()}},2416:(vn,it,E)=>{E.d(it,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(vn,it,E)=>{E.d(it,{a:()=>oe});var d=E(9751),C=E(4742),m=E(8996),ee=E(4671),Ee=E(3268),re=E(3269),K=E(1810),ve=E(5403),De=E(9672);function oe(...et){const Ve=(0,re.yG)(et),lt=(0,re.jO)(et),{args:Qe,keys:Je}=(0,C.D)(et);if(0===Qe.length)return(0,m.D)([],Ve);const Ue=new d.y(function ue(et,Ve,lt=ee.y){return Qe=>{fe(Ve,()=>{const{length:Je}=et,Ue=new Array(Je);let ke=Je,wt=Je;for(let he=0;he<Je;he++)fe(Ve,()=>{const Ce=(0,m.D)(et[he],Ve);let ge=!1;Ce.subscribe((0,ve.x)(Qe,Ae=>{Ue[he]=Ae,ge||(ge=!0,wt--),wt||Qe.next(lt(Ue.slice()))},()=>{--ke||Qe.complete()}))},Qe)},Qe)}}(Qe,Ve,Je?ke=>(0,K.n)(Je,ke):ee.y));return lt?Ue.pipe((0,Ee.Z)(lt)):Ue}function fe(et,Ve,lt){et?(0,De.f)(lt,et,Ve):Ve()}},7272:(vn,it,E)=>{E.d(it,{z:()=>Ee});var d=E(8189),m=E(3269),ee=E(8996);function Ee(...re){return function C(){return(0,d.J)(1)}()((0,ee.D)(re,(0,m.yG)(re)))}},9770:(vn,it,E)=>{E.d(it,{P:()=>m});var d=E(9751),C=E(8421);function m(ee){return new d.y(Ee=>{(0,C.Xf)(ee()).subscribe(Ee)})}},515:(vn,it,E)=>{E.d(it,{E:()=>C});const C=new(E(9751).y)(Ee=>Ee.complete())},4128:(vn,it,E)=>{E.d(it,{D:()=>ve});var d=E(9751),C=E(4742),m=E(8421),ee=E(3269),Ee=E(5403),re=E(3268),K=E(1810);function ve(...De){const oe=(0,ee.jO)(De),{args:ue,keys:fe}=(0,C.D)(De),et=new d.y(Ve=>{const{length:lt}=ue;if(!lt)return void Ve.complete();const Qe=new Array(lt);let Je=lt,Ue=lt;for(let ke=0;ke<lt;ke++){let wt=!1;(0,m.Xf)(ue[ke]).subscribe((0,Ee.x)(Ve,he=>{wt||(wt=!0,Ue--),Qe[ke]=he},()=>Je--,void 0,()=>{(!Je||!wt)&&(Ue||Ve.next(fe?(0,K.n)(fe,Qe):Qe),Ve.complete())}))}});return oe?et.pipe((0,re.Z)(oe)):et}},8996:(vn,it,E)=>{E.d(it,{D:()=>Ce});var d=E(8421),C=E(5363),m=E(9468),re=E(9751),ve=E(2202),De=E(576),oe=E(9672);function fe(ge,Ae){if(!ge)throw new Error("Iterable cannot be null");return new re.y(Ge=>{(0,oe.f)(Ge,Ae,()=>{const Z=ge[Symbol.asyncIterator]();(0,oe.f)(Ge,Ae,()=>{Z.next().then(Ke=>{Ke.done?Ge.complete():Ge.next(Ke.value)})},0,!0)})})}var et=E(3670),Ve=E(8239),lt=E(1144),Qe=E(6495),Je=E(2206),Ue=E(4532),ke=E(3260);function Ce(ge,Ae){return Ae?function he(ge,Ae){if(null!=ge){if((0,et.c)(ge))return function ee(ge,Ae){return(0,d.Xf)(ge).pipe((0,m.R)(Ae),(0,C.Q)(Ae))}(ge,Ae);if((0,lt.z)(ge))return function K(ge,Ae){return new re.y(Ge=>{let Z=0;return Ae.schedule(function(){Z===ge.length?Ge.complete():(Ge.next(ge[Z++]),Ge.closed||this.schedule())})})}(ge,Ae);if((0,Ve.t)(ge))return function Ee(ge,Ae){return(0,d.Xf)(ge).pipe((0,m.R)(Ae),(0,C.Q)(Ae))}(ge,Ae);if((0,Je.D)(ge))return fe(ge,Ae);if((0,Qe.T)(ge))return function ue(ge,Ae){return new re.y(Ge=>{let Z;return(0,oe.f)(Ge,Ae,()=>{Z=ge[ve.h](),(0,oe.f)(Ge,Ae,()=>{let Ke,Le;try{({value:Ke,done:Le}=Z.next())}catch(Ze){return void Ge.error(Ze)}Le?Ge.complete():Ge.next(Ke)},0,!0)}),()=>(0,De.m)(Z?.return)&&Z.return()})}(ge,Ae);if((0,ke.L)(ge))return function wt(ge,Ae){return fe((0,ke.Q)(ge),Ae)}(ge,Ae)}throw(0,Ue.z)(ge)}(ge,Ae):(0,d.Xf)(ge)}},4968:(vn,it,E)=>{E.d(it,{R:()=>oe});var d=E(8421),C=E(9751),m=E(5577),ee=E(1144),Ee=E(576),re=E(3268);const K=["addListener","removeListener"],ve=["addEventListener","removeEventListener"],De=["on","off"];function oe(lt,Qe,Je,Ue){if((0,Ee.m)(Je)&&(Ue=Je,Je=void 0),Ue)return oe(lt,Qe,Je).pipe((0,re.Z)(Ue));const[ke,wt]=function Ve(lt){return(0,Ee.m)(lt.addEventListener)&&(0,Ee.m)(lt.removeEventListener)}(lt)?ve.map(he=>Ce=>lt[he](Qe,Ce,Je)):function fe(lt){return(0,Ee.m)(lt.addListener)&&(0,Ee.m)(lt.removeListener)}(lt)?K.map(ue(lt,Qe)):function et(lt){return(0,Ee.m)(lt.on)&&(0,Ee.m)(lt.off)}(lt)?De.map(ue(lt,Qe)):[];if(!ke&&(0,ee.z)(lt))return(0,m.z)(he=>oe(he,Qe,Je))((0,d.Xf)(lt));if(!ke)throw new TypeError("Invalid event target");return new C.y(he=>{const Ce=(...ge)=>he.next(1<ge.length?ge:ge[0]);return ke(Ce),()=>wt(Ce)})}function ue(lt,Qe){return Je=>Ue=>lt[Je](Qe,Ue)}},8421:(vn,it,E)=>{E.d(it,{Xf:()=>et});var d=E(7582),C=E(1144),m=E(8239),ee=E(9751),Ee=E(3670),re=E(2206),K=E(4532),ve=E(6495),De=E(3260),oe=E(576),ue=E(7849),fe=E(8822);function et(he){if(he instanceof ee.y)return he;if(null!=he){if((0,Ee.c)(he))return function Ve(he){return new ee.y(Ce=>{const ge=he[fe.L]();if((0,oe.m)(ge.subscribe))return ge.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(he);if((0,C.z)(he))return function lt(he){return new ee.y(Ce=>{for(let ge=0;ge<he.length&&!Ce.closed;ge++)Ce.next(he[ge]);Ce.complete()})}(he);if((0,m.t)(he))return function Qe(he){return new ee.y(Ce=>{he.then(ge=>{Ce.closed||(Ce.next(ge),Ce.complete())},ge=>Ce.error(ge)).then(null,ue.h)})}(he);if((0,re.D)(he))return Ue(he);if((0,ve.T)(he))return function Je(he){return new ee.y(Ce=>{for(const ge of he)if(Ce.next(ge),Ce.closed)return;Ce.complete()})}(he);if((0,De.L)(he))return function ke(he){return Ue((0,De.Q)(he))}(he)}throw(0,K.z)(he)}function Ue(he){return new ee.y(Ce=>{(function wt(he,Ce){var ge,Ae,Ge,Z;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ge=(0,d.KL)(he);!(Ae=yield ge.next()).done;)if(Ce.next(Ae.value),Ce.closed)return}catch(Ke){Ge={error:Ke}}finally{try{Ae&&!Ae.done&&(Z=ge.return)&&(yield Z.call(ge))}finally{if(Ge)throw Ge.error}}Ce.complete()})})(he,Ce).catch(ge=>Ce.error(ge))})}},6451:(vn,it,E)=>{E.d(it,{T:()=>re});var d=E(8189),C=E(8421),m=E(515),ee=E(3269),Ee=E(8996);function re(...K){const ve=(0,ee.yG)(K),De=(0,ee._6)(K,1/0),oe=K;return oe.length?1===oe.length?(0,C.Xf)(oe[0]):(0,d.J)(De)((0,Ee.D)(oe,ve)):m.E}},9646:(vn,it,E)=>{E.d(it,{of:()=>m});var d=E(3269),C=E(8996);function m(...ee){const Ee=(0,d.yG)(ee);return(0,C.D)(ee,Ee)}},2843:(vn,it,E)=>{E.d(it,{_:()=>m});var d=E(9751),C=E(576);function m(ee,Ee){const re=(0,C.m)(ee)?ee:()=>ee,K=ve=>ve.error(re());return new d.y(Ee?ve=>Ee.schedule(K,0,ve):K)}},5963:(vn,it,E)=>{E.d(it,{H:()=>Ee});var d=E(9751),C=E(4986),m=E(3532);function Ee(re=0,K,ve=C.P){let De=-1;return null!=K&&((0,m.K)(K)?ve=K:De=K),new d.y(oe=>{let ue=function ee(re){return re instanceof Date&&!isNaN(re)}(re)?+re-ve.now():re;ue<0&&(ue=0);let fe=0;return ve.schedule(function(){oe.closed||(oe.next(fe++),0<=De?this.schedule(void 0,De):oe.complete())},ue)})}},5403:(vn,it,E)=>{E.d(it,{x:()=>C});var d=E(930);function C(ee,Ee,re,K,ve){return new m(ee,Ee,re,K,ve)}class m extends d.Lv{constructor(Ee,re,K,ve,De,oe){super(Ee),this.onFinalize=De,this.shouldUnsubscribe=oe,this._next=re?function(ue){try{re(ue)}catch(fe){Ee.error(fe)}}:super._next,this._error=ve?function(ue){try{ve(ue)}catch(fe){Ee.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=K?function(){try{K()}catch(ue){Ee.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},262:(vn,it,E)=>{E.d(it,{K:()=>ee});var d=E(8421),C=E(5403),m=E(4482);function ee(Ee){return(0,m.e)((re,K)=>{let oe,ve=null,De=!1;ve=re.subscribe((0,C.x)(K,void 0,void 0,ue=>{oe=(0,d.Xf)(Ee(ue,ee(Ee)(re))),ve?(ve.unsubscribe(),ve=null,oe.subscribe(K)):De=!0})),De&&(ve.unsubscribe(),ve=null,oe.subscribe(K))})}},4351:(vn,it,E)=>{E.d(it,{b:()=>m});var d=E(5577),C=E(576);function m(ee,Ee){return(0,C.m)(Ee)?(0,d.z)(ee,Ee,1):(0,d.z)(ee,1)}},8372:(vn,it,E)=>{E.d(it,{b:()=>ee});var d=E(4986),C=E(4482),m=E(5403);function ee(Ee,re=d.z){return(0,C.e)((K,ve)=>{let De=null,oe=null,ue=null;const fe=()=>{if(De){De.unsubscribe(),De=null;const Ve=oe;oe=null,ve.next(Ve)}};function et(){const Ve=ue+Ee,lt=re.now();if(lt<Ve)return De=this.schedule(void 0,Ve-lt),void ve.add(De);fe()}K.subscribe((0,m.x)(ve,Ve=>{oe=Ve,ue=re.now(),De||(De=re.schedule(et,Ee),ve.add(De))},()=>{fe(),ve.complete()},void 0,()=>{oe=De=null}))})}},6590:(vn,it,E)=>{E.d(it,{d:()=>m});var d=E(4482),C=E(5403);function m(ee){return(0,d.e)((Ee,re)=>{let K=!1;Ee.subscribe((0,C.x)(re,ve=>{K=!0,re.next(ve)},()=>{K||re.next(ee),re.complete()}))})}},1884:(vn,it,E)=>{E.d(it,{x:()=>ee});var d=E(4671),C=E(4482),m=E(5403);function ee(re,K=d.y){return re=re??Ee,(0,C.e)((ve,De)=>{let oe,ue=!0;ve.subscribe((0,m.x)(De,fe=>{const et=K(fe);(ue||!re(oe,et))&&(ue=!1,oe=et,De.next(fe))}))})}function Ee(re,K){return re===K}},9300:(vn,it,E)=>{E.d(it,{h:()=>m});var d=E(4482),C=E(5403);function m(ee,Ee){return(0,d.e)((re,K)=>{let ve=0;re.subscribe((0,C.x)(K,De=>ee.call(Ee,De,ve++)&&K.next(De)))})}},8746:(vn,it,E)=>{E.d(it,{x:()=>C});var d=E(4482);function C(m){return(0,d.e)((ee,Ee)=>{try{ee.subscribe(Ee)}finally{Ee.add(m)}})}},590:(vn,it,E)=>{E.d(it,{P:()=>K});var d=E(6805),C=E(9300),m=E(5698),ee=E(6590),Ee=E(8068),re=E(4671);function K(ve,De){const oe=arguments.length>=2;return ue=>ue.pipe(ve?(0,C.h)((fe,et)=>ve(fe,et,ue)):re.y,(0,m.q)(1),oe?(0,ee.d)(De):(0,Ee.T)(()=>new d.K))}},4004:(vn,it,E)=>{E.d(it,{U:()=>m});var d=E(4482),C=E(5403);function m(ee,Ee){return(0,d.e)((re,K)=>{let ve=0;re.subscribe((0,C.x)(K,De=>{K.next(ee.call(Ee,De,ve++))}))})}},9718:(vn,it,E)=>{E.d(it,{h:()=>C});var d=E(4004);function C(m){return(0,d.U)(()=>m)}},8189:(vn,it,E)=>{E.d(it,{J:()=>m});var d=E(5577),C=E(4671);function m(ee=1/0){return(0,d.z)(C.y,ee)}},5577:(vn,it,E)=>{E.d(it,{z:()=>ve});var d=E(4004),C=E(8421),m=E(4482),ee=E(9672),Ee=E(5403),K=E(576);function ve(De,oe,ue=1/0){return(0,K.m)(oe)?ve((fe,et)=>(0,d.U)((Ve,lt)=>oe(fe,Ve,et,lt))((0,C.Xf)(De(fe,et))),ue):("number"==typeof oe&&(ue=oe),(0,m.e)((fe,et)=>function re(De,oe,ue,fe,et,Ve,lt,Qe){const Je=[];let Ue=0,ke=0,wt=!1;const he=()=>{wt&&!Je.length&&!Ue&&oe.complete()},Ce=Ae=>Ue<fe?ge(Ae):Je.push(Ae),ge=Ae=>{Ve&&oe.next(Ae),Ue++;let Ge=!1;(0,C.Xf)(ue(Ae,ke++)).subscribe((0,Ee.x)(oe,Z=>{et?.(Z),Ve?Ce(Z):oe.next(Z)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ue--;Je.length&&Ue<fe;){const Z=Je.shift();lt?(0,ee.f)(oe,lt,()=>ge(Z)):ge(Z)}he()}catch(Z){oe.error(Z)}}))};return De.subscribe((0,Ee.x)(oe,Ce,()=>{wt=!0,he()})),()=>{Qe?.()}}(fe,et,De,ue)))}},5363:(vn,it,E)=>{E.d(it,{Q:()=>ee});var d=E(9672),C=E(4482),m=E(5403);function ee(Ee,re=0){return(0,C.e)((K,ve)=>{K.subscribe((0,m.x)(ve,De=>(0,d.f)(ve,Ee,()=>ve.next(De),re),()=>(0,d.f)(ve,Ee,()=>ve.complete(),re),De=>(0,d.f)(ve,Ee,()=>ve.error(De),re)))})}},5026:(vn,it,E)=>{E.d(it,{R:()=>ee});var d=E(4482),C=E(5403);function ee(Ee,re){return(0,d.e)(function m(Ee,re,K,ve,De){return(oe,ue)=>{let fe=K,et=re,Ve=0;oe.subscribe((0,C.x)(ue,lt=>{const Qe=Ve++;et=fe?Ee(et,lt,Qe):(fe=!0,lt),ve&&ue.next(et)},De&&(()=>{fe&&ue.next(et),ue.complete()})))}}(Ee,re,arguments.length>=2,!0))}},3099:(vn,it,E)=>{E.d(it,{B:()=>Ee});var d=E(8421),C=E(7579),m=E(930),ee=E(4482);function Ee(K={}){const{connector:ve=(()=>new C.x),resetOnError:De=!0,resetOnComplete:oe=!0,resetOnRefCountZero:ue=!0}=K;return fe=>{let et,Ve,lt,Qe=0,Je=!1,Ue=!1;const ke=()=>{Ve?.unsubscribe(),Ve=void 0},wt=()=>{ke(),et=lt=void 0,Je=Ue=!1},he=()=>{const Ce=et;wt(),Ce?.unsubscribe()};return(0,ee.e)((Ce,ge)=>{Qe++,!Ue&&!Je&&ke();const Ae=lt=lt??ve();ge.add(()=>{Qe--,0===Qe&&!Ue&&!Je&&(Ve=re(he,ue))}),Ae.subscribe(ge),!et&&Qe>0&&(et=new m.Hp({next:Ge=>Ae.next(Ge),error:Ge=>{Ue=!0,ke(),Ve=re(wt,De,Ge),Ae.error(Ge)},complete:()=>{Je=!0,ke(),Ve=re(wt,oe),Ae.complete()}}),(0,d.Xf)(Ce).subscribe(et))})(fe)}}function re(K,ve,...De){if(!0===ve)return void K();if(!1===ve)return;const oe=new m.Hp({next:()=>{oe.unsubscribe(),K()}});return(0,d.Xf)(ve(...De)).subscribe(oe)}},5684:(vn,it,E)=>{E.d(it,{T:()=>C});var d=E(9300);function C(m){return(0,d.h)((ee,Ee)=>m<=Ee)}},8675:(vn,it,E)=>{E.d(it,{O:()=>ee});var d=E(7272),C=E(3269),m=E(4482);function ee(...Ee){const re=(0,C.yG)(Ee);return(0,m.e)((K,ve)=>{(re?(0,d.z)(Ee,K,re):(0,d.z)(Ee,K)).subscribe(ve)})}},9468:(vn,it,E)=>{E.d(it,{R:()=>C});var d=E(4482);function C(m,ee=0){return(0,d.e)((Ee,re)=>{re.add(m.schedule(()=>Ee.subscribe(re),ee))})}},3900:(vn,it,E)=>{E.d(it,{w:()=>ee});var d=E(8421),C=E(4482),m=E(5403);function ee(Ee,re){return(0,C.e)((K,ve)=>{let De=null,oe=0,ue=!1;const fe=()=>ue&&!De&&ve.complete();K.subscribe((0,m.x)(ve,et=>{De?.unsubscribe();let Ve=0;const lt=oe++;(0,d.Xf)(Ee(et,lt)).subscribe(De=(0,m.x)(ve,Qe=>ve.next(re?re(et,Qe,lt,Ve++):Qe),()=>{De=null,fe()}))},()=>{ue=!0,fe()}))})}},5698:(vn,it,E)=>{E.d(it,{q:()=>ee});var d=E(515),C=E(4482),m=E(5403);function ee(Ee){return Ee<=0?()=>d.E:(0,C.e)((re,K)=>{let ve=0;re.subscribe((0,m.x)(K,De=>{++ve<=Ee&&(K.next(De),Ee<=ve&&K.complete())}))})}},2722:(vn,it,E)=>{E.d(it,{R:()=>Ee});var d=E(4482),C=E(5403),m=E(8421),ee=E(5032);function Ee(re){return(0,d.e)((K,ve)=>{(0,m.Xf)(re).subscribe((0,C.x)(ve,()=>ve.complete(),ee.Z)),!ve.closed&&K.subscribe(ve)})}},8505:(vn,it,E)=>{E.d(it,{b:()=>Ee});var d=E(576),C=E(4482),m=E(5403),ee=E(4671);function Ee(re,K,ve){const De=(0,d.m)(re)||K||ve?{next:re,error:K,complete:ve}:re;return De?(0,C.e)((oe,ue)=>{var fe;null===(fe=De.subscribe)||void 0===fe||fe.call(De);let et=!0;oe.subscribe((0,m.x)(ue,Ve=>{var lt;null===(lt=De.next)||void 0===lt||lt.call(De,Ve),ue.next(Ve)},()=>{var Ve;et=!1,null===(Ve=De.complete)||void 0===Ve||Ve.call(De),ue.complete()},Ve=>{var lt;et=!1,null===(lt=De.error)||void 0===lt||lt.call(De,Ve),ue.error(Ve)},()=>{var Ve,lt;et&&(null===(Ve=De.unsubscribe)||void 0===Ve||Ve.call(De)),null===(lt=De.finalize)||void 0===lt||lt.call(De)}))}):ee.y}},8068:(vn,it,E)=>{E.d(it,{T:()=>ee});var d=E(6805),C=E(4482),m=E(5403);function ee(re=Ee){return(0,C.e)((K,ve)=>{let De=!1;K.subscribe((0,m.x)(ve,oe=>{De=!0,ve.next(oe)},()=>De?ve.complete():ve.error(re())))})}function Ee(){return new d.K}},4408:(vn,it,E)=>{E.d(it,{o:()=>Ee});var d=E(727);class C extends d.w0{constructor(K,ve){super()}schedule(K,ve=0){return this}}const m={setInterval(re,K,...ve){const{delegate:De}=m;return De?.setInterval?De.setInterval(re,K,...ve):setInterval(re,K,...ve)},clearInterval(re){const{delegate:K}=m;return(K?.clearInterval||clearInterval)(re)},delegate:void 0};var ee=E(8737);class Ee extends C{constructor(K,ve){super(K,ve),this.scheduler=K,this.work=ve,this.pending=!1}schedule(K,ve=0){var De;if(this.closed)return this;this.state=K;const oe=this.id,ue=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(ue,oe,ve)),this.pending=!0,this.delay=ve,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(ue,this.id,ve),this}requestAsyncId(K,ve,De=0){return m.setInterval(K.flush.bind(K,this),De)}recycleAsyncId(K,ve,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return ve;null!=ve&&m.clearInterval(ve)}execute(K,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(K,ve);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(K,ve){let oe,De=!1;try{this.work(K)}catch(ue){De=!0,oe=ue||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:K,scheduler:ve}=this,{actions:De}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(De,this),null!=K&&(this.id=this.recycleAsyncId(ve,K,null)),this.delay=null,super.unsubscribe()}}}},7565:(vn,it,E)=>{E.d(it,{v:()=>m});var d=E(6063);class C{constructor(Ee,re=C.now){this.schedulerActionCtor=Ee,this.now=re}schedule(Ee,re=0,K){return new this.schedulerActionCtor(this,Ee).schedule(K,re)}}C.now=d.l.now;class m extends C{constructor(Ee,re=C.now){super(Ee,re),this.actions=[],this._active=!1}flush(Ee){const{actions:re}=this;if(this._active)return void re.push(Ee);let K;this._active=!0;do{if(K=Ee.execute(Ee.state,Ee.delay))break}while(Ee=re.shift());if(this._active=!1,K){for(;Ee=re.shift();)Ee.unsubscribe();throw K}}}},3101:(vn,it,E)=>{E.d(it,{E:()=>Ve});var d=E(4408);let m,C=1;const ee={};function Ee(Qe){return Qe in ee&&(delete ee[Qe],!0)}const re={setImmediate(Qe){const Je=C++;return ee[Je]=!0,m||(m=Promise.resolve()),m.then(()=>Ee(Je)&&Qe()),Je},clearImmediate(Qe){Ee(Qe)}},{setImmediate:ve,clearImmediate:De}=re,oe={setImmediate(...Qe){const{delegate:Je}=oe;return(Je?.setImmediate||ve)(...Qe)},clearImmediate(Qe){const{delegate:Je}=oe;return(Je?.clearImmediate||De)(Qe)},delegate:void 0};var fe=E(7565);const Ve=new class et extends fe.v{flush(Je){this._active=!0;const Ue=this._scheduled;this._scheduled=void 0;const{actions:ke}=this;let wt;Je=Je||ke.shift();do{if(wt=Je.execute(Je.state,Je.delay))break}while((Je=ke[0])&&Je.id===Ue&&ke.shift());if(this._active=!1,wt){for(;(Je=ke[0])&&Je.id===Ue&&ke.shift();)Je.unsubscribe();throw wt}}}(class ue extends d.o{constructor(Je,Ue){super(Je,Ue),this.scheduler=Je,this.work=Ue}requestAsyncId(Je,Ue,ke=0){return null!==ke&&ke>0?super.requestAsyncId(Je,Ue,ke):(Je.actions.push(this),Je._scheduled||(Je._scheduled=oe.setImmediate(Je.flush.bind(Je,void 0))))}recycleAsyncId(Je,Ue,ke=0){var wt;if(null!=ke?ke>0:this.delay>0)return super.recycleAsyncId(Je,Ue,ke);const{actions:he}=Je;null!=Ue&&(null===(wt=he[he.length-1])||void 0===wt?void 0:wt.id)!==Ue&&(oe.clearImmediate(Ue),Je._scheduled===Ue&&(Je._scheduled=void 0))}})},4986:(vn,it,E)=>{E.d(it,{P:()=>ee,z:()=>m});var d=E(4408);const m=new(E(7565).v)(d.o),ee=m},6063:(vn,it,E)=>{E.d(it,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(vn,it,E)=>{E.d(it,{z:()=>d});const d={setTimeout(C,m,...ee){const{delegate:Ee}=d;return Ee?.setTimeout?Ee.setTimeout(C,m,...ee):setTimeout(C,m,...ee)},clearTimeout(C){const{delegate:m}=d;return(m?.clearTimeout||clearTimeout)(C)},delegate:void 0}},2202:(vn,it,E)=>{E.d(it,{h:()=>C});const C=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vn,it,E)=>{E.d(it,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(vn,it,E)=>{E.d(it,{K:()=>C});const C=(0,E(3888).d)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(vn,it,E)=>{E.d(it,{_6:()=>re,jO:()=>ee,yG:()=>Ee});var d=E(576),C=E(3532);function m(K){return K[K.length-1]}function ee(K){return(0,d.m)(m(K))?K.pop():void 0}function Ee(K){return(0,C.K)(m(K))?K.pop():void 0}function re(K,ve){return"number"==typeof m(K)?K.pop():ve}},4742:(vn,it,E)=>{E.d(it,{D:()=>Ee});const{isArray:d}=Array,{getPrototypeOf:C,prototype:m,keys:ee}=Object;function Ee(K){if(1===K.length){const ve=K[0];if(d(ve))return{args:ve,keys:null};if(function re(K){return K&&"object"==typeof K&&C(K)===m}(ve)){const De=ee(ve);return{args:De.map(oe=>ve[oe]),keys:De}}}return{args:K,keys:null}}},8737:(vn,it,E)=>{function d(C,m){if(C){const ee=C.indexOf(m);0<=ee&&C.splice(ee,1)}}E.d(it,{P:()=>d})},3888:(vn,it,E)=>{function d(C){const ee=C(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}E.d(it,{d:()=>d})},1810:(vn,it,E)=>{function d(C,m){return C.reduce((ee,Ee,re)=>(ee[Ee]=m[re],ee),{})}E.d(it,{n:()=>d})},2806:(vn,it,E)=>{E.d(it,{O:()=>ee,x:()=>m});var d=E(2416);let C=null;function m(Ee){if(d.config.useDeprecatedSynchronousErrorHandling){const re=!C;if(re&&(C={errorThrown:!1,error:null}),Ee(),re){const{errorThrown:K,error:ve}=C;if(C=null,K)throw ve}}else Ee()}function ee(Ee){d.config.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=Ee)}},9672:(vn,it,E)=>{function d(C,m,ee,Ee=0,re=!1){const K=m.schedule(function(){ee(),re?C.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(C.add(K),!re)return K}E.d(it,{f:()=>d})},4671:(vn,it,E)=>{function d(C){return C}E.d(it,{y:()=>d})},1144:(vn,it,E)=>{E.d(it,{z:()=>d});const d=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(vn,it,E)=>{E.d(it,{D:()=>C});var d=E(576);function C(m){return Symbol.asyncIterator&&(0,d.m)(m?.[Symbol.asyncIterator])}},576:(vn,it,E)=>{function d(C){return"function"==typeof C}E.d(it,{m:()=>d})},3670:(vn,it,E)=>{E.d(it,{c:()=>m});var d=E(8822),C=E(576);function m(ee){return(0,C.m)(ee[d.L])}},6495:(vn,it,E)=>{E.d(it,{T:()=>m});var d=E(2202),C=E(576);function m(ee){return(0,C.m)(ee?.[d.h])}},8239:(vn,it,E)=>{E.d(it,{t:()=>C});var d=E(576);function C(m){return(0,d.m)(m?.then)}},3260:(vn,it,E)=>{E.d(it,{L:()=>ee,Q:()=>m});var d=E(7582),C=E(576);function m(Ee){return(0,d.FC)(this,arguments,function*(){const K=Ee.getReader();try{for(;;){const{value:ve,done:De}=yield(0,d.qq)(K.read());if(De)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ve)}}finally{K.releaseLock()}})}function ee(Ee){return(0,C.m)(Ee?.getReader)}},3532:(vn,it,E)=>{E.d(it,{K:()=>C});var d=E(576);function C(m){return m&&(0,d.m)(m.schedule)}},4482:(vn,it,E)=>{E.d(it,{A:()=>C,e:()=>m});var d=E(576);function C(ee){return(0,d.m)(ee?.lift)}function m(ee){return Ee=>{if(C(Ee))return Ee.lift(function(re){try{return ee(re,this)}catch(K){this.error(K)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(vn,it,E)=>{E.d(it,{Z:()=>ee});var d=E(4004);const{isArray:C}=Array;function ee(Ee){return(0,d.U)(re=>function m(Ee,re){return C(re)?Ee(...re):Ee(re)}(Ee,re))}},5032:(vn,it,E)=>{function d(){}E.d(it,{Z:()=>d})},9635:(vn,it,E)=>{E.d(it,{U:()=>m,z:()=>C});var d=E(4671);function C(...ee){return m(ee)}function m(ee){return 0===ee.length?d.y:1===ee.length?ee[0]:function(re){return ee.reduce((K,ve)=>ve(K),re)}}},7849:(vn,it,E)=>{E.d(it,{h:()=>m});var d=E(2416),C=E(3410);function m(ee){C.z.setTimeout(()=>{const{onUnhandledError:Ee}=d.config;if(!Ee)throw ee;Ee(ee)})}},4532:(vn,it,E)=>{function d(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(it,{z:()=>d})},1591:(vn,it,E)=>{E.d(it,{IO:()=>lt,LC:()=>C,SB:()=>De,X$:()=>ee,ZE:()=>ke,ZN:()=>Ue,_j:()=>d,eR:()=>ue,jt:()=>Ee,k1:()=>wt,l3:()=>m,oB:()=>ve,pV:()=>et,ru:()=>re,vP:()=>K});class d{}class C{}const m="*";function ee(he,Ce){return{type:7,name:he,definitions:Ce,options:{}}}function Ee(he,Ce=null){return{type:4,styles:Ce,timings:he}}function re(he,Ce=null){return{type:3,steps:he,options:Ce}}function K(he,Ce=null){return{type:2,steps:he,options:Ce}}function ve(he){return{type:6,styles:he,offset:null}}function De(he,Ce,ge){return{type:0,name:he,styles:Ce,options:ge}}function ue(he,Ce,ge=null){return{type:1,expr:he,animation:Ce,options:ge}}function et(he=null){return{type:9,options:he}}function lt(he,Ce,ge=null){return{type:11,selector:he,animation:Ce,options:ge}}function Je(he){Promise.resolve().then(he)}class Ue{constructor(Ce=0,ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ce+ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}onStart(Ce){this._originalOnStartFns.push(Ce),this._onStartFns.push(Ce)}onDone(Ce){this._originalOnDoneFns.push(Ce),this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Je(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ce){this._position=this.totalTime?Ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ce){const ge="start"==Ce?this._onStartFns:this._onDoneFns;ge.forEach(Ae=>Ae()),ge.length=0}}class ke{constructor(Ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ce;let ge=0,Ae=0,Ge=0;const Z=this.players.length;0==Z?Je(()=>this._onFinish()):this.players.forEach(Ke=>{Ke.onDone(()=>{++ge==Z&&this._onFinish()}),Ke.onDestroy(()=>{++Ae==Z&&this._onDestroy()}),Ke.onStart(()=>{++Ge==Z&&this._onStart()})}),this.totalTime=this.players.reduce((Ke,Le)=>Math.max(Ke,Le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}init(){this.players.forEach(Ce=>Ce.init())}onStart(Ce){this._onStartFns.push(Ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[])}onDone(Ce){this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ce=>Ce.play())}pause(){this.players.forEach(Ce=>Ce.pause())}restart(){this.players.forEach(Ce=>Ce.restart())}finish(){this._onFinish(),this.players.forEach(Ce=>Ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ce=>Ce.destroy()),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this.players.forEach(Ce=>Ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ce){const ge=Ce*this.totalTime;this.players.forEach(Ae=>{const Ge=Ae.totalTime?Math.min(1,ge/Ae.totalTime):1;Ae.setPosition(Ge)})}getPosition(){const Ce=this.players.reduce((ge,Ae)=>null===ge||Ae.totalTime>ge.totalTime?Ae:ge,null);return null!=Ce?Ce.getPosition():0}beforeDestroy(){this.players.forEach(Ce=>{Ce.beforeDestroy&&Ce.beforeDestroy()})}triggerCallback(Ce){const ge="start"==Ce?this._onStartFns:this._onDoneFns;ge.forEach(Ae=>Ae()),ge.length=0}}const wt="!"},706:(vn,it,E)=>{E.d(it,{Em:()=>_t,X6:()=>de,ic:()=>Lt,kH:()=>fi,qV:()=>At,qm:()=>nt,rt:()=>ct,tE:()=>An,yG:()=>Ne});var d=E(4755),C=E(2223),m=E(2966),ee=E(7579),Ee=E(727),re=E(1135),K=E(9646),ve=E(2840),De=E(8505),oe=E(8372),ue=E(9300),fe=E(4004),et=E(5698),Ve=E(5684),lt=E(1884),Qe=E(2722),Je=E(1692),Ue=E(829),ke=E(5537);class yn{constructor(Fe){this._items=Fe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ee.x,this._typeaheadSubscription=Ee.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Se=>Se.disabled,this._pressedLetters=[],this.tabOut=new ee.x,this.change=new ee.x,Fe instanceof C.n_E&&(this._itemChangesSubscription=Fe.changes.subscribe(Se=>{if(this._activeItem){const $t=Se.toArray().indexOf(this._activeItem);$t>-1&&$t!==this._activeItemIndex&&(this._activeItemIndex=$t)}}))}skipPredicate(Fe){return this._skipPredicateFn=Fe,this}withWrap(Fe=!0){return this._wrap=Fe,this}withVerticalOrientation(Fe=!0){return this._vertical=Fe,this}withHorizontalOrientation(Fe){return this._horizontal=Fe,this}withAllowedModifierKeys(Fe){return this._allowedModifierKeys=Fe,this}withTypeAhead(Fe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,De.b)(Se=>this._pressedLetters.push(Se)),(0,oe.b)(Fe),(0,ue.h)(()=>this._pressedLetters.length>0),(0,fe.U)(()=>this._pressedLetters.join(""))).subscribe(Se=>{const Ct=this._getItemsArray();for(let $t=1;$t<Ct.length+1;$t++){const Re=(this._activeItemIndex+$t)%Ct.length,ce=Ct[Re];if(!this._skipPredicateFn(ce)&&0===ce.getLabel().toUpperCase().trim().indexOf(Se)){this.setActiveItem(Re);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Fe=!0){return this._homeAndEnd=Fe,this}withPageUpDown(Fe=!0,Se=10){return this._pageUpAndDown={enabled:Fe,delta:Se},this}setActiveItem(Fe){const Se=this._activeItem;this.updateActiveItem(Fe),this._activeItem!==Se&&this.change.next(this._activeItemIndex)}onKeydown(Fe){const Se=Fe.keyCode,$t=["altKey","ctrlKey","metaKey","shiftKey"].every(Re=>!Fe[Re]||this._allowedModifierKeys.indexOf(Re)>-1);switch(Se){case ve.Mf:return void this.tabOut.next();case ve.JH:if(this._vertical&&$t){this.setNextItemActive();break}return;case ve.LH:if(this._vertical&&$t){this.setPreviousItemActive();break}return;case ve.SV:if(this._horizontal&&$t){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ve.oh:if(this._horizontal&&$t){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ve.Sd:if(this._homeAndEnd&&$t){this.setFirstItemActive();break}return;case ve.uR:if(this._homeAndEnd&&$t){this.setLastItemActive();break}return;case ve.Ku:if(this._pageUpAndDown.enabled&&$t){const Re=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Re>0?Re:0,1);break}return;case ve.VM:if(this._pageUpAndDown.enabled&&$t){const Re=this._activeItemIndex+this._pageUpAndDown.delta,ce=this._getItemsArray().length;this._setActiveItemByIndex(Re<ce?Re:ce-1,-1);break}return;default:return void(($t||(0,ve.Vb)(Fe,"shiftKey"))&&(Fe.key&&1===Fe.key.length?this._letterKeyStream.next(Fe.key.toLocaleUpperCase()):(Se>=ve.A&&Se<=ve.Z||Se>=ve.xE&&Se<=ve.aO)&&this._letterKeyStream.next(String.fromCharCode(Se))))}this._pressedLetters=[],Fe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Fe){const Se=this._getItemsArray(),Ct="number"==typeof Fe?Fe:Se.indexOf(Fe);this._activeItem=Se[Ct]??null,this._activeItemIndex=Ct}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Fe){this._wrap?this._setActiveInWrapMode(Fe):this._setActiveInDefaultMode(Fe)}_setActiveInWrapMode(Fe){const Se=this._getItemsArray();for(let Ct=1;Ct<=Se.length;Ct++){const $t=(this._activeItemIndex+Fe*Ct+Se.length)%Se.length;if(!this._skipPredicateFn(Se[$t]))return void this.setActiveItem($t)}}_setActiveInDefaultMode(Fe){this._setActiveItemByIndex(this._activeItemIndex+Fe,Fe)}_setActiveItemByIndex(Fe,Se){const Ct=this._getItemsArray();if(Ct[Fe]){for(;this._skipPredicateFn(Ct[Fe]);)if(!Ct[Fe+=Se])return;this.setActiveItem(Fe)}}_getItemsArray(){return this._items instanceof C.n_E?this._items.toArray():this._items}}class _t extends yn{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Fe){return this._origin=Fe,this}setActiveItem(Fe){super.setActiveItem(Fe),this.activeItem&&this.activeItem.focus(this._origin)}}let Lt=(()=>{class He{constructor(Se){this._platform=Se}isDisabled(Se){return Se.hasAttribute("disabled")}isVisible(Se){return function Jt(He){return!!(He.offsetWidth||He.offsetHeight||"function"==typeof He.getClientRects&&He.getClientRects().length)}(Se)&&"visible"===getComputedStyle(Se).visibility}isTabbable(Se){if(!this._platform.isBrowser)return!1;const Ct=function Vt(He){try{return He.frameElement}catch{return null}}(function zt(He){return He.ownerDocument&&He.ownerDocument.defaultView||window}(Se));if(Ct&&(-1===tt(Ct)||!this.isVisible(Ct)))return!1;let $t=Se.nodeName.toLowerCase(),Re=tt(Se);return Se.hasAttribute("contenteditable")?-1!==Re:!("iframe"===$t||"object"===$t||this._platform.WEBKIT&&this._platform.IOS&&!function Nt(He){let Fe=He.nodeName.toLowerCase(),Se="input"===Fe&&He.type;return"text"===Se||"password"===Se||"select"===Fe||"textarea"===Fe}(Se))&&("audio"===$t?!!Se.hasAttribute("controls")&&-1!==Re:"video"===$t?-1!==Re&&(null!==Re||this._platform.FIREFOX||Se.hasAttribute("controls")):Se.tabIndex>=0)}isFocusable(Se,Ct){return function Et(He){return!function un(He){return function on(He){return"input"==He.nodeName.toLowerCase()}(He)&&"hidden"==He.type}(He)&&(function Qt(He){let Fe=He.nodeName.toLowerCase();return"input"===Fe||"select"===Fe||"button"===Fe||"textarea"===Fe}(He)||function _n(He){return function Rt(He){return"a"==He.nodeName.toLowerCase()}(He)&&He.hasAttribute("href")}(He)||He.hasAttribute("contenteditable")||Ye(He))}(Se)&&!this.isDisabled(Se)&&(Ct?.ignoreVisibility||this.isVisible(Se))}}return He.\u0275fac=function(Se){return new(Se||He)(C.LFG(m.t4))},He.\u0275prov=C.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function Ye(He){if(!He.hasAttribute("tabindex")||void 0===He.tabIndex)return!1;let Fe=He.getAttribute("tabindex");return!(!Fe||isNaN(parseInt(Fe,10)))}function tt(He){if(!Ye(He))return null;const Fe=parseInt(He.getAttribute("tabindex")||"",10);return isNaN(Fe)?-1:Fe}class St{get enabled(){return this._enabled}set enabled(Fe){this._enabled=Fe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Fe,this._startAnchor),this._toggleAnchorTabIndex(Fe,this._endAnchor))}constructor(Fe,Se,Ct,$t,Re=!1){this._element=Fe,this._checker=Se,this._ngZone=Ct,this._document=$t,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Re||this.attachAnchors()}destroy(){const Fe=this._startAnchor,Se=this._endAnchor;Fe&&(Fe.removeEventListener("focus",this.startAnchorListener),Fe.remove()),Se&&(Se.removeEventListener("focus",this.endAnchorListener),Se.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Fe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusInitialElement(Fe)))})}focusFirstTabbableElementWhenReady(Fe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusFirstTabbableElement(Fe)))})}focusLastTabbableElementWhenReady(Fe){return new Promise(Se=>{this._executeOnStable(()=>Se(this.focusLastTabbableElement(Fe)))})}_getRegionBoundary(Fe){const Se=this._element.querySelectorAll(`[cdk-focus-region-${Fe}], [cdkFocusRegion${Fe}], [cdk-focus-${Fe}]`);return"start"==Fe?Se.length?Se[0]:this._getFirstTabbableElement(this._element):Se.length?Se[Se.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Fe){const Se=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Se){if(!this._checker.isFocusable(Se)){const Ct=this._getFirstTabbableElement(Se);return Ct?.focus(Fe),!!Ct}return Se.focus(Fe),!0}return this.focusFirstTabbableElement(Fe)}focusFirstTabbableElement(Fe){const Se=this._getRegionBoundary("start");return Se&&Se.focus(Fe),!!Se}focusLastTabbableElement(Fe){const Se=this._getRegionBoundary("end");return Se&&Se.focus(Fe),!!Se}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Fe){if(this._checker.isFocusable(Fe)&&this._checker.isTabbable(Fe))return Fe;const Se=Fe.children;for(let Ct=0;Ct<Se.length;Ct++){const $t=Se[Ct].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Se[Ct]):null;if($t)return $t}return null}_getLastTabbableElement(Fe){if(this._checker.isFocusable(Fe)&&this._checker.isTabbable(Fe))return Fe;const Se=Fe.children;for(let Ct=Se.length-1;Ct>=0;Ct--){const $t=Se[Ct].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Se[Ct]):null;if($t)return $t}return null}_createAnchor(){const Fe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Fe),Fe.classList.add("cdk-visually-hidden"),Fe.classList.add("cdk-focus-trap-anchor"),Fe.setAttribute("aria-hidden","true"),Fe}_toggleAnchorTabIndex(Fe,Se){Fe?Se.setAttribute("tabindex","0"):Se.removeAttribute("tabindex")}toggleAnchors(Fe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Fe,this._startAnchor),this._toggleAnchorTabIndex(Fe,this._endAnchor))}_executeOnStable(Fe){this._ngZone.isStable?Fe():this._ngZone.onStable.pipe((0,et.q)(1)).subscribe(Fe)}}let At=(()=>{class He{constructor(Se,Ct,$t){this._checker=Se,this._ngZone=Ct,this._document=$t}create(Se,Ct=!1){return new St(Se,this._checker,this._ngZone,this._document,Ct)}}return He.\u0275fac=function(Se){return new(Se||He)(C.LFG(Lt),C.LFG(C.R0b),C.LFG(d.K0))},He.\u0275prov=C.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function de(He){return 0===He.buttons||0===He.offsetX&&0===He.offsetY}function Ne(He){const Fe=He.touches&&He.touches[0]||He.changedTouches&&He.changedTouches[0];return!(!Fe||-1!==Fe.identifier||null!=Fe.radiusX&&1!==Fe.radiusX||null!=Fe.radiusY&&1!==Fe.radiusY)}const ht=new C.OlP("cdk-input-modality-detector-options"),ut={ignoreKeys:[ve.zL,ve.jx,ve.b2,ve.MW,ve.JU]},Yt=(0,m.i$)({passive:!0,capture:!0});let an=(()=>{class He{get mostRecentModality(){return this._modality.value}constructor(Se,Ct,$t,Re){this._platform=Se,this._mostRecentTarget=null,this._modality=new re.X(null),this._lastTouchMs=0,this._onKeydown=ce=>{this._options?.ignoreKeys?.some(z=>z===ce.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,m.sA)(ce))},this._onMousedown=ce=>{Date.now()-this._lastTouchMs<650||(this._modality.next(de(ce)?"keyboard":"mouse"),this._mostRecentTarget=(0,m.sA)(ce))},this._onTouchstart=ce=>{Ne(ce)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,m.sA)(ce))},this._options={...ut,...Re},this.modalityDetected=this._modality.pipe((0,Ve.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,lt.x)()),Se.isBrowser&&Ct.runOutsideAngular(()=>{$t.addEventListener("keydown",this._onKeydown,Yt),$t.addEventListener("mousedown",this._onMousedown,Yt),$t.addEventListener("touchstart",this._onTouchstart,Yt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yt),document.removeEventListener("mousedown",this._onMousedown,Yt),document.removeEventListener("touchstart",this._onTouchstart,Yt))}}return He.\u0275fac=function(Se){return new(Se||He)(C.LFG(m.t4),C.LFG(C.R0b),C.LFG(d.K0),C.LFG(ht,8))},He.\u0275prov=C.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const It=new C.OlP("cdk-focus-monitor-default-options"),Wt=(0,m.i$)({passive:!0,capture:!0});let An=(()=>{class He{constructor(Se,Ct,$t,Re,ce){this._ngZone=Se,this._platform=Ct,this._inputModalityDetector=$t,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ee.x,this._rootNodeFocusAndBlurListener=z=>{for(let $=(0,m.sA)(z);$;$=$.parentElement)"focus"===z.type?this._onFocus(z,$):this._onBlur(z,$)},this._document=Re,this._detectionMode=ce?.detectionMode||0}monitor(Se,Ct=!1){const $t=(0,Je.fI)(Se);if(!this._platform.isBrowser||1!==$t.nodeType)return(0,K.of)(null);const Re=(0,m.kV)($t)||this._getDocument(),ce=this._elementInfo.get($t);if(ce)return Ct&&(ce.checkChildren=!0),ce.subject;const z={checkChildren:Ct,subject:new ee.x,rootNode:Re};return this._elementInfo.set($t,z),this._registerGlobalListeners(z),z.subject}stopMonitoring(Se){const Ct=(0,Je.fI)(Se),$t=this._elementInfo.get(Ct);$t&&($t.subject.complete(),this._setClasses(Ct),this._elementInfo.delete(Ct),this._removeGlobalListeners($t))}focusVia(Se,Ct,$t){const Re=(0,Je.fI)(Se);Re===this._getDocument().activeElement?this._getClosestElementsInfo(Re).forEach(([z,U])=>this._originChanged(z,Ct,U)):(this._setOrigin(Ct),"function"==typeof Re.focus&&Re.focus($t))}ngOnDestroy(){this._elementInfo.forEach((Se,Ct)=>this.stopMonitoring(Ct))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Se){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Se)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Se&&this._isLastInteractionFromInputLabel(Se)?"mouse":"program"}_shouldBeAttributedToTouch(Se){return 1===this._detectionMode||!!Se?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Se,Ct){Se.classList.toggle("cdk-focused",!!Ct),Se.classList.toggle("cdk-touch-focused","touch"===Ct),Se.classList.toggle("cdk-keyboard-focused","keyboard"===Ct),Se.classList.toggle("cdk-mouse-focused","mouse"===Ct),Se.classList.toggle("cdk-program-focused","program"===Ct)}_setOrigin(Se,Ct=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Se,this._originFromTouchInteraction="touch"===Se&&Ct,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Se,Ct){const $t=this._elementInfo.get(Ct),Re=(0,m.sA)(Se);!$t||!$t.checkChildren&&Ct!==Re||this._originChanged(Ct,this._getFocusOrigin(Re),$t)}_onBlur(Se,Ct){const $t=this._elementInfo.get(Ct);!$t||$t.checkChildren&&Se.relatedTarget instanceof Node&&Ct.contains(Se.relatedTarget)||(this._setClasses(Ct),this._emitOrigin($t,null))}_emitOrigin(Se,Ct){Se.subject.observers.length&&this._ngZone.run(()=>Se.subject.next(Ct))}_registerGlobalListeners(Se){if(!this._platform.isBrowser)return;const Ct=Se.rootNode,$t=this._rootNodeFocusListenerCount.get(Ct)||0;$t||this._ngZone.runOutsideAngular(()=>{Ct.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wt),Ct.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wt)}),this._rootNodeFocusListenerCount.set(Ct,$t+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Qe.R)(this._stopInputModalityDetector)).subscribe(Re=>{this._setOrigin(Re,!0)}))}_removeGlobalListeners(Se){const Ct=Se.rootNode;if(this._rootNodeFocusListenerCount.has(Ct)){const $t=this._rootNodeFocusListenerCount.get(Ct);$t>1?this._rootNodeFocusListenerCount.set(Ct,$t-1):(Ct.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wt),Ct.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wt),this._rootNodeFocusListenerCount.delete(Ct))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Se,Ct,$t){this._setClasses(Se,Ct),this._emitOrigin($t,Ct),this._lastFocusOrigin=Ct}_getClosestElementsInfo(Se){const Ct=[];return this._elementInfo.forEach(($t,Re)=>{(Re===Se||$t.checkChildren&&Re.contains(Se))&&Ct.push([Re,$t])}),Ct}_isLastInteractionFromInputLabel(Se){const{_mostRecentTarget:Ct,mostRecentModality:$t}=this._inputModalityDetector;if("mouse"!==$t||!Ct||Ct===Se||"INPUT"!==Se.nodeName&&"TEXTAREA"!==Se.nodeName||Se.disabled)return!1;const Re=Se.labels;if(Re)for(let ce=0;ce<Re.length;ce++)if(Re[ce].contains(Ct))return!0;return!1}}return He.\u0275fac=function(Se){return new(Se||He)(C.LFG(C.R0b),C.LFG(m.t4),C.LFG(an),C.LFG(d.K0,8),C.LFG(It,8))},He.\u0275prov=C.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),fi=(()=>{class He{constructor(Se,Ct){this._elementRef=Se,this._focusMonitor=Ct,this._focusOrigin=null,this.cdkFocusChange=new C.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Se=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Se,1===Se.nodeType&&Se.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Ct=>{this._focusOrigin=Ct,this.cdkFocusChange.emit(Ct)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return He.\u0275fac=function(Se){return new(Se||He)(C.Y36(C.SBq),C.Y36(An))},He.\u0275dir=C.lG2({type:He,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),He})();const ei="cdk-high-contrast-black-on-white",yi="cdk-high-contrast-white-on-black",qt="cdk-high-contrast-active";let nt=(()=>{class He{constructor(Se,Ct){this._platform=Se,this._document=Ct,this._breakpointSubscription=(0,C.f3M)(ke.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Se=this._document.createElement("div");Se.style.backgroundColor="rgb(1,2,3)",Se.style.position="absolute",this._document.body.appendChild(Se);const Ct=this._document.defaultView||window,$t=Ct&&Ct.getComputedStyle?Ct.getComputedStyle(Se):null,Re=($t&&$t.backgroundColor||"").replace(/ /g,"");switch(Se.remove(),Re){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Se=this._document.body.classList;Se.remove(qt,ei,yi),this._hasCheckedHighContrastMode=!0;const Ct=this.getHighContrastMode();1===Ct?Se.add(qt,ei):2===Ct&&Se.add(qt,yi)}}}return He.\u0275fac=function(Se){return new(Se||He)(C.LFG(m.t4),C.LFG(d.K0))},He.\u0275prov=C.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),ct=(()=>{class He{constructor(Se){Se._applyBodyHighContrastModeCssClasses()}}return He.\u0275fac=function(Se){return new(Se||He)(C.LFG(nt))},He.\u0275mod=C.oAB({type:He}),He.\u0275inj=C.cJS({imports:[Ue.Q8]}),He})()},8930:(vn,it,E)=>{E.d(it,{Is:()=>K,vT:()=>De});var d=E(2223),C=E(4755);const m=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function ee(){return(0,d.f3M)(C.K0)}}),Ee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let K=(()=>{class oe{constructor(fe){this.value="ltr",this.change=new d.vpe,fe&&(this.value=function re(oe){const ue=oe?.toLowerCase()||"";return"auto"===ue&&typeof navigator<"u"&&navigator?.language?Ee.test(navigator.language)?"rtl":"ltr":"rtl"===ue?"rtl":"ltr"}((fe.body?fe.body.dir:null)||(fe.documentElement?fe.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return oe.\u0275fac=function(fe){return new(fe||oe)(d.LFG(m,8))},oe.\u0275prov=d.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),De=(()=>{class oe{}return oe.\u0275fac=function(fe){return new(fe||oe)},oe.\u0275mod=d.oAB({type:oe}),oe.\u0275inj=d.cJS({}),oe})()},1692:(vn,it,E)=>{E.d(it,{Eq:()=>Ee,HM:()=>re,Ig:()=>C,fI:()=>K,su:()=>m});var d=E(2223);function C(De){return null!=De&&"false"!=`${De}`}function m(De,oe=0){return function ee(De){return!isNaN(parseFloat(De))&&!isNaN(Number(De))}(De)?Number(De):oe}function Ee(De){return Array.isArray(De)?De:[De]}function re(De){return null==De?"":"string"==typeof De?De:`${De}px`}function K(De){return De instanceof d.SBq?De.nativeElement:De}},3223:(vn,it,E)=>{E.d(it,{LL:()=>Qe,Su:()=>Z,Vq:()=>Ae,ib:()=>Ve});var d=E(706),C=E(9002),m=E(2966),ee=E(8023),Ee=E(4755),re=E(2223),K=E(2840),ve=E(7579),De=E(9770),oe=E(9646),ue=E(8930),fe=E(8675);function et(Ke,Le){}class Ve{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Qe=(()=>{class Ke extends ee.en{constructor(Ze,xt,yn,Rn,_t,gt,Lt,Vt){super(),this._elementRef=Ze,this._focusTrapFactory=xt,this._config=Rn,this._interactivityChecker=_t,this._ngZone=gt,this._overlayRef=Lt,this._focusMonitor=Vt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Jt=>{this._portalOutlet.hasAttached();const Qt=this._portalOutlet.attachDomPortal(Jt);return this._contentAttached(),Qt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=yn}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Ze){this._portalOutlet.hasAttached();const xt=this._portalOutlet.attachComponentPortal(Ze);return this._contentAttached(),xt}attachTemplatePortal(Ze){this._portalOutlet.hasAttached();const xt=this._portalOutlet.attachTemplatePortal(Ze);return this._contentAttached(),xt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ze,xt){this._interactivityChecker.isFocusable(Ze)||(Ze.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const yn=()=>{Ze.removeEventListener("blur",yn),Ze.removeEventListener("mousedown",yn),Ze.removeAttribute("tabindex")};Ze.addEventListener("blur",yn),Ze.addEventListener("mousedown",yn)})),Ze.focus(xt)}_focusByCssSelector(Ze,xt){let yn=this._elementRef.nativeElement.querySelector(Ze);yn&&this._forceFocus(yn,xt)}_trapFocus(){const Ze=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ze.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(xt=>{xt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Ze=this._config.restoreFocus;let xt=null;if("string"==typeof Ze?xt=this._document.querySelector(Ze):"boolean"==typeof Ze?xt=Ze?this._elementFocusedBeforeDialogWasOpened:null:Ze&&(xt=Ze),this._config.restoreFocus&&xt&&"function"==typeof xt.focus){const yn=(0,m.ht)(),Rn=this._elementRef.nativeElement;(!yn||yn===this._document.body||yn===Rn||Rn.contains(yn))&&(this._focusMonitor?(this._focusMonitor.focusVia(xt,this._closeInteractionType),this._closeInteractionType=null):xt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ze=this._elementRef.nativeElement,xt=(0,m.ht)();return Ze===xt||Ze.contains(xt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,m.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)(re.Y36(re.SBq),re.Y36(d.qV),re.Y36(Ee.K0,8),re.Y36(Ve),re.Y36(d.ic),re.Y36(re.R0b),re.Y36(C.Iu),re.Y36(d.tE))},Ke.\u0275cmp=re.Xpm({type:Ke,selectors:[["cdk-dialog-container"]],viewQuery:function(Ze,xt){if(1&Ze&&re.Gf(ee.Pl,7),2&Ze){let yn;re.iGM(yn=re.CRH())&&(xt._portalOutlet=yn.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Ze,xt){2&Ze&&re.uIk("id",xt._config.id||null)("role",xt._config.role)("aria-modal",xt._config.ariaModal)("aria-labelledby",xt._config.ariaLabel?null:xt._ariaLabelledBy)("aria-label",xt._config.ariaLabel)("aria-describedby",xt._config.ariaDescribedBy||null)},features:[re.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ze,xt){1&Ze&&re.YNc(0,et,0,0,"ng-template",0)},dependencies:[ee.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),Ke})();class Je{constructor(Le,Ze){this.overlayRef=Le,this.config=Ze,this.closed=new ve.x,this.disableClose=Ze.disableClose,this.backdropClick=Le.backdropClick(),this.keydownEvents=Le.keydownEvents(),this.outsidePointerEvents=Le.outsidePointerEvents(),this.id=Ze.id,this.keydownEvents.subscribe(xt=>{xt.keyCode===K.hY&&!this.disableClose&&!(0,K.Vb)(xt)&&(xt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=Le.detachments().subscribe(()=>{!1!==Ze.closeOnOverlayDetachments&&this.close()})}close(Le,Ze){if(this.containerInstance){const xt=this.closed;this.containerInstance._closeInteractionType=Ze?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),xt.next(Le),xt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(Le="",Ze=""){return this.overlayRef.updateSize({width:Le,height:Ze}),this}addPanelClass(Le){return this.overlayRef.addPanelClass(Le),this}removePanelClass(Le){return this.overlayRef.removePanelClass(Le),this}}const Ue=new re.OlP("DialogScrollStrategy"),ke=new re.OlP("DialogData"),wt=new re.OlP("DefaultDialogConfig"),Ce={provide:Ue,deps:[C.aV],useFactory:function he(Ke){return()=>Ke.scrollStrategies.block()}};let ge=0,Ae=(()=>{class Ke{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Ze,xt,yn,Rn,_t,gt){this._overlay=Ze,this._injector=xt,this._defaultOptions=yn,this._parentDialog=Rn,this._overlayContainer=_t,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ve.x,this._afterOpenedAtThisLevel=new ve.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,De.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,fe.O)(void 0))),this._scrollStrategy=gt}open(Ze,xt){(xt={...this._defaultOptions||new Ve,...xt}).id=xt.id||"cdk-dialog-"+ge++,xt.id&&this.getDialogById(xt.id);const Rn=this._getOverlayConfig(xt),_t=this._overlay.create(Rn),gt=new Je(_t,xt),Lt=this._attachContainer(_t,gt,xt);return gt.containerInstance=Lt,this._attachDialogContent(Ze,gt,Lt,xt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(gt),gt.closed.subscribe(()=>this._removeOpenDialog(gt,!0)),this.afterOpened.next(gt),gt}closeAll(){Ge(this.openDialogs,Ze=>Ze.close())}getDialogById(Ze){return this.openDialogs.find(xt=>xt.id===Ze)}ngOnDestroy(){Ge(this._openDialogsAtThisLevel,Ze=>{!1===Ze.config.closeOnDestroy&&this._removeOpenDialog(Ze,!1)}),Ge(this._openDialogsAtThisLevel,Ze=>Ze.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Ze){const xt=new C.X_({positionStrategy:Ze.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Ze.scrollStrategy||this._scrollStrategy(),panelClass:Ze.panelClass,hasBackdrop:Ze.hasBackdrop,direction:Ze.direction,minWidth:Ze.minWidth,minHeight:Ze.minHeight,maxWidth:Ze.maxWidth,maxHeight:Ze.maxHeight,width:Ze.width,height:Ze.height,disposeOnNavigation:Ze.closeOnNavigation});return Ze.backdropClass&&(xt.backdropClass=Ze.backdropClass),xt}_attachContainer(Ze,xt,yn){const Rn=yn.injector||yn.viewContainerRef?.injector,_t=[{provide:Ve,useValue:yn},{provide:Je,useValue:xt},{provide:C.Iu,useValue:Ze}];let gt;yn.container?"function"==typeof yn.container?gt=yn.container:(gt=yn.container.type,_t.push(...yn.container.providers(yn))):gt=Qe;const Lt=new ee.C5(gt,yn.viewContainerRef,re.zs3.create({parent:Rn||this._injector,providers:_t}),yn.componentFactoryResolver);return Ze.attach(Lt).instance}_attachDialogContent(Ze,xt,yn,Rn){if(Ze instanceof re.Rgc){const _t=this._createInjector(Rn,xt,yn,void 0);let gt={$implicit:Rn.data,dialogRef:xt};Rn.templateContext&&(gt={...gt,..."function"==typeof Rn.templateContext?Rn.templateContext():Rn.templateContext}),yn.attachTemplatePortal(new ee.UE(Ze,null,gt,_t))}else{const _t=this._createInjector(Rn,xt,yn,this._injector),gt=yn.attachComponentPortal(new ee.C5(Ze,Rn.viewContainerRef,_t,Rn.componentFactoryResolver));xt.componentInstance=gt.instance}}_createInjector(Ze,xt,yn,Rn){const _t=Ze.injector||Ze.viewContainerRef?.injector,gt=[{provide:ke,useValue:Ze.data},{provide:Je,useValue:xt}];return Ze.providers&&("function"==typeof Ze.providers?gt.push(...Ze.providers(xt,Ze,yn)):gt.push(...Ze.providers)),Ze.direction&&(!_t||!_t.get(ue.Is,null,{optional:!0}))&&gt.push({provide:ue.Is,useValue:{value:Ze.direction,change:(0,oe.of)()}}),re.zs3.create({parent:_t||Rn,providers:gt})}_removeOpenDialog(Ze,xt){const yn=this.openDialogs.indexOf(Ze);yn>-1&&(this.openDialogs.splice(yn,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Rn,_t)=>{Rn?_t.setAttribute("aria-hidden",Rn):_t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),xt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ze=this._overlayContainer.getContainerElement();if(Ze.parentElement){const xt=Ze.parentElement.children;for(let yn=xt.length-1;yn>-1;yn--){const Rn=xt[yn];Rn!==Ze&&"SCRIPT"!==Rn.nodeName&&"STYLE"!==Rn.nodeName&&!Rn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Rn,Rn.getAttribute("aria-hidden")),Rn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Ze=this._parentDialog;return Ze?Ze._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)(re.LFG(C.aV),re.LFG(re.zs3),re.LFG(wt,8),re.LFG(Ke,12),re.LFG(C.Xj),re.LFG(Ue))},Ke.\u0275prov=re.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();function Ge(Ke,Le){let Ze=Ke.length;for(;Ze--;)Le(Ke[Ze])}let Z=(()=>{class Ke{}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)},Ke.\u0275mod=re.oAB({type:Ke}),Ke.\u0275inj=re.cJS({providers:[Ae,Ce],imports:[C.U8,ee.eL,d.rt,ee.eL]}),Ke})()},2840:(vn,it,E)=>{E.d(it,{A:()=>un,JH:()=>wt,JU:()=>re,K5:()=>Ee,Ku:()=>et,LH:()=>Ue,L_:()=>fe,MW:()=>Dn,Mf:()=>m,SV:()=>ke,Sd:()=>Qe,VM:()=>Ve,Vb:()=>eo,Z:()=>oi,aO:()=>gt,b2:()=>fo,hY:()=>ue,jx:()=>K,oh:()=>Je,uR:()=>lt,xE:()=>Ge,zL:()=>ve});const m=9,Ee=13,re=16,K=17,ve=18,ue=27,fe=32,et=33,Ve=34,lt=35,Qe=36,Je=37,Ue=38,ke=39,wt=40,Ge=48,gt=57,un=65,oi=90,Dn=91,fo=224;function eo(dr,...Hr){return Hr.length?Hr.some(to=>dr[to]):dr.altKey||dr.shiftKey||dr.ctrlKey||dr.metaKey}},5537:(vn,it,E)=>{E.d(it,{Yg:()=>wt,u3:()=>Ce});var d=E(2223),C=E(1692),m=E(7579),ee=E(9841),Ee=E(7272),re=E(9751),K=E(5698),ve=E(5684),De=E(8372),oe=E(4004),ue=E(8675),fe=E(2722),et=E(2966);const lt=new Set;let Qe,Je=(()=>{class ge{constructor(Ge,Z){this._platform=Ge,this._nonce=Z,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ke}matchMedia(Ge){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ue(ge,Ae){if(!lt.has(ge))try{Qe||(Qe=document.createElement("style"),Ae&&(Qe.nonce=Ae),Qe.setAttribute("type","text/css"),document.head.appendChild(Qe)),Qe.sheet&&(Qe.sheet.insertRule(`@media ${ge} {body{ }}`,0),lt.add(ge))}catch(Ge){console.error(Ge)}}(Ge,this._nonce),this._matchMedia(Ge)}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(d.LFG(et.t4),d.LFG(d.Ojb,8))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function ke(ge){return{matches:"all"===ge||""===ge,media:ge,addListener:()=>{},removeListener:()=>{}}}let wt=(()=>{class ge{constructor(Ge,Z){this._mediaMatcher=Ge,this._zone=Z,this._queries=new Map,this._destroySubject=new m.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ge){return he((0,C.Eq)(Ge)).some(Ke=>this._registerQuery(Ke).mql.matches)}observe(Ge){const Ke=he((0,C.Eq)(Ge)).map(Ze=>this._registerQuery(Ze).observable);let Le=(0,ee.a)(Ke);return Le=(0,Ee.z)(Le.pipe((0,K.q)(1)),Le.pipe((0,ve.T)(1),(0,De.b)(0))),Le.pipe((0,oe.U)(Ze=>{const xt={matches:!1,breakpoints:{}};return Ze.forEach(({matches:yn,query:Rn})=>{xt.matches=xt.matches||yn,xt.breakpoints[Rn]=yn}),xt}))}_registerQuery(Ge){if(this._queries.has(Ge))return this._queries.get(Ge);const Z=this._mediaMatcher.matchMedia(Ge),Le={observable:new re.y(Ze=>{const xt=yn=>this._zone.run(()=>Ze.next(yn));return Z.addListener(xt),()=>{Z.removeListener(xt)}}).pipe((0,ue.O)(Z),(0,oe.U)(({matches:Ze})=>({query:Ge,matches:Ze})),(0,fe.R)(this._destroySubject)),mql:Z};return this._queries.set(Ge,Le),Le}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(d.LFG(Je),d.LFG(d.R0b))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function he(ge){return ge.map(Ae=>Ae.split(",")).reduce((Ae,Ge)=>Ae.concat(Ge)).map(Ae=>Ae.trim())}const Ce={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},829:(vn,it,E)=>{E.d(it,{Q8:()=>De,wD:()=>ve});var d=E(1692),C=E(2223),m=E(9751),ee=E(7579),Ee=E(8372);let re=(()=>{class oe{create(fe){return typeof MutationObserver>"u"?null:new MutationObserver(fe)}}return oe.\u0275fac=function(fe){return new(fe||oe)},oe.\u0275prov=C.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),K=(()=>{class oe{constructor(fe){this._mutationObserverFactory=fe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((fe,et)=>this._cleanupObserver(et))}observe(fe){const et=(0,d.fI)(fe);return new m.y(Ve=>{const Qe=this._observeElement(et).subscribe(Ve);return()=>{Qe.unsubscribe(),this._unobserveElement(et)}})}_observeElement(fe){if(this._observedElements.has(fe))this._observedElements.get(fe).count++;else{const et=new ee.x,Ve=this._mutationObserverFactory.create(lt=>et.next(lt));Ve&&Ve.observe(fe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(fe,{observer:Ve,stream:et,count:1})}return this._observedElements.get(fe).stream}_unobserveElement(fe){this._observedElements.has(fe)&&(this._observedElements.get(fe).count--,this._observedElements.get(fe).count||this._cleanupObserver(fe))}_cleanupObserver(fe){if(this._observedElements.has(fe)){const{observer:et,stream:Ve}=this._observedElements.get(fe);et&&et.disconnect(),Ve.complete(),this._observedElements.delete(fe)}}}return oe.\u0275fac=function(fe){return new(fe||oe)(C.LFG(re))},oe.\u0275prov=C.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),ve=(()=>{class oe{get disabled(){return this._disabled}set disabled(fe){this._disabled=(0,d.Ig)(fe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(fe){this._debounce=(0,d.su)(fe),this._subscribe()}constructor(fe,et,Ve){this._contentObserver=fe,this._elementRef=et,this._ngZone=Ve,this.event=new C.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const fe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?fe.pipe((0,Ee.b)(this.debounce)):fe).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return oe.\u0275fac=function(fe){return new(fe||oe)(C.Y36(K),C.Y36(C.SBq),C.Y36(C.R0b))},oe.\u0275dir=C.lG2({type:oe,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),oe})(),De=(()=>{class oe{}return oe.\u0275fac=function(fe){return new(fe||oe)},oe.\u0275mod=C.oAB({type:oe}),oe.\u0275inj=C.cJS({providers:[re]}),oe})()},9002:(vn,it,E)=>{E.d(it,{Iu:()=>_t,U8:()=>bn,X_:()=>ge,Xj:()=>Rn,aV:()=>Et});var d=E(4709),C=E(4755),m=E(2223),ee=E(1692),Ee=E(2966),re=E(9300),K=E(5698),ve=E(2722),De=E(8930),oe=E(8023),ue=E(7579),fe=E(727),et=E(6451);const Ve=(0,Ee.Mq)();class lt{constructor(de,Ne){this._viewportRuler=de,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ne}attach(){}enable(){if(this._canBeEnabled()){const de=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=de.style.left||"",this._previousHTMLStyles.top=de.style.top||"",de.style.left=(0,ee.HM)(-this._previousScrollPosition.left),de.style.top=(0,ee.HM)(-this._previousScrollPosition.top),de.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const de=this._document.documentElement,ht=de.style,ut=this._document.body.style,kt=ht.scrollBehavior||"",Yt=ut.scrollBehavior||"";this._isEnabled=!1,ht.left=this._previousHTMLStyles.left,ht.top=this._previousHTMLStyles.top,de.classList.remove("cdk-global-scrollblock"),Ve&&(ht.scrollBehavior=ut.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ve&&(ht.scrollBehavior=kt,ut.scrollBehavior=Yt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ne=this._document.body,ht=this._viewportRuler.getViewportSize();return Ne.scrollHeight>ht.height||Ne.scrollWidth>ht.width}}class Je{constructor(de,Ne,ht,ut){this._scrollDispatcher=de,this._ngZone=Ne,this._viewportRuler=ht,this._config=ut,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(de){this._overlayRef=de}enable(){if(this._scrollSubscription)return;const de=this._scrollDispatcher.scrolled(0).pipe((0,re.h)(Ne=>!Ne||!this._overlayRef.overlayElement.contains(Ne.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=de.subscribe(()=>{const Ne=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ne-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=de.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ue{enable(){}disable(){}attach(){}}function ke(Mt,de){return de.some(Ne=>Mt.bottom<Ne.top||Mt.top>Ne.bottom||Mt.right<Ne.left||Mt.left>Ne.right)}function wt(Mt,de){return de.some(Ne=>Mt.top<Ne.top||Mt.bottom>Ne.bottom||Mt.left<Ne.left||Mt.right>Ne.right)}class he{constructor(de,Ne,ht,ut){this._scrollDispatcher=de,this._viewportRuler=Ne,this._ngZone=ht,this._config=ut,this._scrollSubscription=null}attach(de){this._overlayRef=de}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ne=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ht,height:ut}=this._viewportRuler.getViewportSize();ke(Ne,[{width:ht,height:ut,bottom:ut,right:ht,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ce=(()=>{class Mt{constructor(Ne,ht,ut,kt){this._scrollDispatcher=Ne,this._viewportRuler=ht,this._ngZone=ut,this.noop=()=>new Ue,this.close=Yt=>new Je(this._scrollDispatcher,this._ngZone,this._viewportRuler,Yt),this.block=()=>new lt(this._viewportRuler,this._document),this.reposition=Yt=>new he(this._scrollDispatcher,this._viewportRuler,this._ngZone,Yt),this._document=kt}}return Mt.\u0275fac=function(Ne){return new(Ne||Mt)(m.LFG(d.mF),m.LFG(d.rL),m.LFG(m.R0b),m.LFG(C.K0))},Mt.\u0275prov=m.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})();class ge{constructor(de){if(this.scrollStrategy=new Ue,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,de){const Ne=Object.keys(de);for(const ht of Ne)void 0!==de[ht]&&(this[ht]=de[ht])}}}class Z{constructor(de,Ne){this.connectionPair=de,this.scrollableViewProperties=Ne}}let Ze=(()=>{class Mt{constructor(Ne){this._attachedOverlays=[],this._document=Ne}ngOnDestroy(){this.detach()}add(Ne){this.remove(Ne),this._attachedOverlays.push(Ne)}remove(Ne){const ht=this._attachedOverlays.indexOf(Ne);ht>-1&&this._attachedOverlays.splice(ht,1),0===this._attachedOverlays.length&&this.detach()}}return Mt.\u0275fac=function(Ne){return new(Ne||Mt)(m.LFG(C.K0))},Mt.\u0275prov=m.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})(),xt=(()=>{class Mt extends Ze{constructor(Ne,ht){super(Ne),this._ngZone=ht,this._keydownListener=ut=>{const kt=this._attachedOverlays;for(let Yt=kt.length-1;Yt>-1;Yt--)if(kt[Yt]._keydownEvents.observers.length>0){const an=kt[Yt]._keydownEvents;this._ngZone?this._ngZone.run(()=>an.next(ut)):an.next(ut);break}}}add(Ne){super.add(Ne),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Mt.\u0275fac=function(Ne){return new(Ne||Mt)(m.LFG(C.K0),m.LFG(m.R0b,8))},Mt.\u0275prov=m.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})(),yn=(()=>{class Mt extends Ze{constructor(Ne,ht,ut){super(Ne),this._platform=ht,this._ngZone=ut,this._cursorStyleIsSet=!1,this._pointerDownListener=kt=>{this._pointerDownEventTarget=(0,Ee.sA)(kt)},this._clickListener=kt=>{const Yt=(0,Ee.sA)(kt),an="click"===kt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Yt;this._pointerDownEventTarget=null;const Kn=this._attachedOverlays.slice();for(let oi=Kn.length-1;oi>-1;oi--){const Dn=Kn[oi];if(Dn._outsidePointerEvents.observers.length<1||!Dn.hasAttached())continue;if(Dn.overlayElement.contains(Yt)||Dn.overlayElement.contains(an))break;const cn=Dn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>cn.next(kt)):cn.next(kt)}}}add(Ne){if(super.add(Ne),!this._isAttached){const ht=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ht)):this._addEventListeners(ht),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ht.style.cursor,ht.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ne=this._document.body;Ne.removeEventListener("pointerdown",this._pointerDownListener,!0),Ne.removeEventListener("click",this._clickListener,!0),Ne.removeEventListener("auxclick",this._clickListener,!0),Ne.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ne.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ne){Ne.addEventListener("pointerdown",this._pointerDownListener,!0),Ne.addEventListener("click",this._clickListener,!0),Ne.addEventListener("auxclick",this._clickListener,!0),Ne.addEventListener("contextmenu",this._clickListener,!0)}}return Mt.\u0275fac=function(Ne){return new(Ne||Mt)(m.LFG(C.K0),m.LFG(Ee.t4),m.LFG(m.R0b,8))},Mt.\u0275prov=m.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})(),Rn=(()=>{class Mt{constructor(Ne,ht){this._platform=ht,this._document=Ne}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ne="cdk-overlay-container";if(this._platform.isBrowser||(0,Ee.Oy)()){const ut=this._document.querySelectorAll(`.${Ne}[platform="server"], .${Ne}[platform="test"]`);for(let kt=0;kt<ut.length;kt++)ut[kt].remove()}const ht=this._document.createElement("div");ht.classList.add(Ne),(0,Ee.Oy)()?ht.setAttribute("platform","test"):this._platform.isBrowser||ht.setAttribute("platform","server"),this._document.body.appendChild(ht),this._containerElement=ht}}return Mt.\u0275fac=function(Ne){return new(Ne||Mt)(m.LFG(C.K0),m.LFG(Ee.t4))},Mt.\u0275prov=m.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})();class _t{constructor(de,Ne,ht,ut,kt,Yt,an,Kn,oi,Dn=!1){this._portalOutlet=de,this._host=Ne,this._pane=ht,this._config=ut,this._ngZone=kt,this._keyboardDispatcher=Yt,this._document=an,this._location=Kn,this._outsideClickDispatcher=oi,this._animationsDisabled=Dn,this._backdropElement=null,this._backdropClick=new ue.x,this._attachments=new ue.x,this._detachments=new ue.x,this._locationChanges=fe.w0.EMPTY,this._backdropClickHandler=cn=>this._backdropClick.next(cn),this._backdropTransitionendHandler=cn=>{this._disposeBackdrop(cn.target)},this._keydownEvents=new ue.x,this._outsidePointerEvents=new ue.x,ut.scrollStrategy&&(this._scrollStrategy=ut.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ut.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(de){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ne=this._portalOutlet.attach(de);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,K.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ne?.onDestroy&&Ne.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ne}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const de=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),de}dispose(){const de=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,de&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(de){de!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=de,this.hasAttached()&&(de.attach(this),this.updatePosition()))}updateSize(de){this._config={...this._config,...de},this._updateElementSize()}setDirection(de){this._config={...this._config,direction:de},this._updateElementDirection()}addPanelClass(de){this._pane&&this._toggleClasses(this._pane,de,!0)}removePanelClass(de){this._pane&&this._toggleClasses(this._pane,de,!1)}getDirection(){const de=this._config.direction;return de?"string"==typeof de?de:de.value:"ltr"}updateScrollStrategy(de){de!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=de,this.hasAttached()&&(de.attach(this),de.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const de=this._pane.style;de.width=(0,ee.HM)(this._config.width),de.height=(0,ee.HM)(this._config.height),de.minWidth=(0,ee.HM)(this._config.minWidth),de.minHeight=(0,ee.HM)(this._config.minHeight),de.maxWidth=(0,ee.HM)(this._config.maxWidth),de.maxHeight=(0,ee.HM)(this._config.maxHeight)}_togglePointerEvents(de){this._pane.style.pointerEvents=de?"":"none"}_attachBackdrop(){const de="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(de)})}):this._backdropElement.classList.add(de)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const de=this._backdropElement;if(de){if(this._animationsDisabled)return void this._disposeBackdrop(de);de.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{de.addEventListener("transitionend",this._backdropTransitionendHandler)}),de.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(de)},500))}}_toggleClasses(de,Ne,ht){const ut=(0,ee.Eq)(Ne||[]).filter(kt=>!!kt);ut.length&&(ht?de.classList.add(...ut):de.classList.remove(...ut))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const de=this._ngZone.onStable.pipe((0,ve.R)((0,et.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),de.unsubscribe())})})}_disposeScrollStrategy(){const de=this._scrollStrategy;de&&(de.disable(),de.detach&&de.detach())}_disposeBackdrop(de){de&&(de.removeEventListener("click",this._backdropClickHandler),de.removeEventListener("transitionend",this._backdropTransitionendHandler),de.remove(),this._backdropElement===de&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const gt="cdk-overlay-connected-position-bounding-box",Lt=/([A-Za-z%]+)$/;class Vt{get positions(){return this._preferredPositions}constructor(de,Ne,ht,ut,kt){this._viewportRuler=Ne,this._document=ht,this._platform=ut,this._overlayContainer=kt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ue.x,this._resizeSubscription=fe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(de)}attach(de){this._validatePositions(),de.hostElement.classList.add(gt),this._overlayRef=de,this._boundingBox=de.hostElement,this._pane=de.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const de=this._originRect,Ne=this._overlayRect,ht=this._viewportRect,ut=this._containerRect,kt=[];let Yt;for(let an of this._preferredPositions){let Kn=this._getOriginPoint(de,ut,an),oi=this._getOverlayPoint(Kn,Ne,an),Dn=this._getOverlayFit(oi,Ne,ht,an);if(Dn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(an,Kn);this._canFitWithFlexibleDimensions(Dn,oi,ht)?kt.push({position:an,origin:Kn,overlayRect:Ne,boundingBoxRect:this._calculateBoundingBoxRect(Kn,an)}):(!Yt||Yt.overlayFit.visibleArea<Dn.visibleArea)&&(Yt={overlayFit:Dn,overlayPoint:oi,originPoint:Kn,position:an,overlayRect:Ne})}if(kt.length){let an=null,Kn=-1;for(const oi of kt){const Dn=oi.boundingBoxRect.width*oi.boundingBoxRect.height*(oi.position.weight||1);Dn>Kn&&(Kn=Dn,an=oi)}return this._isPushed=!1,void this._applyPosition(an.position,an.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Yt.position,Yt.originPoint);this._applyPosition(Yt.position,Yt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const de=this._lastPosition;if(de){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ne=this._getOriginPoint(this._originRect,this._containerRect,de);this._applyPosition(de,Ne)}else this.apply()}withScrollableContainers(de){return this._scrollables=de,this}withPositions(de){return this._preferredPositions=de,-1===de.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(de){return this._viewportMargin=de,this}withFlexibleDimensions(de=!0){return this._hasFlexibleDimensions=de,this}withGrowAfterOpen(de=!0){return this._growAfterOpen=de,this}withPush(de=!0){return this._canPush=de,this}withLockedPosition(de=!0){return this._positionLocked=de,this}setOrigin(de){return this._origin=de,this}withDefaultOffsetX(de){return this._offsetX=de,this}withDefaultOffsetY(de){return this._offsetY=de,this}withTransformOriginOn(de){return this._transformOriginSelector=de,this}_getOriginPoint(de,Ne,ht){let ut,kt;if("center"==ht.originX)ut=de.left+de.width/2;else{const Yt=this._isRtl()?de.right:de.left,an=this._isRtl()?de.left:de.right;ut="start"==ht.originX?Yt:an}return Ne.left<0&&(ut-=Ne.left),kt="center"==ht.originY?de.top+de.height/2:"top"==ht.originY?de.top:de.bottom,Ne.top<0&&(kt-=Ne.top),{x:ut,y:kt}}_getOverlayPoint(de,Ne,ht){let ut,kt;return ut="center"==ht.overlayX?-Ne.width/2:"start"===ht.overlayX?this._isRtl()?-Ne.width:0:this._isRtl()?0:-Ne.width,kt="center"==ht.overlayY?-Ne.height/2:"top"==ht.overlayY?0:-Ne.height,{x:de.x+ut,y:de.y+kt}}_getOverlayFit(de,Ne,ht,ut){const kt=un(Ne);let{x:Yt,y:an}=de,Kn=this._getOffset(ut,"x"),oi=this._getOffset(ut,"y");Kn&&(Yt+=Kn),oi&&(an+=oi);let Hn=0-an,je=an+kt.height-ht.height,It=this._subtractOverflows(kt.width,0-Yt,Yt+kt.width-ht.width),Wt=this._subtractOverflows(kt.height,Hn,je),An=It*Wt;return{visibleArea:An,isCompletelyWithinViewport:kt.width*kt.height===An,fitsInViewportVertically:Wt===kt.height,fitsInViewportHorizontally:It==kt.width}}_canFitWithFlexibleDimensions(de,Ne,ht){if(this._hasFlexibleDimensions){const ut=ht.bottom-Ne.y,kt=ht.right-Ne.x,Yt=Qt(this._overlayRef.getConfig().minHeight),an=Qt(this._overlayRef.getConfig().minWidth);return(de.fitsInViewportVertically||null!=Yt&&Yt<=ut)&&(de.fitsInViewportHorizontally||null!=an&&an<=kt)}return!1}_pushOverlayOnScreen(de,Ne,ht){if(this._previousPushAmount&&this._positionLocked)return{x:de.x+this._previousPushAmount.x,y:de.y+this._previousPushAmount.y};const ut=un(Ne),kt=this._viewportRect,Yt=Math.max(de.x+ut.width-kt.width,0),an=Math.max(de.y+ut.height-kt.height,0),Kn=Math.max(kt.top-ht.top-de.y,0),oi=Math.max(kt.left-ht.left-de.x,0);let Dn=0,cn=0;return Dn=ut.width<=kt.width?oi||-Yt:de.x<this._viewportMargin?kt.left-ht.left-de.x:0,cn=ut.height<=kt.height?Kn||-an:de.y<this._viewportMargin?kt.top-ht.top-de.y:0,this._previousPushAmount={x:Dn,y:cn},{x:de.x+Dn,y:de.y+cn}}_applyPosition(de,Ne){if(this._setTransformOrigin(de),this._setOverlayElementStyles(Ne,de),this._setBoundingBoxStyles(Ne,de),de.panelClass&&this._addPanelClasses(de.panelClass),this._lastPosition=de,this._positionChanges.observers.length){const ht=this._getScrollVisibility(),ut=new Z(de,ht);this._positionChanges.next(ut)}this._isInitialRender=!1}_setTransformOrigin(de){if(!this._transformOriginSelector)return;const Ne=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ht,ut=de.overlayY;ht="center"===de.overlayX?"center":this._isRtl()?"start"===de.overlayX?"right":"left":"start"===de.overlayX?"left":"right";for(let kt=0;kt<Ne.length;kt++)Ne[kt].style.transformOrigin=`${ht} ${ut}`}_calculateBoundingBoxRect(de,Ne){const ht=this._viewportRect,ut=this._isRtl();let kt,Yt,an,Dn,cn,Hn;if("top"===Ne.overlayY)Yt=de.y,kt=ht.height-Yt+this._viewportMargin;else if("bottom"===Ne.overlayY)an=ht.height-de.y+2*this._viewportMargin,kt=ht.height-an+this._viewportMargin;else{const je=Math.min(ht.bottom-de.y+ht.top,de.y),It=this._lastBoundingBoxSize.height;kt=2*je,Yt=de.y-je,kt>It&&!this._isInitialRender&&!this._growAfterOpen&&(Yt=de.y-It/2)}if("end"===Ne.overlayX&&!ut||"start"===Ne.overlayX&&ut)Hn=ht.width-de.x+this._viewportMargin,Dn=de.x-this._viewportMargin;else if("start"===Ne.overlayX&&!ut||"end"===Ne.overlayX&&ut)cn=de.x,Dn=ht.right-de.x;else{const je=Math.min(ht.right-de.x+ht.left,de.x),It=this._lastBoundingBoxSize.width;Dn=2*je,cn=de.x-je,Dn>It&&!this._isInitialRender&&!this._growAfterOpen&&(cn=de.x-It/2)}return{top:Yt,left:cn,bottom:an,right:Hn,width:Dn,height:kt}}_setBoundingBoxStyles(de,Ne){const ht=this._calculateBoundingBoxRect(de,Ne);!this._isInitialRender&&!this._growAfterOpen&&(ht.height=Math.min(ht.height,this._lastBoundingBoxSize.height),ht.width=Math.min(ht.width,this._lastBoundingBoxSize.width));const ut={};if(this._hasExactPosition())ut.top=ut.left="0",ut.bottom=ut.right=ut.maxHeight=ut.maxWidth="",ut.width=ut.height="100%";else{const kt=this._overlayRef.getConfig().maxHeight,Yt=this._overlayRef.getConfig().maxWidth;ut.height=(0,ee.HM)(ht.height),ut.top=(0,ee.HM)(ht.top),ut.bottom=(0,ee.HM)(ht.bottom),ut.width=(0,ee.HM)(ht.width),ut.left=(0,ee.HM)(ht.left),ut.right=(0,ee.HM)(ht.right),ut.alignItems="center"===Ne.overlayX?"center":"end"===Ne.overlayX?"flex-end":"flex-start",ut.justifyContent="center"===Ne.overlayY?"center":"bottom"===Ne.overlayY?"flex-end":"flex-start",kt&&(ut.maxHeight=(0,ee.HM)(kt)),Yt&&(ut.maxWidth=(0,ee.HM)(Yt))}this._lastBoundingBoxSize=ht,Jt(this._boundingBox.style,ut)}_resetBoundingBoxStyles(){Jt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(de,Ne){const ht={},ut=this._hasExactPosition(),kt=this._hasFlexibleDimensions,Yt=this._overlayRef.getConfig();if(ut){const Dn=this._viewportRuler.getViewportScrollPosition();Jt(ht,this._getExactOverlayY(Ne,de,Dn)),Jt(ht,this._getExactOverlayX(Ne,de,Dn))}else ht.position="static";let an="",Kn=this._getOffset(Ne,"x"),oi=this._getOffset(Ne,"y");Kn&&(an+=`translateX(${Kn}px) `),oi&&(an+=`translateY(${oi}px)`),ht.transform=an.trim(),Yt.maxHeight&&(ut?ht.maxHeight=(0,ee.HM)(Yt.maxHeight):kt&&(ht.maxHeight="")),Yt.maxWidth&&(ut?ht.maxWidth=(0,ee.HM)(Yt.maxWidth):kt&&(ht.maxWidth="")),Jt(this._pane.style,ht)}_getExactOverlayY(de,Ne,ht){let ut={top:"",bottom:""},kt=this._getOverlayPoint(Ne,this._overlayRect,de);return this._isPushed&&(kt=this._pushOverlayOnScreen(kt,this._overlayRect,ht)),"bottom"===de.overlayY?ut.bottom=this._document.documentElement.clientHeight-(kt.y+this._overlayRect.height)+"px":ut.top=(0,ee.HM)(kt.y),ut}_getExactOverlayX(de,Ne,ht){let Yt,ut={left:"",right:""},kt=this._getOverlayPoint(Ne,this._overlayRect,de);return this._isPushed&&(kt=this._pushOverlayOnScreen(kt,this._overlayRect,ht)),Yt=this._isRtl()?"end"===de.overlayX?"left":"right":"end"===de.overlayX?"right":"left","right"===Yt?ut.right=this._document.documentElement.clientWidth-(kt.x+this._overlayRect.width)+"px":ut.left=(0,ee.HM)(kt.x),ut}_getScrollVisibility(){const de=this._getOriginRect(),Ne=this._pane.getBoundingClientRect(),ht=this._scrollables.map(ut=>ut.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wt(de,ht),isOriginOutsideView:ke(de,ht),isOverlayClipped:wt(Ne,ht),isOverlayOutsideView:ke(Ne,ht)}}_subtractOverflows(de,...Ne){return Ne.reduce((ht,ut)=>ht-Math.max(ut,0),de)}_getNarrowedViewportRect(){const de=this._document.documentElement.clientWidth,Ne=this._document.documentElement.clientHeight,ht=this._viewportRuler.getViewportScrollPosition();return{top:ht.top+this._viewportMargin,left:ht.left+this._viewportMargin,right:ht.left+de-this._viewportMargin,bottom:ht.top+Ne-this._viewportMargin,width:de-2*this._viewportMargin,height:Ne-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(de,Ne){return"x"===Ne?null==de.offsetX?this._offsetX:de.offsetX:null==de.offsetY?this._offsetY:de.offsetY}_validatePositions(){}_addPanelClasses(de){this._pane&&(0,ee.Eq)(de).forEach(Ne=>{""!==Ne&&-1===this._appliedPanelClasses.indexOf(Ne)&&(this._appliedPanelClasses.push(Ne),this._pane.classList.add(Ne))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(de=>{this._pane.classList.remove(de)}),this._appliedPanelClasses=[])}_getOriginRect(){const de=this._origin;if(de instanceof m.SBq)return de.nativeElement.getBoundingClientRect();if(de instanceof Element)return de.getBoundingClientRect();const Ne=de.width||0,ht=de.height||0;return{top:de.y,bottom:de.y+ht,left:de.x,right:de.x+Ne,height:ht,width:Ne}}}function Jt(Mt,de){for(let Ne in de)de.hasOwnProperty(Ne)&&(Mt[Ne]=de[Ne]);return Mt}function Qt(Mt){if("number"!=typeof Mt&&null!=Mt){const[de,Ne]=Mt.split(Lt);return Ne&&"px"!==Ne?null:parseFloat(de)}return Mt||null}function un(Mt){return{top:Math.floor(Mt.top),right:Math.floor(Mt.right),bottom:Math.floor(Mt.bottom),left:Math.floor(Mt.left),width:Math.floor(Mt.width),height:Math.floor(Mt.height)}}const Rt="cdk-global-overlay-wrapper";class Ye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(de){const Ne=de.getConfig();this._overlayRef=de,this._width&&!Ne.width&&de.updateSize({width:this._width}),this._height&&!Ne.height&&de.updateSize({height:this._height}),de.hostElement.classList.add(Rt),this._isDisposed=!1}top(de=""){return this._bottomOffset="",this._topOffset=de,this._alignItems="flex-start",this}left(de=""){return this._xOffset=de,this._xPosition="left",this}bottom(de=""){return this._topOffset="",this._bottomOffset=de,this._alignItems="flex-end",this}right(de=""){return this._xOffset=de,this._xPosition="right",this}start(de=""){return this._xOffset=de,this._xPosition="start",this}end(de=""){return this._xOffset=de,this._xPosition="end",this}width(de=""){return this._overlayRef?this._overlayRef.updateSize({width:de}):this._width=de,this}height(de=""){return this._overlayRef?this._overlayRef.updateSize({height:de}):this._height=de,this}centerHorizontally(de=""){return this.left(de),this._xPosition="center",this}centerVertically(de=""){return this.top(de),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const de=this._overlayRef.overlayElement.style,Ne=this._overlayRef.hostElement.style,ht=this._overlayRef.getConfig(),{width:ut,height:kt,maxWidth:Yt,maxHeight:an}=ht,Kn=!("100%"!==ut&&"100vw"!==ut||Yt&&"100%"!==Yt&&"100vw"!==Yt),oi=!("100%"!==kt&&"100vh"!==kt||an&&"100%"!==an&&"100vh"!==an),Dn=this._xPosition,cn=this._xOffset,Hn="rtl"===this._overlayRef.getConfig().direction;let je="",It="",Wt="";Kn?Wt="flex-start":"center"===Dn?(Wt="center",Hn?It=cn:je=cn):Hn?"left"===Dn||"end"===Dn?(Wt="flex-end",je=cn):("right"===Dn||"start"===Dn)&&(Wt="flex-start",It=cn):"left"===Dn||"start"===Dn?(Wt="flex-start",je=cn):("right"===Dn||"end"===Dn)&&(Wt="flex-end",It=cn),de.position=this._cssPosition,de.marginLeft=Kn?"0":je,de.marginTop=oi?"0":this._topOffset,de.marginBottom=this._bottomOffset,de.marginRight=Kn?"0":It,Ne.justifyContent=Wt,Ne.alignItems=oi?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const de=this._overlayRef.overlayElement.style,Ne=this._overlayRef.hostElement,ht=Ne.style;Ne.classList.remove(Rt),ht.justifyContent=ht.alignItems=de.marginTop=de.marginBottom=de.marginLeft=de.marginRight=de.position="",this._overlayRef=null,this._isDisposed=!0}}let tt=(()=>{class Mt{constructor(Ne,ht,ut,kt){this._viewportRuler=Ne,this._document=ht,this._platform=ut,this._overlayContainer=kt}global(){return new Ye}flexibleConnectedTo(Ne){return new Vt(Ne,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Mt.\u0275fac=function(Ne){return new(Ne||Mt)(m.LFG(d.rL),m.LFG(C.K0),m.LFG(Ee.t4),m.LFG(Rn))},Mt.\u0275prov=m.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})(),Nt=0,Et=(()=>{class Mt{constructor(Ne,ht,ut,kt,Yt,an,Kn,oi,Dn,cn,Hn,je){this.scrollStrategies=Ne,this._overlayContainer=ht,this._componentFactoryResolver=ut,this._positionBuilder=kt,this._keyboardDispatcher=Yt,this._injector=an,this._ngZone=Kn,this._document=oi,this._directionality=Dn,this._location=cn,this._outsideClickDispatcher=Hn,this._animationsModuleType=je}create(Ne){const ht=this._createHostElement(),ut=this._createPaneElement(ht),kt=this._createPortalOutlet(ut),Yt=new ge(Ne);return Yt.direction=Yt.direction||this._directionality.value,new _t(kt,ht,ut,Yt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ne){const ht=this._document.createElement("div");return ht.id="cdk-overlay-"+Nt++,ht.classList.add("cdk-overlay-pane"),Ne.appendChild(ht),ht}_createHostElement(){const Ne=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ne),Ne}_createPortalOutlet(Ne){return this._appRef||(this._appRef=this._injector.get(m.z2F)),new oe.u0(Ne,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Mt.\u0275fac=function(Ne){return new(Ne||Mt)(m.LFG(Ce),m.LFG(Rn),m.LFG(m._Vd),m.LFG(tt),m.LFG(xt),m.LFG(m.zs3),m.LFG(m.R0b),m.LFG(C.K0),m.LFG(De.Is),m.LFG(C.Ye),m.LFG(yn),m.LFG(m.QbO,8))},Mt.\u0275prov=m.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})();const Zt={provide:new m.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Et],useFactory:function ze(Mt){return()=>Mt.scrollStrategies.reposition()}};let bn=(()=>{class Mt{}return Mt.\u0275fac=function(Ne){return new(Ne||Mt)},Mt.\u0275mod=m.oAB({type:Mt}),Mt.\u0275inj=m.cJS({providers:[Et,Zt],imports:[De.vT,oe.eL,d.Cl,d.Cl]}),Mt})()},2966:(vn,it,E)=>{E.d(it,{Mq:()=>Ve,Oy:()=>he,ht:()=>ke,i$:()=>ue,kV:()=>Ue,sA:()=>wt,t4:()=>ee});var d=E(2223),C=E(4755);let m;try{m=typeof Intl<"u"&&Intl.v8BreakIterator}catch{m=!1}let De,et,Qe,ee=(()=>{class Ce{constructor(Ae){this._platformId=Ae,this.isBrowser=this._platformId?(0,C.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!m)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(d.LFG(d.Lbi))},Ce.\u0275prov=d.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function ue(Ce){return function oe(){if(null==De&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>De=!0}))}finally{De=De||!1}return De}()?Ce:!!Ce.capture}function Ve(){if(null==et){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return et=!1,et;if("scrollBehavior"in document.documentElement.style)et=!0;else{const Ce=Element.prototype.scrollTo;et=!!Ce&&!/\{\s*\[native code\]\s*\}/.test(Ce.toString())}}return et}function Ue(Ce){if(function Je(){if(null==Qe){const Ce=typeof document<"u"?document.head:null;Qe=!(!Ce||!Ce.createShadowRoot&&!Ce.attachShadow)}return Qe}()){const ge=Ce.getRootNode?Ce.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ge instanceof ShadowRoot)return ge}return null}function ke(){let Ce=typeof document<"u"&&document?document.activeElement:null;for(;Ce&&Ce.shadowRoot;){const ge=Ce.shadowRoot.activeElement;if(ge===Ce)break;Ce=ge}return Ce}function wt(Ce){return Ce.composedPath?Ce.composedPath()[0]:Ce.target}function he(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8023:(vn,it,E)=>{E.d(it,{C5:()=>oe,Pl:()=>ke,UE:()=>ue,eL:()=>he,en:()=>et,ig:()=>Je,u0:()=>lt});var d=E(2223),C=E(4755);class De{attach(Ae){return this._attachedHost=Ae,Ae.attach(this)}detach(){let Ae=this._attachedHost;null!=Ae&&(this._attachedHost=null,Ae.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ae){this._attachedHost=Ae}}class oe extends De{constructor(Ae,Ge,Z,Ke,Le){super(),this.component=Ae,this.viewContainerRef=Ge,this.injector=Z,this.componentFactoryResolver=Ke,this.projectableNodes=Le}}class ue extends De{constructor(Ae,Ge,Z,Ke){super(),this.templateRef=Ae,this.viewContainerRef=Ge,this.context=Z,this.injector=Ke}get origin(){return this.templateRef.elementRef}attach(Ae,Ge=this.context){return this.context=Ge,super.attach(Ae)}detach(){return this.context=void 0,super.detach()}}class fe extends De{constructor(Ae){super(),this.element=Ae instanceof d.SBq?Ae.nativeElement:Ae}}class et{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ae){return Ae instanceof oe?(this._attachedPortal=Ae,this.attachComponentPortal(Ae)):Ae instanceof ue?(this._attachedPortal=Ae,this.attachTemplatePortal(Ae)):this.attachDomPortal&&Ae instanceof fe?(this._attachedPortal=Ae,this.attachDomPortal(Ae)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ae){this._disposeFn=Ae}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class lt extends et{constructor(Ae,Ge,Z,Ke,Le){super(),this.outletElement=Ae,this._componentFactoryResolver=Ge,this._appRef=Z,this._defaultInjector=Ke,this.attachDomPortal=Ze=>{const xt=Ze.element,yn=this._document.createComment("dom-portal");xt.parentNode.insertBefore(yn,xt),this.outletElement.appendChild(xt),this._attachedPortal=Ze,super.setDisposeFn(()=>{yn.parentNode&&yn.parentNode.replaceChild(xt,yn)})},this._document=Le}attachComponentPortal(Ae){const Z=(Ae.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ae.component);let Ke;return Ae.viewContainerRef?(Ke=Ae.viewContainerRef.createComponent(Z,Ae.viewContainerRef.length,Ae.injector||Ae.viewContainerRef.injector,Ae.projectableNodes||void 0),this.setDisposeFn(()=>Ke.destroy())):(Ke=Z.create(Ae.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(Ke.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ke.hostView),Ke.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ke)),this._attachedPortal=Ae,Ke}attachTemplatePortal(Ae){let Ge=Ae.viewContainerRef,Z=Ge.createEmbeddedView(Ae.templateRef,Ae.context,{injector:Ae.injector});return Z.rootNodes.forEach(Ke=>this.outletElement.appendChild(Ke)),Z.detectChanges(),this.setDisposeFn(()=>{let Ke=Ge.indexOf(Z);-1!==Ke&&Ge.remove(Ke)}),this._attachedPortal=Ae,Z}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ae){return Ae.hostView.rootNodes[0]}}let Je=(()=>{class ge extends ue{constructor(Ge,Z){super(Ge,Z)}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(d.Y36(d.Rgc),d.Y36(d.s_b))},ge.\u0275dir=d.lG2({type:ge,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[d.qOj]}),ge})(),ke=(()=>{class ge extends et{constructor(Ge,Z,Ke){super(),this._componentFactoryResolver=Ge,this._viewContainerRef=Z,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=Le=>{const Ze=Le.element,xt=this._document.createComment("dom-portal");Le.setAttachedHost(this),Ze.parentNode.insertBefore(xt,Ze),this._getRootNode().appendChild(Ze),this._attachedPortal=Le,super.setDisposeFn(()=>{xt.parentNode&&xt.parentNode.replaceChild(Ze,xt)})},this._document=Ke}get portal(){return this._attachedPortal}set portal(Ge){this.hasAttached()&&!Ge&&!this._isInitialized||(this.hasAttached()&&super.detach(),Ge&&super.attach(Ge),this._attachedPortal=Ge||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Ge){Ge.setAttachedHost(this);const Z=null!=Ge.viewContainerRef?Ge.viewContainerRef:this._viewContainerRef,Le=(Ge.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ge.component),Ze=Z.createComponent(Le,Z.length,Ge.injector||Z.injector,Ge.projectableNodes||void 0);return Z!==this._viewContainerRef&&this._getRootNode().appendChild(Ze.hostView.rootNodes[0]),super.setDisposeFn(()=>Ze.destroy()),this._attachedPortal=Ge,this._attachedRef=Ze,this.attached.emit(Ze),Ze}attachTemplatePortal(Ge){Ge.setAttachedHost(this);const Z=this._viewContainerRef.createEmbeddedView(Ge.templateRef,Ge.context,{injector:Ge.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Ge,this._attachedRef=Z,this.attached.emit(Z),Z}_getRootNode(){const Ge=this._viewContainerRef.element.nativeElement;return Ge.nodeType===Ge.ELEMENT_NODE?Ge:Ge.parentNode}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(C.K0))},ge.\u0275dir=d.lG2({type:ge,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),ge})(),he=(()=>{class ge{}return ge.\u0275fac=function(Ge){return new(Ge||ge)},ge.\u0275mod=d.oAB({type:ge}),ge.\u0275inj=d.cJS({}),ge})()},4709:(vn,it,E)=>{E.d(it,{ZD:()=>zt,mF:()=>gt,Cl:()=>St,rL:()=>Jt});var d=E(1692),C=E(2223),m=E(7579),ee=E(9646),Ee=E(9751),re=E(4968),K=E(4408),ve=E(727);const De={schedule(At){let dt=requestAnimationFrame,ze=cancelAnimationFrame;const{delegate:Zt}=De;Zt&&(dt=Zt.requestAnimationFrame,ze=Zt.cancelAnimationFrame);const bn=dt(mn=>{ze=void 0,At(mn)});return new ve.w0(()=>ze?.(bn))},requestAnimationFrame(...At){const{delegate:dt}=De;return(dt?.requestAnimationFrame||requestAnimationFrame)(...At)},cancelAnimationFrame(...At){const{delegate:dt}=De;return(dt?.cancelAnimationFrame||cancelAnimationFrame)(...At)},delegate:void 0};var ue=E(7565);new class fe extends ue.v{flush(dt){this._active=!0;const ze=this._scheduled;this._scheduled=void 0;const{actions:Zt}=this;let bn;dt=dt||Zt.shift();do{if(bn=dt.execute(dt.state,dt.delay))break}while((dt=Zt[0])&&dt.id===ze&&Zt.shift());if(this._active=!1,bn){for(;(dt=Zt[0])&&dt.id===ze&&Zt.shift();)dt.unsubscribe();throw bn}}}(class oe extends K.o{constructor(dt,ze){super(dt,ze),this.scheduler=dt,this.work=ze}requestAsyncId(dt,ze,Zt=0){return null!==Zt&&Zt>0?super.requestAsyncId(dt,ze,Zt):(dt.actions.push(this),dt._scheduled||(dt._scheduled=De.requestAnimationFrame(()=>dt.flush(void 0))))}recycleAsyncId(dt,ze,Zt=0){var bn;if(null!=Zt?Zt>0:this.delay>0)return super.recycleAsyncId(dt,ze,Zt);const{actions:mn}=dt;null!=ze&&(null===(bn=mn[mn.length-1])||void 0===bn?void 0:bn.id)!==ze&&(De.cancelAnimationFrame(ze),dt._scheduled=void 0)}});E(3101);var Qe=E(4986),Je=E(4482),Ue=E(8421),ke=E(5403),he=E(5963);function Ce(At,dt=Qe.z){return function wt(At){return(0,Je.e)((dt,ze)=>{let Zt=!1,bn=null,mn=null,Mt=!1;const de=()=>{if(mn?.unsubscribe(),mn=null,Zt){Zt=!1;const ht=bn;bn=null,ze.next(ht)}Mt&&ze.complete()},Ne=()=>{mn=null,Mt&&ze.complete()};dt.subscribe((0,ke.x)(ze,ht=>{Zt=!0,bn=ht,mn||(0,Ue.Xf)(At(ht)).subscribe(mn=(0,ke.x)(ze,de,Ne))},()=>{Mt=!0,(!Zt||!mn||mn.closed)&&ze.complete()}))})}(()=>(0,he.H)(At,dt))}var ge=E(9300),Ae=E(2966),Ge=E(4755),Z=E(8930);let gt=(()=>{class At{constructor(ze,Zt,bn){this._ngZone=ze,this._platform=Zt,this._scrolled=new m.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=bn}register(ze){this.scrollContainers.has(ze)||this.scrollContainers.set(ze,ze.elementScrolled().subscribe(()=>this._scrolled.next(ze)))}deregister(ze){const Zt=this.scrollContainers.get(ze);Zt&&(Zt.unsubscribe(),this.scrollContainers.delete(ze))}scrolled(ze=20){return this._platform.isBrowser?new Ee.y(Zt=>{this._globalSubscription||this._addGlobalListener();const bn=ze>0?this._scrolled.pipe(Ce(ze)).subscribe(Zt):this._scrolled.subscribe(Zt);return this._scrolledCount++,()=>{bn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ee.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ze,Zt)=>this.deregister(Zt)),this._scrolled.complete()}ancestorScrolled(ze,Zt){const bn=this.getAncestorScrollContainers(ze);return this.scrolled(Zt).pipe((0,ge.h)(mn=>!mn||bn.indexOf(mn)>-1))}getAncestorScrollContainers(ze){const Zt=[];return this.scrollContainers.forEach((bn,mn)=>{this._scrollableContainsElement(mn,ze)&&Zt.push(mn)}),Zt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ze,Zt){let bn=(0,d.fI)(Zt),mn=ze.getElementRef().nativeElement;do{if(bn==mn)return!0}while(bn=bn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ze=this._getWindow();return(0,re.R)(ze.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return At.\u0275fac=function(ze){return new(ze||At)(C.LFG(C.R0b),C.LFG(Ae.t4),C.LFG(Ge.K0,8))},At.\u0275prov=C.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),At})(),Jt=(()=>{class At{constructor(ze,Zt,bn){this._platform=ze,this._change=new m.x,this._changeListener=mn=>{this._change.next(mn)},this._document=bn,Zt.runOutsideAngular(()=>{if(ze.isBrowser){const mn=this._getWindow();mn.addEventListener("resize",this._changeListener),mn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ze=this._getWindow();ze.removeEventListener("resize",this._changeListener),ze.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ze={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ze}getViewportRect(){const ze=this.getViewportScrollPosition(),{width:Zt,height:bn}=this.getViewportSize();return{top:ze.top,left:ze.left,bottom:ze.top+bn,right:ze.left+Zt,height:bn,width:Zt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ze=this._document,Zt=this._getWindow(),bn=ze.documentElement,mn=bn.getBoundingClientRect();return{top:-mn.top||ze.body.scrollTop||Zt.scrollY||bn.scrollTop||0,left:-mn.left||ze.body.scrollLeft||Zt.scrollX||bn.scrollLeft||0}}change(ze=20){return ze>0?this._change.pipe(Ce(ze)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ze=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ze.innerWidth,height:ze.innerHeight}:{width:0,height:0}}}return At.\u0275fac=function(ze){return new(ze||At)(C.LFG(Ae.t4),C.LFG(C.R0b),C.LFG(Ge.K0,8))},At.\u0275prov=C.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),At})(),zt=(()=>{class At{}return At.\u0275fac=function(ze){return new(ze||At)},At.\u0275mod=C.oAB({type:At}),At.\u0275inj=C.cJS({}),At})(),St=(()=>{class At{}return At.\u0275fac=function(ze){return new(ze||At)},At.\u0275mod=C.oAB({type:At}),At.\u0275inj=C.cJS({imports:[Z.vT,zt,Z.vT,zt]}),At})()},4755:(vn,it,E)=>{E.d(it,{Do:()=>Qe,EM:()=>Wo,HT:()=>ee,JF:()=>vr,K0:()=>re,Mx:()=>uo,NF:()=>Es,O5:()=>fo,PM:()=>Mo,S$:()=>et,V_:()=>ve,Ye:()=>Je,b0:()=>lt,bD:()=>ns,ez:()=>ts,mk:()=>qi,q:()=>m,sg:()=>ao,tP:()=>Xo,uU:()=>si,w_:()=>Ee});var d=E(2223);let C=null;function m(){return C}function ee(P){C||(C=P)}class Ee{}const re=new d.OlP("DocumentToken");let K=(()=>{class P{historyGo(B){throw new Error("Not implemented")}}return P.\u0275fac=function(B){return new(B||P)},P.\u0275prov=d.Yz7({token:P,factory:function(){return(0,d.f3M)(De)},providedIn:"platform"}),P})();const ve=new d.OlP("Location Initialized");let De=(()=>{class P extends K{constructor(){super(),this._doc=(0,d.f3M)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return m().getBaseHref(this._doc)}onPopState(B){const pe=m().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("popstate",B,!1),()=>pe.removeEventListener("popstate",B)}onHashChange(B){const pe=m().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("hashchange",B,!1),()=>pe.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,pe,Xe){this._history.pushState(B,pe,Xe)}replaceState(B,pe,Xe){this._history.replaceState(B,pe,Xe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return P.\u0275fac=function(B){return new(B||P)},P.\u0275prov=d.Yz7({token:P,factory:function(){return new P},providedIn:"platform"}),P})();function oe(P,J){if(0==P.length)return J;if(0==J.length)return P;let B=0;return P.endsWith("/")&&B++,J.startsWith("/")&&B++,2==B?P+J.substring(1):1==B?P+J:P+"/"+J}function ue(P){const J=P.match(/#|\?|$/),B=J&&J.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function fe(P){return P&&"?"!==P[0]?"?"+P:P}let et=(()=>{class P{historyGo(B){throw new Error("Not implemented")}}return P.\u0275fac=function(B){return new(B||P)},P.\u0275prov=d.Yz7({token:P,factory:function(){return(0,d.f3M)(lt)},providedIn:"root"}),P})();const Ve=new d.OlP("appBaseHref");let lt=(()=>{class P extends et{constructor(B,pe){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=pe??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return oe(this._baseHref,B)}path(B=!1){const pe=this._platformLocation.pathname+fe(this._platformLocation.search),Xe=this._platformLocation.hash;return Xe&&B?`${pe}${Xe}`:pe}pushState(B,pe,Xe,en){const fn=this.prepareExternalUrl(Xe+fe(en));this._platformLocation.pushState(B,pe,fn)}replaceState(B,pe,Xe,en){const fn=this.prepareExternalUrl(Xe+fe(en));this._platformLocation.replaceState(B,pe,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return P.\u0275fac=function(B){return new(B||P)(d.LFG(K),d.LFG(Ve,8))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Qe=(()=>{class P extends et{constructor(B,pe){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=pe&&(this._baseHref=pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let pe=this._platformLocation.hash;return null==pe&&(pe="#"),pe.length>0?pe.substring(1):pe}prepareExternalUrl(B){const pe=oe(this._baseHref,B);return pe.length>0?"#"+pe:pe}pushState(B,pe,Xe,en){let fn=this.prepareExternalUrl(Xe+fe(en));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.pushState(B,pe,fn)}replaceState(B,pe,Xe,en){let fn=this.prepareExternalUrl(Xe+fe(en));0==fn.length&&(fn=this._platformLocation.pathname),this._platformLocation.replaceState(B,pe,fn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return P.\u0275fac=function(B){return new(B||P)(d.LFG(K),d.LFG(Ve,8))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac}),P})(),Je=(()=>{class P{constructor(B){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const pe=this._locationStrategy.getBaseHref();this._basePath=function he(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(ue(wt(pe))),this._locationStrategy.onPopState(Xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Xe.state,type:Xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,pe=""){return this.path()==this.normalize(B+fe(pe))}normalize(B){return P.stripTrailingSlash(function ke(P,J){if(!P||!J.startsWith(P))return J;const B=J.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:J}(this._basePath,wt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,pe="",Xe=null){this._locationStrategy.pushState(Xe,"",B,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+fe(pe)),Xe)}replaceState(B,pe="",Xe=null){this._locationStrategy.replaceState(Xe,"",B,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+fe(pe)),Xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(pe=>{this._notifyUrlChangeListeners(pe.url,pe.state)})),()=>{const pe=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(pe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",pe){this._urlChangeListeners.forEach(Xe=>Xe(B,pe))}subscribe(B,pe,Xe){return this._subject.subscribe({next:B,error:pe,complete:Xe})}}return P.normalizeQueryParams=fe,P.joinWithSlash=oe,P.stripTrailingSlash=ue,P.\u0275fac=function(B){return new(B||P)(d.LFG(et))},P.\u0275prov=d.Yz7({token:P,factory:function(){return function Ue(){return new Je((0,d.LFG)(et))}()},providedIn:"root"}),P})();function wt(P){return P.replace(/\/index.html$/,"")}var Ge=(()=>((Ge=Ge||{})[Ge.Format=0]="Format",Ge[Ge.Standalone=1]="Standalone",Ge))(),Z=(()=>((Z=Z||{})[Z.Narrow=0]="Narrow",Z[Z.Abbreviated=1]="Abbreviated",Z[Z.Wide=2]="Wide",Z[Z.Short=3]="Short",Z))(),Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.Medium=1]="Medium",Ke[Ke.Long=2]="Long",Ke[Ke.Full=3]="Full",Ke))(),Le=(()=>((Le=Le||{})[Le.Decimal=0]="Decimal",Le[Le.Group=1]="Group",Le[Le.List=2]="List",Le[Le.PercentSign=3]="PercentSign",Le[Le.PlusSign=4]="PlusSign",Le[Le.MinusSign=5]="MinusSign",Le[Le.Exponential=6]="Exponential",Le[Le.SuperscriptingExponent=7]="SuperscriptingExponent",Le[Le.PerMille=8]="PerMille",Le[Le.Infinity=9]="Infinity",Le[Le.NaN=10]="NaN",Le[Le.TimeSeparator=11]="TimeSeparator",Le[Le.CurrencyDecimal=12]="CurrencyDecimal",Le[Le.CurrencyGroup=13]="CurrencyGroup",Le))();function Jt(P,J){return ze((0,d.cg1)(P)[d.wAp.DateFormat],J)}function Qt(P,J){return ze((0,d.cg1)(P)[d.wAp.TimeFormat],J)}function un(P,J){return ze((0,d.cg1)(P)[d.wAp.DateTimeFormat],J)}function _n(P,J){const B=(0,d.cg1)(P),pe=B[d.wAp.NumberSymbols][J];if(typeof pe>"u"){if(J===Le.CurrencyDecimal)return B[d.wAp.NumberSymbols][Le.Decimal];if(J===Le.CurrencyGroup)return B[d.wAp.NumberSymbols][Le.Group]}return pe}function zt(P){if(!P[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ze(P,J){for(let B=J;B>-1;B--)if(typeof P[B]<"u")return P[B];throw new Error("Locale data API: locale data undefined")}function Zt(P){const[J,B]=P.split(":");return{hours:+J,minutes:+B}}const de=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ne={},ht=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ut=(()=>((ut=ut||{})[ut.Short=0]="Short",ut[ut.ShortGMT=1]="ShortGMT",ut[ut.Long=2]="Long",ut[ut.Extended=3]="Extended",ut))(),kt=(()=>((kt=kt||{})[kt.FullYear=0]="FullYear",kt[kt.Month=1]="Month",kt[kt.Date=2]="Date",kt[kt.Hours=3]="Hours",kt[kt.Minutes=4]="Minutes",kt[kt.Seconds=5]="Seconds",kt[kt.FractionalSeconds=6]="FractionalSeconds",kt[kt.Day=7]="Day",kt))(),Yt=(()=>((Yt=Yt||{})[Yt.DayPeriods=0]="DayPeriods",Yt[Yt.Days=1]="Days",Yt[Yt.Months=2]="Months",Yt[Yt.Eras=3]="Eras",Yt))();function an(P,J,B,pe){let Xe=function ce(P){if(U(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[Xe,en=1,fn=1]=P.split("-").map(Qn=>+Qn);return Kn(Xe,en-1,fn)}const B=parseFloat(P);if(!isNaN(P-B))return new Date(B);let pe;if(pe=P.match(de))return function z(P){const J=new Date(0);let B=0,pe=0;const Xe=P[8]?J.setUTCFullYear:J.setFullYear,en=P[8]?J.setUTCHours:J.setHours;P[9]&&(B=Number(P[9]+P[10]),pe=Number(P[9]+P[11])),Xe.call(J,Number(P[1]),Number(P[2])-1,Number(P[3]));const fn=Number(P[4]||0)-B,Qn=Number(P[5]||0)-pe,Gi=Number(P[6]||0),Ai=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return en.call(J,fn,Qn,Gi,Ai),J}(pe)}const J=new Date(P);if(!U(J))throw new Error(`Unable to convert "${P}" into a date`);return J}(P);J=oi(B,J)||J;let Qn,fn=[];for(;J;){if(Qn=ht.exec(J),!Qn){fn.push(J);break}{fn=fn.concat(Qn.slice(1));const Ci=fn.pop();if(!Ci)break;J=Ci}}let Gi=Xe.getTimezoneOffset();pe&&(Gi=Ct(pe,Gi),Xe=function Re(P,J,B){const pe=B?-1:1,Xe=P.getTimezoneOffset();return function $t(P,J){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+J),P}(P,pe*(Ct(J,Xe)-Xe))}(Xe,pe,!0));let Ai="";return fn.forEach(Ci=>{const Di=function Se(P){if(Fe[P])return Fe[P];let J;switch(P){case"G":case"GG":case"GGG":J=Wt(Yt.Eras,Z.Abbreviated);break;case"GGGG":J=Wt(Yt.Eras,Z.Wide);break;case"GGGGG":J=Wt(Yt.Eras,Z.Narrow);break;case"y":J=je(kt.FullYear,1,0,!1,!0);break;case"yy":J=je(kt.FullYear,2,0,!0,!0);break;case"yyy":J=je(kt.FullYear,3,0,!1,!0);break;case"yyyy":J=je(kt.FullYear,4,0,!1,!0);break;case"Y":J=He(1);break;case"YY":J=He(2,!0);break;case"YYY":J=He(3);break;case"YYYY":J=He(4);break;case"M":case"L":J=je(kt.Month,1,1);break;case"MM":case"LL":J=je(kt.Month,2,1);break;case"MMM":J=Wt(Yt.Months,Z.Abbreviated);break;case"MMMM":J=Wt(Yt.Months,Z.Wide);break;case"MMMMM":J=Wt(Yt.Months,Z.Narrow);break;case"LLL":J=Wt(Yt.Months,Z.Abbreviated,Ge.Standalone);break;case"LLLL":J=Wt(Yt.Months,Z.Wide,Ge.Standalone);break;case"LLLLL":J=Wt(Yt.Months,Z.Narrow,Ge.Standalone);break;case"w":J=ct(1);break;case"ww":J=ct(2);break;case"W":J=ct(1,!0);break;case"d":J=je(kt.Date,1);break;case"dd":J=je(kt.Date,2);break;case"c":case"cc":J=je(kt.Day,1);break;case"ccc":J=Wt(Yt.Days,Z.Abbreviated,Ge.Standalone);break;case"cccc":J=Wt(Yt.Days,Z.Wide,Ge.Standalone);break;case"ccccc":J=Wt(Yt.Days,Z.Narrow,Ge.Standalone);break;case"cccccc":J=Wt(Yt.Days,Z.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":J=Wt(Yt.Days,Z.Abbreviated);break;case"EEEE":J=Wt(Yt.Days,Z.Wide);break;case"EEEEE":J=Wt(Yt.Days,Z.Narrow);break;case"EEEEEE":J=Wt(Yt.Days,Z.Short);break;case"a":case"aa":case"aaa":J=Wt(Yt.DayPeriods,Z.Abbreviated);break;case"aaaa":J=Wt(Yt.DayPeriods,Z.Wide);break;case"aaaaa":J=Wt(Yt.DayPeriods,Z.Narrow);break;case"b":case"bb":case"bbb":J=Wt(Yt.DayPeriods,Z.Abbreviated,Ge.Standalone,!0);break;case"bbbb":J=Wt(Yt.DayPeriods,Z.Wide,Ge.Standalone,!0);break;case"bbbbb":J=Wt(Yt.DayPeriods,Z.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":J=Wt(Yt.DayPeriods,Z.Abbreviated,Ge.Format,!0);break;case"BBBB":J=Wt(Yt.DayPeriods,Z.Wide,Ge.Format,!0);break;case"BBBBB":J=Wt(Yt.DayPeriods,Z.Narrow,Ge.Format,!0);break;case"h":J=je(kt.Hours,1,-12);break;case"hh":J=je(kt.Hours,2,-12);break;case"H":J=je(kt.Hours,1);break;case"HH":J=je(kt.Hours,2);break;case"m":J=je(kt.Minutes,1);break;case"mm":J=je(kt.Minutes,2);break;case"s":J=je(kt.Seconds,1);break;case"ss":J=je(kt.Seconds,2);break;case"S":J=je(kt.FractionalSeconds,1);break;case"SS":J=je(kt.FractionalSeconds,2);break;case"SSS":J=je(kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":J=fi(ut.Short);break;case"ZZZZZ":J=fi(ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":J=fi(ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":J=fi(ut.Long);break;default:return null}return Fe[P]=J,J}(Ci);Ai+=Di?Di(Xe,B,Gi):"''"===Ci?"'":Ci.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ai}function Kn(P,J,B){const pe=new Date(0);return pe.setFullYear(P,J,B),pe.setHours(0,0,0),pe}function oi(P,J){const B=function xt(P){return(0,d.cg1)(P)[d.wAp.LocaleId]}(P);if(Ne[B]=Ne[B]||{},Ne[B][J])return Ne[B][J];let pe="";switch(J){case"shortDate":pe=Jt(P,Ke.Short);break;case"mediumDate":pe=Jt(P,Ke.Medium);break;case"longDate":pe=Jt(P,Ke.Long);break;case"fullDate":pe=Jt(P,Ke.Full);break;case"shortTime":pe=Qt(P,Ke.Short);break;case"mediumTime":pe=Qt(P,Ke.Medium);break;case"longTime":pe=Qt(P,Ke.Long);break;case"fullTime":pe=Qt(P,Ke.Full);break;case"short":const Xe=oi(P,"shortTime"),en=oi(P,"shortDate");pe=Dn(un(P,Ke.Short),[Xe,en]);break;case"medium":const fn=oi(P,"mediumTime"),Qn=oi(P,"mediumDate");pe=Dn(un(P,Ke.Medium),[fn,Qn]);break;case"long":const Gi=oi(P,"longTime"),Ai=oi(P,"longDate");pe=Dn(un(P,Ke.Long),[Gi,Ai]);break;case"full":const Ci=oi(P,"fullTime"),Di=oi(P,"fullDate");pe=Dn(un(P,Ke.Full),[Ci,Di])}return pe&&(Ne[B][J]=pe),pe}function Dn(P,J){return J&&(P=P.replace(/\{([^}]+)}/g,function(B,pe){return null!=J&&pe in J?J[pe]:B})),P}function cn(P,J,B="-",pe,Xe){let en="";(P<0||Xe&&P<=0)&&(Xe?P=1-P:(P=-P,en=B));let fn=String(P);for(;fn.length<J;)fn="0"+fn;return pe&&(fn=fn.slice(fn.length-J)),en+fn}function je(P,J,B=0,pe=!1,Xe=!1){return function(en,fn){let Qn=function It(P,J){switch(P){case kt.FullYear:return J.getFullYear();case kt.Month:return J.getMonth();case kt.Date:return J.getDate();case kt.Hours:return J.getHours();case kt.Minutes:return J.getMinutes();case kt.Seconds:return J.getSeconds();case kt.FractionalSeconds:return J.getMilliseconds();case kt.Day:return J.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,en);if((B>0||Qn>-B)&&(Qn+=B),P===kt.Hours)0===Qn&&-12===B&&(Qn=12);else if(P===kt.FractionalSeconds)return function Hn(P,J){return cn(P,3).substring(0,J)}(Qn,J);const Gi=_n(fn,Le.MinusSign);return cn(Qn,J,Gi,pe,Xe)}}function Wt(P,J,B=Ge.Format,pe=!1){return function(Xe,en){return function An(P,J,B,pe,Xe,en){switch(B){case Yt.Months:return function _t(P,J,B){const pe=(0,d.cg1)(P),en=ze([pe[d.wAp.MonthsFormat],pe[d.wAp.MonthsStandalone]],J);return ze(en,B)}(J,Xe,pe)[P.getMonth()];case Yt.Days:return function Rn(P,J,B){const pe=(0,d.cg1)(P),en=ze([pe[d.wAp.DaysFormat],pe[d.wAp.DaysStandalone]],J);return ze(en,B)}(J,Xe,pe)[P.getDay()];case Yt.DayPeriods:const fn=P.getHours(),Qn=P.getMinutes();if(en){const Ai=function St(P){const J=(0,d.cg1)(P);return zt(J),(J[d.wAp.ExtraData][2]||[]).map(pe=>"string"==typeof pe?Zt(pe):[Zt(pe[0]),Zt(pe[1])])}(J),Ci=function At(P,J,B){const pe=(0,d.cg1)(P);zt(pe);const en=ze([pe[d.wAp.ExtraData][0],pe[d.wAp.ExtraData][1]],J)||[];return ze(en,B)||[]}(J,Xe,pe),Di=Ai.findIndex(Ji=>{if(Array.isArray(Ji)){const[Gn,Kr]=Ji,bs=fn>=Gn.hours&&Qn>=Gn.minutes,Zr=fn<Kr.hours||fn===Kr.hours&&Qn<Kr.minutes;if(Gn.hours<Kr.hours){if(bs&&Zr)return!0}else if(bs||Zr)return!0}else if(Ji.hours===fn&&Ji.minutes===Qn)return!0;return!1});if(-1!==Di)return Ci[Di]}return function yn(P,J,B){const pe=(0,d.cg1)(P),en=ze([pe[d.wAp.DayPeriodsFormat],pe[d.wAp.DayPeriodsStandalone]],J);return ze(en,B)}(J,Xe,pe)[fn<12?0:1];case Yt.Eras:return function gt(P,J){return ze((0,d.cg1)(P)[d.wAp.Eras],J)}(J,pe)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(Xe,en,P,J,B,pe)}}function fi(P){return function(J,B,pe){const Xe=-1*pe,en=_n(B,Le.MinusSign),fn=Xe>0?Math.floor(Xe/60):Math.ceil(Xe/60);switch(P){case ut.Short:return(Xe>=0?"+":"")+cn(fn,2,en)+cn(Math.abs(Xe%60),2,en);case ut.ShortGMT:return"GMT"+(Xe>=0?"+":"")+cn(fn,1,en);case ut.Long:return"GMT"+(Xe>=0?"+":"")+cn(fn,2,en)+":"+cn(Math.abs(Xe%60),2,en);case ut.Extended:return 0===pe?"Z":(Xe>=0?"+":"")+cn(fn,2,en)+":"+cn(Math.abs(Xe%60),2,en);default:throw new Error(`Unknown zone width "${P}"`)}}}const ei=0,yi=4;function nt(P){return Kn(P.getFullYear(),P.getMonth(),P.getDate()+(yi-P.getDay()))}function ct(P,J=!1){return function(B,pe){let Xe;if(J){const en=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,fn=B.getDate();Xe=1+Math.floor((fn+en)/7)}else{const en=nt(B),fn=function qt(P){const J=Kn(P,ei,1).getDay();return Kn(P,0,1+(J<=yi?yi:yi+7)-J)}(en.getFullYear()),Qn=en.getTime()-fn.getTime();Xe=1+Math.round(Qn/6048e5)}return cn(Xe,P,_n(pe,Le.MinusSign))}}function He(P,J=!1){return function(B,pe){return cn(nt(B).getFullYear(),P,_n(pe,Le.MinusSign),J)}}const Fe={};function Ct(P,J){P=P.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(B)?J:B}function U(P){return P instanceof Date&&!isNaN(P.valueOf())}function uo(P,J){J=encodeURIComponent(J);for(const B of P.split(";")){const pe=B.indexOf("="),[Xe,en]=-1==pe?[B,""]:[B.slice(0,pe),B.slice(pe+1)];if(Xe.trim()===J)return decodeURIComponent(en)}return null}const bo=/\s+/,gs=[];let qi=(()=>{class P{constructor(B,pe,Xe,en){this._iterableDiffers=B,this._keyValueDiffers=pe,this._ngEl=Xe,this._renderer=en,this.initialClasses=gs,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(bo):gs}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(bo):B}ngDoCheck(){for(const pe of this.initialClasses)this._updateState(pe,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const pe of B)this._updateState(pe,!0);else if(null!=B)for(const pe of Object.keys(B))this._updateState(pe,!!B[pe]);this._applyStateDiff()}_updateState(B,pe){const Xe=this.stateMap.get(B);void 0!==Xe?(Xe.enabled!==pe&&(Xe.changed=!0,Xe.enabled=pe),Xe.touched=!0):this.stateMap.set(B,{enabled:pe,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const pe=B[0],Xe=B[1];Xe.changed?(this._toggleClass(pe,Xe.enabled),Xe.changed=!1):Xe.touched||(Xe.enabled&&this._toggleClass(pe,!1),this.stateMap.delete(pe)),Xe.touched=!1}}_toggleClass(B,pe){(B=B.trim()).length>0&&B.split(bo).forEach(Xe=>{pe?this._renderer.addClass(this._ngEl.nativeElement,Xe):this._renderer.removeClass(this._ngEl.nativeElement,Xe)})}}return P.\u0275fac=function(B){return new(B||P)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),P})();class jr{constructor(J,B,pe,Xe){this.$implicit=J,this.ngForOf=B,this.index=pe,this.count=Xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ao=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,pe,Xe){this._viewContainer=B,this._template=pe,this._differs=Xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const pe=this._viewContainer;B.forEachOperation((Xe,en,fn)=>{if(null==Xe.previousIndex)pe.createEmbeddedView(this._template,new jr(Xe.item,this._ngForOf,-1,-1),null===fn?void 0:fn);else if(null==fn)pe.remove(null===en?void 0:en);else if(null!==en){const Qn=pe.get(en);pe.move(Qn,fn),wi(Qn,Xe)}});for(let Xe=0,en=pe.length;Xe<en;Xe++){const Qn=pe.get(Xe).context;Qn.index=Xe,Qn.count=en,Qn.ngForOf=this._ngForOf}B.forEachIdentityChange(Xe=>{wi(pe.get(Xe.currentIndex),Xe)})}static ngTemplateContextGuard(B,pe){return!0}}return P.\u0275fac=function(B){return new(B||P)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function wi(P,J){P.context.$implicit=J.item}let fo=(()=>{class P{constructor(B,pe){this._viewContainer=B,this._context=new eo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=pe}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){dr("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){dr("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,pe){return!0}}return P.\u0275fac=function(B){return new(B||P)(d.Y36(d.s_b),d.Y36(d.Rgc))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class eo{constructor(){this.$implicit=null,this.ngIf=null}}function dr(P,J){if(J&&!J.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,d.AaK)(J)}'.`)}let Xo=(()=>{class P{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const pe=this._viewContainerRef;if(this._viewRef&&pe.remove(pe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Xe,ngTemplateOutletContext:en,ngTemplateOutletInjector:fn}=this;this._viewRef=pe.createEmbeddedView(Xe,en,fn?{injector:fn}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(B){return new(B||P)(d.Y36(d.s_b))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),P})();const ln=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Nn=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let si=(()=>{class P{constructor(B,pe,Xe){this.locale=B,this.defaultTimezone=pe,this.defaultOptions=Xe}transform(B,pe,Xe,en){if(null==B||""===B||B!=B)return null;try{return an(B,pe??this.defaultOptions?.dateFormat??"mediumDate",en||this.locale,Xe??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(fn){throw function gi(P,J){return new d.vHH(2100,!1)}()}}}return P.\u0275fac=function(B){return new(B||P)(d.Y36(d.soG,16),d.Y36(ln,24),d.Y36(Nn,24))},P.\u0275pipe=d.Yjl({name:"date",type:P,pure:!0,standalone:!0}),P})(),ts=(()=>{class P{}return P.\u0275fac=function(B){return new(B||P)},P.\u0275mod=d.oAB({type:P}),P.\u0275inj=d.cJS({}),P})();const ns="browser",Ps="server";function Es(P){return P===ns}function Mo(P){return P===Ps}let Wo=(()=>{class P{}return P.\u0275prov=(0,d.Yz7)({token:P,providedIn:"root",factory:()=>new Gr((0,d.LFG)(re),window)}),P})();class Gr{constructor(J,B){this.document=J,this.window=B,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const B=function Fs(P,J){const B=P.getElementById(J)||P.getElementsByName(J)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const pe=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Xe=pe.currentNode;for(;Xe;){const en=Xe.shadowRoot;if(en){const fn=en.getElementById(J)||en.querySelector(`[name="${J}"]`);if(fn)return fn}Xe=pe.nextNode()}}return null}(this.document,J);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=J)}}scrollToElement(J){const B=J.getBoundingClientRect(),pe=B.left+this.window.pageXOffset,Xe=B.top+this.window.pageYOffset,en=this.offset();this.window.scrollTo(pe-en[0],Xe-en[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=is(this.window.history)||is(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function is(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class vr{}},3144:(vn,it,E)=>{E.d(it,{JF:()=>Fe,eN:()=>Vt});var d=E(2223),C=E(9646),m=E(8996),ee=E(9751),Ee=E(4351),re=E(9300),K=E(4004),ve=E(8746),De=E(3900),oe=E(4755);class ue{}class fe{}class et{constructor(ae){this.normalizedNames=new Map,this.lazyUpdate=null,ae?this.lazyInit="string"==typeof ae?()=>{this.headers=new Map,ae.split("\n").forEach(xe=>{const Oe=xe.indexOf(":");if(Oe>0){const Pe=xe.slice(0,Oe),Y=Pe.toLowerCase(),we=xe.slice(Oe+1).trim();this.maybeSetNormalizedName(Pe,Y),this.headers.has(Y)?this.headers.get(Y).push(we):this.headers.set(Y,[we])}})}:()=>{this.headers=new Map,Object.entries(ae).forEach(([xe,Oe])=>{let Pe;if(Pe="string"==typeof Oe?[Oe]:"number"==typeof Oe?[Oe.toString()]:Oe.map(Y=>Y.toString()),Pe.length>0){const Y=xe.toLowerCase();this.headers.set(Y,Pe),this.maybeSetNormalizedName(xe,Y)}})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const xe=this.headers.get(ae.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,xe){return this.clone({name:ae,value:xe,op:"a"})}set(ae,xe){return this.clone({name:ae,value:xe,op:"s"})}delete(ae,xe){return this.clone({name:ae,value:xe,op:"d"})}maybeSetNormalizedName(ae,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,ae)}init(){this.lazyInit&&(this.lazyInit instanceof et?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(xe=>{this.headers.set(xe,ae.headers.get(xe)),this.normalizedNames.set(xe,ae.normalizedNames.get(xe))})}clone(ae){const xe=new et;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof et?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),xe}applyUpdate(ae){const xe=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let Oe=ae.value;if("string"==typeof Oe&&(Oe=[Oe]),0===Oe.length)return;this.maybeSetNormalizedName(ae.name,xe);const Pe=("a"===ae.op?this.headers.get(xe):void 0)||[];Pe.push(...Oe),this.headers.set(xe,Pe);break;case"d":const Y=ae.value;if(Y){let we=this.headers.get(xe);if(!we)return;we=we.filter(vt=>-1===Y.indexOf(vt)),0===we.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,we)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>ae(this.normalizedNames.get(xe),this.headers.get(xe)))}}class lt{encodeKey(ae){return ke(ae)}encodeValue(ae){return ke(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const Je=/%(\d[a-f0-9])/gi,Ue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ke(le){return encodeURIComponent(le).replace(Je,(ae,xe)=>Ue[xe]??ae)}function wt(le){return`${le}`}class he{constructor(ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ae.encoder||new lt,ae.fromString){if(ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Qe(le,ae){const xe=new Map;return le.length>0&&le.replace(/^\?/,"").split("&").forEach(Pe=>{const Y=Pe.indexOf("="),[we,vt]=-1==Y?[ae.decodeKey(Pe),""]:[ae.decodeKey(Pe.slice(0,Y)),ae.decodeValue(Pe.slice(Y+1))],Bt=xe.get(we)||[];Bt.push(vt),xe.set(we,Bt)}),xe}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(xe=>{const Oe=ae.fromObject[xe],Pe=Array.isArray(Oe)?Oe.map(wt):[wt(Oe)];this.map.set(xe,Pe)})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const xe=this.map.get(ae);return xe?xe[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,xe){return this.clone({param:ae,value:xe,op:"a"})}appendAll(ae){const xe=[];return Object.keys(ae).forEach(Oe=>{const Pe=ae[Oe];Array.isArray(Pe)?Pe.forEach(Y=>{xe.push({param:Oe,value:Y,op:"a"})}):xe.push({param:Oe,value:Pe,op:"a"})}),this.clone(xe)}set(ae,xe){return this.clone({param:ae,value:xe,op:"s"})}delete(ae,xe){return this.clone({param:ae,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const xe=this.encoder.encodeKey(ae);return this.map.get(ae).map(Oe=>xe+"="+this.encoder.encodeValue(Oe)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const xe=new he({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(ae),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const xe=("a"===ae.op?this.map.get(ae.param):void 0)||[];xe.push(wt(ae.value)),this.map.set(ae.param,xe);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let Oe=this.map.get(ae.param)||[];const Pe=Oe.indexOf(wt(ae.value));-1!==Pe&&Oe.splice(Pe,1),Oe.length>0?this.map.set(ae.param,Oe):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class ge{constructor(){this.map=new Map}set(ae,xe){return this.map.set(ae,xe),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function Ge(le){return typeof ArrayBuffer<"u"&&le instanceof ArrayBuffer}function Z(le){return typeof Blob<"u"&&le instanceof Blob}function Ke(le){return typeof FormData<"u"&&le instanceof FormData}class Ze{constructor(ae,xe,Oe,Pe){let Y;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ae.toUpperCase(),function Ae(le){switch(le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Pe?(this.body=void 0!==Oe?Oe:null,Y=Pe):Y=Oe,Y&&(this.reportProgress=!!Y.reportProgress,this.withCredentials=!!Y.withCredentials,Y.responseType&&(this.responseType=Y.responseType),Y.headers&&(this.headers=Y.headers),Y.context&&(this.context=Y.context),Y.params&&(this.params=Y.params)),this.headers||(this.headers=new et),this.context||(this.context=new ge),this.params){const we=this.params.toString();if(0===we.length)this.urlWithParams=xe;else{const vt=xe.indexOf("?");this.urlWithParams=xe+(-1===vt?"?":vt<xe.length-1?"&":"")+we}}else this.params=new he,this.urlWithParams=xe}serializeBody(){return null===this.body?null:Ge(this.body)||Z(this.body)||Ke(this.body)||function Le(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof he?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:Z(this.body)?this.body.type||null:Ge(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof he?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ae={}){const xe=ae.method||this.method,Oe=ae.url||this.url,Pe=ae.responseType||this.responseType,Y=void 0!==ae.body?ae.body:this.body,we=void 0!==ae.withCredentials?ae.withCredentials:this.withCredentials,vt=void 0!==ae.reportProgress?ae.reportProgress:this.reportProgress;let Bt=ae.headers||this.headers,qn=ae.params||this.params;const ri=ae.context??this.context;return void 0!==ae.setHeaders&&(Bt=Object.keys(ae.setHeaders).reduce((Ft,Tt)=>Ft.set(Tt,ae.setHeaders[Tt]),Bt)),ae.setParams&&(qn=Object.keys(ae.setParams).reduce((Ft,Tt)=>Ft.set(Tt,ae.setParams[Tt]),qn)),new Ze(xe,Oe,Y,{params:qn,headers:Bt,context:ri,reportProgress:vt,responseType:Pe,withCredentials:we})}}var xt=(()=>((xt=xt||{})[xt.Sent=0]="Sent",xt[xt.UploadProgress=1]="UploadProgress",xt[xt.ResponseHeader=2]="ResponseHeader",xt[xt.DownloadProgress=3]="DownloadProgress",xt[xt.Response=4]="Response",xt[xt.User=5]="User",xt))();class yn{constructor(ae,xe=200,Oe="OK"){this.headers=ae.headers||new et,this.status=void 0!==ae.status?ae.status:xe,this.statusText=ae.statusText||Oe,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class Rn extends yn{constructor(ae={}){super(ae),this.type=xt.ResponseHeader}clone(ae={}){return new Rn({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class _t extends yn{constructor(ae={}){super(ae),this.type=xt.Response,this.body=void 0!==ae.body?ae.body:null}clone(ae={}){return new _t({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class gt extends yn{constructor(ae){super(ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function Lt(le,ae){return{body:ae,headers:le.headers,context:le.context,observe:le.observe,params:le.params,reportProgress:le.reportProgress,responseType:le.responseType,withCredentials:le.withCredentials}}let Vt=(()=>{class le{constructor(xe){this.handler=xe}request(xe,Oe,Pe={}){let Y;if(xe instanceof Ze)Y=xe;else{let Bt,qn;Bt=Pe.headers instanceof et?Pe.headers:new et(Pe.headers),Pe.params&&(qn=Pe.params instanceof he?Pe.params:new he({fromObject:Pe.params})),Y=new Ze(xe,Oe,void 0!==Pe.body?Pe.body:null,{headers:Bt,context:Pe.context,params:qn,reportProgress:Pe.reportProgress,responseType:Pe.responseType||"json",withCredentials:Pe.withCredentials})}const we=(0,C.of)(Y).pipe((0,Ee.b)(Bt=>this.handler.handle(Bt)));if(xe instanceof Ze||"events"===Pe.observe)return we;const vt=we.pipe((0,re.h)(Bt=>Bt instanceof _t));switch(Pe.observe||"body"){case"body":switch(Y.responseType){case"arraybuffer":return vt.pipe((0,K.U)(Bt=>{if(null!==Bt.body&&!(Bt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Bt.body}));case"blob":return vt.pipe((0,K.U)(Bt=>{if(null!==Bt.body&&!(Bt.body instanceof Blob))throw new Error("Response is not a Blob.");return Bt.body}));case"text":return vt.pipe((0,K.U)(Bt=>{if(null!==Bt.body&&"string"!=typeof Bt.body)throw new Error("Response is not a string.");return Bt.body}));default:return vt.pipe((0,K.U)(Bt=>Bt.body))}case"response":return vt;default:throw new Error(`Unreachable: unhandled observe type ${Pe.observe}}`)}}delete(xe,Oe={}){return this.request("DELETE",xe,Oe)}get(xe,Oe={}){return this.request("GET",xe,Oe)}head(xe,Oe={}){return this.request("HEAD",xe,Oe)}jsonp(xe,Oe){return this.request("JSONP",xe,{params:(new he).append(Oe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,Oe={}){return this.request("OPTIONS",xe,Oe)}patch(xe,Oe,Pe={}){return this.request("PATCH",xe,Lt(Pe,Oe))}post(xe,Oe,Pe={}){return this.request("POST",xe,Lt(Pe,Oe))}put(xe,Oe,Pe={}){return this.request("PUT",xe,Lt(Pe,Oe))}}return le.\u0275fac=function(xe){return new(xe||le)(d.LFG(ue))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();function Jt(le,ae){return ae(le)}function Qt(le,ae){return(xe,Oe)=>ae.intercept(xe,{handle:Pe=>le(Pe,Oe)})}const _n=new d.OlP(""),on=new d.OlP(""),Rt=new d.OlP("");function Ye(){let le=null;return(ae,xe)=>{null===le&&(le=((0,d.f3M)(_n,{optional:!0})??[]).reduceRight(Qt,Jt));const Oe=(0,d.f3M)(d.HDt),Pe=Oe.add();return le(ae,xe).pipe((0,ve.x)(()=>Oe.remove(Pe)))}}let tt=(()=>{class le extends ue{constructor(xe,Oe){super(),this.backend=xe,this.injector=Oe,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(xe){if(null===this.chain){const Pe=Array.from(new Set([...this.injector.get(on),...this.injector.get(Rt,[])]));this.chain=Pe.reduceRight((Y,we)=>function un(le,ae,xe){return(Oe,Pe)=>xe.runInContext(()=>ae(Oe,Y=>le(Y,Pe)))}(Y,we,this.injector),Jt)}const Oe=this.pendingTasks.add();return this.chain(xe,Pe=>this.backend.handle(Pe)).pipe((0,ve.x)(()=>this.pendingTasks.remove(Oe)))}}return le.\u0275fac=function(xe){return new(xe||le)(d.LFG(fe),d.LFG(d.lqb))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();const de=/^\)\]\}',?\n/;let ht=(()=>{class le{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new d.vHH(-2800,!1);const Oe=this.xhrFactory;return(Oe.\u0275loadImpl?(0,m.D)(Oe.\u0275loadImpl()):(0,C.of)(null)).pipe((0,De.w)(()=>new ee.y(Y=>{const we=Oe.build();if(we.open(xe.method,xe.urlWithParams),xe.withCredentials&&(we.withCredentials=!0),xe.headers.forEach((Pn,zn)=>we.setRequestHeader(Pn,zn.join(","))),xe.headers.has("Accept")||we.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const Pn=xe.detectContentTypeHeader();null!==Pn&&we.setRequestHeader("Content-Type",Pn)}if(xe.responseType){const Pn=xe.responseType.toLowerCase();we.responseType="json"!==Pn?Pn:"text"}const vt=xe.serializeBody();let Bt=null;const qn=()=>{if(null!==Bt)return Bt;const Pn=we.statusText||"OK",zn=new et(we.getAllResponseHeaders()),pi=function Ne(le){return"responseURL"in le&&le.responseURL?le.responseURL:/^X-Request-URL:/m.test(le.getAllResponseHeaders())?le.getResponseHeader("X-Request-URL"):null}(we)||xe.url;return Bt=new Rn({headers:zn,status:we.status,statusText:Pn,url:pi}),Bt},ri=()=>{let{headers:Pn,status:zn,statusText:pi,url:nr}=qn(),Ti=null;204!==zn&&(Ti=typeof we.response>"u"?we.responseText:we.response),0===zn&&(zn=Ti?200:0);let Dr=zn>=200&&zn<300;if("json"===xe.responseType&&"string"==typeof Ti){const uo=Ti;Ti=Ti.replace(de,"");try{Ti=""!==Ti?JSON.parse(Ti):null}catch(bo){Ti=uo,Dr&&(Dr=!1,Ti={error:bo,text:Ti})}}Dr?(Y.next(new _t({body:Ti,headers:Pn,status:zn,statusText:pi,url:nr||void 0})),Y.complete()):Y.error(new gt({error:Ti,headers:Pn,status:zn,statusText:pi,url:nr||void 0}))},Ft=Pn=>{const{url:zn}=qn(),pi=new gt({error:Pn,status:we.status||0,statusText:we.statusText||"Unknown Error",url:zn||void 0});Y.error(pi)};let Tt=!1;const xn=Pn=>{Tt||(Y.next(qn()),Tt=!0);let zn={type:xt.DownloadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(zn.total=Pn.total),"text"===xe.responseType&&we.responseText&&(zn.partialText=we.responseText),Y.next(zn)},Xn=Pn=>{let zn={type:xt.UploadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(zn.total=Pn.total),Y.next(zn)};return we.addEventListener("load",ri),we.addEventListener("error",Ft),we.addEventListener("timeout",Ft),we.addEventListener("abort",Ft),xe.reportProgress&&(we.addEventListener("progress",xn),null!==vt&&we.upload&&we.upload.addEventListener("progress",Xn)),we.send(vt),Y.next({type:xt.Sent}),()=>{we.removeEventListener("error",Ft),we.removeEventListener("abort",Ft),we.removeEventListener("load",ri),we.removeEventListener("timeout",Ft),xe.reportProgress&&(we.removeEventListener("progress",xn),null!==vt&&we.upload&&we.upload.removeEventListener("progress",Xn)),we.readyState!==we.DONE&&we.abort()}})))}}return le.\u0275fac=function(xe){return new(xe||le)(d.LFG(oe.JF))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();const ut=new d.OlP("XSRF_ENABLED"),Yt=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kn=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oi{}let Dn=(()=>{class le{constructor(xe,Oe,Pe){this.doc=xe,this.platform=Oe,this.cookieName=Pe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}}return le.\u0275fac=function(xe){return new(xe||le)(d.LFG(oe.K0),d.LFG(d.Lbi),d.LFG(Yt))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})();function cn(le,ae){const xe=le.url.toLowerCase();if(!(0,d.f3M)(ut)||"GET"===le.method||"HEAD"===le.method||xe.startsWith("http://")||xe.startsWith("https://"))return ae(le);const Oe=(0,d.f3M)(oi).getToken(),Pe=(0,d.f3M)(Kn);return null!=Oe&&!le.headers.has(Pe)&&(le=le.clone({headers:le.headers.set(Pe,Oe)})),ae(le)}var je=(()=>((je=je||{})[je.Interceptors=0]="Interceptors",je[je.LegacyInterceptors=1]="LegacyInterceptors",je[je.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",je[je.NoXsrfProtection=3]="NoXsrfProtection",je[je.JsonpSupport=4]="JsonpSupport",je[je.RequestsMadeViaParent=5]="RequestsMadeViaParent",je))();function It(le,ae){return{\u0275kind:le,\u0275providers:ae}}function Wt(...le){const ae=[Vt,ht,tt,{provide:ue,useExisting:tt},{provide:fe,useExisting:ht},{provide:on,useValue:cn,multi:!0},{provide:ut,useValue:!0},{provide:oi,useClass:Dn}];for(const xe of le)ae.push(...xe.\u0275providers);return(0,d.MR2)(ae)}const fi=new d.OlP("LEGACY_INTERCEPTOR_FN");let Fe=(()=>{class le{}return le.\u0275fac=function(xe){return new(xe||le)},le.\u0275mod=d.oAB({type:le}),le.\u0275inj=d.cJS({providers:[Wt(It(je.LegacyInterceptors,[{provide:fi,useFactory:Ye},{provide:on,useExisting:fi,multi:!0}]))]}),le})()},2223:(vn,it,E)=>{E.d(it,{$8M:()=>zc,$WT:()=>zr,$Z:()=>H_,AFp:()=>Hf,ALo:()=>hw,AaK:()=>fe,BQk:()=>Dd,CHM:()=>_o,CRH:()=>Tw,D6c:()=>OD,EJc:()=>LC,EiD:()=>p_,EpF:()=>ug,F$t:()=>Sh,F4k:()=>wu,FYo:()=>tu,FiY:()=>Qa,Gf:()=>Dw,GfV:()=>mm,GkF:()=>Hm,Gpc:()=>lt,HDt:()=>qw,Hsn:()=>_v,Ikx:()=>Fh,JOm:()=>ka,JVY:()=>pb,JZr:()=>wt,KtG:()=>ls,L6k:()=>gb,LAX:()=>Wd,LFG:()=>Se,LSH:()=>Rf,Lbi:()=>am,Lck:()=>CE,MAs:()=>gv,MMx:()=>Q0,MR2:()=>ad,NdJ:()=>Bc,O4$:()=>S,Ojb:()=>D_,OlP:()=>lo,Oqu:()=>xg,P3R:()=>Jh,PXZ:()=>XC,Q6J:()=>ag,QGY:()=>Mh,QbO:()=>Ib,Qsj:()=>hm,R0b:()=>za,RDi:()=>r_,Rgc:()=>Fg,SBq:()=>fd,Sil:()=>UC,Suo:()=>Iw,TTD:()=>Js,TgZ:()=>Ih,Udp:()=>jl,VKq:()=>ow,W1O:()=>kw,WFA:()=>Id,WLB:()=>sw,X6Q:()=>sD,XFs:()=>ut,Xpm:()=>to,Xts:()=>sd,Y36:()=>Pl,YKP:()=>Y0,YNc:()=>Bl,Yjl:()=>Jo,Yz7:()=>zt,Z0I:()=>ze,ZZ4:()=>d0,_Bn:()=>Z0,_UZ:()=>jm,_Vd:()=>hd,_c5:()=>xD,_uU:()=>Rv,aQg:()=>u0,c2e:()=>Yw,cJS:()=>At,cg1:()=>Qm,d8E:()=>Mu,dDg:()=>ZC,dqk:()=>Dn,eBb:()=>Il,eFA:()=>dx,eJc:()=>Wy,ekj:()=>Oh,eoX:()=>sx,f3M:()=>$t,g9A:()=>Qd,h0i:()=>Xm,hGG:()=>ED,hij:()=>Km,iGM:()=>Cw,ifc:()=>Oe,ip1:()=>Zw,jDz:()=>X0,kL8:()=>Zv,kcU:()=>F,lG2:()=>Xo,lqb:()=>kl,lri:()=>rx,mCW:()=>Yu,n5z:()=>Yl,n_E:()=>Xv,oAB:()=>Go,oxw:()=>$m,pB0:()=>l_,q3G:()=>Fo,q4F:()=>ep,qFp:()=>PD,qLn:()=>iu,qOj:()=>Up,qZA:()=>Lc,qzn:()=>rd,rWj:()=>ox,rg0:()=>Oo,s9C:()=>hg,sBO:()=>aD,s_b:()=>eb,soG:()=>nb,tb:()=>r0,tp0:()=>zs,uIk:()=>qp,vHH:()=>he,vpe:()=>$l,wAp:()=>Ni,xi3:()=>mw,xp6:()=>U_,ynx:()=>Cd,z2F:()=>tf,z3N:()=>Xc,zSh:()=>tl,zs3:()=>Rl});var d=E(7579),C=E(727),m=E(1135),ee=E(9751),Ee=E(6451),re=E(9646),K=E(3099),ve=E(3900),De=E(1884);function oe(n){for(let i in n)if(n[i]===oe)return i;throw Error("Could not find renamed property on target object.")}function ue(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function et(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Ve=oe({__forward_ref__:oe});function lt(n){return n.__forward_ref__=lt,n.toString=function(){return fe(this())},n}function Qe(n){return Je(n)?n():n}function Je(n){return"function"==typeof n&&n.hasOwnProperty(Ve)&&n.__forward_ref__===lt}function Ue(n){return n&&!!n.\u0275providers}const wt="https://g.co/ng/security#xss";class he extends Error{constructor(i,s){super(function Ce(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Le(n,i){throw new he(-201,!1)}function Rt(n,i){null==n&&function Ye(n,i,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function zt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function At(n){return{providers:n.providers||[],imports:n.imports||[]}}function dt(n){return Zt(n,Mt)||Zt(n,Ne)}function ze(n){return null!==dt(n)}function Zt(n,i){return n.hasOwnProperty(i)?n[i]:null}function mn(n){return n&&(n.hasOwnProperty(de)||n.hasOwnProperty(ht))?n[de]:null}const Mt=oe({\u0275prov:oe}),de=oe({\u0275inj:oe}),Ne=oe({ngInjectableDef:oe}),ht=oe({ngInjectorDef:oe});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let kt;function an(n){const i=kt;return kt=n,i}function Kn(n,i,s){const c=dt(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&ut.Optional?null:void 0!==i?i:void Le(fe(n))}const Dn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),It={},Wt="__NG_DI_FLAG__",An="ngTempTokenPath",ei=/\n/gm,qt="__source";let nt;function He(n){const i=nt;return nt=n,i}function Fe(n,i=ut.Default){if(void 0===nt)throw new he(-203,!1);return null===nt?Kn(n,void 0,i):nt.get(n,i&ut.Optional?null:void 0,i)}function Se(n,i=ut.Default){return(function Yt(){return kt}()||Fe)(Qe(n),i)}function $t(n,i=ut.Default){return Se(n,Re(i))}function Re(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ce(n){const i=[];for(let s=0;s<n.length;s++){const c=Qe(n[s]);if(Array.isArray(c)){if(0===c.length)throw new he(900,!1);let l,h=ut.Default;for(let b=0;b<c.length;b++){const M=c[b],N=U(M);"number"==typeof N?-1===N?l=M.token:h|=N:l=M}i.push(Se(l,h))}else i.push(Se(c))}return i}function z(n,i){return n[Wt]=i,n.prototype[Wt]=i,n}function U(n){return n[Wt]}function ae(n){return{toString:n}.toString()}var xe=(()=>((xe=xe||{})[xe.OnPush=0]="OnPush",xe[xe.Default=1]="Default",xe))(),Oe=(()=>{return(n=Oe||(Oe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Oe;var n})();const Pe={},Y=[],we=oe({\u0275cmp:oe}),vt=oe({\u0275dir:oe}),Bt=oe({\u0275pipe:oe}),qn=oe({\u0275mod:oe}),ri=oe({\u0275fac:oe}),Ft=oe({__NG_ELEMENT_ID__:oe}),Tt=oe({__NG_ENV_ID__:oe});function xn(n,i,s){let c=n.length;for(;;){const l=n.indexOf(i,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===c||n.charCodeAt(l+h)<=32)return l}s=l+1}}function Xn(n,i,s){let c=0;for(;c<s.length;){const l=s[c];if("number"==typeof l){if(0!==l)break;c++;const h=s[c++],b=s[c++],M=s[c++];n.setAttribute(i,b,M,h)}else{const h=l,b=s[++c];zn(h)?n.setProperty(i,h,b):n.setAttribute(i,h,b),c++}}return c}function Pn(n){return 3===n||4===n||6===n}function zn(n){return 64===n.charCodeAt(0)}function pi(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let c=0;c<i.length;c++){const l=i[c];"number"==typeof l?s=l:0===s||nr(n,s,l,null,-1===s||2===s?i[++c]:null)}}return n}function nr(n,i,s,c,l){let h=0,b=n.length;if(-1===i)b=-1;else for(;h<n.length;){const M=n[h++];if("number"==typeof M){if(M===i){b=-1;break}if(M>i){b=h-1;break}}}for(;h<n.length;){const M=n[h];if("number"==typeof M)break;if(M===s){if(null===c)return void(null!==l&&(n[h+1]=l));if(c===n[h+1])return void(n[h+2]=l)}h++,null!==c&&h++,null!==l&&h++}-1!==b&&(n.splice(b,0,i),h=b+1),n.splice(h++,0,s),null!==c&&n.splice(h++,0,c),null!==l&&n.splice(h++,0,l)}const Ti="ng-template";function Dr(n,i,s){let c=0,l=!0;for(;c<n.length;){let h=n[c++];if("string"==typeof h&&l){const b=n[c++];if(s&&"class"===h&&-1!==xn(b.toLowerCase(),i,0))return!0}else{if(1===h){for(;c<n.length&&"string"==typeof(h=n[c++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function uo(n){return 4===n.type&&n.value!==Ti}function bo(n,i,s){return i===(4!==n.type||s?n.value:Ti)}function gs(n,i,s){let c=4;const l=n.attrs||[],h=function ao(n){for(let i=0;i<n.length;i++)if(Pn(n[i]))return i;return n.length}(l);let b=!1;for(let M=0;M<i.length;M++){const N=i[M];if("number"!=typeof N){if(!b)if(4&c){if(c=2|1&c,""!==N&&!bo(n,N,s)||""===N&&1===i.length){if(qi(c))return!1;b=!0}}else{const Q=8&c?N:i[++M];if(8&c&&null!==n.attrs){if(!Dr(n.attrs,Q,s)){if(qi(c))return!1;b=!0}continue}const $e=Jr(8&c?"class":N,l,uo(n),s);if(-1===$e){if(qi(c))return!1;b=!0;continue}if(""!==Q){let Ot;Ot=$e>h?"":l[$e+1].toLowerCase();const Kt=8&c?Ot:null;if(Kt&&-1!==xn(Kt,Q,0)||2&c&&Q!==Ot){if(qi(c))return!1;b=!0}}}}else{if(!b&&!qi(c)&&!qi(N))return!1;if(b&&qi(N))continue;b=!1,c=N|1&c}}return qi(c)||b}function qi(n){return 0==(1&n)}function Jr(n,i,s,c){if(null===i)return-1;let l=0;if(c||!s){let h=!1;for(;l<i.length;){const b=i[l];if(b===n)return l;if(3===b||6===b)h=!0;else{if(1===b||2===b){let M=i[++l];for(;"string"==typeof M;)M=i[++l];continue}if(4===b)break;if(0===b){l+=4;continue}}l+=h?1:2}return-1}return function wi(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===i)return s;s++}return-1}(i,n)}function Ar(n,i,s=!1){for(let c=0;c<i.length;c++)if(gs(n,i[c],s))return!0;return!1}function $o(n,i){e:for(let s=0;s<i.length;s++){const c=i[s];if(n.length===c.length){for(let l=0;l<n.length;l++)if(n[l]!==c[l])continue e;return!0}}return!1}function fo(n,i){return n?":not("+i.trim()+")":i}function eo(n){let i=n[0],s=1,c=2,l="",h=!1;for(;s<n.length;){let b=n[s];if("string"==typeof b)if(2&c){const M=n[++s];l+="["+b+(M.length>0?'="'+M+'"':"")+"]"}else 8&c?l+="."+b:4&c&&(l+=" "+b);else""!==l&&!qi(b)&&(i+=fo(h,l),l=""),c=b,h=h||!qi(c);s++}return""!==l&&(i+=fo(h,l)),i}function to(n){return ae(()=>{const i=Io(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Oe.Emulated,styles:n.styles||Y,_:null,schemas:n.schemas||null,tView:null,id:""};bt(s);const c=n.dependencies;return s.directiveDefs=mt(c,!1),s.pipeDefs=mt(c,!0),s.id=function sn(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const l of s)i=Math.imul(31,i)+l.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function Vs(n){return gi(n)||Ir(n)}function _s(n){return null!==n}function Go(n){return ae(()=>({type:n.type,bootstrap:n.bootstrap||Y,declarations:n.declarations||Y,imports:n.imports||Y,exports:n.exports||Y,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kr(n,i){if(null==n)return Pe;const s={};for(const c in n)if(n.hasOwnProperty(c)){let l=n[c],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=c,i&&(i[l]=h)}return s}function Xo(n){return ae(()=>{const i=Io(n);return bt(i),i})}function Jo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function gi(n){return n[we]||null}function Ir(n){return n[vt]||null}function ki(n){return n[Bt]||null}function zr(n){const i=gi(n)||Ir(n)||ki(n);return null!==i&&i.standalone}function Or(n,i){const s=n[qn]||null;if(!s&&!0===i)throw new Error(`Type ${fe(n)} does not have '\u0275mod' property.`);return s}function Io(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Y,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kr(n.inputs,i),outputs:kr(n.outputs)}}function bt(n){n.features?.forEach(i=>i(n))}function mt(n,i){if(!n)return null;const s=i?ki:Vs;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(_s)}const pn=0,ln=1,Nn=2,si=3,xi=4,Nr=5,hr=6,$i=7,Mi=8,Tr=9,$r=10,li=11,To=12,po=13,Rr=14,Zi=15,Lo=16,es=17,ts=18,ns=19,Ps=20,Li=21,ir=22,Es=23,Mo=24,Ui=25,So=1,Wo=2,Gr=7,is=8,Fs=9,vr=11;function Ki(n){return Array.isArray(n)&&"object"==typeof n[So]}function br(n){return Array.isArray(n)&&!0===n[So]}function ho(n){return 0!=(4&n.flags)}function Mr(n){return n.componentOffset>-1}function Uo(n){return 1==(1&n.flags)}function Xi(n){return!!n.template}function Ao(n){return 0!=(512&n[Nn])}function ft(n,i){return n.hasOwnProperty(ri)?n[ri]:null}let Oi=Dn.WeakRef??class Ei{constructor(i){this.ref=i}deref(){return this.ref}},pr=0,Hi=null,gr=!1;function Si(n){const i=Hi;return Hi=n,i}class ko{constructor(){this.id=pr++,this.ref=function fr(n){return new Oi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const c=s.producerNode.deref();if(void 0!==c&&s.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=gr;gr=!0;try{for(const[s,c]of this.consumers){const l=c.consumerNode.deref();void 0!==l&&l.trackingVersion===c.atTrackingVersion?l.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),l?.producers.delete(this.id))}}finally{gr=i}}producerAccessed(){if(gr)throw new Error("");if(null===Hi)return;let i=Hi.producers.get(this.id);void 0===i?(i={consumerNode:Hi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Hi.trackingVersion},Hi.producers.set(this.id,i),this.consumers.set(Hi.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Hi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Hi?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let vs=null;function Oo(n){const i=Si(null);try{return n()}finally{Si(i)}}const ba=()=>{};class js extends ko{constructor(i,s,c){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=ba,this.registerOnCleanup=l=>{this.cleanupFn=l},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=Si(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ba,this.watch(this.registerOnCleanup)}finally{Si(i)}}cleanup(){this.cleanupFn()}}class la{constructor(i,s,c){this.previousValue=i,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Js(){return ya}function ya(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ma),Ds}function Ds(){const n=da(this),i=n?.current;if(i){const s=n.previous;if(s===Pe)n.previous=i;else for(let c in i)s[c]=i[c];n.current=null,this.ngOnChanges(i)}}function Ma(n,i,s,c){const l=this.declaredInputs[s],h=da(n)||function Ra(n,i){return n[ea]=i}(n,{previous:Pe,current:null}),b=h.current||(h.current={}),M=h.previous,N=M[l];b[l]=new la(N&&N.currentValue,i,M===Pe),n[c]=i}Js.ngInherit=!0;const ea="__ngSimpleChanges__";function da(n){return n[ea]||null}const ss=function(n,i,s){},Ko="svg";function rr(n){for(;Array.isArray(n);)n=n[pn];return n}function Zs(n,i){return rr(i[n])}function Ri(n,i){return rr(i[n.index])}function P(n,i){return n.data[i]}function J(n,i){return n[i]}function B(n,i){const s=i[n];return Ki(s)?s:s[pn]}function Xe(n){return 128==(128&n[Nn])}function fn(n,i){return null==i?null:n[i]}function Qn(n){n[es]=0}function Gi(n){1024&n[Nn]||(n[Nn]|=1024,Ci(n,1))}function Ai(n){1024&n[Nn]&&(n[Nn]&=-1025,Ci(n,-1))}function Ci(n,i){let s=n[si];if(null===s)return;s[Nr]+=i;let c=s;for(s=s[si];null!==s&&(1===i&&1===c[Nr]||-1===i&&0===c[Nr]);)s[Nr]+=i,c=s,s=s[si]}const Gn={lFrame:me(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ys(){return Gn.bindingsEnabled}function cs(){return null!==Gn.skipHydrationRootTNode}function In(){return Gn.lFrame.lView}function or(){return Gn.lFrame.tView}function _o(n){return Gn.lFrame.contextLView=n,n[Mi]}function ls(n){return Gn.lFrame.contextLView=null,n}function Yr(){let n=Pa();for(;null!==n&&64===n.type;)n=n.parent;return n}function Pa(){return Gn.lFrame.currentTNode}function Sn(n,i){const s=Gn.lFrame;s.currentTNode=n,s.isParent=i}function wr(){return Gn.lFrame.isParent}function Is(){Gn.lFrame.isParent=!1}function Ts(){const n=Gn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function En(){return Gn.lFrame.bindingIndex++}function jc(n,i){const s=Gn.lFrame;s.bindingIndex=s.bindingRootIndex=n,Sa(i)}function Sa(n){Gn.lFrame.currentDirectiveIndex=n}function cc(n){const i=Gn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Fa(){return Gn.lFrame.currentQueryIndex}function V(n){Gn.lFrame.currentQueryIndex=n}function y(n){const i=n[ln];return 2===i.type?i.declTNode:1===i.type?n[hr]:null}function g(n,i,s){if(s&ut.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||s&ut.Host||(l=y(h),null===l||(h=h[Rr],10&l.type))););if(null===l)return!1;i=l,n=h}const c=Gn.lFrame=j();return c.currentTNode=i,c.lView=n,!0}function T(n){const i=j(),s=n[ln];Gn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function j(){const n=Gn.lFrame,i=null===n?null:n.child;return null===i?me(n):i}function me(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function rt(){const n=Gn.lFrame;return Gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ot=rt;function pt(){const n=rt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jn(){return Gn.lFrame.selectedIndex}function ui(n){Gn.lFrame.selectedIndex=n}function x(){const n=Gn.lFrame;return P(n.tView,n.selectedIndex)}function S(){Gn.lFrame.currentNamespace=Ko}function F(){!function X(){Gn.lFrame.currentNamespace=null}()}let Te=!0;function Dt(){return Te}function Cn(n){Te=n}function Vn(n,i){for(let s=i.directiveStart,c=i.directiveEnd;s<c;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:M,ngAfterViewInit:N,ngAfterViewChecked:Q,ngOnDestroy:_e}=h;b&&(n.contentHooks??=[]).push(-s,b),M&&((n.contentHooks??=[]).push(s,M),(n.contentCheckHooks??=[]).push(s,M)),N&&(n.viewHooks??=[]).push(-s,N),Q&&((n.viewHooks??=[]).push(s,Q),(n.viewCheckHooks??=[]).push(s,Q)),null!=_e&&(n.destroyHooks??=[]).push(s,_e)}}function zi(n,i,s){ds(n,i,3,s)}function Br(n,i,s,c){(3&n[Nn])===s&&ds(n,i,s,c)}function Ms(n,i){let s=n[Nn];(3&s)===i&&(s&=4095,s+=1,n[Nn]=s)}function ds(n,i,s,c){const h=c??-1,b=i.length-1;let M=0;for(let N=void 0!==c?65535&n[es]:0;N<b;N++)if("number"==typeof i[N+1]){if(M=i[N],null!=c&&M>=c)break}else i[N]<0&&(n[es]+=65536),(M<h||-1==h)&&(Gt(n,s,i,N),n[es]=(4294901760&n[es])+N+2),N++}function Ss(n,i){ss(4,n,i);const s=Si(null);try{i.call(n)}finally{Si(s),ss(5,n,i)}}function Gt(n,i,s,c){const l=s[c]<0,h=s[c+1],M=n[l?-s[c]:s[c]];l?n[Nn]>>12<n[es]>>16&&(3&n[Nn])===i&&(n[Nn]+=4096,Ss(M,h)):Ss(M,h)}const ws=-1;class us{constructor(i,s,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function xr(n){return n!==ws}function Zo(n){return 32767&n}function mo(n,i){let s=function Bs(n){return n>>16}(n),c=i;for(;s>0;)c=c[Rr],s--;return c}let na=!0;function cr(n){const i=na;return na=n,i}const $a=255,ms=5;let Cc=0;const ma={};function ml(n,i){const s=pl(n,i);if(-1!==s)return s;const c=i[ln];c.firstCreatePass&&(n.injectorIndex=i.length,fl(c.data,n),fl(i,null),fl(c.blueprint,null));const l=Gl(n,i),h=n.injectorIndex;if(xr(l)){const b=Zo(l),M=mo(l,i),N=M[ln].data;for(let Q=0;Q<8;Q++)i[h+Q]=M[b+Q]|N[b+Q]}return i[h+8]=l,h}function fl(n,i){n.push(0,0,0,0,0,0,0,0,i)}function pl(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Gl(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,l=i;for(;null!==l;){if(c=xs(l),null===c)return ws;if(s++,l=l[Rr],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return ws}function La(n,i,s){!function hl(n,i,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Ft)&&(c=s[Ft]),null==c&&(c=s[Ft]=Cc++);const l=c&$a;i.data[n+(l>>ms)]|=1<<l}(n,i,s)}function Ru(n,i,s){if(s&ut.Optional||void 0!==n)return n;Le()}function Dc(n,i,s,c){if(s&ut.Optional&&void 0===c&&(c=null),!(s&(ut.Self|ut.Host))){const l=n[Tr],h=an(void 0);try{return l?l.get(i,c,s&ut.Optional):Kn(i,c,s&ut.Optional)}finally{an(h)}}return Ru(c,0,s)}function Wl(n,i,s,c=ut.Default,l){if(null!==n){if(2048&i[Nn]&&!(c&ut.Self)){const b=function ql(n,i,s,c,l){let h=n,b=i;for(;null!==h&&null!==b&&2048&b[Nn]&&!(512&b[Nn]);){const M=Kl(h,b,s,c|ut.Self,ma);if(M!==ma)return M;let N=h.parent;if(!N){const Q=b[Ps];if(Q){const _e=Q.get(s,ma,c);if(_e!==ma)return _e}N=xs(b),b=b[Rr]}h=N}return l}(n,i,s,c,ma);if(b!==ma)return b}const h=Kl(n,i,s,c,ma);if(h!==ma)return h}return Dc(i,s,c,l)}function Kl(n,i,s,c,l){const h=function Pu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Ft)?n[Ft]:void 0;return"number"==typeof i?i>=0?i&$a:Rd:i}(s);if("function"==typeof h){if(!g(i,n,c))return c&ut.Host?Ru(l,0,c):Dc(i,s,c,l);try{const b=h(c);if(null!=b||c&ut.Optional)return b;Le()}finally{ot()}}else if("number"==typeof h){let b=null,M=pl(n,i),N=ws,Q=c&ut.Host?i[Zi][hr]:null;for((-1===M||c&ut.SkipSelf)&&(N=-1===M?Gl(n,i):i[M+8],N!==ws&&_l(c,!1)?(b=i[ln],M=Zo(N),i=mo(N,i)):M=-1);-1!==M;){const _e=i[ln];if(Zl(h,M,_e.data)){const $e=Bh(M,i,s,b,c,Q);if($e!==ma)return $e}N=i[M+8],N!==ws&&_l(c,i[ln].data[M+8]===Q)&&Zl(h,M,i)?(b=_e,M=Zo(N),i=mo(N,i)):M=-1}}return l}function Bh(n,i,s,c,l,h){const b=i[ln],M=b.data[n+8],_e=gl(M,b,s,null==c?Mr(M)&&na:c!=b&&0!=(3&M.type),l&ut.Host&&h===M);return null!==_e?Ga(i,b,_e,M):ma}function gl(n,i,s,c,l){const h=n.providerIndexes,b=i.data,M=1048575&h,N=n.directiveStart,_e=h>>20,Ot=l?M+_e:n.directiveEnd;for(let Kt=c?M:M+_e;Kt<Ot;Kt++){const Tn=b[Kt];if(Kt<N&&s===Tn||Kt>=N&&Tn.type===s)return Kt}if(l){const Kt=b[N];if(Kt&&Xi(Kt)&&Kt.type===s)return N}return null}function Ga(n,i,s,c){let l=n[s];const h=i.data;if(function hi(n){return n instanceof us}(l)){const b=l;b.resolving&&function Ge(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new he(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ae(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ge(n)}(h[s]));const M=cr(b.canSeeViewProviders);b.resolving=!0;const N=b.injectImpl?an(b.injectImpl):null;g(n,c,ut.Default);try{l=n[s]=b.factory(void 0,h,n,c),i.firstCreatePass&&s>=c.directiveStart&&function ai(n,i,s){const{ngOnChanges:c,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(c){const b=ya(i);(s.preOrderHooks??=[]).push(n,b),(s.preOrderCheckHooks??=[]).push(n,b)}l&&(s.preOrderHooks??=[]).push(0-n,l),h&&((s.preOrderHooks??=[]).push(n,h),(s.preOrderCheckHooks??=[]).push(n,h))}(s,h[s],i)}finally{null!==N&&an(N),cr(M),b.resolving=!1,ot()}}return l}function Zl(n,i,s){return!!(s[i+(n>>ms)]&1<<n)}function _l(n,i){return!(n&ut.Self||n&ut.Host&&i)}class Wa{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,c){return Wl(this._tNode,this._lView,i,Re(c),s)}}function Rd(){return new Wa(Yr(),In())}function Yl(n){return ae(()=>{const i=n.prototype.constructor,s=i[ri]||Hc(i),c=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==c;){const h=l[ri]||Hc(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Hc(n){return Je(n)?()=>{const i=Hc(Qe(n));return i&&i()}:ft(n)}function xs(n){const i=n[ln],s=i.type;return 2===s?i.declTNode:1===s?n[hr]:null}function zc(n){return function Lh(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const c=s.length;let l=0;for(;l<c;){const h=s[l];if(Pn(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<c&&"string"==typeof s[l];)l++;else{if(h===i)return s[l+1];l+=2}}}return null}(Yr(),n)}const Ba="__parameters__";function Cr(n,i,s){return ae(()=>{const c=function fs(n){return function(...s){if(n){const c=n(...s);for(const l in c)this[l]=c[l]}}}(i);function l(...h){if(this instanceof l)return c.apply(this,h),this;const b=new l(...h);return M.annotation=b,M;function M(N,Q,_e){const $e=N.hasOwnProperty(Ba)?N[Ba]:Object.defineProperty(N,Ba,{value:[]})[Ba];for(;$e.length<=_e;)$e.push(null);return($e[_e]=$e[_e]||[]).push(b),N}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}function Ya(n,i){n.forEach(s=>Array.isArray(s)?Ya(s,i):i(s))}function Hs(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function ra(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function qa(n,i){const s=[];for(let c=0;c<n;c++)s.push(i);return s}function k(n,i,s){let c=ie(n,i);return c>=0?n[1|c]=s:(c=~c,function Sc(n,i,s,c){let l=n.length;if(l==i)n.push(s,c);else if(1===l)n.push(c,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=s,n[i+1]=c}}(n,c,i,s)),c}function L(n,i){const s=ie(n,i);if(s>=0)return n[1|s]}function ie(n,i){return function yt(n,i,s){let c=0,l=n.length>>s;for(;l!==c;){const h=c+(l-c>>1),b=n[h<<s];if(i===b)return h<<s;b>i?l=h:c=h+1}return~(l<<s)}(n,i,1)}const Qa=z(Cr("Optional"),8),zs=z(Cr("SkipSelf"),4);function Wc(n){return 128==(128&n.flags)}var ka=(()=>((ka=ka||{})[ka.Important=1]="Important",ka[ka.DashCase=2]="DashCase",ka))();const Lg=/^>|^->|<!--|-->|--!>|<!-$/g,Bg=/(<|>)/,ab="\u200b$1\u200b";const af=new Map;let Oa=0;const er="__ngContext__";function ga(n,i){Ki(i)?(n[er]=i[ns],function Uu(n){af.set(n[ns],n)}(i)):n[er]=i}let Kc;function zh(n,i){return Kc(n,i)}function Hd(n){const i=n[si];return br(i)?i[si]:i}function hf(n){return qo(n[To])}function mf(n){return qo(n[xi])}function qo(n){for(;null!==n&&!br(n);)n=n[xi];return n}function Zc(n,i,s,c,l){if(null!=c){let h,b=!1;br(c)?h=c:Ki(c)&&(b=!0,c=c[pn]);const M=rr(c);0===n&&null!==s?null==l?Ur(i,s,M):jo(i,s,M,l||null,!0):1===n&&null!==s?jo(i,s,M,l||null,!0):2===n?function Gu(n,i,s){const c=nd(n,i);c&&function Qg(n,i,s,c){n.removeChild(i,s,c)}(n,c,i,s)}(i,M,b):3===n&&i.destroyNode(M),null!=h&&function db(n,i,s,c,l){const h=s[Gr];h!==rr(s)&&Zc(i,n,c,h,l);for(let M=vr;M<s.length;M++){const N=s[M];Gd(N[ln],N,n,i,c,h)}}(i,n,h,s,l)}}function pf(n,i){return n.createComment(function Oc(n){return n.replace(Lg,i=>i.replace(Bg,ab))}(i))}function El(n,i,s){return n.createElement(i,s)}function gf(n,i){const s=n[Fs],c=s.indexOf(i);Ai(i),s.splice(c,1)}function Cl(n,i){if(n.length<=vr)return;const s=vr+i,c=n[s];if(c){const l=c[Lo];null!==l&&l!==n&&gf(l,c),i>0&&(n[s-1][xi]=c[xi]);const h=ra(n,vr+i);!function lb(n,i){Gd(n,i,i[li],2,null,null),i[pn]=null,i[hr]=null}(c[ln],c);const b=h[ts];null!==b&&b.detachView(h[ln]),c[si]=null,c[xi]=null,c[Nn]&=-129}return c}function $h(n,i){if(!(256&i[Nn])){const s=i[li];i[Es]?.destroy(),i[Mo]?.destroy(),s.destroyNode&&Gd(n,i,s,3,null,null),function Yc(n){let i=n[To];if(!i)return Hu(n[ln],n);for(;i;){let s=null;if(Ki(i))s=i[To];else{const c=i[vr];c&&(s=c)}if(!s){for(;i&&!i[xi]&&i!==n;)Ki(i)&&Hu(i[ln],i),i=i[si];null===i&&(i=n),Ki(i)&&Hu(i[ln],i),s=i&&i[xi]}i=s}}(i)}}function Hu(n,i){if(!(256&i[Nn])){i[Nn]&=-129,i[Nn]|=256,function vf(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const l=i[s[c]];if(!(l instanceof us)){const h=s[c+1];if(Array.isArray(h))for(let b=0;b<h.length;b+=2){const M=l[h[b]],N=h[b+1];ss(4,M,N);try{N.call(M)}finally{ss(5,M,N)}}else{ss(4,l,h);try{h.call(l)}finally{ss(5,l,h)}}}}}(n,i),function _f(n,i){const s=n.cleanup,c=i[$i];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const b=s[h+3];b>=0?c[b]():c[-b].unsubscribe(),h+=2}else s[h].call(c[s[h+1]]);null!==c&&(i[$i]=null);const l=i[Li];if(null!==l){i[Li]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(n,i),1===i[ln].type&&i[li].destroy();const s=i[Lo];if(null!==s&&br(i[si])){s!==i[si]&&gf(s,i);const c=i[ts];null!==c&&c.detachView(n)}!function Rc(n){af.delete(n[ns])}(i)}}function bf(n,i,s){return function qg(n,i,s){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return s[pn];{const{componentOffset:l}=c;if(l>-1){const{encapsulation:h}=n.data[c.directiveStart+l];if(h===Oe.None||h===Oe.Emulated)return null}return Ri(c,s)}}(n,i.parent,s)}function jo(n,i,s,c,l){n.insertBefore(i,s,c,l)}function Ur(n,i,s){n.appendChild(i,s)}function yf(n,i,s,c,l){null!==c?jo(n,i,s,c,l):Ur(n,i,s)}function nd(n,i){return n.parentNode(i)}function e_(n,i,s){return xf(n,i,s)}let zu,Wu,Ku,Zu,xf=function wf(n,i,s){return 40&n.type?Ri(n,s):null};function Dl(n,i,s,c){const l=bf(n,c,i),h=i[li],M=e_(c.parent||i[hr],c,i);if(null!=l)if(Array.isArray(s))for(let N=0;N<s.length;N++)yf(h,l,s[N],M,!1);else yf(h,l,s,M,!1);void 0!==zu&&zu(h,c,i,s,l)}function qc(n,i){if(null!==i){const s=i.type;if(3&s)return Ri(i,n);if(4&s)return Gh(-1,n[i.index]);if(8&s){const c=i.child;if(null!==c)return qc(n,c);{const l=n[i.index];return br(l)?Gh(-1,l):rr(l)}}if(32&s)return zh(i,n)()||rr(n[i.index]);{const c=$u(n,i);return null!==c?Array.isArray(c)?c[0]:qc(Hd(n[Zi]),c):qc(n,i.next)}}return null}function $u(n,i){return null!==i?n[Zi][hr].projection[i.projection]:null}function Gh(n,i){const s=vr+n+1;if(s<i.length){const c=i[s],l=c[ln].firstChild;if(null!==l)return qc(c,l)}return i[Gr]}function Cf(n,i,s,c,l,h,b){for(;null!=s;){const M=c[s.index],N=s.type;if(b&&0===i&&(M&&ga(rr(M),c),s.flags|=2),32!=(32&s.flags))if(8&N)Cf(n,i,s.child,c,l,h,!1),Zc(i,n,l,M,h);else if(32&N){const Q=zh(s,c);let _e;for(;_e=Q();)Zc(i,n,l,_e,h);Zc(i,n,l,M,h)}else 16&N?n_(n,i,c,s,l,h):Zc(i,n,l,M,h);s=b?s.projectionNext:s.next}}function Gd(n,i,s,c,l,h){Cf(s,c,n.firstChild,i,l,h,!1)}function n_(n,i,s,c,l,h){const b=s[Zi],N=b[hr].projection[c.projection];if(Array.isArray(N))for(let Q=0;Q<N.length;Q++)Zc(i,n,l,N[Q],h);else{let Q=N;const _e=b[si];Wc(c)&&(Q.flags|=128),Cf(n,i,Q,_e,l,h,!0)}}function Wh(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function id(n,i,s){const{mergedAttrs:c,classes:l,styles:h}=s;null!==c&&Xn(n,i,c),null!==l&&Wh(n,i,l),null!==h&&function hb(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function Ho(n){return function Df(){if(void 0===Wu&&(Wu=null,Dn.trustedTypes))try{Wu=Dn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wu}()?.createHTML(n)||n}function r_(n){Ku=n}function s_(n){return function Zh(){if(void 0===Zu&&(Zu=null,Dn.trustedTypes))try{Zu=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zu}()?.createScriptURL(n)||n}class hc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wt})`}}class Mf extends hc{getTypeName(){return"HTML"}}class mb extends hc{getTypeName(){return"Style"}}class a_ extends hc{getTypeName(){return"Script"}}class Sf extends hc{getTypeName(){return"URL"}}class c_ extends hc{getTypeName(){return"ResourceURL"}}function Xc(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}function rd(n,i){const s=function fb(n){return n instanceof hc&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${wt})`)}return s===i}function pb(n){return new Mf(n)}function gb(n){return new mb(n)}function Il(n){return new a_(n)}function Wd(n){return new Sf(n)}function l_(n){return new c_(n)}class u_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Ho(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Jc{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Ho(i),s}}const _b=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yu(n){return(n=String(n)).match(_b)?n:"unsafe:"+n}function Ja(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function mc(...n){const i={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(i[c]=!0);return i}const Tl=Ja("area,br,col,hr,img,wbr"),Ml=Ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kd=Ja("rp,rt"),Yh=mc(Tl,mc(Ml,Ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mc(Kd,Ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mc(Kd,Ml)),qh=Ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Af=mc(qh,Ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=Ja("script,style,template");class qu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Yh.hasOwnProperty(s))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=i.attributes;for(let l=0;l<c.length;l++){const h=c.item(l),b=h.name,M=b.toLowerCase();if(!Af.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let N=h.value;qh[M]&&(N=Yu(N)),this.buf.push(" ",b,'="',kf(N),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Yh.hasOwnProperty(s)&&!Tl.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(kf(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const od=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yb=/([^\#-~ |!])/g;function kf(n){return n.replace(/&/g,"&amp;").replace(od,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(yb,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xh;function p_(n,i){let s=null;try{Xh=Xh||function d_(n){const i=new Jc(n);return function h_(){try{return!!(new window.DOMParser).parseFromString(Ho(""),"text/html")}catch{return!1}}()?new u_(i):i}(n);let c=i?String(i):"";s=Xh.getInertBodyElement(c);let l=5,h=c;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,c=h,h=s.innerHTML,s=Xh.getInertBodyElement(c)}while(c!==h);return Ho((new qu).sanitizeChildren(Of(s)||s))}finally{if(s){const c=Of(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Of(n){return"content"in n&&function Qu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fo=(()=>((Fo=Fo||{})[Fo.NONE=0]="NONE",Fo[Fo.HTML=1]="HTML",Fo[Fo.STYLE=2]="STYLE",Fo[Fo.SCRIPT=3]="SCRIPT",Fo[Fo.URL=4]="URL",Fo[Fo.RESOURCE_URL=5]="RESOURCE_URL",Fo))();function Rf(n){const i=Al();return i?i.sanitize(Fo.URL,n)||"":rd(n,"URL")?Xc(n):Yu(ge(n))}function Pf(n){const i=Al();if(i)return s_(i.sanitize(Fo.RESOURCE_URL,n)||"");if(rd(n,"ResourceURL"))return s_(Xc(n));throw new he(904,!1)}function Jh(n,i,s){return function __(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Pf:Rf}(i,s)(n)}function Al(){const n=In();return n&&n[$r].sanitizer}class lo{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=zt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const sd=new lo("ENVIRONMENT_INITIALIZER"),Xu=new lo("INJECTOR",-1),b_=new lo("INJECTOR_DEF_TYPES");class Lf{get(i,s=It){if(s===It){const c=new Error(`NullInjectorError: No provider for ${fe(i)}!`);throw c.name="NullInjectorError",c}return s}}function ad(n){return{\u0275providers:n}}function em(...n){return{\u0275providers:Zd(0,n),\u0275fromNgModule:!0}}function Zd(n,...i){const s=[],c=new Set;let l;return Ya(i,h=>{const b=h;tm(b,s,[],c)&&(l||=[],l.push(b))}),void 0!==l&&Bf(l,s),s}function Bf(n,i){for(let s=0;s<n.length;s++){const{providers:l}=n[s];nm(l,h=>{i.push(h)})}}function tm(n,i,s,c){if(!(n=Qe(n)))return!1;let l=null,h=mn(n);const b=!h&&gi(n);if(h||b){if(b&&!b.standalone)return!1;l=n}else{const N=n.ngModule;if(h=mn(N),!h)return!1;l=N}const M=c.has(l);if(b){if(M)return!1;if(c.add(l),b.dependencies){const N="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const Q of N)tm(Q,i,s,c)}}else{if(!h)return!1;{if(null!=h.imports&&!M){let Q;c.add(l);try{Ya(h.imports,_e=>{tm(_e,i,s,c)&&(Q||=[],Q.push(_e))})}finally{}void 0!==Q&&Bf(Q,i)}if(!M){const Q=ft(l)||(()=>new l);i.push({provide:l,useFactory:Q,deps:Y},{provide:b_,useValue:l,multi:!0},{provide:sd,useValue:()=>Se(l),multi:!0})}const N=h.providers;null==N||M||nm(N,_e=>{i.push(_e)})}}return l!==n&&void 0!==n.providers}function nm(n,i){for(let s of n)Ue(s)&&(s=s.\u0275providers),Array.isArray(s)?nm(s,i):i(s)}const im=oe({provide:String,useValue:oe});function Yd(n){return null!==n&&"object"==typeof n&&im in n}function ec(n){return"function"==typeof n}const tl=new lo("Set Injector scope."),rm={},qd={};let om;function fc(){return void 0===om&&(om=new Lf),om}class kl{}class Vf extends kl{get destroyed(){return this._destroyed}constructor(i,s,c,l){super(),this.parent=s,this.source=c,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jf(i,b=>this.processProvider(b)),this.records.set(Xu,nl(void 0,this)),l.has("environment")&&this.records.set(kl,nl(void 0,this));const h=this.records.get(tl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(b_.multi,Y,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=He(this),c=an(void 0);try{return i()}finally{He(s),an(c)}}get(i,s=It,c=ut.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Tt))return i[Tt](this);c=Re(c);const l=He(this),h=an(void 0);try{if(!(c&ut.SkipSelf)){let M=this.records.get(i);if(void 0===M){const N=function C_(n){return"function"==typeof n||"object"==typeof n&&n instanceof lo}(i)&&dt(i);M=N&&this.injectableDefInScope(N)?nl(sm(i),rm):null,this.records.set(i,M)}if(null!=M)return this.hydrate(i,M)}return(c&ut.Self?fc():this.parent).get(i,s=c&ut.Optional&&s===It?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[An]=b[An]||[]).unshift(fe(i)),l)throw b;return function $(n,i,s,c){const l=n[An];throw i[qt]&&l.unshift(i[qt]),n.message=function le(n,i,s,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=fe(i);if(Array.isArray(i))l=i.map(fe).join(" -> ");else if("object"==typeof i){let h=[];for(let b in i)if(i.hasOwnProperty(b)){let M=i[b];h.push(b+":"+("string"==typeof M?JSON.stringify(M):fe(M)))}l=`{${h.join(", ")}}`}return`${s}${c?"("+c+")":""}[${l}]: ${n.replace(ei,"\n  ")}`}("\n"+n.message,l,s,c),n.ngTokenPath=l,n[An]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{an(h),He(l)}}resolveInjectorInitializers(){const i=He(this),s=an(void 0);try{const c=this.get(sd.multi,Y,ut.Self);for(const l of c)l()}finally{He(i),an(s)}}toString(){const i=[],s=this.records;for(const c of s.keys())i.push(fe(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(i){let s=ec(i=Qe(i))?i:Qe(i&&i.provide);const c=function w_(n){return Yd(n)?nl(void 0,n.useValue):nl(x_(n),rm)}(i);if(ec(i)||!0!==i.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=nl(void 0,rm,!0),l.factory=()=>ce(l.multi),this.records.set(s,l)),s=i,l.multi.push(i)}this.records.set(s,c)}hydrate(i,s){return s.value===rm&&(s.value=qd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Cb(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Qe(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function sm(n){const i=dt(n),s=null!==i?i.factory:ft(n);if(null!==s)return s;if(n instanceof lo)throw new he(204,!1);if(n instanceof Function)return function Eb(n){const i=n.length;if(i>0)throw qa(i,"?"),new he(204,!1);const s=function bn(n){return n&&(n[Mt]||n[Ne])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new he(204,!1)}function x_(n,i,s){let c;if(ec(n)){const l=Qe(n);return ft(l)||sm(l)}if(Yd(n))c=()=>Qe(n.useValue);else if(function el(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...ce(n.deps||[]));else if(function Uf(n){return!(!n||!n.useExisting)}(n))c=()=>Se(Qe(n.useExisting));else{const l=Qe(n&&(n.useClass||n.provide));if(!function E_(n){return!!n.deps}(n))return ft(l)||sm(l);c=()=>new l(...ce(n.deps))}return c}function nl(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function jf(n,i){for(const s of n)Array.isArray(s)?jf(s,i):s&&Ue(s)?jf(s.\u0275providers,i):i(s)}const Hf=new lo("AppId",{providedIn:"root",factory:()=>cd}),cd="ng",Qd=new lo("Platform Initializer"),am=new lo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ib=new lo("AnimationModuleType"),D_=new lo("CSP nonce",{providedIn:"root",factory:()=>function Qc(){if(void 0!==Ku)return Ku;if(typeof document<"u")return document;throw new he(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lm=(n,i)=>null;function Kf(n,i){return lm(n,i)}class M_{}class Qf{}class Rb{resolveComponentFactory(i){throw function S_(n){const i=Error(`No component factory found for ${fe(n)}.`);return i.ngComponent=n,i}(i)}}let hd=(()=>{class n{}return n.NULL=new Rb,n})();function O_(){return md(Yr(),In())}function md(n,i){return new fd(Ri(n,i))}let fd=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=O_,n})();function um(n){return n instanceof fd?n.nativeElement:n}class tu{}let hm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Xf(){const n=In(),s=B(Yr().index,n);return(Ki(s)?s:n)[li]}(),n})(),Jf=(()=>{class n{}return n.\u0275prov=zt({token:n,providedIn:"root",factory:()=>null}),n})();class mm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ep=new mm("16.0.5"),tp={};function nu(n){for(;n;){n[Nn]|=64;const i=Hd(n);if(Ao(n)&&!i)return n;n=i}return null}function np(n){return n.ngOriginalError}class iu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&np(i);for(;s&&np(s);)s=np(s);return s||null}}const ip=new lo("",{providedIn:"root",factory:()=>!1});function pc(n){return n instanceof Function?n():n}class _m extends ko{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){nu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,c){const l=Si(this);this.trackingVersion++;try{i(s,c)}finally{Si(l)}}destroy(){this.trackingVersion++}}let dh=null;function vm(){return dh??=new _m,dh}function bm(n,i){return n[i]??vm()}function il(n,i){const s=vm();s.hasReadASignal&&(n[i]=dh,s.lView=n,dh=new _m)}const Yi={};function U_(n){ym(or(),In(),jn()+n,!1)}function ym(n,i,s,c){if(!c)if(3==(3&i[Nn])){const h=n.preOrderCheckHooks;null!==h&&zi(i,h,s)}else{const h=n.preOrderHooks;null!==h&&Br(i,h,0,s)}ui(s)}function cp(n,i=null,s=null,c){const l=lp(n,i,s,c);return l.resolveInjectorInitializers(),l}function lp(n,i=null,s=null,c,l=new Set){const h=[s||Y,em(n)];return c=c||("object"==typeof n?void 0:fe(n)),new Vf(h,i||fc(),c||null,l)}let Rl=(()=>{class n{static create(s,c){if(Array.isArray(s))return cp({name:""},c,s,"");{const l=s.name??"";return cp({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=It,n.NULL=new Lf,n.\u0275prov=zt({token:n,providedIn:"any",factory:()=>Se(Xu)}),n.__NG_ELEMENT_ID__=-1,n})();function Pl(n,i=ut.Default){const s=In();return null===s?Se(n,i):Wl(Yr(),s,Qe(n),i)}function H_(){throw new Error("invalid")}function Em(n,i,s,c,l,h,b,M,N,Q,_e){const $e=i.blueprint.slice();return $e[pn]=l,$e[Nn]=140|c,(null!==Q||n&&2048&n[Nn])&&($e[Nn]|=2048),Qn($e),$e[si]=$e[Rr]=n,$e[Mi]=s,$e[$r]=b||n&&n[$r],$e[li]=M||n&&n[li],$e[Tr]=N||n&&n[Tr]||null,$e[hr]=h,$e[ns]=function Ug(){return Oa++}(),$e[ir]=_e,$e[Ps]=Q,$e[Zi]=2==i.type?n[Zi]:$e,$e}function Fl(n,i,s,c,l){let h=n.data[i];if(null===h)h=function up(n,i,s,c,l){const h=Pa(),b=wr(),N=n.data[i]=function pp(n,i,s,c,l,h){let b=i?i.injectorIndex:-1,M=0;return cs()&&(M|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:M,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?h:h&&h.parent,s,i,c,l);return null===n.firstChild&&(n.firstChild=N),null!==h&&(b?null==h.child&&null!==N.parent&&(h.child=N):null===h.next&&(h.next=N,N.prev=h)),N}(n,i,s,c,l),function Vc(){return Gn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=c,h.attrs=l;const b=function ac(){const n=Gn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===b?-1:b.injectorIndex}return Sn(h,!0),h}function gd(n,i,s,c){if(0===s)return-1;const l=i.length;for(let h=0;h<s;h++)i.push(c),n.blueprint.push(c),n.data.push(null);return l}function hp(n,i,s,c,l){const h=bm(i,Es),b=jn(),M=2&c;try{if(ui(-1),M&&i.length>Ui&&ym(n,i,Ui,!1),ss(M?2:0,l),M)h.runInContext(s,c,l);else{const Q=Si(null);try{s(c,l)}finally{Si(Q)}}}finally{M&&null===i[Es]&&il(i,Es),ui(b),ss(M?3:1,l)}}function uh(n,i,s){if(ho(i)){const c=Si(null);try{const h=i.directiveEnd;for(let b=i.directiveStart;b<h;b++){const M=n.data[b];M.contentQueries&&M.contentQueries(1,s[b],b)}}finally{Si(c)}}}function hh(n,i,s){Ys()&&(function W_(n,i,s,c){const l=s.directiveStart,h=s.directiveEnd;Mr(s)&&function zb(n,i,s){const c=Ri(i,n),b=cu(n,Em(n,_d(s),null,s.onPush?64:16,c,i,null,n[$r].rendererFactory.createRenderer(c,s),null,null,null));n[i.index]=b}(i,s,n.data[l+s.componentOffset]),n.firstCreatePass||ml(s,i),ga(c,i);const b=s.initialInputs;for(let M=l;M<h;M++){const N=n.data[M],Q=Ga(i,n,M,s);ga(Q,i),null!==b&&Dp(0,M-l,Q,N,0,b),Xi(N)&&(B(s.index,i)[Mi]=Ga(i,n,M,s))}}(n,i,s,Ri(s,i)),64==(64&s.flags)&&bp(n,i,s))}function mh(n,i,s=Ri){const c=i.localNames;if(null!==c){let l=i.index+1;for(let h=0;h<c.length;h+=2){const b=c[h+1],M=-1===b?s(i,n):n[b];n[l++]=M}}}function _d(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Fc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function Fc(n,i,s,c,l,h,b,M,N,Q,_e){const $e=Ui+c,Ot=$e+l,Kt=function mp(n,i){const s=[];for(let c=0;c<i;c++)s.push(c<n?null:Yi);return s}($e,Ot),Tn="function"==typeof Q?Q():Q;return Kt[ln]={type:n,blueprint:Kt,template:s,queries:null,viewQuery:M,declTNode:i,data:Kt.slice().fill(null,$e),bindingStartIndex:$e,expandoStartIndex:Ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:N,consts:Tn,incompleteFirstPass:!1,ssrId:_e}}let fp=n=>null;function Cm(n,i,s,c){for(let l in n)if(n.hasOwnProperty(l)){s=null===s?{}:s;const h=n[l];null===c?Dm(s,i,l,h):c.hasOwnProperty(l)&&Dm(s,i,c[l],h)}return s}function Dm(n,i,s,c){n.hasOwnProperty(s)?n[s].push(i,c):n[s]=[i,c]}function ja(n,i,s,c,l,h,b,M){const N=Ri(i,s);let _e,Q=i.inputs;!M&&null!=Q&&(_e=Q[c])?(fh(n,s,_e,c,l),Mr(i)&&function _p(n,i){const s=B(i,n);16&s[Nn]||(s[Nn]|=64)}(s,i.index)):3&i.type&&(c=function Ub(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),l=null!=b?b(l,i.value||"",c):l,h.setProperty(N,c,l))}function Im(n,i,s,c){if(Ys()){const l=null===c?null:{"":-1},h=function jb(n,i){const s=n.directiveRegistry;let c=null,l=null;if(s)for(let h=0;h<s.length;h++){const b=s[h];if(Ar(i,b.selectors,!1))if(c||(c=[]),Xi(b))if(null!==b.findHostDirectiveDefs){const M=[];l=l||new Map,b.findHostDirectiveDefs(b,M,l),c.unshift(...M,b),yp(n,i,M.length)}else c.unshift(b),yp(n,i,0);else l=l||new Map,b.findHostDirectiveDefs?.(b,c,l),c.push(b)}return null===c?null:[c,l]}(n,s);let b,M;null===h?b=M=null:[b,M]=h,null!==b&&z_(n,i,s,b,l,M),l&&function Hb(n,i,s){if(i){const c=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=s[i[l+1]];if(null==h)throw new he(-301,!1);c.push(i[l],h)}}}(s,c,l)}s.mergedAttrs=pi(s.mergedAttrs,s.attrs)}function z_(n,i,s,c,l,h){for(let Q=0;Q<c.length;Q++)La(ml(s,i),n,c[Q].type);!function xp(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,c.length);for(let Q=0;Q<c.length;Q++){const _e=c[Q];_e.providersResolver&&_e.providersResolver(_e)}let b=!1,M=!1,N=gd(n,i,c.length,null);for(let Q=0;Q<c.length;Q++){const _e=c[Q];s.mergedAttrs=pi(s.mergedAttrs,_e.hostAttrs),Ep(n,s,i,N,_e),wp(N,_e,l),null!==_e.contentQueries&&(s.flags|=4),(null!==_e.hostBindings||null!==_e.hostAttrs||0!==_e.hostVars)&&(s.flags|=64);const $e=_e.type.prototype;!b&&($e.ngOnChanges||$e.ngOnInit||$e.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),b=!0),!M&&($e.ngOnChanges||$e.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),M=!0),N++}!function gp(n,i,s){const l=i.directiveEnd,h=n.data,b=i.attrs,M=[];let N=null,Q=null;for(let _e=i.directiveStart;_e<l;_e++){const $e=h[_e],Ot=s?s.get($e):null,Tn=Ot?Ot.outputs:null;N=Cm($e.inputs,_e,N,Ot?Ot.inputs:null),Q=Cm($e.outputs,_e,Q,Tn);const Fn=null===N||null===b||uo(i)?null:Tp(N,_e,b);M.push(Fn)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=M,i.inputs=N,i.outputs=Q}(n,s,h)}function bp(n,i,s){const c=s.directiveStart,l=s.directiveEnd,h=s.index,b=function xa(){return Gn.lFrame.currentDirectiveIndex}();try{ui(h);for(let M=c;M<l;M++){const N=n.data[M],Q=i[M];Sa(M),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Vb(N,Q)}}finally{ui(-1),Sa(b)}}function Vb(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function yp(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function wp(n,i,s){if(s){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)s[i.exportAs[c]]=n;Xi(i)&&(s[""]=n)}}function Ep(n,i,s,c,l){n.data[c]=l;const h=l.factory||(l.factory=ft(l.type)),b=new us(h,Xi(l),Pl);n.blueprint[c]=b,s[c]=b,function $_(n,i,s,c,l){const h=l.hostBindings;if(h){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const M=~i.index;(function G_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(b)!=M&&b.push(M),b.push(s,c,h)}}(n,i,c,gd(n,s,l.hostVars,Yi),l)}function tc(n,i,s,c,l,h){const b=Ri(n,i);!function Cp(n,i,s,c,l,h,b){if(null==h)n.removeAttribute(i,l,s);else{const M=null==b?ge(h):b(h,c||"",l);n.setAttribute(i,l,M,s)}}(i[li],b,h,n.value,s,c,l)}function Dp(n,i,s,c,l,h){const b=h[i];if(null!==b)for(let M=0;M<b.length;)Ip(c,s,b[M++],b[M++],b[M++])}function Ip(n,i,s,c,l){const h=Si(null);try{null!==n.setInput?n.setInput(i,l,s,c):i[c]=l}finally{Si(h)}}function Tp(n,i,s){let c=null,l=0;for(;l<s.length;){const h=s[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===c&&(c=[]);const b=n[h];for(let M=0;M<b.length;M+=2)if(b[M]===i){c.push(h,b[M+1],s[l+1]);break}}l+=2}else l+=2;else l+=4}return c}function Mp(n,i,s,c){return[n,!0,!1,i,null,0,c,s,null,null,null]}function K_(n,i){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const h=s[c+1];if(-1!==h){const b=n.data[h];V(s[c]),b.contentQueries(2,i[h],h)}}}function cu(n,i){return n[To]?n[po][xi]=i:n[To]=i,n[po]=i,i}function Sp(n,i,s){V(0);const c=Si(null);try{i(n,s)}finally{Si(c)}}function Y_(n){return n[$i]||(n[$i]=[])}function Tm(n){return n.cleanup||(n.cleanup=[])}function q_(n,i,s){return(null===n||Xi(n))&&(s=function xo(n){for(;Array.isArray(n);){if("object"==typeof n[So])return n;n=n[pn]}return null}(s[i.index])),s[li]}function Mm(n,i){const s=n[Tr],c=s?s.get(iu,null):null;c&&c.handleError(i)}function fh(n,i,s,c,l){for(let h=0;h<s.length;){const b=s[h++],M=s[h++];Ip(n.data[b],i[b],c,M,l)}}function lu(n,i){const s=B(i,n),c=s[ln];!function Q_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(c,s);const l=s[pn];null!==l&&null===s[ir]&&(s[ir]=Kf(l,s[Tr])),ph(c,s,s[Mi])}function ph(n,i,s){T(i);try{const c=n.viewQuery;null!==c&&Sp(1,c,s);const l=n.template;null!==l&&hp(n,i,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&K_(n,i),n.staticViewQueries&&Sp(2,n.viewQuery,s);const h=n.components;null!==h&&function $b(n,i){for(let s=0;s<i.length;s++)lu(n,i[s])}(i,h)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[Nn]&=-5,pt()}}let J_=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,c,l){const h=typeof Zone>"u"?null:Zone.current,b=new js(s,Q=>{this.all.has(Q)&&this.queue.set(Q,h)},l);let M;this.all.add(b),b.notify();const N=()=>{b.cleanup(),M?.(),this.all.delete(b),this.queue.delete(b)};return M=c?.onDestroy(N),{destroy:N}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:()=>new n}),n})();function Sm(n,i,s){let c=s?n.styles:null,l=s?n.classes:null,h=0;if(null!==i)for(let b=0;b<i.length;b++){const M=i[b];"number"==typeof M?h=M:1==h?l=et(l,M):2==h&&(c=et(c,M+": "+i[++b]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=l:n.classesWithoutHost=l}function gh(n,i,s,c,l=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&c.push(rr(h)),br(h)){for(let M=vr;M<h.length;M++){const N=h[M],Q=N[ln].firstChild;null!==Q&&gh(N[ln],N,Q,c)}h[Gr]!==h[pn]&&c.push(h[Gr])}const b=s.type;if(8&b)gh(n,i,s.child,c);else if(32&b){const M=zh(s,i);let N;for(;N=M();)c.push(N)}else if(16&b){const M=$u(i,s);if(Array.isArray(M))c.push(...M);else{const N=Hd(i[Zi]);gh(N[ln],N,M,c,!0)}}s=l?s.projectionNext:s.next}return c}function du(n,i,s,c=!0){const l=i[$r].rendererFactory;l.begin&&l.begin();try{Am(n,i,n.template,s)}catch(b){throw c&&Mm(i,b),b}finally{l.end&&l.end(),i[$r].effectManager?.flush()}}function Am(n,i,s,c){const l=i[Nn];if(256!=(256&l)){i[$r].effectManager?.flush(),T(i);try{Qn(i),function nn(n){return Gn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&hp(n,i,s,2,c);const b=3==(3&l);if(b){const Q=n.preOrderCheckHooks;null!==Q&&zi(i,Q,null)}else{const Q=n.preOrderHooks;null!==Q&&Br(i,Q,0,null),Ms(i,0)}if(function Gb(n){for(let i=hf(n);null!==i;i=mf(i)){if(!i[Wo])continue;const s=i[Fs];for(let c=0;c<s.length;c++){Gi(s[c])}}}(i),function Rp(n){for(let i=hf(n);null!==i;i=mf(i))for(let s=vr;s<i.length;s++){const c=i[s],l=c[ln];Xe(c)&&Am(l,c,l.template,c[Mi])}}(i),null!==n.contentQueries&&K_(n,i),b){const Q=n.contentCheckHooks;null!==Q&&zi(i,Q)}else{const Q=n.contentHooks;null!==Q&&Br(i,Q,1),Ms(i,1)}!function dp(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const c=bm(i,Mo);try{for(let l=0;l<s.length;l++){const h=s[l];if(h<0)ui(~h);else{const b=h,M=s[++l],N=s[++l];jc(M,b),c.runInContext(N,2,i[b])}}}finally{null===i[Mo]&&il(i,Mo),ui(-1)}}(n,i);const M=n.components;null!==M&&function Fp(n,i){for(let s=0;s<i.length;s++)Pp(n,i[s])}(i,M);const N=n.viewQuery;if(null!==N&&Sp(2,N,c),b){const Q=n.viewCheckHooks;null!==Q&&zi(i,Q)}else{const Q=n.viewHooks;null!==Q&&Br(i,Q,2),Ms(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Nn]&=-73,Ai(i)}finally{pt()}}}function Pp(n,i){const s=B(i,n);if(Xe(s)){const c=s[ln];80&s[Nn]?Am(c,s,c.template,s[Mi]):s[Nr]>0&&km(s)}}function km(n){for(let c=hf(n);null!==c;c=mf(c))for(let l=vr;l<c.length;l++){const h=c[l];if(Xe(h))if(1024&h[Nn]){const b=h[ln];Am(b,h,b.template,h[Mi])}else h[Nr]>0&&km(h)}const s=n[ln].components;if(null!==s)for(let c=0;c<s.length;c++){const l=B(s[c],n);Xe(l)&&l[Nr]>0&&km(l)}}class uu{get rootNodes(){const i=this._lView,s=i[ln];return gh(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mi]}set context(i){this._lView[Mi]=i}get destroyed(){return 256==(256&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[si];if(br(i)){const s=i[is],c=s?s.indexOf(this):-1;c>-1&&(Cl(i,c),ra(s,c))}this._attachedToViewContainer=!1}$h(this._lView[ln],this._lView)}onDestroy(i){!function Di(n,i){if(256==(256&n[Nn]))throw new he(911,!1);null===n[Li]&&(n[Li]=[]),n[Li].push(i)}(this._lView,i)}markForCheck(){nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-129}reattach(){this._lView[Nn]|=128}detectChanges(){du(this._lView[ln],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zd(n,i){Gd(n,i,i[li],2,null,null)}(this._lView[ln],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=i}}class Wb extends uu{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;du(i[ln],i,i[Mi],!1)}checkNoChanges(){}get context(){return null}}class ev extends hd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=gi(i);return new vd(s,this.ngModule)}}function Om(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Np{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,c){c=Re(c);const l=this.injector.get(i,tp,c);return l!==tp||s===tp?l:this.parentInjector.get(i,s,c)}}class vd extends Qf{get inputs(){return Om(this.componentDef.inputs)}get outputs(){return Om(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function dr(n){return n.map(eo).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,c,l){let h=(l=l||this.ngModule)instanceof kl?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const b=h?new Np(i,h):i,M=b.get(tu,null);if(null===M)throw new he(407,!1);const _e={rendererFactory:M,sanitizer:b.get(Jf,null),effectManager:b.get(J_,null)},$e=M.createRenderer(null,this.componentDef),Ot=this.componentDef.selectors[0][0]||"div",Kt=c?function ou(n,i,s,c){const h=c.get(ip,!1)||s===Oe.ShadowDom,b=n.selectRootElement(i,h);return function su(n){fp(n)}(b),b}($e,c,this.componentDef.encapsulation,b):El($e,Ot,function Kb(n){const i=n.toLowerCase();return"svg"===i?Ko:"math"===i?"math":null}(Ot)),Tn=this.componentDef.onPush?576:528,Fn=Fc(0,null,null,1,0,null,null,null,null,null,null),ti=Em(null,Fn,null,Tn,null,null,_e,$e,b,null,null);let Ii,On;T(ti);try{const ji=this.componentDef;let Sr,Co=null;ji.findHostDirectiveDefs?(Sr=[],Co=new Map,ji.findHostDirectiveDefs(ji,Sr,Co),Sr.push(ji)):Sr=[ji];const ul=function _h(n,i){const s=n[ln],c=Ui;return n[c]=i,Fl(s,c,2,"#host",null)}(ti,Kt),Px=function Zb(n,i,s,c,l,h,b){const M=l[ln];!function Bp(n,i,s,c){for(const l of n)i.mergedAttrs=pi(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(Sm(i,i.mergedAttrs,!0),null!==s&&id(c,s,i))}(c,n,i,b);let N=null;null!==i&&(N=Kf(i,l[Tr]));const Q=h.rendererFactory.createRenderer(i,s),_e=Em(l,_d(s),null,s.onPush?64:16,l[n.index],n,h,Q,null,null,N);return M.firstCreatePass&&yp(M,n,c.length-1),cu(l,_e),l[n.index]=_e}(ul,Kt,ji,Sr,ti,_e,$e);On=P(Fn,Ui),Kt&&function hu(n,i,s,c){if(c)Xn(n,s,["ng-version",ep.full]);else{const{attrs:l,classes:h}=function Hr(n){const i=[],s=[];let c=1,l=2;for(;c<n.length;){let h=n[c];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++c]):8===l&&s.push(h);else{if(!qi(l))break;l=h}c++}return{attrs:i,classes:s}}(i.selectors[0]);l&&Xn(n,s,l),h&&h.length>0&&Wh(n,s,h.join(" "))}}($e,ji,Kt,c),void 0!==s&&function nv(n,i,s){const c=n.projection=[];for(let l=0;l<i.length;l++){const h=s[l];c.push(null!=h?Array.from(h):null)}}(On,this.ngContentSelectors,s),Ii=function tv(n,i,s,c,l,h){const b=Yr(),M=l[ln],N=Ri(b,l);z_(M,l,b,s,null,c);for(let _e=0;_e<s.length;_e++)ga(Ga(l,M,b.directiveStart+_e,b),l);bp(M,l,b),N&&ga(N,l);const Q=Ga(l,M,b.directiveStart+b.componentOffset,b);if(n[Mi]=l[Mi]=Q,null!==h)for(const _e of h)_e(Q,i);return uh(M,b,n),Q}(Px,ji,Sr,Co,ti,[Rm]),ph(Fn,ti,null)}finally{pt()}return new Lp(this.componentType,Ii,md(On,ti),ti,On)}}class Lp extends M_{constructor(i,s,c,l,h){super(),this.location=c,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Wb(l),this.componentType=i}setInput(i,s){const c=this._tNode.inputs;let l;if(null!==c&&(l=c[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const h=this._rootLView;fh(h[ln],h,l,i,s),this.previousInputValues.set(i,s),nu(B(this._tNode.index,h))}}get injector(){return new Wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Rm(){const n=Yr();Vn(In()[ln],n)}function Up(n){let i=function iv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;i;){let l;if(Xi(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new he(903,!1);l=i.\u0275dir}if(l){if(s){c.push(l);const b=n;b.inputs=Vp(n.inputs),b.declaredInputs=Vp(n.declaredInputs),b.outputs=Vp(n.outputs);const M=l.hostBindings;M&&Hp(n,M);const N=l.viewQuery,Q=l.contentQueries;if(N&&Pm(n,N),Q&&jp(n,Q),ue(n.inputs,l.inputs),ue(n.declaredInputs,l.declaredInputs),ue(n.outputs,l.outputs),Xi(l)&&l.data.animation){const _e=n.data;_e.animation=(_e.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let b=0;b<h.length;b++){const M=h[b];M&&M.ngInherit&&M(n),M===Up&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Yb(n){let i=0,s=null;for(let c=n.length-1;c>=0;c--){const l=n[c];l.hostVars=i+=l.hostVars,l.hostAttrs=pi(l.hostAttrs,s=pi(s,l.hostAttrs))}}(c)}function Vp(n){return n===Pe?{}:n===Y?[]:n}function Pm(n,i){const s=n.viewQuery;n.viewQuery=s?(c,l)=>{i(c,l),s(c,l)}:i}function jp(n,i){const s=n.contentQueries;n.contentQueries=s?(c,l,h)=>{i(c,l,h),s(c,l,h)}:i}function Hp(n,i){const s=n.hostBindings;n.hostBindings=s?(c,l)=>{i(c,l),s(c,l)}:i}function bh(n){return!!Yp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Nc(n,i,s){return n[i]=s}function _a(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function qp(n,i,s,c){const l=In();return _a(l,En(),i)&&(or(),tc(x(),l,n,i,s,c)),qp}function bd(n,i,s,c){return _a(n,En(),s)?i+ge(s)+c:Yi}function Bl(n,i,s,c,l,h,b,M){const N=In(),Q=or(),_e=n+Ui,$e=Q.firstCreatePass?function ty(n,i,s,c,l,h,b,M,N){const Q=i.consts,_e=Fl(i,n,4,b||null,fn(Q,M));Im(i,s,_e,fn(Q,N)),Vn(i,_e);const $e=_e.tView=Fc(2,_e,c,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Q,null);return null!==i.queries&&(i.queries.template(i,_e),$e.queries=i.queries.embeddedTView(_e)),_e}(_e,Q,N,i,s,c,l,h,b):Q.data[_e];Sn($e,!1);const Ot=Ch(Q,N,$e,n);Dt()&&Dl(Q,N,Ot,$e),ga(Ot,N),cu(N,N[_e]=Mp(Ot,N,Ot,$e)),Uo($e)&&hh(Q,N,$e),null!=b&&mh(N,$e,M)}let Ch=function bu(n,i,s,c){return Cn(!0),i[li].createComment("")};function gv(n){return J(function qr(){return Gn.lFrame.contextLView}(),Ui+n)}function ag(n,i,s){const c=In();return _a(c,En(),i)&&ja(or(),x(),c,n,i,c[li],s,!1),ag}function Dh(n,i,s,c,l){const b=l?"class":"style";fh(n,s,i.inputs[b],b,c)}function Ih(n,i,s,c){const l=In(),h=or(),b=Ui+n,M=l[li],N=h.firstCreatePass?function cg(n,i,s,c,l,h){const b=i.consts,N=Fl(i,n,2,c,fn(b,l));return Im(i,s,N,fn(b,h)),null!==N.attrs&&Sm(N,N.attrs,!1),null!==N.mergedAttrs&&Sm(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(b,h,l,i,s,c):h.data[b],Q=lg(h,l,N,M,i,n);l[b]=Q;const _e=Uo(N);return Sn(N,!0),id(M,Q,N),32!=(32&N.flags)&&Dt()&&Dl(h,l,Q,N),0===function Zr(){return Gn.lFrame.elementDepthCount}()&&ga(Q,l),function wa(){Gn.lFrame.elementDepthCount++}(),_e&&(hh(h,l,N),uh(h,N,l)),null!==c&&mh(l,N),Ih}function Lc(){let n=Yr();wr()?Is():(n=n.parent,Sn(n,!1));const i=n;(function ys(n){return Gn.skipHydrationRootTNode===n})(i)&&function Ec(){Gn.skipHydrationRootTNode=null}(),function Ro(){Gn.lFrame.elementDepthCount--}();const s=or();return s.firstCreatePass&&(Vn(s,n),ho(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Qr(n){return 0!=(8&n.flags)}(i)&&Dh(s,i,In(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ta(n){return 0!=(16&n.flags)}(i)&&Dh(s,i,In(),i.stylesWithoutHost,!1),Lc}function jm(n,i,s,c){return Ih(n,i,s,c),Lc(),jm}let lg=(n,i,s,c,l,h)=>(Cn(!0),El(c,l,function ye(){return Gn.lFrame.currentNamespace}()));function Cd(n,i,s){const c=In(),l=or(),h=n+Ui,b=l.firstCreatePass?function iy(n,i,s,c,l){const h=i.consts,b=fn(h,c),M=Fl(i,n,8,"ng-container",b);return null!==b&&Sm(M,b,!0),Im(i,s,M,fn(h,l)),null!==i.queries&&i.queries.elementStart(i,M),M}(h,l,c,i,s):l.data[h];Sn(b,!0);const M=yu(l,c,b,n);return c[h]=M,Dt()&&Dl(l,c,M,b),ga(M,c),Uo(b)&&(hh(l,c,b),uh(l,b,c)),null!=s&&mh(c,b),Cd}function Dd(){let n=Yr();const i=or();return wr()?Is():(n=n.parent,Sn(n,!1)),i.firstCreatePass&&(Vn(i,n),ho(n)&&i.queries.elementEnd(n)),Dd}function Hm(n,i,s){return Cd(n,i,s),Dd(),Hm}let yu=(n,i,s,c)=>(Cn(!0),pf(i[li],""));function ug(){return In()}function Mh(n){return!!n&&"function"==typeof n.then}function wu(n){return!!n&&"function"==typeof n.subscribe}function Bc(n,i,s,c){const l=In(),h=or(),b=Yr();return Td(h,l,l[li],b,n,i,c),Bc}function Id(n,i){const s=Yr(),c=In(),l=or();return Td(l,c,q_(cc(l.data),s,c),s,n,i),Id}function Td(n,i,s,c,l,h,b){const M=Uo(c),Q=n.firstCreatePass&&Tm(n),_e=i[Mi],$e=Y_(i);let Ot=!0;if(3&c.type||b){const Fn=Ri(c,i),ti=b?b(Fn):Fn,Ii=$e.length,On=b?Sr=>b(rr(Sr[c.index])):c.index;let ji=null;if(!b&&M&&(ji=function oy(n,i,s,c){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const b=l[h];if(b===s&&l[h+1]===c){const M=i[$i],N=l[h+2];return M.length>N?M[N]:null}"string"==typeof b&&(h+=2)}return null}(n,i,l,c.index)),null!==ji)(ji.__ngLastListenerFn__||ji).__ngNextListenerFn__=h,ji.__ngLastListenerFn__=h,Ot=!1;else{h=ay(c,i,_e,h,!1);const Sr=s.listen(ti,l,h);$e.push(h,Sr),Q&&Q.push(l,On,Ii,Ii+1)}}else h=ay(c,i,_e,h,!1);const Kt=c.outputs;let Tn;if(Ot&&null!==Kt&&(Tn=Kt[l])){const Fn=Tn.length;if(Fn)for(let ti=0;ti<Fn;ti+=2){const Co=i[Tn[ti]][Tn[ti+1]].subscribe(h),ul=$e.length;$e.push(h,Co),Q&&Q.push(l,c.index,ul,-(ul+1))}}}function sy(n,i,s,c){try{return ss(6,i,s),!1!==s(c)}catch(l){return Mm(n,l),!1}finally{ss(7,i,s)}}function ay(n,i,s,c,l){return function h(b){if(b===Function)return c;nu(n.componentOffset>-1?B(n.index,i):i);let N=sy(i,s,c,b),Q=h.__ngNextListenerFn__;for(;Q;)N=sy(i,s,Q,b)&&N,Q=Q.__ngNextListenerFn__;return l&&!1===N&&b.preventDefault(),N}}function $m(n=1){return function hn(n){return(Gn.lFrame.contextLView=function wn(n,i){for(;n>0;)i=i[Rr],n--;return i}(n,Gn.lFrame.contextLView))[Mi]}(n)}function cy(n,i){let s=null;const c=function jr(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let l=0;l<i.length;l++){const h=i[l];if("*"!==h){if(null===c?Ar(n,h,!0):$o(c,h))return l}else s=l}return s}function Sh(n){const i=In()[Zi][hr];if(!i.projection){const c=i.projection=qa(n?n.length:1,null),l=c.slice();let h=i.child;for(;null!==h;){const b=n?cy(h,n):0;null!==b&&(l[b]?l[b].projectionNext=h:c[b]=h,l[b]=h),h=h.next}}}function _v(n,i=0,s){const c=In(),l=or(),h=Fl(l,Ui+n,16,null,s||null);null===h.projection&&(h.projection=i),Is(),(!c[ir]||cs())&&32!=(32&h.flags)&&function t_(n,i,s){n_(i[li],0,i,s,bf(n,s,i),e_(s.parent||i[hr],s,i))}(l,c,h)}function hg(n,i,s){return xu(n,"",i,"",s),hg}function xu(n,i,s,c,l){const h=In(),b=bd(h,i,s,c);return b!==Yi&&ja(or(),x(),h,n,b,h[li],l,!1),xu}function kh(n,i){return n<<17|i<<2}function sl(n){return n>>17&32767}function Eu(n){return 2|n}function Md(n){return(131068&n)>>2}function Ev(n,i){return-131069&n|i<<2}function _g(n){return 1|n}function Cu(n,i,s,c,l){const h=n[s+1],b=null===i;let M=c?sl(h):Md(h),N=!1;for(;0!==M&&(!1===N||b);){const _e=n[M+1];Ul(n[M],i)&&(N=!0,n[M+1]=c?_g(_e):Eu(_e)),M=c?sl(_e):Md(_e)}N&&(n[s+1]=c?Eu(h):_g(h))}function Ul(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ie(n,i)>=0}function jl(n,i,s){return vc(n,i,s,!1),jl}function Oh(n,i){return vc(n,i,null,!0),Oh}function vc(n,i,s,c){const l=In(),h=or(),b=function Pi(n){const i=Gn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);h.firstUpdatePass&&function py(n,i,s,c){const l=n.data;if(null===l[s+1]){const h=l[jn()],b=function fy(n,i){return i>=n.expandoStartIndex}(n,s);(function Ov(n,i){return 0!=(n.flags&(i?8:16))})(h,c)&&null===i&&!b&&(i=!1),i=function M0(n,i,s,c){const l=cc(n);let h=c?i.residualClasses:i.residualStyles;if(null===l)0===(c?i.classBindings:i.styleBindings)&&(s=Gm(s=yg(null,n,i,s,c),i.attrs,c),h=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==l)if(s=yg(l,n,i,s,c),null===h){let N=function S0(n,i,s){const c=s?i.classBindings:i.styleBindings;if(0!==Md(c))return n[sl(c)]}(n,i,c);void 0!==N&&Array.isArray(N)&&(N=yg(null,n,i,N[1],c),N=Gm(N,i.attrs,c),function gy(n,i,s,c){n[sl(s?i.classBindings:i.styleBindings)]=c}(n,i,c,N))}else h=function _y(n,i,s){let c;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)c=Gm(c,n[h].hostAttrs,s);return Gm(c,i.attrs,s)}(n,i,c)}return void 0!==h&&(c?i.residualClasses=h:i.residualStyles=h),s}(l,h,i,c),function Sd(n,i,s,c,l,h){let b=h?i.classBindings:i.styleBindings,M=sl(b),N=Md(b);n[c]=s;let _e,Q=!1;if(Array.isArray(s)?(_e=s[1],(null===_e||ie(s,_e)>0)&&(Q=!0)):_e=s,l)if(0!==N){const Ot=sl(n[M+1]);n[c+1]=kh(Ot,M),0!==Ot&&(n[Ot+1]=Ev(n[Ot+1],c)),n[M+1]=function gg(n,i){return 131071&n|i<<17}(n[M+1],c)}else n[c+1]=kh(M,0),0!==M&&(n[M+1]=Ev(n[M+1],c)),M=c;else n[c+1]=kh(N,0),0===M?M=c:n[N+1]=Ev(n[N+1],c),N=c;Q&&(n[c+1]=Eu(n[c+1])),Cu(n,_e,c,!0),Cu(n,_e,c,!1),function al(n,i,s,c,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&ie(h,i)>=0&&(s[c+1]=_g(s[c+1]))}(i,_e,n,c,h),b=kh(M,N),h?i.classBindings=b:i.styleBindings=b}(l,h,i,s,b,c)}}(h,n,b,c),i!==Yi&&_a(l,b,i)&&function Av(n,i,s,c,l,h,b,M){if(!(3&i.type))return;const N=n.data,Q=N[M+1],_e=function I0(n){return 1==(1&n)}(Q)?kv(N,i,s,l,Md(Q),b):void 0;Wm(_e)||(Wm(h)||function xv(n){return 2==(2&n)}(Q)&&(h=kv(N,null,s,l,M,b)),function ub(n,i,s,c,l){if(i)l?n.addClass(s,c):n.removeClass(s,c);else{let h=-1===c.indexOf("-")?void 0:ka.DashCase;null==l?n.removeStyle(s,c,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=ka.Important),n.setStyle(s,c,l,h))}}(c,b,Zs(jn(),s),l,h))}(h,h.data[jn()],l,l[li],n,l[b+1]=function yy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=fe(Xc(n)))),n}(i,s),c,b)}function yg(n,i,s,c,l){let h=null;const b=s.directiveEnd;let M=s.directiveStylingLast;for(-1===M?M=s.directiveStart:M++;M<b&&(h=i[M],c=Gm(c,h.hostAttrs,l),h!==n);)M++;return null!==n&&(s.directiveStylingLast=M),c}function Gm(n,i,s){const c=s?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const b=i[h];"number"==typeof b?l=b:l===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),k(n,b,!!s||i[++h]))}return void 0===n?null:n}function kv(n,i,s,c,l,h){const b=null===i;let M;for(;l>0;){const N=n[l],Q=Array.isArray(N),_e=Q?N[1]:N,$e=null===_e;let Ot=s[l+1];Ot===Yi&&(Ot=$e?Y:void 0);let Kt=$e?L(Ot,c):_e===c?Ot:void 0;if(Q&&!Wm(Kt)&&(Kt=L(N,c)),Wm(Kt)&&(M=Kt,b))return M;const Tn=n[l+1];l=b?sl(Tn):Md(Tn)}if(null!==i){let N=h?i.residualClasses:i.residualStyles;null!=N&&(M=L(N,c))}return M}function Wm(n){return void 0!==n}function Rv(n,i=""){const s=In(),c=or(),l=n+Ui,h=c.firstCreatePass?Fl(c,l,1,i,null):c.data[l],b=wy(c,s,h,i,n);s[l]=b,Dt()&&Dl(c,s,b,h),Sn(h,!1)}let wy=(n,i,s,c,l)=>(Cn(!0),function td(n,i){return n.createText(i)}(i[li],c));function xg(n){return Km("",n,""),xg}function Km(n,i,s){const c=In(),l=bd(c,n,i,s);return l!==Yi&&function gc(n,i,s){const c=Zs(i,n);!function ff(n,i,s){n.setValue(i,s)}(n[li],c,s)}(c,jn(),l),Km}function Fh(n,i,s){const c=In();return _a(c,En(),i)&&ja(or(),x(),c,n,i,c[li],s,!0),Fh}function Mu(n,i,s){const c=In();if(_a(c,En(),i)){const h=or(),b=x();ja(h,b,c,n,i,q_(cc(h.data),b,c),s,!0)}return Mu}const zl=void 0;var Sg=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cy(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Su={};function Qm(n){const i=function My(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Ag(i);if(s)return s;const c=i.split("-")[0];if(s=Ag(c),s)return s;if("en"===c)return Sg;throw new he(701,!1)}function Zv(n){return Qm(n)[Ni.PluralCase]}function Ag(n){return n in Su||(Su[n]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[n]),Su[n]}var Ni=(()=>((Ni=Ni||{})[Ni.LocaleId=0]="LocaleId",Ni[Ni.DayPeriodsFormat=1]="DayPeriodsFormat",Ni[Ni.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ni[Ni.DaysFormat=3]="DaysFormat",Ni[Ni.DaysStandalone=4]="DaysStandalone",Ni[Ni.MonthsFormat=5]="MonthsFormat",Ni[Ni.MonthsStandalone=6]="MonthsStandalone",Ni[Ni.Eras=7]="Eras",Ni[Ni.FirstDayOfWeek=8]="FirstDayOfWeek",Ni[Ni.WeekendRange=9]="WeekendRange",Ni[Ni.DateFormat=10]="DateFormat",Ni[Ni.TimeFormat=11]="TimeFormat",Ni[Ni.DateTimeFormat=12]="DateTimeFormat",Ni[Ni.NumberSymbols=13]="NumberSymbols",Ni[Ni.NumberFormats=14]="NumberFormats",Ni[Ni.CurrencyCode=15]="CurrencyCode",Ni[Ni.CurrencySymbol=16]="CurrencySymbol",Ni[Ni.CurrencyName=17]="CurrencyName",Ni[Ni.Currencies=18]="Currencies",Ni[Ni.Directionality=19]="Directionality",Ni[Ni.PluralCase=20]="PluralCase",Ni[Ni.ExtraData=21]="ExtraData",Ni))();const Au="en-US";let u=Au;function ky(n,i,s,c,l){if(n=Qe(n),Array.isArray(n))for(let h=0;h<n.length;h++)ky(n[h],i,s,c,l);else{const h=or(),b=In();let M=ec(n)?n:Qe(n.provide),N=x_(n);const Q=Yr(),_e=1048575&Q.providerIndexes,$e=Q.directiveStart,Ot=Q.providerIndexes>>20;if(ec(n)||!n.multi){const Kt=new us(N,l,Pl),Tn=Ry(M,i,l?_e:_e+Ot,$e);-1===Tn?(La(ml(Q,b),h,M),Oy(h,n,i.length),i.push(M),Q.directiveStart++,Q.directiveEnd++,l&&(Q.providerIndexes+=1048576),s.push(Kt),b.push(Kt)):(s[Tn]=Kt,b[Tn]=Kt)}else{const Kt=Ry(M,i,_e+Ot,$e),Tn=Ry(M,i,_e,_e+Ot),ti=Tn>=0&&s[Tn];if(l&&!ti||!l&&!(Kt>=0&&s[Kt])){La(ml(Q,b),h,M);const Ii=function EE(n,i,s,c,l){const h=new us(n,s,Pl);return h.multi=[],h.index=i,h.componentProviders=0,K0(h,l,c&&!s),h}(l?xE:wE,s.length,l,c,N);!l&&ti&&(s[Tn].providerFactory=Ii),Oy(h,n,i.length,0),i.push(M),Q.directiveStart++,Q.directiveEnd++,l&&(Q.providerIndexes+=1048576),s.push(Ii),b.push(Ii)}else Oy(h,n,Kt>-1?Kt:Tn,K0(s[l?Tn:Kt],N,!l&&c));!l&&c&&ti&&s[Tn].componentProviders++}}}function Oy(n,i,s,c){const l=ec(i),h=function y_(n){return!!n.useClass}(i);if(l||h){const N=(h?Qe(i.useClass):i).prototype.ngOnDestroy;if(N){const Q=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const _e=Q.indexOf(s);-1===_e?Q.push(s,[c,N]):Q[_e+1].push(c,N)}else Q.push(s,N)}}}function K0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Ry(n,i,s,c){for(let l=s;l<c;l++)if(i[l]===n)return l;return-1}function wE(n,i,s,c){return Py(this.multi,[])}function xE(n,i,s,c){const l=this.multi;let h;if(this.providerFactory){const b=this.providerFactory.componentProviders,M=Ga(s,s[ln],this.providerFactory.index,c);h=M.slice(0,b),Py(l,h);for(let N=b;N<M.length;N++)h.push(M[N])}else h=[],Py(l,h);return h}function Py(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function Z0(n,i=[]){return s=>{s.providersResolver=(c,l)=>function yE(n,i,s){const c=or();if(c.firstCreatePass){const l=Xi(n);ky(s,c.data,c.blueprint,l,!0),ky(i,c.data,c.blueprint,l,!1)}}(c,l?l(n):n,i)}}class Xm{}class Y0{}function CE(n,i){return new Fy(n,i??null,[])}class Fy extends Xm{constructor(i,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ev(this);const l=Or(i);this._bootstrapComponents=pc(l.bootstrap),this._r3Injector=lp(i,s,[{provide:Xm,useValue:this},{provide:hd,useValue:this.componentFactoryResolver},...c],fe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ny extends Y0{constructor(i){super(),this.moduleType=i}create(i){return new Fy(this.moduleType,i,[])}}class q0 extends Xm{constructor(i){super(),this.componentFactoryResolver=new ev(this),this.instance=null;const s=new Vf([...i.providers,{provide:Xm,useValue:this},{provide:hd,useValue:this.componentFactoryResolver}],i.parent||fc(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Q0(n,i,s=null){return new q0({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let IE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const c=Zd(0,s.type),l=c.length>0?Q0([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=zt({token:n,providedIn:"environment",factory:()=>new n(Se(kl))}),n})();function X0(n){n.getStandaloneInjector=i=>i.get(IE).getOrCreateStandaloneInjector(n)}function ow(n,i,s,c){return function aw(n,i,s,c,l,h){const b=i+s;return _a(n,b,l)?Nc(n,b+1,h?c.call(h,l):c(l)):Rg(n,b+1)}(In(),Ts(),n,i,s,c)}function sw(n,i,s,c,l){return cw(In(),Ts(),n,i,s,c,l)}function Rg(n,i){const s=n[i];return s===Yi?void 0:s}function cw(n,i,s,c,l,h,b){const M=i+s;return function Nl(n,i,s,c){const l=_a(n,i,s);return _a(n,i+1,c)||l}(n,M,l,h)?Nc(n,M+2,b?c.call(b,l,h):c(l,h)):Rg(n,M+2)}function hw(n,i){const s=or();let c;const l=n+Ui;s.firstCreatePass?(c=function zE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const c=i[s];if(n===c.name)return c}}(i,s.pipeRegistry),s.data[l]=c,c.onDestroy&&(s.destroyHooks??=[]).push(l,c.onDestroy)):c=s.data[l];const h=c.factory||(c.factory=ft(c.type)),b=an(Pl);try{const M=cr(!1),N=h();return cr(M),function ny(n,i,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=c}(s,In(),l,N),N}finally{an(b)}}function mw(n,i,s,c){const l=n+Ui,h=In(),b=J(h,l);return function Pg(n,i){return n[ln].data[i].pure}(h,l)?cw(h,Ts(),i,b.transform,s,c,b):b.transform(s,c)}function By(n){return i=>{setTimeout(n,void 0,i)}}const $l=class ZE extends d.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,c){let l=i,h=s||(()=>null),b=c;if(i&&"object"==typeof i){const N=i;l=N.next?.bind(N),h=N.error?.bind(N),b=N.complete?.bind(N)}this.__isAsync&&(h=By(h),l&&(l=By(l)),b&&(b=By(b)));const M=super.subscribe({next:l,error:h,complete:b});return i instanceof C.w0&&i.add(M),M}};function YE(){return this._results[Symbol.iterator]()}class Xv{get changes(){return this._changes||(this._changes=new $l)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Xv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=YE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const c=this;c.dirty=!1;const l=function oo(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Za(n,i,s){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let l=n[c],h=i[c];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(c._results,l,s))&&(c._results=l,c.length=l.length,c.last=l[this.length-1],c.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=XE,n})();const qE=Fg,QE=class extends qE{constructor(i,s,c){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,c){const l=this._declarationTContainer.tView,h=Em(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,s||null,c||null);h[Lo]=this._declarationLView[this._declarationTContainer.index];const M=this._declarationLView[ts];return null!==M&&(h[ts]=M.createEmbeddedView(l)),ph(l,h,i),new uu(h)}};function XE(){return Jv(Yr(),In())}function Jv(n,i){return 4&n.type?new QE(i,n,md(n,i)):null}let eb=(()=>{class n{}return n.__NG_ELEMENT_ID__=oC,n})();function oC(){return bw(Yr(),In())}const sC=eb,_w=class extends sC{constructor(i,s,c){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=c}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Wa(this._hostTNode,this._hostLView)}get parentInjector(){const i=Gl(this._hostTNode,this._hostLView);if(xr(i)){const s=mo(i,this._hostLView),c=Zo(i);return new Wa(s[ln].data[c+8],s)}return new Wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=vw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(i,s,c){let l,h;"number"==typeof c?l=c:null!=c&&(l=c.index,h=c.injector);const M=i.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(M,l,false),M}createComponent(i,s,c,l,h){const b=i&&!function Mc(n){return"function"==typeof n}(i);let M;if(b)M=s;else{const Fn=s||{};M=Fn.index,c=Fn.injector,l=Fn.projectableNodes,h=Fn.environmentInjector||Fn.ngModuleRef}const N=b?i:new vd(gi(i)),Q=c||this.parentInjector;if(!h&&null==N.ngModule){const ti=(b?Q:this.parentInjector).get(kl,null);ti&&(h=ti)}gi(N.componentType??{});const Kt=N.create(Q,l,null,h);return this.insertImpl(Kt.hostView,M,false),Kt}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,c){const l=i._lView,h=l[ln];if(function en(n){return br(n[si])}(l)){const N=this.indexOf(i);if(-1!==N)this.detach(N);else{const Q=l[si],_e=new _w(Q,Q[hr],Q[si]);_e.detach(_e.indexOf(i))}}const b=this._adjustIndex(s),M=this._lContainer;if(function Zg(n,i,s,c){const l=vr+c,h=s.length;c>0&&(s[l-1][xi]=i),c<h-vr?(i[xi]=s[l],Hs(s,vr+c,i)):(s.push(i),i[xi]=null),i[si]=s;const b=i[Lo];null!==b&&s!==b&&function Yg(n,i){const s=n[Fs];i[Zi]!==i[si][si][Zi]&&(n[Wo]=!0),null===s?n[Fs]=[i]:s.push(i)}(b,i);const M=i[ts];null!==M&&M.insertView(n),i[Nn]|=128}(h,l,M,b),!c){const N=Gh(b,M),Q=l[li],_e=nd(Q,M[Gr]);null!==_e&&function Kg(n,i,s,c,l,h){c[pn]=l,c[hr]=i,Gd(n,c,s,1,l,h)}(h,M[hr],Q,l,_e,N)}return i.attachToViewContainerRef(),Hs(Vy(M),b,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=vw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),c=Cl(this._lContainer,s);c&&(ra(Vy(this._lContainer),s),$h(c[ln],c))}detach(i){const s=this._adjustIndex(i,-1),c=Cl(this._lContainer,s);return c&&null!=ra(Vy(this._lContainer),s)?new uu(c):null}_adjustIndex(i,s=0){return i??this.length+s}};function vw(n){return n[is]}function Vy(n){return n[is]||(n[is]=[])}function bw(n,i){let s;const c=i[n.index];return br(c)?s=c:(s=Mp(c,i,null,n),i[n.index]=s,cu(i,s)),yw(s,i,n,c),new _w(s,n,i)}let yw=function ww(n,i,s,c){if(n[Gr])return;let l;l=8&s.type?rr(c):function aC(n,i){const s=n[li],c=s.createComment(""),l=Ri(i,n);return jo(s,nd(s,l),c,function Jg(n,i){return n.nextSibling(i)}(s,l),!1),c}(i,s),n[Gr]=l};class jy{constructor(i){this.queryList=i,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const c=null!==i.contentQueries?i.contentQueries[0]:s.length,l=[];for(let h=0;h<c;h++){const b=s.getByIndex(h);l.push(this.queries[b.indexInDeclarationView].clone())}return new Hy(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Aw(i,s).matches&&this.queries[s].setDirty()}}class xw{constructor(i,s,c=null){this.predicate=i,this.flags=s,this.read=c}}class zy{constructor(i=[]){this.queries=i}elementStart(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let c=0;c<this.length;c++){const l=null!==s?s.length:0,h=this.getByIndex(c).embeddedTView(i,l);h&&(h.indexInDeclarationView=c,null!==s?s.push(h):s=[h])}return null!==s?new zy(s):null}template(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class $y{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new $y(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let l=0;l<c.length;l++){const h=c[l];this.matchTNodeWithReadOption(i,s,dC(s,h)),this.matchTNodeWithReadOption(i,s,gl(s,i,h,!1,!1))}else c===Fg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,gl(s,i,c,!1,!1))}matchTNodeWithReadOption(i,s,c){if(null!==c){const l=this.metadata.read;if(null!==l)if(l===fd||l===eb||l===Fg&&4&s.type)this.addMatch(s.index,-2);else{const h=gl(s,i,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,c)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function dC(n,i){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===i)return s[c+1];return null}function hC(n,i,s,c){return-1===s?function uC(n,i){return 11&n.type?md(n,i):4&n.type?Jv(n,i):null}(i,n):-2===s?function mC(n,i,s){return s===fd?md(i,n):s===Fg?Jv(i,n):s===eb?bw(i,n):void 0}(n,i,c):Ga(n,n[ln],s,i)}function Ew(n,i,s,c){const l=i[ts].queries[c];if(null===l.matches){const h=n.data,b=s.matches,M=[];for(let N=0;N<b.length;N+=2){const Q=b[N];M.push(Q<0?null:hC(i,h[Q],b[N+1],s.metadata.read))}l.matches=M}return l.matches}function Gy(n,i,s,c){const l=n.queries.getByIndex(s),h=l.matches;if(null!==h){const b=Ew(n,i,l,s);for(let M=0;M<h.length;M+=2){const N=h[M];if(N>0)c.push(b[M/2]);else{const Q=h[M+1],_e=i[-N];for(let $e=vr;$e<_e.length;$e++){const Ot=_e[$e];Ot[Lo]===Ot[si]&&Gy(Ot[ln],Ot,Q,c)}if(null!==_e[Fs]){const $e=_e[Fs];for(let Ot=0;Ot<$e.length;Ot++){const Kt=$e[Ot];Gy(Kt[ln],Kt,Q,c)}}}}}return c}function Cw(n){const i=In(),s=or(),c=Fa();V(c+1);const l=Aw(s,c);if(n.dirty&&function pe(n){return 4==(4&n[Nn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?Gy(s,i,c,[]):Ew(s,i,l,c);n.reset(h,um),n.notifyOnChanges()}return!0}return!1}function Dw(n,i,s){const c=or();c.firstCreatePass&&(Sw(c,new xw(n,i,s),-1),2==(2&i)&&(c.staticViewQueries=!0)),Mw(c,In(),i)}function Iw(n,i,s,c){const l=or();if(l.firstCreatePass){const h=Yr();Sw(l,new xw(i,s,c),h.index),function pC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}Mw(l,In(),s)}function Tw(){return function fC(n,i){return n[ts].queries[i].queryList}(In(),Fa())}function Mw(n,i,s){const c=new Xv(4==(4&s));(function Bb(n,i,s,c){const l=Y_(i);l.push(s),n.firstCreatePass&&Tm(n).push(c,l.length-1)})(n,i,c,c.destroy),null===i[ts]&&(i[ts]=new Hy),i[ts].queries.push(new jy(c))}function Sw(n,i,s){null===n.queries&&(n.queries=new zy),n.queries.track(new $y(i,s))}function Aw(n,i){return n.queries.getByIndex(i)}function kw(n,i){return Jv(n,i)}function Wy(n){return!!Or(n)}const Zw=new lo("Application Initializer");let Qy=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=$t(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const l of this.appInits){const h=l();if(Mh(h))s.push(h);else if(wu(h)){const b=new Promise((M,N)=>{h.subscribe({complete:M,error:N})});s.push(b)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(l=>{this.reject(l)}),0===s.length&&c(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nb=new lo("LocaleId",{providedIn:"root",factory:()=>$t(nb,ut.Optional|ut.SkipSelf)||function NC(){return typeof $localize<"u"&&$localize.locale||Au}()}),LC=new lo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let qw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new m.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let UC=(()=>{class n{compileModuleSync(s){return new Ny(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),h=pc(Or(s).declarations).reduce((b,M)=>{const N=gi(M);return N&&b.push(new vd(N)),b},[]);return new BC(c,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HC=(()=>Promise.resolve(0))();function Xy(n){typeof Zone>"u"?HC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function Jw(...n){}class za{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $l(!1),this.onMicrotaskEmpty=new $l(!1),this.onStable=new $l(!1),this.onError=new $l(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!c&&s,l.shouldCoalesceRunChangeDetection=c,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function zC(){let n=Dn.requestAnimationFrame,i=Dn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function WC(n){const i=()=>{!function GC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Dn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Jy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,l,h,b,M)=>{try{return ex(n),s.invokeTask(l,h,b,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),tx(n)}},onInvoke:(s,c,l,h,b,M,N)=>{try{return ex(n),s.invoke(l,h,b,M,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),tx(n)}},onHasTask:(s,c,l,h)=>{s.hasTask(l,h),c===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,e0(n),Jy(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,c,l,h)=>(s.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!za.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(za.isInAngularZone())throw new he(909,!1)}run(i,s,c){return this._inner.run(i,s,c)}runTask(i,s,c,l){const h=this._inner,b=h.scheduleEventTask("NgZoneEvent: "+l,i,$C,Jw,Jw);try{return h.runTask(b,s,c)}finally{h.cancelTask(b)}}runGuarded(i,s,c){return this._inner.runGuarded(i,s,c)}runOutsideAngular(i){return this._outer.run(i)}}const $C={};function Jy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ex(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tx(n){n._nesting--,Jy(n)}class KC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $l,this.onMicrotaskEmpty=new $l,this.onStable=new $l,this.onError=new $l}run(i,s,c){return i.apply(s,c)}runGuarded(i,s,c){return i.apply(s,c)}runOutsideAngular(i){return i()}runTask(i,s,c,l){return i.apply(s,c)}}const nx=new lo("",{providedIn:"root",factory:ix});function ix(){const n=$t(za);let i=!0;const s=new ee.y(l=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{l.next(i),l.complete()})}),c=new ee.y(l=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{za.assertNotInAngularZone(),Xy(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,l.next(!0))})})});const b=n.onUnstable.subscribe(()=>{za.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),b.unsubscribe()}});return(0,Ee.T)(s,c.pipe((0,K.B)()))}const rx=new lo(""),ox=new lo("");let t0,ZC=(()=>{class n{constructor(s,c,l){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function YC(n){t0=n}(l),l.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{za.assertNotInAngularZone(),Xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,l){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==h),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,c,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(Se(za),Se(sx),Se(ox))},n.\u0275prov=zt({token:n,factory:n.\u0275fac}),n})(),sx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return t0?.findTestabilityInTree(this,s,c)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ou=null;const ax=new lo("AllowMultipleToken"),n0=new lo("PlatformDestroyListeners"),r0=new lo("appBootstrapListener");class XC{constructor(i,s){this.name=i,this.token=s}}function dx(n,i,s=[]){const c=`Platform: ${i}`,l=new lo(c);return(h=[])=>{let b=o0();if(!b||b.injector.get(ax,!1)){const M=[...s,...h,{provide:l,useValue:!0}];n?n(M):function JC(n){if(Ou&&!Ou.get(ax,!1))throw new he(400,!1);(function cx(){!function aa(n){vs=n}(()=>{throw new he(600,!1)})})(),Ou=n;const i=n.get(hx);(function lx(n){n.get(Qd,null)?.forEach(s=>s())})(n)}(function ux(n=[],i){return Rl.create({name:i,providers:[{provide:tl,useValue:"platform"},{provide:n0,useValue:new Set([()=>Ou=null])},...n]})}(M,c))}return function tD(n){const i=o0();if(!i)throw new he(401,!1);return i}()}}function o0(){return Ou?.get(hx)??null}let hx=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const l=function nD(n="zone.js",i){return"noop"===n?new KC:"zone.js"===n?new za(i):n}(c?.ngZone,function mx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return l.run(()=>{const h=function DE(n,i,s){return new Fy(n,i,s)}(s.moduleType,this.injector,function vx(n){return[{provide:za,useFactory:n},{provide:sd,multi:!0,useFactory:()=>{const i=$t(rD,{optional:!0});return()=>i.initialize()}},{provide:_x,useFactory:iD},{provide:nx,useFactory:ix}]}(()=>l)),b=h.injector.get(iu,null);return l.runOutsideAngular(()=>{const M=l.onError.subscribe({next:N=>{b.handleError(N)}});h.onDestroy(()=>{ib(this._modules,h),M.unsubscribe()})}),function fx(n,i,s){try{const c=s();return Mh(c)?c.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(b,l,()=>{const M=h.injector.get(Qy);return M.runInitializers(),M.donePromise.then(()=>(function p(n){Rt(n,"Expected localeId to be defined"),"string"==typeof n&&(u=n.toLowerCase().replace(/_/g,"-"))}(h.injector.get(nb,Au)||Au),this._moduleDoBootstrap(h),h))})})}bootstrapModule(s,c=[]){const l=px({},c);return function qC(n,i,s){const c=new Ny(s);return Promise.resolve(c)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const c=s.injector.get(tf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>c.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new he(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(n0,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Se(Rl))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function px(n,i){return Array.isArray(i)?i.reduce(px,n):{...n,...i}}let tf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(_x),this.zoneIsStable=$t(nx),this.componentTypes=[],this.components=[],this.isStable=$t(qw).hasPendingTasks.pipe((0,ve.w)(s=>s?(0,re.of)(!1):this.zoneIsStable),(0,De.x)(),(0,K.B)()),this._injector=$t(kl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const l=s instanceof Qf;if(!this._injector.get(Qy).done)throw!l&&zr(s),new he(405,!1);let b;b=l?s:this._injector.get(hd).resolveComponentFactory(s),this.componentTypes.push(b.componentType);const M=function QC(n){return n.isBoundToModule}(b)?void 0:this._injector.get(Xm),Q=b.create(Rl.NULL,[],c||b.selector,M),_e=Q.location.nativeElement,$e=Q.injector.get(rx,null);return $e?.registerApplication(_e),Q.onDestroy(()=>{this.detachView(Q.hostView),ib(this.components,Q),$e?.unregisterApplication(_e)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;ib(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(r0,[]);c.push(...this._bootstrapListeners),c.forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ib(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new he(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ib(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const _x=new lo("",{providedIn:"root",factory:()=>$t(iu).handleError.bind(void 0)});function iD(){const n=$t(za),i=$t(iu);return s=>n.runOutsideAngular(()=>i.handleError(s))}let rD=(()=>{class n{constructor(){this.zone=$t(za),this.applicationRef=$t(tf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sD(){return!1}let aD=(()=>{class n{}return n.__NG_ELEMENT_ID__=cD,n})();function cD(n){return function lD(n,i,s){if(Mr(n)&&!s){const c=B(n.index,i);return new uu(c,c)}return 47&n.type?new uu(i[Zi],i):null}(Yr(),In(),16==(16&n))}class xx{constructor(){}supports(i){return bh(i)}create(i){return new pD(i)}}const fD=(n,i)=>i;class pD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||fD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,c=this._removalsHead,l=0,h=null;for(;s||c;){const b=!c||s&&s.currentIndex<Cx(c,l,h)?s:c,M=Cx(b,l,h),N=b.currentIndex;if(b===c)l--,c=c._nextRemoved;else if(s=s._next,null==b.previousIndex)l++;else{h||(h=[]);const Q=M-l,_e=N-l;if(Q!=_e){for(let Ot=0;Ot<Q;Ot++){const Kt=Ot<h.length?h[Ot]:h[Ot]=0,Tn=Kt+Ot;_e<=Tn&&Tn<Q&&(h[Ot]=Kt+1)}h[b.previousIndex]=_e-Q}}M!==N&&i(b,M,N)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!bh(i))throw new he(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,b,s=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let M=0;M<this.length;M++)h=i[M],b=this._trackByFn(M,h),null!==s&&Object.is(s.trackById,b)?(c&&(s=this._verifyReinsertion(s,h,b,M)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,b,M),c=!0),s=s._next}else l=0,function Zp(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)i(c.value)}}(i,M=>{b=this._trackByFn(l,M),null!==s&&Object.is(s.trackById,b)?(c&&(s=this._verifyReinsertion(s,M,b,l)),Object.is(s.item,M)||this._addIdentityChange(s,M)):(s=this._mismatch(s,M,b,l),c=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,c,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,l))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,l)):i=this._addAfter(new gD(s,c),h,l),i}_verifyReinsertion(i,s,c,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,s,c),this._addToMoves(i,c),i}_moveAfter(i,s,c){return this._unlink(i),this._insertAfter(i,s,c),this._addToMoves(i,c),i}_addAfter(i,s,c){return this._insertAfter(i,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,c){const l=null===s?this._itHead:s._next;return i._next=l,i._prev=s,null===l?this._itTail=i:l._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ex),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,c=i._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ex),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class gD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _D{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const s=i._prevDup,c=i._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class Ex{constructor(){this.map=new Map}put(i){const s=i.trackById;let c=this.map.get(s);c||(c=new _D,this.map.set(s,c)),c.add(i)}get(i,s){const l=this.map.get(i);return l?l.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cx(n,i,s){const c=n.previousIndex;if(null===c)return c;let l=0;return s&&c<s.length&&(l=s[c]),c+i+l}class Dx{constructor(){}supports(i){return i instanceof Map||Yp(i)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Yp(i)))throw new he(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,c);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const c=i._prev;return s._next=i,s._prev=c,i._prev=s,c&&(c._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,s);const h=l._prev,b=l._next;return h&&(h._next=b),b&&(b._prev=h),l._next=null,l._prev=null,l}const c=new bD(i);return this._records.set(i,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(c=>s(i[c],c))}}class bD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ix(){return new d0([new xx])}let d0=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(null!=c){const l=c.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Ix()),deps:[[n,new zs,new Qa]]}}find(s){const c=this.factories.find(l=>l.supports(s));if(null!=c)return c;throw new he(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:Ix}),n})();function Tx(){return new u0([new Dx])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(c){const l=c.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Tx()),deps:[[n,new zs,new Qa]]}}find(s){const c=this.factories.find(l=>l.supports(s));if(c)return c;throw new he(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:Tx}),n})();const xD=dx(null,"core",[]);let ED=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Se(tf))},n.\u0275mod=Go({type:n}),n.\u0275inj=At({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PD(n){const i=gi(n);if(!i)return null;const s=new vd(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone}}}},9401:(vn,it,E)=>{E.d(it,{Fj:()=>Ve,JJ:()=>bn,JL:()=>mn,JU:()=>ve,NI:()=>eo,UX:()=>yo,_Y:()=>Ir,cw:()=>ce,kI:()=>wt,sg:()=>Nr,u:()=>To,x0:()=>$i});var d=E(2223),C=E(4755),m=E(8996),ee=E(4128),Ee=E(4004);let re=(()=>{class W{constructor(v,D){this._renderer=v,this._elementRef=D,this.onChange=ne=>{},this.onTouched=()=>{}}setProperty(v,D){this._renderer.setProperty(this._elementRef.nativeElement,v,D)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(d.Qsj),d.Y36(d.SBq))},W.\u0275dir=d.lG2({type:W}),W})(),K=(()=>{class W extends re{}return W.\u0275fac=function(){let H;return function(D){return(H||(H=d.n5z(W)))(D||W)}}(),W.\u0275dir=d.lG2({type:W,features:[d.qOj]}),W})();const ve=new d.OlP("NgValueAccessor"),ue={provide:ve,useExisting:(0,d.Gpc)(()=>Ve),multi:!0},et=new d.OlP("CompositionEventMode");let Ve=(()=>{class W extends re{constructor(v,D,ne){super(v,D),this._compositionMode=ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fe(){const W=(0,C.q)()?(0,C.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(v){this.setProperty("value",v??"")}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(et,8))},W.\u0275dir=d.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,D){1&v&&d.NdJ("input",function(Me){return D._handleInput(Me.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(Me){return D._compositionEnd(Me.target.value)})},features:[d._Bn([ue]),d.qOj]}),W})();function lt(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function Qe(W){return null!=W&&"number"==typeof W.length}const Je=new d.OlP("NgValidators"),Ue=new d.OlP("NgAsyncValidators"),ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wt{static min(H){return function he(W){return H=>{if(lt(H.value)||lt(W))return null;const v=parseFloat(H.value);return!isNaN(v)&&v<W?{min:{min:W,actual:H.value}}:null}}(H)}static max(H){return function Ce(W){return H=>{if(lt(H.value)||lt(W))return null;const v=parseFloat(H.value);return!isNaN(v)&&v>W?{max:{max:W,actual:H.value}}:null}}(H)}static required(H){return function ge(W){return lt(W.value)?{required:!0}:null}(H)}static requiredTrue(H){return function Ae(W){return!0===W.value?null:{required:!0}}(H)}static email(H){return function Ge(W){return lt(W.value)||ke.test(W.value)?null:{email:!0}}(H)}static minLength(H){return function Z(W){return H=>lt(H.value)||!Qe(H.value)?null:H.value.length<W?{minlength:{requiredLength:W,actualLength:H.value.length}}:null}(H)}static maxLength(H){return function Ke(W){return H=>Qe(H.value)&&H.value.length>W?{maxlength:{requiredLength:W,actualLength:H.value.length}}:null}(H)}static pattern(H){return function Le(W){if(!W)return Ze;let H,v;return"string"==typeof W?(v="","^"!==W.charAt(0)&&(v+="^"),v+=W,"$"!==W.charAt(W.length-1)&&(v+="$"),H=new RegExp(v)):(v=W.toString(),H=W),D=>{if(lt(D.value))return null;const ne=D.value;return H.test(ne)?null:{pattern:{requiredPattern:v,actualValue:ne}}}}(H)}static nullValidator(H){return null}static compose(H){return Vt(H)}static composeAsync(H){return Qt(H)}}function Ze(W){return null}function xt(W){return null!=W}function yn(W){return(0,d.QGY)(W)?(0,m.D)(W):W}function Rn(W){let H={};return W.forEach(v=>{H=null!=v?{...H,...v}:H}),0===Object.keys(H).length?null:H}function _t(W,H){return H.map(v=>v(W))}function Lt(W){return W.map(H=>function gt(W){return!W.validate}(H)?H:v=>H.validate(v))}function Vt(W){if(!W)return null;const H=W.filter(xt);return 0==H.length?null:function(v){return Rn(_t(v,H))}}function Jt(W){return null!=W?Vt(Lt(W)):null}function Qt(W){if(!W)return null;const H=W.filter(xt);return 0==H.length?null:function(v){const D=_t(v,H).map(yn);return(0,ee.D)(D).pipe((0,Ee.U)(Rn))}}function un(W){return null!=W?Qt(Lt(W)):null}function _n(W,H){return null===W?[H]:Array.isArray(W)?[...W,H]:[W,H]}function on(W){return W._rawValidators}function Rt(W){return W._rawAsyncValidators}function Ye(W){return W?Array.isArray(W)?W:[W]:[]}function tt(W,H){return Array.isArray(W)?W.includes(H):W===H}function Nt(W,H){const v=Ye(H);return Ye(W).forEach(ne=>{tt(v,ne)||v.push(ne)}),v}function Et(W,H){return Ye(H).filter(v=>!tt(W,v))}class zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(H){this._rawValidators=H||[],this._composedValidatorFn=Jt(this._rawValidators)}_setAsyncValidators(H){this._rawAsyncValidators=H||[],this._composedAsyncValidatorFn=un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(H){this._onDestroyCallbacks.push(H)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(H=>H()),this._onDestroyCallbacks=[]}reset(H=void 0){this.control&&this.control.reset(H)}hasError(H,v){return!!this.control&&this.control.hasError(H,v)}getError(H,v){return this.control?this.control.getError(H,v):null}}class St extends zt{get formDirective(){return null}get path(){return null}}class At extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dt{constructor(H){this._cd=H}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bn=(()=>{class W extends dt{constructor(v){super(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(At,2))},W.\u0275dir=d.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,D){2&v&&d.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)},features:[d.qOj]}),W})(),mn=(()=>{class W extends dt{constructor(v){super(v)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(St,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(v,D){2&v&&d.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)("ng-submitted",D.isSubmitted)},features:[d.qOj]}),W})();const fi="VALID",ei="INVALID",yi="PENDING",qt="DISABLED";function nt(W){return(Se(W)?W.validators:W)||null}function He(W,H){return(Se(H)?H.asyncValidators:W)||null}function Se(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class Re{constructor(H,v){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(H),this._assignAsyncValidators(v)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===fi}get invalid(){return this.status===ei}get pending(){return this.status==yi}get disabled(){return this.status===qt}get enabled(){return this.status!==qt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._assignValidators(H)}setAsyncValidators(H){this._assignAsyncValidators(H)}addValidators(H){this.setValidators(Nt(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(Nt(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(Et(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(Et(H,this._rawAsyncValidators))}hasValidator(H){return tt(this._rawValidators,H)}hasAsyncValidator(H){return tt(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=yi,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const v=this._parentMarkedDirty(H.onlySelf);this.status=qt,this.errors=null,this._forEachChild(D=>{D.disable({...H,onlySelf:!0})}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...H,skipPristineCheck:v}),this._onDisabledChange.forEach(D=>D(!0))}enable(H={}){const v=this._parentMarkedDirty(H.onlySelf);this.status=fi,this._forEachChild(D=>{D.enable({...H,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors({...H,skipPristineCheck:v}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}getRawValue(){return this.value}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fi||this.status===yi)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qt:fi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=yi,this._hasOwnPendingAsyncValidator=!0;const v=yn(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,v={}){this.errors=H,this._updateControlsErrors(!1!==v.emitEvent)}get(H){let v=H;return null==v||(Array.isArray(v)||(v=v.split(".")),0===v.length)?null:v.reduce((D,ne)=>D&&D._find(ne),this)}getError(H,v){const D=v?this.get(v):this;return D&&D.errors?D.errors[H]:null}hasError(H,v){return!!this.getError(H,v)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?qt:this.errors?ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yi)?yi:this._anyControlsHaveStatus(ei)?ei:fi}_anyControlsHaveStatus(H){return this._anyControls(v=>v.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){Se(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(H){return null}_assignValidators(H){this._rawValidators=Array.isArray(H)?H.slice():H,this._composedValidatorFn=function ct(W){return Array.isArray(W)?Jt(W):W||null}(this._rawValidators)}_assignAsyncValidators(H){this._rawAsyncValidators=Array.isArray(H)?H.slice():H,this._composedAsyncValidatorFn=function Fe(W){return Array.isArray(W)?un(W):W||null}(this._rawAsyncValidators)}}class ce extends Re{constructor(H,v,D){super(nt(v),He(D,v)),this.controls=H,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,v){return this.controls[H]?this.controls[H]:(this.controls[H]=v,v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange),v)}addControl(H,v,D={}){this.registerControl(H,v),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(H,v={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}setControl(H,v,D={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],v&&this.registerControl(H,v),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,v={}){(function $t(W,H,v){W._forEachChild((D,ne)=>{if(void 0===v[ne])throw new d.vHH(1002,"")})})(this,0,H),Object.keys(H).forEach(D=>{(function Ct(W,H,v){const D=W.controls;if(!(H?Object.keys(D):D).length)throw new d.vHH(1e3,"");if(!D[v])throw new d.vHH(1001,"")})(this,!0,D),this.controls[D].setValue(H[D],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(H,v={}){null!=H&&(Object.keys(H).forEach(D=>{const ne=this.controls[D];ne&&ne.patchValue(H[D],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(H={},v={}){this._forEachChild((D,ne)=>{D.reset(H[ne],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this._reduceChildren({},(H,v,D)=>(H[D]=v.getRawValue(),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(v,D)=>!!D._syncPendingControls()||v);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){Object.keys(this.controls).forEach(v=>{const D=this.controls[v];D&&H(D,v)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const[v,D]of Object.entries(this.controls))if(this.contains(v)&&H(D))return!0;return!1}_reduceValue(){return this._reduceChildren({},(v,D,ne)=>((D.enabled||this.disabled)&&(v[ne]=D.value),v))}_reduceChildren(H,v){let D=H;return this._forEachChild((ne,Me)=>{D=v(D,ne,Me)}),D}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(H){return this.controls.hasOwnProperty(H)?this.controls[H]:null}}const ae=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xe}),xe="always";function Oe(W,H){return[...H.path,W]}function Pe(W,H,v=xe){Bt(W,H),H.valueAccessor.writeValue(W.value),(W.disabled||"always"===v)&&H.valueAccessor.setDisabledState?.(W.disabled),function ri(W,H){H.valueAccessor.registerOnChange(v=>{W._pendingValue=v,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Tt(W,H)})}(W,H),function xn(W,H){const v=(D,ne)=>{H.valueAccessor.writeValue(D),ne&&H.viewToModelUpdate(D)};W.registerOnChange(v),H._registerOnDestroy(()=>{W._unregisterOnChange(v)})}(W,H),function Ft(W,H){H.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Tt(W,H),"submit"!==W.updateOn&&W.markAsTouched()})}(W,H),function vt(W,H){if(H.valueAccessor.setDisabledState){const v=D=>{H.valueAccessor.setDisabledState(D)};W.registerOnDisabledChange(v),H._registerOnDestroy(()=>{W._unregisterOnDisabledChange(v)})}}(W,H)}function Y(W,H,v=!0){const D=()=>{};H.valueAccessor&&(H.valueAccessor.registerOnChange(D),H.valueAccessor.registerOnTouched(D)),qn(W,H),W&&(H._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function we(W,H){W.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(H)})}function Bt(W,H){const v=on(W);null!==H.validator?W.setValidators(_n(v,H.validator)):"function"==typeof v&&W.setValidators([v]);const D=Rt(W);null!==H.asyncValidator?W.setAsyncValidators(_n(D,H.asyncValidator)):"function"==typeof D&&W.setAsyncValidators([D]);const ne=()=>W.updateValueAndValidity();we(H._rawValidators,ne),we(H._rawAsyncValidators,ne)}function qn(W,H){let v=!1;if(null!==W){if(null!==H.validator){const ne=on(W);if(Array.isArray(ne)&&ne.length>0){const Me=ne.filter(ft=>ft!==H.validator);Me.length!==ne.length&&(v=!0,W.setValidators(Me))}}if(null!==H.asyncValidator){const ne=Rt(W);if(Array.isArray(ne)&&ne.length>0){const Me=ne.filter(ft=>ft!==H.asyncValidator);Me.length!==ne.length&&(v=!0,W.setAsyncValidators(Me))}}}const D=()=>{};return we(H._rawValidators,D),we(H._rawAsyncValidators,D),v}function Tt(W,H){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function $o(W,H){const v=W.indexOf(H);v>-1&&W.splice(v,1)}function fo(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const eo=class extends Re{constructor(H=null,v,D){super(nt(v),He(D,v)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(H),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Se(v)&&(v.nonNullable||v.initialValueIsDefault)&&(this.defaultValue=fo(H)?H.value:H)}setValue(H,v={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(H,v={}){this.setValue(H,v)}reset(H=this.defaultValue,v={}){this._applyFormState(H),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){$o(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){$o(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){fo(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}};let to=(()=>{class W extends St{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Oe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return W.\u0275fac=function(){let H;return function(D){return(H||(H=d.n5z(W)))(D||W)}}(),W.\u0275dir=d.lG2({type:W,features:[d.qOj]}),W})(),Ir=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275dir=d.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),bt=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})();const ln=new d.OlP("NgModelWithFormControlWarning"),xi={provide:St,useExisting:(0,d.Gpc)(()=>Nr)};let Nr=(()=>{class W extends St{constructor(v,D,ne){super(),this.callSetDisabledState=ne,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(v),this._setAsyncValidators(D)}ngOnChanges(v){this._checkFormPresent(),v.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(v){const D=this.form.get(v.path);return Pe(D,v,this.callSetDisabledState),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(v),D}getControl(v){return this.form.get(v.path)}removeControl(v){Y(v.control||null,v,!1),function Jr(W,H){const v=W.indexOf(H);v>-1&&W.splice(v,1)}(this.directives,v)}addFormGroup(v){this._setUpFormContainer(v)}removeFormGroup(v){this._cleanUpFormContainer(v)}getFormGroup(v){return this.form.get(v.path)}addFormArray(v){this._setUpFormContainer(v)}removeFormArray(v){this._cleanUpFormContainer(v)}getFormArray(v){return this.form.get(v.path)}updateModel(v,D){this.form.get(v.path).setValue(D)}onSubmit(v){return this.submitted=!0,function gs(W,H){W._syncPendingControls(),H.forEach(v=>{const D=v.control;"submit"===D.updateOn&&D._pendingChange&&(v.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(v),"dialog"===v?.target?.method}onReset(){this.resetForm()}resetForm(v=void 0){this.form.reset(v),this.submitted=!1}_updateDomValue(){this.directives.forEach(v=>{const D=v.control,ne=this.form.get(v.path);D!==ne&&(Y(D||null,v),(W=>W instanceof eo)(ne)&&(Pe(ne,v,this.callSetDisabledState),v.control=ne))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(v){const D=this.form.get(v.path);(function Xn(W,H){Bt(W,H)})(D,v),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(v){if(this.form){const D=this.form.get(v.path);D&&function Pn(W,H){return qn(W,H)}(D,v)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bt(this.form,this),this._oldForm&&qn(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(Je,10),d.Y36(Ue,10),d.Y36(ae,8))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(v,D){1&v&&d.NdJ("submit",function(Me){return D.onSubmit(Me)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([xi]),d.qOj,d.TTD]}),W})();const hr={provide:St,useExisting:(0,d.Gpc)(()=>$i)};let $i=(()=>{class W extends to{constructor(v,D,ne){super(),this.name=null,this._parent=v,this._setValidators(D),this._setAsyncValidators(ne)}_checkParentType(){$r(this._parent)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(St,13),d.Y36(Je,10),d.Y36(Ue,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d._Bn([hr]),d.qOj]}),W})();const Mi={provide:St,useExisting:(0,d.Gpc)(()=>Tr)};let Tr=(()=>{class W extends St{constructor(v,D,ne){super(),this.name=null,this._parent=v,this._setValidators(D),this._setAsyncValidators(ne)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Oe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$r(this._parent)}}return W.\u0275fac=function(v){return new(v||W)(d.Y36(St,13),d.Y36(Je,10),d.Y36(Ue,10))},W.\u0275dir=d.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d._Bn([Mi]),d.qOj]}),W})();function $r(W){return!(W instanceof $i||W instanceof Nr||W instanceof Tr)}const li={provide:At,useExisting:(0,d.Gpc)(()=>To)};let To=(()=>{class W extends At{set isDisabled(v){}constructor(v,D,ne,Me,ft){super(),this._ngModelWarningConfig=ft,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=v,this._setValidators(D),this._setAsyncValidators(ne),this.valueAccessor=function qi(W,H){if(!H)return null;let v,D,ne;return Array.isArray(H),H.forEach(Me=>{Me.constructor===Ve?v=Me:function bo(W){return Object.getPrototypeOf(W.constructor)===K}(Me)?D=Me:ne=Me}),ne||D||v||null}(0,Me)}ngOnChanges(v){this._added||this._setUpControl(),function uo(W,H){if(!W.hasOwnProperty("model"))return!1;const v=W.model;return!!v.isFirstChange()||!Object.is(H,v.currentValue)}(v,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}get path(){return Oe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(v){return new(v||W)(d.Y36(St,13),d.Y36(Je,10),d.Y36(Ue,10),d.Y36(ve,10),d.Y36(ln,8))},W.\u0275dir=d.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([li]),d.qOj,d.TTD]}),W})(),We=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({imports:[bt]}),W})(),yo=(()=>{class W{static withConfig(v){return{ngModule:W,providers:[{provide:ln,useValue:v.warnOnNgModelWithFormControl??"always"},{provide:ae,useValue:v.callSetDisabledState??xe}]}}}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({imports:[We]}),W})()},8410:(vn,it,E)=>{E.d(it,{_r:()=>Ue,ch:()=>ge,oL:()=>he});var d=E(3223),C=E(8023),m=E(2223),ee=E(1217),Ee=E(706),re=E(5537),K=E(9002),ve=E(4755),De=E(1591),oe=E(2840),ue=E(7579),fe=E(6451),et=E(9300),Ve=E(5698);function lt(Ae,Ge){}const Qe={bottomSheetState:(0,De.X$)("state",[(0,De.SB)("void, hidden",(0,De.oB)({transform:"translateY(100%)"})),(0,De.SB)("visible",(0,De.oB)({transform:"translateY(0%)"})),(0,De.eR)("visible => void, visible => hidden",(0,De.ru)([(0,De.jt)(`${ee.mZ.COMPLEX} ${ee.yN.ACCELERATION_CURVE}`),(0,De.IO)("@*",(0,De.pV)(),{optional:!0})])),(0,De.eR)("void => visible",(0,De.ru)([(0,De.jt)(`${ee.mZ.EXITING} ${ee.yN.DECELERATION_CURVE}`),(0,De.IO)("@*",(0,De.pV)(),{optional:!0})]))])};let Je=(()=>{class Ae extends d.LL{constructor(Z,Ke,Le,Ze,xt,yn,Rn,_t,gt,Lt){super(Z,Ke,Le,Ze,xt,yn,Rn,Lt),this._changeDetectorRef=gt,this._animationState="void",this._animationStateChanged=new m.vpe,this._breakpointSubscription=_t.observe([re.u3.Medium,re.u3.Large,re.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",_t.isMatched(re.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",_t.isMatched(re.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",_t.isMatched(re.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Z){"visible"===Z.toState&&this._trapFocus(),this._animationStateChanged.emit(Z)}_onAnimationStart(Z){this._animationStateChanged.emit(Z)}_captureInitialFocus(){}_toggleClass(Z,Ke){this._elementRef.nativeElement.classList.toggle(Z,Ke)}}return Ae.\u0275fac=function(Z){return new(Z||Ae)(m.Y36(m.SBq),m.Y36(Ee.qV),m.Y36(ve.K0,8),m.Y36(d.ib),m.Y36(Ee.ic),m.Y36(m.R0b),m.Y36(K.Iu),m.Y36(re.Yg),m.Y36(m.sBO),m.Y36(Ee.tE))},Ae.\u0275cmp=m.Xpm({type:Ae,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(Z,Ke){1&Z&&m.WFA("@state.start",function(Ze){return Ke._onAnimationStart(Ze)})("@state.done",function(Ze){return Ke._onAnimationDone(Ze)}),2&Z&&(m.uIk("role",Ke._config.role)("aria-modal",Ke._config.ariaModal)("aria-label",Ke._config.ariaLabel),m.d8E("@state",Ke._animationState))},features:[m.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Z,Ke){1&Z&&m.YNc(0,lt,0,0,"ng-template",0)},dependencies:[C.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Qe.bottomSheetState]}}),Ae})(),Ue=(()=>{class Ae{}return Ae.\u0275fac=function(Z){return new(Z||Ae)},Ae.\u0275mod=m.oAB({type:Ae}),Ae.\u0275inj=m.cJS({imports:[d.Su,ee.BQ,C.eL,ee.BQ]}),Ae})();const ke=new m.OlP("MatBottomSheetData");class wt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class he{get instance(){return this._ref.componentInstance}constructor(Ge,Z,Ke){this._ref=Ge,this._afterOpened=new ue.x,this.containerInstance=Ke,this.disableClose=Z.disableClose,Ke._animationStateChanged.pipe((0,et.h)(Le=>"done"===Le.phaseName&&"visible"===Le.toState),(0,Ve.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ke._animationStateChanged.pipe((0,et.h)(Le=>"done"===Le.phaseName&&"hidden"===Le.toState),(0,Ve.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),Ge.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,et.h)(Le=>Le.keyCode===oe.hY))).subscribe(Le=>{!this.disableClose&&("keydown"!==Le.type||!(0,oe.Vb)(Le))&&(Le.preventDefault(),this.dismiss())})}dismiss(Ge){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,et.h)(Z=>"start"===Z.phaseName),(0,Ve.q)(1)).subscribe(Z=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},Z.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=Ge,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Ce=new m.OlP("mat-bottom-sheet-default-options");let ge=(()=>{class Ae{get _openedBottomSheetRef(){const Z=this._parentBottomSheet;return Z?Z._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Z){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Z:this._bottomSheetRefAtThisLevel=Z}constructor(Z,Ke,Le,Ze){this._overlay=Z,this._parentBottomSheet=Le,this._defaultOptions=Ze,this._bottomSheetRefAtThisLevel=null,this._dialog=Ke.get(d.Vq)}open(Z,Ke){const Le={...this._defaultOptions||new wt,...Ke};let Ze;return this._dialog.open(Z,{...Le,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Je,scrollStrategy:Le.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:Ze}),providers:(xt,yn,Rn)=>(Ze=new he(xt,Le,Rn),[{provide:he,useValue:Ze},{provide:ke,useValue:Le.data}])}),Ze.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===Ze&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>Ze.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):Ze.containerInstance.enter(),this._openedBottomSheetRef=Ze,Ze}dismiss(Z){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Z)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return Ae.\u0275fac=function(Z){return new(Z||Ae)(m.LFG(K.aV),m.LFG(m.zs3),m.LFG(Ae,12),m.LFG(Ce,8))},Ae.\u0275prov=m.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:Ue}),Ae})()},1728:(vn,it,E)=>{E.d(it,{cs:()=>Jt,lW:()=>yn,ot:()=>Ye});var d=E(2966),C=E(2223),m=E(706),ee=E(1217),Ee=E(4755),re=E(1692);const K=["mat-button",""],ve=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],De=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],fe=["mat-fab",""],Ue={capture:!0},ke=["focus","click","mouseenter","touchstart"],wt="mat-button-ripple-uninitialized";let he=(()=>{class tt{constructor(){this._document=(0,C.f3M)(Ee.K0,{optional:!0}),this._animationMode=(0,C.f3M)(C.QbO,{optional:!0}),this._globalRippleOptions=(0,C.f3M)(ee.Y2,{optional:!0}),this._platform=(0,C.f3M)(d.t4),this._ngZone=(0,C.f3M)(C.R0b),this._onInteraction=Et=>{if(Et.target===this._document)return;const St=Et.target.closest(`[${wt}]`);St&&(St.removeAttribute(wt),this._appendRipple(St))},this._ngZone.runOutsideAngular(()=>{for(const Et of ke)this._document?.addEventListener(Et,this._onInteraction,Ue)})}ngOnDestroy(){for(const Et of ke)this._document?.removeEventListener(Et,this._onInteraction,Ue)}_appendRipple(Et){if(!this._document)return;const zt=this._document.createElement("span");zt.classList.add("mat-mdc-button-ripple");const St=new Ce(Et,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);St.rippleConfig.centered=Et.hasAttribute("mat-icon-button"),new ee.IR(St,this._ngZone,zt,this._platform).setupTriggerEvents(Et),Et.append(zt)}_createMatRipple(Et){if(!this._document)return;Et.querySelector(".mat-mdc-button-ripple")?.remove(),Et.removeAttribute(wt);const zt=this._document.createElement("span");zt.classList.add("mat-mdc-button-ripple");const St=new ee.wG(new C.SBq(zt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return St._isInitialized=!0,St.trigger=Et,Et.append(zt),St}}return tt.\u0275fac=function(Et){return new(Et||tt)},tt.\u0275prov=C.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();class Ce{constructor(Nt,Et,zt){this._button=Nt,this._globalRippleOptions=Et,this._setRippleConfig(Et,zt)}_setRippleConfig(Nt,Et){this.rippleConfig=Nt||{},"NoopAnimations"===Et&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Ge=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Z=(0,ee.pj)((0,ee.Id)((0,ee.Kr)(class{constructor(tt){this._elementRef=tt}})));let Ke=(()=>{class tt extends Z{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(Et){this._ripple=Et}constructor(Et,zt,St,At){super(Et),this._platform=zt,this._ngZone=St,this._animationMode=At,this._focusMonitor=(0,C.f3M)(m.tE),this._rippleLoader=(0,C.f3M)(he),this._isFab=!1;const dt=Et.nativeElement.classList;for(const ze of Ge)this._hasHostAttributes(ze.selector)&&ze.mdcClasses.forEach(Zt=>{dt.add(Zt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Et="program",zt){Et?this._focusMonitor.focusVia(this._elementRef.nativeElement,Et,zt):this._elementRef.nativeElement.focus(zt)}_hasHostAttributes(...Et){return Et.some(zt=>this._elementRef.nativeElement.hasAttribute(zt))}}return tt.\u0275fac=function(Et){C.$Z()},tt.\u0275dir=C.lG2({type:tt,features:[C.qOj,C.TTD]}),tt})(),yn=(()=>{class tt extends Ke{constructor(Et,zt,St,At){super(Et,zt,St,At)}}return tt.\u0275fac=function(Et){return new(Et||tt)(C.Y36(C.SBq),C.Y36(d.t4),C.Y36(C.R0b),C.Y36(C.QbO,8))},tt.\u0275cmp=C.Xpm({type:tt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Et,zt){2&Et&&(C.uIk("disabled",zt.disabled||null),C.ekj("_mat-animation-noopable","NoopAnimations"===zt._animationMode)("mat-unthemed",!zt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[C.qOj],attrs:K,ngContentSelectors:De,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Et,zt){1&Et&&(C.F$t(ve),C._UZ(0,"span",0),C.Hsn(1),C.TgZ(2,"span",1),C.Hsn(3,1),C.qZA(),C.Hsn(4,2),C._UZ(5,"span",2)(6,"span",3)),2&Et&&C.ekj("mdc-button__ripple",!zt._isFab)("mdc-fab__ripple",zt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),tt})();const _t=new C.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:gt});function gt(){return{color:"accent"}}const Lt=gt();let Jt=(()=>{class tt extends Ke{get extended(){return this._extended}set extended(Et){this._extended=(0,re.Ig)(Et)}constructor(Et,zt,St,At,dt){super(Et,zt,St,At),this._options=dt,this._isFab=!0,this._options=this._options||Lt,this.color=this.defaultColor=this._options.color||Lt.color}}return tt.\u0275fac=function(Et){return new(Et||tt)(C.Y36(C.SBq),C.Y36(d.t4),C.Y36(C.R0b),C.Y36(C.QbO,8),C.Y36(_t,8))},tt.\u0275cmp=C.Xpm({type:tt,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(Et,zt){2&Et&&(C.uIk("disabled",zt.disabled||null),C.ekj("_mat-animation-noopable","NoopAnimations"===zt._animationMode)("mat-unthemed",!zt.color)("mat-mdc-button-base",!0)("mdc-fab--extended",zt.extended)("mat-mdc-extended-fab",zt.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[C.qOj],attrs:fe,ngContentSelectors:De,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Et,zt){1&Et&&(C.F$t(ve),C._UZ(0,"span",0),C.Hsn(1),C.TgZ(2,"span",1),C.Hsn(3,1),C.qZA(),C.Hsn(4,2),C._UZ(5,"span",2)(6,"span",3)),2&Et&&C.ekj("mdc-button__ripple",!zt._isFab)("mdc-fab__ripple",zt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),tt})(),Ye=(()=>{class tt{}return tt.\u0275fac=function(Et){return new(Et||tt)},tt.\u0275mod=C.oAB({type:tt}),tt.\u0275inj=C.cJS({imports:[ee.BQ,ee.si,ee.BQ]}),tt})()},6012:(vn,it,E)=>{E.d(it,{$j:()=>Ve,G2:()=>Ue,QW:()=>Ge,a8:()=>oe,dk:()=>Qe,dn:()=>et,hq:()=>lt,n5:()=>ue});var d=E(2223),C=E(4755),m=E(1217);const ee=["*"],K=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ve=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],De=new d.OlP("MAT_CARD_CONFIG");let oe=(()=>{class Z{constructor(Le){this.appearance=Le?.appearance||"raised"}}return Z.\u0275fac=function(Le){return new(Le||Z)(d.Y36(De,8))},Z.\u0275cmp=d.Xpm({type:Z,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(Le,Ze){2&Le&&d.ekj("mat-mdc-card-outlined","outlined"===Ze.appearance)("mdc-card--outlined","outlined"===Ze.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ee,decls:1,vars:0,template:function(Le,Ze){1&Le&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),Z})(),ue=(()=>{class Z{}return Z.\u0275fac=function(Le){return new(Le||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),Z})(),et=(()=>{class Z{}return Z.\u0275fac=function(Le){return new(Le||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),Z})(),Ve=(()=>{class Z{}return Z.\u0275fac=function(Le){return new(Le||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),Z})(),lt=(()=>{class Z{constructor(){this.align="start"}}return Z.\u0275fac=function(Le){return new(Le||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(Le,Ze){2&Le&&d.ekj("mat-mdc-card-actions-align-end","end"===Ze.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),Z})(),Qe=(()=>{class Z{}return Z.\u0275fac=function(Le){return new(Le||Z)},Z.\u0275cmp=d.Xpm({type:Z,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:ve,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(Le,Ze){1&Le&&(d.F$t(K),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),Z})(),Ue=(()=>{class Z{}return Z.\u0275fac=function(Le){return new(Le||Z)},Z.\u0275dir=d.lG2({type:Z,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),Z})(),Ge=(()=>{class Z{}return Z.\u0275fac=function(Le){return new(Le||Z)},Z.\u0275mod=d.oAB({type:Z}),Z.\u0275inj=d.cJS({imports:[m.BQ,C.ez,m.BQ]}),Z})()},1217:(vn,it,E)=>{E.d(it,{yN:()=>Je,mZ:()=>Ue,Y2:()=>Ne,BQ:()=>he,Ng:()=>yi,us:()=>Yt,wG:()=>ht,si:()=>ut,IR:()=>Mt,pj:()=>Z,Kr:()=>Ke,Id:()=>Ge});var d=E(2223),C=E(706),m=E(8930),Ee=E(4755),re=E(2966),K=E(1692);let Je=(()=>{class qt{}return qt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",qt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",qt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",qt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",qt})(),Ue=(()=>{class qt{}return qt.COMPLEX="375ms",qt.ENTERING="225ms",qt.EXITING="195ms",qt})();const wt=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function ke(){return!0}});let he=(()=>{class qt{constructor(ct,He,Fe){this._sanityChecks=He,this._document=Fe,this._hasDoneGlobalChecks=!1,ct._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ct){return!(0,re.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ct])}}return qt.\u0275fac=function(ct){return new(ct||qt)(d.LFG(C.qm),d.LFG(wt,8),d.LFG(Ee.K0))},qt.\u0275mod=d.oAB({type:qt}),qt.\u0275inj=d.cJS({imports:[m.vT,m.vT]}),qt})();function Ge(qt){return class extends qt{get disabled(){return this._disabled}set disabled(nt){this._disabled=(0,K.Ig)(nt)}constructor(...nt){super(...nt),this._disabled=!1}}}function Z(qt,nt){return class extends qt{get color(){return this._color}set color(ct){const He=ct||this.defaultColor;He!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),He&&this._elementRef.nativeElement.classList.add(`mat-${He}`),this._color=He)}constructor(...ct){super(...ct),this.defaultColor=nt,this.color=nt}}}function Ke(qt){return class extends qt{get disableRipple(){return this._disableRipple}set disableRipple(nt){this._disableRipple=(0,K.Ig)(nt)}constructor(...nt){super(...nt),this._disableRipple=!1}}}class zt{constructor(nt,ct,He,Fe=!1){this._renderer=nt,this.element=ct,this.config=He,this._animationForciblyDisabledThroughCss=Fe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const St=(0,re.i$)({passive:!0,capture:!0});class At{constructor(){this._events=new Map,this._delegateEventHandler=nt=>{const ct=(0,re.sA)(nt);ct&&this._events.get(nt.type)?.forEach((He,Fe)=>{(Fe===ct||Fe.contains(ct))&&He.forEach(Se=>Se.handleEvent(nt))})}}addHandler(nt,ct,He,Fe){const Se=this._events.get(ct);if(Se){const Ct=Se.get(He);Ct?Ct.add(Fe):Se.set(He,new Set([Fe]))}else this._events.set(ct,new Map([[He,new Set([Fe])]])),nt.runOutsideAngular(()=>{document.addEventListener(ct,this._delegateEventHandler,St)})}removeHandler(nt,ct,He){const Fe=this._events.get(nt);if(!Fe)return;const Se=Fe.get(ct);Se&&(Se.delete(He),0===Se.size&&Fe.delete(ct),0===Fe.size&&(this._events.delete(nt),document.removeEventListener(nt,this._delegateEventHandler,St)))}}const dt={enterDuration:225,exitDuration:150},Zt=(0,re.i$)({passive:!0,capture:!0}),bn=["mousedown","touchstart"],mn=["mouseup","mouseleave","touchend","touchcancel"];class Mt{constructor(nt,ct,He,Fe){this._target=nt,this._ngZone=ct,this._platform=Fe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Fe.isBrowser&&(this._containerElement=(0,K.fI)(He))}fadeInRipple(nt,ct,He={}){const Fe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Se={...dt,...He.animation};He.centered&&(nt=Fe.left+Fe.width/2,ct=Fe.top+Fe.height/2);const Ct=He.radius||function de(qt,nt,ct){const He=Math.max(Math.abs(qt-ct.left),Math.abs(qt-ct.right)),Fe=Math.max(Math.abs(nt-ct.top),Math.abs(nt-ct.bottom));return Math.sqrt(He*He+Fe*Fe)}(nt,ct,Fe),$t=nt-Fe.left,Re=ct-Fe.top,ce=Se.enterDuration,z=document.createElement("div");z.classList.add("mat-ripple-element"),z.style.left=$t-Ct+"px",z.style.top=Re-Ct+"px",z.style.height=2*Ct+"px",z.style.width=2*Ct+"px",null!=He.color&&(z.style.backgroundColor=He.color),z.style.transitionDuration=`${ce}ms`,this._containerElement.appendChild(z);const U=window.getComputedStyle(z),le=U.transitionDuration,ae="none"===U.transitionProperty||"0s"===le||"0s, 0s"===le||0===Fe.width&&0===Fe.height,xe=new zt(this,z,He,ae);z.style.transform="scale3d(1, 1, 1)",xe.state=0,He.persistent||(this._mostRecentTransientRipple=xe);let Oe=null;return!ae&&(ce||Se.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pe=()=>this._finishRippleTransition(xe),Y=()=>this._destroyRipple(xe);z.addEventListener("transitionend",Pe),z.addEventListener("transitioncancel",Y),Oe={onTransitionEnd:Pe,onTransitionCancel:Y}}),this._activeRipples.set(xe,Oe),(ae||!ce)&&this._finishRippleTransition(xe),xe}fadeOutRipple(nt){if(2===nt.state||3===nt.state)return;const ct=nt.element,He={...dt,...nt.config.animation};ct.style.transitionDuration=`${He.exitDuration}ms`,ct.style.opacity="0",nt.state=2,(nt._animationForciblyDisabledThroughCss||!He.exitDuration)&&this._finishRippleTransition(nt)}fadeOutAll(){this._getActiveRipples().forEach(nt=>nt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(nt=>{nt.config.persistent||nt.fadeOut()})}setupTriggerEvents(nt){const ct=(0,K.fI)(nt);!this._platform.isBrowser||!ct||ct===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ct,bn.forEach(He=>{Mt._eventManager.addHandler(this._ngZone,He,ct,this)}))}handleEvent(nt){"mousedown"===nt.type?this._onMousedown(nt):"touchstart"===nt.type?this._onTouchStart(nt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{mn.forEach(ct=>{this._triggerElement.addEventListener(ct,this,Zt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(nt){0===nt.state?this._startFadeOutTransition(nt):2===nt.state&&this._destroyRipple(nt)}_startFadeOutTransition(nt){const ct=nt===this._mostRecentTransientRipple,{persistent:He}=nt.config;nt.state=1,!He&&(!ct||!this._isPointerDown)&&nt.fadeOut()}_destroyRipple(nt){const ct=this._activeRipples.get(nt)??null;this._activeRipples.delete(nt),this._activeRipples.size||(this._containerRect=null),nt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),nt.state=3,null!==ct&&(nt.element.removeEventListener("transitionend",ct.onTransitionEnd),nt.element.removeEventListener("transitioncancel",ct.onTransitionCancel)),nt.element.remove()}_onMousedown(nt){const ct=(0,C.X6)(nt),He=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ct&&!He&&(this._isPointerDown=!0,this.fadeInRipple(nt.clientX,nt.clientY,this._target.rippleConfig))}_onTouchStart(nt){if(!this._target.rippleDisabled&&!(0,C.yG)(nt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ct=nt.changedTouches;for(let He=0;He<ct.length;He++)this.fadeInRipple(ct[He].clientX,ct[He].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(nt=>{!nt.config.persistent&&(1===nt.state||nt.config.terminateOnPointerUp&&0===nt.state)&&nt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const nt=this._triggerElement;nt&&(bn.forEach(ct=>Mt._eventManager.removeHandler(ct,nt,this)),this._pointerUpEventsRegistered&&mn.forEach(ct=>nt.removeEventListener(ct,this,Zt)))}}Mt._eventManager=new At;const Ne=new d.OlP("mat-ripple-global-options");let ht=(()=>{class qt{get disabled(){return this._disabled}set disabled(ct){ct&&this.fadeOutAllNonPersistent(),this._disabled=ct,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ct){this._trigger=ct,this._setupTriggerEventsIfEnabled()}constructor(ct,He,Fe,Se,Ct){this._elementRef=ct,this._animationMode=Ct,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Se||{},this._rippleRenderer=new Mt(this,He,ct,Fe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ct,He=0,Fe){return"number"==typeof ct?this._rippleRenderer.fadeInRipple(ct,He,{...this.rippleConfig,...Fe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ct})}}return qt.\u0275fac=function(ct){return new(ct||qt)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(re.t4),d.Y36(Ne,8),d.Y36(d.QbO,8))},qt.\u0275dir=d.lG2({type:qt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ct,He){2&ct&&d.ekj("mat-ripple-unbounded",He.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),qt})(),ut=(()=>{class qt{}return qt.\u0275fac=function(ct){return new(ct||qt)},qt.\u0275mod=d.oAB({type:qt}),qt.\u0275inj=d.cJS({imports:[he,he]}),qt})(),Yt=(()=>{class qt{}return qt.\u0275fac=function(ct){return new(ct||qt)},qt.\u0275mod=d.oAB({type:qt}),qt.\u0275inj=d.cJS({imports:[he]}),qt})(),yi=(()=>{class qt{}return qt.\u0275fac=function(ct){return new(ct||qt)},qt.\u0275mod=d.oAB({type:qt}),qt.\u0275inj=d.cJS({imports:[ut,Ee.ez,he,Yt]}),qt})()},6286:(vn,it,E)=>{E.d(it,{Is:()=>Nt,WI:()=>xt,so:()=>Le,uw:()=>Qt});var d=E(9002),C=E(4755),m=E(2223),ee=E(706),Ee=E(3223),re=E(1692),K=E(8023),ve=E(7579),De=E(6451),oe=E(9770),ue=E(9300),fe=E(5698),et=E(8675),Ve=E(2840),lt=E(1217);function Je(St,At){}E(1591);class Ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ke="mdc-dialog--open",wt="mdc-dialog--opening",he="mdc-dialog--closing";let Ae=(()=>{class St extends Ee.LL{constructor(dt,ze,Zt,bn,mn,Mt,de,Ne){super(dt,ze,Zt,bn,mn,Mt,de,Ne),this._animationStateChanged=new m.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(dt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:dt})}}return St.\u0275fac=function(dt){return new(dt||St)(m.Y36(m.SBq),m.Y36(ee.qV),m.Y36(C.K0,8),m.Y36(Ue),m.Y36(ee.ic),m.Y36(m.R0b),m.Y36(d.Iu),m.Y36(ee.tE))},St.\u0275cmp=m.Xpm({type:St,selectors:[["ng-component"]],features:[m.qOj],decls:0,vars:0,template:function(dt,ze){},encapsulation:2}),St})();const Ge="--mat-dialog-transition-duration";function Z(St){return null==St?null:"number"==typeof St?St:St.endsWith("ms")?(0,re.su)(St.substring(0,St.length-2)):St.endsWith("s")?1e3*(0,re.su)(St.substring(0,St.length-1)):"0"===St?0:null}let Ke=(()=>{class St extends Ae{constructor(dt,ze,Zt,bn,mn,Mt,de,Ne,ht){super(dt,ze,Zt,bn,mn,Mt,de,ht),this._animationMode=Ne,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Z(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Z(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ge,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wt,ke)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ke),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(ke),this._animationsEnabled?(this._hostElement.style.setProperty(Ge,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(he)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(wt,he)}_waitForAnimationToComplete(dt,ze){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ze,dt)}_requestAnimationFrame(dt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(dt):dt()})}}return St.\u0275fac=function(dt){return new(dt||St)(m.Y36(m.SBq),m.Y36(ee.qV),m.Y36(C.K0,8),m.Y36(Ue),m.Y36(ee.ic),m.Y36(m.R0b),m.Y36(d.Iu),m.Y36(m.QbO,8),m.Y36(ee.tE))},St.\u0275cmp=m.Xpm({type:St,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(dt,ze){2&dt&&(m.Ikx("id",ze._config.id),m.uIk("aria-modal",ze._config.ariaModal)("role",ze._config.role)("aria-labelledby",ze._config.ariaLabel?null:ze._ariaLabelledBy)("aria-label",ze._config.ariaLabel)("aria-describedby",ze._config.ariaDescribedBy||null),m.ekj("_mat-animation-noopable",!ze._animationsEnabled))},features:[m.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(dt,ze){1&dt&&(m.TgZ(0,"div",0)(1,"div",1),m.YNc(2,Je,0,0,"ng-template",2),m.qZA()())},dependencies:[K.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),St})();class Le{constructor(At,dt,ze){this._ref=At,this._containerInstance=ze,this._afterOpened=new ve.x,this._beforeClosed=new ve.x,this._state=0,this.disableClose=dt.disableClose,this.id=At.id,ze._animationStateChanged.pipe((0,ue.h)(Zt=>"opened"===Zt.state),(0,fe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ze._animationStateChanged.pipe((0,ue.h)(Zt=>"closed"===Zt.state),(0,fe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),At.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,De.T)(this.backdropClick(),this.keydownEvents().pipe((0,ue.h)(Zt=>Zt.keyCode===Ve.hY&&!this.disableClose&&!(0,Ve.Vb)(Zt)))).subscribe(Zt=>{this.disableClose||(Zt.preventDefault(),function Ze(St,At,dt){St._closeInteractionType=At,St.close(dt)}(this,"keydown"===Zt.type?"keyboard":"mouse"))})}close(At){this._result=At,this._containerInstance._animationStateChanged.pipe((0,ue.h)(dt=>"closing"===dt.state),(0,fe.q)(1)).subscribe(dt=>{this._beforeClosed.next(At),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),dt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(At){let dt=this._ref.config.positionStrategy;return At&&(At.left||At.right)?At.left?dt.left(At.left):dt.right(At.right):dt.centerHorizontally(),At&&(At.top||At.bottom)?At.top?dt.top(At.top):dt.bottom(At.bottom):dt.centerVertically(),this._ref.updatePosition(),this}updateSize(At="",dt=""){return this._ref.updateSize(At,dt),this}addPanelClass(At){return this._ref.addPanelClass(At),this}removePanelClass(At){return this._ref.removePanelClass(At),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const xt=new m.OlP("MatMdcDialogData"),yn=new m.OlP("mat-mdc-dialog-default-options"),Rn=new m.OlP("mat-mdc-dialog-scroll-strategy"),gt={provide:Rn,deps:[d.aV],useFactory:function _t(St){return()=>St.scrollStrategies.block()}};let Vt=0,Jt=(()=>{class St{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const dt=this._parentDialog;return dt?dt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(dt,ze,Zt,bn,mn,Mt,de,Ne,ht,ut){this._overlay=dt,this._defaultOptions=Zt,this._parentDialog=bn,this._dialogRefConstructor=de,this._dialogContainerType=Ne,this._dialogDataToken=ht,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ve.x,this._afterOpenedAtThisLevel=new ve.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Ue,this.afterAllClosed=(0,oe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,et.O)(void 0))),this._scrollStrategy=Mt,this._dialog=ze.get(Ee.Vq)}open(dt,ze){let Zt;(ze={...this._defaultOptions||new Ue,...ze}).id=ze.id||`${this._idPrefix}${Vt++}`,ze.scrollStrategy=ze.scrollStrategy||this._scrollStrategy();const bn=this._dialog.open(dt,{...ze,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ze},{provide:Ee.ib,useValue:ze}]},templateContext:()=>({dialogRef:Zt}),providers:(mn,Mt,de)=>(Zt=new this._dialogRefConstructor(mn,ze,de),Zt.updatePosition(ze?.position),[{provide:this._dialogContainerType,useValue:de},{provide:this._dialogDataToken,useValue:Mt.data},{provide:this._dialogRefConstructor,useValue:Zt}])});return Zt.componentInstance=bn.componentInstance,this.openDialogs.push(Zt),this.afterOpened.next(Zt),Zt.afterClosed().subscribe(()=>{const mn=this.openDialogs.indexOf(Zt);mn>-1&&(this.openDialogs.splice(mn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Zt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(dt){return this.openDialogs.find(ze=>ze.id===dt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(dt){let ze=dt.length;for(;ze--;)dt[ze].close()}}return St.\u0275fac=function(dt){m.$Z()},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})(),Qt=(()=>{class St extends Jt{constructor(dt,ze,Zt,bn,mn,Mt,de,Ne){super(dt,ze,bn,Mt,de,mn,Le,Ke,xt,Ne),this._idPrefix="mat-mdc-dialog-"}}return St.\u0275fac=function(dt){return new(dt||St)(m.LFG(d.aV),m.LFG(m.zs3),m.LFG(C.Ye,8),m.LFG(yn,8),m.LFG(Rn),m.LFG(St,12),m.LFG(d.Xj),m.LFG(m.QbO,8))},St.\u0275prov=m.Yz7({token:St,factory:St.\u0275fac}),St})(),Nt=(()=>{class St{}return St.\u0275fac=function(dt){return new(dt||St)},St.\u0275mod=m.oAB({type:St}),St.\u0275inj=m.cJS({providers:[Qt,gt],imports:[Ee.Su,d.U8,K.eL,lt.BQ,lt.BQ]}),St})()},430:(vn,it,E)=>{E.d(it,{Hw:()=>un,Ps:()=>_n});var d=E(2223),C=E(1217),m=E(1692),ee=E(4755),Ee=E(9646),re=E(2843),K=E(4128),ve=E(727),De=E(8505),oe=E(4004),ue=E(262),fe=E(8746),et=E(3099),Ve=E(5698),lt=E(3144),Qe=E(6550);const Je=["*"];let Ue;function wt(on){return function ke(){if(void 0===Ue&&(Ue=null,typeof window<"u")){const on=window;void 0!==on.trustedTypes&&(Ue=on.trustedTypes.createPolicy("angular#components",{createHTML:Rt=>Rt}))}return Ue}()?.createHTML(on)||on}function he(on){return Error(`Unable to find icon with the name "${on}"`)}function ge(on){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${on}".`)}function Ae(on){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${on}".`)}class Ge{constructor(Rt,Ye,tt){this.url=Rt,this.svgText=Ye,this.options=tt}}let Z=(()=>{class on{constructor(Ye,tt,Nt,Et){this._httpClient=Ye,this._sanitizer=tt,this._errorHandler=Et,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Nt}addSvgIcon(Ye,tt,Nt){return this.addSvgIconInNamespace("",Ye,tt,Nt)}addSvgIconLiteral(Ye,tt,Nt){return this.addSvgIconLiteralInNamespace("",Ye,tt,Nt)}addSvgIconInNamespace(Ye,tt,Nt,Et){return this._addSvgIconConfig(Ye,tt,new Ge(Nt,null,Et))}addSvgIconResolver(Ye){return this._resolvers.push(Ye),this}addSvgIconLiteralInNamespace(Ye,tt,Nt,Et){const zt=this._sanitizer.sanitize(d.q3G.HTML,Nt);if(!zt)throw Ae(Nt);const St=wt(zt);return this._addSvgIconConfig(Ye,tt,new Ge("",St,Et))}addSvgIconSet(Ye,tt){return this.addSvgIconSetInNamespace("",Ye,tt)}addSvgIconSetLiteral(Ye,tt){return this.addSvgIconSetLiteralInNamespace("",Ye,tt)}addSvgIconSetInNamespace(Ye,tt,Nt){return this._addSvgIconSetConfig(Ye,new Ge(tt,null,Nt))}addSvgIconSetLiteralInNamespace(Ye,tt,Nt){const Et=this._sanitizer.sanitize(d.q3G.HTML,tt);if(!Et)throw Ae(tt);const zt=wt(Et);return this._addSvgIconSetConfig(Ye,new Ge("",zt,Nt))}registerFontClassAlias(Ye,tt=Ye){return this._fontCssClassesByAlias.set(Ye,tt),this}classNameForFontAlias(Ye){return this._fontCssClassesByAlias.get(Ye)||Ye}setDefaultFontSetClass(...Ye){return this._defaultFontSetClass=Ye,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ye){const tt=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Ye);if(!tt)throw ge(Ye);const Nt=this._cachedIconsByUrl.get(tt);return Nt?(0,Ee.of)(Ze(Nt)):this._loadSvgIconFromConfig(new Ge(Ye,null)).pipe((0,De.b)(Et=>this._cachedIconsByUrl.set(tt,Et)),(0,oe.U)(Et=>Ze(Et)))}getNamedSvgIcon(Ye,tt=""){const Nt=xt(tt,Ye);let Et=this._svgIconConfigs.get(Nt);if(Et)return this._getSvgFromConfig(Et);if(Et=this._getIconConfigFromResolvers(tt,Ye),Et)return this._svgIconConfigs.set(Nt,Et),this._getSvgFromConfig(Et);const zt=this._iconSetConfigs.get(tt);return zt?this._getSvgFromIconSetConfigs(Ye,zt):(0,re._)(he(Nt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ye){return Ye.svgText?(0,Ee.of)(Ze(this._svgElementFromConfig(Ye))):this._loadSvgIconFromConfig(Ye).pipe((0,oe.U)(tt=>Ze(tt)))}_getSvgFromIconSetConfigs(Ye,tt){const Nt=this._extractIconWithNameFromAnySet(Ye,tt);if(Nt)return(0,Ee.of)(Nt);const Et=tt.filter(zt=>!zt.svgText).map(zt=>this._loadSvgIconSetFromConfig(zt).pipe((0,ue.K)(St=>{const dt=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,zt.url)} failed: ${St.message}`;return this._errorHandler.handleError(new Error(dt)),(0,Ee.of)(null)})));return(0,K.D)(Et).pipe((0,oe.U)(()=>{const zt=this._extractIconWithNameFromAnySet(Ye,tt);if(!zt)throw he(Ye);return zt}))}_extractIconWithNameFromAnySet(Ye,tt){for(let Nt=tt.length-1;Nt>=0;Nt--){const Et=tt[Nt];if(Et.svgText&&Et.svgText.toString().indexOf(Ye)>-1){const zt=this._svgElementFromConfig(Et),St=this._extractSvgIconFromSet(zt,Ye,Et.options);if(St)return St}}return null}_loadSvgIconFromConfig(Ye){return this._fetchIcon(Ye).pipe((0,De.b)(tt=>Ye.svgText=tt),(0,oe.U)(()=>this._svgElementFromConfig(Ye)))}_loadSvgIconSetFromConfig(Ye){return Ye.svgText?(0,Ee.of)(null):this._fetchIcon(Ye).pipe((0,De.b)(tt=>Ye.svgText=tt))}_extractSvgIconFromSet(Ye,tt,Nt){const Et=Ye.querySelector(`[id="${tt}"]`);if(!Et)return null;const zt=Et.cloneNode(!0);if(zt.removeAttribute("id"),"svg"===zt.nodeName.toLowerCase())return this._setSvgAttributes(zt,Nt);if("symbol"===zt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(zt),Nt);const St=this._svgElementFromString(wt("<svg></svg>"));return St.appendChild(zt),this._setSvgAttributes(St,Nt)}_svgElementFromString(Ye){const tt=this._document.createElement("DIV");tt.innerHTML=Ye;const Nt=tt.querySelector("svg");if(!Nt)throw Error("<svg> tag not found");return Nt}_toSvgElement(Ye){const tt=this._svgElementFromString(wt("<svg></svg>")),Nt=Ye.attributes;for(let Et=0;Et<Nt.length;Et++){const{name:zt,value:St}=Nt[Et];"id"!==zt&&tt.setAttribute(zt,St)}for(let Et=0;Et<Ye.childNodes.length;Et++)Ye.childNodes[Et].nodeType===this._document.ELEMENT_NODE&&tt.appendChild(Ye.childNodes[Et].cloneNode(!0));return tt}_setSvgAttributes(Ye,tt){return Ye.setAttribute("fit",""),Ye.setAttribute("height","100%"),Ye.setAttribute("width","100%"),Ye.setAttribute("preserveAspectRatio","xMidYMid meet"),Ye.setAttribute("focusable","false"),tt&&tt.viewBox&&Ye.setAttribute("viewBox",tt.viewBox),Ye}_fetchIcon(Ye){const{url:tt,options:Nt}=Ye,Et=Nt?.withCredentials??!1;if(!this._httpClient)throw function Ce(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==tt)throw Error(`Cannot fetch icon from URL "${tt}".`);const zt=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,tt);if(!zt)throw ge(tt);const St=this._inProgressUrlFetches.get(zt);if(St)return St;const At=this._httpClient.get(zt,{responseType:"text",withCredentials:Et}).pipe((0,oe.U)(dt=>wt(dt)),(0,fe.x)(()=>this._inProgressUrlFetches.delete(zt)),(0,et.B)());return this._inProgressUrlFetches.set(zt,At),At}_addSvgIconConfig(Ye,tt,Nt){return this._svgIconConfigs.set(xt(Ye,tt),Nt),this}_addSvgIconSetConfig(Ye,tt){const Nt=this._iconSetConfigs.get(Ye);return Nt?Nt.push(tt):this._iconSetConfigs.set(Ye,[tt]),this}_svgElementFromConfig(Ye){if(!Ye.svgElement){const tt=this._svgElementFromString(Ye.svgText);this._setSvgAttributes(tt,Ye.options),Ye.svgElement=tt}return Ye.svgElement}_getIconConfigFromResolvers(Ye,tt){for(let Nt=0;Nt<this._resolvers.length;Nt++){const Et=this._resolvers[Nt](tt,Ye);if(Et)return yn(Et)?new Ge(Et.url,null,Et.options):new Ge(Et,null)}}}return on.\u0275fac=function(Ye){return new(Ye||on)(d.LFG(lt.eN,8),d.LFG(Qe.H7),d.LFG(ee.K0,8),d.LFG(d.qLn))},on.\u0275prov=d.Yz7({token:on,factory:on.\u0275fac,providedIn:"root"}),on})();function Ze(on){return on.cloneNode(!0)}function xt(on,Rt){return on+":"+Rt}function yn(on){return!(!on.url||!on.options)}const Rn=(0,C.pj)(class{constructor(on){this._elementRef=on}}),_t=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),gt=new d.OlP("mat-icon-location",{providedIn:"root",factory:function Lt(){const on=(0,d.f3M)(ee.K0),Rt=on?on.location:null;return{getPathname:()=>Rt?Rt.pathname+Rt.search:""}}}),Vt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Jt=Vt.map(on=>`[${on}]`).join(", "),Qt=/^url\(['"]?#(.*?)['"]?\)$/;let un=(()=>{class on extends Rn{get inline(){return this._inline}set inline(Ye){this._inline=(0,m.Ig)(Ye)}get svgIcon(){return this._svgIcon}set svgIcon(Ye){Ye!==this._svgIcon&&(Ye?this._updateSvgIcon(Ye):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ye)}get fontSet(){return this._fontSet}set fontSet(Ye){const tt=this._cleanupFontValue(Ye);tt!==this._fontSet&&(this._fontSet=tt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ye){const tt=this._cleanupFontValue(Ye);tt!==this._fontIcon&&(this._fontIcon=tt,this._updateFontIconClasses())}constructor(Ye,tt,Nt,Et,zt,St){super(Ye),this._iconRegistry=tt,this._location=Et,this._errorHandler=zt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ve.w0.EMPTY,St&&(St.color&&(this.color=this.defaultColor=St.color),St.fontSet&&(this.fontSet=St.fontSet)),Nt||Ye.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Ye){if(!Ye)return["",""];const tt=Ye.split(":");switch(tt.length){case 1:return["",tt[0]];case 2:return tt;default:throw Error(`Invalid icon name: "${Ye}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ye=this._elementsWithExternalReferences;if(Ye&&Ye.size){const tt=this._location.getPathname();tt!==this._previousPath&&(this._previousPath=tt,this._prependPathToReferences(tt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ye){this._clearSvgElement();const tt=this._location.getPathname();this._previousPath=tt,this._cacheChildrenWithExternalReferences(Ye),this._prependPathToReferences(tt),this._elementRef.nativeElement.appendChild(Ye)}_clearSvgElement(){const Ye=this._elementRef.nativeElement;let tt=Ye.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();tt--;){const Nt=Ye.childNodes[tt];(1!==Nt.nodeType||"svg"===Nt.nodeName.toLowerCase())&&Nt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ye=this._elementRef.nativeElement,tt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Nt=>Nt.length>0);this._previousFontSetClass.forEach(Nt=>Ye.classList.remove(Nt)),tt.forEach(Nt=>Ye.classList.add(Nt)),this._previousFontSetClass=tt,this.fontIcon!==this._previousFontIconClass&&!tt.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ye.classList.remove(this._previousFontIconClass),this.fontIcon&&Ye.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ye){return"string"==typeof Ye?Ye.trim().split(" ")[0]:Ye}_prependPathToReferences(Ye){const tt=this._elementsWithExternalReferences;tt&&tt.forEach((Nt,Et)=>{Nt.forEach(zt=>{Et.setAttribute(zt.name,`url('${Ye}#${zt.value}')`)})})}_cacheChildrenWithExternalReferences(Ye){const tt=Ye.querySelectorAll(Jt),Nt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Et=0;Et<tt.length;Et++)Vt.forEach(zt=>{const St=tt[Et],At=St.getAttribute(zt),dt=At?At.match(Qt):null;if(dt){let ze=Nt.get(St);ze||(ze=[],Nt.set(St,ze)),ze.push({name:zt,value:dt[1]})}})}_updateSvgIcon(Ye){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ye){const[tt,Nt]=this._splitIconName(Ye);tt&&(this._svgNamespace=tt),Nt&&(this._svgName=Nt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Nt,tt).pipe((0,Ve.q)(1)).subscribe(Et=>this._setSvgElement(Et),Et=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${tt}:${Nt}! ${Et.message}`))})}}}return on.\u0275fac=function(Ye){return new(Ye||on)(d.Y36(d.SBq),d.Y36(Z),d.$8M("aria-hidden"),d.Y36(gt),d.Y36(d.qLn),d.Y36(_t,8))},on.\u0275cmp=d.Xpm({type:on,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ye,tt){2&Ye&&(d.uIk("data-mat-icon-type",tt._usingFontIcon()?"font":"svg")("data-mat-icon-name",tt._svgName||tt.fontIcon)("data-mat-icon-namespace",tt._svgNamespace||tt.fontSet)("fontIcon",tt._usingFontIcon()?tt.fontIcon:null),d.ekj("mat-icon-inline",tt.inline)("mat-icon-no-color","primary"!==tt.color&&"accent"!==tt.color&&"warn"!==tt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:Je,decls:1,vars:0,template:function(Ye,tt){1&Ye&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),on})(),_n=(()=>{class on{}return on.\u0275fac=function(Ye){return new(Ye||on)},on.\u0275mod=d.oAB({type:on}),on.\u0275inj=d.cJS({imports:[C.BQ,C.BQ]}),on})()},2659:(vn,it,E)=>{E.d(it,{VK:()=>Ne,KA:()=>At,OP:()=>Ye,Tx:()=>Dn,p6:()=>oi});var d=E(2223),C=E(706),m=E(1692),ee=E(2840),Ee=E(7579),re=E(6451),K=E(727),ve=E(9646),De=E(3101),oe=E(8675),ue=E(3900),fe=E(5698),et=E(2722),Ve=E(9300),lt=E(4986),Qe=E(7272),Je=E(4482),Ue=E(5403),ke=E(5032),he=E(9718),Ce=E(5577),ge=E(8421);function Ae(cn,Hn){return Hn?je=>(0,Qe.z)(Hn.pipe((0,fe.q)(1),function wt(){return(0,Je.e)((cn,Hn)=>{cn.subscribe((0,Ue.x)(Hn,ke.Z))})}()),je.pipe(Ae(cn))):(0,Ce.z)((je,It)=>(0,ge.Xf)(cn(je,It)).pipe((0,fe.q)(1),(0,he.h)(je)))}var Ge=E(5963);function Z(cn,Hn=lt.z){const je=(0,Ge.H)(cn,Hn);return Ae(()=>je)}var Ke=E(1217),Le=E(4755),Ze=E(8023),xt=E(1591),yn=E(8930),Rn=E(9002),_t=E(2966),gt=E(4709);const Lt=["mat-menu-item",""];function Vt(cn,Hn){1&cn&&(d.O4$(),d.TgZ(0,"svg",3),d._UZ(1,"polygon",4),d.qZA())}const Jt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Qt=["mat-icon, [matMenuItemIcon]","*"];function un(cn,Hn){if(1&cn){const je=d.EpF();d.TgZ(0,"div",0),d.NdJ("keydown",function(Wt){d.CHM(je);const An=d.oxw();return d.KtG(An._handleKeydown(Wt))})("click",function(){d.CHM(je);const Wt=d.oxw();return d.KtG(Wt.closed.emit("click"))})("@transformMenu.start",function(Wt){d.CHM(je);const An=d.oxw();return d.KtG(An._onAnimationStart(Wt))})("@transformMenu.done",function(Wt){d.CHM(je);const An=d.oxw();return d.KtG(An._onAnimationDone(Wt))}),d.TgZ(1,"div",1),d.Hsn(2),d.qZA()()}if(2&cn){const je=d.oxw();d.Q6J("id",je.panelId)("ngClass",je._classList)("@transformMenu",je._panelAnimationState),d.uIk("aria-label",je.ariaLabel||null)("aria-labelledby",je.ariaLabelledby||null)("aria-describedby",je.ariaDescribedby||null)}}const _n=["*"],on=new d.OlP("MAT_MENU_PANEL"),Rt=(0,Ke.Kr)((0,Ke.Id)(class{}));let Ye=(()=>{class cn extends Rt{constructor(je,It,Wt,An,fi){super(),this._elementRef=je,this._document=It,this._focusMonitor=Wt,this._parentMenu=An,this._changeDetectorRef=fi,this.role="menuitem",this._hovered=new Ee.x,this._focused=new Ee.x,this._highlighted=!1,this._triggersSubmenu=!1,An?.addItem?.(this)}focus(je,It){this._focusMonitor&&je?this._focusMonitor.focusVia(this._getHostElement(),je,It):this._getHostElement().focus(It),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(je){this.disabled&&(je.preventDefault(),je.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const je=this._elementRef.nativeElement.cloneNode(!0),It=je.querySelectorAll("mat-icon, .material-icons");for(let Wt=0;Wt<It.length;Wt++)It[Wt].remove();return je.textContent?.trim()||""}_setHighlighted(je){this._highlighted=je,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(je){this._triggersSubmenu=je,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return cn.\u0275fac=function(je){return new(je||cn)(d.Y36(d.SBq),d.Y36(Le.K0),d.Y36(C.tE),d.Y36(on,8),d.Y36(d.sBO))},cn.\u0275cmp=d.Xpm({type:cn,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(je,It){1&je&&d.NdJ("click",function(An){return It._checkDisabled(An)})("mouseenter",function(){return It._handleMouseEnter()}),2&je&&(d.uIk("role",It.role)("tabindex",It._getTabIndex())("aria-disabled",It.disabled)("disabled",It.disabled||null),d.ekj("mat-mdc-menu-item-highlighted",It._highlighted)("mat-mdc-menu-item-submenu-trigger",It._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[d.qOj],attrs:Lt,ngContentSelectors:Qt,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(je,It){1&je&&(d.F$t(Jt),d.Hsn(0),d.TgZ(1,"span",0),d.Hsn(2,1),d.qZA(),d._UZ(3,"div",1),d.YNc(4,Vt,2,0,"svg",2)),2&je&&(d.xp6(3),d.Q6J("matRippleDisabled",It.disableRipple||It.disabled)("matRippleTrigger",It._getHostElement()),d.xp6(1),d.Q6J("ngIf",It._triggersSubmenu))},dependencies:[Le.O5,Ke.wG],encapsulation:2,changeDetection:0}),cn})();const zt=new d.OlP("MatMenuContent");let St=(()=>{class cn{constructor(je,It,Wt,An,fi,ei,yi){this._template=je,this._componentFactoryResolver=It,this._appRef=Wt,this._injector=An,this._viewContainerRef=fi,this._document=ei,this._changeDetectorRef=yi,this._attached=new Ee.x}attach(je={}){this._portal||(this._portal=new Ze.UE(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Ze.u0(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const It=this._template.elementRef.nativeElement;It.parentNode.insertBefore(this._outlet.outletElement,It),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,je),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return cn.\u0275fac=function(je){return new(je||cn)(d.Y36(d.Rgc),d.Y36(d._Vd),d.Y36(d.z2F),d.Y36(d.zs3),d.Y36(d.s_b),d.Y36(Le.K0),d.Y36(d.sBO))},cn.\u0275dir=d.lG2({type:cn}),cn})(),At=(()=>{class cn extends St{}return cn.\u0275fac=function(){let Hn;return function(It){return(Hn||(Hn=d.n5z(cn)))(It||cn)}}(),cn.\u0275dir=d.lG2({type:cn,selectors:[["ng-template","matMenuContent",""]],features:[d._Bn([{provide:zt,useExisting:cn}]),d.qOj]}),cn})();const dt={transformMenu:(0,xt.X$)("transformMenu",[(0,xt.SB)("void",(0,xt.oB)({opacity:0,transform:"scale(0.8)"})),(0,xt.eR)("void => enter",(0,xt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,xt.oB)({opacity:1,transform:"scale(1)"}))),(0,xt.eR)("* => void",(0,xt.jt)("100ms 25ms linear",(0,xt.oB)({opacity:0})))]),fadeInItems:(0,xt.X$)("fadeInItems",[(0,xt.SB)("showing",(0,xt.oB)({opacity:1})),(0,xt.eR)("void => *",[(0,xt.oB)({opacity:0}),(0,xt.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bn=0;const mn=new d.OlP("mat-menu-default-options",{providedIn:"root",factory:function Mt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let de=(()=>{class cn{get xPosition(){return this._xPosition}set xPosition(je){this._xPosition=je,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(je){this._yPosition=je,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(je){this._overlapTrigger=(0,m.Ig)(je)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(je){this._hasBackdrop=(0,m.Ig)(je)}set panelClass(je){const It=this._previousPanelClass;It&&It.length&&It.split(" ").forEach(Wt=>{this._classList[Wt]=!1}),this._previousPanelClass=je,je&&je.length&&(je.split(" ").forEach(Wt=>{this._classList[Wt]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(je){this.panelClass=je}constructor(je,It,Wt,An){this._elementRef=je,this._ngZone=It,this._changeDetectorRef=An,this._directDescendantItems=new d.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Ee.x,this.closed=new d.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+bn++,this.overlayPanelClass=Wt.overlayPanelClass||"",this._xPosition=Wt.xPosition,this._yPosition=Wt.yPosition,this.backdropClass=Wt.backdropClass,this._overlapTrigger=Wt.overlapTrigger,this._hasBackdrop=Wt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new C.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,oe.O)(this._directDescendantItems),(0,ue.w)(je=>(0,re.T)(...je.map(It=>It._focused)))).subscribe(je=>this._keyManager.updateActiveItem(je)),this._directDescendantItems.changes.subscribe(je=>{const It=this._keyManager;if("enter"===this._panelAnimationState&&It.activeItem?._hasFocus()){const Wt=je.toArray(),An=Math.max(0,Math.min(Wt.length-1,It.activeItemIndex||0));Wt[An]&&!Wt[An].disabled?It.setActiveItem(An):It.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,oe.O)(this._directDescendantItems),(0,ue.w)(It=>(0,re.T)(...It.map(Wt=>Wt._hovered))))}addItem(je){}removeItem(je){}_handleKeydown(je){const It=je.keyCode,Wt=this._keyManager;switch(It){case ee.hY:(0,ee.Vb)(je)||(je.preventDefault(),this.closed.emit("keydown"));break;case ee.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case ee.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(It===ee.LH||It===ee.JH)&&Wt.setFocusOrigin("keyboard"),void Wt.onKeydown(je)}je.stopPropagation()}focusFirstItem(je="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,fe.q)(1)).subscribe(()=>{let It=null;if(this._directDescendantItems.length&&(It=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!It||!It.contains(document.activeElement)){const Wt=this._keyManager;Wt.setFocusOrigin(je).setFirstItemActive(),!Wt.activeItem&&It&&It.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(je){const It=Math.min(this._baseElevation+je,24),Wt=`${this._elevationPrefix}${It}`,An=Object.keys(this._classList).find(fi=>fi.startsWith(this._elevationPrefix));(!An||An===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Wt]=!0,this._previousElevation=Wt)}setPositionClasses(je=this.xPosition,It=this.yPosition){const Wt=this._classList;Wt["mat-menu-before"]="before"===je,Wt["mat-menu-after"]="after"===je,Wt["mat-menu-above"]="above"===It,Wt["mat-menu-below"]="below"===It,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(je){this._animationDone.next(je),this._isAnimating=!1}_onAnimationStart(je){this._isAnimating=!0,"enter"===je.toState&&0===this._keyManager.activeItemIndex&&(je.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,oe.O)(this._allItems)).subscribe(je=>{this._directDescendantItems.reset(je.filter(It=>It._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return cn.\u0275fac=function(je){return new(je||cn)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(mn),d.Y36(d.sBO))},cn.\u0275dir=d.lG2({type:cn,contentQueries:function(je,It,Wt){if(1&je&&(d.Suo(Wt,zt,5),d.Suo(Wt,Ye,5),d.Suo(Wt,Ye,4)),2&je){let An;d.iGM(An=d.CRH())&&(It.lazyContent=An.first),d.iGM(An=d.CRH())&&(It._allItems=An),d.iGM(An=d.CRH())&&(It.items=An)}},viewQuery:function(je,It){if(1&je&&d.Gf(d.Rgc,5),2&je){let Wt;d.iGM(Wt=d.CRH())&&(It.templateRef=Wt.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),cn})(),Ne=(()=>{class cn extends de{constructor(je,It,Wt,An){super(je,It,Wt,An),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return cn.\u0275fac=function(je){return new(je||cn)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(mn),d.Y36(d.sBO))},cn.\u0275cmp=d.Xpm({type:cn,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(je,It){2&je&&d.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[d._Bn([{provide:on,useExisting:cn}]),d.qOj],ngContentSelectors:_n,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(je,It){1&je&&(d.F$t(),d.YNc(0,un,3,6,"ng-template"))},dependencies:[Le.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:var(--mdc-shape-medium, 4px)}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[dt.transformMenu,dt.fadeInItems]},changeDetection:0}),cn})();const ht=new d.OlP("mat-menu-scroll-strategy"),kt={provide:ht,deps:[Rn.aV],useFactory:function ut(cn){return()=>cn.scrollStrategies.reposition()}},Yt=(0,_t.i$)({passive:!0});let Kn=(()=>{class cn{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(je){this.menu=je}get menu(){return this._menu}set menu(je){je!==this._menu&&(this._menu=je,this._menuCloseSubscription.unsubscribe(),je&&(this._menuCloseSubscription=je.close.subscribe(It=>{this._destroyMenu(It),("click"===It||"tab"===It)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(It)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(je,It,Wt,An,fi,ei,yi,qt,nt){this._overlay=je,this._element=It,this._viewContainerRef=Wt,this._menuItemInstance=ei,this._dir=yi,this._focusMonitor=qt,this._ngZone=nt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=K.w0.EMPTY,this._hoverSubscription=K.w0.EMPTY,this._menuCloseSubscription=K.w0.EMPTY,this._changeDetectorRef=(0,d.f3M)(d.sBO),this._handleTouchStart=ct=>{(0,C.yG)(ct)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new d.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new d.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=An,this._parentMaterialMenu=fi instanceof de?fi:void 0,It.nativeElement.addEventListener("touchstart",this._handleTouchStart,Yt)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Yt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const je=this.menu;if(this._menuOpen||!je)return;const It=this._createOverlay(je),Wt=It.getConfig(),An=Wt.positionStrategy;this._setPosition(je,An),Wt.hasBackdrop=null==je.hasBackdrop?!this.triggersSubmenu():je.hasBackdrop,It.attach(this._getPortal(je)),je.lazyContent&&je.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(je),je instanceof de&&(je._startAnimation(),je._directDescendantItems.changes.pipe((0,et.R)(je.close)).subscribe(()=>{An.withLockedPosition(!1).reapplyLastPosition(),An.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(je,It){this._focusMonitor&&je?this._focusMonitor.focusVia(this._element,je,It):this._element.nativeElement.focus(It)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(je){if(!this._overlayRef||!this.menuOpen)return;const It=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===je||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,It instanceof de?(It._resetAnimation(),It.lazyContent?It._animationDone.pipe((0,Ve.h)(Wt=>"void"===Wt.toState),(0,fe.q)(1),(0,et.R)(It.lazyContent._attached)).subscribe({next:()=>It.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),It?.lazyContent?.detach())}_initMenu(je){je.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,je.direction=this.dir,this._setMenuElevation(je),je.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(je){if(je.setElevation){let It=0,Wt=je.parentMenu;for(;Wt;)It++,Wt=Wt.parentMenu;je.setElevation(It)}}_setIsMenuOpen(je){je!==this._menuOpen&&(this._menuOpen=je,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(je),this._changeDetectorRef.markForCheck())}_createOverlay(je){if(!this._overlayRef){const It=this._getOverlayConfig(je);this._subscribeToPositions(je,It.positionStrategy),this._overlayRef=this._overlay.create(It),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(je){return new Rn.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:je.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:je.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(je,It){je.setPositionClasses&&It.positionChanges.subscribe(Wt=>{const An="start"===Wt.connectionPair.overlayX?"after":"before",fi="top"===Wt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>je.setPositionClasses(An,fi)):je.setPositionClasses(An,fi)})}_setPosition(je,It){let[Wt,An]="before"===je.xPosition?["end","start"]:["start","end"],[fi,ei]="above"===je.yPosition?["bottom","top"]:["top","bottom"],[yi,qt]=[fi,ei],[nt,ct]=[Wt,An],He=0;if(this.triggersSubmenu()){if(ct=Wt="before"===je.xPosition?"start":"end",An=nt="end"===Wt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Fe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Fe?Fe._getHostElement().offsetTop:0}He="bottom"===fi?this._parentInnerPadding:-this._parentInnerPadding}}else je.overlapTrigger||(yi="top"===fi?"bottom":"top",qt="top"===ei?"bottom":"top");It.withPositions([{originX:Wt,originY:yi,overlayX:nt,overlayY:fi,offsetY:He},{originX:An,originY:yi,overlayX:ct,overlayY:fi,offsetY:He},{originX:Wt,originY:qt,overlayX:nt,overlayY:ei,offsetY:-He},{originX:An,originY:qt,overlayX:ct,overlayY:ei,offsetY:-He}])}_menuClosingActions(){const je=this._overlayRef.backdropClick(),It=this._overlayRef.detachments(),Wt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,ve.of)(),An=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Ve.h)(fi=>fi!==this._menuItemInstance),(0,Ve.h)(()=>this._menuOpen)):(0,ve.of)();return(0,re.T)(je,Wt,An,It)}_handleMousedown(je){(0,C.X6)(je)||(this._openedBy=0===je.button?"mouse":void 0,this.triggersSubmenu()&&je.preventDefault())}_handleKeydown(je){const It=je.keyCode;(It===ee.K5||It===ee.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(It===ee.SV&&"ltr"===this.dir||It===ee.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(je){this.triggersSubmenu()?(je.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Ve.h)(je=>je===this._menuItemInstance&&!je.disabled),Z(0,De.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof de&&this.menu._isAnimating?this.menu._animationDone.pipe((0,fe.q)(1),Z(0,De.E),(0,et.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(je){return(!this._portal||this._portal.templateRef!==je.templateRef)&&(this._portal=new Ze.UE(je.templateRef,this._viewContainerRef)),this._portal}}return cn.\u0275fac=function(je){return new(je||cn)(d.Y36(Rn.aV),d.Y36(d.SBq),d.Y36(d.s_b),d.Y36(ht),d.Y36(on,8),d.Y36(Ye,10),d.Y36(yn.Is,8),d.Y36(C.tE),d.Y36(d.R0b))},cn.\u0275dir=d.lG2({type:cn,hostVars:3,hostBindings:function(je,It){1&je&&d.NdJ("click",function(An){return It._handleClick(An)})("mousedown",function(An){return It._handleMousedown(An)})("keydown",function(An){return It._handleKeydown(An)}),2&je&&d.uIk("aria-haspopup",It.menu?"menu":null)("aria-expanded",It.menuOpen)("aria-controls",It.menuOpen?It.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),cn})(),oi=(()=>{class cn extends Kn{}return cn.\u0275fac=function(){let Hn;return function(It){return(Hn||(Hn=d.n5z(cn)))(It||cn)}}(),cn.\u0275dir=d.lG2({type:cn,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[d.qOj]}),cn})(),Dn=(()=>{class cn{}return cn.\u0275fac=function(je){return new(je||cn)},cn.\u0275mod=d.oAB({type:cn}),cn.\u0275inj=d.cJS({providers:[kt],imports:[Le.ez,Ke.si,Ke.BQ,Rn.U8,gt.ZD,Ke.BQ]}),cn})()},8467:(vn,it,E)=>{E.d(it,{Cq:()=>Ve,Ou:()=>fe});var d=E(2223),C=E(1217),m=E(1692),ee=E(4755);const Ee=["determinateSpinner"];function re(lt,Qe){if(1&lt&&(d.O4$(),d.TgZ(0,"svg",11),d._UZ(1,"circle",12),d.qZA()),2&lt){const Je=d.oxw();d.uIk("viewBox",Je._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",Je._strokeCircumference(),"px")("stroke-dashoffset",Je._strokeCircumference()/2,"px")("stroke-width",Je._circleStrokeWidth(),"%"),d.uIk("r",Je._circleRadius())}}const K=(0,C.pj)(class{constructor(lt){this._elementRef=lt}},"primary"),ve=new d.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function De(){return{diameter:oe}}}),oe=100;let fe=(()=>{class lt extends K{constructor(Je,Ue,ke){super(Je),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=oe,this._noopAnimations="NoopAnimations"===Ue&&!!ke&&!ke._forceAnimations,ke&&(ke.color&&(this.color=this.defaultColor=ke.color),ke.diameter&&(this.diameter=ke.diameter),ke.strokeWidth&&(this.strokeWidth=ke.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Je){this._value=Math.max(0,Math.min(100,(0,m.su)(Je)))}get diameter(){return this._diameter}set diameter(Je){this._diameter=(0,m.su)(Je)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Je){this._strokeWidth=(0,m.su)(Je)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Je=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Je} ${Je}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return lt.\u0275fac=function(Je){return new(Je||lt)(d.Y36(d.SBq),d.Y36(d.QbO,8),d.Y36(ve))},lt.\u0275cmp=d.Xpm({type:lt,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Je,Ue){if(1&Je&&d.Gf(Ee,5),2&Je){let ke;d.iGM(ke=d.CRH())&&(Ue._determinateCircle=ke.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(Je,Ue){2&Je&&(d.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Ue.mode?Ue.value:null)("mode",Ue.mode),d.Udp("width",Ue.diameter,"px")("height",Ue.diameter,"px")("--mdc-circular-progress-size",Ue.diameter+"px")("--mdc-circular-progress-active-indicator-width",Ue.diameter+"px"),d.ekj("_mat-animation-noopable",Ue._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Ue.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[d.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Je,Ue){if(1&Je&&(d.YNc(0,re,2,8,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.O4$(),d.TgZ(4,"svg",3),d._UZ(5,"circle",4),d.qZA()(),d.kcU(),d.TgZ(6,"div",5)(7,"div",6)(8,"div",7),d.GkF(9,8),d.qZA(),d.TgZ(10,"div",9),d.GkF(11,8),d.qZA(),d.TgZ(12,"div",10),d.GkF(13,8),d.qZA()()()),2&Je){const ke=d.MAs(1);d.xp6(4),d.uIk("viewBox",Ue._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",Ue._strokeCircumference(),"px")("stroke-dashoffset",Ue._strokeDashOffset(),"px")("stroke-width",Ue._circleStrokeWidth(),"%"),d.uIk("r",Ue._circleRadius()),d.xp6(4),d.Q6J("ngTemplateOutlet",ke),d.xp6(2),d.Q6J("ngTemplateOutlet",ke),d.xp6(2),d.Q6J("ngTemplateOutlet",ke)}},dependencies:[ee.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),lt})(),Ve=(()=>{class lt{}return lt.\u0275fac=function(Je){return new(Je||lt)},lt.\u0275mod=d.oAB({type:lt}),lt.\u0275inj=d.cJS({imports:[ee.ez,C.BQ]}),lt})()},3617:(vn,it,E)=>{E.d(it,{Nh:()=>xe,SP:()=>Se,uX:()=>It});var d=E(4755),C=E(2223),m=E(1217),ee=E(8023),Ee=E(829),re=E(706),K=E(8930),ve=E(727),De=E(7579),oe=E(4968),ue=E(9646),fe=E(6451),et=E(515),Ve=E(9751),lt=E(5963),Qe=E(8675),Je=E(1884),Ue=E(2722),ke=E(5698),wt=E(3900),he=E(5684),Ce=E(9300),ge=E(1591),Ae=E(1692),Ge=E(4709),Z=E(2966),Ke=E(2840);function Le(Oe,Pe){}const Ze=function(Oe){return{animationDuration:Oe}},xt=function(Oe,Pe){return{value:Oe,params:Pe}};function yn(Oe,Pe){1&Oe&&C.Hsn(0)}const Rn=["*"],_t=["tabListContainer"],gt=["tabList"],Lt=["tabListInner"],Vt=["nextPaginator"],Jt=["previousPaginator"],Qt=["tabBodyWrapper"],un=["tabHeader"];function _n(Oe,Pe){}function on(Oe,Pe){if(1&Oe&&C.YNc(0,_n,0,0,"ng-template",14),2&Oe){const Y=C.oxw().$implicit;C.Q6J("cdkPortalOutlet",Y.templateLabel)}}function Rt(Oe,Pe){if(1&Oe&&C._uU(0),2&Oe){const Y=C.oxw().$implicit;C.Oqu(Y.textLabel)}}function Ye(Oe,Pe){if(1&Oe){const Y=C.EpF();C.TgZ(0,"div",6,7),C.NdJ("click",function(){const vt=C.CHM(Y),Bt=vt.$implicit,qn=vt.index,ri=C.oxw(),Ft=C.MAs(1);return C.KtG(ri._handleClick(Bt,Ft,qn))})("cdkFocusChange",function(vt){const qn=C.CHM(Y).index,ri=C.oxw();return C.KtG(ri._tabFocusChanged(vt,qn))}),C._UZ(2,"span",8)(3,"div",9),C.TgZ(4,"span",10)(5,"span",11),C.YNc(6,on,1,1,"ng-template",12),C.YNc(7,Rt,1,1,"ng-template",null,13,C.W1O),C.qZA()()()}if(2&Oe){const Y=Pe.$implicit,we=Pe.index,vt=C.MAs(1),Bt=C.MAs(8),qn=C.oxw();C.ekj("mdc-tab--active",qn.selectedIndex===we),C.Q6J("id",qn._getTabLabelId(we))("ngClass",Y.labelClass)("disabled",Y.disabled)("fitInkBarToContent",qn.fitInkBarToContent),C.uIk("tabIndex",qn._getTabIndex(we))("aria-posinset",we+1)("aria-setsize",qn._tabs.length)("aria-controls",qn._getTabContentId(we))("aria-selected",qn.selectedIndex===we)("aria-label",Y.ariaLabel||null)("aria-labelledby",!Y.ariaLabel&&Y.ariaLabelledby?Y.ariaLabelledby:null),C.xp6(3),C.Q6J("matRippleTrigger",vt)("matRippleDisabled",Y.disabled||qn.disableRipple),C.xp6(3),C.Q6J("ngIf",Y.templateLabel)("ngIfElse",Bt)}}function tt(Oe,Pe){if(1&Oe){const Y=C.EpF();C.TgZ(0,"mat-tab-body",15),C.NdJ("_onCentered",function(){C.CHM(Y);const vt=C.oxw();return C.KtG(vt._removeTabBodyWrapperHeight())})("_onCentering",function(vt){C.CHM(Y);const Bt=C.oxw();return C.KtG(Bt._setTabBodyWrapperHeight(vt))}),C.qZA()}if(2&Oe){const Y=Pe.$implicit,we=Pe.index,vt=C.oxw();C.ekj("mat-mdc-tab-body-active",vt.selectedIndex===we),C.Q6J("id",vt._getTabContentId(we))("ngClass",Y.bodyClass)("content",Y.content)("position",Y.position)("origin",Y.origin)("animationDuration",vt.animationDuration)("preserveContent",vt.preserveContent),C.uIk("tabindex",null!=vt.contentTabIndex&&vt.selectedIndex===we?vt.contentTabIndex:null)("aria-labelledby",vt._getTabLabelId(we))}}const zt={translateTab:(0,ge.X$)("translateTab",[(0,ge.SB)("center, void, left-origin-center, right-origin-center",(0,ge.oB)({transform:"none"})),(0,ge.SB)("left",(0,ge.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,ge.SB)("right",(0,ge.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,ge.eR)("* => left, * => right, left => center, right => center",(0,ge.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,ge.eR)("void => left-origin-center",[(0,ge.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,ge.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,ge.eR)("void => right-origin-center",[(0,ge.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,ge.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let St=(()=>{class Oe extends ee.Pl{constructor(Y,we,vt,Bt){super(Y,we,Bt),this._host=vt,this._centeringSub=ve.w0.EMPTY,this._leavingSub=ve.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,Qe.O)(this._host._isCenterPosition(this._host._position))).subscribe(Y=>{Y&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C._Vd),C.Y36(C.s_b),C.Y36((0,C.Gpc)(()=>dt)),C.Y36(d.K0))},Oe.\u0275dir=C.lG2({type:Oe,selectors:[["","matTabBodyHost",""]],features:[C.qOj]}),Oe})(),At=(()=>{class Oe{set position(Y){this._positionIndex=Y,this._computePositionAnimationState()}constructor(Y,we,vt){this._elementRef=Y,this._dir=we,this._dirChangeSubscription=ve.w0.EMPTY,this._translateTabComplete=new De.x,this._onCentering=new C.vpe,this._beforeCentering=new C.vpe,this._afterLeavingCenter=new C.vpe,this._onCentered=new C.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,we&&(this._dirChangeSubscription=we.change.subscribe(Bt=>{this._computePositionAnimationState(Bt),vt.markForCheck()})),this._translateTabComplete.pipe((0,Je.x)((Bt,qn)=>Bt.fromState===qn.fromState&&Bt.toState===qn.toState)).subscribe(Bt=>{this._isCenterPosition(Bt.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(Bt.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(Y){const we=this._isCenterPosition(Y.toState);this._beforeCentering.emit(we),we&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(Y){return"center"==Y||"left-origin-center"==Y||"right-origin-center"==Y}_computePositionAnimationState(Y=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==Y?"left":"right":this._positionIndex>0?"ltr"==Y?"right":"left":"center"}_computePositionFromOrigin(Y){const we=this._getLayoutDirection();return"ltr"==we&&Y<=0||"rtl"==we&&Y>0?"left-origin-center":"right-origin-center"}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.SBq),C.Y36(K.Is,8),C.Y36(C.sBO))},Oe.\u0275dir=C.lG2({type:Oe,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Oe})(),dt=(()=>{class Oe extends At{constructor(Y,we,vt){super(Y,we,vt)}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.SBq),C.Y36(K.Is,8),C.Y36(C.sBO))},Oe.\u0275cmp=C.Xpm({type:Oe,selectors:[["mat-tab-body"]],viewQuery:function(Y,we){if(1&Y&&C.Gf(ee.Pl,5),2&Y){let vt;C.iGM(vt=C.CRH())&&(we._portalHost=vt.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[C.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(Y,we){1&Y&&(C.TgZ(0,"div",0,1),C.NdJ("@translateTab.start",function(Bt){return we._onTranslateTabStarted(Bt)})("@translateTab.done",function(Bt){return we._translateTabComplete.next(Bt)}),C.YNc(2,Le,0,0,"ng-template",2),C.qZA()),2&Y&&C.Q6J("@translateTab",C.WLB(3,xt,we._position,C.VKq(1,Ze,we.animationDuration)))},dependencies:[St],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[zt.translateTab]}}),Oe})();const ze=new C.OlP("MatTabContent");let Zt=(()=>{class Oe{constructor(Y){this.template=Y}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.Rgc))},Oe.\u0275dir=C.lG2({type:Oe,selectors:[["","matTabContent",""]],features:[C._Bn([{provide:ze,useExisting:Oe}])]}),Oe})();const bn=new C.OlP("MatTabLabel"),mn=new C.OlP("MAT_TAB");let Mt=(()=>{class Oe extends ee.ig{constructor(Y,we,vt){super(Y,we),this._closestTab=vt}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.Rgc),C.Y36(C.s_b),C.Y36(mn,8))},Oe.\u0275dir=C.lG2({type:Oe,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[C._Bn([{provide:bn,useExisting:Oe}]),C.qOj]}),Oe})();const de="mdc-tab-indicator--active",Ne="mdc-tab-indicator--no-transition";class ht{constructor(Pe){this._items=Pe}hide(){this._items.forEach(Pe=>Pe.deactivateInkBar())}alignToElement(Pe){const Y=this._items.find(vt=>vt.elementRef.nativeElement===Pe),we=this._currentItem;if(Y!==we&&(we?.deactivateInkBar(),Y)){const vt=we?.elementRef.nativeElement.getBoundingClientRect?.();Y.activateInkBar(vt),this._currentItem=Y}}}function ut(Oe){return class extends Oe{constructor(...Pe){super(...Pe),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(Pe){const Y=(0,Ae.Ig)(Pe);this._fitToContent!==Y&&(this._fitToContent=Y,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(Pe){const Y=this.elementRef.nativeElement;if(!Pe||!Y.getBoundingClientRect||!this._inkBarContentElement)return void Y.classList.add(de);const we=Y.getBoundingClientRect(),vt=Pe.width/we.width,Bt=Pe.left-we.left;Y.classList.add(Ne),this._inkBarContentElement.style.setProperty("transform",`translateX(${Bt}px) scaleX(${vt})`),Y.getBoundingClientRect(),Y.classList.remove(Ne),Y.classList.add(de),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(de)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const Pe=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=Pe.createElement("span"),this._inkBarContentElement=Pe.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const an=(0,m.Id)(class{}),oi=ut((()=>{class Oe extends an{constructor(Y){super(),this.elementRef=Y}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.SBq))},Oe.\u0275dir=C.lG2({type:Oe,features:[C.qOj]}),Oe})());let Dn=(()=>{class Oe extends oi{}return Oe.\u0275fac=function(){let Pe;return function(we){return(Pe||(Pe=C.n5z(Oe)))(we||Oe)}}(),Oe.\u0275dir=C.lG2({type:Oe,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(Y,we){2&Y&&(C.uIk("aria-disabled",!!we.disabled),C.ekj("mat-mdc-tab-disabled",we.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[C.qOj]}),Oe})();const cn=(0,m.Id)(class{}),Hn=new C.OlP("MAT_TAB_GROUP");let je=(()=>{class Oe extends cn{get content(){return this._contentPortal}constructor(Y,we){super(),this._viewContainerRef=Y,this._closestTabGroup=we,this.textLabel="",this._contentPortal=null,this._stateChanges=new De.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(Y){(Y.hasOwnProperty("textLabel")||Y.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new ee.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(Y){Y&&Y._closestTab===this&&(this._templateLabel=Y)}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.s_b),C.Y36(Hn,8))},Oe.\u0275dir=C.lG2({type:Oe,viewQuery:function(Y,we){if(1&Y&&C.Gf(C.Rgc,7),2&Y){let vt;C.iGM(vt=C.CRH())&&(we._implicitContent=vt.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[C.qOj,C.TTD]}),Oe})(),It=(()=>{class Oe extends je{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(Y){this._setTemplateLabelInput(Y)}}return Oe.\u0275fac=function(){let Pe;return function(we){return(Pe||(Pe=C.n5z(Oe)))(we||Oe)}}(),Oe.\u0275cmp=C.Xpm({type:Oe,selectors:[["mat-tab"]],contentQueries:function(Y,we,vt){if(1&Y&&(C.Suo(vt,Zt,7,C.Rgc),C.Suo(vt,Mt,5)),2&Y){let Bt;C.iGM(Bt=C.CRH())&&(we._explicitContent=Bt.first),C.iGM(Bt=C.CRH())&&(we.templateLabel=Bt.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[C._Bn([{provide:mn,useExisting:Oe}]),C.qOj],ngContentSelectors:Rn,decls:1,vars:0,template:function(Y,we){1&Y&&(C.F$t(),C.YNc(0,yn,1,0,"ng-template"))},encapsulation:2}),Oe})();const Wt=(0,Z.i$)({passive:!0});let ei=(()=>{class Oe{get disablePagination(){return this._disablePagination}set disablePagination(Y){this._disablePagination=(0,Ae.Ig)(Y)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Y){Y=(0,Ae.su)(Y),this._selectedIndex!=Y&&(this._selectedIndexChanged=!0,this._selectedIndex=Y,this._keyManager&&this._keyManager.updateActiveItem(Y))}constructor(Y,we,vt,Bt,qn,ri,Ft){this._elementRef=Y,this._changeDetectorRef=we,this._viewportRuler=vt,this._dir=Bt,this._ngZone=qn,this._platform=ri,this._animationMode=Ft,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new De.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new De.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new C.vpe,this.indexFocused=new C.vpe,qn.runOutsideAngular(()=>{(0,oe.R)(Y.nativeElement,"mouseleave").pipe((0,Ue.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,oe.R)(this._previousPaginator.nativeElement,"touchstart",Wt).pipe((0,Ue.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,oe.R)(this._nextPaginator.nativeElement,"touchstart",Wt).pipe((0,Ue.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const Y=this._dir?this._dir.change:(0,ue.of)("ltr"),we=this._viewportRuler.change(150),vt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new re.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,ke.q)(1)).subscribe(vt),(0,fe.T)(Y,we,this._items.changes,this._itemsResized()).pipe((0,Ue.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),vt()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(Bt=>{this.indexFocused.emit(Bt),this._setTabFocus(Bt)})}_itemsResized(){return"function"!=typeof ResizeObserver?et.E:this._items.changes.pipe((0,Qe.O)(this._items),(0,wt.w)(Y=>new Ve.y(we=>this._ngZone.runOutsideAngular(()=>{const vt=new ResizeObserver(Bt=>we.next(Bt));return Y.forEach(Bt=>vt.observe(Bt.elementRef.nativeElement)),()=>{vt.disconnect()}}))),(0,he.T)(1),(0,Ce.h)(Y=>Y.some(we=>we.contentRect.width>0&&we.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(Y){if(!(0,Ke.Vb)(Y))switch(Y.keyCode){case Ke.K5:case Ke.L_:if(this.focusIndex!==this.selectedIndex){const we=this._items.get(this.focusIndex);we&&!we.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(Y))}break;default:this._keyManager.onKeydown(Y)}}_onContentChanges(){const Y=this._elementRef.nativeElement.textContent;Y!==this._currentTextContent&&(this._currentTextContent=Y||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(Y){!this._isValidIndex(Y)||this.focusIndex===Y||!this._keyManager||this._keyManager.setActiveItem(Y)}_isValidIndex(Y){return!this._items||!!this._items.toArray()[Y]}_setTabFocus(Y){if(this._showPaginationControls&&this._scrollToLabel(Y),this._items&&this._items.length){this._items.toArray()[Y].focus();const we=this._tabListContainer.nativeElement;we.scrollLeft="ltr"==this._getLayoutDirection()?0:we.scrollWidth-we.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const Y=this.scrollDistance,we="ltr"===this._getLayoutDirection()?-Y:Y;this._tabList.nativeElement.style.transform=`translateX(${Math.round(we)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(Y){this._scrollTo(Y)}_scrollHeader(Y){return this._scrollTo(this._scrollDistance+("before"==Y?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(Y){this._stopInterval(),this._scrollHeader(Y)}_scrollToLabel(Y){if(this.disablePagination)return;const we=this._items?this._items.toArray()[Y]:null;if(!we)return;const vt=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:Bt,offsetWidth:qn}=we.elementRef.nativeElement;let ri,Ft;"ltr"==this._getLayoutDirection()?(ri=Bt,Ft=ri+qn):(Ft=this._tabListInner.nativeElement.offsetWidth-Bt,ri=Ft-qn);const Tt=this.scrollDistance,xn=this.scrollDistance+vt;ri<Tt?this.scrollDistance-=Tt-ri:Ft>xn&&(this.scrollDistance+=Math.min(Ft-xn,ri-Tt))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const Y=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;Y||(this.scrollDistance=0),Y!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=Y}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const Y=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,we=Y?Y.elementRef.nativeElement:null;we?this._inkBar.alignToElement(we):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(Y,we){we&&null!=we.button&&0!==we.button||(this._stopInterval(),(0,lt.H)(650,100).pipe((0,Ue.R)((0,fe.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:vt,distance:Bt}=this._scrollHeader(Y);(0===Bt||Bt>=vt)&&this._stopInterval()}))}_scrollTo(Y){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const we=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(we,Y)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:we,distance:this._scrollDistance}}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ge.rL),C.Y36(K.Is,8),C.Y36(C.R0b),C.Y36(Z.t4),C.Y36(C.QbO,8))},Oe.\u0275dir=C.lG2({type:Oe,inputs:{disablePagination:"disablePagination"}}),Oe})(),yi=(()=>{class Oe extends ei{get disableRipple(){return this._disableRipple}set disableRipple(Y){this._disableRipple=(0,Ae.Ig)(Y)}constructor(Y,we,vt,Bt,qn,ri,Ft){super(Y,we,vt,Bt,qn,ri,Ft),this._disableRipple=!1}_itemSelected(Y){Y.preventDefault()}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ge.rL),C.Y36(K.Is,8),C.Y36(C.R0b),C.Y36(Z.t4),C.Y36(C.QbO,8))},Oe.\u0275dir=C.lG2({type:Oe,inputs:{disableRipple:"disableRipple"},features:[C.qOj]}),Oe})(),qt=(()=>{class Oe extends yi{constructor(Y,we,vt,Bt,qn,ri,Ft){super(Y,we,vt,Bt,qn,ri,Ft)}ngAfterContentInit(){this._inkBar=new ht(this._items),super.ngAfterContentInit()}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Ge.rL),C.Y36(K.Is,8),C.Y36(C.R0b),C.Y36(Z.t4),C.Y36(C.QbO,8))},Oe.\u0275cmp=C.Xpm({type:Oe,selectors:[["mat-tab-header"]],contentQueries:function(Y,we,vt){if(1&Y&&C.Suo(vt,Dn,4),2&Y){let Bt;C.iGM(Bt=C.CRH())&&(we._items=Bt)}},viewQuery:function(Y,we){if(1&Y&&(C.Gf(_t,7),C.Gf(gt,7),C.Gf(Lt,7),C.Gf(Vt,5),C.Gf(Jt,5)),2&Y){let vt;C.iGM(vt=C.CRH())&&(we._tabListContainer=vt.first),C.iGM(vt=C.CRH())&&(we._tabList=vt.first),C.iGM(vt=C.CRH())&&(we._tabListInner=vt.first),C.iGM(vt=C.CRH())&&(we._nextPaginator=vt.first),C.iGM(vt=C.CRH())&&(we._previousPaginator=vt.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(Y,we){2&Y&&C.ekj("mat-mdc-tab-header-pagination-controls-enabled",we._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==we._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[C.qOj],ngContentSelectors:Rn,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(Y,we){1&Y&&(C.F$t(),C.TgZ(0,"button",0,1),C.NdJ("click",function(){return we._handlePaginatorClick("before")})("mousedown",function(Bt){return we._handlePaginatorPress("before",Bt)})("touchend",function(){return we._stopInterval()}),C._UZ(2,"div",2),C.qZA(),C.TgZ(3,"div",3,4),C.NdJ("keydown",function(Bt){return we._handleKeydown(Bt)}),C.TgZ(5,"div",5,6),C.NdJ("cdkObserveContent",function(){return we._onContentChanges()}),C.TgZ(7,"div",7,8),C.Hsn(9),C.qZA()()(),C.TgZ(10,"button",9,10),C.NdJ("mousedown",function(Bt){return we._handlePaginatorPress("after",Bt)})("click",function(){return we._handlePaginatorClick("after")})("touchend",function(){return we._stopInterval()}),C._UZ(12,"div",2),C.qZA()),2&Y&&(C.ekj("mat-mdc-tab-header-pagination-disabled",we._disableScrollBefore),C.Q6J("matRippleDisabled",we._disableScrollBefore||we.disableRipple)("disabled",we._disableScrollBefore||null),C.xp6(3),C.ekj("_mat-animation-noopable","NoopAnimations"===we._animationMode),C.xp6(7),C.ekj("mat-mdc-tab-header-pagination-disabled",we._disableScrollAfter),C.Q6J("matRippleDisabled",we._disableScrollAfter||we.disableRipple)("disabled",we._disableScrollAfter||null))},dependencies:[m.wG,Ee.wD],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),Oe})();const nt=new C.OlP("MAT_TABS_CONFIG");let ct=0;const He=(0,m.pj)((0,m.Kr)(class{constructor(Oe){this._elementRef=Oe}}),"primary");let Fe=(()=>{class Oe extends He{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(Y){this._dynamicHeight=(0,Ae.Ig)(Y)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Y){this._indexToSelect=(0,Ae.su)(Y,null)}get animationDuration(){return this._animationDuration}set animationDuration(Y){this._animationDuration=/^\d+$/.test(Y+"")?Y+"ms":Y}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(Y){this._contentTabIndex=(0,Ae.su)(Y,null)}get disablePagination(){return this._disablePagination}set disablePagination(Y){this._disablePagination=(0,Ae.Ig)(Y)}get preserveContent(){return this._preserveContent}set preserveContent(Y){this._preserveContent=(0,Ae.Ig)(Y)}get backgroundColor(){return this._backgroundColor}set backgroundColor(Y){const we=this._elementRef.nativeElement.classList;we.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),Y&&we.add("mat-tabs-with-background",`mat-background-${Y}`),this._backgroundColor=Y}constructor(Y,we,vt,Bt){super(Y),this._changeDetectorRef=we,this._animationMode=Bt,this._tabs=new C.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=ve.w0.EMPTY,this._tabLabelSubscription=ve.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new C.vpe,this.focusChange=new C.vpe,this.animationDone=new C.vpe,this.selectedTabChange=new C.vpe(!0),this._groupId=ct++,this.animationDuration=vt&&vt.animationDuration?vt.animationDuration:"500ms",this.disablePagination=!(!vt||null==vt.disablePagination)&&vt.disablePagination,this.dynamicHeight=!(!vt||null==vt.dynamicHeight)&&vt.dynamicHeight,this.contentTabIndex=vt?.contentTabIndex??null,this.preserveContent=!!vt?.preserveContent}ngAfterContentChecked(){const Y=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=Y){const we=null==this._selectedIndex;if(!we){this.selectedTabChange.emit(this._createChangeEvent(Y));const vt=this._tabBodyWrapper.nativeElement;vt.style.minHeight=vt.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((vt,Bt)=>vt.isActive=Bt===Y),we||(this.selectedIndexChange.emit(Y),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((we,vt)=>{we.position=vt-Y,null!=this._selectedIndex&&0==we.position&&!we.origin&&(we.origin=Y-this._selectedIndex)}),this._selectedIndex!==Y&&(this._selectedIndex=Y,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const Y=this._clampTabIndex(this._indexToSelect);if(Y===this._selectedIndex){const we=this._tabs.toArray();let vt;for(let Bt=0;Bt<we.length;Bt++)if(we[Bt].isActive){this._indexToSelect=this._selectedIndex=Bt,this._lastFocusedTabIndex=null,vt=we[Bt];break}!vt&&we[Y]&&Promise.resolve().then(()=>{we[Y].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(Y))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,Qe.O)(this._allTabs)).subscribe(Y=>{this._tabs.reset(Y.filter(we=>we._closestTabGroup===this||!we._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(Y){const we=this._tabHeader;we&&(we.focusIndex=Y)}_focusChanged(Y){this._lastFocusedTabIndex=Y,this.focusChange.emit(this._createChangeEvent(Y))}_createChangeEvent(Y){const we=new Ct;return we.index=Y,this._tabs&&this._tabs.length&&(we.tab=this._tabs.toArray()[Y]),we}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,fe.T)(...this._tabs.map(Y=>Y._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(Y){return Math.min(this._tabs.length-1,Math.max(Y||0,0))}_getTabLabelId(Y){return`mat-tab-label-${this._groupId}-${Y}`}_getTabContentId(Y){return`mat-tab-content-${this._groupId}-${Y}`}_setTabBodyWrapperHeight(Y){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const we=this._tabBodyWrapper.nativeElement;we.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(we.style.height=Y+"px")}_removeTabBodyWrapperHeight(){const Y=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=Y.clientHeight,Y.style.height="",this.animationDone.emit()}_handleClick(Y,we,vt){we.focusIndex=vt,Y.disabled||(this.selectedIndex=vt)}_getTabIndex(Y){return Y===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(Y,we){Y&&"mouse"!==Y&&"touch"!==Y&&(this._tabHeader.focusIndex=we)}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(nt,8),C.Y36(C.QbO,8))},Oe.\u0275dir=C.lG2({type:Oe,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[C.qOj]}),Oe})(),Se=(()=>{class Oe extends Fe{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(Y){this._fitInkBarToContent=(0,Ae.Ig)(Y),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(Y){this._stretchTabs=(0,Ae.Ig)(Y)}constructor(Y,we,vt,Bt){super(Y,we,vt,Bt),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!vt||null==vt.fitInkBarToContent)&&vt.fitInkBarToContent,this.stretchTabs=!vt||null==vt.stretchTabs||vt.stretchTabs}}return Oe.\u0275fac=function(Y){return new(Y||Oe)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(nt,8),C.Y36(C.QbO,8))},Oe.\u0275cmp=C.Xpm({type:Oe,selectors:[["mat-tab-group"]],contentQueries:function(Y,we,vt){if(1&Y&&C.Suo(vt,It,5),2&Y){let Bt;C.iGM(Bt=C.CRH())&&(we._allTabs=Bt)}},viewQuery:function(Y,we){if(1&Y&&(C.Gf(Qt,5),C.Gf(un,5)),2&Y){let vt;C.iGM(vt=C.CRH())&&(we._tabBodyWrapper=vt.first),C.iGM(vt=C.CRH())&&(we._tabHeader=vt.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(Y,we){2&Y&&C.ekj("mat-mdc-tab-group-dynamic-height",we.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===we.headerPosition)("mat-mdc-tab-group-stretch-tabs",we.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[C._Bn([{provide:Hn,useExisting:Oe}]),C.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(Y,we){1&Y&&(C.TgZ(0,"mat-tab-header",0,1),C.NdJ("indexFocused",function(Bt){return we._focusChanged(Bt)})("selectFocusedIndex",function(Bt){return we.selectedIndex=Bt}),C.YNc(2,Ye,9,17,"div",2),C.qZA(),C.TgZ(3,"div",3,4),C.YNc(5,tt,1,11,"mat-tab-body",5),C.qZA()),2&Y&&(C.Q6J("selectedIndex",we.selectedIndex||0)("disableRipple",we.disableRipple)("disablePagination",we.disablePagination),C.xp6(2),C.Q6J("ngForOf",we._tabs),C.xp6(1),C.ekj("_mat-animation-noopable","NoopAnimations"===we._animationMode),C.xp6(2),C.Q6J("ngForOf",we._tabs))},dependencies:[d.mk,d.sg,d.O5,ee.Pl,m.wG,re.kH,dt,Dn,qt],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),Oe})();class Ct{}let xe=(()=>{class Oe{}return Oe.\u0275fac=function(Y){return new(Y||Oe)},Oe.\u0275mod=C.oAB({type:Oe}),Oe.\u0275inj=C.cJS({imports:[d.ez,m.BQ,ee.eL,m.si,Ee.Q8,re.rt,m.BQ]}),Oe})()},9383:(vn,it,E)=>{E.d(it,{Ye:()=>De,g0:()=>ue});var d=E(2223),C=E(1217),m=E(2966),ee=E(4755);const Ee=["*",[["mat-toolbar-row"]]],re=["*","mat-toolbar-row"],K=(0,C.pj)(class{constructor(fe){this._elementRef=fe}});let ve=(()=>{class fe{}return fe.\u0275fac=function(Ve){return new(Ve||fe)},fe.\u0275dir=d.lG2({type:fe,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),fe})(),De=(()=>{class fe extends K{constructor(Ve,lt,Qe){super(Ve),this._platform=lt,this._document=Qe}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return fe.\u0275fac=function(Ve){return new(Ve||fe)(d.Y36(d.SBq),d.Y36(m.t4),d.Y36(ee.K0))},fe.\u0275cmp=d.Xpm({type:fe,selectors:[["mat-toolbar"]],contentQueries:function(Ve,lt,Qe){if(1&Ve&&d.Suo(Qe,ve,5),2&Ve){let Je;d.iGM(Je=d.CRH())&&(lt._toolbarRows=Je)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ve,lt){2&Ve&&d.ekj("mat-toolbar-multiple-rows",lt._toolbarRows.length>0)("mat-toolbar-single-row",0===lt._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:re,decls:2,vars:0,template:function(Ve,lt){1&Ve&&(d.F$t(Ee),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),fe})(),ue=(()=>{class fe{}return fe.\u0275fac=function(Ve){return new(Ve||fe)},fe.\u0275mod=d.oAB({type:fe}),fe.\u0275inj=d.cJS({imports:[C.BQ,C.BQ]}),fe})()},6550:(vn,it,E)=>{E.d(it,{Dx:()=>de,H7:()=>ei,b2:()=>ze,q6:()=>zt,se:()=>Z});var d=E(2223),C=E(4755);class m extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends m{static makeCurrent(){(0,C.HT)(new ee)}onAndCancel(z,U,$){return z.addEventListener(U,$),()=>{z.removeEventListener(U,$)}}dispatchEvent(z,U){z.dispatchEvent(U)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,U){return(U=U||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,U){return"window"===U?window:"document"===U?z:"body"===U?z.body:null}getBaseHref(z){const U=function re(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==U?null:function ve(ce){K=K||document.createElement("a"),K.setAttribute("href",ce);const z=K.pathname;return"/"===z.charAt(0)?z:`/${z}`}(U)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,C.Mx)(document.cookie,z)}}let K,Ee=null,oe=(()=>{class ce{build(){return new XMLHttpRequest}}return ce.\u0275fac=function(U){return new(U||ce)},ce.\u0275prov=d.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const ue=new d.OlP("EventManagerPlugins");let fe=(()=>{class ce{constructor(U,$){this._zone=$,this._eventNameToPlugin=new Map,U.forEach(le=>{le.manager=this}),this._plugins=U.slice().reverse()}addEventListener(U,$,le){return this._findPluginFor($).addEventListener(U,$,le)}getZone(){return this._zone}_findPluginFor(U){let $=this._eventNameToPlugin.get(U);if($)return $;if($=this._plugins.find(ae=>ae.supports(U)),!$)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(U,$),$}}return ce.\u0275fac=function(U){return new(U||ce)(d.LFG(ue),d.LFG(d.R0b))},ce.\u0275prov=d.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class et{constructor(z){this._doc=z}}const Ve="ng-app-id";let lt=(()=>{class ce{constructor(U,$,le,ae={}){this.doc=U,this.appId=$,this.nonce=le,this.platformId=ae,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,C.PM)(ae),this.resetHostNodes()}addStyles(U){for(const $ of U)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(U){for(const $ of U)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const U=this.styleNodesInDOM;U&&(U.forEach($=>$.remove()),U.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(U){this.hostNodes.add(U);for(const $ of this.getAllStyles())this.addStyleToHost(U,$)}removeHost(U){this.hostNodes.delete(U)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(U){for(const $ of this.hostNodes)this.addStyleToHost($,U)}onStyleRemoved(U){const $=this.styleRef;$.get(U)?.elements?.forEach(le=>le.remove()),$.delete(U)}collectServerRenderedStyles(){const U=this.doc.head?.querySelectorAll(`style[${Ve}="${this.appId}"]`);if(U?.length){const $=new Map;return U.forEach(le=>{null!=le.textContent&&$.set(le.textContent,le)}),$}return null}changeUsageCount(U,$){const le=this.styleRef;if(le.has(U)){const ae=le.get(U);return ae.usage+=$,ae.usage}return le.set(U,{usage:$,elements:[]}),$}getStyleElement(U,$){const le=this.styleNodesInDOM,ae=le?.get($);if(ae?.parentNode===U)return le.delete($),ae.removeAttribute(Ve),ae;{const xe=this.doc.createElement("style");return this.nonce&&xe.setAttribute("nonce",this.nonce),xe.textContent=$,this.platformIsServer&&xe.setAttribute(Ve,this.appId),xe}}addStyleToHost(U,$){const le=this.getStyleElement(U,$);U.appendChild(le);const ae=this.styleRef,xe=ae.get($)?.elements;xe?xe.push(le):ae.set($,{elements:[le],usage:1})}resetHostNodes(){const U=this.hostNodes;U.clear(),U.add(this.doc.head)}}return ce.\u0275fac=function(U){return new(U||ce)(d.LFG(C.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},ce.\u0275prov=d.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Je=/%COMP%/g,Ce=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ge(ce,z){return z.map(U=>U.replace(Je,ce))}let Z=(()=>{class ce{constructor(U,$,le,ae,xe,Oe,Pe,Y=null){this.eventManager=U,this.sharedStylesHost=$,this.appId=le,this.removeStylesOnCompDestory=ae,this.doc=xe,this.platformId=Oe,this.ngZone=Pe,this.nonce=Y,this.rendererByCompId=new Map,this.platformIsServer=(0,C.PM)(Oe),this.defaultRenderer=new Ke(U,xe,Pe,this.platformIsServer)}createRenderer(U,$){if(!U||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===d.ifc.ShadowDom&&($={...$,encapsulation:d.ifc.Emulated});const le=this.getOrCreateRenderer(U,$);return le instanceof _t?le.applyToHost(U):le instanceof Rn&&le.applyStyles(),le}getOrCreateRenderer(U,$){const le=this.rendererByCompId;let ae=le.get($.id);if(!ae){const xe=this.doc,Oe=this.ngZone,Pe=this.eventManager,Y=this.sharedStylesHost,we=this.removeStylesOnCompDestory,vt=this.platformIsServer;switch($.encapsulation){case d.ifc.Emulated:ae=new _t(Pe,Y,$,this.appId,we,xe,Oe,vt);break;case d.ifc.ShadowDom:return new yn(Pe,Y,U,$,xe,Oe,this.nonce,vt);default:ae=new Rn(Pe,Y,$,we,xe,Oe,vt)}ae.onDestroy=()=>le.delete($.id),le.set($.id,ae)}return ae}ngOnDestroy(){this.rendererByCompId.clear()}}return ce.\u0275fac=function(U){return new(U||ce)(d.LFG(fe),d.LFG(lt),d.LFG(d.AFp),d.LFG(Ce),d.LFG(C.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},ce.\u0275prov=d.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class Ke{constructor(z,U,$,le){this.eventManager=z,this.doc=U,this.ngZone=$,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,U){return U?this.doc.createElementNS(Qe[U]||U,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,U){(xt(z)?z.content:z).appendChild(U)}insertBefore(z,U,$){z&&(xt(z)?z.content:z).insertBefore(U,$)}removeChild(z,U){z&&z.removeChild(U)}selectRootElement(z,U){let $="string"==typeof z?this.doc.querySelector(z):z;if(!$)throw new d.vHH(5104,!1);return U||($.textContent=""),$}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,U,$,le){if(le){U=le+":"+U;const ae=Qe[le];ae?z.setAttributeNS(ae,U,$):z.setAttribute(U,$)}else z.setAttribute(U,$)}removeAttribute(z,U,$){if($){const le=Qe[$];le?z.removeAttributeNS(le,U):z.removeAttribute(`${$}:${U}`)}else z.removeAttribute(U)}addClass(z,U){z.classList.add(U)}removeClass(z,U){z.classList.remove(U)}setStyle(z,U,$,le){le&(d.JOm.DashCase|d.JOm.Important)?z.style.setProperty(U,$,le&d.JOm.Important?"important":""):z.style[U]=$}removeStyle(z,U,$){$&d.JOm.DashCase?z.style.removeProperty(U):z.style[U]=""}setProperty(z,U,$){z[U]=$}setValue(z,U){z.nodeValue=U}listen(z,U,$){if("string"==typeof z&&!(z=(0,C.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${U}`);return this.eventManager.addEventListener(z,U,this.decoratePreventDefault($))}decoratePreventDefault(z){return U=>{if("__ngUnwrap__"===U)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z(U)):z(U))&&U.preventDefault()}}}function xt(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class yn extends Ke{constructor(z,U,$,le,ae,xe,Oe,Pe){super(z,ae,xe,Pe),this.sharedStylesHost=U,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Y=Ge(le.id,le.styles);for(const we of Y){const vt=document.createElement("style");Oe&&vt.setAttribute("nonce",Oe),vt.textContent=we,this.shadowRoot.appendChild(vt)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,U){return super.appendChild(this.nodeOrShadowRoot(z),U)}insertBefore(z,U,$){return super.insertBefore(this.nodeOrShadowRoot(z),U,$)}removeChild(z,U){return super.removeChild(this.nodeOrShadowRoot(z),U)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rn extends Ke{constructor(z,U,$,le,ae,xe,Oe,Pe){super(z,ae,xe,Oe),this.sharedStylesHost=U,this.removeStylesOnCompDestory=le,this.rendererUsageCount=0,this.styles=Pe?Ge(Pe,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _t extends Rn{constructor(z,U,$,le,ae,xe,Oe,Pe){const Y=le+"-"+$.id;super(z,U,$,ae,xe,Oe,Pe,Y),this.contentAttr=function ge(ce){return"_ngcontent-%COMP%".replace(Je,ce)}(Y),this.hostAttr=function Ae(ce){return"_nghost-%COMP%".replace(Je,ce)}(Y)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,U){const $=super.createElement(z,U);return super.setAttribute($,this.contentAttr,""),$}}let gt=(()=>{class ce extends et{constructor(U){super(U)}supports(U){return!0}addEventListener(U,$,le){return U.addEventListener($,le,!1),()=>this.removeEventListener(U,$,le)}removeEventListener(U,$,le){return U.removeEventListener($,le)}}return ce.\u0275fac=function(U){return new(U||ce)(d.LFG(C.K0))},ce.\u0275prov=d.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Lt=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Qt=(()=>{class ce extends et{constructor(U){super(U)}supports(U){return null!=ce.parseEventName(U)}addEventListener(U,$,le){const ae=ce.parseEventName($),xe=ce.eventCallback(ae.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(U,ae.domEventName,xe))}static parseEventName(U){const $=U.toLowerCase().split("."),le=$.shift();if(0===$.length||"keydown"!==le&&"keyup"!==le)return null;const ae=ce._normalizeKey($.pop());let xe="",Oe=$.indexOf("code");if(Oe>-1&&($.splice(Oe,1),xe="code."),Lt.forEach(Y=>{const we=$.indexOf(Y);we>-1&&($.splice(we,1),xe+=Y+".")}),xe+=ae,0!=$.length||0===ae.length)return null;const Pe={};return Pe.domEventName=le,Pe.fullKey=xe,Pe}static matchEventFullKeyCode(U,$){let le=Vt[U.key]||U.key,ae="";return $.indexOf("code.")>-1&&(le=U.code,ae="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),Lt.forEach(xe=>{xe!==le&&(0,Jt[xe])(U)&&(ae+=xe+".")}),ae+=le,ae===$)}static eventCallback(U,$,le){return ae=>{ce.matchEventFullKeyCode(ae,U)&&le.runGuarded(()=>$(ae))}}static _normalizeKey(U){return"esc"===U?"escape":U}}return ce.\u0275fac=function(U){return new(U||ce)(d.LFG(C.K0))},ce.\u0275prov=d.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const zt=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:C.bD},{provide:d.g9A,useValue:function Ye(){ee.makeCurrent()},multi:!0},{provide:C.K0,useFactory:function Nt(){return(0,d.RDi)(document),document},deps:[]}]),St=new d.OlP(""),At=[{provide:d.rWj,useClass:class De{addToWindow(z){d.dqk.getAngularTestability=($,le=!0)=>{const ae=z.findTestabilityInTree($,le);if(null==ae)throw new d.vHH(5103,!1);return ae},d.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push($=>{const le=d.dqk.getAllAngularTestabilities();let ae=le.length,xe=!1;const Oe=function(Pe){xe=xe||Pe,ae--,0==ae&&$(xe)};le.forEach(function(Pe){Pe.whenStable(Oe)})})}findTestabilityInTree(z,U,$){return null==U?null:z.getTestability(U)??($?(0,C.q)().isShadowRoot(U)?this.findTestabilityInTree(z,U.host,!0):this.findTestabilityInTree(z,U.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],dt=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function tt(){return new d.qLn},deps:[]},{provide:ue,useClass:gt,multi:!0,deps:[C.K0,d.R0b,d.Lbi]},{provide:ue,useClass:Qt,multi:!0,deps:[C.K0]},Z,lt,fe,{provide:d.FYo,useExisting:Z},{provide:C.JF,useClass:oe,deps:[]},[]];let ze=(()=>{class ce{constructor(U){}static withServerTransition(U){return{ngModule:ce,providers:[{provide:d.AFp,useValue:U.appId}]}}}return ce.\u0275fac=function(U){return new(U||ce)(d.LFG(St,12))},ce.\u0275mod=d.oAB({type:ce}),ce.\u0275inj=d.cJS({providers:[...dt,...At],imports:[C.ez,d.hGG]}),ce})(),de=(()=>{class ce{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}}return ce.\u0275fac=function(U){return new(U||ce)(d.LFG(C.K0))},ce.\u0275prov=d.Yz7({token:ce,factory:function(U){let $=null;return $=U?new U:function Mt(){return new de((0,d.LFG)(C.K0))}(),$},providedIn:"root"}),ce})();typeof window<"u"&&window;let ei=(()=>{class ce{}return ce.\u0275fac=function(U){return new(U||ce)},ce.\u0275prov=d.Yz7({token:ce,factory:function(U){let $=null;return $=U?new(U||ce):d.LFG(qt),$},providedIn:"root"}),ce})(),qt=(()=>{class ce extends ei{constructor(U){super(),this._doc=U}sanitize(U,$){if(null==$)return null;switch(U){case d.q3G.NONE:return $;case d.q3G.HTML:return(0,d.qzn)($,"HTML")?(0,d.z3N)($):(0,d.EiD)(this._doc,String($)).toString();case d.q3G.STYLE:return(0,d.qzn)($,"Style")?(0,d.z3N)($):$;case d.q3G.SCRIPT:if((0,d.qzn)($,"Script"))return(0,d.z3N)($);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)($,"URL")?(0,d.z3N)($):(0,d.mCW)(String($));case d.q3G.RESOURCE_URL:if((0,d.qzn)($,"ResourceURL"))return(0,d.z3N)($);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(U){return(0,d.JVY)(U)}bypassSecurityTrustStyle(U){return(0,d.L6k)(U)}bypassSecurityTrustScript(U){return(0,d.eBb)(U)}bypassSecurityTrustUrl(U){return(0,d.LAX)(U)}bypassSecurityTrustResourceUrl(U){return(0,d.pB0)(U)}}return ce.\u0275fac=function(U){return new(U||ce)(d.LFG(C.K0))},ce.\u0275prov=d.Yz7({token:ce,factory:function(U){let $=null;return $=U?new U:function yi(ce){return new qt(ce.get(C.K0))}(d.LFG(d.zs3)),$},providedIn:"root"}),ce})()},3676:(vn,it,E)=>{E.d(it,{gz:()=>Nn,F0:()=>Zr,Bz:()=>Fa,lC:()=>li});var d=E(2223),C=E(9751),m=E(576),Ee=E(8996),re=E(9646),K=E(1135),ve=E(9841),De=E(6805),oe=E(7272),ue=E(9770),fe=E(9635),et=E(2843),Ve=E(515),lt=E(727),Qe=E(4482),Je=E(5403);function Ue(){return(0,Qe.e)((x,S)=>{let w=null;x._refCount++;const F=(0,Je.x)(S,void 0,void 0,void 0,()=>{if(!x||x._refCount<=0||0<--x._refCount)return void(w=null);const X=x._connection,ye=w;w=null,X&&(!ye||X===ye)&&X.unsubscribe(),S.unsubscribe()});x.subscribe(F),F.closed||(w=x.connect())})}class ke extends C.y{constructor(S,w){super(),this.source=S,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new lt.w0;const w=this.getSubject();S.add(this.source.subscribe((0,Je.x)(w,void 0,()=>{this._teardown(),w.complete()},F=>{this._teardown(),w.error(F)},()=>this._teardown()))),S.closed&&(this._connection=null,S=lt.w0.EMPTY)}return S}refCount(){return Ue()(this)}}var wt=E(7579),he=E(4755),Ce=E(4004),ge=E(3900),Ae=E(5698),Ge=E(8675),Z=E(9300),Ke=E(5577),Le=E(590),Ze=E(4351),xt=E(8505),yn=E(262),Rn=E(5026),_t=E(6590);function gt(x){return x<=0?()=>Ve.E:(0,Qe.e)((S,w)=>{let F=[];S.subscribe((0,Je.x)(w,X=>{F.push(X),x<F.length&&F.shift()},()=>{for(const X of F)w.next(X);w.complete()},void 0,()=>{F=null}))})}var Lt=E(8068),Vt=E(4671),Qt=E(9718),un=E(8746),_n=E(8189),on=E(6550);const Rt="primary",Ye=Symbol("RouteTitle");class tt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w[0]:w}return null}getAll(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Nt(x){return new tt(x)}function Et(x,S,w){const F=w.path.split("/");if(F.length>x.length||"full"===w.pathMatch&&(S.hasChildren()||F.length<x.length))return null;const X={};for(let ye=0;ye<F.length;ye++){const Te=F[ye],Dt=x[ye];if(Te.startsWith(":"))X[Te.substring(1)]=Dt;else if(Te!==Dt.path)return null}return{consumed:x.slice(0,F.length),posParams:X}}function St(x,S){const w=x?Object.keys(x):void 0,F=S?Object.keys(S):void 0;if(!w||!F||w.length!=F.length)return!1;let X;for(let ye=0;ye<w.length;ye++)if(X=w[ye],!At(x[X],S[X]))return!1;return!0}function At(x,S){if(Array.isArray(x)&&Array.isArray(S)){if(x.length!==S.length)return!1;const w=[...x].sort(),F=[...S].sort();return w.every((X,ye)=>F[ye]===X)}return x===S}function dt(x){return x.length>0?x[x.length-1]:null}function ze(x){return function ee(x){return!!x&&(x instanceof C.y||(0,m.m)(x.lift)&&(0,m.m)(x.subscribe))}(x)?x:(0,d.QGY)(x)?(0,Ee.D)(Promise.resolve(x)):(0,re.of)(x)}const Zt={exact:function de(x,S,w){if(!Dn(x.segments,S.segments)||!kt(x.segments,S.segments,w)||x.numberOfChildren!==S.numberOfChildren)return!1;for(const F in S.children)if(!x.children[F]||!de(x.children[F],S.children[F],w))return!1;return!0},subset:ht},bn={exact:function Mt(x,S){return St(x,S)},subset:function Ne(x,S){return Object.keys(S).length<=Object.keys(x).length&&Object.keys(S).every(w=>At(x[w],S[w]))},ignored:()=>!0};function mn(x,S,w){return Zt[w.paths](x.root,S.root,w.matrixParams)&&bn[w.queryParams](x.queryParams,S.queryParams)&&!("exact"===w.fragment&&x.fragment!==S.fragment)}function ht(x,S,w){return ut(x,S,S.segments,w)}function ut(x,S,w,F){if(x.segments.length>w.length){const X=x.segments.slice(0,w.length);return!(!Dn(X,w)||S.hasChildren()||!kt(X,w,F))}if(x.segments.length===w.length){if(!Dn(x.segments,w)||!kt(x.segments,w,F))return!1;for(const X in S.children)if(!x.children[X]||!ht(x.children[X],S.children[X],F))return!1;return!0}{const X=w.slice(0,x.segments.length),ye=w.slice(x.segments.length);return!!(Dn(x.segments,X)&&kt(x.segments,X,F)&&x.children[Rt])&&ut(x.children[Rt],S,ye,F)}}function kt(x,S,w){return S.every((F,X)=>bn[w](x[X].parameters,F.parameters))}class Yt{constructor(S=new an([],{}),w={},F=null){this.root=S,this.queryParams=w,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return It.serialize(this)}}class an{constructor(S,w){this.segments=S,this.children=w,this.parent=null,Object.values(w).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wt(this)}}class Kn{constructor(S,w){this.path=S,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return He(this)}}function Dn(x,S){return x.length===S.length&&x.every((w,F)=>w.path===S[F].path)}let Hn=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:function(){return new je},providedIn:"root"}),x})();class je{parse(S){const w=new ae(S);return new Yt(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(S){const w=`/${An(S.root,!0)}`,F=function Se(x){const S=Object.keys(x).map(w=>{const F=x[w];return Array.isArray(F)?F.map(X=>`${ei(w)}=${ei(X)}`).join("&"):`${ei(w)}=${ei(F)}`}).filter(w=>!!w);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${w}${F}${"string"==typeof S.fragment?`#${function yi(x){return encodeURI(x)}(S.fragment)}`:""}`}}const It=new je;function Wt(x){return x.segments.map(S=>He(S)).join("/")}function An(x,S){if(!x.hasChildren())return Wt(x);if(S){const w=x.children[Rt]?An(x.children[Rt],!1):"",F=[];return Object.entries(x.children).forEach(([X,ye])=>{X!==Rt&&F.push(`${X}:${An(ye,!1)}`)}),F.length>0?`${w}(${F.join("//")})`:w}{const w=function cn(x,S){let w=[];return Object.entries(x.children).forEach(([F,X])=>{F===Rt&&(w=w.concat(S(X,F)))}),Object.entries(x.children).forEach(([F,X])=>{F!==Rt&&(w=w.concat(S(X,F)))}),w}(x,(F,X)=>X===Rt?[An(x.children[Rt],!1)]:[`${X}:${An(F,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[Rt]?`${Wt(x)}/${w[0]}`:`${Wt(x)}/(${w.join("//")})`}}function fi(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ei(x){return fi(x).replace(/%3B/gi,";")}function qt(x){return fi(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nt(x){return decodeURIComponent(x)}function ct(x){return nt(x.replace(/\+/g,"%20"))}function He(x){return`${qt(x.path)}${function Fe(x){return Object.keys(x).map(S=>`;${qt(S)}=${qt(x[S])}`).join("")}(x.parameters)}`}const Ct=/^[^\/()?;#]+/;function $t(x){const S=x.match(Ct);return S?S[0]:""}const Re=/^[^\/()?;=#]+/,z=/^[^=?&#]+/,$=/^[^&#]+/;class ae{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(S.length>0||Object.keys(w).length>0)&&(F[Rt]=new an(S,w)),F}parseSegment(){const S=$t(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(S),new Kn(nt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const w=function ce(x){const S=x.match(Re);return S?S[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const X=$t(this.remaining);X&&(F=X,this.capture(F))}S[nt(w)]=nt(F)}parseQueryParam(S){const w=function U(x){const S=x.match(z);return S?S[0]:""}(this.remaining);if(!w)return;this.capture(w);let F="";if(this.consumeOptional("=")){const Te=function le(x){const S=x.match($);return S?S[0]:""}(this.remaining);Te&&(F=Te,this.capture(F))}const X=ct(w),ye=ct(F);if(S.hasOwnProperty(X)){let Te=S[X];Array.isArray(Te)||(Te=[Te],S[X]=Te),Te.push(ye)}else S[X]=ye}parseParens(S){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=$t(this.remaining),X=this.remaining[F.length];if("/"!==X&&")"!==X&&";"!==X)throw new d.vHH(4010,!1);let ye;F.indexOf(":")>-1?(ye=F.slice(0,F.indexOf(":")),this.capture(ye),this.capture(":")):S&&(ye=Rt);const Te=this.parseChildren();w[ye]=1===Object.keys(Te).length?Te[Rt]:new an([],Te),this.consumeOptional("//")}return w}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new d.vHH(4011,!1)}}function xe(x){return x.segments.length>0?new an([],{[Rt]:x}):x}function Oe(x){const S={};for(const F of Object.keys(x.children)){const ye=Oe(x.children[F]);if(F===Rt&&0===ye.segments.length&&ye.hasChildren())for(const[Te,Dt]of Object.entries(ye.children))S[Te]=Dt;else(ye.segments.length>0||ye.hasChildren())&&(S[F]=ye)}return function Pe(x){if(1===x.numberOfChildren&&x.children[Rt]){const S=x.children[Rt];return new an(x.segments.concat(S.segments),S.children)}return x}(new an(x.segments,S))}function Y(x){return x instanceof Yt}function vt(x){let S;const X=xe(function w(ye){const Te={};for(const Cn of ye.children){const ai=w(Cn);Te[Cn.outlet]=ai}const Dt=new an(ye.url,Te);return ye===x&&(S=Dt),Dt}(x.root));return S??X}function Bt(x,S,w,F){let X=x;for(;X.parent;)X=X.parent;if(0===S.length)return Ft(X,X,X,w,F);const ye=function Xn(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new xn(!0,0,x);let S=0,w=!1;const F=x.reduce((X,ye,Te)=>{if("object"==typeof ye&&null!=ye){if(ye.outlets){const Dt={};return Object.entries(ye.outlets).forEach(([Cn,ai])=>{Dt[Cn]="string"==typeof ai?ai.split("/"):ai}),[...X,{outlets:Dt}]}if(ye.segmentPath)return[...X,ye.segmentPath]}return"string"!=typeof ye?[...X,ye]:0===Te?(ye.split("/").forEach((Dt,Cn)=>{0==Cn&&"."===Dt||(0==Cn&&""===Dt?w=!0:".."===Dt?S++:""!=Dt&&X.push(Dt))}),X):[...X,ye]},[]);return new xn(w,S,F)}(S);if(ye.toRoot())return Ft(X,X,new an([],{}),w,F);const Te=function zn(x,S,w){if(x.isAbsolute)return new Pn(S,!0,0);if(!w)return new Pn(S,!1,NaN);if(null===w.parent)return new Pn(w,!0,0);const F=qn(x.commands[0])?0:1;return function pi(x,S,w){let F=x,X=S,ye=w;for(;ye>X;){if(ye-=X,F=F.parent,!F)throw new d.vHH(4005,!1);X=F.segments.length}return new Pn(F,!1,X-ye)}(w,w.segments.length-1+F,x.numberOfDoubleDots)}(ye,X,x),Dt=Te.processChildren?Dr(Te.segmentGroup,Te.index,ye.commands):Ti(Te.segmentGroup,Te.index,ye.commands);return Ft(X,Te.segmentGroup,Dt,w,F)}function qn(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function ri(x){return"object"==typeof x&&null!=x&&x.outlets}function Ft(x,S,w,F,X){let Te,ye={};F&&Object.entries(F).forEach(([Cn,ai])=>{ye[Cn]=Array.isArray(ai)?ai.map(Vn=>`${Vn}`):`${ai}`}),Te=x===S?w:Tt(x,S,w);const Dt=xe(Oe(Te));return new Yt(Dt,ye,X)}function Tt(x,S,w){const F={};return Object.entries(x.children).forEach(([X,ye])=>{F[X]=ye===S?w:Tt(ye,S,w)}),new an(x.segments,F)}class xn{constructor(S,w,F){if(this.isAbsolute=S,this.numberOfDoubleDots=w,this.commands=F,S&&F.length>0&&qn(F[0]))throw new d.vHH(4003,!1);const X=F.find(ri);if(X&&X!==dt(F))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pn{constructor(S,w,F){this.segmentGroup=S,this.processChildren=w,this.index=F}}function Ti(x,S,w){if(x||(x=new an([],{})),0===x.segments.length&&x.hasChildren())return Dr(x,S,w);const F=function uo(x,S,w){let F=0,X=S;const ye={match:!1,pathIndex:0,commandIndex:0};for(;X<x.segments.length;){if(F>=w.length)return ye;const Te=x.segments[X],Dt=w[F];if(ri(Dt))break;const Cn=`${Dt}`,ai=F<w.length-1?w[F+1]:null;if(X>0&&void 0===Cn)break;if(Cn&&ai&&"object"==typeof ai&&void 0===ai.outlets){if(!Jr(Cn,ai,Te))return ye;F+=2}else{if(!Jr(Cn,{},Te))return ye;F++}X++}return{match:!0,pathIndex:X,commandIndex:F}}(x,S,w),X=w.slice(F.commandIndex);if(F.match&&F.pathIndex<x.segments.length){const ye=new an(x.segments.slice(0,F.pathIndex),{});return ye.children[Rt]=new an(x.segments.slice(F.pathIndex),x.children),Dr(ye,0,X)}return F.match&&0===X.length?new an(x.segments,{}):F.match&&!x.hasChildren()?bo(x,S,w):F.match?Dr(x,0,X):bo(x,S,w)}function Dr(x,S,w){if(0===w.length)return new an(x.segments,{});{const F=function nr(x){return ri(x[0])?x[0].outlets:{[Rt]:x}}(w),X={};if(!F[Rt]&&x.children[Rt]&&1===x.numberOfChildren&&0===x.children[Rt].segments.length){const ye=Dr(x.children[Rt],S,w);return new an(x.segments,ye.children)}return Object.entries(F).forEach(([ye,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(X[ye]=Ti(x.children[ye],S,Te))}),Object.entries(x.children).forEach(([ye,Te])=>{void 0===F[ye]&&(X[ye]=Te)}),new an(x.segments,X)}}function bo(x,S,w){const F=x.segments.slice(0,S);let X=0;for(;X<w.length;){const ye=w[X];if(ri(ye)){const Cn=gs(ye.outlets);return new an(F,Cn)}if(0===X&&qn(w[0])){F.push(new Kn(x.segments[S].path,qi(w[0]))),X++;continue}const Te=ri(ye)?ye.outlets[Rt]:`${ye}`,Dt=X<w.length-1?w[X+1]:null;Te&&Dt&&qn(Dt)?(F.push(new Kn(Te,qi(Dt))),X+=2):(F.push(new Kn(Te,{})),X++)}return new an(F,{})}function gs(x){const S={};return Object.entries(x).forEach(([w,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(S[w]=bo(new an([],{}),0,F))}),S}function qi(x){const S={};return Object.entries(x).forEach(([w,F])=>S[w]=`${F}`),S}function Jr(x,S,w){return x==w.path&&St(S,w.parameters)}const Ar="imperative";class jr{constructor(S,w){this.id=S,this.url=w}}class ao extends jr{constructor(S,w,F="imperative",X=null){super(S,w),this.type=0,this.navigationTrigger=F,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wi extends jr{constructor(S,w,F){super(S,w),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $o extends jr{constructor(S,w,F,X){super(S,w),this.reason=F,this.code=X,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fo extends jr{constructor(S,w,F,X){super(S,w),this.reason=F,this.code=X,this.type=16}}class eo extends jr{constructor(S,w,F,X){super(S,w),this.error=F,this.target=X,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dr extends jr{constructor(S,w,F,X){super(S,w),this.urlAfterRedirects=F,this.state=X,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hr extends jr{constructor(S,w,F,X){super(S,w),this.urlAfterRedirects=F,this.state=X,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class to extends jr{constructor(S,w,F,X,ye){super(S,w),this.urlAfterRedirects=F,this.state=X,this.shouldActivate=ye,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Do extends jr{constructor(S,w,F,X){super(S,w),this.urlAfterRedirects=F,this.state=X,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs extends jr{constructor(S,w,F,X){super(S,w),this.urlAfterRedirects=F,this.state=X,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Go{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class no{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{constructor(S,w,F){this.routerEvent=S,this.position=w,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ki{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zr,this.attachRef=null}}let zr=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(w,F){const X=this.getOrCreateContext(w);X.outlet=F,this.contexts.set(w,X)}onChildOutletDestroyed(w){const F=this.getContext(w);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let F=this.getContext(w);return F||(F=new ki,this.contexts.set(w,F)),F}getContext(w){return this.contexts.get(w)||null}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class Or{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const w=this.pathFromRoot(S);return w.length>1?w[w.length-2]:null}children(S){const w=Io(S,this._root);return w?w.children.map(F=>F.value):[]}firstChild(S){const w=Io(S,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(S){const w=bt(S,this._root);return w.length<2?[]:w[w.length-2].children.map(X=>X.value).filter(X=>X!==S)}pathFromRoot(S){return bt(S,this._root).map(w=>w.value)}}function Io(x,S){if(x===S.value)return S;for(const w of S.children){const F=Io(x,w);if(F)return F}return null}function bt(x,S){if(x===S.value)return[S];for(const w of S.children){const F=bt(x,w);if(F.length)return F.unshift(S),F}return[]}class mt{constructor(S,w){this.value=S,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ut(x){const S={};return x&&x.children.forEach(w=>S[w.value.outlet]=w),S}class sn extends Or{constructor(S,w){super(S),this.snapshot=w,$i(this,S)}toString(){return this.snapshot.toString()}}function pn(x,S){const w=function ln(x,S){const Te=new Nr([],{},{},"",{},Rt,S,null,{});return new hr("",new mt(Te,[]))}(0,S),F=new K.X([new Kn("",{})]),X=new K.X({}),ye=new K.X({}),Te=new K.X({}),Dt=new K.X(""),Cn=new Nn(F,X,Te,Dt,ye,Rt,S,w.root);return Cn.snapshot=w.root,new sn(new mt(Cn,[]),w)}class Nn{constructor(S,w,F,X,ye,Te,Dt,Cn){this.urlSubject=S,this.paramsSubject=w,this.queryParamsSubject=F,this.fragmentSubject=X,this.dataSubject=ye,this.outlet=Te,this.component=Dt,this._futureSnapshot=Cn,this.title=this.dataSubject?.pipe((0,Ce.U)(ai=>ai[Ye]))??(0,re.of)(void 0),this.url=S,this.params=w,this.queryParams=F,this.fragment=X,this.data=ye}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ce.U)(S=>Nt(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ce.U)(S=>Nt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function si(x,S="emptyOnly"){const w=x.pathFromRoot;let F=0;if("always"!==S)for(F=w.length-1;F>=1;){const X=w[F],ye=w[F-1];if(X.routeConfig&&""===X.routeConfig.path)F--;else{if(ye.component)break;F--}}return function xi(x){return x.reduce((S,w)=>({params:{...S.params,...w.params},data:{...S.data,...w.data},resolve:{...w.data,...S.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(F))}class Nr{get title(){return this.data?.[Ye]}constructor(S,w,F,X,ye,Te,Dt,Cn,ai){this.url=S,this.params=w,this.queryParams=F,this.fragment=X,this.data=ye,this.outlet=Te,this.component=Dt,this.routeConfig=Cn,this._resolve=ai}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hr extends Or{constructor(S,w){super(w),this.url=S,$i(this,w)}toString(){return Mi(this._root)}}function $i(x,S){S.value._routerState=x,S.children.forEach(w=>$i(x,w))}function Mi(x){const S=x.children.length>0?` { ${x.children.map(Mi).join(", ")} } `:"";return`${x.value}${S}`}function Tr(x){if(x.snapshot){const S=x.snapshot,w=x._futureSnapshot;x.snapshot=w,St(S.queryParams,w.queryParams)||x.queryParamsSubject.next(w.queryParams),S.fragment!==w.fragment&&x.fragmentSubject.next(w.fragment),St(S.params,w.params)||x.paramsSubject.next(w.params),function zt(x,S){if(x.length!==S.length)return!1;for(let w=0;w<x.length;++w)if(!St(x[w],S[w]))return!1;return!0}(S.url,w.url)||x.urlSubject.next(w.url),St(S.data,w.data)||x.dataSubject.next(w.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function $r(x,S){const w=St(x.params,S.params)&&function oi(x,S){return Dn(x,S)&&x.every((w,F)=>St(w.parameters,S[F].parameters))}(x.url,S.url);return w&&!(!x.parent!=!S.parent)&&(!x.parent||$r(x.parent,S.parent))}let li=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(zr),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:F,previousValue:X}=w.name;if(F)return;this.isTrackedInParentContexts(X)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(X)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,F){this.activated=w,this._activatedRoute=F,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,F){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=w;const X=this.location,Te=w.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,Cn=new To(w,Dt,X.injector);this.activated=X.createComponent(Te,{index:X.length,injector:Cn,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275dir=d.lG2({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),x})();class To{constructor(S,w,F){this.route=S,this.childContexts=w,this.parent=F}get(S,w){return S===Nn?this.route:S===zr?this.childContexts:this.parent.get(S,w)}}const po=new d.OlP("");let Rr=(()=>{class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:F}=w,X=(0,ve.a)([F.queryParams,F.params,F.data]).pipe((0,ge.w)(([ye,Te,Dt],Cn)=>(Dt={...ye,...Te,...Dt},0===Cn?(0,re.of)(Dt):Promise.resolve(Dt)))).subscribe(ye=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(w);const Te=(0,d.qFp)(F.component);if(Te)for(const{templateName:Dt}of Te.inputs)w.activatedComponentRef.setInput(Dt,ye[Dt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,X)}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac}),x})();function Lo(x,S,w){if(w&&x.shouldReuseRoute(S.value,w.value.snapshot)){const F=w.value;F._futureSnapshot=S.value;const X=function es(x,S,w){return S.children.map(F=>{for(const X of w.children)if(x.shouldReuseRoute(F.value,X.value.snapshot))return Lo(x,F,X);return Lo(x,F)})}(x,S,w);return new mt(F,X)}{if(x.shouldAttach(S.value)){const ye=x.retrieve(S.value);if(null!==ye){const Te=ye.route;return Te.value._futureSnapshot=S.value,Te.children=S.children.map(Dt=>Lo(x,Dt)),Te}}const F=function ts(x){return new Nn(new K.X(x.url),new K.X(x.params),new K.X(x.queryParams),new K.X(x.fragment),new K.X(x.data),x.outlet,x.component,x)}(S.value),X=S.children.map(ye=>Lo(x,ye));return new mt(F,X)}}const ns="ngNavigationCancelingError";function Ps(x,S){const{redirectTo:w,navigationBehaviorOptions:F}=Y(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,X=Li(!1,0,S);return X.url=w,X.navigationBehaviorOptions=F,X}function Li(x,S,w){const F=new Error("NavigationCancelingError: "+(x||""));return F[ns]=!0,F.cancellationCode=S,w&&(F.url=w),F}function ir(x){return Es(x)&&Y(x.url)}function Es(x){return x&&x[ns]}let Mo=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275cmp=d.Xpm({type:x,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(w,F){1&w&&d._UZ(0,"router-outlet")},dependencies:[li],encapsulation:2}),x})();function Bo(x){const S=x.children&&x.children.map(Bo),w=S?{...x,children:S}:{...x};return!w.component&&!w.loadComponent&&(S||w.loadChildren)&&w.outlet&&w.outlet!==Rt&&(w.component=Mo),w}function Ki(x){return x.outlet||Rt}function ho(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let S=x.parent;S;S=S.parent){const w=S.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Xi{constructor(S,w,F,X,ye){this.routeReuseStrategy=S,this.futureState=w,this.currState=F,this.forwardEvent=X,this.inputBindingEnabled=ye}activate(S){const w=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,F,S),Tr(this.futureState.root),this.activateChildRoutes(w,F,S)}deactivateChildRoutes(S,w,F){const X=Ut(w);S.children.forEach(ye=>{const Te=ye.value.outlet;this.deactivateRoutes(ye,X[Te],F),delete X[Te]}),Object.values(X).forEach(ye=>{this.deactivateRouteAndItsChildren(ye,F)})}deactivateRoutes(S,w,F){const X=S.value,ye=w?w.value:null;if(X===ye)if(X.component){const Te=F.getContext(X.outlet);Te&&this.deactivateChildRoutes(S,w,Te.children)}else this.deactivateChildRoutes(S,w,F);else ye&&this.deactivateRouteAndItsChildren(w,F)}deactivateRouteAndItsChildren(S,w){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,w):this.deactivateRouteAndOutlet(S,w)}detachAndStoreRouteSubtree(S,w){const F=w.getContext(S.value.outlet),X=F&&S.value.component?F.children:w,ye=Ut(S);for(const Te of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[Te],X);if(F&&F.outlet){const Te=F.outlet.detach(),Dt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Te,route:S,contexts:Dt})}}deactivateRouteAndOutlet(S,w){const F=w.getContext(S.value.outlet),X=F&&S.value.component?F.children:w,ye=Ut(S);for(const Te of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[Te],X);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(S,w,F){const X=Ut(w);S.children.forEach(ye=>{this.activateRoutes(ye,X[ye.value.outlet],F),this.forwardEvent(new Jo(ye.value.snapshot))}),S.children.length&&this.forwardEvent(new kr(S.value.snapshot))}activateRoutes(S,w,F){const X=S.value,ye=w?w.value:null;if(Tr(X),X===ye)if(X.component){const Te=F.getOrCreateContext(X.outlet);this.activateChildRoutes(S,w,Te.children)}else this.activateChildRoutes(S,w,F);else if(X.component){const Te=F.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const Dt=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Te.children.onOutletReAttached(Dt.contexts),Te.attachRef=Dt.componentRef,Te.route=Dt.route.value,Te.outlet&&Te.outlet.attach(Dt.componentRef,Dt.route.value),Tr(Dt.route.value),this.activateChildRoutes(S,null,Te.children)}else{const Dt=ho(X.snapshot);Te.attachRef=null,Te.route=X,Te.injector=Dt,Te.outlet&&Te.outlet.activateWith(X,Te.injector),this.activateChildRoutes(S,null,Te.children)}}else this.activateChildRoutes(S,null,F)}}class Ao{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Vo{constructor(S,w){this.component=S,this.route=w}}function Xs(x,S,w){const F=x._root;return We(F,S?S._root:null,w,[F.value])}function qe(x,S){const w=Symbol(),F=S.get(x,w);return F===w?"function"!=typeof x||(0,d.Z0I)(x)?S.get(x):x:F}function We(x,S,w,F,X={canDeactivateChecks:[],canActivateChecks:[]}){const ye=Ut(S);return x.children.forEach(Te=>{(function q(x,S,w,F,X={canDeactivateChecks:[],canActivateChecks:[]}){const ye=x.value,Te=S?S.value:null,Dt=w?w.getContext(x.value.outlet):null;if(Te&&ye.routeConfig===Te.routeConfig){const Cn=function at(x,S,w){if("function"==typeof w)return w(x,S);switch(w){case"pathParamsChange":return!Dn(x.url,S.url);case"pathParamsOrQueryParamsChange":return!Dn(x.url,S.url)||!St(x.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$r(x,S)||!St(x.queryParams,S.queryParams);default:return!$r(x,S)}}(Te,ye,ye.routeConfig.runGuardsAndResolvers);Cn?X.canActivateChecks.push(new Ao(F)):(ye.data=Te.data,ye._resolvedData=Te._resolvedData),We(x,S,ye.component?Dt?Dt.children:null:w,F,X),Cn&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&X.canDeactivateChecks.push(new Vo(Dt.outlet.component,Te))}else Te&&tn(S,Dt,X),X.canActivateChecks.push(new Ao(F)),We(x,null,ye.component?Dt?Dt.children:null:w,F,X)})(Te,ye[Te.value.outlet],w,F.concat([Te.value]),X),delete ye[Te.value.outlet]}),Object.entries(ye).forEach(([Te,Dt])=>tn(Dt,w.getContext(Te),X)),X}function tn(x,S,w){const F=Ut(x),X=x.value;Object.entries(F).forEach(([ye,Te])=>{tn(Te,X.component?S?S.children.getContext(ye):null:S,w)}),w.canDeactivateChecks.push(new Vo(X.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,X))}function kn(x){return"function"==typeof x}function v(x){return x instanceof De.K||"EmptyError"===x?.name}const D=Symbol("INITIAL_VALUE");function ne(){return(0,ge.w)(x=>(0,ve.a)(x.map(S=>S.pipe((0,Ae.q)(1),(0,Ge.O)(D)))).pipe((0,Ce.U)(S=>{for(const w of S)if(!0!==w){if(w===D)return D;if(!1===w||w instanceof Yt)return w}return!0}),(0,Z.h)(S=>S!==D),(0,Ae.q)(1)))}function Lr(x){return(0,fe.z)((0,xt.b)(S=>{if(Y(S))throw Ps(0,S)}),(0,Ce.U)(S=>!0===S))}class Hi{constructor(S){this.segmentGroup=S||null}}class gr{constructor(S){this.urlTree=S}}function Si(x){return(0,et._)(new Hi(x))}function ko(x){return(0,et._)(new gr(x))}class Fr{constructor(S,w){this.urlSerializer=S,this.urlTree=w}noMatchError(S){return new d.vHH(4002,!1)}lineralizeSegments(S,w){let F=[],X=w.root;for(;;){if(F=F.concat(X.segments),0===X.numberOfChildren)return(0,re.of)(F);if(X.numberOfChildren>1||!X.children[Rt])return(0,et._)(new d.vHH(4e3,!1));X=X.children[Rt]}}applyRedirectCommands(S,w,F){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),S,F)}applyRedirectCreateUrlTree(S,w,F,X){const ye=this.createSegmentGroup(S,w.root,F,X);return new Yt(ye,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(S,w){const F={};return Object.entries(S).forEach(([X,ye])=>{if("string"==typeof ye&&ye.startsWith(":")){const Dt=ye.substring(1);F[X]=w[Dt]}else F[X]=ye}),F}createSegmentGroup(S,w,F,X){const ye=this.createSegments(S,w.segments,F,X);let Te={};return Object.entries(w.children).forEach(([Dt,Cn])=>{Te[Dt]=this.createSegmentGroup(S,Cn,F,X)}),new an(ye,Te)}createSegments(S,w,F,X){return w.map(ye=>ye.path.startsWith(":")?this.findPosParam(S,ye,X):this.findOrReturn(ye,F))}findPosParam(S,w,F){const X=F[w.path.substring(1)];if(!X)throw new d.vHH(4001,!1);return X}findOrReturn(S,w){let F=0;for(const X of w){if(X.path===S.path)return w.splice(F),X;F++}return S}}const wo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rs(x,S,w,F,X){const ye=Cs(x,S,w);return ye.matched?(F=function Ui(x,S){return x.providers&&!x._injector&&(x._injector=(0,d.MMx)(x.providers,S,`Route: ${x.path}`)),x._injector??S}(S,F),function pr(x,S,w,F){const X=S.canMatch;if(!X||0===X.length)return(0,re.of)(!0);const ye=X.map(Te=>{const Dt=qe(Te,x);return ze(function yo(x){return x&&kn(x.canMatch)}(Dt)?Dt.canMatch(S,w):x.runInContext(()=>Dt(S,w)))});return(0,re.of)(ye).pipe(ne(),Lr())}(F,S,w).pipe((0,Ce.U)(Te=>!0===Te?ye:{...wo}))):(0,re.of)(ye)}function Cs(x,S,w){if(""===S.path)return"full"===S.pathMatch&&(x.hasChildren()||w.length>0)?{...wo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const X=(S.matcher||Et)(w,x,S);if(!X)return{...wo};const ye={};Object.entries(X.posParams??{}).forEach(([Dt,Cn])=>{ye[Dt]=Cn.path});const Te=X.consumed.length>0?{...ye,...X.consumed[X.consumed.length-1].parameters}:ye;return{matched:!0,consumedSegments:X.consumed,remainingSegments:w.slice(X.consumed.length),parameters:Te,positionalParamSegments:X.posParams??{}}}function vs(x,S,w,F){return w.length>0&&function ca(x,S,w){return w.some(F=>ro(x,S,F)&&Ki(F)!==Rt)}(x,w,F)?{segmentGroup:new an(S,aa(F,new an(w,x.children))),slicedSegments:[]}:0===w.length&&function Ta(x,S,w){return w.some(F=>ro(x,S,F))}(x,w,F)?{segmentGroup:new an(x.segments,Ls(x,0,w,F,x.children)),slicedSegments:w}:{segmentGroup:new an(x.segments,x.children),slicedSegments:w}}function Ls(x,S,w,F,X){const ye={};for(const Te of F)if(ro(x,w,Te)&&!X[Ki(Te)]){const Dt=new an([],{});ye[Ki(Te)]=Dt}return{...X,...ye}}function aa(x,S){const w={};w[Rt]=S;for(const F of x)if(""===F.path&&Ki(F)!==Rt){const X=new an([],{});w[Ki(F)]=X}return w}function ro(x,S,w){return(!(x.hasChildren()||S.length>0)||"full"!==w.pathMatch)&&""===w.path}class js{constructor(S,w,F,X,ye,Te,Dt){this.injector=S,this.configLoader=w,this.rootComponentType=F,this.config=X,this.urlTree=ye,this.paramsInheritanceStrategy=Te,this.urlSerializer=Dt,this.allowRedirects=!0,this.applyRedirects=new Fr(this.urlSerializer,this.urlTree)}noMatchError(S){return new d.vHH(4002,!1)}recognize(){const S=vs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Rt).pipe((0,yn.K)(w=>{if(w instanceof gr)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof Hi?this.noMatchError(w):w}),(0,Ce.U)(w=>{const F=new Nr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,{}),X=new mt(F,w),ye=new hr("",X),Te=function we(x,S,w=null,F=null){return Bt(vt(x),S,w,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,ye.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(ye._root),{state:ye,tree:Te}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Rt).pipe((0,yn.K)(F=>{throw F instanceof Hi?this.noMatchError(F):F}))}inheritParamsAndData(S){const w=S.value,F=si(w,this.paramsInheritanceStrategy);w.params=Object.freeze(F.params),w.data=Object.freeze(F.data),S.children.forEach(X=>this.inheritParamsAndData(X))}processSegmentGroup(S,w,F,X){return 0===F.segments.length&&F.hasChildren()?this.processChildren(S,w,F):this.processSegment(S,w,F,F.segments,X,!0)}processChildren(S,w,F){const X=[];for(const ye of Object.keys(F.children))"primary"===ye?X.unshift(ye):X.push(ye);return(0,Ee.D)(X).pipe((0,Ze.b)(ye=>{const Te=F.children[ye],Dt=function br(x,S){const w=x.filter(F=>Ki(F)===S);return w.push(...x.filter(F=>Ki(F)!==S)),w}(w,ye);return this.processSegmentGroup(S,Dt,Te,ye)}),(0,Rn.R)((ye,Te)=>(ye.push(...Te),ye)),(0,_t.d)(null),function Jt(x,S){const w=arguments.length>=2;return F=>F.pipe(x?(0,Z.h)((X,ye)=>x(X,ye,F)):Vt.y,gt(1),w?(0,_t.d)(S):(0,Lt.T)(()=>new De.K))}(),(0,Ke.z)(ye=>{if(null===ye)return Si(F);const Te=ya(ye);return function la(x){x.sort((S,w)=>S.value.outlet===Rt?-1:w.value.outlet===Rt?1:S.value.outlet.localeCompare(w.value.outlet))}(Te),(0,re.of)(Te)}))}processSegment(S,w,F,X,ye,Te){return(0,Ee.D)(w).pipe((0,Ze.b)(Dt=>this.processSegmentAgainstRoute(Dt._injector??S,w,Dt,F,X,ye,Te).pipe((0,yn.K)(Cn=>{if(Cn instanceof Hi)return(0,re.of)(null);throw Cn}))),(0,Le.P)(Dt=>!!Dt),(0,yn.K)(Dt=>{if(v(Dt))return function Oo(x,S,w){return 0===S.length&&!x.children[w]}(F,X,ye)?(0,re.of)([]):Si(F);throw Dt}))}processSegmentAgainstRoute(S,w,F,X,ye,Te,Dt){return function wc(x,S,w,F){return!!(Ki(x)===F||F!==Rt&&ro(S,w,x))&&("**"===x.path||Cs(S,x,w).matched)}(F,X,ye,Te)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(S,X,F,ye,Te,Dt):Dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,X,w,F,ye,Te):Si(X):Si(X)}expandSegmentAgainstRouteUsingRedirect(S,w,F,X,ye,Te){return"**"===X.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,F,X,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(S,w,F,X,ye,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,w,F,X){const ye=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?ko(ye):this.applyRedirects.lineralizeSegments(F,ye).pipe((0,Ke.z)(Te=>{const Dt=new an(Te,{});return this.processSegment(S,w,Dt,Te,X,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,w,F,X,ye,Te){const{matched:Dt,consumedSegments:Cn,remainingSegments:ai,positionalParamSegments:Vn}=Cs(w,X,ye);if(!Dt)return Si(w);const zi=this.applyRedirects.applyRedirectCommands(Cn,X.redirectTo,Vn);return X.redirectTo.startsWith("/")?ko(zi):this.applyRedirects.lineralizeSegments(X,zi).pipe((0,Ke.z)(Br=>this.processSegment(S,F,w,Br.concat(ai),Te,!1)))}matchSegmentAgainstRoute(S,w,F,X,ye,Te){let Dt;if("**"===F.path){const Cn=X.length>0?dt(X).parameters:{},ai=new Nr(X,Cn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ma(F),Ki(F),F.component??F._loadedComponent??null,F,ea(F));Dt=(0,re.of)({snapshot:ai,consumedSegments:[],remainingSegments:[]}),w.children={}}else Dt=rs(w,F,X,S).pipe((0,Ce.U)(({matched:Cn,consumedSegments:ai,remainingSegments:Vn,parameters:zi})=>Cn?{snapshot:new Nr(ai,zi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ma(F),Ki(F),F.component??F._loadedComponent??null,F,ea(F)),consumedSegments:ai,remainingSegments:Vn}:null));return Dt.pipe((0,ge.w)(Cn=>null===Cn?Si(w):this.getChildConfig(S=F._injector??S,F,X).pipe((0,ge.w)(({routes:ai})=>{const Vn=F._loadedInjector??S,{snapshot:zi,consumedSegments:Br,remainingSegments:Ms}=Cn,{segmentGroup:ds,slicedSegments:Ss}=vs(w,Br,Ms,ai);if(0===Ss.length&&ds.hasChildren())return this.processChildren(Vn,ai,ds).pipe((0,Ce.U)(ws=>null===ws?null:[new mt(zi,ws)]));if(0===ai.length&&0===Ss.length)return(0,re.of)([new mt(zi,[])]);const Gt=Ki(F)===ye;return this.processSegment(Vn,ai,ds,Ss,Gt?Rt:ye,!0).pipe((0,Ce.U)(ws=>[new mt(zi,ws)]))}))))}getChildConfig(S,w,F){return w.children?(0,re.of)({routes:w.children,injector:S}):w.loadChildren?void 0!==w._loadedRoutes?(0,re.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function fr(x,S,w,F){const X=S.canLoad;if(void 0===X||0===X.length)return(0,re.of)(!0);const ye=X.map(Te=>{const Dt=qe(Te,x);return ze(function yr(x){return x&&kn(x.canLoad)}(Dt)?Dt.canLoad(S,w):x.runInContext(()=>Dt(S,w)))});return(0,re.of)(ye).pipe(ne(),Lr())}(S,w,F).pipe((0,Ke.z)(X=>X?this.configLoader.loadChildren(S,w).pipe((0,xt.b)(ye=>{w._loadedRoutes=ye.routes,w._loadedInjector=ye.injector})):function Pr(x){return(0,et._)(Li(!1,3))}())):(0,re.of)({routes:[],injector:S})}}function Js(x){const S=x.value.routeConfig;return S&&""===S.path}function ya(x){const S=[],w=new Set;for(const F of x){if(!Js(F)){S.push(F);continue}const X=S.find(ye=>F.value.routeConfig===ye.value.routeConfig);void 0!==X?(X.children.push(...F.children),w.add(X)):S.push(F)}for(const F of w){const X=ya(F.children);S.push(new mt(F.value,X))}return S.filter(F=>!w.has(F))}function Ma(x){return x.data||{}}function ea(x){return x.resolve||{}}function as(x){return"string"==typeof x.title||null===x.title}function rr(x){return(0,ge.w)(S=>{const w=x(S);return w?(0,Ee.D)(w).pipe((0,Ce.U)(()=>S)):(0,re.of)(S)})}const xo=new d.OlP("ROUTES");let Zs=(()=>{class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,re.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const F=ze(w.loadComponent()).pipe((0,Ce.U)(ua),(0,xt.b)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ye}),(0,un.x)(()=>{this.componentLoaders.delete(w)})),X=new ke(F,()=>new wt.x).pipe(Ue());return this.componentLoaders.set(w,X),X}loadChildren(w,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,re.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ye=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Ce.U)(Dt=>{this.onLoadEndListener&&this.onLoadEndListener(F);let Cn,ai;return Array.isArray(Dt)?ai=Dt:(Cn=Dt.create(w).injector,ai=Cn.get(xo,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:ai.map(Bo),injector:Cn}}),(0,un.x)(()=>{this.childrenLoaders.delete(F)})),Te=new ke(ye,()=>new wt.x).pipe(Ue());return this.childrenLoaders.set(F,Te),Te}loadModuleFactoryOrRoutes(w){return ze(w()).pipe((0,Ce.U)(ua),(0,Ke.z)(F=>F instanceof d.YKP||Array.isArray(F)?(0,re.of)(F):(0,Ee.D)(this.compiler.compileModuleAsync(F))))}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function ua(x){return function Ri(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let P=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new wt.x,this.configLoader=(0,d.f3M)(Zs),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Hn),this.rootContexts=(0,d.f3M)(zr),this.inputBindingEnabled=null!==(0,d.f3M)(po,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,re.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=X=>this.events.next(new Go(X)),this.configLoader.onLoadStartListener=X=>this.events.next(new _s(X))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:F})}setupNavigations(w){return this.transitions=new K.X({id:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ar,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Z.h)(F=>0!==F.id),(0,Ce.U)(F=>({...F,extractedUrl:w.urlHandlingStrategy.extract(F.rawUrl)})),(0,ge.w)(F=>{let X=!1,ye=!1;return(0,re.of)(F).pipe((0,xt.b)(Te=>{this.currentNavigation={id:Te.id,initialUrl:Te.rawUrl,extractedUrl:Te.extractedUrl,trigger:Te.source,extras:Te.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ge.w)(Te=>{const Dt=w.browserUrlTree.toString(),Cn=!w.navigated||Te.extractedUrl.toString()!==Dt||Dt!==w.currentUrlTree.toString();if(!Cn&&"reload"!==(Te.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Vn="";return this.events.next(new fo(Te.id,w.serializeUrl(F.rawUrl),Vn,0)),w.rawUrlTree=Te.rawUrl,Te.resolve(null),Ve.E}if(w.urlHandlingStrategy.shouldProcessUrl(Te.rawUrl))return J(Te.source)&&(w.browserUrlTree=Te.extractedUrl),(0,re.of)(Te).pipe((0,ge.w)(Vn=>{const zi=this.transitions?.getValue();return this.events.next(new ao(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),Vn.source,Vn.restoredState)),zi!==this.transitions?.getValue()?Ve.E:Promise.resolve(Vn)}),function da(x,S,w,F,X,ye){return(0,Ke.z)(Te=>function ba(x,S,w,F,X,ye,Te="emptyOnly"){return new js(x,S,w,F,X,Te,ye).recognize()}(x,S,w,F,Te.extractedUrl,X,ye).pipe((0,Ce.U)(({state:Dt,tree:Cn})=>({...Te,targetSnapshot:Dt,urlAfterRedirects:Cn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,xt.b)(Vn=>{if(F.targetSnapshot=Vn.targetSnapshot,F.urlAfterRedirects=Vn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Vn.urlAfterRedirects},"eager"===w.urlUpdateStrategy){if(!Vn.extras.skipLocationChange){const Br=w.urlHandlingStrategy.merge(Vn.urlAfterRedirects,Vn.rawUrl);w.setBrowserUrl(Br,Vn)}w.browserUrlTree=Vn.urlAfterRedirects}const zi=new dr(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot);this.events.next(zi)}));if(Cn&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:Vn,extractedUrl:zi,source:Br,restoredState:Ms,extras:ds}=Te,Ss=new ao(Vn,this.urlSerializer.serialize(zi),Br,Ms);this.events.next(Ss);const Gt=pn(0,this.rootComponentType).snapshot;return F={...Te,targetSnapshot:Gt,urlAfterRedirects:zi,extras:{...ds,skipLocationChange:!1,replaceUrl:!1}},(0,re.of)(F)}{const Vn="";return this.events.next(new fo(Te.id,w.serializeUrl(F.extractedUrl),Vn,1)),w.rawUrlTree=Te.rawUrl,Te.resolve(null),Ve.E}}),(0,xt.b)(Te=>{const Dt=new Hr(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Dt)}),(0,Ce.U)(Te=>F={...Te,guards:Xs(Te.targetSnapshot,Te.currentSnapshot,this.rootContexts)}),function Me(x,S){return(0,Ke.z)(w=>{const{targetSnapshot:F,currentSnapshot:X,guards:{canActivateChecks:ye,canDeactivateChecks:Te}}=w;return 0===Te.length&&0===ye.length?(0,re.of)({...w,guardsResult:!0}):function ft(x,S,w,F){return(0,Ee.D)(x).pipe((0,Ke.z)(X=>function Oi(x,S,w,F,X){const ye=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ye||0===ye.length)return(0,re.of)(!0);const Te=ye.map(Dt=>{const Cn=ho(S)??X,ai=qe(Dt,Cn);return ze(function mr(x){return x&&kn(x.canDeactivate)}(ai)?ai.canDeactivate(x,S,w,F):Cn.runInContext(()=>ai(x,S,w,F))).pipe((0,Le.P)())});return(0,re.of)(Te).pipe(ne())}(X.component,X.route,w,S,F)),(0,Le.P)(X=>!0!==X,!0))}(Te,F,X,x).pipe((0,Ke.z)(Dt=>Dt&&function Bi(x){return"boolean"==typeof x}(Dt)?function jt(x,S,w,F){return(0,Ee.D)(S).pipe((0,Ze.b)(X=>(0,oe.z)(function Zn(x,S){return null!==x&&S&&S(new no(x)),(0,re.of)(!0)}(X.route.parent,F),function Mn(x,S){return null!==x&&S&&S(new Xo(x)),(0,re.of)(!0)}(X.route,F),function Ei(x,S,w){const F=S[S.length-1],ye=S.slice(0,S.length-1).reverse().map(Te=>function Ns(x){const S=x.routeConfig?x.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:x,guards:S}:null}(Te)).filter(Te=>null!==Te).map(Te=>(0,ue.P)(()=>{const Dt=Te.guards.map(Cn=>{const ai=ho(Te.node)??w,Vn=qe(Cn,ai);return ze(function go(x){return x&&kn(x.canActivateChild)}(Vn)?Vn.canActivateChild(F,x):ai.runInContext(()=>Vn(F,x))).pipe((0,Le.P)())});return(0,re.of)(Dt).pipe(ne())}));return(0,re.of)(ye).pipe(ne())}(x,X.path,w),function $n(x,S,w){const F=S.routeConfig?S.routeConfig.canActivate:null;if(!F||0===F.length)return(0,re.of)(!0);const X=F.map(ye=>(0,ue.P)(()=>{const Te=ho(S)??w,Dt=qe(ye,Te);return ze(function Wr(x){return x&&kn(x.canActivate)}(Dt)?Dt.canActivate(S,x):Te.runInContext(()=>Dt(S,x))).pipe((0,Le.P)())}));return(0,re.of)(X).pipe(ne())}(x,X.route,w))),(0,Le.P)(X=>!0!==X,!0))}(F,ye,x,S):(0,re.of)(Dt)),(0,Ce.U)(Dt=>({...w,guardsResult:Dt})))})}(this.environmentInjector,Te=>this.events.next(Te)),(0,xt.b)(Te=>{if(F.guardsResult=Te.guardsResult,Y(Te.guardsResult))throw Ps(0,Te.guardsResult);const Dt=new to(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot,!!Te.guardsResult);this.events.next(Dt)}),(0,Z.h)(Te=>!!Te.guardsResult||(w.restoreHistory(Te),this.cancelNavigationTransition(Te,"",3),!1)),rr(Te=>{if(Te.guards.canActivateChecks.length)return(0,re.of)(Te).pipe((0,xt.b)(Dt=>{const Cn=new Do(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(Cn)}),(0,ge.w)(Dt=>{let Cn=!1;return(0,re.of)(Dt).pipe(function Ra(x,S){return(0,Ke.z)(w=>{const{targetSnapshot:F,guards:{canActivateChecks:X}}=w;if(!X.length)return(0,re.of)(w);let ye=0;return(0,Ee.D)(X).pipe((0,Ze.b)(Te=>function Ks(x,S,w,F){const X=x.routeConfig,ye=x._resolve;return void 0!==X?.title&&!as(X)&&(ye[Ye]=X.title),function os(x,S,w,F){const X=function ss(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===X.length)return(0,re.of)({});const ye={};return(0,Ee.D)(X).pipe((0,Ke.z)(Te=>function Ko(x,S,w,F){const X=ho(S)??F,ye=qe(x,X);return ze(ye.resolve?ye.resolve(S,w):X.runInContext(()=>ye(S,w)))}(x[Te],S,w,F).pipe((0,Le.P)(),(0,xt.b)(Dt=>{ye[Te]=Dt}))),gt(1),(0,Qt.h)(ye),(0,yn.K)(Te=>v(Te)?Ve.E:(0,et._)(Te)))}(ye,x,S,F).pipe((0,Ce.U)(Te=>(x._resolvedData=Te,x.data=si(x,w).resolve,X&&as(X)&&(x.data[Ye]=X.title),null)))}(Te.route,F,x,S)),(0,xt.b)(()=>ye++),gt(1),(0,Ke.z)(Te=>ye===X.length?(0,re.of)(w):Ve.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,xt.b)({next:()=>Cn=!0,complete:()=>{Cn||(w.restoreHistory(Dt),this.cancelNavigationTransition(Dt,"",2))}}))}),(0,xt.b)(Dt=>{const Cn=new Vs(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(Cn)}))}),rr(Te=>{const Dt=Cn=>{const ai=[];Cn.routeConfig?.loadComponent&&!Cn.routeConfig._loadedComponent&&ai.push(this.configLoader.loadComponent(Cn.routeConfig).pipe((0,xt.b)(Vn=>{Cn.component=Vn}),(0,Ce.U)(()=>{})));for(const Vn of Cn.children)ai.push(...Dt(Vn));return ai};return(0,ve.a)(Dt(Te.targetSnapshot.root)).pipe((0,_t.d)(),(0,Ae.q)(1))}),rr(()=>this.afterPreactivation()),(0,Ce.U)(Te=>{const Dt=function Zi(x,S,w){const F=Lo(x,S._root,w?w._root:void 0);return new sn(F,S)}(w.routeReuseStrategy,Te.targetSnapshot,Te.currentRouterState);return F={...Te,targetRouterState:Dt}}),(0,xt.b)(Te=>{w.currentUrlTree=Te.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(Te.urlAfterRedirects,Te.rawUrl),w.routerState=Te.targetRouterState,"deferred"===w.urlUpdateStrategy&&(Te.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,Te),w.browserUrlTree=Te.urlAfterRedirects)}),((x,S,w,F)=>(0,Ce.U)(X=>(new Xi(S,X.targetRouterState,X.currentRouterState,w,F).activate(x),X)))(this.rootContexts,w.routeReuseStrategy,Te=>this.events.next(Te),this.inputBindingEnabled),(0,Ae.q)(1),(0,xt.b)({next:Te=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new wi(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),w.titleStrategy?.updateTitle(Te.targetRouterState.snapshot),Te.resolve(!0)},complete:()=>{X=!0}}),(0,un.x)(()=>{X||ye||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),(0,yn.K)(Te=>{if(ye=!0,Es(Te)){ir(Te)||(w.navigated=!0,w.restoreHistory(F,!0));const Dt=new $o(F.id,this.urlSerializer.serialize(F.extractedUrl),Te.message,Te.cancellationCode);if(this.events.next(Dt),ir(Te)){const Cn=w.urlHandlingStrategy.merge(Te.url,w.rawUrlTree),ai={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||J(F.source)};w.scheduleNavigation(Cn,Ar,null,ai,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{w.restoreHistory(F,!0);const Dt=new eo(F.id,this.urlSerializer.serialize(F.extractedUrl),Te,F.targetSnapshot??void 0);this.events.next(Dt);try{F.resolve(w.errorHandler(Te))}catch(Cn){F.reject(Cn)}}return Ve.E}))}))}cancelNavigationTransition(w,F,X){const ye=new $o(w.id,this.urlSerializer.serialize(w.extractedUrl),F,X);this.events.next(ye),w.resolve(!1)}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function J(x){return x!==Ar}let B=(()=>{class x{buildTitle(w){let F,X=w.root;for(;void 0!==X;)F=this.getResolvedTitleForRoute(X)??F,X=X.children.find(ye=>ye.outlet===Rt);return F}getResolvedTitleForRoute(w){return w.data[Ye]}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:function(){return(0,d.f3M)(pe)},providedIn:"root"}),x})(),pe=(()=>{class x extends B{constructor(w){super(),this.title=w}updateTitle(w){const F=this.buildTitle(w);void 0!==F&&this.title.setTitle(F)}}return x.\u0275fac=function(w){return new(w||x)(d.LFG(on.Dx))},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Xe=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:function(){return(0,d.f3M)(fn)},providedIn:"root"}),x})();class en{shouldDetach(S){return!1}store(S,w){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,w){return S.routeConfig===w.routeConfig}}let fn=(()=>{class x extends en{}return x.\u0275fac=function(){let S;return function(F){return(S||(S=d.n5z(x)))(F||x)}}(),x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Qn=new d.OlP("",{providedIn:"root",factory:()=>({})});let Gi=(()=>{class x{}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:function(){return(0,d.f3M)(Ai)},providedIn:"root"}),x})(),Ai=(()=>{class x{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,F){return w}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();var Ci=(()=>((Ci=Ci||{})[Ci.COMPLETE=0]="COMPLETE",Ci[Ci.FAILED=1]="FAILED",Ci[Ci.REDIRECTING=2]="REDIRECTING",Ci))();function Di(x,S){x.events.pipe((0,Z.h)(w=>w instanceof wi||w instanceof $o||w instanceof eo||w instanceof fo),(0,Ce.U)(w=>w instanceof wi||w instanceof fo?Ci.COMPLETE:w instanceof $o&&(0===w.code||1===w.code)?Ci.REDIRECTING:Ci.FAILED),(0,Z.h)(w=>w!==Ci.REDIRECTING),(0,Ae.q)(1)).subscribe(()=>{S()})}function Ji(x){throw x}function Gn(x,S,w){return S.parse("/")}const Kr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Qn,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Ji,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Gn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Gi),this.routeReuseStrategy=(0,d.f3M)(Xe),this.titleStrategy=(0,d.f3M)(B),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(xo,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(P),this.urlSerializer=(0,d.f3M)(Hn),this.location=(0,d.f3M)(he.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(po,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId??0},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ar,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const F="popstate"===w.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,F,w.state)},0)}))}navigateToSyncWithBrowser(w,F,X){const ye={replaceUrl:!0},Te=X?.navigationId?X:null;if(X){const Cn={...X};delete Cn.navigationId,delete Cn.\u0275routerPageId,0!==Object.keys(Cn).length&&(ye.state=Cn)}const Dt=this.parseUrl(w);this.scheduleNavigation(Dt,F,Te,ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Bo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,F={}){const{relativeTo:X,queryParams:ye,fragment:Te,queryParamsHandling:Dt,preserveFragment:Cn}=F,ai=Cn?this.currentUrlTree.fragment:Te;let zi,Vn=null;switch(Dt){case"merge":Vn={...this.currentUrlTree.queryParams,...ye};break;case"preserve":Vn=this.currentUrlTree.queryParams;break;default:Vn=ye||null}null!==Vn&&(Vn=this.removeEmptyProps(Vn));try{zi=vt(X?X.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),zi=this.currentUrlTree.root}return Bt(zi,w,Vn,ai??null)}navigateByUrl(w,F={skipLocationChange:!1}){const X=Y(w)?w:this.parseUrl(w),ye=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(ye,Ar,null,F)}navigate(w,F={skipLocationChange:!1}){return function wa(x){for(let S=0;S<x.length;S++)if(null==x[S])throw new d.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,F),F)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let F;try{F=this.urlSerializer.parse(w)}catch(X){F=this.malformedUriErrorHandler(X,this.urlSerializer,w)}return F}isActive(w,F){let X;if(X=!0===F?{...Kr}:!1===F?{...bs}:F,Y(w))return mn(this.currentUrlTree,w,X);const ye=this.parseUrl(w);return mn(this.currentUrlTree,ye,X)}removeEmptyProps(w){return Object.keys(w).reduce((F,X)=>{const ye=w[X];return null!=ye&&(F[X]=ye),F},{})}scheduleNavigation(w,F,X,ye,Te){if(this.disposed)return Promise.resolve(!1);let Dt,Cn,ai;Te?(Dt=Te.resolve,Cn=Te.reject,ai=Te.promise):ai=new Promise((zi,Br)=>{Dt=zi,Cn=Br});const Vn=this.pendingTasks.add();return Di(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Vn))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:ye,resolve:Dt,reject:Cn,promise:ai,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ai.catch(zi=>Promise.reject(zi))}setBrowserUrl(w,F){const X=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(X)||F.extras.replaceUrl){const Te={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(X,"",Te)}else{const ye={...F.extras.state,...this.generateNgRouterState(F.id,(this.browserPageId??0)+1)};this.location.go(X,"",ye)}}restoreHistory(w,F=!1){if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ye?this.location.historyGo(ye):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ye&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,F){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:F}:{navigationId:w}}}return x.\u0275fac=function(w){return new(w||x)},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class ys{}let xc=(()=>{class x{constructor(w,F,X,ye,Te){this.router=w,this.injector=X,this.preloadingStrategy=ye,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,Z.h)(w=>w instanceof wi),(0,Ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,F){const X=[];for(const ye of F){ye.providers&&!ye._injector&&(ye._injector=(0,d.MMx)(ye.providers,w,`Route: ${ye.path}`));const Te=ye._injector??w,Dt=ye._loadedInjector??Te;(ye.loadChildren&&!ye._loadedRoutes&&void 0===ye.canLoad||ye.loadComponent&&!ye._loadedComponent)&&X.push(this.preloadConfig(Te,ye)),(ye.children||ye._loadedRoutes)&&X.push(this.processRoutes(Dt,ye.children??ye._loadedRoutes))}return(0,Ee.D)(X).pipe((0,_n.J)())}preloadConfig(w,F){return this.preloadingStrategy.preload(F,()=>{let X;X=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(w,F):(0,re.of)(null);const ye=X.pipe((0,Ke.z)(Te=>null===Te?(0,re.of)(void 0):(F._loadedRoutes=Te.routes,F._loadedInjector=Te.injector,this.processRoutes(Te.injector??w,Te.routes))));if(F.loadComponent&&!F._loadedComponent){const Te=this.loader.loadComponent(F);return(0,Ee.D)([ye,Te]).pipe((0,_n.J)())}return ye})}}return x.\u0275fac=function(w){return new(w||x)(d.LFG(Zr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(ys),d.LFG(Zs))},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Ec=new d.OlP("");let In=(()=>{class x{constructor(w,F,X,ye,Te={}){this.urlSerializer=w,this.transitions=F,this.viewportScroller=X,this.zone=ye,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration=Te.scrollPositionRestoration||"disabled",Te.anchorScrolling=Te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof ao?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof wi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof fo&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof gi&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gi(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return x.\u0275fac=function(w){d.$Z()},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac}),x})();function ls(x,S){return{\u0275kind:x,\u0275providers:S}}function wr(){const x=(0,d.f3M)(d.zs3);return S=>{const w=x.get(d.z2F);if(S!==w.components[0])return;const F=x.get(Zr),X=x.get(Is);1===x.get(qr)&&F.initialNavigation(),x.get(Un,null,d.XFs.Optional)?.setUpPreloading(),x.get(Ec,null,d.XFs.Optional)?.init(),F.resetRootComponentType(w.componentTypes[0]),X.closed||(X.next(),X.complete(),X.unsubscribe())}}const Is=new d.OlP("",{factory:()=>new wt.x}),qr=new d.OlP("",{providedIn:"root",factory:()=>1}),Un=new d.OlP("");function nn(x){return ls(0,[{provide:Un,useExisting:xc},{provide:ys,useExisting:x}])}const xa=new d.OlP("ROUTER_FORROOT_GUARD"),Sa=[he.Ye,{provide:Hn,useClass:je},Zr,zr,{provide:Nn,useFactory:function _o(x){return x.routerState.root},deps:[Zr]},Zs,[]];function cc(){return new d.PXZ("Router",Zr)}let Fa=(()=>{class x{constructor(w){}static forRoot(w,F){return{ngModule:x,providers:[Sa,[],{provide:xo,multi:!0,useValue:w},{provide:xa,useFactory:T,deps:[[Zr,new d.FiY,new d.tp0]]},{provide:Qn,useValue:F||{}},F?.useHash?{provide:he.S$,useClass:he.Do}:{provide:he.S$,useClass:he.b0},{provide:Ec,useFactory:()=>{const x=(0,d.f3M)(he.EM),S=(0,d.f3M)(d.R0b),w=(0,d.f3M)(Qn),F=(0,d.f3M)(P),X=(0,d.f3M)(Hn);return w.scrollOffset&&x.setOffset(w.scrollOffset),new In(X,F,x,S,w)}},F?.preloadingStrategy?nn(F.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:cc},F?.initialNavigation?j(F):[],F?.bindToComponentInputs?ls(8,[Rr,{provide:po,useExisting:Rr}]).\u0275providers:[],[{provide:me,useFactory:wr},{provide:d.tb,multi:!0,useExisting:me}]]}}static forChild(w){return{ngModule:x,providers:[{provide:xo,multi:!0,useValue:w}]}}}return x.\u0275fac=function(w){return new(w||x)(d.LFG(xa,8))},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({}),x})();function T(x){return"guarded"}function j(x){return["disabled"===x.initialNavigation?ls(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const S=(0,d.f3M)(Zr);return()=>{S.setUpLocationChangeListener()}}},{provide:qr,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?ls(2,[{provide:qr,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:S=>{const w=S.get(he.V_,Promise.resolve());return()=>w.then(()=>new Promise(F=>{const X=S.get(Zr),ye=S.get(Is);Di(X,()=>{F(!0)}),S.get(P).afterPreactivation=()=>(F(!0),ye.closed?(0,re.of)(void 0):ye),X.initialNavigation()}))}}]).\u0275providers:[]]}const me=new d.OlP("")},3942:(vn,it,E)=>{E.d(it,{Z:()=>lt});var d=E(2090),C=E(4859),m=E(6881),ee=E(1877);class Ee{constructor(Je,Ue){this._delegate=Je,this.firebase=Ue,(0,m._addComponent)(Je,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,m.deleteApp)(this._delegate)))}_getService(Je,Ue=m._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(Je);return!wt.isInitialized()&&"EXPLICIT"===(null===(ke=wt.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:Ue})}_removeServiceInstance(Je,Ue=m._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(Ue)}_addComponent(Je){(0,m._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,m._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const K=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function De(){const Qe=function ve(Qe){const Je={},Ue={__esModule:!0,initializeApp:function he(Ge,Z={}){const Ke=m.initializeApp(Ge,Z);if((0,d.r3)(Je,Ke.name))return Je[Ke.name];const Le=new Qe(Ke,Ue);return Je[Ke.name]=Le,Le},app:wt,registerVersion:m.registerVersion,setLogLevel:m.setLogLevel,onLog:m.onLog,apps:null,SDK_VERSION:m.SDK_VERSION,INTERNAL:{registerComponent:function ge(Ge){const Z=Ge.name,Ke=Z.replace("-compat","");if(m._registerComponent(Ge)&&"PUBLIC"===Ge.type){const Le=(Ze=wt())=>{if("function"!=typeof Ze[Ke])throw K.create("invalid-app-argument",{appName:Z});return Ze[Ke]()};void 0!==Ge.serviceProps&&(0,d.ZB)(Le,Ge.serviceProps),Ue[Ke]=Le,Qe.prototype[Ke]=function(...Ze){return this._getService.bind(this,Z).apply(this,Ge.multipleInstances?Ze:[])}}return"PUBLIC"===Ge.type?Ue[Ke]:null},removeApp:function ke(Ge){delete Je[Ge]},useAsService:function Ae(Ge,Z){return"serverAuth"===Z?null:Z},modularAPIs:m}};function wt(Ge){if(!(0,d.r3)(Je,Ge=Ge||m._DEFAULT_ENTRY_NAME))throw K.create("no-app",{appName:Ge});return Je[Ge]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function Ce(){return Object.keys(Je).map(Ge=>Je[Ge])}}),wt.App=Qe,Ue}(Ee);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function Je(Ue){(0,d.ZB)(Qe,Ue)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Qe}(),ue=new ee.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=oe;!function Ve(Qe){(0,m.registerVersion)("@firebase/app-compat","0.2.12",Qe)}()},6881:(vn,it,E)=>{E.r(it),E.d(it,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>fi,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>Kn,_addOrOverwriteComponent:()=>oi,_apps:()=>Yt,_clearComponents:()=>je,_components:()=>an,_getProvider:()=>cn,_registerComponent:()=>Dn,_removeServiceInstance:()=>Hn,deleteApp:()=>nt,getApp:()=>yi,getApps:()=>qt,initializeApp:()=>ei,onLog:()=>Fe,registerVersion:()=>He,setLogLevel:()=>Se});var d=E(5861),C=E(4859),m=E(1877),ee=E(2090);const Ee=(Ft,Tt)=>Tt.some(xn=>Ft instanceof xn);let re,K;const oe=new WeakMap,ue=new WeakMap,fe=new WeakMap,et=new WeakMap,Ve=new WeakMap;let Je={get(Ft,Tt,xn){if(Ft instanceof IDBTransaction){if("done"===Tt)return ue.get(Ft);if("objectStoreNames"===Tt)return Ft.objectStoreNames||fe.get(Ft);if("store"===Tt)return xn.objectStoreNames[1]?void 0:xn.objectStore(xn.objectStoreNames[0])}return he(Ft[Tt])},set:(Ft,Tt,xn)=>(Ft[Tt]=xn,!0),has:(Ft,Tt)=>Ft instanceof IDBTransaction&&("done"===Tt||"store"===Tt)||Tt in Ft};function wt(Ft){return"function"==typeof Ft?function ke(Ft){return Ft!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ft)?function(...Tt){return Ft.apply(Ce(this),Tt),he(oe.get(this))}:function(...Tt){return he(Ft.apply(Ce(this),Tt))}:function(Tt,...xn){const Xn=Ft.call(Ce(this),Tt,...xn);return fe.set(Xn,Tt.sort?Tt.sort():[Tt]),he(Xn)}}(Ft):(Ft instanceof IDBTransaction&&function Qe(Ft){if(ue.has(Ft))return;const Tt=new Promise((xn,Xn)=>{const Pn=()=>{Ft.removeEventListener("complete",zn),Ft.removeEventListener("error",pi),Ft.removeEventListener("abort",pi)},zn=()=>{xn(),Pn()},pi=()=>{Xn(Ft.error||new DOMException("AbortError","AbortError")),Pn()};Ft.addEventListener("complete",zn),Ft.addEventListener("error",pi),Ft.addEventListener("abort",pi)});ue.set(Ft,Tt)}(Ft),Ee(Ft,function ve(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ft,Je):Ft)}function he(Ft){if(Ft instanceof IDBRequest)return function lt(Ft){const Tt=new Promise((xn,Xn)=>{const Pn=()=>{Ft.removeEventListener("success",zn),Ft.removeEventListener("error",pi)},zn=()=>{xn(he(Ft.result)),Pn()},pi=()=>{Xn(Ft.error),Pn()};Ft.addEventListener("success",zn),Ft.addEventListener("error",pi)});return Tt.then(xn=>{xn instanceof IDBCursor&&oe.set(xn,Ft)}).catch(()=>{}),Ve.set(Tt,Ft),Tt}(Ft);if(et.has(Ft))return et.get(Ft);const Tt=wt(Ft);return Tt!==Ft&&(et.set(Ft,Tt),Ve.set(Tt,Ft)),Tt}const Ce=Ft=>Ve.get(Ft),Ge=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],Ke=new Map;function Le(Ft,Tt){if(!(Ft instanceof IDBDatabase)||Tt in Ft||"string"!=typeof Tt)return;if(Ke.get(Tt))return Ke.get(Tt);const xn=Tt.replace(/FromIndex$/,""),Xn=Tt!==xn,Pn=Z.includes(xn);if(!(xn in(Xn?IDBIndex:IDBObjectStore).prototype)||!Pn&&!Ge.includes(xn))return;const zn=function(){var pi=(0,d.Z)(function*(nr,...Ti){const Dr=this.transaction(nr,Pn?"readwrite":"readonly");let uo=Dr.store;return Xn&&(uo=uo.index(Ti.shift())),(yield Promise.all([uo[xn](...Ti),Pn&&Dr.done]))[0]});return function(Ti){return pi.apply(this,arguments)}}();return Ke.set(Tt,zn),zn}!function Ue(Ft){Je=Ft(Je)}(Ft=>({...Ft,get:(Tt,xn,Xn)=>Le(Tt,xn)||Ft.get(Tt,xn,Xn),has:(Tt,xn)=>!!Le(Tt,xn)||Ft.has(Tt,xn)}));class Ze{constructor(Tt){this.container=Tt}getPlatformInfoString(){return this.container.getProviders().map(xn=>{if(function xt(Ft){const Tt=Ft.getComponent();return"VERSION"===Tt?.type}(xn)){const Xn=xn.getImmediate();return`${Xn.library}/${Xn.version}`}return null}).filter(xn=>xn).join(" ")}}const yn="@firebase/app",_t=new m.Yd("@firebase/app"),ut="[DEFAULT]",kt={[yn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,an=new Map;function Kn(Ft,Tt){try{Ft.container.addComponent(Tt)}catch(xn){_t.debug(`Component ${Tt.name} failed to register with FirebaseApp ${Ft.name}`,xn)}}function oi(Ft,Tt){Ft.container.addOrOverwriteComponent(Tt)}function Dn(Ft){const Tt=Ft.name;if(an.has(Tt))return _t.debug(`There were multiple attempts to register component ${Tt}.`),!1;an.set(Tt,Ft);for(const xn of Yt.values())Kn(xn,Ft);return!0}function cn(Ft,Tt){const xn=Ft.container.getProvider("heartbeat").getImmediate({optional:!0});return xn&&xn.triggerHeartbeat(),Ft.container.getProvider(Tt)}function Hn(Ft,Tt,xn=ut){cn(Ft,Tt).clearInstance(xn)}function je(){an.clear()}const Wt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class An{constructor(Tt,xn,Xn){this._isDeleted=!1,this._options=Object.assign({},Tt),this._config=Object.assign({},xn),this._name=xn.name,this._automaticDataCollectionEnabled=xn.automaticDataCollectionEnabled,this._container=Xn,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Tt){this._isDeleted=Tt}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const fi="9.22.2";function ei(Ft,Tt={}){let xn=Ft;"object"!=typeof Tt&&(Tt={name:Tt});const Xn=Object.assign({name:ut,automaticDataCollectionEnabled:!1},Tt),Pn=Xn.name;if("string"!=typeof Pn||!Pn)throw Wt.create("bad-app-name",{appName:String(Pn)});if(xn||(xn=(0,ee.aH)()),!xn)throw Wt.create("no-options");const zn=Yt.get(Pn);if(zn){if((0,ee.vZ)(xn,zn.options)&&(0,ee.vZ)(Xn,zn.config))return zn;throw Wt.create("duplicate-app",{appName:Pn})}const pi=new C.H0(Pn);for(const Ti of an.values())pi.addComponent(Ti);const nr=new An(xn,Xn,pi);return Yt.set(Pn,nr),nr}function yi(Ft=ut){const Tt=Yt.get(Ft);if(!Tt&&Ft===ut&&(0,ee.aH)())return ei();if(!Tt)throw Wt.create("no-app",{appName:Ft});return Tt}function qt(){return Array.from(Yt.values())}function nt(Ft){return ct.apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(Ft){const Tt=Ft.name;Yt.has(Tt)&&(Yt.delete(Tt),yield Promise.all(Ft.container.getProviders().map(xn=>xn.delete())),Ft.isDeleted=!0)})).apply(this,arguments)}function He(Ft,Tt,xn){var Xn;let Pn=null!==(Xn=kt[Ft])&&void 0!==Xn?Xn:Ft;xn&&(Pn+=`-${xn}`);const zn=Pn.match(/\s|\//),pi=Tt.match(/\s|\//);if(zn||pi){const nr=[`Unable to register library "${Pn}" with version "${Tt}":`];return zn&&nr.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),zn&&pi&&nr.push("and"),pi&&nr.push(`version name "${Tt}" contains illegal characters (whitespace or "/")`),void _t.warn(nr.join(" "))}Dn(new C.wA(`${Pn}-version`,()=>({library:Pn,version:Tt}),"VERSION"))}function Fe(Ft,Tt){if(null!==Ft&&"function"!=typeof Ft)throw Wt.create("invalid-log-argument");(0,m.Am)(Ft,Tt)}function Se(Ft){(0,m.Ub)(Ft)}const Ct="firebase-heartbeat-database",$t=1,Re="firebase-heartbeat-store";let ce=null;function z(){return ce||(ce=function ge(Ft,Tt,{blocked:xn,upgrade:Xn,blocking:Pn,terminated:zn}={}){const pi=indexedDB.open(Ft,Tt),nr=he(pi);return Xn&&pi.addEventListener("upgradeneeded",Ti=>{Xn(he(pi.result),Ti.oldVersion,Ti.newVersion,he(pi.transaction),Ti)}),xn&&pi.addEventListener("blocked",Ti=>xn(Ti.oldVersion,Ti.newVersion,Ti)),nr.then(Ti=>{zn&&Ti.addEventListener("close",()=>zn()),Pn&&Ti.addEventListener("versionchange",Dr=>Pn(Dr.oldVersion,Dr.newVersion,Dr))}).catch(()=>{}),nr}(Ct,$t,{upgrade:(Ft,Tt)=>{0===Tt&&Ft.createObjectStore(Re)}}).catch(Ft=>{throw Wt.create("idb-open",{originalErrorMessage:Ft.message})})),ce}function $(){return($=(0,d.Z)(function*(Ft){try{return yield(yield z()).transaction(Re).objectStore(Re).get(xe(Ft))}catch(Tt){if(Tt instanceof ee.ZR)_t.warn(Tt.message);else{const xn=Wt.create("idb-get",{originalErrorMessage:Tt?.message});_t.warn(xn.message)}}})).apply(this,arguments)}function le(Ft,Tt){return ae.apply(this,arguments)}function ae(){return(ae=(0,d.Z)(function*(Ft,Tt){try{const Xn=(yield z()).transaction(Re,"readwrite");yield Xn.objectStore(Re).put(Tt,xe(Ft)),yield Xn.done}catch(xn){if(xn instanceof ee.ZR)_t.warn(xn.message);else{const Xn=Wt.create("idb-set",{originalErrorMessage:xn?.message});_t.warn(Xn.message)}}})).apply(this,arguments)}function xe(Ft){return`${Ft.name}!${Ft.options.appId}`}class Y{constructor(Tt){this.container=Tt,this._heartbeatsCache=null;const xn=this.container.getProvider("app").getImmediate();this._storage=new Bt(xn),this._heartbeatsCachePromise=this._storage.read().then(Xn=>(this._heartbeatsCache=Xn,Xn))}triggerHeartbeat(){var Tt=this;return(0,d.Z)(function*(){const Xn=Tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pn=we();if(null===Tt._heartbeatsCache&&(Tt._heartbeatsCache=yield Tt._heartbeatsCachePromise),Tt._heartbeatsCache.lastSentHeartbeatDate!==Pn&&!Tt._heartbeatsCache.heartbeats.some(zn=>zn.date===Pn))return Tt._heartbeatsCache.heartbeats.push({date:Pn,agent:Xn}),Tt._heartbeatsCache.heartbeats=Tt._heartbeatsCache.heartbeats.filter(zn=>{const pi=new Date(zn.date).valueOf();return Date.now()-pi<=2592e6}),Tt._storage.overwrite(Tt._heartbeatsCache)})()}getHeartbeatsHeader(){var Tt=this;return(0,d.Z)(function*(){if(null===Tt._heartbeatsCache&&(yield Tt._heartbeatsCachePromise),null===Tt._heartbeatsCache||0===Tt._heartbeatsCache.heartbeats.length)return"";const xn=we(),{heartbeatsToSend:Xn,unsentEntries:Pn}=function vt(Ft,Tt=1024){const xn=[];let Xn=Ft.slice();for(const Pn of Ft){const zn=xn.find(pi=>pi.agent===Pn.agent);if(zn){if(zn.dates.push(Pn.date),qn(xn)>Tt){zn.dates.pop();break}}else if(xn.push({agent:Pn.agent,dates:[Pn.date]}),qn(xn)>Tt){xn.pop();break}Xn=Xn.slice(1)}return{heartbeatsToSend:xn,unsentEntries:Xn}}(Tt._heartbeatsCache.heartbeats),zn=(0,ee.L)(JSON.stringify({version:2,heartbeats:Xn}));return Tt._heartbeatsCache.lastSentHeartbeatDate=xn,Pn.length>0?(Tt._heartbeatsCache.heartbeats=Pn,yield Tt._storage.overwrite(Tt._heartbeatsCache)):(Tt._heartbeatsCache.heartbeats=[],Tt._storage.overwrite(Tt._heartbeatsCache)),zn})()}}function we(){return(new Date).toISOString().substring(0,10)}class Bt{constructor(Tt){this.app=Tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Tt=this;return(0,d.Z)(function*(){return(yield Tt._canUseIndexedDBPromise)&&(yield function U(Ft){return $.apply(this,arguments)}(Tt.app))||{heartbeats:[]}})()}overwrite(Tt){var xn=this;return(0,d.Z)(function*(){var Xn;if(yield xn._canUseIndexedDBPromise){const zn=yield xn.read();return le(xn.app,{lastSentHeartbeatDate:null!==(Xn=Tt.lastSentHeartbeatDate)&&void 0!==Xn?Xn:zn.lastSentHeartbeatDate,heartbeats:Tt.heartbeats})}})()}add(Tt){var xn=this;return(0,d.Z)(function*(){var Xn;if(yield xn._canUseIndexedDBPromise){const zn=yield xn.read();return le(xn.app,{lastSentHeartbeatDate:null!==(Xn=Tt.lastSentHeartbeatDate)&&void 0!==Xn?Xn:zn.lastSentHeartbeatDate,heartbeats:[...zn.heartbeats,...Tt.heartbeats]})}})()}}function qn(Ft){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Ft})).length}!function ri(Ft){Dn(new C.wA("platform-logger",Tt=>new Ze(Tt),"PRIVATE")),Dn(new C.wA("heartbeat",Tt=>new Y(Tt),"PRIVATE")),He(yn,"0.9.12",Ft),He(yn,"0.9.12","esm2017"),He("fire-js","")}("")},4859:(vn,it,E)=>{E.d(it,{H0:()=>ve,wA:()=>m});var d=E(5861),C=E(2090);class m{constructor(oe,ue,fe){this.name=oe,this.instanceFactory=ue,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const ee="[DEFAULT]";class Ee{constructor(oe,ue){this.name=oe,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const ue=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(ue)){const fe=new C.BH;if(this.instancesDeferred.set(ue,fe),this.isInitialized(ue)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:ue});et&&fe.resolve(et)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(oe){var ue;const fe=this.normalizeInstanceIdentifier(oe?.identifier),et=null!==(ue=oe?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(Ve){if(et)return null;throw Ve}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function K(De){return"EAGER"===De.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[ue,fe]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(ue);try{const Ve=this.getOrInitializeService({instanceIdentifier:et});fe.resolve(Ve)}catch{}}}}clearInstance(oe=ee){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,d.Z)(function*(){const ue=Array.from(oe.instances.values());yield Promise.all([...ue.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...ue.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=ee){return this.instances.has(oe)}getOptions(oe=ee){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:ue={}}=oe,fe=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:fe,options:ue});for(const[Ve,lt]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(Ve)&&lt.resolve(et);return et}onInit(oe,ue){var fe;const et=this.normalizeInstanceIdentifier(ue),Ve=null!==(fe=this.onInitCallbacks.get(et))&&void 0!==fe?fe:new Set;Ve.add(oe),this.onInitCallbacks.set(et,Ve);const lt=this.instances.get(et);return lt&&oe(lt,et),()=>{Ve.delete(oe)}}invokeOnInitCallbacks(oe,ue){const fe=this.onInitCallbacks.get(ue);if(fe)for(const et of fe)try{et(oe,ue)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:ue={}}){let fe=this.instances.get(oe);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(De=oe,De===ee?void 0:De),options:ue}),this.instances.set(oe,fe),this.instancesOptions.set(oe,ue),this.invokeOnInitCallbacks(fe,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,fe)}catch{}var De;return fe||null}normalizeInstanceIdentifier(oe=ee){return this.component?this.component.multipleInstances?oe:ee:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const ue=this.getProvider(oe.name);if(ue.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);ue.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const ue=new Ee(oe,this);return this.providers.set(oe,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(vn,it,E)=>{E.d(it,{Am:()=>De,Ub:()=>ve,Yd:()=>K,in:()=>C});const d=[];var C=(()=>((C=C||{})[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT",C))();const m={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},ee=C.INFO,Ee={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},re=(oe,ue,...fe)=>{if(ue<oe.logLevel)return;const et=(new Date).toISOString(),Ve=Ee[ue];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Ve](`[${et}]  ${oe.name}:`,...fe)};class K{constructor(ue){this.name=ue,this._logLevel=ee,this._logHandler=re,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in C))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?m[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...ue),this._logHandler(this,C.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...ue),this._logHandler(this,C.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,C.INFO,...ue),this._logHandler(this,C.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,C.WARN,...ue),this._logHandler(this,C.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...ue),this._logHandler(this,C.ERROR,...ue)}}function ve(oe){d.forEach(ue=>{ue.setLogLevel(oe)})}function De(oe,ue){for(const fe of d){let et=null;ue&&ue.level&&(et=m[ue.level]),fe.userLogHandler=null===oe?null:(Ve,lt,...Qe)=>{const Je=Qe.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");lt>=(et??Ve.logLevel)&&oe({level:C[lt].toLowerCase(),message:Je,args:Qe,type:Ve.name})}}}},259:(vn,it,E)=>{E.d(it,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=E(6881);(0,d.registerVersion)("firebase","9.22.2","app")},9260:(vn,it,E)=>{E.d(it,{Z:()=>d.Z});var d=E(3942);d.Z.registerVersion("firebase","9.22.2","app-compat")},9568:(vn,it,E)=>{E.r(it);var d=E(5861),C=E(3942),m=E(1389),ee=E(2090),K=(E(6881),E(1877),E(4859));function ve(){return window}function ue(){return ue=(0,d.Z)(function*(z,U,$){var le;const{BuildInfo:ae}=ve();(0,m.as)(U.sessionId,"AuthEvent did not contain a session ID");const xe=yield function Ue(z){return ke.apply(this,arguments)}(U.sessionId),Oe={};return(0,m.at)()?Oe.ibi=ae.packageName:(0,m.au)()?Oe.apn=ae.packageName:(0,m.av)(z,"operation-not-supported-in-this-environment"),ae.displayName&&(Oe.appDisplayName=ae.displayName),Oe.sessionId=xe,(0,m.aw)(z,$,U.type,void 0,null!==(le=U.eventId)&&void 0!==le?le:void 0,Oe)}),ue.apply(this,arguments)}function et(){return(et=(0,d.Z)(function*(z){const{BuildInfo:U}=ve(),$={};(0,m.at)()?$.iosBundleId=U.packageName:(0,m.au)()?$.androidPackageName=U.packageName:(0,m.av)(z,"operation-not-supported-in-this-environment"),yield(0,m.ax)(z,$)})).apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(z,U,$){const{cordova:le}=ve();let ae=()=>{};try{yield new Promise((xe,Oe)=>{let Pe=null;function Y(){var Bt;xe();const qn=null===(Bt=le.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof qn&&qn(),"function"==typeof $?.close&&$.close()}function we(){Pe||(Pe=window.setTimeout(()=>{Oe((0,m.az)(z,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===document?.visibilityState&&we()}U.addPassiveListener(Y),document.addEventListener("resume",we,!1),(0,m.au)()&&document.addEventListener("visibilitychange",vt,!1),ae=()=>{U.removePassiveListener(Y),document.removeEventListener("resume",we,!1),document.removeEventListener("visibilitychange",vt,!1),Pe&&window.clearTimeout(Pe)}})}finally{ae()}})).apply(this,arguments)}function ke(){return(ke=(0,d.Z)(function*(z){const U=function wt(z){if((0,m.as)(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(z);const U=new ArrayBuffer(z.length),$=new Uint8Array(U);for(let le=0;le<z.length;le++)$[le]=z.charCodeAt(le);return $}(z),$=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array($)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ce extends m.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach($=>$(U)),super.onEvent(U)}initialized(){var U=this;return(0,d.Z)(function*(){yield U.initPromise})()}}function Ge(z){return Z.apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(z){const U=yield Ze()._get(xt(z));return U&&(yield Ze()._remove(xt(z))),U})).apply(this,arguments)}function Le(){const z=[];for(let $=0;$<20;$++){const le=Math.floor(62*Math.random());z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return z.join("")}function Ze(){return(0,m.aC)(m.b)}function xt(z){return(0,m.aD)("authEvent",z.config.apiKey,z.name)}function _t(z){if(!z?.includes("?"))return{};const[U,...$]=z.split("?");return(0,ee.zd)($.join("?"))}const Vt=class Lt{constructor(){this._redirectPersistence=m.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=m.aE,this._overrideRedirectResult=m.aF}_initialize(U){var $=this;return(0,d.Z)(function*(){const le=U._key();let ae=$.eventManagers.get(le);return ae||(ae=new Ce(U),$.eventManagers.set(le,ae),$.attachCallbackListeners(U,ae)),ae})()}_openPopup(U){(0,m.av)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,$,le,ae){var xe=this;return(0,d.Z)(function*(){!function Je(z){var U,$,le,ae,xe,Oe,Pe,Y,we,vt;const Bt=ve();(0,m.aA)("function"==typeof(null===(U=Bt?.universalLinks)||void 0===U?void 0:U.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,m.aA)(typeof(null===($=Bt?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,m.aA)("function"==typeof(null===(xe=null===(ae=null===(le=Bt?.cordova)||void 0===le?void 0:le.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===xe?void 0:xe.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,m.aA)("function"==typeof(null===(Y=null===(Pe=null===(Oe=Bt?.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===Y?void 0:Y.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,m.aA)("function"==typeof(null===(vt=null===(we=Bt?.cordova)||void 0===we?void 0:we.InAppBrowser)||void 0===vt?void 0:vt.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const Oe=yield xe._initialize(U);yield Oe.initialized(),Oe.resetRedirect(),(0,m.aG)(),yield xe._originValidation(U);const Pe=function ge(z,U,$=null){return{type:U,eventId:$,urlResponse:null,sessionId:Le(),postBody:null,tenantId:z.tenantId,error:(0,m.az)(z,"no-auth-event")}}(U,le,ae);yield function Ae(z,U){return Ze()._set(xt(z),U)}(U,Pe);const Y=yield function oe(z,U,$){return ue.apply(this,arguments)}(U,Pe,$),we=yield function Ve(z){const{cordova:U}=ve();return new Promise($=>{U.plugins.browsertab.isAvailable(le=>{let ae=null;le?U.plugins.browsertab.openUrl(z):ae=U.InAppBrowser.open(z,(0,m.ay)()?"_blank":"_system","location=yes"),$(ae)})})}(Y);return function lt(z,U,$){return Qe.apply(this,arguments)}(U,Oe,we)})()}_isIframeWebStorageSupported(U,$){throw new Error("Method not implemented.")}_originValidation(U){const $=U._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function fe(z){return et.apply(this,arguments)}(U)),this.originValidationPromises[$]}attachCallbackListeners(U,$){const{universalLinks:le,handleOpenURL:ae,BuildInfo:xe}=ve(),Oe=setTimeout((0,d.Z)(function*(){yield Ge(U),$.onEvent(Jt())}),500),Pe=function(){var vt=(0,d.Z)(function*(Bt){clearTimeout(Oe);const qn=yield Ge(U);let ri=null;qn&&Bt?.url&&(ri=function Ke(z,U){var $,le;const ae=function Rn(z){const U=_t(z),$=U.link?decodeURIComponent(U.link):void 0,le=_t($).link,ae=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return _t(ae).link||ae||le||$||z}(U);if(ae.includes("/__/auth/callback")){const xe=_t(ae),Oe=xe.firebaseError?function yn(z){try{return JSON.parse(z)}catch{return null}}(decodeURIComponent(xe.firebaseError)):null,Pe=null===(le=null===($=Oe?.code)||void 0===$?void 0:$.split("auth/"))||void 0===le?void 0:le[1],Y=Pe?(0,m.az)(Pe):null;return Y?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:Y,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:ae,postBody:null}}return null}(qn,Bt.url)),$.onEvent(ri||Jt())});return function(qn){return vt.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,Pe);const Y=ae,we=`${xe.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var vt=(0,d.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(we)&&Pe({url:Bt}),"function"==typeof Y)try{Y(Bt)}catch(qn){console.error(qn)}});return function(Bt){return vt.apply(this,arguments)}}()}};function Jt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,m.az)("no-auth-event")}}function Rt(){var z;return(null===(z=self?.location)||void 0===z?void 0:z.protocol)||null}function tt(z=(0,ee.z$)()){return!("file:"!==Rt()&&"ionic:"!==Rt()&&"capacitor:"!==Rt()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function At(){try{const z=self.localStorage,U=m.aL();if(z)return z.setItem(U,"1"),z.removeItem(U),!function St(z=(0,ee.z$)()){return function Et(){return(0,ee.w1)()&&11===document?.documentMode}()||function zt(z=(0,ee.z$)()){return/Edge\/\d+/.test(z)}(z)}()||(0,ee.hl)()}catch{return dt()&&(0,ee.hl)()}return!1}function dt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ze(){return(function Ye(){return"http:"===Rt()||"https:"===Rt()}()||(0,ee.ru)()||tt())&&!function Nt(){return(0,ee.b$)()||(0,ee.UG)()}()&&At()&&!dt()}function Zt(){return tt()&&typeof document<"u"}function mn(){return(mn=(0,d.Z)(function*(){return!!Zt()&&new Promise(z=>{const U=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),z(!0)})})})).apply(this,arguments)}const de={LOCAL:"local",NONE:"none",SESSION:"session"},Ne=m.aA,ht="persistence";function kt(z){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(z){yield z._initializationPromise;const U=Kn(),$=m.aD(ht,z.config.apiKey,z.name);U&&U.setItem($,z._getPersistence())})).apply(this,arguments)}function Kn(){var z;try{return(null===(z=function Mt(){return typeof window<"u"?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch{return null}}const oi=m.aA;class Dn{constructor(){this.browserResolver=m.aC(m.k),this.cordovaResolver=m.aC(Vt),this.underlyingResolver=null,this._redirectPersistence=m.a,this._completeRedirectFn=m.aE,this._overrideRedirectResult=m.aF}_initialize(U){var $=this;return(0,d.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,$,le,ae){var xe=this;return(0,d.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openPopup(U,$,le,ae)})()}_openRedirect(U,$,le,ae){var xe=this;return(0,d.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openRedirect(U,$,le,ae)})()}_isIframeWebStorageSupported(U,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,$)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return Zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,d.Z)(function*(){if(U.underlyingResolver)return;const $=yield function bn(){return mn.apply(this,arguments)}();U.underlyingResolver=$?U.cordovaResolver:U.browserResolver})()}}function cn(z){return z.unwrap()}function je(z){return Wt(z)}function Wt(z){const{_tokenResponse:U}=z instanceof ee.ZR?z.customData:z;if(!U)return null;if(!(z instanceof ee.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return m.P.credentialFromResult(z);const $=U.providerId;if(!$||$===m.p.PASSWORD)return null;let le;switch($){case m.p.GOOGLE:le=m.V;break;case m.p.FACEBOOK:le=m.U;break;case m.p.GITHUB:le=m.W;break;case m.p.TWITTER:le=m.Z;break;default:const{oauthIdToken:ae,oauthAccessToken:xe,oauthTokenSecret:Oe,pendingToken:Pe,nonce:Y}=U;return xe||Oe||ae||Pe?Pe?$.startsWith("saml.")?m.aO._create($,Pe):m.L._fromParams({providerId:$,signInMethod:$,pendingToken:Pe,idToken:ae,accessToken:xe}):new m.X($).credential({idToken:ae,accessToken:xe,rawNonce:Y}):null}return z instanceof ee.ZR?le.credentialFromError(z):le.credentialFromResult(z)}function An(z,U){return U.catch($=>{throw $ instanceof ee.ZR&&function It(z,U){var $;const le=null===($=U.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===U?.code)U.resolver=new yi(z,m.aq(z,U));else if(le){const ae=Wt(U),xe=U;ae&&(xe.credential=ae,xe.tenantId=le.tenantId||void 0,xe.email=le.email||void 0,xe.phoneNumber=le.phoneNumber||void 0)}}(z,$),$}).then($=>{const ae=$.user;return{operationType:$.operationType,credential:je($),additionalUserInfo:m.ao($),user:qt.getOrCreate(ae)}})}function fi(z,U){return ei.apply(this,arguments)}function ei(){return(ei=(0,d.Z)(function*(z,U){const $=yield U;return{verificationId:$.verificationId,confirm:le=>An(z,$.confirm(le))}})).apply(this,arguments)}class yi{constructor(U,$){this.resolver=$,this.auth=function Hn(z){return z.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return An(cn(this.auth),this.resolver.resolveSignIn(U))}}class qt{constructor(U){this._delegate=U,this.multiFactor=m.ar(U)}static getOrCreate(U){return qt.USER_MAP.has(U)||qt.USER_MAP.set(U,new qt(U)),qt.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var $=this;return(0,d.Z)(function*(){return An($.auth,m.a0($._delegate,U))})()}linkWithPhoneNumber(U,$){var le=this;return(0,d.Z)(function*(){return fi(le.auth,m.l(le._delegate,U,$))})()}linkWithPopup(U){var $=this;return(0,d.Z)(function*(){return An($.auth,m.d($._delegate,U,Dn))})()}linkWithRedirect(U){var $=this;return(0,d.Z)(function*(){return yield kt(m.aH($.auth)),m.g($._delegate,U,Dn)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var $=this;return(0,d.Z)(function*(){return An($.auth,m.a1($._delegate,U))})()}reauthenticateWithPhoneNumber(U,$){return fi(this.auth,m.r(this._delegate,U,$))}reauthenticateWithPopup(U){return An(this.auth,m.e(this._delegate,U,Dn))}reauthenticateWithRedirect(U){var $=this;return(0,d.Z)(function*(){return yield kt(m.aH($.auth)),m.h($._delegate,U,Dn)})()}sendEmailVerification(U){return m.ae(this._delegate,U)}unlink(U){var $=this;return(0,d.Z)(function*(){return yield m.an($._delegate,U),$})()}updateEmail(U){return m.aj(this._delegate,U)}updatePassword(U){return m.ak(this._delegate,U)}updatePhoneNumber(U){return m.u(this._delegate,U)}updateProfile(U){return m.ai(this._delegate,U)}verifyBeforeUpdateEmail(U,$){return m.af(this._delegate,U,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qt.USER_MAP=new WeakMap;const nt=m.aA;let ct=(()=>{class z{constructor($,le){if(this.app=$,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=$.options;nt(ae,"invalid-api-key",{appName:$.name}),nt(ae,"invalid-api-key",{appName:$.name});const xe=typeof window<"u"?Dn:void 0;this._delegate=le.initialize({options:{persistence:Fe(ae,$.name),popupRedirectResolver:xe}}),this._delegate._updateErrorMap(m.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,le){m.I(this._delegate,$,le)}applyActionCode($){return m.a5(this._delegate,$)}checkActionCode($){return m.a6(this._delegate,$)}confirmPasswordReset($,le){return m.a4(this._delegate,$,le)}createUserWithEmailAndPassword($,le){var ae=this;return(0,d.Z)(function*(){return An(ae._delegate,m.a8(ae._delegate,$,le))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return m.ad(this._delegate,$)}isSignInWithEmailLink($){return m.ab(this._delegate,$)}getRedirectResult(){var $=this;return(0,d.Z)(function*(){nt(ze(),$._delegate,"operation-not-supported-in-this-environment");const le=yield m.j($._delegate,Dn);return le?An($._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Qt(z,U){(0,m.aH)(z)._logFramework(U)}(this._delegate,$)}onAuthStateChanged($,le,ae){const{next:xe,error:Oe,complete:Pe}=He($,le,ae);return this._delegate.onAuthStateChanged(xe,Oe,Pe)}onIdTokenChanged($,le,ae){const{next:xe,error:Oe,complete:Pe}=He($,le,ae);return this._delegate.onIdTokenChanged(xe,Oe,Pe)}sendSignInLinkToEmail($,le){return m.aa(this._delegate,$,le)}sendPasswordResetEmail($,le){return m.a3(this._delegate,$,le||void 0)}setPersistence($){var le=this;return(0,d.Z)(function*(){let ae;switch(function ut(z,U){Ne(Object.values(de).includes(U),z,"invalid-persistence-type"),(0,ee.b$)()?Ne(U!==de.SESSION,z,"unsupported-persistence-type"):(0,ee.UG)()?Ne(U===de.NONE,z,"unsupported-persistence-type"):dt()?Ne(U===de.NONE||U===de.LOCAL&&(0,ee.hl)(),z,"unsupported-persistence-type"):Ne(U===de.NONE||At(),z,"unsupported-persistence-type")}(le._delegate,$),$){case de.SESSION:ae=m.a;break;case de.LOCAL:ae=(yield m.aC(m.i)._isAvailable())?m.i:m.b;break;case de.NONE:ae=m.N;break;default:return m.av("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return An(this._delegate,m._(this._delegate))}signInWithCredential($){return An(this._delegate,m.$(this._delegate,$))}signInWithCustomToken($){return An(this._delegate,m.a2(this._delegate,$))}signInWithEmailAndPassword($,le){return An(this._delegate,m.a9(this._delegate,$,le))}signInWithEmailLink($,le){return An(this._delegate,m.ac(this._delegate,$,le))}signInWithPhoneNumber($,le){return fi(this._delegate,m.s(this._delegate,$,le))}signInWithPopup($){var le=this;return(0,d.Z)(function*(){return nt(ze(),le._delegate,"operation-not-supported-in-this-environment"),An(le._delegate,m.c(le._delegate,$,Dn))})()}signInWithRedirect($){var le=this;return(0,d.Z)(function*(){return nt(ze(),le._delegate,"operation-not-supported-in-this-environment"),yield kt(le._delegate),m.f(le._delegate,$,Dn)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return m.a7(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=de,z})();function He(z,U,$){let le=z;"function"!=typeof z&&({next:le,error:U,complete:$}=z);const ae=le;return{next:Oe=>ae(Oe&&qt.getOrCreate(Oe)),error:U,complete:$}}function Fe(z,U){const $=function an(z,U){const $=Kn();if(!$)return[];const le=m.aD(ht,z,U);switch($.getItem(le)){case de.NONE:return[m.N];case de.LOCAL:return[m.i,m.a];case de.SESSION:return[m.a];default:return[]}}(z,U);if(typeof self<"u"&&!$.includes(m.i)&&$.push(m.i),typeof window<"u")for(const le of[m.b,m.a])$.includes(le)||$.push(le);return $.includes(m.N)||$.push(m.N),$}class Se{constructor(){this.providerId="phone",this._delegate=new m.P(cn(C.Z.auth()))}static credential(U,$){return m.P.credential(U,$)}verifyPhoneNumber(U,$){return this._delegate.verifyPhoneNumber(U,$)}unwrap(){return this._delegate}}Se.PHONE_SIGN_IN_METHOD=m.P.PHONE_SIGN_IN_METHOD,Se.PROVIDER_ID=m.P.PROVIDER_ID;const Ct=m.aA;class $t{constructor(U,$,le=C.Z.app()){var ae;Ct(null===(ae=le.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new m.R(U,$,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce(z){z.INTERNAL.registerComponent(new K.wA("auth-compat",U=>{const $=U.getProvider("app-compat").getImmediate(),le=U.getProvider("auth");return new ct($,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:m.A.EMAIL_SIGNIN,PASSWORD_RESET:m.A.PASSWORD_RESET,RECOVER_EMAIL:m.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:m.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:m.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:m.A.VERIFY_EMAIL}},EmailAuthProvider:m.Q,FacebookAuthProvider:m.U,GithubAuthProvider:m.W,GoogleAuthProvider:m.V,OAuthProvider:m.X,SAMLAuthProvider:m.Y,PhoneAuthProvider:Se,PhoneMultiFactorGenerator:m.m,RecaptchaVerifier:$t,TwitterAuthProvider:m.Z,Auth:ct,AuthCredential:m.J,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.4.2")}(C.Z)},5861:(vn,it,E)=>{function d(m,ee,Ee,re,K,ve,De){try{var oe=m[ve](De),ue=oe.value}catch(fe){return void Ee(fe)}oe.done?ee(ue):Promise.resolve(ue).then(re,K)}function C(m){return function(){var ee=this,Ee=arguments;return new Promise(function(re,K){var ve=m.apply(ee,Ee);function De(ue){d(ve,re,K,De,oe,"next",ue)}function oe(ue){d(ve,re,K,De,oe,"throw",ue)}De(void 0)})}}E.d(it,{Z:()=>C})},7582:(vn,it,E)=>{function ee(_t,gt){var Lt={};for(var Vt in _t)Object.prototype.hasOwnProperty.call(_t,Vt)&&gt.indexOf(Vt)<0&&(Lt[Vt]=_t[Vt]);if(null!=_t&&"function"==typeof Object.getOwnPropertySymbols){var Jt=0;for(Vt=Object.getOwnPropertySymbols(_t);Jt<Vt.length;Jt++)gt.indexOf(Vt[Jt])<0&&Object.prototype.propertyIsEnumerable.call(_t,Vt[Jt])&&(Lt[Vt[Jt]]=_t[Vt[Jt]])}return Lt}function fe(_t,gt,Lt,Vt){return new(Lt||(Lt=Promise))(function(Qt,un){function _n(Ye){try{Rt(Vt.next(Ye))}catch(tt){un(tt)}}function on(Ye){try{Rt(Vt.throw(Ye))}catch(tt){un(tt)}}function Rt(Ye){Ye.done?Qt(Ye.value):function Jt(Qt){return Qt instanceof Lt?Qt:new Lt(function(un){un(Qt)})}(Ye.value).then(_n,on)}Rt((Vt=Vt.apply(_t,gt||[])).next())})}function he(_t){return this instanceof he?(this.v=_t,this):new he(_t)}function Ce(_t,gt,Lt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Jt,Vt=Lt.apply(_t,gt||[]),Qt=[];return Jt={},un("next"),un("throw"),un("return"),Jt[Symbol.asyncIterator]=function(){return this},Jt;function un(Nt){Vt[Nt]&&(Jt[Nt]=function(Et){return new Promise(function(zt,St){Qt.push([Nt,Et,zt,St])>1||_n(Nt,Et)})})}function _n(Nt,Et){try{!function on(Nt){Nt.value instanceof he?Promise.resolve(Nt.value.v).then(Rt,Ye):tt(Qt[0][2],Nt)}(Vt[Nt](Et))}catch(zt){tt(Qt[0][3],zt)}}function Rt(Nt){_n("next",Nt)}function Ye(Nt){_n("throw",Nt)}function tt(Nt,Et){Nt(Et),Qt.shift(),Qt.length&&_n(Qt[0][0],Qt[0][1])}}function Ae(_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Lt,gt=_t[Symbol.asyncIterator];return gt?gt.call(_t):(_t=function Qe(_t){var gt="function"==typeof Symbol&&Symbol.iterator,Lt=gt&&_t[gt],Vt=0;if(Lt)return Lt.call(_t);if(_t&&"number"==typeof _t.length)return{next:function(){return _t&&Vt>=_t.length&&(_t=void 0),{value:_t&&_t[Vt++],done:!_t}}};throw new TypeError(gt?"Object is not iterable.":"Symbol.iterator is not defined.")}(_t),Lt={},Vt("next"),Vt("throw"),Vt("return"),Lt[Symbol.asyncIterator]=function(){return this},Lt);function Vt(Qt){Lt[Qt]=_t[Qt]&&function(un){return new Promise(function(_n,on){!function Jt(Qt,un,_n,on){Promise.resolve(on).then(function(Rt){Qt({value:Rt,done:_n})},un)}(_n,on,(un=_t[Qt](un)).done,un.value)})}}}E.d(it,{FC:()=>Ce,KL:()=>Ae,_T:()=>ee,mG:()=>fe,qq:()=>he})}},vn=>{vn(vn.s=7655)}]);