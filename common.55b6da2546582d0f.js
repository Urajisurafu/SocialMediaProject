"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[592],{1026:(b,g,i)=>{i.d(g,{t:()=>l});var e=i(4755),u=i(8854),c=i(2223);let l=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[e.ez,u.q,e.ez,u.q]}),a})()},3634:(b,g,i)=>{i.d(g,{u:()=>M});var e=i(2223),u=i(1188),c=i(8099),l=i(5213),a=i(3919),m=i(6286),d=i(4755),_=i(1728),p=i(6012),C=i(430),f=i(2659);let P=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-info-window"]],inputs:{content:"content"},decls:2,vars:1,consts:[[1,"info-window"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",t.content,"\n"))},styles:[".info-window[_ngcontent-%COMP%]{position:absolute;min-width:200px;width:auto;bottom:3em;background-color:#b3b3b3;border-radius:2em;padding:10px;border:2px solid #000000}"]}),o})();function v(o,r){if(1&o&&(e.TgZ(0,"button",18)(1,"mat-icon"),e._uU(2,"menu"),e.qZA()()),2&o){e.oxw();const n=e.MAs(7);e.Q6J("matMenuTriggerFor",n)}}function w(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"button",19)(1,"label",20)(2,"input",21),e.NdJ("change",function(s){e.CHM(n);const h=e.oxw();return e.KtG(h.onFileSelected(s))}),e.qZA(),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()()()}}function I(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.addToFriends())})("mouseenter",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.showInfoWindow())})("mouseleave",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.hideInfoWindow())}),e._uU(1),e.qZA()}if(2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.getIsAwaitingConfirmation?"Send again":"Add as Friend"," ")}}function x(o,r){if(1&o&&e._UZ(0,"app-info-window",23),2&o){const n=e.oxw();e.Q6J("content",n.infoContent)}}function U(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.deleteFriend())}),e._uU(1," Delete from Friends "),e.qZA()}}let M=(()=>{class o{constructor(n,t,s,h){this.mainUserPageService=n,this.userDataService=t,this.dialog=s,this.storageService=h,this.userName="",this.userDescription="",this.userTimestamp="",this.isChangeFriendStatus=new e.vpe,this.infoContent="",this.isInfoWindowVisible=!1,this.backgroundStorage=""}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/home-page.jpg").subscribe(t=>this.backgroundStorage=`url(${t})`)}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe()}getUserImage(){return this.userInfo&&this.userInfo.imageUrl?this.userInfo.imageUrl:""}onFileSelected(n){this.mainUserPageService.uploadUserImage(this.userInfo.userId,n.target.files[0])}addToFriends(){this.friendId&&(this.mainUserPageService.addToFriends(this.friendId),this.isChangeFriendStatus.emit(!0))}deleteFriend(){this.friendId&&(this.mainUserPageService.deleteFriend(this.friendId),this.isChangeFriendStatus.emit(!0))}showInfoWindow(){this.infoContent="You have already sent a friend invite, wait for the user to accept your invite!",this.isInfoWindowVisible=!0}hideInfoWindow(){this.isInfoWindowVisible=!1}ChangeNicknameClick(){this.dialog.open(c.f,{data:{info:"Change Nickname",message:`Your current nickname - ${this.userDataService.userInfo.publicName}`,field:"publicName"}})}ChangeDescriptionClick(){this.dialog.open(c.f,{data:{info:"Change Description",message:`Your current description - ${this.userDataService.userInfo.description}`,field:"description"}})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(l.v),e.Y36(a.M),e.Y36(m.uw),e.Y36(u.V))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-page"]],inputs:{userInfo:"userInfo",userName:"userName",userDescription:"userDescription",userTimestamp:"userTimestamp",userPostsLength:"userPostsLength",userFriendsLength:"userFriendsLength",isFriend:"isFriend",friendId:"friendId",isOwnPage:"isOwnPage",getIsAwaitingConfirmation:"getIsAwaitingConfirmation"},outputs:{isChangeFriendStatus:"isChangeFriendStatus"},decls:30,vars:16,consts:[[1,"user-page"],[1,"user-card"],[1,"user-header"],[1,"user-header-name"],["class","user-header-settings","mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"user-image"],["alt","User photo",1,"avatar",3,"src"],["class","user-image-button","mat-fab","","color","basic",4,"ngIf"],[1,"user-content"],[1,"user-content-description"],[1,"user-content-statistics"],[1,"user-content-statistics-info"],[1,"user-content-button"],["mat-flat-button","","color","primary",3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"content",4,"ngIf"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","",1,"user-header-settings",3,"matMenuTriggerFor"],["mat-fab","","color","basic",1,"user-image-button"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["mat-flat-button","","color","primary",3,"click","mouseenter","mouseleave"],[3,"content"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"div",3),e._uU(4),e.qZA(),e.YNc(5,v,3,1,"button",4),e.TgZ(6,"mat-menu",null,5)(8,"button",6),e.NdJ("click",function(){return t.ChangeNicknameClick()}),e._uU(9," Change nickname "),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return t.ChangeDescriptionClick()}),e._uU(11," Change description "),e.qZA()()(),e.TgZ(12,"div",7),e._UZ(13,"img",8),e.YNc(14,w,5,0,"button",9),e.qZA(),e.TgZ(15,"mat-card-content",10)(16,"div",11),e._uU(17),e.qZA(),e.TgZ(18,"div",12)(19,"div",13),e._uU(20),e.qZA(),e.TgZ(21,"div",13),e._uU(22),e.qZA(),e.TgZ(23,"div",13),e._uU(24),e.ALo(25,"date"),e.qZA()(),e.TgZ(26,"div",14),e.YNc(27,I,2,1,"button",15),e.YNc(28,x,1,1,"app-info-window",16),e.YNc(29,U,2,0,"button",17),e.qZA()()()()),2&n&&(e.Udp("background-image",t.backgroundStorage),e.xp6(4),e.Oqu(t.userName),e.xp6(1),e.Q6J("ngIf",t.isOwnPage),e.xp6(8),e.s9C("src",t.getUserImage(),e.LSH),e.xp6(1),e.Q6J("ngIf",t.isOwnPage),e.xp6(3),e.Oqu(t.userDescription),e.xp6(3),e.hij(" Friends - ",t.userFriendsLength," "),e.xp6(2),e.hij(" Posts - ",t.userPostsLength," "),e.xp6(2),e.hij(" Online since - ",e.xi3(25,13,t.userTimestamp,"MMM d, y")," "),e.xp6(3),e.Q6J("ngIf",!t.isOwnPage&&!t.isFriend),e.xp6(1),e.Q6J("ngIf",t.isInfoWindowVisible&&t.getIsAwaitingConfirmation),e.xp6(1),e.Q6J("ngIf",!t.isOwnPage&&t.isFriend))},dependencies:[d.O5,_.lW,_.cs,p.a8,p.dn,p.dk,C.Hw,f.VK,f.OP,f.p6,P,d.uU],styles:[".user-page[_ngcontent-%COMP%]{padding-top:5em;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:no-repeat center center fixed;background-size:cover}.user-card[_ngcontent-%COMP%]{background-color:#fffc;width:450px;display:flex;align-items:center}.user-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;position:relative}.user-header-name[_ngcontent-%COMP%]{font-weight:700;font-size:30px;text-align:center}.user-header-settings[_ngcontent-%COMP%]{font-size:50px;position:absolute;right:17px}.user-header-settings[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:23px}.user-image[_ngcontent-%COMP%]{display:flex;position:relative}.user-image-button[_ngcontent-%COMP%]{background-color:#fff;position:absolute;bottom:25px;right:5px}.user-image-button[_ngcontent-%COMP%]   #photo-upload[_ngcontent-%COMP%]{display:none}.user-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.user-content-description[_ngcontent-%COMP%]{font-family:Bradley Hand,cursive;color:#fff;padding:10px;border-radius:3em;background-color:#b4b4b4;font-size:24px}.user-content-statistics[_ngcontent-%COMP%]{margin-top:2em;width:100%;display:flex;justify-content:space-around}.user-content-statistics-info[_ngcontent-%COMP%]{color:#fff;padding:10px;border-radius:5em;background-color:#4b3cff}.user-content-button[_ngcontent-%COMP%]{margin:2em 2em 0 0;width:100%;display:flex;justify-content:flex-end}.avatar[_ngcontent-%COMP%]{margin:20px;width:300px;height:300px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}"]}),o})()}}]);