"use strict";(self.webpackChunkSocialMediaProject=self.webpackChunkSocialMediaProject||[]).push([[654],{654:(W,f,r)=>{r.r(f),r.d(f,{FriendsWindowModule:()=>T});var a=r(4755),l=r(3676),v=r(8854),C=r(1188),e=r(2223),F=r(5861),h=r(8970),x=r(3919),w=r(5213),b=r(9744),O=r(1728),u=r(6012),g=r(3617);function I(t,o){1&t&&(e.TgZ(0,"div",7),e._uU(1," Your friends list is empty. "),e.qZA())}const m=function(t,o){return{even:t,odd:o}};function y(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e.NdJ("click",function(){const s=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.goToFriendPageClick(s.userId))}),e._UZ(2,"img",10),e.TgZ(3,"div"),e._uU(4),e.qZA()(),e.TgZ(5,"div",11),e._uU(6),e.qZA(),e.TgZ(7,"div",12)(8,"button",13),e.NdJ("click",function(){const s=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.deleteFriendClick(s.userId))}),e._uU(9," Delete "),e.qZA()()()}if(2&t){const n=o.$implicit,i=o.index;e.Q6J("ngClass",e.WLB(4,m,i%2==0,i%2!=0)),e.xp6(2),e.s9C("src",n.imageUrl,e.LSH),e.xp6(2),e.Oqu(n.publicName),e.xp6(2),e.Oqu(n.description)}}function P(t,o){1&t&&(e.TgZ(0,"div",7),e._uU(1," No one has sent you a friend invite yet. "),e.qZA())}function S(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",8),e._UZ(1,"img",10),e.TgZ(2,"div",14),e._uU(3),e.qZA(),e.TgZ(4,"div",11),e._uU(5,"Wants to add you as a friend."),e.qZA(),e.TgZ(6,"div",12)(7,"button",13),e.NdJ("click",function(){const s=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.addToFriendsClick(s.userId))}),e._uU(8," Add "),e.qZA(),e.TgZ(9,"button",15),e.NdJ("click",function(){const s=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.rejectFriendClick(s.userId))}),e._uU(10," Reject "),e.qZA()()()}if(2&t){const n=o.$implicit,i=o.index;e.Q6J("ngClass",e.WLB(3,m,i%2==0,i%2!=0)),e.xp6(1),e.s9C("src",n.imageUrl,e.LSH),e.xp6(2),e.Oqu(n.publicName)}}const p=function(t){return{"without-invite":t}};let _=(()=>{class t{constructor(n,i,d,s){this.friendsWindowService=n,this.userDataService=i,this.userPageService=d,this.notificationsService=s,this.selectedIndex=0}ngOnInit(){this.delayUntilUserInfo()}ngOnDestroy(){this.yourCurrentFriendsInfo?.unsubscribe(),this.yourNotificationFriends?.unsubscribe()}getListOfFriends(){return this.friendsWindowService.listOfFriends}getListOfNotificationFriends(){return this.friendsWindowService.listOfNotificationFriends}isNoHaveFriends(){if(this.friendsWindowService.listOfNotificationFriends)return this.friendsWindowService.listOfFriends?.length<=0}isNoHaveNotificationFriends(){if(this.friendsWindowService.listOfNotificationFriends)return this.friendsWindowService.listOfNotificationFriends.length<=0}delayUntilUserInfo(){var n=this;return(0,F.Z)(function*(){n.userDataService.userInfo?.userId?(n.yourCurrentFriendsInfo=n.friendsWindowService.getYourCurrentFriendsInfo().subscribe(),n.yourNotificationFriends=n.friendsWindowService.getYourNotificationFriends().subscribe()):(yield new Promise(i=>{setTimeout(i,100)}),yield n.delayUntilUserInfo())})()}deleteFriendClick(n){this.userPageService.deleteFriend(n)}rejectFriendClick(n){const i=this.userDataService.getCurrentUserId();this.userPageService.deleteFriend(n),this.notificationsService.deleteNotificationFriend(i,n)}addToFriendsClick(n){this.userPageService.addToFriends(n)}goToFriendPageClick(n){this.userPageService.goToFriendPage(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.R),e.Y36(x.M),e.Y36(w.v),e.Y36(b.T))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-friends-info-window"]],inputs:{selectedIndex:"selectedIndex"},decls:11,vars:11,consts:[[1,"friends-window"],[1,"friends-group",3,"selectedIndex"],["label","Friends"],[1,"friends-content",3,"ngClass"],["class","friends-content-no-invite",4,"ngIf"],["class","friends-content-item",3,"ngClass",4,"ngFor","ngForOf"],["label","New friends"],[1,"friends-content-no-invite"],[1,"friends-content-item",3,"ngClass"],[1,"item-name",3,"click"],["alt","User photo",1,"item-avatar",3,"src"],[1,"item-text"],[1,"item-buttons"],["mat-flat-button","","color","warn",3,"click"],[1,"item-name"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-tab-group",1)(2,"mat-tab",2)(3,"mat-card-content",3),e.YNc(4,I,2,0,"div",4),e.YNc(5,y,10,7,"div",5),e.qZA()(),e.TgZ(6,"mat-tab",6)(7,"mat-card-content",3),e.YNc(8,P,2,0,"div",4),e.YNc(9,S,11,6,"div",5),e.qZA()()(),e._UZ(10,"router-outlet"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("selectedIndex",i.selectedIndex),e.xp6(2),e.Q6J("ngClass",e.VKq(7,p,i.isNoHaveFriends())),e.xp6(1),e.Q6J("ngIf",i.isNoHaveFriends()),e.xp6(1),e.Q6J("ngForOf",i.getListOfFriends()),e.xp6(2),e.Q6J("ngClass",e.VKq(9,p,i.isNoHaveNotificationFriends())),e.xp6(1),e.Q6J("ngIf",i.isNoHaveNotificationFriends()),e.xp6(1),e.Q6J("ngForOf",i.getListOfNotificationFriends()))},dependencies:[a.mk,a.sg,a.O5,O.lW,u.a8,u.dn,g.uX,g.SP,l.lC],styles:[".friends-window[_ngcontent-%COMP%]{min-width:50vw;max-width:60vw;background-color:#b4b4b4}.friends-group[_ngcontent-%COMP%]{height:100%}.friends-content[_ngcontent-%COMP%]{margin:10px;border-radius:10px;background-color:#fff;min-height:400px}.friends-content-no-invite[_ngcontent-%COMP%]{font-family:Bradley Hand,cursive;display:flex;align-items:center;justify-content:center;font-size:24px}.friends-content-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.friends-content[_ngcontent-%COMP%]   .item-avatar[_ngcontent-%COMP%]{font-size:10px;background-color:#fff;margin:5px 10px 0;width:50px;height:50px;border-radius:50%;border:3px solid #000000;box-shadow:0 0 7px #666;object-fit:cover}.friends-content[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{display:flex;align-items:center;flex-basis:35%;cursor:pointer}.friends-content[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]:hover{color:#f44336}.friends-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]{flex-basis:40%}.friends-content[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{flex-basis:30%;display:flex;justify-content:space-around}.friends-content[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]{background-color:#d3d3d3}.friends-content[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]{background-color:#e5e5e5}.without-invite[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.mat-mdc-card-content[_ngcontent-%COMP%]:last-child{padding:0}"]}),t})(),M=(()=>{class t{constructor(n,i){this.storageService=n,this.route=i,this.selectedIndex=0,this.backgroundStorage="",this.routeParamsSubscription=this.route.params.subscribe(d=>{this.selectedIndex=d.selectedIndex})}ngOnInit(){this.storageSubscription=this.storageService.getDataFromStorage("Background/friends-window.jpg").subscribe(i=>this.backgroundStorage=`url(${i})`)}ngOnDestroy(){this.storageSubscription&&this.storageSubscription.unsubscribe(),this.routeParamsSubscription&&this.routeParamsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C.V),e.Y36(l.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-friends-window"]],decls:2,vars:3,consts:[[1,"friends-window"],[3,"selectedIndex"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-friends-info-window",1),e.qZA()),2&n&&(e.Udp("background-image",i.backgroundStorage),e.xp6(1),e.Q6J("selectedIndex",i.selectedIndex))},dependencies:[_],styles:[".friends-window[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;min-height:100%;background:no-repeat center center fixed;background-size:cover}"]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,v.q,l.Bz.forChild([{path:"",component:M}])]}),t})()}}]);